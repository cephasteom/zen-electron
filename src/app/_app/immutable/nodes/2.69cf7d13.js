var Ta=Object.defineProperty;var Ma=(C,u,n)=>u in C?Ta(C,u,{enumerable:!0,configurable:!0,writable:!0,value:n}):C[u]=n;var Lt=(C,u,n)=>(Ma(C,typeof u!="symbol"?u+"":u,n),n);import{O as get_store_value,S as SvelteComponent,i as init$1,s as safe_not_equal,k as element,a as space,q as text,l as claim_element,m as children,h as detach,c as claim_space,r as claim_text,n as attr,C as null_to_empty,P as toggle_class,b as insert_hydration,D as append_hydration,E as listen,u as set_data,J as noop,G as component_subscribe,o as onMount,Q as onDestroy,H as globals,w as binding_callbacks,R as action_destroyer,T as createEventDispatcher,y as create_component,z as claim_component,A as mount_component,g as transition_in,d as transition_out,B as destroy_component,t as tick,U as destroy_each,e as empty,K as create_slot,V as stop_propagation,L as update_slot_base,M as get_all_dirty_from_scope,N as get_slot_changes,F as run_all,W as bubble,X as set_input_value,Y as bind,Z as add_flush_callback,_ as head_selector,f as check_outros,v as group_outros}from"../chunks/index.618ef35a.js";import{c as commonjsGlobal,g as getAugmentedNamespace,a as getDefaultExportFromCjs}from"../chunks/_commonjsHelpers.23102255.js";import{w as writable$1,d as derived}from"../chunks/index.61b7dc69.js";import{_ as __vitePreload}from"../chunks/preload-helper.a4192956.js";import{I as Icon,b as faStop,c as faPlay,a as faBars,d as faFloppyDisk,e as faCode,g as faChessBoard,h as faGlobe,i as faToggleOff}from"../chunks/index.3f0df59a.js";import{i as isApp,a as initElectronAPI}from"../chunks/index.0f31ef84.js";function _mergeNamespaces(C,u){for(var n=0;n<u.length;n++){const a=u[n];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in C)){const g=Object.getOwnPropertyDescriptor(a,r);g&&Object.defineProperty(C,r,g.get?g:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}))}const prerender=!0,_page=Object.freeze(Object.defineProperty({__proto__:null,prerender},Symbol.toStringTag,{value:"Module"}));function _defineProperty$1(C,u,n){return u in C?Object.defineProperty(C,u,{value:n,enumerable:!0,configurable:!0,writable:!0}):C[u]=n,C}function ownKeys$1(C,u){var n=Object.keys(C);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(C);u&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(C,r).enumerable})),n.push.apply(n,a)}return n}function _objectSpread2$1(C){for(var u=1;u<arguments.length;u++){var n=arguments[u]!=null?arguments[u]:{};u%2?ownKeys$1(Object(n),!0).forEach(function(a){_defineProperty$1(C,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(a){Object.defineProperty(C,a,Object.getOwnPropertyDescriptor(n,a))})}return C}function _objectWithoutPropertiesLoose(C,u){if(C==null)return{};var n={},a=Object.keys(C),r,g;for(g=0;g<a.length;g++)r=a[g],!(u.indexOf(r)>=0)&&(n[r]=C[r]);return n}function _objectWithoutProperties(C,u){if(C==null)return{};var n=_objectWithoutPropertiesLoose(C,u),a,r;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(C);for(r=0;r<g.length;r++)a=g[r],!(u.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(C,a)&&(n[a]=C[a])}return n}function _slicedToArray(C,u){return _arrayWithHoles(C)||_iterableToArrayLimit(C,u)||_unsupportedIterableToArray(C,u)||_nonIterableRest()}function _arrayWithHoles(C){if(Array.isArray(C))return C}function _iterableToArrayLimit(C,u){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(C)))){var n=[],a=!0,r=!1,g=void 0;try{for(var f=C[Symbol.iterator](),m;!(a=(m=f.next()).done)&&(n.push(m.value),!(u&&n.length===u));a=!0);}catch(l){r=!0,g=l}finally{try{!a&&f.return!=null&&f.return()}finally{if(r)throw g}}return n}}function _unsupportedIterableToArray(C,u){if(C){if(typeof C=="string")return _arrayLikeToArray(C,u);var n=Object.prototype.toString.call(C).slice(8,-1);if(n==="Object"&&C.constructor&&(n=C.constructor.name),n==="Map"||n==="Set")return Array.from(C);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(C,u)}}function _arrayLikeToArray(C,u){(u==null||u>C.length)&&(u=C.length);for(var n=0,a=new Array(u);n<u;n++)a[n]=C[n];return a}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _defineProperty(C,u,n){return u in C?Object.defineProperty(C,u,{value:n,enumerable:!0,configurable:!0,writable:!0}):C[u]=n,C}function ownKeys(C,u){var n=Object.keys(C);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(C);u&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(C,r).enumerable})),n.push.apply(n,a)}return n}function _objectSpread2(C){for(var u=1;u<arguments.length;u++){var n=arguments[u]!=null?arguments[u]:{};u%2?ownKeys(Object(n),!0).forEach(function(a){_defineProperty(C,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(a){Object.defineProperty(C,a,Object.getOwnPropertyDescriptor(n,a))})}return C}function compose$1(){for(var C=arguments.length,u=new Array(C),n=0;n<C;n++)u[n]=arguments[n];return function(a){return u.reduceRight(function(r,g){return g(r)},a)}}function curry$1(C){return function u(){for(var n=this,a=arguments.length,r=new Array(a),g=0;g<a;g++)r[g]=arguments[g];return r.length>=C.length?C.apply(this,r):function(){for(var f=arguments.length,m=new Array(f),l=0;l<f;l++)m[l]=arguments[l];return u.apply(n,[].concat(r,m))}}}function isObject$3(C){return{}.toString.call(C).includes("Object")}function isEmpty(C){return!Object.keys(C).length}function isFunction$2(C){return typeof C=="function"}function hasOwnProperty$1(C,u){return Object.prototype.hasOwnProperty.call(C,u)}function validateChanges(C,u){return isObject$3(u)||errorHandler$1("changeType"),Object.keys(u).some(function(n){return!hasOwnProperty$1(C,n)})&&errorHandler$1("changeField"),u}function validateSelector(C){isFunction$2(C)||errorHandler$1("selectorType")}function validateHandler(C){isFunction$2(C)||isObject$3(C)||errorHandler$1("handlerType"),isObject$3(C)&&Object.values(C).some(function(u){return!isFunction$2(u)})&&errorHandler$1("handlersType")}function validateInitial(C){C||errorHandler$1("initialIsRequired"),isObject$3(C)||errorHandler$1("initialType"),isEmpty(C)&&errorHandler$1("initialContent")}function throwError$1(C,u){throw new Error(C[u]||C.default)}var errorMessages$1={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},errorHandler$1=curry$1(throwError$1)(errorMessages$1),validators$1={changes:validateChanges,selector:validateSelector,handler:validateHandler,initial:validateInitial};function create$1(C){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};validators$1.initial(C),validators$1.handler(u);var n={current:C},a=curry$1(didStateUpdate)(n,u),r=curry$1(updateState)(n),g=curry$1(validators$1.changes)(C),f=curry$1(extractChanges)(n);function m(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(S){return S};return validators$1.selector(x),x(n.current)}function l(x){compose$1(a,r,g,f)(x)}return[m,l]}function extractChanges(C,u){return isFunction$2(u)?u(C.current):u}function updateState(C,u){return C.current=_objectSpread2(_objectSpread2({},C.current),u),u}function didStateUpdate(C,u,n){return isFunction$2(u)?u(C.current):Object.keys(n).forEach(function(a){var r;return(r=u[a])===null||r===void 0?void 0:r.call(u,C.current[a])}),n}var index={create:create$1},config$3={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function curry(C){return function u(){for(var n=this,a=arguments.length,r=new Array(a),g=0;g<a;g++)r[g]=arguments[g];return r.length>=C.length?C.apply(this,r):function(){for(var f=arguments.length,m=new Array(f),l=0;l<f;l++)m[l]=arguments[l];return u.apply(n,[].concat(r,m))}}}function isObject$2(C){return{}.toString.call(C).includes("Object")}function validateConfig(C){return C||errorHandler("configIsRequired"),isObject$2(C)||errorHandler("configType"),C.urls?(informAboutDeprecation(),{paths:{vs:C.urls.monacoBase}}):C}function informAboutDeprecation(){console.warn(errorMessages.deprecation)}function throwError(C,u){throw new Error(C[u]||C.default)}var errorMessages={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},errorHandler=curry(throwError)(errorMessages),validators={config:validateConfig},compose=function(){for(var u=arguments.length,n=new Array(u),a=0;a<u;a++)n[a]=arguments[a];return function(r){return n.reduceRight(function(g,f){return f(g)},r)}};function merge(C,u){return Object.keys(u).forEach(function(n){u[n]instanceof Object&&C[n]&&Object.assign(u[n],merge(C[n],u[n]))}),_objectSpread2$1(_objectSpread2$1({},C),u)}var CANCELATION_MESSAGE={type:"cancelation",msg:"operation is manually canceled"};function makeCancelable(C){var u=!1,n=new Promise(function(a,r){C.then(function(g){return u?r(CANCELATION_MESSAGE):a(g)}),C.catch(r)});return n.cancel=function(){return u=!0},n}var _state$create=index.create({config:config$3,isInitialized:!1,resolve:null,reject:null,monaco:null}),_state$create2=_slicedToArray(_state$create,2),getState=_state$create2[0],setState=_state$create2[1];function config$2(C){var u=validators.config(C),n=u.monaco,a=_objectWithoutProperties(u,["monaco"]);setState(function(r){return{config:merge(r.config,a),monaco:n}})}function init(){var C=getState(function(u){var n=u.monaco,a=u.isInitialized,r=u.resolve;return{monaco:n,isInitialized:a,resolve:r}});if(!C.isInitialized){if(setState({isInitialized:!0}),C.monaco)return C.resolve(C.monaco),makeCancelable(wrapperPromise);if(window.monaco&&window.monaco.editor)return storeMonacoInstance(window.monaco),C.resolve(window.monaco),makeCancelable(wrapperPromise);compose(injectScripts,getMonacoLoaderScript)(configureLoader)}return makeCancelable(wrapperPromise)}function injectScripts(C){return document.body.appendChild(C)}function createScript(C){var u=document.createElement("script");return C&&(u.src=C),u}function getMonacoLoaderScript(C){var u=getState(function(a){var r=a.config,g=a.reject;return{config:r,reject:g}}),n=createScript("".concat(u.config.paths.vs,"/loader.js"));return n.onload=function(){return C()},n.onerror=u.reject,n}function configureLoader(){var C=getState(function(n){var a=n.config,r=n.resolve,g=n.reject;return{config:a,resolve:r,reject:g}}),u=window.require;u.config(C.config),u(["vs/editor/editor.main"],function(n){storeMonacoInstance(n),C.resolve(n)},function(n){C.reject(n)})}function storeMonacoInstance(C){getState().monaco||setState({monaco:C})}function __getMonacoInstance(){return getState(function(C){var u=C.monaco;return u})}var wrapperPromise=new Promise(function(C,u){return setState({resolve:C,reject:u})}),loader={config:config$2,init,__getMonacoInstance};const version="14.9.17",createExtendedExponentialRampToValueAutomationEvent=(C,u,n)=>({endTime:u,insertTime:n,type:"exponentialRampToValue",value:C}),createExtendedLinearRampToValueAutomationEvent=(C,u,n)=>({endTime:u,insertTime:n,type:"linearRampToValue",value:C}),createSetValueAutomationEvent=(C,u)=>({startTime:u,type:"setValue",value:C}),createSetValueCurveAutomationEvent=(C,u,n)=>({duration:n,startTime:u,type:"setValueCurve",values:C}),getTargetValueAtTime=(C,u,{startTime:n,target:a,timeConstant:r})=>a+(u-a)*Math.exp((n-C)/r),isExponentialRampToValueAutomationEvent=C=>C.type==="exponentialRampToValue",isLinearRampToValueAutomationEvent=C=>C.type==="linearRampToValue",isAnyRampToValueAutomationEvent=C=>isExponentialRampToValueAutomationEvent(C)||isLinearRampToValueAutomationEvent(C),isSetValueAutomationEvent=C=>C.type==="setValue",isSetValueCurveAutomationEvent=C=>C.type==="setValueCurve",getValueOfAutomationEventAtIndexAtTime=(C,u,n,a)=>{const r=C[u];return r===void 0?a:isAnyRampToValueAutomationEvent(r)||isSetValueAutomationEvent(r)?r.value:isSetValueCurveAutomationEvent(r)?r.values[r.values.length-1]:getTargetValueAtTime(n,getValueOfAutomationEventAtIndexAtTime(C,u-1,r.startTime,a),r)},getEndTimeAndValueOfPreviousAutomationEvent=(C,u,n,a,r)=>n===void 0?[a.insertTime,r]:isAnyRampToValueAutomationEvent(n)?[n.endTime,n.value]:isSetValueAutomationEvent(n)?[n.startTime,n.value]:isSetValueCurveAutomationEvent(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,getValueOfAutomationEventAtIndexAtTime(C,u-1,n.startTime,r)],isCancelAndHoldAutomationEvent=C=>C.type==="cancelAndHold",isCancelScheduledValuesAutomationEvent=C=>C.type==="cancelScheduledValues",getEventTime=C=>isCancelAndHoldAutomationEvent(C)||isCancelScheduledValuesAutomationEvent(C)?C.cancelTime:isExponentialRampToValueAutomationEvent(C)||isLinearRampToValueAutomationEvent(C)?C.endTime:C.startTime,getExponentialRampValueAtTime=(C,u,n,{endTime:a,value:r})=>n===r?r:0<n&&0<r||n<0&&r<0?n*(r/n)**((C-u)/(a-u)):0,getLinearRampValueAtTime=(C,u,n,{endTime:a,value:r})=>n+(C-u)/(a-u)*(r-n),interpolateValue=(C,u)=>{const n=Math.floor(u),a=Math.ceil(u);return n===a?C[n]:(1-(u-n))*C[n]+(1-(a-u))*C[a]},getValueCurveValueAtTime=(C,{duration:u,startTime:n,values:a})=>{const r=(C-n)/u*(a.length-1);return interpolateValue(a,r)},isSetTargetAutomationEvent=C=>C.type==="setTarget";class AutomationEventList{constructor(u){this._automationEvents=[],this._currenTime=0,this._defaultValue=u}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(u){const n=getEventTime(u);if(isCancelAndHoldAutomationEvent(u)||isCancelScheduledValuesAutomationEvent(u)){const a=this._automationEvents.findIndex(g=>isCancelScheduledValuesAutomationEvent(u)&&isSetValueCurveAutomationEvent(g)?g.startTime+g.duration>=n:getEventTime(g)>=n),r=this._automationEvents[a];if(a!==-1&&(this._automationEvents=this._automationEvents.slice(0,a)),isCancelAndHoldAutomationEvent(u)){const g=this._automationEvents[this._automationEvents.length-1];if(r!==void 0&&isAnyRampToValueAutomationEvent(r)){if(g!==void 0&&isSetTargetAutomationEvent(g))throw new Error("The internal list is malformed.");const f=g===void 0?r.insertTime:isSetValueCurveAutomationEvent(g)?g.startTime+g.duration:getEventTime(g),m=g===void 0?this._defaultValue:isSetValueCurveAutomationEvent(g)?g.values[g.values.length-1]:g.value,l=isExponentialRampToValueAutomationEvent(r)?getExponentialRampValueAtTime(n,f,m,r):getLinearRampValueAtTime(n,f,m,r),x=isExponentialRampToValueAutomationEvent(r)?createExtendedExponentialRampToValueAutomationEvent(l,n,this._currenTime):createExtendedLinearRampToValueAutomationEvent(l,n,this._currenTime);this._automationEvents.push(x)}if(g!==void 0&&isSetTargetAutomationEvent(g)&&this._automationEvents.push(createSetValueAutomationEvent(this.getValue(n),n)),g!==void 0&&isSetValueCurveAutomationEvent(g)&&g.startTime+g.duration>n){const f=n-g.startTime,m=(g.values.length-1)/g.duration,l=Math.max(2,1+Math.ceil(f*m)),x=f/(l-1)*m,S=g.values.slice(0,l);if(x<1)for(let D=1;D<l;D+=1){const h=x*D%1;S[D]=g.values[D-1]*(1-h)+g.values[D]*h}this._automationEvents[this._automationEvents.length-1]=createSetValueCurveAutomationEvent(S,g.startTime,f)}}}else{const a=this._automationEvents.findIndex(f=>getEventTime(f)>n),r=a===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[a-1];if(r!==void 0&&isSetValueCurveAutomationEvent(r)&&getEventTime(r)+r.duration>n)return!1;const g=isExponentialRampToValueAutomationEvent(u)?createExtendedExponentialRampToValueAutomationEvent(u.value,u.endTime,this._currenTime):isLinearRampToValueAutomationEvent(u)?createExtendedLinearRampToValueAutomationEvent(u.value,n,this._currenTime):u;if(a===-1)this._automationEvents.push(g);else{if(isSetValueCurveAutomationEvent(u)&&n+u.duration>getEventTime(this._automationEvents[a]))return!1;this._automationEvents.splice(a,0,g)}}return!0}flush(u){const n=this._automationEvents.findIndex(a=>getEventTime(a)>u);if(n>1){const a=this._automationEvents.slice(n-1),r=a[0];isSetTargetAutomationEvent(r)&&a.unshift(createSetValueAutomationEvent(getValueOfAutomationEventAtIndexAtTime(this._automationEvents,n-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=a}}getValue(u){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(f=>getEventTime(f)>u),a=this._automationEvents[n],r=(n===-1?this._automationEvents.length:n)-1,g=this._automationEvents[r];if(g!==void 0&&isSetTargetAutomationEvent(g)&&(a===void 0||!isAnyRampToValueAutomationEvent(a)||a.insertTime>u))return getTargetValueAtTime(u,getValueOfAutomationEventAtIndexAtTime(this._automationEvents,r-1,g.startTime,this._defaultValue),g);if(g!==void 0&&isSetValueAutomationEvent(g)&&(a===void 0||!isAnyRampToValueAutomationEvent(a)))return g.value;if(g!==void 0&&isSetValueCurveAutomationEvent(g)&&(a===void 0||!isAnyRampToValueAutomationEvent(a)||g.startTime+g.duration>u))return u<g.startTime+g.duration?getValueCurveValueAtTime(u,g):g.values[g.values.length-1];if(g!==void 0&&isAnyRampToValueAutomationEvent(g)&&(a===void 0||!isAnyRampToValueAutomationEvent(a)))return g.value;if(a!==void 0&&isExponentialRampToValueAutomationEvent(a)){const[f,m]=getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents,r,g,a,this._defaultValue);return getExponentialRampValueAtTime(u,f,m,a)}if(a!==void 0&&isLinearRampToValueAutomationEvent(a)){const[f,m]=getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents,r,g,a,this._defaultValue);return getLinearRampValueAtTime(u,f,m,a)}return this._defaultValue}}const createCancelAndHoldAutomationEvent=C=>({cancelTime:C,type:"cancelAndHold"}),createCancelScheduledValuesAutomationEvent=C=>({cancelTime:C,type:"cancelScheduledValues"}),createExponentialRampToValueAutomationEvent=(C,u)=>({endTime:u,type:"exponentialRampToValue",value:C}),createLinearRampToValueAutomationEvent=(C,u)=>({endTime:u,type:"linearRampToValue",value:C}),createSetTargetAutomationEvent=(C,u,n)=>({startTime:u,target:C,timeConstant:n,type:"setTarget"}),createAbortError=()=>new DOMException("","AbortError"),createAddActiveInputConnectionToAudioNode=C=>(u,n,[a,r,g],f)=>{C(u[r],[n,a,g],m=>m[0]===n&&m[1]===a,f)},createAddAudioNodeConnections=C=>(u,n,a)=>{const r=[];for(let g=0;g<a.numberOfInputs;g+=1)r.push(new Set);C.set(u,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},createAddAudioParamConnections=C=>(u,n)=>{C.set(u,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},ACTIVE_AUDIO_NODE_STORE=new WeakSet,AUDIO_NODE_CONNECTIONS_STORE=new WeakMap,AUDIO_NODE_STORE=new WeakMap,AUDIO_PARAM_CONNECTIONS_STORE=new WeakMap,AUDIO_PARAM_STORE=new WeakMap,CONTEXT_STORE=new WeakMap,EVENT_LISTENERS=new WeakMap,CYCLE_COUNTERS=new WeakMap,NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS=new WeakMap,NODE_TO_PROCESSOR_MAPS=new WeakMap,handler={construct(){return handler}},isConstructible=C=>{try{const u=new Proxy(C,handler);new u}catch{return!1}return!0},IMPORT_STATEMENT_REGEX=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,splitImportStatements=(C,u)=>{const n=[];let a=C.replace(/^[\s]+/,""),r=a.match(IMPORT_STATEMENT_REGEX);for(;r!==null;){const g=r[1].slice(1,-1),f=r[0].replace(/([\s]+)?;?$/,"").replace(g,new URL(g,u).toString());n.push(f),a=a.slice(r[0].length).replace(/^[\s]+/,""),r=a.match(IMPORT_STATEMENT_REGEX)}return[n.join(";"),a]},verifyParameterDescriptors=C=>{if(C!==void 0&&!Array.isArray(C))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},verifyProcessorCtor=C=>{if(!isConstructible(C))throw new TypeError("The given value for processorCtor should be a constructor.");if(C.prototype===null||typeof C.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},createAddAudioWorkletModule=(C,u,n,a,r,g,f,m,l,x,S,D,h)=>{let _=0;return(o,p,b={credentials:"omit"})=>{const y=S.get(o);if(y!==void 0&&y.has(p))return Promise.resolve();const A=x.get(o);if(A!==void 0){const T=A.get(p);if(T!==void 0)return T}const E=g(o),N=E.audioWorklet===void 0?r(p).then(([T,O])=>{const[j,M]=splitImportStatements(T,O),F=`${j};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${M}
})})(window,'_AWGS')`;return n(F)}).then(()=>{const T=h._AWGS.pop();if(T===void 0)throw new SyntaxError;a(E.currentTime,E.sampleRate,()=>T(class{},void 0,(O,j)=>{if(O.trim()==="")throw u();const M=NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(E);if(M!==void 0){if(M.has(O))throw u();verifyProcessorCtor(j),verifyParameterDescriptors(j.parameterDescriptors),M.set(O,j)}else verifyProcessorCtor(j),verifyParameterDescriptors(j.parameterDescriptors),NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.set(E,new Map([[O,j]]))},E.sampleRate,void 0,void 0))}):Promise.all([r(p),Promise.resolve(C(D,D))]).then(([[T,O],j])=>{const M=_+1;_=M;const[F,B]=splitImportStatements(T,O),V=`${F};((AudioWorkletProcessor,registerProcessor)=>{${B}
})(${j?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${j?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${j?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${M}',class extends AudioWorkletProcessor{process(){return !1}})`,R=new Blob([V],{type:"application/javascript; charset=utf-8"}),U=URL.createObjectURL(R);return E.audioWorklet.addModule(U,b).then(()=>{if(m(E))return E;const L=f(E);return L.audioWorklet.addModule(U,b).then(()=>L)}).then(L=>{if(l===null)throw new SyntaxError;try{new l(L,`__sac${M}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(U))});return A===void 0?x.set(o,new Map([[p,N]])):A.set(p,N),N.then(()=>{const T=S.get(o);T===void 0?S.set(o,new Set([p])):T.add(p)}).finally(()=>{const T=x.get(o);T!==void 0&&T.delete(p)}),N}},getValueForKey=(C,u)=>{const n=C.get(u);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},pickElementFromSet=(C,u)=>{const n=Array.from(C).filter(u);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[a]=n;return C.delete(a),a},deletePassiveInputConnectionToAudioNode=(C,u,n,a)=>{const r=getValueForKey(C,u),g=pickElementFromSet(r,f=>f[0]===n&&f[1]===a);return r.size===0&&C.delete(u),g},getEventListenersOfAudioNode=C=>getValueForKey(EVENT_LISTENERS,C),setInternalStateToActive=C=>{if(ACTIVE_AUDIO_NODE_STORE.has(C))throw new Error("The AudioNode is already stored.");ACTIVE_AUDIO_NODE_STORE.add(C),getEventListenersOfAudioNode(C).forEach(u=>u(!0))},isAudioWorkletNode=C=>"port"in C,setInternalStateToPassive=C=>{if(!ACTIVE_AUDIO_NODE_STORE.has(C))throw new Error("The AudioNode is not stored.");ACTIVE_AUDIO_NODE_STORE.delete(C),getEventListenersOfAudioNode(C).forEach(u=>u(!1))},setInternalStateToPassiveWhenNecessary=(C,u)=>{!isAudioWorkletNode(C)&&u.every(n=>n.size===0)&&setInternalStateToPassive(C)},createAddConnectionToAudioNode=(C,u,n,a,r,g,f,m,l,x,S,D,h)=>{const _=new WeakMap;return(o,p,b,y,A)=>{const{activeInputs:E,passiveInputs:N}=g(p),{outputs:T}=g(o),O=m(o),j=M=>{const F=l(p),B=l(o);if(M){const I=deletePassiveInputConnectionToAudioNode(N,o,b,y);C(E,o,I,!1),!A&&!D(o)&&n(B,F,b,y),h(p)&&setInternalStateToActive(p)}else{const I=a(E,o,b,y);u(N,y,I,!1),!A&&!D(o)&&r(B,F,b,y);const G=f(p);if(G===0)S(p)&&setInternalStateToPassiveWhenNecessary(p,E);else{const k=_.get(p);k!==void 0&&clearTimeout(k),_.set(p,setTimeout(()=>{S(p)&&setInternalStateToPassiveWhenNecessary(p,E)},G*1e3))}}};return x(T,[p,b,y],M=>M[0]===p&&M[1]===b&&M[2]===y,!0)?(O.add(j),S(o)?C(E,o,[b,y,j],!0):u(N,y,[o,b,j],!0),!0):!1}},createAddPassiveInputConnectionToAudioNode=C=>(u,n,[a,r,g],f)=>{const m=u.get(a);m===void 0?u.set(a,new Set([[r,n,g]])):C(m,[r,n,g],l=>l[0]===r&&l[1]===n,f)},createAddSilentConnection=C=>(u,n)=>{const a=C(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(a).connect(u.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(a),a.disconnect()};n.addEventListener("ended",r)},createAddUnrenderedAudioWorkletNode=C=>(u,n)=>{C(u).add(n)},DEFAULT_OPTIONS$j={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},createAnalyserNodeConstructor=(C,u,n,a,r,g)=>class extends C{constructor(m,l){const x=r(m),S={...DEFAULT_OPTIONS$j,...l},D=a(x,S),h=g(x)?u():null;super(m,!1,D,h),this._nativeAnalyserNode=D}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(m){this._nativeAnalyserNode.fftSize=m}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(m){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=m,!(m>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(m){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=m,!(this._nativeAnalyserNode.maxDecibels>m))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(m){this._nativeAnalyserNode.smoothingTimeConstant=m}getByteFrequencyData(m){this._nativeAnalyserNode.getByteFrequencyData(m)}getByteTimeDomainData(m){this._nativeAnalyserNode.getByteTimeDomainData(m)}getFloatFrequencyData(m){this._nativeAnalyserNode.getFloatFrequencyData(m)}getFloatTimeDomainData(m){this._nativeAnalyserNode.getFloatTimeDomainData(m)}},isOwnedByContext=(C,u)=>C.context===u,createAnalyserNodeRendererFactory=(C,u,n)=>()=>{const a=new WeakMap,r=async(g,f)=>{let m=u(g);if(!isOwnedByContext(m,f)){const x={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,fftSize:m.fftSize,maxDecibels:m.maxDecibels,minDecibels:m.minDecibels,smoothingTimeConstant:m.smoothingTimeConstant};m=C(f,x)}return a.set(f,m),await n(g,f,m),m};return{render(g,f){const m=a.get(f);return m!==void 0?Promise.resolve(m):r(g,f)}}},testAudioBufferCopyChannelMethodsOutOfBoundsSupport=C=>{try{C.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},createIndexSizeError=()=>new DOMException("","IndexSizeError"),wrapAudioBufferGetChannelDataMethod=C=>{C.getChannelData=(u=>n=>{try{return u.call(C,n)}catch(a){throw a.code===12?createIndexSizeError():a}})(C.getChannelData)},DEFAULT_OPTIONS$i={numberOfChannels:1},createAudioBufferConstructor=(C,u,n,a,r,g,f,m)=>{let l=null;return class Ls{constructor(S){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:D,numberOfChannels:h,sampleRate:_}={...DEFAULT_OPTIONS$i,...S};l===null&&(l=new r(1,1,44100));const o=a!==null&&u(g,g)?new a({length:D,numberOfChannels:h,sampleRate:_}):l.createBuffer(h,D,_);if(o.numberOfChannels===0)throw n();return typeof o.copyFromChannel!="function"?(f(o),wrapAudioBufferGetChannelDataMethod(o)):u(testAudioBufferCopyChannelMethodsOutOfBoundsSupport,()=>testAudioBufferCopyChannelMethodsOutOfBoundsSupport(o))||m(o),C.add(o),o}static[Symbol.hasInstance](S){return S!==null&&typeof S=="object"&&Object.getPrototypeOf(S)===Ls.prototype||C.has(S)}}},MOST_NEGATIVE_SINGLE_FLOAT=-34028234663852886e22,MOST_POSITIVE_SINGLE_FLOAT=-MOST_NEGATIVE_SINGLE_FLOAT,isActiveAudioNode=C=>ACTIVE_AUDIO_NODE_STORE.has(C),DEFAULT_OPTIONS$h={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},createAudioBufferSourceNodeConstructor=(C,u,n,a,r,g,f,m)=>class extends C{constructor(x,S){const D=g(x),h={...DEFAULT_OPTIONS$h,...S},_=r(D,h),o=f(D),p=o?u():null;super(x,!1,_,p),this._audioBufferSourceNodeRenderer=p,this._isBufferNullified=!1,this._isBufferSet=h.buffer!==null,this._nativeAudioBufferSourceNode=_,this._onended=null,this._playbackRate=n(this,o,_.playbackRate,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(x){if(this._nativeAudioBufferSourceNode.buffer=x,x!==null){if(this._isBufferSet)throw a();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(x){this._nativeAudioBufferSourceNode.loop=x}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(x){this._nativeAudioBufferSourceNode.loopEnd=x}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(x){this._nativeAudioBufferSourceNode.loopStart=x}get onended(){return this._onended}set onended(x){const S=typeof x=="function"?m(this,x):null;this._nativeAudioBufferSourceNode.onended=S;const D=this._nativeAudioBufferSourceNode.onended;this._onended=D!==null&&D===S?x:D}get playbackRate(){return this._playbackRate}start(x=0,S=0,D){if(this._nativeAudioBufferSourceNode.start(x,S,D),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=D===void 0?[x,S]:[x,S,D]),this.context.state!=="closed"){setInternalStateToActive(this);const h=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",h),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",h)}}stop(x=0){this._nativeAudioBufferSourceNode.stop(x),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=x)}},createAudioBufferSourceNodeRendererFactory=(C,u,n,a,r)=>()=>{const g=new WeakMap;let f=null,m=null;const l=async(x,S)=>{let D=n(x);const h=isOwnedByContext(D,S);if(!h){const _={buffer:D.buffer,channelCount:D.channelCount,channelCountMode:D.channelCountMode,channelInterpretation:D.channelInterpretation,loop:D.loop,loopEnd:D.loopEnd,loopStart:D.loopStart,playbackRate:D.playbackRate.value};D=u(S,_),f!==null&&D.start(...f),m!==null&&D.stop(m)}return g.set(S,D),h?await C(S,x.playbackRate,D.playbackRate):await a(S,x.playbackRate,D.playbackRate),await r(x,S,D),D};return{set start(x){f=x},set stop(x){m=x},render(x,S){const D=g.get(S);return D!==void 0?Promise.resolve(D):l(x,S)}}},isAudioBufferSourceNode=C=>"playbackRate"in C,isBiquadFilterNode=C=>"frequency"in C&&"gain"in C,isConstantSourceNode=C=>"offset"in C,isGainNode=C=>!("frequency"in C)&&"gain"in C,isOscillatorNode=C=>"detune"in C&&"frequency"in C&&!("gain"in C),isStereoPannerNode=C=>"pan"in C,getAudioNodeConnections=C=>getValueForKey(AUDIO_NODE_CONNECTIONS_STORE,C),getAudioParamConnections=C=>getValueForKey(AUDIO_PARAM_CONNECTIONS_STORE,C),deactivateActiveAudioNodeInputConnections=(C,u)=>{const{activeInputs:n}=getAudioNodeConnections(C);n.forEach(r=>r.forEach(([g])=>{u.includes(C)||deactivateActiveAudioNodeInputConnections(g,[...u,C])}));const a=isAudioBufferSourceNode(C)?[C.playbackRate]:isAudioWorkletNode(C)?Array.from(C.parameters.values()):isBiquadFilterNode(C)?[C.Q,C.detune,C.frequency,C.gain]:isConstantSourceNode(C)?[C.offset]:isGainNode(C)?[C.gain]:isOscillatorNode(C)?[C.detune,C.frequency]:isStereoPannerNode(C)?[C.pan]:[];for(const r of a){const g=getAudioParamConnections(r);g!==void 0&&g.activeInputs.forEach(([f])=>deactivateActiveAudioNodeInputConnections(f,u))}isActiveAudioNode(C)&&setInternalStateToPassive(C)},deactivateAudioGraph=C=>{deactivateActiveAudioNodeInputConnections(C.destination,[])},isValidLatencyHint=C=>C===void 0||typeof C=="number"||typeof C=="string"&&(C==="balanced"||C==="interactive"||C==="playback"),createAudioContextConstructor=(C,u,n,a,r,g,f,m,l)=>class extends C{constructor(S={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let D;try{D=new l(S)}catch(o){throw o.code===12&&o.message==="sampleRate is not in range"?n():o}if(D===null)throw a();if(!isValidLatencyHint(S.latencyHint))throw new TypeError(`The provided value '${S.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(S.sampleRate!==void 0&&D.sampleRate!==S.sampleRate)throw n();super(D,2);const{latencyHint:h}=S,{sampleRate:_}=D;if(this._baseLatency=typeof D.baseLatency=="number"?D.baseLatency:h==="balanced"?512/_:h==="interactive"||h===void 0?256/_:h==="playback"?1024/_:Math.max(2,Math.min(128,Math.round(h*_/128)))*128/_,this._nativeAudioContext=D,l.name==="webkitAudioContext"?(this._nativeGainNode=D.createGain(),this._nativeOscillatorNode=D.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(D.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,D.state==="running"){this._state="suspended";const o=()=>{this._state==="suspended"&&(this._state=null),D.removeEventListener("statechange",o)};D.addEventListener("statechange",o)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw u()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),deactivateAudioGraph(this)}))}createMediaElementSource(S){return new r(this,{mediaElement:S})}createMediaStreamDestination(){return new g(this)}createMediaStreamSource(S){return new f(this,{mediaStream:S})}createMediaStreamTrackSource(S){return new m(this,{mediaStreamTrack:S})}resume(){return this._state==="suspended"?new Promise((S,D)=>{const h=()=>{this._nativeAudioContext.removeEventListener("statechange",h),this._nativeAudioContext.state==="running"?S():this.resume().then(S,D)};this._nativeAudioContext.addEventListener("statechange",h)}):this._nativeAudioContext.resume().catch(S=>{throw S===void 0||S.code===15?u():S})}suspend(){return this._nativeAudioContext.suspend().catch(S=>{throw S===void 0?u():S})}},createAudioDestinationNodeConstructor=(C,u,n,a,r,g,f,m)=>class extends C{constructor(x,S){const D=g(x),h=f(D),_=r(D,S,h),o=h?u(m):null;super(x,!1,_,o),this._isNodeOfNativeOfflineAudioContext=h,this._nativeAudioDestinationNode=_}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(x){if(this._isNodeOfNativeOfflineAudioContext)throw a();if(x>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=x}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(x){if(this._isNodeOfNativeOfflineAudioContext)throw a();this._nativeAudioDestinationNode.channelCountMode=x}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},createAudioDestinationNodeRenderer=C=>{const u=new WeakMap,n=async(a,r)=>{const g=r.destination;return u.set(r,g),await C(a,r,g),g};return{render(a,r){const g=u.get(r);return g!==void 0?Promise.resolve(g):n(a,r)}}},createAudioListenerFactory=(C,u,n,a,r,g,f,m)=>(l,x)=>{const S=x.listener,D=()=>{const T=new Float32Array(1),O=u(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),j=f(x);let M=!1,F=[0,0,-1,0,1,0],B=[0,0,0];const I=()=>{if(M)return;M=!0;const R=a(x,256,9,0);R.onaudioprocess=({inputBuffer:U})=>{const L=[g(U,T,0),g(U,T,1),g(U,T,2),g(U,T,3),g(U,T,4),g(U,T,5)];L.some((X,Z)=>X!==F[Z])&&(S.setOrientation(...L),F=L);const H=[g(U,T,6),g(U,T,7),g(U,T,8)];H.some((X,Z)=>X!==B[Z])&&(S.setPosition(...H),B=H)},O.connect(R)},G=R=>U=>{U!==F[R]&&(F[R]=U,S.setOrientation(...F))},k=R=>U=>{U!==B[R]&&(B[R]=U,S.setPosition(...B))},V=(R,U,L)=>{const H=n(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:U});H.connect(O,0,R),H.start(),Object.defineProperty(H.offset,"defaultValue",{get(){return U}});const X=C({context:l},j,H.offset,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT);return m(X,"value",Z=>()=>Z.call(X),Z=>J=>{try{Z.call(X,J)}catch(K){if(K.code!==9)throw K}I(),j&&L(J)}),X.cancelAndHoldAtTime=(Z=>j?()=>{throw r()}:(...J)=>{const K=Z.apply(X,J);return I(),K})(X.cancelAndHoldAtTime),X.cancelScheduledValues=(Z=>j?()=>{throw r()}:(...J)=>{const K=Z.apply(X,J);return I(),K})(X.cancelScheduledValues),X.exponentialRampToValueAtTime=(Z=>j?()=>{throw r()}:(...J)=>{const K=Z.apply(X,J);return I(),K})(X.exponentialRampToValueAtTime),X.linearRampToValueAtTime=(Z=>j?()=>{throw r()}:(...J)=>{const K=Z.apply(X,J);return I(),K})(X.linearRampToValueAtTime),X.setTargetAtTime=(Z=>j?()=>{throw r()}:(...J)=>{const K=Z.apply(X,J);return I(),K})(X.setTargetAtTime),X.setValueAtTime=(Z=>j?()=>{throw r()}:(...J)=>{const K=Z.apply(X,J);return I(),K})(X.setValueAtTime),X.setValueCurveAtTime=(Z=>j?()=>{throw r()}:(...J)=>{const K=Z.apply(X,J);return I(),K})(X.setValueCurveAtTime),X};return{forwardX:V(0,0,G(0)),forwardY:V(1,0,G(1)),forwardZ:V(2,-1,G(2)),positionX:V(6,0,k(0)),positionY:V(7,0,k(1)),positionZ:V(8,0,k(2)),upX:V(3,0,G(3)),upY:V(4,1,G(4)),upZ:V(5,0,G(5))}},{forwardX:h,forwardY:_,forwardZ:o,positionX:p,positionY:b,positionZ:y,upX:A,upY:E,upZ:N}=S.forwardX===void 0?D():S;return{get forwardX(){return h},get forwardY(){return _},get forwardZ(){return o},get positionX(){return p},get positionY(){return b},get positionZ(){return y},get upX(){return A},get upY(){return E},get upZ(){return N}}},isAudioNode$1=C=>"context"in C,isAudioNodeOutputConnection=C=>isAudioNode$1(C[0]),insertElementInSet=(C,u,n,a)=>{for(const r of C)if(n(r)){if(a)return!1;throw Error("The set contains at least one similar element.")}return C.add(u),!0},addActiveInputConnectionToAudioParam=(C,u,[n,a],r)=>{insertElementInSet(C,[u,n,a],g=>g[0]===u&&g[1]===n,r)},addPassiveInputConnectionToAudioParam=(C,[u,n,a],r)=>{const g=C.get(u);g===void 0?C.set(u,new Set([[n,a]])):insertElementInSet(g,[n,a],f=>f[0]===n,r)},isNativeAudioNodeFaker=C=>"inputs"in C,connectNativeAudioNodeToNativeAudioNode=(C,u,n,a)=>{if(isNativeAudioNodeFaker(u)){const r=u.inputs[a];return C.connect(r,n,0),[r,n,0]}return C.connect(u,n,a),[u,n,a]},deleteActiveInputConnection=(C,u,n)=>{for(const a of C)if(a[0]===u&&a[1]===n)return C.delete(a),a;return null},deleteActiveInputConnectionToAudioParam=(C,u,n)=>pickElementFromSet(C,a=>a[0]===u&&a[1]===n),deleteEventListenerOfAudioNode=(C,u)=>{if(!getEventListenersOfAudioNode(C).delete(u))throw new Error("Missing the expected event listener.")},deletePassiveInputConnectionToAudioParam=(C,u,n)=>{const a=getValueForKey(C,u),r=pickElementFromSet(a,g=>g[0]===n);return a.size===0&&C.delete(u),r},disconnectNativeAudioNodeFromNativeAudioNode=(C,u,n,a)=>{isNativeAudioNodeFaker(u)?C.disconnect(u.inputs[a],n,0):C.disconnect(u,n,a)},getNativeAudioNode=C=>getValueForKey(AUDIO_NODE_STORE,C),getNativeAudioParam=C=>getValueForKey(AUDIO_PARAM_STORE,C),isPartOfACycle=C=>CYCLE_COUNTERS.has(C),isPassiveAudioNode=C=>!ACTIVE_AUDIO_NODE_STORE.has(C),testAudioNodeDisconnectMethodSupport=(C,u)=>new Promise(n=>{if(u!==null)n(!0);else{const a=C.createScriptProcessor(256,1,1),r=C.createGain(),g=C.createBuffer(1,2,44100),f=g.getChannelData(0);f[0]=1,f[1]=1;const m=C.createBufferSource();m.buffer=g,m.loop=!0,m.connect(a).connect(C.destination),m.connect(r),m.disconnect(r),a.onaudioprocess=l=>{const x=l.inputBuffer.getChannelData(0);Array.prototype.some.call(x,S=>S===1)?n(!0):n(!1),m.stop(),a.onaudioprocess=null,m.disconnect(a),a.disconnect(C.destination)},m.start()}}),visitEachAudioNodeOnce=(C,u)=>{const n=new Map;for(const a of C)for(const r of a){const g=n.get(r);n.set(r,g===void 0?1:g+1)}n.forEach((a,r)=>u(r,a))},isNativeAudioNode$1=C=>"context"in C,wrapAudioNodeDisconnectMethod=C=>{const u=new Map;C.connect=(n=>(a,r=0,g=0)=>{const f=isNativeAudioNode$1(a)?n(a,r,g):n(a,r),m=u.get(a);return m===void 0?u.set(a,[{input:g,output:r}]):m.every(l=>l.input!==g||l.output!==r)&&m.push({input:g,output:r}),f})(C.connect.bind(C)),C.disconnect=(n=>(a,r,g)=>{if(n.apply(C),a===void 0)u.clear();else if(typeof a=="number")for(const[f,m]of u){const l=m.filter(x=>x.output!==a);l.length===0?u.delete(f):u.set(f,l)}else if(u.has(a))if(r===void 0)u.delete(a);else{const f=u.get(a);if(f!==void 0){const m=f.filter(l=>l.output!==r&&(l.input!==g||g===void 0));m.length===0?u.delete(a):u.set(a,m)}}for(const[f,m]of u)m.forEach(l=>{isNativeAudioNode$1(f)?C.connect(f,l.output,l.input):C.connect(f,l.output)})})(C.disconnect)},addConnectionToAudioParamOfAudioContext=(C,u,n,a)=>{const{activeInputs:r,passiveInputs:g}=getAudioParamConnections(u),{outputs:f}=getAudioNodeConnections(C),m=getEventListenersOfAudioNode(C),l=x=>{const S=getNativeAudioNode(C),D=getNativeAudioParam(u);if(x){const h=deletePassiveInputConnectionToAudioParam(g,C,n);addActiveInputConnectionToAudioParam(r,C,h,!1),!a&&!isPartOfACycle(C)&&S.connect(D,n)}else{const h=deleteActiveInputConnectionToAudioParam(r,C,n);addPassiveInputConnectionToAudioParam(g,h,!1),!a&&!isPartOfACycle(C)&&S.disconnect(D,n)}};return insertElementInSet(f,[u,n],x=>x[0]===u&&x[1]===n,!0)?(m.add(l),isActiveAudioNode(C)?addActiveInputConnectionToAudioParam(r,C,[n,l],!0):addPassiveInputConnectionToAudioParam(g,[C,n,l],!0),!0):!1},deleteInputConnectionOfAudioNode=(C,u,n,a)=>{const{activeInputs:r,passiveInputs:g}=getAudioNodeConnections(u),f=deleteActiveInputConnection(r[a],C,n);return f===null?[deletePassiveInputConnectionToAudioNode(g,C,n,a)[2],!1]:[f[2],!0]},deleteInputConnectionOfAudioParam=(C,u,n)=>{const{activeInputs:a,passiveInputs:r}=getAudioParamConnections(u),g=deleteActiveInputConnection(a,C,n);return g===null?[deletePassiveInputConnectionToAudioParam(r,C,n)[1],!1]:[g[2],!0]},deleteInputsOfAudioNode=(C,u,n,a,r)=>{const[g,f]=deleteInputConnectionOfAudioNode(C,n,a,r);if(g!==null&&(deleteEventListenerOfAudioNode(C,g),f&&!u&&!isPartOfACycle(C)&&disconnectNativeAudioNodeFromNativeAudioNode(getNativeAudioNode(C),getNativeAudioNode(n),a,r)),isActiveAudioNode(n)){const{activeInputs:m}=getAudioNodeConnections(n);setInternalStateToPassiveWhenNecessary(n,m)}},deleteInputsOfAudioParam=(C,u,n,a)=>{const[r,g]=deleteInputConnectionOfAudioParam(C,n,a);r!==null&&(deleteEventListenerOfAudioNode(C,r),g&&!u&&!isPartOfACycle(C)&&getNativeAudioNode(C).disconnect(getNativeAudioParam(n),a))},deleteAnyConnection=(C,u)=>{const n=getAudioNodeConnections(C),a=[];for(const r of n.outputs)isAudioNodeOutputConnection(r)?deleteInputsOfAudioNode(C,u,...r):deleteInputsOfAudioParam(C,u,...r),a.push(r[0]);return n.outputs.clear(),a},deleteConnectionAtOutput=(C,u,n)=>{const a=getAudioNodeConnections(C),r=[];for(const g of a.outputs)g[1]===n&&(isAudioNodeOutputConnection(g)?deleteInputsOfAudioNode(C,u,...g):deleteInputsOfAudioParam(C,u,...g),r.push(g[0]),a.outputs.delete(g));return r},deleteConnectionToDestination=(C,u,n,a,r)=>{const g=getAudioNodeConnections(C);return Array.from(g.outputs).filter(f=>f[0]===n&&(a===void 0||f[1]===a)&&(r===void 0||f[2]===r)).map(f=>(isAudioNodeOutputConnection(f)?deleteInputsOfAudioNode(C,u,...f):deleteInputsOfAudioParam(C,u,...f),g.outputs.delete(f),f[0]))},createAudioNodeConstructor=(C,u,n,a,r,g,f,m,l,x,S,D,h,_,o,p)=>class extends x{constructor(y,A,E,N){super(E),this._context=y,this._nativeAudioNode=E;const T=S(y);D(T)&&n(testAudioNodeDisconnectMethodSupport,()=>testAudioNodeDisconnectMethodSupport(T,p))!==!0&&wrapAudioNodeDisconnectMethod(E),AUDIO_NODE_STORE.set(this,E),EVENT_LISTENERS.set(this,new Set),y.state!=="closed"&&A&&setInternalStateToActive(this),C(this,N,E)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(y){this._nativeAudioNode.channelCount=y}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(y){this._nativeAudioNode.channelCountMode=y}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(y){this._nativeAudioNode.channelInterpretation=y}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(y,A=0,E=0){if(A<0||A>=this._nativeAudioNode.numberOfOutputs)throw r();const N=S(this._context),T=o(N);if(h(y)||_(y))throw g();if(isAudioNode$1(y)){const M=getNativeAudioNode(y);try{const B=connectNativeAudioNodeToNativeAudioNode(this._nativeAudioNode,M,A,E),I=isPassiveAudioNode(this);(T||I)&&this._nativeAudioNode.disconnect(...B),this.context.state!=="closed"&&!I&&isPassiveAudioNode(y)&&setInternalStateToActive(y)}catch(B){throw B.code===12?g():B}if(u(this,y,A,E,T)){const B=l([this],y);visitEachAudioNodeOnce(B,a(T))}return y}const O=getNativeAudioParam(y);if(O.name==="playbackRate"&&O.maxValue===1024)throw f();try{this._nativeAudioNode.connect(O,A),(T||isPassiveAudioNode(this))&&this._nativeAudioNode.disconnect(O,A)}catch(M){throw M.code===12?g():M}if(addConnectionToAudioParamOfAudioContext(this,y,A,T)){const M=l([this],y);visitEachAudioNodeOnce(M,a(T))}}disconnect(y,A,E){let N;const T=S(this._context),O=o(T);if(y===void 0)N=deleteAnyConnection(this,O);else if(typeof y=="number"){if(y<0||y>=this.numberOfOutputs)throw r();N=deleteConnectionAtOutput(this,O,y)}else{if(A!==void 0&&(A<0||A>=this.numberOfOutputs)||isAudioNode$1(y)&&E!==void 0&&(E<0||E>=y.numberOfInputs))throw r();if(N=deleteConnectionToDestination(this,O,y,A,E),N.length===0)throw g()}for(const j of N){const M=l([this],j);visitEachAudioNodeOnce(M,m)}}},createAudioParamFactory=(C,u,n,a,r,g,f,m,l,x,S,D,h)=>(_,o,p,b=null,y=null)=>{const A=p.value,E=new AutomationEventList(A),N=o?a(E):null,T={get defaultValue(){return A},get maxValue(){return b===null?p.maxValue:b},get minValue(){return y===null?p.minValue:y},get value(){return p.value},set value(O){p.value=O,T.setValueAtTime(O,_.context.currentTime)},cancelAndHoldAtTime(O){if(typeof p.cancelAndHoldAtTime=="function")N===null&&E.flush(_.context.currentTime),E.add(r(O)),p.cancelAndHoldAtTime(O);else{const j=Array.from(E).pop();N===null&&E.flush(_.context.currentTime),E.add(r(O));const M=Array.from(E).pop();p.cancelScheduledValues(O),j!==M&&M!==void 0&&(M.type==="exponentialRampToValue"?p.exponentialRampToValueAtTime(M.value,M.endTime):M.type==="linearRampToValue"?p.linearRampToValueAtTime(M.value,M.endTime):M.type==="setValue"?p.setValueAtTime(M.value,M.startTime):M.type==="setValueCurve"&&p.setValueCurveAtTime(M.values,M.startTime,M.duration))}return T},cancelScheduledValues(O){return N===null&&E.flush(_.context.currentTime),E.add(g(O)),p.cancelScheduledValues(O),T},exponentialRampToValueAtTime(O,j){if(O===0)throw new RangeError;if(!Number.isFinite(j)||j<0)throw new RangeError;const M=_.context.currentTime;return N===null&&E.flush(M),Array.from(E).length===0&&(E.add(x(A,M)),p.setValueAtTime(A,M)),E.add(f(O,j)),p.exponentialRampToValueAtTime(O,j),T},linearRampToValueAtTime(O,j){const M=_.context.currentTime;return N===null&&E.flush(M),Array.from(E).length===0&&(E.add(x(A,M)),p.setValueAtTime(A,M)),E.add(m(O,j)),p.linearRampToValueAtTime(O,j),T},setTargetAtTime(O,j,M){return N===null&&E.flush(_.context.currentTime),E.add(l(O,j,M)),p.setTargetAtTime(O,j,M),T},setValueAtTime(O,j){return N===null&&E.flush(_.context.currentTime),E.add(x(O,j)),p.setValueAtTime(O,j),T},setValueCurveAtTime(O,j,M){const F=O instanceof Float32Array?O:new Float32Array(O);if(D!==null&&D.name==="webkitAudioContext"){const B=j+M,I=_.context.sampleRate,G=Math.ceil(j*I),k=Math.floor(B*I),V=k-G,R=new Float32Array(V);for(let L=0;L<V;L+=1){const H=(F.length-1)/M*((G+L)/I-j),X=Math.floor(H),Z=Math.ceil(H);R[L]=X===Z?F[X]:(1-(H-X))*F[X]+(1-(Z-H))*F[Z]}N===null&&E.flush(_.context.currentTime),E.add(S(R,j,M)),p.setValueCurveAtTime(R,j,M);const U=k/I;U<B&&h(T,R[R.length-1],U),h(T,F[F.length-1],B)}else N===null&&E.flush(_.context.currentTime),E.add(S(F,j,M)),p.setValueCurveAtTime(F,j,M);return T}};return n.set(T,p),u.set(T,_),C(T,N),T},createAudioParamRenderer=C=>({replay(u){for(const n of C)if(n.type==="exponentialRampToValue"){const{endTime:a,value:r}=n;u.exponentialRampToValueAtTime(r,a)}else if(n.type==="linearRampToValue"){const{endTime:a,value:r}=n;u.linearRampToValueAtTime(r,a)}else if(n.type==="setTarget"){const{startTime:a,target:r,timeConstant:g}=n;u.setTargetAtTime(r,a,g)}else if(n.type==="setValue"){const{startTime:a,value:r}=n;u.setValueAtTime(r,a)}else if(n.type==="setValueCurve"){const{duration:a,startTime:r,values:g}=n;u.setValueCurveAtTime(g,r,a)}else throw new Error("Can't apply an unknown automation.")}});class ReadOnlyMap{constructor(u){this._map=new Map(u)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(u,n=null){return this._map.forEach((a,r)=>u.call(n,a,r,this))}get(u){return this._map.get(u)}has(u){return this._map.has(u)}keys(){return this._map.keys()}values(){return this._map.values()}}const DEFAULT_OPTIONS$g={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},createAudioWorkletNodeConstructor=(C,u,n,a,r,g,f,m,l,x,S,D,h,_)=>class extends u{constructor(p,b,y){var A;const E=m(p),N=l(E),T=S({...DEFAULT_OPTIONS$g,...y});h(T);const O=NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(E),j=O==null?void 0:O.get(b),M=N||E.state!=="closed"?E:(A=f(E))!==null&&A!==void 0?A:E,F=r(M,N?null:p.baseLatency,x,b,j,T),B=N?a(b,T,j):null;super(p,!0,F,B);const I=[];F.parameters.forEach((k,V)=>{const R=n(this,N,k);I.push([V,R])}),this._nativeAudioWorkletNode=F,this._onprocessorerror=null,this._parameters=new ReadOnlyMap(I),N&&C(E,this);const{activeInputs:G}=g(this);D(F,G)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(p){const b=typeof p=="function"?_(this,p):null;this._nativeAudioWorkletNode.onprocessorerror=b;const y=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=y!==null&&y===b?p:y}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function copyFromChannel(C,u,n,a,r){if(typeof C.copyFromChannel=="function")u[n].byteLength===0&&(u[n]=new Float32Array(128)),C.copyFromChannel(u[n],a,r);else{const g=C.getChannelData(a);if(u[n].byteLength===0)u[n]=g.slice(r,r+128);else{const f=new Float32Array(g.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);u[n].set(f)}}}const copyToChannel=(C,u,n,a,r)=>{typeof C.copyToChannel=="function"?u[n].byteLength!==0&&C.copyToChannel(u[n],a,r):u[n].byteLength!==0&&C.getChannelData(a).set(u[n],r)},createNestedArrays=(C,u)=>{const n=[];for(let a=0;a<C;a+=1){const r=[],g=typeof u=="number"?u:u[a];for(let f=0;f<g;f+=1)r.push(new Float32Array(128));n.push(r)}return n},getAudioWorkletProcessor=(C,u)=>{const n=getValueForKey(NODE_TO_PROCESSOR_MAPS,C),a=getNativeAudioNode(u);return getValueForKey(n,a)},processBuffer=async(C,u,n,a,r,g,f)=>{const m=u===null?Math.ceil(C.context.length/128)*128:u.length,l=a.channelCount*a.numberOfInputs,x=r.reduce((b,y)=>b+y,0),S=x===0?null:n.createBuffer(x,m,n.sampleRate);if(g===void 0)throw new Error("Missing the processor constructor.");const D=getAudioNodeConnections(C),h=await getAudioWorkletProcessor(n,C),_=createNestedArrays(a.numberOfInputs,a.channelCount),o=createNestedArrays(a.numberOfOutputs,r),p=Array.from(C.parameters.keys()).reduce((b,y)=>({...b,[y]:new Float32Array(128)}),{});for(let b=0;b<m;b+=128){if(a.numberOfInputs>0&&u!==null)for(let y=0;y<a.numberOfInputs;y+=1)for(let A=0;A<a.channelCount;A+=1)copyFromChannel(u,_[y],A,A,b);g.parameterDescriptors!==void 0&&u!==null&&g.parameterDescriptors.forEach(({name:y},A)=>{copyFromChannel(u,p,y,l+A,b)});for(let y=0;y<a.numberOfInputs;y+=1)for(let A=0;A<r[y];A+=1)o[y][A].byteLength===0&&(o[y][A]=new Float32Array(128));try{const y=_.map((E,N)=>D.activeInputs[N].size===0?[]:E),A=f(b/n.sampleRate,n.sampleRate,()=>h.process(y,o,p));if(S!==null)for(let E=0,N=0;E<a.numberOfOutputs;E+=1){for(let T=0;T<r[E];T+=1)copyToChannel(S,o[E],T,N+T,b);N+=r[E]}if(!A)break}catch(y){C.dispatchEvent(new ErrorEvent("processorerror",{colno:y.colno,filename:y.filename,lineno:y.lineno,message:y.message}));break}}return S},createAudioWorkletNodeRendererFactory=(C,u,n,a,r,g,f,m,l,x,S,D,h,_,o,p)=>(b,y,A)=>{const E=new WeakMap;let N=null;const T=async(O,j)=>{let M=S(O),F=null;const B=isOwnedByContext(M,j),I=Array.isArray(y.outputChannelCount)?y.outputChannelCount:Array.from(y.outputChannelCount);if(D===null){const G=I.reduce((U,L)=>U+L,0),k=r(j,{channelCount:Math.max(1,G),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,G)}),V=[];for(let U=0;U<O.numberOfOutputs;U+=1)V.push(a(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:I[U]}));const R=f(j,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1});R.connect=u.bind(null,V),R.disconnect=l.bind(null,V),F=[k,V,R]}else B||(M=new D(j,b));if(E.set(j,F===null?M:F[2]),F!==null){if(N===null){if(A===void 0)throw new Error("Missing the processor constructor.");if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const L=O.channelCount*O.numberOfInputs,H=A.parameterDescriptors===void 0?0:A.parameterDescriptors.length,X=L+H;N=processBuffer(O,X===0?null:await(async()=>{const J=new h(X,Math.ceil(O.context.length/128)*128,j.sampleRate),K=[],$=[];for(let te=0;te<y.numberOfInputs;te+=1)K.push(f(J,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1})),$.push(r(J,{channelCount:y.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:y.channelCount}));const W=await Promise.all(Array.from(O.parameters.values()).map(async te=>{const ce=g(J,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:te.value});return await _(J,te,ce.offset),ce})),Y=a(J,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,L+H)});for(let te=0;te<y.numberOfInputs;te+=1){K[te].connect($[te]);for(let ce=0;ce<y.channelCount;ce+=1)$[te].connect(Y,ce,te*y.channelCount+ce)}for(const[te,ce]of W.entries())ce.connect(Y,0,L+te),ce.start(0);return Y.connect(J.destination),await Promise.all(K.map(te=>o(O,J,te))),p(J)})(),j,y,I,A,x)}const G=await N,k=n(j,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[V,R,U]=F;G!==null&&(k.buffer=G,k.start(0)),k.connect(V);for(let L=0,H=0;L<O.numberOfOutputs;L+=1){const X=R[L];for(let Z=0;Z<I[L];Z+=1)V.connect(X,H+Z,Z);H+=I[L]}return U}if(B)for(const[G,k]of O.parameters.entries())await C(j,k,M.parameters.get(G));else for(const[G,k]of O.parameters.entries())await _(j,k,M.parameters.get(G));return await o(O,j,M),M};return{render(O,j){m(j,O);const M=E.get(j);return M!==void 0?Promise.resolve(M):T(O,j)}}},createBaseAudioContextConstructor=(C,u,n,a,r,g,f,m,l,x,S,D,h,_,o,p,b,y,A,E)=>class extends o{constructor(T,O){super(T,O),this._nativeContext=T,this._audioWorklet=C===void 0?void 0:{addModule:(j,M)=>C(this,j,M)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new u(this)}createBiquadFilter(){return new r(this)}createBuffer(T,O,j){return new n({length:O,numberOfChannels:T,sampleRate:j})}createBufferSource(){return new a(this)}createChannelMerger(T=6){return new g(this,{numberOfInputs:T})}createChannelSplitter(T=6){return new f(this,{numberOfOutputs:T})}createConstantSource(){return new m(this)}createConvolver(){return new l(this)}createDelay(T=1){return new S(this,{maxDelayTime:T})}createDynamicsCompressor(){return new D(this)}createGain(){return new h(this)}createIIRFilter(T,O){return new _(this,{feedback:O,feedforward:T})}createOscillator(){return new p(this)}createPanner(){return new b(this)}createPeriodicWave(T,O,j={disableNormalization:!1}){return new y(this,{...j,imag:O,real:T})}createStereoPanner(){return new A(this)}createWaveShaper(){return new E(this)}decodeAudioData(T,O,j){return x(this._nativeContext,T).then(M=>(typeof O=="function"&&O(M),M),M=>{throw typeof j=="function"&&j(M),M})}},DEFAULT_OPTIONS$f={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},createBiquadFilterNodeConstructor=(C,u,n,a,r,g,f,m)=>class extends C{constructor(x,S){const D=g(x),h={...DEFAULT_OPTIONS$f,...S},_=r(D,h),o=f(D),p=o?n():null;super(x,!1,_,p),this._Q=u(this,o,_.Q,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._detune=u(this,o,_.detune,1200*Math.log2(MOST_POSITIVE_SINGLE_FLOAT),-1200*Math.log2(MOST_POSITIVE_SINGLE_FLOAT)),this._frequency=u(this,o,_.frequency,x.sampleRate/2,0),this._gain=u(this,o,_.gain,40*Math.log10(MOST_POSITIVE_SINGLE_FLOAT),MOST_NEGATIVE_SINGLE_FLOAT),this._nativeBiquadFilterNode=_,m(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(x){this._nativeBiquadFilterNode.type=x}getFrequencyResponse(x,S,D){try{this._nativeBiquadFilterNode.getFrequencyResponse(x,S,D)}catch(h){throw h.code===11?a():h}if(x.length!==S.length||S.length!==D.length)throw a()}},createBiquadFilterNodeRendererFactory=(C,u,n,a,r)=>()=>{const g=new WeakMap,f=async(m,l)=>{let x=n(m);const S=isOwnedByContext(x,l);if(!S){const D={Q:x.Q.value,channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,detune:x.detune.value,frequency:x.frequency.value,gain:x.gain.value,type:x.type};x=u(l,D)}return g.set(l,x),S?(await C(l,m.Q,x.Q),await C(l,m.detune,x.detune),await C(l,m.frequency,x.frequency),await C(l,m.gain,x.gain)):(await a(l,m.Q,x.Q),await a(l,m.detune,x.detune),await a(l,m.frequency,x.frequency),await a(l,m.gain,x.gain)),await r(m,l,x),x};return{render(m,l){const x=g.get(l);return x!==void 0?Promise.resolve(x):f(m,l)}}},createCacheTestResult=(C,u)=>(n,a)=>{const r=u.get(n);if(r!==void 0)return r;const g=C.get(n);if(g!==void 0)return g;try{const f=a();return f instanceof Promise?(C.set(n,f),f.catch(()=>!1).then(m=>(C.delete(n),u.set(n,m),m))):(u.set(n,f),f)}catch{return u.set(n,!1),!1}},DEFAULT_OPTIONS$e={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},createChannelMergerNodeConstructor=(C,u,n,a,r)=>class extends C{constructor(f,m){const l=a(f),x={...DEFAULT_OPTIONS$e,...m},S=n(l,x),D=r(l)?u():null;super(f,!1,S,D)}},createChannelMergerNodeRendererFactory=(C,u,n)=>()=>{const a=new WeakMap,r=async(g,f)=>{let m=u(g);if(!isOwnedByContext(m,f)){const x={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,numberOfInputs:m.numberOfInputs};m=C(f,x)}return a.set(f,m),await n(g,f,m),m};return{render(g,f){const m=a.get(f);return m!==void 0?Promise.resolve(m):r(g,f)}}},DEFAULT_OPTIONS$d={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},createChannelSplitterNodeConstructor=(C,u,n,a,r,g)=>class extends C{constructor(m,l){const x=a(m),S=g({...DEFAULT_OPTIONS$d,...l}),D=n(x,S),h=r(x)?u():null;super(m,!1,D,h)}},createChannelSplitterNodeRendererFactory=(C,u,n)=>()=>{const a=new WeakMap,r=async(g,f)=>{let m=u(g);if(!isOwnedByContext(m,f)){const x={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,numberOfOutputs:m.numberOfOutputs};m=C(f,x)}return a.set(f,m),await n(g,f,m),m};return{render(g,f){const m=a.get(f);return m!==void 0?Promise.resolve(m):r(g,f)}}},createConnectAudioParam=C=>(u,n,a)=>C(n,u,a),createConnectMultipleOutputs=C=>(u,n,a=0,r=0)=>{const g=u[a];if(g===void 0)throw C();return isNativeAudioNode$1(n)?g.connect(n,0,r):g.connect(n,0)},createConnectedNativeAudioBufferSourceNodeFactory=C=>(u,n)=>{const a=C(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=u.createBuffer(1,2,44100);return a.buffer=r,a.loop=!0,a.connect(n),a.start(),()=>{a.stop(),a.disconnect(n)}},DEFAULT_OPTIONS$c={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},createConstantSourceNodeConstructor=(C,u,n,a,r,g,f)=>class extends C{constructor(l,x){const S=r(l),D={...DEFAULT_OPTIONS$c,...x},h=a(S,D),_=g(S),o=_?n():null;super(l,!1,h,o),this._constantSourceNodeRenderer=o,this._nativeConstantSourceNode=h,this._offset=u(this,_,h.offset,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const x=typeof l=="function"?f(this,l):null;this._nativeConstantSourceNode.onended=x;const S=this._nativeConstantSourceNode.onended;this._onended=S!==null&&S===x?l:S}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){setInternalStateToActive(this);const x=()=>{this._nativeConstantSourceNode.removeEventListener("ended",x),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeConstantSourceNode.addEventListener("ended",x)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},createConstantSourceNodeRendererFactory=(C,u,n,a,r)=>()=>{const g=new WeakMap;let f=null,m=null;const l=async(x,S)=>{let D=n(x);const h=isOwnedByContext(D,S);if(!h){const _={channelCount:D.channelCount,channelCountMode:D.channelCountMode,channelInterpretation:D.channelInterpretation,offset:D.offset.value};D=u(S,_),f!==null&&D.start(f),m!==null&&D.stop(m)}return g.set(S,D),h?await C(S,x.offset,D.offset):await a(S,x.offset,D.offset),await r(x,S,D),D};return{set start(x){f=x},set stop(x){m=x},render(x,S){const D=g.get(S);return D!==void 0?Promise.resolve(D):l(x,S)}}},createConvertNumberToUnsignedLong=C=>u=>(C[0]=u,C[0]),DEFAULT_OPTIONS$b={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},createConvolverNodeConstructor=(C,u,n,a,r,g)=>class extends C{constructor(m,l){const x=a(m),S={...DEFAULT_OPTIONS$b,...l},D=n(x,S),_=r(x)?u():null;super(m,!1,D,_),this._isBufferNullified=!1,this._nativeConvolverNode=D,S.buffer!==null&&g(this,S.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(m){if(this._nativeConvolverNode.buffer=m,m===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,g(this,0)}else this._isBufferNullified=!1,g(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(m){this._nativeConvolverNode.normalize=m}},createConvolverNodeRendererFactory=(C,u,n)=>()=>{const a=new WeakMap,r=async(g,f)=>{let m=u(g);if(!isOwnedByContext(m,f)){const x={buffer:m.buffer,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,disableNormalization:!m.normalize};m=C(f,x)}return a.set(f,m),isNativeAudioNodeFaker(m)?await n(g,f,m.inputs[0]):await n(g,f,m),m};return{render(g,f){const m=a.get(f);return m!==void 0?Promise.resolve(m):r(g,f)}}},createCreateNativeOfflineAudioContext=(C,u)=>(n,a,r)=>{if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new u(n,a,r)}catch(g){throw g.name==="SyntaxError"?C():g}},createDataCloneError=()=>new DOMException("","DataCloneError"),detachArrayBuffer=C=>{const{port1:u,port2:n}=new MessageChannel;return new Promise(a=>{const r=()=>{n.onmessage=null,u.close(),n.close(),a()};n.onmessage=()=>r();try{u.postMessage(C,[C])}catch{}finally{r()}})},createDecodeAudioData=(C,u,n,a,r,g,f,m,l,x,S)=>(D,h)=>{const _=f(D)?D:g(D);if(r.has(h)){const o=n();return Promise.reject(o)}try{r.add(h)}catch{}return u(l,()=>l(_))?_.decodeAudioData(h).then(o=>(detachArrayBuffer(h).catch(()=>{}),u(m,()=>m(o))||S(o),C.add(o),o)):new Promise((o,p)=>{const b=async()=>{try{await detachArrayBuffer(h)}catch{}},y=A=>{p(A),b()};try{_.decodeAudioData(h,A=>{typeof A.copyFromChannel!="function"&&(x(A),wrapAudioBufferGetChannelDataMethod(A)),C.add(A),b().then(()=>o(A))},A=>{y(A===null?a():A)})}catch(A){y(A)}})},createDecrementCycleCounter=(C,u,n,a,r,g,f,m)=>(l,x)=>{const S=u.get(l);if(S===void 0)throw new Error("Missing the expected cycle count.");const D=g(l.context),h=m(D);if(S===x){if(u.delete(l),!h&&f(l)){const _=a(l),{outputs:o}=n(l);for(const p of o)if(isAudioNodeOutputConnection(p)){const b=a(p[0]);C(_,b,p[1],p[2])}else{const b=r(p[0]);_.connect(b,p[1])}}}else u.set(l,S-x)},DEFAULT_OPTIONS$a={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},createDelayNodeConstructor=(C,u,n,a,r,g,f)=>class extends C{constructor(l,x){const S=r(l),D={...DEFAULT_OPTIONS$a,...x},h=a(S,D),_=g(S),o=_?n(D.maxDelayTime):null;super(l,!1,h,o),this._delayTime=u(this,_,h.delayTime),f(this,D.maxDelayTime)}get delayTime(){return this._delayTime}},createDelayNodeRendererFactory=(C,u,n,a,r)=>g=>{const f=new WeakMap,m=async(l,x)=>{let S=n(l);const D=isOwnedByContext(S,x);if(!D){const h={channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,delayTime:S.delayTime.value,maxDelayTime:g};S=u(x,h)}return f.set(x,S),D?await C(x,l.delayTime,S.delayTime):await a(x,l.delayTime,S.delayTime),await r(l,x,S),S};return{render(l,x){const S=f.get(x);return S!==void 0?Promise.resolve(S):m(l,x)}}},createDeleteActiveInputConnectionToAudioNode=C=>(u,n,a,r)=>C(u[r],g=>g[0]===n&&g[1]===a),createDeleteUnrenderedAudioWorkletNode=C=>(u,n)=>{C(u).delete(n)},isDelayNode=C=>"delayTime"in C,createDetectCycles=(C,u,n)=>function a(r,g){const f=isAudioNode$1(g)?g:n(C,g);if(isDelayNode(f))return[];if(r[0]===f)return[r];if(r.includes(f))return[];const{outputs:m}=u(f);return Array.from(m).map(l=>a([...r,f],l[0])).reduce((l,x)=>l.concat(x),[])},getOutputAudioNodeAtIndex=(C,u,n)=>{const a=u[n];if(a===void 0)throw C();return a},createDisconnectMultipleOutputs=C=>(u,n=void 0,a=void 0,r=0)=>n===void 0?u.forEach(g=>g.disconnect()):typeof n=="number"?getOutputAudioNodeAtIndex(C,u,n).disconnect():isNativeAudioNode$1(n)?a===void 0?u.forEach(g=>g.disconnect(n)):r===void 0?getOutputAudioNodeAtIndex(C,u,a).disconnect(n,0):getOutputAudioNodeAtIndex(C,u,a).disconnect(n,0,r):a===void 0?u.forEach(g=>g.disconnect(n)):getOutputAudioNodeAtIndex(C,u,a).disconnect(n,0),DEFAULT_OPTIONS$9={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},createDynamicsCompressorNodeConstructor=(C,u,n,a,r,g,f,m)=>class extends C{constructor(x,S){const D=g(x),h={...DEFAULT_OPTIONS$9,...S},_=a(D,h),o=f(D),p=o?n():null;super(x,!1,_,p),this._attack=u(this,o,_.attack),this._knee=u(this,o,_.knee),this._nativeDynamicsCompressorNode=_,this._ratio=u(this,o,_.ratio),this._release=u(this,o,_.release),this._threshold=u(this,o,_.threshold),m(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(x){const S=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=x,x>2)throw this._nativeDynamicsCompressorNode.channelCount=S,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(x){const S=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=x,x==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=S,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},createDynamicsCompressorNodeRendererFactory=(C,u,n,a,r)=>()=>{const g=new WeakMap,f=async(m,l)=>{let x=n(m);const S=isOwnedByContext(x,l);if(!S){const D={attack:x.attack.value,channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,knee:x.knee.value,ratio:x.ratio.value,release:x.release.value,threshold:x.threshold.value};x=u(l,D)}return g.set(l,x),S?(await C(l,m.attack,x.attack),await C(l,m.knee,x.knee),await C(l,m.ratio,x.ratio),await C(l,m.release,x.release),await C(l,m.threshold,x.threshold)):(await a(l,m.attack,x.attack),await a(l,m.knee,x.knee),await a(l,m.ratio,x.ratio),await a(l,m.release,x.release),await a(l,m.threshold,x.threshold)),await r(m,l,x),x};return{render(m,l){const x=g.get(l);return x!==void 0?Promise.resolve(x):f(m,l)}}},createEncodingError=()=>new DOMException("","EncodingError"),createEvaluateSource=C=>u=>new Promise((n,a)=>{if(C===null){a(new SyntaxError);return}const r=C.document.head;if(r===null)a(new SyntaxError);else{const g=C.document.createElement("script"),f=new Blob([u],{type:"application/javascript"}),m=URL.createObjectURL(f),l=C.onerror,x=()=>{C.onerror=l,URL.revokeObjectURL(m)};C.onerror=(S,D,h,_,o)=>{if(D===m||D===C.location.href&&h===1&&_===1)return x(),a(o),!1;if(l!==null)return l(S,D,h,_,o)},g.onerror=()=>{x(),a(new SyntaxError)},g.onload=()=>{x(),n()},g.src=m,g.type="module",r.appendChild(g)}}),createEventTargetConstructor=C=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,a,r){if(a!==null){let g=this._listeners.get(a);g===void 0&&(g=C(this,a),typeof a=="function"&&this._listeners.set(a,g)),this._nativeEventTarget.addEventListener(n,g,r)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,a,r){const g=a===null?void 0:this._listeners.get(a);this._nativeEventTarget.removeEventListener(n,g===void 0?null:g,r)}},createExposeCurrentFrameAndCurrentTime=C=>(u,n,a)=>{Object.defineProperties(C,{currentFrame:{configurable:!0,get(){return Math.round(u*n)}},currentTime:{configurable:!0,get(){return u}}});try{return a()}finally{C!==null&&(delete C.currentFrame,delete C.currentTime)}},createFetchSource=C=>async u=>{try{const n=await fetch(u);if(n.ok)return[await n.text(),n.url]}catch{}throw C()},DEFAULT_OPTIONS$8={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},createGainNodeConstructor=(C,u,n,a,r,g)=>class extends C{constructor(m,l){const x=r(m),S={...DEFAULT_OPTIONS$8,...l},D=a(x,S),h=g(x),_=h?n():null;super(m,!1,D,_),this._gain=u(this,h,D.gain,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT)}get gain(){return this._gain}},createGainNodeRendererFactory=(C,u,n,a,r)=>()=>{const g=new WeakMap,f=async(m,l)=>{let x=n(m);const S=isOwnedByContext(x,l);if(!S){const D={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:x.gain.value};x=u(l,D)}return g.set(l,x),S?await C(l,m.gain,x.gain):await a(l,m.gain,x.gain),await r(m,l,x),x};return{render(m,l){const x=g.get(l);return x!==void 0?Promise.resolve(x):f(m,l)}}},createGetActiveAudioWorkletNodeInputs=(C,u)=>n=>u(C,n),createGetAudioNodeRenderer=C=>u=>{const n=C(u);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},createGetAudioNodeTailTime=C=>u=>{var n;return(n=C.get(u))!==null&&n!==void 0?n:0},createGetAudioParamRenderer=C=>u=>{const n=C(u);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},createGetBackupOfflineAudioContext=C=>u=>C.get(u),createInvalidStateError=()=>new DOMException("","InvalidStateError"),createGetNativeContext=C=>u=>{const n=C.get(u);if(n===void 0)throw createInvalidStateError();return n},createGetOrCreateBackupOfflineAudioContext=(C,u)=>n=>{let a=C.get(n);if(a!==void 0)return a;if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");return a=new u(1,1,44100),C.set(n,a),a},createGetUnrenderedAudioWorkletNodes=C=>u=>{const n=C.get(u);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},createInvalidAccessError=()=>new DOMException("","InvalidAccessError"),wrapIIRFilterNodeGetFrequencyResponseMethod=C=>{C.getFrequencyResponse=(u=>(n,a,r)=>{if(n.length!==a.length||a.length!==r.length)throw createInvalidAccessError();return u.call(C,n,a,r)})(C.getFrequencyResponse)},DEFAULT_OPTIONS$7={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},createIIRFilterNodeConstructor=(C,u,n,a,r,g)=>class extends C{constructor(m,l){const x=a(m),S=r(x),D={...DEFAULT_OPTIONS$7,...l},h=u(x,S?null:m.baseLatency,D),_=S?n(D.feedback,D.feedforward):null;super(m,!1,h,_),wrapIIRFilterNodeGetFrequencyResponseMethod(h),this._nativeIIRFilterNode=h,g(this,1)}getFrequencyResponse(m,l,x){return this._nativeIIRFilterNode.getFrequencyResponse(m,l,x)}},filterBuffer=(C,u,n,a,r,g,f,m,l,x,S)=>{const D=x.length;let h=m;for(let _=0;_<D;_+=1){let o=n[0]*x[_];for(let p=1;p<r;p+=1){const b=h-p&l-1;o+=n[p]*g[b],o-=C[p]*f[b]}for(let p=r;p<a;p+=1)o+=n[p]*g[h-p&l-1];for(let p=r;p<u;p+=1)o-=C[p]*f[h-p&l-1];g[h]=x[_],f[h]=o,h=h+1&l-1,S[_]=o}return h},filterFullBuffer=(C,u,n,a)=>{const r=n instanceof Float64Array?n:new Float64Array(n),g=a instanceof Float64Array?a:new Float64Array(a),f=r.length,m=g.length,l=Math.min(f,m);if(r[0]!==1){for(let o=0;o<f;o+=1)g[o]/=r[0];for(let o=1;o<m;o+=1)r[o]/=r[0]}const x=32,S=new Float32Array(x),D=new Float32Array(x),h=u.createBuffer(C.numberOfChannels,C.length,C.sampleRate),_=C.numberOfChannels;for(let o=0;o<_;o+=1){const p=C.getChannelData(o),b=h.getChannelData(o);S.fill(0),D.fill(0),filterBuffer(r,f,g,m,l,S,D,0,x,p,b)}return h},createIIRFilterNodeRendererFactory=(C,u,n,a,r)=>(g,f)=>{const m=new WeakMap;let l=null;const x=async(S,D)=>{let h=null,_=u(S);const o=isOwnedByContext(_,D);if(D.createIIRFilter===void 0?h=C(D,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):o||(_=D.createIIRFilter(f,g)),m.set(D,h===null?_:h),h!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const b=new n(S.context.destination.channelCount,S.context.length,D.sampleRate);l=(async()=>{await a(S,b,b.destination);const y=await r(b);return filterFullBuffer(y,D,g,f)})()}const p=await l;return h.buffer=p,h.start(0),h}return await a(S,D,_),_};return{render(S,D){const h=m.get(D);return h!==void 0?Promise.resolve(h):x(S,D)}}},createIncrementCycleCounterFactory=(C,u,n,a,r,g)=>f=>(m,l)=>{const x=C.get(m);if(x===void 0){if(!f&&g(m)){const S=a(m),{outputs:D}=n(m);for(const h of D)if(isAudioNodeOutputConnection(h)){const _=a(h[0]);u(S,_,h[1],h[2])}else{const _=r(h[0]);S.disconnect(_,h[1])}}C.set(m,l)}else C.set(m,x+l)},createIsAnyAudioContext=(C,u)=>n=>{const a=C.get(n);return u(a)||u(n)},createIsAnyAudioNode=(C,u)=>n=>C.has(n)||u(n),createIsAnyAudioParam=(C,u)=>n=>C.has(n)||u(n),createIsAnyOfflineAudioContext=(C,u)=>n=>{const a=C.get(n);return u(a)||u(n)},createIsNativeAudioContext=C=>u=>C!==null&&u instanceof C,createIsNativeAudioNode=C=>u=>C!==null&&typeof C.AudioNode=="function"&&u instanceof C.AudioNode,createIsNativeAudioParam=C=>u=>C!==null&&typeof C.AudioParam=="function"&&u instanceof C.AudioParam,createIsNativeContext=(C,u)=>n=>C(n)||u(n),createIsNativeOfflineAudioContext=C=>u=>C!==null&&u instanceof C,createIsSecureContext=C=>C!==null&&C.isSecureContext,createMediaElementAudioSourceNodeConstructor=(C,u,n,a)=>class extends C{constructor(g,f){const m=n(g),l=u(m,f);if(a(m))throw TypeError();super(g,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},DEFAULT_OPTIONS$6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},createMediaStreamAudioDestinationNodeConstructor=(C,u,n,a)=>class extends C{constructor(g,f){const m=n(g);if(a(m))throw new TypeError;const l={...DEFAULT_OPTIONS$6,...f},x=u(m,l);super(g,!1,x,null),this._nativeMediaStreamAudioDestinationNode=x}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},createMediaStreamAudioSourceNodeConstructor=(C,u,n,a)=>class extends C{constructor(g,f){const m=n(g),l=u(m,f);if(a(m))throw new TypeError;super(g,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},createMediaStreamTrackAudioSourceNodeConstructor=(C,u,n)=>class extends C{constructor(r,g){const f=n(r),m=u(f,g);super(r,!0,m,null)}},createMinimalBaseAudioContextConstructor=(C,u,n,a,r,g)=>class extends n{constructor(m,l){super(m),this._nativeContext=m,CONTEXT_STORE.set(this,m),a(m)&&r.set(m,new Set),this._destination=new C(this,l),this._listener=u(this,m),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(m){const l=typeof m=="function"?g(this,m):null;this._nativeContext.onstatechange=l;const x=this._nativeContext.onstatechange;this._onstatechange=x!==null&&x===l?m:x}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},testPromiseSupport=C=>{const u=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=C.decodeAudioData(u.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},createMonitorConnections=(C,u)=>(n,a,r)=>{const g=new Set;return n.connect=(f=>(m,l=0,x=0)=>{const S=g.size===0;if(u(m))return f.call(n,m,l,x),C(g,[m,l,x],D=>D[0]===m&&D[1]===l&&D[2]===x,!0),S&&a(),m;f.call(n,m,l),C(g,[m,l],D=>D[0]===m&&D[1]===l,!0),S&&a()})(n.connect),n.disconnect=(f=>(m,l,x)=>{const S=g.size>0;if(m===void 0)f.apply(n),g.clear();else if(typeof m=="number"){f.call(n,m);for(const h of g)h[1]===m&&g.delete(h)}else{u(m)?f.call(n,m,l,x):f.call(n,m,l);for(const h of g)h[0]===m&&(l===void 0||h[1]===l)&&(x===void 0||h[2]===x)&&g.delete(h)}const D=g.size===0;S&&D&&r()})(n.disconnect),n},assignNativeAudioNodeOption=(C,u,n)=>{const a=u[n];a!==void 0&&a!==C[n]&&(C[n]=a)},assignNativeAudioNodeOptions=(C,u)=>{assignNativeAudioNodeOption(C,u,"channelCount"),assignNativeAudioNodeOption(C,u,"channelCountMode"),assignNativeAudioNodeOption(C,u,"channelInterpretation")},testAnalyserNodeGetFloatTimeDomainDataMethodSupport=C=>typeof C.getFloatTimeDomainData=="function",wrapAnalyserNodeGetFloatTimeDomainDataMethod=C=>{C.getFloatTimeDomainData=u=>{const n=new Uint8Array(u.length);C.getByteTimeDomainData(n);const a=Math.max(n.length,C.fftSize);for(let r=0;r<a;r+=1)u[r]=(n[r]-128)*.0078125;return u}},createNativeAnalyserNodeFactory=(C,u)=>(n,a)=>{const r=n.createAnalyser();if(assignNativeAudioNodeOptions(r,a),!(a.maxDecibels>a.minDecibels))throw u();return assignNativeAudioNodeOption(r,a,"fftSize"),assignNativeAudioNodeOption(r,a,"maxDecibels"),assignNativeAudioNodeOption(r,a,"minDecibels"),assignNativeAudioNodeOption(r,a,"smoothingTimeConstant"),C(testAnalyserNodeGetFloatTimeDomainDataMethodSupport,()=>testAnalyserNodeGetFloatTimeDomainDataMethodSupport(r))||wrapAnalyserNodeGetFloatTimeDomainDataMethod(r),r},createNativeAudioBufferConstructor=C=>C===null?null:C.hasOwnProperty("AudioBuffer")?C.AudioBuffer:null,assignNativeAudioNodeAudioParamValue=(C,u,n)=>{const a=u[n];a!==void 0&&a!==C[n].value&&(C[n].value=a)},wrapAudioBufferSourceNodeStartMethodConsecutiveCalls=C=>{C.start=(u=>{let n=!1;return(a=0,r=0,g)=>{if(n)throw createInvalidStateError();u.call(C,a,r,g),n=!0}})(C.start)},wrapAudioScheduledSourceNodeStartMethodNegativeParameters=C=>{C.start=(u=>(n=0,a=0,r)=>{if(typeof r=="number"&&r<0||a<0||n<0)throw new RangeError("The parameters can't be negative.");u.call(C,n,a,r)})(C.start)},wrapAudioScheduledSourceNodeStopMethodNegativeParameters=C=>{C.stop=(u=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");u.call(C,n)})(C.stop)},createNativeAudioBufferSourceNodeFactory=(C,u,n,a,r,g,f,m,l,x,S)=>(D,h)=>{const _=D.createBufferSource();return assignNativeAudioNodeOptions(_,h),assignNativeAudioNodeAudioParamValue(_,h,"playbackRate"),assignNativeAudioNodeOption(_,h,"buffer"),assignNativeAudioNodeOption(_,h,"loop"),assignNativeAudioNodeOption(_,h,"loopEnd"),assignNativeAudioNodeOption(_,h,"loopStart"),u(n,()=>n(D))||wrapAudioBufferSourceNodeStartMethodConsecutiveCalls(_),u(a,()=>a(D))||l(_),u(r,()=>r(D))||x(_,D),u(g,()=>g(D))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(_),u(f,()=>f(D))||S(_,D),u(m,()=>m(D))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(_),C(D,_),_},createNativeAudioContextConstructor=C=>C===null?null:C.hasOwnProperty("AudioContext")?C.AudioContext:C.hasOwnProperty("webkitAudioContext")?C.webkitAudioContext:null,createNativeAudioDestinationNodeFactory=(C,u)=>(n,a,r)=>{const g=n.destination;if(g.channelCount!==a)try{g.channelCount=a}catch{}r&&g.channelCountMode!=="explicit"&&(g.channelCountMode="explicit"),g.maxChannelCount===0&&Object.defineProperty(g,"maxChannelCount",{value:a});const f=C(n,{channelCount:a,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1});return u(f,"channelCount",m=>()=>m.call(f),m=>l=>{m.call(f,l);try{g.channelCount=l}catch(x){if(l>g.maxChannelCount)throw x}}),u(f,"channelCountMode",m=>()=>m.call(f),m=>l=>{m.call(f,l),g.channelCountMode=l}),u(f,"channelInterpretation",m=>()=>m.call(f),m=>l=>{m.call(f,l),g.channelInterpretation=l}),Object.defineProperty(f,"maxChannelCount",{get:()=>g.maxChannelCount}),f.connect(g),f},createNativeAudioWorkletNodeConstructor=C=>C===null?null:C.hasOwnProperty("AudioWorkletNode")?C.AudioWorkletNode:null,testClonabilityOfAudioWorkletNodeOptions=C=>{const{port1:u}=new MessageChannel;try{u.postMessage(C)}finally{u.close()}},createNativeAudioWorkletNodeFactory=(C,u,n,a,r)=>(g,f,m,l,x,S)=>{if(m!==null)try{const D=new m(g,l,S),h=new Map;let _=null;if(Object.defineProperties(D,{channelCount:{get:()=>S.channelCount,set:()=>{throw C()}},channelCountMode:{get:()=>"explicit",set:()=>{throw C()}},onprocessorerror:{get:()=>_,set:o=>{typeof _=="function"&&D.removeEventListener("processorerror",_),_=typeof o=="function"?o:null,typeof _=="function"&&D.addEventListener("processorerror",_)}}}),D.addEventListener=(o=>(...p)=>{if(p[0]==="processorerror"){const b=typeof p[1]=="function"?p[1]:typeof p[1]=="object"&&p[1]!==null&&typeof p[1].handleEvent=="function"?p[1].handleEvent:null;if(b!==null){const y=h.get(p[1]);y!==void 0?p[1]=y:(p[1]=A=>{A.type==="error"?(Object.defineProperties(A,{type:{value:"processorerror"}}),b(A)):b(new ErrorEvent(p[0],{...A}))},h.set(b,p[1]))}}return o.call(D,"error",p[1],p[2]),o.call(D,...p)})(D.addEventListener),D.removeEventListener=(o=>(...p)=>{if(p[0]==="processorerror"){const b=h.get(p[1]);b!==void 0&&(h.delete(p[1]),p[1]=b)}return o.call(D,"error",p[1],p[2]),o.call(D,p[0],p[1],p[2])})(D.removeEventListener),S.numberOfOutputs!==0){const o=n(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return D.connect(o).connect(g.destination),r(D,()=>o.disconnect(),()=>o.connect(g.destination))}return D}catch(D){throw D.code===11?a():D}if(x===void 0)throw a();return testClonabilityOfAudioWorkletNodeOptions(S),u(g,f,x,S)},computeBufferSize=(C,u)=>C===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(C*u))))),cloneAudioWorkletNodeOptions=C=>new Promise((u,n)=>{const{port1:a,port2:r}=new MessageChannel;a.onmessage=({data:g})=>{a.close(),r.close(),u(g)},a.onmessageerror=({data:g})=>{a.close(),r.close(),n(g)},r.postMessage(C)}),createAudioWorkletProcessorPromise=async(C,u)=>{const n=await cloneAudioWorkletNodeOptions(u);return new C(n)},createAudioWorkletProcessor=(C,u,n,a)=>{let r=NODE_TO_PROCESSOR_MAPS.get(C);r===void 0&&(r=new WeakMap,NODE_TO_PROCESSOR_MAPS.set(C,r));const g=createAudioWorkletProcessorPromise(n,a);return r.set(u,g),g},createNativeAudioWorkletNodeFakerFactory=(C,u,n,a,r,g,f,m,l,x,S,D,h)=>(_,o,p,b)=>{if(b.numberOfInputs===0&&b.numberOfOutputs===0)throw l();const y=Array.isArray(b.outputChannelCount)?b.outputChannelCount:Array.from(b.outputChannelCount);if(y.some(be=>be<1))throw l();if(y.length!==b.numberOfOutputs)throw u();if(b.channelCountMode!=="explicit")throw l();const A=b.channelCount*b.numberOfInputs,E=y.reduce((be,Ne)=>be+Ne,0),N=p.parameterDescriptors===void 0?0:p.parameterDescriptors.length;if(A+N>6||E>6)throw l();const T=new MessageChannel,O=[],j=[];for(let be=0;be<b.numberOfInputs;be+=1)O.push(f(_,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1})),j.push(r(_,{channelCount:b.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:b.channelCount}));const M=[];if(p.parameterDescriptors!==void 0)for(const{defaultValue:be,maxValue:Ne,minValue:he,name:ne}of p.parameterDescriptors){const re=g(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:b.parameterData[ne]!==void 0?b.parameterData[ne]:be===void 0?0:be});Object.defineProperties(re.offset,{defaultValue:{get:()=>be===void 0?0:be},maxValue:{get:()=>Ne===void 0?MOST_POSITIVE_SINGLE_FLOAT:Ne},minValue:{get:()=>he===void 0?MOST_NEGATIVE_SINGLE_FLOAT:he}}),M.push(re)}const F=a(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,A+N)}),B=computeBufferSize(o,_.sampleRate),I=m(_,B,A+N,Math.max(1,E)),G=r(_,{channelCount:Math.max(1,E),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,E)}),k=[];for(let be=0;be<b.numberOfOutputs;be+=1)k.push(a(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[be]}));for(let be=0;be<b.numberOfInputs;be+=1){O[be].connect(j[be]);for(let Ne=0;Ne<b.channelCount;Ne+=1)j[be].connect(F,Ne,be*b.channelCount+Ne)}const V=new ReadOnlyMap(p.parameterDescriptors===void 0?[]:p.parameterDescriptors.map(({name:be},Ne)=>{const he=M[Ne];return he.connect(F,0,A+Ne),he.start(0),[be,he.offset]}));F.connect(I);let R=b.channelInterpretation,U=null;const L=b.numberOfOutputs===0?[I]:k,H={get bufferSize(){return B},get channelCount(){return b.channelCount},set channelCount(be){throw n()},get channelCountMode(){return b.channelCountMode},set channelCountMode(be){throw n()},get channelInterpretation(){return R},set channelInterpretation(be){for(const Ne of O)Ne.channelInterpretation=be;R=be},get context(){return I.context},get inputs(){return O},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get onprocessorerror(){return U},set onprocessorerror(be){typeof U=="function"&&H.removeEventListener("processorerror",U),U=typeof be=="function"?be:null,typeof U=="function"&&H.addEventListener("processorerror",U)},get parameters(){return V},get port(){return T.port2},addEventListener(...be){return I.addEventListener(be[0],be[1],be[2])},connect:C.bind(null,L),disconnect:x.bind(null,L),dispatchEvent(...be){return I.dispatchEvent(be[0])},removeEventListener(...be){return I.removeEventListener(be[0],be[1],be[2])}},X=new Map;T.port1.addEventListener=(be=>(...Ne)=>{if(Ne[0]==="message"){const he=typeof Ne[1]=="function"?Ne[1]:typeof Ne[1]=="object"&&Ne[1]!==null&&typeof Ne[1].handleEvent=="function"?Ne[1].handleEvent:null;if(he!==null){const ne=X.get(Ne[1]);ne!==void 0?Ne[1]=ne:(Ne[1]=re=>{S(_.currentTime,_.sampleRate,()=>he(re))},X.set(he,Ne[1]))}}return be.call(T.port1,Ne[0],Ne[1],Ne[2])})(T.port1.addEventListener),T.port1.removeEventListener=(be=>(...Ne)=>{if(Ne[0]==="message"){const he=X.get(Ne[1]);he!==void 0&&(X.delete(Ne[1]),Ne[1]=he)}return be.call(T.port1,Ne[0],Ne[1],Ne[2])})(T.port1.removeEventListener);let Z=null;Object.defineProperty(T.port1,"onmessage",{get:()=>Z,set:be=>{typeof Z=="function"&&T.port1.removeEventListener("message",Z),Z=typeof be=="function"?be:null,typeof Z=="function"&&(T.port1.addEventListener("message",Z),T.port1.start())}}),p.prototype.port=T.port1;let J=null;createAudioWorkletProcessor(_,H,p,b).then(be=>J=be);const $=createNestedArrays(b.numberOfInputs,b.channelCount),W=createNestedArrays(b.numberOfOutputs,y),Y=p.parameterDescriptors===void 0?[]:p.parameterDescriptors.reduce((be,{name:Ne})=>({...be,[Ne]:new Float32Array(128)}),{});let te=!0;const ce=()=>{b.numberOfOutputs>0&&I.disconnect(G);for(let be=0,Ne=0;be<b.numberOfOutputs;be+=1){const he=k[be];for(let ne=0;ne<y[be];ne+=1)G.disconnect(he,Ne+ne,ne);Ne+=y[be]}},oe=new Map;I.onaudioprocess=({inputBuffer:be,outputBuffer:Ne})=>{if(J!==null){const he=D(H);for(let ne=0;ne<B;ne+=128){for(let re=0;re<b.numberOfInputs;re+=1)for(let de=0;de<b.channelCount;de+=1)copyFromChannel(be,$[re],de,de,ne);p.parameterDescriptors!==void 0&&p.parameterDescriptors.forEach(({name:re},de)=>{copyFromChannel(be,Y,re,A+de,ne)});for(let re=0;re<b.numberOfInputs;re+=1)for(let de=0;de<y[re];de+=1)W[re][de].byteLength===0&&(W[re][de]=new Float32Array(128));try{const re=$.map((xe,Pe)=>{if(he[Pe].size>0)return oe.set(Pe,B/128),xe;const Oe=oe.get(Pe);return Oe===void 0?[]:(xe.every(Se=>Se.every(Fe=>Fe===0))&&(Oe===1?oe.delete(Pe):oe.set(Pe,Oe-1)),xe)});te=S(_.currentTime+ne/_.sampleRate,_.sampleRate,()=>J.process(re,W,Y));for(let xe=0,Pe=0;xe<b.numberOfOutputs;xe+=1){for(let Ae=0;Ae<y[xe];Ae+=1)copyToChannel(Ne,W[xe],Ae,Pe+Ae,ne);Pe+=y[xe]}}catch(re){te=!1,H.dispatchEvent(new ErrorEvent("processorerror",{colno:re.colno,filename:re.filename,lineno:re.lineno,message:re.message}))}if(!te){for(let re=0;re<b.numberOfInputs;re+=1){O[re].disconnect(j[re]);for(let de=0;de<b.channelCount;de+=1)j[ne].disconnect(F,de,re*b.channelCount+de)}if(p.parameterDescriptors!==void 0){const re=p.parameterDescriptors.length;for(let de=0;de<re;de+=1){const xe=M[de];xe.disconnect(F,0,A+de),xe.stop()}}F.disconnect(I),I.onaudioprocess=null,ue?ce():ye();break}}}};let ue=!1;const Ce=f(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),le=()=>I.connect(Ce).connect(_.destination),ye=()=>{I.disconnect(Ce),Ce.disconnect()},ve=()=>{if(te){ye(),b.numberOfOutputs>0&&I.connect(G);for(let be=0,Ne=0;be<b.numberOfOutputs;be+=1){const he=k[be];for(let ne=0;ne<y[be];ne+=1)G.connect(he,Ne+ne,ne);Ne+=y[be]}}ue=!0},pe=()=>{te&&(le(),ce()),ue=!1};return le(),h(H,ve,pe)},createNativeBiquadFilterNode=(C,u)=>{const n=C.createBiquadFilter();return assignNativeAudioNodeOptions(n,u),assignNativeAudioNodeAudioParamValue(n,u,"Q"),assignNativeAudioNodeAudioParamValue(n,u,"detune"),assignNativeAudioNodeAudioParamValue(n,u,"frequency"),assignNativeAudioNodeAudioParamValue(n,u,"gain"),assignNativeAudioNodeOption(n,u,"type"),n},createNativeChannelMergerNodeFactory=(C,u)=>(n,a)=>{const r=n.createChannelMerger(a.numberOfInputs);return C!==null&&C.name==="webkitAudioContext"&&u(n,r),assignNativeAudioNodeOptions(r,a),r},wrapChannelSplitterNode=C=>{const u=C.numberOfOutputs;Object.defineProperty(C,"channelCount",{get:()=>u,set:n=>{if(n!==u)throw createInvalidStateError()}}),Object.defineProperty(C,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw createInvalidStateError()}}),Object.defineProperty(C,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw createInvalidStateError()}})},createNativeChannelSplitterNode=(C,u)=>{const n=C.createChannelSplitter(u.numberOfOutputs);return assignNativeAudioNodeOptions(n,u),wrapChannelSplitterNode(n),n},createNativeConstantSourceNodeFactory=(C,u,n,a,r)=>(g,f)=>{if(g.createConstantSource===void 0)return n(g,f);const m=g.createConstantSource();return assignNativeAudioNodeOptions(m,f),assignNativeAudioNodeAudioParamValue(m,f,"offset"),u(a,()=>a(g))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(m),u(r,()=>r(g))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(m),C(g,m),m},interceptConnections=(C,u)=>(C.connect=u.connect.bind(u),C.disconnect=u.disconnect.bind(u),C),createNativeConstantSourceNodeFakerFactory=(C,u,n,a)=>(r,{offset:g,...f})=>{const m=r.createBuffer(1,2,44100),l=u(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),x=n(r,{...f,gain:g}),S=m.getChannelData(0);S[0]=1,S[1]=1,l.buffer=m,l.loop=!0;const D={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(o){x.channelCount=o},get channelCountMode(){return x.channelCountMode},set channelCountMode(o){x.channelCountMode=o},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(o){x.channelInterpretation=o},get context(){return x.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get offset(){return x.gain},get onended(){return l.onended},set onended(o){l.onended=o},addEventListener(...o){return l.addEventListener(o[0],o[1],o[2])},dispatchEvent(...o){return l.dispatchEvent(o[0])},removeEventListener(...o){return l.removeEventListener(o[0],o[1],o[2])},start(o=0){l.start.call(l,o)},stop(o=0){l.stop.call(l,o)}},h=()=>l.connect(x),_=()=>l.disconnect(x);return C(r,l),a(interceptConnections(D,x),h,_)},createNativeConvolverNodeFactory=(C,u)=>(n,a)=>{const r=n.createConvolver();if(assignNativeAudioNodeOptions(r,a),a.disableNormalization===r.normalize&&(r.normalize=!a.disableNormalization),assignNativeAudioNodeOption(r,a,"buffer"),a.channelCount>2||(u(r,"channelCount",g=>()=>g.call(r),g=>f=>{if(f>2)throw C();return g.call(r,f)}),a.channelCountMode==="max"))throw C();return u(r,"channelCountMode",g=>()=>g.call(r),g=>f=>{if(f==="max")throw C();return g.call(r,f)}),r},createNativeDelayNode=(C,u)=>{const n=C.createDelay(u.maxDelayTime);return assignNativeAudioNodeOptions(n,u),assignNativeAudioNodeAudioParamValue(n,u,"delayTime"),n},createNativeDynamicsCompressorNodeFactory=C=>(u,n)=>{const a=u.createDynamicsCompressor();if(assignNativeAudioNodeOptions(a,n),n.channelCount>2||n.channelCountMode==="max")throw C();return assignNativeAudioNodeAudioParamValue(a,n,"attack"),assignNativeAudioNodeAudioParamValue(a,n,"knee"),assignNativeAudioNodeAudioParamValue(a,n,"ratio"),assignNativeAudioNodeAudioParamValue(a,n,"release"),assignNativeAudioNodeAudioParamValue(a,n,"threshold"),a},createNativeGainNode=(C,u)=>{const n=C.createGain();return assignNativeAudioNodeOptions(n,u),assignNativeAudioNodeAudioParamValue(n,u,"gain"),n},createNativeIIRFilterNodeFactory=C=>(u,n,a)=>{if(u.createIIRFilter===void 0)return C(u,n,a);const r=u.createIIRFilter(a.feedforward,a.feedback);return assignNativeAudioNodeOptions(r,a),r};function divide$1(C,u){const n=u[0]*u[0]+u[1]*u[1];return[(C[0]*u[0]+C[1]*u[1])/n,(C[1]*u[0]-C[0]*u[1])/n]}function multiply$1(C,u){return[C[0]*u[0]-C[1]*u[1],C[0]*u[1]+C[1]*u[0]]}function evaluatePolynomial(C,u){let n=[0,0];for(let a=C.length-1;a>=0;a-=1)n=multiply$1(n,u),n[0]+=C[a];return n}const createNativeIIRFilterNodeFakerFactory=(C,u,n,a)=>(r,g,{channelCount:f,channelCountMode:m,channelInterpretation:l,feedback:x,feedforward:S})=>{const D=computeBufferSize(g,r.sampleRate),h=x instanceof Float64Array?x:new Float64Array(x),_=S instanceof Float64Array?S:new Float64Array(S),o=h.length,p=_.length,b=Math.min(o,p);if(o===0||o>20)throw a();if(h[0]===0)throw u();if(p===0||p>20)throw a();if(_[0]===0)throw u();if(h[0]!==1){for(let M=0;M<p;M+=1)_[M]/=h[0];for(let M=1;M<o;M+=1)h[M]/=h[0]}const y=n(r,D,f,f);y.channelCount=f,y.channelCountMode=m,y.channelInterpretation=l;const A=32,E=[],N=[],T=[];for(let M=0;M<f;M+=1){E.push(0);const F=new Float32Array(A),B=new Float32Array(A);F.fill(0),B.fill(0),N.push(F),T.push(B)}y.onaudioprocess=M=>{const F=M.inputBuffer,B=M.outputBuffer,I=F.numberOfChannels;for(let G=0;G<I;G+=1){const k=F.getChannelData(G),V=B.getChannelData(G);E[G]=filterBuffer(h,o,_,p,b,N[G],T[G],E[G],A,k,V)}};const O=r.sampleRate/2;return interceptConnections({get bufferSize(){return D},get channelCount(){return y.channelCount},set channelCount(M){y.channelCount=M},get channelCountMode(){return y.channelCountMode},set channelCountMode(M){y.channelCountMode=M},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(M){y.channelInterpretation=M},get context(){return y.context},get inputs(){return[y]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},addEventListener(...M){return y.addEventListener(M[0],M[1],M[2])},dispatchEvent(...M){return y.dispatchEvent(M[0])},getFrequencyResponse(M,F,B){if(M.length!==F.length||F.length!==B.length)throw C();const I=M.length;for(let G=0;G<I;G+=1){const k=-Math.PI*(M[G]/O),V=[Math.cos(k),Math.sin(k)],R=evaluatePolynomial(_,V),U=evaluatePolynomial(h,V),L=divide$1(R,U);F[G]=Math.sqrt(L[0]*L[0]+L[1]*L[1]),B[G]=Math.atan2(L[1],L[0])}},removeEventListener(...M){return y.removeEventListener(M[0],M[1],M[2])}},y)},createNativeMediaElementAudioSourceNode=(C,u)=>C.createMediaElementSource(u.mediaElement),createNativeMediaStreamAudioDestinationNode=(C,u)=>{const n=C.createMediaStreamDestination();return assignNativeAudioNodeOptions(n,u),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},createNativeMediaStreamAudioSourceNode=(C,{mediaStream:u})=>{const n=u.getAudioTracks();n.sort((g,f)=>g.id<f.id?-1:g.id>f.id?1:0);const a=n.slice(0,1),r=C.createMediaStreamSource(new MediaStream(a));return Object.defineProperty(r,"mediaStream",{value:u}),r},createNativeMediaStreamTrackAudioSourceNodeFactory=(C,u)=>(n,{mediaStreamTrack:a})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(a);const r=new MediaStream([a]),g=n.createMediaStreamSource(r);if(a.kind!=="audio")throw C();if(u(n))throw new TypeError;return g},createNativeOfflineAudioContextConstructor=C=>C===null?null:C.hasOwnProperty("OfflineAudioContext")?C.OfflineAudioContext:C.hasOwnProperty("webkitOfflineAudioContext")?C.webkitOfflineAudioContext:null,createNativeOscillatorNodeFactory=(C,u,n,a,r,g)=>(f,m)=>{const l=f.createOscillator();return assignNativeAudioNodeOptions(l,m),assignNativeAudioNodeAudioParamValue(l,m,"detune"),assignNativeAudioNodeAudioParamValue(l,m,"frequency"),m.periodicWave!==void 0?l.setPeriodicWave(m.periodicWave):assignNativeAudioNodeOption(l,m,"type"),u(n,()=>n(f))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(l),u(a,()=>a(f))||g(l,f),u(r,()=>r(f))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(l),C(f,l),l},createNativePannerNodeFactory=C=>(u,n)=>{const a=u.createPanner();return a.orientationX===void 0?C(u,n):(assignNativeAudioNodeOptions(a,n),assignNativeAudioNodeAudioParamValue(a,n,"orientationX"),assignNativeAudioNodeAudioParamValue(a,n,"orientationY"),assignNativeAudioNodeAudioParamValue(a,n,"orientationZ"),assignNativeAudioNodeAudioParamValue(a,n,"positionX"),assignNativeAudioNodeAudioParamValue(a,n,"positionY"),assignNativeAudioNodeAudioParamValue(a,n,"positionZ"),assignNativeAudioNodeOption(a,n,"coneInnerAngle"),assignNativeAudioNodeOption(a,n,"coneOuterAngle"),assignNativeAudioNodeOption(a,n,"coneOuterGain"),assignNativeAudioNodeOption(a,n,"distanceModel"),assignNativeAudioNodeOption(a,n,"maxDistance"),assignNativeAudioNodeOption(a,n,"panningModel"),assignNativeAudioNodeOption(a,n,"refDistance"),assignNativeAudioNodeOption(a,n,"rolloffFactor"),a)},createNativePannerNodeFakerFactory=(C,u,n,a,r,g,f,m,l,x)=>(S,{coneInnerAngle:D,coneOuterAngle:h,coneOuterGain:_,distanceModel:o,maxDistance:p,orientationX:b,orientationY:y,orientationZ:A,panningModel:E,positionX:N,positionY:T,positionZ:O,refDistance:j,rolloffFactor:M,...F})=>{const B=S.createPanner();if(F.channelCount>2||F.channelCountMode==="max")throw f();assignNativeAudioNodeOptions(B,F);const I={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},G=n(S,{...I,channelInterpretation:"speakers",numberOfInputs:6}),k=a(S,{...F,gain:1}),V=a(S,{...I,gain:1}),R=a(S,{...I,gain:0}),U=a(S,{...I,gain:0}),L=a(S,{...I,gain:0}),H=a(S,{...I,gain:0}),X=a(S,{...I,gain:0}),Z=r(S,256,6,1),J=g(S,{...I,curve:new Float32Array([1,1]),oversample:"none"});let K=[b,y,A],$=[N,T,O];const W=new Float32Array(1);Z.onaudioprocess=({inputBuffer:oe})=>{const ue=[l(oe,W,0),l(oe,W,1),l(oe,W,2)];ue.some((le,ye)=>le!==K[ye])&&(B.setOrientation(...ue),K=ue);const Ce=[l(oe,W,3),l(oe,W,4),l(oe,W,5)];Ce.some((le,ye)=>le!==$[ye])&&(B.setPosition(...Ce),$=Ce)},Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(U.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(H.gain,"defaultValue",{get:()=>0}),Object.defineProperty(X.gain,"defaultValue",{get:()=>0});const Y={get bufferSize(){},get channelCount(){return B.channelCount},set channelCount(oe){if(oe>2)throw f();k.channelCount=oe,B.channelCount=oe},get channelCountMode(){return B.channelCountMode},set channelCountMode(oe){if(oe==="max")throw f();k.channelCountMode=oe,B.channelCountMode=oe},get channelInterpretation(){return B.channelInterpretation},set channelInterpretation(oe){k.channelInterpretation=oe,B.channelInterpretation=oe},get coneInnerAngle(){return B.coneInnerAngle},set coneInnerAngle(oe){B.coneInnerAngle=oe},get coneOuterAngle(){return B.coneOuterAngle},set coneOuterAngle(oe){B.coneOuterAngle=oe},get coneOuterGain(){return B.coneOuterGain},set coneOuterGain(oe){if(oe<0||oe>1)throw u();B.coneOuterGain=oe},get context(){return B.context},get distanceModel(){return B.distanceModel},set distanceModel(oe){B.distanceModel=oe},get inputs(){return[k]},get maxDistance(){return B.maxDistance},set maxDistance(oe){if(oe<0)throw new RangeError;B.maxDistance=oe},get numberOfInputs(){return B.numberOfInputs},get numberOfOutputs(){return B.numberOfOutputs},get orientationX(){return V.gain},get orientationY(){return R.gain},get orientationZ(){return U.gain},get panningModel(){return B.panningModel},set panningModel(oe){B.panningModel=oe},get positionX(){return L.gain},get positionY(){return H.gain},get positionZ(){return X.gain},get refDistance(){return B.refDistance},set refDistance(oe){if(oe<0)throw new RangeError;B.refDistance=oe},get rolloffFactor(){return B.rolloffFactor},set rolloffFactor(oe){if(oe<0)throw new RangeError;B.rolloffFactor=oe},addEventListener(...oe){return k.addEventListener(oe[0],oe[1],oe[2])},dispatchEvent(...oe){return k.dispatchEvent(oe[0])},removeEventListener(...oe){return k.removeEventListener(oe[0],oe[1],oe[2])}};D!==Y.coneInnerAngle&&(Y.coneInnerAngle=D),h!==Y.coneOuterAngle&&(Y.coneOuterAngle=h),_!==Y.coneOuterGain&&(Y.coneOuterGain=_),o!==Y.distanceModel&&(Y.distanceModel=o),p!==Y.maxDistance&&(Y.maxDistance=p),b!==Y.orientationX.value&&(Y.orientationX.value=b),y!==Y.orientationY.value&&(Y.orientationY.value=y),A!==Y.orientationZ.value&&(Y.orientationZ.value=A),E!==Y.panningModel&&(Y.panningModel=E),N!==Y.positionX.value&&(Y.positionX.value=N),T!==Y.positionY.value&&(Y.positionY.value=T),O!==Y.positionZ.value&&(Y.positionZ.value=O),j!==Y.refDistance&&(Y.refDistance=j),M!==Y.rolloffFactor&&(Y.rolloffFactor=M),(K[0]!==1||K[1]!==0||K[2]!==0)&&B.setOrientation(...K),($[0]!==0||$[1]!==0||$[2]!==0)&&B.setPosition(...$);const te=()=>{k.connect(B),C(k,J,0,0),J.connect(V).connect(G,0,0),J.connect(R).connect(G,0,1),J.connect(U).connect(G,0,2),J.connect(L).connect(G,0,3),J.connect(H).connect(G,0,4),J.connect(X).connect(G,0,5),G.connect(Z).connect(S.destination)},ce=()=>{k.disconnect(B),m(k,J,0,0),J.disconnect(V),V.disconnect(G),J.disconnect(R),R.disconnect(G),J.disconnect(U),U.disconnect(G),J.disconnect(L),L.disconnect(G),J.disconnect(H),H.disconnect(G),J.disconnect(X),X.disconnect(G),G.disconnect(Z),Z.disconnect(S.destination)};return x(interceptConnections(Y,B),te,ce)},createNativePeriodicWaveFactory=C=>(u,{disableNormalization:n,imag:a,real:r})=>{const g=a instanceof Float32Array?a:new Float32Array(a),f=r instanceof Float32Array?r:new Float32Array(r),m=u.createPeriodicWave(f,g,{disableNormalization:n});if(Array.from(a).length<2)throw C();return m},createNativeScriptProcessorNode=(C,u,n,a)=>C.createScriptProcessor(u,n,a),createNativeStereoPannerNodeFactory=(C,u)=>(n,a)=>{const r=a.channelCountMode;if(r==="clamped-max")throw u();if(n.createStereoPanner===void 0)return C(n,a);const g=n.createStereoPanner();return assignNativeAudioNodeOptions(g,a),assignNativeAudioNodeAudioParamValue(g,a,"pan"),Object.defineProperty(g,"channelCountMode",{get:()=>r,set:f=>{if(f!==r)throw u()}}),g},createNativeStereoPannerNodeFakerFactory=(C,u,n,a,r,g)=>{const m=new Float32Array([1,1]),l=Math.PI/2,x={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},S={...x,oversample:"none"},D=(o,p,b,y)=>{const A=new Float32Array(16385),E=new Float32Array(16385);for(let F=0;F<16385;F+=1){const B=F/16384*l;A[F]=Math.cos(B),E[F]=Math.sin(B)}const N=n(o,{...x,gain:0}),T=a(o,{...S,curve:A}),O=a(o,{...S,curve:m}),j=n(o,{...x,gain:0}),M=a(o,{...S,curve:E});return{connectGraph(){p.connect(N),p.connect(O.inputs===void 0?O:O.inputs[0]),p.connect(j),O.connect(b),b.connect(T.inputs===void 0?T:T.inputs[0]),b.connect(M.inputs===void 0?M:M.inputs[0]),T.connect(N.gain),M.connect(j.gain),N.connect(y,0,0),j.connect(y,0,1)},disconnectGraph(){p.disconnect(N),p.disconnect(O.inputs===void 0?O:O.inputs[0]),p.disconnect(j),O.disconnect(b),b.disconnect(T.inputs===void 0?T:T.inputs[0]),b.disconnect(M.inputs===void 0?M:M.inputs[0]),T.disconnect(N.gain),M.disconnect(j.gain),N.disconnect(y,0,0),j.disconnect(y,0,1)}}},h=(o,p,b,y)=>{const A=new Float32Array(16385),E=new Float32Array(16385),N=new Float32Array(16385),T=new Float32Array(16385),O=Math.floor(16385/2);for(let L=0;L<16385;L+=1)if(L>O){const H=(L-O)/(16384-O)*l;A[L]=Math.cos(H),E[L]=Math.sin(H),N[L]=0,T[L]=1}else{const H=L/(16384-O)*l;A[L]=1,E[L]=0,N[L]=Math.cos(H),T[L]=Math.sin(H)}const j=u(o,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),M=n(o,{...x,gain:0}),F=a(o,{...S,curve:A}),B=n(o,{...x,gain:0}),I=a(o,{...S,curve:E}),G=a(o,{...S,curve:m}),k=n(o,{...x,gain:0}),V=a(o,{...S,curve:N}),R=n(o,{...x,gain:0}),U=a(o,{...S,curve:T});return{connectGraph(){p.connect(j),p.connect(G.inputs===void 0?G:G.inputs[0]),j.connect(M,0),j.connect(B,0),j.connect(k,1),j.connect(R,1),G.connect(b),b.connect(F.inputs===void 0?F:F.inputs[0]),b.connect(I.inputs===void 0?I:I.inputs[0]),b.connect(V.inputs===void 0?V:V.inputs[0]),b.connect(U.inputs===void 0?U:U.inputs[0]),F.connect(M.gain),I.connect(B.gain),V.connect(k.gain),U.connect(R.gain),M.connect(y,0,0),k.connect(y,0,0),B.connect(y,0,1),R.connect(y,0,1)},disconnectGraph(){p.disconnect(j),p.disconnect(G.inputs===void 0?G:G.inputs[0]),j.disconnect(M,0),j.disconnect(B,0),j.disconnect(k,1),j.disconnect(R,1),G.disconnect(b),b.disconnect(F.inputs===void 0?F:F.inputs[0]),b.disconnect(I.inputs===void 0?I:I.inputs[0]),b.disconnect(V.inputs===void 0?V:V.inputs[0]),b.disconnect(U.inputs===void 0?U:U.inputs[0]),F.disconnect(M.gain),I.disconnect(B.gain),V.disconnect(k.gain),U.disconnect(R.gain),M.disconnect(y,0,0),k.disconnect(y,0,0),B.disconnect(y,0,1),R.disconnect(y,0,1)}}},_=(o,p,b,y,A)=>{if(p===1)return D(o,b,y,A);if(p===2)return h(o,b,y,A);throw r()};return(o,{channelCount:p,channelCountMode:b,pan:y,...A})=>{if(b==="max")throw r();const E=C(o,{...A,channelCount:1,channelCountMode:b,numberOfInputs:2}),N=n(o,{...A,channelCount:p,channelCountMode:b,gain:1}),T=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:y});let{connectGraph:O,disconnectGraph:j}=_(o,p,N,T,E);Object.defineProperty(T.gain,"defaultValue",{get:()=>0}),Object.defineProperty(T.gain,"maxValue",{get:()=>1}),Object.defineProperty(T.gain,"minValue",{get:()=>-1});const M={get bufferSize(){},get channelCount(){return N.channelCount},set channelCount(G){N.channelCount!==G&&(F&&j(),{connectGraph:O,disconnectGraph:j}=_(o,G,N,T,E),F&&O()),N.channelCount=G},get channelCountMode(){return N.channelCountMode},set channelCountMode(G){if(G==="clamped-max"||G==="max")throw r();N.channelCountMode=G},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(G){N.channelInterpretation=G},get context(){return N.context},get inputs(){return[N]},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},get pan(){return T.gain},addEventListener(...G){return N.addEventListener(G[0],G[1],G[2])},dispatchEvent(...G){return N.dispatchEvent(G[0])},removeEventListener(...G){return N.removeEventListener(G[0],G[1],G[2])}};let F=!1;const B=()=>{O(),F=!0},I=()=>{j(),F=!1};return g(interceptConnections(M,E),B,I)}},createNativeWaveShaperNodeFactory=(C,u,n,a,r,g,f)=>(m,l)=>{const x=m.createWaveShaper();if(g!==null&&g.name==="webkitAudioContext"&&m.createGain().gain.automationRate===void 0)return n(m,l);assignNativeAudioNodeOptions(x,l);const S=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(S!==null&&S.length<2)throw u();assignNativeAudioNodeOption(x,{curve:S},"curve"),assignNativeAudioNodeOption(x,l,"oversample");let D=null,h=!1;return f(x,"curve",p=>()=>p.call(x),p=>b=>(p.call(x,b),h&&(a(b)&&D===null?D=C(m,x):!a(b)&&D!==null&&(D(),D=null)),b)),r(x,()=>{h=!0,a(x.curve)&&(D=C(m,x))},()=>{h=!1,D!==null&&(D(),D=null)})},createNativeWaveShaperNodeFakerFactory=(C,u,n,a,r)=>(g,{curve:f,oversample:m,...l})=>{const x=g.createWaveShaper(),S=g.createWaveShaper();assignNativeAudioNodeOptions(x,l),assignNativeAudioNodeOptions(S,l);const D=n(g,{...l,gain:1}),h=n(g,{...l,gain:-1}),_=n(g,{...l,gain:1}),o=n(g,{...l,gain:-1});let p=null,b=!1,y=null;const A={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(T){D.channelCount=T,h.channelCount=T,x.channelCount=T,_.channelCount=T,S.channelCount=T,o.channelCount=T},get channelCountMode(){return x.channelCountMode},set channelCountMode(T){D.channelCountMode=T,h.channelCountMode=T,x.channelCountMode=T,_.channelCountMode=T,S.channelCountMode=T,o.channelCountMode=T},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(T){D.channelInterpretation=T,h.channelInterpretation=T,x.channelInterpretation=T,_.channelInterpretation=T,S.channelInterpretation=T,o.channelInterpretation=T},get context(){return x.context},get curve(){return y},set curve(T){if(T!==null&&T.length<2)throw u();if(T===null)x.curve=T,S.curve=T;else{const O=T.length,j=new Float32Array(O+2-O%2),M=new Float32Array(O+2-O%2);j[0]=T[0],M[0]=-T[O-1];const F=Math.ceil((O+1)/2),B=(O+1)/2-1;for(let I=1;I<F;I+=1){const G=I/F*B,k=Math.floor(G),V=Math.ceil(G);j[I]=k===V?T[k]:(1-(G-k))*T[k]+(1-(V-G))*T[V],M[I]=k===V?-T[O-1-k]:-((1-(G-k))*T[O-1-k])-(1-(V-G))*T[O-1-V]}j[F]=O%2===1?T[F-1]:(T[F-2]+T[F-1])/2,x.curve=j,S.curve=M}y=T,b&&(a(y)&&p===null?p=C(g,D):p!==null&&(p(),p=null))},get inputs(){return[D]},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get oversample(){return x.oversample},set oversample(T){x.oversample=T,S.oversample=T},addEventListener(...T){return D.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return D.dispatchEvent(T[0])},removeEventListener(...T){return D.removeEventListener(T[0],T[1],T[2])}};f!==null&&(A.curve=f instanceof Float32Array?f:new Float32Array(f)),m!==A.oversample&&(A.oversample=m);const E=()=>{D.connect(x).connect(_),D.connect(h).connect(S).connect(o).connect(_),b=!0,a(y)&&(p=C(g,D))},N=()=>{D.disconnect(x),x.disconnect(_),D.disconnect(h),h.disconnect(S),S.disconnect(o),o.disconnect(_),b=!1,p!==null&&(p(),p=null)};return r(interceptConnections(A,_),E,N)},createNotSupportedError=()=>new DOMException("","NotSupportedError"),DEFAULT_OPTIONS$5={numberOfChannels:1},createOfflineAudioContextConstructor=(C,u,n,a,r)=>class extends C{constructor(f,m,l){let x;if(typeof f=="number"&&m!==void 0&&l!==void 0)x={length:m,numberOfChannels:f,sampleRate:l};else if(typeof f=="object")x=f;else throw new Error("The given parameters are not valid.");const{length:S,numberOfChannels:D,sampleRate:h}={...DEFAULT_OPTIONS$5,...x},_=a(D,S,h);u(testPromiseSupport,()=>testPromiseSupport(_))||_.addEventListener("statechange",(()=>{let o=0;const p=b=>{this._state==="running"&&(o>0?(_.removeEventListener("statechange",p),b.stopImmediatePropagation(),this._waitForThePromiseToSettle(b)):o+=1)};return p})()),super(_,D),this._length=S,this._nativeOfflineAudioContext=_,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,deactivateAudioGraph(this)}))}_waitForThePromiseToSettle(f){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(f):setTimeout(()=>this._waitForThePromiseToSettle(f))}},DEFAULT_OPTIONS$4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},createOscillatorNodeConstructor=(C,u,n,a,r,g,f)=>class extends C{constructor(l,x){const S=r(l),D={...DEFAULT_OPTIONS$4,...x},h=n(S,D),_=g(S),o=_?a():null,p=l.sampleRate/2;super(l,!1,h,o),this._detune=u(this,_,h.detune,153600,-153600),this._frequency=u(this,_,h.frequency,p,-p),this._nativeOscillatorNode=h,this._onended=null,this._oscillatorNodeRenderer=o,this._oscillatorNodeRenderer!==null&&D.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=D.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const x=typeof l=="function"?f(this,l):null;this._nativeOscillatorNode.onended=x;const S=this._nativeOscillatorNode.onended;this._onended=S!==null&&S===x?l:S}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){setInternalStateToActive(this);const x=()=>{this._nativeOscillatorNode.removeEventListener("ended",x),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeOscillatorNode.addEventListener("ended",x)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},createOscillatorNodeRendererFactory=(C,u,n,a,r)=>()=>{const g=new WeakMap;let f=null,m=null,l=null;const x=async(S,D)=>{let h=n(S);const _=isOwnedByContext(h,D);if(!_){const o={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:f===null?void 0:f,type:h.type};h=u(D,o),m!==null&&h.start(m),l!==null&&h.stop(l)}return g.set(D,h),_?(await C(D,S.detune,h.detune),await C(D,S.frequency,h.frequency)):(await a(D,S.detune,h.detune),await a(D,S.frequency,h.frequency)),await r(S,D,h),h};return{set periodicWave(S){f=S},set start(S){m=S},set stop(S){l=S},render(S,D){const h=g.get(D);return h!==void 0?Promise.resolve(h):x(S,D)}}},DEFAULT_OPTIONS$3={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},createPannerNodeConstructor=(C,u,n,a,r,g,f)=>class extends C{constructor(l,x){const S=r(l),D={...DEFAULT_OPTIONS$3,...x},h=n(S,D),_=g(S),o=_?a():null;super(l,!1,h,o),this._nativePannerNode=h,this._orientationX=u(this,_,h.orientationX,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._orientationY=u(this,_,h.orientationY,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._orientationZ=u(this,_,h.orientationZ,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionX=u(this,_,h.positionX,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionY=u(this,_,h.positionY,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionZ=u(this,_,h.positionZ,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),f(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},createPannerNodeRendererFactory=(C,u,n,a,r,g,f,m,l,x)=>()=>{const S=new WeakMap;let D=null;const h=async(_,o)=>{let p=null,b=g(_);const y={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation},A={...y,coneInnerAngle:b.coneInnerAngle,coneOuterAngle:b.coneOuterAngle,coneOuterGain:b.coneOuterGain,distanceModel:b.distanceModel,maxDistance:b.maxDistance,panningModel:b.panningModel,refDistance:b.refDistance,rolloffFactor:b.rolloffFactor},E=isOwnedByContext(b,o);if("bufferSize"in b)p=a(o,{...y,gain:1});else if(!E){const N={...A,orientationX:b.orientationX.value,orientationY:b.orientationY.value,orientationZ:b.orientationZ.value,positionX:b.positionX.value,positionY:b.positionY.value,positionZ:b.positionZ.value};b=r(o,N)}if(S.set(o,p===null?b:p),p!==null){if(D===null){if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const I=new f(6,_.context.length,o.sampleRate),G=u(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});G.connect(I.destination),D=(async()=>{const k=await Promise.all([_.orientationX,_.orientationY,_.orientationZ,_.positionX,_.positionY,_.positionZ].map(async(V,R)=>{const U=n(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:R===0?1:0});return await m(I,V,U.offset),U}));for(let V=0;V<6;V+=1)k[V].connect(G,0,V),k[V].start(0);return x(I)})()}const N=await D,T=a(o,{...y,gain:1});await l(_,o,T);const O=[];for(let I=0;I<N.numberOfChannels;I+=1)O.push(N.getChannelData(I));let j=[O[0][0],O[1][0],O[2][0]],M=[O[3][0],O[4][0],O[5][0]],F=a(o,{...y,gain:1}),B=r(o,{...A,orientationX:j[0],orientationY:j[1],orientationZ:j[2],positionX:M[0],positionY:M[1],positionZ:M[2]});T.connect(F).connect(B.inputs[0]),B.connect(p);for(let I=128;I<N.length;I+=128){const G=[O[0][I],O[1][I],O[2][I]],k=[O[3][I],O[4][I],O[5][I]];if(G.some((V,R)=>V!==j[R])||k.some((V,R)=>V!==M[R])){j=G,M=k;const V=I/o.sampleRate;F.gain.setValueAtTime(0,V),F=a(o,{...y,gain:0}),B=r(o,{...A,orientationX:j[0],orientationY:j[1],orientationZ:j[2],positionX:M[0],positionY:M[1],positionZ:M[2]}),F.gain.setValueAtTime(1,V),T.connect(F).connect(B.inputs[0]),B.connect(p)}}return p}return E?(await C(o,_.orientationX,b.orientationX),await C(o,_.orientationY,b.orientationY),await C(o,_.orientationZ,b.orientationZ),await C(o,_.positionX,b.positionX),await C(o,_.positionY,b.positionY),await C(o,_.positionZ,b.positionZ)):(await m(o,_.orientationX,b.orientationX),await m(o,_.orientationY,b.orientationY),await m(o,_.orientationZ,b.orientationZ),await m(o,_.positionX,b.positionX),await m(o,_.positionY,b.positionY),await m(o,_.positionZ,b.positionZ)),isNativeAudioNodeFaker(b)?await l(_,o,b.inputs[0]):await l(_,o,b),b};return{render(_,o){const p=S.get(o);return p!==void 0?Promise.resolve(p):h(_,o)}}},DEFAULT_OPTIONS$2={disableNormalization:!1},createPeriodicWaveConstructor=(C,u,n,a)=>class Us{constructor(g,f){const m=u(g),l=a({...DEFAULT_OPTIONS$2,...f}),x=C(m,l);return n.add(x),x}static[Symbol.hasInstance](g){return g!==null&&typeof g=="object"&&Object.getPrototypeOf(g)===Us.prototype||n.has(g)}},createRenderAutomation=(C,u)=>(n,a,r)=>(C(a).replay(r),u(a,n,r)),createRenderInputsOfAudioNode=(C,u,n)=>async(a,r,g)=>{const f=C(a);await Promise.all(f.activeInputs.map((m,l)=>Array.from(m).map(async([x,S])=>{const h=await u(x).render(x,r),_=a.context.destination;!n(x)&&(a!==_||!n(a))&&h.connect(g,S,l)})).reduce((m,l)=>[...m,...l],[]))},createRenderInputsOfAudioParam=(C,u,n)=>async(a,r,g)=>{const f=u(a);await Promise.all(Array.from(f.activeInputs).map(async([m,l])=>{const S=await C(m).render(m,r);n(m)||S.connect(g,l)}))},createRenderNativeOfflineAudioContext=(C,u,n,a)=>r=>C(testPromiseSupport,()=>testPromiseSupport(r))?Promise.resolve(C(a,a)).then(g=>{if(!g){const f=n(r,512,0,1);r.oncomplete=()=>{f.onaudioprocess=null,f.disconnect()},f.onaudioprocess=()=>r.currentTime,f.connect(r.destination)}return r.startRendering()}):new Promise(g=>{const f=u(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=m=>{f.disconnect(),g(m.renderedBuffer)},f.connect(r.destination),r.startRendering()}),createSetActiveAudioWorkletNodeInputs=C=>(u,n)=>{C.set(u,n)},createSetAudioNodeTailTime=C=>(u,n)=>C.set(u,n),createStartRendering=(C,u,n,a,r,g,f,m)=>(l,x)=>n(l).render(l,x).then(()=>Promise.all(Array.from(a(x)).map(S=>n(S).render(S,x)))).then(()=>r(x)).then(S=>(typeof S.copyFromChannel!="function"?(f(S),wrapAudioBufferGetChannelDataMethod(S)):u(g,()=>g(S))||m(S),C.add(S),S)),DEFAULT_OPTIONS$1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},createStereoPannerNodeConstructor=(C,u,n,a,r,g)=>class extends C{constructor(m,l){const x=r(m),S={...DEFAULT_OPTIONS$1,...l},D=n(x,S),h=g(x),_=h?a():null;super(m,!1,D,_),this._pan=u(this,h,D.pan)}get pan(){return this._pan}},createStereoPannerNodeRendererFactory=(C,u,n,a,r)=>()=>{const g=new WeakMap,f=async(m,l)=>{let x=n(m);const S=isOwnedByContext(x,l);if(!S){const D={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,pan:x.pan.value};x=u(l,D)}return g.set(l,x),S?await C(l,m.pan,x.pan):await a(l,m.pan,x.pan),isNativeAudioNodeFaker(x)?await r(m,l,x.inputs[0]):await r(m,l,x),x};return{render(m,l){const x=g.get(l);return x!==void 0?Promise.resolve(x):f(m,l)}}},createTestAudioBufferConstructorSupport=C=>()=>{if(C===null)return!1;try{new C({length:1,sampleRate:44100})}catch{return!1}return!0},createTestAudioWorkletProcessorPostMessageSupport=(C,u)=>async()=>{if(C===null)return!0;if(u===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),a=new u(1,128,44100),r=URL.createObjectURL(n);let g=!1,f=!1;try{await a.audioWorklet.addModule(r);const m=new C(a,"a",{numberOfOutputs:0}),l=a.createOscillator();m.port.onmessage=()=>g=!0,m.onprocessorerror=()=>f=!0,l.connect(m),l.start(0),await a.startRendering(),await new Promise(x=>setTimeout(x))}catch{}finally{URL.revokeObjectURL(r)}return g&&!f},createTestOfflineAudioContextCurrentTimeSupport=(C,u)=>()=>{if(u===null)return Promise.resolve(!1);const n=new u(1,1,44100),a=C(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{n.oncomplete=()=>{a.disconnect(),r(n.currentTime!==0)},n.startRendering()})},createUnknownError=()=>new DOMException("","UnknownError"),DEFAULT_OPTIONS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},createWaveShaperNodeConstructor=(C,u,n,a,r,g,f)=>class extends C{constructor(l,x){const S=r(l),D={...DEFAULT_OPTIONS,...x},h=n(S,D),o=g(S)?a():null;super(l,!0,h,o),this._isCurveNullified=!1,this._nativeWaveShaperNode=h,f(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw u();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},createWaveShaperNodeRendererFactory=(C,u,n)=>()=>{const a=new WeakMap,r=async(g,f)=>{let m=u(g);if(!isOwnedByContext(m,f)){const x={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,curve:m.curve,oversample:m.oversample};m=C(f,x)}return a.set(f,m),isNativeAudioNodeFaker(m)?await n(g,f,m.inputs[0]):await n(g,f,m),m};return{render(g,f){const m=a.get(f);return m!==void 0?Promise.resolve(m):r(g,f)}}},createWindow=()=>typeof window>"u"?null:window,createWrapAudioBufferCopyChannelMethods=(C,u)=>n=>{n.copyFromChannel=(a,r,g=0)=>{const f=C(g),m=C(r);if(m>=n.numberOfChannels)throw u();const l=n.length,x=n.getChannelData(m),S=a.length;for(let D=f<0?-f:0;D+f<l&&D<S;D+=1)a[D]=x[D+f]},n.copyToChannel=(a,r,g=0)=>{const f=C(g),m=C(r);if(m>=n.numberOfChannels)throw u();const l=n.length,x=n.getChannelData(m),S=a.length;for(let D=f<0?-f:0;D+f<l&&D<S;D+=1)x[D+f]=a[D]}},createWrapAudioBufferCopyChannelMethodsOutOfBounds=C=>u=>{u.copyFromChannel=(n=>(a,r,g=0)=>{const f=C(g),m=C(r);if(f<u.length)return n.call(u,a,m,f)})(u.copyFromChannel),u.copyToChannel=(n=>(a,r,g=0)=>{const f=C(g),m=C(r);if(f<u.length)return n.call(u,a,m,f)})(u.copyToChannel)},createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer=C=>(u,n)=>{const a=n.createBuffer(1,1,44100);u.buffer===null&&(u.buffer=a),C(u,"buffer",r=>()=>{const g=r.call(u);return g===a?null:g},r=>g=>r.call(u,g===null?a:g))},createWrapChannelMergerNode=(C,u)=>(n,a)=>{a.channelCount=1,a.channelCountMode="explicit",Object.defineProperty(a,"channelCount",{get:()=>1,set:()=>{throw C()}}),Object.defineProperty(a,"channelCountMode",{get:()=>"explicit",set:()=>{throw C()}});const r=n.createBufferSource();u(a,()=>{const m=a.numberOfInputs;for(let l=0;l<m;l+=1)r.connect(a,0,l)},()=>r.disconnect(a))},getFirstSample=(C,u,n)=>C.copyFromChannel===void 0?C.getChannelData(n)[0]:(C.copyFromChannel(u,n),u[0]),isDCCurve=C=>{if(C===null)return!1;const u=C.length;return u%2!==0?C[Math.floor(u/2)]!==0:C[u/2-1]+C[u/2]!==0},overwriteAccessors=(C,u,n,a)=>{let r=C;for(;!r.hasOwnProperty(u);)r=Object.getPrototypeOf(r);const{get:g,set:f}=Object.getOwnPropertyDescriptor(r,u);Object.defineProperty(C,u,{get:n(g),set:a(f)})},sanitizeAudioWorkletNodeOptions=C=>({...C,outputChannelCount:C.outputChannelCount!==void 0?C.outputChannelCount:C.numberOfInputs===1&&C.numberOfOutputs===1?[C.channelCount]:Array.from({length:C.numberOfOutputs},()=>1)}),sanitizeChannelSplitterOptions=C=>({...C,channelCount:C.numberOfOutputs}),sanitizePeriodicWaveOptions=C=>{const{imag:u,real:n}=C;return u===void 0?n===void 0?{...C,imag:[0,0],real:[0,0]}:{...C,imag:Array.from(n,()=>0),real:n}:n===void 0?{...C,imag:u,real:Array.from(u,()=>0)}:{...C,imag:u,real:n}},setValueAtTimeUntilPossible=(C,u,n)=>{try{C.setValueAtTime(u,n)}catch(a){if(a.code!==9)throw a;setValueAtTimeUntilPossible(C,u,n+1e-7)}},testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport=C=>{const u=C.createBufferSource();u.start();try{u.start()}catch{return!0}return!1},testAudioBufferSourceNodeStartMethodOffsetClampingSupport=C=>{const u=C.createBufferSource(),n=C.createBuffer(1,1,44100);u.buffer=n;try{u.start(0,1)}catch{return!1}return!0},testAudioBufferSourceNodeStopMethodNullifiedBufferSupport=C=>{const u=C.createBufferSource();u.start();try{u.stop()}catch{return!1}return!0},testAudioScheduledSourceNodeStartMethodNegativeParametersSupport=C=>{const u=C.createOscillator();try{u.start(-1)}catch(n){return n instanceof RangeError}return!1},testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport=C=>{const u=C.createBuffer(1,1,44100),n=C.createBufferSource();n.buffer=u,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},testAudioScheduledSourceNodeStopMethodNegativeParametersSupport=C=>{const u=C.createOscillator();try{u.stop(-1)}catch(n){return n instanceof RangeError}return!1},testAudioWorkletNodeOptionsClonability=C=>{const{port1:u,port2:n}=new MessageChannel;try{u.postMessage(C)}finally{u.close(),n.close()}},wrapAudioBufferSourceNodeStartMethodOffsetClamping=C=>{C.start=(u=>(n=0,a=0,r)=>{const g=C.buffer,f=g===null?a:Math.min(g.duration,a);g!==null&&f>g.duration-.5/C.context.sampleRate?u.call(C,n,0,0):u.call(C,n,f,r)})(C.start)},wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls=(C,u)=>{const n=u.createGain();C.connect(n);const a=(r=>()=>{r.call(C,n),C.removeEventListener("ended",a)})(C.disconnect);C.addEventListener("ended",a),interceptConnections(C,n),C.stop=(r=>{let g=!1;return(f=0)=>{if(g)try{r.call(C,f)}catch{n.gain.setValueAtTime(0,f)}else r.call(C,f),g=!0}})(C.stop)},wrapEventListener=(C,u)=>n=>{const a={value:C};return Object.defineProperties(n,{currentTarget:a,target:a}),typeof u=="function"?u.call(C,n):u.handleEvent.call(C,n)},addActiveInputConnectionToAudioNode=createAddActiveInputConnectionToAudioNode(insertElementInSet),addPassiveInputConnectionToAudioNode=createAddPassiveInputConnectionToAudioNode(insertElementInSet),deleteActiveInputConnectionToAudioNode=createDeleteActiveInputConnectionToAudioNode(pickElementFromSet),audioNodeTailTimeStore=new WeakMap,getAudioNodeTailTime=createGetAudioNodeTailTime(audioNodeTailTimeStore),cacheTestResult=createCacheTestResult(new Map,new WeakMap),window$1=createWindow(),createNativeAnalyserNode=createNativeAnalyserNodeFactory(cacheTestResult,createIndexSizeError),getAudioNodeRenderer=createGetAudioNodeRenderer(getAudioNodeConnections),renderInputsOfAudioNode=createRenderInputsOfAudioNode(getAudioNodeConnections,getAudioNodeRenderer,isPartOfACycle),createAnalyserNodeRenderer=createAnalyserNodeRendererFactory(createNativeAnalyserNode,getNativeAudioNode,renderInputsOfAudioNode),getNativeContext=createGetNativeContext(CONTEXT_STORE),nativeOfflineAudioContextConstructor=createNativeOfflineAudioContextConstructor(window$1),isNativeOfflineAudioContext=createIsNativeOfflineAudioContext(nativeOfflineAudioContextConstructor),audioParamAudioNodeStore=new WeakMap,eventTargetConstructor=createEventTargetConstructor(wrapEventListener),nativeAudioContextConstructor=createNativeAudioContextConstructor(window$1),isNativeAudioContext=createIsNativeAudioContext(nativeAudioContextConstructor),isNativeAudioNode=createIsNativeAudioNode(window$1),isNativeAudioParam=createIsNativeAudioParam(window$1),nativeAudioWorkletNodeConstructor=createNativeAudioWorkletNodeConstructor(window$1),audioNodeConstructor=createAudioNodeConstructor(createAddAudioNodeConnections(AUDIO_NODE_CONNECTIONS_STORE),createAddConnectionToAudioNode(addActiveInputConnectionToAudioNode,addPassiveInputConnectionToAudioNode,connectNativeAudioNodeToNativeAudioNode,deleteActiveInputConnectionToAudioNode,disconnectNativeAudioNodeFromNativeAudioNode,getAudioNodeConnections,getAudioNodeTailTime,getEventListenersOfAudioNode,getNativeAudioNode,insertElementInSet,isActiveAudioNode,isPartOfACycle,isPassiveAudioNode),cacheTestResult,createIncrementCycleCounterFactory(CYCLE_COUNTERS,disconnectNativeAudioNodeFromNativeAudioNode,getAudioNodeConnections,getNativeAudioNode,getNativeAudioParam,isActiveAudioNode),createIndexSizeError,createInvalidAccessError,createNotSupportedError,createDecrementCycleCounter(connectNativeAudioNodeToNativeAudioNode,CYCLE_COUNTERS,getAudioNodeConnections,getNativeAudioNode,getNativeAudioParam,getNativeContext,isActiveAudioNode,isNativeOfflineAudioContext),createDetectCycles(audioParamAudioNodeStore,getAudioNodeConnections,getValueForKey),eventTargetConstructor,getNativeContext,isNativeAudioContext,isNativeAudioNode,isNativeAudioParam,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor),analyserNodeConstructor=createAnalyserNodeConstructor(audioNodeConstructor,createAnalyserNodeRenderer,createIndexSizeError,createNativeAnalyserNode,getNativeContext,isNativeOfflineAudioContext),audioBufferStore=new WeakSet,nativeAudioBufferConstructor=createNativeAudioBufferConstructor(window$1),convertNumberToUnsignedLong=createConvertNumberToUnsignedLong(new Uint32Array(1)),wrapAudioBufferCopyChannelMethods=createWrapAudioBufferCopyChannelMethods(convertNumberToUnsignedLong,createIndexSizeError),wrapAudioBufferCopyChannelMethodsOutOfBounds=createWrapAudioBufferCopyChannelMethodsOutOfBounds(convertNumberToUnsignedLong),audioBufferConstructor=createAudioBufferConstructor(audioBufferStore,cacheTestResult,createNotSupportedError,nativeAudioBufferConstructor,nativeOfflineAudioContextConstructor,createTestAudioBufferConstructorSupport(nativeAudioBufferConstructor),wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),addSilentConnection=createAddSilentConnection(createNativeGainNode),renderInputsOfAudioParam=createRenderInputsOfAudioParam(getAudioNodeRenderer,getAudioParamConnections,isPartOfACycle),connectAudioParam=createConnectAudioParam(renderInputsOfAudioParam),createNativeAudioBufferSourceNode=createNativeAudioBufferSourceNodeFactory(addSilentConnection,cacheTestResult,testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport,testAudioBufferSourceNodeStartMethodOffsetClampingSupport,testAudioBufferSourceNodeStopMethodNullifiedBufferSupport,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,wrapAudioBufferSourceNodeStartMethodOffsetClamping,createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer(overwriteAccessors),wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls),renderAutomation=createRenderAutomation(createGetAudioParamRenderer(getAudioParamConnections),renderInputsOfAudioParam),createAudioBufferSourceNodeRenderer=createAudioBufferSourceNodeRendererFactory(connectAudioParam,createNativeAudioBufferSourceNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),createAudioParam=createAudioParamFactory(createAddAudioParamConnections(AUDIO_PARAM_CONNECTIONS_STORE),audioParamAudioNodeStore,AUDIO_PARAM_STORE,createAudioParamRenderer,createCancelAndHoldAutomationEvent,createCancelScheduledValuesAutomationEvent,createExponentialRampToValueAutomationEvent,createLinearRampToValueAutomationEvent,createSetTargetAutomationEvent,createSetValueAutomationEvent,createSetValueCurveAutomationEvent,nativeAudioContextConstructor,setValueAtTimeUntilPossible),audioBufferSourceNodeConstructor=createAudioBufferSourceNodeConstructor(audioNodeConstructor,createAudioBufferSourceNodeRenderer,createAudioParam,createInvalidStateError,createNativeAudioBufferSourceNode,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),audioDestinationNodeConstructor=createAudioDestinationNodeConstructor(audioNodeConstructor,createAudioDestinationNodeRenderer,createIndexSizeError,createInvalidStateError,createNativeAudioDestinationNodeFactory(createNativeGainNode,overwriteAccessors),getNativeContext,isNativeOfflineAudioContext,renderInputsOfAudioNode),createBiquadFilterNodeRenderer=createBiquadFilterNodeRendererFactory(connectAudioParam,createNativeBiquadFilterNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),setAudioNodeTailTime=createSetAudioNodeTailTime(audioNodeTailTimeStore),biquadFilterNodeConstructor=createBiquadFilterNodeConstructor(audioNodeConstructor,createAudioParam,createBiquadFilterNodeRenderer,createInvalidAccessError,createNativeBiquadFilterNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),monitorConnections=createMonitorConnections(insertElementInSet,isNativeAudioNode),wrapChannelMergerNode=createWrapChannelMergerNode(createInvalidStateError,monitorConnections),createNativeChannelMergerNode=createNativeChannelMergerNodeFactory(nativeAudioContextConstructor,wrapChannelMergerNode),createChannelMergerNodeRenderer=createChannelMergerNodeRendererFactory(createNativeChannelMergerNode,getNativeAudioNode,renderInputsOfAudioNode),channelMergerNodeConstructor=createChannelMergerNodeConstructor(audioNodeConstructor,createChannelMergerNodeRenderer,createNativeChannelMergerNode,getNativeContext,isNativeOfflineAudioContext),createChannelSplitterNodeRenderer=createChannelSplitterNodeRendererFactory(createNativeChannelSplitterNode,getNativeAudioNode,renderInputsOfAudioNode),channelSplitterNodeConstructor=createChannelSplitterNodeConstructor(audioNodeConstructor,createChannelSplitterNodeRenderer,createNativeChannelSplitterNode,getNativeContext,isNativeOfflineAudioContext,sanitizeChannelSplitterOptions),createNativeConstantSourceNodeFaker=createNativeConstantSourceNodeFakerFactory(addSilentConnection,createNativeAudioBufferSourceNode,createNativeGainNode,monitorConnections),createNativeConstantSourceNode=createNativeConstantSourceNodeFactory(addSilentConnection,cacheTestResult,createNativeConstantSourceNodeFaker,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport),createConstantSourceNodeRenderer=createConstantSourceNodeRendererFactory(connectAudioParam,createNativeConstantSourceNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),constantSourceNodeConstructor=createConstantSourceNodeConstructor(audioNodeConstructor,createAudioParam,createConstantSourceNodeRenderer,createNativeConstantSourceNode,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),createNativeConvolverNode=createNativeConvolverNodeFactory(createNotSupportedError,overwriteAccessors),createConvolverNodeRenderer=createConvolverNodeRendererFactory(createNativeConvolverNode,getNativeAudioNode,renderInputsOfAudioNode),convolverNodeConstructor=createConvolverNodeConstructor(audioNodeConstructor,createConvolverNodeRenderer,createNativeConvolverNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createDelayNodeRenderer=createDelayNodeRendererFactory(connectAudioParam,createNativeDelayNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),delayNodeConstructor=createDelayNodeConstructor(audioNodeConstructor,createAudioParam,createDelayNodeRenderer,createNativeDelayNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createNativeDynamicsCompressorNode=createNativeDynamicsCompressorNodeFactory(createNotSupportedError),createDynamicsCompressorNodeRenderer=createDynamicsCompressorNodeRendererFactory(connectAudioParam,createNativeDynamicsCompressorNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),dynamicsCompressorNodeConstructor=createDynamicsCompressorNodeConstructor(audioNodeConstructor,createAudioParam,createDynamicsCompressorNodeRenderer,createNativeDynamicsCompressorNode,createNotSupportedError,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createGainNodeRenderer=createGainNodeRendererFactory(connectAudioParam,createNativeGainNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),gainNodeConstructor=createGainNodeConstructor(audioNodeConstructor,createAudioParam,createGainNodeRenderer,createNativeGainNode,getNativeContext,isNativeOfflineAudioContext),createNativeIIRFilterNodeFaker=createNativeIIRFilterNodeFakerFactory(createInvalidAccessError,createInvalidStateError,createNativeScriptProcessorNode,createNotSupportedError),renderNativeOfflineAudioContext=createRenderNativeOfflineAudioContext(cacheTestResult,createNativeGainNode,createNativeScriptProcessorNode,createTestOfflineAudioContextCurrentTimeSupport(createNativeGainNode,nativeOfflineAudioContextConstructor)),createIIRFilterNodeRenderer=createIIRFilterNodeRendererFactory(createNativeAudioBufferSourceNode,getNativeAudioNode,nativeOfflineAudioContextConstructor,renderInputsOfAudioNode,renderNativeOfflineAudioContext),createNativeIIRFilterNode=createNativeIIRFilterNodeFactory(createNativeIIRFilterNodeFaker),iIRFilterNodeConstructor=createIIRFilterNodeConstructor(audioNodeConstructor,createNativeIIRFilterNode,createIIRFilterNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createAudioListener=createAudioListenerFactory(createAudioParam,createNativeChannelMergerNode,createNativeConstantSourceNode,createNativeScriptProcessorNode,createNotSupportedError,getFirstSample,isNativeOfflineAudioContext,overwriteAccessors),unrenderedAudioWorkletNodeStore=new WeakMap,minimalBaseAudioContextConstructor=createMinimalBaseAudioContextConstructor(audioDestinationNodeConstructor,createAudioListener,eventTargetConstructor,isNativeOfflineAudioContext,unrenderedAudioWorkletNodeStore,wrapEventListener),createNativeOscillatorNode=createNativeOscillatorNodeFactory(addSilentConnection,cacheTestResult,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls),createOscillatorNodeRenderer=createOscillatorNodeRendererFactory(connectAudioParam,createNativeOscillatorNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),oscillatorNodeConstructor=createOscillatorNodeConstructor(audioNodeConstructor,createAudioParam,createNativeOscillatorNode,createOscillatorNodeRenderer,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),createConnectedNativeAudioBufferSourceNode=createConnectedNativeAudioBufferSourceNodeFactory(createNativeAudioBufferSourceNode),createNativeWaveShaperNodeFaker=createNativeWaveShaperNodeFakerFactory(createConnectedNativeAudioBufferSourceNode,createInvalidStateError,createNativeGainNode,isDCCurve,monitorConnections),createNativeWaveShaperNode=createNativeWaveShaperNodeFactory(createConnectedNativeAudioBufferSourceNode,createInvalidStateError,createNativeWaveShaperNodeFaker,isDCCurve,monitorConnections,nativeAudioContextConstructor,overwriteAccessors),createNativePannerNodeFaker=createNativePannerNodeFakerFactory(connectNativeAudioNodeToNativeAudioNode,createInvalidStateError,createNativeChannelMergerNode,createNativeGainNode,createNativeScriptProcessorNode,createNativeWaveShaperNode,createNotSupportedError,disconnectNativeAudioNodeFromNativeAudioNode,getFirstSample,monitorConnections),createNativePannerNode=createNativePannerNodeFactory(createNativePannerNodeFaker),createPannerNodeRenderer=createPannerNodeRendererFactory(connectAudioParam,createNativeChannelMergerNode,createNativeConstantSourceNode,createNativeGainNode,createNativePannerNode,getNativeAudioNode,nativeOfflineAudioContextConstructor,renderAutomation,renderInputsOfAudioNode,renderNativeOfflineAudioContext),pannerNodeConstructor=createPannerNodeConstructor(audioNodeConstructor,createAudioParam,createNativePannerNode,createPannerNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createNativePeriodicWave=createNativePeriodicWaveFactory(createIndexSizeError),periodicWaveConstructor=createPeriodicWaveConstructor(createNativePeriodicWave,getNativeContext,new WeakSet,sanitizePeriodicWaveOptions),nativeStereoPannerNodeFakerFactory=createNativeStereoPannerNodeFakerFactory(createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeGainNode,createNativeWaveShaperNode,createNotSupportedError,monitorConnections),createNativeStereoPannerNode=createNativeStereoPannerNodeFactory(nativeStereoPannerNodeFakerFactory,createNotSupportedError),createStereoPannerNodeRenderer=createStereoPannerNodeRendererFactory(connectAudioParam,createNativeStereoPannerNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),stereoPannerNodeConstructor=createStereoPannerNodeConstructor(audioNodeConstructor,createAudioParam,createNativeStereoPannerNode,createStereoPannerNodeRenderer,getNativeContext,isNativeOfflineAudioContext),createWaveShaperNodeRenderer=createWaveShaperNodeRendererFactory(createNativeWaveShaperNode,getNativeAudioNode,renderInputsOfAudioNode),waveShaperNodeConstructor=createWaveShaperNodeConstructor(audioNodeConstructor,createInvalidStateError,createNativeWaveShaperNode,createWaveShaperNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),isSecureContext$1=createIsSecureContext(window$1),exposeCurrentFrameAndCurrentTime=createExposeCurrentFrameAndCurrentTime(window$1),backupOfflineAudioContextStore=new WeakMap,getOrCreateBackupOfflineAudioContext=createGetOrCreateBackupOfflineAudioContext(backupOfflineAudioContextStore,nativeOfflineAudioContextConstructor),addAudioWorkletModule=isSecureContext$1?createAddAudioWorkletModule(cacheTestResult,createNotSupportedError,createEvaluateSource(window$1),exposeCurrentFrameAndCurrentTime,createFetchSource(createAbortError),getNativeContext,getOrCreateBackupOfflineAudioContext,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor,new WeakMap,new WeakMap,createTestAudioWorkletProcessorPostMessageSupport(nativeAudioWorkletNodeConstructor,nativeOfflineAudioContextConstructor),window$1):void 0,isNativeContext=createIsNativeContext(isNativeAudioContext,isNativeOfflineAudioContext),decodeAudioData=createDecodeAudioData(audioBufferStore,cacheTestResult,createDataCloneError,createEncodingError,new WeakSet,getNativeContext,isNativeContext,testAudioBufferCopyChannelMethodsOutOfBoundsSupport,testPromiseSupport,wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),baseAudioContextConstructor=createBaseAudioContextConstructor(addAudioWorkletModule,analyserNodeConstructor,audioBufferConstructor,audioBufferSourceNodeConstructor,biquadFilterNodeConstructor,channelMergerNodeConstructor,channelSplitterNodeConstructor,constantSourceNodeConstructor,convolverNodeConstructor,decodeAudioData,delayNodeConstructor,dynamicsCompressorNodeConstructor,gainNodeConstructor,iIRFilterNodeConstructor,minimalBaseAudioContextConstructor,oscillatorNodeConstructor,pannerNodeConstructor,periodicWaveConstructor,stereoPannerNodeConstructor,waveShaperNodeConstructor),mediaElementAudioSourceNodeConstructor=createMediaElementAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaElementAudioSourceNode,getNativeContext,isNativeOfflineAudioContext),mediaStreamAudioDestinationNodeConstructor=createMediaStreamAudioDestinationNodeConstructor(audioNodeConstructor,createNativeMediaStreamAudioDestinationNode,getNativeContext,isNativeOfflineAudioContext),mediaStreamAudioSourceNodeConstructor=createMediaStreamAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaStreamAudioSourceNode,getNativeContext,isNativeOfflineAudioContext),createNativeMediaStreamTrackAudioSourceNode=createNativeMediaStreamTrackAudioSourceNodeFactory(createInvalidStateError,isNativeOfflineAudioContext),mediaStreamTrackAudioSourceNodeConstructor=createMediaStreamTrackAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaStreamTrackAudioSourceNode,getNativeContext),audioContextConstructor=createAudioContextConstructor(baseAudioContextConstructor,createInvalidStateError,createNotSupportedError,createUnknownError,mediaElementAudioSourceNodeConstructor,mediaStreamAudioDestinationNodeConstructor,mediaStreamAudioSourceNodeConstructor,mediaStreamTrackAudioSourceNodeConstructor,nativeAudioContextConstructor),getUnrenderedAudioWorkletNodes=createGetUnrenderedAudioWorkletNodes(unrenderedAudioWorkletNodeStore),addUnrenderedAudioWorkletNode=createAddUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes),connectMultipleOutputs=createConnectMultipleOutputs(createIndexSizeError),deleteUnrenderedAudioWorkletNode=createDeleteUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes),disconnectMultipleOutputs=createDisconnectMultipleOutputs(createIndexSizeError),activeAudioWorkletNodeInputsStore=new WeakMap,getActiveAudioWorkletNodeInputs=createGetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore,getValueForKey),createNativeAudioWorkletNodeFaker=createNativeAudioWorkletNodeFakerFactory(connectMultipleOutputs,createIndexSizeError,createInvalidStateError,createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeConstantSourceNode,createNativeGainNode,createNativeScriptProcessorNode,createNotSupportedError,disconnectMultipleOutputs,exposeCurrentFrameAndCurrentTime,getActiveAudioWorkletNodeInputs,monitorConnections),createNativeAudioWorkletNode=createNativeAudioWorkletNodeFactory(createInvalidStateError,createNativeAudioWorkletNodeFaker,createNativeGainNode,createNotSupportedError,monitorConnections),createAudioWorkletNodeRenderer=createAudioWorkletNodeRendererFactory(connectAudioParam,connectMultipleOutputs,createNativeAudioBufferSourceNode,createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeConstantSourceNode,createNativeGainNode,deleteUnrenderedAudioWorkletNode,disconnectMultipleOutputs,exposeCurrentFrameAndCurrentTime,getNativeAudioNode,nativeAudioWorkletNodeConstructor,nativeOfflineAudioContextConstructor,renderAutomation,renderInputsOfAudioNode,renderNativeOfflineAudioContext),getBackupOfflineAudioContext=createGetBackupOfflineAudioContext(backupOfflineAudioContextStore),setActiveAudioWorkletNodeInputs=createSetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore),audioWorkletNodeConstructor=isSecureContext$1?createAudioWorkletNodeConstructor(addUnrenderedAudioWorkletNode,audioNodeConstructor,createAudioParam,createAudioWorkletNodeRenderer,createNativeAudioWorkletNode,getAudioNodeConnections,getBackupOfflineAudioContext,getNativeContext,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor,sanitizeAudioWorkletNodeOptions,setActiveAudioWorkletNodeInputs,testAudioWorkletNodeOptionsClonability,wrapEventListener):void 0,createNativeOfflineAudioContext=createCreateNativeOfflineAudioContext(createNotSupportedError,nativeOfflineAudioContextConstructor),startRendering=createStartRendering(audioBufferStore,cacheTestResult,getAudioNodeRenderer,getUnrenderedAudioWorkletNodes,renderNativeOfflineAudioContext,testAudioBufferCopyChannelMethodsOutOfBoundsSupport,wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),offlineAudioContextConstructor=createOfflineAudioContextConstructor(baseAudioContextConstructor,cacheTestResult,createInvalidStateError,createNativeOfflineAudioContext,startRendering),isAnyAudioContext=createIsAnyAudioContext(CONTEXT_STORE,isNativeAudioContext),isAnyAudioNode=createIsAnyAudioNode(AUDIO_NODE_STORE,isNativeAudioNode),isAnyAudioParam=createIsAnyAudioParam(AUDIO_PARAM_STORE,isNativeAudioParam),isAnyOfflineAudioContext=createIsAnyOfflineAudioContext(CONTEXT_STORE,isNativeOfflineAudioContext);function isUndef(C){return C===void 0}function isDefined(C){return C!==void 0}function isFunction$1(C){return typeof C=="function"}function isNumber$1(C){return typeof C=="number"}function isObject$1(C){return Object.prototype.toString.call(C)==="[object Object]"&&C.constructor===Object}function isBoolean$1(C){return typeof C=="boolean"}function isArray$1(C){return Array.isArray(C)}function isString$1(C){return typeof C=="string"}function isNote(C){return isString$1(C)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(C)}function assert(C,u){if(!C)throw new Error(u)}function assertRange(C,u,n=1/0){if(!(u<=C&&C<=n))throw new RangeError(`Value must be within [${u}, ${n}], got: ${C}`)}function assertContextRunning(C){!C.isOffline&&C.state!=="running"&&warn('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let isInsideScheduledCallback=!1,printedScheduledWarning=!1;function enterScheduledCallback(C){isInsideScheduledCallback=C}function assertUsedScheduleTime(C){isUndef(C)&&isInsideScheduledCallback&&!printedScheduledWarning&&(printedScheduledWarning=!0,warn("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let defaultLogger=console;function log$1(...C){defaultLogger.log(...C)}function warn(...C){defaultLogger.warn(...C)}function createAudioContext(C){return new audioContextConstructor(C)}function createOfflineAudioContext(C,u,n){return new offlineAudioContextConstructor(C,u,n)}const theWindow=typeof self=="object"?self:null,hasAudioContext=theWindow&&(theWindow.hasOwnProperty("AudioContext")||theWindow.hasOwnProperty("webkitAudioContext"));function createAudioWorkletNode(C,u,n){return assert(isDefined(audioWorkletNodeConstructor),"This node only works in a secure context (https or localhost)"),new audioWorkletNodeConstructor(C,u,n)}function __decorate(C,u,n,a){var r=arguments.length,g=r<3?u:a===null?a=Object.getOwnPropertyDescriptor(u,n):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(C,u,n,a);else for(var m=C.length-1;m>=0;m--)(f=C[m])&&(g=(r<3?f(g):r>3?f(u,n,g):f(u,n))||g);return r>3&&g&&Object.defineProperty(u,n,g),g}function __awaiter(C,u,n,a){function r(g){return g instanceof n?g:new n(function(f){f(g)})}return new(n||(n=Promise))(function(g,f){function m(S){try{x(a.next(S))}catch(D){f(D)}}function l(S){try{x(a.throw(S))}catch(D){f(D)}}function x(S){S.done?g(S.value):r(S.value).then(m,l)}x((a=a.apply(C,u||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class Ticker{constructor(u,n,a,r){this._callback=u,this._type=n,this._minimumUpdateInterval=Math.max(128/(r||44100),.001),this.updateInterval=a,this._createClock()}_createWorker(){const u=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(u),a=new Worker(n);a.onmessage=this._callback.bind(this),this._worker=a}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(u){var n;this._updateInterval=Math.max(u,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(u){this._disposeClock(),this._type=u,this._createClock()}dispose(){this._disposeClock()}}function isAudioParam(C){return isAnyAudioParam(C)}function isAudioNode(C){return isAnyAudioNode(C)}function isOfflineAudioContext(C){return isAnyOfflineAudioContext(C)}function isAudioContext(C){return isAnyAudioContext(C)}function isAudioBuffer(C){return C instanceof audioBufferConstructor}function noCopy(C,u){return C==="value"||isAudioParam(u)||isAudioNode(u)||isAudioBuffer(u)}function deepMerge(C,...u){if(!u.length)return C;const n=u.shift();if(isObject$1(C)&&isObject$1(n))for(const a in n)noCopy(a,n[a])?C[a]=n[a]:isObject$1(n[a])?(C[a]||Object.assign(C,{[a]:{}}),deepMerge(C[a],n[a])):Object.assign(C,{[a]:n[a]});return deepMerge(C,...u)}function deepEquals(C,u){return C.length===u.length&&C.every((n,a)=>u[a]===n)}function optionsFromArguments(C,u,n=[],a){const r={},g=Array.from(u);if(isObject$1(g[0])&&a&&!Reflect.has(g[0],a)&&(Object.keys(g[0]).some(m=>Reflect.has(C,m))||(deepMerge(r,{[a]:g[0]}),n.splice(n.indexOf(a),1),g.shift())),g.length===1&&isObject$1(g[0]))deepMerge(r,g[0]);else for(let f=0;f<n.length;f++)isDefined(g[f])&&(r[n[f]]=g[f]);return deepMerge(C,r)}function getDefaultsFromInstance(C){return C.constructor.getDefaults()}function defaultArg(C,u){return isUndef(C)?u:C}function omitFromObject(C,u){return u.forEach(n=>{Reflect.has(C,n)&&delete C[n]}),C}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Tone{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...u){(this.debug||theWindow&&this.toString()===theWindow.TONE_DEBUG_CLASS)&&log$1(this,...u)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Tone.version=version;const EPSILON=1e-6;function GT(C,u){return C>u+EPSILON}function GTE(C,u){return GT(C,u)||EQ(C,u)}function LT(C,u){return C+EPSILON<u}function EQ(C,u){return Math.abs(C-u)<EPSILON}function clamp$4(C,u,n){return Math.max(Math.min(C,n),u)}class Timeline extends Tone{constructor(){super(),this.name="Timeline",this._timeline=[];const u=optionsFromArguments(Timeline.getDefaults(),arguments,["memory"]);this.memory=u.memory,this.increasing=u.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(u){if(assert(Reflect.has(u,"time"),"Timeline: events must have a time attribute"),u.time=u.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];assert(GTE(u.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(u)}else{const n=this._search(u.time);this._timeline.splice(n+1,0,u)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(u){const n=this._timeline.indexOf(u);return n!==-1&&this._timeline.splice(n,1),this}get(u,n="time"){const a=this._search(u,n);return a!==-1?this._timeline[a]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(u,n="time"){const a=this._search(u,n);return a+1<this._timeline.length?this._timeline[a+1]:null}getBefore(u){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<u)return this._timeline[n-1];const a=this._search(u);return a-1>=0?this._timeline[a-1]:null}cancel(u){if(this._timeline.length>1){let n=this._search(u);if(n>=0)if(EQ(this._timeline[n].time,u)){for(let a=n;a>=0&&EQ(this._timeline[a].time,u);a--)n=a;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&GTE(this._timeline[0].time,u)&&(this._timeline=[]);return this}cancelBefore(u){const n=this._search(u);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(u){const n=this._timeline.indexOf(u);return n>0?this._timeline[n-1]:null}_search(u,n="time"){if(this._timeline.length===0)return-1;let a=0;const r=this._timeline.length;let g=r;if(r>0&&this._timeline[r-1][n]<=u)return r-1;for(;a<g;){let f=Math.floor(a+(g-a)/2);const m=this._timeline[f],l=this._timeline[f+1];if(EQ(m[n],u)){for(let x=f;x<this._timeline.length;x++){const S=this._timeline[x];if(EQ(S[n],u))f=x;else break}return f}else{if(LT(m[n],u)&&GT(l[n],u))return f;GT(m[n],u)?g=f:a=f+1}}return-1}_iterate(u,n=0,a=this._timeline.length-1){this._timeline.slice(n,a+1).forEach(u)}forEach(u){return this._iterate(u),this}forEachBefore(u,n){const a=this._search(u);return a!==-1&&this._iterate(n,0,a),this}forEachAfter(u,n){const a=this._search(u);return this._iterate(n,a+1),this}forEachBetween(u,n,a){let r=this._search(u),g=this._search(n);return r!==-1&&g!==-1?(this._timeline[r].time!==u&&(r+=1),this._timeline[g].time===n&&(g-=1),this._iterate(a,r,g)):r===-1&&this._iterate(a,0,g),this}forEachFrom(u,n){let a=this._search(u);for(;a>=0&&this._timeline[a].time>=u;)a--;return this._iterate(n,a+1),this}forEachAtTime(u,n){const a=this._search(u);if(a!==-1&&EQ(this._timeline[a].time,u)){let r=a;for(let g=a;g>=0&&EQ(this._timeline[g].time,u);g--)r=g;this._iterate(g=>{n(g)},r,a)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const notifyNewContext=[];function onContextInit(C){notifyNewContext.push(C)}function initializeContext(C){notifyNewContext.forEach(u=>u(C))}const notifyCloseContext=[];function onContextClose(C){notifyCloseContext.push(C)}function closeContext(C){notifyCloseContext.forEach(u=>u(C))}class Emitter extends Tone{constructor(){super(...arguments),this.name="Emitter"}on(u,n){return u.split(/\W+/).forEach(r=>{isUndef(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(n)}),this}once(u,n){const a=(...r)=>{n(...r),this.off(u,a)};return this.on(u,a),this}off(u,n){return u.split(/\W+/).forEach(r=>{if(isUndef(this._events)&&(this._events={}),this._events.hasOwnProperty(r))if(isUndef(n))this._events[r]=[];else{const g=this._events[r];for(let f=g.length-1;f>=0;f--)g[f]===n&&g.splice(f,1)}}),this}emit(u,...n){if(this._events&&this._events.hasOwnProperty(u)){const a=this._events[u].slice(0);for(let r=0,g=a.length;r<g;r++)a[r].apply(this,n)}return this}static mixin(u){["on","once","off","emit"].forEach(n=>{const a=Object.getOwnPropertyDescriptor(Emitter.prototype,n);Object.defineProperty(u.prototype,n,a)})}dispose(){return super.dispose(),this._events=void 0,this}}class BaseContext extends Emitter{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Context extends BaseContext{constructor(){var u,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new Timeline,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const a=optionsFromArguments(Context.getDefaults(),arguments,["context"]);a.context?(this._context=a.context,this._latencyHint=((u=arguments[0])===null||u===void 0?void 0:u.latencyHint)||""):(this._context=createAudioContext({latencyHint:a.latencyHint}),this._latencyHint=a.latencyHint),this._ticker=new Ticker(this.emit.bind(this,"tick"),a.clockSource,a.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=a.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(initializeContext(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(u,n,a){return this._context.createBuffer(u,n,a)}createChannelMerger(u){return this._context.createChannelMerger(u)}createChannelSplitter(u){return this._context.createChannelSplitter(u)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(u){return this._context.createDelay(u)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(u,n){return this._context.createIIRFilter(u,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(u,n,a){return this._context.createPeriodicWave(u,n,a)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(u){return assert(isAudioContext(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(u)}createMediaElementSource(u){return assert(isAudioContext(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(u)}createMediaStreamDestination(){return assert(isAudioContext(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(u){return this._context.decodeAudioData(u)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(u){assert(!this._initialized,"The listener cannot be set after initialization."),this._listener=u}get transport(){return this.initialize(),this._transport}set transport(u){assert(!this._initialized,"The transport cannot be set after initialization."),this._transport=u}get draw(){return this.initialize(),this._draw}set draw(u){assert(!this._initialized,"Draw cannot be set after initialization."),this._draw=u}get destination(){return this.initialize(),this._destination}set destination(u){assert(!this._initialized,"The destination cannot be set after initialization."),this._destination=u}createAudioWorkletNode(u,n){return createAudioWorkletNode(this.rawContext,u,n)}addAudioWorkletModule(u){return __awaiter(this,void 0,void 0,function*(){assert(isDefined(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(u)),yield this._workletPromise})}workletsAreReady(){return __awaiter(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(u){this._ticker.updateInterval=u}get clockSource(){return this._ticker.type}set clockSource(u){this._ticker.type=u}get lookAhead(){return this._lookAhead}set lookAhead(u){this._lookAhead=u,this.updateInterval=u?u/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return isAudioContext(this._context)?this._context.resume():Promise.resolve()}close(){return __awaiter(this,void 0,void 0,function*(){isAudioContext(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&closeContext(this)})}getConstant(u){if(this._constants.has(u))return this._constants.get(u);{const n=this._context.createBuffer(1,128,this._context.sampleRate),a=n.getChannelData(0);for(let g=0;g<a.length;g++)a[g]=u;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=n,r.loop=!0,r.start(0),this._constants.set(u,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(u=>this._constants[u].disconnect()),this.close(),this}_timeoutLoop(){const u=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=u;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(u,n){this._timeoutIds++;const a=this.now();return this._timeouts.add({callback:u,id:this._timeoutIds,time:a+n}),this._timeoutIds}clearTimeout(u){return this._timeouts.forEach(n=>{n.id===u&&this._timeouts.remove(n)}),this}clearInterval(u){return this.clearTimeout(u)}setInterval(u,n){const a=++this._timeoutIds,r=()=>{const g=this.now();this._timeouts.add({callback:()=>{u(),r()},id:a,time:g+n})};return r(),a}}class DummyContext extends BaseContext{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(u,n,a){return{}}createChannelMerger(u){return{}}createChannelSplitter(u){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(u){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(u,n){return{}}createPanner(){return{}}createPeriodicWave(u,n,a){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(u){return{}}createMediaElementSource(u){return{}}createMediaStreamDestination(){return{}}decodeAudioData(u){return Promise.resolve({})}createAudioWorkletNode(u,n){return{}}get rawContext(){return{}}addAudioWorkletModule(u){return __awaiter(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(u,n){return 0}clearTimeout(u){return this}setInterval(u,n){return 0}clearInterval(u){return this}getConstant(u){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(u){}get destination(){return{}}set destination(u){}now(){return 0}immediate(){return 0}}function readOnly(C,u){isArray$1(u)?u.forEach(n=>readOnly(C,n)):Object.defineProperty(C,u,{enumerable:!0,writable:!1})}function writable(C,u){isArray$1(u)?u.forEach(n=>writable(C,n)):Object.defineProperty(C,u,{writable:!0})}const noOp=()=>{};class ToneAudioBuffer extends Tone{constructor(){super(),this.name="ToneAudioBuffer",this.onload=noOp;const u=optionsFromArguments(ToneAudioBuffer.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=u.reverse,this.onload=u.onload,isString$1(u.url)?this.load(u.url).catch(u.onerror):u.url&&this.set(u.url)}static getDefaults(){return{onerror:noOp,onload:noOp,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:getContext().sampleRate}set(u){return u instanceof ToneAudioBuffer?u.loaded?this._buffer=u.get():u.onload=()=>{this.set(u),this.onload(this)}:this._buffer=u,this._reversed&&this._reverse(),this}get(){return this._buffer}load(u){return __awaiter(this,void 0,void 0,function*(){const n=ToneAudioBuffer.load(u).then(a=>{this.set(a),this.onload(this)});ToneAudioBuffer.downloads.push(n);try{yield n}finally{const a=ToneAudioBuffer.downloads.indexOf(n);ToneAudioBuffer.downloads.splice(a,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(u){const n=isArray$1(u)&&u[0].length>0,a=n?u.length:1,r=n?u[0].length:u.length,g=getContext(),f=g.createBuffer(a,r,g.sampleRate),m=!n&&a===1?[u]:u;for(let l=0;l<a;l++)f.copyToChannel(m[l],l);return this._buffer=f,this}toMono(u){if(isNumber$1(u))this.fromArray(this.toArray(u));else{let n=new Float32Array(this.length);const a=this.numberOfChannels;for(let r=0;r<a;r++){const g=this.toArray(r);for(let f=0;f<g.length;f++)n[f]+=g[f]}n=n.map(r=>r/a),this.fromArray(n)}return this}toArray(u){if(isNumber$1(u))return this.getChannelData(u);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let a=0;a<this.numberOfChannels;a++)n[a]=this.getChannelData(a);return n}}getChannelData(u){return this._buffer?this._buffer.getChannelData(u):new Float32Array(0)}slice(u,n=this.duration){assert(this.loaded,"Buffer is not loaded");const a=Math.floor(u*this.sampleRate),r=Math.floor(n*this.sampleRate);assert(a<r,"The start time must be less than the end time");const g=r-a,f=getContext().createBuffer(this.numberOfChannels,g,this.sampleRate);for(let m=0;m<this.numberOfChannels;m++)f.copyToChannel(this.getChannelData(m).subarray(a,r),m);return new ToneAudioBuffer(f)}_reverse(){if(this.loaded)for(let u=0;u<this.numberOfChannels;u++)this.getChannelData(u).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(u){this._reversed!==u&&(this._reversed=u,this._reverse())}static fromArray(u){return new ToneAudioBuffer().fromArray(u)}static fromUrl(u){return __awaiter(this,void 0,void 0,function*(){return yield new ToneAudioBuffer().load(u)})}static load(u){return __awaiter(this,void 0,void 0,function*(){const n=u.match(/\[([^\]\[]+\|.+)\]$/);if(n){const l=n[1].split("|");let x=l[0];for(const S of l)if(ToneAudioBuffer.supportsType(S)){x=S;break}u=u.replace(n[0],x)}const a=ToneAudioBuffer.baseUrl===""||ToneAudioBuffer.baseUrl.endsWith("/")?ToneAudioBuffer.baseUrl:ToneAudioBuffer.baseUrl+"/",r=document.createElement("a");r.href=a+u,r.pathname=(r.pathname+r.hash).split("/").map(encodeURIComponent).join("/");const g=yield fetch(r.href);if(!g.ok)throw new Error(`could not load url: ${u}`);const f=yield g.arrayBuffer();return yield getContext().decodeAudioData(f)})}static supportsType(u){const n=u.split("."),a=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+a)!==""}static loaded(){return __awaiter(this,void 0,void 0,function*(){for(yield Promise.resolve();ToneAudioBuffer.downloads.length;)yield ToneAudioBuffer.downloads[0]})}}ToneAudioBuffer.baseUrl="";ToneAudioBuffer.downloads=[];class OfflineContext extends Context{constructor(){super({clockSource:"offline",context:isOfflineAudioContext(arguments[0])?arguments[0]:createOfflineAudioContext(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:isOfflineAudioContext(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=isOfflineAudioContext(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(u){return __awaiter(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const a=Math.floor(this.sampleRate/128);u&&n%a===0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(u=!0){return __awaiter(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(u);const n=yield this._context.startRendering();return new ToneAudioBuffer(n)})}close(){return Promise.resolve()}}const dummyContext=new DummyContext;let globalContext=dummyContext;function getContext(){return globalContext===dummyContext&&hasAudioContext&&setContext(new Context),globalContext}function setContext(C,u=!1){u&&globalContext.dispose(),isAudioContext(C)?globalContext=new Context(C):isOfflineAudioContext(C)?globalContext=new OfflineContext(C):globalContext=C}function start(){return globalContext.resume()}if(theWindow&&!theWindow.TONE_SILENCE_LOGGING){const u=` * Tone.js v${version} * `;console.log(`%c${u}`,"background: #000; color: #fff")}function dbToGain(C){return Math.pow(10,C/20)}function gainToDb(C){return 20*(Math.log(C)/Math.LN10)}function intervalToFrequencyRatio(C){return Math.pow(2,C/12)}let A4=440;function getA4(){return A4}function setA4(C){A4=C}function ftom(C){return Math.round(ftomf(C))}function ftomf(C){return 69+12*Math.log2(C/A4)}function mtof(C){return A4*Math.pow(2,(C-69)/12)}class TimeBaseClass extends Tone{constructor(u,n,a){super(),this.defaultUnits="s",this._val=n,this._units=a,this.context=u,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:u=>this._frequencyToUnits(parseFloat(u)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:u=>this._ticksToUnits(parseInt(u,10)),regexp:/^(\d+)i$/i},m:{method:u=>this._beatsToUnits(parseInt(u,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(u,n)=>{const a=parseInt(u,10),r=n==="."?1.5:1;return a===1?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/a)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:u=>this._expressions[this.defaultUnits].method.call(this,u),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:u=>this._secondsToUnits(parseFloat(u)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:u=>parseInt(u,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:u=>{const n=parseInt(u,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(u,n,a)=>{let r=0;return u&&u!=="0"&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(u))),n&&n!=="0"&&(r+=this._beatsToUnits(parseFloat(n))),a&&a!=="0"&&(r+=this._beatsToUnits(parseFloat(a)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof TimeBaseClass&&this.fromType(this._val),isUndef(this._val))return this._noArg();if(isString$1(this._val)&&isUndef(this._units)){for(const u in this._expressions)if(this._expressions[u].regexp.test(this._val.trim())){this._units=u;break}}else if(isObject$1(this._val)){let u=0;for(const n in this._val)if(isDefined(this._val[n])){const a=this._val[n],r=new this.constructor(this.context,n).valueOf()*a;u+=r}return u}if(isDefined(this._units)){const u=this._expressions[this._units],n=this._val.toString().trim().match(u.regexp);return n?u.method.apply(this,n.slice(1)):u.method.call(this,this._val)}else return isString$1(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(u){return 1/u}_beatsToUnits(u){return 60/this._getBpm()*u}_secondsToUnits(u){return u}_ticksToUnits(u){return u*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(u){switch(this._units=void 0,this.defaultUnits){case"s":this._val=u.toSeconds();break;case"i":this._val=u.toTicks();break;case"hz":this._val=u.toFrequency();break;case"midi":this._val=u.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class TimeClass extends TimeBaseClass{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:u=>this._now()+new this.constructor(this.context,u).valueOf(),regexp:/^\+(.+)/},quantize:{method:u=>{const n=new TimeClass(this.context,u).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(u,n=1){const a=new this.constructor(this.context,u).valueOf(),r=this.valueOf(),m=Math.round(r/a)*a-r;return r+m*n}toNotation(){const u=this.toSeconds(),n=["1m"];for(let g=1;g<9;g++){const f=Math.pow(2,g);n.push(f+"n."),n.push(f+"n"),n.push(f+"t")}n.push("0");let a=n[0],r=new TimeClass(this.context,n[0]).toSeconds();return n.forEach(g=>{const f=new TimeClass(this.context,g).toSeconds();Math.abs(f-u)<Math.abs(r-u)&&(a=g,r=f)}),a}toBarsBeatsSixteenths(){const u=this._beatsToUnits(1);let n=this.valueOf()/u;n=parseFloat(n.toFixed(4));const a=Math.floor(n/this._getTimeSignature());let r=n%1*4;n=Math.floor(n)%this._getTimeSignature();const g=r.toString();return g.length>3&&(r=parseFloat(parseFloat(g).toFixed(3))),[a,n,r].join(":")}toTicks(){const u=this._beatsToUnits(1);return this.valueOf()/u*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return ftom(this.toFrequency())}_now(){return this.context.now()}}class FrequencyClass extends TimeClass{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return getA4()}static set A4(u){setA4(u)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(u){return this.defaultUnits==="midi"?u:FrequencyClass.mtof(u)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(u,n){const r=noteToScaleIndex[u.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?r:FrequencyClass.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(u,n,a){let r=1;return u&&u!=="0"&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(u))),n&&n!=="0"&&(r*=this._beatsToUnits(parseFloat(n))),a&&a!=="0"&&(r*=this._beatsToUnits(parseFloat(a)/4)),r}}})}transpose(u){return new FrequencyClass(this.context,this.valueOf()*intervalToFrequencyRatio(u))}harmonize(u){return u.map(n=>this.transpose(n))}toMidi(){return ftom(this.valueOf())}toNote(){const u=this.toFrequency(),n=Math.log2(u/FrequencyClass.A4);let a=Math.round(12*n)+57;const r=Math.floor(a/12);return r<0&&(a+=-12*r),scaleIndexToNote[a%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const u=this._beatsToUnits(1),n=this.valueOf()/u;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(u){return u}_ticksToUnits(u){return 1/(u*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(u){return 1/super._beatsToUnits(u)}_secondsToUnits(u){return 1/u}static mtof(u){return mtof(u)}static ftom(u){return ftom(u)}}const noteToScaleIndex={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},scaleIndexToNote=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class TransportTimeClass extends TimeClass{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class ToneWithContext extends Tone{constructor(){super();const u=optionsFromArguments(ToneWithContext.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=u.context}static getDefaults(){return{context:getContext()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(u){return assertUsedScheduleTime(u),new TimeClass(this.context,u).toSeconds()}toFrequency(u){return new FrequencyClass(this.context,u).toFrequency()}toTicks(u){return new TransportTimeClass(this.context,u).toTicks()}_getPartialProperties(u){const n=this.get();return Object.keys(n).forEach(a=>{isUndef(u[a])&&delete n[a]}),n}get(){const u=getDefaultsFromInstance(this);return Object.keys(u).forEach(n=>{if(Reflect.has(this,n)){const a=this[n];isDefined(a)&&isDefined(a.value)&&isDefined(a.setValueAtTime)?u[n]=a.value:a instanceof ToneWithContext?u[n]=a._getPartialProperties(u[n]):isArray$1(a)||isNumber$1(a)||isString$1(a)||isBoolean$1(a)?u[n]=a:delete u[n]}}),u}set(u){return Object.keys(u).forEach(n=>{Reflect.has(this,n)&&isDefined(this[n])&&(this[n]&&isDefined(this[n].value)&&isDefined(this[n].setValueAtTime)?this[n].value!==u[n]&&(this[n].value=u[n]):this[n]instanceof ToneWithContext?this[n].set(u[n]):this[n]=u[n])}),this}}class StateTimeline extends Timeline{constructor(u="stopped"){super(),this.name="StateTimeline",this._initial=u,this.setStateAtTime(this._initial,0)}getValueAtTime(u){const n=this.get(u);return n!==null?n.state:this._initial}setStateAtTime(u,n,a){return assertRange(n,0),this.add(Object.assign({},a,{state:u,time:n})),this}getLastState(u,n){const a=this._search(n);for(let r=a;r>=0;r--){const g=this._timeline[r];if(g.state===u)return g}}getNextState(u,n){const a=this._search(n);if(a!==-1)for(let r=a;r<this._timeline.length;r++){const g=this._timeline[r];if(g.state===u)return g}}}class Param extends ToneWithContext{constructor(){super(optionsFromArguments(Param.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const u=optionsFromArguments(Param.getDefaults(),arguments,["param","units","convert"]);for(assert(isDefined(u.param)&&(isAudioParam(u.param)||u.param instanceof Param),"param must be an AudioParam");!isAudioParam(u.param);)u.param=u.param._param;this._swappable=isDefined(u.swappable)?u.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=u.param,this.input.connect(this._param)):this._param=this.input=u.param,this._events=new Timeline(1e3),this._initialValue=this._param.defaultValue,this.units=u.units,this.convert=u.convert,this._minValue=u.minValue,this._maxValue=u.maxValue,isDefined(u.value)&&u.value!==this._toType(this._initialValue)&&this.setValueAtTime(u.value,0)}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{convert:!0,units:"number"})}get value(){const u=this.now();return this.getValueAtTime(u)}set value(u){this.cancelScheduledValues(this.now()),this.setValueAtTime(u,this.now())}get minValue(){return isDefined(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return isDefined(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(u,n){return this.units===n}_assertRange(u){return isDefined(this.maxValue)&&isDefined(this.minValue)&&assertRange(u,this._fromType(this.minValue),this._fromType(this.maxValue)),u}_fromType(u){return this.convert&&!this.overridden?this._is(u,"time")?this.toSeconds(u):this._is(u,"decibels")?dbToGain(u):this._is(u,"frequency")?this.toFrequency(u):u:this.overridden?0:u}_toType(u){return this.convert&&this.units==="decibels"?gainToDb(u):u}setValueAtTime(u,n){const a=this.toSeconds(n),r=this._fromType(u);return assert(isFinite(r)&&isFinite(a),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(u)}, ${JSON.stringify(n)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",u,a),this._events.add({time:a,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,a),this}getValueAtTime(u){const n=Math.max(this.toSeconds(u),0),a=this._events.getAfter(n),r=this._events.get(n);let g=this._initialValue;if(r===null)g=this._initialValue;else if(r.type==="setTargetAtTime"&&(a===null||a.type==="setValueAtTime")){const f=this._events.getBefore(r.time);let m;f===null?m=this._initialValue:m=f.value,r.type==="setTargetAtTime"&&(g=this._exponentialApproach(r.time,m,r.value,r.constant,n))}else if(a===null)g=r.value;else if(a.type==="linearRampToValueAtTime"||a.type==="exponentialRampToValueAtTime"){let f=r.value;if(r.type==="setTargetAtTime"){const m=this._events.getBefore(r.time);m===null?f=this._initialValue:f=m.value}a.type==="linearRampToValueAtTime"?g=this._linearInterpolate(r.time,f,a.time,a.value,n):g=this._exponentialInterpolate(r.time,f,a.time,a.value,n)}else g=r.value;return this._toType(g)}setRampPoint(u){u=this.toSeconds(u);let n=this.getValueAtTime(u);return this.cancelAndHoldAtTime(u),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,u),this}linearRampToValueAtTime(u,n){const a=this._fromType(u),r=this.toSeconds(n);return assert(isFinite(a)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(u)}, ${JSON.stringify(n)}`),this._assertRange(a),this._events.add({time:r,type:"linearRampToValueAtTime",value:a}),this.log(this.units,"linearRampToValueAtTime",u,r),this._param.linearRampToValueAtTime(a,r),this}exponentialRampToValueAtTime(u,n){let a=this._fromType(u);a=EQ(a,0)?this._minOutput:a,this._assertRange(a);const r=this.toSeconds(n);return assert(isFinite(a)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(u)}, ${JSON.stringify(n)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:a}),this.log(this.units,"exponentialRampToValueAtTime",u,r),this._param.exponentialRampToValueAtTime(a,r),this}exponentialRampTo(u,n,a){return a=this.toSeconds(a),this.setRampPoint(a),this.exponentialRampToValueAtTime(u,a+this.toSeconds(n)),this}linearRampTo(u,n,a){return a=this.toSeconds(a),this.setRampPoint(a),this.linearRampToValueAtTime(u,a+this.toSeconds(n)),this}targetRampTo(u,n,a){return a=this.toSeconds(a),this.setRampPoint(a),this.exponentialApproachValueAtTime(u,a,n),this}exponentialApproachValueAtTime(u,n,a){n=this.toSeconds(n),a=this.toSeconds(a);const r=Math.log(a+1)/Math.log(200);return this.setTargetAtTime(u,n,r),this.cancelAndHoldAtTime(n+a*.9),this.linearRampToValueAtTime(u,n+a),this}setTargetAtTime(u,n,a){const r=this._fromType(u);assert(isFinite(a)&&a>0,"timeConstant must be a number greater than 0");const g=this.toSeconds(n);return this._assertRange(r),assert(isFinite(r)&&isFinite(g),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(u)}, ${JSON.stringify(n)}`),this._events.add({constant:a,time:g,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",u,g,a),this._param.setTargetAtTime(r,g,a),this}setValueCurveAtTime(u,n,a,r=1){a=this.toSeconds(a),n=this.toSeconds(n);const g=this._fromType(u[0])*r;this.setValueAtTime(this._toType(g),n);const f=a/(u.length-1);for(let m=1;m<u.length;m++){const l=this._fromType(u[m])*r;this.linearRampToValueAtTime(this._toType(l),n+m*f)}return this}cancelScheduledValues(u){const n=this.toSeconds(u);return assert(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(u)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(u){const n=this.toSeconds(u),a=this._fromType(this.getValueAtTime(n));assert(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(u)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+a);const r=this._events.get(n),g=this._events.getAfter(n);return r&&EQ(r.time,n)?g?(this._param.cancelScheduledValues(g.time),this._events.cancel(g.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):g&&(this._param.cancelScheduledValues(g.time),this._events.cancel(g.time),g.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(a),n):g.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(a),n)),this._events.add({time:n,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,n),this}rampTo(u,n=.1,a){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(u,n,a):this.linearRampTo(u,n,a),this}apply(u){const n=this.context.currentTime;u.setValueAtTime(this.getValueAtTime(n),n);const a=this._events.get(n);if(a&&a.type==="setTargetAtTime"){const r=this._events.getAfter(a.time),g=r?r.time:n+2,f=(g-n)/10;for(let m=n;m<g;m+=f)u.linearRampToValueAtTime(this.getValueAtTime(m),m)}return this._events.forEachAfter(this.context.currentTime,r=>{r.type==="cancelScheduledValues"?u.cancelScheduledValues(r.time):r.type==="setTargetAtTime"?u.setTargetAtTime(r.value,r.time,r.constant):u[r.type](r.value,r.time)}),this}setParam(u){assert(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(u),this._param=u,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(u,n,a,r,g){return a+(n-a)*Math.exp(-(g-u)/r)}_linearInterpolate(u,n,a,r,g){return n+(r-n)*((g-u)/(a-u))}_exponentialInterpolate(u,n,a,r,g){return n*Math.pow(r/n,(g-u)/(a-u))}}class ToneAudioNode extends ToneWithContext{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return isDefined(this.input)?isAudioParam(this.input)||this.input instanceof Param?1:this.input.numberOfInputs:0}get numberOfOutputs(){return isDefined(this.output)?this.output.numberOfOutputs:0}_isAudioNode(u){return isDefined(u)&&(u instanceof ToneAudioNode||isAudioNode(u))}_getInternalNodes(){const u=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&u.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&u.push(this.output),u}_setChannelProperties(u){this._getInternalNodes().forEach(a=>{a.channelCount=u.channelCount,a.channelCountMode=u.channelCountMode,a.channelInterpretation=u.channelInterpretation})}_getChannelProperties(){const u=this._getInternalNodes();assert(u.length>0,"ToneAudioNode does not have any internal nodes");const n=u[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(u){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:u}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(u){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:u}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(u){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:u}))}connect(u,n=0,a=0){return connect$1(this,u,n,a),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return warn("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(u,n=0,a=0){return disconnect(this,u,n,a),this}chain(...u){return connectSeries(this,...u),this}fan(...u){return u.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),isDefined(this.input)&&(this.input instanceof ToneAudioNode?this.input.dispose():isAudioNode(this.input)&&this.input.disconnect()),isDefined(this.output)&&(this.output instanceof ToneAudioNode?this.output.dispose():isAudioNode(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function connectSeries(...C){const u=C.shift();C.reduce((n,a)=>(n instanceof ToneAudioNode?n.connect(a):isAudioNode(n)&&connect$1(n,a),a),u)}function connect$1(C,u,n=0,a=0){for(assert(isDefined(C),"Cannot connect from undefined node"),assert(isDefined(u),"Cannot connect to undefined node"),(u instanceof ToneAudioNode||isAudioNode(u))&&assert(u.numberOfInputs>0,"Cannot connect to node with no inputs"),assert(C.numberOfOutputs>0,"Cannot connect from node with no outputs");u instanceof ToneAudioNode||u instanceof Param;)isDefined(u.input)&&(u=u.input);for(;C instanceof ToneAudioNode;)isDefined(C.output)&&(C=C.output);isAudioParam(u)?C.connect(u,n):C.connect(u,n,a)}function disconnect(C,u,n=0,a=0){if(isDefined(u))for(;u instanceof ToneAudioNode;)u=u.input;for(;!isAudioNode(C);)isDefined(C.output)&&(C=C.output);isAudioParam(u)?C.disconnect(u,n):isAudioNode(u)?C.disconnect(u,n,a):C.disconnect()}class Gain extends ToneAudioNode{constructor(){super(optionsFromArguments(Gain.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const u=optionsFromArguments(Gain.getDefaults(),arguments,["gain","units"]);this.gain=new Param({context:this.context,convert:u.convert,param:this._gainNode.gain,units:u.units,value:u.gain,minValue:u.minValue,maxValue:u.maxValue}),readOnly(this,"gain")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class OneShotSource extends ToneAudioNode{constructor(u){super(u),this.onended=noOp,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Gain({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const a=this.toSeconds(n);return this._startTime!==-1&&a>=this._startTime&&(this._stopTime===-1||a<=this._stopTime)?"started":"stopped"},this._fadeIn=u.fadeIn,this._fadeOut=u.fadeOut,this._curve=u.curve,this.onended=u.onended}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:noOp})}_startGain(u,n=1){assert(this._startTime===-1,"Source cannot be started more than once");const a=this.toSeconds(this._fadeIn);return this._startTime=u+a,this._startTime=Math.max(this._startTime,this.context.currentTime),a>0?(this._gainNode.gain.setValueAtTime(0,u),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,u+a):this._gainNode.gain.exponentialApproachValueAtTime(n,u,a)):this._gainNode.gain.setValueAtTime(n,u),this}stop(u){return this.log("stop",u),this._stopGain(this.toSeconds(u)),this}_stopGain(u){assert(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(u)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,u):this._gainNode.gain.targetRampTo(0,n,u):(this._gainNode.gain.cancelAndHoldAtTime(u),this._gainNode.gain.setValueAtTime(0,u)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const a=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+a),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==noOp&&(this.onended(this),this.onended=noOp,!this.context.isOffline)){const u=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(u):setTimeout(u,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),assert(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=noOp,this}}class ToneConstantSource extends OneShotSource{constructor(){super(optionsFromArguments(ToneConstantSource.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const u=optionsFromArguments(ToneConstantSource.getDefaults(),arguments,["offset"]);connect$1(this._source,this._gainNode),this.offset=new Param({context:this.context,convert:u.convert,param:this._source.offset,units:u.units,value:u.offset,minValue:u.minValue,maxValue:u.maxValue})}static getDefaults(){return Object.assign(OneShotSource.getDefaults(),{convert:!0,offset:1,units:"number"})}start(u){const n=this.toSeconds(u);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(u){this._source.stop(u)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Signal extends ToneAudioNode{constructor(){super(optionsFromArguments(Signal.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const u=optionsFromArguments(Signal.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new ToneConstantSource({context:this.context,convert:u.convert,offset:u.value,units:u.units,minValue:u.minValue,maxValue:u.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{convert:!0,units:"number",value:0})}connect(u,n=0,a=0){return connectSignal(this,u,n,a),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(u,n){return this._param.setValueAtTime(u,n),this}getValueAtTime(u){return this._param.getValueAtTime(u)}setRampPoint(u){return this._param.setRampPoint(u),this}linearRampToValueAtTime(u,n){return this._param.linearRampToValueAtTime(u,n),this}exponentialRampToValueAtTime(u,n){return this._param.exponentialRampToValueAtTime(u,n),this}exponentialRampTo(u,n,a){return this._param.exponentialRampTo(u,n,a),this}linearRampTo(u,n,a){return this._param.linearRampTo(u,n,a),this}targetRampTo(u,n,a){return this._param.targetRampTo(u,n,a),this}exponentialApproachValueAtTime(u,n,a){return this._param.exponentialApproachValueAtTime(u,n,a),this}setTargetAtTime(u,n,a){return this._param.setTargetAtTime(u,n,a),this}setValueCurveAtTime(u,n,a,r){return this._param.setValueCurveAtTime(u,n,a,r),this}cancelScheduledValues(u){return this._param.cancelScheduledValues(u),this}cancelAndHoldAtTime(u){return this._param.cancelAndHoldAtTime(u),this}rampTo(u,n,a){return this._param.rampTo(u,n,a),this}get value(){return this._param.value}set value(u){this._param.value=u}get convert(){return this._param.convert}set convert(u){this._param.convert=u}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(u){this._param.overridden=u}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(u){return this._param.apply(u),this}}function connectSignal(C,u,n,a){(u instanceof Param||isAudioParam(u)||u instanceof Signal&&u.override)&&(u.cancelScheduledValues(0),u.setValueAtTime(0,0),u instanceof Signal&&(u.overridden=!0)),connect$1(C,u,n,a)}class TickParam extends Param{constructor(){super(optionsFromArguments(TickParam.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Timeline(1/0),this._multiplier=1;const u=optionsFromArguments(TickParam.getDefaults(),arguments,["value"]);this._multiplier=u.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(u.value)}),this.setValueAtTime(u.value,0)}static getDefaults(){return Object.assign(Param.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(u,n,a){n=this.toSeconds(n),this.setRampPoint(n);const r=this._fromType(u),g=this._events.get(n),f=Math.round(Math.max(1/a,1));for(let m=0;m<=f;m++){const l=a*m+n,x=this._exponentialApproach(g.time,g.value,r,a,l);this.linearRampToValueAtTime(this._toType(x),l)}return this}setValueAtTime(u,n){const a=this.toSeconds(n);super.setValueAtTime(u,n);const r=this._events.get(a),g=this._events.previousEvent(r),f=this._getTicksUntilEvent(g,a);return r.ticks=Math.max(f,0),this}linearRampToValueAtTime(u,n){const a=this.toSeconds(n);super.linearRampToValueAtTime(u,n);const r=this._events.get(a),g=this._events.previousEvent(r),f=this._getTicksUntilEvent(g,a);return r.ticks=Math.max(f,0),this}exponentialRampToValueAtTime(u,n){n=this.toSeconds(n);const a=this._fromType(u),r=this._events.get(n),g=Math.round(Math.max((n-r.time)*10,1)),f=(n-r.time)/g;for(let m=0;m<=g;m++){const l=f*m+r.time,x=this._exponentialInterpolate(r.time,r.value,n,a,l);this.linearRampToValueAtTime(this._toType(x),l)}return this}_getTicksUntilEvent(u,n){if(u===null)u={ticks:0,time:0,type:"setValueAtTime",value:0};else if(isUndef(u.ticks)){const f=this._events.previousEvent(u);u.ticks=this._getTicksUntilEvent(f,u.time)}const a=this._fromType(this.getValueAtTime(u.time));let r=this._fromType(this.getValueAtTime(n));const g=this._events.get(n);return g&&g.time===n&&g.type==="setValueAtTime"&&(r=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-u.time)*(a+r)+u.ticks}getTicksAtTime(u){const n=this.toSeconds(u),a=this._events.get(n);return Math.max(this._getTicksUntilEvent(a,n),0)}getDurationOfTicks(u,n){const a=this.toSeconds(n),r=this.getTicksAtTime(n);return this.getTimeOfTick(r+u)-a}getTimeOfTick(u){const n=this._events.get(u,"ticks"),a=this._events.getAfter(u,"ticks");if(n&&n.ticks===u)return n.time;if(n&&a&&a.type==="linearRampToValueAtTime"&&n.value!==a.value){const r=this._fromType(this.getValueAtTime(n.time)),f=(this._fromType(this.getValueAtTime(a.time))-r)/(a.time-n.time),m=Math.sqrt(Math.pow(r,2)-2*f*(n.ticks-u)),l=(-r+m)/f,x=(-r-m)/f;return(l>0?l:x)+n.time}else return n?n.value===0?1/0:n.time+(u-n.ticks)/n.value:u/this._initialValue}ticksToTime(u,n){return this.getDurationOfTicks(u,n)}timeToTicks(u,n){const a=this.toSeconds(n),r=this.toSeconds(u),g=this.getTicksAtTime(a);return this.getTicksAtTime(a+r)-g}_fromType(u){return this.units==="bpm"&&this.multiplier?1/(60/u/this.multiplier):super._fromType(u)}_toType(u){return this.units==="bpm"&&this.multiplier?u/this.multiplier*60:super._toType(u)}get multiplier(){return this._multiplier}set multiplier(u){const n=this.value;this._multiplier=u,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class TickSignal extends Signal{constructor(){super(optionsFromArguments(TickSignal.getDefaults(),arguments,["value"])),this.name="TickSignal";const u=optionsFromArguments(TickSignal.getDefaults(),arguments,["value"]);this.input=this._param=new TickParam({context:this.context,convert:u.convert,multiplier:u.multiplier,param:this._constantSource.offset,units:u.units,value:u.value})}static getDefaults(){return Object.assign(Signal.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(u,n){return this._param.ticksToTime(u,n)}timeToTicks(u,n){return this._param.timeToTicks(u,n)}getTimeOfTick(u){return this._param.getTimeOfTick(u)}getDurationOfTicks(u,n){return this._param.getDurationOfTicks(u,n)}getTicksAtTime(u){return this._param.getTicksAtTime(u)}get multiplier(){return this._param.multiplier}set multiplier(u){this._param.multiplier=u}dispose(){return super.dispose(),this._param.dispose(),this}}class TickSource extends ToneWithContext{constructor(){super(optionsFromArguments(TickSource.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new StateTimeline,this._tickOffset=new Timeline,this._ticksAtTime=new Timeline,this._secondsAtTime=new Timeline;const u=optionsFromArguments(TickSource.getDefaults(),arguments,["frequency"]);this.frequency=new TickSignal({context:this.context,units:u.units,value:u.frequency}),readOnly(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},ToneWithContext.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(u,n){const a=this.toSeconds(u);return this._state.getValueAtTime(a)!=="started"&&(this._state.setStateAtTime("started",a),isDefined(n)&&this.setTicksAtTime(n,a),this._ticksAtTime.cancel(a),this._secondsAtTime.cancel(a)),this}stop(u){const n=this.toSeconds(u);if(this._state.getValueAtTime(n)==="stopped"){const a=this._state.get(n);a&&a.time>0&&(this._tickOffset.cancel(a.time),this._state.cancel(a.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(u){const n=this.toSeconds(u);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(u){return u=this.toSeconds(u),this._state.cancel(u),this._tickOffset.cancel(u),this._ticksAtTime.cancel(u),this._secondsAtTime.cancel(u),this}getTicksAtTime(u){const n=this.toSeconds(u),a=this._state.getLastState("stopped",n),r=this._ticksAtTime.get(n),g={state:"paused",time:n};this._state.add(g);let f=r||a,m=r?r.ticks:0,l=null;return this._state.forEachBetween(f.time,n+this.sampleTime,x=>{let S=f.time;const D=this._tickOffset.get(x.time);D&&D.time>=f.time&&(m=D.ticks,S=D.time),f.state==="started"&&x.state!=="started"&&(m+=this.frequency.getTicksAtTime(x.time)-this.frequency.getTicksAtTime(S),x.time!==g.time&&(l={state:x.state,time:x.time,ticks:m})),f=x}),this._state.remove(g),l&&this._ticksAtTime.add(l),m}get ticks(){return this.getTicksAtTime(this.now())}set ticks(u){this.setTicksAtTime(u,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(u){const n=this.now(),a=this.frequency.timeToTicks(u,n);this.setTicksAtTime(a,n)}getSecondsAtTime(u){u=this.toSeconds(u);const n=this._state.getLastState("stopped",u),a={state:"paused",time:u};this._state.add(a);const r=this._secondsAtTime.get(u);let g=r||n,f=r?r.seconds:0,m=null;return this._state.forEachBetween(g.time,u+this.sampleTime,l=>{let x=g.time;const S=this._tickOffset.get(l.time);S&&S.time>=g.time&&(f=S.seconds,x=S.time),g.state==="started"&&l.state!=="started"&&(f+=l.time-x,l.time!==a.time&&(m={state:l.state,time:l.time,seconds:f})),g=l}),this._state.remove(a),m&&this._secondsAtTime.add(m),f}setTicksAtTime(u,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(u,n),ticks:u,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(u){return u=this.toSeconds(u),this._state.getValueAtTime(u)}getTimeOfTick(u,n=this.now()){const a=this._tickOffset.get(n),r=this._state.get(n),g=Math.max(a.time,r.time),f=this.frequency.getTicksAtTime(g)+u-a.ticks;return this.frequency.getTimeOfTick(f)}forEachTickBetween(u,n,a){let r=this._state.get(u);this._state.forEachBetween(u,n,f=>{r&&r.state==="started"&&f.state!=="started"&&this.forEachTickBetween(Math.max(r.time,u),f.time-this.sampleTime,a),r=f});let g=null;if(r&&r.state==="started"){const f=Math.max(r.time,u),m=this.frequency.getTicksAtTime(f),l=this.frequency.getTicksAtTime(r.time),x=m-l;let S=Math.ceil(x)-x;S=EQ(S,1)?0:S;let D=this.frequency.getTimeOfTick(m+S);for(;D<n;){try{a(D,Math.round(this.getTicksAtTime(D)))}catch(h){g=h;break}D+=this.frequency.getDurationOfTicks(1,D)}}if(g)throw g;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Clock extends ToneWithContext{constructor(){super(optionsFromArguments(Clock.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=noOp,this._lastUpdate=0,this._state=new StateTimeline("stopped"),this._boundLoop=this._loop.bind(this);const u=optionsFromArguments(Clock.getDefaults(),arguments,["callback","frequency"]);this.callback=u.callback,this._tickSource=new TickSource({context:this.context,frequency:u.frequency,units:u.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,readOnly(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{callback:noOp,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(u,n){assertContextRunning(this.context);const a=this.toSeconds(u);return this.log("start",a),this._state.getValueAtTime(a)!=="started"&&(this._state.setStateAtTime("started",a),this._tickSource.start(a,n),a<this._lastUpdate&&this.emit("start",a,n)),this}stop(u){const n=this.toSeconds(u);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(u){const n=this.toSeconds(u);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(u){this._tickSource.ticks=u}get seconds(){return this._tickSource.seconds}set seconds(u){this._tickSource.seconds=u}getSecondsAtTime(u){return this._tickSource.getSecondsAtTime(u)}setTicksAtTime(u,n){return this._tickSource.setTicksAtTime(u,n),this}getTimeOfTick(u,n=this.now()){return this._tickSource.getTimeOfTick(u,n)}getTicksAtTime(u){return this._tickSource.getTicksAtTime(u)}nextTickTime(u,n){const a=this.toSeconds(n),r=this.getTicksAtTime(a);return this._tickSource.getTimeOfTick(r+u,a)}_loop(){const u=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",u,n),u!==n&&(this._state.forEachBetween(u,n,a=>{switch(a.state){case"started":const r=this._tickSource.getTicksAtTime(a.time);this.emit("start",a.time,r);break;case"stopped":a.time!==0&&this.emit("stop",a.time);break;case"paused":this.emit("pause",a.time);break}}),this._tickSource.forEachTickBetween(u,n,(a,r)=>{this.callback(a,r)}))}getStateAtTime(u){const n=this.toSeconds(u);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Emitter.mixin(Clock);class ToneAudioBuffers extends Tone{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const u=optionsFromArguments(ToneAudioBuffers.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=u.baseUrl,Object.keys(u.urls).forEach(n=>{this._loadingCount++;const a=u.urls[n];this.add(n,a,this._bufferLoaded.bind(this,u.onload),u.onerror)})}static getDefaults(){return{baseUrl:"",onerror:noOp,onload:noOp,urls:{}}}has(u){return this._buffers.has(u.toString())}get(u){return assert(this.has(u),`ToneAudioBuffers has no buffer named: ${u}`),this._buffers.get(u.toString())}_bufferLoaded(u){this._loadingCount--,this._loadingCount===0&&u&&u()}get loaded(){return Array.from(this._buffers).every(([u,n])=>n.loaded)}add(u,n,a=noOp,r=noOp){return isString$1(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(u.toString(),new ToneAudioBuffer(this.baseUrl+n,a,r))):this._buffers.set(u.toString(),new ToneAudioBuffer(n,a,r)),this}dispose(){return super.dispose(),this._buffers.forEach(u=>u.dispose()),this._buffers.clear(),this}}class TicksClass extends TransportTimeClass{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(u){return this._getPPQ()*u}_secondsToUnits(u){return Math.floor(u/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(u){return u}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class DrawClass extends ToneWithContext{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Timeline,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(u,n){return this._events.add({callback:u,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(u){return this._events.cancel(this.toSeconds(u)),this}_drawLoop(){const u=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=u;){const n=this._events.shift();n&&u-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}onContextInit(C=>{C.draw=new DrawClass({context:C})});onContextClose(C=>{C.draw.dispose()});class IntervalTimeline extends Tone{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(u){assert(isDefined(u.time),"Events must have a time property"),assert(isDefined(u.duration),"Events must have a duration parameter"),u.time=u.time.valueOf();let n=new IntervalNode(u.time,u.time+u.duration,u);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(u){if(this._root!==null){const n=[];this._root.search(u.time,n);for(const a of n)if(a.event===u){this._removeNode(a),this._length--;break}}return this}get length(){return this._length}cancel(u){return this.forEachFrom(u,n=>this.remove(n)),this}_setRoot(u){this._root=u,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(u,n){u.parent!==null?(u.isLeftChild()?u.parent.left=n:u.parent.right=n,this._rebalance(u.parent)):this._setRoot(n)}_removeNode(u){if(u.left===null&&u.right===null)this._replaceNodeInParent(u,null);else if(u.right===null)this._replaceNodeInParent(u,u.left);else if(u.left===null)this._replaceNodeInParent(u,u.right);else{const n=u.getBalance();let a,r=null;if(n>0)if(u.left.right===null)a=u.left,a.right=u.right,r=a;else{for(a=u.left.right;a.right!==null;)a=a.right;a.parent&&(a.parent.right=a.left,r=a.parent,a.left=u.left,a.right=u.right)}else if(u.right.left===null)a=u.right,a.left=u.left,r=a;else{for(a=u.right.left;a.left!==null;)a=a.left;a.parent&&(a.parent.left=a.right,r=a.parent,a.left=u.left,a.right=u.right)}u.parent!==null?u.isLeftChild()?u.parent.left=a:u.parent.right=a:this._setRoot(a),r&&this._rebalance(r)}u.dispose()}_rotateLeft(u){const n=u.parent,a=u.isLeftChild(),r=u.right;r&&(u.right=r.left,r.left=u),n!==null?a?n.left=r:n.right=r:this._setRoot(r)}_rotateRight(u){const n=u.parent,a=u.isLeftChild(),r=u.left;r&&(u.left=r.right,r.right=u),n!==null?a?n.left=r:n.right=r:this._setRoot(r)}_rebalance(u){const n=u.getBalance();n>1&&u.left?u.left.getBalance()<0?this._rotateLeft(u.left):this._rotateRight(u):n<-1&&u.right&&(u.right.getBalance()>0?this._rotateRight(u.right):this._rotateLeft(u))}get(u){if(this._root!==null){const n=[];if(this._root.search(u,n),n.length>0){let a=n[0];for(let r=1;r<n.length;r++)n[r].low>a.low&&(a=n[r]);return a.event}}return null}forEach(u){if(this._root!==null){const n=[];this._root.traverse(a=>n.push(a)),n.forEach(a=>{a.event&&u(a.event)})}return this}forEachAtTime(u,n){if(this._root!==null){const a=[];this._root.search(u,a),a.forEach(r=>{r.event&&n(r.event)})}return this}forEachFrom(u,n){if(this._root!==null){const a=[];this._root.searchAfter(u,a),a.forEach(r=>{r.event&&n(r.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(u=>u.dispose()),this._root=null,this}}class IntervalNode{constructor(u,n,a){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=a,this.low=u,this.high=n,this.max=this.high}insert(u){u.low<=this.low?this.left===null?this.left=u:this.left.insert(u):this.right===null?this.right=u:this.right.insert(u)}search(u,n){u>this.max||(this.left!==null&&this.left.search(u,n),this.low<=u&&this.high>u&&n.push(this),!(this.low>u)&&this.right!==null&&this.right.search(u,n))}searchAfter(u,n){this.low>=u&&(n.push(this),this.left!==null&&this.left.searchAfter(u,n)),this.right!==null&&this.right.searchAfter(u,n)}traverse(u){u(this),this.left!==null&&this.left.traverse(u),this.right!==null&&this.right.traverse(u)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let u=0;return this.left!==null&&this.right!==null?u=this.left.height-this.right.height:this.left!==null?u=this.left.height+1:this.right!==null&&(u=-(this.right.height+1)),u}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(u){this._left=u,u!==null&&(u.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(u){this._right=u,u!==null&&(u.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Volume extends ToneAudioNode{constructor(){super(optionsFromArguments(Volume.getDefaults(),arguments,["volume"])),this.name="Volume";const u=optionsFromArguments(Volume.getDefaults(),arguments,["volume"]);this.input=this.output=new Gain({context:this.context,gain:u.volume,units:"decibels"}),this.volume=this.output.gain,readOnly(this,"volume"),this._unmutedVolume=u.volume,this.mute=u.mute}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(u){!this.mute&&u?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!u&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class DestinationClass extends ToneAudioNode{constructor(){super(optionsFromArguments(DestinationClass.getDefaults(),arguments)),this.name="Destination",this.input=new Volume({context:this.context}),this.output=new Gain({context:this.context}),this.volume=this.input.volume;const u=optionsFromArguments(DestinationClass.getDefaults(),arguments);connectSeries(this.input,this.output,this.context.rawContext.destination),this.mute=u.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(u){this.input.mute=u}chain(...u){return this.input.disconnect(),u.unshift(this.input),u.push(this.output),connectSeries(...u),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}onContextInit(C=>{C.destination=new DestinationClass({context:C})});onContextClose(C=>{C.destination.dispose()});class TimelineValue extends Tone{constructor(u){super(),this.name="TimelineValue",this._timeline=new Timeline({memory:10}),this._initialValue=u}set(u,n){return this._timeline.add({value:u,time:n}),this}get(u){const n=this._timeline.get(u);return n?n.value:this._initialValue}}class SignalOperator extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(SignalOperator.getDefaults(),arguments,["context"])))}connect(u,n=0,a=0){return connectSignal(this,u,n,a),this}}class WaveShaper extends SignalOperator{constructor(){super(Object.assign(optionsFromArguments(WaveShaper.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const u=optionsFromArguments(WaveShaper.getDefaults(),arguments,["mapping","length"]);isArray$1(u.mapping)||u.mapping instanceof Float32Array?this.curve=Float32Array.from(u.mapping):isFunction$1(u.mapping)&&this.setMap(u.mapping,u.length)}static getDefaults(){return Object.assign(Signal.getDefaults(),{length:1024})}setMap(u,n=1024){const a=new Float32Array(n);for(let r=0,g=n;r<g;r++){const f=r/(g-1)*2-1;a[r]=u(f,r)}return this.curve=a,this}get curve(){return this._shaper.curve}set curve(u){this._shaper.curve=u}get oversample(){return this._shaper.oversample}set oversample(u){const n=["none","2x","4x"].some(a=>a.includes(u));assert(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=u}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Pow extends SignalOperator{constructor(){super(Object.assign(optionsFromArguments(Pow.getDefaults(),arguments,["value"]))),this.name="Pow";const u=optionsFromArguments(Pow.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new WaveShaper({context:this.context,mapping:this._expFunc(u.value),length:8192}),this._exponent=u.value}static getDefaults(){return Object.assign(SignalOperator.getDefaults(),{value:1})}_expFunc(u){return n=>Math.pow(Math.abs(n),u)}get value(){return this._exponent}set value(u){this._exponent=u,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class TransportEvent{constructor(u,n){this.id=TransportEvent._eventId++,this._remainderTime=0;const a=Object.assign(TransportEvent.getDefaults(),n);this.transport=u,this.callback=a.callback,this._once=a.once,this.time=Math.floor(a.time),this._remainderTime=a.time-this.time}static getDefaults(){return{callback:noOp,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(u){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,u);this.callback(u+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}TransportEvent._eventId=0;class TransportRepeatEvent extends TransportEvent{constructor(u,n){super(u,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const a=Object.assign(TransportRepeatEvent.getDefaults(),n);this.duration=a.duration,this._interval=a.interval,this._nextTick=a.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},TransportEvent.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(u){this._createEvents(u),super.invoke(u)}_createEvent(){return LT(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new TicksClass(this.context,this._nextTick).toSeconds()):-1}_createEvents(u){LT(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new TicksClass(this.context,this._nextTick).toSeconds()))}_restart(u){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(u);GT(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class TransportClass extends ToneWithContext{constructor(){super(optionsFromArguments(TransportClass.getDefaults(),arguments)),this.name="Transport",this._loop=new TimelineValue(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Timeline,this._repeatedEvents=new IntervalTimeline,this._syncedSignals=[],this._swingAmount=0;const u=optionsFromArguments(TransportClass.getDefaults(),arguments);this._ppq=u.ppq,this._clock=new Clock({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=u.ppq,this.bpm.setValueAtTime(u.bpm,0),readOnly(this,"bpm"),this._timeSignature=u.timeSignature,this._swingTicks=u.ppq/2}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(u,n){if(this._loop.get(u)&&n>=this._loopEnd&&(this.emit("loopEnd",u),this._clock.setTicksAtTime(this._loopStart,u),n=this._loopStart,this.emit("loopStart",u,this._clock.getSecondsAtTime(u)),this.emit("loop",u)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const a=n%(this._swingTicks*2)/(this._swingTicks*2),r=Math.sin(a*Math.PI)*this._swingAmount;u+=new TicksClass(this.context,this._swingTicks*2/3).toSeconds()*r}enterScheduledCallback(!0),this._timeline.forEachAtTime(n,a=>a.invoke(u)),enterScheduledCallback(!1)}schedule(u,n){const a=new TransportEvent(this,{callback:u,time:new TransportTimeClass(this.context,n).toTicks()});return this._addEvent(a,this._timeline)}scheduleRepeat(u,n,a,r=1/0){const g=new TransportRepeatEvent(this,{callback:u,duration:new TimeClass(this.context,r).toTicks(),interval:new TimeClass(this.context,n).toTicks(),time:new TransportTimeClass(this.context,a).toTicks()});return this._addEvent(g,this._repeatedEvents)}scheduleOnce(u,n){const a=new TransportEvent(this,{callback:u,once:!0,time:new TransportTimeClass(this.context,n).toTicks()});return this._addEvent(a,this._timeline)}clear(u){if(this._scheduledEvents.hasOwnProperty(u)){const n=this._scheduledEvents[u.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[u.toString()]}return this}_addEvent(u,n){return this._scheduledEvents[u.id.toString()]={event:u,timeline:n},n.add(u),u.id}cancel(u=0){const n=this.toTicks(u);return this._timeline.forEachFrom(n,a=>this.clear(a.id)),this._repeatedEvents.forEachFrom(n,a=>this.clear(a.id)),this}_bindClockEvents(){this._clock.on("start",(u,n)=>{n=new TicksClass(this.context,n).toSeconds(),this.emit("start",u,n)}),this._clock.on("stop",u=>{this.emit("stop",u)}),this._clock.on("pause",u=>{this.emit("pause",u)})}get state(){return this._clock.getStateAtTime(this.now())}start(u,n){this.context.resume();let a;return isDefined(n)&&(a=this.toTicks(n)),this._clock.start(u,a),this}stop(u){return this._clock.stop(u),this}pause(u){return this._clock.pause(u),this}toggle(u){return u=this.toSeconds(u),this._clock.getStateAtTime(u)!=="started"?this.start(u):this.stop(u),this}get timeSignature(){return this._timeSignature}set timeSignature(u){isArray$1(u)&&(u=u[0]/u[1]*4),this._timeSignature=u}get loopStart(){return new TimeClass(this.context,this._loopStart,"i").toSeconds()}set loopStart(u){this._loopStart=this.toTicks(u)}get loopEnd(){return new TimeClass(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(u){this._loopEnd=this.toTicks(u)}get loop(){return this._loop.get(this.now())}set loop(u){this._loop.set(u,this.now())}setLoopPoints(u,n){return this.loopStart=u,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(u){this._swingAmount=u}get swingSubdivision(){return new TicksClass(this.context,this._swingTicks).toNotation()}set swingSubdivision(u){this._swingTicks=this.toTicks(u)}get position(){const u=this.now(),n=this._clock.getTicksAtTime(u);return new TicksClass(this.context,n).toBarsBeatsSixteenths()}set position(u){const n=this.toTicks(u);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(u){const n=this.now(),a=this._clock.frequency.timeToTicks(u,n);this.ticks=a}get progress(){if(this.loop){const u=this.now();return(this._clock.getTicksAtTime(u)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(u){if(this._clock.ticks!==u){const n=this.now();if(this.state==="started"){const a=this._clock.getTicksAtTime(n),r=this._clock.frequency.getDurationOfTicks(Math.ceil(a)-a,n),g=n+r;this.emit("stop",g),this._clock.setTicksAtTime(u,g),this.emit("start",g,this._clock.getSecondsAtTime(g))}else this.emit("ticks",n),this._clock.setTicksAtTime(u,n)}}getTicksAtTime(u){return this._clock.getTicksAtTime(u)}getSecondsAtTime(u){return this._clock.getSecondsAtTime(u)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(u){this._clock.frequency.multiplier=u}nextSubdivision(u){if(u=this.toTicks(u),this.state!=="started")return 0;{const n=this.now(),a=this.getTicksAtTime(n),r=u-a%u;return this._clock.nextTickTime(r,n)}}syncSignal(u,n){const a=this.now();let r=this.bpm,g=1/(60/r.getValueAtTime(a)/this.PPQ),f=[];if(u.units==="time"){const l=.015625/g,x=new Gain(l),S=new Pow(-1),D=new Gain(l);r.chain(x,S,D),r=D,g=1/g,f=[x,S,D]}n||(u.getValueAtTime(a)!==0?n=u.getValueAtTime(a)/g:n=0);const m=new Gain(n);return r.connect(m),m.connect(u._param),f.push(m),this._syncedSignals.push({initial:u.value,nodes:f,signal:u}),u.value=0,this}unsyncSignal(u){for(let n=this._syncedSignals.length-1;n>=0;n--){const a=this._syncedSignals[n];a.signal===u&&(a.nodes.forEach(r=>r.dispose()),a.signal.value=a.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),writable(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Emitter.mixin(TransportClass);onContextInit(C=>{C.transport=new TransportClass({context:C})});onContextClose(C=>{C.transport.dispose()});class Source extends ToneAudioNode{constructor(u){super(u),this.input=void 0,this._state=new StateTimeline("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=noOp,this._syncedStop=noOp,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Volume({context:this.context,mute:u.mute,volume:u.volume}),this.volume=this._volume.volume,readOnly(this,"volume"),this.onstop=u.onstop}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,onstop:noOp,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(u){this._volume.mute=u}_clampToCurrentTime(u){return this._synced?u:Math.max(u,this.context.currentTime)}start(u,n,a){let r=isUndef(u)&&this._synced?this.context.transport.seconds:this.toSeconds(u);if(r=this._clampToCurrentTime(r),!this._synced&&this._state.getValueAtTime(r)==="started")assert(GT(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,n,a);else if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const g=this._state.get(r);g&&(g.offset=this.toSeconds(defaultArg(n,0)),g.duration=a?this.toSeconds(a):void 0);const f=this.context.transport.schedule(m=>{this._start(m,n,a)},r);this._scheduled.push(f),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else assertContextRunning(this.context),this._start(r,n,a);return this}stop(u){let n=isUndef(u)&&this._synced?this.context.transport.seconds:this.toSeconds(u);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||isDefined(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const a=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(a)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(u,n,a){return u=this.toSeconds(u),this._state.getValueAtTime(u)==="started"&&(this._state.cancel(u),this._restart(u,n,a)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(u,n)=>{if(GT(n,0)){const a=this._state.get(n);if(a&&a.state==="started"&&a.time!==n){const r=n-this.toSeconds(a.time);let g;a.duration&&(g=this.toSeconds(a.duration)-r),this._start(u,this.toSeconds(a.offset)+r,g)}}},this._syncedStop=u=>{const n=this.context.transport.getSecondsAtTime(Math.max(u-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(u)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(u=>this.context.transport.clear(u)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=noOp,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class ToneBufferSource extends OneShotSource{constructor(){super(optionsFromArguments(ToneBufferSource.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const u=optionsFromArguments(ToneBufferSource.getDefaults(),arguments,["url","onload"]);connect$1(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Param({context:this.context,param:this._source.playbackRate,units:"positive",value:u.playbackRate}),this.loop=u.loop,this.loopStart=u.loopStart,this.loopEnd=u.loopEnd,this._buffer=new ToneAudioBuffer(u.url,u.onload,u.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(OneShotSource.getDefaults(),{url:new ToneAudioBuffer,loop:!1,loopEnd:0,loopStart:0,onload:noOp,onerror:noOp,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(u){this._fadeIn=u}get fadeOut(){return this._fadeOut}set fadeOut(u){this._fadeOut=u}get curve(){return this._curve}set curve(u){this._curve=u}start(u,n,a,r=1){assert(this.buffer.loaded,"buffer is either not set or not loaded");const g=this.toSeconds(u);this._startGain(g,r),this.loop?n=defaultArg(n,this.loopStart):n=defaultArg(n,0);let f=Math.max(this.toSeconds(n),0);if(this.loop){const m=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),x=m-l;GTE(f,m)&&(f=(f-l)%x+l),EQ(f,this.buffer.duration)&&(f=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,LT(f,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(g,f)),isDefined(a)){let m=this.toSeconds(a);m=Math.max(m,0),this.stop(g+m)}return this}_stopSource(u){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(u)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(u){this._source.loopStart=this.toSeconds(u)}get loopEnd(){return this._source.loopEnd}set loopEnd(u){this._source.loopEnd=this.toSeconds(u)}get buffer(){return this._buffer}set buffer(u){this._buffer.set(u)}get loop(){return this._source.loop}set loop(u){this._source.loop=u,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function generateWaveform(C,u){return __awaiter(this,void 0,void 0,function*(){const n=u/C.context.sampleRate,a=new OfflineContext(1,n,C.context.sampleRate);return new C.constructor(Object.assign(C.get(),{frequency:2/n,detune:0,context:a})).toDestination().start(0),(yield a.render()).getChannelData(0)})}class ToneOscillatorNode extends OneShotSource{constructor(){super(optionsFromArguments(ToneOscillatorNode.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const u=optionsFromArguments(ToneOscillatorNode.getDefaults(),arguments,["frequency","type"]);connect$1(this._oscillator,this._gainNode),this.type=u.type,this.frequency=new Param({context:this.context,param:this._oscillator.frequency,units:"frequency",value:u.frequency}),this.detune=new Param({context:this.context,param:this._oscillator.detune,units:"cents",value:u.detune}),readOnly(this,["frequency","detune"])}static getDefaults(){return Object.assign(OneShotSource.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(u){const n=this.toSeconds(u);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(u){this._oscillator.stop(u)}setPeriodicWave(u){return this._oscillator.setPeriodicWave(u),this}get type(){return this._oscillator.type}set type(u){this._oscillator.type=u}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Oscillator extends Source{constructor(){super(optionsFromArguments(Oscillator.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const u=optionsFromArguments(Oscillator.getDefaults(),arguments,["frequency","type"]);this.frequency=new Signal({context:this.context,units:"frequency",value:u.frequency}),readOnly(this,"frequency"),this.detune=new Signal({context:this.context,units:"cents",value:u.detune}),readOnly(this,"detune"),this._partials=u.partials,this._partialCount=u.partialCount,this._type=u.type,u.partialCount&&u.type!=="custom"&&(this._type=this.baseType+u.partialCount.toString()),this.phase=u.phase}static getDefaults(){return Object.assign(Source.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(u){const n=this.toSeconds(u),a=new ToneOscillatorNode({context:this.context,onended:()=>this.onstop(this)});this._oscillator=a,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(u){const n=this.toSeconds(u);this._oscillator&&this._oscillator.stop(n)}_restart(u){const n=this.toSeconds(u);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Oscillator._periodicWaveCache.find(n=>n.phase===this._phase&&deepEquals(n.partials,this._partials));{const u=Oscillator._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=u?u.partialCount:this._partialCount,u}}get type(){return this._type}set type(u){this._type=u;const n=["sine","square","sawtooth","triangle"].indexOf(u)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=u);else{const a=this._getCachedPeriodicWave();if(isDefined(a)){const{partials:r,wave:g}=a;this._wave=g,this._partials=r,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[r,g]=this._getRealImaginary(u,this._phase),f=this.context.createPeriodicWave(r,g);this._wave=f,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Oscillator._periodicWaveCache.push({imag:g,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:r,type:this._type,wave:this._wave}),Oscillator._periodicWaveCache.length>100&&Oscillator._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(u){this.partialCount&&this._type!=="custom"&&u!=="custom"?this.type=u+this.partialCount:this.type=u}get partialCount(){return this._partialCount}set partialCount(u){assertRange(u,0);let n=this._type;const a=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(a&&(n=a[1]),this._type!=="custom")u===0?this.type=n:this.type=n+u.toString();else{const r=new Float32Array(u);this._partials.forEach((g,f)=>r[f]=g),this._partials=Array.from(r),this.type=this._type}}_getRealImaginary(u,n){let r=2048;const g=new Float32Array(r),f=new Float32Array(r);let m=1;if(u==="custom"){if(m=this._partials.length+1,this._partialCount=this._partials.length,r=m,this._partials.length===0)return[g,f]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(u);l?(m=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),u=l[1],m=Math.max(m,2),r=m):this._partialCount=0,this._partials=[]}for(let l=1;l<r;++l){const x=2/(l*Math.PI);let S;switch(u){case"sine":S=l<=m?1:0,this._partials[l-1]=S;break;case"square":S=l&1?2*x:0,this._partials[l-1]=S;break;case"sawtooth":S=x*(l&1?1:-1),this._partials[l-1]=S;break;case"triangle":l&1?S=2*(x*x)*(l-1>>1&1?-1:1):S=0,this._partials[l-1]=S;break;case"custom":S=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+u)}S!==0?(g[l]=-S*Math.sin(n*l),f[l]=S*Math.cos(n*l)):(g[l]=0,f[l]=0)}return[g,f]}_inverseFFT(u,n,a){let r=0;const g=u.length;for(let f=0;f<g;f++)r+=u[f]*Math.cos(f*a)+n[f]*Math.sin(f*a);return r}getInitialValue(){const[u,n]=this._getRealImaginary(this._type,0);let a=0;const r=Math.PI*2,g=32;for(let f=0;f<g;f++)a=Math.max(this._inverseFFT(u,n,f/g*r),a);return clamp$4(-this._inverseFFT(u,n,this._phase)/a,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(u){this._partials=u,this._partialCount=this._partials.length,u.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(u){this._phase=u*Math.PI/180,this.type=this._type}asArray(u=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,u)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Oscillator._periodicWaveCache=[];class AudioToGain extends SignalOperator{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new WaveShaper({context:this.context,mapping:u=>(u+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Multiply extends Signal{constructor(){super(Object.assign(optionsFromArguments(Multiply.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const u=optionsFromArguments(Multiply.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Gain({context:this.context,minValue:u.minValue,maxValue:u.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(u.value,0)}static getDefaults(){return Object.assign(Signal.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class AMOscillator extends Source{constructor(){super(optionsFromArguments(AMOscillator.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new AudioToGain({context:this.context}),this._modulationNode=new Gain({context:this.context});const u=optionsFromArguments(AMOscillator.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Oscillator({context:this.context,detune:u.detune,frequency:u.frequency,onstop:()=>this.onstop(this),phase:u.phase,type:u.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Oscillator({context:this.context,phase:u.phase,type:u.modulationType}),this.harmonicity=new Multiply({context:this.context,units:"positive",value:u.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),readOnly(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Oscillator.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(u){this._modulator.start(u),this._carrier.start(u)}_stop(u){this._modulator.stop(u),this._carrier.stop(u)}_restart(u){this._modulator.restart(u),this._carrier.restart(u)}get type(){return this._carrier.type}set type(u){this._carrier.type=u}get baseType(){return this._carrier.baseType}set baseType(u){this._carrier.baseType=u}get partialCount(){return this._carrier.partialCount}set partialCount(u){this._carrier.partialCount=u}get modulationType(){return this._modulator.type}set modulationType(u){this._modulator.type=u}get phase(){return this._carrier.phase}set phase(u){this._carrier.phase=u,this._modulator.phase=u}get partials(){return this._carrier.partials}set partials(u){this._carrier.partials=u}asArray(u=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,u)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class FMOscillator extends Source{constructor(){super(optionsFromArguments(FMOscillator.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Gain({context:this.context,gain:0});const u=optionsFromArguments(FMOscillator.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Oscillator({context:this.context,detune:u.detune,frequency:0,onstop:()=>this.onstop(this),phase:u.phase,type:u.type}),this.detune=this._carrier.detune,this.frequency=new Signal({context:this.context,units:"frequency",value:u.frequency}),this._modulator=new Oscillator({context:this.context,phase:u.phase,type:u.modulationType}),this.harmonicity=new Multiply({context:this.context,units:"positive",value:u.harmonicity}),this.modulationIndex=new Multiply({context:this.context,units:"positive",value:u.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),readOnly(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Oscillator.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(u){this._modulator.start(u),this._carrier.start(u)}_stop(u){this._modulator.stop(u),this._carrier.stop(u)}_restart(u){return this._modulator.restart(u),this._carrier.restart(u),this}get type(){return this._carrier.type}set type(u){this._carrier.type=u}get baseType(){return this._carrier.baseType}set baseType(u){this._carrier.baseType=u}get partialCount(){return this._carrier.partialCount}set partialCount(u){this._carrier.partialCount=u}get modulationType(){return this._modulator.type}set modulationType(u){this._modulator.type=u}get phase(){return this._carrier.phase}set phase(u){this._carrier.phase=u,this._modulator.phase=u}get partials(){return this._carrier.partials}set partials(u){this._carrier.partials=u}asArray(u=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,u)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class PulseOscillator extends Source{constructor(){super(optionsFromArguments(PulseOscillator.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Gain({context:this.context,gain:0}),this._thresh=new WaveShaper({context:this.context,mapping:n=>n<=0?-1:1});const u=optionsFromArguments(PulseOscillator.getDefaults(),arguments,["frequency","width"]);this.width=new Signal({context:this.context,units:"audioRange",value:u.width}),this._triangle=new Oscillator({context:this.context,detune:u.detune,frequency:u.frequency,onstop:()=>this.onstop(this),phase:u.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),readOnly(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Source.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(u){u=this.toSeconds(u),this._triangle.start(u),this._widthGate.gain.setValueAtTime(1,u)}_stop(u){u=this.toSeconds(u),this._triangle.stop(u),this._widthGate.gain.cancelScheduledValues(u),this._widthGate.gain.setValueAtTime(0,u)}_restart(u){this._triangle.restart(u),this._widthGate.gain.cancelScheduledValues(u),this._widthGate.gain.setValueAtTime(1,u)}get phase(){return this._triangle.phase}set phase(u){this._triangle.phase=u}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(u){this._triangle.type=u}asArray(u=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,u)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class FatOscillator extends Source{constructor(){super(optionsFromArguments(FatOscillator.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const u=optionsFromArguments(FatOscillator.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Signal({context:this.context,units:"frequency",value:u.frequency}),this.detune=new Signal({context:this.context,units:"cents",value:u.detune}),this._spread=u.spread,this._type=u.type,this._phase=u.phase,this._partials=u.partials,this._partialCount=u.partialCount,this.count=u.count,readOnly(this,["frequency","detune"])}static getDefaults(){return Object.assign(Oscillator.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(u){u=this.toSeconds(u),this._forEach(n=>n.start(u))}_stop(u){u=this.toSeconds(u),this._forEach(n=>n.stop(u))}_restart(u){this._forEach(n=>n.restart(u))}_forEach(u){for(let n=0;n<this._oscillators.length;n++)u(this._oscillators[n],n)}get type(){return this._type}set type(u){this._type=u,this._forEach(n=>n.type=u)}get spread(){return this._spread}set spread(u){if(this._spread=u,this._oscillators.length>1){const n=-u/2,a=u/(this._oscillators.length-1);this._forEach((r,g)=>r.detune.value=n+a*g)}}get count(){return this._oscillators.length}set count(u){if(assertRange(u,1),this._oscillators.length!==u){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<u;n++){const a=new Oscillator({context:this.context,volume:-6-u*1.1,type:this._type,phase:this._phase+n/u*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):noOp});this.type==="custom"&&(a.partials=this._partials),this.frequency.connect(a.frequency),this.detune.connect(a.detune),a.detune.overridden=!1,a.connect(this.output),this._oscillators[n]=a}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(u){this._phase=u,this._forEach((n,a)=>n.phase=this._phase+a/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(u){this._forEach(n=>n.baseType=u),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(u){this._partials=u,this._partialCount=this._partials.length,u.length&&(this._type="custom",this._forEach(n=>n.partials=u))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(u){this._partialCount=u,this._forEach(n=>n.partialCount=u),this._type=this._oscillators[0].type}asArray(u=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,u)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(u=>u.dispose()),this}}class PWMOscillator extends Source{constructor(){super(optionsFromArguments(PWMOscillator.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Multiply({context:this.context,value:2});const u=optionsFromArguments(PWMOscillator.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new PulseOscillator({context:this.context,frequency:u.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Oscillator({context:this.context,detune:u.detune,frequency:u.frequency,onstop:()=>this.onstop(this),phase:u.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),readOnly(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Source.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(u){u=this.toSeconds(u),this._modulator.start(u),this._pulse.start(u)}_stop(u){u=this.toSeconds(u),this._modulator.stop(u),this._pulse.stop(u)}_restart(u){this._modulator.restart(u),this._pulse.restart(u)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(u){this._modulator.phase=u}asArray(u=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,u)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const OmniOscillatorSourceMap={am:AMOscillator,fat:FatOscillator,fm:FMOscillator,oscillator:Oscillator,pulse:PulseOscillator,pwm:PWMOscillator};class OmniOscillator extends Source{constructor(){super(optionsFromArguments(OmniOscillator.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const u=optionsFromArguments(OmniOscillator.getDefaults(),arguments,["frequency","type"]);this.frequency=new Signal({context:this.context,units:"frequency",value:u.frequency}),this.detune=new Signal({context:this.context,units:"cents",value:u.detune}),readOnly(this,["frequency","detune"]),this.set(u)}static getDefaults(){return Object.assign(Oscillator.getDefaults(),FMOscillator.getDefaults(),AMOscillator.getDefaults(),FatOscillator.getDefaults(),PulseOscillator.getDefaults(),PWMOscillator.getDefaults())}_start(u){this._oscillator.start(u)}_stop(u){this._oscillator.stop(u)}_restart(u){return this._oscillator.restart(u),this}get type(){let u="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(u=this._sourceType),u+this._oscillator.type}set type(u){u.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=u.substr(2)):u.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=u.substr(2)):u.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=u.substr(3)):u==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):u==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=u)}get partials(){return this._oscillator.partials}set partials(u){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=u)}get partialCount(){return this._oscillator.partialCount}set partialCount(u){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=u)}set(u){return Reflect.has(u,"type")&&u.type&&(this.type=u.type),super.set(u),this}_createNewOscillator(u){if(u!==this._sourceType){this._sourceType=u;const n=OmniOscillatorSourceMap[u],a=this.now();if(this._oscillator){const r=this._oscillator;r.stop(a),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(a)}}get phase(){return this._oscillator.phase}set phase(u){this._oscillator.phase=u}get sourceType(){return this._sourceType}set sourceType(u){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),u==="fm"?this.type="fm"+n:u==="am"?this.type="am"+n:u==="fat"?this.type="fat"+n:u==="oscillator"?this.type=n:u==="pulse"?this.type="pulse":u==="pwm"&&(this.type="pwm")}_getOscType(u,n){return u instanceof OmniOscillatorSourceMap[n]}get baseType(){return this._oscillator.baseType}set baseType(u){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&u!=="pulse"&&u!=="pwm"&&(this._oscillator.baseType=u)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(u){this._getOscType(this._oscillator,"fat")&&isNumber$1(u)&&(this._oscillator.count=u)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(u){this._getOscType(this._oscillator,"fat")&&isNumber$1(u)&&(this._oscillator.spread=u)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(u){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&isString$1(u)&&(this._oscillator.modulationType=u)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(u=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,u)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function range(C,u=1/0){const n=new WeakMap;return function(a,r){Reflect.defineProperty(a,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(g){assertRange(g,C,u),n.set(this,g)}})}}function timeRange(C,u=1/0){const n=new WeakMap;return function(a,r){Reflect.defineProperty(a,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(g){assertRange(this.toSeconds(g),C,u),n.set(this,g)}})}}class Player extends Source{constructor(){super(optionsFromArguments(Player.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const u=optionsFromArguments(Player.getDefaults(),arguments,["url","onload"]);this._buffer=new ToneAudioBuffer({onload:this._onload.bind(this,u.onload),onerror:u.onerror,reverse:u.reverse,url:u.url}),this.autostart=u.autostart,this._loop=u.loop,this._loopStart=u.loopStart,this._loopEnd=u.loopEnd,this._playbackRate=u.playbackRate,this.fadeIn=u.fadeIn,this.fadeOut=u.fadeOut}static getDefaults(){return Object.assign(Source.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:noOp,onerror:noOp,playbackRate:1,reverse:!1})}load(u){return __awaiter(this,void 0,void 0,function*(){return yield this._buffer.load(u),this._onload(),this})}_onload(u=noOp){u(),this.autostart&&this.start()}_onSourceEnd(u){this.onstop(this),this._activeSources.delete(u),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(u,n,a){return super.start(u,n,a),this}_start(u,n,a){this._loop?n=defaultArg(n,this._loopStart):n=defaultArg(n,0);const r=this.toSeconds(n),g=a;a=defaultArg(a,Math.max(this._buffer.duration-r,0));let f=this.toSeconds(a);f=f/this._playbackRate,u=this.toSeconds(u);const m=new ToneBufferSource({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(u+f),this._state.setStateAtTime("stopped",u+f,{implicitEnd:!0})),this._activeSources.add(m),this._loop&&isUndef(g)?m.start(u,r):m.start(u,r,f-this.toSeconds(this.fadeOut))}_stop(u){const n=this.toSeconds(u);this._activeSources.forEach(a=>a.stop(n))}restart(u,n,a){return super.restart(u,n,a),this}_restart(u,n,a){var r;(r=[...this._activeSources].pop())===null||r===void 0||r.stop(u),this._start(u,n,a)}seek(u,n){const a=this.toSeconds(n);if(this._state.getValueAtTime(a)==="started"){const r=this.toSeconds(u);this._stop(a),this._start(a,r)}return this}setLoopPoints(u,n){return this.loopStart=u,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(u){this._loopStart=u,this.buffer.loaded&&assertRange(this.toSeconds(u),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=u})}get loopEnd(){return this._loopEnd}set loopEnd(u){this._loopEnd=u,this.buffer.loaded&&assertRange(this.toSeconds(u),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=u})}get buffer(){return this._buffer}set buffer(u){this._buffer.set(u)}get loop(){return this._loop}set loop(u){if(this._loop!==u&&(this._loop=u,this._activeSources.forEach(n=>{n.loop=u}),u)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(u){this._playbackRate=u;const n=this.now(),a=this._state.getNextState("stopped",n);a&&a.implicitEnd&&(this._state.cancel(a.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(u,n)})}get reverse(){return this._buffer.reverse}set reverse(u){this._buffer.reverse=u}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(u=>u.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}__decorate([timeRange(0)],Player.prototype,"fadeIn",void 0);__decorate([timeRange(0)],Player.prototype,"fadeOut",void 0);class Envelope extends ToneAudioNode{constructor(){super(optionsFromArguments(Envelope.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Signal({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const u=optionsFromArguments(Envelope.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=u.attack,this.decay=u.decay,this.sustain=u.sustain,this.release=u.release,this.attackCurve=u.attackCurve,this.releaseCurve=u.releaseCurve,this.decayCurve=u.decayCurve}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(u,n){if(isString$1(u))return u;{let a;for(a in EnvelopeCurves)if(EnvelopeCurves[a][n]===u)return a;return u}}_setCurve(u,n,a){if(isString$1(a)&&Reflect.has(EnvelopeCurves,a)){const r=EnvelopeCurves[a];isObject$1(r)?u!=="_decayCurve"&&(this[u]=r[n]):this[u]=r}else if(isArray$1(a)&&u!=="_decayCurve")this[u]=a;else throw new Error("Envelope: invalid curve: "+a)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(u){this._setCurve("_attackCurve","In",u)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(u){this._setCurve("_releaseCurve","Out",u)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(u){this._setCurve("_decayCurve","Out",u)}triggerAttack(u,n=1){this.log("triggerAttack",u,n),u=this.toSeconds(u);let r=this.toSeconds(this.attack);const g=this.toSeconds(this.decay),f=this.getValueAtTime(u);if(f>0){const m=1/r;r=(1-f)/m}if(r<this.sampleTime)this._sig.cancelScheduledValues(u),this._sig.setValueAtTime(n,u);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,r,u);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,r,u);else{this._sig.cancelAndHoldAtTime(u);let m=this._attackCurve;for(let l=1;l<m.length;l++)if(m[l-1]<=f&&f<=m[l]){m=this._attackCurve.slice(l),m[0]=f;break}this._sig.setValueCurveAtTime(m,u,r,n)}if(g&&this.sustain<1){const m=n*this.sustain,l=u+r;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(m,g+l):this._sig.exponentialApproachValueAtTime(m,l,g)}return this}triggerRelease(u){this.log("triggerRelease",u),u=this.toSeconds(u);const n=this.getValueAtTime(u);if(n>0){const a=this.toSeconds(this.release);a<this.sampleTime?this._sig.setValueAtTime(0,u):this._releaseCurve==="linear"?this._sig.linearRampTo(0,a,u):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,a,u):(assert(isArray$1(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(u),this._sig.setValueCurveAtTime(this._releaseCurve,u,a,n))}return this}getValueAtTime(u){return this._sig.getValueAtTime(u)}triggerAttackRelease(u,n,a=1){return n=this.toSeconds(n),this.triggerAttack(n,a),this.triggerRelease(n+this.toSeconds(u)),this}cancel(u){return this._sig.cancelScheduledValues(this.toSeconds(u)),this}connect(u,n=0,a=0){return connectSignal(this,u,n,a),this}asArray(u=1024){return __awaiter(this,void 0,void 0,function*(){const n=u/this.context.sampleRate,a=new OfflineContext(1,n,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),g=r+this.toSeconds(this.release),f=g*.1,m=g+f,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/m,decay:n*this.toSeconds(this.decay)/m,release:n*this.toSeconds(this.release)/m,context:a}));return l._sig.toDestination(),l.triggerAttackRelease(n*(r+f)/m,0),(yield a.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}__decorate([timeRange(0)],Envelope.prototype,"attack",void 0);__decorate([timeRange(0)],Envelope.prototype,"decay",void 0);__decorate([range(0,1)],Envelope.prototype,"sustain",void 0);__decorate([timeRange(0)],Envelope.prototype,"release",void 0);const EnvelopeCurves=(()=>{let u,n;const a=[];for(u=0;u<128;u++)a[u]=Math.sin(u/(128-1)*(Math.PI/2));const r=[],g=6.4;for(u=0;u<128-1;u++){n=u/(128-1);const h=Math.sin(n*(Math.PI*2)*g-Math.PI/2)+1;r[u]=h/10+n*.83}r[128-1]=1;const f=[],m=5;for(u=0;u<128;u++)f[u]=Math.ceil(u/(128-1)*m)/m;const l=[];for(u=0;u<128;u++)n=u/(128-1),l[u]=.5*(1-Math.cos(Math.PI*n));const x=[];for(u=0;u<128;u++){n=u/(128-1);const h=Math.pow(n,3)*4+.2,_=Math.cos(h*Math.PI*2*n);x[u]=Math.abs(_*(1-n))}function S(h){const _=new Array(h.length);for(let o=0;o<h.length;o++)_[o]=1-h[o];return _}function D(h){return h.slice(0).reverse()}return{bounce:{In:S(x),Out:x},cosine:{In:a,Out:D(a)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:S(r)},sine:{In:l,Out:S(l)},step:{In:f,Out:S(f)}}})();let Instrument$2=class Ps extends ToneAudioNode{constructor(){super(optionsFromArguments(Ps.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n);const u=optionsFromArguments(Ps.getDefaults(),arguments);this._volume=this.output=new Volume({context:this.context,volume:u.volume}),this.volume=this._volume.volume,readOnly(this,"volume")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let u=!1;return this._synced||(this._synced=!0,u=!0),u}_syncMethod(u,n){const a=this["_original_"+u]=this[u];this[u]=(...r)=>{const g=r[n],f=this.context.transport.schedule(m=>{r[n]=m,a.apply(this,r)},g);this._scheduledEvents.push(f)}}unsync(){return this._scheduledEvents.forEach(u=>this.context.transport.clear(u)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(u,n,a,r){const g=this.toSeconds(a),f=this.toSeconds(n);return this.triggerAttack(u,g,r),this.triggerRelease(g+f),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}};class Monophonic extends Instrument$2{constructor(){super(optionsFromArguments(Monophonic.getDefaults(),arguments));const u=optionsFromArguments(Monophonic.getDefaults(),arguments);this.portamento=u.portamento,this.onsilence=u.onsilence}static getDefaults(){return Object.assign(Instrument$2.getDefaults(),{detune:0,onsilence:noOp,portamento:0})}triggerAttack(u,n,a=1){this.log("triggerAttack",u,n,a);const r=this.toSeconds(n);return this._triggerEnvelopeAttack(r,a),this.setNote(u,r),this}triggerRelease(u){this.log("triggerRelease",u);const n=this.toSeconds(u);return this._triggerEnvelopeRelease(n),this}setNote(u,n){const a=this.toSeconds(n),r=u instanceof FrequencyClass?u.toFrequency():u;if(this.portamento>0&&this.getLevelAtTime(a)>.05){const g=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,g,a)}else this.frequency.setValueAtTime(r,a);return this}}__decorate([timeRange(0)],Monophonic.prototype,"portamento",void 0);class AmplitudeEnvelope extends Envelope{constructor(){super(optionsFromArguments(AmplitudeEnvelope.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Gain({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}let Synth$3=class Is extends Monophonic{constructor(){super(optionsFromArguments(Is.getDefaults(),arguments)),this.name="Synth";const u=optionsFromArguments(Is.getDefaults(),arguments);this.oscillator=new OmniOscillator(Object.assign({context:this.context,detune:u.detune,onstop:()=>this.onsilence(this)},u.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new AmplitudeEnvelope(Object.assign({context:this.context},u.envelope)),this.oscillator.chain(this.envelope,this.output),readOnly(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Monophonic.getDefaults(),{envelope:Object.assign(omitFromObject(Envelope.getDefaults(),Object.keys(ToneAudioNode.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(omitFromObject(OmniOscillator.getDefaults(),[...Object.keys(Source.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(u,n){if(this.envelope.triggerAttack(u,n),this.oscillator.start(u),this.envelope.sustain===0){const a=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(u+a+r)}}_triggerEnvelopeRelease(u){this.envelope.triggerRelease(u),this.oscillator.stop(u+this.toSeconds(this.envelope.release))}getLevelAtTime(u){return u=this.toSeconds(u),this.envelope.getValueAtTime(u)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}};class MembraneSynth extends Synth$3{constructor(){super(optionsFromArguments(MembraneSynth.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const u=optionsFromArguments(MembraneSynth.getDefaults(),arguments);this.pitchDecay=u.pitchDecay,this.octaves=u.octaves,readOnly(this,["oscillator","envelope"])}static getDefaults(){return deepMerge(Monophonic.getDefaults(),Synth$3.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(u,n){const a=this.toSeconds(n),r=this.toFrequency(u instanceof FrequencyClass?u.toFrequency():u),g=r*this.octaves;return this.oscillator.frequency.setValueAtTime(g,a),this.oscillator.frequency.exponentialRampToValueAtTime(r,a+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}__decorate([range(0)],MembraneSynth.prototype,"octaves",void 0);__decorate([timeRange(0)],MembraneSynth.prototype,"pitchDecay",void 0);const workletContext=new Set;function addToWorklet(C){workletContext.add(C)}function registerProcessor(C,u){const n=`registerProcessor("${C}", ${u})`;workletContext.add(n)}const toneAudioWorkletProcessor=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;addToWorklet(toneAudioWorkletProcessor);const singleIOProcess=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;addToWorklet(singleIOProcess);const delayLine=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;addToWorklet(delayLine);const workletName$1="feedback-comb-filter",feedbackCombFilter=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;registerProcessor(workletName$1,feedbackCombFilter);let Sampler$1=class Fs extends Instrument$2{constructor(){super(optionsFromArguments(Fs.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const u=optionsFromArguments(Fs.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(u.urls).forEach(a=>{const r=parseInt(a,10);if(assert(isNote(a)||isNumber$1(r)&&isFinite(r),`url key is neither a note or midi pitch: ${a}`),isNote(a)){const g=new FrequencyClass(this.context,a).toMidi();n[g]=u.urls[a]}else isNumber$1(r)&&isFinite(r)&&(n[r]=u.urls[r])}),this._buffers=new ToneAudioBuffers({urls:n,onload:u.onload,baseUrl:u.baseUrl,onerror:u.onerror}),this.attack=u.attack,this.release=u.release,this.curve=u.curve,this._buffers.loaded&&Promise.resolve().then(u.onload)}static getDefaults(){return Object.assign(Instrument$2.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:noOp,onerror:noOp,release:.1,urls:{}})}_findClosest(u){let a=0;for(;a<96;){if(this._buffers.has(u+a))return-a;if(this._buffers.has(u-a))return a;a++}throw new Error(`No available buffers for note: ${u}`)}triggerAttack(u,n,a=1){return this.log("triggerAttack",u,n,a),Array.isArray(u)||(u=[u]),u.forEach(r=>{const g=ftomf(new FrequencyClass(this.context,r).toFrequency()),f=Math.round(g),m=g-f,l=this._findClosest(f),x=f-l,S=this._buffers.get(x),D=intervalToFrequencyRatio(l+m),h=new ToneBufferSource({url:S,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:D}).connect(this.output);h.start(n,0,S.duration/D,a),isArray$1(this._activeSources.get(f))||this._activeSources.set(f,[]),this._activeSources.get(f).push(h),h.onended=()=>{if(this._activeSources&&this._activeSources.has(f)){const _=this._activeSources.get(f),o=_.indexOf(h);o!==-1&&_.splice(o,1)}}}),this}triggerRelease(u,n){return this.log("triggerRelease",u,n),Array.isArray(u)||(u=[u]),u.forEach(a=>{const r=new FrequencyClass(this.context,a).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const g=this._activeSources.get(r);n=this.toSeconds(n),g.forEach(f=>{f.stop(n)}),this._activeSources.set(r,[])}}),this}releaseAll(u){const n=this.toSeconds(u);return this._activeSources.forEach(a=>{for(;a.length;)a.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(u,n,a,r=1){const g=this.toSeconds(a);return this.triggerAttack(u,g,r),isArray$1(n)?(assert(isArray$1(u),"notes must be an array when duration is array"),u.forEach((f,m)=>{const l=n[Math.min(m,n.length-1)];this.triggerRelease(f,g+this.toSeconds(l))})):this.triggerRelease(u,g+this.toSeconds(n)),this}add(u,n,a){if(assert(isNote(u)||isFinite(u),`note must be a pitch or midi: ${u}`),isNote(u)){const r=new FrequencyClass(this.context,u).toMidi();this._buffers.add(r,n,a)}else this._buffers.add(u,n,a);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(u=>{u.forEach(n=>n.dispose())}),this._activeSources.clear(),this}};__decorate([timeRange(0)],Sampler$1.prototype,"attack",void 0);__decorate([timeRange(0)],Sampler$1.prototype,"release",void 0);class ToneEvent extends ToneWithContext{constructor(){super(optionsFromArguments(ToneEvent.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new StateTimeline("stopped"),this._startOffset=0;const u=optionsFromArguments(ToneEvent.getDefaults(),arguments,["callback","value"]);this._loop=u.loop,this.callback=u.callback,this.value=u.value,this._loopStart=this.toTicks(u.loopStart),this._loopEnd=this.toTicks(u.loopEnd),this._playbackRate=u.playbackRate,this._probability=u.probability,this._humanize=u.humanize,this.mute=u.mute,this._playbackRate=u.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{callback:noOp,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(u=-1){this._state.forEachFrom(u,n=>{let a;if(n.state==="started"){n.id!==-1&&this.context.transport.clear(n.id);const r=n.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||isNumber$1(this._loop)&&this._loop>1){a=1/0,isNumber$1(this._loop)&&(a=this._loop*this._getLoopDuration());const g=this._state.getAfter(r);g!==null&&(a=Math.min(a,g.time-r)),a!==1/0&&(a=new TicksClass(this.context,a));const f=new TicksClass(this.context,this._getLoopDuration());n.id=this.context.transport.scheduleRepeat(this._tick.bind(this),f,new TicksClass(this.context,r),a)}else n.id=this.context.transport.schedule(this._tick.bind(this),new TicksClass(this.context,r))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(u){this._startOffset=u}get probability(){return this._probability}set probability(u){this._probability=u}get humanize(){return this._humanize}set humanize(u){this._humanize=u}start(u){const n=this.toTicks(u);return this._state.getValueAtTime(n)==="stopped"&&(this._state.add({id:-1,state:"started",time:n}),this._rescheduleEvents(n)),this}stop(u){this.cancel(u);const n=this.toTicks(u);if(this._state.getValueAtTime(n)==="started"){this._state.setStateAtTime("stopped",n,{id:-1});const a=this._state.getBefore(n);let r=n;a!==null&&(r=a.time),this._rescheduleEvents(r)}return this}cancel(u){u=defaultArg(u,-1/0);const n=this.toTicks(u);return this._state.forEachFrom(n,a=>{this.context.transport.clear(a.id)}),this._state.cancel(n),this}_tick(u){const n=this.context.transport.getTicksAtTime(u);if(!this.mute&&this._state.getValueAtTime(n)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let a=.02;isBoolean$1(this.humanize)||(a=this.toSeconds(this.humanize)),u+=(Math.random()*2-1)*a}this.callback(u,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(u){this._loop=u,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(u){this._playbackRate=u,this._rescheduleEvents()}get loopEnd(){return new TicksClass(this.context,this._loopEnd).toSeconds()}set loopEnd(u){this._loopEnd=this.toTicks(u),this._loop&&this._rescheduleEvents()}get loopStart(){return new TicksClass(this.context,this._loopStart).toSeconds()}set loopStart(u){this._loopStart=this.toTicks(u),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const u=this.context.transport.ticks,n=this._state.get(u);if(n!==null&&n.state==="started"){const a=this._getLoopDuration();return(u-n.time)%a/a}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Loop extends ToneWithContext{constructor(){super(optionsFromArguments(Loop.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const u=optionsFromArguments(Loop.getDefaults(),arguments,["callback","interval"]);this._event=new ToneEvent({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:u.interval,playbackRate:u.playbackRate,probability:u.probability,humanize:u.humanize}),this.callback=u.callback,this.iterations=u.iterations}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{interval:"4n",callback:noOp,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(u){return this._event.start(u),this}stop(u){return this._event.stop(u),this}cancel(u){return this._event.cancel(u),this}_tick(u){this.callback(u)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(u){this._event.loopEnd=u}get playbackRate(){return this._event.playbackRate}set playbackRate(u){this._event.playbackRate=u}get humanize(){return this._event.humanize}set humanize(u){this._event.humanize=u}get probability(){return this._event.probability}set probability(u){this._event.probability=u}get mute(){return this._event.mute}set mute(u){this._event.mute=u}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(u){u===1/0?this._event.loop=!0:this._event.loop=u}dispose(){return super.dispose(),this._event.dispose(),this}}class Panner extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(Panner.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const u=optionsFromArguments(Panner.getDefaults(),arguments,["pan"]);this.pan=new Param({context:this.context,param:this._panner.pan,value:u.pan,minValue:-1,maxValue:1}),this._panner.channelCount=u.channelCount,this._panner.channelCountMode="explicit",readOnly(this,"pan")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const workletName="bit-crusher",bitCrusherWorklet=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;registerProcessor(workletName,bitCrusherWorklet);class Split extends ToneAudioNode{constructor(){super(optionsFromArguments(Split.getDefaults(),arguments,["channels"])),this.name="Split";const u=optionsFromArguments(Split.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(u.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Merge extends ToneAudioNode{constructor(){super(optionsFromArguments(Merge.getDefaults(),arguments,["channels"])),this.name="Merge";const u=optionsFromArguments(Merge.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(u.channels)}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class Solo extends ToneAudioNode{constructor(){super(optionsFromArguments(Solo.getDefaults(),arguments,["solo"])),this.name="Solo";const u=optionsFromArguments(Solo.getDefaults(),arguments,["solo"]);this.input=this.output=new Gain({context:this.context}),Solo._allSolos.has(this.context)||Solo._allSolos.set(this.context,new Set),Solo._allSolos.get(this.context).add(this),this.solo=u.solo}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(u){u?this._addSolo():this._removeSolo(),Solo._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Solo._soloed.has(this.context)||Solo._soloed.set(this.context,new Set),Solo._soloed.get(this.context).add(this)}_removeSolo(){Solo._soloed.has(this.context)&&Solo._soloed.get(this.context).delete(this)}_isSoloed(){return Solo._soloed.has(this.context)&&Solo._soloed.get(this.context).has(this)}_noSolos(){return!Solo._soloed.has(this.context)||Solo._soloed.has(this.context)&&Solo._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Solo._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Solo._allSolos=new Map;Solo._soloed=new Map;class PanVol extends ToneAudioNode{constructor(){super(optionsFromArguments(PanVol.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const u=optionsFromArguments(PanVol.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Panner({context:this.context,pan:u.pan,channelCount:u.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Volume({context:this.context,volume:u.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=u.mute,readOnly(this,["pan","volume"])}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(u){this._volume.mute=u}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}let Channel$1=class ji extends ToneAudioNode{constructor(){super(optionsFromArguments(ji.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const u=optionsFromArguments(ji.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Solo({solo:u.solo,context:this.context}),this._panVol=this.output=new PanVol({context:this.context,pan:u.pan,volume:u.volume,mute:u.mute,channelCount:u.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),readOnly(this,["pan","volume"])}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(u){this._solo.solo=u}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(u){this._panVol.mute=u}_getBus(u){return ji.buses.has(u)||ji.buses.set(u,new Gain({context:this.context})),ji.buses.get(u)}send(u,n=0){const a=this._getBus(u),r=new Gain({context:this.context,units:"decibels",gain:n});return this.connect(r),r.connect(a),r}receive(u){return this._getBus(u).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}};Channel$1.buses=new Map;class ListenerClass extends ToneAudioNode{constructor(){super(...arguments),this.name="Listener",this.positionX=new Param({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Param({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Param({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Param({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Param({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Param({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Param({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Param({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Param({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}onContextInit(C=>{C.listener=new ListenerClass({context:C})});onContextClose(C=>{C.listener.dispose()});class Compressor extends ToneAudioNode{constructor(){super(optionsFromArguments(Compressor.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const u=optionsFromArguments(Compressor.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new Param({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:u.threshold}),this.attack=new Param({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:u.attack}),this.release=new Param({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:u.release}),this.knee=new Param({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:u.knee}),this.ratio=new Param({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:u.ratio}),readOnly(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Limiter extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(Limiter.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const u=optionsFromArguments(Limiter.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new Compressor({context:this.context,ratio:20,attack:.003,release:.01,threshold:u.threshold}),this.threshold=this._compressor.threshold,readOnly(this,"threshold")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}function immediate(){return getContext().immediate()}const Transport=getContext().transport;getContext().destination;getContext().destination;function getDestination(){return getContext().destination}getContext().listener;getContext().draw;const context=getContext();class EventEmitter{constructor(u=!1){this.eventMap={},this.eventsSuspended=u==!0}addListener(u,n,a={}){if(typeof u=="string"&&u.length<1||u instanceof String&&u.length<1||typeof u!="string"&&!(u instanceof String)&&u!==EventEmitter.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(typeof n!="function")throw new TypeError("The callback must be a function.");const r=new Listener(u,this,n,a);return this.eventMap[u]||(this.eventMap[u]=[]),a.prepend?this.eventMap[u].unshift(r):this.eventMap[u].push(r),r}addOneTimeListener(u,n,a={}){a.remaining=1,this.addListener(u,n,a)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(u,n){return u===void 0?this.eventMap[EventEmitter.ANY_EVENT]&&this.eventMap[EventEmitter.ANY_EVENT].length>0?!0:Object.entries(this.eventMap).some(([,a])=>a.length>0):this.eventMap[u]&&this.eventMap[u].length>0?n instanceof Listener?this.eventMap[u].filter(r=>r===n).length>0:typeof n=="function"?this.eventMap[u].filter(r=>r.callback===n).length>0:n==null:!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(u){return this.eventMap[u]||[]}suspendEvent(u){this.getListeners(u).forEach(n=>{n.suspended=!0})}unsuspendEvent(u){this.getListeners(u).forEach(n=>{n.suspended=!1})}getListenerCount(u){return this.getListeners(u).length}emit(u,...n){if(typeof u!="string"&&!(u instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let a=[],r=this.eventMap[EventEmitter.ANY_EVENT]||[];return this.eventMap[u]&&(r=r.concat(this.eventMap[u])),r.forEach(g=>{if(g.suspended)return;let f=[...n];Array.isArray(g.arguments)&&(f=f.concat(g.arguments)),g.remaining>0&&(a.push(g.callback.apply(g.context,f)),g.count++),--g.remaining<1&&g.remove()}),a}removeListener(u,n,a={}){if(u===void 0){this.eventMap={};return}else if(!this.eventMap[u])return;let r=this.eventMap[u].filter(g=>n&&g.callback!==n||a.remaining&&a.remaining!==g.remaining||a.context&&a.context!==g.context);r.length?this.eventMap[u]=r:delete this.eventMap[u]}async waitFor(u,n={}){return n.duration=parseInt(n.duration),(isNaN(n.duration)||n.duration<=0)&&(n.duration=1/0),new Promise((a,r)=>{let g,f=this.addListener(u,()=>{clearTimeout(g),a()},{remaining:1});n.duration!==1/0&&(g=setTimeout(()=>{f.remove(),r("The duration expired before the event was emitted.")},n.duration))})}get eventCount(){return Object.keys(this.eventMap).length}}class Listener{constructor(u,n,a,r={}){if(typeof u!="string"&&!(u instanceof String)&&u!==EventEmitter.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!n)throw new ReferenceError("The 'target' parameter is mandatory.");if(typeof a!="function")throw new TypeError("The 'callback' must be a function.");r.arguments!==void 0&&!Array.isArray(r.arguments)&&(r.arguments=[r.arguments]),r=Object.assign({context:n,remaining:1/0,arguments:void 0,duration:1/0},r),r.duration!==1/0&&setTimeout(()=>this.remove(),r.duration),this.arguments=r.arguments,this.callback=a,this.context=r.context,this.count=0,this.event=u,this.remaining=parseInt(r.remaining)>=1?parseInt(r.remaining):1/0,this.suspended=!1,this.target=n}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All its properties are static and should be referenced using the class name. For
 * example: `Enumerations.CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Enumerations{static get MIDI_CHANNEL_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MESSAGES enum instead."),Enumerations.CHANNEL_MESSAGES}static get CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_NUMBERS(){return this.validation&&console.warn("The MIDI_CHANNEL_NUMBERS array has been deprecated. Use the Enumerations.CHANNEL_NUMBERS array instead."),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MODE_MESSAGES enum instead."),Enumerations.CHANNEL_MODE_MESSAGES}static get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been deprecated. Use the Enumerations.CONTROL_CHANGE_MESSAGES array instead."),{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get CONTROL_CHANGE_MESSAGES(){return[{number:0,name:"bankselectcoarse",description:"Bank Select (Coarse)",position:"msb"},{number:1,name:"modulationwheelcoarse",description:"Modulation Wheel (Coarse)",position:"msb"},{number:2,name:"breathcontrollercoarse",description:"Breath Controller (Coarse)",position:"msb"},{number:3,name:"controller3",description:"Undefined",position:"msb"},{number:4,name:"footcontrollercoarse",description:"Foot Controller (Coarse)",position:"msb"},{number:5,name:"portamentotimecoarse",description:"Portamento Time (Coarse)",position:"msb"},{number:6,name:"dataentrycoarse",description:"Data Entry (Coarse)",position:"msb"},{number:7,name:"volumecoarse",description:"Channel Volume (Coarse)",position:"msb"},{number:8,name:"balancecoarse",description:"Balance (Coarse)",position:"msb"},{number:9,name:"controller9",description:"Controller 9 (Coarse)",position:"msb"},{number:10,name:"pancoarse",description:"Pan (Coarse)",position:"msb"},{number:11,name:"expressioncoarse",description:"Expression Controller (Coarse)",position:"msb"},{number:12,name:"effectcontrol1coarse",description:"Effect Control 1 (Coarse)",position:"msb"},{number:13,name:"effectcontrol2coarse",description:"Effect Control 2 (Coarse)",position:"msb"},{number:14,name:"controller14",description:"Undefined",position:"msb"},{number:15,name:"controller15",description:"Undefined",position:"msb"},{number:16,name:"generalpurposecontroller1",description:"General Purpose Controller 1 (Coarse)",position:"msb"},{number:17,name:"generalpurposecontroller2",description:"General Purpose Controller 2 (Coarse)",position:"msb"},{number:18,name:"generalpurposecontroller3",description:"General Purpose Controller 3 (Coarse)",position:"msb"},{number:19,name:"generalpurposecontroller4",description:"General Purpose Controller 4 (Coarse)",position:"msb"},{number:20,name:"controller20",description:"Undefined",position:"msb"},{number:21,name:"controller21",description:"Undefined",position:"msb"},{number:22,name:"controller22",description:"Undefined",position:"msb"},{number:23,name:"controller23",description:"Undefined",position:"msb"},{number:24,name:"controller24",description:"Undefined",position:"msb"},{number:25,name:"controller25",description:"Undefined",position:"msb"},{number:26,name:"controller26",description:"Undefined",position:"msb"},{number:27,name:"controller27",description:"Undefined",position:"msb"},{number:28,name:"controller28",description:"Undefined",position:"msb"},{number:29,name:"controller29",description:"Undefined",position:"msb"},{number:30,name:"controller30",description:"Undefined",position:"msb"},{number:31,name:"controller31",description:"Undefined",position:"msb"},{number:32,name:"bankselectfine",description:"Bank Select (Fine)",position:"lsb"},{number:33,name:"modulationwheelfine",description:"Modulation Wheel (Fine)",position:"lsb"},{number:34,name:"breathcontrollerfine",description:"Breath Controller (Fine)",position:"lsb"},{number:35,name:"controller35",description:"Undefined",position:"lsb"},{number:36,name:"footcontrollerfine",description:"Foot Controller (Fine)",position:"lsb"},{number:37,name:"portamentotimefine",description:"Portamento Time (Fine)",position:"lsb"},{number:38,name:"dataentryfine",description:"Data Entry (Fine)",position:"lsb"},{number:39,name:"channelvolumefine",description:"Channel Volume (Fine)",position:"lsb"},{number:40,name:"balancefine",description:"Balance (Fine)",position:"lsb"},{number:41,name:"controller41",description:"Undefined",position:"lsb"},{number:42,name:"panfine",description:"Pan (Fine)",position:"lsb"},{number:43,name:"expressionfine",description:"Expression Controller (Fine)",position:"lsb"},{number:44,name:"effectcontrol1fine",description:"Effect control 1 (Fine)",position:"lsb"},{number:45,name:"effectcontrol2fine",description:"Effect control 2 (Fine)",position:"lsb"},{number:46,name:"controller46",description:"Undefined",position:"lsb"},{number:47,name:"controller47",description:"Undefined",position:"lsb"},{number:48,name:"controller48",description:"General Purpose Controller 1 (Fine)",position:"lsb"},{number:49,name:"controller49",description:"General Purpose Controller 2 (Fine)",position:"lsb"},{number:50,name:"controller50",description:"General Purpose Controller 3 (Fine)",position:"lsb"},{number:51,name:"controller51",description:"General Purpose Controller 4 (Fine)",position:"lsb"},{number:52,name:"controller52",description:"Undefined",position:"lsb"},{number:53,name:"controller53",description:"Undefined",position:"lsb"},{number:54,name:"controller54",description:"Undefined",position:"lsb"},{number:55,name:"controller55",description:"Undefined",position:"lsb"},{number:56,name:"controller56",description:"Undefined",position:"lsb"},{number:57,name:"controller57",description:"Undefined",position:"lsb"},{number:58,name:"controller58",description:"Undefined",position:"lsb"},{number:59,name:"controller59",description:"Undefined",position:"lsb"},{number:60,name:"controller60",description:"Undefined",position:"lsb"},{number:61,name:"controller61",description:"Undefined",position:"lsb"},{number:62,name:"controller62",description:"Undefined",position:"lsb"},{number:63,name:"controller63",description:"Undefined",position:"lsb"},{number:64,name:"damperpedal",description:"Damper Pedal On/Off"},{number:65,name:"portamento",description:"Portamento On/Off"},{number:66,name:"sostenuto",description:"Sostenuto On/Off"},{number:67,name:"softpedal",description:"Soft Pedal On/Off"},{number:68,name:"legatopedal",description:"Legato Pedal On/Off"},{number:69,name:"hold2",description:"Hold 2 On/Off"},{number:70,name:"soundvariation",description:"Sound Variation",position:"lsb"},{number:71,name:"resonance",description:"Resonance",position:"lsb"},{number:72,name:"releasetime",description:"Release Time",position:"lsb"},{number:73,name:"attacktime",description:"Attack Time",position:"lsb"},{number:74,name:"brightness",description:"Brightness",position:"lsb"},{number:75,name:"decaytime",description:"Decay Time",position:"lsb"},{number:76,name:"vibratorate",description:"Vibrato Rate",position:"lsb"},{number:77,name:"vibratodepth",description:"Vibrato Depth",position:"lsb"},{number:78,name:"vibratodelay",description:"Vibrato Delay",position:"lsb"},{number:79,name:"controller79",description:"Undefined",position:"lsb"},{number:80,name:"generalpurposecontroller5",description:"General Purpose Controller 5",position:"lsb"},{number:81,name:"generalpurposecontroller6",description:"General Purpose Controller 6",position:"lsb"},{number:82,name:"generalpurposecontroller7",description:"General Purpose Controller 7",position:"lsb"},{number:83,name:"generalpurposecontroller8",description:"General Purpose Controller 8",position:"lsb"},{number:84,name:"portamentocontrol",description:"Portamento Control",position:"lsb"},{number:85,name:"controller85",description:"Undefined"},{number:86,name:"controller86",description:"Undefined"},{number:87,name:"controller87",description:"Undefined"},{number:88,name:"highresolutionvelocityprefix",description:"High Resolution Velocity Prefix",position:"lsb"},{number:89,name:"controller89",description:"Undefined"},{number:90,name:"controller90",description:"Undefined"},{number:91,name:"effect1depth",description:"Effects 1 Depth (Reverb Send Level)"},{number:92,name:"effect2depth",description:"Effects 2 Depth"},{number:93,name:"effect3depth",description:"Effects 3 Depth (Chorus Send Level)"},{number:94,name:"effect4depth",description:"Effects 4 Depth"},{number:95,name:"effect5depth",description:"Effects 5 Depth"},{number:96,name:"dataincrement",description:"Data Increment"},{number:97,name:"datadecrement",description:"Data Decrement"},{number:98,name:"nonregisteredparameterfine",description:"Non-Registered Parameter Number (Fine)",position:"lsb"},{number:99,name:"nonregisteredparametercoarse",description:"Non-Registered Parameter Number (Coarse)",position:"msb"},{number:100,name:"registeredparameterfine",description:"Registered Parameter Number (Fine)",position:"lsb"},{number:101,name:"registeredparametercoarse",description:"Registered Parameter Number (Coarse)",position:"msb"},{number:102,name:"controller102",description:"Undefined"},{number:103,name:"controller103",description:"Undefined"},{number:104,name:"controller104",description:"Undefined"},{number:105,name:"controller105",description:"Undefined"},{number:106,name:"controller106",description:"Undefined"},{number:107,name:"controller107",description:"Undefined"},{number:108,name:"controller108",description:"Undefined"},{number:109,name:"controller109",description:"Undefined"},{number:110,name:"controller110",description:"Undefined"},{number:111,name:"controller111",description:"Undefined"},{number:112,name:"controller112",description:"Undefined"},{number:113,name:"controller113",description:"Undefined"},{number:114,name:"controller114",description:"Undefined"},{number:115,name:"controller115",description:"Undefined"},{number:116,name:"controller116",description:"Undefined"},{number:117,name:"controller117",description:"Undefined"},{number:118,name:"controller118",description:"Undefined"},{number:119,name:"controller119",description:"Undefined"},{number:120,name:"allsoundoff",description:"All Sound Off"},{number:121,name:"resetallcontrollers",description:"Reset All Controllers"},{number:122,name:"localcontrol",description:"Local Control On/Off"},{number:123,name:"allnotesoff",description:"All Notes Off"},{number:124,name:"omnimodeoff",description:"Omni Mode Off"},{number:125,name:"omnimodeon",description:"Omni Mode On"},{number:126,name:"monomodeon",description:"Mono Mode On"},{number:127,name:"polymodeon",description:"Poly Mode On"}]}static get REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_REGISTERED_PARAMETERS(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETERS enum has been deprecated. Use the Enumerations.REGISTERED_PARAMETERS enum instead."),Enumerations.MIDI_REGISTERED_PARAMETERS}static get SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been deprecated. Use the Enumerations.SYSTEM_MESSAGES enum instead."),Enumerations.SYSTEM_MESSAGES}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-dataincrement","nrpn-datadecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-dataincrement","rpn-datadecrement","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn-databuttonincrement","rpn-databuttondecrement"]}}/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */let Note$2=class{constructor(u,n={}){this.duration=wm.defaults.note.duration,this.attack=wm.defaults.note.attack,this.release=wm.defaults.note.release,n.duration!=null&&(this.duration=n.duration),n.attack!=null&&(this.attack=n.attack),n.rawAttack!=null&&(this.attack=Utilities.from7bitToFloat(n.rawAttack)),n.release!=null&&(this.release=n.release),n.rawRelease!=null&&(this.release=Utilities.from7bitToFloat(n.rawRelease)),Number.isInteger(u)?this.identifier=Utilities.toNoteIdentifier(u):this.identifier=u}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(u){const n=Utilities.getNoteDetails(u);if(wm.validation&&!u)throw new Error("Invalid note identifier");this._name=n.name,this._accidental=n.accidental,this._octave=n.octave}get name(){return this._name}set name(u){if(wm.validation&&(u=u.toUpperCase(),!["C","D","E","F","G","A","B"].includes(u)))throw new Error("Invalid name value");this._name=u}get accidental(){return this._accidental}set accidental(u){if(wm.validation&&(u=u.toLowerCase(),!["#","##","b","bb"].includes(u)))throw new Error("Invalid accidental value");this._accidental=u}get octave(){return this._octave}set octave(u){if(wm.validation&&(u=parseInt(u),isNaN(u)))throw new Error("Invalid octave value");this._octave=u}get duration(){return this._duration}set duration(u){if(wm.validation&&(u=parseFloat(u),isNaN(u)||u===null||u<0))throw new RangeError("Invalid duration value.");this._duration=u}get attack(){return this._attack}set attack(u){if(wm.validation&&(u=parseFloat(u),isNaN(u)||!(u>=0&&u<=1)))throw new RangeError("Invalid attack value.");this._attack=u}get release(){return this._release}set release(u){if(wm.validation&&(u=parseFloat(u),isNaN(u)||!(u>=0&&u<=1)))throw new RangeError("Invalid release value.");this._release=u}get rawAttack(){return Utilities.fromFloatTo7Bit(this._attack)}set rawAttack(u){this._attack=Utilities.from7bitToFloat(u)}get rawRelease(){return Utilities.fromFloatTo7Bit(this._release)}set rawRelease(u){this._release=Utilities.from7bitToFloat(u)}get number(){return Utilities.toNoteNumber(this.identifier)}getOffsetNumber(u=0,n=0){return wm.validation&&(u=parseInt(u)||0,n=parseInt(n)||0),Math.min(Math.max(this.number+u*12+n,0),127)}};/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Utilities{static toNoteNumber(u,n=0){if(n=n==null?0:parseInt(n),isNaN(n))throw new RangeError("Invalid 'octaveOffset' value");typeof u!="string"&&(u="");const a=this.getNoteDetails(u);if(!a)throw new TypeError("Invalid note identifier");const r={C:0,D:2,E:4,F:5,G:7,A:9,B:11};let g=(a.octave+1+n)*12;if(g+=r[a.name],a.accidental&&(a.accidental.startsWith("b")?g-=a.accidental.length:g+=a.accidental.length),g<0||g>127)throw new RangeError("Invalid octaveOffset value");return g}static getNoteDetails(u){Number.isInteger(u)&&(u=this.toNoteIdentifier(u));const n=u.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!n)throw new TypeError("Invalid note identifier");const a=n[1].toUpperCase(),r=parseInt(n[3]);let g=n[2].toLowerCase();return g=g===""?void 0:g,{accidental:g,identifier:a+(g||"")+r,name:a,octave:r}}static sanitizeChannels(u){let n;if(wm.validation){if(u==="all")n=["all"];else if(u==="none")return[]}return Array.isArray(u)?n=u:n=[u],n.indexOf("all")>-1&&(n=Enumerations.MIDI_CHANNEL_NUMBERS),n.map(function(a){return parseInt(a)}).filter(function(a){return a>=1&&a<=16})}static toTimestamp(u){let n=!1;const a=parseFloat(u);return isNaN(a)?!1:(typeof u=="string"&&u.substring(0,1)==="+"?a>=0&&(n=wm.time+a):a>=0&&(n=a),n)}static guessNoteNumber(u,n){n=parseInt(n)||0;let a=!1;if(Number.isInteger(u)&&u>=0&&u<=127)a=parseInt(u);else if(parseInt(u)>=0&&parseInt(u)<=127)a=parseInt(u);else if(typeof u=="string"||u instanceof String)try{a=this.toNoteNumber(u.trim(),n)}catch{return!1}return a}static toNoteIdentifier(u,n){if(u=parseInt(u),isNaN(u)||u<0||u>127)throw new RangeError("Invalid note number");if(n=n==null?0:parseInt(n),isNaN(n))throw new RangeError("Invalid octaveOffset value");const a=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],r=Math.floor(u/12-1)+n;return a[u%12]+r.toString()}static buildNote(u,n={}){if(n.octaveOffset=parseInt(n.octaveOffset)||0,u instanceof Note$2)return u;let a=this.guessNoteNumber(u,n.octaveOffset);if(a===!1)throw new TypeError(`The input could not be parsed as a note (${u})`);return n.octaveOffset=void 0,new Note$2(a,n)}static buildNoteArray(u,n={}){let a=[];return Array.isArray(u)||(u=[u]),u.forEach(r=>{a.push(this.buildNote(r,n))}),a}static from7bitToFloat(u){return u===1/0&&(u=127),u=parseInt(u)||0,Math.min(Math.max(u/127,0),1)}static fromFloatTo7Bit(u){return u===1/0&&(u=1),u=parseFloat(u)||0,Math.min(Math.max(Math.round(u*127),0),127)}static fromMsbLsbToFloat(u,n=0){wm.validation&&(u=Math.min(Math.max(parseInt(u)||0,0),127),n=Math.min(Math.max(parseInt(n)||0,0),127));const a=((u<<7)+n)/16383;return Math.min(Math.max(a,0),1)}static fromFloatToMsbLsb(u){wm.validation&&(u=Math.min(Math.max(parseFloat(u)||0,0),1));const n=Math.round(u*16383);return{msb:n>>7,lsb:n&127}}static offsetNumber(u,n=0,a=0){if(wm.validation){if(u=parseInt(u),isNaN(u))throw new Error("Invalid note number");n=parseInt(n)||0,a=parseInt(a)||0}return Math.min(Math.max(u+n*12+a,0),127)}static getPropertyByValue(u,n){return Object.keys(u).find(a=>u[a]===n)}static getCcNameByNumber(u){if(!(wm.validation&&(u=parseInt(u),!(u>=0&&u<=127))))return Enumerations.CONTROL_CHANGE_MESSAGES[u].name}static getCcNumberByName(u){let n=Enumerations.CONTROL_CHANGE_MESSAGES.find(a=>a.name===u);return n?n.number:Enumerations.MIDI_CONTROL_CHANGE_MESSAGES[u]}static getChannelModeByNumber(u){if(!(u>=120&&u<=127))return!1;for(let n in Enumerations.CHANNEL_MODE_MESSAGES)if(Enumerations.CHANNEL_MODE_MESSAGES.hasOwnProperty(n)&&u===Enumerations.CHANNEL_MODE_MESSAGES[n])return n;return!1}static get isNode(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}static get isBrowser(){return typeof window<"u"&&typeof window.document<"u"}}/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class OutputChannel extends EventEmitter{constructor(u,n){super(),this._output=u,this._number=n,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(u,n={time:0}){return this.output.send(u,n),this}sendKeyAftertouch(u,n,a={}){if(wm.validation){if(a.useRawValue&&(a.rawValue=a.useRawValue),isNaN(parseFloat(n)))throw new RangeError("Invalid key aftertouch value.");if(a.rawValue){if(!(n>=0&&n<=127&&Number.isInteger(n)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(n>=0&&n<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}a.rawValue||(n=Utilities.fromFloatTo7Bit(n));const r=wm.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(u)||(u=[u]),Utilities.buildNoteArray(u).forEach(g=>{this.send([(Enumerations.CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),g.getOffsetNumber(r),n],{time:Utilities.toTimestamp(a.time)})}),this}sendControlChange(u,n,a={}){if(typeof u=="string"&&(u=Utilities.getCcNumberByName(u)),Array.isArray(n)||(n=[n]),wm.validation){if(u===void 0)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(u)||!(u>=0&&u<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if(n=n.map(r=>{const g=Math.min(Math.max(parseInt(r),0),127);if(isNaN(g))throw new TypeError("Values must be integers between 0 and 127");return g}),n.length===2&&u>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return n.forEach((r,g)=>{this.send([(Enumerations.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),u+g*32,n[g]],{time:Utilities.toTimestamp(a.time)})}),this}_selectNonRegisteredParameter(u,n={}){return this.sendControlChange(99,u[0],n),this.sendControlChange(98,u[1],n),this}_deselectRegisteredParameter(u={}){return this.sendControlChange(101,127,u),this.sendControlChange(100,127,u),this}_deselectNonRegisteredParameter(u={}){return this.sendControlChange(101,127,u),this.sendControlChange(100,127,u),this}_selectRegisteredParameter(u,n={}){return this.sendControlChange(101,u[0],n),this.sendControlChange(100,u[1],n),this}_setCurrentParameter(u,n={}){return u=[].concat(u),this.sendControlChange(6,u[0],n),u.length<2?this:(this.sendControlChange(38,u[1],n),this)}sendRpnDecrement(u,n={}){if(Array.isArray(u)||(u=Enumerations.REGISTERED_PARAMETERS[u]),wm.validation){if(u===void 0)throw new TypeError("The specified registered parameter is invalid.");let a=!1;if(Object.getOwnPropertyNames(Enumerations.REGISTERED_PARAMETERS).forEach(r=>{Enumerations.REGISTERED_PARAMETERS[r][0]===u[0]&&Enumerations.REGISTERED_PARAMETERS[r][1]===u[1]&&(a=!0)}),!a)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(u,n),this.sendControlChange(97,0,n),this._deselectRegisteredParameter(n),this}sendRpnIncrement(u,n={}){if(Array.isArray(u)||(u=Enumerations.REGISTERED_PARAMETERS[u]),wm.validation){if(u===void 0)throw new TypeError("The specified registered parameter is invalid.");let a=!1;if(Object.getOwnPropertyNames(Enumerations.REGISTERED_PARAMETERS).forEach(r=>{Enumerations.REGISTERED_PARAMETERS[r][0]===u[0]&&Enumerations.REGISTERED_PARAMETERS[r][1]===u[1]&&(a=!0)}),!a)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(u,n),this.sendControlChange(96,0,n),this._deselectRegisteredParameter(n),this}playNote(u,n={}){this.sendNoteOn(u,n);const a=Array.isArray(u)?u:[u];for(let r of a)if(parseInt(r.duration)>0){const g={time:(Utilities.toTimestamp(n.time)||wm.time)+parseInt(r.duration),release:r.release,rawRelease:r.rawRelease};this.sendNoteOff(r,g)}else if(parseInt(n.duration)>0){const g={time:(Utilities.toTimestamp(n.time)||wm.time)+parseInt(n.duration),release:n.release,rawRelease:n.rawRelease};this.sendNoteOff(r,g)}return this}sendNoteOff(u,n={}){if(wm.validation){if(n.rawRelease!=null&&!(n.rawRelease>=0&&n.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(n.release!=null&&!(n.release>=0&&n.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");n.rawVelocity&&(n.rawRelease=n.velocity,console.warn("The 'rawVelocity' option is deprecated. Use 'rawRelease' instead.")),n.velocity&&(n.release=n.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let a=64;n.rawRelease!=null?a=n.rawRelease:isNaN(n.release)||(a=Math.round(n.release*127));const r=wm.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Utilities.buildNoteArray(u,{rawRelease:parseInt(a)}).forEach(g=>{this.send([(Enumerations.CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),g.getOffsetNumber(r),g.rawRelease],{time:Utilities.toTimestamp(n.time)})}),this}stopNote(u,n={}){return this.sendNoteOff(u,n)}sendNoteOn(u,n={}){if(wm.validation){if(n.rawAttack!=null&&!(n.rawAttack>=0&&n.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(n.attack!=null&&!(n.attack>=0&&n.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");n.rawVelocity&&(n.rawAttack=n.velocity,n.rawRelease=n.release,console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' or 'rawRelease'.")),n.velocity&&(n.attack=n.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let a=64;n.rawAttack!=null?a=n.rawAttack:isNaN(n.attack)||(a=Math.round(n.attack*127));const r=wm.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Utilities.buildNoteArray(u,{rawAttack:a}).forEach(g=>{this.send([(Enumerations.CHANNEL_MESSAGES.noteon<<4)+(this.number-1),g.getOffsetNumber(r),g.rawAttack],{time:Utilities.toTimestamp(n.time)})}),this}sendChannelMode(u,n=0,a={}){if(typeof u=="string"&&(u=Enumerations.CHANNEL_MODE_MESSAGES[u]),wm.validation){if(u===void 0)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(u)||!(u>=120&&u<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(n))||n<0||n>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(Enumerations.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),u,n],{time:Utilities.toTimestamp(a.time)}),this}sendOmniMode(u,n={}){return u===void 0||u?this.sendChannelMode("omnimodeon",0,n):this.sendChannelMode("omnimodeoff",0,n),this}sendChannelAftertouch(u,n={}){if(wm.validation){if(isNaN(parseFloat(u)))throw new RangeError("Invalid channel aftertouch value.");if(n.rawValue){if(!(u>=0&&u<=127&&Number.isInteger(u)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(u>=0&&u<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return n.rawValue||(u=Utilities.fromFloatTo7Bit(u)),this.send([(Enumerations.CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(u)],{time:Utilities.toTimestamp(n.time)}),this}sendMasterTuning(u,n={}){if(u=parseFloat(u)||0,wm.validation&&!(u>-65&&u<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let a=Math.floor(u)+64,r=u-Math.floor(u);r=Math.round((r+1)/2*16383);let g=r>>7&127,f=r&127;return this.sendRpnValue("channelcoarsetuning",a,n),this.sendRpnValue("channelfinetuning",[g,f],n),this}sendModulationRange(u,n,a={}){if(wm.validation){if(!Number.isInteger(u)||!(u>=0&&u<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(n!=null&&(!Number.isInteger(n)||!(n>=0&&n<=127)))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return n>=0&&n<=127||(n=0),this.sendRpnValue("modulationrange",[u,n],a),this}sendNrpnValue(u,n,a={}){if(n=[].concat(n),wm.validation){if(!Array.isArray(u)||!Number.isInteger(u[0])||!Number.isInteger(u[1]))throw new TypeError("The specified NRPN is invalid.");if(!(u[0]>=0&&u[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(u[1]>=0&&u[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");n.forEach(r=>{if(!(r>=0&&r<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")})}return this._selectNonRegisteredParameter(u,a),this._setCurrentParameter(n,a),this._deselectNonRegisteredParameter(a),this}sendPitchBend(u,n={}){if(wm.validation)if(n.rawValue&&Array.isArray(u)){if(!(u[0]>=0&&u[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(u[1]>=0&&u[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(n.rawValue&&!Array.isArray(u)){if(!(u>=0&&u<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(u)||u===null)throw new RangeError("Invalid pitch bend value.");if(!(u>=-1&&u<=1))throw new RangeError("The pitch bend value must be a float between -1 and 1.")}let a=0,r=0;if(n.rawValue&&Array.isArray(u))a=u[0],r=u[1];else if(n.rawValue&&!Array.isArray(u))a=u;else{const g=Utilities.fromFloatToMsbLsb((u+1)/2);a=g.msb,r=g.lsb}return this.send([(Enumerations.CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),r,a],{time:Utilities.toTimestamp(n.time)}),this}sendPitchBendRange(u,n,a={}){if(wm.validation){if(!Number.isInteger(u)||!(u>=0&&u<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(n)||!(n>=0&&n<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[u,n],a),this}sendProgramChange(u,n={}){if(u=parseInt(u)||0,wm.validation&&!(u>=0&&u<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(Enumerations.CHANNEL_MESSAGES.programchange<<4)+(this.number-1),u],{time:Utilities.toTimestamp(n.time)}),this}sendRpnValue(u,n,a={}){if(Array.isArray(u)||(u=Enumerations.REGISTERED_PARAMETERS[u]),wm.validation){if(!Number.isInteger(u[0])||!Number.isInteger(u[1]))throw new TypeError("The specified NRPN is invalid.");if(!(u[0]>=0&&u[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(u[1]>=0&&u[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(n).forEach(r=>{if(!(r>=0&&r<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")})}return this._selectRegisteredParameter(u,a),this._setCurrentParameter(n,a),this._deselectRegisteredParameter(a),this}sendTuningBank(u,n={}){if(wm.validation&&(!Number.isInteger(u)||!(u>=0&&u<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",u,n),this}sendTuningProgram(u,n={}){if(wm.validation&&(!Number.isInteger(u)||!(u>=0&&u<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",u,n),this}sendLocalControl(u,n={}){return u?this.sendChannelMode("localcontrol",127,n):this.sendChannelMode("localcontrol",0,n)}sendAllNotesOff(u={}){return this.sendChannelMode("allnotesoff",0,u)}sendAllSoundOff(u={}){return this.sendChannelMode("allsoundoff",0,u)}sendResetAllControllers(u={}){return this.sendChannelMode("resetallcontrollers",0,u)}sendPolyphonicMode(u,n={}){return u==="mono"?this.sendChannelMode("monomodeon",0,n):this.sendChannelMode("polymodeon",0,n)}get octaveOffset(){return this._octaveOffset}set octaveOffset(u){if(this.validation&&(u=parseInt(u),isNaN(u)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=u}get output(){return this._output}get number(){return this._number}}/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class Output extends EventEmitter{constructor(u){super(),this._midiOutput=u,this._octaveOffset=0,this.channels=[];for(let n=1;n<=16;n++)this.channels[n]=new OutputChannel(this,n);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(u=>u.destroy()),this.channels=[],this._midiOutput&&(this._midiOutput.onstatechange=null),await this.close(),this._midiOutput=null}_onStateChange(u){let n={timestamp:wm.time};u.port.connection==="open"?(n.type="opened",n.target=this,n.port=n.target,this.emit("opened",n)):u.port.connection==="closed"&&u.port.state==="connected"?(n.type="closed",n.target=this,n.port=n.target,this.emit("closed",n)):u.port.connection==="closed"&&u.port.state==="disconnected"?(n.type="disconnected",n.port={connection:u.port.connection,id:u.port.id,manufacturer:u.port.manufacturer,name:u.port.name,state:u.port.state,type:u.port.type},this.emit("disconnected",n)):u.port.connection==="pending"&&u.port.state==="disconnected"||console.warn("This statechange event was not caught:",u.port.connection,u.port.state)}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(u){return Promise.reject(u)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}send(u,n={time:0},a=0){if(u instanceof Message&&(u=Utilities.isNode?u.data:u.rawData),u instanceof Uint8Array&&Utilities.isNode&&(u=Array.from(u)),wm.validation){if(!Array.isArray(u)&&!(u instanceof Uint8Array)&&(u=[u],Array.isArray(n)&&(u=u.concat(n)),n=isNaN(a)?{time:0}:{time:a}),!(parseInt(u[0])>=128&&parseInt(u[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");u.slice(1).forEach(r=>{if(r=parseInt(r),!(r>=0&&r<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")}),n||(n={time:0})}return this._midiOutput.send(u,Utilities.toTimestamp(n.time)),this}sendSysex(u,n=[],a={}){if(u=[].concat(u),n instanceof Uint8Array){const r=new Uint8Array(1+u.length+n.length+1);r[0]=Enumerations.SYSTEM_MESSAGES.sysex,r.set(Uint8Array.from(u),1),r.set(n,1+u.length),r[r.length-1]=Enumerations.SYSTEM_MESSAGES.sysexend,this.send(r,{time:a.time})}else{const r=u.concat(n,Enumerations.SYSTEM_MESSAGES.sysexend);this.send([Enumerations.SYSTEM_MESSAGES.sysex].concat(r),{time:a.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():wm.validation&&console.warn("The 'clear()' method has not yet been implemented in your environment."),this}sendTimecodeQuarterFrame(u,n={}){if(wm.validation&&(u=parseInt(u),isNaN(u)||!(u>=0&&u<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([Enumerations.SYSTEM_MESSAGES.timecode,u],{time:n.time}),this}sendSongPosition(u=0,n={}){u=Math.floor(u)||0;var a=u>>7&127,r=u&127;return this.send([Enumerations.SYSTEM_MESSAGES.songposition,a,r],{time:n.time}),this}sendSongSelect(u=0,n={}){if(wm.validation&&(u=parseInt(u),isNaN(u)||!(u>=0&&u<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([Enumerations.SYSTEM_MESSAGES.songselect,u],{time:n.time}),this}sendTuneRequest(u={}){return this.send([Enumerations.SYSTEM_MESSAGES.tunerequest],{time:u.time}),this}sendClock(u={}){return this.send([Enumerations.SYSTEM_MESSAGES.clock],{time:u.time}),this}sendStart(u={}){return this.send([Enumerations.SYSTEM_MESSAGES.start],{time:u.time}),this}sendContinue(u={}){return this.send([Enumerations.SYSTEM_MESSAGES.continue],{time:u.time}),this}sendStop(u={}){return this.send([Enumerations.SYSTEM_MESSAGES.stop],{time:u.time}),this}sendActiveSensing(u={}){return this.send([Enumerations.SYSTEM_MESSAGES.activesensing],{time:u.time}),this}sendReset(u={}){return this.send([Enumerations.SYSTEM_MESSAGES.reset],{time:u.time}),this}sendTuningRequest(u={}){return wm.validation&&console.warn("The sendTuningRequest() method has been deprecated. Use sendTuningRequest() instead."),this.sendTuneRequest(u)}sendKeyAftertouch(u,n,a={}){return a.channels==null&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].sendKeyAftertouch(u,n,a)}),this}sendControlChange(u,n,a={},r={}){if(wm.validation&&(Array.isArray(a)||Number.isInteger(a)||a==="all")){const g=a;a=r,a.channels=g,a.channels==="all"&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return a.channels==null&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(a.channels).forEach(g=>{this.channels[g].sendControlChange(u,n,a)}),this}sendPitchBendRange(u=0,n=0,a={}){return a.channels==null&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].sendPitchBendRange(u,n,a)}),this}setPitchBendRange(u=0,n=0,a="all",r={}){return wm.validation&&(console.warn("The setPitchBendRange() method is deprecated. Use sendPitchBendRange() instead."),r.channels=a,r.channels==="all"&&(r.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(u,n,r)}sendRpnValue(u,n,a={}){return a.channels==null&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].sendRpnValue(u,n,a)}),this}setRegisteredParameter(u,n=[],a="all",r={}){return wm.validation&&(console.warn("The setRegisteredParameter() method is deprecated. Use sendRpnValue() instead."),r.channels=a,r.channels==="all"&&(r.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(u,n,r)}sendChannelAftertouch(u,n={},a={}){if(wm.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendChannelAftertouch(u,n)}),this}sendPitchBend(u,n={},a={}){if(wm.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendPitchBend(u,n)}),this}sendProgramChange(u=0,n={},a={}){if(wm.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendProgramChange(u,n)}),this}sendModulationRange(u,n,a={}){return a.channels==null&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].sendModulationRange(u,n,a)}),this}setModulationRange(u=0,n=0,a="all",r={}){return wm.validation&&(console.warn("The setModulationRange() method is deprecated. Use sendModulationRange() instead."),r.channels=a,r.channels==="all"&&(r.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(u,n,r)}sendMasterTuning(u,n={}){return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendMasterTuning(u,n)}),this}setMasterTuning(u,n={},a={}){return wm.validation&&(console.warn("The setMasterTuning() method is deprecated. Use sendMasterTuning() instead."),a.channels=n,a.channels==="all"&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(u,a)}sendTuningProgram(u,n={}){return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendTuningProgram(u,n)}),this}setTuningProgram(u,n="all",a={}){return wm.validation&&(console.warn("The setTuningProgram() method is deprecated. Use sendTuningProgram() instead."),a.channels=n,a.channels==="all"&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(u,a)}sendTuningBank(u=0,n={}){return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendTuningBank(u,n)}),this}setTuningBank(u,n="all",a={}){return wm.validation&&(console.warn("The setTuningBank() method is deprecated. Use sendTuningBank() instead."),a.channels=n,a.channels==="all"&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(u,a)}sendChannelMode(u,n=0,a={},r={}){if(wm.validation&&(Array.isArray(a)||Number.isInteger(a)||a==="all")){const g=a;a=r,a.channels=g,a.channels==="all"&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return a.channels==null&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(a.channels).forEach(g=>{this.channels[g].sendChannelMode(u,n,a)}),this}sendAllSoundOff(u={}){return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(n=>{this.channels[n].sendAllSoundOff(u)}),this}sendAllNotesOff(u={}){return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(n=>{this.channels[n].sendAllNotesOff(u)}),this}sendResetAllControllers(u={},n={}){if(wm.validation&&(Array.isArray(u)||Number.isInteger(u)||u==="all")){const a=u;u=n,u.channels=a,u.channels==="all"&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(a=>{this.channels[a].sendResetAllControllers(u)}),this}sendPolyphonicMode(u,n={},a={}){if(wm.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendPolyphonicMode(u,n)}),this}sendLocalControl(u,n={},a={}){if(wm.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendLocalControl(u,n)}),this}sendOmniMode(u,n={},a={}){if(wm.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendOmniMode(u,n)}),this}sendNrpnValue(u,n,a={}){return a.channels==null&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].sendNrpnValue(u,n,a)}),this}setNonRegisteredParameter(u,n=[],a="all",r={}){return wm.validation&&(console.warn("The setNonRegisteredParameter() method is deprecated. Use sendNrpnValue() instead."),r.channels=a,r.channels==="all"&&(r.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(u,n,r)}sendRpnIncrement(u,n={}){return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendRpnIncrement(u,n)}),this}incrementRegisteredParameter(u,n="all",a={}){return wm.validation&&(console.warn("The incrementRegisteredParameter() method is deprecated. Use sendRpnIncrement() instead."),a.channels=n,a.channels==="all"&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(u,a)}sendRpnDecrement(u,n={}){return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendRpnDecrement(u,n)}),this}decrementRegisteredParameter(u,n="all",a={}){return wm.validation&&(console.warn("The decrementRegisteredParameter() method is deprecated. Use sendRpnDecrement() instead."),a.channels=n,a.channels==="all"&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(u,a)}sendNoteOff(u,n={},a={}){if(wm.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendNoteOff(u,n)}),this}stopNote(u,n){return this.sendNoteOff(u,n)}playNote(u,n={},a={}){if(wm.validation&&(n.rawVelocity&&console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' instead."),n.velocity&&console.warn("The 'velocity' option is deprecated. Use 'velocity' instead."),Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].playNote(u,n)}),this}sendNoteOn(u,n={},a={}){if(wm.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendNoteOn(u,n)}),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(u){if(this.validation&&(u=parseInt(u),isNaN(u)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=u}}/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Forwarder{constructor(u=[],n={}){this.destinations=[],this.types=[...Object.keys(Enumerations.SYSTEM_MESSAGES),...Object.keys(Enumerations.CHANNEL_MESSAGES)],this.channels=Enumerations.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(u)||(u=[u]),n.types&&!Array.isArray(n.types)&&(n.types=[n.types]),n.channels&&!Array.isArray(n.channels)&&(n.channels=[n.channels]),wm.validation&&(u.forEach(a=>{if(!(a instanceof Output))throw new TypeError("Destinations must be of type 'Output'.")}),n.types!==void 0&&n.types.forEach(a=>{if(!Enumerations.SYSTEM_MESSAGES.hasOwnProperty(a)&&!Enumerations.CHANNEL_MESSAGES.hasOwnProperty(a))throw new TypeError("Type must be a valid message type.")}),n.channels!==void 0&&n.channels.forEach(a=>{if(!Enumerations.MIDI_CHANNEL_NUMBERS.includes(a))throw new TypeError("MIDI channel must be between 1 and 16.")})),this.destinations=u,n.types&&(this.types=n.types),n.channels&&(this.channels=n.channels)}forward(u){this.suspended||this.types.includes(u.type)&&(u.channel&&!this.channels.includes(u.channel)||this.destinations.forEach(n=>{wm.validation&&!(n instanceof Output)||n.send(u)}))}}/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-dataincrement
 * @fires InputChannel#event:nrpn-datadecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-dataincrement
 * @fires InputChannel#event:rpn-datadecrement
 *
 * @fires InputChannel#controlchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#event:controlchange-bankselectcoarse
 * @fires InputChannel#event:controlchange-modulationwheelcoarse
 * @fires InputChannel#event:controlchange-breathcontrollercoarse
 * @fires InputChannel#event:controlchange-footcontrollercoarse
 * @fires InputChannel#event:controlchange-portamentotimecoarse
 * @fires InputChannel#event:controlchange-dataentrycoarse
 * @fires InputChannel#event:controlchange-volumecoarse
 * @fires InputChannel#event:controlchange-balancecoarse
 * @fires InputChannel#event:controlchange-pancoarse
 * @fires InputChannel#event:controlchange-expressioncoarse
 * @fires InputChannel#event:controlchange-effectcontrol1coarse
 * @fires InputChannel#event:controlchange-effectcontrol2coarse
 * @fires InputChannel#event:controlchange-generalpurposecontroller1
 * @fires InputChannel#event:controlchange-generalpurposecontroller2
 * @fires InputChannel#event:controlchange-generalpurposecontroller3
 * @fires InputChannel#event:controlchange-generalpurposecontroller4
 * @fires InputChannel#event:controlchange-bankselectfine
 * @fires InputChannel#event:controlchange-modulationwheelfine
 * @fires InputChannel#event:controlchange-breathcontrollerfine
 * @fires InputChannel#event:controlchange-footcontrollerfine
 * @fires InputChannel#event:controlchange-portamentotimefine
 * @fires InputChannel#event:controlchange-dataentryfine
 * @fires InputChannel#event:controlchange-channelvolumefine
 * @fires InputChannel#event:controlchange-balancefine
 * @fires InputChannel#event:controlchange-panfine
 * @fires InputChannel#event:controlchange-expressionfine
 * @fires InputChannel#event:controlchange-effectcontrol1fine
 * @fires InputChannel#event:controlchange-effectcontrol2fine
 * @fires InputChannel#event:controlchange-damperpedal
 * @fires InputChannel#event:controlchange-portamento
 * @fires InputChannel#event:controlchange-sostenuto
 * @fires InputChannel#event:controlchange-softpedal
 * @fires InputChannel#event:controlchange-legatopedal
 * @fires InputChannel#event:controlchange-hold2
 * @fires InputChannel#event:controlchange-soundvariation
 * @fires InputChannel#event:controlchange-resonance
 * @fires InputChannel#event:controlchange-releasetime
 * @fires InputChannel#event:controlchange-attacktime
 * @fires InputChannel#event:controlchange-brightness
 * @fires InputChannel#event:controlchange-decaytime
 * @fires InputChannel#event:controlchange-vibratorate
 * @fires InputChannel#event:controlchange-vibratodepth
 * @fires InputChannel#event:controlchange-vibratodelay
 * @fires InputChannel#event:controlchange-generalpurposecontroller5
 * @fires InputChannel#event:controlchange-generalpurposecontroller6
 * @fires InputChannel#event:controlchange-generalpurposecontroller7
 * @fires InputChannel#event:controlchange-generalpurposecontroller8
 * @fires InputChannel#event:controlchange-portamentocontrol
 * @fires InputChannel#event:controlchange-highresolutionvelocityprefix
 * @fires InputChannel#event:controlchange-effect1depth
 * @fires InputChannel#event:controlchange-effect2depth
 * @fires InputChannel#event:controlchange-effect3depth
 * @fires InputChannel#event:controlchange-effect4depth
 * @fires InputChannel#event:controlchange-effect5depth
 * @fires InputChannel#event:controlchange-dataincrement
 * @fires InputChannel#event:controlchange-datadecrement
 * @fires InputChannel#event:controlchange-nonregisteredparameterfine
 * @fires InputChannel#event:controlchange-nonregisteredparametercoarse
 * @fires InputChannel#event:controlchange-registeredparameterfine
 * @fires InputChannel#event:controlchange-registeredparametercoarse
 * @fires InputChannel#event:controlchange-allsoundoff
 * @fires InputChannel#event:controlchange-resetallcontrollers
 * @fires InputChannel#event:controlchange-localcontrol
 * @fires InputChannel#event:controlchange-allnotesoff
 * @fires InputChannel#event:controlchange-omnimodeoff
 * @fires InputChannel#event:controlchange-omnimodeon
 * @fires InputChannel#event:controlchange-monomodeon
 * @fires InputChannel#event:controlchange-polymodeon
 * @fires InputChannel#event:
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class InputChannel extends EventEmitter{constructor(u,n){super(),this._input=u,this._number=n,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(u){const n=Object.assign({},u);n.port=this.input,n.target=this,n.type="midimessage",this.emit(n.type,n),this._parseEventForStandardMessages(n)}_parseEventForStandardMessages(u){const n=Object.assign({},u);n.type=n.message.type||"unknownmessage";const a=u.message.dataBytes[0],r=u.message.dataBytes[1];if(n.type==="noteoff"||n.type==="noteon"&&r===0)this.notesState[a]=!1,n.type="noteoff",n.note=new Note$2(Utilities.offsetNumber(a,this.octaveOffset+this.input.octaveOffset+wm.octaveOffset),{rawAttack:0,rawRelease:r}),n.value=Utilities.from7bitToFloat(r),n.rawValue=r,n.velocity=n.note.release,n.rawVelocity=n.note.rawRelease;else if(n.type==="noteon")this.notesState[a]=!0,n.note=new Note$2(Utilities.offsetNumber(a,this.octaveOffset+this.input.octaveOffset+wm.octaveOffset),{rawAttack:r}),n.value=Utilities.from7bitToFloat(r),n.rawValue=r,n.velocity=n.note.attack,n.rawVelocity=n.note.rawAttack;else if(n.type==="keyaftertouch")n.note=new Note$2(Utilities.offsetNumber(a,this.octaveOffset+this.input.octaveOffset+wm.octaveOffset)),n.value=Utilities.from7bitToFloat(r),n.rawValue=r,n.identifier=n.note.identifier,n.key=n.note.number,n.rawKey=a;else if(n.type==="controlchange"){n.controller={number:a,name:Enumerations.CONTROL_CHANGE_MESSAGES[a].name,description:Enumerations.CONTROL_CHANGE_MESSAGES[a].description,position:Enumerations.CONTROL_CHANGE_MESSAGES[a].position},n.subtype=n.controller.name||"controller"+a,n.value=Utilities.from7bitToFloat(r),n.rawValue=r;const g=Object.assign({},n);g.type=`${n.type}-controller${a}`,delete g.subtype,this.emit(g.type,g);const f=Object.assign({},n);f.type=`${n.type}-`+Enumerations.CONTROL_CHANGE_MESSAGES[a].name,delete f.subtype,f.type.indexOf("controller")!==0&&this.emit(f.type,f),n.message.dataBytes[0]>=120&&this._parseChannelModeMessage(n),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(n.message.dataBytes[0])&&this._parseEventForParameterNumber(n)}else n.type==="programchange"?(n.value=a,n.rawValue=n.value):n.type==="channelaftertouch"?(n.value=Utilities.from7bitToFloat(a),n.rawValue=a):n.type==="pitchbend"?(n.value=((r<<7)+a-8192)/8192,n.rawValue=(r<<7)+a):n.type="unknownmessage";this.emit(n.type,n)}_parseChannelModeMessage(u){const n=Object.assign({},u);n.type=n.controller.name,n.type==="localcontrol"&&(n.value=n.message.data[2]===127,n.rawValue=n.message.data[2]),n.type==="omnimodeon"?(n.type="omnimode",n.value=!0,n.rawValue=n.message.data[2]):n.type==="omnimodeoff"&&(n.type="omnimode",n.value=!1,n.rawValue=n.message.data[2]),n.type==="monomodeon"?(n.type="monomode",n.value=!0,n.rawValue=n.message.data[2]):n.type==="polymodeon"&&(n.type="monomode",n.value=!1,n.rawValue=n.message.data[2]),this.emit(n.type,n)}_parseEventForParameterNumber(u){const n=u.message.dataBytes[0],a=u.message.dataBytes[1];n===99||n===101?(this._nrpnBuffer=[],this._rpnBuffer=[],n===99?this._nrpnBuffer=[u.message]:a!==127&&(this._rpnBuffer=[u.message])):n===98||n===100?n===98?(this._rpnBuffer=[],this._nrpnBuffer.length===1?this._nrpnBuffer.push(u.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],this._rpnBuffer.length===1&&a!==127?this._rpnBuffer.push(u.message):this._rpnBuffer=[]):(n===6||n===38||n===96||n===97)&&(this._rpnBuffer.length===2?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],u):this._nrpnBuffer.length===2?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],u):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(u){return u===6||u===38||u===96||u===97||u===98||u===99||u===100||u===101}_dispatchParameterNumberEvent(u,n,a,r){u=u==="nrpn"?"nrpn":"rpn";const g={target:r.target,timestamp:r.timestamp,message:r.message,parameterMsb:n,parameterLsb:a,value:Utilities.from7bitToFloat(r.message.dataBytes[1]),rawValue:r.message.dataBytes[1]};u==="rpn"?g.parameter=Object.keys(Enumerations.REGISTERED_PARAMETERS).find(l=>Enumerations.REGISTERED_PARAMETERS[l][0]===n&&Enumerations.REGISTERED_PARAMETERS[l][1]===a):g.parameter=(n<<7)+a;const f=Enumerations.CONTROL_CHANGE_MESSAGES[r.message.dataBytes[0]].name;g.type=`${u}-${f}`,this.emit(g.type,g);const m=Object.assign({},g);m.type==="nrpn-dataincrement"?m.type="nrpn-databuttonincrement":m.type==="nrpn-datadecrement"?m.type="nrpn-databuttondecrement":m.type==="rpn-dataincrement"?m.type="rpn-databuttonincrement":m.type==="rpn-datadecrement"&&(m.type="rpn-databuttondecrement"),this.emit(m.type,m),g.type=u,g.subtype=f,this.emit(g.type,g)}getChannelModeByNumber(u){return wm.validation&&(console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class."),u=Math.floor(u)),Utilities.getChannelModeByNumber(u)}getCcNameByNumber(u){if(wm.validation&&(console.warn("The 'getCcNameByNumber()' method has been moved to the 'Utilities' class."),u=parseInt(u),!(u>=0&&u<=127)))throw new RangeError("Invalid control change number.");return Utilities.getCcNameByNumber(u)}getNoteState(u){u instanceof Note$2&&(u=u.identifier);const n=Utilities.guessNoteNumber(u,wm.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[n]}get octaveOffset(){return this._octaveOffset}set octaveOffset(u){if(this.validation&&(u=parseInt(u),isNaN(u)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=u}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(u){this.validation&&(u=!!u),this.parameterNumberEventsEnabled=u}}/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Message{constructor(u){this.rawData=u,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=(this.statusByte&15)+1):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=Utilities.getPropertyByValue(Enumerations.CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=Utilities.getPropertyByValue(Enumerations.SYSTEM_MESSAGES,this.command)),this.statusByte===Enumerations.SYSTEM_MESSAGES.sysex&&(this.dataBytes[0]===0?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */let Input$1=class extends EventEmitter{constructor(u){super(),this._midiInput=u,this._octaveOffset=0,this.channels=[];for(let n=1;n<=16;n++)this.channels[n]=new InputChannel(this,n);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(u=>u.destroy()),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(u){let n={timestamp:wm.time,target:this,port:this};u.port.connection==="open"?(n.type="opened",this.emit("opened",n)):u.port.connection==="closed"&&u.port.state==="connected"?(n.type="closed",this.emit("closed",n)):u.port.connection==="closed"&&u.port.state==="disconnected"?(n.type="disconnected",n.port={connection:u.port.connection,id:u.port.id,manufacturer:u.port.manufacturer,name:u.port.name,state:u.port.state,type:u.port.type},this.emit("disconnected",n)):u.port.connection==="pending"&&u.port.state==="disconnected"||console.warn("This statechange event was not caught: ",u.port.connection,u.port.state)}_onMidiMessage(u){const n=new Message(u.data),a={port:this,target:this,message:n,timestamp:u.timeStamp,type:"midimessage",data:n.data,rawData:n.data,statusByte:n.data[0],dataBytes:n.dataBytes};this.emit("midimessage",a),n.isSystemMessage?this._parseEvent(a):n.isChannelMessage&&this.channels[n.channel]._processMidiMessageEvent(a),this._forwarders.forEach(r=>r.forward(n))}_parseEvent(u){const n=Object.assign({},u);n.type=n.message.type||"unknownmidimessage",n.type==="songselect"&&(n.song=u.data[1]+1,n.value=u.data[1],n.rawValue=n.value),this.emit(n.type,n)}async open(){try{await this._midiInput.open()}catch(u){return Promise.reject(u)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(u){return Promise.reject(u)}return Promise.resolve(this)}getChannelModeByNumber(){wm.validation&&console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class.")}addListener(u,n,a={}){if(wm.validation&&typeof a=="function"){let r=n!=null?[].concat(n):void 0;n=a,a={channels:r}}if(Enumerations.CHANNEL_EVENTS.includes(u)){a.channels===void 0&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS);let r=[];return Utilities.sanitizeChannels(a.channels).forEach(g=>{r.push(this.channels[g].addListener(u,n,a))}),r}else return super.addListener(u,n,a)}addOneTimeListener(u,n,a={}){return a.remaining=1,this.addListener(u,n,a)}on(u,n,a,r){return this.addListener(u,n,a,r)}hasListener(u,n,a={}){if(wm.validation&&typeof a=="function"){let r=[].concat(n);n=a,a={channels:r}}return Enumerations.CHANNEL_EVENTS.includes(u)?(a.channels===void 0&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(a.channels).every(r=>this.channels[r].hasListener(u,n))):super.hasListener(u,n)}removeListener(u,n,a={}){if(wm.validation&&typeof a=="function"){let r=[].concat(n);n=a,a={channels:r}}if(a.channels===void 0&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),u==null)return Utilities.sanitizeChannels(a.channels).forEach(r=>{this.channels[r]&&this.channels[r].removeListener()}),super.removeListener();Enumerations.CHANNEL_EVENTS.includes(u)?Utilities.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].removeListener(u,n,a)}):super.removeListener(u,n,a)}addForwarder(u,n={}){let a;return u instanceof Forwarder?a=u:a=new Forwarder(u,n),this._forwarders.push(a),a}removeForwarder(u){this._forwarders=this._forwarders.filter(n=>n!==u)}hasForwarder(u){return this._forwarders.includes(u)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(u){if(this.validation&&(u=parseInt(u),isNaN(u)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=u}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return wm.validation&&console.warn("The 'nrpnEventsEnabled' property has been moved to the 'InputChannel' class."),!1}};/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class WebMidi extends EventEmitter{constructor(){super(),this.defaults={note:{attack:Utilities.from7bitToFloat(64),release:Utilities.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(u={},n=!1){if(Utilities.isNode){try{window.navigator}catch{let m=await Object.getPrototypeOf(async function(){}).constructor(`
        let jzz = await import("jzz");
        return jzz.default;
        `)();global.navigator||(global.navigator={}),Object.assign(global.navigator,m)}try{}catch{global.performance=await Object.getPrototypeOf(async function(){}).constructor(`
        let perf_hooks = await import("perf_hooks");
        return perf_hooks.performance;
        `)()}}if(this.validation=u.validation!==!1,this.validation&&(typeof u=="function"&&(u={callback:u,sysex:n}),n&&(u.sysex=!0)),this.enabled)return typeof u.callback=="function"&&u.callback(),Promise.resolve();const a={timestamp:this.time,target:this,type:"error",error:void 0},r={timestamp:this.time,target:this,type:"midiaccessgranted"},g={timestamp:this.time,target:this,type:"enabled"};try{typeof u.requestMIDIAccessFunction=="function"?this.interface=await u.requestMIDIAccessFunction({sysex:u.sysex,software:u.software}):this.interface=await navigator.requestMIDIAccess({sysex:u.sysex,software:u.software})}catch(f){return a.error=f,this.emit("error",a),typeof u.callback=="function"&&u.callback(f),Promise.reject(f)}this.emit("midiaccessgranted",r),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(f){return a.error=f,this.emit("error",a),typeof u.callback=="function"&&u.callback(f),Promise.reject(f)}return this.emit("enabled",g),typeof u.callback=="function"&&u.callback(),Promise.resolve(this)}async disable(){return this.interface&&(this.interface.onstatechange=void 0),this._destroyInputsAndOutputs().then(()=>{navigator&&typeof navigator.close=="function"&&navigator.close(),this.interface=null;let u={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",u),this.removeListener()})}getInputById(u,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!u)return}if(n.disconnected){for(let a=0;a<this._disconnectedInputs.length;a++)if(this._disconnectedInputs[a].id===u.toString())return this._disconnectedInputs[a]}else for(let a=0;a<this.inputs.length;a++)if(this.inputs[a].id===u.toString())return this.inputs[a]}getInputByName(u,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!u)return;u=u.toString()}if(n.disconnected){for(let a=0;a<this._disconnectedInputs.length;a++)if(~this._disconnectedInputs[a].name.indexOf(u))return this._disconnectedInputs[a]}else for(let a=0;a<this.inputs.length;a++)if(~this.inputs[a].name.indexOf(u))return this.inputs[a]}getOutputByName(u,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!u)return;u=u.toString()}if(n.disconnected){for(let a=0;a<this._disconnectedOutputs.length;a++)if(~this._disconnectedOutputs[a].name.indexOf(u))return this._disconnectedOutputs[a]}else for(let a=0;a<this.outputs.length;a++)if(~this.outputs[a].name.indexOf(u))return this.outputs[a]}getOutputById(u,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!u)return}if(n.disconnected){for(let a=0;a<this._disconnectedOutputs.length;a++)if(this._disconnectedOutputs[a].id===u.toString())return this._disconnectedOutputs[a]}else for(let a=0;a<this.outputs.length;a++)if(this.outputs[a].id===u.toString())return this.outputs[a]}noteNameToNumber(u){return this.validation&&console.warn("The noteNameToNumber() method is deprecated. Use Utilities.toNoteNumber() instead."),Utilities.toNoteNumber(u,this.octaveOffset)}getOctave(u){return this.validation&&(console.warn("The getOctave()is deprecated. Use Utilities.getNoteDetails() instead"),u=parseInt(u)),!isNaN(u)&&u>=0&&u<=127?Utilities.getNoteDetails(Utilities.offsetNumber(u,this.octaveOffset)).octave:!1}sanitizeChannels(u){return this.validation&&console.warn("The sanitizeChannels() method has been moved to the utilities class."),Utilities.sanitizeChannels(u)}toMIDIChannels(u){return this.validation&&console.warn("The toMIDIChannels() method has been deprecated. Use Utilities.sanitizeChannels() instead."),Utilities.sanitizeChannels(u)}guessNoteNumber(u){return this.validation&&console.warn("The guessNoteNumber() method has been deprecated. Use Utilities.guessNoteNumber() instead."),Utilities.guessNoteNumber(u,this.octaveOffset)}getValidNoteArray(u,n={}){return this.validation&&console.warn("The getValidNoteArray() method has been moved to the Utilities.buildNoteArray()"),Utilities.buildNoteArray(u,n)}convertToTimestamp(u){return this.validation&&console.warn("The convertToTimestamp() method has been moved to Utilities.toTimestamp()."),Utilities.toTimestamp(u)}async _destroyInputsAndOutputs(){let u=[];return this.inputs.forEach(n=>u.push(n.destroy())),this.outputs.forEach(n=>u.push(n.destroy())),Promise.all(u).then(()=>{this._inputs=[],this._outputs=[]})}_onInterfaceStateChange(u){this._updateInputsAndOutputs();let n={timestamp:u.timeStamp,type:u.port.state,target:this};if(u.port.state==="connected"&&u.port.connection==="open"){u.port.type==="output"?n.port=this.getOutputById(u.port.id):u.port.type==="input"&&(n.port=this.getInputById(u.port.id)),this.emit(u.port.state,n);const a=Object.assign({},n);a.type="portschanged",this.emit(a.type,a)}else if(u.port.state==="disconnected"&&u.port.connection==="pending"){u.port.type==="input"?n.port=this.getInputById(u.port.id,{disconnected:!0}):u.port.type==="output"&&(n.port=this.getOutputById(u.port.id,{disconnected:!0})),this.emit(u.port.state,n);const a=Object.assign({},n);a.type="portschanged",this.emit(a.type,a)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let n=this._inputs.length-1;n>=0;n--){const a=this._inputs[n];Array.from(this.interface.inputs.values()).find(g=>g===a._midiInput)||(this._disconnectedInputs.push(a),this._inputs.splice(n,1))}let u=[];return this.interface.inputs.forEach(n=>{if(!this._inputs.find(a=>a._midiInput===n)){let a=this._disconnectedInputs.find(r=>r._midiInput===n);a||(a=new Input$1(n)),this._inputs.push(a),u.push(a.open())}}),Promise.all(u)}async _updateOutputs(){if(!this.interface)return;for(let n=this._outputs.length-1;n>=0;n--){const a=this._outputs[n];Array.from(this.interface.outputs.values()).find(g=>g===a._midiOutput)||(this._disconnectedOutputs.push(a),this._outputs.splice(n,1))}let u=[];return this.interface.outputs.forEach(n=>{if(!this._outputs.find(a=>a._midiOutput===n)){let a=this._disconnectedOutputs.find(r=>r._midiOutput===n);a||(a=new Output(n)),this._outputs.push(a),u.push(a.open())}}),Promise.all(u)}get enabled(){return this.interface!==null}get inputs(){return this._inputs}get isNode(){return this.validation&&console.warn("WebMidi.isNode has been deprecated. Use Utilities.isNode instead."),Utilities.isNode}get isBrowser(){return this.validation&&console.warn("WebMidi.isBrowser has been deprecated. Use Utilities.isBrowser instead."),Utilities.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(u){if(this.validation&&(u=parseInt(u),isNaN(u)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=u}get outputs(){return this._outputs}get supported(){return typeof navigator<"u"&&!!navigator.requestMIDIAccess}get sysexEnabled(){return!!(this.interface&&this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.1.12"}get flavour(){return"esm"}get CHANNEL_EVENTS(){return this.validation&&console.warn("The CHANNEL_EVENTS enum has been moved to Enumerations.CHANNEL_EVENTS."),Enumerations.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been moved to Enumerations.SYSTEM_MESSAGES."),Enumerations.SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been moved to Enumerations.CHANNEL_MODE_MESSAGES."),Enumerations.CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been replaced by the Enumerations.CONTROL_CHANGE_MESSAGES array."),Enumerations.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETER enum has been moved to Enumerations.REGISTERED_PARAMETERS."),Enumerations.REGISTERED_PARAMETERS}get NOTES(){return this.validation&&console.warn("The NOTES enum has been deprecated."),["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}}const wm=new WebMidi;wm.constructor=null;var alea$1={exports:{}};alea$1.exports;(function(C){(function(u,n,a){function r(l){var x=this,S=m();x.next=function(){var D=2091639*x.s0+x.c*23283064365386963e-26;return x.s0=x.s1,x.s1=x.s2,x.s2=D-(x.c=D|0)},x.c=1,x.s0=S(" "),x.s1=S(" "),x.s2=S(" "),x.s0-=S(l),x.s0<0&&(x.s0+=1),x.s1-=S(l),x.s1<0&&(x.s1+=1),x.s2-=S(l),x.s2<0&&(x.s2+=1),S=null}function g(l,x){return x.c=l.c,x.s0=l.s0,x.s1=l.s1,x.s2=l.s2,x}function f(l,x){var S=new r(l),D=x&&x.state,h=S.next;return h.int32=function(){return S.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,D&&(typeof D=="object"&&g(D,S),h.state=function(){return g(S,{})}),h}function m(){var l=4022871197,x=function(S){S=String(S);for(var D=0;D<S.length;D++){l+=S.charCodeAt(D);var h=.02519603282416938*l;l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296}return(l>>>0)*23283064365386963e-26};return x}n&&n.exports?n.exports=f:a&&a.amd?a(function(){return f}):this.alea=f})(commonjsGlobal,C,!1)})(alea$1);var aleaExports=alea$1.exports,xor128$1={exports:{}};xor128$1.exports;(function(C){(function(u,n,a){function r(m){var l=this,x="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var D=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^D^D>>>8},m===(m|0)?l.x=m:x+=m;for(var S=0;S<x.length+64;S++)l.x^=x.charCodeAt(S)|0,l.next()}function g(m,l){return l.x=m.x,l.y=m.y,l.z=m.z,l.w=m.w,l}function f(m,l){var x=new r(m),S=l&&l.state,D=function(){return(x.next()>>>0)/4294967296};return D.double=function(){do var h=x.next()>>>11,_=(x.next()>>>0)/4294967296,o=(h+_)/(1<<21);while(o===0);return o},D.int32=x.next,D.quick=D,S&&(typeof S=="object"&&g(S,x),D.state=function(){return g(x,{})}),D}n&&n.exports?n.exports=f:a&&a.amd?a(function(){return f}):this.xor128=f})(commonjsGlobal,C,!1)})(xor128$1);var xor128Exports=xor128$1.exports,xorwow$1={exports:{}};xorwow$1.exports;(function(C){(function(u,n,a){function r(m){var l=this,x="";l.next=function(){var D=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(D^D<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,m===(m|0)?l.x=m:x+=m;for(var S=0;S<x.length+64;S++)l.x^=x.charCodeAt(S)|0,S==x.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function g(m,l){return l.x=m.x,l.y=m.y,l.z=m.z,l.w=m.w,l.v=m.v,l.d=m.d,l}function f(m,l){var x=new r(m),S=l&&l.state,D=function(){return(x.next()>>>0)/4294967296};return D.double=function(){do var h=x.next()>>>11,_=(x.next()>>>0)/4294967296,o=(h+_)/(1<<21);while(o===0);return o},D.int32=x.next,D.quick=D,S&&(typeof S=="object"&&g(S,x),D.state=function(){return g(x,{})}),D}n&&n.exports?n.exports=f:a&&a.amd?a(function(){return f}):this.xorwow=f})(commonjsGlobal,C,!1)})(xorwow$1);var xorwowExports=xorwow$1.exports,xorshift7$1={exports:{}};xorshift7$1.exports;(function(C){(function(u,n,a){function r(m){var l=this;l.next=function(){var S=l.x,D=l.i,h,_;return h=S[D],h^=h>>>7,_=h^h<<24,h=S[D+1&7],_^=h^h>>>10,h=S[D+3&7],_^=h^h>>>3,h=S[D+4&7],_^=h^h<<7,h=S[D+7&7],h=h^h<<13,_^=h^h<<9,S[D]=_,l.i=D+1&7,_};function x(S,D){var h,_=[];if(D===(D|0))_[0]=D;else for(D=""+D,h=0;h<D.length;++h)_[h&7]=_[h&7]<<15^D.charCodeAt(h)+_[h+1&7]<<13;for(;_.length<8;)_.push(0);for(h=0;h<8&&_[h]===0;++h);for(h==8?_[7]=-1:_[h],S.x=_,S.i=0,h=256;h>0;--h)S.next()}x(l,m)}function g(m,l){return l.x=m.x.slice(),l.i=m.i,l}function f(m,l){m==null&&(m=+new Date);var x=new r(m),S=l&&l.state,D=function(){return(x.next()>>>0)/4294967296};return D.double=function(){do var h=x.next()>>>11,_=(x.next()>>>0)/4294967296,o=(h+_)/(1<<21);while(o===0);return o},D.int32=x.next,D.quick=D,S&&(S.x&&g(S,x),D.state=function(){return g(x,{})}),D}n&&n.exports?n.exports=f:a&&a.amd?a(function(){return f}):this.xorshift7=f})(commonjsGlobal,C,!1)})(xorshift7$1);var xorshift7Exports=xorshift7$1.exports,xor4096$1={exports:{}};xor4096$1.exports;(function(C){(function(u,n,a){function r(m){var l=this;l.next=function(){var S=l.w,D=l.X,h=l.i,_,o;return l.w=S=S+1640531527|0,o=D[h+34&127],_=D[h=h+1&127],o^=o<<13,_^=_<<17,o^=o>>>15,_^=_>>>12,o=D[h]=o^_,l.i=h,o+(S^S>>>16)|0};function x(S,D){var h,_,o,p,b,y=[],A=128;for(D===(D|0)?(_=D,D=null):(D=D+"\0",_=0,A=Math.max(A,D.length)),o=0,p=-32;p<A;++p)D&&(_^=D.charCodeAt((p+32)%D.length)),p===0&&(b=_),_^=_<<10,_^=_>>>15,_^=_<<4,_^=_>>>13,p>=0&&(b=b+1640531527|0,h=y[p&127]^=_+b,o=h==0?o+1:0);for(o>=128&&(y[(D&&D.length||0)&127]=-1),o=127,p=4*128;p>0;--p)_=y[o+34&127],h=y[o=o+1&127],_^=_<<13,h^=h<<17,_^=_>>>15,h^=h>>>12,y[o]=_^h;S.w=b,S.X=y,S.i=o}x(l,m)}function g(m,l){return l.i=m.i,l.w=m.w,l.X=m.X.slice(),l}function f(m,l){m==null&&(m=+new Date);var x=new r(m),S=l&&l.state,D=function(){return(x.next()>>>0)/4294967296};return D.double=function(){do var h=x.next()>>>11,_=(x.next()>>>0)/4294967296,o=(h+_)/(1<<21);while(o===0);return o},D.int32=x.next,D.quick=D,S&&(S.X&&g(S,x),D.state=function(){return g(x,{})}),D}n&&n.exports?n.exports=f:a&&a.amd?a(function(){return f}):this.xor4096=f})(commonjsGlobal,C,!1)})(xor4096$1);var xor4096Exports=xor4096$1.exports,tychei$1={exports:{}};tychei$1.exports;(function(C){(function(u,n,a){function r(m){var l=this,x="";l.next=function(){var D=l.b,h=l.c,_=l.d,o=l.a;return D=D<<25^D>>>7^h,h=h-_|0,_=_<<24^_>>>8^o,o=o-D|0,l.b=D=D<<20^D>>>12^h,l.c=h=h-_|0,l.d=_<<16^h>>>16^o,l.a=o-D|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,m===Math.floor(m)?(l.a=m/4294967296|0,l.b=m|0):x+=m;for(var S=0;S<x.length+20;S++)l.b^=x.charCodeAt(S)|0,l.next()}function g(m,l){return l.a=m.a,l.b=m.b,l.c=m.c,l.d=m.d,l}function f(m,l){var x=new r(m),S=l&&l.state,D=function(){return(x.next()>>>0)/4294967296};return D.double=function(){do var h=x.next()>>>11,_=(x.next()>>>0)/4294967296,o=(h+_)/(1<<21);while(o===0);return o},D.int32=x.next,D.quick=D,S&&(typeof S=="object"&&g(S,x),D.state=function(){return g(x,{})}),D}n&&n.exports?n.exports=f:a&&a.amd?a(function(){return f}):this.tychei=f})(commonjsGlobal,C,!1)})(tychei$1);var tycheiExports=tychei$1.exports,seedrandom$2={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);(function(C){(function(u,n,a){var r=256,g=6,f=52,m="random",l=a.pow(r,g),x=a.pow(2,f),S=x*2,D=r-1,h;function _(N,T,O){var j=[];T=T==!0?{entropy:!0}:T||{};var M=y(b(T.entropy?[N,E(n)]:N??A(),3),j),F=new o(j),B=function(){for(var I=F.g(g),G=l,k=0;I<x;)I=(I+k)*r,G*=r,k=F.g(1);for(;I>=S;)I/=2,G/=2,k>>>=1;return(I+k)/G};return B.int32=function(){return F.g(4)|0},B.quick=function(){return F.g(4)/4294967296},B.double=B,y(E(F.S),n),(T.pass||O||function(I,G,k,V){return V&&(V.S&&p(V,F),I.state=function(){return p(F,{})}),k?(a[m]=I,G):I})(B,M,"global"in T?T.global:this==a,T.state)}function o(N){var T,O=N.length,j=this,M=0,F=j.i=j.j=0,B=j.S=[];for(O||(N=[O++]);M<r;)B[M]=M++;for(M=0;M<r;M++)B[M]=B[F=D&F+N[M%O]+(T=B[M])],B[F]=T;(j.g=function(I){for(var G,k=0,V=j.i,R=j.j,U=j.S;I--;)G=U[V=D&V+1],k=k*r+U[D&(U[V]=U[R=D&R+G])+(U[R]=G)];return j.i=V,j.j=R,k})(r)}function p(N,T){return T.i=N.i,T.j=N.j,T.S=N.S.slice(),T}function b(N,T){var O=[],j=typeof N,M;if(T&&j=="object")for(M in N)try{O.push(b(N[M],T-1))}catch{}return O.length?O:j=="string"?N:N+"\0"}function y(N,T){for(var O=N+"",j,M=0;M<O.length;)T[D&M]=D&(j^=T[D&M]*19)+O.charCodeAt(M++);return E(T)}function A(){try{var N;return h&&(N=h.randomBytes)?N=N(r):(N=new Uint8Array(r),(u.crypto||u.msCrypto).getRandomValues(N)),E(N)}catch{var T=u.navigator,O=T&&T.plugins;return[+new Date,u,O,u.screen,E(n)]}}function E(N){return String.fromCharCode.apply(0,N)}if(y(a.random(),n),C.exports){C.exports=_;try{h=require$$0}catch{}}else a["seed"+m]=_})(typeof self<"u"?self:commonjsGlobal,[],Math)})(seedrandom$2);var seedrandomExports=seedrandom$2.exports,alea=aleaExports,xor128=xor128Exports,xorwow=xorwowExports,xorshift7=xorshift7Exports,xor4096=xor4096Exports,tychei=tycheiExports,sr=seedrandomExports;sr.alea=alea;sr.xor128=xor128;sr.xorwow=xorwow;sr.xorshift7=xorshift7;sr.xor4096=xor4096;sr.tychei=tychei;var seedrandom=sr;const seedrandom$1=getDefaultExportFromCjs(seedrandom);var noisejs={exports:{}};(function(C){(function(u){function n(x){function S(D,h,_){this.x=D,this.y=h,this.z=_}S.prototype.dot2=function(D,h){return this.x*D+this.y*h},S.prototype.dot3=function(D,h,_){return this.x*D+this.y*h+this.z*_},this.grad3=[new S(1,1,0),new S(-1,1,0),new S(1,-1,0),new S(-1,-1,0),new S(1,0,1),new S(-1,0,1),new S(1,0,-1),new S(-1,0,-1),new S(0,1,1),new S(0,-1,1),new S(0,1,-1),new S(0,-1,-1)],this.p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this.perm=new Array(512),this.gradP=new Array(512),this.seed(x||0)}n.prototype.seed=function(x){x>0&&x<1&&(x*=65536),x=Math.floor(x),x<256&&(x|=x<<8);for(var S=this.p,D=0;D<256;D++){var h;D&1?h=S[D]^x&255:h=S[D]^x>>8&255;var _=this.perm,o=this.gradP;_[D]=_[D+256]=h,o[D]=o[D+256]=this.grad3[h%12]}};var a=.5*(Math.sqrt(3)-1),r=(3-Math.sqrt(3))/6,g=1/3,f=1/6;n.prototype.simplex2=function(x,S){var D,h,_,o=(x+S)*a,p=Math.floor(x+o),b=Math.floor(S+o),y=(p+b)*r,A=x-p+y,E=S-b+y,N,T;A>E?(N=1,T=0):(N=0,T=1);var O=A-N+r,j=E-T+r,M=A-1+2*r,F=E-1+2*r;p&=255,b&=255;var B=this.perm,I=this.gradP,G=I[p+B[b]],k=I[p+N+B[b+T]],V=I[p+1+B[b+1]],R=.5-A*A-E*E;R<0?D=0:(R*=R,D=R*R*G.dot2(A,E));var U=.5-O*O-j*j;U<0?h=0:(U*=U,h=U*U*k.dot2(O,j));var L=.5-M*M-F*F;return L<0?_=0:(L*=L,_=L*L*V.dot2(M,F)),70*(D+h+_)},n.prototype.simplex3=function(x,S,D){var h,_,o,p,b=(x+S+D)*g,y=Math.floor(x+b),A=Math.floor(S+b),E=Math.floor(D+b),N=(y+A+E)*f,T=x-y+N,O=S-A+N,j=D-E+N,M,F,B,I,G,k;T>=O?O>=j?(M=1,F=0,B=0,I=1,G=1,k=0):T>=j?(M=1,F=0,B=0,I=1,G=0,k=1):(M=0,F=0,B=1,I=1,G=0,k=1):O<j?(M=0,F=0,B=1,I=0,G=1,k=1):T<j?(M=0,F=1,B=0,I=0,G=1,k=1):(M=0,F=1,B=0,I=1,G=1,k=0);var V=T-M+f,R=O-F+f,U=j-B+f,L=T-I+2*f,H=O-G+2*f,X=j-k+2*f,Z=T-1+3*f,J=O-1+3*f,K=j-1+3*f;y&=255,A&=255,E&=255;var $=this.perm,W=this.gradP,Y=W[y+$[A+$[E]]],te=W[y+M+$[A+F+$[E+B]]],ce=W[y+I+$[A+G+$[E+k]]],oe=W[y+1+$[A+1+$[E+1]]],ue=.5-T*T-O*O-j*j;ue<0?h=0:(ue*=ue,h=ue*ue*Y.dot3(T,O,j));var Ce=.5-V*V-R*R-U*U;Ce<0?_=0:(Ce*=Ce,_=Ce*Ce*te.dot3(V,R,U));var le=.5-L*L-H*H-X*X;le<0?o=0:(le*=le,o=le*le*ce.dot3(L,H,X));var ye=.5-Z*Z-J*J-K*K;return ye<0?p=0:(ye*=ye,p=ye*ye*oe.dot3(Z,J,K)),32*(h+_+o+p)};function m(x){return x*x*x*(x*(x*6-15)+10)}function l(x,S,D){return(1-D)*x+D*S}n.prototype.perlin2=function(x,S){var D=Math.floor(x),h=Math.floor(S);x=x-D,S=S-h,D=D&255,h=h&255;var _=this.perm,o=this.gradP,p=o[D+_[h]].dot2(x,S),b=o[D+_[h+1]].dot2(x,S-1),y=o[D+1+_[h]].dot2(x-1,S),A=o[D+1+_[h+1]].dot2(x-1,S-1),E=m(x);return l(l(p,y,E),l(b,A,E),m(S))},n.prototype.perlin3=function(x,S,D){var h=Math.floor(x),_=Math.floor(S),o=Math.floor(D);x=x-h,S=S-_,D=D-o,h=h&255,_=_&255,o=o&255;var p=this.perm,b=this.gradP,y=b[h+p[_+p[o]]].dot3(x,S,D),A=b[h+p[_+p[o+1]]].dot3(x,S,D-1),E=b[h+p[_+1+p[o]]].dot3(x,S-1,D),N=b[h+p[_+1+p[o+1]]].dot3(x,S-1,D-1),T=b[h+1+p[_+p[o]]].dot3(x-1,S,D),O=b[h+1+p[_+p[o+1]]].dot3(x-1,S,D-1),j=b[h+1+p[_+1+p[o]]].dot3(x-1,S-1,D),M=b[h+1+p[_+1+p[o+1]]].dot3(x-1,S-1,D-1),F=m(x),B=m(S),I=m(D);return l(l(l(y,T,F),l(A,O,F),I),l(l(E,j,F),l(N,M,F),I),B)},u.Noise=n})(C.exports)})(noisejs);var noisejsExports=noisejs.exports;const nStreams=writable$1(32),seedValue=writable$1(""),noise=writable$1(new noisejsExports.Noise(Math.random())),seed$1=C=>{seedValue.set(C)},randomSequence=writable$1([]);seedValue.subscribe(C=>{if(!C)return;const u=seedrandom$1(C),n=Array(256).fill(0).map(a=>u());randomSequence.set(n),noise.set(new noisejsExports.Noise(u()))});const bpm=writable$1(120),getBpm=()=>get_store_value(bpm),q$1=writable$1(16),getQ=()=>get_store_value(q$1),setQ=C=>q$1.set(C),t$1=writable$1(0),getT=()=>get_store_value(t$1),setT=C=>t$1.set(C),clockSource=writable$1("internal"),midiClockDevice=writable$1(0),activeMidiClock=writable$1(!1),midiClockConfig=writable$1({srcBpm:120,relativeBpm:!1}),getClockSource=()=>get_store_value(clockSource),getMidiClockDevice=()=>get_store_value(midiClockDevice),getActiveMidiClock=()=>get_store_value(activeMidiClock),getMidiClockConfig=()=>get_store_value(midiClockConfig),mode=writable$1("division"),midiTriggerDevice=writable$1(0),getMode=()=>get_store_value(mode),getMidiTriggerDevice=()=>get_store_value(midiTriggerDevice);function _extends(){return _extends=Object.assign?Object.assign.bind():function(C){for(var u=1;u<arguments.length;u++){var n=arguments[u];for(var a in n)({}).hasOwnProperty.call(n,a)&&(C[a]=n[a])}return C},_extends.apply(null,arguments)}var DEFAULT_CONFIG={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function isNumber(C){return typeof C=="number"}function isBigNumber(C){return!C||typeof C!="object"||typeof C.constructor!="function"?!1:C.isBigNumber===!0&&typeof C.constructor.prototype=="object"&&C.constructor.prototype.isBigNumber===!0||typeof C.constructor.isDecimal=="function"&&C.constructor.isDecimal(C)===!0}function isComplex(C){return C&&typeof C=="object"&&Object.getPrototypeOf(C).isComplex===!0||!1}function isFraction(C){return C&&typeof C=="object"&&Object.getPrototypeOf(C).isFraction===!0||!1}function isUnit(C){return C&&C.constructor.prototype.isUnit===!0||!1}function isString(C){return typeof C=="string"}var isArray=Array.isArray;function isMatrix(C){return C&&C.constructor.prototype.isMatrix===!0||!1}function isCollection(C){return Array.isArray(C)||isMatrix(C)}function isDenseMatrix(C){return C&&C.isDenseMatrix&&C.constructor.prototype.isMatrix===!0||!1}function isSparseMatrix(C){return C&&C.isSparseMatrix&&C.constructor.prototype.isMatrix===!0||!1}function isRange(C){return C&&C.constructor.prototype.isRange===!0||!1}function isIndex(C){return C&&C.constructor.prototype.isIndex===!0||!1}function isBoolean(C){return typeof C=="boolean"}function isResultSet(C){return C&&C.constructor.prototype.isResultSet===!0||!1}function isHelp(C){return C&&C.constructor.prototype.isHelp===!0||!1}function isFunction(C){return typeof C=="function"}function isDate(C){return C instanceof Date}function isRegExp(C){return C instanceof RegExp}function isObject(C){return!!(C&&typeof C=="object"&&C.constructor===Object&&!isComplex(C)&&!isFraction(C))}function isNull(C){return C===null}function isUndefined(C){return C===void 0}function isAccessorNode(C){return C&&C.isAccessorNode===!0&&C.constructor.prototype.isNode===!0||!1}function isArrayNode(C){return C&&C.isArrayNode===!0&&C.constructor.prototype.isNode===!0||!1}function isAssignmentNode(C){return C&&C.isAssignmentNode===!0&&C.constructor.prototype.isNode===!0||!1}function isBlockNode(C){return C&&C.isBlockNode===!0&&C.constructor.prototype.isNode===!0||!1}function isConditionalNode(C){return C&&C.isConditionalNode===!0&&C.constructor.prototype.isNode===!0||!1}function isConstantNode(C){return C&&C.isConstantNode===!0&&C.constructor.prototype.isNode===!0||!1}function isFunctionAssignmentNode(C){return C&&C.isFunctionAssignmentNode===!0&&C.constructor.prototype.isNode===!0||!1}function isFunctionNode(C){return C&&C.isFunctionNode===!0&&C.constructor.prototype.isNode===!0||!1}function isIndexNode(C){return C&&C.isIndexNode===!0&&C.constructor.prototype.isNode===!0||!1}function isNode(C){return C&&C.isNode===!0&&C.constructor.prototype.isNode===!0||!1}function isObjectNode(C){return C&&C.isObjectNode===!0&&C.constructor.prototype.isNode===!0||!1}function isOperatorNode(C){return C&&C.isOperatorNode===!0&&C.constructor.prototype.isNode===!0||!1}function isParenthesisNode(C){return C&&C.isParenthesisNode===!0&&C.constructor.prototype.isNode===!0||!1}function isRangeNode(C){return C&&C.isRangeNode===!0&&C.constructor.prototype.isNode===!0||!1}function isRelationalNode(C){return C&&C.isRelationalNode===!0&&C.constructor.prototype.isNode===!0||!1}function isSymbolNode(C){return C&&C.isSymbolNode===!0&&C.constructor.prototype.isNode===!0||!1}function isChain(C){return C&&C.constructor.prototype.isChain===!0||!1}function typeOf(C){var u=typeof C;return u==="object"?C===null?"null":isBigNumber(C)?"BigNumber":C.constructor&&C.constructor.name?C.constructor.name:"Object":u}function clone$2(C){var u=typeof C;if(u==="number"||u==="string"||u==="boolean"||C===null||C===void 0)return C;if(typeof C.clone=="function")return C.clone();if(Array.isArray(C))return C.map(function(n){return clone$2(n)});if(C instanceof Date)return new Date(C.valueOf());if(isBigNumber(C))return C;if(isObject(C))return mapObject(C,clone$2);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(C,")"))}function mapObject(C,u){var n={};for(var a in C)hasOwnProperty(C,a)&&(n[a]=u(C[a]));return n}function deepStrictEqual(C,u){var n,a,r;if(Array.isArray(C)){if(!Array.isArray(u)||C.length!==u.length)return!1;for(a=0,r=C.length;a<r;a++)if(!deepStrictEqual(C[a],u[a]))return!1;return!0}else{if(typeof C=="function")return C===u;if(C instanceof Object){if(Array.isArray(u)||!(u instanceof Object))return!1;for(n in C)if(!(n in u)||!deepStrictEqual(C[n],u[n]))return!1;for(n in u)if(!(n in C))return!1;return!0}else return C===u}}function hasOwnProperty(C,u){return C&&Object.hasOwnProperty.call(C,u)}function pickShallow(C,u){for(var n={},a=0;a<u.length;a++){var r=u[a],g=C[r];g!==void 0&&(n[r]=g)}return n}var MATRIX_OPTIONS=["Matrix","Array"],NUMBER_OPTIONS=["number","BigNumber","Fraction"],config$1=function(u){if(u)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(DEFAULT_CONFIG)};_extends(config$1,DEFAULT_CONFIG,{MATRIX_OPTIONS,NUMBER_OPTIONS});function ok(){return!0}function notOk(){return!1}function undef(){}const NOT_TYPED_FUNCTION="Argument is not a typed-function.";function create(){function C(Ae){return typeof Ae=="object"&&Ae!==null&&Ae.constructor===Object}const u=[{name:"number",test:function(Ae){return typeof Ae=="number"}},{name:"string",test:function(Ae){return typeof Ae=="string"}},{name:"boolean",test:function(Ae){return typeof Ae=="boolean"}},{name:"Function",test:function(Ae){return typeof Ae=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(Ae){return Ae instanceof Date}},{name:"RegExp",test:function(Ae){return Ae instanceof RegExp}},{name:"Object",test:C},{name:"null",test:function(Ae){return Ae===null}},{name:"undefined",test:function(Ae){return Ae===void 0}}],n={name:"any",test:ok,isAny:!0};let a,r,g=0,f={createCount:0};function m(Ae){const Oe=a.get(Ae);if(Oe)return Oe;let Se='Unknown type "'+Ae+'"';const Fe=Ae.toLowerCase();let $e;for($e of r)if($e.toLowerCase()===Fe){Se+='. Did you mean "'+$e+'" ?';break}throw new TypeError(Se)}function l(Ae){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const Se=Oe?m(Oe).index:r.length,Fe=[];for(let Re=0;Re<Ae.length;++Re){if(!Ae[Re]||typeof Ae[Re].name!="string"||typeof Ae[Re].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const qe=Ae[Re].name;if(a.has(qe))throw new TypeError('Duplicate type name "'+qe+'"');Fe.push(qe),a.set(qe,{name:qe,test:Ae[Re].test,isAny:Ae[Re].isAny,index:Se+Re,conversionsTo:[]})}const $e=r.slice(Se);r=r.slice(0,Se).concat(Fe).concat($e);for(let Re=Se+Fe.length;Re<r.length;++Re)a.get(r[Re]).index=Re}function x(){a=new Map,r=[],g=0,l([n],!1)}x(),l(u);function S(){let Ae;for(Ae of r)a.get(Ae).conversionsTo=[];g=0}function D(Ae){const Oe=r.filter(Se=>{const Fe=a.get(Se);return!Fe.isAny&&Fe.test(Ae)});return Oe.length?Oe:["any"]}function h(Ae){return Ae&&typeof Ae=="function"&&"_typedFunctionData"in Ae}function _(Ae,Oe,Se){if(!h(Ae))throw new TypeError(NOT_TYPED_FUNCTION);const Fe=Se&&Se.exact,$e=Array.isArray(Oe)?Oe.join(","):Oe,Re=N($e),qe=b(Re);if(!Fe||qe in Ae.signatures){const Me=Ae._typedFunctionData.signatureMap.get(qe);if(Me)return Me}const ze=Re.length;let we;if(Fe){we=[];let Me;for(Me in Ae.signatures)we.push(Ae._typedFunctionData.signatureMap.get(Me))}else we=Ae._typedFunctionData.signatures;for(let Me=0;Me<ze;++Me){const me=Re[Me],Ge=[];let Xe;for(Xe of we){const rt=M(Xe.params,Me);if(!(!rt||me.restParam&&!rt.restParam)){if(!rt.hasAny){const ut=E(rt);if(me.types.some(ft=>!ut.has(ft.name)))continue}Ge.push(Xe)}}if(we=Ge,we.length===0)break}let Ee;for(Ee of we)if(Ee.params.length<=ze)return Ee;throw new TypeError("Signature not found (signature: "+(Ae.name||"unnamed")+"("+b(Re,", ")+"))")}function o(Ae,Oe,Se){return _(Ae,Oe,Se).implementation}function p(Ae,Oe){const Se=m(Oe);if(Se.test(Ae))return Ae;const Fe=Se.conversionsTo;if(Fe.length===0)throw new Error("There are no conversions to "+Oe+" defined.");for(let $e=0;$e<Fe.length;$e++)if(m(Fe[$e].from).test(Ae))return Fe[$e].convert(Ae);throw new Error("Cannot convert "+Ae+" to "+Oe)}function b(Ae){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return Ae.map(Se=>Se.name).join(Oe)}function y(Ae){const Oe=Ae.indexOf("...")===0,Fe=(Oe?Ae.length>3?Ae.slice(3):"any":Ae).split("|").map(ze=>m(ze.trim()));let $e=!1,Re=Oe?"...":"";return{types:Fe.map(function(ze){return $e=ze.isAny||$e,Re+=ze.name+"|",{name:ze.name,typeIndex:ze.index,test:ze.test,isAny:ze.isAny,conversion:null,conversionIndex:-1}}),name:Re.slice(0,-1),hasAny:$e,hasConversion:!1,restParam:Oe}}function A(Ae){const Oe=Ae.types.map(qe=>qe.name),Se=L(Oe);let Fe=Ae.hasAny,$e=Ae.name;const Re=Se.map(function(qe){const ze=m(qe.from);return Fe=ze.isAny||Fe,$e+="|"+qe.from,{name:qe.from,typeIndex:ze.index,test:ze.test,isAny:ze.isAny,conversion:qe,conversionIndex:qe.index}});return{types:Ae.types.concat(Re),name:$e,hasAny:Fe,hasConversion:Re.length>0,restParam:Ae.restParam}}function E(Ae){return Ae.typeSet||(Ae.typeSet=new Set,Ae.types.forEach(Oe=>Ae.typeSet.add(Oe.name))),Ae.typeSet}function N(Ae){const Oe=[];if(typeof Ae!="string")throw new TypeError("Signatures must be strings");const Se=Ae.trim();if(Se==="")return Oe;const Fe=Se.split(",");for(let $e=0;$e<Fe.length;++$e){const Re=y(Fe[$e].trim());if(Re.restParam&&$e!==Fe.length-1)throw new SyntaxError('Unexpected rest parameter "'+Fe[$e]+'": only allowed for the last parameter');if(Re.types.length===0)return null;Oe.push(Re)}return Oe}function T(Ae){const Oe=ue(Ae);return Oe?Oe.restParam:!1}function O(Ae){if(!Ae||Ae.types.length===0)return ok;if(Ae.types.length===1)return m(Ae.types[0].name).test;if(Ae.types.length===2){const Oe=m(Ae.types[0].name).test,Se=m(Ae.types[1].name).test;return function($e){return Oe($e)||Se($e)}}else{const Oe=Ae.types.map(function(Se){return m(Se.name).test});return function(Fe){for(let $e=0;$e<Oe.length;$e++)if(Oe[$e](Fe))return!0;return!1}}}function j(Ae){let Oe,Se,Fe;if(T(Ae)){Oe=oe(Ae).map(O);const $e=Oe.length,Re=O(ue(Ae)),qe=function(ze){for(let we=$e;we<ze.length;we++)if(!Re(ze[we]))return!1;return!0};return function(we){for(let Ee=0;Ee<Oe.length;Ee++)if(!Oe[Ee](we[Ee]))return!1;return qe(we)&&we.length>=$e+1}}else return Ae.length===0?function(Re){return Re.length===0}:Ae.length===1?(Se=O(Ae[0]),function(Re){return Se(Re[0])&&Re.length===1}):Ae.length===2?(Se=O(Ae[0]),Fe=O(Ae[1]),function(Re){return Se(Re[0])&&Fe(Re[1])&&Re.length===2}):(Oe=Ae.map(O),function(Re){for(let qe=0;qe<Oe.length;qe++)if(!Oe[qe](Re[qe]))return!1;return Re.length===Oe.length})}function M(Ae,Oe){return Oe<Ae.length?Ae[Oe]:T(Ae)?ue(Ae):null}function F(Ae,Oe){const Se=M(Ae,Oe);return Se?E(Se):new Set}function B(Ae){return Ae.conversion===null||Ae.conversion===void 0}function I(Ae,Oe){const Se=new Set;return Ae.forEach(Fe=>{const $e=F(Fe.params,Oe);let Re;for(Re of $e)Se.add(Re)}),Se.has("any")?["any"]:Array.from(Se)}function G(Ae,Oe,Se){let Fe,$e;const Re=Ae||"unnamed";let qe=Se,ze;for(ze=0;ze<Oe.length;ze++){const me=[];if(qe.forEach(Ge=>{const Xe=M(Ge.params,ze),rt=O(Xe);(ze<Ge.params.length||T(Ge.params))&&rt(Oe[ze])&&me.push(Ge)}),me.length===0){if($e=I(qe,ze),$e.length>0){const Ge=D(Oe[ze]);return Fe=new TypeError("Unexpected type of argument in function "+Re+" (expected: "+$e.join(" or ")+", actual: "+Ge.join(" | ")+", index: "+ze+")"),Fe.data={category:"wrongType",fn:Re,index:ze,actual:Ge,expected:$e},Fe}}else qe=me}const we=qe.map(function(me){return T(me.params)?1/0:me.params.length});if(Oe.length<Math.min.apply(null,we))return $e=I(qe,ze),Fe=new TypeError("Too few arguments in function "+Re+" (expected: "+$e.join(" or ")+", index: "+Oe.length+")"),Fe.data={category:"tooFewArgs",fn:Re,index:Oe.length,expected:$e},Fe;const Ee=Math.max.apply(null,we);if(Oe.length>Ee)return Fe=new TypeError("Too many arguments in function "+Re+" (expected: "+Ee+", actual: "+Oe.length+")"),Fe.data={category:"tooManyArgs",fn:Re,index:Oe.length,expectedLength:Ee},Fe;const Me=[];for(let me=0;me<Oe.length;++me)Me.push(D(Oe[me]).join("|"));return Fe=new TypeError('Arguments of type "'+Me.join(", ")+'" do not match any of the defined signatures of function '+Re+"."),Fe.data={category:"mismatch",actual:Me},Fe}function k(Ae){let Oe=r.length+1;for(let Se=0;Se<Ae.types.length;Se++)B(Ae.types[Se])&&(Oe=Math.min(Oe,Ae.types[Se].typeIndex));return Oe}function V(Ae){let Oe=g+1;for(let Se=0;Se<Ae.types.length;Se++)B(Ae.types[Se])||(Oe=Math.min(Oe,Ae.types[Se].conversionIndex));return Oe}function R(Ae,Oe){if(Ae.hasAny){if(!Oe.hasAny)return 1}else if(Oe.hasAny)return-1;if(Ae.restParam){if(!Oe.restParam)return 1}else if(Oe.restParam)return-1;if(Ae.hasConversion){if(!Oe.hasConversion)return 1}else if(Oe.hasConversion)return-1;const Se=k(Ae)-k(Oe);if(Se<0)return-1;if(Se>0)return 1;const Fe=V(Ae)-V(Oe);return Fe<0?-1:Fe>0?1:0}function U(Ae,Oe){const Se=Ae.params,Fe=Oe.params,$e=ue(Se),Re=ue(Fe),qe=T(Se),ze=T(Fe);if(qe&&$e.hasAny){if(!ze||!Re.hasAny)return 1}else if(ze&&Re.hasAny)return-1;let we=0,Ee=0,Me;for(Me of Se)Me.hasAny&&++we,Me.hasConversion&&++Ee;let me=0,Ge=0;for(Me of Fe)Me.hasAny&&++me,Me.hasConversion&&++Ge;if(we!==me)return we-me;if(qe&&$e.hasConversion){if(!ze||!Re.hasConversion)return 1}else if(ze&&Re.hasConversion)return-1;if(Ee!==Ge)return Ee-Ge;if(qe){if(!ze)return 1}else if(ze)return-1;const Xe=(Se.length-Fe.length)*(qe?-1:1);if(Xe!==0)return Xe;const rt=[];let ut=0;for(let pt=0;pt<Se.length;++pt){const ot=R(Se[pt],Fe[pt]);rt.push(ot),ut+=ot}if(ut!==0)return ut;let ft;for(ft of rt)if(ft!==0)return ft;return 0}function L(Ae){if(Ae.length===0)return[];const Oe=Ae.map(m);Ae.length>1&&Oe.sort(($e,Re)=>$e.index-Re.index);let Se=Oe[0].conversionsTo;if(Ae.length===1)return Se;Se=Se.concat([]);const Fe=new Set(Ae);for(let $e=1;$e<Oe.length;++$e){let Re;for(Re of Oe[$e].conversionsTo)Fe.has(Re.from)||(Se.push(Re),Fe.add(Re.from))}return Se}function H(Ae,Oe){let Se=Oe;if(Ae.some($e=>$e.hasConversion)){const $e=T(Ae),Re=Ae.map(X);Se=function(){const ze=[],we=$e?arguments.length-1:arguments.length;for(let Ee=0;Ee<we;Ee++)ze[Ee]=Re[Ee](arguments[Ee]);return $e&&(ze[we]=arguments[we].map(Re[we])),Oe.apply(this,ze)}}let Fe=Se;if(T(Ae)){const $e=Ae.length-1;Fe=function(){return Se.apply(this,Ce(arguments,0,$e).concat([Ce(arguments,$e)]))}}return Fe}function X(Ae){let Oe,Se,Fe,$e;const Re=[],qe=[];switch(Ae.types.forEach(function(ze){ze.conversion&&(Re.push(m(ze.conversion.from).test),qe.push(ze.conversion.convert))}),qe.length){case 0:return function(we){return we};case 1:return Oe=Re[0],Fe=qe[0],function(we){return Oe(we)?Fe(we):we};case 2:return Oe=Re[0],Se=Re[1],Fe=qe[0],$e=qe[1],function(we){return Oe(we)?Fe(we):Se(we)?$e(we):we};default:return function(we){for(let Ee=0;Ee<qe.length;Ee++)if(Re[Ee](we))return qe[Ee](we);return we}}}function Z(Ae){function Oe(Se,Fe,$e){if(Fe<Se.length){const Re=Se[Fe];let qe=[];if(Re.restParam){const ze=Re.types.filter(B);ze.length<Re.types.length&&qe.push({types:ze,name:"..."+ze.map(we=>we.name).join("|"),hasAny:ze.some(we=>we.isAny),hasConversion:!1,restParam:!0}),qe.push(Re)}else qe=Re.types.map(function(ze){return{types:[ze],name:ze.name,hasAny:ze.isAny,hasConversion:ze.conversion,restParam:!1}});return ye(qe,function(ze){return Oe(Se,Fe+1,$e.concat([ze]))})}else return[$e]}return Oe(Ae,0,[])}function J(Ae,Oe){const Se=Math.max(Ae.length,Oe.length);for(let ze=0;ze<Se;ze++){const we=F(Ae,ze),Ee=F(Oe,ze);let Me=!1,me;for(me of Ee)if(we.has(me)){Me=!0;break}if(!Me)return!1}const Fe=Ae.length,$e=Oe.length,Re=T(Ae),qe=T(Oe);return Re?qe?Fe===$e:$e>=Fe:qe?Fe>=$e:Fe===$e}function K(Ae){return Ae.map(Oe=>he(Oe)?be(Oe.referToSelf.callback):Ne(Oe)?pe(Oe.referTo.references,Oe.referTo.callback):Oe)}function $(Ae,Oe,Se){const Fe=[];let $e;for($e of Ae){let Re=Se[$e];if(typeof Re!="number")throw new TypeError('No definition for referenced signature "'+$e+'"');if(Re=Oe[Re],typeof Re!="function")return!1;Fe.push(Re)}return Fe}function W(Ae,Oe,Se){const Fe=K(Ae),$e=new Array(Fe.length).fill(!1);let Re=!0;for(;Re;){Re=!1;let qe=!0;for(let ze=0;ze<Fe.length;++ze){if($e[ze])continue;const we=Fe[ze];if(he(we))Fe[ze]=we.referToSelf.callback(Se),Fe[ze].referToSelf=we.referToSelf,$e[ze]=!0,qe=!1;else if(Ne(we)){const Ee=$(we.referTo.references,Fe,Oe);Ee?(Fe[ze]=we.referTo.callback.apply(this,Ee),Fe[ze].referTo=we.referTo,$e[ze]=!0,qe=!1):Re=!0}}if(qe&&Re)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Fe}function Y(Ae){const Oe=/\bthis(\(|\.signatures\b)/;Object.keys(Ae).forEach(Se=>{const Fe=Ae[Se];if(Oe.test(Fe.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function te(Ae,Oe){if(f.createCount++,Object.keys(Oe).length===0)throw new SyntaxError("No signatures provided");f.warnAgainstDeprecatedThis&&Y(Oe);const Se=[],Fe=[],$e={},Re=[];let qe;for(qe in Oe){if(!Object.prototype.hasOwnProperty.call(Oe,qe))continue;const Qe=N(qe);if(!Qe)continue;Se.forEach(function(at){if(J(at,Qe))throw new TypeError('Conflicting signatures "'+b(at)+'" and "'+b(Qe)+'".')}),Se.push(Qe);const et=Fe.length;Fe.push(Oe[qe]);const ct=Qe.map(A);let st;for(st of Z(ct)){const at=b(st);Re.push({params:st,name:at,fn:et}),st.every(St=>!St.hasConversion)&&($e[at]=et)}}Re.sort(U);const ze=W(Fe,$e,ke);let we;for(we in $e)Object.prototype.hasOwnProperty.call($e,we)&&($e[we]=ze[$e[we]]);const Ee=[],Me=new Map;for(we of Re)Me.has(we.name)||(we.fn=ze[we.fn],Ee.push(we),Me.set(we.name,we));const me=Ee[0]&&Ee[0].params.length<=2&&!T(Ee[0].params),Ge=Ee[1]&&Ee[1].params.length<=2&&!T(Ee[1].params),Xe=Ee[2]&&Ee[2].params.length<=2&&!T(Ee[2].params),rt=Ee[3]&&Ee[3].params.length<=2&&!T(Ee[3].params),ut=Ee[4]&&Ee[4].params.length<=2&&!T(Ee[4].params),ft=Ee[5]&&Ee[5].params.length<=2&&!T(Ee[5].params),pt=me&&Ge&&Xe&&rt&&ut&&ft;for(let Qe=0;Qe<Ee.length;++Qe)Ee[Qe].test=j(Ee[Qe].params);const ot=me?O(Ee[0].params[0]):notOk,bt=Ge?O(Ee[1].params[0]):notOk,At=Xe?O(Ee[2].params[0]):notOk,Ke=rt?O(Ee[3].params[0]):notOk,dt=ut?O(Ee[4].params[0]):notOk,vt=ft?O(Ee[5].params[0]):notOk,wt=me?O(Ee[0].params[1]):notOk,Nt=Ge?O(Ee[1].params[1]):notOk,Ot=Xe?O(Ee[2].params[1]):notOk,Tt=rt?O(Ee[3].params[1]):notOk,It=ut?O(Ee[4].params[1]):notOk,Pt=ft?O(Ee[5].params[1]):notOk;for(let Qe=0;Qe<Ee.length;++Qe)Ee[Qe].implementation=H(Ee[Qe].params,Ee[Qe].fn);const Rt=me?Ee[0].implementation:undef,Ft=Ge?Ee[1].implementation:undef,Bt=Xe?Ee[2].implementation:undef,Ut=rt?Ee[3].implementation:undef,Xt=ut?Ee[4].implementation:undef,Zt=ft?Ee[5].implementation:undef,Yt=me?Ee[0].params.length:-1,rn=Ge?Ee[1].params.length:-1,Gt=Xe?Ee[2].params.length:-1,sn=rt?Ee[3].params.length:-1,Je=ut?Ee[4].params.length:-1,Ct=ft?Ee[5].params.length:-1,_e=pt?6:0,je=Ee.length,Ue=Ee.map(Qe=>Qe.test),Be=Ee.map(Qe=>Qe.implementation),He=function(){for(let et=_e;et<je;et++)if(Ue[et](arguments))return Be[et].apply(this,arguments);return f.onMismatch(Ae,arguments,Ee)};function ke(Qe,et){return arguments.length===Yt&&ot(Qe)&&wt(et)?Rt.apply(this,arguments):arguments.length===rn&&bt(Qe)&&Nt(et)?Ft.apply(this,arguments):arguments.length===Gt&&At(Qe)&&Ot(et)?Bt.apply(this,arguments):arguments.length===sn&&Ke(Qe)&&Tt(et)?Ut.apply(this,arguments):arguments.length===Je&&dt(Qe)&&It(et)?Xt.apply(this,arguments):arguments.length===Ct&&vt(Qe)&&Pt(et)?Zt.apply(this,arguments):He.apply(this,arguments)}try{Object.defineProperty(ke,"name",{value:Ae})}catch{}return ke.signatures=$e,ke._typedFunctionData={signatures:Ee,signatureMap:Me},ke}function ce(Ae,Oe,Se){throw G(Ae,Oe,Se)}function oe(Ae){return Ce(Ae,0,Ae.length-1)}function ue(Ae){return Ae[Ae.length-1]}function Ce(Ae,Oe,Se){return Array.prototype.slice.call(Ae,Oe,Se)}function le(Ae,Oe){for(let Se=0;Se<Ae.length;Se++)if(Oe(Ae[Se]))return Ae[Se]}function ye(Ae,Oe){return Array.prototype.concat.apply([],Ae.map(Oe))}function ve(){const Ae=oe(arguments).map(Se=>b(N(Se))),Oe=ue(arguments);if(typeof Oe!="function")throw new TypeError("Callback function expected as last argument");return pe(Ae,Oe)}function pe(Ae,Oe){return{referTo:{references:Ae,callback:Oe}}}function be(Ae){if(typeof Ae!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:Ae}}}function Ne(Ae){return Ae&&typeof Ae.referTo=="object"&&Array.isArray(Ae.referTo.references)&&typeof Ae.referTo.callback=="function"}function he(Ae){return Ae&&typeof Ae.referToSelf=="object"&&typeof Ae.referToSelf.callback=="function"}function ne(Ae,Oe){if(!Ae)return Oe;if(Oe&&Oe!==Ae){const Se=new Error("Function names do not match (expected: "+Ae+", actual: "+Oe+")");throw Se.data={actual:Oe,expected:Ae},Se}return Ae}function re(Ae){let Oe;for(const Se in Ae)Object.prototype.hasOwnProperty.call(Ae,Se)&&(h(Ae[Se])||typeof Ae[Se].signature=="string")&&(Oe=ne(Oe,Ae[Se].name));return Oe}function de(Ae,Oe){let Se;for(Se in Oe)if(Object.prototype.hasOwnProperty.call(Oe,Se)){if(Se in Ae&&Oe[Se]!==Ae[Se]){const Fe=new Error('Signature "'+Se+'" is defined twice');throw Fe.data={signature:Se,sourceFunction:Oe[Se],destFunction:Ae[Se]},Fe}Ae[Se]=Oe[Se]}}const xe=f;f=function(Ae){const Oe=typeof Ae=="string",Se=Oe?1:0;let Fe=Oe?Ae:"";const $e={};for(let Re=Se;Re<arguments.length;++Re){const qe=arguments[Re];let ze={},we;if(typeof qe=="function"?(we=qe.name,typeof qe.signature=="string"?ze[qe.signature]=qe:h(qe)&&(ze=qe.signatures)):C(qe)&&(ze=qe,Oe||(we=re(qe))),Object.keys(ze).length===0){const Ee=new TypeError("Argument to 'typed' at index "+Re+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Ee.data={index:Re,argument:qe},Ee}Oe||(Fe=ne(Fe,we)),de($e,ze)}return te(Fe||"",$e)},f.create=create,f.createCount=xe.createCount,f.onMismatch=ce,f.throwMismatchError=ce,f.createError=G,f.clear=x,f.clearConversions=S,f.addTypes=l,f._findType=m,f.referTo=ve,f.referToSelf=be,f.convert=p,f.findSignature=_,f.find=o,f.isTypedFunction=h,f.warnAgainstDeprecatedThis=!0,f.addType=function(Ae,Oe){let Se="any";Oe!==!1&&a.has("Object")&&(Se="Object"),f.addTypes([Ae],Se)};function Pe(Ae){if(!Ae||typeof Ae.from!="string"||typeof Ae.to!="string"||typeof Ae.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(Ae.to===Ae.from)throw new SyntaxError('Illegal to define conversion from "'+Ae.from+'" to itself.')}return f.addConversion=function(Ae){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Pe(Ae);const Se=m(Ae.to),Fe=Se.conversionsTo.find($e=>$e.from===Ae.from);if(Fe)if(Oe&&Oe.override)f.removeConversion({from:Fe.from,to:Ae.to,convert:Fe.convert});else throw new Error('There is already a conversion from "'+Ae.from+'" to "'+Se.name+'"');Se.conversionsTo.push({from:Ae.from,convert:Ae.convert,index:g++})},f.addConversions=function(Ae,Oe){Ae.forEach(Se=>f.addConversion(Se,Oe))},f.removeConversion=function(Ae){Pe(Ae);const Oe=m(Ae.to),Se=le(Oe.conversionsTo,$e=>$e.from===Ae.from);if(!Se)throw new Error("Attempt to remove nonexistent conversion from "+Ae.from+" to "+Ae.to);if(Se.convert!==Ae.convert)throw new Error("Conversion to remove does not match existing conversion");const Fe=Oe.conversionsTo.indexOf(Se);Oe.conversionsTo.splice(Fe,1)},f.resolve=function(Ae,Oe){if(!h(Ae))throw new TypeError(NOT_TYPED_FUNCTION);const Se=Ae._typedFunctionData.signatures;for(let Fe=0;Fe<Se.length;++Fe)if(Se[Fe].test(Oe))return Se[Fe];return null},f}const typedFunction=create();function isInteger(C){return typeof C=="boolean"?!0:isFinite(C)?C===Math.round(C):!1}function formatNumberToBase(C,u,n){var a={2:"0b",8:"0o",16:"0x"},r=a[u],g="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!isInteger(n))throw new Error("size must be an integer");if(C>2**(n-1)-1||C<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!isInteger(C))throw new Error("Value must be an integer");C<0&&(C=C+2**n),g="i".concat(n)}var f="";return C<0&&(C=-C,f="-"),"".concat(f).concat(r).concat(C.toString(u)).concat(g)}function format$2(C,u){if(typeof u=="function")return u(C);if(C===1/0)return"Infinity";if(C===-1/0)return"-Infinity";if(isNaN(C))return"NaN";var{notation:n,precision:a,wordSize:r}=normalizeFormatOptions(u);switch(n){case"fixed":return toFixed$1(C,a);case"exponential":return toExponential$1(C,a);case"engineering":return toEngineering$1(C,a);case"bin":return formatNumberToBase(C,2,r);case"oct":return formatNumberToBase(C,8,r);case"hex":return formatNumberToBase(C,16,r);case"auto":return toPrecision(C,a,u).replace(/((\.\d*?)(0+))($|e)/,function(){var g=arguments[2],f=arguments[4];return g!=="."?g+f:f});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function normalizeFormatOptions(C){var u="auto",n,a;if(C!==void 0)if(isNumber(C))n=C;else if(isBigNumber(C))n=C.toNumber();else if(isObject(C))C.precision!==void 0&&(n=_toNumberOrThrow(C.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),C.wordSize!==void 0&&(a=_toNumberOrThrow(C.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),C.notation&&(u=C.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:u,precision:n,wordSize:a}}function splitNumber(C){var u=String(C).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!u)throw new SyntaxError("Invalid number "+C);var n=u[1],a=u[2],r=parseFloat(u[4]||"0"),g=a.indexOf(".");r+=g!==-1?g-1:a.length-1;var f=a.replace(".","").replace(/^0*/,function(m){return r-=m.length,""}).replace(/0*$/,"").split("").map(function(m){return parseInt(m)});return f.length===0&&(f.push(0),r++),{sign:n,coefficients:f,exponent:r}}function toEngineering$1(C,u){if(isNaN(C)||!isFinite(C))return String(C);var n=splitNumber(C),a=roundDigits(n,u),r=a.exponent,g=a.coefficients,f=r%3===0?r:r<0?r-3-r%3:r-r%3;if(isNumber(u))for(;u>g.length||r-f+1>g.length;)g.push(0);else for(var m=Math.abs(r-f)-(g.length-1),l=0;l<m;l++)g.push(0);for(var x=Math.abs(r-f),S=1;x>0;)S++,x--;var D=g.slice(S).join(""),h=isNumber(u)&&D.length||D.match(/[1-9]/)?"."+D:"",_=g.slice(0,S).join("")+h+"e"+(r>=0?"+":"")+f.toString();return a.sign+_}function toFixed$1(C,u){if(isNaN(C)||!isFinite(C))return String(C);var n=splitNumber(C),a=typeof u=="number"?roundDigits(n,n.exponent+1+u):n,r=a.coefficients,g=a.exponent+1,f=g+(u||0);return r.length<f&&(r=r.concat(zeros$1(f-r.length))),g<0&&(r=zeros$1(-g+1).concat(r),g=1),g<r.length&&r.splice(g,0,g===0?"0.":"."),a.sign+r.join("")}function toExponential$1(C,u){if(isNaN(C)||!isFinite(C))return String(C);var n=splitNumber(C),a=u?roundDigits(n,u):n,r=a.coefficients,g=a.exponent;r.length<u&&(r=r.concat(zeros$1(u-r.length)));var f=r.shift();return a.sign+f+(r.length>0?"."+r.join(""):"")+"e"+(g>=0?"+":"")+g}function toPrecision(C,u,n){if(isNaN(C)||!isFinite(C))return String(C);var a=_toNumberOrDefault$1(n==null?void 0:n.lowerExp,-3),r=_toNumberOrDefault$1(n==null?void 0:n.upperExp,5),g=splitNumber(C),f=u?roundDigits(g,u):g;if(f.exponent<a||f.exponent>=r)return toExponential$1(C,u);var m=f.coefficients,l=f.exponent;m.length<u&&(m=m.concat(zeros$1(u-m.length))),m=m.concat(zeros$1(l-m.length+1+(m.length<u?u-m.length:0))),m=zeros$1(-l).concat(m);var x=l>0?l:0;return x<m.length-1&&m.splice(x+1,0,"."),f.sign+m.join("")}function roundDigits(C,u){for(var n={sign:C.sign,coefficients:C.coefficients,exponent:C.exponent},a=n.coefficients;u<=0;)a.unshift(0),n.exponent++,u++;if(a.length>u){var r=a.splice(u,a.length-u);if(r[0]>=5){var g=u-1;for(a[g]++;a[g]===10;)a.pop(),g===0&&(a.unshift(0),n.exponent++,g++),g--,a[g]++}}return n}function zeros$1(C){for(var u=[],n=0;n<C;n++)u.push(0);return u}function digits(C){return C.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var DBL_EPSILON=Number.EPSILON||2220446049250313e-31;function nearlyEqual$1(C,u,n){if(n==null)return C===u;if(C===u)return!0;if(isNaN(C)||isNaN(u))return!1;if(isFinite(C)&&isFinite(u)){var a=Math.abs(C-u);return a<=DBL_EPSILON?!0:a<=Math.max(Math.abs(C),Math.abs(u))*n}return!1}function _toNumberOrThrow(C,u){if(isNumber(C))return C;if(isBigNumber(C))return C.toNumber();u()}function _toNumberOrDefault$1(C,u){return isNumber(C)?C:isBigNumber(C)?C.toNumber():u}function factory(C,u,n,a){function r(g){var f=pickShallow(g,u.map(stripOptionalNotation));return assertDependencies(C,u,g),n(f)}return r.isFactory=!0,r.fn=C,r.dependencies=u.slice().sort(),a&&(r.meta=a),r}function assertDependencies(C,u,n){var a=u.filter(g=>!isOptionalDependency(g)).every(g=>n[g]!==void 0);if(!a){var r=u.filter(g=>n[g]===void 0);throw new Error('Cannot create function "'.concat(C,'", ')+"some dependencies are missing: ".concat(r.map(g=>'"'.concat(g,'"')).join(", "),"."))}}function isOptionalDependency(C){return C&&C[0]==="?"}function stripOptionalNotation(C){return C&&C[0]==="?"?C.slice(1):C}function getSafeProperty(C,u){if(isPlainObject(C)&&isSafeProperty(C,u))return C[u];throw typeof C[u]=="function"&&isSafeMethod(C,u)?new Error('Cannot access method "'+u+'" as a property'):new Error('No access to property "'+u+'"')}function setSafeProperty(C,u,n){if(isPlainObject(C)&&isSafeProperty(C,u))return C[u]=n,n;throw new Error('No access to property "'+u+'"')}function hasSafeProperty(C,u){return u in C}function isSafeProperty(C,u){return!C||typeof C!="object"?!1:hasOwnProperty(safeNativeProperties,u)?!0:!(u in Object.prototype||u in Function.prototype)}function isSafeMethod(C,u){return C==null||typeof C[u]!="function"||hasOwnProperty(C,u)&&Object.getPrototypeOf&&u in Object.getPrototypeOf(C)?!1:hasOwnProperty(safeNativeMethods,u)?!0:!(u in Object.prototype||u in Function.prototype)}function isPlainObject(C){return typeof C=="object"&&C&&C.constructor===Object}var safeNativeProperties={length:!0,name:!0},safeNativeMethods={toString:!0,valueOf:!0,toLocaleString:!0};class ObjectWrappingMap{constructor(u){this.wrappedObject=u,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(u){return getSafeProperty(this.wrappedObject,u)}set(u,n){return setSafeProperty(this.wrappedObject,u,n),this}has(u){return hasSafeProperty(this.wrappedObject,u)}entries(){return mapIterator(this.keys(),u=>[u,this.get(u)])}forEach(u){for(var n of this.keys())u(this.get(n),n,this)}delete(u){delete this.wrappedObject[u]}clear(){for(var u of this.keys())this.delete(u)}get size(){return Object.keys(this.wrappedObject).length}}function mapIterator(C,u){return{next:()=>{var n=C.next();return n.done?n:{value:u(n.value),done:!1}}}}function isMap(C){return C?C instanceof Map||C instanceof ObjectWrappingMap||typeof C.set=="function"&&typeof C.get=="function"&&typeof C.keys=="function"&&typeof C.has=="function":!1}var _createTyped2=function(){return _createTyped2=typedFunction.create,typedFunction},dependencies$x=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],createTyped=factory("typed",dependencies$x,function(u){var{BigNumber:n,Complex:a,DenseMatrix:r,Fraction:g}=u,f=_createTyped2();return f.clear(),f.addTypes([{name:"number",test:isNumber},{name:"Complex",test:isComplex},{name:"BigNumber",test:isBigNumber},{name:"Fraction",test:isFraction},{name:"Unit",test:isUnit},{name:"identifier",test:m=>isString&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(m)},{name:"string",test:isString},{name:"Chain",test:isChain},{name:"Array",test:isArray},{name:"Matrix",test:isMatrix},{name:"DenseMatrix",test:isDenseMatrix},{name:"SparseMatrix",test:isSparseMatrix},{name:"Range",test:isRange},{name:"Index",test:isIndex},{name:"boolean",test:isBoolean},{name:"ResultSet",test:isResultSet},{name:"Help",test:isHelp},{name:"function",test:isFunction},{name:"Date",test:isDate},{name:"RegExp",test:isRegExp},{name:"null",test:isNull},{name:"undefined",test:isUndefined},{name:"AccessorNode",test:isAccessorNode},{name:"ArrayNode",test:isArrayNode},{name:"AssignmentNode",test:isAssignmentNode},{name:"BlockNode",test:isBlockNode},{name:"ConditionalNode",test:isConditionalNode},{name:"ConstantNode",test:isConstantNode},{name:"FunctionNode",test:isFunctionNode},{name:"FunctionAssignmentNode",test:isFunctionAssignmentNode},{name:"IndexNode",test:isIndexNode},{name:"Node",test:isNode},{name:"ObjectNode",test:isObjectNode},{name:"OperatorNode",test:isOperatorNode},{name:"ParenthesisNode",test:isParenthesisNode},{name:"RangeNode",test:isRangeNode},{name:"RelationalNode",test:isRelationalNode},{name:"SymbolNode",test:isSymbolNode},{name:"Map",test:isMap},{name:"Object",test:isObject}]),f.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(n||throwNoBignumber(l),digits(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new n(l)}},{from:"number",to:"Complex",convert:function(l){return a||throwNoComplex(l),new a(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return a||throwNoComplex(l),new a(l.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return a||throwNoComplex(l),new a(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){g||throwNoFraction(l);var x=new g(l);if(x.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return x}},{from:"string",to:"number",convert:function(l){var x=Number(l);if(isNaN(x))throw new Error('Cannot convert "'+l+'" to a number');return x}},{from:"string",to:"BigNumber",convert:function(l){n||throwNoBignumber(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(l){g||throwNoFraction(l);try{return new g(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){a||throwNoComplex(l);try{return new a(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return n||throwNoBignumber(l),new n(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return g||throwNoFraction(l),new g(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return r||throwNoMatrix(),new r(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),f.onMismatch=(m,l,x)=>{var S=f.createError(m,l,x);if(["wrongType","mismatch"].includes(S.data.category)&&l.length===1&&isCollection(l[0])&&x.some(h=>!h.params.includes(","))){var D=new TypeError("Function '".concat(m,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(m,")'."));throw D.data=S.data,D}throw S},f.onMismatch=(m,l,x)=>{var S=f.createError(m,l,x);if(["wrongType","mismatch"].includes(S.data.category)&&l.length===1&&isCollection(l[0])&&x.some(h=>!h.params.includes(","))){var D=new TypeError("Function '".concat(m,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(m,")'."));throw D.data=S.data,D}throw S},f});function throwNoBignumber(C){throw new Error("Cannot convert value ".concat(C," into a BigNumber: no class 'BigNumber' provided"))}function throwNoComplex(C){throw new Error("Cannot convert value ".concat(C," into a Complex number: no class 'Complex' provided"))}function throwNoMatrix(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function throwNoFraction(C){throw new Error("Cannot convert value ".concat(C," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT,maxE:EXP_LIMIT,crypto:!1},inexact,quadrant,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",tag="[object Decimal]",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P$1={toStringTag:tag};P$1.absoluteValue=P$1.abs=function(){var C=new this.constructor(this);return C.s<0&&(C.s=1),finalise(C)};P$1.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)};P$1.clampedTo=P$1.clamp=function(C,u){var n,a=this,r=a.constructor;if(C=new r(C),u=new r(u),!C.s||!u.s)return new r(NaN);if(C.gt(u))throw Error(invalidArgument+u);return n=a.cmp(C),n<0?C:a.cmp(u)>0?u:new r(a)};P$1.comparedTo=P$1.cmp=function(C){var u,n,a,r,g=this,f=g.d,m=(C=new g.constructor(C)).d,l=g.s,x=C.s;if(!f||!m)return!l||!x?NaN:l!==x?l:f===m?0:!f^l<0?1:-1;if(!f[0]||!m[0])return f[0]?l:m[0]?-x:0;if(l!==x)return l;if(g.e!==C.e)return g.e>C.e^l<0?1:-1;for(a=f.length,r=m.length,u=0,n=a<r?a:r;u<n;++u)if(f[u]!==m[u])return f[u]>m[u]^l<0?1:-1;return a===r?0:a>r^l<0?1:-1};P$1.cosine=P$1.cos=function(){var C,u,n=this,a=n.constructor;return n.d?n.d[0]?(C=a.precision,u=a.rounding,a.precision=C+Math.max(n.e,n.sd())+LOG_BASE,a.rounding=1,n=cosine(a,toLessThanHalfPi(a,n)),a.precision=C,a.rounding=u,finalise(quadrant==2||quadrant==3?n.neg():n,C,u,!0)):new a(1):new a(NaN)};P$1.cubeRoot=P$1.cbrt=function(){var C,u,n,a,r,g,f,m,l,x,S=this,D=S.constructor;if(!S.isFinite()||S.isZero())return new D(S);for(external=!1,g=S.s*mathpow(S.s*S,1/3),!g||Math.abs(g)==1/0?(n=digitsToString(S.d),C=S.e,(g=(C-n.length+1)%3)&&(n+=g==1||g==-2?"0":"00"),g=mathpow(n,1/3),C=mathfloor((C+1)/3)-(C%3==(C<0?-1:2)),g==1/0?n="5e"+C:(n=g.toExponential(),n=n.slice(0,n.indexOf("e")+1)+C),a=new D(n),a.s=S.s):a=new D(g.toString()),f=(C=D.precision)+3;;)if(m=a,l=m.times(m).times(m),x=l.plus(S),a=divide(x.plus(S).times(m),x.plus(l),f+2,1),digitsToString(m.d).slice(0,f)===(n=digitsToString(a.d)).slice(0,f))if(n=n.slice(f-3,f+1),n=="9999"||!r&&n=="4999"){if(!r&&(finalise(m,C+1,0),m.times(m).times(m).eq(S))){a=m;break}f+=4,r=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(finalise(a,C+1,1),u=!a.times(a).times(a).eq(S));break}return external=!0,finalise(a,C,D.rounding,u)};P$1.decimalPlaces=P$1.dp=function(){var C,u=this.d,n=NaN;if(u){if(C=u.length-1,n=(C-mathfloor(this.e/LOG_BASE))*LOG_BASE,C=u[C],C)for(;C%10==0;C/=10)n--;n<0&&(n=0)}return n};P$1.dividedBy=P$1.div=function(C){return divide(this,new this.constructor(C))};P$1.dividedToIntegerBy=P$1.divToInt=function(C){var u=this,n=u.constructor;return finalise(divide(u,new n(C),0,1,1),n.precision,n.rounding)};P$1.equals=P$1.eq=function(C){return this.cmp(C)===0};P$1.floor=function(){return finalise(new this.constructor(this),this.e+1,3)};P$1.greaterThan=P$1.gt=function(C){return this.cmp(C)>0};P$1.greaterThanOrEqualTo=P$1.gte=function(C){var u=this.cmp(C);return u==1||u===0};P$1.hyperbolicCosine=P$1.cosh=function(){var C,u,n,a,r,g=this,f=g.constructor,m=new f(1);if(!g.isFinite())return new f(g.s?1/0:NaN);if(g.isZero())return m;n=f.precision,a=f.rounding,f.precision=n+Math.max(g.e,g.sd())+4,f.rounding=1,r=g.d.length,r<32?(C=Math.ceil(r/3),u=(1/tinyPow(4,C)).toString()):(C=16,u="2.3283064365386962890625e-10"),g=taylorSeries(f,1,g.times(u),new f(1),!0);for(var l,x=C,S=new f(8);x--;)l=g.times(g),g=m.minus(l.times(S.minus(l.times(S))));return finalise(g,f.precision=n,f.rounding=a,!0)};P$1.hyperbolicSine=P$1.sinh=function(){var C,u,n,a,r=this,g=r.constructor;if(!r.isFinite()||r.isZero())return new g(r);if(u=g.precision,n=g.rounding,g.precision=u+Math.max(r.e,r.sd())+4,g.rounding=1,a=r.d.length,a<3)r=taylorSeries(g,2,r,r,!0);else{C=1.4*Math.sqrt(a),C=C>16?16:C|0,r=r.times(1/tinyPow(5,C)),r=taylorSeries(g,2,r,r,!0);for(var f,m=new g(5),l=new g(16),x=new g(20);C--;)f=r.times(r),r=r.times(m.plus(f.times(l.times(f).plus(x))))}return g.precision=u,g.rounding=n,finalise(r,u,n,!0)};P$1.hyperbolicTangent=P$1.tanh=function(){var C,u,n=this,a=n.constructor;return n.isFinite()?n.isZero()?new a(n):(C=a.precision,u=a.rounding,a.precision=C+7,a.rounding=1,divide(n.sinh(),n.cosh(),a.precision=C,a.rounding=u)):new a(n.s)};P$1.inverseCosine=P$1.acos=function(){var C=this,u=C.constructor,n=C.abs().cmp(1),a=u.precision,r=u.rounding;return n!==-1?n===0?C.isNeg()?getPi(u,a,r):new u(0):new u(NaN):C.isZero()?getPi(u,a+4,r).times(.5):(u.precision=a+6,u.rounding=1,C=new u(1).minus(C).div(C.plus(1)).sqrt().atan(),u.precision=a,u.rounding=r,C.times(2))};P$1.inverseHyperbolicCosine=P$1.acosh=function(){var C,u,n=this,a=n.constructor;return n.lte(1)?new a(n.eq(1)?0:NaN):n.isFinite()?(C=a.precision,u=a.rounding,a.precision=C+Math.max(Math.abs(n.e),n.sd())+4,a.rounding=1,external=!1,n=n.times(n).minus(1).sqrt().plus(n),external=!0,a.precision=C,a.rounding=u,n.ln()):new a(n)};P$1.inverseHyperbolicSine=P$1.asinh=function(){var C,u,n=this,a=n.constructor;return!n.isFinite()||n.isZero()?new a(n):(C=a.precision,u=a.rounding,a.precision=C+2*Math.max(Math.abs(n.e),n.sd())+6,a.rounding=1,external=!1,n=n.times(n).plus(1).sqrt().plus(n),external=!0,a.precision=C,a.rounding=u,n.ln())};P$1.inverseHyperbolicTangent=P$1.atanh=function(){var C,u,n,a,r=this,g=r.constructor;return r.isFinite()?r.e>=0?new g(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(C=g.precision,u=g.rounding,a=r.sd(),Math.max(a,C)<2*-r.e-1?finalise(new g(r),C,u,!0):(g.precision=n=a-r.e,r=divide(r.plus(1),new g(1).minus(r),n+C,1),g.precision=C+4,g.rounding=1,r=r.ln(),g.precision=C,g.rounding=u,r.times(.5))):new g(NaN)};P$1.inverseSine=P$1.asin=function(){var C,u,n,a,r=this,g=r.constructor;return r.isZero()?new g(r):(u=r.abs().cmp(1),n=g.precision,a=g.rounding,u!==-1?u===0?(C=getPi(g,n+4,a).times(.5),C.s=r.s,C):new g(NaN):(g.precision=n+6,g.rounding=1,r=r.div(new g(1).minus(r.times(r)).sqrt().plus(1)).atan(),g.precision=n,g.rounding=a,r.times(2)))};P$1.inverseTangent=P$1.atan=function(){var C,u,n,a,r,g,f,m,l,x=this,S=x.constructor,D=S.precision,h=S.rounding;if(x.isFinite()){if(x.isZero())return new S(x);if(x.abs().eq(1)&&D+4<=PI_PRECISION)return f=getPi(S,D+4,h).times(.25),f.s=x.s,f}else{if(!x.s)return new S(NaN);if(D+4<=PI_PRECISION)return f=getPi(S,D+4,h).times(.5),f.s=x.s,f}for(S.precision=m=D+10,S.rounding=1,n=Math.min(28,m/LOG_BASE+2|0),C=n;C;--C)x=x.div(x.times(x).plus(1).sqrt().plus(1));for(external=!1,u=Math.ceil(m/LOG_BASE),a=1,l=x.times(x),f=new S(x),r=x;C!==-1;)if(r=r.times(l),g=f.minus(r.div(a+=2)),r=r.times(l),f=g.plus(r.div(a+=2)),f.d[u]!==void 0)for(C=u;f.d[C]===g.d[C]&&C--;);return n&&(f=f.times(2<<n-1)),external=!0,finalise(f,S.precision=D,S.rounding=h,!0)};P$1.isFinite=function(){return!!this.d};P$1.isInteger=P$1.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2};P$1.isNaN=function(){return!this.s};P$1.isNegative=P$1.isNeg=function(){return this.s<0};P$1.isPositive=P$1.isPos=function(){return this.s>0};P$1.isZero=function(){return!!this.d&&this.d[0]===0};P$1.lessThan=P$1.lt=function(C){return this.cmp(C)<0};P$1.lessThanOrEqualTo=P$1.lte=function(C){return this.cmp(C)<1};P$1.logarithm=P$1.log=function(C){var u,n,a,r,g,f,m,l,x=this,S=x.constructor,D=S.precision,h=S.rounding,_=5;if(C==null)C=new S(10),u=!0;else{if(C=new S(C),n=C.d,C.s<0||!n||!n[0]||C.eq(1))return new S(NaN);u=C.eq(10)}if(n=x.d,x.s<0||!n||!n[0]||x.eq(1))return new S(n&&!n[0]?-1/0:x.s!=1?NaN:n?0:1/0);if(u)if(n.length>1)g=!0;else{for(r=n[0];r%10===0;)r/=10;g=r!==1}if(external=!1,m=D+_,f=naturalLogarithm(x,m),a=u?getLn10(S,m+10):naturalLogarithm(C,m),l=divide(f,a,m,1),checkRoundingDigits(l.d,r=D,h))do if(m+=10,f=naturalLogarithm(x,m),a=u?getLn10(S,m+10):naturalLogarithm(C,m),l=divide(f,a,m,1),!g){+digitsToString(l.d).slice(r+1,r+15)+1==1e14&&(l=finalise(l,D+1,0));break}while(checkRoundingDigits(l.d,r+=10,h));return external=!0,finalise(l,D,h)};P$1.minus=P$1.sub=function(C){var u,n,a,r,g,f,m,l,x,S,D,h,_=this,o=_.constructor;if(C=new o(C),!_.d||!C.d)return!_.s||!C.s?C=new o(NaN):_.d?C.s=-C.s:C=new o(C.d||_.s!==C.s?_:NaN),C;if(_.s!=C.s)return C.s=-C.s,_.plus(C);if(x=_.d,h=C.d,m=o.precision,l=o.rounding,!x[0]||!h[0]){if(h[0])C.s=-C.s;else if(x[0])C=new o(_);else return new o(l===3?-0:0);return external?finalise(C,m,l):C}if(n=mathfloor(C.e/LOG_BASE),S=mathfloor(_.e/LOG_BASE),x=x.slice(),g=S-n,g){for(D=g<0,D?(u=x,g=-g,f=h.length):(u=h,n=S,f=x.length),a=Math.max(Math.ceil(m/LOG_BASE),f)+2,g>a&&(g=a,u.length=1),u.reverse(),a=g;a--;)u.push(0);u.reverse()}else{for(a=x.length,f=h.length,D=a<f,D&&(f=a),a=0;a<f;a++)if(x[a]!=h[a]){D=x[a]<h[a];break}g=0}for(D&&(u=x,x=h,h=u,C.s=-C.s),f=x.length,a=h.length-f;a>0;--a)x[f++]=0;for(a=h.length;a>g;){if(x[--a]<h[a]){for(r=a;r&&x[--r]===0;)x[r]=BASE-1;--x[r],x[a]+=BASE}x[a]-=h[a]}for(;x[--f]===0;)x.pop();for(;x[0]===0;x.shift())--n;return x[0]?(C.d=x,C.e=getBase10Exponent(x,n),external?finalise(C,m,l):C):new o(l===3?-0:0)};P$1.modulo=P$1.mod=function(C){var u,n=this,a=n.constructor;return C=new a(C),!n.d||!C.s||C.d&&!C.d[0]?new a(NaN):!C.d||n.d&&!n.d[0]?finalise(new a(n),a.precision,a.rounding):(external=!1,a.modulo==9?(u=divide(n,C.abs(),0,3,1),u.s*=C.s):u=divide(n,C,0,a.modulo,1),u=u.times(C),external=!0,n.minus(u))};P$1.naturalExponential=P$1.exp=function(){return naturalExponential(this)};P$1.naturalLogarithm=P$1.ln=function(){return naturalLogarithm(this)};P$1.negated=P$1.neg=function(){var C=new this.constructor(this);return C.s=-C.s,finalise(C)};P$1.plus=P$1.add=function(C){var u,n,a,r,g,f,m,l,x,S,D=this,h=D.constructor;if(C=new h(C),!D.d||!C.d)return!D.s||!C.s?C=new h(NaN):D.d||(C=new h(C.d||D.s===C.s?D:NaN)),C;if(D.s!=C.s)return C.s=-C.s,D.minus(C);if(x=D.d,S=C.d,m=h.precision,l=h.rounding,!x[0]||!S[0])return S[0]||(C=new h(D)),external?finalise(C,m,l):C;if(g=mathfloor(D.e/LOG_BASE),a=mathfloor(C.e/LOG_BASE),x=x.slice(),r=g-a,r){for(r<0?(n=x,r=-r,f=S.length):(n=S,a=g,f=x.length),g=Math.ceil(m/LOG_BASE),f=g>f?g+1:f+1,r>f&&(r=f,n.length=1),n.reverse();r--;)n.push(0);n.reverse()}for(f=x.length,r=S.length,f-r<0&&(r=f,n=S,S=x,x=n),u=0;r;)u=(x[--r]=x[r]+S[r]+u)/BASE|0,x[r]%=BASE;for(u&&(x.unshift(u),++a),f=x.length;x[--f]==0;)x.pop();return C.d=x,C.e=getBase10Exponent(x,a),external?finalise(C,m,l):C};P$1.precision=P$1.sd=function(C){var u,n=this;if(C!==void 0&&C!==!!C&&C!==1&&C!==0)throw Error(invalidArgument+C);return n.d?(u=getPrecision(n.d),C&&n.e+1>u&&(u=n.e+1)):u=NaN,u};P$1.round=function(){var C=this,u=C.constructor;return finalise(new u(C),C.e+1,u.rounding)};P$1.sine=P$1.sin=function(){var C,u,n=this,a=n.constructor;return n.isFinite()?n.isZero()?new a(n):(C=a.precision,u=a.rounding,a.precision=C+Math.max(n.e,n.sd())+LOG_BASE,a.rounding=1,n=sine(a,toLessThanHalfPi(a,n)),a.precision=C,a.rounding=u,finalise(quadrant>2?n.neg():n,C,u,!0)):new a(NaN)};P$1.squareRoot=P$1.sqrt=function(){var C,u,n,a,r,g,f=this,m=f.d,l=f.e,x=f.s,S=f.constructor;if(x!==1||!m||!m[0])return new S(!x||x<0&&(!m||m[0])?NaN:m?f:1/0);for(external=!1,x=Math.sqrt(+f),x==0||x==1/0?(u=digitsToString(m),(u.length+l)%2==0&&(u+="0"),x=Math.sqrt(u),l=mathfloor((l+1)/2)-(l<0||l%2),x==1/0?u="5e"+l:(u=x.toExponential(),u=u.slice(0,u.indexOf("e")+1)+l),a=new S(u)):a=new S(x.toString()),n=(l=S.precision)+3;;)if(g=a,a=g.plus(divide(f,g,n+2,1)).times(.5),digitsToString(g.d).slice(0,n)===(u=digitsToString(a.d)).slice(0,n))if(u=u.slice(n-3,n+1),u=="9999"||!r&&u=="4999"){if(!r&&(finalise(g,l+1,0),g.times(g).eq(f))){a=g;break}n+=4,r=1}else{(!+u||!+u.slice(1)&&u.charAt(0)=="5")&&(finalise(a,l+1,1),C=!a.times(a).eq(f));break}return external=!0,finalise(a,l,S.rounding,C)};P$1.tangent=P$1.tan=function(){var C,u,n=this,a=n.constructor;return n.isFinite()?n.isZero()?new a(n):(C=a.precision,u=a.rounding,a.precision=C+10,a.rounding=1,n=n.sin(),n.s=1,n=divide(n,new a(1).minus(n.times(n)).sqrt(),C+10,0),a.precision=C,a.rounding=u,finalise(quadrant==2||quadrant==4?n.neg():n,C,u,!0)):new a(NaN)};P$1.times=P$1.mul=function(C){var u,n,a,r,g,f,m,l,x,S=this,D=S.constructor,h=S.d,_=(C=new D(C)).d;if(C.s*=S.s,!h||!h[0]||!_||!_[0])return new D(!C.s||h&&!h[0]&&!_||_&&!_[0]&&!h?NaN:!h||!_?C.s/0:C.s*0);for(n=mathfloor(S.e/LOG_BASE)+mathfloor(C.e/LOG_BASE),l=h.length,x=_.length,l<x&&(g=h,h=_,_=g,f=l,l=x,x=f),g=[],f=l+x,a=f;a--;)g.push(0);for(a=x;--a>=0;){for(u=0,r=l+a;r>a;)m=g[r]+_[a]*h[r-a-1]+u,g[r--]=m%BASE|0,u=m/BASE|0;g[r]=(g[r]+u)%BASE|0}for(;!g[--f];)g.pop();return u?++n:g.shift(),C.d=g,C.e=getBase10Exponent(g,n),external?finalise(C,D.precision,D.rounding):C};P$1.toBinary=function(C,u){return toStringBinary(this,2,C,u)};P$1.toDecimalPlaces=P$1.toDP=function(C,u){var n=this,a=n.constructor;return n=new a(n),C===void 0?n:(checkInt32(C,0,MAX_DIGITS),u===void 0?u=a.rounding:checkInt32(u,0,8),finalise(n,C+n.e+1,u))};P$1.toExponential=function(C,u){var n,a=this,r=a.constructor;return C===void 0?n=finiteToString(a,!0):(checkInt32(C,0,MAX_DIGITS),u===void 0?u=r.rounding:checkInt32(u,0,8),a=finalise(new r(a),C+1,u),n=finiteToString(a,!0,C+1)),a.isNeg()&&!a.isZero()?"-"+n:n};P$1.toFixed=function(C,u){var n,a,r=this,g=r.constructor;return C===void 0?n=finiteToString(r):(checkInt32(C,0,MAX_DIGITS),u===void 0?u=g.rounding:checkInt32(u,0,8),a=finalise(new g(r),C+r.e+1,u),n=finiteToString(a,!1,C+a.e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};P$1.toFraction=function(C){var u,n,a,r,g,f,m,l,x,S,D,h,_=this,o=_.d,p=_.constructor;if(!o)return new p(_);if(x=n=new p(1),a=l=new p(0),u=new p(a),g=u.e=getPrecision(o)-_.e-1,f=g%LOG_BASE,u.d[0]=mathpow(10,f<0?LOG_BASE+f:f),C==null)C=g>0?u:x;else{if(m=new p(C),!m.isInt()||m.lt(x))throw Error(invalidArgument+m);C=m.gt(u)?g>0?u:x:m}for(external=!1,m=new p(digitsToString(o)),S=p.precision,p.precision=g=o.length*LOG_BASE*2;D=divide(m,u,0,1,1),r=n.plus(D.times(a)),r.cmp(C)!=1;)n=a,a=r,r=x,x=l.plus(D.times(r)),l=r,r=u,u=m.minus(D.times(r)),m=r;return r=divide(C.minus(n),a,0,1,1),l=l.plus(r.times(x)),n=n.plus(r.times(a)),l.s=x.s=_.s,h=divide(x,a,g,1).minus(_).abs().cmp(divide(l,n,g,1).minus(_).abs())<1?[x,a]:[l,n],p.precision=S,external=!0,h};P$1.toHexadecimal=P$1.toHex=function(C,u){return toStringBinary(this,16,C,u)};P$1.toNearest=function(C,u){var n=this,a=n.constructor;if(n=new a(n),C==null){if(!n.d)return n;C=new a(1),u=a.rounding}else{if(C=new a(C),u===void 0?u=a.rounding:checkInt32(u,0,8),!n.d)return C.s?n:C;if(!C.d)return C.s&&(C.s=n.s),C}return C.d[0]?(external=!1,n=divide(n,C,0,u,1).times(C),external=!0,finalise(n)):(C.s=n.s,n=C),n};P$1.toNumber=function(){return+this};P$1.toOctal=function(C,u){return toStringBinary(this,8,C,u)};P$1.toPower=P$1.pow=function(C){var u,n,a,r,g,f,m=this,l=m.constructor,x=+(C=new l(C));if(!m.d||!C.d||!m.d[0]||!C.d[0])return new l(mathpow(+m,x));if(m=new l(m),m.eq(1))return m;if(a=l.precision,g=l.rounding,C.eq(1))return finalise(m,a,g);if(u=mathfloor(C.e/LOG_BASE),u>=C.d.length-1&&(n=x<0?-x:x)<=MAX_SAFE_INTEGER)return r=intPow(l,m,n,a),C.s<0?new l(1).div(r):finalise(r,a,g);if(f=m.s,f<0){if(u<C.d.length-1)return new l(NaN);if(C.d[u]&1||(f=1),m.e==0&&m.d[0]==1&&m.d.length==1)return m.s=f,m}return n=mathpow(+m,x),u=n==0||!isFinite(n)?mathfloor(x*(Math.log("0."+digitsToString(m.d))/Math.LN10+m.e+1)):new l(n+"").e,u>l.maxE+1||u<l.minE-1?new l(u>0?f/0:0):(external=!1,l.rounding=m.s=1,n=Math.min(12,(u+"").length),r=naturalExponential(C.times(naturalLogarithm(m,a+n)),a),r.d&&(r=finalise(r,a+5,1),checkRoundingDigits(r.d,a,g)&&(u=a+10,r=finalise(naturalExponential(C.times(naturalLogarithm(m,u+n)),u),u+5,1),+digitsToString(r.d).slice(a+1,a+15)+1==1e14&&(r=finalise(r,a+1,0)))),r.s=f,external=!0,l.rounding=g,finalise(r,a,g))};P$1.toPrecision=function(C,u){var n,a=this,r=a.constructor;return C===void 0?n=finiteToString(a,a.e<=r.toExpNeg||a.e>=r.toExpPos):(checkInt32(C,1,MAX_DIGITS),u===void 0?u=r.rounding:checkInt32(u,0,8),a=finalise(new r(a),C,u),n=finiteToString(a,C<=a.e||a.e<=r.toExpNeg,C)),a.isNeg()&&!a.isZero()?"-"+n:n};P$1.toSignificantDigits=P$1.toSD=function(C,u){var n=this,a=n.constructor;return C===void 0?(C=a.precision,u=a.rounding):(checkInt32(C,1,MAX_DIGITS),u===void 0?u=a.rounding:checkInt32(u,0,8)),finalise(new a(n),C,u)};P$1.toString=function(){var C=this,u=C.constructor,n=finiteToString(C,C.e<=u.toExpNeg||C.e>=u.toExpPos);return C.isNeg()&&!C.isZero()?"-"+n:n};P$1.truncated=P$1.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)};P$1.valueOf=P$1.toJSON=function(){var C=this,u=C.constructor,n=finiteToString(C,C.e<=u.toExpNeg||C.e>=u.toExpPos);return C.isNeg()?"-"+n:n};function digitsToString(C){var u,n,a,r=C.length-1,g="",f=C[0];if(r>0){for(g+=f,u=1;u<r;u++)a=C[u]+"",n=LOG_BASE-a.length,n&&(g+=getZeroString(n)),g+=a;f=C[u],a=f+"",n=LOG_BASE-a.length,n&&(g+=getZeroString(n))}else if(f===0)return"0";for(;f%10===0;)f/=10;return g+f}function checkInt32(C,u,n){if(C!==~~C||C<u||C>n)throw Error(invalidArgument+C)}function checkRoundingDigits(C,u,n,a){var r,g,f,m;for(g=C[0];g>=10;g/=10)--u;return--u<0?(u+=LOG_BASE,r=0):(r=Math.ceil((u+1)/LOG_BASE),u%=LOG_BASE),g=mathpow(10,LOG_BASE-u),m=C[r]%g|0,a==null?u<3?(u==0?m=m/100|0:u==1&&(m=m/10|0),f=n<4&&m==99999||n>3&&m==49999||m==5e4||m==0):f=(n<4&&m+1==g||n>3&&m+1==g/2)&&(C[r+1]/g/100|0)==mathpow(10,u-2)-1||(m==g/2||m==0)&&(C[r+1]/g/100|0)==0:u<4?(u==0?m=m/1e3|0:u==1?m=m/100|0:u==2&&(m=m/10|0),f=(a||n<4)&&m==9999||!a&&n>3&&m==4999):f=((a||n<4)&&m+1==g||!a&&n>3&&m+1==g/2)&&(C[r+1]/g/1e3|0)==mathpow(10,u-3)-1,f}function convertBase(C,u,n){for(var a,r=[0],g,f=0,m=C.length;f<m;){for(g=r.length;g--;)r[g]*=u;for(r[0]+=NUMERALS.indexOf(C.charAt(f++)),a=0;a<r.length;a++)r[a]>n-1&&(r[a+1]===void 0&&(r[a+1]=0),r[a+1]+=r[a]/n|0,r[a]%=n)}return r.reverse()}function cosine(C,u){var n,a,r;if(u.isZero())return u;a=u.d.length,a<32?(n=Math.ceil(a/3),r=(1/tinyPow(4,n)).toString()):(n=16,r="2.3283064365386962890625e-10"),C.precision+=n,u=taylorSeries(C,1,u.times(r),new C(1));for(var g=n;g--;){var f=u.times(u);u=f.times(f).minus(f).times(8).plus(1)}return C.precision-=n,u}var divide=function(){function C(a,r,g){var f,m=0,l=a.length;for(a=a.slice();l--;)f=a[l]*r+m,a[l]=f%g|0,m=f/g|0;return m&&a.unshift(m),a}function u(a,r,g,f){var m,l;if(g!=f)l=g>f?1:-1;else for(m=l=0;m<g;m++)if(a[m]!=r[m]){l=a[m]>r[m]?1:-1;break}return l}function n(a,r,g,f){for(var m=0;g--;)a[g]-=m,m=a[g]<r[g]?1:0,a[g]=m*f+a[g]-r[g];for(;!a[0]&&a.length>1;)a.shift()}return function(a,r,g,f,m,l){var x,S,D,h,_,o,p,b,y,A,E,N,T,O,j,M,F,B,I,G,k=a.constructor,V=a.s==r.s?1:-1,R=a.d,U=r.d;if(!R||!R[0]||!U||!U[0])return new k(!a.s||!r.s||(R?U&&R[0]==U[0]:!U)?NaN:R&&R[0]==0||!U?V*0:V/0);for(l?(_=1,S=a.e-r.e):(l=BASE,_=LOG_BASE,S=mathfloor(a.e/_)-mathfloor(r.e/_)),I=U.length,F=R.length,y=new k(V),A=y.d=[],D=0;U[D]==(R[D]||0);D++);if(U[D]>(R[D]||0)&&S--,g==null?(O=g=k.precision,f=k.rounding):m?O=g+(a.e-r.e)+1:O=g,O<0)A.push(1),o=!0;else{if(O=O/_+2|0,D=0,I==1){for(h=0,U=U[0],O++;(D<F||h)&&O--;D++)j=h*l+(R[D]||0),A[D]=j/U|0,h=j%U|0;o=h||D<F}else{for(h=l/(U[0]+1)|0,h>1&&(U=C(U,h,l),R=C(R,h,l),I=U.length,F=R.length),M=I,E=R.slice(0,I),N=E.length;N<I;)E[N++]=0;G=U.slice(),G.unshift(0),B=U[0],U[1]>=l/2&&++B;do h=0,x=u(U,E,I,N),x<0?(T=E[0],I!=N&&(T=T*l+(E[1]||0)),h=T/B|0,h>1?(h>=l&&(h=l-1),p=C(U,h,l),b=p.length,N=E.length,x=u(p,E,b,N),x==1&&(h--,n(p,I<b?G:U,b,l))):(h==0&&(x=h=1),p=U.slice()),b=p.length,b<N&&p.unshift(0),n(E,p,N,l),x==-1&&(N=E.length,x=u(U,E,I,N),x<1&&(h++,n(E,I<N?G:U,N,l))),N=E.length):x===0&&(h++,E=[0]),A[D++]=h,x&&E[0]?E[N++]=R[M]||0:(E=[R[M]],N=1);while((M++<F||E[0]!==void 0)&&O--);o=E[0]!==void 0}A[0]||A.shift()}if(_==1)y.e=S,inexact=o;else{for(D=1,h=A[0];h>=10;h/=10)D++;y.e=D+S*_-1,finalise(y,m?g+y.e+1:g,f,o)}return y}}();function finalise(C,u,n,a){var r,g,f,m,l,x,S,D,h,_=C.constructor;e:if(u!=null){if(D=C.d,!D)return C;for(r=1,m=D[0];m>=10;m/=10)r++;if(g=u-r,g<0)g+=LOG_BASE,f=u,S=D[h=0],l=S/mathpow(10,r-f-1)%10|0;else if(h=Math.ceil((g+1)/LOG_BASE),m=D.length,h>=m)if(a){for(;m++<=h;)D.push(0);S=l=0,r=1,g%=LOG_BASE,f=g-LOG_BASE+1}else break e;else{for(S=m=D[h],r=1;m>=10;m/=10)r++;g%=LOG_BASE,f=g-LOG_BASE+r,l=f<0?0:S/mathpow(10,r-f-1)%10|0}if(a=a||u<0||D[h+1]!==void 0||(f<0?S:S%mathpow(10,r-f-1)),x=n<4?(l||a)&&(n==0||n==(C.s<0?3:2)):l>5||l==5&&(n==4||a||n==6&&(g>0?f>0?S/mathpow(10,r-f):0:D[h-1])%10&1||n==(C.s<0?8:7)),u<1||!D[0])return D.length=0,x?(u-=C.e+1,D[0]=mathpow(10,(LOG_BASE-u%LOG_BASE)%LOG_BASE),C.e=-u||0):D[0]=C.e=0,C;if(g==0?(D.length=h,m=1,h--):(D.length=h+1,m=mathpow(10,LOG_BASE-g),D[h]=f>0?(S/mathpow(10,r-f)%mathpow(10,f)|0)*m:0),x)for(;;)if(h==0){for(g=1,f=D[0];f>=10;f/=10)g++;for(f=D[0]+=m,m=1;f>=10;f/=10)m++;g!=m&&(C.e++,D[0]==BASE&&(D[0]=1));break}else{if(D[h]+=m,D[h]!=BASE)break;D[h--]=0,m=1}for(g=D.length;D[--g]===0;)D.pop()}return external&&(C.e>_.maxE?(C.d=null,C.e=NaN):C.e<_.minE&&(C.e=0,C.d=[0])),C}function finiteToString(C,u,n){if(!C.isFinite())return nonFiniteToString(C);var a,r=C.e,g=digitsToString(C.d),f=g.length;return u?(n&&(a=n-f)>0?g=g.charAt(0)+"."+g.slice(1)+getZeroString(a):f>1&&(g=g.charAt(0)+"."+g.slice(1)),g=g+(C.e<0?"e":"e+")+C.e):r<0?(g="0."+getZeroString(-r-1)+g,n&&(a=n-f)>0&&(g+=getZeroString(a))):r>=f?(g+=getZeroString(r+1-f),n&&(a=n-r-1)>0&&(g=g+"."+getZeroString(a))):((a=r+1)<f&&(g=g.slice(0,a)+"."+g.slice(a)),n&&(a=n-f)>0&&(r+1===f&&(g+="."),g+=getZeroString(a))),g}function getBase10Exponent(C,u){var n=C[0];for(u*=LOG_BASE;n>=10;n/=10)u++;return u}function getLn10(C,u,n){if(u>LN10_PRECISION)throw external=!0,n&&(C.precision=n),Error(precisionLimitExceeded);return finalise(new C(LN10),u,1,!0)}function getPi(C,u,n){if(u>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new C(PI),u,n,!0)}function getPrecision(C){var u=C.length-1,n=u*LOG_BASE+1;if(u=C[u],u){for(;u%10==0;u/=10)n--;for(u=C[0];u>=10;u/=10)n++}return n}function getZeroString(C){for(var u="";C--;)u+="0";return u}function intPow(C,u,n,a){var r,g=new C(1),f=Math.ceil(a/LOG_BASE+4);for(external=!1;;){if(n%2&&(g=g.times(u),truncate(g.d,f)&&(r=!0)),n=mathfloor(n/2),n===0){n=g.d.length-1,r&&g.d[n]===0&&++g.d[n];break}u=u.times(u),truncate(u.d,f)}return external=!0,g}function isOdd(C){return C.d[C.d.length-1]&1}function maxOrMin(C,u,n){for(var a,r,g=new C(u[0]),f=0;++f<u.length;){if(r=new C(u[f]),!r.s){g=r;break}a=g.cmp(r),(a===n||a===0&&g.s===n)&&(g=r)}return g}function naturalExponential(C,u){var n,a,r,g,f,m,l,x=0,S=0,D=0,h=C.constructor,_=h.rounding,o=h.precision;if(!C.d||!C.d[0]||C.e>17)return new h(C.d?C.d[0]?C.s<0?0:1/0:1:C.s?C.s<0?0:C:0/0);for(u==null?(external=!1,l=o):l=u,m=new h(.03125);C.e>-2;)C=C.times(m),D+=5;for(a=Math.log(mathpow(2,D))/Math.LN10*2+5|0,l+=a,n=g=f=new h(1),h.precision=l;;){if(g=finalise(g.times(C),l,1),n=n.times(++S),m=f.plus(divide(g,n,l,1)),digitsToString(m.d).slice(0,l)===digitsToString(f.d).slice(0,l)){for(r=D;r--;)f=finalise(f.times(f),l,1);if(u==null)if(x<3&&checkRoundingDigits(f.d,l-a,_,x))h.precision=l+=10,n=g=m=new h(1),S=0,x++;else return finalise(f,h.precision=o,_,external=!0);else return h.precision=o,f}f=m}}function naturalLogarithm(C,u){var n,a,r,g,f,m,l,x,S,D,h,_=1,o=10,p=C,b=p.d,y=p.constructor,A=y.rounding,E=y.precision;if(p.s<0||!b||!b[0]||!p.e&&b[0]==1&&b.length==1)return new y(b&&!b[0]?-1/0:p.s!=1?NaN:b?0:p);if(u==null?(external=!1,S=E):S=u,y.precision=S+=o,n=digitsToString(b),a=n.charAt(0),Math.abs(g=p.e)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)p=p.times(C),n=digitsToString(p.d),a=n.charAt(0),_++;g=p.e,a>1?(p=new y("0."+n),g++):p=new y(a+"."+n.slice(1))}else return x=getLn10(y,S+2,E).times(g+""),p=naturalLogarithm(new y(a+"."+n.slice(1)),S-o).plus(x),y.precision=E,u==null?finalise(p,E,A,external=!0):p;for(D=p,l=f=p=divide(p.minus(1),p.plus(1),S,1),h=finalise(p.times(p),S,1),r=3;;){if(f=finalise(f.times(h),S,1),x=l.plus(divide(f,new y(r),S,1)),digitsToString(x.d).slice(0,S)===digitsToString(l.d).slice(0,S))if(l=l.times(2),g!==0&&(l=l.plus(getLn10(y,S+2,E).times(g+""))),l=divide(l,new y(_),S,1),u==null)if(checkRoundingDigits(l.d,S-o,A,m))y.precision=S+=o,x=f=p=divide(D.minus(1),D.plus(1),S,1),h=finalise(p.times(p),S,1),r=m=1;else return finalise(l,y.precision=E,A,external=!0);else return y.precision=E,l;l=x,r+=2}}function nonFiniteToString(C){return String(C.s*C.s/0)}function parseDecimal(C,u){var n,a,r;for((n=u.indexOf("."))>-1&&(u=u.replace(".","")),(a=u.search(/e/i))>0?(n<0&&(n=a),n+=+u.slice(a+1),u=u.substring(0,a)):n<0&&(n=u.length),a=0;u.charCodeAt(a)===48;a++);for(r=u.length;u.charCodeAt(r-1)===48;--r);if(u=u.slice(a,r),u){if(r-=a,C.e=n=n-a-1,C.d=[],a=(n+1)%LOG_BASE,n<0&&(a+=LOG_BASE),a<r){for(a&&C.d.push(+u.slice(0,a)),r-=LOG_BASE;a<r;)C.d.push(+u.slice(a,a+=LOG_BASE));u=u.slice(a),a=LOG_BASE-u.length}else a-=r;for(;a--;)u+="0";C.d.push(+u),external&&(C.e>C.constructor.maxE?(C.d=null,C.e=NaN):C.e<C.constructor.minE&&(C.e=0,C.d=[0]))}else C.e=0,C.d=[0];return C}function parseOther(C,u){var n,a,r,g,f,m,l,x,S;if(u.indexOf("_")>-1){if(u=u.replace(/(\d)_(?=\d)/g,"$1"),isDecimal.test(u))return parseDecimal(C,u)}else if(u==="Infinity"||u==="NaN")return+u||(C.s=NaN),C.e=NaN,C.d=null,C;if(isHex.test(u))n=16,u=u.toLowerCase();else if(isBinary.test(u))n=2;else if(isOctal.test(u))n=8;else throw Error(invalidArgument+u);for(g=u.search(/p/i),g>0?(l=+u.slice(g+1),u=u.substring(2,g)):u=u.slice(2),g=u.indexOf("."),f=g>=0,a=C.constructor,f&&(u=u.replace(".",""),m=u.length,g=m-g,r=intPow(a,new a(n),g,g*2)),x=convertBase(u,n,BASE),S=x.length-1,g=S;x[g]===0;--g)x.pop();return g<0?new a(C.s*0):(C.e=getBase10Exponent(x,S),C.d=x,external=!1,f&&(C=divide(C,r,m*4)),l&&(C=C.times(Math.abs(l)<54?mathpow(2,l):Decimal.pow(2,l))),external=!0,C)}function sine(C,u){var n,a=u.d.length;if(a<3)return u.isZero()?u:taylorSeries(C,2,u,u);n=1.4*Math.sqrt(a),n=n>16?16:n|0,u=u.times(1/tinyPow(5,n)),u=taylorSeries(C,2,u,u);for(var r,g=new C(5),f=new C(16),m=new C(20);n--;)r=u.times(u),u=u.times(g.plus(r.times(f.times(r).minus(m))));return u}function taylorSeries(C,u,n,a,r){var g,f,m,l,x=C.precision,S=Math.ceil(x/LOG_BASE);for(external=!1,l=n.times(n),m=new C(a);;){if(f=divide(m.times(l),new C(u++*u++),x,1),m=r?a.plus(f):a.minus(f),a=divide(f.times(l),new C(u++*u++),x,1),f=m.plus(a),f.d[S]!==void 0){for(g=S;f.d[g]===m.d[g]&&g--;);if(g==-1)break}g=m,m=a,a=f,f=g}return external=!0,f.d.length=S+1,f}function tinyPow(C,u){for(var n=C;--u;)n*=C;return n}function toLessThanHalfPi(C,u){var n,a=u.s<0,r=getPi(C,C.precision,1),g=r.times(.5);if(u=u.abs(),u.lte(g))return quadrant=a?4:1,u;if(n=u.divToInt(r),n.isZero())quadrant=a?3:2;else{if(u=u.minus(n.times(r)),u.lte(g))return quadrant=isOdd(n)?a?2:3:a?4:1,u;quadrant=isOdd(n)?a?1:4:a?3:2}return u.minus(r).abs()}function toStringBinary(C,u,n,a){var r,g,f,m,l,x,S,D,h,_=C.constructor,o=n!==void 0;if(o?(checkInt32(n,1,MAX_DIGITS),a===void 0?a=_.rounding:checkInt32(a,0,8)):(n=_.precision,a=_.rounding),!C.isFinite())S=nonFiniteToString(C);else{for(S=finiteToString(C),f=S.indexOf("."),o?(r=2,u==16?n=n*4-3:u==8&&(n=n*3-2)):r=u,f>=0&&(S=S.replace(".",""),h=new _(1),h.e=S.length-f,h.d=convertBase(finiteToString(h),10,r),h.e=h.d.length),D=convertBase(S,10,r),g=l=D.length;D[--l]==0;)D.pop();if(!D[0])S=o?"0p+0":"0";else{if(f<0?g--:(C=new _(C),C.d=D,C.e=g,C=divide(C,h,n,a,0,r),D=C.d,g=C.e,x=inexact),f=D[n],m=r/2,x=x||D[n+1]!==void 0,x=a<4?(f!==void 0||x)&&(a===0||a===(C.s<0?3:2)):f>m||f===m&&(a===4||x||a===6&&D[n-1]&1||a===(C.s<0?8:7)),D.length=n,x)for(;++D[--n]>r-1;)D[n]=0,n||(++g,D.unshift(1));for(l=D.length;!D[l-1];--l);for(f=0,S="";f<l;f++)S+=NUMERALS.charAt(D[f]);if(o){if(l>1)if(u==16||u==8){for(f=u==16?4:3,--l;l%f;l++)S+="0";for(D=convertBase(S,r,u),l=D.length;!D[l-1];--l);for(f=1,S="1.";f<l;f++)S+=NUMERALS.charAt(D[f])}else S=S.charAt(0)+"."+S.slice(1);S=S+(g<0?"p":"p+")+g}else if(g<0){for(;++g;)S="0"+S;S="0."+S}else if(++g>l)for(g-=l;g--;)S+="0";else g<l&&(S=S.slice(0,g)+"."+S.slice(g))}S=(u==16?"0x":u==2?"0b":u==8?"0o":"")+S}return C.s<0?"-"+S:S}function truncate(C,u){if(C.length>u)return C.length=u,!0}function abs$1(C){return new this(C).abs()}function acos(C){return new this(C).acos()}function acosh(C){return new this(C).acosh()}function add(C,u){return new this(C).plus(u)}function asin(C){return new this(C).asin()}function asinh(C){return new this(C).asinh()}function atan(C){return new this(C).atan()}function atanh(C){return new this(C).atanh()}function atan2(C,u){C=new this(C),u=new this(u);var n,a=this.precision,r=this.rounding,g=a+4;return!C.s||!u.s?n=new this(NaN):!C.d&&!u.d?(n=getPi(this,g,1).times(u.s>0?.25:.75),n.s=C.s):!u.d||C.isZero()?(n=u.s<0?getPi(this,a,r):new this(0),n.s=C.s):!C.d||u.isZero()?(n=getPi(this,g,1).times(.5),n.s=C.s):u.s<0?(this.precision=g,this.rounding=1,n=this.atan(divide(C,u,g,1)),u=getPi(this,g,1),this.precision=a,this.rounding=r,n=C.s<0?n.minus(u):n.plus(u)):n=this.atan(divide(C,u,g,1)),n}function cbrt(C){return new this(C).cbrt()}function ceil(C){return finalise(C=new this(C),C.e+1,2)}function clamp$3(C,u,n){return new this(C).clamp(u,n)}function config(C){if(!C||typeof C!="object")throw Error(decimalError+"Object expected");var u,n,a,r=C.defaults===!0,g=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-EXP_LIMIT,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-EXP_LIMIT,0,"modulo",0,9];for(u=0;u<g.length;u+=3)if(n=g[u],r&&(this[n]=DEFAULTS[n]),(a=C[n])!==void 0)if(mathfloor(a)===a&&a>=g[u+1]&&a<=g[u+2])this[n]=a;else throw Error(invalidArgument+n+": "+a);if(n="crypto",r&&(this[n]=DEFAULTS[n]),(a=C[n])!==void 0)if(a===!0||a===!1||a===0||a===1)if(a)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(cryptoUnavailable);else this[n]=!1;else throw Error(invalidArgument+n+": "+a);return this}function cos(C){return new this(C).cos()}function cosh$1(C){return new this(C).cosh()}function clone$1(C){var u,n,a;function r(g){var f,m,l,x=this;if(!(x instanceof r))return new r(g);if(x.constructor=r,isDecimalInstance(g)){x.s=g.s,external?!g.d||g.e>r.maxE?(x.e=NaN,x.d=null):g.e<r.minE?(x.e=0,x.d=[0]):(x.e=g.e,x.d=g.d.slice()):(x.e=g.e,x.d=g.d?g.d.slice():g.d);return}if(l=typeof g,l==="number"){if(g===0){x.s=1/g<0?-1:1,x.e=0,x.d=[0];return}if(g<0?(g=-g,x.s=-1):x.s=1,g===~~g&&g<1e7){for(f=0,m=g;m>=10;m/=10)f++;external?f>r.maxE?(x.e=NaN,x.d=null):f<r.minE?(x.e=0,x.d=[0]):(x.e=f,x.d=[g]):(x.e=f,x.d=[g]);return}if(g*0!==0){g||(x.s=NaN),x.e=NaN,x.d=null;return}return parseDecimal(x,g.toString())}if(l==="string")return(m=g.charCodeAt(0))===45?(g=g.slice(1),x.s=-1):(m===43&&(g=g.slice(1)),x.s=1),isDecimal.test(g)?parseDecimal(x,g):parseOther(x,g);if(l==="bigint")return g<0?(g=-g,x.s=-1):x.s=1,parseDecimal(x,g.toString());throw Error(invalidArgument+g)}if(r.prototype=P$1,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=config,r.clone=clone$1,r.isDecimal=isDecimalInstance,r.abs=abs$1,r.acos=acos,r.acosh=acosh,r.add=add,r.asin=asin,r.asinh=asinh,r.atan=atan,r.atanh=atanh,r.atan2=atan2,r.cbrt=cbrt,r.ceil=ceil,r.clamp=clamp$3,r.cos=cos,r.cosh=cosh$1,r.div=div,r.exp=exp,r.floor=floor,r.hypot=hypot$1,r.ln=ln,r.log=log,r.log10=log10,r.log2=log2,r.max=max,r.min=min$1,r.mod=mod$1,r.mul=mul,r.pow=pow$1,r.random=random,r.round=round$1,r.sign=sign,r.sin=sin,r.sinh=sinh$1,r.sqrt=sqrt,r.sub=sub,r.sum=sum,r.tan=tan,r.tanh=tanh,r.trunc=trunc,C===void 0&&(C={}),C&&C.defaults!==!0)for(a=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],u=0;u<a.length;)C.hasOwnProperty(n=a[u++])||(C[n]=this[n]);return r.config(C),r}function div(C,u){return new this(C).div(u)}function exp(C){return new this(C).exp()}function floor(C){return finalise(C=new this(C),C.e+1,3)}function hypot$1(){var C,u,n=new this(0);for(external=!1,C=0;C<arguments.length;)if(u=new this(arguments[C++]),u.d)n.d&&(n=n.plus(u.times(u)));else{if(u.s)return external=!0,new this(1/0);n=u}return external=!0,n.sqrt()}function isDecimalInstance(C){return C instanceof Decimal||C&&C.toStringTag===tag||!1}function ln(C){return new this(C).ln()}function log(C,u){return new this(C).log(u)}function log2(C){return new this(C).log(2)}function log10(C){return new this(C).log(10)}function max(){return maxOrMin(this,arguments,-1)}function min$1(){return maxOrMin(this,arguments,1)}function mod$1(C,u){return new this(C).mod(u)}function mul(C,u){return new this(C).mul(u)}function pow$1(C,u){return new this(C).pow(u)}function random(C){var u,n,a,r,g=0,f=new this(1),m=[];if(C===void 0?C=this.precision:checkInt32(C,1,MAX_DIGITS),a=Math.ceil(C/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(u=crypto.getRandomValues(new Uint32Array(a));g<a;)r=u[g],r>=429e7?u[g]=crypto.getRandomValues(new Uint32Array(1))[0]:m[g++]=r%1e7;else if(crypto.randomBytes){for(u=crypto.randomBytes(a*=4);g<a;)r=u[g]+(u[g+1]<<8)+(u[g+2]<<16)+((u[g+3]&127)<<24),r>=214e7?crypto.randomBytes(4).copy(u,g):(m.push(r%1e7),g+=4);g=a/4}else throw Error(cryptoUnavailable);else for(;g<a;)m[g++]=Math.random()*1e7|0;for(a=m[--g],C%=LOG_BASE,a&&C&&(r=mathpow(10,LOG_BASE-C),m[g]=(a/r|0)*r);m[g]===0;g--)m.pop();if(g<0)n=0,m=[0];else{for(n=-1;m[0]===0;n-=LOG_BASE)m.shift();for(a=1,r=m[0];r>=10;r/=10)a++;a<LOG_BASE&&(n-=LOG_BASE-a)}return f.e=n,f.d=m,f}function round$1(C){return finalise(C=new this(C),C.e+1,this.rounding)}function sign(C){return C=new this(C),C.d?C.d[0]?C.s:0*C.s:C.s||NaN}function sin(C){return new this(C).sin()}function sinh$1(C){return new this(C).sinh()}function sqrt(C){return new this(C).sqrt()}function sub(C,u){return new this(C).sub(u)}function sum(){var C=0,u=arguments,n=new this(u[C]);for(external=!1;n.s&&++C<u.length;)n=n.plus(u[C]);return external=!0,finalise(n,this.precision,this.rounding)}function tan(C){return new this(C).tan()}function tanh(C){return new this(C).tanh()}function trunc(C){return finalise(C=new this(C),C.e+1,1)}P$1[Symbol.for("nodejs.util.inspect.custom")]=P$1.toString;P$1[Symbol.toStringTag]="Decimal";var Decimal=P$1.constructor=clone$1(DEFAULTS);LN10=new Decimal(LN10);PI=new Decimal(PI);var name$w="BigNumber",dependencies$w=["?on","config"],createBigNumberClass=factory(name$w,dependencies$w,C=>{var{on:u,config:n}=C,a=Decimal.clone({precision:n.precision,modulo:Decimal.EUCLID});return a.prototype=Object.create(a.prototype),a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(r){return new a(r.value)},u&&u("config",function(r,g){r.precision!==g.precision&&a.config({precision:r.precision})}),a},{isClass:!0});const cosh=Math.cosh||function(C){return Math.abs(C)<1e-9?1-C:(Math.exp(C)+Math.exp(-C))*.5},sinh=Math.sinh||function(C){return Math.abs(C)<1e-9?C:(Math.exp(C)-Math.exp(-C))*.5},cosm1=function(C){const u=Math.PI/4;if(-u>C||C>u)return Math.cos(C)-1;const n=C*C;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},hypot=function(C,u){return C=Math.abs(C),u=Math.abs(u),C<u&&([C,u]=[u,C]),C<1e8?Math.sqrt(C*C+u*u):(u/=C,C*Math.sqrt(1+u*u))},parser_exit=function(){throw SyntaxError("Invalid Param")};function logHypot(C,u){const n=Math.abs(C),a=Math.abs(u);return C===0?Math.log(a):u===0?Math.log(n):n<3e3&&a<3e3?Math.log(C*C+u*u)*.5:(C=C*.5,u=u*.5,.5*Math.log(C*C+u*u)+Math.LN2)}const P={re:0,im:0},parse$2=function(C,u){const n=P;if(C==null)n.re=n.im=0;else if(u!==void 0)n.re=C,n.im=u;else switch(typeof C){case"object":if("im"in C&&"re"in C)n.re=C.re,n.im=C.im;else if("abs"in C&&"arg"in C){if(!isFinite(C.abs)&&isFinite(C.arg))return Complex$1.INFINITY;n.re=C.abs*Math.cos(C.arg),n.im=C.abs*Math.sin(C.arg)}else if("r"in C&&"phi"in C){if(!isFinite(C.r)&&isFinite(C.phi))return Complex$1.INFINITY;n.re=C.r*Math.cos(C.phi),n.im=C.r*Math.sin(C.phi)}else C.length===2?(n.re=C[0],n.im=C[1]):parser_exit();break;case"string":n.im=n.re=0;const a=C.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let r=1,g=0;a===null&&parser_exit();for(let f=0;f<a.length;f++){const m=a[f];m===" "||m==="	"||m===`
`||(m==="+"?r++:m==="-"?g++:m==="i"||m==="I"?(r+g===0&&parser_exit(),a[f+1]!==" "&&!isNaN(a[f+1])?(n.im+=parseFloat((g%2?"-":"")+a[f+1]),f++):n.im+=parseFloat((g%2?"-":"")+"1"),r=g=0):((r+g===0||isNaN(m))&&parser_exit(),a[f+1]==="i"||a[f+1]==="I"?(n.im+=parseFloat((g%2?"-":"")+m),f++):n.re+=parseFloat((g%2?"-":"")+m),r=g=0))}r+g>0&&parser_exit();break;case"number":n.im=0,n.re=C;break;default:parser_exit()}return isNaN(n.re)||isNaN(n.im),n};function Complex$1(C,u){if(!(this instanceof Complex$1))return new Complex$1(C,u);const n=parse$2(C,u);this.re=n.re,this.im=n.im}Complex$1.prototype={re:0,im:0,sign:function(){const C=hypot(this.re,this.im);return new Complex$1(this.re/C,this.im/C)},add:function(C,u){const n=parse$2(C,u),a=this.isInfinite(),r=!(isFinite(n.re)&&isFinite(n.im));return a||r?a&&r?Complex$1.NAN:Complex$1.INFINITY:new Complex$1(this.re+n.re,this.im+n.im)},sub:function(C,u){const n=parse$2(C,u),a=this.isInfinite(),r=!(isFinite(n.re)&&isFinite(n.im));return a||r?a&&r?Complex$1.NAN:Complex$1.INFINITY:new Complex$1(this.re-n.re,this.im-n.im)},mul:function(C,u){const n=parse$2(C,u),a=this.isInfinite(),r=!(isFinite(n.re)&&isFinite(n.im)),g=this.re===0&&this.im===0,f=n.re===0&&n.im===0;return a&&f||r&&g?Complex$1.NAN:a||r?Complex$1.INFINITY:n.im===0&&this.im===0?new Complex$1(this.re*n.re,0):new Complex$1(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(C,u){const n=parse$2(C,u),a=this.isInfinite(),r=!(isFinite(n.re)&&isFinite(n.im)),g=this.re===0&&this.im===0,f=n.re===0&&n.im===0;if(g&&f||a&&r)return Complex$1.NAN;if(f||a)return Complex$1.INFINITY;if(g||r)return Complex$1.ZERO;if(n.im===0)return new Complex$1(this.re/n.re,this.im/n.re);if(Math.abs(n.re)<Math.abs(n.im)){const m=n.re/n.im,l=n.re*m+n.im;return new Complex$1((this.re*m+this.im)/l,(this.im*m-this.re)/l)}else{const m=n.im/n.re,l=n.im*m+n.re;return new Complex$1((this.re+this.im*m)/l,(this.im-this.re*m)/l)}},pow:function(C,u){const n=parse$2(C,u),a=this.re===0&&this.im===0;if(n.re===0&&n.im===0)return Complex$1.ONE;if(n.im===0){if(this.im===0&&this.re>0)return new Complex$1(Math.pow(this.re,n.re),0);if(this.re===0)switch((n.re%4+4)%4){case 0:return new Complex$1(Math.pow(this.im,n.re),0);case 1:return new Complex$1(0,Math.pow(this.im,n.re));case 2:return new Complex$1(-Math.pow(this.im,n.re),0);case 3:return new Complex$1(0,-Math.pow(this.im,n.re))}}if(a&&n.re>0)return Complex$1.ZERO;const g=Math.atan2(this.im,this.re),f=logHypot(this.re,this.im);let m=Math.exp(n.re*f-n.im*g),l=n.im*f+n.re*g;return new Complex$1(m*Math.cos(l),m*Math.sin(l))},sqrt:function(){const C=this.re,u=this.im;if(u===0)return C>=0?new Complex$1(Math.sqrt(C),0):new Complex$1(0,Math.sqrt(-C));const n=hypot(C,u);let a=Math.sqrt(.5*(n+Math.abs(C))),r=Math.abs(u)/(2*a);return C>=0?new Complex$1(a,u<0?-r:r):new Complex$1(r,u<0?-a:a)},exp:function(){const C=Math.exp(this.re);return this.im===0?new Complex$1(C,0):new Complex$1(C*Math.cos(this.im),C*Math.sin(this.im))},expm1:function(){const C=this.re,u=this.im;return new Complex$1(Math.expm1(C)*Math.cos(u)+cosm1(u),Math.exp(C)*Math.sin(u))},log:function(){const C=this.re,u=this.im;return u===0&&C>0?new Complex$1(Math.log(C),0):new Complex$1(logHypot(C,u),Math.atan2(u,C))},abs:function(){return hypot(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const C=this.re,u=this.im;return new Complex$1(Math.sin(C)*cosh(u),Math.cos(C)*sinh(u))},cos:function(){const C=this.re,u=this.im;return new Complex$1(Math.cos(C)*cosh(u),-Math.sin(C)*sinh(u))},tan:function(){const C=2*this.re,u=2*this.im,n=Math.cos(C)+cosh(u);return new Complex$1(Math.sin(C)/n,sinh(u)/n)},cot:function(){const C=2*this.re,u=2*this.im,n=Math.cos(C)-cosh(u);return new Complex$1(-Math.sin(C)/n,sinh(u)/n)},sec:function(){const C=this.re,u=this.im,n=.5*cosh(2*u)+.5*Math.cos(2*C);return new Complex$1(Math.cos(C)*cosh(u)/n,Math.sin(C)*sinh(u)/n)},csc:function(){const C=this.re,u=this.im,n=.5*cosh(2*u)-.5*Math.cos(2*C);return new Complex$1(Math.sin(C)*cosh(u)/n,-Math.cos(C)*sinh(u)/n)},asin:function(){const C=this.re,u=this.im,n=new Complex$1(u*u-C*C+1,-2*C*u).sqrt(),a=new Complex$1(n.re-u,n.im+C).log();return new Complex$1(a.im,-a.re)},acos:function(){const C=this.re,u=this.im,n=new Complex$1(u*u-C*C+1,-2*C*u).sqrt(),a=new Complex$1(n.re-u,n.im+C).log();return new Complex$1(Math.PI/2-a.im,a.re)},atan:function(){const C=this.re,u=this.im;if(C===0){if(u===1)return new Complex$1(0,1/0);if(u===-1)return new Complex$1(0,-1/0)}const n=C*C+(1-u)*(1-u),a=new Complex$1((1-u*u-C*C)/n,-2*C/n).log();return new Complex$1(-.5*a.im,.5*a.re)},acot:function(){const C=this.re,u=this.im;if(u===0)return new Complex$1(Math.atan2(1,C),0);const n=C*C+u*u;return n!==0?new Complex$1(C/n,-u/n).atan():new Complex$1(C!==0?C/0:0,u!==0?-u/0:0).atan()},asec:function(){const C=this.re,u=this.im;if(C===0&&u===0)return new Complex$1(0,1/0);const n=C*C+u*u;return n!==0?new Complex$1(C/n,-u/n).acos():new Complex$1(C!==0?C/0:0,u!==0?-u/0:0).acos()},acsc:function(){const C=this.re,u=this.im;if(C===0&&u===0)return new Complex$1(Math.PI/2,1/0);const n=C*C+u*u;return n!==0?new Complex$1(C/n,-u/n).asin():new Complex$1(C!==0?C/0:0,u!==0?-u/0:0).asin()},sinh:function(){const C=this.re,u=this.im;return new Complex$1(sinh(C)*Math.cos(u),cosh(C)*Math.sin(u))},cosh:function(){const C=this.re,u=this.im;return new Complex$1(cosh(C)*Math.cos(u),sinh(C)*Math.sin(u))},tanh:function(){const C=2*this.re,u=2*this.im,n=cosh(C)+Math.cos(u);return new Complex$1(sinh(C)/n,Math.sin(u)/n)},coth:function(){const C=2*this.re,u=2*this.im,n=cosh(C)-Math.cos(u);return new Complex$1(sinh(C)/n,-Math.sin(u)/n)},csch:function(){const C=this.re,u=this.im,n=Math.cos(2*u)-cosh(2*C);return new Complex$1(-2*sinh(C)*Math.cos(u)/n,2*cosh(C)*Math.sin(u)/n)},sech:function(){const C=this.re,u=this.im,n=Math.cos(2*u)+cosh(2*C);return new Complex$1(2*cosh(C)*Math.cos(u)/n,-2*sinh(C)*Math.sin(u)/n)},asinh:function(){let C=this.im;this.im=-this.re,this.re=C;const u=this.asin();return this.re=-this.im,this.im=C,C=u.re,u.re=-u.im,u.im=C,u},acosh:function(){const C=this.acos();if(C.im<=0){const u=C.re;C.re=-C.im,C.im=u}else{const u=C.im;C.im=-C.re,C.re=u}return C},atanh:function(){const C=this.re,u=this.im,n=C>1&&u===0,a=1-C,r=1+C,g=a*a+u*u,f=g!==0?new Complex$1((r*a-u*u)/g,(u*a+r*u)/g):new Complex$1(C!==-1?C/0:0,u!==0?u/0:0),m=f.re;return f.re=logHypot(f.re,f.im)/2,f.im=Math.atan2(f.im,m)/2,n&&(f.im=-f.im),f},acoth:function(){const C=this.re,u=this.im;if(C===0&&u===0)return new Complex$1(0,Math.PI/2);const n=C*C+u*u;return n!==0?new Complex$1(C/n,-u/n).atanh():new Complex$1(C!==0?C/0:0,u!==0?-u/0:0).atanh()},acsch:function(){const C=this.re,u=this.im;if(u===0)return new Complex$1(C!==0?Math.log(C+Math.sqrt(C*C+1)):1/0,0);const n=C*C+u*u;return n!==0?new Complex$1(C/n,-u/n).asinh():new Complex$1(C!==0?C/0:0,u!==0?-u/0:0).asinh()},asech:function(){const C=this.re,u=this.im;if(this.isZero())return Complex$1.INFINITY;const n=C*C+u*u;return n!==0?new Complex$1(C/n,-u/n).acosh():new Complex$1(C!==0?C/0:0,u!==0?-u/0:0).acosh()},inverse:function(){if(this.isZero())return Complex$1.INFINITY;if(this.isInfinite())return Complex$1.ZERO;const C=this.re,u=this.im,n=C*C+u*u;return new Complex$1(C/n,-u/n)},conjugate:function(){return new Complex$1(this.re,-this.im)},neg:function(){return new Complex$1(-this.re,-this.im)},ceil:function(C){return C=Math.pow(10,C||0),new Complex$1(Math.ceil(this.re*C)/C,Math.ceil(this.im*C)/C)},floor:function(C){return C=Math.pow(10,C||0),new Complex$1(Math.floor(this.re*C)/C,Math.floor(this.im*C)/C)},round:function(C){return C=Math.pow(10,C||0),new Complex$1(Math.round(this.re*C)/C,Math.round(this.im*C)/C)},equals:function(C,u){const n=parse$2(C,u);return Math.abs(n.re-this.re)<=Complex$1.EPSILON&&Math.abs(n.im-this.im)<=Complex$1.EPSILON},clone:function(){return new Complex$1(this.re,this.im)},toString:function(){let C=this.re,u=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(C)<Complex$1.EPSILON&&(C=0),Math.abs(u)<Complex$1.EPSILON&&(u=0),u===0?n+C:(C!==0?(n+=C,n+=" ",u<0?(u=-u,n+="-"):n+="+",n+=" "):u<0&&(u=-u,n+="-"),u!==1&&(n+=u),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};Complex$1.ZERO=new Complex$1(0,0);Complex$1.ONE=new Complex$1(1,0);Complex$1.I=new Complex$1(0,1);Complex$1.PI=new Complex$1(Math.PI,0);Complex$1.E=new Complex$1(Math.E,0);Complex$1.INFINITY=new Complex$1(1/0,1/0);Complex$1.NAN=new Complex$1(NaN,NaN);Complex$1.EPSILON=1e-15;var name$v="Complex",dependencies$v=[],createComplexClass=factory(name$v,dependencies$v,()=>(Object.defineProperty(Complex$1,"name",{value:"Complex"}),Complex$1.prototype.constructor=Complex$1,Complex$1.prototype.type="Complex",Complex$1.prototype.isComplex=!0,Complex$1.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Complex$1.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Complex$1.prototype.format=function(C){var u="",n=this.im,a=this.re,r=format$2(this.re,C),g=format$2(this.im,C),f=isNumber(C)?C:C?C.precision:null;if(f!==null){var m=Math.pow(10,-f);Math.abs(a/n)<m&&(a=0),Math.abs(n/a)<m&&(n=0)}return n===0?u=r:a===0?n===1?u="i":n===-1?u="-i":u=g+"i":n<0?n===-1?u=r+" - i":u=r+" - "+g.substring(1)+"i":n===1?u=r+" + i":u=r+" + "+g+"i",u},Complex$1.fromPolar=function(C){switch(arguments.length){case 1:{var u=arguments[0];if(typeof u=="object")return Complex$1(u);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],a=arguments[1];if(isNumber(n)){if(isUnit(a)&&a.hasBase("ANGLE")&&(a=a.toNumber("rad")),isNumber(a))return new Complex$1({r:n,phi:a});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Complex$1.prototype.valueOf=Complex$1.prototype.toString,Complex$1.fromJSON=function(C){return new Complex$1(C)},Complex$1.compare=function(C,u){return C.re>u.re?1:C.re<u.re?-1:C.im>u.im?1:C.im<u.im?-1:0},Complex$1),{isClass:!0}),fraction$1={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(C,u){(function(n){var a=2e3,r={s:1,n:0,d:1};function g(y,A){if(isNaN(y=parseInt(y,10)))throw p();return y*A}function f(y,A){if(A===0)throw o();var E=Object.create(_.prototype);E.s=y<0?-1:1,y=y<0?-y:y;var N=h(y,A);return E.n=y/N,E.d=A/N,E}function m(y){for(var A={},E=y,N=2,T=4;T<=E;){for(;E%N===0;)E/=N,A[N]=(A[N]||0)+1;T+=1+2*N++}return E!==y?E>1&&(A[E]=(A[E]||0)+1):A[y]=(A[y]||0)+1,A}var l=function(y,A){var E=0,N=1,T=1,O=0,j=0,M=0,F=1,B=1,I=0,G=1,k=1,V=1,R=1e7,U;if(y!=null)if(A!==void 0){if(E=y,N=A,T=E*N,E%1!==0||N%1!==0)throw b()}else switch(typeof y){case"object":{if("d"in y&&"n"in y)E=y.n,N=y.d,"s"in y&&(E*=y.s);else if(0 in y)E=y[0],1 in y&&(N=y[1]);else throw p();T=E*N;break}case"number":{if(y<0&&(T=y,y=-y),y%1===0)E=y;else if(y>0){for(y>=1&&(B=Math.pow(10,Math.floor(1+Math.log(y)/Math.LN10)),y/=B);G<=R&&V<=R;)if(U=(I+k)/(G+V),y===U){G+V<=R?(E=I+k,N=G+V):V>G?(E=k,N=V):(E=I,N=G);break}else y>U?(I+=k,G+=V):(k+=I,V+=G),G>R?(E=k,N=V):(E=I,N=G);E*=B}else(isNaN(y)||isNaN(A))&&(N=E=NaN);break}case"string":{if(G=y.match(/\d+|./g),G===null)throw p();if(G[I]==="-"?(T=-1,I++):G[I]==="+"&&I++,G.length===I+1?j=g(G[I++],T):G[I+1]==="."||G[I]==="."?(G[I]!=="."&&(O=g(G[I++],T)),I++,(I+1===G.length||G[I+1]==="("&&G[I+3]===")"||G[I+1]==="'"&&G[I+3]==="'")&&(j=g(G[I],T),F=Math.pow(10,G[I].length),I++),(G[I]==="("&&G[I+2]===")"||G[I]==="'"&&G[I+2]==="'")&&(M=g(G[I+1],T),B=Math.pow(10,G[I+1].length)-1,I+=3)):G[I+1]==="/"||G[I+1]===":"?(j=g(G[I],T),F=g(G[I+2],1),I+=3):G[I+3]==="/"&&G[I+1]===" "&&(O=g(G[I],T),j=g(G[I+2],T),F=g(G[I+4],1),I+=5),G.length<=I){N=F*B,T=E=M+N*O+B*j;break}}default:throw p()}if(N===0)throw o();r.s=T<0?-1:1,r.n=Math.abs(E),r.d=Math.abs(N)};function x(y,A,E){for(var N=1;A>0;y=y*y%E,A>>=1)A&1&&(N=N*y%E);return N}function S(y,A){for(;A%2===0;A/=2);for(;A%5===0;A/=5);if(A===1)return 0;for(var E=10%A,N=1;E!==1;N++)if(E=E*10%A,N>a)return 0;return N}function D(y,A,E){for(var N=1,T=x(10,E,A),O=0;O<300;O++){if(N===T)return O;N=N*10%A,T=T*10%A}return 0}function h(y,A){if(!y)return A;if(!A)return y;for(;;){if(y%=A,!y)return A;if(A%=y,!A)return y}}function _(y,A){if(l(y,A),this instanceof _)y=h(r.d,r.n),this.s=r.s,this.n=r.n/y,this.d=r.d/y;else return f(r.s*r.n,r.d)}var o=function(){return new Error("Division by Zero")},p=function(){return new Error("Invalid argument")},b=function(){return new Error("Parameters must be integer")};_.prototype={s:1,n:0,d:1,abs:function(){return f(this.n,this.d)},neg:function(){return f(-this.s*this.n,this.d)},add:function(y,A){return l(y,A),f(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(y,A){return l(y,A),f(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(y,A){return l(y,A),f(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(y,A){return l(y,A),f(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return f(this.s*this.n,this.d)},mod:function(y,A){if(isNaN(this.n)||isNaN(this.d))return new _(NaN);if(y===void 0)return f(this.s*this.n%this.d,1);if(l(y,A),r.n===0&&this.d===0)throw o();return f(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d)},gcd:function(y,A){return l(y,A),f(h(r.n,this.n)*h(r.d,this.d),r.d*this.d)},lcm:function(y,A){return l(y,A),r.n===0&&this.n===0?f(0,1):f(r.n*this.n,h(r.n,this.n)*h(r.d,this.d))},ceil:function(y){return y=Math.pow(10,y||0),isNaN(this.n)||isNaN(this.d)?new _(NaN):f(Math.ceil(y*this.s*this.n/this.d),y)},floor:function(y){return y=Math.pow(10,y||0),isNaN(this.n)||isNaN(this.d)?new _(NaN):f(Math.floor(y*this.s*this.n/this.d),y)},round:function(y){return y=Math.pow(10,y||0),isNaN(this.n)||isNaN(this.d)?new _(NaN):f(Math.round(y*this.s*this.n/this.d),y)},inverse:function(){return f(this.s*this.d,this.n)},pow:function(y,A){if(l(y,A),r.d===1)return r.s<0?f(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):f(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var E=m(this.n),N=m(this.d),T=1,O=1;for(var j in E)if(j!=="1"){if(j==="0"){T=0;break}if(E[j]*=r.n,E[j]%r.d===0)E[j]/=r.d;else return null;T*=Math.pow(j,E[j])}for(var j in N)if(j!=="1"){if(N[j]*=r.n,N[j]%r.d===0)N[j]/=r.d;else return null;O*=Math.pow(j,N[j])}return r.s<0?f(O,T):f(T,O)},equals:function(y,A){return l(y,A),this.s*this.n*r.d===r.s*r.n*this.d},compare:function(y,A){l(y,A);var E=this.s*this.n*r.d-r.s*r.n*this.d;return(0<E)-(E<0)},simplify:function(y){if(isNaN(this.n)||isNaN(this.d))return this;y=y||.001;for(var A=this.abs(),E=A.toContinued(),N=1;N<E.length;N++){for(var T=f(E[N-1],1),O=N-2;O>=0;O--)T=T.inverse().add(E[O]);if(Math.abs(T.sub(A).valueOf())<y)return T.mul(this.s)}return this},divisible:function(y,A){return l(y,A),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(y){var A,E="",N=this.n,T=this.d;return this.s<0&&(E+="-"),T===1?E+=N:(y&&(A=Math.floor(N/T))>0&&(E+=A,E+=" ",N%=T),E+=N,E+="/",E+=T),E},toLatex:function(y){var A,E="",N=this.n,T=this.d;return this.s<0&&(E+="-"),T===1?E+=N:(y&&(A=Math.floor(N/T))>0&&(E+=A,N%=T),E+="\\frac{",E+=N,E+="}{",E+=T,E+="}"),E},toContinued:function(){var y,A=this.n,E=this.d,N=[];if(isNaN(A)||isNaN(E))return N;do N.push(Math.floor(A/E)),y=A%E,A=E,E=y;while(A!==1);return N},toString:function(y){var A=this.n,E=this.d;if(isNaN(A)||isNaN(E))return"NaN";y=y||15;var N=S(A,E),T=D(A,E,N),O=this.s<0?"-":"";if(O+=A/E|0,A%=E,A*=10,A&&(O+="."),N){for(var j=T;j--;)O+=A/E|0,A%=E,A*=10;O+="(";for(var j=N;j--;)O+=A/E|0,A%=E,A*=10;O+=")"}else for(var j=y;A&&j--;)O+=A/E|0,A%=E,A*=10;return O}},Object.defineProperty(_,"__esModule",{value:!0}),_.default=_,_.Fraction=_,C.exports=_})()})(fraction$1);var fractionExports=fraction$1.exports;const Fraction$1=getDefaultExportFromCjs(fractionExports);var name$u="Fraction",dependencies$u=[],createFractionClass=factory(name$u,dependencies$u,()=>(Object.defineProperty(Fraction$1,"name",{value:"Fraction"}),Fraction$1.prototype.constructor=Fraction$1,Fraction$1.prototype.type="Fraction",Fraction$1.prototype.isFraction=!0,Fraction$1.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Fraction$1.fromJSON=function(C){return new Fraction$1(C)},Fraction$1),{isClass:!0}),name$t="Matrix",dependencies$t=[],createMatrixClass=factory(name$t,dependencies$t,()=>{function C(){if(!(this instanceof C))throw new SyntaxError("Constructor must be called with the new operator")}return C.prototype.type="Matrix",C.prototype.isMatrix=!0,C.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},C.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},C.prototype.create=function(u,n){throw new Error("Cannot invoke create on a Matrix interface")},C.prototype.subset=function(u,n,a){throw new Error("Cannot invoke subset on a Matrix interface")},C.prototype.get=function(u){throw new Error("Cannot invoke get on a Matrix interface")},C.prototype.set=function(u,n,a){throw new Error("Cannot invoke set on a Matrix interface")},C.prototype.resize=function(u,n){throw new Error("Cannot invoke resize on a Matrix interface")},C.prototype.reshape=function(u,n){throw new Error("Cannot invoke reshape on a Matrix interface")},C.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},C.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},C.prototype.map=function(u,n){throw new Error("Cannot invoke map on a Matrix interface")},C.prototype.forEach=function(u){throw new Error("Cannot invoke forEach on a Matrix interface")},C.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},C.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},C.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},C.prototype.format=function(u){throw new Error("Cannot invoke format on a Matrix interface")},C.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},C},{isClass:!0});function formatBigNumberToBase(C,u,n){var a=C.constructor,r=new a(2),g="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!isInteger(n))throw new Error("size must be an integer");if(C.greaterThan(r.pow(n-1).sub(1))||C.lessThan(r.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!C.isInteger())throw new Error("Value must be an integer");C.lessThan(0)&&(C=C.add(r.pow(n))),g="i".concat(n)}switch(u){case 2:return"".concat(C.toBinary()).concat(g);case 8:return"".concat(C.toOctal()).concat(g);case 16:return"".concat(C.toHexadecimal()).concat(g);default:throw new Error("Base ".concat(u," not supported "))}}function format$1(C,u){if(typeof u=="function")return u(C);if(!C.isFinite())return C.isNaN()?"NaN":C.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:a,wordSize:r}=normalizeFormatOptions(u);switch(n){case"fixed":return toFixed(C,a);case"exponential":return toExponential(C,a);case"engineering":return toEngineering(C,a);case"bin":return formatBigNumberToBase(C,2,r);case"oct":return formatBigNumberToBase(C,8,r);case"hex":return formatBigNumberToBase(C,16,r);case"auto":{var g=_toNumberOrDefault(u==null?void 0:u.lowerExp,-3),f=_toNumberOrDefault(u==null?void 0:u.upperExp,5);if(C.isZero())return"0";var m,l=C.toSignificantDigits(a),x=l.e;return x>=g&&x<f?m=l.toFixed():m=toExponential(C,a),m.replace(/((\.\d*?)(0+))($|e)/,function(){var S=arguments[2],D=arguments[4];return S!=="."?S+D:D})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function toEngineering(C,u){var n=C.e,a=n%3===0?n:n<0?n-3-n%3:n-n%3,r=C.mul(Math.pow(10,-a)),g=r.toPrecision(u);if(g.includes("e")){var f=C.constructor;g=new f(g).toFixed()}return g+"e"+(n>=0?"+":"")+a.toString()}function toExponential(C,u){return u!==void 0?C.toExponential(u-1):C.toExponential()}function toFixed(C,u){return C.toFixed(u)}function _toNumberOrDefault(C,u){return isNumber(C)?C:isBigNumber(C)?C.toNumber():u}function format(C,u){var n=_format(C,u);return u&&typeof u=="object"&&"truncate"in u&&n.length>u.truncate?n.substring(0,u.truncate-3)+"...":n}function _format(C,u){if(typeof C=="number")return format$2(C,u);if(isBigNumber(C))return format$1(C,u);if(looksLikeFraction(C))return!u||u.fraction!=="decimal"?C.s*C.n+"/"+C.d:C.toString();if(Array.isArray(C))return formatArray(C,u);if(isString(C))return stringify(C);if(typeof C=="function")return C.syntax?String(C.syntax):"function";if(C&&typeof C=="object"){if(typeof C.format=="function")return C.format(u);if(C&&C.toString(u)!=={}.toString())return C.toString(u);var n=Object.keys(C).map(a=>stringify(a)+": "+format(C[a],u));return"{"+n.join(", ")+"}"}return String(C)}function stringify(C){for(var u=String(C),n="",a=0;a<u.length;){var r=u.charAt(a);n+=r in controlCharacters?controlCharacters[r]:r,a++}return'"'+n+'"'}var controlCharacters={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function formatArray(C,u){if(Array.isArray(C)){for(var n="[",a=C.length,r=0;r<a;r++)r!==0&&(n+=", "),n+=formatArray(C[r],u);return n+="]",n}else return format(C,u)}function looksLikeFraction(C){return C&&typeof C=="object"&&typeof C.s=="number"&&typeof C.n=="number"&&typeof C.d=="number"||!1}function DimensionError(C,u,n){if(!(this instanceof DimensionError))throw new SyntaxError("Constructor must be called with the new operator");this.actual=C,this.expected=u,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(C)?"["+C.join(", ")+"]":C)+" "+(this.relation||"!=")+" "+(Array.isArray(u)?"["+u.join(", ")+"]":u)+")",this.stack=new Error().stack}DimensionError.prototype=new RangeError;DimensionError.prototype.constructor=RangeError;DimensionError.prototype.name="DimensionError";DimensionError.prototype.isDimensionError=!0;function IndexError(C,u,n){if(!(this instanceof IndexError))throw new SyntaxError("Constructor must be called with the new operator");this.index=C,arguments.length<3?(this.min=0,this.max=u):(this.min=u,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}IndexError.prototype=new RangeError;IndexError.prototype.constructor=RangeError;IndexError.prototype.name="IndexError";IndexError.prototype.isIndexError=!0;function arraySize(C){for(var u=[];Array.isArray(C);)u.push(C.length),C=C[0];return u}function _validate(C,u,n){var a,r=C.length;if(r!==u[n])throw new DimensionError(r,u[n]);if(n<u.length-1){var g=n+1;for(a=0;a<r;a++){var f=C[a];if(!Array.isArray(f))throw new DimensionError(u.length-1,u.length,"<");_validate(C[a],u,g)}}else for(a=0;a<r;a++)if(Array.isArray(C[a]))throw new DimensionError(u.length+1,u.length,">")}function validate(C,u){var n=u.length===0;if(n){if(Array.isArray(C))throw new DimensionError(C.length,0)}else _validate(C,u,0)}function validateIndex(C,u){if(C!==void 0){if(!isNumber(C)||!isInteger(C))throw new TypeError("Index must be an integer (value: "+C+")");if(C<0||typeof u=="number"&&C>=u)throw new IndexError(C,u)}}function resize(C,u,n){if(!Array.isArray(u))throw new TypeError("Array expected");if(u.length===0)throw new Error("Resizing to scalar is not supported");u.forEach(function(r){if(!isNumber(r)||!isInteger(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format(u)+")")}),(isNumber(C)||isBigNumber(C))&&(C=[C]);var a=n!==void 0?n:0;return _resize(C,u,0,a),C}function _resize(C,u,n,a){var r,g,f=C.length,m=u[n],l=Math.min(f,m);if(C.length=m,n<u.length-1){var x=n+1;for(r=0;r<l;r++)g=C[r],Array.isArray(g)||(g=[g],C[r]=g),_resize(g,u,x,a);for(r=l;r<m;r++)g=[],C[r]=g,_resize(g,u,x,a)}else{for(r=0;r<l;r++)for(;Array.isArray(C[r]);)C[r]=C[r][0];for(r=l;r<m;r++)C[r]=a}}function reshape(C,u){var n=flatten$1(C),a=n.length;if(!Array.isArray(C)||!Array.isArray(u))throw new TypeError("Array expected");if(u.length===0)throw new DimensionError(0,a,"!=");u=processSizesWildcard(u,a);var r=product(u);if(a!==r)throw new DimensionError(r,a,"!=");try{return _reshape(n,u)}catch(g){throw g instanceof DimensionError?new DimensionError(r,a,"!="):g}}function processSizesWildcard(C,u){var n=product(C),a=C.slice(),r=-1,g=C.indexOf(r),f=C.indexOf(r,g+1)>=0;if(f)throw new Error("More than one wildcard in sizes");var m=g>=0,l=u%n===0;if(m)if(l)a[g]=-u/n;else throw new Error("Could not replace wildcard, since "+u+" is no multiple of "+-n);return a}function product(C){return C.reduce((u,n)=>u*n,1)}function _reshape(C,u){for(var n=C,a,r=u.length-1;r>0;r--){var g=u[r];a=[];for(var f=n.length/g,m=0;m<f;m++)a.push(n.slice(m*g,(m+1)*g));n=a}return n}function unsqueeze(C,u,n,a){var r=a||arraySize(C);if(n)for(var g=0;g<n;g++)C=[C],r.unshift(1);for(C=_unsqueeze(C,u,0);r.length<u;)r.push(1);return C}function _unsqueeze(C,u,n){var a,r;if(Array.isArray(C)){var g=n+1;for(a=0,r=C.length;a<r;a++)C[a]=_unsqueeze(C[a],u,g)}else for(var f=n;f<u;f++)C=[C];return C}function flatten$1(C){if(!Array.isArray(C))return C;var u=[];return C.forEach(function n(a){Array.isArray(a)?a.forEach(n):u.push(a)}),u}function getArrayDataType(C,u){for(var n,a=0,r=0;r<C.length;r++){var g=C[r],f=Array.isArray(g);if(r===0&&f&&(a=g.length),f&&g.length!==a)return;var m=f?getArrayDataType(g,u):u(g);if(n===void 0)n=m;else if(n!==m)return"mixed"}return n}function concatRecursive(C,u,n,a){if(a<n){if(C.length!==u.length)throw new DimensionError(C.length,u.length);for(var r=[],g=0;g<C.length;g++)r[g]=concatRecursive(C[g],u[g],n,a+1);return r}else return C.concat(u)}function concat(){var C=Array.prototype.slice.call(arguments,0,-1),u=Array.prototype.slice.call(arguments,-1);if(C.length===1)return C[0];if(C.length>1)return C.slice(1).reduce(function(n,a){return concatRecursive(n,a,u,0)},C[0]);throw new Error("Wrong number of arguments in function concat")}function broadcastSizes(){for(var C=arguments.length,u=new Array(C),n=0;n<C;n++)u[n]=arguments[n];for(var a=u.map(h=>h.length),r=Math.max(...a),g=new Array(r).fill(null),f=0;f<u.length;f++)for(var m=u[f],l=a[f],x=0;x<l;x++){var S=r-l+x;m[x]>g[S]&&(g[S]=m[x])}for(var D=0;D<u.length;D++)checkBroadcastingRules(u[D],g);return g}function checkBroadcastingRules(C,u){for(var n=u.length,a=C.length,r=0;r<a;r++){var g=n-a+r;if(C[r]<u[g]&&C[r]>1||C[r]>u[g])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(C,") not possible to broadcast dimension ").concat(a," with size ").concat(C[r]," to size ").concat(u[g]))}}function broadcastTo(C,u){var n=arraySize(C);if(deepStrictEqual(n,u))return C;checkBroadcastingRules(n,u);var a=broadcastSizes(n,u),r=a.length,g=[...Array(r-n.length).fill(1),...n],f=clone(C);n.length<r&&(f=reshape(f,g),n=arraySize(f));for(var m=0;m<r;m++)n[m]<a[m]&&(f=stretch(f,a[m],m),n=arraySize(f));return f}function stretch(C,u,n){return concat(...Array(u).fill(C),n)}function clone(C){return _extends([],C)}function maxArgumentCount(C){return Object.keys(C.signatures||{}).reduce(function(u,n){var a=(n.match(/,/g)||[]).length+1;return Math.max(u,a)},-1)}var name$s="DenseMatrix",dependencies$s=["Matrix"],createDenseMatrixClass=factory(name$s,dependencies$s,C=>{var{Matrix:u}=C;function n(S,D){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(D&&!isString(D))throw new Error("Invalid datatype: "+D);if(isMatrix(S))S.type==="DenseMatrix"?(this._data=clone$2(S._data),this._size=clone$2(S._size),this._datatype=D||S._datatype):(this._data=S.toArray(),this._size=S.size(),this._datatype=D||S._datatype);else if(S&&isArray(S.data)&&isArray(S.size))this._data=S.data,this._size=S.size,validate(this._data,this._size),this._datatype=D||S.datatype;else if(isArray(S))this._data=x(S),this._size=arraySize(this._data),validate(this._data,this._size),this._datatype=D;else{if(S)throw new TypeError("Unsupported type of data ("+typeOf(S)+")");this._data=[],this._size=[0],this._datatype=D}}n.prototype=new u,n.prototype.createDenseMatrix=function(S,D){return new n(S,D)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return getArrayDataType(this._data,typeOf)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(S,D){return new n(S,D)},n.prototype.subset=function(S,D,h){switch(arguments.length){case 1:return a(this,S);case 2:case 3:return g(this,S,D,h);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(S){if(!isArray(S))throw new TypeError("Array expected");if(S.length!==this._size.length)throw new DimensionError(S.length,this._size.length);for(var D=0;D<S.length;D++)validateIndex(S[D],this._size[D]);for(var h=this._data,_=0,o=S.length;_<o;_++){var p=S[_];validateIndex(p,h.length),h=h[p]}return h},n.prototype.set=function(S,D,h){if(!isArray(S))throw new TypeError("Array expected");if(S.length<this._size.length)throw new DimensionError(S.length,this._size.length,"<");var _,o,p,b=S.map(function(A){return A+1});l(this,b,h);var y=this._data;for(_=0,o=S.length-1;_<o;_++)p=S[_],validateIndex(p,y.length),y=y[p];return p=S[S.length-1],validateIndex(p,y.length),y[p]=D,this};function a(S,D){if(!isIndex(D))throw new TypeError("Invalid index");var h=D.isScalar();if(h)return S.get(D.min());var _=D.size();if(_.length!==S._size.length)throw new DimensionError(_.length,S._size.length);for(var o=D.min(),p=D.max(),b=0,y=S._size.length;b<y;b++)validateIndex(o[b],S._size[b]),validateIndex(p[b],S._size[b]);return new n(r(S._data,D,_.length,0),S._datatype)}function r(S,D,h,_){var o=_===h-1,p=D.dimension(_);return o?p.map(function(b){return validateIndex(b,S.length),S[b]}).valueOf():p.map(function(b){validateIndex(b,S.length);var y=S[b];return r(y,D,h,_+1)}).valueOf()}function g(S,D,h,_){if(!D||D.isIndex!==!0)throw new TypeError("Invalid index");var o=D.size(),p=D.isScalar(),b;if(isMatrix(h)?(b=h.size(),h=h.valueOf()):b=arraySize(h),p){if(b.length!==0)throw new TypeError("Scalar expected");S.set(D.min(),h,_)}else{if(!deepStrictEqual(b,o))try{b.length===0?h=broadcastTo([h],o):h=broadcastTo(h,o),b=arraySize(h)}catch{}if(o.length<S._size.length)throw new DimensionError(o.length,S._size.length,"<");if(b.length<o.length){for(var y=0,A=0;o[y]===1&&b[y]===1;)y++;for(;o[y]===1;)A++,y++;h=unsqueeze(h,o.length,A,b)}if(!deepStrictEqual(o,b))throw new DimensionError(o,b,">");var E=D.max().map(function(O){return O+1});l(S,E,_);var N=o.length,T=0;f(S._data,D,h,N,T)}return S}function f(S,D,h,_,o){var p=o===_-1,b=D.dimension(o);p?b.forEach(function(y,A){validateIndex(y),S[y]=h[A[0]]}):b.forEach(function(y,A){validateIndex(y),f(S[y],D,h[A[0]],_,o+1)})}n.prototype.resize=function(S,D,h){if(!isCollection(S))throw new TypeError("Array or Matrix expected");var _=S.valueOf().map(p=>Array.isArray(p)&&p.length===1?p[0]:p),o=h?this.clone():this;return m(o,_,D)};function m(S,D,h){if(D.length===0){for(var _=S._data;isArray(_);)_=_[0];return _}return S._size=D.slice(0),S._data=resize(S._data,S._size,h),S}n.prototype.reshape=function(S,D){var h=D?this.clone():this;h._data=reshape(h._data,S);var _=h._size.reduce((o,p)=>o*p);return h._size=processSizesWildcard(S,_),h};function l(S,D,h){for(var _=S._size.slice(0),o=!1;_.length<D.length;)_.push(0),o=!0;for(var p=0,b=D.length;p<b;p++)D[p]>_[p]&&(_[p]=D[p],o=!0);o&&m(S,_,h)}n.prototype.clone=function(){var S=new n({data:clone$2(this._data),size:clone$2(this._size),datatype:this._datatype});return S},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(S){var D=this,h=maxArgumentCount(S),_=function b(y,A){return isArray(y)?y.map(function(E,N){return b(E,A.concat(N))}):h===1?S(y):h===2?S(y,A):S(y,A,D)},o=_(this._data,[]),p=this._datatype!==void 0?getArrayDataType(o,typeOf):void 0;return new n(o,p)},n.prototype.forEach=function(S){var D=this,h=function _(o,p){isArray(o)?o.forEach(function(b,y){_(b,p.concat(y))}):S(o,p,D)};h(this._data,[])},n.prototype[Symbol.iterator]=function*(){var S=function*D(h,_){if(isArray(h))for(var o=0;o<h.length;o++)yield*D(h[o],_.concat(o));else yield{value:h,index:_}};yield*S(this._data,[])},n.prototype.rows=function(){var S=[],D=this.size();if(D.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var h=this._data;for(var _ of h)S.push(new n([_],this._datatype));return S},n.prototype.columns=function(){var S=this,D=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var _=this._data,o=function(y){var A=_.map(E=>[E[y]]);D.push(new n(A,S._datatype))},p=0;p<h[1];p++)o(p);return D},n.prototype.toArray=function(){return clone$2(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(S){return format(this._data,S)},n.prototype.toString=function(){return format(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(S){if(S){if(isBigNumber(S)&&(S=S.toNumber()),!isNumber(S)||!isInteger(S))throw new TypeError("The parameter k must be an integer number")}else S=0;for(var D=S>0?S:0,h=S<0?-S:0,_=this._size[0],o=this._size[1],p=Math.min(_-h,o-D),b=[],y=0;y<p;y++)b[y]=this._data[y+h][y+D];return new n({data:b,size:[p],datatype:this._datatype})},n.diagonal=function(S,D,h,_){if(!isArray(S))throw new TypeError("Array expected, size parameter");if(S.length!==2)throw new Error("Only two dimensions matrix are supported");if(S=S.map(function(j){if(isBigNumber(j)&&(j=j.toNumber()),!isNumber(j)||!isInteger(j)||j<1)throw new Error("Size values must be positive integers");return j}),h){if(isBigNumber(h)&&(h=h.toNumber()),!isNumber(h)||!isInteger(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var o=h>0?h:0,p=h<0?-h:0,b=S[0],y=S[1],A=Math.min(b-p,y-o),E;if(isArray(D)){if(D.length!==A)throw new Error("Invalid value array length");E=function(M){return D[M]}}else if(isMatrix(D)){var N=D.size();if(N.length!==1||N[0]!==A)throw new Error("Invalid matrix length");E=function(M){return D.get([M])}}else E=function(){return D};_||(_=isBigNumber(E(0))?E(0).mul(0):0);var T=[];if(S.length>0){T=resize(T,S,_);for(var O=0;O<A;O++)T[O+p][O+o]=E(O)}return new n({data:T,size:[b,y]})},n.fromJSON=function(S){return new n(S)},n.prototype.swapRows=function(S,D){if(!isNumber(S)||!isInteger(S)||!isNumber(D)||!isInteger(D))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return validateIndex(S,this._size[0]),validateIndex(D,this._size[0]),n._swapRows(S,D,this._data),this},n._swapRows=function(S,D,h){var _=h[S];h[S]=h[D],h[D]=_};function x(S){return isMatrix(S)?x(S.valueOf()):isArray(S)?S.map(x):S}return n},{isClass:!0});function deepMap(C,u,n){return C&&typeof C.map=="function"?C.map(function(a){return deepMap(a,u)}):u(C)}var n1$1="number",n2="number, number";function absNumber(C){return Math.abs(C)}absNumber.signature=n1$1;function addNumber(C,u){return C+u}addNumber.signature=n2;function subtractNumber(C,u){return C-u}subtractNumber.signature=n2;function multiplyNumber(C,u){return C*u}multiplyNumber.signature=n2;function unaryMinusNumber(C){return-C}unaryMinusNumber.signature=n1$1;function powNumber(C,u){return C*C<1&&u===1/0||C*C>1&&u===-1/0?0:Math.pow(C,u)}powNumber.signature=n2;function roundNumber(C){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!isInteger(u)||u<0||u>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(toFixed$1(C,u))}var n1="number";function isZeroNumber(C){return C===0}isZeroNumber.signature=n1;var name$r="isZero",dependencies$r=["typed"],createIsZero=factory(name$r,dependencies$r,C=>{var{typed:u}=C;return u(name$r,{number:isZeroNumber,BigNumber:function(a){return a.isZero()},Complex:function(a){return a.re===0&&a.im===0},Fraction:function(a){return a.d===1&&a.n===0},Unit:u.referToSelf(n=>a=>u.find(n,a.valueType())(a.value)),"Array | Matrix":u.referToSelf(n=>a=>deepMap(a,n))})});function nearlyEqual(C,u,n){if(n==null)return C.eq(u);if(C.eq(u))return!0;if(C.isNaN()||u.isNaN())return!1;if(C.isFinite()&&u.isFinite()){var a=C.minus(u).abs();if(a.isZero())return!0;var r=C.constructor.max(C.abs(),u.abs());return a.lte(r.times(n))}return!1}function complexEquals(C,u,n){return nearlyEqual$1(C.re,u.re,n)&&nearlyEqual$1(C.im,u.im,n)}var createCompareUnits=factory("compareUnits",["typed"],C=>{var{typed:u}=C;return{"Unit, Unit":u.referToSelf(n=>(a,r)=>{if(!a.equalBase(r))throw new Error("Cannot compare units with different base");return u.find(n,[a.valueType(),r.valueType()])(a.value,r.value)})}}),name$q="equalScalar",dependencies$q=["typed","config"],createEqualScalar=factory(name$q,dependencies$q,C=>{var{typed:u,config:n}=C,a=createCompareUnits({typed:u});return u(name$q,{"boolean, boolean":function(g,f){return g===f},"number, number":function(g,f){return nearlyEqual$1(g,f,n.epsilon)},"BigNumber, BigNumber":function(g,f){return g.eq(f)||nearlyEqual(g,f,n.epsilon)},"Fraction, Fraction":function(g,f){return g.equals(f)},"Complex, Complex":function(g,f){return complexEquals(g,f,n.epsilon)}},a)});factory(name$q,["typed","config"],C=>{var{typed:u,config:n}=C;return u(name$q,{"number, number":function(r,g){return nearlyEqual$1(r,g,n.epsilon)}})});var name$p="SparseMatrix",dependencies$p=["typed","equalScalar","Matrix"],createSparseMatrixClass=factory(name$p,dependencies$p,C=>{var{typed:u,equalScalar:n,Matrix:a}=C;function r(p,b){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(b&&!isString(b))throw new Error("Invalid datatype: "+b);if(isMatrix(p))g(this,p,b);else if(p&&isArray(p.index)&&isArray(p.ptr)&&isArray(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=b||p.datatype;else if(isArray(p))f(this,p,b);else{if(p)throw new TypeError("Unsupported type of data ("+typeOf(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=b}}function g(p,b,y){b.type==="SparseMatrix"?(p._values=b._values?clone$2(b._values):void 0,p._index=clone$2(b._index),p._ptr=clone$2(b._ptr),p._size=clone$2(b._size),p._datatype=y||b._datatype):f(p,b.valueOf(),y||b._datatype)}function f(p,b,y){p._values=[],p._index=[],p._ptr=[],p._datatype=y;var A=b.length,E=0,N=n,T=0;if(isString(y)&&(N=u.find(n,[y,y])||n,T=u.convert(0,y)),A>0){var O=0;do{p._ptr.push(p._index.length);for(var j=0;j<A;j++){var M=b[j];if(isArray(M)){if(O===0&&E<M.length&&(E=M.length),O<M.length){var F=M[O];N(F,T)||(p._values.push(F),p._index.push(j))}}else O===0&&E<1&&(E=1),N(M,T)||(p._values.push(M),p._index.push(j))}O++}while(O<E)}p._ptr.push(p._index.length),p._size=[A,E]}r.prototype=new a,r.prototype.createSparseMatrix=function(p,b){return new r(p,b)},Object.defineProperty(r,"name",{value:"SparseMatrix"}),r.prototype.constructor=r,r.prototype.type="SparseMatrix",r.prototype.isSparseMatrix=!0,r.prototype.getDataType=function(){return getArrayDataType(this._values,typeOf)},r.prototype.storage=function(){return"sparse"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(p,b){return new r(p,b)},r.prototype.density=function(){var p=this._size[0],b=this._size[1];return p!==0&&b!==0?this._index.length/(p*b):0},r.prototype.subset=function(p,b,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return m(this,p);case 2:case 3:return l(this,p,b,y);default:throw new SyntaxError("Wrong number of arguments")}};function m(p,b){if(!isIndex(b))throw new TypeError("Invalid index");var y=b.isScalar();if(y)return p.get(b.min());var A=b.size();if(A.length!==p._size.length)throw new DimensionError(A.length,p._size.length);var E,N,T,O,j=b.min(),M=b.max();for(E=0,N=p._size.length;E<N;E++)validateIndex(j[E],p._size[E]),validateIndex(M[E],p._size[E]);var F=p._values,B=p._index,I=p._ptr,G=b.dimension(0),k=b.dimension(1),V=[],R=[];G.forEach(function(X,Z){R[X]=Z[0],V[X]=!0});var U=F?[]:void 0,L=[],H=[];return k.forEach(function(X){for(H.push(L.length),T=I[X],O=I[X+1];T<O;T++)E=B[T],V[E]===!0&&(L.push(R[E]),U&&U.push(F[T]))}),H.push(L.length),new r({values:U,index:L,ptr:H,size:A,datatype:p._datatype})}function l(p,b,y,A){if(!b||b.isIndex!==!0)throw new TypeError("Invalid index");var E=b.size(),N=b.isScalar(),T;if(isMatrix(y)?(T=y.size(),y=y.toArray()):T=arraySize(y),N){if(T.length!==0)throw new TypeError("Scalar expected");p.set(b.min(),y,A)}else{if(E.length!==1&&E.length!==2)throw new DimensionError(E.length,p._size.length,"<");if(T.length<E.length){for(var O=0,j=0;E[O]===1&&T[O]===1;)O++;for(;E[O]===1;)j++,O++;y=unsqueeze(y,E.length,j,T)}if(!deepStrictEqual(E,T))throw new DimensionError(E,T,">");if(E.length===1){var M=b.dimension(0);M.forEach(function(I,G){validateIndex(I),p.set([I,0],y[G[0]],A)})}else{var F=b.dimension(0),B=b.dimension(1);F.forEach(function(I,G){validateIndex(I),B.forEach(function(k,V){validateIndex(k),p.set([I,k],y[G[0]][V[0]],A)})})}}return p}r.prototype.get=function(p){if(!isArray(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new DimensionError(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var b=p[0],y=p[1];validateIndex(b,this._size[0]),validateIndex(y,this._size[1]);var A=x(b,this._ptr[y],this._ptr[y+1],this._index);return A<this._ptr[y+1]&&this._index[A]===b?this._values[A]:0},r.prototype.set=function(p,b,y){if(!isArray(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new DimensionError(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var A=p[0],E=p[1],N=this._size[0],T=this._size[1],O=n,j=0;isString(this._datatype)&&(O=u.find(n,[this._datatype,this._datatype])||n,j=u.convert(0,this._datatype)),(A>N-1||E>T-1)&&(h(this,Math.max(A+1,N),Math.max(E+1,T),y),N=this._size[0],T=this._size[1]),validateIndex(A,N),validateIndex(E,T);var M=x(A,this._ptr[E],this._ptr[E+1],this._index);return M<this._ptr[E+1]&&this._index[M]===A?O(b,j)?S(M,E,this._values,this._index,this._ptr):this._values[M]=b:O(b,j)||D(M,A,E,b,this._values,this._index,this._ptr),this};function x(p,b,y,A){if(y-b===0)return y;for(var E=b;E<y;E++)if(A[E]===p)return E;return b}function S(p,b,y,A,E){y.splice(p,1),A.splice(p,1);for(var N=b+1;N<E.length;N++)E[N]--}function D(p,b,y,A,E,N,T){E.splice(p,0,A),N.splice(p,0,b);for(var O=y+1;O<T.length;O++)T[O]++}r.prototype.resize=function(p,b,y){if(!isCollection(p))throw new TypeError("Array or Matrix expected");var A=p.valueOf().map(N=>Array.isArray(N)&&N.length===1?N[0]:N);if(A.length!==2)throw new Error("Only two dimensions matrix are supported");A.forEach(function(N){if(!isNumber(N)||!isInteger(N)||N<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format(A)+")")});var E=y?this.clone():this;return h(E,A[0],A[1],b)};function h(p,b,y,A){var E=A||0,N=n,T=0;isString(p._datatype)&&(N=u.find(n,[p._datatype,p._datatype])||n,T=u.convert(0,p._datatype),E=u.convert(E,p._datatype));var O=!N(E,T),j=p._size[0],M=p._size[1],F,B,I;if(y>M){for(B=M;B<y;B++)if(p._ptr[B]=p._values.length,O)for(F=0;F<j;F++)p._values.push(E),p._index.push(F);p._ptr[y]=p._values.length}else y<M&&(p._ptr.splice(y+1,M-y),p._values.splice(p._ptr[y],p._values.length),p._index.splice(p._ptr[y],p._index.length));if(M=y,b>j){if(O){var G=0;for(B=0;B<M;B++){p._ptr[B]=p._ptr[B]+G,I=p._ptr[B+1]+G;var k=0;for(F=j;F<b;F++,k++)p._values.splice(I+k,0,E),p._index.splice(I+k,0,F),G++}p._ptr[M]=p._values.length}}else if(b<j){var V=0;for(B=0;B<M;B++){p._ptr[B]=p._ptr[B]-V;var R=p._ptr[B],U=p._ptr[B+1]-V;for(I=R;I<U;I++)F=p._index[I],F>b-1&&(p._values.splice(I,1),p._index.splice(I,1),V++)}p._ptr[B]=p._values.length}return p._size[0]=b,p._size[1]=y,p}r.prototype.reshape=function(p,b){if(!isArray(p))throw new TypeError("Array expected");if(p.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function(X){if(!isNumber(X)||!isInteger(X)||X<=-2||X===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+format(p)+")")});var y=this._size[0]*this._size[1];p=processSizesWildcard(p,y);var A=p[0]*p[1];if(y!==A)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var E=b?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return E;for(var N=[],T=0;T<E._ptr.length;T++)for(var O=0;O<E._ptr[T+1]-E._ptr[T];O++)N.push(T);for(var j=E._values.slice(),M=E._index.slice(),F=0;F<E._index.length;F++){var B=M[F],I=N[F],G=B*E._size[1]+I;N[F]=G%p[1],M[F]=Math.floor(G/p[1])}E._values.length=0,E._index.length=0,E._ptr.length=p[1]+1,E._size=p.slice();for(var k=0;k<E._ptr.length;k++)E._ptr[k]=0;for(var V=0;V<j.length;V++){var R=M[V],U=N[V],L=j[V],H=x(R,E._ptr[U],E._ptr[U+1],E._index);D(H,R,U,L,E._values,E._index,E._ptr)}return E},r.prototype.clone=function(){var p=new r({values:this._values?clone$2(this._values):void 0,index:clone$2(this._index),ptr:clone$2(this._ptr),size:clone$2(this._size),datatype:this._datatype});return p},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(p,b){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,A=this._size[0],E=this._size[1],N=maxArgumentCount(p),T=function(j,M,F){return N===1?p(j):N===2?p(j,[M,F]):p(j,[M,F],y)};return _(this,0,A-1,0,E-1,T,b)};function _(p,b,y,A,E,N,T){var O=[],j=[],M=[],F=n,B=0;isString(p._datatype)&&(F=u.find(n,[p._datatype,p._datatype])||n,B=u.convert(0,p._datatype));for(var I=function($,W,Y){$=N($,W,Y),F($,B)||(O.push($),j.push(W))},G=A;G<=E;G++){M.push(O.length);var k=p._ptr[G],V=p._ptr[G+1];if(T)for(var R=k;R<V;R++){var U=p._index[R];U>=b&&U<=y&&I(p._values[R],U-b,G-A)}else{for(var L={},H=k;H<V;H++){var X=p._index[H];L[X]=p._values[H]}for(var Z=b;Z<=y;Z++){var J=Z in L?L[Z]:0;I(J,Z-b,G-A)}}}return M.push(O.length),new r({values:O,index:j,ptr:M,size:[y-b+1,E-A+1]})}r.prototype.forEach=function(p,b){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,A=this._size[0],E=this._size[1],N=0;N<E;N++){var T=this._ptr[N],O=this._ptr[N+1];if(b)for(var j=T;j<O;j++){var M=this._index[j];p(this._values[j],[M,N],y)}else{for(var F={},B=T;B<O;B++){var I=this._index[B];F[I]=this._values[B]}for(var G=0;G<A;G++){var k=G in F?F[G]:0;p(k,[G,N],y)}}}},r.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],b=0;b<p;b++)for(var y=this._ptr[b],A=this._ptr[b+1],E=y;E<A;E++){var N=this._index[E];yield{value:this._values[E],index:[N,b]}}},r.prototype.toArray=function(){return o(this._values,this._index,this._ptr,this._size,!0)},r.prototype.valueOf=function(){return o(this._values,this._index,this._ptr,this._size,!1)};function o(p,b,y,A,E){var N=A[0],T=A[1],O=[],j,M;for(j=0;j<N;j++)for(O[j]=[],M=0;M<T;M++)O[j][M]=0;for(M=0;M<T;M++)for(var F=y[M],B=y[M+1],I=F;I<B;I++)j=b[I],O[j][M]=p?E?clone$2(p[I]):p[I]:1;return O}return r.prototype.format=function(p){for(var b=this._size[0],y=this._size[1],A=this.density(),E="Sparse Matrix ["+format(b,p)+" x "+format(y,p)+"] density: "+format(A,p)+`
`,N=0;N<y;N++)for(var T=this._ptr[N],O=this._ptr[N+1],j=T;j<O;j++){var M=this._index[j];E+=`
    (`+format(M,p)+", "+format(N,p)+") ==> "+(this._values?format(this._values[j],p):"X")}return E},r.prototype.toString=function(){return format(this.toArray())},r.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(p){if(p){if(isBigNumber(p)&&(p=p.toNumber()),!isNumber(p)||!isInteger(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var b=p>0?p:0,y=p<0?-p:0,A=this._size[0],E=this._size[1],N=Math.min(A-y,E-b),T=[],O=[],j=[];j[0]=0;for(var M=b;M<E&&T.length<N;M++)for(var F=this._ptr[M],B=this._ptr[M+1],I=F;I<B;I++){var G=this._index[I];if(G===M-b+y){T.push(this._values[I]),O[T.length-1]=G-y;break}}return j.push(T.length),new r({values:T,index:O,ptr:j,size:[N,1]})},r.fromJSON=function(p){return new r(p)},r.diagonal=function(p,b,y,A,E){if(!isArray(p))throw new TypeError("Array expected, size parameter");if(p.length!==2)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(X){if(isBigNumber(X)&&(X=X.toNumber()),!isNumber(X)||!isInteger(X)||X<1)throw new Error("Size values must be positive integers");return X}),y){if(isBigNumber(y)&&(y=y.toNumber()),!isNumber(y)||!isInteger(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var N=n,T=0;isString(E)&&(N=u.find(n,[E,E])||n,T=u.convert(0,E));var O=y>0?y:0,j=y<0?-y:0,M=p[0],F=p[1],B=Math.min(M-j,F-O),I;if(isArray(b)){if(b.length!==B)throw new Error("Invalid value array length");I=function(Z){return b[Z]}}else if(isMatrix(b)){var G=b.size();if(G.length!==1||G[0]!==B)throw new Error("Invalid matrix length");I=function(Z){return b.get([Z])}}else I=function(){return b};for(var k=[],V=[],R=[],U=0;U<F;U++){R.push(k.length);var L=U-O;if(L>=0&&L<B){var H=I(L);N(H,T)||(V.push(L+j),k.push(H))}}return R.push(k.length),new r({values:k,index:V,ptr:R,size:[M,F]})},r.prototype.swapRows=function(p,b){if(!isNumber(p)||!isInteger(p)||!isNumber(b)||!isInteger(b))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return validateIndex(p,this._size[0]),validateIndex(b,this._size[0]),r._swapRows(p,b,this._size[1],this._values,this._index,this._ptr),this},r._forEachRow=function(p,b,y,A,E){for(var N=A[p],T=A[p+1],O=N;O<T;O++)E(y[O],b[O])},r._swapRows=function(p,b,y,A,E,N){for(var T=0;T<y;T++){var O=N[T],j=N[T+1],M=x(p,O,j,E),F=x(b,O,j,E);if(M<j&&F<j&&E[M]===p&&E[F]===b){if(A){var B=A[M];A[M]=A[F],A[F]=B}continue}if(M<j&&E[M]===p&&(F>=j||E[F]!==b)){var I=A?A[M]:void 0;E.splice(F,0,b),A&&A.splice(F,0,I),E.splice(F<=M?M+1:M,1),A&&A.splice(F<=M?M+1:M,1);continue}if(F<j&&E[F]===b&&(M>=j||E[M]!==p)){var G=A?A[F]:void 0;E.splice(M,0,p),A&&A.splice(M,0,G),E.splice(M<=F?F+1:F,1),A&&A.splice(M<=F?F+1:F,1)}}},r},{isClass:!0}),name$o="number",dependencies$o=["typed"];function getNonDecimalNumberParts(C){var u=C.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(u){var n={"0b":2,"0o":8,"0x":16}[u[1]],a=u[2],r=u[3];return{input:C,radix:n,integerPart:a,fractionalPart:r}}else return null}function makeNumberFromNonDecimalParts(C){for(var u=parseInt(C.integerPart,C.radix),n=0,a=0;a<C.fractionalPart.length;a++){var r=parseInt(C.fractionalPart[a],C.radix);n+=r/Math.pow(C.radix,a+1)}var g=u+n;if(isNaN(g))throw new SyntaxError('String "'+C.input+'" is not a valid number');return g}var createNumber=factory(name$o,dependencies$o,C=>{var{typed:u}=C,n=u("number",{"":function(){return 0},number:function(r){return r},string:function(r){if(r==="NaN")return NaN;var g=getNonDecimalNumberParts(r);if(g)return makeNumberFromNonDecimalParts(g);var f=0,m=r.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);m&&(f=Number(m[2]),r=m[1]);var l=Number(r);if(isNaN(l))throw new SyntaxError('String "'+r+'" is not a valid number');if(m){if(l>2**f-1)throw new SyntaxError('String "'.concat(r,'" is out of range'));l>=2**(f-1)&&(l=l-2**f)}return l},BigNumber:function(r){return r.toNumber()},Fraction:function(r){return r.valueOf()},Unit:u.referToSelf(a=>r=>{var g=r.clone();return g.value=a(r.value),g}),null:function(r){return 0},"Unit, string | Unit":function(r,g){return r.toNumber(g)},"Array | Matrix":u.referToSelf(a=>r=>deepMap(r,a))});return n.fromJSON=function(a){return parseFloat(a.value)},n}),name$n="bignumber",dependencies$n=["typed","BigNumber"],createBignumber=factory(name$n,dependencies$n,C=>{var{typed:u,BigNumber:n}=C;return u("bignumber",{"":function(){return new n(0)},number:function(r){return new n(r+"")},string:function(r){var g=r.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(g){var f=g[2],m=n(g[1]),l=new n(2).pow(Number(f));if(m.gt(l.sub(1)))throw new SyntaxError('String "'.concat(r,'" is out of range'));var x=new n(2).pow(Number(f)-1);return m.gte(x)?m.sub(l):m}return new n(r)},BigNumber:function(r){return r},Unit:u.referToSelf(a=>r=>{var g=r.clone();return g.value=a(r.value),g}),Fraction:function(r){return new n(r.n).div(r.d).times(r.s)},null:function(r){return new n(0)},"Array | Matrix":u.referToSelf(a=>r=>deepMap(r,a))})}),name$m="complex",dependencies$m=["typed","Complex"],createComplex=factory(name$m,dependencies$m,C=>{var{typed:u,Complex:n}=C;return u("complex",{"":function(){return n.ZERO},number:function(r){return new n(r,0)},"number, number":function(r,g){return new n(r,g)},"BigNumber, BigNumber":function(r,g){return new n(r.toNumber(),g.toNumber())},Fraction:function(r){return new n(r.valueOf(),0)},Complex:function(r){return r.clone()},string:function(r){return n(r)},null:function(r){return n(0)},Object:function(r){if("re"in r&&"im"in r)return new n(r.re,r.im);if("r"in r&&"phi"in r||"abs"in r&&"arg"in r)return new n(r);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":u.referToSelf(a=>r=>deepMap(r,a))})}),name$l="fraction",dependencies$l=["typed","Fraction"],createFraction=factory(name$l,dependencies$l,C=>{var{typed:u,Fraction:n}=C;return u("fraction",{number:function(r){if(!isFinite(r)||isNaN(r))throw new Error(r+" cannot be represented as a fraction");return new n(r)},string:function(r){return new n(r)},"number, number":function(r,g){return new n(r,g)},null:function(r){return new n(0)},BigNumber:function(r){return new n(r.toString())},Fraction:function(r){return r},Unit:u.referToSelf(a=>r=>{var g=r.clone();return g.value=a(r.value),g}),Object:function(r){return new n(r)},"Array | Matrix":u.referToSelf(a=>r=>deepMap(r,a))})}),name$k="matrix",dependencies$k=["typed","Matrix","DenseMatrix","SparseMatrix"],createMatrix=factory(name$k,dependencies$k,C=>{var{typed:u,Matrix:n,DenseMatrix:a,SparseMatrix:r}=C;return u(name$k,{"":function(){return g([])},string:function(m){return g([],m)},"string, string":function(m,l){return g([],m,l)},Array:function(m){return g(m)},Matrix:function(m){return g(m,m.storage())},"Array | Matrix, string":g,"Array | Matrix, string, string":g});function g(f,m,l){if(m==="dense"||m==="default"||m===void 0)return new a(f,l);if(m==="sparse")return new r(f,l);throw new TypeError("Unknown matrix type "+JSON.stringify(m)+".")}}),name$j="unaryMinus",dependencies$j=["typed"],createUnaryMinus=factory(name$j,dependencies$j,C=>{var{typed:u}=C;return u(name$j,{number:unaryMinusNumber,"Complex | BigNumber | Fraction":n=>n.neg(),Unit:u.referToSelf(n=>a=>{var r=a.clone();return r.value=u.find(n,r.valueType())(a.value),r}),"Array | Matrix":u.referToSelf(n=>a=>deepMap(a,n))})}),name$i="abs",dependencies$i=["typed"],createAbs=factory(name$i,dependencies$i,C=>{var{typed:u}=C;return u(name$i,{number:absNumber,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),"Array | Matrix":u.referToSelf(n=>a=>deepMap(a,n))})}),name$h="addScalar",dependencies$h=["typed"],createAddScalar=factory(name$h,dependencies$h,C=>{var{typed:u}=C;return u(name$h,{"number, number":addNumber,"Complex, Complex":function(a,r){return a.add(r)},"BigNumber, BigNumber":function(a,r){return a.plus(r)},"Fraction, Fraction":function(a,r){return a.add(r)},"Unit, Unit":u.referToSelf(n=>(a,r)=>{if(a.value===null||a.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(r.value===null||r.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(r))throw new Error("Units do not match");var g=a.clone();return g.value=u.find(n,[g.valueType(),r.valueType()])(g.value,r.value),g.fixPrefix=!1,g})})}),name$g="subtractScalar",dependencies$g=["typed"],createSubtractScalar=factory(name$g,dependencies$g,C=>{var{typed:u}=C;return u(name$g,{"number, number":subtractNumber,"Complex, Complex":function(a,r){return a.sub(r)},"BigNumber, BigNumber":function(a,r){return a.minus(r)},"Fraction, Fraction":function(a,r){return a.sub(r)},"Unit, Unit":u.referToSelf(n=>(a,r)=>{if(a.value===null||a.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(r.value===null||r.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(r))throw new Error("Units do not match");var g=a.clone();return g.value=u.find(n,[g.valueType(),r.valueType()])(g.value,r.value),g.fixPrefix=!1,g})})}),name$f="matAlgo11xS0s",dependencies$f=["typed","equalScalar"],createMatAlgo11xS0s=factory(name$f,dependencies$f,C=>{var{typed:u,equalScalar:n}=C;return function(r,g,f,m){var l=r._values,x=r._index,S=r._ptr,D=r._size,h=r._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var _=D[0],o=D[1],p,b=n,y=0,A=f;typeof h=="string"&&(p=h,b=u.find(n,[p,p]),y=u.convert(0,p),g=u.convert(g,p),A=u.find(f,[p,p]));for(var E=[],N=[],T=[],O=0;O<o;O++){T[O]=N.length;for(var j=S[O],M=S[O+1],F=j;F<M;F++){var B=x[F],I=m?A(g,l[F]):A(l[F],g);b(I,y)||(N.push(B),E.push(I))}}return T[o]=N.length,r.createSparseMatrix({values:E,index:N,ptr:T,size:[_,o],datatype:p})}}),name$e="matAlgo12xSfs",dependencies$e=["typed","DenseMatrix"],createMatAlgo12xSfs=factory(name$e,dependencies$e,C=>{var{typed:u,DenseMatrix:n}=C;return function(r,g,f,m){var l=r._values,x=r._index,S=r._ptr,D=r._size,h=r._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var _=D[0],o=D[1],p,b=f;typeof h=="string"&&(p=h,g=u.convert(g,p),b=u.find(f,[p,p]));for(var y=[],A=[],E=[],N=0;N<o;N++){for(var T=N+1,O=S[N],j=S[N+1],M=O;M<j;M++){var F=x[M];A[F]=l[M],E[F]=T}for(var B=0;B<_;B++)N===0&&(y[B]=[]),E[B]===T?y[B][N]=m?b(g,A[B]):b(A[B],g):y[B][N]=m?b(g,0):b(0,g)}return new n({data:y,size:[_,o],datatype:p})}}),name$d="matAlgo14xDs",dependencies$d=["typed"],createMatAlgo14xDs=factory(name$d,dependencies$d,C=>{var{typed:u}=C;return function(r,g,f,m){var l=r._data,x=r._size,S=r._datatype,D,h=f;typeof S=="string"&&(D=S,g=u.convert(g,D),h=u.find(f,[D,D]));var _=x.length>0?n(h,0,x,x[0],l,g,m):[];return r.createDenseMatrix({data:_,size:clone$2(x),datatype:D})};function n(a,r,g,f,m,l,x){var S=[];if(r===g.length-1)for(var D=0;D<f;D++)S[D]=x?a(l,m[D]):a(m[D],l);else for(var h=0;h<f;h++)S[h]=n(a,r+1,g,g[r+1],m[h],l,x);return S}}),name$c="multiplyScalar",dependencies$c=["typed"],createMultiplyScalar=factory(name$c,dependencies$c,C=>{var{typed:u}=C;return u("multiplyScalar",{"number, number":multiplyNumber,"Complex, Complex":function(a,r){return a.mul(r)},"BigNumber, BigNumber":function(a,r){return a.times(r)},"Fraction, Fraction":function(a,r){return a.mul(r)},"number | Fraction | BigNumber | Complex, Unit":(n,a)=>a.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,a)=>n.multiply(a)})}),name$b="multiply",dependencies$b=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],createMultiply=factory(name$b,dependencies$b,C=>{var{typed:u,matrix:n,addScalar:a,multiplyScalar:r,equalScalar:g,dot:f}=C,m=createMatAlgo11xS0s({typed:u,equalScalar:g}),l=createMatAlgo14xDs({typed:u});function x(T,O){switch(T.length){case 1:switch(O.length){case 1:if(T[0]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(T[0]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+T[0]+") must match Matrix rows ("+O[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+O.length+" dimensions)")}break;case 2:switch(O.length){case 1:if(T[1]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+T[1]+") must match Vector length ("+O[0]+")");break;case 2:if(T[1]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+T[1]+") must match Matrix B rows ("+O[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+O.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+T.length+" dimensions)")}}function S(T,O,j){if(j===0)throw new Error("Cannot multiply two empty vectors");return f(T,O)}function D(T,O){if(O.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return h(T,O)}function h(T,O){var j=T._data,M=T._size,F=T._datatype||T.getDataType(),B=O._data,I=O._size,G=O._datatype||O.getDataType(),k=M[0],V=I[1],R,U=a,L=r;F&&G&&F===G&&typeof F=="string"&&F!=="mixed"&&(R=F,U=u.find(a,[R,R]),L=u.find(r,[R,R]));for(var H=[],X=0;X<V;X++){for(var Z=L(j[0],B[0][X]),J=1;J<k;J++)Z=U(Z,L(j[J],B[J][X]));H[X]=Z}return T.createDenseMatrix({data:H,size:[V],datatype:F===T._datatype&&G===O._datatype?R:void 0})}var _=u("_multiplyMatrixVector",{"DenseMatrix, any":p,"SparseMatrix, any":A}),o=u("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":b,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":E,"SparseMatrix, SparseMatrix":N});function p(T,O){var j=T._data,M=T._size,F=T._datatype||T.getDataType(),B=O._data,I=O._datatype||O.getDataType(),G=M[0],k=M[1],V,R=a,U=r;F&&I&&F===I&&typeof F=="string"&&F!=="mixed"&&(V=F,R=u.find(a,[V,V]),U=u.find(r,[V,V]));for(var L=[],H=0;H<G;H++){for(var X=j[H],Z=U(X[0],B[0]),J=1;J<k;J++)Z=R(Z,U(X[J],B[J]));L[H]=Z}return T.createDenseMatrix({data:L,size:[G],datatype:F===T._datatype&&I===O._datatype?V:void 0})}function b(T,O){var j=T._data,M=T._size,F=T._datatype||T.getDataType(),B=O._data,I=O._size,G=O._datatype||O.getDataType(),k=M[0],V=M[1],R=I[1],U,L=a,H=r;F&&G&&F===G&&typeof F=="string"&&F!=="mixed"&&F!=="mixed"&&(U=F,L=u.find(a,[U,U]),H=u.find(r,[U,U]));for(var X=[],Z=0;Z<k;Z++){var J=j[Z];X[Z]=[];for(var K=0;K<R;K++){for(var $=H(J[0],B[0][K]),W=1;W<V;W++)$=L($,H(J[W],B[W][K]));X[Z][K]=$}}return T.createDenseMatrix({data:X,size:[k,R],datatype:F===T._datatype&&G===O._datatype?U:void 0})}function y(T,O){var j=T._data,M=T._size,F=T._datatype||T.getDataType(),B=O._values,I=O._index,G=O._ptr,k=O._size,V=O._datatype||O._data===void 0?O._datatype:O.getDataType();if(!B)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var R=M[0],U=k[1],L,H=a,X=r,Z=g,J=0;F&&V&&F===V&&typeof F=="string"&&F!=="mixed"&&(L=F,H=u.find(a,[L,L]),X=u.find(r,[L,L]),Z=u.find(g,[L,L]),J=u.convert(0,L));for(var K=[],$=[],W=[],Y=O.createSparseMatrix({values:K,index:$,ptr:W,size:[R,U],datatype:F===T._datatype&&V===O._datatype?L:void 0}),te=0;te<U;te++){W[te]=$.length;var ce=G[te],oe=G[te+1];if(oe>ce)for(var ue=0,Ce=0;Ce<R;Ce++){for(var le=Ce+1,ye=void 0,ve=ce;ve<oe;ve++){var pe=I[ve];ue!==le?(ye=X(j[Ce][pe],B[ve]),ue=le):ye=H(ye,X(j[Ce][pe],B[ve]))}ue===le&&!Z(ye,J)&&($.push(Ce),K.push(ye))}}return W[U]=$.length,Y}function A(T,O){var j=T._values,M=T._index,F=T._ptr,B=T._datatype||T._data===void 0?T._datatype:T.getDataType();if(!j)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=O._data,G=O._datatype||O.getDataType(),k=T._size[0],V=O._size[0],R=[],U=[],L=[],H,X=a,Z=r,J=g,K=0;B&&G&&B===G&&typeof B=="string"&&B!=="mixed"&&(H=B,X=u.find(a,[H,H]),Z=u.find(r,[H,H]),J=u.find(g,[H,H]),K=u.convert(0,H));var $=[],W=[];L[0]=0;for(var Y=0;Y<V;Y++){var te=I[Y];if(!J(te,K))for(var ce=F[Y],oe=F[Y+1],ue=ce;ue<oe;ue++){var Ce=M[ue];W[Ce]?$[Ce]=X($[Ce],Z(te,j[ue])):(W[Ce]=!0,U.push(Ce),$[Ce]=Z(te,j[ue]))}}for(var le=U.length,ye=0;ye<le;ye++){var ve=U[ye];R[ye]=$[ve]}return L[1]=U.length,T.createSparseMatrix({values:R,index:U,ptr:L,size:[k,1],datatype:B===T._datatype&&G===O._datatype?H:void 0})}function E(T,O){var j=T._values,M=T._index,F=T._ptr,B=T._datatype||T._data===void 0?T._datatype:T.getDataType();if(!j)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=O._data,G=O._datatype||O.getDataType(),k=T._size[0],V=O._size[0],R=O._size[1],U,L=a,H=r,X=g,Z=0;B&&G&&B===G&&typeof B=="string"&&B!=="mixed"&&(U=B,L=u.find(a,[U,U]),H=u.find(r,[U,U]),X=u.find(g,[U,U]),Z=u.convert(0,U));for(var J=[],K=[],$=[],W=T.createSparseMatrix({values:J,index:K,ptr:$,size:[k,R],datatype:B===T._datatype&&G===O._datatype?U:void 0}),Y=[],te=[],ce=0;ce<R;ce++){$[ce]=K.length;for(var oe=ce+1,ue=0;ue<V;ue++){var Ce=I[ue][ce];if(!X(Ce,Z))for(var le=F[ue],ye=F[ue+1],ve=le;ve<ye;ve++){var pe=M[ve];te[pe]!==oe?(te[pe]=oe,K.push(pe),Y[pe]=H(Ce,j[ve])):Y[pe]=L(Y[pe],H(Ce,j[ve]))}}for(var be=$[ce],Ne=K.length,he=be;he<Ne;he++){var ne=K[he];J[he]=Y[ne]}}return $[R]=K.length,W}function N(T,O){var j=T._values,M=T._index,F=T._ptr,B=T._datatype||T._data===void 0?T._datatype:T.getDataType(),I=O._values,G=O._index,k=O._ptr,V=O._datatype||O._data===void 0?O._datatype:O.getDataType(),R=T._size[0],U=O._size[1],L=j&&I,H,X=a,Z=r;B&&V&&B===V&&typeof B=="string"&&B!=="mixed"&&(H=B,X=u.find(a,[H,H]),Z=u.find(r,[H,H]));for(var J=L?[]:void 0,K=[],$=[],W=T.createSparseMatrix({values:J,index:K,ptr:$,size:[R,U],datatype:B===T._datatype&&V===O._datatype?H:void 0}),Y=L?[]:void 0,te=[],ce,oe,ue,Ce,le,ye,ve,pe,be=0;be<U;be++){$[be]=K.length;var Ne=be+1;for(le=k[be],ye=k[be+1],Ce=le;Ce<ye;Ce++)if(pe=G[Ce],L)for(oe=F[pe],ue=F[pe+1],ce=oe;ce<ue;ce++)ve=M[ce],te[ve]!==Ne?(te[ve]=Ne,K.push(ve),Y[ve]=Z(I[Ce],j[ce])):Y[ve]=X(Y[ve],Z(I[Ce],j[ce]));else for(oe=F[pe],ue=F[pe+1],ce=oe;ce<ue;ce++)ve=M[ce],te[ve]!==Ne&&(te[ve]=Ne,K.push(ve));if(L)for(var he=$[be],ne=K.length,re=he;re<ne;re++){var de=K[re];J[re]=Y[de]}}return $[U]=K.length,W}return u(name$b,r,{"Array, Array":u.referTo("Matrix, Matrix",T=>(O,j)=>{x(arraySize(O),arraySize(j));var M=T(n(O),n(j));return isMatrix(M)?M.valueOf():M}),"Matrix, Matrix":function(O,j){var M=O.size(),F=j.size();return x(M,F),M.length===1?F.length===1?S(O,j,M[0]):D(O,j):F.length===1?_(O,j):o(O,j)},"Matrix, Array":u.referTo("Matrix,Matrix",T=>(O,j)=>T(O,n(j))),"Array, Matrix":u.referToSelf(T=>(O,j)=>T(n(O,j.storage()),j)),"SparseMatrix, any":function(O,j){return m(O,j,r,!1)},"DenseMatrix, any":function(O,j){return l(O,j,r,!1)},"any, SparseMatrix":function(O,j){return m(j,O,r,!0)},"any, DenseMatrix":function(O,j){return l(j,O,r,!0)},"Array, any":function(O,j){return l(n(O),j,r,!1).valueOf()},"any, Array":function(O,j){return l(n(j),O,r,!0).valueOf()},"any, any":r,"any, any, ...any":u.referToSelf(T=>(O,j,M)=>{for(var F=T(O,j),B=0;B<M.length;B++)F=T(F,M[B]);return F})})}),name$a="conj",dependencies$a=["typed"],createConj=factory(name$a,dependencies$a,C=>{var{typed:u}=C;return u(name$a,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":u.referToSelf(n=>a=>deepMap(a,n))})}),name$9="identity",dependencies$9=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],createIdentity=factory(name$9,dependencies$9,C=>{var{typed:u,config:n,matrix:a,BigNumber:r,DenseMatrix:g,SparseMatrix:f}=C;return u(name$9,{"":function(){return n.matrix==="Matrix"?a([]):[]},string:function(S){return a(S)},"number | BigNumber":function(S){return l(S,S,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(S,D){return l(S,S,D)},"number | BigNumber, number | BigNumber":function(S,D){return l(S,D,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(S,D,h){return l(S,D,h)},Array:function(S){return m(S)},"Array, string":function(S,D){return m(S,D)},Matrix:function(S){return m(S.valueOf(),S.storage())},"Matrix, string":function(S,D){return m(S.valueOf(),D)}});function m(x,S){switch(x.length){case 0:return S?a(S):[];case 1:return l(x[0],x[0],S);case 2:return l(x[0],x[1],S);default:throw new Error("Vector containing two values expected")}}function l(x,S,D){var h=isBigNumber(x)||isBigNumber(S)?r:null;if(isBigNumber(x)&&(x=x.toNumber()),isBigNumber(S)&&(S=S.toNumber()),!isInteger(x)||x<1)throw new Error("Parameters in function identity must be positive integers");if(!isInteger(S)||S<1)throw new Error("Parameters in function identity must be positive integers");var _=h?new r(1):1,o=h?new h(0):0,p=[x,S];if(D){if(D==="sparse")return f.diagonal(p,_,0,o);if(D==="dense")return g.diagonal(p,_,0,o);throw new TypeError('Unknown matrix type "'.concat(D,'"'))}for(var b=resize([],p,o),y=x<S?x:S,A=0;A<y;A++)b[A][A]=_;return b}});function noBignumber(){throw new Error('No "bignumber" implementation available')}function noFraction(){throw new Error('No "fraction" implementation available')}function noMatrix(){throw new Error('No "matrix" implementation available')}var name$8="size",dependencies$8=["typed","config","?matrix"],createSize=factory(name$8,dependencies$8,C=>{var{typed:u,config:n,matrix:a}=C;return u(name$8,{Matrix:function(g){return g.create(g.size())},Array:arraySize,string:function(g){return n.matrix==="Array"?[g.length]:a([g.length])},"number | Complex | BigNumber | Unit | boolean | null":function(g){return n.matrix==="Array"?[]:a?a([]):noMatrix()}})}),name$7="zeros",dependencies$7=["typed","config","matrix","BigNumber"],createZeros=factory(name$7,dependencies$7,C=>{var{typed:u,config:n,matrix:a,BigNumber:r}=C;return u(name$7,{"":function(){return n.matrix==="Array"?g([]):g([],"default")},"...number | BigNumber | string":function(x){var S=x[x.length-1];if(typeof S=="string"){var D=x.pop();return g(x,D)}else return n.matrix==="Array"?g(x):g(x,"default")},Array:g,Matrix:function(x){var S=x.storage();return g(x.valueOf(),S)},"Array | Matrix, string":function(x,S){return g(x.valueOf(),S)}});function g(l,x){var S=f(l),D=S?new r(0):0;if(m(l),x){var h=a(x);return l.length>0?h.resize(l,D):h}else{var _=[];return l.length>0?resize(_,l,D):_}}function f(l){var x=!1;return l.forEach(function(S,D,h){isBigNumber(S)&&(x=!0,h[D]=S.toNumber())}),x}function m(l){l.forEach(function(x){if(typeof x!="number"||!isInteger(x)||x<0)throw new Error("Parameters in function zeros must be positive integers")})}}),name$6="numeric",dependencies$6=["number","?bignumber","?fraction"],createNumeric=factory(name$6,dependencies$6,C=>{var{number:u,bignumber:n,fraction:a}=C,r={string:!0,number:!0,BigNumber:!0,Fraction:!0},g={number:f=>u(f),BigNumber:n?f=>n(f):noBignumber,Fraction:a?f=>a(f):noFraction};return function(m){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",x=arguments.length>2?arguments[2]:void 0;if(x!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var S=typeOf(m);if(!(S in r))throw new TypeError("Cannot convert "+m+' of type "'+S+'"; valid input types are '+Object.keys(r).join(", "));if(!(l in g))throw new TypeError("Cannot convert "+m+' to type "'+l+'"; valid output types are '+Object.keys(g).join(", "));return l===S?m:g[l](m)}}),name$5="divideScalar",dependencies$5=["typed","numeric"],createDivideScalar=factory(name$5,dependencies$5,C=>{var{typed:u,numeric:n}=C;return u(name$5,{"number, number":function(r,g){return r/g},"Complex, Complex":function(r,g){return r.div(g)},"BigNumber, BigNumber":function(r,g){return r.div(g)},"Fraction, Fraction":function(r,g){return r.div(g)},"Unit, number | Complex | Fraction | BigNumber | Unit":(a,r)=>a.divide(r),"number | Fraction | Complex | BigNumber, Unit":(a,r)=>r.divideInto(a)})}),name$4="pow",dependencies$4=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],createPow=factory(name$4,dependencies$4,C=>{var{typed:u,config:n,identity:a,multiply:r,matrix:g,inv:f,number:m,fraction:l,Complex:x}=C;return u(name$4,{"number, number":S,"Complex, Complex":function(o,p){return o.pow(p)},"BigNumber, BigNumber":function(o,p){return p.isInteger()||o>=0||n.predictable?o.pow(p):new x(o.toNumber(),0).pow(p.toNumber(),0)},"Fraction, Fraction":function(o,p){var b=o.pow(p);if(b!=null)return b;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return S(o.valueOf(),p.valueOf())},"Array, number":D,"Array, BigNumber":function(o,p){return D(o,p.toNumber())},"Matrix, number":h,"Matrix, BigNumber":function(o,p){return h(o,p.toNumber())},"Unit, number | BigNumber":function(o,p){return o.pow(p)}});function S(_,o){if(n.predictable&&!isInteger(o)&&_<0)try{var p=l(o),b=m(p);if((o===b||Math.abs((o-b)/o)<1e-14)&&p.d%2===1)return(p.n%2===0?1:-1)*Math.pow(-_,o)}catch{}return n.predictable&&(_<-1&&o===1/0||_>-1&&_<0&&o===-1/0)?NaN:isInteger(o)||_>=0||n.predictable?powNumber(_,o):_*_<1&&o===1/0||_*_>1&&o===-1/0?0:new x(_,0).pow(o,0)}function D(_,o){if(!isInteger(o))throw new TypeError("For A^b, b must be an integer (value is "+o+")");var p=arraySize(_);if(p.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+p.length+" dimensions)");if(p[0]!==p[1])throw new Error("For A^b, A must be square (size is "+p[0]+"x"+p[1]+")");if(o<0)try{return D(f(_),-o)}catch(A){throw A.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+o+")"):A}for(var b=a(p[0]).valueOf(),y=_;o>=1;)(o&1)===1&&(b=r(y,b)),o>>=1,y=r(y,y);return b}function h(_,o){return g(D(_.valueOf(),o))}}),NO_INT="Number of decimals in function round must be an integer",name$3="round",dependencies$3=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],createRound=factory(name$3,dependencies$3,C=>{var{typed:u,config:n,matrix:a,equalScalar:r,zeros:g,BigNumber:f,DenseMatrix:m}=C,l=createMatAlgo11xS0s({typed:u,equalScalar:r}),x=createMatAlgo12xSfs({typed:u,DenseMatrix:m}),S=createMatAlgo14xDs({typed:u});function D(h){return Math.abs(splitNumber(h).exponent)}return u(name$3,{number:function(_){var o=roundNumber(_,D(n.epsilon)),p=nearlyEqual$1(_,o,n.epsilon)?o:_;return roundNumber(p)},"number, number":function(_,o){var p=D(n.epsilon);if(o>=p)return roundNumber(_,o);var b=roundNumber(_,p),y=nearlyEqual$1(_,b,n.epsilon)?b:_;return roundNumber(y,o)},"number, BigNumber":function(_,o){if(!o.isInteger())throw new TypeError(NO_INT);return new f(_).toDecimalPlaces(o.toNumber())},Complex:function(_){return _.round()},"Complex, number":function(_,o){if(o%1)throw new TypeError(NO_INT);return _.round(o)},"Complex, BigNumber":function(_,o){if(!o.isInteger())throw new TypeError(NO_INT);var p=o.toNumber();return _.round(p)},BigNumber:function(_){var o=new f(_).toDecimalPlaces(D(n.epsilon)),p=nearlyEqual(_,o,n.epsilon)?o:_;return p.toDecimalPlaces(0)},"BigNumber, BigNumber":function(_,o){if(!o.isInteger())throw new TypeError(NO_INT);var p=D(n.epsilon);if(o>=p)return _.toDecimalPlaces(o.toNumber());var b=_.toDecimalPlaces(p),y=nearlyEqual(_,b,n.epsilon)?b:_;return y.toDecimalPlaces(o.toNumber())},Fraction:function(_){return _.round()},"Fraction, number":function(_,o){if(o%1)throw new TypeError(NO_INT);return _.round(o)},"Fraction, BigNumber":function(_,o){if(!o.isInteger())throw new TypeError(NO_INT);return _.round(o.toNumber())},"Unit, number, Unit":u.referToSelf(h=>function(_,o,p){var b=_.toNumeric(p);return p.multiply(h(b,o))}),"Unit, BigNumber, Unit":u.referToSelf(h=>(_,o,p)=>h(_,o.toNumber(),p)),"Unit, Unit":u.referToSelf(h=>(_,o)=>h(_,0,o)),"Array | Matrix, number, Unit":u.referToSelf(h=>(_,o,p)=>deepMap(_,b=>h(b,o,p))),"Array | Matrix, BigNumber, Unit":u.referToSelf(h=>(_,o,p)=>h(_,o.toNumber(),p)),"Array | Matrix, Unit":u.referToSelf(h=>(_,o)=>h(_,0,o)),"Array | Matrix":u.referToSelf(h=>_=>deepMap(_,h)),"SparseMatrix, number | BigNumber":u.referToSelf(h=>(_,o)=>l(_,o,h,!1)),"DenseMatrix, number | BigNumber":u.referToSelf(h=>(_,o)=>S(_,o,h,!1)),"Array, number | BigNumber":u.referToSelf(h=>(_,o)=>S(a(_),o,h,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":u.referToSelf(h=>(_,o)=>r(_,0)?g(o.size(),o.storage()):x(o,_,h,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":u.referToSelf(h=>(_,o)=>r(_,0)?g(o.size(),o.storage()):S(o,_,h,!0)),"number | Complex | BigNumber | Fraction, Array":u.referToSelf(h=>(_,o)=>S(a(o),_,h,!0).valueOf())})}),name$2="dot",dependencies$2=["typed","addScalar","multiplyScalar","conj","size"],createDot=factory(name$2,dependencies$2,C=>{var{typed:u,addScalar:n,multiplyScalar:a,conj:r,size:g}=C;return u(name$2,{"Array | DenseMatrix, Array | DenseMatrix":m,"SparseMatrix, SparseMatrix":l});function f(S,D){var h=x(S),_=x(D),o,p;if(h.length===1)o=h[0];else if(h.length===2&&h[1]===1)o=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(_.length===1)p=_[0];else if(_.length===2&&_[1]===1)p=_[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+_.join(", ")+")");if(o!==p)throw new RangeError("Vectors must have equal length ("+o+" != "+p+")");if(o===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return o}function m(S,D){var h=f(S,D),_=isMatrix(S)?S._data:S,o=isMatrix(S)?S._datatype||S.getDataType():void 0,p=isMatrix(D)?D._data:D,b=isMatrix(D)?D._datatype||D.getDataType():void 0,y=x(S).length===2,A=x(D).length===2,E=n,N=a;if(o&&b&&o===b&&typeof o=="string"&&o!=="mixed"){var T=o;E=u.find(n,[T,T]),N=u.find(a,[T,T])}if(!y&&!A){for(var O=N(r(_[0]),p[0]),j=1;j<h;j++)O=E(O,N(r(_[j]),p[j]));return O}if(!y&&A){for(var M=N(r(_[0]),p[0][0]),F=1;F<h;F++)M=E(M,N(r(_[F]),p[F][0]));return M}if(y&&!A){for(var B=N(r(_[0][0]),p[0]),I=1;I<h;I++)B=E(B,N(r(_[I][0]),p[I]));return B}if(y&&A){for(var G=N(r(_[0][0]),p[0][0]),k=1;k<h;k++)G=E(G,N(r(_[k][0]),p[k][0]));return G}}function l(S,D){f(S,D);for(var h=S._index,_=S._values,o=D._index,p=D._values,b=0,y=n,A=a,E=0,N=0;E<h.length&&N<o.length;){var T=h[E],O=o[N];if(T<O){E++;continue}if(T>O){N++;continue}T===O&&(b=y(b,A(_[E],p[N])),E++,N++)}return b}function x(S){return isMatrix(S)?S.size():g(S)}}),name$1="det",dependencies$1=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],createDet=factory(name$1,dependencies$1,C=>{var{typed:u,matrix:n,subtractScalar:a,multiply:r,divideScalar:g,isZero:f,unaryMinus:m}=C;return u(name$1,{any:function(S){return clone$2(S)},"Array | Matrix":function(S){var D;switch(isMatrix(S)?D=S.size():Array.isArray(S)?(S=n(S),D=S.size()):D=[],D.length){case 0:return clone$2(S);case 1:if(D[0]===1)return clone$2(S.valueOf()[0]);if(D[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+format(D)+")");case 2:{var h=D[0],_=D[1];if(h===_)return l(S.clone().valueOf(),h);if(_===0)return 1;throw new RangeError("Matrix must be square (size: "+format(D)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+format(D)+")")}}});function l(x,S,D){if(S===1)return clone$2(x[0][0]);if(S===2)return a(r(x[0][0],x[1][1]),r(x[1][0],x[0][1]));for(var h=!1,_=new Array(S).fill(0).map((j,M)=>M),o=0;o<S;o++){var p=_[o];if(f(x[p][o])){var b=void 0;for(b=o+1;b<S;b++)if(!f(x[_[b]][o])){p=_[b],_[b]=_[o],_[o]=p,h=!h;break}if(b===S)return x[p][o]}for(var y=x[p][o],A=o===0?1:x[_[o-1]][o-1],E=o+1;E<S;E++)for(var N=_[E],T=o+1;T<S;T++)x[N][T]=g(a(r(x[N][T],y),r(x[N][o],x[p][T])),A)}var O=x[_[S-1]][S-1];return h?m(O):O}}),name="inv",dependencies=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],createInv=factory(name,dependencies,C=>{var{typed:u,matrix:n,divideScalar:a,addScalar:r,multiply:g,unaryMinus:f,det:m,identity:l,abs:x}=C;return u(name,{"Array | Matrix":function(h){var _=isMatrix(h)?h.size():arraySize(h);switch(_.length){case 1:if(_[0]===1)return isMatrix(h)?n([a(1,h.valueOf()[0])]):[a(1,h[0])];throw new RangeError("Matrix must be square (size: "+format(_)+")");case 2:{var o=_[0],p=_[1];if(o===p)return isMatrix(h)?n(S(h.valueOf(),o,p),h.storage()):S(h,o,p);throw new RangeError("Matrix must be square (size: "+format(_)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+format(_)+")")}},any:function(h){return a(1,h)}});function S(D,h,_){var o,p,b,y,A;if(h===1){if(y=D[0][0],y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(1,y)]]}else if(h===2){var E=m(D);if(E===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(D[1][1],E),a(f(D[0][1]),E)],[a(f(D[1][0]),E),a(D[0][0],E)]]}else{var N=D.concat();for(o=0;o<h;o++)N[o]=N[o].concat();for(var T=l(h).valueOf(),O=0;O<_;O++){var j=x(N[O][O]),M=O;for(o=O+1;o<h;)x(N[o][O])>j&&(j=x(N[o][O]),M=o),o++;if(j===0)throw Error("Cannot calculate inverse, determinant is zero");o=M,o!==O&&(A=N[O],N[O]=N[o],N[o]=A,A=T[O],T[O]=T[o],T[o]=A);var F=N[O],B=T[O];for(o=0;o<h;o++){var I=N[o],G=T[o];if(o!==O){if(I[O]!==0){for(b=a(f(I[O]),F[O]),p=O;p<_;p++)I[p]=r(I[p],g(b,F[p]));for(p=0;p<_;p++)G[p]=r(G[p],g(b,B[p]))}}else{for(b=F[O],p=O;p<_;p++)I[p]=a(I[p],b);for(p=0;p<_;p++)G[p]=a(G[p],b)}}}return T}}}),BigNumber=createBigNumberClass({config:config$1}),Complex=createComplexClass({}),Fraction=createFractionClass({}),Matrix=createMatrixClass({}),DenseMatrix=createDenseMatrixClass({Matrix}),typed=createTyped({BigNumber,Complex,DenseMatrix,Fraction}),abs=createAbs({typed}),addScalar=createAddScalar({typed}),bignumber=createBignumber({BigNumber,typed}),complex=createComplex({Complex,typed}),conj=createConj({typed}),equalScalar=createEqualScalar({config:config$1,typed}),isZero=createIsZero({typed}),multiplyScalar=createMultiplyScalar({typed}),number=createNumber({typed}),SparseMatrix=createSparseMatrixClass({Matrix,equalScalar,typed}),subtractScalar=createSubtractScalar({typed}),unaryMinus=createUnaryMinus({typed}),fraction=createFraction({Fraction,typed}),matrix$1=createMatrix({DenseMatrix,Matrix,SparseMatrix,typed}),numeric=createNumeric({bignumber,fraction,number}),size=createSize({matrix:matrix$1,config:config$1,typed}),zeros=createZeros({BigNumber,config:config$1,matrix:matrix$1,typed}),divideScalar=createDivideScalar({numeric,typed}),identity=createIdentity({BigNumber,DenseMatrix,SparseMatrix,config:config$1,matrix:matrix$1,typed}),round=createRound({BigNumber,DenseMatrix,config:config$1,equalScalar,matrix:matrix$1,typed,zeros}),dot=createDot({addScalar,conj,multiplyScalar,size,typed}),multiply=createMultiply({addScalar,dot,equalScalar,matrix:matrix$1,multiplyScalar,typed}),det=createDet({divideScalar,isZero,matrix:matrix$1,multiply,subtractScalar,typed,unaryMinus}),inv=createInv({abs,addScalar,det,divideScalar,identity,matrix:matrix$1,multiply,typed,unaryMinus}),pow=createPow({Complex,config:config$1,fraction,identity,inv,matrix:matrix$1,multiply,number,typed});const urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let nanoid=(C=21)=>{let u="",n=crypto.getRandomValues(new Uint8Array(C|=0));for(;C--;)u+=urlAlphabet[n[C]&63];return u};var arrays$9={range:function(C,u){var n=u-C,a=new Array(n),r,g;for(r=0,g=C;r<n;r++,g++)a[r]=g;return a},find:function(C,u){var n=C.length,a;if(typeof u=="function"){for(a=0;a<n;a++)if(u(C[a]))return C[a]}else for(a=0;a<n;a++)if(C[a]===u)return C[a]},indexOf:function(C,u){var n=C.length,a;if(typeof u=="function"){for(a=0;a<n;a++)if(u(C[a]))return a}else for(a=0;a<n;a++)if(C[a]===u)return a;return-1},contains:function(C,u){return arrays$9.indexOf(C,u)!==-1},each:function(C,u){var n=C.length,a;for(a=0;a<n;a++)u(C[a],a)},map:function(C,u){var n=C.length,a=new Array(n),r;for(r=0;r<n;r++)a[r]=u(C[r],r);return a},pluck:function(C,u){return arrays$9.map(C,function(n){return n[u]})},every:function(C,u){var n=C.length,a;for(a=0;a<n;a++)if(!u(C[a]))return!1;return!0},some:function(C,u){var n=C.length,a;for(a=0;a<n;a++)if(u(C[a]))return!0;return!1}},arrays_1=arrays$9,objects$6={keys:function(C){var u=[],n;for(n in C)C.hasOwnProperty(n)&&u.push(n);return u},values:function(C){var u=[],n;for(n in C)C.hasOwnProperty(n)&&u.push(C[n]);return u},clone:function(C){var u={},n;for(n in C)C.hasOwnProperty(n)&&(u[n]=C[n]);return u},defaults:function(C,u){var n;for(n in u)u.hasOwnProperty(n)&&(n in C||(C[n]=u[n]))}},objects_1=objects$6,classes$1={subclass:function(C,u){function n(){this.constructor=C}n.prototype=u.prototype,C.prototype=new n}},classes_1=classes$1,classes=classes_1;function GrammarError$5(C,u){this.name="GrammarError",this.message=C,this.location=u,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,GrammarError$5)}classes.subclass(GrammarError$5,Error);var grammarError=GrammarError$5;function peg$subclass(C,u){function n(){this.constructor=C}n.prototype=u.prototype,C.prototype=new n}function peg$SyntaxError(C,u,n,a){this.message=C,this.expected=u,this.found=n,this.location=a,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,peg$SyntaxError)}peg$subclass(peg$SyntaxError,Error);peg$SyntaxError.buildMessage=function(C,u){var n={literal:function(x){return'"'+r(x.text)+'"'},class:function(x){var S="",D;for(D=0;D<x.parts.length;D++)S+=x.parts[D]instanceof Array?g(x.parts[D][0])+"-"+g(x.parts[D][1]):g(x.parts[D]);return"["+(x.inverted?"^":"")+S+"]"},any:function(x){return"any character"},end:function(x){return"end of input"},other:function(x){return x.description}};function a(x){return x.charCodeAt(0).toString(16).toUpperCase()}function r(x){return x.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(S){return"\\x0"+a(S)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(S){return"\\x"+a(S)})}function g(x){return x.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(S){return"\\x0"+a(S)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(S){return"\\x"+a(S)})}function f(x){return n[x.type](x)}function m(x){var S=new Array(x.length),D,h;for(D=0;D<x.length;D++)S[D]=f(x[D]);if(S.sort(),S.length>0){for(D=1,h=1;D<S.length;D++)S[D-1]!==S[D]&&(S[h]=S[D],h++);S.length=h}switch(S.length){case 1:return S[0];case 2:return S[0]+" or "+S[1];default:return S.slice(0,-1).join(", ")+", or "+S[S.length-1]}}function l(x){return x?'"'+r(x)+'"':"end of input"}return"Expected "+m(C)+" but "+l(u)+" found."};function peg$parse(C,u){u=u!==void 0?u:{};var n={},a={Grammar:wi},r=wi,g=function(ie,De){return{type:"grammar",initializer:Na(ie,0),rules:Rs(De,0),location:Hn()}},f=function(ie){return{type:"initializer",code:ie,location:Hn()}},m="=",l=kt("=",!1),x=function(ie,De,Le){return{type:"rule",name:ie,expression:De!==null?{type:"named",name:De[0],expression:Le,location:Hn()}:Le,location:Hn()}},S="/",D=kt("/",!1),h=function(ie,De){return De.length>0?{type:"choice",alternatives:ks(ie,De,3),location:Hn()}:ie},_=function(ie,De){return De!==null?{type:"action",expression:ie,code:De[1],location:Hn()}:ie},o=function(ie,De){return De.length>0?{type:"sequence",elements:ks(ie,De,1),location:Hn()}:ie},p=":",b=kt(":",!1),y=function(ie,De){return{type:"labeled",label:ie,expression:De,location:Hn()}},A=function(ie,De){return{type:Da[ie],expression:De,location:Hn()}},E="$",N=kt("$",!1),T="&",O=kt("&",!1),j="!",M=kt("!",!1),F=function(ie,De){return{type:Sa[De],expression:ie,location:Hn()}},B="?",I=kt("?",!1),G="*",k=kt("*",!1),V="+",R=kt("+",!1),U="(",L=kt("(",!1),H=")",X=kt(")",!1),Z=function(ie){return ie.type==="labeled"||ie.type==="sequence"?{type:"group",expression:ie}:ie},J=function(ie){return{type:"rule_ref",name:ie,location:Hn()}},K=function(ie,De){return{type:Ea[ie],code:De,location:Hn()}},$=vi(),W=Mr("whitespace"),Y="	",te=kt("	",!1),ce="\v",oe=kt("\v",!1),ue="\f",Ce=kt("\f",!1),le=" ",ye=kt(" ",!1),ve=" ",pe=kt(" ",!1),be="\uFEFF",Ne=kt("\uFEFF",!1),he=/^[\n\r\u2028\u2029]/,ne=qn([`
`,"\r","\u2028","\u2029"],!1,!1),re=Mr("end of line"),de=`
`,xe=kt(`
`,!1),Pe=`\r
`,Ae=kt(`\r
`,!1),Oe="\r",Se=kt("\r",!1),Fe="\u2028",$e=kt("\u2028",!1),Re="\u2029",qe=kt("\u2029",!1),ze=Mr("comment"),we="/*",Ee=kt("/*",!1),Me="*/",me=kt("*/",!1),Ge="//",Xe=kt("//",!1),rt=function(ie){return ie},ut=Mr("identifier"),ft=function(ie,De){return ie+De.join("")},pt="_",ot=kt("_",!1),bt="\\",At=kt("\\",!1),Ke=function(ie){return ie},dt="‌",vt=kt("‌",!1),wt="‍",Nt=kt("‍",!1),Ot=Mr("literal"),Tt="i",It=kt("i",!1),Pt=function(ie,De){return{type:"literal",value:ie,ignoreCase:De!==null,location:Hn()}},Rt=Mr("string"),Ft='"',Bt=kt('"',!1),Ut=function(ie){return ie.join("")},Xt="'",Zt=kt("'",!1),Yt=function(){return hi()},rn=Mr("character class"),Gt="[",sn=kt("[",!1),Je="^",Ct=kt("^",!1),_e="]",je=kt("]",!1),Ue=function(ie,De,Le){return{type:"class",parts:Ca(De),inverted:ie!==null,ignoreCase:Le!==null,location:Hn()}},Be="-",He=kt("-",!1),ke=function(ie,De){return ie.charCodeAt(0)>De.charCodeAt(0)&&yi("Invalid character range: "+hi()+"."),[ie,De]},Qe=function(){return""},et="0",ct=kt("0",!1),st=function(){return"\0"},at="b",St=kt("b",!1),jt=function(){return"\b"},zt="f",$t=kt("f",!1),Qt=function(){return"\f"},tn="n",an=kt("n",!1),un=function(){return`
`},bn="r",Un=kt("r",!1),tr=function(){return"\r"},Gn="t",nr=kt("t",!1),Bn=function(){return"	"},Vn="v",Jn=kt("v",!1),zn=function(){return"\v"},dn="x",on=kt("x",!1),_r="u",cr=kt("u",!1),ur=function(ie){return String.fromCharCode(parseInt(ie,16))},Wn=/^[0-9]/,zr=qn([["0","9"]],!1,!1),Gr=/^[0-9a-f]/i,lr=qn([["0","9"],["a","f"]],!1,!0),Tn=".",ti=kt(".",!1),Or=function(){return{type:"any",location:Hn()}},xr=Mr("code block"),Pn="{",hr=kt("{",!1),xn="}",Pr=kt("}",!1),Vr=function(ie){return ie},Ar=/^[{}]/,wr=qn(["{","}"],!1,!1),ni=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,ri=qn([["a","z"],"µ",["ß","ö"],["ø","ÿ"],"ā","ă","ą","ć","ĉ","ċ","č","ď","đ","ē","ĕ","ė","ę","ě","ĝ","ğ","ġ","ģ","ĥ","ħ","ĩ","ī","ĭ","į","ı","ĳ","ĵ",["ķ","ĸ"],"ĺ","ļ","ľ","ŀ","ł","ń","ņ",["ň","ŉ"],"ŋ","ō","ŏ","ő","œ","ŕ","ŗ","ř","ś","ŝ","ş","š","ţ","ť","ŧ","ũ","ū","ŭ","ů","ű","ų","ŵ","ŷ","ź","ż",["ž","ƀ"],"ƃ","ƅ","ƈ",["ƌ","ƍ"],"ƒ","ƕ",["ƙ","ƛ"],"ƞ","ơ","ƣ","ƥ","ƨ",["ƪ","ƫ"],"ƭ","ư","ƴ","ƶ",["ƹ","ƺ"],["ƽ","ƿ"],"ǆ","ǉ","ǌ","ǎ","ǐ","ǒ","ǔ","ǖ","ǘ","ǚ",["ǜ","ǝ"],"ǟ","ǡ","ǣ","ǥ","ǧ","ǩ","ǫ","ǭ",["ǯ","ǰ"],"ǳ","ǵ","ǹ","ǻ","ǽ","ǿ","ȁ","ȃ","ȅ","ȇ","ȉ","ȋ","ȍ","ȏ","ȑ","ȓ","ȕ","ȗ","ș","ț","ȝ","ȟ","ȡ","ȣ","ȥ","ȧ","ȩ","ȫ","ȭ","ȯ","ȱ",["ȳ","ȹ"],"ȼ",["ȿ","ɀ"],"ɂ","ɇ","ɉ","ɋ","ɍ",["ɏ","ʓ"],["ʕ","ʯ"],"ͱ","ͳ","ͷ",["ͻ","ͽ"],"ΐ",["ά","ώ"],["ϐ","ϑ"],["ϕ","ϗ"],"ϙ","ϛ","ϝ","ϟ","ϡ","ϣ","ϥ","ϧ","ϩ","ϫ","ϭ",["ϯ","ϳ"],"ϵ","ϸ",["ϻ","ϼ"],["а","џ"],"ѡ","ѣ","ѥ","ѧ","ѩ","ѫ","ѭ","ѯ","ѱ","ѳ","ѵ","ѷ","ѹ","ѻ","ѽ","ѿ","ҁ","ҋ","ҍ","ҏ","ґ","ғ","ҕ","җ","ҙ","қ","ҝ","ҟ","ҡ","ң","ҥ","ҧ","ҩ","ҫ","ҭ","ү","ұ","ҳ","ҵ","ҷ","ҹ","һ","ҽ","ҿ","ӂ","ӄ","ӆ","ӈ","ӊ","ӌ",["ӎ","ӏ"],"ӑ","ӓ","ӕ","ӗ","ә","ӛ","ӝ","ӟ","ӡ","ӣ","ӥ","ӧ","ө","ӫ","ӭ","ӯ","ӱ","ӳ","ӵ","ӷ","ӹ","ӻ","ӽ","ӿ","ԁ","ԃ","ԅ","ԇ","ԉ","ԋ","ԍ","ԏ","ԑ","ԓ","ԕ","ԗ","ԙ","ԛ","ԝ","ԟ","ԡ","ԣ","ԥ","ԧ","ԩ","ԫ","ԭ","ԯ",["ա","և"],["ᏸ","ᏽ"],["ᴀ","ᴫ"],["ᵫ","ᵷ"],["ᵹ","ᶚ"],"ḁ","ḃ","ḅ","ḇ","ḉ","ḋ","ḍ","ḏ","ḑ","ḓ","ḕ","ḗ","ḙ","ḛ","ḝ","ḟ","ḡ","ḣ","ḥ","ḧ","ḩ","ḫ","ḭ","ḯ","ḱ","ḳ","ḵ","ḷ","ḹ","ḻ","ḽ","ḿ","ṁ","ṃ","ṅ","ṇ","ṉ","ṋ","ṍ","ṏ","ṑ","ṓ","ṕ","ṗ","ṙ","ṛ","ṝ","ṟ","ṡ","ṣ","ṥ","ṧ","ṩ","ṫ","ṭ","ṯ","ṱ","ṳ","ṵ","ṷ","ṹ","ṻ","ṽ","ṿ","ẁ","ẃ","ẅ","ẇ","ẉ","ẋ","ẍ","ẏ","ẑ","ẓ",["ẕ","ẝ"],"ẟ","ạ","ả","ấ","ầ","ẩ","ẫ","ậ","ắ","ằ","ẳ","ẵ","ặ","ẹ","ẻ","ẽ","ế","ề","ể","ễ","ệ","ỉ","ị","ọ","ỏ","ố","ồ","ổ","ỗ","ộ","ớ","ờ","ở","ỡ","ợ","ụ","ủ","ứ","ừ","ử","ữ","ự","ỳ","ỵ","ỷ","ỹ","ỻ","ỽ",["ỿ","ἇ"],["ἐ","ἕ"],["ἠ","ἧ"],["ἰ","ἷ"],["ὀ","ὅ"],["ὐ","ὗ"],["ὠ","ὧ"],["ὰ","ώ"],["ᾀ","ᾇ"],["ᾐ","ᾗ"],["ᾠ","ᾧ"],["ᾰ","ᾴ"],["ᾶ","ᾷ"],"ι",["ῂ","ῄ"],["ῆ","ῇ"],["ῐ","ΐ"],["ῖ","ῗ"],["ῠ","ῧ"],["ῲ","ῴ"],["ῶ","ῷ"],"ℊ",["ℎ","ℏ"],"ℓ","ℯ","ℴ","ℹ",["ℼ","ℽ"],["ⅆ","ⅉ"],"ⅎ","ↄ",["ⰰ","ⱞ"],"ⱡ",["ⱥ","ⱦ"],"ⱨ","ⱪ","ⱬ","ⱱ",["ⱳ","ⱴ"],["ⱶ","ⱻ"],"ⲁ","ⲃ","ⲅ","ⲇ","ⲉ","ⲋ","ⲍ","ⲏ","ⲑ","ⲓ","ⲕ","ⲗ","ⲙ","ⲛ","ⲝ","ⲟ","ⲡ","ⲣ","ⲥ","ⲧ","ⲩ","ⲫ","ⲭ","ⲯ","ⲱ","ⲳ","ⲵ","ⲷ","ⲹ","ⲻ","ⲽ","ⲿ","ⳁ","ⳃ","ⳅ","ⳇ","ⳉ","ⳋ","ⳍ","ⳏ","ⳑ","ⳓ","ⳕ","ⳗ","ⳙ","ⳛ","ⳝ","ⳟ","ⳡ",["ⳣ","ⳤ"],"ⳬ","ⳮ","ⳳ",["ⴀ","ⴥ"],"ⴧ","ⴭ","ꙁ","ꙃ","ꙅ","ꙇ","ꙉ","ꙋ","ꙍ","ꙏ","ꙑ","ꙓ","ꙕ","ꙗ","ꙙ","ꙛ","ꙝ","ꙟ","ꙡ","ꙣ","ꙥ","ꙧ","ꙩ","ꙫ","ꙭ","ꚁ","ꚃ","ꚅ","ꚇ","ꚉ","ꚋ","ꚍ","ꚏ","ꚑ","ꚓ","ꚕ","ꚗ","ꚙ","ꚛ","ꜣ","ꜥ","ꜧ","ꜩ","ꜫ","ꜭ",["ꜯ","ꜱ"],"ꜳ","ꜵ","ꜷ","ꜹ","ꜻ","ꜽ","ꜿ","ꝁ","ꝃ","ꝅ","ꝇ","ꝉ","ꝋ","ꝍ","ꝏ","ꝑ","ꝓ","ꝕ","ꝗ","ꝙ","ꝛ","ꝝ","ꝟ","ꝡ","ꝣ","ꝥ","ꝧ","ꝩ","ꝫ","ꝭ","ꝯ",["ꝱ","ꝸ"],"ꝺ","ꝼ","ꝿ","ꞁ","ꞃ","ꞅ","ꞇ","ꞌ","ꞎ","ꞑ",["ꞓ","ꞕ"],"ꞗ","ꞙ","ꞛ","ꞝ","ꞟ","ꞡ","ꞣ","ꞥ","ꞧ","ꞩ","ꞵ","ꞷ","ꟺ",["ꬰ","ꭚ"],["ꭠ","ꭥ"],["ꭰ","ꮿ"],["ﬀ","ﬆ"],["ﬓ","ﬗ"],["ａ","ｚ"]],!1,!1),rr=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C-\uA69D\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3-\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E-\uFF9F]/,Xn=qn([["ʰ","ˁ"],["ˆ","ˑ"],["ˠ","ˤ"],"ˬ","ˮ","ʹ","ͺ","ՙ","ـ",["ۥ","ۦ"],["ߴ","ߵ"],"ߺ","ࠚ","ࠤ","ࠨ","ॱ","ๆ","ໆ","ჼ","ៗ","ᡃ","ᪧ",["ᱸ","ᱽ"],["ᴬ","ᵪ"],"ᵸ",["ᶛ","ᶿ"],"ⁱ","ⁿ",["ₐ","ₜ"],["ⱼ","ⱽ"],"ⵯ","ⸯ","々",["〱","〵"],"〻",["ゝ","ゞ"],["ー","ヾ"],"ꀕ",["ꓸ","ꓽ"],"ꘌ","ꙿ",["ꚜ","ꚝ"],["ꜗ","ꜟ"],"ꝰ","ꞈ",["ꟸ","ꟹ"],"ꧏ","ꧦ","ꩰ","ꫝ",["ꫳ","ꫴ"],["ꭜ","ꭟ"],"ｰ",["ﾞ","ﾟ"]],!1,!1),Yn=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,Rn=qn(["ª","º","ƻ",["ǀ","ǃ"],"ʔ",["א","ת"],["װ","ײ"],["ؠ","ؿ"],["ف","ي"],["ٮ","ٯ"],["ٱ","ۓ"],"ە",["ۮ","ۯ"],["ۺ","ۼ"],"ۿ","ܐ",["ܒ","ܯ"],["ݍ","ޥ"],"ޱ",["ߊ","ߪ"],["ࠀ","ࠕ"],["ࡀ","ࡘ"],["ࢠ","ࢴ"],["ऄ","ह"],"ऽ","ॐ",["क़","ॡ"],["ॲ","ঀ"],["অ","ঌ"],["এ","ঐ"],["ও","ন"],["প","র"],"ল",["শ","হ"],"ঽ","ৎ",["ড়","ঢ়"],["য়","ৡ"],["ৰ","ৱ"],["ਅ","ਊ"],["ਏ","ਐ"],["ਓ","ਨ"],["ਪ","ਰ"],["ਲ","ਲ਼"],["ਵ","ਸ਼"],["ਸ","ਹ"],["ਖ਼","ੜ"],"ਫ਼",["ੲ","ੴ"],["અ","ઍ"],["એ","ઑ"],["ઓ","ન"],["પ","ર"],["લ","ળ"],["વ","હ"],"ઽ","ૐ",["ૠ","ૡ"],"ૹ",["ଅ","ଌ"],["ଏ","ଐ"],["ଓ","ନ"],["ପ","ର"],["ଲ","ଳ"],["ଵ","ହ"],"ଽ",["ଡ଼","ଢ଼"],["ୟ","ୡ"],"ୱ","ஃ",["அ","ஊ"],["எ","ஐ"],["ஒ","க"],["ங","ச"],"ஜ",["ஞ","ட"],["ண","த"],["ந","ப"],["ம","ஹ"],"ௐ",["అ","ఌ"],["ఎ","ఐ"],["ఒ","న"],["ప","హ"],"ఽ",["ౘ","ౚ"],["ౠ","ౡ"],["ಅ","ಌ"],["ಎ","ಐ"],["ಒ","ನ"],["ಪ","ಳ"],["ವ","ಹ"],"ಽ","ೞ",["ೠ","ೡ"],["ೱ","ೲ"],["അ","ഌ"],["എ","ഐ"],["ഒ","ഺ"],"ഽ","ൎ",["ൟ","ൡ"],["ൺ","ൿ"],["අ","ඖ"],["ක","න"],["ඳ","ර"],"ල",["ව","ෆ"],["ก","ะ"],["า","ำ"],["เ","ๅ"],["ກ","ຂ"],"ຄ",["ງ","ຈ"],"ຊ","ຍ",["ດ","ທ"],["ນ","ຟ"],["ມ","ຣ"],"ລ","ວ",["ສ","ຫ"],["ອ","ະ"],["າ","ຳ"],"ຽ",["ເ","ໄ"],["ໜ","ໟ"],"ༀ",["ཀ","ཇ"],["ཉ","ཬ"],["ྈ","ྌ"],["က","ဪ"],"ဿ",["ၐ","ၕ"],["ၚ","ၝ"],"ၡ",["ၥ","ၦ"],["ၮ","ၰ"],["ၵ","ႁ"],"ႎ",["ა","ჺ"],["ჽ","ቈ"],["ቊ","ቍ"],["ቐ","ቖ"],"ቘ",["ቚ","ቝ"],["በ","ኈ"],["ኊ","ኍ"],["ነ","ኰ"],["ኲ","ኵ"],["ኸ","ኾ"],"ዀ",["ዂ","ዅ"],["ወ","ዖ"],["ዘ","ጐ"],["ጒ","ጕ"],["ጘ","ፚ"],["ᎀ","ᎏ"],["ᐁ","ᙬ"],["ᙯ","ᙿ"],["ᚁ","ᚚ"],["ᚠ","ᛪ"],["ᛱ","ᛸ"],["ᜀ","ᜌ"],["ᜎ","ᜑ"],["ᜠ","ᜱ"],["ᝀ","ᝑ"],["ᝠ","ᝬ"],["ᝮ","ᝰ"],["ក","ឳ"],"ៜ",["ᠠ","ᡂ"],["ᡄ","ᡷ"],["ᢀ","ᢨ"],"ᢪ",["ᢰ","ᣵ"],["ᤀ","ᤞ"],["ᥐ","ᥭ"],["ᥰ","ᥴ"],["ᦀ","ᦫ"],["ᦰ","ᧉ"],["ᨀ","ᨖ"],["ᨠ","ᩔ"],["ᬅ","ᬳ"],["ᭅ","ᭋ"],["ᮃ","ᮠ"],["ᮮ","ᮯ"],["ᮺ","ᯥ"],["ᰀ","ᰣ"],["ᱍ","ᱏ"],["ᱚ","ᱷ"],["ᳩ","ᳬ"],["ᳮ","ᳱ"],["ᳵ","ᳶ"],["ℵ","ℸ"],["ⴰ","ⵧ"],["ⶀ","ⶖ"],["ⶠ","ⶦ"],["ⶨ","ⶮ"],["ⶰ","ⶶ"],["ⶸ","ⶾ"],["ⷀ","ⷆ"],["ⷈ","ⷎ"],["ⷐ","ⷖ"],["ⷘ","ⷞ"],"〆","〼",["ぁ","ゖ"],"ゟ",["ァ","ヺ"],"ヿ",["ㄅ","ㄭ"],["ㄱ","ㆎ"],["ㆠ","ㆺ"],["ㇰ","ㇿ"],["㐀","䶵"],["一","鿕"],["ꀀ","ꀔ"],["ꀖ","ꒌ"],["ꓐ","ꓷ"],["ꔀ","ꘋ"],["ꘐ","ꘟ"],["ꘪ","ꘫ"],"ꙮ",["ꚠ","ꛥ"],"ꞏ","ꟷ",["ꟻ","ꠁ"],["ꠃ","ꠅ"],["ꠇ","ꠊ"],["ꠌ","ꠢ"],["ꡀ","ꡳ"],["ꢂ","ꢳ"],["ꣲ","ꣷ"],"ꣻ","ꣽ",["ꤊ","ꤥ"],["ꤰ","ꥆ"],["ꥠ","ꥼ"],["ꦄ","ꦲ"],["ꧠ","ꧤ"],["ꧧ","ꧯ"],["ꧺ","ꧾ"],["ꨀ","ꨨ"],["ꩀ","ꩂ"],["ꩄ","ꩋ"],["ꩠ","ꩯ"],["ꩱ","ꩶ"],"ꩺ",["ꩾ","ꪯ"],"ꪱ",["ꪵ","ꪶ"],["ꪹ","ꪽ"],"ꫀ","ꫂ",["ꫛ","ꫜ"],["ꫠ","ꫪ"],"ꫲ",["ꬁ","ꬆ"],["ꬉ","ꬎ"],["ꬑ","ꬖ"],["ꬠ","ꬦ"],["ꬨ","ꬮ"],["ꯀ","ꯢ"],["가","힣"],["ힰ","ퟆ"],["ퟋ","ퟻ"],["豈","舘"],["並","龎"],"יִ",["ײַ","ﬨ"],["שׁ","זּ"],["טּ","לּ"],"מּ",["נּ","סּ"],["ףּ","פּ"],["צּ","ﮱ"],["ﯓ","ﴽ"],["ﵐ","ﶏ"],["ﶒ","ﷇ"],["ﷰ","ﷻ"],["ﹰ","ﹴ"],["ﹶ","ﻼ"],["ｦ","ｯ"],["ｱ","ﾝ"],["ﾠ","ﾾ"],["ￂ","ￇ"],["ￊ","ￏ"],["ￒ","ￗ"],["ￚ","ￜ"]],!1,!1),mr=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,$n=qn(["ǅ","ǈ","ǋ","ǲ",["ᾈ","ᾏ"],["ᾘ","ᾟ"],["ᾨ","ᾯ"],"ᾼ","ῌ","ῼ"],!1,!1),ir=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]/,ii=qn([["A","Z"],["À","Ö"],["Ø","Þ"],"Ā","Ă","Ą","Ć","Ĉ","Ċ","Č","Ď","Đ","Ē","Ĕ","Ė","Ę","Ě","Ĝ","Ğ","Ġ","Ģ","Ĥ","Ħ","Ĩ","Ī","Ĭ","Į","İ","Ĳ","Ĵ","Ķ","Ĺ","Ļ","Ľ","Ŀ","Ł","Ń","Ņ","Ň","Ŋ","Ō","Ŏ","Ő","Œ","Ŕ","Ŗ","Ř","Ś","Ŝ","Ş","Š","Ţ","Ť","Ŧ","Ũ","Ū","Ŭ","Ů","Ű","Ų","Ŵ","Ŷ",["Ÿ","Ź"],"Ż","Ž",["Ɓ","Ƃ"],"Ƅ",["Ɔ","Ƈ"],["Ɖ","Ƌ"],["Ǝ","Ƒ"],["Ɠ","Ɣ"],["Ɩ","Ƙ"],["Ɯ","Ɲ"],["Ɵ","Ơ"],"Ƣ","Ƥ",["Ʀ","Ƨ"],"Ʃ","Ƭ",["Ʈ","Ư"],["Ʊ","Ƴ"],"Ƶ",["Ʒ","Ƹ"],"Ƽ","Ǆ","Ǉ","Ǌ","Ǎ","Ǐ","Ǒ","Ǔ","Ǖ","Ǘ","Ǚ","Ǜ","Ǟ","Ǡ","Ǣ","Ǥ","Ǧ","Ǩ","Ǫ","Ǭ","Ǯ","Ǳ","Ǵ",["Ƕ","Ǹ"],"Ǻ","Ǽ","Ǿ","Ȁ","Ȃ","Ȅ","Ȇ","Ȉ","Ȋ","Ȍ","Ȏ","Ȑ","Ȓ","Ȕ","Ȗ","Ș","Ț","Ȝ","Ȟ","Ƞ","Ȣ","Ȥ","Ȧ","Ȩ","Ȫ","Ȭ","Ȯ","Ȱ","Ȳ",["Ⱥ","Ȼ"],["Ƚ","Ⱦ"],"Ɂ",["Ƀ","Ɇ"],"Ɉ","Ɋ","Ɍ","Ɏ","Ͱ","Ͳ","Ͷ","Ϳ","Ά",["Έ","Ί"],"Ό",["Ύ","Ώ"],["Α","Ρ"],["Σ","Ϋ"],"Ϗ",["ϒ","ϔ"],"Ϙ","Ϛ","Ϝ","Ϟ","Ϡ","Ϣ","Ϥ","Ϧ","Ϩ","Ϫ","Ϭ","Ϯ","ϴ","Ϸ",["Ϲ","Ϻ"],["Ͻ","Я"],"Ѡ","Ѣ","Ѥ","Ѧ","Ѩ","Ѫ","Ѭ","Ѯ","Ѱ","Ѳ","Ѵ","Ѷ","Ѹ","Ѻ","Ѽ","Ѿ","Ҁ","Ҋ","Ҍ","Ҏ","Ґ","Ғ","Ҕ","Җ","Ҙ","Қ","Ҝ","Ҟ","Ҡ","Ң","Ҥ","Ҧ","Ҩ","Ҫ","Ҭ","Ү","Ұ","Ҳ","Ҵ","Ҷ","Ҹ","Һ","Ҽ","Ҿ",["Ӏ","Ӂ"],"Ӄ","Ӆ","Ӈ","Ӊ","Ӌ","Ӎ","Ӑ","Ӓ","Ӕ","Ӗ","Ә","Ӛ","Ӝ","Ӟ","Ӡ","Ӣ","Ӥ","Ӧ","Ө","Ӫ","Ӭ","Ӯ","Ӱ","Ӳ","Ӵ","Ӷ","Ӹ","Ӻ","Ӽ","Ӿ","Ԁ","Ԃ","Ԅ","Ԇ","Ԉ","Ԋ","Ԍ","Ԏ","Ԑ","Ԓ","Ԕ","Ԗ","Ԙ","Ԛ","Ԝ","Ԟ","Ԡ","Ԣ","Ԥ","Ԧ","Ԩ","Ԫ","Ԭ","Ԯ",["Ա","Ֆ"],["Ⴀ","Ⴥ"],"Ⴧ","Ⴭ",["Ꭰ","Ᏽ"],"Ḁ","Ḃ","Ḅ","Ḇ","Ḉ","Ḋ","Ḍ","Ḏ","Ḑ","Ḓ","Ḕ","Ḗ","Ḙ","Ḛ","Ḝ","Ḟ","Ḡ","Ḣ","Ḥ","Ḧ","Ḩ","Ḫ","Ḭ","Ḯ","Ḱ","Ḳ","Ḵ","Ḷ","Ḹ","Ḻ","Ḽ","Ḿ","Ṁ","Ṃ","Ṅ","Ṇ","Ṉ","Ṋ","Ṍ","Ṏ","Ṑ","Ṓ","Ṕ","Ṗ","Ṙ","Ṛ","Ṝ","Ṟ","Ṡ","Ṣ","Ṥ","Ṧ","Ṩ","Ṫ","Ṭ","Ṯ","Ṱ","Ṳ","Ṵ","Ṷ","Ṹ","Ṻ","Ṽ","Ṿ","Ẁ","Ẃ","Ẅ","Ẇ","Ẉ","Ẋ","Ẍ","Ẏ","Ẑ","Ẓ","Ẕ","ẞ","Ạ","Ả","Ấ","Ầ","Ẩ","Ẫ","Ậ","Ắ","Ằ","Ẳ","Ẵ","Ặ","Ẹ","Ẻ","Ẽ","Ế","Ề","Ể","Ễ","Ệ","Ỉ","Ị","Ọ","Ỏ","Ố","Ồ","Ổ","Ỗ","Ộ","Ớ","Ờ","Ở","Ỡ","Ợ","Ụ","Ủ","Ứ","Ừ","Ử","Ữ","Ự","Ỳ","Ỵ","Ỷ","Ỹ","Ỻ","Ỽ","Ỿ",["Ἀ","Ἇ"],["Ἐ","Ἕ"],["Ἠ","Ἧ"],["Ἰ","Ἷ"],["Ὀ","Ὅ"],"Ὑ","Ὓ","Ὕ","Ὗ",["Ὠ","Ὧ"],["Ᾰ","Ά"],["Ὲ","Ή"],["Ῐ","Ί"],["Ῠ","Ῥ"],["Ὸ","Ώ"],"ℂ","ℇ",["ℋ","ℍ"],["ℐ","ℒ"],"ℕ",["ℙ","ℝ"],"ℤ","Ω","ℨ",["K","ℭ"],["ℰ","ℳ"],["ℾ","ℿ"],"ⅅ","Ↄ",["Ⰰ","Ⱞ"],"Ⱡ",["Ɫ","Ɽ"],"Ⱨ","Ⱪ","Ⱬ",["Ɑ","Ɒ"],"Ⱳ","Ⱶ",["Ȿ","Ⲁ"],"Ⲃ","Ⲅ","Ⲇ","Ⲉ","Ⲋ","Ⲍ","Ⲏ","Ⲑ","Ⲓ","Ⲕ","Ⲗ","Ⲙ","Ⲛ","Ⲝ","Ⲟ","Ⲡ","Ⲣ","Ⲥ","Ⲧ","Ⲩ","Ⲫ","Ⲭ","Ⲯ","Ⲱ","Ⲳ","Ⲵ","Ⲷ","Ⲹ","Ⲻ","Ⲽ","Ⲿ","Ⳁ","Ⳃ","Ⳅ","Ⳇ","Ⳉ","Ⳋ","Ⳍ","Ⳏ","Ⳑ","Ⳓ","Ⳕ","Ⳗ","Ⳙ","Ⳛ","Ⳝ","Ⳟ","Ⳡ","Ⳣ","Ⳬ","Ⳮ","Ⳳ","Ꙁ","Ꙃ","Ꙅ","Ꙇ","Ꙉ","Ꙋ","Ꙍ","Ꙏ","Ꙑ","Ꙓ","Ꙕ","Ꙗ","Ꙙ","Ꙛ","Ꙝ","Ꙟ","Ꙡ","Ꙣ","Ꙥ","Ꙧ","Ꙩ","Ꙫ","Ꙭ","Ꚁ","Ꚃ","Ꚅ","Ꚇ","Ꚉ","Ꚋ","Ꚍ","Ꚏ","Ꚑ","Ꚓ","Ꚕ","Ꚗ","Ꚙ","Ꚛ","Ꜣ","Ꜥ","Ꜧ","Ꜩ","Ꜫ","Ꜭ","Ꜯ","Ꜳ","Ꜵ","Ꜷ","Ꜹ","Ꜻ","Ꜽ","Ꜿ","Ꝁ","Ꝃ","Ꝅ","Ꝇ","Ꝉ","Ꝋ","Ꝍ","Ꝏ","Ꝑ","Ꝓ","Ꝕ","Ꝗ","Ꝙ","Ꝛ","Ꝝ","Ꝟ","Ꝡ","Ꝣ","Ꝥ","Ꝧ","Ꝩ","Ꝫ","Ꝭ","Ꝯ","Ꝺ","Ꝼ",["Ᵹ","Ꝿ"],"Ꞁ","Ꞃ","Ꞅ","Ꞇ","Ꞌ","Ɥ","Ꞑ","Ꞓ","Ꞗ","Ꞙ","Ꞛ","Ꞝ","Ꞟ","Ꞡ","Ꞣ","Ꞥ","Ꞧ","Ꞩ",["Ɦ","Ɬ"],["Ʞ","Ꞵ"],"Ꞷ",["Ａ","Ｚ"]],!1,!1),Zn=/^[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0982-\u0983\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09D7\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0B02-\u0B03\u0B3E\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD7\u0C01-\u0C03\u0C41-\u0C44\u0C82-\u0C83\u0CBE\u0CC0-\u0CC4\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D57\u0D82-\u0D83\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DF2-\u0DF3\u0F3E-\u0F3F\u0F7F\u102B-\u102C\u1031\u1038\u103B-\u103C\u1056-\u1057\u1062-\u1064\u1067-\u106D\u1083-\u1084\u1087-\u108C\u108F\u109A-\u109C\u17B6\u17BE-\u17C5\u17C7-\u17C8\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u1A19-\u1A1A\u1A55\u1A57\u1A61\u1A63-\u1A64\u1A6D-\u1A72\u1B04\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B82\u1BA1\u1BA6-\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1C24-\u1C2B\u1C34-\u1C35\u1CE1\u1CF2-\u1CF3\u302E-\u302F\uA823-\uA824\uA827\uA880-\uA881\uA8B4-\uA8C3\uA952-\uA953\uA983\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uAA2F-\uAA30\uAA33-\uAA34\uAA4D\uAA7B\uAA7D\uAAEB\uAAEE-\uAAEF\uAAF5\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEC]/,Dr=qn(["ः","ऻ",["ा","ी"],["ॉ","ौ"],["ॎ","ॏ"],["ং","ঃ"],["া","ী"],["ে","ৈ"],["ো","ৌ"],"ৗ","ਃ",["ਾ","ੀ"],"ઃ",["ા","ી"],"ૉ",["ો","ૌ"],["ଂ","ଃ"],"ା","ୀ",["େ","ୈ"],["ୋ","ୌ"],"ୗ",["ா","ி"],["ு","ூ"],["ெ","ை"],["ொ","ௌ"],"ௗ",["ఁ","ః"],["ు","ౄ"],["ಂ","ಃ"],"ಾ",["ೀ","ೄ"],["ೇ","ೈ"],["ೊ","ೋ"],["ೕ","ೖ"],["ം","ഃ"],["ാ","ീ"],["െ","ൈ"],["ൊ","ൌ"],"ൗ",["ං","ඃ"],["ා","ෑ"],["ෘ","ෟ"],["ෲ","ෳ"],["༾","༿"],"ཿ",["ါ","ာ"],"ေ","း",["ျ","ြ"],["ၖ","ၗ"],["ၢ","ၤ"],["ၧ","ၭ"],["ႃ","ႄ"],["ႇ","ႌ"],"ႏ",["ႚ","ႜ"],"ា",["ើ","ៅ"],["ះ","ៈ"],["ᤣ","ᤦ"],["ᤩ","ᤫ"],["ᤰ","ᤱ"],["ᤳ","ᤸ"],["ᨙ","ᨚ"],"ᩕ","ᩗ","ᩡ",["ᩣ","ᩤ"],["ᩭ","ᩲ"],"ᬄ","ᬵ","ᬻ",["ᬽ","ᭁ"],["ᭃ","᭄"],"ᮂ","ᮡ",["ᮦ","ᮧ"],"᮪","ᯧ",["ᯪ","ᯬ"],"ᯮ",["᯲","᯳"],["ᰤ","ᰫ"],["ᰴ","ᰵ"],"᳡",["ᳲ","ᳳ"],["〮","〯"],["ꠣ","ꠤ"],"ꠧ",["ꢀ","ꢁ"],["ꢴ","ꣃ"],["ꥒ","꥓"],"ꦃ",["ꦴ","ꦵ"],["ꦺ","ꦻ"],["ꦽ","꧀"],["ꨯ","ꨰ"],["ꨳ","ꨴ"],"ꩍ","ꩻ","ꩽ","ꫫ",["ꫮ","ꫯ"],"ꫵ",["ꯣ","ꯤ"],["ꯦ","ꯧ"],["ꯩ","ꯪ"],"꯬"],!1,!1),$r=/^[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62-\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC-\u0CCD\u0CE2-\u0CE3\u0D01\u0D41-\u0D44\u0D4D\u0D62-\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099-\u309A\uA66F\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/,Hr=qn([["̀","ͯ"],["҃","҇"],["֑","ֽ"],"ֿ",["ׁ","ׂ"],["ׄ","ׅ"],"ׇ",["ؐ","ؚ"],["ً","ٟ"],"ٰ",["ۖ","ۜ"],["۟","ۤ"],["ۧ","ۨ"],["۪","ۭ"],"ܑ",["ܰ","݊"],["ަ","ް"],["߫","߳"],["ࠖ","࠙"],["ࠛ","ࠣ"],["ࠥ","ࠧ"],["ࠩ","࠭"],["࡙","࡛"],["ࣣ","ं"],"ऺ","़",["ु","ै"],"्",["॑","ॗ"],["ॢ","ॣ"],"ঁ","়",["ু","ৄ"],"্",["ৢ","ৣ"],["ਁ","ਂ"],"਼",["ੁ","ੂ"],["ੇ","ੈ"],["ੋ","੍"],"ੑ",["ੰ","ੱ"],"ੵ",["ઁ","ં"],"઼",["ુ","ૅ"],["ે","ૈ"],"્",["ૢ","ૣ"],"ଁ","଼","ି",["ୁ","ୄ"],"୍","ୖ",["ୢ","ୣ"],"ஂ","ீ","்","ఀ",["ా","ీ"],["ె","ై"],["ొ","్"],["ౕ","ౖ"],["ౢ","ౣ"],"ಁ","಼","ಿ","ೆ",["ೌ","್"],["ೢ","ೣ"],"ഁ",["ു","ൄ"],"്",["ൢ","ൣ"],"්",["ි","ු"],"ූ","ั",["ิ","ฺ"],["็","๎"],"ັ",["ິ","ູ"],["ົ","ຼ"],["່","ໍ"],["༘","༙"],"༵","༷","༹",["ཱ","ཾ"],["ྀ","྄"],["྆","྇"],["ྍ","ྗ"],["ྙ","ྼ"],"࿆",["ိ","ူ"],["ဲ","့"],["္","်"],["ွ","ှ"],["ၘ","ၙ"],["ၞ","ၠ"],["ၱ","ၴ"],"ႂ",["ႅ","ႆ"],"ႍ","ႝ",["፝","፟"],["ᜒ","᜔"],["ᜲ","᜴"],["ᝒ","ᝓ"],["ᝲ","ᝳ"],["឴","឵"],["ិ","ួ"],"ំ",["៉","៓"],"៝",["᠋","᠍"],"ᢩ",["ᤠ","ᤢ"],["ᤧ","ᤨ"],"ᤲ",["᤹","᤻"],["ᨗ","ᨘ"],"ᨛ","ᩖ",["ᩘ","ᩞ"],"᩠","ᩢ",["ᩥ","ᩬ"],["ᩳ","᩼"],"᩿",["᪰","᪽"],["ᬀ","ᬃ"],"᬴",["ᬶ","ᬺ"],"ᬼ","ᭂ",["᭫","᭳"],["ᮀ","ᮁ"],["ᮢ","ᮥ"],["ᮨ","ᮩ"],["᮫","ᮭ"],"᯦",["ᯨ","ᯩ"],"ᯭ",["ᯯ","ᯱ"],["ᰬ","ᰳ"],["ᰶ","᰷"],["᳐","᳒"],["᳔","᳠"],["᳢","᳨"],"᳭","᳴",["᳸","᳹"],["᷀","᷵"],["᷼","᷿"],["⃐","⃜"],"⃡",["⃥","⃰"],["⳯","⳱"],"⵿",["ⷠ","ⷿ"],["〪","〭"],["゙","゚"],"꙯",["ꙴ","꙽"],["ꚞ","ꚟ"],["꛰","꛱"],"ꠂ","꠆","ꠋ",["ꠥ","ꠦ"],"꣄",["꣠","꣱"],["ꤦ","꤭"],["ꥇ","ꥑ"],["ꦀ","ꦂ"],"꦳",["ꦶ","ꦹ"],"ꦼ","ꧥ",["ꨩ","ꨮ"],["ꨱ","ꨲ"],["ꨵ","ꨶ"],"ꩃ","ꩌ","ꩼ","ꪰ",["ꪲ","ꪴ"],["ꪷ","ꪸ"],["ꪾ","꪿"],"꫁",["ꫬ","ꫭ"],"꫶","ꯥ","ꯨ","꯭","ﬞ",["︀","️"],["︠","︯"]],!1,!1),qr=/^[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]/,Wr=qn([["0","9"],["٠","٩"],["۰","۹"],["߀","߉"],["०","९"],["০","৯"],["੦","੯"],["૦","૯"],["୦","୯"],["௦","௯"],["౦","౯"],["೦","೯"],["൦","൯"],["෦","෯"],["๐","๙"],["໐","໙"],["༠","༩"],["၀","၉"],["႐","႙"],["០","៩"],["᠐","᠙"],["᥆","᥏"],["᧐","᧙"],["᪀","᪉"],["᪐","᪙"],["᭐","᭙"],["᮰","᮹"],["᱀","᱉"],["᱐","᱙"],["꘠","꘩"],["꣐","꣙"],["꤀","꤉"],["꧐","꧙"],["꧰","꧹"],["꩐","꩙"],["꯰","꯹"],["０","９"]],!1,!1),jr=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,dr=qn([["ᛮ","ᛰ"],["Ⅰ","ↂ"],["ↅ","ↈ"],"〇",["〡","〩"],["〸","〺"],["ꛦ","ꛯ"]],!1,!1),Ir=/^[_\u203F-\u2040\u2054\uFE33-\uFE34\uFE4D-\uFE4F\uFF3F]/,Xr=qn(["_",["‿","⁀"],"⁔",["︳","︴"],["﹍","﹏"],"＿"],!1,!1),Qr=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Sr=qn([" "," "," ",[" "," "]," "," ","　"],!1,!1),Er="break",Yr=kt("break",!1),Cr="case",Zr=kt("case",!1),Fr="catch",Jr=kt("catch",!1),gr="class",ar=kt("class",!1),Nr="const",Br=kt("const",!1),mn="continue",Kn=kt("continue",!1),Vt="debugger",yr=kt("debugger",!1),Mn="default",pr=kt("default",!1),Kr="delete",si=kt("delete",!1),pn="do",ei=kt("do",!1),Rr="else",Ln=kt("else",!1),Sn="enum",ai=kt("enum",!1),Tr="export",oi=kt("export",!1),kr="extends",ci=kt("extends",!1),Lr="false",_n=kt("false",!1),vr="finally",Q=kt("finally",!1),ee="for",se=kt("for",!1),ae="function",ge=kt("function",!1),Te="if",Ie=kt("if",!1),Ve="import",Ze=kt("import",!1),Ye="instanceof",it=kt("instanceof",!1),ht="in",lt=kt("in",!1),nt="new",Mt=kt("new",!1),_t="null",Dt=kt("null",!1),gt="return",yt=kt("return",!1),Ht="super",Kt=kt("super",!1),qt="switch",Wt=kt("switch",!1),en="this",gn=kt("this",!1),An="throw",En=kt("throw",!1),jn="true",kn=kt("true",!1),Qn="try",hn=kt("try",!1),yn="typeof",fn=kt("typeof",!1),In="var",wn=kt("var",!1),On="void",vn=kt("void",!1),Nn="while",Ur=kt("while",!1),br="with",Cn=kt("with",!1),Jt=";",fi=kt(";",!1),fe=0,nn=0,ui=[{line:1,column:1}],fr=0,pi=[],tt=0,li;if("startRule"in u){if(!(u.startRule in a))throw new Error(`Can't start parsing from rule "`+u.startRule+'".');r=a[u.startRule]}function hi(){return C.substring(nn,fe)}function Hn(){return mi(nn,fe)}function yi(ie,De){throw De=De!==void 0?De:mi(nn,fe),Ii(ie,De)}function kt(ie,De){return{type:"literal",text:ie,ignoreCase:De}}function qn(ie,De,Le){return{type:"class",parts:ie,inverted:De,ignoreCase:Le}}function vi(){return{type:"any"}}function bi(){return{type:"end"}}function Mr(ie){return{type:"other",description:ie}}function Ai(ie){var De=ui[ie],Le;if(De)return De;for(Le=ie-1;!ui[Le];)Le--;for(De=ui[Le],De={line:De.line,column:De.column};Le<ie;)C.charCodeAt(Le)===10?(De.line++,De.column=1):De.column++,Le++;return ui[ie]=De,De}function mi(ie,De){var Le=Ai(ie),We=Ai(De);return{start:{offset:ie,line:Le.line,column:Le.column},end:{offset:De,line:We.line,column:We.column}}}function xt(ie){fe<fr||(fe>fr&&(fr=fe,pi=[]),pi.push(ie))}function Ii(ie,De){return new peg$SyntaxError(ie,null,null,De)}function Fi(ie,De,Le){return new peg$SyntaxError(peg$SyntaxError.buildMessage(ie,De),ie,De,Le)}function wi(){var ie,De,Le,We,mt,Et,Dn;if(ie=fe,De=Fn(),De!==n)if(Le=fe,We=Bi(),We!==n?(mt=Fn(),mt!==n?(We=[We,mt],Le=We):(fe=Le,Le=n)):(fe=Le,Le=n),Le===n&&(Le=null),Le!==n){if(We=[],mt=fe,Et=Di(),Et!==n?(Dn=Fn(),Dn!==n?(Et=[Et,Dn],mt=Et):(fe=mt,mt=n)):(fe=mt,mt=n),mt!==n)for(;mt!==n;)We.push(mt),mt=fe,Et=Di(),Et!==n?(Dn=Fn(),Dn!==n?(Et=[Et,Dn],mt=Et):(fe=mt,mt=n)):(fe=mt,mt=n);else We=n;We!==n?(nn=ie,De=g(Le,We),ie=De):(fe=ie,ie=n)}else fe=ie,ie=n;else fe=ie,ie=n;return ie}function Bi(){var ie,De,Le;return ie=fe,De=qi(),De!==n?(Le=Bs(),Le!==n?(nn=ie,De=f(De),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Di(){var ie,De,Le,We,mt,Et,Dn,or;return ie=fe,De=Gi(),De!==n?(Le=Fn(),Le!==n?(We=fe,mt=Vi(),mt!==n?(Et=Fn(),Et!==n?(mt=[mt,Et],We=mt):(fe=We,We=n)):(fe=We,We=n),We===n&&(We=null),We!==n?(C.charCodeAt(fe)===61?(mt=m,fe++):(mt=n,tt===0&&xt(l)),mt!==n?(Et=Fn(),Et!==n?(Dn=Si(),Dn!==n?(or=Bs(),or!==n?(nn=ie,De=x(De,We,Dn),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Si(){var ie,De,Le,We,mt,Et,Dn,or;if(ie=fe,De=_i(),De!==n){for(Le=[],We=fe,mt=Fn(),mt!==n?(C.charCodeAt(fe)===47?(Et=S,fe++):(Et=n,tt===0&&xt(D)),Et!==n?(Dn=Fn(),Dn!==n?(or=_i(),or!==n?(mt=[mt,Et,Dn,or],We=mt):(fe=We,We=n)):(fe=We,We=n)):(fe=We,We=n)):(fe=We,We=n);We!==n;)Le.push(We),We=fe,mt=Fn(),mt!==n?(C.charCodeAt(fe)===47?(Et=S,fe++):(Et=n,tt===0&&xt(D)),Et!==n?(Dn=Fn(),Dn!==n?(or=_i(),or!==n?(mt=[mt,Et,Dn,or],We=mt):(fe=We,We=n)):(fe=We,We=n)):(fe=We,We=n)):(fe=We,We=n);Le!==n?(nn=ie,De=h(De,Le),ie=De):(fe=ie,ie=n)}else fe=ie,ie=n;return ie}function _i(){var ie,De,Le,We,mt;return ie=fe,De=Ri(),De!==n?(Le=fe,We=Fn(),We!==n?(mt=qi(),mt!==n?(We=[We,mt],Le=We):(fe=Le,Le=n)):(fe=Le,Le=n),Le===n&&(Le=null),Le!==n?(nn=ie,De=_(De,Le),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Ri(){var ie,De,Le,We,mt,Et;if(ie=fe,De=xi(),De!==n){for(Le=[],We=fe,mt=Fn(),mt!==n?(Et=xi(),Et!==n?(mt=[mt,Et],We=mt):(fe=We,We=n)):(fe=We,We=n);We!==n;)Le.push(We),We=fe,mt=Fn(),mt!==n?(Et=xi(),Et!==n?(mt=[mt,Et],We=mt):(fe=We,We=n)):(fe=We,We=n);Le!==n?(nn=ie,De=o(De,Le),ie=De):(fe=ie,ie=n)}else fe=ie,ie=n;return ie}function xi(){var ie,De,Le,We,mt,Et;return ie=fe,De=ss(),De!==n?(Le=Fn(),Le!==n?(C.charCodeAt(fe)===58?(We=p,fe++):(We=n,tt===0&&xt(b)),We!==n?(mt=Fn(),mt!==n?(Et=Ei(),Et!==n?(nn=ie,De=y(De,Et),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n),ie===n&&(ie=Ei()),ie}function Ei(){var ie,De,Le,We;return ie=fe,De=Ci(),De!==n?(Le=Fn(),Le!==n?(We=Ni(),We!==n?(nn=ie,De=A(De,We),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n),ie===n&&(ie=Ni()),ie}function Ci(){var ie;return C.charCodeAt(fe)===36?(ie=E,fe++):(ie=n,tt===0&&xt(N)),ie===n&&(C.charCodeAt(fe)===38?(ie=T,fe++):(ie=n,tt===0&&xt(O)),ie===n&&(C.charCodeAt(fe)===33?(ie=j,fe++):(ie=n,tt===0&&xt(M)))),ie}function Ni(){var ie,De,Le,We;return ie=fe,De=Ti(),De!==n?(Le=Fn(),Le!==n?(We=ki(),We!==n?(nn=ie,De=F(De,We),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n),ie===n&&(ie=Ti()),ie}function ki(){var ie;return C.charCodeAt(fe)===63?(ie=B,fe++):(ie=n,tt===0&&xt(I)),ie===n&&(C.charCodeAt(fe)===42?(ie=G,fe++):(ie=n,tt===0&&xt(k)),ie===n&&(C.charCodeAt(fe)===43?(ie=V,fe++):(ie=n,tt===0&&xt(R)))),ie}function Ti(){var ie,De,Le,We,mt,Et;return ie=ps(),ie===n&&(ie=fs(),ie===n&&(ie=bs(),ie===n&&(ie=Li(),ie===n&&(ie=Ui(),ie===n&&(ie=fe,C.charCodeAt(fe)===40?(De=U,fe++):(De=n,tt===0&&xt(L)),De!==n?(Le=Fn(),Le!==n?(We=Si(),We!==n?(mt=Fn(),mt!==n?(C.charCodeAt(fe)===41?(Et=H,fe++):(Et=n,tt===0&&xt(X)),Et!==n?(nn=ie,De=Z(We),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n)))))),ie}function Li(){var ie,De,Le,We,mt,Et,Dn,or;return ie=fe,De=Gi(),De!==n?(Le=fe,tt++,We=fe,mt=Fn(),mt!==n?(Et=fe,Dn=Vi(),Dn!==n?(or=Fn(),or!==n?(Dn=[Dn,or],Et=Dn):(fe=Et,Et=n)):(fe=Et,Et=n),Et===n&&(Et=null),Et!==n?(C.charCodeAt(fe)===61?(Dn=m,fe++):(Dn=n,tt===0&&xt(l)),Dn!==n?(mt=[mt,Et,Dn],We=mt):(fe=We,We=n)):(fe=We,We=n)):(fe=We,We=n),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(nn=ie,De=J(De),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Ui(){var ie,De,Le,We;return ie=fe,De=zi(),De!==n?(Le=Fn(),Le!==n?(We=qi(),We!==n?(nn=ie,De=K(De,We),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function zi(){var ie;return C.charCodeAt(fe)===38?(ie=T,fe++):(ie=n,tt===0&&xt(O)),ie===n&&(C.charCodeAt(fe)===33?(ie=j,fe++):(ie=n,tt===0&&xt(M))),ie}function er(){var ie;return C.length>fe?(ie=C.charAt(fe),fe++):(ie=n,tt===0&&xt($)),ie}function Mi(){var ie;return tt++,C.charCodeAt(fe)===9?(ie=Y,fe++):(ie=n,tt===0&&xt(te)),ie===n&&(C.charCodeAt(fe)===11?(ie=ce,fe++):(ie=n,tt===0&&xt(oe)),ie===n&&(C.charCodeAt(fe)===12?(ie=ue,fe++):(ie=n,tt===0&&xt(Ce)),ie===n&&(C.charCodeAt(fe)===32?(ie=le,fe++):(ie=n,tt===0&&xt(ye)),ie===n&&(C.charCodeAt(fe)===160?(ie=ve,fe++):(ie=n,tt===0&&xt(pe)),ie===n&&(C.charCodeAt(fe)===65279?(ie=be,fe++):(ie=n,tt===0&&xt(Ne)),ie===n&&(ie=Ms())))))),tt--,ie===n&&tt===0&&xt(W),ie}function di(){var ie;return he.test(C.charAt(fe))?(ie=C.charAt(fe),fe++):(ie=n,tt===0&&xt(ne)),ie}function Oi(){var ie;return tt++,C.charCodeAt(fe)===10?(ie=de,fe++):(ie=n,tt===0&&xt(xe)),ie===n&&(C.substr(fe,2)===Pe?(ie=Pe,fe+=2):(ie=n,tt===0&&xt(Ae)),ie===n&&(C.charCodeAt(fe)===13?(ie=Oe,fe++):(ie=n,tt===0&&xt(Se)),ie===n&&(C.charCodeAt(fe)===8232?(ie=Fe,fe++):(ie=n,tt===0&&xt($e)),ie===n&&(C.charCodeAt(fe)===8233?(ie=Re,fe++):(ie=n,tt===0&&xt(qe)))))),tt--,ie===n&&tt===0&&xt(re),ie}function Xi(){var ie;return tt++,ie=is(),ie===n&&(ie=Yi()),tt--,ie===n&&tt===0&&xt(ze),ie}function is(){var ie,De,Le,We,mt,Et;if(ie=fe,C.substr(fe,2)===we?(De=we,fe+=2):(De=n,tt===0&&xt(Ee)),De!==n){for(Le=[],We=fe,mt=fe,tt++,C.substr(fe,2)===Me?(Et=Me,fe+=2):(Et=n,tt===0&&xt(me)),tt--,Et===n?mt=void 0:(fe=mt,mt=n),mt!==n?(Et=er(),Et!==n?(mt=[mt,Et],We=mt):(fe=We,We=n)):(fe=We,We=n);We!==n;)Le.push(We),We=fe,mt=fe,tt++,C.substr(fe,2)===Me?(Et=Me,fe+=2):(Et=n,tt===0&&xt(me)),tt--,Et===n?mt=void 0:(fe=mt,mt=n),mt!==n?(Et=er(),Et!==n?(mt=[mt,Et],We=mt):(fe=We,We=n)):(fe=We,We=n);Le!==n?(C.substr(fe,2)===Me?(We=Me,fe+=2):(We=n,tt===0&&xt(me)),We!==n?(De=[De,Le,We],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n)}else fe=ie,ie=n;return ie}function Qi(){var ie,De,Le,We,mt,Et;if(ie=fe,C.substr(fe,2)===we?(De=we,fe+=2):(De=n,tt===0&&xt(Ee)),De!==n){for(Le=[],We=fe,mt=fe,tt++,C.substr(fe,2)===Me?(Et=Me,fe+=2):(Et=n,tt===0&&xt(me)),Et===n&&(Et=di()),tt--,Et===n?mt=void 0:(fe=mt,mt=n),mt!==n?(Et=er(),Et!==n?(mt=[mt,Et],We=mt):(fe=We,We=n)):(fe=We,We=n);We!==n;)Le.push(We),We=fe,mt=fe,tt++,C.substr(fe,2)===Me?(Et=Me,fe+=2):(Et=n,tt===0&&xt(me)),Et===n&&(Et=di()),tt--,Et===n?mt=void 0:(fe=mt,mt=n),mt!==n?(Et=er(),Et!==n?(mt=[mt,Et],We=mt):(fe=We,We=n)):(fe=We,We=n);Le!==n?(C.substr(fe,2)===Me?(We=Me,fe+=2):(We=n,tt===0&&xt(me)),We!==n?(De=[De,Le,We],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n)}else fe=ie,ie=n;return ie}function Yi(){var ie,De,Le,We,mt,Et;if(ie=fe,C.substr(fe,2)===Ge?(De=Ge,fe+=2):(De=n,tt===0&&xt(Xe)),De!==n){for(Le=[],We=fe,mt=fe,tt++,Et=di(),tt--,Et===n?mt=void 0:(fe=mt,mt=n),mt!==n?(Et=er(),Et!==n?(mt=[mt,Et],We=mt):(fe=We,We=n)):(fe=We,We=n);We!==n;)Le.push(We),We=fe,mt=fe,tt++,Et=di(),tt--,Et===n?mt=void 0:(fe=mt,mt=n),mt!==n?(Et=er(),Et!==n?(mt=[mt,Et],We=mt):(fe=We,We=n)):(fe=We,We=n);Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)}else fe=ie,ie=n;return ie}function ss(){var ie,De,Le;return ie=fe,De=fe,tt++,Le=cs(),tt--,Le===n?De=void 0:(fe=De,De=n),De!==n?(Le=Gi(),Le!==n?(nn=ie,De=rt(Le),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Gi(){var ie,De,Le,We;if(tt++,ie=fe,De=Zi(),De!==n){for(Le=[],We=cn();We!==n;)Le.push(We),We=cn();Le!==n?(nn=ie,De=ft(De,Le),ie=De):(fe=ie,ie=n)}else fe=ie,ie=n;return tt--,ie===n&&(De=n,tt===0&&xt(ut)),ie}function Zi(){var ie,De,Le;return ie=as(),ie===n&&(C.charCodeAt(fe)===36?(ie=E,fe++):(ie=n,tt===0&&xt(N)),ie===n&&(C.charCodeAt(fe)===95?(ie=pt,fe++):(ie=n,tt===0&&xt(ot)),ie===n&&(ie=fe,C.charCodeAt(fe)===92?(De=bt,fe++):(De=n,tt===0&&xt(At)),De!==n?(Le=ns(),Le!==n?(nn=ie,De=Ke(Le),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n)))),ie}function cn(){var ie;return ie=Zi(),ie===n&&(ie=os(),ie===n&&(ie=Cs(),ie===n&&(ie=Ts(),ie===n&&(C.charCodeAt(fe)===8204?(ie=dt,fe++):(ie=n,tt===0&&xt(vt)),ie===n&&(C.charCodeAt(fe)===8205?(ie=wt,fe++):(ie=n,tt===0&&xt(Nt))))))),ie}function as(){var ie;return ie=Ds(),ie===n&&(ie=_s(),ie===n&&(ie=ws(),ie===n&&(ie=xs(),ie===n&&(ie=As(),ie===n&&(ie=Ns()))))),ie}function os(){var ie;return ie=Es(),ie===n&&(ie=Ss()),ie}function cs(){var ie;return ie=us(),ie===n&&(ie=ls(),ie===n&&(ie=ua(),ie===n&&(ie=ds()))),ie}function us(){var ie;return ie=Os(),ie===n&&(ie=zs(),ie===n&&(ie=Gs(),ie===n&&(ie=Hs(),ie===n&&(ie=qs(),ie===n&&(ie=Ws(),ie===n&&(ie=Xs(),ie===n&&(ie=Qs(),ie===n&&(ie=Ys(),ie===n&&(ie=ta(),ie===n&&(ie=na(),ie===n&&(ie=ra(),ie===n&&(ie=ia(),ie===n&&(ie=aa(),ie===n&&(ie=oa(),ie===n&&(ie=ca(),ie===n&&(ie=la(),ie===n&&(ie=pa(),ie===n&&(ie=fa(),ie===n&&(ie=ha(),ie===n&&(ie=ga(),ie===n&&(ie=ya(),ie===n&&(ie=va(),ie===n&&(ie=ba(),ie===n&&(ie=_a(),ie===n&&(ie=xa()))))))))))))))))))))))))),ie}function ls(){var ie;return ie=Vs(),ie===n&&(ie=$s(),ie===n&&(ie=Zs(),ie===n&&(ie=Js(),ie===n&&(ie=Ks(),ie===n&&(ie=sa(),ie===n&&(ie=da())))))),ie}function ds(){var ie;return ie=ma(),ie===n&&(ie=ea()),ie}function ps(){var ie,De,Le;return tt++,ie=fe,De=Vi(),De!==n?(C.charCodeAt(fe)===105?(Le=Tt,fe++):(Le=n,tt===0&&xt(It)),Le===n&&(Le=null),Le!==n?(nn=ie,De=Pt(De,Le),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),tt--,ie===n&&(De=n,tt===0&&xt(Ot)),ie}function Vi(){var ie,De,Le,We;if(tt++,ie=fe,C.charCodeAt(fe)===34?(De=Ft,fe++):(De=n,tt===0&&xt(Bt)),De!==n){for(Le=[],We=Ji();We!==n;)Le.push(We),We=Ji();Le!==n?(C.charCodeAt(fe)===34?(We=Ft,fe++):(We=n,tt===0&&xt(Bt)),We!==n?(nn=ie,De=Ut(Le),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n)}else fe=ie,ie=n;if(ie===n)if(ie=fe,C.charCodeAt(fe)===39?(De=Xt,fe++):(De=n,tt===0&&xt(Zt)),De!==n){for(Le=[],We=Ki();We!==n;)Le.push(We),We=Ki();Le!==n?(C.charCodeAt(fe)===39?(We=Xt,fe++):(We=n,tt===0&&xt(Zt)),We!==n?(nn=ie,De=Ut(Le),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n)}else fe=ie,ie=n;return tt--,ie===n&&(De=n,tt===0&&xt(Rt)),ie}function Ji(){var ie,De,Le;return ie=fe,De=fe,tt++,C.charCodeAt(fe)===34?(Le=Ft,fe++):(Le=n,tt===0&&xt(Bt)),Le===n&&(C.charCodeAt(fe)===92?(Le=bt,fe++):(Le=n,tt===0&&xt(At)),Le===n&&(Le=di())),tt--,Le===n?De=void 0:(fe=De,De=n),De!==n?(Le=er(),Le!==n?(nn=ie,De=Yt(),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie===n&&(ie=fe,C.charCodeAt(fe)===92?(De=bt,fe++):(De=n,tt===0&&xt(At)),De!==n?(Le=Hi(),Le!==n?(nn=ie,De=Ke(Le),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie===n&&(ie=$i())),ie}function Ki(){var ie,De,Le;return ie=fe,De=fe,tt++,C.charCodeAt(fe)===39?(Le=Xt,fe++):(Le=n,tt===0&&xt(Zt)),Le===n&&(C.charCodeAt(fe)===92?(Le=bt,fe++):(Le=n,tt===0&&xt(At)),Le===n&&(Le=di())),tt--,Le===n?De=void 0:(fe=De,De=n),De!==n?(Le=er(),Le!==n?(nn=ie,De=Yt(),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie===n&&(ie=fe,C.charCodeAt(fe)===92?(De=bt,fe++):(De=n,tt===0&&xt(At)),De!==n?(Le=Hi(),Le!==n?(nn=ie,De=Ke(Le),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie===n&&(ie=$i())),ie}function fs(){var ie,De,Le,We,mt,Et;if(tt++,ie=fe,C.charCodeAt(fe)===91?(De=Gt,fe++):(De=n,tt===0&&xt(sn)),De!==n)if(C.charCodeAt(fe)===94?(Le=Je,fe++):(Le=n,tt===0&&xt(Ct)),Le===n&&(Le=null),Le!==n){for(We=[],mt=es(),mt===n&&(mt=Pi());mt!==n;)We.push(mt),mt=es(),mt===n&&(mt=Pi());We!==n?(C.charCodeAt(fe)===93?(mt=_e,fe++):(mt=n,tt===0&&xt(je)),mt!==n?(C.charCodeAt(fe)===105?(Et=Tt,fe++):(Et=n,tt===0&&xt(It)),Et===n&&(Et=null),Et!==n?(nn=ie,De=Ue(Le,We,Et),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n)}else fe=ie,ie=n;else fe=ie,ie=n;return tt--,ie===n&&(De=n,tt===0&&xt(rn)),ie}function es(){var ie,De,Le,We;return ie=fe,De=Pi(),De!==n?(C.charCodeAt(fe)===45?(Le=Be,fe++):(Le=n,tt===0&&xt(He)),Le!==n?(We=Pi(),We!==n?(nn=ie,De=ke(De,We),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Pi(){var ie,De,Le;return ie=fe,De=fe,tt++,C.charCodeAt(fe)===93?(Le=_e,fe++):(Le=n,tt===0&&xt(je)),Le===n&&(C.charCodeAt(fe)===92?(Le=bt,fe++):(Le=n,tt===0&&xt(At)),Le===n&&(Le=di())),tt--,Le===n?De=void 0:(fe=De,De=n),De!==n?(Le=er(),Le!==n?(nn=ie,De=Yt(),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie===n&&(ie=fe,C.charCodeAt(fe)===92?(De=bt,fe++):(De=n,tt===0&&xt(At)),De!==n?(Le=Hi(),Le!==n?(nn=ie,De=Ke(Le),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie===n&&(ie=$i())),ie}function $i(){var ie,De,Le;return ie=fe,C.charCodeAt(fe)===92?(De=bt,fe++):(De=n,tt===0&&xt(At)),De!==n?(Le=Oi(),Le!==n?(nn=ie,De=Qe(),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Hi(){var ie,De,Le,We;return ie=hs(),ie===n&&(ie=fe,C.charCodeAt(fe)===48?(De=et,fe++):(De=n,tt===0&&xt(ct)),De!==n?(Le=fe,tt++,We=rs(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(nn=ie,De=st(),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie===n&&(ie=vs(),ie===n&&(ie=ns()))),ie}function hs(){var ie;return ie=ts(),ie===n&&(ie=gs()),ie}function ts(){var ie,De;return C.charCodeAt(fe)===39?(ie=Xt,fe++):(ie=n,tt===0&&xt(Zt)),ie===n&&(C.charCodeAt(fe)===34?(ie=Ft,fe++):(ie=n,tt===0&&xt(Bt)),ie===n&&(C.charCodeAt(fe)===92?(ie=bt,fe++):(ie=n,tt===0&&xt(At)),ie===n&&(ie=fe,C.charCodeAt(fe)===98?(De=at,fe++):(De=n,tt===0&&xt(St)),De!==n&&(nn=ie,De=jt()),ie=De,ie===n&&(ie=fe,C.charCodeAt(fe)===102?(De=zt,fe++):(De=n,tt===0&&xt($t)),De!==n&&(nn=ie,De=Qt()),ie=De,ie===n&&(ie=fe,C.charCodeAt(fe)===110?(De=tn,fe++):(De=n,tt===0&&xt(an)),De!==n&&(nn=ie,De=un()),ie=De,ie===n&&(ie=fe,C.charCodeAt(fe)===114?(De=bn,fe++):(De=n,tt===0&&xt(Un)),De!==n&&(nn=ie,De=tr()),ie=De,ie===n&&(ie=fe,C.charCodeAt(fe)===116?(De=Gn,fe++):(De=n,tt===0&&xt(nr)),De!==n&&(nn=ie,De=Bn()),ie=De,ie===n&&(ie=fe,C.charCodeAt(fe)===118?(De=Vn,fe++):(De=n,tt===0&&xt(Jn)),De!==n&&(nn=ie,De=zn()),ie=De)))))))),ie}function gs(){var ie,De,Le;return ie=fe,De=fe,tt++,Le=ys(),Le===n&&(Le=di()),tt--,Le===n?De=void 0:(fe=De,De=n),De!==n?(Le=er(),Le!==n?(nn=ie,De=Yt(),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function ys(){var ie;return ie=ts(),ie===n&&(ie=rs(),ie===n&&(C.charCodeAt(fe)===120?(ie=dn,fe++):(ie=n,tt===0&&xt(on)),ie===n&&(C.charCodeAt(fe)===117?(ie=_r,fe++):(ie=n,tt===0&&xt(cr))))),ie}function vs(){var ie,De,Le,We,mt,Et;return ie=fe,C.charCodeAt(fe)===120?(De=dn,fe++):(De=n,tt===0&&xt(on)),De!==n?(Le=fe,We=fe,mt=gi(),mt!==n?(Et=gi(),Et!==n?(mt=[mt,Et],We=mt):(fe=We,We=n)):(fe=We,We=n),We!==n?Le=C.substring(Le,fe):Le=We,Le!==n?(nn=ie,De=ur(Le),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function ns(){var ie,De,Le,We,mt,Et,Dn,or;return ie=fe,C.charCodeAt(fe)===117?(De=_r,fe++):(De=n,tt===0&&xt(cr)),De!==n?(Le=fe,We=fe,mt=gi(),mt!==n?(Et=gi(),Et!==n?(Dn=gi(),Dn!==n?(or=gi(),or!==n?(mt=[mt,Et,Dn,or],We=mt):(fe=We,We=n)):(fe=We,We=n)):(fe=We,We=n)):(fe=We,We=n),We!==n?Le=C.substring(Le,fe):Le=We,Le!==n?(nn=ie,De=ur(Le),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function rs(){var ie;return Wn.test(C.charAt(fe))?(ie=C.charAt(fe),fe++):(ie=n,tt===0&&xt(zr)),ie}function gi(){var ie;return Gr.test(C.charAt(fe))?(ie=C.charAt(fe),fe++):(ie=n,tt===0&&xt(lr)),ie}function bs(){var ie,De;return ie=fe,C.charCodeAt(fe)===46?(De=Tn,fe++):(De=n,tt===0&&xt(ti)),De!==n&&(nn=ie,De=Or()),ie=De,ie}function qi(){var ie,De,Le,We;return tt++,ie=fe,C.charCodeAt(fe)===123?(De=Pn,fe++):(De=n,tt===0&&xt(hr)),De!==n?(Le=Wi(),Le!==n?(C.charCodeAt(fe)===125?(We=xn,fe++):(We=n,tt===0&&xt(Pr)),We!==n?(nn=ie,De=Vr(Le),ie=De):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n),tt--,ie===n&&(De=n,tt===0&&xt(xr)),ie}function Wi(){var ie,De,Le,We,mt,Et;if(ie=fe,De=[],Le=[],We=fe,mt=fe,tt++,Ar.test(C.charAt(fe))?(Et=C.charAt(fe),fe++):(Et=n,tt===0&&xt(wr)),tt--,Et===n?mt=void 0:(fe=mt,mt=n),mt!==n?(Et=er(),Et!==n?(mt=[mt,Et],We=mt):(fe=We,We=n)):(fe=We,We=n),We!==n)for(;We!==n;)Le.push(We),We=fe,mt=fe,tt++,Ar.test(C.charAt(fe))?(Et=C.charAt(fe),fe++):(Et=n,tt===0&&xt(wr)),tt--,Et===n?mt=void 0:(fe=mt,mt=n),mt!==n?(Et=er(),Et!==n?(mt=[mt,Et],We=mt):(fe=We,We=n)):(fe=We,We=n);else Le=n;for(Le===n&&(Le=fe,C.charCodeAt(fe)===123?(We=Pn,fe++):(We=n,tt===0&&xt(hr)),We!==n?(mt=Wi(),mt!==n?(C.charCodeAt(fe)===125?(Et=xn,fe++):(Et=n,tt===0&&xt(Pr)),Et!==n?(We=[We,mt,Et],Le=We):(fe=Le,Le=n)):(fe=Le,Le=n)):(fe=Le,Le=n));Le!==n;){if(De.push(Le),Le=[],We=fe,mt=fe,tt++,Ar.test(C.charAt(fe))?(Et=C.charAt(fe),fe++):(Et=n,tt===0&&xt(wr)),tt--,Et===n?mt=void 0:(fe=mt,mt=n),mt!==n?(Et=er(),Et!==n?(mt=[mt,Et],We=mt):(fe=We,We=n)):(fe=We,We=n),We!==n)for(;We!==n;)Le.push(We),We=fe,mt=fe,tt++,Ar.test(C.charAt(fe))?(Et=C.charAt(fe),fe++):(Et=n,tt===0&&xt(wr)),tt--,Et===n?mt=void 0:(fe=mt,mt=n),mt!==n?(Et=er(),Et!==n?(mt=[mt,Et],We=mt):(fe=We,We=n)):(fe=We,We=n);else Le=n;Le===n&&(Le=fe,C.charCodeAt(fe)===123?(We=Pn,fe++):(We=n,tt===0&&xt(hr)),We!==n?(mt=Wi(),mt!==n?(C.charCodeAt(fe)===125?(Et=xn,fe++):(Et=n,tt===0&&xt(Pr)),Et!==n?(We=[We,mt,Et],Le=We):(fe=Le,Le=n)):(fe=Le,Le=n)):(fe=Le,Le=n))}return De!==n?ie=C.substring(ie,fe):ie=De,ie}function _s(){var ie;return ni.test(C.charAt(fe))?(ie=C.charAt(fe),fe++):(ie=n,tt===0&&xt(ri)),ie}function xs(){var ie;return rr.test(C.charAt(fe))?(ie=C.charAt(fe),fe++):(ie=n,tt===0&&xt(Xn)),ie}function As(){var ie;return Yn.test(C.charAt(fe))?(ie=C.charAt(fe),fe++):(ie=n,tt===0&&xt(Rn)),ie}function ws(){var ie;return mr.test(C.charAt(fe))?(ie=C.charAt(fe),fe++):(ie=n,tt===0&&xt($n)),ie}function Ds(){var ie;return ir.test(C.charAt(fe))?(ie=C.charAt(fe),fe++):(ie=n,tt===0&&xt(ii)),ie}function Ss(){var ie;return Zn.test(C.charAt(fe))?(ie=C.charAt(fe),fe++):(ie=n,tt===0&&xt(Dr)),ie}function Es(){var ie;return $r.test(C.charAt(fe))?(ie=C.charAt(fe),fe++):(ie=n,tt===0&&xt(Hr)),ie}function Cs(){var ie;return qr.test(C.charAt(fe))?(ie=C.charAt(fe),fe++):(ie=n,tt===0&&xt(Wr)),ie}function Ns(){var ie;return jr.test(C.charAt(fe))?(ie=C.charAt(fe),fe++):(ie=n,tt===0&&xt(dr)),ie}function Ts(){var ie;return Ir.test(C.charAt(fe))?(ie=C.charAt(fe),fe++):(ie=n,tt===0&&xt(Xr)),ie}function Ms(){var ie;return Qr.test(C.charAt(fe))?(ie=C.charAt(fe),fe++):(ie=n,tt===0&&xt(Sr)),ie}function Os(){var ie,De,Le,We;return ie=fe,C.substr(fe,5)===Er?(De=Er,fe+=5):(De=n,tt===0&&xt(Yr)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function zs(){var ie,De,Le,We;return ie=fe,C.substr(fe,4)===Cr?(De=Cr,fe+=4):(De=n,tt===0&&xt(Zr)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Gs(){var ie,De,Le,We;return ie=fe,C.substr(fe,5)===Fr?(De=Fr,fe+=5):(De=n,tt===0&&xt(Jr)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Vs(){var ie,De,Le,We;return ie=fe,C.substr(fe,5)===gr?(De=gr,fe+=5):(De=n,tt===0&&xt(ar)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function $s(){var ie,De,Le,We;return ie=fe,C.substr(fe,5)===Nr?(De=Nr,fe+=5):(De=n,tt===0&&xt(Br)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Hs(){var ie,De,Le,We;return ie=fe,C.substr(fe,8)===mn?(De=mn,fe+=8):(De=n,tt===0&&xt(Kn)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function qs(){var ie,De,Le,We;return ie=fe,C.substr(fe,8)===Vt?(De=Vt,fe+=8):(De=n,tt===0&&xt(yr)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Ws(){var ie,De,Le,We;return ie=fe,C.substr(fe,7)===Mn?(De=Mn,fe+=7):(De=n,tt===0&&xt(pr)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Xs(){var ie,De,Le,We;return ie=fe,C.substr(fe,6)===Kr?(De=Kr,fe+=6):(De=n,tt===0&&xt(si)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Qs(){var ie,De,Le,We;return ie=fe,C.substr(fe,2)===pn?(De=pn,fe+=2):(De=n,tt===0&&xt(ei)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Ys(){var ie,De,Le,We;return ie=fe,C.substr(fe,4)===Rr?(De=Rr,fe+=4):(De=n,tt===0&&xt(Ln)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Zs(){var ie,De,Le,We;return ie=fe,C.substr(fe,4)===Sn?(De=Sn,fe+=4):(De=n,tt===0&&xt(ai)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Js(){var ie,De,Le,We;return ie=fe,C.substr(fe,6)===Tr?(De=Tr,fe+=6):(De=n,tt===0&&xt(oi)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Ks(){var ie,De,Le,We;return ie=fe,C.substr(fe,7)===kr?(De=kr,fe+=7):(De=n,tt===0&&xt(ci)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function ea(){var ie,De,Le,We;return ie=fe,C.substr(fe,5)===Lr?(De=Lr,fe+=5):(De=n,tt===0&&xt(_n)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function ta(){var ie,De,Le,We;return ie=fe,C.substr(fe,7)===vr?(De=vr,fe+=7):(De=n,tt===0&&xt(Q)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function na(){var ie,De,Le,We;return ie=fe,C.substr(fe,3)===ee?(De=ee,fe+=3):(De=n,tt===0&&xt(se)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function ra(){var ie,De,Le,We;return ie=fe,C.substr(fe,8)===ae?(De=ae,fe+=8):(De=n,tt===0&&xt(ge)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function ia(){var ie,De,Le,We;return ie=fe,C.substr(fe,2)===Te?(De=Te,fe+=2):(De=n,tt===0&&xt(Ie)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function sa(){var ie,De,Le,We;return ie=fe,C.substr(fe,6)===Ve?(De=Ve,fe+=6):(De=n,tt===0&&xt(Ze)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function aa(){var ie,De,Le,We;return ie=fe,C.substr(fe,10)===Ye?(De=Ye,fe+=10):(De=n,tt===0&&xt(it)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function oa(){var ie,De,Le,We;return ie=fe,C.substr(fe,2)===ht?(De=ht,fe+=2):(De=n,tt===0&&xt(lt)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function ca(){var ie,De,Le,We;return ie=fe,C.substr(fe,3)===nt?(De=nt,fe+=3):(De=n,tt===0&&xt(Mt)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function ua(){var ie,De,Le,We;return ie=fe,C.substr(fe,4)===_t?(De=_t,fe+=4):(De=n,tt===0&&xt(Dt)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function la(){var ie,De,Le,We;return ie=fe,C.substr(fe,6)===gt?(De=gt,fe+=6):(De=n,tt===0&&xt(yt)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function da(){var ie,De,Le,We;return ie=fe,C.substr(fe,5)===Ht?(De=Ht,fe+=5):(De=n,tt===0&&xt(Kt)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function pa(){var ie,De,Le,We;return ie=fe,C.substr(fe,6)===qt?(De=qt,fe+=6):(De=n,tt===0&&xt(Wt)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function fa(){var ie,De,Le,We;return ie=fe,C.substr(fe,4)===en?(De=en,fe+=4):(De=n,tt===0&&xt(gn)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function ha(){var ie,De,Le,We;return ie=fe,C.substr(fe,5)===An?(De=An,fe+=5):(De=n,tt===0&&xt(En)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function ma(){var ie,De,Le,We;return ie=fe,C.substr(fe,4)===jn?(De=jn,fe+=4):(De=n,tt===0&&xt(kn)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function ga(){var ie,De,Le,We;return ie=fe,C.substr(fe,3)===Qn?(De=Qn,fe+=3):(De=n,tt===0&&xt(hn)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function ya(){var ie,De,Le,We;return ie=fe,C.substr(fe,6)===yn?(De=yn,fe+=6):(De=n,tt===0&&xt(fn)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function va(){var ie,De,Le,We;return ie=fe,C.substr(fe,3)===In?(De=In,fe+=3):(De=n,tt===0&&xt(wn)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function ba(){var ie,De,Le,We;return ie=fe,C.substr(fe,4)===On?(De=On,fe+=4):(De=n,tt===0&&xt(vn)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function _a(){var ie,De,Le,We;return ie=fe,C.substr(fe,5)===Nn?(De=Nn,fe+=5):(De=n,tt===0&&xt(Ur)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function xa(){var ie,De,Le,We;return ie=fe,C.substr(fe,4)===br?(De=br,fe+=4):(De=n,tt===0&&xt(Cn)),De!==n?(Le=fe,tt++,We=cn(),tt--,We===n?Le=void 0:(fe=Le,Le=n),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie}function Fn(){var ie,De;for(ie=[],De=Mi(),De===n&&(De=Oi(),De===n&&(De=Xi()));De!==n;)ie.push(De),De=Mi(),De===n&&(De=Oi(),De===n&&(De=Xi()));return ie}function Aa(){var ie,De;for(ie=[],De=Mi(),De===n&&(De=Qi());De!==n;)ie.push(De),De=Mi(),De===n&&(De=Qi());return ie}function Bs(){var ie,De,Le,We;return ie=fe,De=Fn(),De!==n?(C.charCodeAt(fe)===59?(Le=Jt,fe++):(Le=n,tt===0&&xt(fi)),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n),ie===n&&(ie=fe,De=Aa(),De!==n?(Le=Yi(),Le===n&&(Le=null),Le!==n?(We=Oi(),We!==n?(De=[De,Le,We],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n)):(fe=ie,ie=n),ie===n&&(ie=fe,De=Fn(),De!==n?(Le=wa(),Le!==n?(De=[De,Le],ie=De):(fe=ie,ie=n)):(fe=ie,ie=n))),ie}function wa(){var ie,De;return ie=fe,tt++,C.length>fe?(De=C.charAt(fe),fe++):(De=n,tt===0&&xt($)),tt--,De===n?ie=void 0:(fe=ie,ie=n),ie}var Da={$:"text","&":"simple_and","!":"simple_not"},Sa={"?":"optional","*":"zero_or_more","+":"one_or_more"},Ea={"&":"semantic_and","!":"semantic_not"};function Ca(ie){var De=[],Le;for(Le=0;Le<ie.length;Le++)ie[Le]!==""&&De.push(ie[Le]);return De}function Na(ie,De){return ie?ie[De]:null}function Rs(ie,De){var Le=new Array(ie.length),We;for(We=0;We<ie.length;We++)Le[We]=ie[We][De];return Le}function ks(ie,De,Le){return[ie].concat(Rs(De,Le))}if(li=r(),li!==n&&fe===C.length)return li;throw li!==n&&fe<C.length&&xt(bi()),Fi(pi,fr<C.length?C.charAt(fr):null,fr<C.length?mi(fr,fr+1):mi(fr,fr))}var parser$1={SyntaxError:peg$SyntaxError,parse:peg$parse},objects$5=objects_1,arrays$8=arrays_1,visitor$8={build:function(C){function u(f){return C[f.type].apply(null,arguments)}function n(){}function a(f){var m=Array.prototype.slice.call(arguments,1);u.apply(null,[f.expression].concat(m))}function r(f){return function(m){var l=Array.prototype.slice.call(arguments,1);arrays$8.each(m[f],function(x){u.apply(null,[x].concat(l))})}}var g={grammar:function(f){var m=Array.prototype.slice.call(arguments,1);f.initializer&&u.apply(null,[f.initializer].concat(m)),arrays$8.each(f.rules,function(l){u.apply(null,[l].concat(m))})},initializer:n,rule:a,named:a,choice:r("alternatives"),action:a,sequence:r("elements"),labeled:a,text:a,simple_and:a,simple_not:a,optional:a,zero_or_more:a,one_or_more:a,group:a,semantic_and:n,semantic_not:n,rule_ref:n,literal:n,class:n,any:n};return objects$5.defaults(C,g),u}},visitor_1=visitor$8,arrays$7=arrays_1,visitor$7=visitor_1,asts$5={findRule:function(C,u){return arrays$7.find(C.rules,function(n){return n.name===u})},indexOfRule:function(C,u){return arrays$7.indexOf(C.rules,function(n){return n.name===u})},alwaysConsumesOnSuccess:function(C,u){function n(){return!0}function a(){return!1}function r(f){return g(f.expression)}var g=visitor$7.build({rule:r,named:r,choice:function(f){return arrays$7.every(f.alternatives,g)},action:r,sequence:function(f){return arrays$7.some(f.elements,g)},labeled:r,text:r,simple_and:a,simple_not:a,optional:a,zero_or_more:a,one_or_more:r,group:r,semantic_and:a,semantic_not:a,rule_ref:function(f){return g(asts$5.findRule(C,f.name))},literal:function(f){return f.value!==""},class:n,any:n});return g(u)}},asts_1=asts$5,GrammarError$4=grammarError,asts$4=asts_1,visitor$6=visitor_1;function reportUndefinedRules(C){var u=visitor$6.build({rule_ref:function(n){if(!asts$4.findRule(C,n.name))throw new GrammarError$4('Rule "'+n.name+'" is not defined.',n.location)}});u(C)}var reportUndefinedRules_1=reportUndefinedRules,GrammarError$3=grammarError,visitor$5=visitor_1;function reportDuplicateRules(C){var u={},n=visitor$5.build({rule:function(a){if(u.hasOwnProperty(a.name))throw new GrammarError$3('Rule "'+a.name+'" is already defined at line '+u[a.name].start.line+", column "+u[a.name].start.column+".",a.location);u[a.name]=a.location}});n(C)}var reportDuplicateRules_1=reportDuplicateRules,GrammarError$2=grammarError,arrays$6=arrays_1,objects$4=objects_1,visitor$4=visitor_1;function reportDuplicateLabels(C){function u(a,r){n(a.expression,objects$4.clone(r))}var n=visitor$4.build({rule:function(a){n(a.expression,{})},choice:function(a,r){arrays$6.each(a.alternatives,function(g){n(g,objects$4.clone(r))})},action:u,labeled:function(a,r){if(r.hasOwnProperty(a.label))throw new GrammarError$2('Label "'+a.label+'" is already defined at line '+r[a.label].start.line+", column "+r[a.label].start.column+".",a.location);n(a.expression,r),r[a.label]=a.location},text:u,simple_and:u,simple_not:u,optional:u,zero_or_more:u,one_or_more:u,group:u});n(C)}var reportDuplicateLabels_1=reportDuplicateLabels,arrays$5=arrays_1,GrammarError$1=grammarError,asts$3=asts_1,visitor$3=visitor_1;function reportInfiniteRecursion(C){var u=[],n=visitor$3.build({rule:function(a){u.push(a.name),n(a.expression),u.pop(a.name)},sequence:function(a){arrays$5.every(a.elements,function(r){return n(r),!asts$3.alwaysConsumesOnSuccess(C,r)})},rule_ref:function(a){if(arrays$5.contains(u,a.name))throw u.push(a.name),new GrammarError$1("Possible infinite loop when parsing (left recursion: "+u.join(" -> ")+").",a.location);n(asts$3.findRule(C,a.name))}});n(C)}var reportInfiniteRecursion_1=reportInfiniteRecursion,GrammarError=grammarError,asts$2=asts_1,visitor$2=visitor_1;function reportInfiniteRepetition(C){var u=visitor$2.build({zero_or_more:function(n){if(!asts$2.alwaysConsumesOnSuccess(C,n.expression))throw new GrammarError("Possible infinite loop when parsing (repetition used with an expression that may not consume any input).",n.location)},one_or_more:function(n){if(!asts$2.alwaysConsumesOnSuccess(C,n.expression))throw new GrammarError("Possible infinite loop when parsing (repetition used with an expression that may not consume any input).",n.location)}});u(C)}var reportInfiniteRepetition_1=reportInfiniteRepetition,arrays$4=arrays_1,visitor$1=visitor_1;function removeProxyRules(C,u){function n(g){return g.type==="rule"&&g.expression.type==="rule_ref"}function a(g,f,m){var l=visitor$1.build({rule_ref:function(x){x.name===f&&(x.name=m)}});l(g)}var r=[];arrays$4.each(C.rules,function(g,f){n(g)&&(a(C,g.name,g.expression.name),arrays$4.contains(u.allowedStartRules,g.name)||r.push(f))}),r.reverse(),arrays$4.each(r,function(g){C.rules.splice(g,1)})}var removeProxyRules_1=removeProxyRules,opcodes={PUSH:0,PUSH_UNDEFINED:1,PUSH_NULL:2,PUSH_FAILED:3,PUSH_EMPTY_ARRAY:4,PUSH_CURR_POS:5,POP:6,POP_CURR_POS:7,POP_N:8,NIP:9,APPEND:10,WRAP:11,TEXT:12,IF:13,IF_ERROR:14,IF_NOT_ERROR:15,WHILE_NOT_ERROR:16,MATCH_ANY:17,MATCH_STRING:18,MATCH_STRING_IC:19,MATCH_REGEXP:20,ACCEPT_N:21,ACCEPT_STRING:22,FAIL:23,LOAD_SAVED_POS:24,UPDATE_SAVED_POS:25,CALL:26,RULE:27,SILENT_FAILS_ON:28,SILENT_FAILS_OFF:29},opcodes_1=opcodes;function hex(C){return C.charCodeAt(0).toString(16).toUpperCase()}var js$2={stringEscape:function(C){return C.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+hex(u)}).replace(/[\x10-\x1F\x7F-\xFF]/g,function(u){return"\\x"+hex(u)}).replace(/[\u0100-\u0FFF]/g,function(u){return"\\u0"+hex(u)}).replace(/[\u1000-\uFFFF]/g,function(u){return"\\u"+hex(u)})},regexpClassEscape:function(C){return C.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\v/g,"\\x0B").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+hex(u)}).replace(/[\x10-\x1F\x7F-\xFF]/g,function(u){return"\\x"+hex(u)}).replace(/[\u0100-\u0FFF]/g,function(u){return"\\u0"+hex(u)}).replace(/[\u1000-\uFFFF]/g,function(u){return"\\u"+hex(u)})}},js_1=js$2,arrays$3=arrays_1,objects$3=objects_1,asts$1=asts_1,visitor=visitor_1,op$1=opcodes_1,js$1=js_1;function generateBytecode(C){var u=[];function n(h){var _=arrays$3.indexOf(u,h);return _===-1?u.push(h)-1:_}function a(h,_){return n("function("+h.join(", ")+") {"+_+"}")}function r(){return Array.prototype.concat.apply([],arguments)}function g(h,_,o){return h.concat([_.length,o.length],_,o)}function f(h,_){return h.concat([_.length],_)}function m(h,_,o,p){var b=arrays$3.map(objects$3.values(o),function(y){return p-y});return[op$1.CALL,h,_,b.length].concat(b)}function l(h,_,o){return r([op$1.PUSH_CURR_POS],[op$1.SILENT_FAILS_ON],D(h,{sp:o.sp+1,env:objects$3.clone(o.env),action:null}),[op$1.SILENT_FAILS_OFF],g([_?op$1.IF_ERROR:op$1.IF_NOT_ERROR],r([op$1.POP],[_?op$1.POP:op$1.POP_CURR_POS],[op$1.PUSH_UNDEFINED]),r([op$1.POP],[_?op$1.POP_CURR_POS:op$1.POP],[op$1.PUSH_FAILED])))}function x(h,_,o){var p=a(objects$3.keys(o.env),h);return r([op$1.UPDATE_SAVED_POS],m(p,0,o.env,o.sp),g([op$1.IF],r([op$1.POP],_?[op$1.PUSH_FAILED]:[op$1.PUSH_UNDEFINED]),r([op$1.POP],_?[op$1.PUSH_UNDEFINED]:[op$1.PUSH_FAILED])))}function S(h){return f([op$1.WHILE_NOT_ERROR],r([op$1.APPEND],h))}var D=visitor.build({grammar:function(h){arrays$3.each(h.rules,D),h.consts=u},rule:function(h){h.bytecode=D(h.expression,{sp:-1,env:{},action:null})},named:function(h,_){var o=n('peg$otherExpectation("'+js$1.stringEscape(h.name)+'")');return r([op$1.SILENT_FAILS_ON],D(h.expression,_),[op$1.SILENT_FAILS_OFF],g([op$1.IF_ERROR],[op$1.FAIL,o],[]))},choice:function(h,_){function o(p,b){return r(D(p[0],{sp:b.sp,env:objects$3.clone(b.env),action:null}),p.length>1?g([op$1.IF_ERROR],r([op$1.POP],o(p.slice(1),b)),[]):[])}return o(h.alternatives,_)},action:function(h,_){var o=objects$3.clone(_.env),p=h.expression.type!=="sequence"||h.expression.elements.length===0,b=D(h.expression,{sp:_.sp+(p?1:0),env:o,action:h}),y=a(objects$3.keys(o),h.code);return p?r([op$1.PUSH_CURR_POS],b,g([op$1.IF_NOT_ERROR],r([op$1.LOAD_SAVED_POS,1],m(y,1,o,_.sp+2)),[]),[op$1.NIP]):b},sequence:function(h,_){function o(p,b){var y,A;return p.length>0?(y=h.elements.length-p.slice(1).length,r(D(p[0],{sp:b.sp,env:b.env,action:null}),g([op$1.IF_NOT_ERROR],o(p.slice(1),{sp:b.sp+1,env:b.env,action:b.action}),r(y>1?[op$1.POP_N,y]:[op$1.POP],[op$1.POP_CURR_POS],[op$1.PUSH_FAILED])))):b.action?(A=a(objects$3.keys(b.env),b.action.code),r([op$1.LOAD_SAVED_POS,h.elements.length],m(A,h.elements.length,b.env,b.sp),[op$1.NIP])):r([op$1.WRAP,h.elements.length],[op$1.NIP])}return r([op$1.PUSH_CURR_POS],o(h.elements,{sp:_.sp+1,env:_.env,action:_.action}))},labeled:function(h,_){var o=objects$3.clone(_.env);return _.env[h.label]=_.sp+1,D(h.expression,{sp:_.sp,env:o,action:null})},text:function(h,_){return r([op$1.PUSH_CURR_POS],D(h.expression,{sp:_.sp+1,env:objects$3.clone(_.env),action:null}),g([op$1.IF_NOT_ERROR],r([op$1.POP],[op$1.TEXT]),[op$1.NIP]))},simple_and:function(h,_){return l(h.expression,!1,_)},simple_not:function(h,_){return l(h.expression,!0,_)},optional:function(h,_){return r(D(h.expression,{sp:_.sp,env:objects$3.clone(_.env),action:null}),g([op$1.IF_ERROR],r([op$1.POP],[op$1.PUSH_NULL]),[]))},zero_or_more:function(h,_){var o=D(h.expression,{sp:_.sp+1,env:objects$3.clone(_.env),action:null});return r([op$1.PUSH_EMPTY_ARRAY],o,S(o),[op$1.POP])},one_or_more:function(h,_){var o=D(h.expression,{sp:_.sp+1,env:objects$3.clone(_.env),action:null});return r([op$1.PUSH_EMPTY_ARRAY],o,g([op$1.IF_NOT_ERROR],r(S(o),[op$1.POP]),r([op$1.POP],[op$1.POP],[op$1.PUSH_FAILED])))},group:function(h,_){return D(h.expression,{sp:_.sp,env:objects$3.clone(_.env),action:null})},semantic_and:function(h,_){return x(h.code,!1,_)},semantic_not:function(h,_){return x(h.code,!0,_)},rule_ref:function(h){return[op$1.RULE,asts$1.indexOfRule(C,h.name)]},literal:function(h){var _,o;return h.value.length>0?(_=n('"'+js$1.stringEscape(h.ignoreCase?h.value.toLowerCase():h.value)+'"'),o=n('peg$literalExpectation("'+js$1.stringEscape(h.value)+'", '+h.ignoreCase+")"),g(h.ignoreCase?[op$1.MATCH_STRING_IC,_]:[op$1.MATCH_STRING,_],h.ignoreCase?[op$1.ACCEPT_N,h.value.length]:[op$1.ACCEPT_STRING,_],[op$1.FAIL,o])):(_=n('""'),[op$1.PUSH,_])},class:function(h){var _,o,p,b;return h.parts.length>0?_="/^["+(h.inverted?"^":"")+arrays$3.map(h.parts,function(y){return y instanceof Array?js$1.regexpClassEscape(y[0])+"-"+js$1.regexpClassEscape(y[1]):js$1.regexpClassEscape(y)}).join("")+"]/"+(h.ignoreCase?"i":""):_=h.inverted?"/^[\\S\\s]/":"/^(?!)/",o="["+arrays$3.map(h.parts,function(y){return y instanceof Array?'["'+js$1.stringEscape(y[0])+'", "'+js$1.stringEscape(y[1])+'"]':'"'+js$1.stringEscape(y)+'"'}).join(", ")+"]",p=n(_),b=n("peg$classExpectation("+o+", "+h.inverted+", "+h.ignoreCase+")"),g([op$1.MATCH_REGEXP,p],[op$1.ACCEPT_N,1],[op$1.FAIL,b])},any:function(){var h=n("peg$anyExpectation()");return g([op$1.MATCH_ANY],[op$1.ACCEPT_N,1],[op$1.FAIL,h])}});D(C)}var generateBytecode_1=generateBytecode,arrays$2=arrays_1,objects$2=objects_1,asts=asts_1,op=opcodes_1,js=js_1;function generateJS(ast,options){function indent2(C){return C.replace(/^(.+)$/gm,"  $1")}function indent6(C){return C.replace(/^(.+)$/gm,"      $1")}function indent10(C){return C.replace(/^(.+)$/gm,"          $1")}function generateTables(){return options.optimize==="size"?["peg$consts = [",indent2(ast.consts.join(`,
`)),"],","","peg$bytecode = [",indent2(arrays$2.map(ast.rules,function(C){return'peg$decode("'+js.stringEscape(arrays$2.map(C.bytecode,function(u){return String.fromCharCode(u+32)}).join(""))+'")'}).join(`,
`)),"],"].join(`
`):arrays$2.map(ast.consts,function(C,u){return"peg$c"+u+" = "+C+","}).join(`
`)}function generateRuleHeader(C,u){var n=[];return n.push(""),options.trace&&n.push(["peg$tracer.trace({",'  type:     "rule.enter",',"  rule:     "+C+",","  location: peg$computeLocation(startPos, startPos)","});",""].join(`
`)),options.cache&&(n.push(["var key    = peg$currPos * "+ast.rules.length+" + "+u+",","    cached = peg$resultsCache[key];","","if (cached) {","  peg$currPos = cached.nextPos;",""].join(`
`)),options.trace&&n.push(["if (cached.result !== peg$FAILED) {","  peg$tracer.trace({",'    type:   "rule.match",',"    rule:   "+C+",","    result: cached.result,","    location: peg$computeLocation(startPos, peg$currPos)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+C+",","    location: peg$computeLocation(startPos, startPos)","  });","}",""].join(`
`)),n.push(["  return cached.result;","}",""].join(`
`))),n.join(`
`)}function generateRuleFooter(C,u){var n=[];return options.cache&&n.push(["","peg$resultsCache[key] = { nextPos: peg$currPos, result: "+u+" };"].join(`
`)),options.trace&&n.push(["","if ("+u+" !== peg$FAILED) {","  peg$tracer.trace({",'    type:   "rule.match",',"    rule:   "+C+",","    result: "+u+",","    location: peg$computeLocation(startPos, peg$currPos)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+C+",","    location: peg$computeLocation(startPos, startPos)","  });","}"].join(`
`)),n.push(["","return "+u+";"].join(`
`)),n.join(`
`)}function generateInterpreter(){var C=[];function u(r,g){var f=g+3,m="bc[ip + "+(f-2)+"]",l="bc[ip + "+(f-1)+"]";return["ends.push(end);","ips.push(ip + "+f+" + "+m+" + "+l+");","","if ("+r+") {","  end = ip + "+f+" + "+m+";","  ip += "+f+";","} else {","  end = ip + "+f+" + "+m+" + "+l+";","  ip += "+f+" + "+m+";","}","","break;"].join(`
`)}function n(r){var g=2,f="bc[ip + "+(g-1)+"]";return["if ("+r+") {","  ends.push(end);","  ips.push(ip);","","  end = ip + "+g+" + "+f+";","  ip += "+g+";","} else {","  ip += "+g+" + "+f+";","}","","break;"].join(`
`)}function a(){var r=4,g="bc[ip + "+(r-1)+"]";return["params = bc.slice(ip + "+r+", ip + "+r+" + "+g+");","for (i = 0; i < "+g+"; i++) {","  params[i] = stack[stack.length - 1 - params[i]];","}","","stack.splice(","  stack.length - bc[ip + 2],","  bc[ip + 2],","  peg$consts[bc[ip + 1]].apply(null, params)",");","","ip += "+r+" + "+g+";","break;"].join(`
`)}return C.push(["function peg$decode(s) {","  var bc = new Array(s.length), i;","","  for (i = 0; i < s.length; i++) {","    bc[i] = s.charCodeAt(i) - 32;","  }","","  return bc;","}","","function peg$parseRule(index) {"].join(`
`)),options.trace?C.push(["  var bc       = peg$bytecode[index],","      ip       = 0,","      ips      = [],","      end      = bc.length,","      ends     = [],","      stack    = [],","      startPos = peg$currPos,","      params, i;"].join(`
`)):C.push(["  var bc    = peg$bytecode[index],","      ip    = 0,","      ips   = [],","      end   = bc.length,","      ends  = [],","      stack = [],","      params, i;"].join(`
`)),C.push(indent2(generateRuleHeader("peg$ruleNames[index]","index"))),C.push(["  while (true) {","    while (ip < end) {","      switch (bc[ip]) {","        case "+op.PUSH+":","          stack.push(peg$consts[bc[ip + 1]]);","          ip += 2;","          break;","","        case "+op.PUSH_UNDEFINED+":","          stack.push(void 0);","          ip++;","          break;","","        case "+op.PUSH_NULL+":","          stack.push(null);","          ip++;","          break;","","        case "+op.PUSH_FAILED+":","          stack.push(peg$FAILED);","          ip++;","          break;","","        case "+op.PUSH_EMPTY_ARRAY+":","          stack.push([]);","          ip++;","          break;","","        case "+op.PUSH_CURR_POS+":","          stack.push(peg$currPos);","          ip++;","          break;","","        case "+op.POP+":","          stack.pop();","          ip++;","          break;","","        case "+op.POP_CURR_POS+":","          peg$currPos = stack.pop();","          ip++;","          break;","","        case "+op.POP_N+":","          stack.length -= bc[ip + 1];","          ip += 2;","          break;","","        case "+op.NIP+":","          stack.splice(-2, 1);","          ip++;","          break;","","        case "+op.APPEND+":","          stack[stack.length - 2].push(stack.pop());","          ip++;","          break;","","        case "+op.WRAP+":","          stack.push(stack.splice(stack.length - bc[ip + 1], bc[ip + 1]));","          ip += 2;","          break;","","        case "+op.TEXT+":","          stack.push(input.substring(stack.pop(), peg$currPos));","          ip++;","          break;","","        case "+op.IF+":",indent10(u("stack[stack.length - 1]",0)),"","        case "+op.IF_ERROR+":",indent10(u("stack[stack.length - 1] === peg$FAILED",0)),"","        case "+op.IF_NOT_ERROR+":",indent10(u("stack[stack.length - 1] !== peg$FAILED",0)),"","        case "+op.WHILE_NOT_ERROR+":",indent10(n("stack[stack.length - 1] !== peg$FAILED")),"","        case "+op.MATCH_ANY+":",indent10(u("input.length > peg$currPos",0)),"","        case "+op.MATCH_STRING+":",indent10(u("input.substr(peg$currPos, peg$consts[bc[ip + 1]].length) === peg$consts[bc[ip + 1]]",1)),"","        case "+op.MATCH_STRING_IC+":",indent10(u("input.substr(peg$currPos, peg$consts[bc[ip + 1]].length).toLowerCase() === peg$consts[bc[ip + 1]]",1)),"","        case "+op.MATCH_REGEXP+":",indent10(u("peg$consts[bc[ip + 1]].test(input.charAt(peg$currPos))",1)),"","        case "+op.ACCEPT_N+":","          stack.push(input.substr(peg$currPos, bc[ip + 1]));","          peg$currPos += bc[ip + 1];","          ip += 2;","          break;","","        case "+op.ACCEPT_STRING+":","          stack.push(peg$consts[bc[ip + 1]]);","          peg$currPos += peg$consts[bc[ip + 1]].length;","          ip += 2;","          break;","","        case "+op.FAIL+":","          stack.push(peg$FAILED);","          if (peg$silentFails === 0) {","            peg$fail(peg$consts[bc[ip + 1]]);","          }","          ip += 2;","          break;","","        case "+op.LOAD_SAVED_POS+":","          peg$savedPos = stack[stack.length - 1 - bc[ip + 1]];","          ip += 2;","          break;","","        case "+op.UPDATE_SAVED_POS+":","          peg$savedPos = peg$currPos;","          ip++;","          break;","","        case "+op.CALL+":",indent10(a()),"","        case "+op.RULE+":","          stack.push(peg$parseRule(bc[ip + 1]));","          ip += 2;","          break;","","        case "+op.SILENT_FAILS_ON+":","          peg$silentFails++;","          ip++;","          break;","","        case "+op.SILENT_FAILS_OFF+":","          peg$silentFails--;","          ip++;","          break;","","        default:",'          throw new Error("Invalid opcode: " + bc[ip] + ".");',"      }","    }","","    if (ends.length > 0) {","      end = ends.pop();","      ip = ips.pop();","    } else {","      break;","    }","  }"].join(`
`)),C.push(indent2(generateRuleFooter("peg$ruleNames[index]","stack[0]"))),C.push("}"),C.join(`
`)}function generateRuleFunction(rule){var parts=[],code;function c(C){return"peg$c"+C}function s(C){return"s"+C}var stack={sp:-1,maxSp:-1,push:function(C){var u=s(++this.sp)+" = "+C+";";return this.sp>this.maxSp&&(this.maxSp=this.sp),u},pop:function(C){var u;return C===void 0?s(this.sp--):(u=arrays$2.map(arrays$2.range(this.sp-C+1,this.sp+1),s),this.sp-=C,u)},top:function(){return s(this.sp)},index:function(C){return s(this.sp-C)}};function compile(bc){var ip=0,end=bc.length,parts=[],value;function compileCondition(C,u){var n=u+3,a=bc[ip+n-2],r=bc[ip+n-1],g=stack.sp,f,m,l,x;if(ip+=n,f=compile(bc.slice(ip,ip+a)),l=stack.sp,ip+=a,r>0&&(stack.sp=g,m=compile(bc.slice(ip,ip+r)),x=stack.sp,ip+=r,l!==x))throw new Error("Branches of a condition must move the stack pointer in the same way.");parts.push("if ("+C+") {"),parts.push(indent2(f)),r>0&&(parts.push("} else {"),parts.push(indent2(m))),parts.push("}")}function compileLoop(C){var u=2,n=bc[ip+u-1],a=stack.sp,r,g;if(ip+=u,r=compile(bc.slice(ip,ip+n)),g=stack.sp,ip+=n,g!==a)throw new Error("Body of a loop can't move the stack pointer.");parts.push("while ("+C+") {"),parts.push(indent2(r)),parts.push("}")}function compileCall(){var C=4,u=bc[ip+C-1],n=c(bc[ip+1])+"("+arrays$2.map(bc.slice(ip+C,ip+C+u),function(a){return stack.index(a)}).join(", ")+")";stack.pop(bc[ip+2]),parts.push(stack.push(n)),ip+=C+u}for(;ip<end;)switch(bc[ip]){case op.PUSH:parts.push(stack.push(c(bc[ip+1]))),ip+=2;break;case op.PUSH_CURR_POS:parts.push(stack.push("peg$currPos")),ip++;break;case op.PUSH_UNDEFINED:parts.push(stack.push("void 0")),ip++;break;case op.PUSH_NULL:parts.push(stack.push("null")),ip++;break;case op.PUSH_FAILED:parts.push(stack.push("peg$FAILED")),ip++;break;case op.PUSH_EMPTY_ARRAY:parts.push(stack.push("[]")),ip++;break;case op.POP:stack.pop(),ip++;break;case op.POP_CURR_POS:parts.push("peg$currPos = "+stack.pop()+";"),ip++;break;case op.POP_N:stack.pop(bc[ip+1]),ip+=2;break;case op.NIP:value=stack.pop(),stack.pop(),parts.push(stack.push(value)),ip++;break;case op.APPEND:value=stack.pop(),parts.push(stack.top()+".push("+value+");"),ip++;break;case op.WRAP:parts.push(stack.push("["+stack.pop(bc[ip+1]).join(", ")+"]")),ip+=2;break;case op.TEXT:parts.push(stack.push("input.substring("+stack.pop()+", peg$currPos)")),ip++;break;case op.IF:compileCondition(stack.top(),0);break;case op.IF_ERROR:compileCondition(stack.top()+" === peg$FAILED",0);break;case op.IF_NOT_ERROR:compileCondition(stack.top()+" !== peg$FAILED",0);break;case op.WHILE_NOT_ERROR:compileLoop(stack.top()+" !== peg$FAILED");break;case op.MATCH_ANY:compileCondition("input.length > peg$currPos",0);break;case op.MATCH_STRING:compileCondition(eval(ast.consts[bc[ip+1]]).length>1?"input.substr(peg$currPos, "+eval(ast.consts[bc[ip+1]]).length+") === "+c(bc[ip+1]):"input.charCodeAt(peg$currPos) === "+eval(ast.consts[bc[ip+1]]).charCodeAt(0),1);break;case op.MATCH_STRING_IC:compileCondition("input.substr(peg$currPos, "+eval(ast.consts[bc[ip+1]]).length+").toLowerCase() === "+c(bc[ip+1]),1);break;case op.MATCH_REGEXP:compileCondition(c(bc[ip+1])+".test(input.charAt(peg$currPos))",1);break;case op.ACCEPT_N:parts.push(stack.push(bc[ip+1]>1?"input.substr(peg$currPos, "+bc[ip+1]+")":"input.charAt(peg$currPos)")),parts.push(bc[ip+1]>1?"peg$currPos += "+bc[ip+1]+";":"peg$currPos++;"),ip+=2;break;case op.ACCEPT_STRING:parts.push(stack.push(c(bc[ip+1]))),parts.push(eval(ast.consts[bc[ip+1]]).length>1?"peg$currPos += "+eval(ast.consts[bc[ip+1]]).length+";":"peg$currPos++;"),ip+=2;break;case op.FAIL:parts.push(stack.push("peg$FAILED")),parts.push("if (peg$silentFails === 0) { peg$fail("+c(bc[ip+1])+"); }"),ip+=2;break;case op.LOAD_SAVED_POS:parts.push("peg$savedPos = "+stack.index(bc[ip+1])+";"),ip+=2;break;case op.UPDATE_SAVED_POS:parts.push("peg$savedPos = peg$currPos;"),ip++;break;case op.CALL:compileCall();break;case op.RULE:parts.push(stack.push("peg$parse"+ast.rules[bc[ip+1]].name+"()")),ip+=2;break;case op.SILENT_FAILS_ON:parts.push("peg$silentFails++;"),ip++;break;case op.SILENT_FAILS_OFF:parts.push("peg$silentFails--;"),ip++;break;default:throw new Error("Invalid opcode: "+bc[ip]+".")}return parts.join(`
`)}return code=compile(rule.bytecode),parts.push("function peg$parse"+rule.name+"() {"),options.trace?parts.push(["  var "+arrays$2.map(arrays$2.range(0,stack.maxSp+1),s).join(", ")+",","      startPos = peg$currPos;"].join(`
`)):parts.push("  var "+arrays$2.map(arrays$2.range(0,stack.maxSp+1),s).join(", ")+";"),parts.push(indent2(generateRuleHeader('"'+js.stringEscape(rule.name)+'"',asts.indexOfRule(ast,rule.name)))),parts.push(indent2(code)),parts.push(indent2(generateRuleFooter('"'+js.stringEscape(rule.name)+'"',s(0)))),parts.push("}"),parts.join(`
`)}function generateToplevel(){var C=[],u,n,a,r,g;return C.push(["function peg$subclass(child, parent) {","  function ctor() { this.constructor = child; }","  ctor.prototype = parent.prototype;","  child.prototype = new ctor();","}","","function peg$SyntaxError(message, expected, found, location) {","  this.message  = message;","  this.expected = expected;","  this.found    = found;","  this.location = location;",'  this.name     = "SyntaxError";',"",'  if (typeof Error.captureStackTrace === "function") {',"    Error.captureStackTrace(this, peg$SyntaxError);","  }","}","","peg$subclass(peg$SyntaxError, Error);","","peg$SyntaxError.buildMessage = function(expected, found) {","  var DESCRIBE_EXPECTATION_FNS = {","        literal: function(expectation) {",'          return "\\"" + literalEscape(expectation.text) + "\\"";',"        },","",'        "class": function(expectation) {','          var escapedParts = "",',"              i;","","          for (i = 0; i < expectation.parts.length; i++) {","            escapedParts += expectation.parts[i] instanceof Array",'              ? classEscape(expectation.parts[i][0]) + "-" + classEscape(expectation.parts[i][1])',"              : classEscape(expectation.parts[i]);","          }","",'          return "[" + (expectation.inverted ? "^" : "") + escapedParts + "]";',"        },","","        any: function(expectation) {",'          return "any character";',"        },","","        end: function(expectation) {",'          return "end of input";',"        },","","        other: function(expectation) {","          return expectation.description;","        }","      };","","  function hex(ch) {","    return ch.charCodeAt(0).toString(16).toUpperCase();","  }","","  function literalEscape(s) {","    return s","      .replace(/\\\\/g, '\\\\\\\\')",`      .replace(/"/g,  '\\\\"')`,"      .replace(/\\0/g, '\\\\0')","      .replace(/\\t/g, '\\\\t')","      .replace(/\\n/g, '\\\\n')","      .replace(/\\r/g, '\\\\r')","      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })","      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });","  }","","  function classEscape(s) {","    return s","      .replace(/\\\\/g, '\\\\\\\\')","      .replace(/\\]/g, '\\\\]')","      .replace(/\\^/g, '\\\\^')","      .replace(/-/g,  '\\\\-')","      .replace(/\\0/g, '\\\\0')","      .replace(/\\t/g, '\\\\t')","      .replace(/\\n/g, '\\\\n')","      .replace(/\\r/g, '\\\\r')","      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })","      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });","  }","","  function describeExpectation(expectation) {","    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);","  }","","  function describeExpected(expected) {","    var descriptions = new Array(expected.length),","        i, j;","","    for (i = 0; i < expected.length; i++) {","      descriptions[i] = describeExpectation(expected[i]);","    }","","    descriptions.sort();","","    if (descriptions.length > 0) {","      for (i = 1, j = 1; i < descriptions.length; i++) {","        if (descriptions[i - 1] !== descriptions[i]) {","          descriptions[j] = descriptions[i];","          j++;","        }","      }","      descriptions.length = j;","    }","","    switch (descriptions.length) {","      case 1:","        return descriptions[0];","","      case 2:",'        return descriptions[0] + " or " + descriptions[1];',"","      default:",'        return descriptions.slice(0, -1).join(", ")','          + ", or "',"          + descriptions[descriptions.length - 1];","    }","  }","","  function describeFound(found) {",'    return found ? "\\"" + literalEscape(found) + "\\"" : "end of input";',"  }","",'  return "Expected " + describeExpected(expected) + " but " + describeFound(found) + " found.";',"};",""].join(`
`)),options.trace&&C.push(["function peg$DefaultTracer() {","  this.indentLevel = 0;","}","","peg$DefaultTracer.prototype.trace = function(event) {","  var that = this;","","  function log(event) {","    function repeat(string, n) {",'       var result = "", i;',"","       for (i = 0; i < n; i++) {","         result += string;","       }","","       return result;","    }","","    function pad(string, length) {",'      return string + repeat(" ", length - string.length);',"    }","",'    if (typeof console === "object") {',"      console.log(",'        event.location.start.line + ":" + event.location.start.column + "-"','          + event.location.end.line + ":" + event.location.end.column + " "','          + pad(event.type, 10) + " "','          + repeat("  ", that.indentLevel) + event.rule',"      );","    }","  }","","  switch (event.type) {",'    case "rule.enter":',"      log(event);","      this.indentLevel++;","      break;","",'    case "rule.match":',"      this.indentLevel--;","      log(event);","      break;","",'    case "rule.fail":',"      this.indentLevel--;","      log(event);","      break;","","    default:",'      throw new Error("Invalid event type: " + event.type + ".");',"  }","};",""].join(`
`)),C.push(["function peg$parse(input, options) {","  options = options !== void 0 ? options : {};","","  var peg$FAILED = {},",""].join(`
`)),options.optimize==="size"?(u="{ "+arrays$2.map(options.allowedStartRules,function(f){return f+": "+asts.indexOfRule(ast,f)}).join(", ")+" }",n=asts.indexOfRule(ast,options.allowedStartRules[0]),C.push(["      peg$startRuleIndices = "+u+",","      peg$startRuleIndex   = "+n+","].join(`
`))):(a="{ "+arrays$2.map(options.allowedStartRules,function(f){return f+": peg$parse"+f}).join(", ")+" }",r="peg$parse"+options.allowedStartRules[0],C.push(["      peg$startRuleFunctions = "+a+",","      peg$startRuleFunction  = "+r+","].join(`
`))),C.push(""),C.push(indent6(generateTables())),C.push(["","      peg$currPos          = 0,","      peg$savedPos         = 0,","      peg$posDetailsCache  = [{ line: 1, column: 1 }],","      peg$maxFailPos       = 0,","      peg$maxFailExpected  = [],","      peg$silentFails      = 0,",""].join(`
`)),options.cache&&C.push(["      peg$resultsCache = {},",""].join(`
`)),options.trace&&(options.optimize==="size"&&(g="["+arrays$2.map(ast.rules,function(f){return'"'+js.stringEscape(f.name)+'"'}).join(", ")+"]",C.push(["      peg$ruleNames = "+g+",",""].join(`
`))),C.push(['      peg$tracer = "tracer" in options ? options.tracer : new peg$DefaultTracer(),',""].join(`
`))),C.push(["      peg$result;",""].join(`
`)),options.optimize==="size"?C.push(['  if ("startRule" in options) {',"    if (!(options.startRule in peg$startRuleIndices)) {",`      throw new Error("Can't start parsing from rule \\"" + options.startRule + "\\".");`,"    }","","    peg$startRuleIndex = peg$startRuleIndices[options.startRule];","  }"].join(`
`)):C.push(['  if ("startRule" in options) {',"    if (!(options.startRule in peg$startRuleFunctions)) {",`      throw new Error("Can't start parsing from rule \\"" + options.startRule + "\\".");`,"    }","","    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];","  }"].join(`
`)),C.push(["","  function text() {","    return input.substring(peg$savedPos, peg$currPos);","  }","","  function location() {","    return peg$computeLocation(peg$savedPos, peg$currPos);","  }","","  function expected(description, location) {","    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)","","    throw peg$buildStructuredError(","      [peg$otherExpectation(description)],","      input.substring(peg$savedPos, peg$currPos),","      location","    );","  }","","  function error(message, location) {","    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)","","    throw peg$buildSimpleError(message, location);","  }","","  function peg$literalExpectation(text, ignoreCase) {",'    return { type: "literal", text: text, ignoreCase: ignoreCase };',"  }","","  function peg$classExpectation(parts, inverted, ignoreCase) {",'    return { type: "class", parts: parts, inverted: inverted, ignoreCase: ignoreCase };',"  }","","  function peg$anyExpectation() {",'    return { type: "any" };',"  }","","  function peg$endExpectation() {",'    return { type: "end" };',"  }","","  function peg$otherExpectation(description) {",'    return { type: "other", description: description };',"  }","","  function peg$computePosDetails(pos) {","    var details = peg$posDetailsCache[pos], p;","","    if (details) {","      return details;","    } else {","      p = pos - 1;","      while (!peg$posDetailsCache[p]) {","        p--;","      }","","      details = peg$posDetailsCache[p];","      details = {","        line:   details.line,","        column: details.column","      };","","      while (p < pos) {","        if (input.charCodeAt(p) === 10) {","          details.line++;","          details.column = 1;","        } else {","          details.column++;","        }","","        p++;","      }","","      peg$posDetailsCache[pos] = details;","      return details;","    }","  }","","  function peg$computeLocation(startPos, endPos) {","    var startPosDetails = peg$computePosDetails(startPos),","        endPosDetails   = peg$computePosDetails(endPos);","","    return {","      start: {","        offset: startPos,","        line:   startPosDetails.line,","        column: startPosDetails.column","      },","      end: {","        offset: endPos,","        line:   endPosDetails.line,","        column: endPosDetails.column","      }","    };","  }","","  function peg$fail(expected) {","    if (peg$currPos < peg$maxFailPos) { return; }","","    if (peg$currPos > peg$maxFailPos) {","      peg$maxFailPos = peg$currPos;","      peg$maxFailExpected = [];","    }","","    peg$maxFailExpected.push(expected);","  }","","  function peg$buildSimpleError(message, location) {","    return new peg$SyntaxError(message, null, null, location);","  }","","  function peg$buildStructuredError(expected, found, location) {","    return new peg$SyntaxError(","      peg$SyntaxError.buildMessage(expected, found),","      expected,","      found,","      location","    );","  }",""].join(`
`)),options.optimize==="size"?(C.push(indent2(generateInterpreter())),C.push("")):arrays$2.each(ast.rules,function(f){C.push(indent2(generateRuleFunction(f))),C.push("")}),ast.initializer&&(C.push(indent2(ast.initializer.code)),C.push("")),options.optimize==="size"?C.push("  peg$result = peg$parseRule(peg$startRuleIndex);"):C.push("  peg$result = peg$startRuleFunction();"),C.push(["","  if (peg$result !== peg$FAILED && peg$currPos === input.length) {","    return peg$result;","  } else {","    if (peg$result !== peg$FAILED && peg$currPos < input.length) {","      peg$fail(peg$endExpectation());","    }","","    throw peg$buildStructuredError(","      peg$maxFailExpected,","      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,","      peg$maxFailPos < input.length","        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)","        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)","    );","  }","}"].join(`
`)),C.join(`
`)}function generateWrapper(C){function u(){return["/*"," * Generated by PEG.js 0.10.0."," *"," * http://pegjs.org/"," */"].join(`
`)}function n(){return options.trace?["{","  SyntaxError:   peg$SyntaxError,","  DefaultTracer: peg$DefaultTracer,","  parse:         peg$parse","}"].join(`
`):["{","  SyntaxError: peg$SyntaxError,","  parse:       peg$parse","}"].join(`
`)}var a={bare:function(){return[u(),"(function() {",'  "use strict";',"",indent2(C),"",indent2("return "+n()+";"),"})()"].join(`
`)},commonjs:function(){var r=[],g=objects$2.keys(options.dependencies),f=arrays$2.map(g,function(m){return m+' = require("'+js.stringEscape(options.dependencies[m])+'")'});return r.push([u(),"",'"use strict";',""].join(`
`)),f.length>0&&(r.push("var "+f.join(", ")+";"),r.push("")),r.push([C,"","module.exports = "+n()+";",""].join(`
`)),r.join(`
`)},amd:function(){var r=objects$2.values(options.dependencies),g=objects$2.keys(options.dependencies),f="["+arrays$2.map(r,function(l){return'"'+js.stringEscape(l)+'"'}).join(", ")+"]",m=g.join(", ");return[u(),"define("+f+", function("+m+") {",'  "use strict";',"",indent2(C),"",indent2("return "+n()+";"),"});",""].join(`
`)},globals:function(){return[u(),"(function(root) {",'  "use strict";',"",indent2(C),"",indent2("root."+options.exportVar+" = "+n()+";"),"})(this);",""].join(`
`)},umd:function(){var r=[],g=objects$2.values(options.dependencies),f=objects$2.keys(options.dependencies),m="["+arrays$2.map(g,function(S){return'"'+js.stringEscape(S)+'"'}).join(", ")+"]",l=arrays$2.map(g,function(S){return'require("'+js.stringEscape(S)+'")'}).join(", "),x=f.join(", ");return r.push([u(),"(function(root, factory) {",'  if (typeof define === "function" && define.amd) {',"    define("+m+", factory);",'  } else if (typeof module === "object" && module.exports) {',"    module.exports = factory("+l+");"].join(`
`)),options.exportVar!==null&&r.push(["  } else {","    root."+options.exportVar+" = factory();"].join(`
`)),r.push(["  }","})(this, function("+x+") {",'  "use strict";',"",indent2(C),"",indent2("return "+n()+";"),"});",""].join(`
`)),r.join(`
`)}};return a[options.format]()}ast.code=generateWrapper(generateToplevel())}var generateJs=generateJS,arrays$1=arrays_1,objects$1=objects_1,compiler={visitor:visitor_1,passes:{check:{reportUndefinedRules:reportUndefinedRules_1,reportDuplicateRules:reportDuplicateRules_1,reportDuplicateLabels:reportDuplicateLabels_1,reportInfiniteRecursion:reportInfiniteRecursion_1,reportInfiniteRepetition:reportInfiniteRepetition_1},transform:{removeProxyRules:removeProxyRules_1},generate:{generateBytecode:generateBytecode_1,generateJS:generateJs}},compile:function(ast,passes,options){options=options!==void 0?options:{};var stage;options=objects$1.clone(options),objects$1.defaults(options,{allowedStartRules:[ast.rules[0].name],cache:!1,dependencies:{},exportVar:null,format:"bare",optimize:"speed",output:"parser",trace:!1});for(stage in passes)passes.hasOwnProperty(stage)&&arrays$1.each(passes[stage],function(C){C(ast,options)});switch(options.output){case"parser":return eval(ast.code);case"source":return ast.code}}},compiler_1=compiler,arrays=arrays_1,objects=objects_1,peg={VERSION:"0.10.0",GrammarError:grammarError,parser:parser$1,compiler:compiler_1,generate:function(C,u){u=u!==void 0?u:{};function n(g){var f={},m;for(m in g)g.hasOwnProperty(m)&&(f[m]=objects.values(g[m]));return f}u=objects.clone(u);var a="plugins"in u?u.plugins:[],r={parser:peg.parser,passes:n(peg.compiler.passes)};return arrays.each(a,function(g){g.use(r,u)}),peg.compiler.compile(r.parser.parse(C),r.passes,u)}},peg_1=peg;const peg$1=getDefaultExportFromCjs(peg_1),aliases$1={mpent:"minpent",pent:"majpent",rit:"ritusen",egy:"egyptian",kum:"kumai",hir:"hirajoshi",iwa:"iwato",chi:"chinese",ind:"indian",pel:"pelog",pro:"prometheus",scr:"scriabin",gon:"gong",sha:"shang",jia:"jiao",zhi:"zhi",yu:"yu",who:"whole",aug:"augmented",aug2:"augmented2",hexmaj7:"hexmajor7",hexdor:"hexdorian",hexphr:"hexphrygian",hexsus:"hexsus",hexmaj6:"hexmajor6",hexaeo:"hexaeolian",maj:"major",ion:"ionian",dor:"dorian",phr:"phrygian",lyd:"lydian",mix:"mixolydian",aeo:"aeolian",min:"minor",loc:"locrian",har:"harmonicminor",harmaj:"harmonicmajor",mel:"melodicminor",melmin:"melodicminordesc",melmaj:"melodicmajor",tod:"todi",pur:"purvi",mar:"marva",bha:"bhairav",ahi:"ahirbhairav",sup:"superlocrian",rom:"romanianminor",hun:"hungarianminor",nepmin:"neapolitanminor",eni:"enigmatic",spa:"spanish",lea:"leadingwhole",lydmin:"lydianminor",neamaj:"neapolitanmajor",locmaj:"locrianmajor",dim:"diminished",dim2:"diminished2",mes3:"messiaen3",mes4:"messiaen4",mes5:"messiaen5",mes6:"messiaen6",mes7:"messiaen7",bay:"bayati",hij:"hijaz",sik:"sikah",ras:"rast",ira:"iraq",sab:"saba",chr:"chromatic"},list={minpent:[0,3,5,7,10],majpent:[0,2,4,7,9],ritusen:[0,2,5,7,9],egyptian:[0,2,5,7,10],kumai:[0,2,3,7,9],hirajoshi:[0,2,3,7,8],iwato:[0,1,5,6,10],chinese:[0,4,6,7,11],indian:[0,4,5,7,10],pelog:[0,1,3,7,8],prometheus:[0,2,4,6,11],scriabin:[0,1,4,7,9],gong:[0,2,4,7,9],shang:[0,2,5,7,10],jiao:[0,3,5,8,10],zhi:[0,2,5,7,9],yu:[0,3,5,7,10],whole:[0,2,4,6,8,10],augmented:[0,3,4,7,8,11],augmented2:[0,1,4,5,8,9],hexmajor7:[0,2,4,7,9,11],hexdorian:[0,2,3,5,7,10],hexphrygian:[0,1,3,5,8,10],hexsus:[0,2,5,7,9,10],hexmajor6:[0,2,4,5,7,9],hexaeolian:[0,3,5,7,8,10],major:[0,2,4,5,7,9,11],ionian:[0,2,4,5,7,9,11],dorian:[0,2,3,5,7,9,10],phrygian:[0,1,3,5,7,8,10],lydian:[0,2,4,6,7,9,11],mixolydian:[0,2,4,5,7,9,10],aeolian:[0,2,3,5,7,8,10],minor:[0,2,3,5,7,8,10],locrian:[0,1,3,5,6,8,10],harmonicminor:[0,2,3,5,7,8,11],harmonicmajor:[0,2,4,5,7,8,11],melodicminor:[0,2,3,5,7,9,11],melodicminordesc:[0,2,3,5,7,8,10],melodicmajor:[0,2,4,5,7,8,10],todi:[0,1,3,6,7,8,11],purvi:[0,1,4,6,7,8,11],marva:[0,1,4,6,7,9,11],bhairav:[0,1,4,5,7,8,11],ahirbhairav:[0,1,4,5,7,9,10],superlocrian:[0,1,3,4,6,8,10],romanianminor:[0,2,3,6,7,9,10],hungarianminor:[0,2,3,6,7,8,11],neapolitanminor:[0,1,3,5,7,8,11],enigmatic:[0,1,4,6,8,10,11],spanish:[0,1,4,5,7,8,10],leadingwhole:[0,2,4,6,8,10,11],lydianminor:[0,2,4,6,7,8,10],neapolitanmajor:[0,1,3,5,7,9,11],locrianmajor:[0,2,4,5,6,8,10],diminished:[0,1,3,4,6,7,9,10],diminished2:[0,2,3,5,6,8,9,11],messiaen3:[0,2,3,4,6,7,8,10,11],messiaen4:[0,1,2,5,6,7,8,11],messiaen5:[0,1,5,6,7,11],messiaen6:[0,2,4,5,6,8,10,11],messiaen7:[0,1,2,3,5,6,7,8,9,11],bayati:[0,1.5,3,5,7,8,10],hijaz:[0,1,4,5,7,8.5,10],sikah:[0,1.5,3.5,5.5,7,8.5,10.5],rast:[0,2,3.5,5,7,9,10.5],iraq:[0,1.5,3.5,5,6.5,8.5,10.5],saba:[0,1.5,3,4,6,8,10],chromatic:[0,1,2,3,4,5,6,7,8,9,10,11]};({...list,...Object.entries(aliases$1).reduce((C,[u,n])=>({...C,[u]:list[n]}),{})});const modes={...Object.entries(aliases$1).reduce((C,[u,n])=>({...C,[u]:list[n]}),{})},triads={mi:[0,3,7],ma:[0,4,7],di:[0,3,6],su:[0,5,7],au:[0,4,8]};function letterToInteger(C){return{cf:-1,c:0,cs:1,df:1,d:2,ds:3,ef:3,e:4,es:5,f:5,fs:6,gf:6,g:7,gs:8,af:8,a:9,as:10,bf:10,b:11,bs:12}[C]||0}function ntom(C,u=4){return letterToInteger(C)+ +u*12}function repeatScale(C,u){const n=Math.ceil(u/C.length);return Array(n).fill(C).map((a,r)=>a.map(g=>g+r*12)).flat().slice(0,u)}function stretchBar(C,u){const n=C.length,a=n*u,r=new Array(a).fill(0).map((g,f)=>C[Math.floor(f/u)]);return new Array(u).fill(0).map((g,f)=>r.slice(f*n,(f+1)*n))}let time=0;function rng(){return get_store_value(randomSequence)[time++]||Math.random()}[euclidean,loopArray,ntom,repeatScale,stretchBar,rng].forEach(C=>window[C.name]=C);const scaleTypes=Object.entries(modes).reduce((C,[u,n],a,r)=>C+`"${u}" { return [${n.join()}]; } `+(a===r.length-1?"":"/ "),""),chordTypes=Object.entries(triads).reduce((C,[u,n],a,r)=>C+`"${u}" { return [${n.join()}]; } `+(a===r.length-1?"":"/ "),""),parser=peg$1.generate(`
    // PARSING
    result 
        = bs:bars args:args? {
            const patternLength = args?.bars || bs.length || 1

            return loopArray(bs, patternLength).map(bar => bar
                .map(s => Array.isArray(s) ? s.map(s => !isNaN(+s) ? +s : s) : !isNaN(+s) ? +s : s)
            )
    }

    args
        = space* ";"? space* bars:("b:" number)? space* ";"? space* { return {
            bars: bars && (bars[1])
        }; }

    bars 
        = bars:bar+ { 
            const format = ({val, dur, type, repeats}) => {
                if (type === 'group') return new Array(repeats).fill(0).map(() => val.map(format).flat()).flat()
                if (type === 'choices') return new Array(dur).fill(0).map((_,i) => val[Math.floor(rng() * val.length)])
                if (type === 'alternatives') return new Array(dur).fill(0).map((_, i) => val[i % val.length])
                if (type === 'single') return new Array(dur).fill(0).map(() => val)
                
                return val
            }

            return bars.map(({bar, repeats, stretch}) => {
                return new Array(repeats).fill(0)
                    .map(() => bar.map(format).flat())
                    .map(bar => stretch ? stretchBar(bar, stretch) : [bar]).flat()
            })
            .flat()
        }
    
    bar 
        = space* values:(group+ / event+) divider? repeats:duration? stretch:stretch? space* { return {bar: values, repeats: repeats || 1, stretch: stretch || 1}; }    
    
    // GROUPING
    group
        = "(" space* val:event+ space* ")" repeats:duration? space* { return {val, repeats: repeats || 1, type: 'group'}; }

    // COMPLEX TYPES
    event 
        = scale / absolute_chord / single  / euclidean / sequence / choices / alternatives

    choices 
        = arr:choice+ dur:duration space* { return {val: arr, dur: dur || 1, type: 'choices'}; }

    choice
        = !alternate val:value !alternate choose? { return val }

    alternatives
        = arr:alternative+ dur:duration space* { return {val: arr, dur: dur || 1, type: 'alternatives'}; }

    alternative
        = !choose val:value !choose alternate? { return val }

    single
        = !choose !alternate !seq !"^" !":" val:value dur:duration? !choose !alternate !seq !"^" !":" space* { return {val, dur: dur || 1, type: 'single'}; }
        
    sequence
        = start:$[0-9]+ seq end:$[0-9]+ type:(choose?) dur:duration? space* { 
        let step = +start < +end ? 1 : -1
        let size = Math.abs(+end - +start + step)
        return {
            val: new Array(size).fill(0).map((_, i) => +start + i * step), 
            dur: dur || 1, 
            type: type === '?' ? 'choices' : 'alternatives'
        }
    }

    euclidean
        = pulses:$[0-9]+ ":" steps:$[0-9]+ dur:duration? space* { 
            const val = euclidean(+pulses, +steps).map(v => ({val: v, dur: 1, type: 'single'}))
            return {
                val,
                repeats: dur || 1,
                type: 'group'
            }
        }
    
    // TIME
    stretch
        = "^" val:number { return val; }

    duration
        = count:(ticks / tick) { return count }

    ticks 
        = "*" t:$[0-9]+ { return parseInt(t); }

    tick 
        = "-"* { return text().length; }

    // HARMONY
    absolute_chord = base:note chord:chord_extended l:length? seq:seq? type:(choose?) dur:duration? space*  {
        const arr = repeatScale(chord.map(n => n + base), l || chord.length)
        return seq ? 
        {
            val: arr, 
            dur: dur || 1, 
            type: type === '?' ? 'choices' : 'alternatives'
        }
        : {
            val: arr, 
            dur: dur || 1, 
            type: 'single'
        }
    }
    
    chord_extended = chord:chord variants:chord_variant* {
        const root = chord[0]
        for (var v of variants) {
            chord.push(root + v);
        }
        return chord;
    }
    
    chord_variant 
        = "6" { return 9; }
        / "7" { return 10; }
        / "#7" { return 11; }
        / "b9" { return 13; }
        / "9" { return 14; }
        / "11" { return 17; }
        / "#11" { return 18; }
        / "13" { return 21; }
        / "#13" { return 22; } 
    
    chord
        = `+chordTypes+`

    scale
        = base:note scale:scale_type l:length? seq:seq? type:(choose?) dur:duration? space* { 
            const arr = repeatScale(scale.map(n => n + base), l || scale.length)
            return seq ? 
            {
                val: arr, 
                dur: dur || 1, 
                type: type === '?' ? 'choices' : 'alternatives'
            }
            : {
                val: arr, 
                dur: dur || 1, 
                type: 'single'
            }
        }

    scale_type
        = `+scaleTypes+`
    
    note = c:chroma a1:accidental a2:accidental o:octave { return c + a1 + a2 + o; }
    
    // notes/chords roots are always capitalised, to distinguish them from sample names
    chroma = c:[A-G] { 
        // return MIDI note offset from C:
        switch(c) {
            case "C": return 0; 
            case "D": return 2; 
            case "E": return 4; 
            case "F": return 5; 
            case "G": return 7; 
            case "A": return 9; 
            case "B": return 11; 
        }
    }
    
    // sharps and flats
    accidental = a:[#b]? {
        // return MIDI note offset:
        switch(a) {
            case "#": return +1;
            case "b": return -1;
            default: return 0;
        }
    }
    
    octave = n:$("-"? [0-9]+)? { 
        return n 
            ? 12 + (+n) * 12
            : 60; // default to middle C
    }

    // BASIC TYPES
    value 
        = note / string / $number+ / array 

    array 
        = "[" val:$(space* v:value space* ","?)+ "]" { return val.split(',').map(s => s.trim()) }

    number 
        = "-"? (([0-9]+ !seq "." [0-9]*) / ("."? [0-9]+)) { return +text() }

    // must start with a letter, can contain numbers, ., -, _
    string
        = [a-zA-Z]+ [a-zA-Z0-9._-]* { return text(); }
        
    // SYMBOLS
    length
        = "%" l:number { return l; }
    seq
        = ".." { return text(); }

    choose
        = "?" { return text(); }

    alternate
        = "," { return text(); }

    divider 
        = "|" 

    space 
        = " "
`);let parse$1=memoize((C,u)=>parser.parse(C));seedValue.subscribe(()=>parse$1=memoize((C,u)=>parser.parse(C)));const parsePattern=(C,u,n,a,r=!0)=>{time=0;const g=parse$1(C,a);let f=calculateNormalisedPosition(u,n,1,g.length),m=Math.trunc(f),l=Number((f%1*g[m].length).toFixed(3));return l=r?Math.floor(l):l,g[m][l]||0};var Midi$1={},midiFile={};function parseMidi(C){var u=new Parser(C),n=u.readChunk();if(n.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+n.id+"'";for(var a=parseHeader(n.data),r=[],g=0;!u.eof()&&g<a.numTracks;g++){var f=u.readChunk();if(f.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+f.id+"'";var m=parseTrack(f.data);r.push(m)}return{header:a,tracks:r}}function parseHeader(C){var u=new Parser(C),n=u.readUInt16(),a=u.readUInt16(),r={format:n,numTracks:a},g=u.readUInt16();return g&32768?(r.framesPerSecond=256-(g>>8),r.ticksPerFrame=g&255):r.ticksPerBeat=g,r}function parseTrack(C){for(var u=new Parser(C),n=[];!u.eof();){var a=g();n.push(a)}return n;var r;function g(){var f={};f.deltaTime=u.readVarInt();var m=u.readUInt8();if((m&240)===240)if(m===255){f.meta=!0;var l=u.readUInt8(),x=u.readVarInt();switch(l){case 0:if(f.type="sequenceNumber",x!==2)throw"Expected length for sequenceNumber event is 2, got "+x;return f.number=u.readUInt16(),f;case 1:return f.type="text",f.text=u.readString(x),f;case 2:return f.type="copyrightNotice",f.text=u.readString(x),f;case 3:return f.type="trackName",f.text=u.readString(x),f;case 4:return f.type="instrumentName",f.text=u.readString(x),f;case 5:return f.type="lyrics",f.text=u.readString(x),f;case 6:return f.type="marker",f.text=u.readString(x),f;case 7:return f.type="cuePoint",f.text=u.readString(x),f;case 32:if(f.type="channelPrefix",x!=1)throw"Expected length for channelPrefix event is 1, got "+x;return f.channel=u.readUInt8(),f;case 33:if(f.type="portPrefix",x!=1)throw"Expected length for portPrefix event is 1, got "+x;return f.port=u.readUInt8(),f;case 47:if(f.type="endOfTrack",x!=0)throw"Expected length for endOfTrack event is 0, got "+x;return f;case 81:if(f.type="setTempo",x!=3)throw"Expected length for setTempo event is 3, got "+x;return f.microsecondsPerBeat=u.readUInt24(),f;case 84:if(f.type="smpteOffset",x!=5)throw"Expected length for smpteOffset event is 5, got "+x;var S=u.readUInt8(),D={0:24,32:25,64:29,96:30};return f.frameRate=D[S&96],f.hour=S&31,f.min=u.readUInt8(),f.sec=u.readUInt8(),f.frame=u.readUInt8(),f.subFrame=u.readUInt8(),f;case 88:if(f.type="timeSignature",x!=2&&x!=4)throw"Expected length for timeSignature event is 4 or 2, got "+x;return f.numerator=u.readUInt8(),f.denominator=1<<u.readUInt8(),x===4?(f.metronome=u.readUInt8(),f.thirtyseconds=u.readUInt8()):(f.metronome=36,f.thirtyseconds=8),f;case 89:if(f.type="keySignature",x!=2)throw"Expected length for keySignature event is 2, got "+x;return f.key=u.readInt8(),f.scale=u.readUInt8(),f;case 127:return f.type="sequencerSpecific",f.data=u.readBytes(x),f;default:return f.type="unknownMeta",f.data=u.readBytes(x),f.metatypeByte=l,f}}else if(m==240){f.type="sysEx";var x=u.readVarInt();return f.data=u.readBytes(x),f}else if(m==247){f.type="endSysEx";var x=u.readVarInt();return f.data=u.readBytes(x),f}else throw"Unrecognised MIDI event type byte: "+m;else{var h;if(m&128)h=u.readUInt8(),r=m;else{if(r===null)throw"Running status byte encountered before status byte";h=m,m=r,f.running=!0}var _=m>>4;switch(f.channel=m&15,_){case 8:return f.type="noteOff",f.noteNumber=h,f.velocity=u.readUInt8(),f;case 9:var o=u.readUInt8();return f.type=o===0?"noteOff":"noteOn",f.noteNumber=h,f.velocity=o,o===0&&(f.byte9=!0),f;case 10:return f.type="noteAftertouch",f.noteNumber=h,f.amount=u.readUInt8(),f;case 11:return f.type="controller",f.controllerType=h,f.value=u.readUInt8(),f;case 12:return f.type="programChange",f.programNumber=h,f;case 13:return f.type="channelAftertouch",f.amount=h,f;case 14:return f.type="pitchBend",f.value=h+(u.readUInt8()<<7)-8192,f;default:throw"Unrecognised MIDI event type: "+_}}}}function Parser(C){this.buffer=C,this.bufferLen=this.buffer.length,this.pos=0}Parser.prototype.eof=function(){return this.pos>=this.bufferLen};Parser.prototype.readUInt8=function(){var C=this.buffer[this.pos];return this.pos+=1,C};Parser.prototype.readInt8=function(){var C=this.readUInt8();return C&128?C-256:C};Parser.prototype.readUInt16=function(){var C=this.readUInt8(),u=this.readUInt8();return(C<<8)+u};Parser.prototype.readInt16=function(){var C=this.readUInt16();return C&32768?C-65536:C};Parser.prototype.readUInt24=function(){var C=this.readUInt8(),u=this.readUInt8(),n=this.readUInt8();return(C<<16)+(u<<8)+n};Parser.prototype.readInt24=function(){var C=this.readUInt24();return C&8388608?C-16777216:C};Parser.prototype.readUInt32=function(){var C=this.readUInt8(),u=this.readUInt8(),n=this.readUInt8(),a=this.readUInt8();return(C<<24)+(u<<16)+(n<<8)+a};Parser.prototype.readBytes=function(C){var u=this.buffer.slice(this.pos,this.pos+C);return this.pos+=C,u};Parser.prototype.readString=function(C){var u=this.readBytes(C);return String.fromCharCode.apply(null,u)};Parser.prototype.readVarInt=function(){for(var C=0;!this.eof();){var u=this.readUInt8();if(u&128)C+=u&127,C<<=7;else return C+u}return C};Parser.prototype.readChunk=function(){var C=this.readString(4),u=this.readUInt32(),n=this.readBytes(u);return{id:C,length:u,data:n}};var midiParser=parseMidi;function writeMidi(C,u){if(typeof C!="object")throw"Invalid MIDI data";u=u||{};var n=C.header||{},a=C.tracks||[],r,g=a.length,f=new Writer;for(writeHeader(f,n,g),r=0;r<g;r++)writeTrack(f,a[r],u);return f.buffer}function writeHeader(C,u,n){var a=u.format==null?1:u.format,r=128;u.timeDivision?r=u.timeDivision:u.ticksPerFrame&&u.framesPerSecond?r=-(u.framesPerSecond&255)<<8|u.ticksPerFrame&255:u.ticksPerBeat&&(r=u.ticksPerBeat&32767);var g=new Writer;g.writeUInt16(a),g.writeUInt16(n),g.writeUInt16(r),C.writeChunk("MThd",g.buffer)}function writeTrack(C,u,n){var a=new Writer,r,g=u.length,f=null;for(r=0;r<g;r++)(n.running===!1||!n.running&&!u[r].running)&&(f=null),f=writeEvent(a,u[r],f,n.useByte9ForNoteOff);C.writeChunk("MTrk",a.buffer)}function writeEvent(C,u,n,a){var r=u.type,g=u.deltaTime,f=u.text||"",m=u.data||[],l=null;switch(C.writeVarInt(g),r){case"sequenceNumber":C.writeUInt8(255),C.writeUInt8(0),C.writeVarInt(2),C.writeUInt16(u.number);break;case"text":C.writeUInt8(255),C.writeUInt8(1),C.writeVarInt(f.length),C.writeString(f);break;case"copyrightNotice":C.writeUInt8(255),C.writeUInt8(2),C.writeVarInt(f.length),C.writeString(f);break;case"trackName":C.writeUInt8(255),C.writeUInt8(3),C.writeVarInt(f.length),C.writeString(f);break;case"instrumentName":C.writeUInt8(255),C.writeUInt8(4),C.writeVarInt(f.length),C.writeString(f);break;case"lyrics":C.writeUInt8(255),C.writeUInt8(5),C.writeVarInt(f.length),C.writeString(f);break;case"marker":C.writeUInt8(255),C.writeUInt8(6),C.writeVarInt(f.length),C.writeString(f);break;case"cuePoint":C.writeUInt8(255),C.writeUInt8(7),C.writeVarInt(f.length),C.writeString(f);break;case"channelPrefix":C.writeUInt8(255),C.writeUInt8(32),C.writeVarInt(1),C.writeUInt8(u.channel);break;case"portPrefix":C.writeUInt8(255),C.writeUInt8(33),C.writeVarInt(1),C.writeUInt8(u.port);break;case"endOfTrack":C.writeUInt8(255),C.writeUInt8(47),C.writeVarInt(0);break;case"setTempo":C.writeUInt8(255),C.writeUInt8(81),C.writeVarInt(3),C.writeUInt24(u.microsecondsPerBeat);break;case"smpteOffset":C.writeUInt8(255),C.writeUInt8(84),C.writeVarInt(5);var x={24:0,25:32,29:64,30:96},S=u.hour&31|x[u.frameRate];C.writeUInt8(S),C.writeUInt8(u.min),C.writeUInt8(u.sec),C.writeUInt8(u.frame),C.writeUInt8(u.subFrame);break;case"timeSignature":C.writeUInt8(255),C.writeUInt8(88),C.writeVarInt(4),C.writeUInt8(u.numerator);var D=Math.floor(Math.log(u.denominator)/Math.LN2)&255;C.writeUInt8(D),C.writeUInt8(u.metronome),C.writeUInt8(u.thirtyseconds||8);break;case"keySignature":C.writeUInt8(255),C.writeUInt8(89),C.writeVarInt(2),C.writeInt8(u.key),C.writeUInt8(u.scale);break;case"sequencerSpecific":C.writeUInt8(255),C.writeUInt8(127),C.writeVarInt(m.length),C.writeBytes(m);break;case"unknownMeta":u.metatypeByte!=null&&(C.writeUInt8(255),C.writeUInt8(u.metatypeByte),C.writeVarInt(m.length),C.writeBytes(m));break;case"sysEx":C.writeUInt8(240),C.writeVarInt(m.length),C.writeBytes(m);break;case"endSysEx":C.writeUInt8(247),C.writeVarInt(m.length),C.writeBytes(m);break;case"noteOff":var h=a!==!1&&u.byte9||a&&u.velocity==0?144:128;l=h|u.channel,l!==n&&C.writeUInt8(l),C.writeUInt8(u.noteNumber),C.writeUInt8(u.velocity);break;case"noteOn":l=144|u.channel,l!==n&&C.writeUInt8(l),C.writeUInt8(u.noteNumber),C.writeUInt8(u.velocity);break;case"noteAftertouch":l=160|u.channel,l!==n&&C.writeUInt8(l),C.writeUInt8(u.noteNumber),C.writeUInt8(u.amount);break;case"controller":l=176|u.channel,l!==n&&C.writeUInt8(l),C.writeUInt8(u.controllerType),C.writeUInt8(u.value);break;case"programChange":l=192|u.channel,l!==n&&C.writeUInt8(l),C.writeUInt8(u.programNumber);break;case"channelAftertouch":l=208|u.channel,l!==n&&C.writeUInt8(l),C.writeUInt8(u.amount);break;case"pitchBend":l=224|u.channel,l!==n&&C.writeUInt8(l);var _=8192+u.value,o=_&127,p=_>>7&127;C.writeUInt8(o),C.writeUInt8(p);break;default:throw"Unrecognized event type: "+r}return l}function Writer(){this.buffer=[]}Writer.prototype.writeUInt8=function(C){this.buffer.push(C&255)};Writer.prototype.writeInt8=Writer.prototype.writeUInt8;Writer.prototype.writeUInt16=function(C){var u=C>>8&255,n=C&255;this.writeUInt8(u),this.writeUInt8(n)};Writer.prototype.writeInt16=Writer.prototype.writeUInt16;Writer.prototype.writeUInt24=function(C){var u=C>>16&255,n=C>>8&255,a=C&255;this.writeUInt8(u),this.writeUInt8(n),this.writeUInt8(a)};Writer.prototype.writeInt24=Writer.prototype.writeUInt24;Writer.prototype.writeUInt32=function(C){var u=C>>24&255,n=C>>16&255,a=C>>8&255,r=C&255;this.writeUInt8(u),this.writeUInt8(n),this.writeUInt8(a),this.writeUInt8(r)};Writer.prototype.writeInt32=Writer.prototype.writeUInt32;Writer.prototype.writeBytes=function(C){this.buffer=this.buffer.concat(Array.prototype.slice.call(C,0))};Writer.prototype.writeString=function(C){var u,n=C.length,a=[];for(u=0;u<n;u++)a.push(C.codePointAt(u));this.writeBytes(a)};Writer.prototype.writeVarInt=function(C){if(C<0)throw"Cannot write negative variable-length integer";if(C<=127)this.writeUInt8(C);else{var u=C,n=[];for(n.push(u&127),u>>=7;u;){var a=u&127|128;n.push(a),u>>=7}this.writeBytes(n.reverse())}};Writer.prototype.writeChunk=function(C,u){this.writeString(C),this.writeUInt32(u.length),this.writeBytes(u)};var midiWriter=writeMidi;midiFile.parseMidi=midiParser;midiFile.writeMidi=midiWriter;var Header={},BinarySearch={};Object.defineProperty(BinarySearch,"__esModule",{value:!0});BinarySearch.insert=BinarySearch.search=void 0;function search(C,u,n){n===void 0&&(n="ticks");var a=0,r=C.length,g=r;if(r>0&&C[r-1][n]<=u)return r-1;for(;a<g;){var f=Math.floor(a+(g-a)/2),m=C[f],l=C[f+1];if(m[n]===u){for(var x=f;x<C.length;x++){var S=C[x];S[n]===u&&(f=x)}return f}else{if(m[n]<u&&l[n]>u)return f;m[n]>u?g=f:m[n]<u&&(a=f+1)}}return-1}BinarySearch.search=search;function insert(C,u,n){if(n===void 0&&(n="ticks"),C.length){var a=search(C,u[n],n);C.splice(a+1,0,u)}else C.push(u)}BinarySearch.insert=insert;(function(C){Object.defineProperty(C,"__esModule",{value:!0}),C.Header=C.keySignatureKeys=void 0;var u=BinarySearch,n=new WeakMap;C.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var a=function(){function r(g){var f=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",n.set(this,480),g){n.set(this,g.header.ticksPerBeat),g.tracks.forEach(function(l){l.forEach(function(x){x.meta&&(x.type==="timeSignature"?f.timeSignatures.push({ticks:x.absoluteTime,timeSignature:[x.numerator,x.denominator]}):x.type==="setTempo"?f.tempos.push({bpm:6e7/x.microsecondsPerBeat,ticks:x.absoluteTime}):x.type==="keySignature"&&f.keySignatures.push({key:C.keySignatureKeys[x.key+7],scale:x.scale===0?"major":"minor",ticks:x.absoluteTime}))})});var m=0;g.tracks[0].forEach(function(l){m+=l.deltaTime,l.meta&&(l.type==="trackName"?f.name=l.text:(l.type==="text"||l.type==="cuePoint"||l.type==="marker"||l.type==="lyrics")&&f.meta.push({text:l.text,ticks:m,type:l.type}))}),this.update()}}return r.prototype.update=function(){var g=this,f=0,m=0;this.tempos.sort(function(l,x){return l.ticks-x.ticks}),this.tempos.forEach(function(l,x){var S=x>0?g.tempos[x-1].bpm:g.tempos[0].bpm,D=l.ticks/g.ppq-m,h=60/S*D;l.time=h+f,f=l.time,m+=D}),this.timeSignatures.sort(function(l,x){return l.ticks-x.ticks}),this.timeSignatures.forEach(function(l,x){var S=x>0?g.timeSignatures[x-1]:g.timeSignatures[0],D=(l.ticks-S.ticks)/g.ppq,h=D/S.timeSignature[0]/(S.timeSignature[1]/4);S.measures=S.measures||0,l.measures=h+S.measures})},r.prototype.ticksToSeconds=function(g){var f=(0,u.search)(this.tempos,g);if(f!==-1){var m=this.tempos[f],l=m.time,x=(g-m.ticks)/this.ppq;return l+60/m.bpm*x}else{var S=g/this.ppq;return 60/120*S}},r.prototype.ticksToMeasures=function(g){var f=(0,u.search)(this.timeSignatures,g);if(f!==-1){var m=this.timeSignatures[f],l=(g-m.ticks)/this.ppq;return m.measures+l/(m.timeSignature[0]/m.timeSignature[1])/4}else return g/this.ppq/4},Object.defineProperty(r.prototype,"ppq",{get:function(){return n.get(this)},enumerable:!1,configurable:!0}),r.prototype.secondsToTicks=function(g){var f=(0,u.search)(this.tempos,g,"time");if(f!==-1){var m=this.tempos[f],l=m.time,x=g-l,S=x/(60/m.bpm);return Math.round(m.ticks+S*this.ppq)}else{var D=g/.5;return Math.round(D*this.ppq)}},r.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(g){return{bpm:g.bpm,ticks:g.ticks}}),timeSignatures:this.timeSignatures}},r.prototype.fromJSON=function(g){this.name=g.name,this.tempos=g.tempos.map(function(f){return Object.assign({},f)}),this.timeSignatures=g.timeSignatures.map(function(f){return Object.assign({},f)}),this.keySignatures=g.keySignatures.map(function(f){return Object.assign({},f)}),this.meta=g.meta.map(function(f){return Object.assign({},f)}),n.set(this,g.ppq),this.update()},r.prototype.setTempo=function(g){this.tempos=[{bpm:g,ticks:0}],this.update()},r}();C.Header=a})(Header);var Track$1={},ControlChange={};(function(C){Object.defineProperty(C,"__esModule",{value:!0}),C.ControlChange=C.controlChangeIds=C.controlChangeNames=void 0,C.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},C.controlChangeIds=Object.keys(C.controlChangeNames).reduce(function(r,g){return r[C.controlChangeNames[g]]=g,r},{});var u=new WeakMap,n=new WeakMap,a=function(){function r(g,f){u.set(this,f),n.set(this,g.controllerType),this.ticks=g.absoluteTime,this.value=g.value}return Object.defineProperty(r.prototype,"number",{get:function(){return n.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return C.controlChangeNames[this.number]?C.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"time",{get:function(){var g=u.get(this);return g.ticksToSeconds(this.ticks)},set:function(g){var f=u.get(this);this.ticks=f.secondsToTicks(g)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},r}();C.ControlChange=a})(ControlChange);var ControlChanges={};Object.defineProperty(ControlChanges,"__esModule",{value:!0});ControlChanges.createControlChanges=void 0;var ControlChange_1$1=ControlChange;function createControlChanges(){return new Proxy({},{get:function(C,u){if(C[u])return C[u];if(ControlChange_1$1.controlChangeIds.hasOwnProperty(u))return C[ControlChange_1$1.controlChangeIds[u]]},set:function(C,u,n){return ControlChange_1$1.controlChangeIds.hasOwnProperty(u)?C[ControlChange_1$1.controlChangeIds[u]]=n:C[u]=n,!0}})}ControlChanges.createControlChanges=createControlChanges;var PitchBend$1={};Object.defineProperty(PitchBend$1,"__esModule",{value:!0});PitchBend$1.PitchBend=void 0;var privateHeaderMap$2=new WeakMap,PitchBend=function(){function C(u,n){privateHeaderMap$2.set(this,n),this.ticks=u.absoluteTime,this.value=u.value}return Object.defineProperty(C.prototype,"time",{get:function(){var u=privateHeaderMap$2.get(this);return u.ticksToSeconds(this.ticks)},set:function(u){var n=privateHeaderMap$2.get(this);this.ticks=n.secondsToTicks(u)},enumerable:!1,configurable:!0}),C.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},C}();PitchBend$1.PitchBend=PitchBend;var Instrument$1={},InstrumentMaps={};Object.defineProperty(InstrumentMaps,"__esModule",{value:!0});InstrumentMaps.DrumKitByPatchID=InstrumentMaps.InstrumentFamilyByID=InstrumentMaps.instrumentByPatchID=void 0;InstrumentMaps.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"];InstrumentMaps.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"];InstrumentMaps.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"};Object.defineProperty(Instrument$1,"__esModule",{value:!0});Instrument$1.Instrument=void 0;var InstrumentMaps_1=InstrumentMaps,privateTrackMap=new WeakMap,Instrument=function(){function C(u,n){if(this.number=0,privateTrackMap.set(this,n),this.number=0,u){var a=u.find(function(r){return r.type==="programChange"});a&&(this.number=a.programNumber)}}return Object.defineProperty(C.prototype,"name",{get:function(){return this.percussion?InstrumentMaps_1.DrumKitByPatchID[this.number]:InstrumentMaps_1.instrumentByPatchID[this.number]},set:function(u){var n=InstrumentMaps_1.instrumentByPatchID.indexOf(u);n!==-1&&(this.number=n)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"family",{get:function(){return this.percussion?"drums":InstrumentMaps_1.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"percussion",{get:function(){var u=privateTrackMap.get(this);return u.channel===9},enumerable:!1,configurable:!0}),C.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},C.prototype.fromJSON=function(u){this.number=u.number},C}();Instrument$1.Instrument=Instrument;var Note$1={};Object.defineProperty(Note$1,"__esModule",{value:!0});Note$1.Note=void 0;function midiToPitch(C){var u=Math.floor(C/12)-1;return midiToPitchClass(C)+u.toString()}function midiToPitchClass(C){var u=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n=C%12;return u[n]}function pitchClassToMidi(C){var u=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return u.indexOf(C)}var pitchToMidi=function(){var C=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,u={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(n){var a=C.exec(n),r=a[1],g=a[2],f=u[r.toLowerCase()];return f+(parseInt(g,10)+1)*12}}(),privateHeaderMap$1=new WeakMap,Note=function(){function C(u,n,a){privateHeaderMap$1.set(this,a),this.midi=u.midi,this.velocity=u.velocity,this.noteOffVelocity=n.velocity,this.ticks=u.ticks,this.durationTicks=n.ticks-u.ticks}return Object.defineProperty(C.prototype,"name",{get:function(){return midiToPitch(this.midi)},set:function(u){this.midi=pitchToMidi(u)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(u){var n=u-this.octave;this.midi+=n*12},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pitch",{get:function(){return midiToPitchClass(this.midi)},set:function(u){this.midi=12*(this.octave+1)+pitchClassToMidi(u)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"duration",{get:function(){var u=privateHeaderMap$1.get(this);return u.ticksToSeconds(this.ticks+this.durationTicks)-u.ticksToSeconds(this.ticks)},set:function(u){var n=privateHeaderMap$1.get(this),a=n.secondsToTicks(this.time+u);this.durationTicks=a-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"time",{get:function(){var u=privateHeaderMap$1.get(this);return u.ticksToSeconds(this.ticks)},set:function(u){var n=privateHeaderMap$1.get(this);this.ticks=n.secondsToTicks(u)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"bars",{get:function(){var u=privateHeaderMap$1.get(this);return u.ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),C.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},C}();Note$1.Note=Note;Object.defineProperty(Track$1,"__esModule",{value:!0});Track$1.Track=void 0;var BinarySearch_1=BinarySearch,ControlChange_1=ControlChange,ControlChanges_1=ControlChanges,PitchBend_1=PitchBend$1,Instrument_1=Instrument$1,Note_1=Note$1,privateHeaderMap=new WeakMap,Track=function(){function C(u,n){var a=this;if(this.name="",this.notes=[],this.controlChanges=(0,ControlChanges_1.createControlChanges)(),this.pitchBends=[],privateHeaderMap.set(this,n),u){var r=u.find(function(h){return h.type==="trackName"});this.name=r?r.text:""}if(this.instrument=new Instrument_1.Instrument(u,this),this.channel=0,u){for(var g=u.filter(function(h){return h.type==="noteOn"}),f=u.filter(function(h){return h.type==="noteOff"}),m=function(){var h=g.shift();l.channel=h.channel;var _=f.findIndex(function(p){return p.noteNumber===h.noteNumber&&p.absoluteTime>=h.absoluteTime});if(_!==-1){var o=f.splice(_,1)[0];l.addNote({durationTicks:o.absoluteTime-h.absoluteTime,midi:h.noteNumber,noteOffVelocity:o.velocity/127,ticks:h.absoluteTime,velocity:h.velocity/127})}},l=this;g.length;)m();var x=u.filter(function(h){return h.type==="controller"});x.forEach(function(h){a.addCC({number:h.controllerType,ticks:h.absoluteTime,value:h.value/127})});var S=u.filter(function(h){return h.type==="pitchBend"});S.forEach(function(h){a.addPitchBend({ticks:h.absoluteTime,value:h.value/Math.pow(2,13)})});var D=u.find(function(h){return h.type==="endOfTrack"});this.endOfTrackTicks=D!==void 0?D.absoluteTime:void 0}}return C.prototype.addNote=function(u){var n=privateHeaderMap.get(this),a=new Note_1.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},n);return Object.assign(a,u),(0,BinarySearch_1.insert)(this.notes,a,"ticks"),this},C.prototype.addCC=function(u){var n=privateHeaderMap.get(this),a=new ControlChange_1.ControlChange({controllerType:u.number},n);return delete u.number,Object.assign(a,u),Array.isArray(this.controlChanges[a.number])||(this.controlChanges[a.number]=[]),(0,BinarySearch_1.insert)(this.controlChanges[a.number],a,"ticks"),this},C.prototype.addPitchBend=function(u){var n=privateHeaderMap.get(this),a=new PitchBend_1.PitchBend({},n);return Object.assign(a,u),(0,BinarySearch_1.insert)(this.pitchBends,a,"ticks"),this},Object.defineProperty(C.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var u=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,n=0;n<this.notes.length-1;n++){var a=this.notes[n].time+this.notes[n].duration;u<a&&(u=a)}return u},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var u=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,n=0;n<this.notes.length-1;n++){var a=this.notes[n].ticks+this.notes[n].durationTicks;u<a&&(u=a)}return u},enumerable:!1,configurable:!0}),C.prototype.fromJSON=function(u){var n=this;this.name=u.name,this.channel=u.channel,this.instrument=new Instrument_1.Instrument(void 0,this),this.instrument.fromJSON(u.instrument),u.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=u.endOfTrackTicks);for(var a in u.controlChanges)u.controlChanges[a]&&u.controlChanges[a].forEach(function(r){n.addCC({number:r.number,ticks:r.ticks,value:r.value})});u.notes.forEach(function(r){n.addNote({durationTicks:r.durationTicks,midi:r.midi,ticks:r.ticks,velocity:r.velocity})})},C.prototype.toJSON=function(){for(var u={},n=0;n<127;n++)this.controlChanges.hasOwnProperty(n)&&(u[n]=this.controlChanges[n].map(function(r){return r.toJSON()}));var a={channel:this.channel,controlChanges:u,pitchBends:this.pitchBends.map(function(r){return r.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(r){return r.toJSON()})};return this.endOfTrackTicks!==void 0&&(a.endOfTrackTicks=this.endOfTrackTicks),a},C}();Track$1.Track=Track;var Encode={};function flatten(C){var u=[];return $flatten(C,u),u}function $flatten(C,u){for(var n=0;n<C.length;n++){var a=C[n];Array.isArray(a)?$flatten(a,u):u.push(a)}}const dist_es2015=Object.freeze(Object.defineProperty({__proto__:null,flatten},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(dist_es2015);var __spreadArray=commonjsGlobal&&commonjsGlobal.__spreadArray||function(C,u,n){if(n||arguments.length===2)for(var a=0,r=u.length,g;a<r;a++)(g||!(a in u))&&(g||(g=Array.prototype.slice.call(u,0,a)),g[a]=u[a]);return C.concat(g||Array.prototype.slice.call(u))};Object.defineProperty(Encode,"__esModule",{value:!0});Encode.encode=void 0;var midi_file_1=midiFile,Header_1=Header,array_flatten_1=require$$2;function encodeNote(C,u){return[{absoluteTime:C.ticks,channel:u,deltaTime:0,noteNumber:C.midi,type:"noteOn",velocity:Math.floor(C.velocity*127)},{absoluteTime:C.ticks+C.durationTicks,channel:u,deltaTime:0,noteNumber:C.midi,type:"noteOff",velocity:Math.floor(C.noteOffVelocity*127)}]}function encodeNotes(C){return(0,array_flatten_1.flatten)(C.notes.map(function(u){return encodeNote(u,C.channel)}))}function encodeControlChange(C,u){return{absoluteTime:C.ticks,channel:u,controllerType:C.number,deltaTime:0,type:"controller",value:Math.floor(C.value*127)}}function encodeControlChanges(C){for(var u=[],n=0;n<127;n++)C.controlChanges.hasOwnProperty(n)&&C.controlChanges[n].forEach(function(a){u.push(encodeControlChange(a,C.channel))});return u}function encodePitchBend(C,u){return{absoluteTime:C.ticks,channel:u,deltaTime:0,type:"pitchBend",value:C.value}}function encodePitchBends(C){var u=[];return C.pitchBends.forEach(function(n){u.push(encodePitchBend(n,C.channel))}),u}function encodeInstrument(C){return{absoluteTime:0,channel:C.channel,deltaTime:0,programNumber:C.instrument.number,type:"programChange"}}function encodeTrackName(C){return{absoluteTime:0,deltaTime:0,meta:!0,text:C,type:"trackName"}}function encodeTempo(C){return{absoluteTime:C.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/C.bpm),type:"setTempo"}}function encodeTimeSignature(C){return{absoluteTime:C.ticks,deltaTime:0,denominator:C.timeSignature[1],meta:!0,metronome:24,numerator:C.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}function encodeKeySignature(C){var u=Header_1.keySignatureKeys.indexOf(C.key);return{absoluteTime:C.ticks,deltaTime:0,key:u+7,meta:!0,scale:C.scale==="major"?0:1,type:"keySignature"}}function encodeText(C){return{absoluteTime:C.ticks,deltaTime:0,meta:!0,text:C.text,type:C.type}}function encode(C){var u={header:{format:1,numTracks:C.tracks.length+1,ticksPerBeat:C.header.ppq},tracks:__spreadArray([__spreadArray(__spreadArray(__spreadArray(__spreadArray([{absoluteTime:0,deltaTime:0,meta:!0,text:C.header.name,type:"trackName"}],C.header.keySignatures.map(function(n){return encodeKeySignature(n)}),!0),C.header.meta.map(function(n){return encodeText(n)}),!0),C.header.tempos.map(function(n){return encodeTempo(n)}),!0),C.header.timeSignatures.map(function(n){return encodeTimeSignature(n)}),!0)],C.tracks.map(function(n){return __spreadArray(__spreadArray(__spreadArray([encodeTrackName(n.name),encodeInstrument(n)],encodeNotes(n),!0),encodeControlChanges(n),!0),encodePitchBends(n),!0)}),!0)};return u.tracks=u.tracks.map(function(n){n=n.sort(function(r,g){return r.absoluteTime-g.absoluteTime});var a=0;return n.forEach(function(r){r.deltaTime=r.absoluteTime-a,a=r.absoluteTime,delete r.absoluteTime}),n.push({deltaTime:0,meta:!0,type:"endOfTrack"}),n}),new Uint8Array((0,midi_file_1.writeMidi)(u))}Encode.encode=encode;(function(C){var u=commonjsGlobal&&commonjsGlobal.__awaiter||function(D,h,_,o){function p(b){return b instanceof _?b:new _(function(y){y(b)})}return new(_||(_=Promise))(function(b,y){function A(T){try{N(o.next(T))}catch(O){y(O)}}function E(T){try{N(o.throw(T))}catch(O){y(O)}}function N(T){T.done?b(T.value):p(T.value).then(A,E)}N((o=o.apply(D,h||[])).next())})},n=commonjsGlobal&&commonjsGlobal.__generator||function(D,h){var _={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},o,p,b,y;return y={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function A(N){return function(T){return E([N,T])}}function E(N){if(o)throw new TypeError("Generator is already executing.");for(;_;)try{if(o=1,p&&(b=N[0]&2?p.return:N[0]?p.throw||((b=p.return)&&b.call(p),0):p.next)&&!(b=b.call(p,N[1])).done)return b;switch(p=0,b&&(N=[N[0]&2,b.value]),N[0]){case 0:case 1:b=N;break;case 4:return _.label++,{value:N[1],done:!1};case 5:_.label++,p=N[1],N=[0];continue;case 7:N=_.ops.pop(),_.trys.pop();continue;default:if(b=_.trys,!(b=b.length>0&&b[b.length-1])&&(N[0]===6||N[0]===2)){_=0;continue}if(N[0]===3&&(!b||N[1]>b[0]&&N[1]<b[3])){_.label=N[1];break}if(N[0]===6&&_.label<b[1]){_.label=b[1],b=N;break}if(b&&_.label<b[2]){_.label=b[2],_.ops.push(N);break}b[2]&&_.ops.pop(),_.trys.pop();continue}N=h.call(D,_)}catch(T){N=[6,T],p=0}finally{o=b=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}};Object.defineProperty(C,"__esModule",{value:!0}),C.Header=C.Track=C.Midi=void 0;var a=midiFile,r=Header,g=Track$1,f=Encode,m=function(){function D(h){var _=this,o=null;if(h){var p=h instanceof ArrayBuffer?new Uint8Array(h):h;o=(0,a.parseMidi)(p),o.tracks.forEach(function(b){var y=0;b.forEach(function(A){y+=A.deltaTime,A.absoluteTime=y})}),o.tracks=S(o.tracks)}this.header=new r.Header(o),this.tracks=[],h&&(this.tracks=o.tracks.map(function(b){return new g.Track(b,_.header)}),o.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return D.fromUrl=function(h){return u(this,void 0,void 0,function(){var _,o;return n(this,function(p){switch(p.label){case 0:return[4,fetch(h)];case 1:return _=p.sent(),_.ok?[4,_.arrayBuffer()]:[3,3];case 2:return o=p.sent(),[2,new D(o)];case 3:throw new Error("Could not load '".concat(h,"'"))}})})},Object.defineProperty(D.prototype,"name",{get:function(){return this.header.name},set:function(h){this.header.name=h},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"duration",{get:function(){var h=this.tracks.map(function(_){return _.duration});return Math.max.apply(Math,h)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"durationTicks",{get:function(){var h=this.tracks.map(function(_){return _.durationTicks});return Math.max.apply(Math,h)},enumerable:!1,configurable:!0}),D.prototype.addTrack=function(){var h=new g.Track(void 0,this.header);return this.tracks.push(h),h},D.prototype.toArray=function(){return(0,f.encode)(this)},D.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(h){return h.toJSON()})}},D.prototype.fromJSON=function(h){var _=this;this.header=new r.Header,this.header.fromJSON(h.header),this.tracks=h.tracks.map(function(o){var p=new g.Track(void 0,_.header);return p.fromJSON(o),p})},D.prototype.clone=function(){var h=new D;return h.fromJSON(this.toJSON()),h},D}();C.Midi=m;var l=Track$1;Object.defineProperty(C,"Track",{enumerable:!0,get:function(){return l.Track}});var x=Header;Object.defineProperty(C,"Header",{enumerable:!0,get:function(){return x.Header}});function S(D){for(var h=[],_=0;_<D.length;_++)for(var o=h.length,p=new Map,b=Array(16).fill(0),y=0,A=D[_];y<A.length;y++){var E=A[y],N=o,T=E.channel;if(T!==void 0){E.type==="programChange"&&(b[T]=E.programNumber);var O=b[T],j="".concat(O," ").concat(T);p.has(j)?N=p.get(j):(N=o+p.size,p.set(j,N))}h[N]||h.push([]),h[N].push(E)}return h}})(Midi$1);async function parse(C,u){var S;const n=await Midi$1.Midi.fromUrl(C)||[],a=((S=n.header.timeSignatures[0])==null?void 0:S.timeSignature[0])||4,r=Math.floor(n.tracks[0].endOfTrackTicks/480/a)*a*480,g=480/(u/4),f=r/480/a,m=(n.tracks[0].notes||[]).reduce((D,h)=>({...D,[h.ticks/g]:[...D[h.ticks/g]||[],h.midi].sort((_,o)=>_.midi<o.midi)}),{}),l=(n.tracks[0].notes||[]).reduce((D,h)=>({...D,[h.ticks/g]:Math.max(D[h.ticks/g]||0,Math.floor(h.durationTicks/g)/a)}),{}),x=Object.keys(m).map(D=>+D);return{bars:f,notes:m,events:x,durs:l}}const parseMidiFile=memoize(parse),inputs$1=writable$1([]),CCsIn=writable$1({}),notes=writable$1({});inputs$1.subscribe(C=>{CCsIn.set(C.reduce((u,n)=>({...u,[n]:{}}),{})),notes.set(C.reduce((u,n)=>({...u,[n]:[]}),{}))});const getCC=(C,u=0)=>{var a;const n=get_store_value(inputs$1)[u]||get_store_value(inputs$1)[0];return(a=get_store_value(CCsIn)[n])==null?void 0:a[C]},getNotes=(C=0)=>{const u=get_store_value(inputs$1)[C]||get_store_value(inputs$1)[0];return get_store_value(notes)[u]||[]};wm.enable().then(()=>{inputs$1.set(wm.inputs.map(C=>C.name)),wm.inputs.forEach(C=>{const u=debounce(n=>{CCsIn.update(a=>({...a,[C.name]:{...a[C.name],[n.controller.number]:n.value}}))},10);C.addListener("controlchange",u),C.addListener("noteon",n=>{notes.update(a=>({...a,[C.name]:[...a[C.name],n.note.number]}))}),C.addListener("noteoff",n=>{notes.update(a=>({...a,[C.name]:a[C.name].filter(r=>r!==n.note.number)}))})})});function commonjsRequire(C){throw new Error('Could not dynamically require "'+C+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var quantumCircuit_min={exports:{}};(function(C,u){(function(n){C.exports=n()})(function(){return function n(a,r,g){function f(x,S){if(!r[x]){if(!a[x]){var D=typeof commonjsRequire=="function"&&commonjsRequire;if(!S&&D)return D(x,!0);if(m)return m(x,!0);var h=new Error("Cannot find module '"+x+"'");throw h.code="MODULE_NOT_FOUND",h}var _=r[x]={exports:{}};a[x][0].call(_.exports,function(o){return f(a[x][1][o]||o)},_,_.exports,n,a,r,g)}return r[x].exports}for(var m=typeof commonjsRequire=="function"&&commonjsRequire,l=0;l<g.length;l++)f(g[l]);return f}({1:[function(n,a,r){function g(D){return f.error.ErrorListener.call(this),this.errors=D,this}var f=n("antlr4/index"),m=n("./QASMLexer"),l=n("./QASMParser"),x=n("./QASMListener").QASMListener;((g.prototype=Object.create(f.error.ErrorListener.prototype)).constructor=g).prototype.syntaxError=function(D,h,_,o,p,b){this.errors.push({line:_,col:o,msg:p})};function S(D,h){return this.circuit=D,this.qregMap={},this.condition={},this.compatibilityMode=h,x.call(this),this}((S.prototype=Object.create(x.prototype)).constructor=S).prototype.numQbit=function(){var D=0;for(var h in this.qregMap)D+=this.qregMap[h];return D},S.prototype.qregBase=function(D){var h=0;for(var _ in this.qregMap){if(_==D)return h;h+=this.qregMap[_]}return h},S.prototype.qregLen=function(D){return this.qregMap[D]||0},S.prototype.enterMainprog=function(D){},S.prototype.exitMainprog=function(D){},S.prototype.enterStatement=function(D){var h,_,o,p,b,y,A,E=this;(D.getChildCount()?D.getChild(0).getText():"")=="if"&&(this.condition={creg:D.ID().getText(),value:parseInt(D.INT().getText())}),D.gatedecl()&&(_=[],o=[],2<(p=(h=D.gatedecl()).getChildCount())&&h.getChild(2).ID?_=h.getChild(2).ID():(3<p&&h.getChild(3).ID&&(o=h.getChild(3).ID()),5<p&&h.getChild(5).ID&&(_=h.getChild(5).ID())),b=new(Object.getPrototypeOf(this.circuit)).constructor(_.length),y=h.ID().getText(),A=[],_.map(function(N){A.push(N.getText())}),o.map(function(N){var T=N.getText();b.params.push(T)}),D.goplist()&&D.goplist().uop().map(function(N){var T=N.ID()?N.ID().getText():"";if(T){var O=N.anylist()?N.anylist().idlist():null,j=(N.anylist()&&N.anylist().mixedlist(),N.explist());switch(T){case"CX":T="cx";break;case"U":T="u3"}if(!E.circuit.basicGates[T]&&!E.circuit.customGates[T])for(var M in E.circuit.basicGates){var F=E.circuit.basicGates[M];if(F.exportInfo&&F.exportInfo.qasm&&F.exportInfo.qasm.name&&F.exportInfo.qasm.name==T){T=M;break}if(F.exportInfo&&F.exportInfo.qiskit&&F.exportInfo.qiskit.name&&F.exportInfo.qiskit.name==T){T=M;break}}var B,I,G,k={};j&&j.exp()&&(G=(G=E.circuit.basicGates[T])||E.circuit.customGates[T])&&(B=j.exp(),I=G.params||[],B.map(function(X,Z){var J=X.getText(),K=Z<=I.length?I[Z]:"";K&&(k[K]=J)}));var V={params:k},R=[];if(O)for(var U=O.ID().length,L=0;L<U;L++)R.push(A.indexOf(O.ID()[L].getText()));var H=E.circuit.customGates[T];H&&b.registerGate(T,JSON.parse(JSON.stringify(H))),b.addGate(T,-1,R,V)}}),this.circuit.registerGate(y,b.save(!1)))},S.prototype.exitStatement=function(D){},S.prototype.enterVersion=function(D){},S.prototype.exitVersion=function(D){},S.prototype.enterDecl=function(D){switch(D.getChild(0).getText()){case"qreg":this.qregMap[D.getChild(1).getText()]=parseInt(D.getChild(3).getText());break;case"creg":this.circuit.createCreg(D.getChild(1).getText(),parseInt(D.getChild(3).getText()))}},S.prototype.exitDecl=function(D){},S.prototype.enterGatedecl=function(D){},S.prototype.exitGatedecl=function(D){},S.prototype.enterGoplist=function(D){},S.prototype.exitGoplist=function(D){},S.prototype.enterQop=function(D){var h=this,_=JSON.parse(JSON.stringify(this.condition));this.condition={};var o=D.getChildCount()?D.getChild(0).getText():"";if(o=="reset"){for(var p="",b=-1,y=D.argument().length,A=0;A<y;A++){var E=D.argument()[A];A==0&&(p=E.ID().getText(),b=E.INT()?parseInt(E.INT().getText()):-1)}if(p){var N=h.qregLen(p);if(b<0)for(var T=0;T<N;T++)h.circuit.addGate("reset",-1,T+h.qregBase(p),{condition:_||{}});else h.circuit.addGate("reset",-1,b+h.qregBase(p),{condition:_||{}})}}if(o=="measure"){for(var p="",b=-1,O="",j=-1,y=D.argument().length,A=0;A<y;A++)E=D.argument()[A],A==0&&(p=E.ID().getText(),b=E.INT()?parseInt(E.INT().getText()):-1),A==1&&(O=E.ID().getText(),j=E.INT()?parseInt(E.INT().getText()):-1);if(p&&O)if(N=h.qregLen(p),b<0&&j<0)for(T=0;T<N;T++)h.circuit.addGate("measure",-1,T+h.qregBase(p),{creg:{name:O,bit:T},condition:_||{}});else if(0<=b&&0<=j)h.circuit.addGate("measure",-1,b+h.qregBase(p),{creg:{name:O,bit:j},condition:_||{}});else if(0<=b&&j<0)for(T=0;T<N;T++)h.circuit.addGate("measure",-1,b+h.qregBase(p),{creg:{name:O,bit:T},condition:_||{}});else for(T=0;T<N;T++)h.circuit.addGate("measure",-1,T+h.qregBase(p),{creg:{name:O,bit:j},condition:_||{}})}var M=D.uop();if(M&&M.ID()){var F=M.ID().getText(),B=M.anylist()?M.anylist().idlist():null,I=M.anylist()?M.anylist().mixedlist():null,G=M.explist();switch(F){case"CX":F="cx";break;case"U":F="u3"}if(!h.circuit.basicGates[F]&&!h.circuit.customGates[F])for(var k in h.circuit.basicGates){var V=h.circuit.basicGates[k];if(V.exportInfo&&V.exportInfo.qasm&&V.exportInfo.qasm.name&&V.exportInfo.qasm.name==F){F=k;break}if(V.exportInfo&&V.exportInfo.qiskit&&V.exportInfo.qiskit.name&&V.exportInfo.qiskit.name==F){F=k;break}}var R,U,L,H={};G&&G.exp()&&(L=(L=h.circuit.basicGates[F])||h.circuit.customGates[F])&&(R=G.exp(),U=L.params||[],R.map(function(K,$){var W=K.getText(),Y=$<=U.length?U[$]:"";Y&&(H[Y]=W)}));var X={params:H,condition:_||{}};if(B)for(N=h.qregLen(B.ID()[0].getText()),T=0;T<N;T++){for(var Z=[],y=B.ID().length,A=0;A<y;A++)Z.push({reg:B.ID()[A].getText(),bit:T});var J=[];Z.map(function(K){J.push(K.bit+h.qregBase(K.reg))}),h.circuit.addGate(F,-1,J,X)}if(I&&I.ID().length==I.INT().length){for(Z=[],y=I.ID().length,A=0;A<y;A++)Z.push({reg:I.ID()[A].getText(),bit:parseInt(I.INT()[A].getText())});J=[],Z.map(function(K){J.push(K.bit+h.qregBase(K.reg))}),h.circuit.addGate(F,-1,J,X)}}},S.prototype.exitQop=function(D){},S.prototype.enterUop=function(D){},S.prototype.exitUop=function(D){},S.prototype.enterAnylist=function(D){},S.prototype.exitAnylist=function(D){},S.prototype.enterIdlist=function(D){},S.prototype.exitIdlist=function(D){},S.prototype.enterMixedlist=function(D){},S.prototype.exitMixedlist=function(D){},S.prototype.enterArgument=function(D){},S.prototype.exitArgument=function(D){},S.prototype.enterExplist=function(D){},S.prototype.exitExplist=function(D){},S.prototype.enterExp=function(D){},S.prototype.exitExp=function(D){},S.prototype.enterUnaryop=function(D){},S.prototype.exitUnaryop=function(D){},a.exports=function(D,h,_,o){var p=new f.InputStream(h),b=new m.QASMLexer(p),y=new f.CommonTokenStream(b),A=new l.QASMParser(y);A.buildParseTrees=!0,A.removeErrorListeners();var E=[],N=new g(E);A.addErrorListener(N);var T=A.mainprog(),O=new S(D,o);f.tree.ParseTreeWalker.DEFAULT.walk(O,T),_&&_(E)}},{"./QASMLexer":2,"./QASMListener":3,"./QASMParser":4,"antlr4/index":47}],2:[function(n,a,r){var g=n("antlr4/index"),f=["悋Ꜫ脳맭䅼㯧瞆奤","-Ĥ\b		","			\x07	",`\x07\b	\b			
	
\v	\v`,"\f	\f\r	\r		","				","			","				","\x1B	\x1B		",'		 	 !	!"	"#',"	#$	$%	%&	&'	'(	()	)","*	*+	+,	,","","\x07","\x07\x07\b\b\b		",`						


`,`





\v\v`,"\v\v\v\v\v\v","\f\f\f\f\f\r\r","","","","","","","","\x1B\x1B",""," ",'   !!!""""','"###$$$$$',`$$$á
$%%%%æ
%\r%`,`%ç&&&&í
&\r&&î'`,`'ò
'\r''ó((\x07(ø
(\f`,`((û\v())þ
)\r))ÿ)`,`)***Ć
*\r**ć**`,`++++\x07+Đ
+\f++ē\v+`,"+++++,,,,\x07",`,Ğ
,\f,,ġ\v,,,đ-`,"\x07	\v\x07\r\b	",`
\v\f\r\x1B`,"!#%')+-/1",`3\x1B579;= ?!A"C#E$G%I&K'M(O)Q*S+U,W-`,`
2;GGgg--//c`,'|2;C\\aac|\v\f""\x07',"/02;C\\aac|\f\fĭ","\x07","	\v","\r","","","\x1B","","!#","%'",")+","-/","135","79",";=","?A","CE","GIK","MO","QS","UW","Y[\x07","b	d\vf","\rhk","nv","","\x1B","!","#%¤","'§)­","+¯-²","/´1¶","3¸5º","7¼9¾;Â","=Æ?Ê","AÎCÑ","EÖGà","IâKé","MñOõQý","SăUċ","WęYZ\x07","Z[\\\x07q\\]\x07","r]^\x07c^_\x07s_`\x07w","`a\x07gabc\x07=",`c\bde\x07*e
`,"fg\x07+g\fh","i\x07kij\x07hj","kl\x07?lm\x07?m","no\x07dop\x07cpq\x07t","qr\x07trs\x07kst\x07gtu\x07","tuvw\x07Qwx","\x07Rxy\x07Gyz\x07Pz{\x07","S{|\x07C|}\x07U}~\x07O","~\x07k","\x07p\x07e","\x07n\x07w","\x07f\x07g","\x07s\x07","t\x07g\x07i","\x07]","\x07_","\x07e","\x07t\x07g","\x07i","\x07i\x07c","\x07v\x07g ",'\x07}"',"\x07o\x07g","\x07c \x07u"," ¡\x07w¡¢\x07t¢","£\x07g£$¤¥","\x07/¥¦\x07@¦&","§¨\x07t¨©\x07g","©ª\x07uª«\x07g","«¬\x07v¬(­","®\x07W®*¯°","\x07E°±\x07Z±,","²³\x07.³.","´µ\x07`µ0","¶·\x07,·2¸","¹\x071¹4º»","\x07-»6¼½\x07","/½8¾¿\x07u","¿À\x07kÀÁ\x07p","Á:ÂÃ\x07eÃ","Ä\x07qÄÅ\x07uÅ<","ÆÇ\x07vÇÈ\x07","cÈÉ\x07pÉ>","ÊË\x07gËÌ\x07z","ÌÍ\x07rÍ@Î","Ï\x07nÏÐ\x07pÐB","ÑÒ\x07uÒÓ\x07","sÓÔ\x07tÔÕ\x07v","ÕDÖ×\x07r","×Ø\x07kØFÙ","ÚI%ÚÛK&Ûá","ÜÝM'ÝÞK&Þ","áßáI%àÙ","àÜàß","áHâã","M'ãå\x070äæ	","åäæç","çåçè","èJéê	","êì	ëí	ì","ëíîî","ìîïï","Lðò	ñð","òóóñ","óôôN","õù	öø","	÷öøû","ù÷ùú","úPûù","üþ	\x07ýü","þÿÿý","ÿĀĀā","āĂ\b)ĂR","ăą\x07$ĄĆ	\b","ąĄĆć","ćąćĈ","ĈĉĉĊ\x07$","ĊTċČ\x071Č","č\x07,čđĎ","Đ\vďĎĐ","ēđĒđ","ďĒĔē","đĔĕ\x07,ĕ","Ė\x071Ėėė","Ę\b+ĘVęĚ\x07","1Ěě\x071ěğ",`ĜĞ
	ĝĜ`,"Ğġğĝ","ğĠĠĢ","ġğĢģ\b,","ģX\fàçîóù","ÿćđğ\b"].join(""),m=new g.atn.ATNDeserializer().deserialize(f),l=m.decisionToState.map(function(S,D){return new g.dfa.DFA(S,D)});function x(S){return g.Lexer.call(this,S),this._interp=new g.atn.LexerATNSimulator(this,m,l,new g.PredictionContextCache),this}(x.prototype=Object.create(g.Lexer.prototype)).constructor=x,Object.defineProperty(x.prototype,"atn",{get:function(){return m}}),x.EOF=g.Token.EOF,x.T__0=1,x.T__1=2,x.T__2=3,x.T__3=4,x.T__4=5,x.T__5=6,x.T__6=7,x.T__7=8,x.T__8=9,x.T__9=10,x.T__10=11,x.T__11=12,x.T__12=13,x.T__13=14,x.T__14=15,x.T__15=16,x.T__16=17,x.T__17=18,x.T__18=19,x.T__19=20,x.T__20=21,x.T__21=22,x.T__22=23,x.T__23=24,x.T__24=25,x.T__25=26,x.T__26=27,x.T__27=28,x.T__28=29,x.T__29=30,x.T__30=31,x.T__31=32,x.T__32=33,x.PI=34,x.REAL=35,x.SUBREAL=36,x.EXPREAL=37,x.INT=38,x.ID=39,x.WS=40,x.FILENAME=41,x.COMMENT=42,x.LINE_COMMENT=43,x.prototype.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],x.prototype.modeNames=["DEFAULT_MODE"],x.prototype.literalNames=[null,"'}'","'opaque'","';'","'('","')'","'if'","'=='","'barrier'","'OPENQASM'","'include'","'qreg'","'['","']'","'creg'","'gate'","'{'","'measure'","'->'","'reset'","'U'","'CX'","','","'^'","'*'","'/'","'+'","'-'","'sin'","'cos'","'tan'","'exp'","'ln'","'sqrt'","'pi'"],x.prototype.symbolicNames=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"PI","REAL","SUBREAL","EXPREAL","INT","ID","WS","FILENAME","COMMENT","LINE_COMMENT"],x.prototype.ruleNames=["T__0","T__1","T__2","T__3","T__4","T__5","T__6","T__7","T__8","T__9","T__10","T__11","T__12","T__13","T__14","T__15","T__16","T__17","T__18","T__19","T__20","T__21","T__22","T__23","T__24","T__25","T__26","T__27","T__28","T__29","T__30","T__31","T__32","PI","REAL","SUBREAL","EXPREAL","INT","ID","WS","FILENAME","COMMENT","LINE_COMMENT"],x.prototype.grammarFileName="QASM.g4",r.QASMLexer=x},{"antlr4/index":47}],3:[function(n,a,r){var g=n("antlr4/index");function f(){return g.tree.ParseTreeListener.call(this),this}((f.prototype=Object.create(g.tree.ParseTreeListener.prototype)).constructor=f).prototype.enterMainprog=function(m){},f.prototype.exitMainprog=function(m){},f.prototype.enterStatement=function(m){},f.prototype.exitStatement=function(m){},f.prototype.enterVersion=function(m){},f.prototype.exitVersion=function(m){},f.prototype.enterInclude=function(m){},f.prototype.exitInclude=function(m){},f.prototype.enterFilename=function(m){},f.prototype.exitFilename=function(m){},f.prototype.enterDecl=function(m){},f.prototype.exitDecl=function(m){},f.prototype.enterGatedecl=function(m){},f.prototype.exitGatedecl=function(m){},f.prototype.enterGoplist=function(m){},f.prototype.exitGoplist=function(m){},f.prototype.enterQop=function(m){},f.prototype.exitQop=function(m){},f.prototype.enterUop=function(m){},f.prototype.exitUop=function(m){},f.prototype.enterAnylist=function(m){},f.prototype.exitAnylist=function(m){},f.prototype.enterIdlist=function(m){},f.prototype.exitIdlist=function(m){},f.prototype.enterMixedlist=function(m){},f.prototype.exitMixedlist=function(m){},f.prototype.enterArgument=function(m){},f.prototype.exitArgument=function(m){},f.prototype.enterExplist=function(m){},f.prototype.exitExplist=function(m){},f.prototype.enterExp=function(m){},f.prototype.exitExp=function(m){},f.prototype.enterAtom=function(m){},f.prototype.exitAtom=function(m){},f.prototype.enterUnaryop=function(m){},f.prototype.exitUnaryop=function(m){},r.QASMListener=f},{"antlr4/index":47}],4:[function(n,a,r){var g=n("antlr4/index"),f=n("./QASMListener").QASMListener,m=["悋Ꜫ脳맭䅼㯧瞆奤","-İ			","		\x07	\x07",`\b	\b			
	
\v	\v\f	\f`,"\r	\r			","			",`\x07)
\f,\v`,"","","","","","",`W
`,"","\x07\x07","\x07\x07\x07\x07\x07\x07",`\x07\x07\x07\x07\x07o
\x07`,"\b\b\b\b\b\b\b\b","\b\b\b\b\b\b\b\b\b",`\b\b\b\b
\b				`,`		
	\r		


`,`







`,`


\v\v\v\v\v`,"\v\v\v\v\v\v","\v\v\v\v\v\v","\v\v\v\v\v\v","\v\v\v\v\v\v",`\v\v»
\v\f\f\f¿`,`
\f\r\r\x07\rÃ
\r\f\r\rÆ\v\r`,"\r\r",`\x07Ï
\fÒ\v`,"\x07",`Ú
\fÝ\v`,"\x07",`å
\fè\v`,`\x07ì
\fï\v`,`õ
`,"",`ü
\x07`,`ā
\fĄ\v`,`Ċ
`,`đ
`,"",`ę
Ĝ
`,"",`\x07ħ
\f`,"Ī\v",` \b
\f`,' "$',"\x1B$%()","#ń&V","X\b\\","\n`\fn","","º¾","Äô","ûĂ",' ě"ī',"$ĭ&*","')('),","*(*++",",*-W\f\x07","./\b/0	01\x07","1W23\b34\x07","4W56\x0767\x07)","78\r89\x079W",":;\x07;<\x07)<=","\x07=>\x07\x07>?\r","?@\x07@WAB\x07","BC\x07)CD\x07DE","\rEF\x07\x07FG\rGH\x07",`HWIW
JK\x07`,"\bKL\x07LM\x07)MN\x07","	NO\x07(OP\x07\x07PW",`
QR\x07
RS\fST\x07`,"TWUW\bV-","V.V2","V5V:VA","VIVJVQ","VUW","XY\x07\vYZ\x07%Z[\x07","[\x07\\]\x07\f]^",`
^_\x07_	`,"`a\x07+a\vbc\x07\r","cd\x07)de\x07ef\x07(","fg\x07go\x07hi\x07","ij\x07)jk\x07kl\x07","(lm\x07mo\x07nb","nho\r","pq\x07qr\x07)rs","\rst\x07tuv","\x07vw\x07)wx\x07","xy\x07\x07yz\rz{\x07","{|}\x07}~\x07",")~\x07","\r\x07\x07","\r\x07","pu","|",`\v\x07
`,"\r\x07","","","","\v","\x07","\x07","\x07","\x07","\x07","","","\x07\x07"," \x07\x07"," ¡¡¢\x07","¢»£¤\x07","¤¥¥¦\x07","¦§§¨\x07","¨»©ª\x07)","ª«\f«¬\x07","¬»­®\x07)","®¯\x07¯°\x07\x07","°±\f±²\x07","²»³´\x07)","´µ\x07µ¶","¶·\x07\x07·¸\f","¸¹\x07¹»","ºº£","º©º­","º³»","¼¿\r½¿","¾¼¾½","¿ÀÁ\x07)","ÁÃ\x07ÂÀ","ÃÆÄÂ","ÄÅÅÇ","ÆÄÇÈ\x07)","ÈÉÊ\x07)","ÊË\x07ËÌ\x07(","ÌÍ\x07ÍÏ\x07","ÎÉÏÒ","ÐÎÐÑ","ÑÓÒÐ","Óõ\x07)ÔÕ\x07)","ÕÖ\x07Ö×\x07(","×Ø\x07ØÚ\x07","ÙÔÚÝ","ÛÙÛÜ","ÜÞÝÛ","Þß\x07)ßà\x07","àá\x07(áõ\x07","âã\x07)ãå\x07","äâåè","æäæç","çéèæ","éê\x07)êì\x07","ëæìï","íëíî","îðïí","ðñ\x07)ñò\x07","òó\x07(óõ\x07","ôÐôÛ","ôíõ\x1B","öü\x07)÷ø\x07)ø","ù\x07ùú\x07(ú","ü\x07ûöû","÷üý","þ þÿ\x07ÿ","āĀýā","ĄĂĀĂ","ăăąĄ","ĂąĆ Ć","ćĉ\bĈ","Ċ	ĉĈĉ","ĊĊċċ","Č\x07Čč č","Ď\x07\x07ĎĜď","đ	ĐďĐ","đđĒĒ","ē$ēĔ\x07Ĕ","ĕ ĕĖ\x07\x07Ė","Ĝėę	Ę","ėĘęę",'ĚĚĜ"ě',"ćěĐě","ĘĜĨĝ","Ğ\f\bĞğ\x07ğħ"," 	Ġġ\f\x07ġĢ	","Ģħ \bģĤ\f","Ĥĥ	ĥħ \x07Ħ","ĝĦĠĦ","ģħĪĨ","ĦĨĩĩ","!ĪĨī","Ĭ	Ĭ#ĭĮ","	Į%*Vn","º¾ÄÐÛæíôûĂ","ĉĐĘěĦĨ"].join(""),l=new g.atn.ATNDeserializer().deserialize(m),x=l.decisionToState.map(function(L,H){return new g.dfa.DFA(L,H)}),S=new g.PredictionContextCache,D=[null,"'}'","'opaque'","';'","'('","')'","'if'","'=='","'barrier'","'OPENQASM'","'include'","'qreg'","'['","']'","'creg'","'gate'","'{'","'measure'","'->'","'reset'","'U'","'CX'","','","'^'","'*'","'/'","'+'","'-'","'sin'","'cos'","'tan'","'exp'","'ln'","'sqrt'","'pi'"],h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"PI","REAL","SUBREAL","EXPREAL","INT","ID","WS","FILENAME","COMMENT","LINE_COMMENT"],_=["mainprog","statement","version","include","filename","decl","gatedecl","goplist","qop","uop","anylist","idlist","mixedlist","argument","explist","exp","atom","unaryop"];function o(L){return g.Parser.call(this,L),this._interp=new g.atn.ParserATNSimulator(this,l,x,S),this.ruleNames=_,this.literalNames=D,this.symbolicNames=h,this}function p(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_mainprog,this}function b(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_statement,this}function y(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_version,this}function A(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_include,this}function E(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_filename,this}function N(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_decl,this}function T(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_gatedecl,this}function O(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_goplist,this}function j(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_qop,this}function M(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_uop,this}function F(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_anylist,this}function B(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_idlist,this}function I(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_mixedlist,this}function G(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_argument,this}function k(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_explist,this}function V(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_exp,this}function R(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_atom,this}function U(L,H,X){return H===void 0&&(H=null),X==null&&(X=-1),g.ParserRuleContext.call(this,H,X),this.parser=L,this.ruleIndex=o.RULE_unaryop,this}(o.prototype=Object.create(g.Parser.prototype)).constructor=o,Object.defineProperty(o.prototype,"atn",{get:function(){return l}}),o.EOF=g.Token.EOF,o.T__0=1,o.T__1=2,o.T__2=3,o.T__3=4,o.T__4=5,o.T__5=6,o.T__6=7,o.T__7=8,o.T__8=9,o.T__9=10,o.T__10=11,o.T__11=12,o.T__12=13,o.T__13=14,o.T__14=15,o.T__15=16,o.T__16=17,o.T__17=18,o.T__18=19,o.T__19=20,o.T__20=21,o.T__21=22,o.T__22=23,o.T__23=24,o.T__24=25,o.T__25=26,o.T__26=27,o.T__27=28,o.T__28=29,o.T__29=30,o.T__30=31,o.T__31=32,o.T__32=33,o.PI=34,o.REAL=35,o.SUBREAL=36,o.EXPREAL=37,o.INT=38,o.ID=39,o.WS=40,o.FILENAME=41,o.COMMENT=42,o.LINE_COMMENT=43,o.RULE_mainprog=0,o.RULE_statement=1,o.RULE_version=2,o.RULE_include=3,o.RULE_filename=4,o.RULE_decl=5,o.RULE_gatedecl=6,o.RULE_goplist=7,o.RULE_qop=8,o.RULE_uop=9,o.RULE_anylist=10,o.RULE_idlist=11,o.RULE_mixedlist=12,o.RULE_argument=13,o.RULE_explist=14,o.RULE_exp=15,o.RULE_atom=16,o.RULE_unaryop=17,((p.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=p).prototype.version=function(){return this.getTypedRuleContext(y,0)},p.prototype.statement=function(L){return L===void 0&&(L=null),L===null?this.getTypedRuleContexts(b):this.getTypedRuleContext(b,L)},p.prototype.enterRule=function(L){L instanceof f&&L.enterMainprog(this)},p.prototype.exitRule=function(L){L instanceof f&&L.exitMainprog(this)},o.MainprogContext=p,o.prototype.mainprog=function(){var L=new p(this,this._ctx,this.state);this.enterRule(L,0,o.RULE_mainprog);var H=0;try{for(this.enterOuterAlt(L,1),this.state=36,this.version(),this.state=40,this._errHandler.sync(this),H=this._input.LA(1);!(-32&H)&&1<<H&(1<<o.T__1|1<<o.T__5|1<<o.T__7|1<<o.T__9|1<<o.T__10|1<<o.T__13|1<<o.T__14|1<<o.T__16|1<<o.T__18|1<<o.T__19|1<<o.T__20)||H===o.ID;)this.state=37,this.statement(),this.state=42,this._errHandler.sync(this),H=this._input.LA(1)}catch(X){if(!(X instanceof g.error.RecognitionException))throw X;L.exception=X,this._errHandler.reportError(this,X),this._errHandler.recover(this,X)}finally{this.exitRule()}return L},((b.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=b).prototype.decl=function(){return this.getTypedRuleContext(N,0)},b.prototype.gatedecl=function(){return this.getTypedRuleContext(T,0)},b.prototype.goplist=function(){return this.getTypedRuleContext(O,0)},b.prototype.ID=function(){return this.getToken(o.ID,0)},b.prototype.idlist=function(L){return L===void 0&&(L=null),L===null?this.getTypedRuleContexts(B):this.getTypedRuleContext(B,L)},b.prototype.qop=function(){return this.getTypedRuleContext(j,0)},b.prototype.INT=function(){return this.getToken(o.INT,0)},b.prototype.anylist=function(){return this.getTypedRuleContext(F,0)},b.prototype.include=function(){return this.getTypedRuleContext(A,0)},b.prototype.enterRule=function(L){L instanceof f&&L.enterStatement(this)},b.prototype.exitRule=function(L){L instanceof f&&L.exitStatement(this)},o.StatementContext=b,o.prototype.statement=function(){var L=new b(this,this._ctx,this.state);this.enterRule(L,2,o.RULE_statement);try{switch(this.state=84,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,1,this._ctx)){case 1:this.enterOuterAlt(L,1),this.state=43,this.decl();break;case 2:this.enterOuterAlt(L,2),this.state=44,this.gatedecl(),this.state=45,this.goplist(),this.state=46,this.match(o.T__0);break;case 3:this.enterOuterAlt(L,3),this.state=48,this.gatedecl(),this.state=49,this.match(o.T__0);break;case 4:this.enterOuterAlt(L,4),this.state=51,this.match(o.T__1),this.state=52,this.match(o.ID),this.state=53,this.idlist(),this.state=54,this.match(o.T__2);break;case 5:this.enterOuterAlt(L,5),this.state=56,this.match(o.T__1),this.state=57,this.match(o.ID),this.state=58,this.match(o.T__3),this.state=59,this.match(o.T__4),this.state=60,this.idlist(),this.state=61,this.match(o.T__2);break;case 6:this.enterOuterAlt(L,6),this.state=63,this.match(o.T__1),this.state=64,this.match(o.ID),this.state=65,this.match(o.T__3),this.state=66,this.idlist(),this.state=67,this.match(o.T__4),this.state=68,this.idlist(),this.state=69,this.match(o.T__2);break;case 7:this.enterOuterAlt(L,7),this.state=71,this.qop();break;case 8:this.enterOuterAlt(L,8),this.state=72,this.match(o.T__5),this.state=73,this.match(o.T__3),this.state=74,this.match(o.ID),this.state=75,this.match(o.T__6),this.state=76,this.match(o.INT),this.state=77,this.match(o.T__4),this.state=78,this.qop();break;case 9:this.enterOuterAlt(L,9),this.state=79,this.match(o.T__7),this.state=80,this.anylist(),this.state=81,this.match(o.T__2);break;case 10:this.enterOuterAlt(L,10),this.state=83,this.include()}}catch(H){if(!(H instanceof g.error.RecognitionException))throw H;L.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return L},((y.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=y).prototype.REAL=function(){return this.getToken(o.REAL,0)},y.prototype.enterRule=function(L){L instanceof f&&L.enterVersion(this)},y.prototype.exitRule=function(L){L instanceof f&&L.exitVersion(this)},o.VersionContext=y,o.prototype.version=function(){var L=new y(this,this._ctx,this.state);this.enterRule(L,4,o.RULE_version);try{this.enterOuterAlt(L,1),this.state=86,this.match(o.T__8),this.state=87,this.match(o.REAL),this.state=88,this.match(o.T__2)}catch(H){if(!(H instanceof g.error.RecognitionException))throw H;L.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return L},((A.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=A).prototype.filename=function(){return this.getTypedRuleContext(E,0)},A.prototype.enterRule=function(L){L instanceof f&&L.enterInclude(this)},A.prototype.exitRule=function(L){L instanceof f&&L.exitInclude(this)},o.IncludeContext=A,o.prototype.include=function(){var L=new A(this,this._ctx,this.state);this.enterRule(L,6,o.RULE_include);try{this.enterOuterAlt(L,1),this.state=90,this.match(o.T__9),this.state=91,this.filename(),this.state=92,this.match(o.T__2)}catch(H){if(!(H instanceof g.error.RecognitionException))throw H;L.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return L},((E.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=E).prototype.FILENAME=function(){return this.getToken(o.FILENAME,0)},E.prototype.enterRule=function(L){L instanceof f&&L.enterFilename(this)},E.prototype.exitRule=function(L){L instanceof f&&L.exitFilename(this)},o.FilenameContext=E,o.prototype.filename=function(){var L=new E(this,this._ctx,this.state);this.enterRule(L,8,o.RULE_filename);try{this.enterOuterAlt(L,1),this.state=94,this.match(o.FILENAME)}catch(H){if(!(H instanceof g.error.RecognitionException))throw H;L.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return L},((N.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=N).prototype.ID=function(){return this.getToken(o.ID,0)},N.prototype.INT=function(){return this.getToken(o.INT,0)},N.prototype.enterRule=function(L){L instanceof f&&L.enterDecl(this)},N.prototype.exitRule=function(L){L instanceof f&&L.exitDecl(this)},o.DeclContext=N,o.prototype.decl=function(){var L=new N(this,this._ctx,this.state);this.enterRule(L,10,o.RULE_decl);try{switch(this.state=108,this._errHandler.sync(this),this._input.LA(1)){case o.T__10:this.enterOuterAlt(L,1),this.state=96,this.match(o.T__10),this.state=97,this.match(o.ID),this.state=98,this.match(o.T__11),this.state=99,this.match(o.INT),this.state=100,this.match(o.T__12),this.state=101,this.match(o.T__2);break;case o.T__13:this.enterOuterAlt(L,2),this.state=102,this.match(o.T__13),this.state=103,this.match(o.ID),this.state=104,this.match(o.T__11),this.state=105,this.match(o.INT),this.state=106,this.match(o.T__12),this.state=107,this.match(o.T__2);break;default:throw new g.error.NoViableAltException(this)}}catch(H){if(!(H instanceof g.error.RecognitionException))throw H;L.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return L},((T.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=T).prototype.ID=function(){return this.getToken(o.ID,0)},T.prototype.idlist=function(L){return L===void 0&&(L=null),L===null?this.getTypedRuleContexts(B):this.getTypedRuleContext(B,L)},T.prototype.enterRule=function(L){L instanceof f&&L.enterGatedecl(this)},T.prototype.exitRule=function(L){L instanceof f&&L.exitGatedecl(this)},o.GatedeclContext=T,o.prototype.gatedecl=function(){var L=new T(this,this._ctx,this.state);this.enterRule(L,12,o.RULE_gatedecl);try{switch(this.state=130,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,3,this._ctx)){case 1:this.enterOuterAlt(L,1),this.state=110,this.match(o.T__14),this.state=111,this.match(o.ID),this.state=112,this.idlist(),this.state=113,this.match(o.T__15);break;case 2:this.enterOuterAlt(L,2),this.state=115,this.match(o.T__14),this.state=116,this.match(o.ID),this.state=117,this.match(o.T__3),this.state=118,this.match(o.T__4),this.state=119,this.idlist(),this.state=120,this.match(o.T__15);break;case 3:this.enterOuterAlt(L,3),this.state=122,this.match(o.T__14),this.state=123,this.match(o.ID),this.state=124,this.match(o.T__3),this.state=125,this.idlist(),this.state=126,this.match(o.T__4),this.state=127,this.idlist(),this.state=128,this.match(o.T__15)}}catch(H){if(!(H instanceof g.error.RecognitionException))throw H;L.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return L},((O.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=O).prototype.uop=function(L){return L===void 0&&(L=null),L===null?this.getTypedRuleContexts(M):this.getTypedRuleContext(M,L)},O.prototype.idlist=function(L){return L===void 0&&(L=null),L===null?this.getTypedRuleContexts(B):this.getTypedRuleContext(B,L)},O.prototype.enterRule=function(L){L instanceof f&&L.enterGoplist(this)},O.prototype.exitRule=function(L){L instanceof f&&L.exitGoplist(this)},o.GoplistContext=O,o.prototype.goplist=function(){var L=new O(this,this._ctx,this.state);this.enterRule(L,14,o.RULE_goplist);var H;try{this.enterOuterAlt(L,1),this.state=137,this._errHandler.sync(this),this._input.LA(1);do{switch(this.state=137,this._errHandler.sync(this),this._input.LA(1)){case o.T__19:case o.T__20:case o.ID:this.state=132,this.uop();break;case o.T__7:this.state=133,this.match(o.T__7),this.state=134,this.idlist(),this.state=135,this.match(o.T__2);break;default:throw new g.error.NoViableAltException(this)}this.state=139,this._errHandler.sync(this),H=this._input.LA(1)}while(!(H-8&-32)&&1<<H-8&(1<<o.T__7-8|1<<o.T__19-8|1<<o.T__20-8|1<<o.ID-8))}catch(X){if(!(X instanceof g.error.RecognitionException))throw X;L.exception=X,this._errHandler.reportError(this,X),this._errHandler.recover(this,X)}finally{this.exitRule()}return L},((j.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=j).prototype.uop=function(){return this.getTypedRuleContext(M,0)},j.prototype.argument=function(L){return L===void 0&&(L=null),L===null?this.getTypedRuleContexts(G):this.getTypedRuleContext(G,L)},j.prototype.enterRule=function(L){L instanceof f&&L.enterQop(this)},j.prototype.exitRule=function(L){L instanceof f&&L.exitQop(this)},o.QopContext=j,o.prototype.qop=function(){var L=new j(this,this._ctx,this.state);this.enterRule(L,16,o.RULE_qop);try{switch(this.state=152,this._errHandler.sync(this),this._input.LA(1)){case o.T__19:case o.T__20:case o.ID:this.enterOuterAlt(L,1),this.state=141,this.uop();break;case o.T__16:this.enterOuterAlt(L,2),this.state=142,this.match(o.T__16),this.state=143,this.argument(),this.state=144,this.match(o.T__17),this.state=145,this.argument(),this.state=146,this.match(o.T__2);break;case o.T__18:this.enterOuterAlt(L,3),this.state=148,this.match(o.T__18),this.state=149,this.argument(),this.state=150,this.match(o.T__2);break;default:throw new g.error.NoViableAltException(this)}}catch(H){if(!(H instanceof g.error.RecognitionException))throw H;L.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return L},((M.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=M).prototype.explist=function(){return this.getTypedRuleContext(k,0)},M.prototype.argument=function(L){return L===void 0&&(L=null),L===null?this.getTypedRuleContexts(G):this.getTypedRuleContext(G,L)},M.prototype.ID=function(){return this.getToken(o.ID,0)},M.prototype.anylist=function(){return this.getTypedRuleContext(F,0)},M.prototype.enterRule=function(L){L instanceof f&&L.enterUop(this)},M.prototype.exitRule=function(L){L instanceof f&&L.exitUop(this)},o.UopContext=M,o.prototype.uop=function(){var L=new M(this,this._ctx,this.state);this.enterRule(L,18,o.RULE_uop);try{switch(this.state=184,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,7,this._ctx)){case 1:this.enterOuterAlt(L,1),this.state=154,this.match(o.T__19),this.state=155,this.match(o.T__3),this.state=156,this.explist(),this.state=157,this.match(o.T__4),this.state=158,this.argument(),this.state=159,this.match(o.T__2);break;case 2:this.enterOuterAlt(L,2),this.state=161,this.match(o.T__20),this.state=162,this.argument(),this.state=163,this.match(o.T__21),this.state=164,this.argument(),this.state=165,this.match(o.T__2);break;case 3:this.enterOuterAlt(L,3),this.state=167,this.match(o.ID),this.state=168,this.anylist(),this.state=169,this.match(o.T__2);break;case 4:this.enterOuterAlt(L,4),this.state=171,this.match(o.ID),this.state=172,this.match(o.T__3),this.state=173,this.match(o.T__4),this.state=174,this.anylist(),this.state=175,this.match(o.T__2);break;case 5:this.enterOuterAlt(L,5),this.state=177,this.match(o.ID),this.state=178,this.match(o.T__3),this.state=179,this.explist(),this.state=180,this.match(o.T__4),this.state=181,this.anylist(),this.state=182,this.match(o.T__2)}}catch(H){if(!(H instanceof g.error.RecognitionException))throw H;L.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return L},((F.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=F).prototype.idlist=function(){return this.getTypedRuleContext(B,0)},F.prototype.mixedlist=function(){return this.getTypedRuleContext(I,0)},F.prototype.enterRule=function(L){L instanceof f&&L.enterAnylist(this)},F.prototype.exitRule=function(L){L instanceof f&&L.exitAnylist(this)},o.AnylistContext=F,o.prototype.anylist=function(){var L=new F(this,this._ctx,this.state);this.enterRule(L,20,o.RULE_anylist);try{switch(this.state=188,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,8,this._ctx)){case 1:this.enterOuterAlt(L,1),this.state=186,this.idlist();break;case 2:this.enterOuterAlt(L,2),this.state=187,this.mixedlist()}}catch(H){if(!(H instanceof g.error.RecognitionException))throw H;L.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return L},((B.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=B).prototype.ID=function(L){return L===void 0&&(L=null),L===null?this.getTokens(o.ID):this.getToken(o.ID,L)},B.prototype.enterRule=function(L){L instanceof f&&L.enterIdlist(this)},B.prototype.exitRule=function(L){L instanceof f&&L.exitIdlist(this)},o.IdlistContext=B,o.prototype.idlist=function(){var L=new B(this,this._ctx,this.state);this.enterRule(L,22,o.RULE_idlist);try{this.enterOuterAlt(L,1),this.state=194,this._errHandler.sync(this);for(var H=this._interp.adaptivePredict(this._input,9,this._ctx);H!=2&&H!=g.atn.ATN.INVALID_ALT_NUMBER;)H===1&&(this.state=190,this.match(o.ID),this.state=191,this.match(o.T__21)),this.state=196,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,9,this._ctx);this.state=197,this.match(o.ID)}catch(X){if(!(X instanceof g.error.RecognitionException))throw X;L.exception=X,this._errHandler.reportError(this,X),this._errHandler.recover(this,X)}finally{this.exitRule()}return L},((I.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=I).prototype.ID=function(L){return L===void 0&&(L=null),L===null?this.getTokens(o.ID):this.getToken(o.ID,L)},I.prototype.INT=function(L){return L===void 0&&(L=null),L===null?this.getTokens(o.INT):this.getToken(o.INT,L)},I.prototype.enterRule=function(L){L instanceof f&&L.enterMixedlist(this)},I.prototype.exitRule=function(L){L instanceof f&&L.exitMixedlist(this)},o.MixedlistContext=I,o.prototype.mixedlist=function(){var L=new I(this,this._ctx,this.state);this.enterRule(L,24,o.RULE_mixedlist);try{switch(this.state=242,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,14,this._ctx)){case 1:this.enterOuterAlt(L,1),this.state=206,this._errHandler.sync(this);for(var H=this._interp.adaptivePredict(this._input,10,this._ctx);H!=2&&H!=g.atn.ATN.INVALID_ALT_NUMBER;)H===1&&(this.state=199,this.match(o.ID),this.state=200,this.match(o.T__11),this.state=201,this.match(o.INT),this.state=202,this.match(o.T__12),this.state=203,this.match(o.T__21)),this.state=208,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,10,this._ctx);this.state=209,this.match(o.ID);break;case 2:for(this.enterOuterAlt(L,2),this.state=217,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,11,this._ctx);H!=2&&H!=g.atn.ATN.INVALID_ALT_NUMBER;)H===1&&(this.state=210,this.match(o.ID),this.state=211,this.match(o.T__11),this.state=212,this.match(o.INT),this.state=213,this.match(o.T__12),this.state=214,this.match(o.T__21)),this.state=219,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,11,this._ctx);this.state=220,this.match(o.ID),this.state=221,this.match(o.T__11),this.state=222,this.match(o.INT),this.state=223,this.match(o.T__12);break;case 3:for(this.enterOuterAlt(L,3),this.state=235,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,13,this._ctx);H!=2&&H!=g.atn.ATN.INVALID_ALT_NUMBER;){if(H===1){for(this.state=228,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,12,this._ctx);H!=2&&H!=g.atn.ATN.INVALID_ALT_NUMBER;)H===1&&(this.state=224,this.match(o.ID),this.state=225,this.match(o.T__21)),this.state=230,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,12,this._ctx);this.state=231,this.match(o.ID),this.state=232,this.match(o.T__21)}this.state=237,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,13,this._ctx)}this.state=238,this.match(o.ID),this.state=239,this.match(o.T__11),this.state=240,this.match(o.INT),this.state=241,this.match(o.T__12)}}catch(X){if(!(X instanceof g.error.RecognitionException))throw X;L.exception=X,this._errHandler.reportError(this,X),this._errHandler.recover(this,X)}finally{this.exitRule()}return L},((G.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=G).prototype.ID=function(){return this.getToken(o.ID,0)},G.prototype.INT=function(){return this.getToken(o.INT,0)},G.prototype.enterRule=function(L){L instanceof f&&L.enterArgument(this)},G.prototype.exitRule=function(L){L instanceof f&&L.exitArgument(this)},o.ArgumentContext=G,o.prototype.argument=function(){var L=new G(this,this._ctx,this.state);this.enterRule(L,26,o.RULE_argument);try{switch(this.state=249,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,15,this._ctx)){case 1:this.enterOuterAlt(L,1),this.state=244,this.match(o.ID);break;case 2:this.enterOuterAlt(L,2),this.state=245,this.match(o.ID),this.state=246,this.match(o.T__11),this.state=247,this.match(o.INT),this.state=248,this.match(o.T__12)}}catch(H){if(!(H instanceof g.error.RecognitionException))throw H;L.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return L},((k.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=k).prototype.exp=function(L){return L===void 0&&(L=null),L===null?this.getTypedRuleContexts(V):this.getTypedRuleContext(V,L)},k.prototype.enterRule=function(L){L instanceof f&&L.enterExplist(this)},k.prototype.exitRule=function(L){L instanceof f&&L.exitExplist(this)},o.ExplistContext=k,o.prototype.explist=function(){var L=new k(this,this._ctx,this.state);this.enterRule(L,28,o.RULE_explist);try{this.enterOuterAlt(L,1),this.state=256,this._errHandler.sync(this);for(var H=this._interp.adaptivePredict(this._input,16,this._ctx);H!=2&&H!=g.atn.ATN.INVALID_ALT_NUMBER;)H===1&&(this.state=251,this.exp(0),this.state=252,this.match(o.T__21)),this.state=258,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,16,this._ctx);this.state=259,this.exp(0)}catch(X){if(!(X instanceof g.error.RecognitionException))throw X;L.exception=X,this._errHandler.reportError(this,X),this._errHandler.recover(this,X)}finally{this.exitRule()}return L},((V.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=V).prototype.exp=function(L){return L===void 0&&(L=null),L===null?this.getTypedRuleContexts(V):this.getTypedRuleContext(V,L)},V.prototype.unaryop=function(){return this.getTypedRuleContext(U,0)},V.prototype.atom=function(){return this.getTypedRuleContext(R,0)},V.prototype.enterRule=function(L){L instanceof f&&L.enterExp(this)},V.prototype.exitRule=function(L){L instanceof f&&L.exitExp(this)},o.prototype.exp=function(L){L===void 0&&(L=0);var H=this._ctx,X=this.state,Z=new V(this,this._ctx,X);this.enterRecursionRule(Z,30,o.RULE_exp,L);var J=0;try{this.enterOuterAlt(Z,1),this.state=281,this._errHandler.sync(this);var K=this._interp.adaptivePredict(this._input,20,this._ctx);switch(K){case 1:this.state=263,this._errHandler.sync(this),(J=this._input.LA(1))!==o.T__25&&J!==o.T__26||(this.state=262,(J=this._input.LA(1))!==o.T__25&&J!==o.T__26?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())),this.state=265,this.match(o.T__3),this.state=266,this.exp(0),this.state=267,this.match(o.T__4);break;case 2:this.state=270,this._errHandler.sync(this),(J=this._input.LA(1))!==o.T__25&&J!==o.T__26||(this.state=269,(J=this._input.LA(1))!==o.T__25&&J!==o.T__26?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())),this.state=272,this.unaryop(),this.state=273,this.match(o.T__3),this.state=274,this.exp(0),this.state=275,this.match(o.T__4);break;case 3:this.state=278,this._errHandler.sync(this),(J=this._input.LA(1))!==o.T__25&&J!==o.T__26||(this.state=277,(J=this._input.LA(1))!==o.T__25&&J!==o.T__26?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())),this.state=280,this.atom()}this._ctx.stop=this._input.LT(-1),this.state=294,this._errHandler.sync(this);for(var $=this._interp.adaptivePredict(this._input,22,this._ctx);$!=2&&$!=g.atn.ATN.INVALID_ALT_NUMBER;){if($===1)switch(this._parseListeners!==null&&this.triggerExitRuleEvent(),this.state=292,this._errHandler.sync(this),K=this._interp.adaptivePredict(this._input,21,this._ctx)){case 1:if(Z=new V(this,H,X),this.pushNewRecursionContext(Z,30,o.RULE_exp),this.state=283,!this.precpred(this._ctx,6))throw new g.error.FailedPredicateException(this,"this.precpred(this._ctx, 6)");this.state=284,this.match(o.T__22),this.state=285,this.exp(7);break;case 2:if(Z=new V(this,H,X),this.pushNewRecursionContext(Z,30,o.RULE_exp),this.state=286,!this.precpred(this._ctx,5))throw new g.error.FailedPredicateException(this,"this.precpred(this._ctx, 5)");this.state=287,(J=this._input.LA(1))!==o.T__23&&J!==o.T__24?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=288,this.exp(6);break;case 3:if(Z=new V(this,H,X),this.pushNewRecursionContext(Z,30,o.RULE_exp),this.state=289,!this.precpred(this._ctx,4))throw new g.error.FailedPredicateException(this,"this.precpred(this._ctx, 4)");this.state=290,(J=this._input.LA(1))!==o.T__25&&J!==o.T__26?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=291,this.exp(5)}this.state=296,this._errHandler.sync(this),$=this._interp.adaptivePredict(this._input,22,this._ctx)}}catch(W){if(!(W instanceof g.error.RecognitionException))throw W;Z.exception=W,this._errHandler.reportError(this,W),this._errHandler.recover(this,W)}finally{this.unrollRecursionContexts(H)}return Z},((R.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=R).prototype.INT=function(){return this.getToken(o.INT,0)},R.prototype.REAL=function(){return this.getToken(o.REAL,0)},R.prototype.PI=function(){return this.getToken(o.PI,0)},R.prototype.ID=function(){return this.getToken(o.ID,0)},R.prototype.enterRule=function(L){L instanceof f&&L.enterAtom(this)},R.prototype.exitRule=function(L){L instanceof f&&L.exitAtom(this)},o.AtomContext=R,o.prototype.atom=function(){var L=new R(this,this._ctx,this.state);this.enterRule(L,32,o.RULE_atom);var H;try{this.enterOuterAlt(L,1),this.state=297,(H=this._input.LA(1))-34&-32||!(1<<H-34&(1<<o.PI-34|1<<o.REAL-34|1<<o.INT-34|1<<o.ID-34))?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(X){if(!(X instanceof g.error.RecognitionException))throw X;L.exception=X,this._errHandler.reportError(this,X),this._errHandler.recover(this,X)}finally{this.exitRule()}return L},((U.prototype=Object.create(g.ParserRuleContext.prototype)).constructor=U).prototype.enterRule=function(L){L instanceof f&&L.enterUnaryop(this)},U.prototype.exitRule=function(L){L instanceof f&&L.exitUnaryop(this)},o.UnaryopContext=U,o.prototype.unaryop=function(){var L=new U(this,this._ctx,this.state);this.enterRule(L,34,o.RULE_unaryop);var H;try{this.enterOuterAlt(L,1),this.state=299,(H=this._input.LA(1))-28&-32||!(1<<H-28&(1<<o.T__27-28|1<<o.T__28-28|1<<o.T__29-28|1<<o.T__30-28|1<<o.T__31-28|1<<o.T__32-28))?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(X){if(!(X instanceof g.error.RecognitionException))throw X;L.exception=X,this._errHandler.reportError(this,X),this._errHandler.recover(this,X)}finally{this.exitRule()}return L},o.prototype.sempred=function(L,H,X){switch(H){case 15:return this.exp_sempred(L,X);default:throw"No predicate with index:"+H}},o.prototype.exp_sempred=function(L,H){switch(H){case 0:return this.precpred(this._ctx,6);case 1:return this.precpred(this._ctx,5);case 2:return this.precpred(this._ctx,4);default:throw"No predicate with index:"+H}},r.QASMParser=o},{"./QASMListener":3,"antlr4/index":47}],5:[function(n,a,r){function g(o,p,b){var y=S(o,b=b||{}),A=JSON.parse(JSON.stringify(b));return A.plusChar="+",y+S(p,A)+(b.iotaChar?b.iotaChar:"i")}function f(o,p){maxN=p||o+1,0<maxN&&--maxN,maxLen=maxN.toString(26).length;for(var b=o.toString(26);b.length<maxLen;)b="0"+b;for(var y="",A=0;A<b.length;A++){var E=b.charCodeAt(A);y+=String.fromCharCode(E<97?E+49:E+10)}return y}function m(o){this.basicGates={id:{description:"Single qubit identity gate",matrix:[[1,0],[0,1]],params:[],drawingInfo:{connectors:["box"],label:"ID"},exportInfo:{quil:{name:"I"},cirq:{name:"I",notTfqSupported:!0},quest:{name:"compactUnitary",params:{alpha:"(Complex) { .real = 1, .imag = 0 }",beta:"(Complex) {.real = 0, .imag = 0}"}},qsharp:{name:"I"},qiskit:{name:"id"},braket:{name:"i"},aqasm:{name:"I"},cudaq:{name:"i",matrix:"[[1, 0], [0, 1]]"}}},x:{description:'Pauli X (PI rotation over X-axis) aka "NOT" gate',matrix:[[0,1],[1,0]],params:[],drawingInfo:{connectors:["box"],label:"X"},exportInfo:{quil:{name:"X"},cirq:{name:"X"},quest:{name:"pauliX"},qsharp:{name:"X"},quirk:{name:"X"},braket:{name:"x"},aqasm:{name:"X"},ionq:{names:["x","not"]},cudaq:{name:"x"}}},y:{description:"Pauli Y (PI rotation over Y-axis)",matrix:[[0,"-i"],["i",0]],params:[],drawingInfo:{connectors:["box"],label:"Y"},exportInfo:{quil:{name:"Y"},cirq:{name:"Y"},quest:{name:"pauliY"},qsharp:{name:"Y"},quirk:{name:"Y"},braket:{name:"y"},aqasm:{name:"Y"},ionq:{name:"y"},cudaq:{name:"y"}}},z:{description:"Pauli Z (PI rotation over Z-axis)",matrix:[[1,0],[0,-1]],params:[],drawingInfo:{connectors:["box"],label:"Z"},exportInfo:{quil:{name:"Z"},cirq:{name:"Z"},quest:{name:"pauliZ"},qsharp:{name:"Z"},quirk:{name:"Z"},braket:{name:"z"},aqasm:{name:"Z"},ionq:{name:"z"},cudaq:{name:"z"}}},h:{description:"Hadamard gate",matrix:[["1 / sqrt(2)","1 / sqrt(2)"],["1 / sqrt(2)","-1 / sqrt(2)"]],params:[],drawingInfo:{connectors:["box"],label:"H"},exportInfo:{quil:{name:"H"},cirq:{name:"H"},quest:{name:"hadamard"},qsharp:{name:"H"},quirk:{name:"H"},braket:{name:"h"},aqasm:{name:"H"},ionq:{name:"h"},cudaq:{name:"h"}}},srn:{description:"Square root of NOT",matrix:[["0.5+0.5i","0.5-0.5i"],["0.5-0.5i","0.5+0.5i"]],params:[],drawingInfo:{connectors:["box"],label:"&#x221A;X"},exportInfo:{quil:{name:"srn",defgate:`DEFGATE srn:
    0.5+0.5i, 0.5-0.5i
    0.5-0.5i, 0.5+0.5i`},pyquil:{name:"srn",array:"[[0.5+0.5j, 0.5-0.5j], [0.5-0.5j, 0.5+0.5j]]"},cirq:{name:"X**(1/2)"},quest:{name:"unitary",matrix:[[["0.5","0.5"],["0.5","-0.5"]],[["0.5","-0.5"],["0.5","0.5"]]]},qasm:{equivalent:[{name:"h",wires:[0]},{name:"u3",params:{theta:0,phi:0,lambda:"pi/2"},wires:[0]},{name:"h",wires:[0]}]},qiskit:{name:"sx"},braket:{name:"v"},aqasm:{matrix:[["0.5+0.5i","0.5-0.5i"],["0.5-0.5i","0.5+0.5i"]],array:"[[0.5+0.5j, 0.5-0.5j], [0.5-0.5j, 0.5+0.5j]]"},ionq:{name:"v"},cudaq:{equivalent:[{name:"h",wires:[0]},{name:"u3",params:{theta:0,phi:0,lambda:"pi/2"},wires:[0]},{name:"h",wires:[0]}]}}},srndg:{description:"Inverse square root of NOT",matrix:[["0.5-0.5i","0.5+0.5i"],["0.5+0.5i","0.5-0.5i"]],params:[],drawingInfo:{connectors:["box"],label:"&#x221A;X&#8224;"},exportInfo:{quil:{name:"srndg",defgate:`DEFGATE srndg:
    0.5-0.5i, 0.5+0.5i
    0.5+0.5i, 0.5-0.5i`},pyquil:{name:"srndg",array:"[[0.5-0.5j, 0.5+0.5j], [0.5+0.5j, 0.5-0.5j]]"},cirq:{name:"X**(-1/2)"},quest:{name:"unitary",matrix:[[["0.5","-0.5"],["0.5","0.5"]],[["0.5","0.5"],["0.5","-0.5"]]]},qasm:{equivalent:[{name:"h",wires:[0]},{name:"u3",params:{theta:0,phi:0,lambda:"-pi/2"},wires:[0]},{name:"h",wires:[0]}]},qiskit:{name:"sxdg"},braket:{name:"vi"},aqasm:{matrix:[["0.5-0.5i","0.5+0.5i"],["0.5+0.5i","0.5-0.5i"]],array:"[[0.5-0.5j, 0.5+0.5j], [0.5+0.5j, 0.5-0.5j]]"},ionq:{name:"vi"},cudaq:{equivalent:[{name:"h",wires:[0]},{name:"u3",params:{theta:0,phi:0,lambda:"-pi/2"},wires:[0]},{name:"h",wires:[0]}]}}},r2:{description:'PI/2 rotation over Z-axis aka "Phase PI/2"',matrix:[[1,0],[0,"exp(i * pi / 2)"]],params:[],drawingInfo:{connectors:["box"],label:"Z&#x1D6D1;/2"},exportInfo:{quil:{replacement:{name:"s"}},cirq:{replacement:{name:"s"}},quest:{name:"sGate"},qsharp:{replacement:{name:"s"}},qasm:{replacement:[{name:"s",params:{}}]},qiskit:{replacement:[{name:"s",params:{}}]},quirk:{name:"Z^½"},braket:{name:"s"},aqasm:{name:"S"},cudaq:{name:"s"}}},r4:{description:'PI/4 rotation over Z-axis aka "Phase PI/4"',matrix:[[1,0],[0,"exp(i * pi / 4)"]],params:[],drawingInfo:{connectors:["box"],label:"Z&#x1D6D1;/4"},exportInfo:{quil:{replacement:{name:"t"}},cirq:{replacement:{name:"t"}},quest:{name:"tGate"},qsharp:{replacement:{name:"t"}},qasm:{replacement:[{name:"t",params:{}}]},qiskit:{replacement:[{name:"t",params:{}}]},quirk:{name:"Z^¼"},braket:{name:"t"},aqasm:{name:"T"},cudaq:{name:"t"}}},r8:{description:'PI/8 rotation over Z-axis aka "Phase PI/8"',matrix:[[1,0],[0,"exp(i * pi / 8)"]],params:[],drawingInfo:{connectors:["box"],label:"Z&#x1D6D1;/8"},exportInfo:{quil:{replacement:{name:"u1",params:{lambda:"pi/8"}}},cirq:{replacement:{name:"u1",params:{lambda:"pi/8"}}},quest:{name:"phaseShift",params:{theta:"M_PI/8"}},qsharp:{replacement:{name:"u1",params:{lambda:"pi/8"}}},qasm:{replacement:[{name:"u1",params:{lambda:"pi/8"}}]},qiskit:{replacement:[{name:"u1",params:{lambda:"pi/8"}}]},quirk:{name:"Z^⅛"},braket:{name:"phaseshift",params:{theta:"pi/8"}},aqasm:{matrix:[[1,0],[0,"exp(i * pi / 8)"]],array:"[[1,0],[0,np.exp(1j * np.pi / 8)]]"},cudaq:{replacement:[{name:"u3",params:{theta:0,phi:0,lambda:"pi/8"}}]}}},rx:{description:"Rotation around the X-axis by given angle",matrix:[["cos(theta / 2)","-i * sin(theta / 2)"],["-i * sin(theta / 2)","cos(theta / 2)"]],params:["theta"],drawingInfo:{connectors:["box"],label:"RX"},exportInfo:{quil:{name:"RX",params:["theta"]},cirq:{name:"rx",params:["theta"]},quest:{name:"rotateX",params:["theta"]},qsharp:{name:"Rx",params:["theta"]},braket:{name:"rx",params:["theta"]},aqasm:{name:"RX"},ionq:{name:"rx",paramsKey:"rotation"},cudaq:{name:"rx"}}},ry:{description:"Rotation around the Y-axis by given angle",matrix:[["cos(theta / 2)","-1 * sin(theta / 2)"],["sin(theta / 2)","cos(theta / 2)"]],params:["theta"],drawingInfo:{connectors:["box"],label:"RY"},exportInfo:{quil:{name:"RY",params:["theta"]},cirq:{name:"ry",params:["theta"]},quest:{name:"rotateY",params:["theta"]},qsharp:{name:"Ry",params:["theta"]},braket:{name:"ry",params:["theta"]},aqasm:{name:"RY"},ionq:{name:"ry",paramsKey:"rotation"},cudaq:{name:"ry"}}},rz:{description:"Rotation around the Z-axis by given angle",matrix:[["cos(phi / 2) - i * sin(phi / 2)",0],[0,"cos(phi / 2) + i * sin(phi / 2)"]],params:["phi"],drawingInfo:{connectors:["box"],label:"RZ"},exportInfo:{quil:{name:"RZ",params:["phi"]},cirq:{name:"rz",params:["theta"]},quest:{name:"rZ",func:"TODO"},qsharp:{name:"Rz",params:["theta"]},braket:{name:"rz",params:["phi"]},aqasm:{name:"RZ"},ionq:{name:"rz",paramsKey:"rotation"},cudaq:{name:"rz"}}},u1:{description:"Single-qubit rotation about the Z axis",matrix:[[1,0],[0,"exp(i * lambda)"]],params:["lambda"],drawingInfo:{connectors:["box"],label:"U1"},exportInfo:{quil:{name:"PHASE",params:["lambda"]},cirq:{name:"u1",params:["lambda"],array:"[[1, 0], [0, np.exp(1j*p_lambda)]]",notTfqSupported:!0},quest:{name:"phaseShift",params:["lambda"]},braket:{name:"phaseshift",params:["lambda"]},qiskit:{name:"p"},aqasm:{name:"PH"},cudaq:{replacement:[{name:"u3",params:{theta:0,phi:0,lambda:"lambda"}}]}}},u2:{description:"Single-qubit rotation about the X+Z axis",matrix:[["1 / sqrt(2)","-exp(i * lambda) * 1 / sqrt(2)"],["exp(i * phi) * 1 / sqrt(2)","exp(i * lambda + i * phi) * 1 / sqrt(2)"]],params:["phi","lambda"],drawingInfo:{connectors:["box"],label:"U2"},exportInfo:{quil:{name:"u2",params:["phi","lambda"],defgate:`DEFGATE u2(%phi, %lambda):
    1/SQRT(2), -1*EXP(i*%lambda)*1/SQRT(2)
    EXP(i*%phi)*1/SQRT(2), EXP(i*%lambda + i*%phi)*1/SQRT(2)`},pyquil:{name:"u2",params:["phi","lambda"],array:"[[1/quil_sqrt(2),-quil_exp(1j*p_lambda)*1/quil_sqrt(2)],[quil_exp(1j*p_phi)*1/quil_sqrt(2),quil_exp(1j*p_lambda+1j*p_phi)*1/quil_sqrt(2)]]"},cirq:{name:"u2",params:["phi","lambda"],array:"[[1/np.sqrt(2), -np.exp(1j*p_lambda)*1/np.sqrt(2)], [np.exp(1j*p_phi)*1/np.sqrt(2), np.exp(1j*p_lambda+1j*p_phi)*1/np.sqrt(2)]]",notTfqSupported:!0},quest:{name:"unitary",params:["phi","lambda"],matrix:[[["1/sqrt(2)","0"],["-cos(lambda)/sqrt(2)","-sin(lambda)/sqrt(2)"]],[["cos(phi)/sqrt(2)","sin(phi)/sqrt(2)"],["cos(lambda+phi)/sqrt(2)","sin(lambda+phi)/sqrt(2)"]]]},braket:{name:"unitary",params:["phi","lambda"],array:"[[1/np.sqrt(2), -np.exp(1j*p_lambda)*1/np.sqrt(2)], [np.exp(1j*p_phi)*1/np.sqrt(2), np.exp(1j*p_lambda+1j*p_phi)*1/np.sqrt(2)]]"},aqasm:{matrix:[["1 / sqrt(2)","-exp(i * lambda) * 1 / sqrt(2)"],["exp(i * phi) * 1 / sqrt(2)","exp(i * lambda + i * phi) * 1 / sqrt(2)"]],array:"[[1/np.sqrt(2), -np.exp(1j*p_lambda)*1/np.sqrt(2)], [np.exp(1j*p_phi)*1/np.sqrt(2), np.exp(1j*p_lambda+1j*p_phi)*1/np.sqrt(2)]]",params:["phi","lambda"]},qiskit:{replacement:[{name:"u3",params:{theta:"pi/2",phi:"phi",lambda:"lambda"}}]},cudaq:{replacement:[{name:"u3",params:{theta:"pi/2",phi:"phi",lambda:"lambda"}}]}}},u3:{description:"Generic single-qubit rotation gate with 3 Euler angles",matrix:[["cos(theta/2)","-exp(i * lambda) * sin(theta / 2)"],["exp(i * phi) * sin(theta / 2)","exp(i * lambda + i * phi) * cos(theta / 2)"]],params:["theta","phi","lambda"],drawingInfo:{connectors:["box"],label:"U3"},exportInfo:{quil:{name:"u3",params:["theta","phi","lambda"],defgate:`DEFGATE u3(%theta, %phi, %lambda):
    COS(%theta/2), -1*EXP(i*%lambda)*SIN(%theta/2)
    EXP(i*%phi)*SIN(%theta/2), EXP(i*%lambda + i*%phi)*COS(%theta/2)`},pyquil:{name:"u3",params:["theta","phi","lambda"],array:"[[quil_cos(p_theta/2),-quil_exp(1j*p_lambda)*quil_sin(p_theta/2)],[quil_exp(1j*p_phi)*quil_sin(p_theta/2),quil_exp(1j*p_lambda+1j*p_phi)*quil_cos(p_theta/2)]]"},cirq:{name:"u3",params:["theta","phi","lambda"],array:"[[np.cos(p_theta/2), -np.exp(1j*p_lambda)*np.sin(p_theta/2)], [np.exp(1j*p_phi)*np.sin(p_theta/2), np.exp(1j*p_lambda+1j*p_phi)*np.cos(p_theta/2)]]",notTfqSupported:!0},quest:{name:"unitary",params:["theta","phi","lambda"],matrix:[[["cos(theta/2)","0"],["-cos(lambda)*sin(theta/2)","-sin(lambda)*sin(theta/2)"]],[["cos(phi)*sin(theta/2)","sin(phi)*sin(theta/2)"],["cos(lambda+phi)*cos(theta/2)","sin(lambda+phi)*cos(theta/2)"]]]},braket:{name:"unitary",params:["theta","phi","lambda"],array:"[[np.cos(p_theta/2), -np.exp(1j*p_lambda)*np.sin(p_theta/2)], [np.exp(1j*p_phi)*np.sin(p_theta/2), np.exp(1j*p_lambda+1j*p_phi)*np.cos(p_theta/2)]]"},qiskit:{name:"u"},aqasm:{matrix:[["cos(theta/2)","-exp(i * lambda) * sin(theta / 2)"],["exp(i * phi) * sin(theta / 2)","exp(i * lambda + i * phi) * cos(theta / 2)"]],array:"[[np.cos(p_theta/2), -np.exp(1j*p_lambda)*np.sin(p_theta/2)], [np.exp(1j*p_phi)*np.sin(p_theta/2), np.exp(1j*p_lambda+1j*p_phi)*np.cos(p_theta/2)]]",params:["theta","phi","lambda"]},cudaq:{name:"u3"}}},s:{description:"PI/2 rotation over Z-axis (synonym for `r2`)",matrix:[[1,0],[0,"i"]],params:[],drawingInfo:{connectors:["box"],label:"S"},exportInfo:{quil:{name:"S"},cirq:{name:"S"},quest:{name:"sGate"},qsharp:{name:"S"},quirk:{name:"Z^½"},braket:{name:"s"},aqasm:{name:"S"},ionq:{name:"s"},cudaq:{name:"s"}}},t:{description:"PI/4 rotation over Z-axis (synonym for `r4`)",matrix:[[1,0],[0,"exp(i * pi / 4)"]],params:[],drawingInfo:{connectors:["box"],label:"T"},exportInfo:{quil:{name:"T"},cirq:{name:"T"},quest:{name:"tGate"},qsharp:{name:"T"},quirk:{name:"Z^¼"},braket:{name:"t"},aqasm:{name:"T"},ionq:{name:"t"},cudaq:{name:"t"}}},sdg:{description:"(-PI/2) rotation over Z-axis",matrix:[[1,0],[0,"-i"]],params:[],drawingInfo:{connectors:["box"],label:"S&#8224;"},exportInfo:{quil:{replacement:{name:"u1",params:{lambda:"-pi/2"}}},cirq:{replacement:{name:"u1",params:{lambda:"-pi/2"}}},quest:{name:"phaseShift",params:{theta:"-M_PI/2"}},qsharp:{replacement:{name:"u1",params:{lambda:"-pi/2"}}},quirk:{name:"Z^-½"},braket:{name:"si"},aqasm:{name:"S",dagger:!0},ionq:{name:"si"},cudaq:{name:"sdg"}}},tdg:{description:"(-PI/4) rotation over Z-axis",matrix:[[1,0],[0,"exp(-i * pi / 4)"]],params:[],drawingInfo:{connectors:["box"],label:"T&#8224;"},exportInfo:{quil:{replacement:{name:"u1",params:{lambda:"-pi/4"}}},cirq:{replacement:{name:"u1",params:{lambda:"-pi/4"}}},quest:{name:"phaseShift",params:{theta:"-M_PI/4"}},qsharp:{replacement:{name:"u1",params:{lambda:"-pi/4"}}},quirk:{name:"Z^-¼"},braket:{name:"ti"},aqasm:{name:"T",dagger:!0},ionq:{name:"ti"},cudaq:{name:"tdg"}}},gpi:{description:"GPi gate",matrix:[[0,"exp(-i*phi)"],["exp(i*phi)",0]],params:["phi"],drawingInfo:{connectors:["box"],label:"GPi"},exportInfo:{quil:{name:"gpi",params:["phi"],defgate:`DEFGATE gpi(%phi):
    0, EXP(-i * %phi)
    EXP(i * %phi), 0`},pyquil:{name:"gpi",params:["phi"],array:"[ [ 0, quil_exp(-1j*p_phi) ], [ quil_exp(1j*p_phi), 0 ] ]"},cirq:{name:"gpi"},quest:{name:"gpi",func:"TODO"},qasm:{equivalent:[{name:"u3",params:{theta:"pi",phi:"phi",lambda:"pi-phi"},wires:[0]}]},qiskit:{equivalent:[{name:"u3",params:{theta:"pi",phi:"phi",lambda:"pi-phi"},wires:[0]}]},braket:{name:"unitary",params:["phi"],array:"[ [ 0, np.exp(-1j*p_phi) ], [ np.exp(1j*p_phi), 0 ] ]"},aqasm:{matrix:[[0,"exp(-i*phi)"],["exp(i*phi)",0]],array:"[ [ 0, np.exp(-1j*p_phi) ], [ np.exp(1j*p_phi), 0 ] ]",params:["phi"]},ionq:{name:"gpi",paramsKey:"phase"},cudaq:{equivalent:[{name:"u3",params:{theta:"pi",phi:"phi",lambda:"pi-phi"},wires:[0]}]}}},gpi2:{description:"GPi2 gate",matrix:[["1/sqrt(2)","(-i*exp(-i*phi))/sqrt(2)"],["(-i*exp(i*phi))/sqrt(2)","1/sqrt(2)"]],params:["phi"],drawingInfo:{connectors:["box"],label:"GPi2"},exportInfo:{quil:{name:"gpi2",params:["phi"],defgate:`DEFGATE gpi2(%phi):
    1/SQRT(2), (-i*EXP(-i * %phi)) / SQRT(2)
    (-i*EXP(i * %phi)) / SQRT(2), 1/SQRT(2)`},pyquil:{name:"gpi2",params:["phi"],array:"[ [ 1/quil_sqrt(2), (-1j*quil_exp(-1j*p_phi))/quil_sqrt(2) ], [ (-1j*quil_exp(1j*p_phi))/quil_sqrt(2), 1/quil_sqrt(2) ] ]"},cirq:{name:"gpi2"},quest:{name:"gpi2",func:"TODO"},qasm:{equivalent:[{name:"u3",params:{theta:"pi/2",phi:"phi-(pi/2)",lambda:"(pi/2)-phi"},wires:[0]}]},qiskit:{equivalent:[{name:"u3",params:{theta:"pi/2",phi:"phi-(pi/2)",lambda:"(pi/2)-phi"},wires:[0]}]},braket:{name:"unitary",params:["phi"],array:"[ [ 1/np.sqrt(2), (-1j*np.exp(-1j*p_phi))/np.sqrt(2) ], [ (-1j*np.exp(1j*p_phi))/np.sqrt(2), 1/np.sqrt(2) ] ]"},aqasm:{matrix:[["1/sqrt(2)","(-i*exp(-i*phi))/sqrt(2)"],["(-i*exp(i*phi))/sqrt(2)","1/sqrt(2)"]],array:"[ [ 1/np.sqrt(2), (-1j*np.exp(-1j*p_phi))/np.sqrt(2) ], [ (-1j*np.exp(1j*p_phi))/np.sqrt(2), 1/np.sqrt(2) ] ]",params:["phi"]},ionq:{name:"gpi2",paramsKey:"phase"},cudaq:{equivalent:[{name:"u3",params:{theta:"pi/2",phi:"phi-(pi/2)",lambda:"(pi/2)-phi"},wires:[0]}]}}},vz:{description:"VirtualZ gate",matrix:[["exp(-i*theta/2)",0],[0,"exp(i*theta/2)"]],params:["theta"],drawingInfo:{connectors:["box"],label:"VrtZ"},exportInfo:{quil:{name:"vz",params:["theta"],defgate:`DEFGATE vz(%theta):
    EXP(-i * %theta/2), 0
    0, EXP(-i * %theta/2)`},pyquil:{name:"vz",params:["theta"],array:"[ [ quil_exp(-1j*p_theta/2), 0 ], [ 0, quil_exp(1j*p_theta/2) ] ]"},cirq:{name:"vz"},quest:{name:"vz",func:"TODO"},qasm:{equivalent:[{name:"rz",params:{phi:"theta"},wires:[0]}]},qiskit:{equivalent:[{name:"rz",params:{phi:"theta"},wires:[0]}]},braket:{name:"unitary",params:["theta"],array:"[ [ np.exp(-1j*p_theta/2), 0 ], [ 0, np.exp(1j*p_theta/2) ] ]"},aqasm:{matrix:[["exp(-i*theta/2)",0],[0,"exp(i*theta/2)"]],array:"[ [ np.exp(-1j*p_theta/2), 0 ], [ 0, np.exp(1j*p_theta/2) ] ]",params:["theta"]},ionq:{name:"vz",paramsKey:"phase"},cudaq:{equivalent:[{name:"rz",params:{phi:"theta"},wires:[0]}]}}},cx:{description:"Controlled NOT (CNOT) gate",matrix:[[1,0,0,0],[0,1,0,0],[0,0,0,1],[0,0,1,0]],numTargetQubits:1,numControlQubits:1,params:[],drawingInfo:{connectors:["dot","not"],label:"X",root:"x"},exportInfo:{quil:{name:"CNOT"},cirq:{name:"CNOT"},quest:{name:"controlledNot"},qsharp:{name:"CNOT"},quirk:{name:"X",controlled:!0},braket:{name:"cnot"},aqasm:{name:"CNOT"},ionq:{name:"cnot"},cudaq:{name:"cx"}}},cy:{description:"Controlled Y gate (controlled rotation over Y-axis by PI)",matrix:[[1,0,0,0],[0,1,0,0],[0,0,0,"-i"],[0,0,"i",0]],numTargetQubits:1,numControlQubits:1,params:[],drawingInfo:{connectors:["dot","box"],label:"Y",root:"y"},exportInfo:{quest:{name:"controlledPauliY"},cirq:{replacement:{name:"y",type:"controlled",notTfqSupported:!0}},quil:{name:"cy",defgate:`DEFGATE cy:
    1, 0, 0, 0
    0, 1, 0, 0
    0, 0, 0, -i
    0, 0, i, 0`},pyquil:{name:"cy",array:"[[1,0,0,0],[0,1,0,0],[0,0,0,-1j],[0,0,1j,0]]"},qsharp:{name:"Controlled Y"},quirk:{name:"Y",controlled:!0},braket:{name:"cy"},aqasm:{name:"Y",controlled:!0},cudaq:{name:"cy"}}},cz:{description:"Controlled Z gate (controlled rotation over Z-axis by PI)",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,-1]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["dot","dot"],label:"Z",root:"z"},exportInfo:{quil:{name:"CZ"},cirq:{name:"CZ"},quest:{name:"controlledPhaseFlip"},qsharp:{name:"Controlled Z"},quirk:{name:"Z",controlled:!0},braket:{name:"cz"},aqasm:{name:"CSIGN"},cudaq:{name:"cz"}}},ch:{description:"Controlled Hadamard gate",matrix:[[1,0,0,0],[0,1,0,0],[0,0,"1 / sqrt(2)","1 / sqrt(2)"],[0,0,"1 / sqrt(2)","-1 / sqrt(2)"]],numTargetQubits:1,numControlQubits:1,params:[],drawingInfo:{connectors:["dot","box"],label:"H",root:"h"},exportInfo:{quest:{name:"controlledUnitary",matrix:[[["1/sqrt(2)","0"],["1/sqrt(2)","0"]],[["1/sqrt(2)","0"],["-1/sqrt(2)","0"]]]},cirq:{replacement:{name:"h",type:"controlled",notTfqSupported:!0}},quil:{name:"ch",defgate:`DEFGATE ch:
    1, 0, 0, 0
    0, 1, 0, 0
    0, 0, 0.7071067811865475, 0.7071067811865475
    0, 0, 0.7071067811865475, -0.7071067811865475`},pyquil:{name:"ch",array:"[[1,0,0,0],[0,1,0,0],[0,0,1/np.sqrt(2),1/np.sqrt(2)],[0,0,1/np.sqrt(2),-1/np.sqrt(2)]]"},qsharp:{name:"Controlled H"},quirk:{name:"H",controlled:!0},braket:{name:"unitary",array:"[[1,0,0,0],[0,1,0,0],[0,0,1/np.sqrt(2),1/np.sqrt(2)],[0,0,1/np.sqrt(2),-1/np.sqrt(2)]]"},aqasm:{name:"H",controlled:!0},cudaq:{name:"ch"}}},csrn:{description:"Controlled square root of NOT",matrix:[[1,0,0,0],[0,1,0,0],[0,0,"0.5+0.5i","0.5-0.5i"],[0,0,"0.5-0.5i","0.5+0.5i"]],numTargetQubits:1,numControlQubits:1,params:[],drawingInfo:{connectors:["dot","box"],label:"&#x221A;X",root:"srn"},exportInfo:{quest:{name:"controlledUnitary",matrix:[[["-1/sqrt(2)","0"],["-1/sqrt(2)","0"]],[["-1/sqrt(2)","0"],["1/sqrt(2)","0"]]]},cirq:{replacement:{name:"srn",type:"controlled",notTfqSupported:!0}},quil:{name:"csrn",defgate:`DEFGATE csrn:
    1, 0, 0, 0
    0, 1, 0, 0
    0, 0, 0.5+0.5i, 0.5-0.5i
    0, 0, 0.5-0.5i, 0.5+0.5i`},qasm:{name:"csx"},qiskit:{name:"csx"},pyquil:{name:"csrn",array:"[[1,0,0,0],[0,1,0,0],[0,0,0.5+0.5j,0.5-0.5j],[0,0,0.5-0.5j,0.5+0.5j]]"},braket:{name:"unitary",array:"[[1,0,0,0],[0,1,0,0],[0,0,0.5+0.5j,0.5-0.5j],[0,0,0.5-0.5j,0.5+0.5j]]"},aqasm:{matrix:[[1,0,0,0],[0,1,0,0],[0,0,"0.5+0.5i","0.5-0.5i"],[0,0,"0.5-0.5i","0.5+0.5i"]],array:"[[1,0,0,0],[0,1,0,0],[0,0,0.5+0.5j,0.5-0.5j],[0,0,0.5-0.5j,0.5+0.5j]]"},cudaq:{equivalent:[{name:"h",wires:[1]},{name:"cu1",params:{lambda:"pi/2"},wires:[0,1]},{name:"h",wires:[1]}]}}},swap:{description:"Swaps the state of two qubits.",matrix:[[1,0,0,0],[0,0,1,0],[0,1,0,0],[0,0,0,1]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["x","x"],label:"SWP"},exportInfo:{quil:{name:"SWAP"},cirq:{name:"SWAP"},quest:{name:"swap",func:`void swap(Qureg qubits, const int q1, const int q2) {
    controlledNot(qubits, q1, q2);
    controlledNot(qubits, q2, q1);
    controlledNot(qubits, q1, q2);
}`},qsharp:{name:"SWAP"},quirk:{name:"Swap"},braket:{name:"swap"},aqasm:{name:"SWAP"},ionq:{name:"swap"},cudaq:{name:"swap"}}},srswap:{description:"Square root of swap",matrix:[[1,0,0,0],[0,"0.5 * (1 + i)","0.5 * (1 - i)",0],[0,"0.5 * (1 - i)","0.5 * (1 + i)",0],[0,0,0,1]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["box","box"],label:"&#x221A;SWP"},exportInfo:{quil:{name:"srswap",defgate:`DEFGATE srswap:
    1, 0, 0, 0
    0, 0.5+0.5i, 0.5-0.5i, 0
    0, 0.5-0.5i, 0.5+0.5i, 0
    0, 0, 0, 1`},cirq:{name:"SWAP**(1/2)"},pyquil:{name:"srswap",array:"[[1,0,0,0],[0,0.5 * (1 + 1j),0.5 * (1 - 1j),0],[0,0.5 * (1 - 1j),0.5 * (1 + 1j),0],[0,0,0,1]]"},quest:{name:"srswap",func:`void srswap(Qureg qubits, const int q1, const int q2) {
    controlledNot(qubits, q2, q1);
    rotateY(qubits, q2, M_PI/2);
    rotateZ(qubits, q2, M_PI/16);
    controlledNot(qubits, q1, q2);
    rotateZ(qubits, q1, M_PI/8);
    rotateZ(qubits, q2, -M_PI/8);
    controlledNot(qubits, q1, q2);
    rotateZ(qubits, q2, M_PI/16);
    rotateY(qubits, q2, -M_PI/2);
    controlledNot(qubits, q2, q1);
}`},qasm:{equivalent:[{name:"u3",params:{theta:"pi/2",phi:"pi/2",lambda:"-1*pi"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"-1*pi/2",lambda:"pi"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/4",phi:"-1*pi/2",lambda:"-1*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"7*pi/4"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/4",phi:"-1*pi",lambda:"-1*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"pi",lambda:"pi/2"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"-3*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"pi/2",lambda:"0"},wires:[1]}]},qiskit:{equivalent:[{name:"u3",params:{theta:"pi/2",phi:"pi/2",lambda:"-1*pi"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"-1*pi/2",lambda:"pi"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/4",phi:"-1*pi/2",lambda:"-1*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"7*pi/4"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/4",phi:"-1*pi",lambda:"-1*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"pi",lambda:"pi/2"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"-3*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"pi/2",lambda:"0"},wires:[1]}]},braket:{name:"unitary",array:"[[1,0,0,0],[0,0.5 * (1 + 1j),0.5 * (1 - 1j),0],[0,0.5 * (1 - 1j),0.5 * (1 + 1j),0],[0,0,0,1]]"},aqasm:{name:"SQRTSWAP"},cudaq:{equivalent:[{name:"u3",params:{theta:"pi/2",phi:"pi/2",lambda:"-1*pi"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"-1*pi/2",lambda:"pi"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/4",phi:"-1*pi/2",lambda:"-1*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"7*pi/4"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/4",phi:"-1*pi",lambda:"-1*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"pi",lambda:"pi/2"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"-3*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"pi/2",lambda:"0"},wires:[1]}]}}},iswap:{description:"Swaps the state of two qubits, applying a -i phase to q1 when it is in the 1 state and a -i phase to q2 when it is in the 0 state",matrix:[[1,0,0,0],[0,0,"0+i",0],[0,"0+i",0,0],[0,0,0,1]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["box","box"],label:"iSWP"},exportInfo:{quil:{name:"ISWAP"},cirq:{name:"ISWAP"},quest:{name:"iSWAP",func:"TODO"},qasm:{equivalent:[{name:"u3",params:{theta:"pi/2",phi:"-1*pi/2",lambda:"-1*pi"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"-1*pi/2",lambda:"pi"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"3*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"3*pi/2",lambda:"0"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"0"},wires:[0]},{name:"u3",params:{theta:"pi",phi:"pi/4",lambda:"-1*pi/4"},wires:[1]}]},qiskit:{equivalent:[{name:"u3",params:{theta:"pi/2",phi:"-1*pi/2",lambda:"-1*pi"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"-1*pi/2",lambda:"pi"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"3*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"3*pi/2",lambda:"0"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"0"},wires:[0]},{name:"u3",params:{theta:"pi",phi:"pi/4",lambda:"-1*pi/4"},wires:[1]}]},braket:{name:"iswap"},aqasm:{name:"ISWAP"},cudaq:{equivalent:[{name:"u3",params:{theta:"pi/2",phi:"-1*pi/2",lambda:"-1*pi"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"-1*pi/2",lambda:"pi"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"3*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"3*pi/2",lambda:"0"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"0"},wires:[0]},{name:"u3",params:{theta:"pi",phi:"pi/4",lambda:"-1*pi/4"},wires:[1]}]}}},xx:{description:"XX gate",matrix:[["cos(theta)",0,0,"-i*sin(theta)"],[0,"cos(theta)","-i*sin(theta)",0],[0,"-i*sin(theta)","cos(theta)",0],["-i*sin(theta)",0,0,"cos(theta)"]],numTargetQubits:2,numControlQubits:0,params:["theta"],drawingInfo:{connectors:["box","box"],label:"XX"},exportInfo:{quil:{name:"xx",params:["theta"],defgate:`DEFGATE xx(%theta):
    COS(%theta), 0, 0, -i*SIN(%theta)
    0, COS(%theta), -i*SIN(%theta), 0
    0, -i*SIN(%theta), COS(%theta), 0
    -i*SIN(%theta), 0, 0, COS(%theta)`},pyquil:{name:"xx",params:["theta"],array:"[ [quil_cos(p_theta), 0, 0, -1j*quil_sin(p_theta)], [0, quil_cos(p_theta), -1j*quil_sin(p_theta), 0], [0, -1j*quil_sin(p_theta), quil_cos(p_theta), 0], [-1j*quil_sin(p_theta), 0, 0, quil_cos(p_theta)] ]"},cirq:{name:"xx"},quest:{name:"xx",func:"TODO"},qasm:{name:"rxx"},qiskit:{name:"rxx"},braket:{name:"unitary",params:["theta"],array:"[[np.cos(p_theta), 0, 0, -1j*np.sin(p_theta)], [0, np.cos(p_theta), -1j*np.sin(p_theta), 0], [0, -1j*np.sin(p_theta), np.cos(p_theta), 0], [-1j*np.sin(p_theta), 0, 0, np.cos(p_theta)] ]"},aqasm:{matrix:[["cos(theta)",0,0,"-i*sin(theta)"],[0,"cos(theta)","-i*sin(theta)",0],[0,"-i*sin(theta)","cos(theta)",0],["-i*sin(theta)",0,0,"cos(theta)"]],array:"[[np.cos(p_theta), 0, 0, -1j*np.sin(p_theta)], [0, np.cos(p_theta), -1j*np.sin(p_theta), 0], [0, -1j*np.sin(p_theta), np.cos(p_theta), 0], [-1j*np.sin(p_theta), 0, 0, np.cos(p_theta)] ]",params:["theta"]},ionq:{name:"xx",paramsKey:"phase"}}},yy:{description:"YY gate",matrix:[["cos(theta)",0,0,"i*sin(theta)"],[0,"cos(theta)","-i*sin(theta)",0],[0,"-i*sin(theta)","cos(theta)",0],["i*sin(theta)",0,0,"cos(theta)"]],numTargetQubits:2,numControlQubits:0,params:["theta"],drawingInfo:{connectors:["box","box"],label:"YY"},exportInfo:{quil:{name:"yy",params:["theta"],defgate:`DEFGATE yy(%theta):
    COS(%theta), 0, 0, i*SIN(%theta)
    0, COS(%theta), -i*SIN(%theta), 0
    0, -i*SIN(%theta), COS(%theta), 0
    i*SIN(%theta), 0, 0, COS(%theta)`},cirq:{name:"YY"},pyquil:{name:"yy",params:["theta"],array:"[ [quil_cos(p_theta), 0, 0, 1j*quil_sin(p_theta)], [0, quil_cos(p_theta), -1j*quil_sin(p_theta), 0], [0, -1j*quil_sin(p_theta), quil_cos(p_theta), 0], [1j*quil_sin(p_theta), 0, 0, quil_cos(p_theta)] ]"},quest:{name:"yy",func:"TODO"},braket:{name:"yy",params:["theta"]},aqasm:{matrix:[["cos(theta)",0,0,"i*sin(theta)"],[0,"cos(theta)","-i*sin(theta)",0],[0,"-i*sin(theta)","cos(theta)",0],["i*sin(theta)",0,0,"cos(theta)"]],array:"[[np.cos(p_theta), 0, 0, 1j*np.sin(p_theta)], [0, np.cos(p_theta), -1j*np.sin(p_theta), 0], [0, -1j*np.sin(p_theta), np.cos(p_theta), 0], [1j*np.sin(p_theta), 0, 0, np.cos(p_theta)] ]",params:["theta"]},qasm:{name:"ryy"},qiskit:{name:"ryy"},ionq:{name:"yy",paramsKey:"phase"}}},zz:{description:"Parametric 2-qubit rotation about ZZ",matrix:[["exp(-i * theta / 2)",0,0,0],[0,"exp(i * theta / 2)",0,0],[0,0,"exp(i * theta / 2)",0],[0,0,0,"exp(-i * theta / 2)"]],numTargetQubits:2,numControlQubits:0,params:["theta"],drawingInfo:{connectors:["box","box"],label:"ZZ"},exportInfo:{quil:{name:"zz",params:["theta"],defgate:`DEFGATE zz(%theta):
    EXP(-i * %theta / 2), 0, 0, 0
    0, EXP(i * %theta / 2), 0, 0
    0, 0, EXP(i * %theta / 2), 0
    0, 0, 0, EXP(-i * %theta / 2)`},pyquil:{name:"zz",params:["theta"],array:"[ [ quil_exp(-1j * p_theta / 2), 0, 0, 0 ], [ 0, quil_exp(1j * p_theta / 2), 0, 0], [ 0, 0, quil_exp(1j * p_theta / 2), 0 ], [ 0, 0, 0, quil_exp(-1j * p_theta / 2) ] ]"},quest:{name:"zz",func:"TODO"},qasm:{name:"rzz"},qiskit:{name:"rzz"},ionq:{name:"zz",paramsKey:"phase"}}},xy:{description:"XY gate",matrix:[[1,0,0,0],[0,"cos(phi / 2)","i * sin(phi / 2)",0],[0,"i * sin(phi / 2)","cos(phi / 2)",0],[0,0,0,1]],numTargetQubits:2,numControlQubits:0,params:["phi"],drawingInfo:{connectors:["box","box"],label:"XY"},exportInfo:{quil:{name:"XY",params:["phi"]},qasm:{equivalent:[{name:"rz",params:{phi:"3*pi/4"},wires:[0]},{name:"rx",params:{theta:"pi/2"},wires:[0]},{name:"rz",params:{phi:"-3*pi/4"},wires:[1]},{name:"rx",params:{theta:"pi/2"},wires:[1]},{name:"cz",wires:[1,0]},{name:"rz",params:{phi:"-1*pi/2"},wires:[0]},{name:"rx",params:{theta:"pi/2"},wires:[0]},{name:"rz",params:{phi:"phi/2"},wires:[0]},{name:"rx",params:{theta:"-1*pi/2"},wires:[0]},{name:"rz",params:{phi:"pi/2"},wires:[1]},{name:"rx",params:{theta:"pi/2"},wires:[1]},{name:"rz",params:{phi:"phi/2"},wires:[1]},{name:"rx",params:{theta:"-1*pi/2"},wires:[1]},{name:"cz",wires:[1,0]},{name:"rz",params:{phi:"-1*pi/2"},wires:[0]},{name:"rx",params:{theta:"pi/2"},wires:[0]},{name:"rz",params:{phi:"pi/4"},wires:[0]},{name:"rz",params:{phi:"-1*pi/2"},wires:[1]},{name:"rx",params:{theta:"-1*pi/2"},wires:[1]},{name:"rz",params:{phi:"3*pi/4"},wires:[1]}]},qiskit:{equivalent:[{name:"rz",params:{phi:"3*pi/4"},wires:[0]},{name:"rx",params:{theta:"pi/2"},wires:[0]},{name:"rz",params:{phi:"-3*pi/4"},wires:[1]},{name:"rx",params:{theta:"pi/2"},wires:[1]},{name:"cz",wires:[1,0]},{name:"rz",params:{phi:"-1*pi/2"},wires:[0]},{name:"rx",params:{theta:"pi/2"},wires:[0]},{name:"rz",params:{phi:"phi/2"},wires:[0]},{name:"rx",params:{theta:"-1*pi/2"},wires:[0]},{name:"rz",params:{phi:"pi/2"},wires:[1]},{name:"rx",params:{theta:"pi/2"},wires:[1]},{name:"rz",params:{phi:"phi/2"},wires:[1]},{name:"rx",params:{theta:"-1*pi/2"},wires:[1]},{name:"cz",wires:[1,0]},{name:"rz",params:{phi:"-1*pi/2"},wires:[0]},{name:"rx",params:{theta:"pi/2"},wires:[0]},{name:"rz",params:{phi:"pi/4"},wires:[0]},{name:"rz",params:{phi:"-1*pi/2"},wires:[1]},{name:"rx",params:{theta:"-1*pi/2"},wires:[1]},{name:"rz",params:{phi:"3*pi/4"},wires:[1]}]},cirq:{name:"xy",params:["phi"],array:"[[1, 0, 0, 0], [0, np.cos(p_phi/2), 1j*np.sin(p_phi/2), 0], [0, 1j*np.sin(p_phi/2), np.cos(p_phi/2), 0], [0, 0, 0, 1]]",notTfqSupported:!0},quest:{name:"xy",func:"TODO"},braket:{name:"xy",params:["phi"]},aqasm:{matrix:[[1,0,0,0],[0,"cos(phi / 2)","i * sin(phi / 2)",0],[0,"i * sin(phi / 2)","cos(phi / 2)",0],[0,0,0,1]],array:"[[1, 0, 0, 0], [0, np.cos(p_phi/2), 1j*np.sin(p_phi/2), 0], [0, 1j*np.sin(p_phi/2), np.cos(p_phi/2), 0], [0, 0, 0, 1]]",params:["phi"]},cudaq:{equivalent:[{name:"rz",params:{phi:"3*pi/4"},wires:[0]},{name:"rx",params:{theta:"pi/2"},wires:[0]},{name:"rz",params:{phi:"-3*pi/4"},wires:[1]},{name:"rx",params:{theta:"pi/2"},wires:[1]},{name:"cz",wires:[1,0]},{name:"rz",params:{phi:"-1*pi/2"},wires:[0]},{name:"rx",params:{theta:"pi/2"},wires:[0]},{name:"rz",params:{phi:"phi/2"},wires:[0]},{name:"rx",params:{theta:"-1*pi/2"},wires:[0]},{name:"rz",params:{phi:"pi/2"},wires:[1]},{name:"rx",params:{theta:"pi/2"},wires:[1]},{name:"rz",params:{phi:"phi/2"},wires:[1]},{name:"rx",params:{theta:"-1*pi/2"},wires:[1]},{name:"cz",wires:[1,0]},{name:"rz",params:{phi:"-1*pi/2"},wires:[0]},{name:"rx",params:{theta:"pi/2"},wires:[0]},{name:"rz",params:{phi:"pi/4"},wires:[0]},{name:"rz",params:{phi:"-1*pi/2"},wires:[1]},{name:"rx",params:{theta:"-1*pi/2"},wires:[1]},{name:"rz",params:{phi:"3*pi/4"},wires:[1]}]}}},ms:{description:"Mølmer-Sørensen gate",matrix:[["1/sqrt(2)",0,0,"(-i*exp(-i*(phi0+phi1)))/sqrt(2)"],[0,"1/sqrt(2)","(-i*exp(-i*(phi0-phi1)))/sqrt(2)",0],[0,"(-i*exp(i*(phi0-phi1)))/sqrt(2)","1/sqrt(2)",0],["(-i*exp(i*(phi0+phi1)))/sqrt(2)",0,0,"1/sqrt(2)"]],numTargetQubits:2,numControlQubits:0,params:["phi0","phi1"],drawingInfo:{connectors:["box","box"],label:"MS"},exportInfo:{quil:{name:"ms",params:["phi0","phi1"],defgate:`DEFGATE ms(%phi0, %phi1):
    1/SQRT(2), 0, 0, (-i*EXP(-i*(%phi0+%phi1)))/SQRT(2)
    0, 1/SQRT(2), (-i*EXP(-i*(%phi0-%phi1)))/SQRT(2), 0
    0, (-i*EXP(i*(%phi0-%phi1)))/SQRT(2), 1/SQRT(2), 0
    (-i*EXP(i*(%phi0+%phi1)))/SQRT(2), 0, 0, 1/SQRT(2)`},pyquil:{name:"ms",params:["phi0","phi1"],array:"[ [ 1/quil_sqrt(2), 0, 0, (-1j*quil_exp(-1j*(p_phi0+p_phi1)))/quil_sqrt(2) ], [ 0, 1/quil_sqrt(2), (-1j*quil_exp(-1j*(p_phi0-p_phi1)))/quil_sqrt(2), 0 ], [ 0, (-1j*quil_exp(1j*(p_phi0-p_phi1)))/quil_sqrt(2), 1/quil_sqrt(2), 0 ], [ (-1j*quil_exp(1j*(p_phi0+p_phi1)))/quil_sqrt(2), 0, 0, 1/quil_sqrt(2) ] ]"},cirq:{name:"ms"},quest:{name:"ms",func:"TODO"},qasm:{name:"ms"},qiskit:{name:"ms"},braket:{name:"unitary",params:["phi0","phi1"],array:"[ [ 1/np.sqrt(2), 0, 0, (-1j*np.exp(-1j*(p_phi0+p_phi1)))/np.sqrt(2) ], [ 0, 1/np.sqrt(2), (-1j*np.exp(-1j*(p_phi0-p_phi1)))/np.sqrt(2), 0 ], [ 0, (-1j*np.exp(1j*(p_phi0-p_phi1)))/np.sqrt(2), 1/np.sqrt(2), 0 ], [ (-1j*np.exp(1j*(p_phi0+p_phi1)))/np.sqrt(2), 0, 0, 1/np.sqrt(2) ] ]"},aqasm:{matrix:[["1/sqrt(2)",0,0,"(-1i*exp(-1i*(phi0+phi1)))/sqrt(2)"],[0,"1/sqrt(2)","(-1i*exp(-1i*(phi0-phi1)))/sqrt(2)",0],[0,"(-1i*exp(1i*(phi0-phi1)))/sqrt(2)","1/sqrt(2)",0],["(-1i*exp(1i*(phi0+phi1)))/sqrt(2)",0,0,"1/sqrt(2)"]],array:"[ [ 1/np.sqrt(2), 0, 0, (-1j*np.exp(-1j*(p_phi0+p_phi1)))/np.sqrt(2) ], [ 0, 1/np.sqrt(2), (-1j*np.exp(-1j*(p_phi0-p_phi1)))/np.sqrt(2), 0 ], [ 0, (-1j*np.exp(1j*(p_phi0-p_phi1)))/np.sqrt(2), 1/np.sqrt(2), 0 ], [ (-1j*np.exp(1j*(p_phi0+p_phi1)))/np.sqrt(2), 0, 0, 1/np.sqrt(2) ] ]",params:["phi0","phi1"]},ionq:{name:"ms",paramsKey:"phases"}}},cr2:{description:"Controlled PI/2 rotation over Z-axis",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"exp(i * pi / 2)"]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["dot","box"],label:"Z&#x1D6D1;/2",root:"r2"},exportInfo:{quil:{replacement:{name:"cu1",params:{lambda:"pi/2"}}},cirq:{replacement:{name:"cu1",params:{lambda:"pi/2"}}},quest:{name:"controlledPhaseShift",params:{theta:"M_PI/2"}},qsharp:{replacement:{name:"cu1",params:{lambda:"pi/2"}}},qasm:{replacement:[{name:"cu1",params:{lambda:"pi/2"}}]},qiskit:{replacement:[{name:"cu1",params:{lambda:"pi/2"}}]},quirk:{name:"Z^½",controlled:!0},braket:{name:"unitary",array:"[[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, np.exp(1j * np.pi / 2)] ]"},aqasm:{name:"S",controlled:!0},cudaq:{name:"cs"}}},cr4:{description:"Controlled PI/4 rotation over Z-axis",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"exp(i * pi / 4)"]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["dot","box"],label:"Z&#x1D6D1;/4",root:"r4"},exportInfo:{quil:{replacement:{name:"cu1",params:{lambda:"pi/4"}}},cirq:{replacement:{name:"cu1",params:{lambda:"pi/4"}}},quest:{name:"controlledPhaseShift",params:{theta:"M_PI/4"}},qsharp:{replacement:{name:"cu1",params:{lambda:"pi/4"}}},qasm:{replacement:[{name:"cu1",params:{lambda:"pi/4"}}]},qiskit:{replacement:[{name:"cu1",params:{lambda:"pi/4"}}]},quirk:{name:"Z^¼",controlled:!0},braket:{name:"unitary",array:"[[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, np.exp(1j * np.pi / 4)] ]"},aqasm:{name:"T",controlled:!0},cudaq:{name:"ct"}}},cr8:{description:"Controlled PI/8 rotation over Z-axis",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"exp(i * pi / 8)"]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["dot","box"],label:"Z&#x1D6D1;/8",root:"r8"},exportInfo:{quil:{replacement:{name:"cu1",params:{lambda:"pi/8"}}},cirq:{replacement:{name:"cu1",params:{lambda:"pi/8"}}},quest:{name:"controlledPhaseShift",params:{theta:"M_PI/8"}},qsharp:{replacement:{name:"cu1",params:{lambda:"pi/8"}}},qasm:{replacement:[{name:"cu1",params:{lambda:"pi/8"}}]},qiskit:{replacement:[{name:"cu1",params:{lambda:"pi/8"}}]},quirk:{name:"Z^⅛",controlled:!0},braket:{name:"unitary",array:"[[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, np.exp(1j * np.pi / 8)] ]"},aqasm:{matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"exp(i * pi / 8)"]],array:"[[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, np.exp(1j * np.pi / 8)] ]"},cudaq:{replacement:[{name:"cu1",params:{lambda:"pi/8"}}]}}},crx:{description:"Controlled rotation around the X-axis by given angle",matrix:[[1,0,0,0],[0,1,0,0],[0,0,"cos(theta / 2)","-i * sin(theta / 2)"],[0,0,"-i * sin(theta / 2)","cos(theta / 2)"]],numTargetQubits:1,numControlQubits:1,params:["theta"],drawingInfo:{connectors:["dot","box"],label:"RX",root:"rx"},exportInfo:{quil:{name:"crx",params:["theta"],defgate:`DEFGATE crx(%theta):
    1, 0, 0, 0
    0, 1, 0, 0
    0, 0, COS(%theta/2), -i*SIN(%theta/2)
    0, 0, -i*SIN(%theta/2), COS(%theta/2)`},cirq:{replacement:{name:"rx",params:{theta:"theta"},type:"controlled",notTfqSupported:!0}},pyquil:{name:"crx",params:["theta"],array:"[[ 1, 0, 0, 0 ], [ 0, 1, 0, 0 ], [ 0, 0, quil_cos(p_theta / 2), -1j*quil_sin(p_theta / 2) ], [ 0, 0, -1j*quil_sin(p_theta / 2), quil_cos(p_theta / 2) ]]"},quest:{name:"controlledUnitary",params:["theta"],matrix:[[["cos(theta/2)","0"],["0","-sin(theta/2)"]],[["0","-sin(theta/2)"],["cos(theta/2)","0"]]]},qsharp:{name:"Controlled Rx",params:["theta"]},qasm:{replacement:[{name:"cu3",params:{theta:"theta",phi:"-1*pi/2",lambda:"pi/2"}}]},qiskit:{replacement:[{name:"cu3",params:{theta:"theta",phi:"-1*pi/2",lambda:"pi/2"}}]},braket:{name:"unitary",params:["theta"],array:"[[ 1, 0, 0, 0 ], [ 0, 1, 0, 0 ], [ 0, 0, np.cos(p_theta / 2), -1j*np.sin(p_theta / 2) ], [ 0, 0, -1j*np.sin(p_theta / 2), np.cos(p_theta / 2) ]]"},aqasm:{name:"RX",controlled:!0},cudaq:{name:"crx"}}},cry:{description:"Controlled rotation around the Y-axis by given angle",matrix:[[1,0,0,0],[0,1,0,0],[0,0,"cos(theta / 2)","-1 * sin(theta / 2)"],[0,0,"sin(theta / 2)","cos(theta / 2)"]],numTargetQubits:1,numControlQubits:1,params:["theta"],drawingInfo:{connectors:["dot","box"],label:"RY",root:"ry"},exportInfo:{quil:{name:"cry",params:["theta"],defgate:`DEFGATE cry(%theta):
    1, 0, 0, 0
    0, 1, 0, 0
    0, 0, COS(%theta/2), -1*SIN(%theta/2)
    0, 0, SIN(%theta/2), COS(%theta/2)`},cirq:{replacement:{name:"ry",params:{theta:"theta"},type:"controlled",notTfqSupported:!0}},pyquil:{name:"cry",params:["theta"],array:"[[ 1, 0, 0, 0 ],[ 0, 1, 0, 0 ],[ 0, 0, quil_cos(p_theta / 2), -1*quil_sin(p_theta / 2) ],[ 0, 0, quil_sin(p_theta / 2), quil_cos(p_theta / 2) ]]"},quest:{name:"controlledUnitary",params:["theta"],matrix:[[["cos(theta/2)","0"],["-sin(theta/2)","0"]],[["sin(theta/2)","0"],["cos(theta/2)","0"]]]},qsharp:{name:"Controlled Ry",params:["theta"]},qasm:{equivalent:[{name:"u3",params:{theta:"theta/2",phi:"0",lambda:"0"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"-1*theta / 2",phi:"0",lambda:"0"},wires:[1]},{name:"cx",wires:[0,1]}]},qiskit:{equivalent:[{name:"u3",params:{theta:"theta/2",phi:"0",lambda:"0"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"-1*theta / 2",phi:"0",lambda:"0"},wires:[1]},{name:"cx",wires:[0,1]}]},braket:{name:"unitary",params:["theta"],array:"[[ 1, 0, 0, 0 ],[ 0, 1, 0, 0 ],[ 0, 0, np.cos(p_theta / 2), -1*np.sin(p_theta / 2) ],[ 0, 0, np.sin(p_theta / 2), np.cos(p_theta / 2) ]]"},aqasm:{name:"RY",controlled:!0},cudaq:{name:"cry"}}},crz:{description:"Controlled rotation around the Z-axis by given angle",matrix:[[1,0,0,0],[0,1,0,0],[0,0,"cos(phi / 2) - i * sin(phi / 2)",0],[0,0,0,"cos(phi / 2) + i * sin(phi / 2)"]],numTargetQubits:1,numControlQubits:1,params:["phi"],drawingInfo:{connectors:["dot","dot"],label:"RZ",root:"rz"},exportInfo:{quil:{name:"crz",params:["phi"],defgate:`DEFGATE crz(%phi):
    1, 0, 0, 0
    0, 1, 0, 0
    0, 0, COS(%phi / 2) - i * SIN(%phi / 2), 0
    0, 0, 0, COS(%phi / 2) + i * SIN(%phi / 2)`},pyquil:{name:"crz",params:["phi"],array:"[[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, quil_cos(p_phi / 2) - 1j * quil_sin(p_phi / 2), 0], [0, 0, 0, quil_cos(p_phi / 2) + 1j * quil_sin(p_phi / 2)]]"},cirq:{replacement:{name:"rz",params:{phi:"phi"},type:"controlled"}},quest:{name:"controlledRotateZ",params:["theta"]},qsharp:{name:"Controlled Rz",params:["phi"]},braket:{name:"unitary",params:["phi"],array:"[[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, np.cos(p_phi / 2) - 1j * np.sin(p_phi / 2), 0], [0, 0, 0, np.cos(p_phi / 2) + 1j * np.sin(p_phi / 2)]]"},aqasm:{name:"RZ",controlled:!0},cudaq:{name:"crz"}}},cu1:{description:"Controlled rotation about the Z axis",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"exp(i * lambda)"]],numTargetQubits:2,numControlQubits:0,params:["lambda"],drawingInfo:{connectors:["dot","box"],label:"CU1",root:"u1"},exportInfo:{quil:{name:"CPHASE",params:["lambda"]},cirq:{name:"cu1",params:["lambda"],array:"[[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, np.exp(1j*p_lambda)]]",notTfqSupported:!0},quest:{name:"controlledPhaseShift",params:["theta"]},braket:{name:"unitary",params:["lambda"],array:"[[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, np.exp(1j*p_lambda)]]"},aqasm:{name:"PH",controlled:!0},qiskit:{name:"cp"},cudaq:{replacement:[{name:"cu3",params:{theta:0,phi:0,lambda:"lambda"}}]}}},cu2:{description:"Controlled rotation about the X+Z axis",matrix:[[1,0,0,0],[0,1,0,0],[0,0,"1 / sqrt(2)","-exp(i * lambda) * 1 / sqrt(2)"],[0,0,"exp(i * phi) * 1 / sqrt(2)","exp(i * lambda + i * phi) * 1 / sqrt(2)"]],numTargetQubits:1,numControlQubits:1,params:["phi","lambda"],drawingInfo:{connectors:["dot","box"],label:"CU2",root:"u2"},exportInfo:{quil:{name:"cu2",params:["phi","lambda"],defgate:`DEFGATE cu2(%phi, %lambda):
    1, 0, 0, 0
    0, 1, 0, 0
    0, 0, 1/SQRT(2), -1*EXP(i*%lambda)*1/SQRT(2)
    0, 0, EXP(i*%phi)*1/SQRT(2), EXP(i*%lambda + i*%phi)*1/SQRT(2)`},pyquil:{name:"cu2",params:["phi","lambda"],array:"[[1,0,0,0],[0,1,0,0],[0, 0, 1/quil_sqrt(2), -quil_exp(1j*p_lambda)*1/quil_sqrt(2)],[0, 0, quil_exp(1j*p_phi)*1/quil_sqrt(2), quil_exp(1j*p_lambda+1j*p_phi)*1/quil_sqrt(2)]]"},cirq:{name:"cu2",params:["phi","lambda"],array:"[[1,0,0,0],[0,1,0,0],[0, 0, 1/np.sqrt(2), -np.exp(1j*p_lambda)*1/np.sqrt(2)],[0, 0, np.exp(1j*p_phi)*1/np.sqrt(2), np.exp(1j*p_lambda+1j*p_phi)*1/np.sqrt(2)]]",notTfqSupported:!0},quest:{name:"controlledUnitary",params:["phi","lambda"],matrix:[[["1/sqrt(2)","0"],["-cos(lambda)/sqrt(2)","-sin(lambda)/sqrt(2)"]],[["cos(phi)/sqrt(2)","sin(phi)/sqrt(2)"],["cos(lambda+phi)/sqrt(2)","sin(lambda+phi)/sqrt(2)"]]]},qasm:{replacement:[{name:"cu3",params:{theta:"pi/2",phi:"phi",lambda:"lambda"}}]},qiskit:{replacement:[{name:"cu3",params:{theta:"pi/2",phi:"phi",lambda:"lambda"}}]},braket:{name:"unitary",params:["phi","lambda"],array:"[[1,0,0,0],[0,1,0,0],[0, 0, 1/np.sqrt(2), -np.exp(1j*p_lambda)*1/np.sqrt(2)],[0, 0, np.exp(1j*p_phi)*1/np.sqrt(2), np.exp(1j*p_lambda+1j*p_phi)*1/np.sqrt(2)]]"},aqasm:{matrix:[[1,0,0,0],[0,1,0,0],[0,0,"1 / sqrt(2)","-exp(i * lambda) * 1 / sqrt(2)"],[0,0,"exp(i * phi) * 1 / sqrt(2)","exp(i * lambda + i * phi) * 1 / sqrt(2)"]],array:"[[1,0,0,0],[0,1,0,0],[0, 0, 1/np.sqrt(2), -np.exp(1j*p_lambda)*1/np.sqrt(2)],[0, 0, np.exp(1j*p_phi)*1/np.sqrt(2), np.exp(1j*p_lambda+1j*p_phi)*1/np.sqrt(2)]]",params:["phi","lambda"]},cudaq:{replacement:[{name:"cu3",params:{theta:"pi/2",phi:"phi",lambda:"lambda"}}]}}},cu3:{description:"Controlled rotation gate with 3 Euler angles",matrix:[[1,0,0,0],[0,1,0,0],[0,0,"cos(theta/2)","-exp(i * lambda) * sin(theta / 2)"],[0,0,"exp(i * phi) * sin(theta / 2)","exp(i * lambda + i * phi) * cos(theta / 2)"]],numTargetQubits:1,numControlQubits:1,params:["theta","phi","lambda"],drawingInfo:{connectors:["dot","box"],label:"CU3",root:"u3"},exportInfo:{quil:{name:"cu3",params:["theta","phi","lambda"],defgate:`DEFGATE cu3(%theta, %phi, %lambda):
    1, 0, 0, 0
    0, 1, 0, 0
    0, 0, COS(%theta/2), -1*EXP(i*%lambda)*SIN(%theta/2)
    0, 0, EXP(i*%phi)*SIN(%theta/2), EXP(i*%lambda + i*%phi)*COS(%theta/2)`},pyquil:{name:"cu3",params:["theta","phi","lambda"],array:"[[1,0,0,0],[0,1,0,0],[0, 0, quil_cos(p_theta/2),-quil_exp(1j*p_lambda)*quil_sin(p_theta/2)],[0, 0, quil_exp(1j*p_phi)*quil_sin(p_theta/2),quil_exp(1j*p_lambda+1j*p_phi)*quil_cos(p_theta/2)]]"},cirq:{name:"cu3",params:["theta","phi","lambda"],array:"[[1,0,0,0],[0,1,0,0],[0, 0, np.cos(p_theta/2),-np.exp(1j*p_lambda)*np.sin(p_theta/2)],[0, 0, np.exp(1j*p_phi)*np.sin(p_theta/2),np.exp(1j*p_lambda+1j*p_phi)*np.cos(p_theta/2)]]",notTfqSupported:!0},quest:{name:"controlledUnitary",params:["theta","phi","lambda"],matrix:[[["cos(theta/2)","0"],["-cos(lambda)*sin(theta/2)","-sin(lambda)*sin(theta/2)"]],[["cos(phi)*sin(theta/2)","sin(phi)*sin(theta/2)"],["cos(lambda+phi)*cos(theta/2)","sin(lambda+phi)*cos(theta/2)"]]]},braket:{name:"unitary",params:["theta","phi","lambda"],array:"[[1,0,0,0],[0,1,0,0],[0, 0, np.cos(p_theta/2),-np.exp(1j*p_lambda)*np.sin(p_theta/2)],[0, 0, np.exp(1j*p_phi)*np.sin(p_theta/2),np.exp(1j*p_lambda+1j*p_phi)*np.cos(p_theta/2)]]"},aqasm:{matrix:[[1,0,0,0],[0,1,0,0],[0,0,"cos(theta/2)","-exp(i * lambda) * sin(theta / 2)"],[0,0,"exp(i * phi) * sin(theta / 2)","exp(i * lambda + i * phi) * cos(theta / 2)"]],array:"[[1,0,0,0],[0,1,0,0],[0, 0, np.cos(p_theta/2),-np.exp(1j*p_lambda)*np.sin(p_theta/2)],[0, 0, np.exp(1j*p_phi)*np.sin(p_theta/2),np.exp(1j*p_lambda+1j*p_phi)*np.cos(p_theta/2)]]",params:["theta","phi","lambda"]},qiskit:{name:"cu"},cudaq:{controlled:!0,name:"u3",controlWiresCount:1}}},cs:{description:"Controlled PI/2 rotation over Z-axis (synonym for `cr2`)",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"i"]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["dot","box"],label:"S",root:"s"},exportInfo:{quil:{replacement:{name:"cu1",params:{lambda:"pi/2"}}},cirq:{replacement:{name:"cu1",params:{lambda:"pi/2"}}},quest:{name:"controlledPhaseShift",params:{theta:"M_PI/2"}},qsharp:{replacement:{name:"cu1",params:{lambda:"pi/2"}}},qasm:{replacement:[{name:"cu1",params:{lambda:"pi/2"}}]},qiskit:{replacement:[{name:"cu1",params:{lambda:"pi/2"}}]},quirk:{name:"Z^½",controlled:!0},braket:{name:"unitary",array:"[[1,0,0,0],[0,1,0,0],[0, 0, 1, 0],[0, 0, 0, np.exp(1j * np.pi / 2)]]"},aqasm:{name:"S",controlled:!0},cudaq:{name:"cs"}}},ct:{description:"Controlled PI/4 rotation over Z-axis (synonym for `cr4`)",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"exp(i * pi / 4)"]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["dot","box"],label:"T",root:"t"},exportInfo:{quil:{replacement:{name:"cu1",params:{lambda:"pi/4"}}},cirq:{replacement:{name:"cu1",params:{lambda:"pi/4"}}},quest:{name:"controlledPhaseShift",params:{theta:"M_PI/4"}},qsharp:{replacement:{name:"cu1",params:{lambda:"pi/4"}}},qasm:{replacement:[{name:"cu1",params:{lambda:"pi/4"}}]},qiskit:{replacement:[{name:"cu1",params:{lambda:"pi/4"}}]},quirk:{name:"Z^¼",controlled:!0},braket:{name:"unitary",array:"[[1,0,0,0],[0,1,0,0],[0, 0, 1, 0],[0, 0, 0, np.exp(1j * np.pi / 4)]]"},aqasm:{name:"T",controlled:!0},cudaq:{name:"ct"}}},csdg:{description:"Controlled (-PI/2) rotation over Z-axis",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"-i"]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["dot","box"],label:"S&#8224;",root:"sdg"},exportInfo:{quil:{replacement:{name:"cu1",params:{lambda:"-pi/2"}}},cirq:{replacement:{name:"cu1",params:{lambda:"-pi/2"}}},quest:{name:"controlledPhaseShift",params:{theta:"-M_PI/2"}},qsharp:{replacement:{name:"cu1",params:{lambda:"-pi/2"}}},qasm:{replacement:[{name:"cu1",params:{lambda:"-1*pi/2"}}]},qiskit:{replacement:[{name:"cu1",params:{lambda:"-1*pi/2"}}]},quirk:{name:"Z^-½",controlled:!0},braket:{name:"unitary",array:"[[1,0,0,0],[0,1,0,0],[0, 0, 1, 0],[0, 0, 0, np.exp(-1j * np.pi / 2)]]"},aqasm:{name:"S",controlled:!0,dagger:!0},cudaq:{equivalent:[{name:"cu3",params:{theta:0,phi:0,lambda:"-pi/2"},wires:[0,1]}]}}},ctdg:{description:"Controlled (-PI/4) rotation over Z-axis",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"exp(-i * pi / 4)"]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["dot","box"],label:"T&#8224;",root:"tdg"},exportInfo:{quil:{replacement:{name:"cu1",params:{lambda:"-pi/4"}}},cirq:{replacement:{name:"cu1",params:{lambda:"-pi/4"}}},quest:{name:"controlledPhaseShift",params:{theta:"-M_PI/4"}},qsharp:{replacement:{name:"cu1",params:{lambda:"-pi/4"}}},qasm:{replacement:[{name:"cu1",params:{lambda:"-1*pi/4"}}]},qiskit:{replacement:[{name:"cu1",params:{lambda:"-1*pi/4"}}]},quirk:{name:"Z^-¼",controlled:!0},braket:{name:"unitary",array:"[[1,0,0,0],[0,1,0,0],[0, 0, 1, 0],[0, 0, 0, np.exp(-1j * np.pi / 4)]]"},aqasm:{name:"T",controlled:!0,dagger:!0},cudaq:{equivalent:[{name:"cu3",params:{theta:0,phi:0,lambda:"-pi/4"},wires:[0,1]}]}}},ccx:{description:'Toffoli aka "CCNOT" gate',matrix:[[1,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,0]],numTargetQubits:1,numControlQubits:2,params:[],drawingInfo:{connectors:["dot","dot","not"],label:"CCNOT",root:"x"},exportInfo:{quil:{name:"CCNOT"},cirq:{name:"CCX",notTfqSupported:!0},quest:{name:"ccx",func:`void ccx(Qureg qubits, const int q1, const int q2, const int q3) {
    hadamard(qubits, q3);
    controlledNot(qubits, q2, q3);
    phaseShift(qubits, q3, -M_PI/4);
    controlledNot(qubits, q1, q3);
    tGate(qubits, q3);
    controlledNot(qubits, q2, q3);
    phaseShift(qubits, q3, -M_PI/4);
    controlledNot(qubits, q1, q3);
    tGate(qubits, q2);
    tGate(qubits, q3);
    controlledNot(qubits, q1, q2);
    hadamard(qubits, q3);
    tGate(qubits, q1);
    phaseShift(qubits, q2, -M_PI/4);
    controlledNot(qubits, q1, q2);
}`},qsharp:{name:"CCNOT"},quirk:{name:"X",controlled:!0},braket:{name:"ccnot"},aqasm:{name:"CCNOT"},cudaq:{name:"x",controlled:!0,controlWiresCount:2}}},cswap:{description:'Controlled swap aka "Fredkin" gate',matrix:[[1,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1]],numTargetQubits:2,numControlQubits:1,params:[],drawingInfo:{connectors:["dot","x","x"],label:"SWP",root:"swap"},exportInfo:{cirq:{name:"CSWAP"},quest:{name:"cswap",func:`void cswap(Qureg qubits, const int q1, const int q2, const int q3) {
    controlledNot(qubits, q3, q2);
    hadamard(qubits, q3);
    controlledNot(qubits, q2, q3);
    phaseShift(qubits, q3, -M_PI/4);
    controlledNot(qubits, q1, q3);
    tGate(qubits, q3);
    controlledNot(qubits, q2, q3);
    phaseShift(qubits, q3, -M_PI/4);
    controlledNot(qubits, q1, q3);
    tGate(qubits, q2);
    tGate(qubits, q3);
    hadamard(qubits, q3);
    controlledNot(qubits, q1, q2);
    tGate(qubits, q1);
    phaseShift(qubits, q2, -M_PI/4);
    controlledNot(qubits, q2, q3);
    controlledNot(qubits, q3, q2);
}`},qsharp:{name:"Controlled SWAP"},quil:{name:"CSWAP"},pyquil:{name:"CSWAP"},quirk:{name:"Swap",controlled:!0},braket:{name:"unitary",array:"[[1,0,0,0,0,0,0,0], [0,1,0,0,0,0,0,0], [0,0,1,0,0,0,0,0], [0,0,0,1,0,0,0,0], [0,0,0,0,1,0,0,0], [0,0,0,0,0,0,1,0], [0,0,0,0,0,1,0,0], [0,0,0,0,0,0,0,1]]"},aqasm:{name:"SWAP",controlled:!0},cudaq:{name:"swap",controlled:!0,controlWiresCount:1}}},csrswap:{description:"Controlled square root of swap",matrix:[[1,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,"0.5 * (1 + i)","0.5 * (1 - i)",0],[0,0,0,0,0,"0.5 * (1 - i)","0.5 * (1 + i)",0],[0,0,0,0,0,0,0,1]],numTargetQubits:2,numControlQubits:1,params:[],drawingInfo:{connectors:["dot","box","box"],label:"&#x221A;SWP",root:"srswap"},exportInfo:{quest:{name:"csrswap",func:"TODO"},cirq:{replacement:{name:"srswap",type:"controlled",notTfqSupported:!0}},quil:{name:"csrswap",defgate:`DEFGATE csrswap:
    1, 0, 0, 0, 0, 0, 0, 0
    0, 1, 0, 0, 0, 0, 0, 0
    0, 0, 1, 0, 0, 0, 0, 0
    0, 0, 0, 1, 0, 0, 0, 0
    0, 0, 0, 0, 1, 0, 0, 0
    0, 0, 0, 0, 0, 0.5+0.5i, 0.5-0.5i, 0
    0, 0, 0, 0, 0, 0.5-0.5i, 0.5+0.5i, 0
    0, 0, 0, 0, 0, 0, 0, 1`},pyquil:{name:"csrswap",array:"[[1,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,0.5 * (1 + 1j),0.5 * (1 - 1j),0],[0,0,0,0,0,0.5 * (1 - 1j),0.5 * (1 + 1j),0],[0,0,0,0,0,0,0,1]]"},braket:{name:"unitary",array:"[[1,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,0.5 * (1 + 1j),0.5 * (1 - 1j),0],[0,0,0,0,0,0.5 * (1 - 1j),0.5 * (1 + 1j),0],[0,0,0,0,0,0,0,1]]"},aqasm:{name:"SQRTSWAP",controlled:!0},cudaq:{name:"csrswap",matrix:"[[1,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,0.5 * (1 + 1j),0.5 * (1 - 1j),0],[0,0,0,0,0,0.5 * (1 - 1j),0.5 * (1 + 1j),0],[0,0,0,0,0,0,0,1]]"}}},reset:{description:"Resets qubit",matrix:[],params:[],drawingInfo:{connectors:["box"],label:"RST"},exportInfo:{quil:{name:"RESET"},cirq:{name:"reset",notTfqSupported:!0},quest:{name:"reset",func:"TODO"},qsharp:{name:"Reset"},cudaq:{name:"reset"}}},measure:{description:"Measures qubit and stores outcome (0 or 1) into classical register",matrix:[],params:[],drawingInfo:{connectors:["gauge"],label:""},exportInfo:{quil:{name:"MEASURE"},cirq:{name:"measure"},quest:{name:"measure"},qsharp:{name:"M"},cudaq:{name:"mz"}}}},this.init(o)}var l=n("mathjs"),x=n("./qasm_import/QASMImport.js"),S=function(o,p){(p=p||{}).decimalPlaces&&(o=l.round(o,p.decimalPlaces));var b=o+"";p.fixedWidth&&(b=o.toFixed(p.decimalPlaces||14));var y=p.plusChar;return p.fixedWidth&&!y&&(y=" "),y&&0<=o&&(b=y+b),b};function D(o,p){for(var b=o.toString(2);b.length<p;)b="0"+b;return b}function h(o,p){return parseInt(D(o,p).split("").reverse().join(""),2)}m.prototype.defaultHybridOptions=function(){return{optimizer:"Powell",tolerance:.001,costFunction:{python:"",javascript:""}}},m.prototype.defaultEncoderDecoderOptions=function(){return{functionName:"",inputEncoding:{type:"custom",customFunction:{python:`def custom_encoder(input_data_row, input_encoding):
    qasm = ""
    qasm += "OPENQASM 2.0;\\n"
    qasm += "include \\"qelib1.inc\\";\\n"

    # ...

    return qasm
`,javascript:`function customEncoder(inputDataRow, inputEncoding) {
    let qasm = "";
    qasm += "OPENQASM 2.0;\\n";
    qasm += "include \\"qelib1.inc\\";\\n";
    
    // ...
    
    return qasm;
}
`},qubitOffset:0,colDefs:[],data:[]},outputDecoding:{type:"custom",customFunction:{python:`def custom_decoder(counts, output_decoding):
    output_data_row = {}

    # ...
    
    return output_data_row
`,javascript:`function customDecoder(counts, outputDecoding) {
    outputDataRow = {};
    
    // ...
    
    return outputDataRow;
}
`},qubitOffset:0,colDefs:[]}}},m.prototype.init=function(o,p){p=p||{},this.numQubits=o||1,this.gates=[],this.partitionMap=[],this.partitionCount=0,this.partitionInfo={},this.params=[],this.options={params:{},hybrid:!1,hybridOptions:this.defaultHybridOptions(),encoderDecoder:!1,encoderDecoderOptions:this.defaultEncoderDecoderOptions()},p.keepCustomGates||(this.customGates={}),this.cregs={},this.collapsed=[],this.prob=[],this.measureResetsQubit=!1,this.reverseBitOrder=!1,this.clear()},m.prototype.clearGates=function(){this.gates=[];for(var o=0;o<this.numQubits;o++)this.gates.push([])},m.prototype.clear=function(){this.clearGates(),this.initState()},m.prototype.resetState=function(){for(var o in this.state={},this.stateBits=0,this.partitionCache={},this.cregs){var p=this.cregs[o].length||0;this.cregs[o]=[];for(var b=0;b<p;b++)this.cregs[o].push(0)}this.collapsed=[],this.prob=[],this.stats={duration:0}},m.prototype.initState=function(){this.resetState(),this.state[0]=l.complex(1,0)},m.prototype.formatComplex=function(o,p){return g(o.re,o.im,p)},m.prototype.multiplySquareMatrices=function(o,p){for(var b=o.length,y=b,A=b,E=b,N=[];y--;)for(N[y]=[],A=b;A--;)for(N[y][A]=0,E=b;E--;)o[y][E]&&p[E][A]&&(N[y][A]?N[y][A]=l.add(N[y][A],l.multiply(o[y][E],p[E][A])):N[y][A]=l.multiply(o[y][E],p[E][A]));return N},m.prototype.isIdentityMatrix=function(o,p){p===void 0&&(p=14);for(var b=0;b<o.length;b++)for(var y=0;y<o.length;y++)if(l.round(o[b][y],p)!=(b==y?1:0))return!1;return!0},m.prototype.isUnitaryMatrix=function(o,p){return this.isIdentityMatrix(l.multiply(o,l.ctranspose(o)),p)},m.prototype.isHermitianMatrix=function(o,p){return this.matrixDiff(o,l.ctranspose(o))<=l.pow(10,-1*(p||14))},m.prototype.matrixDiff=function(o,p){for(var b=0,y=0,A=0;A<o.length;A++)for(var E=o[A],N=p[A],T=0;T<E.length;T++){var O=E[T],j=N[T],M=typeof O=="object"?O:l.complex(O),F=typeof j=="object"?j:l.complex(j);b+=l.abs(l.subtract(M,F)),y++}return y?b/y:0},m.prototype.parseMathString=function(o){var p=[],b=l.parse(o.replace(/[\t\n\r]/gm,""));return{expression:b.toString({handler:function(y,A){if(y.isSymbolNode){if(y.name=="j")return"i";p.indexOf(y.name)<0&&p.push(y.name)}}}),variables:p,node:b}},m.prototype.evalMathString=function(o,p){p=p||{};var b=this.parseMathString(o),y=l.evaluate(b.expression,p);return y instanceof l.Matrix?y.toArray():y},m.prototype.parseMatrix=function(o,p){var b=this,y=null,y=typeof o=="string"?b.evalMathString(o,p):o,A=[];return y.map(function(E,N){Array.isArray(E)?(A.push([]),E.map(function(T,O){typeof T=="string"?A[N].push(b.evalMathString(T,p)):A[N].push(T)})):typeof E=="string"?A.push(b.evalMathString(E,p)):A.push(E)}),A},m.prototype.matrixHasComplexElement=function(o){for(var p=0;p<o.length;p++){var b=o[p];if(b instanceof Array)for(var y=0;y<b.length;y++){var A=b[y];if(A instanceof l.Complex||typeof A=="object"&&(A.mathjs&&A.mathjs=="Complex"||A.type&&A.type=="Complex"))return!0}else if(b instanceof l.Complex||typeof b=="object"&&(b.mathjs&&b.mathjs=="Complex"||b.type&&b.type=="Complex"))return!0}return!1},m.prototype.matrixZeroImagToReal=function(o){for(var p=0;p<o.length;p++){var b=o[p];if(b instanceof Array)for(var y=0;y<b.length;y++){var A=b[y];(A instanceof l.Complex||typeof A=="object"&&(A.mathjs&&A.mathjs=="Complex"||A.type&&A.type=="Complex"))&&l.im(A)==0&&(o[p][y]=l.re(A))}else(b instanceof l.Complex||typeof b=="object"&&(b.mathjs&&b.mathjs=="Complex"||b.type&&b.type=="Complex"))&&l.im(b)==0&&(o[p]=l.re(b))}return o},m.prototype.stringifyMatrix=function(o,p){var b=this,y=o.toArray?o.toArray():o,A=!1;(p=p||{}).fixedWidth&&(A=this.matrixHasComplexElement(y));var E="";return E+="[",y.map(function(N,T){0<T&&(E+=","),p.minify?E+=" ":E+=`
  `,N instanceof Array?(E+="[",N.map(function(O,j){0<j&&(E+=", "),O instanceof l.Complex?E+=b.formatComplex(O,p):typeof O=="object"&&(O.mathjs&&O.mathjs=="Complex"||O.type&&O.type=="Complex")?E+=g(O.re,O.im,p):E+=typeof O=="string"?O:A?g(O,0,p):S(O,p)}),E+="]"):N instanceof l.Complex?E+=b.formatComplex(N,p):typeof N=="object"&&(N.mathjs&&N.mathjs=="Complex"||N.type&&N.type=="Complex")?E+=g(N.re,N.im,p):E+=typeof N=="string"?N:A?g(N,0,p):S(N,p)}),y.length&&(p.minify?E+=" ":E+=`
`),E+="]"},m.prototype.matrixRe=function(o){for(var p=[],b=0;b<o.length;b++){var y=o[b];if(Array.isArray(y)){for(var A=[],E=0;E<y.length;E++)typeof y[E]=="object"?A.push(y[E].re):A.push(y[E]);p.push(A)}else typeof y=="object"?A.push(y.re):A.push(y)}return p},m.prototype.matrixIm=function(o){for(var p=[],b=0;b<o.length;b++){var y=o[b];if(Array.isArray(y)){for(var A=[],E=0;E<y.length;E++)typeof y[E]=="object"?A.push(y[E].im):A.push(0);p.push(A)}else typeof y=="object"?A.push(y.im):A.push(0)}return p},m.prototype.matrixAbs=function(o){for(var p=[],b=0;b<o.length;b++){var y=o[b];if(Array.isArray(y)){for(var A=[],E=0;E<y.length;E++)A.push(l.abs(y[E]));p.push(A)}else p.push(l.abs(y))}return p},m.prototype.matrixArg=function(o){for(var p=[],b=0;b<o.length;b++){var y=o[b];if(Array.isArray(y)){for(var A=[],E=0;E<y.length;E++)A.push(l.arg(y[E]));p.push(A)}else p.push(l.arg(y))}return p},m.prototype.setCombinedState=function(o){for(var p={},b=0,y=0,A=0;A<o.length;A++)(N=o[A]).wires.map(function(V){y<V+1&&(y=V+1)});for(var E=[],A=0;A<o.length;A++){var N=o[A],T=[];N.wires.map(function(R,U){T.push({and:1<<y-1-R,or:1<<N.circuit.numQubits-1-U})}),E.push(T)}for(var O=1<<y,j=0;j<O;j++){for(var M=null,A=0;A<o.length;A++){for(var F=E[A],B=0,I=0;I<F.length;I++)j&F[I].and&&(B|=F[I].or);var G=(N=o[A]).circuit.state[B],M=G?M==null?G:l.multiply(G,M):l.complex(0,0)}M&&(M.re||M.im)&&(p[j]=M,b|=j)}if(this.resetState(),this.numQubits<y){for(this.numQubits=y;this.gates.length<this.numQubits;)this.gates.push([]);for(var k=this.numCols(),I=0;I<this.gates.length;I++)for(;this.gates[I].length<k;)this.gates[I].push(null)}this.state=p,this.stateBits=b,this.stateBits==0&&Object.keys(this.state).length==0&&(this.state[0]=l.complex(1,0))},m.prototype._setCombinedState=function(o,p,b){b=b||{};var y=o.numQubits,A=p.numQubits;if(!b.wireMap){b.wireMap={c1:[],c2:[]};for(var E=0;E<y;E++)b.wireMap.c1.push(E);for(E=0;E<A;E++)b.wireMap.c2.push(E+y)}var N=0;b.wireMap.c1.map(function(H){N<H+1&&(N=H+1)}),b.wireMap.c2.map(function(H){N<H+1&&(N=H+1)});var T=[];b.wireMap.c1.map(function(H,X){T.push({and:1<<N-1-H,or:1<<y-1-X})});var O=[];b.wireMap.c2.map(function(H,X){O.push({and:1<<N-1-H,or:1<<A-1-X})});for(var j=0,E=0;E<N;E++)b.wireMap.c1.indexOf(E)<0&&b.wireMap.c2.indexOf(E)<0&&(j|=1<<N-1-E);for(var M={},F=0,B=1<<N,I=0;I<B;I++)if(!(I&j)){for(var G=0,E=0;E<T.length;E++)I&T[E].and&&(G|=T[E].or);for(var k=0,E=0;E<O.length;E++)I&O[E].and&&(k|=O[E].or);var V,R,U=o.state[G];U&&(!(V=p.state[k])||((R=l.multiply(U,V)).re||R.im)&&(M[I]=R,F|=I))}if(this.resetState(),this.numQubits<N){for(this.numQubits=N;this.gates.length<this.numQubits;)this.gates.push([]);for(var L=this.numCols(),E=0;E<this.gates.length;E++)for(;this.gates[E].length<L;)this.gates[E].push(null)}this.state=M,this.stateBits=F,this.stateBits==0&&Object.keys(this.state).length==0&&(this.state[0]=l.complex(1,0))},m.prototype.appendQubits=function(o){var p=new m(o);this._setCombinedState(this,p)},m.prototype.numAmplitudes=function(o){if(o){var p=0;for(var b in this.state){var y=l.round(this.state[b],14);(y.re||y.im)&&p++}return p}return l.pow(2,this.numQubits)},m.prototype.numCols=function(){return this.gates.length?this.gates[0].length:0},m.prototype.numGates=function(o){var p=null;o?(p=new m).load(this.save(!0)):p=this;for(var b=0,y=p.numCols(),A=0;A<y;A++)for(var E=0;E<p.numQubits;E++){var N=p.getGateAt(A,E);N&&N.connector==0&&b++}return b},m.prototype.isEmptyCell=function(o,p){if(this.gates[p]&&this.gates[p][o])return!1;for(var b=0;b<this.numQubits;b++){var y=this.getGateAt(o,b);if(y&&(y.name=="measure"||y.options&&y.options.condition&&y.options.condition.creg||Math.min.apply(null,y.wires)<p&&Math.max.apply(null,y.wires)>p))return!1}return!0},m.prototype.isEmptyPlace=function(o,p,b){var y,A=Math.min.apply(null,p),E=Math.max.apply(null,p);!b||E<(y=this.numQubits-1)&&(E=y);for(var N=!0,T=A;T<=E;T++)if(!this.isEmptyCell(o,T)){N=!1;break}return N},m.prototype.lastNonEmptyPlace=function(o,p){var b,y=this.numCols(),A=!0,E=Math.min.apply(null,o),N=Math.max.apply(null,o);for(!p||N<(b=this.numQubits-1)&&(N=b);A&&y--;)for(var T=E;T<=N;T++)if(!this.isEmptyCell(y,T)){A=!1;break}return y},m.prototype.insertColumn=function(o){for(var p=0;p<this.numQubits;p++)this.gates[p].splice(o||0,0,null)},m.prototype.randomString=function(o){o=o||17;var p="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";p+=b.charAt(Math.floor(Math.random()*b.length)),b+="0123456789";for(var y=0;y<o;y++)p+=b.charAt(Math.floor(Math.random()*b.length));return p},m.prototype.addGate=function(o,p,b,y){var A=[];if(Array.isArray(b))for(var E=0;E<b.length;E++)A.push(b[E]);else A.push(b);p<0&&(p=this.lastNonEmptyPlace(A,o=="measure"||y&&y.condition&&y.condition.creg)+1);for(var N=A.length,T=this.randomString(),O=0;O<N;O++){var j=A[O];for(j+1>this.numQubits&&(this.numQubits=j+1);this.gates.length<this.numQubits;)this.gates.push([]);var M=this.numCols();for(M<p+1&&(M=p+1),E=0;E<this.gates.length;E++)for(;this.gates[E].length<M;)this.gates[E].push(null);var F,B,I,G={id:T,name:o,connector:O,options:{}};y&&(G.options=y).creg&&y.creg.name&&y.creg.bit!==void 0&&(F=parseInt(y.creg.bit||0),isNaN(F)&&(F=0),I=F<(B=this.cregs[y.creg.name]||[]).length?B[y.creg.bit]:0,this.setCregBit(y.creg.name,F,I)),this.gates[j][p]=G}return T},m.prototype.appendGate=function(o,p,b){return this.addGate(o,-1,p,b)},m.prototype.insertGate=function(o,p,b,y){var A=[];if(Array.isArray(b))for(var E=0;E<b.length;E++)A.push(b[E]);else A.push(b);p<0&&(p=this.lastNonEmptyPlace(A,!!o&&o=="measure"||y&&y.condition&&y.condition.creg)+1);for(var N=A.length,T=0;T<N;T++){var O=A[T];for(O+1>this.numQubits&&(this.numQubits=O+1);this.gates.length<this.numQubits;)this.gates.push([]);var j=this.numCols();for(j<p+1&&(j=p+1),E=0;E<this.gates.length;E++)for(;this.gates[E].length<j;)this.gates[E].push(null)}this.isEmptyPlace(p,A,!!o&&o=="measure"||y&&y.condition&&y.condition.creg)||this.insertColumn(p);var M=null;return o&&(M=this.addGate(o,p,A,y)),M},m.prototype.insertSpace=function(o,p){return this.insertGate(null,o,p,null)},m.prototype.removeGateAt=function(o,p){if(this.gates[p]){var b=this.gates[p][o];if(b)for(var y=b.id,A=this.gates.length,E=0;E<A;E++){var N=this.gates[E][o];N&&N.id==y&&(this.gates[E][o]=null)}}},m.prototype.removeGate=function(o){var p=this.getGatePosById(o);!p||p.col<0||!p.wires.length||this.removeGateAt(p.col,p.wires[0])},m.prototype.addMeasure=function(o,p,b){this.addGate("measure",-1,o,{creg:{name:p,bit:b}})},m.prototype.appendCircuit=function(o,p){for(var b=this.numCols(),y=o.numCols(),A=0;A<y;A++)for(var E=0;E<o.numQubits;E++){var N=o.getGateAt(A,E);N&&N.connector==0&&(!this.basicGates[N.name]&&o.customGates[N.name]&&this.registerGate(N.name,o.customGates[N.name]),this.addGate(N.name,A+b,N.wires,N.options))}},m.prototype.removeTrailingColumns=function(){for(var o=this.numCols()-1;0<=o;o--){for(var p=!0,b=0;b<this.numQubits;b++)if(this.gates[b][o]){p=!1;break}if(!p)return;for(b=0;b<this.numQubits;b++)this.gates[b].pop()}},m.prototype.removeLeadingColumns=function(){for(var o=0,p=this.numCols(),b=0;b<p;b++){for(var y=!0,A=0;A<this.numQubits;A++)if(this.gates[A][b]){y=!1;break}if(!y)break;o++}for(var E=0;E<o;E++)for(A=0;A<this.numQubits;A++)this.gates[A].shift()},m.prototype.removeTrailingRows=function(){for(var o=this.numCols(),p=this.numQubits-1;0<=p;p--){for(var b=!0,y=0;y<o;y++)if(this.gates[p][y]){b=!1;break}if(!b)return;this.gates.pop(),this.numQubits--}},m.prototype.removeQubit=function(o){if(this.gates[o]){this.resetState();for(var p=this.numCols(),b=0;b<p;b++)this.removeGateAt(b,o);for(var y=o+1;y<this.numQubits;y++)for(b=0;b<p;b++)this.gates[y-1][b]=this.gates[y][b];this.gates.pop(),this.numQubits--}},m.prototype.flipVertically=function(){this.resetState();for(var o=this.numCols(),p=this.numQubits-1,b=0;b<this.numQubits/2;b++)for(var y=0;y<o;y++){var A=this.gates[b][y];this.gates[b][y]=this.gates[p-b][y],this.gates[p-b][y]=A}},m.prototype.flipHorizontally=function(){this.resetState();for(var o=this.numCols(),p=o-1,b=0;b<this.numQubits;b++)for(var y=0;y<o/2;y++){var A=this.gates[b][y];this.gates[b][y]=this.gates[b][p-y],this.gates[b][p-y]=A}},m.prototype.applyTransform=function(o,p){var b={},y=0;if(p=p.slice(0),this.reverseBitOrder)for(var A=0;A<p.length;A++)p[A]=this.numQubits-1-p[A];p.reverse();for(var E=[],A=0;A<this.numQubits;A++)p.indexOf(A)<0&&E.push(A);var N=1<<E.length;function T(Z){var J=0;return p.map(function(K,$){Z&1<<$&&(J|=1<<K)}),J}for(var O=l.complex(0,0),j=0;j<o.length;j++)for(var M=T(j),F=0;F<o[j].length;F++){var B=T(F);if((this.stateBits&B)==B){var I=o[j][F];if(I)for(var G,k=B,V=N,R=T(0),U=function(){var Z=0;return p.map(function(J,K){Z|=1<<J}),Z+1}(),L=function(){var Z=0;return E.map(function(J,K){Z|=1<<J}),Z}(),H=R;V--;){var X=this.state[k];X&&(b[G=H|M]=I==1?l.add(b[G]||O,X):l.add(b[G]||O,l.multiply(I,X)),y|=G),k=(H=H+U&L)|B}}}this.state=b,this.stateBits=y,this.stateBits==0&&Object.keys(this.state).length==0&&(this.state[0]=l.complex(1,0))},m.prototype.transformMatrix=function(o,p,b,y){if(b=b.slice(0),y?y=="big":!this.reverseBitOrder)for(var A=0;A<b.length;A++)b[A]=o-1-b[A];b.reverse();for(var E=[],A=0;A<o;A++)b.indexOf(A)<0&&E.push(A);var N=1<<E.length;function T(H){var X=0;return b.map(function(Z,J){H&1<<J&&(X|=1<<Z)}),X}for(var O=l.zeros([1<<o,1<<o]),j=0;j<p.length;j++)for(var M=T(j),F=0;F<p[j].length;F++){var B=T(F),I=p[j][F];if(I)for(var G=B,k=N,V=T(0),R=function(){var H=0;return b.map(function(X,Z){H|=1<<X}),H+1}(),U=function(){var H=0;return E.map(function(X,Z){H|=1<<X}),H}(),L=V;k--;)O[L|M][G]=I,G=(L=L+R&U)|B}return O},m.prototype.circuitMatrix=function(o){var p=new m;if(p.load(this.save(!0)),p.gotClassicalControl())return[];for(var b=[],y=p.numCols()-1;0<=y;y--)for(var A=p.numQubits-1;0<=A;A--){var E=p.getGateAt(y,A);if(E&&E.connector==0){var N,T,O=p.basicGates[E.name];if(!O)throw new Error('Unknown gate "'+E.name+'"');O.matrix&&O.matrix.length&&(N=p.getRawGate(O,E.options),T=p.transformMatrix(p.numQubits,N,E.wires,o),b=b&&b.length?this.multiplySquareMatrices(b,T):T)}}return b},m.prototype.eigenvalues2x2=function(o){var p=this.parseMatrix(o),b=[0,0],y=l.add(p[0][0],p[1][1]);return b[0]=l.divide(l.add(y,l.sqrt(l.add(l.multiply(l.multiply(4,p[0][1]),p[1][0]),l.pow(l.subtract(p[0][0],p[1][1]),2)))),2),b[1]=l.divide(l.subtract(y,l.sqrt(l.add(l.multiply(l.multiply(4,p[0][1]),p[1][0]),l.pow(l.subtract(p[0][0],p[1][1]),2)))),2),b},m.prototype.getBipartiteState=function(o,p){var b,y,A,E={},N=0;for(var T in this.state){var O=parseInt(T),j=0;j|=O&1<<o?1:0,E[j|=O&1<<p?2:0]!==void 0?E[j]=(b=E[j],y=this.state[T],A=void 0,A=l.add(b,y).arg(),l.complex({abs:l.sqrt(l.pow(l.abs(b),2)+l.pow(l.abs(y),2)),arg:A})):E[j]=this.state[T],N++}return N||(E[0]=l.complex(1,0)),E},m.prototype.chanceMap=function(){for(var o={},p=0;p<this.numQubits;p++)for(var b=0;b<this.numQubits;b++)o[p]||(o[p]={}),o[p][b]=b==p?null:{};for(p=0;p<this.numQubits;p++)for(b=p+1;b<this.numQubits;b++){var y=this.getBipartiteState(p,b),A=new m(2);A.state=y;var E=l.abs(A.angles()[0].radius),N=l.round(1-l.pow(E,2),7);o[p][b].entangled=0<N,o[p][b].concurence=N,o[p][b].concurencePercent=l.round(100*N,2),o[b][p].entangled=0<N,o[b][p].concurence=N,o[b][p].concurencePercent=l.round(100*N,2)}return o},m.prototype.resetQubit=function(o,p){var b=[[0,0],[0,0]],y=null,y=this.reverseBitOrder?l.pow(2,this.numQubits-1-o):l.pow(2,o),A=0;for(var E in this.state){var N=parseInt(E);(p?N&y:!(N&y))&&(A+=l.pow(l.abs(this.state[E]),2))}(A=l.round(A,14))!=1&&(p?A==0?b[1][0]=1:b[1][1]=l.sqrt(1/A):A==0?b[0][1]=1:b[0][0]=l.sqrt(1/A),this.collapsed=[],this.prob=[],this.applyTransform(b,[o]))},m.prototype.applyGate=function(o,p,b,y){if(o!="measure"){var A,E;o!="reset"?(A=this.basicGates[o])?(E=this.getRawGate(A,y),this.collapsed=[],this.prob=[],this.applyTransform(E,b)):console.log('Unknown gate "'+o+'".'):this.resetQubit(b[0],0)}else{if(!y.creg)throw'Error: "measure" gate requires destination.';var N=this.measure(b[0],y.creg.name,y.creg.bit),T=this.measureResetsQubit;if(!T)for(var O=p;O<this.numCols();O++){for(var j=O==p?b[0]:0;j<this.numQubits;j++){var M=this.gates[j][O];if(M&&M.name!="measure"){T=!0;break}}if(T)break}T&&this.resetQubit(b[0],N)}},m.prototype.getRawGate=function(o,p,b){var y=b&&b.params?b.params:this.options&&this.options.params?this.options.params:{},A=JSON.parse(JSON.stringify(y));for(var E in A)A[E]=l.evaluate(A[E]);var N=[];return o.matrix.map(function(T){var O=[];T.map(function(j){var M,F,B;typeof j=="string"?(M=p&&p.params||{},F={},o.params.map(function(I,G){Array.isArray(M)?F[I]=G<M.length?l.evaluate(M[G],A):null:F[I]=l.evaluate(M[I],A)}),B=l.evaluate(j,F),O.push(B)):O.push(j)}),N.push(O)}),N},m.prototype.countParameterizedGates=function(){for(var o=0,p=this.numCols(),b=0;b<p;b++)for(var y=0;y<this.numQubits;y++){var A=this.getGateAt(b,y);if(A&&A.connector==0&&A.options&&A.options.params){var E=0;for(paramName in A.options.params)E++;0<E&&o++}}return o},m.prototype.findGlobalParams=function(){for(var o={globalParams:[],cells:[]},p=this.numCols(),b=0;b<p;b++)for(var y=0;y<this.numQubits;y++){var A=this.getGateAt(b,y);if(A&&A.connector==0&&A.options&&A.options.params){var E=!1;for(var N in A.options.params){var T=A.options.params[N];if(typeof T=="string"){var O=function(F){var B=[];return l.parse(F).toString({handler:function(I,G){!I.isSymbolNode||I.isFunctionNode||l[I.name]||B.push(I.name)}}),B}(T);if(O.length){for(var j,M=0;M<O.length;M++)o.globalParams.indexOf(O[M])<0&&o.globalParams.push(O[M]);E||(j=Math.max.apply(null,A.wires),o.cells.push([b,j]),E=!0)}}}}}return o},m.prototype.getGlobalParams=function(){return this.findGlobalParams().globalParams},m.prototype.gotGlobalParams=function(){return 0<this.getGlobalParams().length},m.prototype.updateGlobalParams=function(){this.params=this.getGlobalParams(),this.options=this.options||{},this.options.params=this.options.params||{};for(var o=0;o<this.params.length;o++){var p=this.params[o];this.options.params[p]===void 0&&(this.options.params[p]=0)}for(var p in this.options.params)this.params.indexOf(p)<0&&delete this.options.params[p];return this.params},m.prototype.isGateParamsGlobal=function(o){if(this.getGlobalParams(),o.options&&o.options.params){for(var p in o.options.params){var b=o.options.params[p],y=!1;if(typeof b=="string"&&function(A){var E=[];return l.parse(A).toString({handler:function(N,T){!N.isSymbolNode||N.isFunctionNode||l[N.name]||E.push(N.name)}}),E}(b).length&&(y=!0),!y)return!1}return!0}return!1},m.prototype.makeGateParamsGlobal=function(o){var p=this.getGlobalParams();if(o.options&&o.options.params)for(var b in o.options.params){var y=o.options.params[b],A=!1;if(typeof y=="string"&&function(O){var j=[];return l.parse(O).toString({handler:function(M,F){!M.isSymbolNode||M.isFunctionNode||l[M.name]||j.push(M.name)}}),j}(y).length&&(A=!0),!A){for(var E=0;0<=p.indexOf("var"+E);)E++;var N="var"+E;p.push(N);for(var T=0;T<o.wires.length;T++)this.gates[o.wires[T]][o.column].options.params[b]=N;this.params.push(N),this.options.params[N]=y}}},m.prototype.makeAllParamsGlobal=function(){for(var o=this.numCols(),p=0;p<o;p++)for(var b=0;b<this.numQubits;b++){var y=this.getGateAt(p,b);y&&y.connector==0&&this.makeGateParamsGlobal(y)}},m.prototype.decompose=function(o){if(!o.gates.length)return o;function p(H,X,Z){return H.slice(0,Z).concat(X).concat(H.slice(Z))}this.updateGlobalParams();for(var b=0;b<o.gates[0].length;b++)for(var y=0;y<o.numQubits;y++){var A=o.gates[y][b];if(A&&A.connector==0&&!this.basicGates[A.name]){var E=new m,N=o.customGates[A.name];if(N){if(E.load(N),E.params.length&&A.options&&A.options.params){for(var T=A.options.params,O=0;O<E.gates[0].length;O++)for(var j=0;j<E.numQubits;j++)if((B=E.gates[j][O])&&B.connector==0&&B.options&&B.options.params)for(var M in B.options.params){var F=l.parse(B.options.params[M]).transform(function(H,X,Z){return H.isSymbolNode&&T.hasOwnProperty(H.name)?l.parse("("+T[H.name]+")"):H});B.options.params[M]=F.toString()}}if(A.options&&A.options.condition)for(O=0;O<E.gates[0].length;O++)for(var B,j=0;j<E.numQubits;j++)(B=E.gates[j][O])&&(B.options=B.options||{},B.options.condition=A.options.condition);var I=E.save(!0);if(!I.gates[0].length)for(var G=0;G<I.gates.length;G++)I.gates[G].push(null);for(var k=[],V=0;V<I.gates[0].length-1;V++)k.push(null);for(var R=0;R<o.numQubits;R++){var U=o.gates[R][b];if(U&&U.id==A.id){o.gates[R].splice(b,1);for(var L=JSON.parse(JSON.stringify(I.gates[U.connector])),G=0;G<L.length;G++)L[G]&&(L[G].id=L[G].id+"_"+A.id);o.gates[R]=p(o.gates[R],L,b)}else o.gates[R]=p(o.gates[R],k,b+1)}}}}return o.customGates={},o},m.prototype.decomposeGateAt=function(o,p){var b=this,y=this.getGateAt(o,p);if(y&&this.customGates[y.name]){var A=new m;A.load(this.save());for(var E=0;E<A.gates[0].length;E++)for(var N=0;N<A.numQubits;N++){var T=A.gates[N][E];T&&T.id!=y.id&&A.removeGateAt(E,N)}var O=new m;O.load(A.save(!0)),O.removeLeadingColumns(),O.removeTrailingColumns();for(var j=0;j<O.gates[0].length-1;j++)this.insertSpace(o+j,y.wires);this.removeGate(y.id);for(var M=o,E=0;E<O.gates[0].length;E++)O.getGatesAtColumn(E).map(function(B){b.addGate(B.name,M,B.wires,B.options)}),M++;return O}},m.prototype.removeMeasurementAndClassicalControl=function(){for(var o=this.numCols(),p=0;p<o;p++)for(var b=0;b<this.numQubits;b++){var y=this.gates[b][p];y&&y.name=="measure"&&(y=this.gates[b][p]=null),y&&y.options&&y.options.condition&&delete this.gates[b][p].options.condition}this.cregs={},this.options&&(this.options.hybrid=!1,this.options.hybridOptions&&delete this.options.hybridOptions,this.options.encoderDecoder=!1,this.options.encoderDecoderOptions&&delete this.options.encoderDecoderOptions)},m.prototype.convertToCustomGate=function(o,p,b){for(var y=this.numCols(),A=0;A<y;A++)for(var E=0;E<this.numQubits;E++){var N=this.gates[E][A];N&&N.name=="measure"&&(N=this.gates[E][A]=null),N&&N.options&&N.options.condition&&delete this.gates[E][A].options.condition}this.cregs={};var T=this.save(p);if(T.options&&(T.options.hybrid=!1,T.options.hybridOptions&&delete T.options.hybridOptions,T.options.encoderDecoder=!1,T.options.encoderDecoderOptions&&delete T.options.encoderDecoderOptions),this.clear(),this.customGates[o]=T,b){for(var O=[],j=0;j<this.numQubits;j++)O.push(j);var M=JSON.parse(JSON.stringify(this.customGates[o].options));this.addGate(o,-1,O,M)}else this.removeTrailingRows()},m.prototype.validCustomGateName=function(o){o=(o||"sub")+"";var p=[];if(this.customGates){if(!this.basicGates[o]&&!this.customGates[o])return o;for(var b in this.basicGates)p.push(b);for(var b in this.customGates)p.push(b)}for(var y=0,A="";A=o+ ++y,0<=p.indexOf(A););return A},m.prototype.splitIntoBlocks=function(o,p){p=p||{};var b=[],y="{}",A=!0,E=null,N=new m;N.load(this.save(!0));for(var T=N.numCols(),O=0;O<T;O++)for(var j=0;j<N.numQubits;j++)if((oe=N.getGateAt(O,j))&&oe.connector==0&&!oe.addedToBlock){var M=this.basicGates[oe.name],F=oe.options&&oe.options.condition?JSON.stringify(oe.options.condition):"{}",B=M&&!(!M.matrix||!M.matrix.length),I=JSON.parse(JSON.stringify(E?E.wires:[]));if(oe.wires.map(function(ve){I.indexOf(ve)<0&&I.push(ve)}),b.length&&F==y&&B&&A&&I.length<=o?(E.wires=I,E.gates.push(oe)):(E={wires:oe.wires,gates:[oe]},b.push(E),oe.options&&oe.options.condition&&(E.condition=oe.options.condition)),oe.wires.map(function(ve){N.gates[ve][O].addedToBlock=!0}),y=F,A=B,!p.verticalOnly){var G=O+1,k=JSON.parse(JSON.stringify(E.wires));for(k.sort();G<T&&k.length;){for(extWire=k[0];k.length&&extWire<=k[k.length-1];){var V=N.getGateAt(G,extWire);if(V&&!V.addedToBlock){var R=this.basicGates[V.name],U=V.options&&V.options.condition?JSON.stringify(V.options.condition):"{}",L=R&&!(!R.matrix||!R.matrix.length)&&U==F;if(L){for(var H=0;H<V.wires.length;H++)if(k.indexOf(V.wires[H])<0){L=!1;break}}if(L)E.gates.push(V),V.wires.map(function(ve){N.gates[ve][G].addedToBlock=!0});else{for(var X=[],H=0;H<k.length;H++){var Z=k[H];V.wires.indexOf(Z)<0&&X.push(Z)}k=X}}if(k.length){for(var J=k[k.length-1]+1,H=k.length-1;0<=H;H--)(Z=k[H])>extWire&&(J=Z);extWire=J}}G++}}}for(var K=new m,$=0,W=0;W<b.length;W++){var Y=b[W],te=!1;if(Y.wires.length<=o||p.flexibleBlockSize)for(var ce=0;ce<Y.gates.length;ce++){var oe=Y.gates[ce];(M=this.basicGates[oe.name]).matrix&&M.matrix.length&&(te=!0)}if(te){$++;for(var ue=new m,ce=0;ce<Y.gates.length;ce++){(oe=Y.gates[ce]).options.condition&&delete oe.options.condition;var Ce=[];oe.wires.map(function(pe){Ce.push(Y.wires.indexOf(pe))}),oe.wires=Ce,ue.appendGate(oe.name,Ce,oe.options)}var le="block"+$;K.registerGate(le,ue);var ye={};Y.condition&&(ye.condition=Y.condition),K.appendGate(le,Y.wires,ye)}else Y.gates.map(function(ve){K.appendGate(ve.name,ve.wires,ve.options)})}this.load(K.save(!1))},m.prototype.usedGates=function(o){o=o||{};var p=new m;p.load(this.save(!0));for(var b=[],y=0;y<p.numQubits;y++)for(var A=0;A<p.numCols();A++){var E,N,T=p.gates[y][A];T&&b.indexOf(T.name)<0&&(E=!1,o.unitariesOnly&&((N=p.basicGates[T.name])&&N.matrix&&N.matrix.length||(E=!0)),E||b.push(T.name))}if(!o.noCustomGates)for(var O in this.customGates)this.customGates[O],b.indexOf(O)<0&&b.push(O);return b},m.prototype.countOps=function(o,p){(p=p||{}).shallow=p.shallow||!1,o=o||this;for(var b={},y=0;y<o.gates.length;y++)for(var A=0;A<o.gates[y].length;A++){var E=o.gates[y][A];if(E&&E.connector==0)if(this.basicGates[E.name])b[E.name]?b[E.name]++:b[E.name]=1;else{var N=this.customGates[E.name];if(N&&(b[E.name]?b[E.name]++:b[E.name]=1,!p.shallow)){var T=this.countOps(N,p);for(subName in T)b[subName]?b[subName]+=T[subName]:b[subName]=T[subName]}}}return b},m.prototype.getCouplingMap=function(o){o=o||{};var p="",b=new m;b.load(this.save(!0));for(var y=0;y<b.numQubits;y++)for(var A=0;A<b.numCols();A++){var E,N,T,O=b.getGateAt(A,y);O&&O.connector==0&&(E=!1,o.unitariesOnly&&((N=b.basicGates[O.name])&&N.matrix&&N.matrix.length||(E=!0)),E||(T=JSON.stringify(O.wires),p.indexOf(T)<0&&(p&&(p+=","),p+=T)))}return JSON.parse("["+p+"]")},m.prototype.getGateDef=function(o){return this.basicGates[o]||this.customGates[o]},m.prototype.importRaw=function(o,p){var b=o&&o.qubits||0;if(this.init(b),!o){if(!p)return;p([])}if(o.cregs)for(var y=0;y<o.cregs.length;y++){var A=o.cregs[y];if(!A.name){var E="Classical register "+y+` doesn't have a "name".`;if(p)return void p([{msg:E,line:0,col:0}]);throw new Error(E)}this.createCreg(A.name,A.len||0)}if(o.program)for(y=0;y<o.program.length;y++){var N=o.program[y];if(!N.name){if(E="Gate "+y+` doesn't have a "name". Name is optional and this is OK for QubitToaster but we cannot import gate from matrix. Not implemented yet.`,p)return void p([{msg:E,line:0,col:0}]);throw new Error(E)}var T=this.basicGates[N.name];if(!T){if(E='Unknown gate "'+N.name+'". Name is optional and this is OK for QubitToaster but we cannot import gate from matrix. We can import only gates by name from set of known gates.',p)return void p([{msg:E,line:0,col:0}]);throw new Error(E)}var O=JSON.parse(JSON.stringify(N.wires||[])),j=JSON.parse(JSON.stringify(N.options||{})),M=T.matrix&&T.matrix.length?l.log2(T.matrix.length):1;if(O.length!=M){if(E='Gate "'+N.name+'" has '+O.length+" wires but should have "+M+" wires.",p)return void p([{msg:E,line:0,col:0}]);throw new Error(E)}if(T.params&&T.params.length){if(!j.params){if(E='Missing parameters for gate "'+N.name+'". Expecting '+T.params.length+" parameters.",p)return void p([{msg:E,line:0,col:0}]);throw new Error(E)}for(var F=0;F<T.params.length;F++){var B=T.params[F];if(j.params[B]===void 0){if(E='Missing parameter "'+B+'" for gate "'+N.name+'".',p)return void p([{msg:E,line:0,col:0}]);throw new Error(E)}}}this.appendGate(N.name,O,j)}p&&p([])},m.prototype.exportRaw=function(){var o=this.options&&this.options.params?this.options.params:{},o=JSON.parse(JSON.stringify(o));for(var p in o)o[p]=l.evaluate(o[p]);var b=new m;b.load(this.save(!0));for(var y=b.numCols(),A=[],E=0;E<y;E++)for(var N=0;N<b.numQubits;N++){var T=b.getGateAt(E,N);if(T&&T.connector==0){var O=b.basicGates[T.name];if(!O)return void console.log('Unknown gate "'+T.name+'".');var j=b.getRawGate(O,T.options),M=[];j.map(function(k){var V=[];k.map(function(R){typeof(R=JSON.parse(JSON.stringify(R)))=="object"&&R.mathjs&&typeof R.mathjs=="string"&&(R.type=R.mathjs.toLowerCase(),delete R.mathjs),V.push(R)}),M.push(V)});var F={};if(T.options&&(F=JSON.parse(JSON.stringify(T.options))),F.params)for(var B in F.params)F.params[B]=l.evaluate(F.params[B],o);A.push({name:T.name,matrix:M,wires:T.wires,options:F})}}var I=[];for(var G in b.cregs)I.push({name:G,len:b.cregs[G].length||0});return{qubits:b.numQubits,cregs:I,program:A}},m.prototype.exportToGenerator=function(o){o=o||{};var p=this.exportQASM(null,!1,null,!1,!0),b=this.usedGates({noCustomGates:!0,unitariesOnly:!0}),y=this.getCouplingMap({unitariesOnly:!0}),A={source:{circuit:{qasm:p}},problem:[],type:"circuit",settings:{allowed_gates:b.join(","),coupling_map:y}},E=new m;if(E.load(this.save(!0)),o.fromMatrix){var N=E.circuitMatrix(),T=[];return N.map(function(G){G.map(function(k){typeof k=="object"?T.push([k.re,k.im]):T.push(k)})}),A.problem.push({unitary:T}),A}if(!o.noVectors)if(o.basisInputVectors){for(var O=l.pow(2,this.numQubits),j=o.numSamples||O,M=[],F=0;F<O;F++)M.push(l.complex(0,0));for(F=0;F<j;F++){var B={input:[],output:[]};M[F]=l.complex(1,0),M.map(function(G){B.input.push([G.re,G.im])}),E.run(null,{initialState:M}),E.stateAsArray().map(function(G){B.output.push([G.amplitude.re,G.amplitude.im])}),A.problem.push(B),M[F]=l.complex(0,0)}}else for(var I=new m,j=o.numSamples||(this.numQubits<3?8:this.numQubits<5?1+(1<<this.numQubits):this.numQubits<9?4*this.numQubits:this.numQubits),F=0;F<j+1;F++)B={input:[],output:[]},M=[],M=0<F?(I.randomCircuit(this.numQubits,20,{useGates:o.useGates||["u3","cx"],noClassicControl:!0,noMeasure:!0,noReset:!0}),I.run(),I.stateAsArray().map(function(V){B.input.push([V.amplitude.re,V.amplitude.im])}),I.state):(E.initState(),E.stateAsArray().map(function(V){B.input.push([V.amplitude.re,V.amplitude.im])}),E.state),E.run(null,{initialState:M}),E.stateAsArray().map(function(V){B.output.push([V.amplitude.re,V.amplitude.im])}),A.problem.push(B);return A},m.prototype.save=function(o,p){this.updateGlobalParams();var b={numQubits:this.numQubits,params:JSON.parse(JSON.stringify(this.params)),options:JSON.parse(JSON.stringify(this.options)),gates:JSON.parse(JSON.stringify(this.gates)),customGates:JSON.parse(JSON.stringify(this.customGates)),cregs:JSON.parse(JSON.stringify(this.cregs))},y=null,y=o?this.decompose(b):b;if(p&&(y.gates&&y.gates.map(function(N){N&&N.map(function(T){T&&T.id&&delete T.id})}),y.customGates))for(var A in y.customGates){var E=y.customGates[A];E&&E.gates&&E.gates.map(function(N){N&&N.map(function(T){T&&T.id&&delete T.id})})}return y},m.prototype.load=function(o){this.numQubits=o.numQubits||1,this.clear(),this.params=JSON.parse(JSON.stringify(o.params||[])),this.options=JSON.parse(JSON.stringify(o.options||{})),this.gates=JSON.parse(JSON.stringify(o.gates||[])),this.customGates=JSON.parse(JSON.stringify(o.customGates||{})),this.cregs=JSON.parse(JSON.stringify(o.cregs||{})),this.options.params=this.options.params||{},this.options.hybrid=this.options.hybrid||!1,this.options.hybridOptions||(this.options.hybridOptions=this.defaultHybridOptions()),this.options.encoderDecoder=this.options.encoderDecoder||!1,this.options.encoderDecoderOptions||(this.options.encoderDecoderOptions=this.defaultEncoderDecoderOptions())};function _(o){if(o<=0)throw new Error("Cannot generate the gray code for less than 1 bit.");var p=[0];for(i=0;i<o;i++)[].concat(p).reverse().map(function(y){p.push(y+l.pow(2,i))});var b=[];return p.map(function(y){b.push(D(y,o))}),b}m.prototype.grayCodeChain=function(o,p,b){for(var y=[],A=0;A<o;A++)y.push(A);var E=o,N=_(o),T=null,O=[];return N.map(function(j){var M=j.indexOf("1");if(0<=M){var F=function(V,R){for(var U=[],L=0;L<V.length;L++)U.push(V[L]!=R[L]);return U}(j,T=T||j).indexOf(!0);if(0<=F)if(F!=M)O.push({gateName:"cx",wires:[y[F],y[M]],options:null});else for(var B=function(V,R){for(var U=[],L=0;L<V.length;L++)V[L]==R&&U.push(L);return U}(j,"1"),I=1;I<B.length;I++)O.push({gateName:"cx",wires:[y[B[I]],y[M]],options:null});if(function(V,R){for(var U=0,L=0;L<V.length;L++)V[L]==R&&U++;return U}(j,"1")%2)O.push({gateName:p,wires:[y[M],E],options:b});else{var G=null;if(b&&(G=JSON.parse(JSON.stringify(b))).params)for(key in G.params){var k=typeof(k=G.params[key])=="number"?0-k:"-("+k+")";G.params[key]=k}O.push({gateName:p,wires:[y[M],E],options:G})}T=j}}),O},m.prototype.MCU1Circuit=function(o){var p=0,b=[];if(typeof o=="number")p=o;else{p=o.length||0;for(var y=0;y<p;y++)(!o[y]||typeof o[y]=="number"&&o[y]<0)&&b.push(y)}if(p==0)throw new Error("Cannot create multi-controlled gate with zero control qubits.");function A(T,O){O.map(function(j){T.appendGate("x",j)})}var E={params:{lambda:"lambda / "+l.pow(2,p-1)}},N=new m;return p==1?(A(N,b),N.appendGate("cu1",[0,1],E)):(A(N,b),this.grayCodeChain(p,"cu1",E).map(function(T){N.appendGate(T.gateName,T.wires,T.options)})),A(N,b),N},m.prototype.MCXCircuit=function(o){var p=0,b=[];if(typeof o=="number")p=o;else{p=o.length||0;for(var y=0;y<p;y++)(!o[y]||typeof o[y]=="number"&&o[y]<0)&&b.push(y)}var A=new m;if(p==0)throw new Error("Cannot create multi-controlled gate with zero control qubits.");function E(j,M){M.map(function(F){j.appendGate("x",F)})}if(p==1)return E(A,b),A.appendGate("cx",[0,1]),E(A,b),A;if(p==2)return E(A,b),A.appendGate("ccx",[0,1,2]),E(A,b),A;for(var N=A.MCU1Circuit(p),T="mcu1_"+p,O=[],y=0;y<p+1;y++)O.push(y);return A.registerGate(T,N),E(A,b),A.appendGate("h",p),A.appendGate(T,O,{params:{lambda:"pi"}}),E(A,b),A.appendGate("h",p),A},m.prototype.registerGate=function(o,p){if(this.customGates[o]=p instanceof m?p.save():p,this.isMultiControlledGate(o)){var b=this.decodeMultiControlledGateName(o);if(b.numCtrlQubits!=this.customGates[o].numQubits-1){b.numCtrlQubits=this.customGates[o].numQubits-1;for(var y=[],A=0;A<b.numCtrlQubits;A++)y.push(b.ctrlQubits[A]===void 0||b.ctrlQubits[A]);b.ctrlQubits=y}var E,N=this.basicGates[b.rootName];N&&N.drawingInfo&&N.drawingInfo.connectors&&(this.customGates[o].drawingInfo||(this.customGates[o].drawingInfo={}),E=[],b.ctrlQubits.map(function(T){T?E.push("dot"):E.push("ndot")}),E.push(N.drawingInfo.connectors[N.drawingInfo.connectors.length-1]),this.customGates[o].drawingInfo.connectors=E,this.customGates[o].drawingInfo.root=N.drawingInfo.root)}},m.prototype.registerMCXGate=function(o){var p=this.multiControlledGateName("mcx",o);return this.registerGate(p,this.MCXCircuit(o).save(!0)),p},m.prototype.registerMCU1Gate=function(o){var p=this.multiControlledGateName("mcu1",o);return this.registerGate(p,this.MCU1Circuit(o).save(!0)),p},m.prototype.registerMultiControlledGate=function(o,p){switch(o){case"cx":return this.registerMCXGate(p);case"cu1":return this.registerMCU1Gate(p)}return""},m.prototype.getOrRegisterMultiControlledEquivalent=function(o,p){var b=this.basicGates[o];if(b){if(b.drawingInfo&&(o=="x"||o=="u1"||b.drawingInfo.root=="x"||b.drawingInfo.root=="u1")){if(this.basicGates["c"+o]&&!p)return"c"+o;for(var y="c"+(b.drawingInfo.root||o),A=l.log2(b.matrix.length),E=[],N=0;N<A-1;N++)E.push(!0);return E.unshift(!p),this.registerMultiControlledGate(y,E)}for(var T in this.basicGates){var O=this.basicGates[T];if(O&&O.drawingInfo&&O.drawingInfo.root&&O.drawingInfo.root==o&&!p)return T}return null}if(this.customGates[o]){var j=this.decodeMultiControlledGateName(o);return j&&j.numCtrlQubits&&(j.rootName=="cx"||j.rootName=="cu1")?(j.ctrlQubits.unshift(!p),this.registerMultiControlledGate(j.rootName,j.ctrlQubits)):null}return null},m.prototype.removeUnusedMultiControlledGates=function(){var o=this.countOps(null,{shallow:!1});for(gateName in this.customGates)o[gateName]||this.isMultiControlledGate(gateName)&&delete this.customGates[gateName]},m.prototype.decodeMultiControlledGateName=function(o){if(!o)return null;var p,b={},y=o.split("_");if(0<y.length&&(b.name=y[0],b.rootName=b.name.substring(1),b.rootName!="cx"&&b.rootName!="cu1"))return null;if(1<y.length&&(p=parseInt(y[1]),!isNaN(p)&&p<=20&&(b.numCtrlQubits=p)),b.numCtrlQubits){var A=[];if(2<y.length)for(var E=0;E<y[2].length;E++)y[2][E]=="0"&&A.push(!1),y[2][E]=="1"&&A.push(!0);if(!A.length)for(E=0;E<p;E++)A.push(!0);b.ctrlQubits=A}return b},m.prototype.multiControlledGateName=function(o,p){var b,y=o+"_";return typeof p=="number"?y+=p:(y+=p.length||0,b="",p.map(function(A){b+=!A||typeof A=="number"&&A<0?"0":"1"}),b.indexOf("0")<0&&(b=""),b&&(y+="_"+b)),y},m.prototype.isMultiControlledGate=function(o){var p=this.decodeMultiControlledGateName(o);return!!this.customGates[o]&&!!p&&!!p.numCtrlQubits},m.prototype.isControllableGate=function(o){var p=this.basicGates[o];if(p){if(p.drawingInfo&&(p.drawingInfo.root=="x"||p.drawingInfo.root=="u1"))return!0;for(var b in this.basicGates)if((p=this.basicGates[b])&&p.drawingInfo&&p.drawingInfo.root&&p.drawingInfo.root==o)return!0}return this.isMultiControlledGate(o)},m.prototype.getGatePosById=function(o){for(var p=this.numCols(),b=0;b<p;b++)for(var y=0;y<this.numQubits;y++){var A=this.getGateAt(b,y);if(A&&A.id==o)return{wires:A.wires,col:b}}return{wires:[],col:-1}},m.prototype.getGateById=function(o){for(var p=this.numCols(),b=0;b<p;b++)for(var y=0;y<this.numQubits;y++){var A=this.getGateAt(b,y);if(A&&A.id==o)return A}return null},m.prototype.getGateBefore=function(o,p){for(var b=null,y=o-1;0<=y&&!b;)b=this.getGateAt(y,p),y--;return b},m.prototype.getGateAt=function(o,p){if(!this.gates[p]||!this.gates[p][o])return null;var b=JSON.parse(JSON.stringify(this.gates[p][o]));if(!b)return null;b.column=o,b.wires=[];for(var y=b.id,A=this.gates.length,p=0;p<A;p++){var E=this.gates[p][o];E&&E.id==y&&(b.wires[E.connector]=p)}return b},m.prototype.getGatesAtColumn=function(o){for(var p=[],b=this.gates.length,y=0;y<b;y++){var A=this.getGateAt(o,y);A&&A.connector==0&&p.push(A)}return p},m.prototype.getControllableGatesAtColumn=function(o){for(var p=this.getGatesAtColumn(o),b=[],y=0;y<p.length;y++){var A=p[y];this.isControllableGate(A.name)&&b.push(A)}return b},m.prototype.exportJavaScript=function(o,p,b,y){var A=this,E=null;p?(E=new m).load(this.save(!0)):E=this;var N="";o&&(o||"").split(`
`).map(function(J){2<=J.length&&J[0]!="/"&&J[1]!="/"&&(N+="// "),N+=J,N+=`
`});var T,O,j="",M="";b?(N+="const "+b+` = function() {
`,N+=(j="    ")+"const "+(M="circ")+" = new QuantumCircuit("+E.numQubits+`);

`,E.params&&E.params.length&&(N+=j+M+".params = "+JSON.stringify(E.params)+`

`)):(N+=(j="")+`const QuantumCircuit = require("quantum-circuit");

`,N+=j+"const "+(M="circuit")+" = new QuantumCircuit("+E.numQubits+`);

`,T=E.usedGates(),p||(O=[],T.map(function(J){var K,$;E.basicGates[J]||(K=A.customGates[J])&&(($=new m).load(K),N+=$.exportJavaScript("",!0,J),O.push(J))}),O.map(function(J){N+=j+M+'.registerGate("'+J+'", '+J+`());
`}),0<O.length&&(N+=`
`)));var F=0;for(var B in this.cregs)N+=j+M+'.createCreg("'+B+'", '+(this.cregs[B].length||1)+`);
`,F++;0<F&&(N+=`
`);for(var I=E.numCols(),G=0;G<I;G++)for(var k=0;k<this.numQubits;k++){var V=E.getGateAt(G,k);if(V&&V.connector==0)if(V.name=="measure"&&V.options&&V.options.creg)N+=j+M+".addMeasure("+k+', "'+V.options.creg.name+'", '+V.options.creg.bit+`);
`;else{if(N+=j+M+'.appendGate("'+V.name+'"',V.wires.length==1)N+=", ",N+=V.wires[0];else{N+=", [";for(var R=0;R<V.wires.length;R++)0<R&&(N+=","),N+=V.wires[R];N+="]"}if(V.options){var U,L,H={};for(var X in V.options)V.options[X]&&(L=!1,typeof(U=V.options[X])=="object"&&Object.keys(U).length===0&&U.constructor===Object&&(L=!0),L||(H[X]=U));N+=", "+JSON.stringify(H)}N+=`);
`}}if(b?(N+=`
`,N+=j+"return "+M+`;
`,N+=`};

`):(N+=`
`,N+=j+M+`.run();

`,N+=j+`console.log("Probabilities:");
`,N+=j+`console.log(JSON.stringify(circuit.probabilities()));

`,N+=j+`console.log("Measure all:");
`,N+=j+`console.log(JSON.stringify(circuit.measureAll()));

`,E.cregCount()&&(N+=j+`console.log("Classical registers:");
`,N+=j+`console.log(circuit.cregsAsString());

`)),y){var Z={metadata:{kernelspec:{display_name:"Javascript (Node.js)",language:"javascript",name:"javascript"},language_info:{file_extension:".js",mimetype:"application/javascript",name:"javascript"}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:N,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(Z)}return N},m.prototype.exportQiskit=function(o,p,b,y,A,E,N,T,O,j,M,F){var B={comment:o,decompose:p,versionStr:y,providerName:A,backendName:E,asJupyter:N,shots:T,hybrid:M,encoderDecoder:F};return this.exportToQiskit(B,b,O,j)},m.prototype.exportCudaQ=function(o,p,b,y,A,E,N,T,O,j,M,F){var B={comment:o,decompose:p,versionStr:y,providerName:A,backendName:E,asJupyter:N,shots:T,hybrid:M,encoderDecoder:F};return this.exportToCudaQ(B,b,O,j)},m.prototype.exportQuEST=function(o,p,b,y){var A={comment:o,decompose:p};return this.exportToQuEST(A,b,y)},m.prototype.exportQASM=function(o,p,b,y,A,E){var N={comment:o,decompose:p,compatibilityMode:A};return this.exportToQASM(N,b,y,E)},m.prototype.importQASM=function(o,p,b){this.init(),x(this,o,p,b)},m.prototype.exportPyquil=function(o,p,b,y,A,E,N,T,O,j){var M={comment:o,decompose:p,versionStr:y,lattice:A,asQVM:E,asJupyter:N,shots:T,hybrid:O,encoderDecoder:j};return this.exportToPyquil(M,b)},m.prototype.exportQuil=function(o,p,b,y){var A={comment:o,decompose:p,versionStr:y};return this.exportToQuil(A,b)},m.prototype.importQuil=function(o,p,b,y,A,E){var N=this;b=b||{},N.init(),A=A||{},E=E||0;var T=o.split(`
`),O=[],j=!1;T.map(function(Ce,le){var ye,ve;(Ce=Ce.split("#")[0]).length?Ce=Ce.trim():j=!1,j?(ve=Ce.split(";")).map(function(pe){pe.trim().length&&O[O.length-1].body.push(pe.trim())}):Ce.length&&(ye=Ce.split(";"),ve=[],ye.map(function(pe){pe.trim().length&&ve.push(pe.trim())}),ve.map(function(pe){var be=pe.split(" "),Ne=be[be.length-1];if(Ne.length&&(Ne[Ne.length-1]==":"&&(j=!0,Ne=Ne.substring(0,Ne.length-1),be[be.length-1]=Ne),be.length)){var he="GATE";be[0]!="DEFGATE"&&be[0]!="DEFCIRCUIT"||(he=be[0],be.splice(0,1));var ne,re=be.join(" "),de=[],xe=re.indexOf("(");0<=xe?xe<(ne=re.indexOf(")"))&&((de=re.substring(xe+1,ne).split(",")).map(function(Fe,$e){for(Fe=Fe.trim();Fe.length&&Fe[0]=="%";)Fe=Fe.slice(1);de[$e]=Fe}),ne+1<=re.length?(tok=re.substring(ne+1,re.length).split(" "),be=[],tok.map(function(Fe){(Fe=Fe.trim()).length&&be.push(Fe)})):be=[],re=re.substring(0,xe).trim()):re=be.splice(0,1)[0].trim();for(var Pe=[],Ae=0;Ae<be.length;Ae++){var Oe,Se=be[Ae];y&&0<=(Oe=y.indexOf(Se))?Pe.push(Oe):Pe.push(Se)}O.push({type:he,name:re,params:de,args:Pe,body:[],line:le,col:0})}}))});for(var M=O.length,F=0;F<M;F++){var B,I=O[F];switch(A[I.name]&&(I.name=A[I.name]),I.type){case"DEFGATE":I.name==I.name.toUpperCase()&&(B=I.name.toLowerCase(),A[I.name]=B,I.name=B);break;case"DEFCIRCUIT":I.name==I.name.toUpperCase()&&(B=I.name.toLowerCase(),A[I.name]=B,I.name=B);var G=I.body.join(`
`),k=I.args,V=new m;V.importQuil(G,p,b,k,A,I.line+1),V.params=JSON.parse(JSON.stringify(I.params)),N.registerGate(I.name,V.save());break;case"GATE":switch(I.name){case"DECLARE":case"HALT":case"PRAGMA":break;default:var R=function(Ce){if(N.customGates&&N.customGates[Ce])return{name:Ce,customGate:N.customGates[Ce]};for(var le in N.basicGates){var ye=N.basicGates[le];if(ye.exportInfo){if(ye.exportInfo.quil&&ye.exportInfo.quil.name==Ce)return{name:le,gateDef:ye,quilDef:ye.exportInfo.quil};if(ye.exportInfo.pyquil&&ye.exportInfo.pyquil.name==Ce)return{name:le,gateDef:ye,quilDef:ye.exportInfo.pyquil}}}return null}(I.name);if(!R){var U='Cannot recognize "'+I.name+'".';if(p)return void p([{msg:U,line:E+I.line,col:I.col}]);throw new Error(U)}var L={};if(R.gateDef){var H=R.gateDef,X=R.quilDef;if((X.params||[]).length!=(I.params||[]).length){if(U="Invalid number of params. Expected "+(X.params||[]).length+" got "+(I.params||[]).length+".",p)return void p([{msg:U,line:E+I.line,col:I.col}]);throw new Error(U)}for(var Z=0;Z<H.params.length;Z++){var J=H.params[Z],K=X.params.indexOf(J);if(K<0||K>=I.params.length){if(U='Internal error: QUIL definition for gate "'+I.name+" is invalid.",p)return void p([{msg:U,line:E+I.line,col:I.col}]);throw new Error(U)}L[J]=I.params[K]}}else{if(((H=R.customGate).params||[]).length!=(I.params||[]).length){if(U="Invalid number of params. Expected "+(H.params||[]).length+" got "+(I.params||[]).length+".",p)return void p([{msg:U,line:E+I.line,col:I.col}]);throw new Error(U)}for(Z=0;Z<H.params.length;Z++)L[J=H.params[Z]]=I.params[Z]}if(I.name=="MEASURE"){if(I.args.length!=2){if(U="Expecting 2 arguments (qubit and target register) but found "+I.args.length+".",p)return void p([{msg:U,line:E+I.line,col:I.col}]);throw new Error(U)}}else{var $=1;if(H.numQubits?$=H.numQubits:H.matrix&&H.matrix.length&&($=l.log2(H.matrix.length)),I.args.length!=$){if(U="Expecting "+$+" arguments but found "+I.args.length+".",p)return void p([{msg:U,line:E+I.line,col:I.col}]);throw new Error(U)}}for(var W=[],Y={},Z=0;Z<I.args.length;Z++){var te=I.args[Z];if(I.name=="MEASURE"){var ce=te.indexOf("[");if(0<=ce){var oe=te.indexOf("]");ce<oe&&(cregBit=te.substring(ce+1,oe),cregName=te.substring(0,ce),Y={bit:cregBit,name:cregName})}else{var ue=parseInt(te);if(isNaN(ue)){if(!(0<Z)){if(U='Invalid argument "'+te+'"',p)return void p([{msg:U,line:E+I.line,col:I.col}]);throw new Error(U)}W.push(te)}W.push(ue)}}else{if(ue=parseInt(te),isNaN(ue)){if(U='Invalid argument "'+te+'"',p)return void p([{msg:U,line:E+I.line,col:I.col}]);throw new Error(U)}W.push(ue)}}N.appendGate(R.name,W,{params:L,creg:Y})}}}p&&p([])},m.prototype.importIonq=function(o,p){var b=this,y=o.qubits||1;if(b.init(y),!o.circuit){if(p)return void p([{msg:"Invalid file format.",line:-1,col:-1}]);throw new Error("Invalid file format.")}o.circuit.map(function(A){var E=function(B){if(b.customGates&&b.customGates[B])return{name:B,customGate:b.customGates[B]};for(var I in b.basicGates){var G=b.basicGates[I];if(G.exportInfo&&G.exportInfo.ionq&&(G.exportInfo.ionq.name&&G.exportInfo.ionq.name==B||G.exportInfo.ionq.names&&0<=G.exportInfo.ionq.names.indexOf(B)))return{name:I,gateDef:G}}return null}(A.gate);if(!E){var N='Unknown gate "'+A.gate+'"';if(p)return void p([{msg:N,line:-1,col:-1}]);throw new Error(N)}var T=[];A.control!==void 0&&T.push(A.control),A.controls!==void 0&&(T=T.concat(A.controls)),A.target!==void 0&&T.push(A.target),A.targets!==void 0&&(T=T.concat(A.targets));var O=[];A.rotation!==void 0&&O.push(A.rotation),A.phase!==void 0&&O.push(A.phase),A.phases!==void 0&&(O=O.concat(A.phases));var j=E.gateDef?E.gateDef.matrix?l.log2(E.gateDef.matrix.length):1:E.customGate.numQubits||1,M=E.gateDef?E.gateDef.params||[]:E.customGate.params||[];if(T.length!=j){if(N='Gate "'+A.gate+'": invalid number of qubits. Expected '+j+" but got "+T.length+".",p)return void p([{msg:N,line:-1,col:-1}]);throw new Error(N)}if(O.length!=M.length){if(N='Gate "'+A.gate+'": invalid number of params. Expected '+M.length+" but got "+O.length+".",p)return void p([{msg:N,line:-1,col:-1}]);throw new Error(N)}var F={};O.length&&(F.params={},M.map(function(B,I){F.params[B]=A.rotation?O[I]:2*l.pi*O[I]})),b.appendGate(E.name,T,F)}),p&&p([])},m.prototype.exportToIonq=function(o,p){var b=this.options&&this.options.params?this.options.params:{},b=JSON.parse(JSON.stringify(b));for(var y in b)b[y]=l.evaluate(b[y]);var A=new m;A.load(this.save(!0));for(var E={qubits:A.numQubits,circuit:[]},N=A.numCols(),T=0;T<N;T++)for(var O=0;O<A.numQubits;O++){var j,M,F=A.getGateAt(T,O);F&&F.connector==0&&((j=A.getGateDef(F.name)).exportInfo&&j.exportInfo.ionq&&(j.exportInfo.ionq.name||j.exportInfo.ionq.names)?(M={gate:j.exportInfo.ionq.name||j.exportInfo.ionq.names[0]},j.params&&j.params.length&&(M[j.exportInfo.ionq.paramsKey]=[],j.params.map(function(B){var I=l.evaluate(F.options.params[B],b);j.exportInfo.ionq.paramsKey!="rotation"&&(I/=2*l.pi),M[j.exportInfo.ionq.paramsKey].push(I)}))):M={gate:'Export gate "'+F.name+'" to IONQ not supported yet. Comming soon.'},E.circuit.push(M))}return E},m.prototype.exportQuirk=function(o){var p=this,y=null,b=this.save(!0),y=new m,A=new m;y.load(b),A.load(b);var E={cols:[],gates:[]},N=this.options&&this.options.params?this.options.params:{},T=new m,O={};gateKeys=Object.keys(O);for(var j=0;j<gateKeys.length;j++)if(gateKey=gateKeys[j],O[gateKey].isDecomposeCustomCircuit)for(var M=O[gateKey].info.length-1;0<=M;M--){var F=O[gateKey].info[M],B=F.gateInCustomCircuit;y.insertGate(B.name,F.column,B.wires,B.options)}for(var I=null,G=null,k=0;k<R;k++)for(var V=0;V<y.numQubits;V++)(U=y.getGateAt(k,V))&&(G&&G.name!=U.name&&G.connector!=0&&I==k&&(y.removeGate(U.id),y.insertGate(U.name,U.column+1,U.wires,U.options)),G=U,I=k);for(var R=y.numCols(),k=0;k<R;k++){for(var U,L=[],H=[],X=!1,V=0;V<y.numQubits;V++)if((U=y.getGateAt(k,V))&&U.name!="measure"&&U.name!="reset"){var Z=y.basicGates[U.name],J=l.max(U.wires),K=l.min(U.wires),$=U.wires.slice(),H=function(he){for(var ne=[],re=0;re<he;re++)ne.push(re);return ne}(J);if(Z){var W="",Y=!1,X=!0;if(Z.exportInfo&&Z.exportInfo.quirk&&(W=Z.exportInfo.quirk.name,Y=Z.exportInfo.quirk.controlled),Z.matrix.length==4&&(W&&U.name=="swap"&&U.connector<U.wires.length-2&&Y||U.name!="swap"&&U.connector<U.wires.length-1&&Y)&&(W="•"),Z.matrix.length==8&&(W&&U.name=="cswap"&&U.connector<U.wires.length-2&&Y||U.name!="cswap"&&U.connector<U.wires.length-1&&Y)&&(W="•"),W&&L.push(W),!W){W="~"+U.name,Z.params.length&&U.options.params&&Z.params.map(function(ne){angle=l.round(l.evaluate(U.options.params[ne],N),7),W+="_"+angle});var te="";te+="{";var ce=p.getRawGate(Z,U.options),oe=$.sort(),ue=[];if(U.wires.map(function(ne){ue.push(oe.indexOf(ne))}),(J-K+1>U.wires.length||U.wires[0]>U.wires[1]?y.transformMatrix(J-K+1,ce,ue):ce).map(function(ne,re){0<re&&(te+=","),te+="{",ne.map(function(de,xe){0<xe&&(te+=","),de=typeof de!="object"?l.complex(de).toString():de.toString(),te+=de}),te+="}"}),te+="}",U.connector==0){E.gates.find(function(ne){return ne.id==W})||E.gates.push({id:W,matrix:te});for(var Ce=!1,le=0;le<L.length;le++)L[le]==W&&(Ce=!0);Ce?L.push(1):L.push(W)}else if(V<U.wires[0]){for(E.gates.push({id:W,matrix:te}),E.gates.find(function(ne){return ne.id==W})||E.gates.push({id:W,matrix:te}),Ce=!1,le=0;le<L.length;le++)L[le]==W&&(Ce=!0);Ce?L.push(1):L.push(W)}}}else{var ye,ve=[];X=!1,U.connector==0?(T.gates.find(function(he){return he&&he[0]&&he[0].name==U.name})||(ye=U.wires[0],U.wires.map(function(he){ve.push(he-ye)}),T.registerGate(U.name,p.customGates[U.name]),T.appendGate(U.name,ve)),L.push("~"+U.name)):L.push(1)}}else!X&&function(Ne,he){return-1<he.indexOf(Ne)}(V,H)||L.push(1);E.cols.push(L)}return E},m.prototype.exportCirq=function(o,p,b,y,A,E,N){var T={comment:o,decompose:p,versionStr:y,asJupyter:A,shots:E,exportTfq:N};return this.exportToCirq(T,b)},m.prototype.exportQSharp=function(o,p,b,y,A,E,N){var T={comment:o,decompose:p,versionStr:y,asJupyter:A,circuitName:E,indentDepth:N};return this.exportToQSharp(T,b)},m.prototype.exportQobj=function(o,p,b,y){var A={circuitName:o,experimentName:p,numShots:b};return this.exportToQobj(A,y)},m.prototype.importQobj=function(o,p){var b=this;if(this.init(),o&&o.experiments&&o.experiments.length){var y=o.experiments[0],A=y.header||{};this.init(parseInt(A.n_qubits||0));var E={};if(A.creg_sizes&&A.creg_sizes.length)for(var N=0,T=0;T<A.creg_sizes.length;T++){var O,j,M,F=A.creg_sizes[T];1<F.length&&(O=F[0]+"",j=parseInt(F[1]),this.createCreg(O,j),M=(1<<N+j)-(1<<N),E[O]={mask:M,offset:N},N+=j)}y.instructions;for(var B={},I=0;I<y.instructions.length;I++){var G=y.instructions[I];switch(G.name){case"bfunc":if(!(X=function($,W){for(var Y in E){var te=E[Y];if(te.mask==$)return{creg:Y,value:W>>te.offset}}}(parseInt(G.mask),parseInt(G.val)))){var k="Invalid classical condition.";if(p)return void p([{msg:k}]);throw new Error(k)}B[G.register]=X;break;case"measure":for(var V=0;V<G.qubits.length;V++){var R=G.qubits[V],U=function(W){var Y=0;for(var te in b.cregs){var ce=b.cregs[te];if(Y+ce.length>W)return{name:te,bit:W-Y};Y+=ce.length}return null}(G.memory[V]);if(!U){if(k="Invalid measurement destination.",p)return void p([{msg:k}]);throw new Error(k)}var L={creg:U};this.appendGate("measure",R,L)}break;case"barrier":break;default:var L={params:{},condition:{}},H=G.name;switch(H){case"iden":H="id"}var X,Z=this.basicGates[H];if(!Z){if(k='Unknown gate "'+G.name+'".',p)return void p([{msg:k}]);throw new Error(k)}if(Z.params&&Z.params.length){if(!G.params||!G.params.length||G.params.length!=Z.params.length){if(k='Invalid number of params for gate "'+G.name+'".',p)return void p([{msg:k}]);throw new Error(k)}for(var J=0;J<Z.params.length;J++){var K=Z.params[J];L.params[K]=G.params[J]}}if(G.conditional!==void 0){if(!(X=B[G.conditional])){if(k="Invalid classical condition.",p)return void p([{msg:k}]);throw new Error(k)}L.condition=X}this.appendGate(H,G.qubits,L)}}p&&p([])}else p&&p([{msg:"Invalid input file: no experiments found."}])},m.prototype.exportTFQ=function(o,p,b,y,A,E){var N={comment:o,decompose:p,versionStr:y,asJupyter:A,shots:E};return this.exportToTFQ(N,b)},m.prototype.exportBraket=function(o,p,b,y,A,E,N,T,O){var j={comment:o,decompose:p,versionStr:y,asJupyter:A,shots:E,hybrid:N,encoderDecoder:T,indentDepth:O};return this.exportToBraket(j,b)},m.prototype.exportSVG=function(o,p){var b=p||{};return b.embedded=!!o,this.exportToSVG(b)},m.prototype.exportToSVG=function(o){var p=this;(o=o||{}).embedded=o.embedded||!1,o.cellWidth=o.cellWidth||40,o.cellHeight=o.cellHeight||40,o.hSpacing=o.hSpacing||28,o.vSpacing=o.vSpacing||34,o.blackboxPaddingX=o.blackboxPaddingX||2,o.blackboxPaddingY=o.blackboxPaddingY||2,o.blackboxLineColor=o.blackboxLineColor||"black",o.blackboxSelectedLineColor=o.blackboxSelectedLineColor||"black",o.wireColor=o.wireColor||"black",o.gateLineColor=o.gateLineColor||"black",o.gateSelectedLineColor=o.gateSelectedLineColor||"black",o.cWireColor=o.cWireColor||"silver",o.cWireSelectedColor=o.cWireSelectedColor||"silver",o.cArrowSize=o.cArrowSize||10,o.hWireColor=o.hWireColor||"black",o.edWireColor=o.edWireColor||"black",o.wireWidth=o.wireWidth||1,o.wireTextHeight=o.wireTextHeight||8,o.wireTextDown=o.wireTextDown||16,o.wireMargin=o.wireMargin||20,o.wireLabelWidth=o.wireLabelWidth||40,o.dotRadius=o.dotRadius||5,o.paramTextHeight=o.paramTextHeight||6,o.selectionPaddingX=o.selectionPaddingX||4,o.selectionPaddingY=o.selectionPaddingY||4,o.selectionLineColor=o.selectionLineColor||"#2185D0",o.drawBlochSpheres=o.drawBlochSpheres||!1,o.drawHybrid===void 0&&(o.drawHybrid=!!this.options&&!!this.options.hybrid),o.encoderDecoder===void 0&&(o.drawEncoderDecoder=!!this.options&&!!this.options.encoderDecoder);var b=this.numQubits,y=this.numCols(),A=this.cregCount(),E=0,N=0,T=y;o.drawBlochSpheres&&T++;var O=T;o.drawHybrid&&(T+=2),o.drawEncoderDecoder&&(T+=2,O+=E=1,N=o.cellHeight+o.vSpacing);function j(Ke){return o.wireLabelWidth+(o.cellWidth+o.hSpacing)*Ke+o.hSpacing}function M(Ke){return(o.cellHeight+o.vSpacing)*Ke+o.vSpacing+N}function F(Ke,dt,vt,wt){var Nt=(wt-90)*Math.PI/180;return{x:Ke+vt*Math.cos(Nt),y:dt+vt*Math.sin(Nt)}}function B(Ke){return(o.cellHeight+o.vSpacing)*Ke+(o.vSpacing+o.cellHeight/2)+N}function I(Ke){return(o.cellHeight+o.vSpacing)*Ke+o.vSpacing+N}function G(Ke){return(o.cellHeight+o.vSpacing)*(b+function(dt){var vt=0;for(var wt in p.cregs){if(wt==dt)return vt;vt++}return vt}(Ke))+(o.vSpacing+o.cellHeight/2)+N}function k(Ke,dt,vt,wt){var Nt="";return Nt+='<rect class="qc-gate-cover" x="'+Ke+'" y="'+dt+'" width="'+vt+'" height="'+wt+'" stroke="none" fill="transparent" stroke-width="0" />'}function V(Ke,dt,vt,wt,Nt,Ot){var Tt=o.cellWidth,It=o.cellHeight,Pt="";return Pt+='<rect class="qc-gate-box" x="'+Ke+'" y="'+dt+'" width="'+Tt+'" height="'+It+'" stroke="'+(Nt?o.gateSelectedLineColor:o.gateLineColor)+'" fill="white" stroke-width="1" />',wt&&(Pt+='<text class="qc-gate-label" x="'+(Ke+Tt/2)+'" y="'+(dt+It/2)+'" dominant-baseline="middle" text-anchor="middle" fill="'+(Nt?o.gateSelectedLineColor:o.gateLineColor)+'">'+wt+"</text>"),Ot&&(Pt+=k(Ke,dt,Tt,It)),Pt}function R(Ke,dt,vt,wt,Nt,Ot){var Tt=Ke+o.cellWidth/2,It=dt+o.cellHeight/2,Pt=.8*o.cellWidth,Rt=.8*o.cellHeight,Ft=Ke+(o.cellWidth-Pt)/2,Bt=dt+(o.cellHeight-Rt)/2,Ut="";return Ut+='<ellipse class="qc-gate-not" cx="'+Tt+'" cy="'+It+'" rx="'+Pt/2+'" ry="'+Rt/2+'" stroke="'+(Nt?o.gateSelectedLineColor:o.gateLineColor)+'" fill="white" stroke-width="1" />',wt&&(Ut+='<text class="qc-gate-label" x="'+(Ft+Pt/2)+'" y="'+(Bt+Rt/2)+'" dominant-baseline="middle" text-anchor="middle">'+wt+"</text>"),Ot&&(Ut+=k(Ke,dt,o.cellWidth,o.cellHeight)),Ut}function U(Ke,dt,vt,wt,Nt){var Ot=Ke+o.cellWidth/2,Tt=dt+o.cellHeight/2,It=.8*o.cellWidth,Pt=.8*o.cellHeight,Rt=Ke+(o.cellWidth-It)/2,Ft=dt+(o.cellHeight-Pt)/2,Bt="";return Bt+='<ellipse class="qc-gate-not" cx="'+Ot+'" cy="'+Tt+'" rx="'+It/2+'" ry="'+Pt/2+'" stroke="'+(wt?o.gateSelectedLineColor:o.gateLineColor)+'" fill="white" stroke-width="1" />',Bt+='<line class="qc-gate-not-line" x1="'+Ot+'" x2="'+Ot+'" y1="'+Ft+'" y2="'+(Ft+Pt)+'" stroke="'+(wt?o.gateSelectedLineColor:o.gateLineColor)+'" stroke-width="1" />',Bt+='<line class="qc-gate-not-line" x1="'+Rt+'" x2="'+(Rt+It)+'" y1="'+Tt+'" y2="'+Tt+'" stroke="'+(wt?o.gateSelectedLineColor:o.gateLineColor)+'" stroke-width="1" />',Nt&&(Bt+=k(Ke,dt,o.cellWidth,o.cellHeight)),Bt}function L(Ke,dt,vt,wt,Nt){var Ot,Tt,It,Pt,Rt,Ft,Bt,Ut,Xt=o.cellWidth,Zt=o.cellHeight,Yt=Ke+Xt/2,rn=dt+Zt/2,Gt=Zt/5,sn="";return sn+='<rect class="qc-gate-box" x="'+Ke+'" y="'+dt+'" width="'+Xt+'" height="'+Zt+'" stroke="'+(wt?o.gateSelectedLineColor:o.gateLineColor)+'" fill="white" stroke-width="1" />',sn+='<path class="gc-gate-gauge-arc" d="'+(Pt=300,Ft=F(Ot=Yt,Tt=rn+Gt,It=Xt/2.3,Rt=60),Bt=F(Ot,Tt,It,Pt),Ut=Rt-Pt<=180?"0":"1",["M",Ft.x,Ft.y,"A",It,It,0,Ut,0,Bt.x,Bt.y].join(" "))+'" stroke="'+(wt?o.gateSelectedLineColor:o.gateLineColor)+'" fill="none" stroke-width="1" />',sn+='<line class="qc-gate-gauge-scale" x1="'+Yt+'" x2="'+(Ke+Xt-Gt)+'" y1="'+(rn+Gt)+'" y2="'+(dt+Gt)+'" stroke="'+(wt?o.gateSelectedLineColor:o.gateLineColor)+'" stroke-width="1" />',Nt&&(sn+=k(Ke,dt,Xt,Zt)),sn}function H(Ke,dt,vt,wt,Nt){var Ot=.4*o.cellWidth,Tt=.4*o.cellHeight,It=Ke+(o.cellWidth-Ot)/2,Pt=dt+(o.cellHeight-Tt)/2,Rt="";return Rt+='<line class="qc-gate-x" x1="'+It+'" x2="'+(It+Ot)+'" y1="'+Pt+'" y2="'+(Pt+Tt)+'" stroke="'+(wt?o.gateSelectedLineColor:o.gateLineColor)+'" stroke-width="1" />',Rt+='<line class="qc-gate-x" x1="'+It+'" x2="'+(It+Ot)+'" y1="'+(Pt+Tt)+'" y2="'+Pt+'" stroke="'+(wt?o.gateSelectedLineColor:o.gateLineColor)+'" stroke-width="1" />',Nt&&(Rt+=k(Ke,dt,o.cellWidth,o.cellHeight)),Rt}function X(Ke,dt,vt,wt,Nt){var Ot=o.cellWidth,Tt=o.cellHeight,It="";return It+='<circle class="qc-gate-dot" cx="'+(Ke+Ot/2)+'" cy="'+(dt+Tt/2)+'" r="'+o.dotRadius+'" stroke="'+(wt?o.gateSelectedLineColor:o.wireColor)+'" fill="'+(wt?o.gateSelectedLineColor:o.wireColor)+'" stroke-width="1" />',Nt&&(It+=k(Ke,dt,Ot,Tt)),It}function Z(Ke,dt,vt,wt,Nt){var Ot=o.cellWidth,Tt=o.cellHeight,It="";return It+='<circle class="qc-gate-ndot" cx="'+(Ke+Ot/2)+'" cy="'+(dt+Tt/2)+'" r="'+o.dotRadius+'" stroke="'+(wt?o.gateSelectedLineColor:o.wireColor)+'" fill="white" stroke-width="1" />',Nt&&(It+=k(Ke,dt,Ot,Tt)),It}function J(Ke,dt,vt,wt,Nt,Ot,Tt,It){var Pt="";switch(Nt!="box"&&Ot&&(Pt+=V(Ke,dt,0,"",Tt,It)),Nt){case"box":Pt+=V(Ke,dt,0,wt,Tt,It);break;case"rect":Pt+=function(Rt,Ft,Bt,Ut,Xt){var Zt=2*o.cellWidth,Yt=o.cellHeight,rn="";return rn+='<rect class="qc-gate-rect" x="'+Rt+'" y="'+Ft+'" width="'+Zt+'" height="'+Yt+'" stroke="'+(Ut?o.gateSelectedLineColor:o.gateLineColor)+'" fill="white" stroke-width="1" />',Bt&&(rn+='<text class="qc-gate-label" x="'+(Rt+Zt/2)+'" y="'+(Ft+Yt/2)+'" dominant-baseline="middle" text-anchor="middle">'+Bt+"</text>"),Xt&&(rn+=k(Rt,Ft,Zt,Yt)),rn}(Ke,dt,wt,Tt,It);break;case"circle":Pt+=R(Ke,dt,0,wt,Tt,It);break;case"not":Pt+=U(Ke,dt,0,Tt,It);break;case"x":Pt+=H(Ke,dt,0,Tt,It);break;case"dot":Pt+=X(Ke,dt,0,Tt,It);break;case"ndot":Pt+=Z(Ke,dt,0,Tt,It);break;case"gauge":Pt+=L(Ke,dt,0,Tt,It)}return Pt}function K(Ke){return Ke.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}var $=j(T),W=j(O),Y=(o.cellHeight+o.vSpacing)*(b+A+(o.drawHybrid?1:0))+o.vSpacing+N,te=(o.cellHeight+o.vSpacing)*(b+A)+o.vSpacing+o.cellHeight/2+N;if(o.gateGallery||o.gateGalleryRaw||o.customGateGallery){var ce=[];if(o.gateGallery||o.gateGalleryRaw){var oe=[];for(var ue in this.basicGates){var Ce,le,ye,ve=this.basicGates[ue],pe=JSON.parse(JSON.stringify(ve.drawingInfo||{connectors:["box"]}));pe.connectors&&(Ce=pe.label||ue,le=pe.connectors?pe.connectors[pe.connectors.length-1]:"box",o.gateGallery&&(le!="x"&&le!="dot"||(le="box")),ye=Ce+"|"+le,oe.indexOf(ye)<0&&ue!="ccx"&&(oe.push(ye),he="",o.embedded||(he+='<?xml version="1.0"?>',he+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'),he+='<svg class="qc-gate-gallery-item" data-gate="'+K(ue)+'" data-content="'+K(ve.description)+'" width="'+o.cellWidth+'" height="'+o.cellHeight+'" version="1.1" xmlns="http://www.w3.org/2000/svg">',he+=J(0,0,0,Ce,le,!!o.gateGallery,!1,!0),he+="</svg>",o.gateGallery?ce.push(he):ce.push({name:ue,svg:he})))}var be="";o.embedded||(be+='<?xml version="1.0"?>',be+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'),be+='<svg class="qc-gate-gallery-item" data-gate="dot" data-content="Control" width="'+o.cellWidth+'" height="'+o.cellHeight+'" version="1.1" xmlns="http://www.w3.org/2000/svg">',be+=J(0,0,0,"dot","dot",!!o.gateGallery,!1,!0),be+="</svg>",o.gateGallery?ce.push(be):ce.push({name:"dot",svg:be});var Ne="";o.embedded||(Ne+='<?xml version="1.0"?>',Ne+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'),Ne+='<svg class="qc-gate-gallery-item" data-gate="ndot" data-content="Control" width="'+o.cellWidth+'" height="'+o.cellHeight+'" version="1.1" xmlns="http://www.w3.org/2000/svg">',Ne+=J(0,0,0,"ndot","ndot",!!o.gateGallery,!1,!0),Ne+="</svg>",o.gateGallery?ce.push(Ne):ce.push({name:"dot",svg:Ne})}if(o.customGateGallery)for(var ue in this.customGates){var he="";o.embedded||(he+='<?xml version="1.0"?>',he+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'),he+='<svg class="qc-custom-gate-gallery-item" data-gate="'+ue+'" width="'+2*o.cellWidth+'" height="'+o.cellHeight+'" version="1.1" xmlns="http://www.w3.org/2000/svg">',he+=J(0,0,0,ue,"rect",!1,!1,!0),he+="</svg>",ce.push(he)}return ce}if(he="",o.embedded||(he+='<?xml version="1.0"?>',he+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'),he+='<svg class="qc-circuit" width="'+$+'" height="'+Y+'" version="1.1" xmlns="http://www.w3.org/2000/svg">',o.placeholders)for(var ne=0;ne<=y;ne++)for(var re=0;re<=this.numQubits;re++)he+=function(Ke,dt,vt){var wt="",Nt=o.cellWidth+o.hSpacing,Ot=o.cellHeight+o.vSpacing,Tt=j(Ke+dt)-o.hSpacing,It=M(vt)-o.vSpacing;return vt==b&&(Ot=o.vSpacing),dt==y&&(Nt=o.hSpacing),wt+='<rect class="qc-gate-placeholder" data-row="'+vt+'" data-col="'+dt+'" x="'+Tt+'" y="'+It+'" width="'+Nt+'" height="'+Ot+'" stroke="none" fill="transparent" stroke-width="0" />'}(E,ne,re);for(re=0;re<b;re++){var de=B(re),xe="0";o.customGate&&(xe=f(re,b)),he+='<text class="qc-wire-init" x="0" y="'+de+'" dominant-baseline="middle" text-anchor="start">|'+xe+"&#x27E9;</text>",he+='<line class="qc-wire" x1="'+o.wireMargin+'" x2="'+W+'" y1="'+de+'" y2="'+de+'" stroke="'+o.wireColor+'" stroke-width="'+o.wireWidth+'" />',he+='<text class="qc-wire-label" x="'+o.wireMargin+'" y="'+(de-2*o.wireTextHeight)+'" dominant-baseline="hanging" text-anchor="start" font-size="75%">q'+re+"</text>"}for(var Pe in this.cregs)he+='<text class="qc-wire-init" x="0" y="'+(de=G(Pe))+'" dominant-baseline="middle" text-anchor="start">0</text>',he+='<line class="qc-wire-c" x1="'+o.wireMargin+'" x2="'+W+'" y1="'+de+'" y2="'+de+'" stroke="'+o.cWireColor+'" stroke-width="'+o.wireWidth+'" />',he+='<text class="qc-wire-label" x="'+o.wireMargin+'" y="'+(de-2*o.wireTextHeight)+'" dominant-baseline="hanging" text-anchor="start" font-size="75%">'+Pe+"</text>";for(ne=0;ne<y;ne++)for(re=0;re<this.numQubits;re++)(ve=this.getGateAt(ne,re))&&ve.connector==0&&(he+=function(Ke,dt){var vt=(vt=p.basicGates[Ke.name]?p.basicGates[Ke.name].drawingInfo:null)||(p.customGates[Ke.name]?p.customGates[Ke.name].drawingInfo:null),wt=!1,Nt=o&&o.selection&&0<=o.selection.indexOf(Ke.id);for(vt||(vt={connectors:[]},wt=!0);vt.connectors.length<Ke.wires.length;)vt.connectors.push("box");var Ot,Tt,It,Pt,Rt=Math.min.apply(null,Ke.wires),Ft=Math.max.apply(null,Ke.wires),Bt=G(Ft),Ut="";Ut+='<g class="qc-gate-group" data-id="'+Ke.id+'" data-gate="'+Ke.name+'">',wt&&(Ot=j(dt)-o.blackboxPaddingX,Tt=I(Rt)-o.blackboxPaddingY,It=o.cellWidth+2*o.blackboxPaddingX,Bt=Tt+(Pt=I(Ft)+o.cellHeight-Tt+o.blackboxPaddingY),Ut+='<text class="qc-blackbox-label" x="'+(Ot+It/2)+'" y="'+(Tt-o.wireTextHeight-2*o.blackboxPaddingY)+'" dominant-baseline="hanging" text-anchor="middle" font-size="75%">'+(vt.label||Ke.name)+"</text>",Ut+='<rect class="qc-gate-blackbox" x="'+Ot+'" y="'+Tt+'" width="'+It+'" height="'+Pt+'" stroke="'+(Nt?o.blackboxSelectedLineColor:o.blackboxLineColor)+'" fill="transparent" stroke-width="1" />'),Nt&&(Ot=j(dt)-o.selectionPaddingX,Tt=I(Rt)-o.selectionPaddingY,It=o.cellWidth+2*o.selectionPaddingX,Pt=I(Ft)+o.cellHeight-Tt+o.selectionPaddingY,Bt=Tt+Pt,Ut+='<rect class="qc-gate-selection" x="'+Ot+'" y="'+Tt+'" width="'+It+'" height="'+Pt+'" stroke="'+o.selectionLineColor+'" fill="transparent" stroke-dasharray="4" stroke-width="1" />'),Rt==Ft||wt||(Xt=j(dt)+o.cellWidth/2,Zt=M(Rt)+o.cellHeight/2,Yt=M(Ft)+o.cellHeight/2,Ut+='<line class="qc-gate-link" x1="'+Xt+'" x2="'+Xt+'" y1="'+Zt+'" y2="'+Yt+'" stroke="'+(Nt?o.gateSelectedLineColor:o.wireColor)+'" stroke-width="1" />');var Xt,Zt,Yt,rn=Math.max.apply(null,Ke.wires);return Ke.wires.map(function(Gt,sn){switch(vt.connectors[sn]){case"box":var Je=j(dt),Ct=M(Gt);Ut+=V(Je,Ct,Ke.name,wt?f(sn,b):vt.label||Ke.name,Nt,!1),wt||Gt!=Ft||(Bt=Ct+o.cellHeight);break;case"circle":Je=j(dt),Ct=M(Gt),Ut+=R(Je,Ct,Ke.name,wt?f(sn,b):vt.label||Ke.name,Nt,!1),wt||Gt!=Ft||(_e=.8*o.cellHeight,Bt=Ct+_e+(o.cellHeight-_e)/2);break;case"not":var _e,je=j(dt),Ue=M(Gt);Ut+=U(je,Ue,Ke.name,Nt,!1),wt||Gt!=Ft||(_e=.8*o.cellHeight,Bt=Ue+_e+(o.cellHeight-_e)/2);break;case"x":je=j(dt),Ue=M(Gt),Ut+=H(je,Ue,Ke.name,Nt,!1),wt||Gt!=Ft||(Bt=B(Ft));break;case"dot":je=j(dt),Ue=M(Gt),Ut+=X(je,Ue,Ke.name,Nt,!1),wt||Gt!=Ft||(Bt=B(Ft)+o.dotRadius);break;case"ndot":je=j(dt),Ue=M(Gt),Ut+=Z(je,Ue,Ke.name,Nt,!1),wt||Gt!=Ft||(Bt=B(Ft)+o.dotRadius);break;case"gauge":Je=j(dt),Ct=M(Gt),Ut+=L(Je,Ct,Ke.name,Nt,!1),wt||Gt!=Ft||(Bt=Ct+o.cellHeight)}if(Ke.options&&Ke.options.params&&Gt==rn){var Je=j(dt),Ct=M(Gt),Be=Je+o.cellWidth/2,He="",ke=0;for(var Qe in Ke.options.params){He&&(He+=", ");var et=Ke.options.params[Qe];typeof et=="string"&&et.match(/^[\+\-]?\d*\.?\d+(?:[Ee][\+\-]?\d+)?$/)&&(et=parseFloat(et)),typeof et=="number"&&(et=l.round(et,3)),He+=et,ke++}26<He.length&&(He="("+ke+" params)"),Ut+='<text class="qc-gate-params" x="'+Be+'" y="'+(Ct+o.cellHeight+o.paramTextHeight)+'" dominant-baseline="hanging" text-anchor="middle" font-size="75%">'+He+"</text>"}}),Ke.name=="measure"&&Ke.options&&Ke.options.creg&&Ke.options.creg.name&&(Xt=j(dt)+o.cellWidth/2,Zt=Bt,Yt=G(Ke.options.creg.name),Ut+='<line class="qc-gate-link-c" x1="'+Xt+'" x2="'+Xt+'" y1="'+Zt+'" y2="'+Yt+'" stroke="'+(Nt?o.cWireSelectedColor:o.cWireColor)+'" stroke-width="1" />',Ut+='<line class="qc-gate-link-c" x2="'+Xt+'" x1="'+(Xt-o.cArrowSize/2)+'" y1="'+(Yt-o.cArrowSize)+'" y2="'+Yt+'" stroke="'+(Nt?o.cWireSelectedColor:o.cWireColor)+'" stroke-width="1" />',Ut+='<line class="qc-gate-link-c" x2="'+Xt+'" x1="'+(Xt+o.cArrowSize/2)+'" y1="'+(Yt-o.cArrowSize)+'" y2="'+Yt+'" stroke="'+(Nt?o.cWireSelectedColor:o.cWireColor)+'" stroke-width="1" />',Ut+='<text class="qc-wire-label" x="'+Xt+'" y="'+(Yt+o.wireTextHeight)+'" dominant-baseline="hanging" text-anchor="middle" font-size="75%">'+Ke.options.creg.bit+"</text>"),Ke.options&&Ke.options.condition&&Ke.options.condition.creg&&(Xt=j(dt)+o.cellWidth/2,Zt=Bt,Yt=G(Ke.options.condition.creg),Ut+='<line class="qc-gate-link-c" x1="'+Xt+'" x2="'+Xt+'" y1="'+Zt+'" y2="'+Yt+'" stroke="'+(Nt?o.cWireSelectedColor:o.cWireColor)+'" stroke-width="1" />',Ut+='<circle class="qc-gate-dot-c" cx="'+Xt+'" cy="'+Yt+'" r="'+o.dotRadius+'" stroke="'+(Nt?o.cWireSelectedColor:o.cWireColor)+'" fill="'+(Nt?o.cWireSelectedColor:o.cWireColor)+'" stroke-width="1" />',Ut+='<text class="qc-wire-label" x="'+Xt+'" y="'+(Yt+o.wireTextHeight)+'" dominant-baseline="hanging" text-anchor="middle" font-size="75%">== '+Ke.options.condition.value+"</text>"),Ut+="</g>"}(ve,E+ne));if(o.placeholders)for(ne=0;ne<y;ne++)for(re=0;re<this.numQubits;re++)(ve=this.getGateAt(ne,re))&&(he+=function(Ke,dt,vt,wt){var Nt="",Ot=o.cellWidth,Tt=o.cellHeight,It=j(dt+vt),Pt=M(wt);return Nt+='<rect class="qc-gate-handle" data-id="'+Ke.id+'" data-gate="'+Ke.name+'" data-row="'+wt+'" data-col="'+vt+'" x="'+It+'" y="'+Pt+'" width="'+Ot+'" height="'+Tt+'" stroke="none" fill="transparent" stroke-width="0" />'}(ve,E,ne,re));if(o.drawBlochSpheres){var Ae=T-1;for(o.drawHybrid&&(Ae-=2),o.drawEncoderDecoder&&--Ae,re=0;re<this.numQubits;re++)he+=function(Ke,dt,vt,wt){var Nt="",Ot=o.cellWidth,Tt=o.cellHeight,It=j(Ke),Pt=M(dt);return Nt+='<g class="'+(vt||"qc-canvas-group")+'" data-row="'+dt+'">',Nt+='<rect class="qc-canvas-box" x="'+It+'" y="'+Pt+'" width="'+Ot+'" height="'+Tt+'" stroke="transparent" fill="white" stroke-width="1" />',Nt+='<foreignObject class="qc-canvas-object" x="'+It+'" y="'+Pt+'" width="'+Ot+'" height="'+Tt+'">',Nt+='<div style="position:relative;">',Nt+='<canvas id="'+wt+"-"+dt+'" class="'+wt+'" width="'+Ot+'" height="'+Tt+'">',Nt+="</canvas>",Nt+="</div>",Nt+="</foreignObject>",Nt+="</g>"}(Ae,re,"qc-bloch-group","qc-bloch-canvas")}if(o.drawHybrid){var Oe,Se,Fe,$e=j(Oe=Ae=T-2)+o.blackboxPaddingX,Re=I(0)+o.blackboxPaddingY,qe=$e+(Se=o.cellWidth-2*o.blackboxPaddingX)/2,ze=Re+(Fe=I(b+A-1)+o.cellHeight-Re-o.blackboxPaddingY)/2;cLinkTopY=Re+Fe,he+='<rect class="qc-cost-h" x="'+$e+'" y="'+Re+'" width="'+Se+'" height="'+Fe+'" stroke="'+o.hWireColor+'" fill="white" stroke-width="1" rx="8" />',he+='<text class="qc-label-h" x="'+qe+'" y="'+ze+'" dominant-baseline="middle" text-anchor="middle" fill="'+o.hWireColor+'" transform="rotate(-90, '+qe+", "+ze+')">Cost</text>';var we,Ee,Me,me=j(Oe+1)+o.blackboxPaddingX,Ge=me+Se/2;he+='<marker id="qc-arrow-head" orient="auto" markerWidth="8" markerHeight="10" refX="8" refY="5"><path d="M0,0 V10 L8,5 Z" fill="'+o.hWireColor+'"/></marker>',he+='<line class="qc-link-h" x1="'+($e+Se)+'" x2="'+me+'" y1="'+ze+'" y2="'+ze+'" stroke="'+o.hWireColor+'" stroke-width="'+o.wireWidth+'" marker-end="url(#qc-arrow-head)" />',he+='<rect class="qc-optimizer-h" x="'+me+'" y="'+Re+'" width="'+Se+'" height="'+Fe+'" stroke="'+o.hWireColor+'" fill="white" stroke-width="1" rx="8" />',he+='<text class="qc-label-h" x="'+Ge+'" y="'+ze+'" dominant-baseline="middle" text-anchor="middle" fill="'+o.hWireColor+'" transform="rotate(-90, '+Ge+", "+ze+')">Optimizer</text>',he+='<line class="qc-wire-h" x1="'+(we=Ge)+'" x2="'+we+'" y1="'+(Ee=cLinkTopY)+'" y2="'+(Me=te)+'" stroke="'+o.hWireColor+'" stroke-dasharray="4" stroke-width="1" />';var Xe=0,rt=this.findGlobalParams();if(rt.globalParams.length){Xe=j(rt.cells[0][0])+o.cellWidth+o.hSpacing/2;for(var ut=0;ut<rt.cells.length;ut++){var ft=rt.cells[ut],pt=j(ft[0])+o.cellWidth+o.hSpacing/2,ot=M(ft[1])+o.cellHeight+o.vSpacing-o.paramTextHeight/2,bt=j(ft[0])+o.cellWidth,At=M(ft[1])+o.cellHeight+2*o.paramTextHeight+4;he+='<line class="qc-wire-h" x1="'+pt+'" x2="'+pt+'" y1="'+te+'" y2="'+ot+'" stroke="'+o.hWireColor+'" stroke-dasharray="4" stroke-width="1" />',he+='<line class="qc-wire-h" x1="'+pt+'" x2="'+bt+'" y1="'+ot+'" y2="'+At+'" stroke="'+o.hWireColor+'" stroke-dasharray="4" stroke-width="1" marker-end="url(#qc-arrow-head)" />'}he+='<line class="qc-wire-h" x1="'+Xe+'" x2="'+Ge+'" y1="'+(de=te)+'" y2="'+de+'" stroke="'+o.hWireColor+'" stroke-dasharray="4" stroke-width="'+o.wireWidth+'" />'}else he+='<line class="qc-wire-h" x1="'+Ge+'" x2="'+(Xe=j(O+1))+'" y1="'+(de=te)+'" y2="'+de+'" stroke="'+o.hWireColor+'" stroke-dasharray="4" stroke-width="'+o.wireWidth+'"  marker-end="url(#qc-arrow-head)" />',he+='<text class="qc-warning-params-h" x="'+(Xe-5)+'" y="'+de+'" dominant-baseline="middle" text-anchor="end">(no global params)</text>'}return o.drawEncoderDecoder&&($e=j(Oe=Ae=0)+o.blackboxPaddingX,Re=I(0)+o.blackboxPaddingY,qe=$e+(Se=o.cellWidth-2*o.blackboxPaddingX)/2,ze=Re+(Fe=I(b+A-1)+o.cellHeight-Re-o.blackboxPaddingY)/2,cLinkTopY=Re+Fe,he+='<marker id="qc-arrow-head-ed" orient="auto" markerWidth="8" markerHeight="10" refX="8" refY="5"><path d="M0,0 V10 L8,5 Z" fill="'+o.hWireColor+'"/></marker>',he+='<rect class="qc-encoder-ed" x="'+$e+'" y="'+Re+'" width="'+Se+'" height="'+Fe+'" stroke="'+o.edWireColor+'" fill="white" stroke-width="1" rx="8" />',he+='<text class="qc-label-ed" x="'+qe+'" y="'+ze+'" dominant-baseline="middle" text-anchor="middle" fill="'+o.edWireColor+'" transform="rotate(-90, '+qe+", "+ze+')">Encoder</text>',he+='<line class="qc-wire-ed" x1="'+(we=qe)+'" x2="'+we+'" y1="'+(Ee=Re-(o.cellHeight+o.vSpacing))+'" y2="'+(Me=Re)+'" stroke="'+o.edWireColor+'" stroke-width="1" marker-end="url(#qc-arrow-head-ed)" />',he+='<text class="qc-label-input-ed" x="'+we+'" y="'+(Ee-10)+'" dominant-baseline="middle" text-anchor="middle">Input</text>',$e=j(Oe=Ae=T-1)+o.blackboxPaddingX,Re=I(0)+o.blackboxPaddingY,qe=$e+(Se=o.cellWidth-2*o.blackboxPaddingX)/2,ze=Re+(Fe=I(b+A-1)+o.cellHeight-Re-o.blackboxPaddingY)/2,he+='<rect class="qc-decoder-ed" x="'+$e+'" y="'+(cLinkTopY=Re)+'" width="'+Se+'" height="'+Fe+'" stroke="'+o.edWireColor+'" fill="white" stroke-width="1" rx="8" />',he+='<text class="qc-label-ed" x="'+qe+'" y="'+ze+'" dominant-baseline="middle" text-anchor="middle" fill="'+o.edWireColor+'" transform="rotate(-90, '+qe+", "+ze+')">Decoder</text>',he+='<line class="qc-wire-ed" x1="'+(we=qe)+'" x2="'+we+'" y1="'+(Ee=Re)+'" y2="'+(Me=Re-(o.cellHeight+o.vSpacing))+'" stroke="'+o.edWireColor+'" stroke-width="1" marker-end="url(#qc-arrow-head-ed)" />',he+='<text class="qc-label-output-ed" x="'+we+'" y="'+(Me-10)+'" dominant-baseline="middle" text-anchor="middle">Output</text>'),he+="</svg>"},m.prototype.exportToQiskit=function(o,p,b,y){var A=(o=o||{}).comment,E=o.decompose,N=o.versionStr,T=o.providerName,R=o.backendName,O=o.asJupyter,j=o.shots||1024,M=o.hybrid,F=o.encoderDecoder;M===void 0&&(M=!!this.options&&!!this.options.hybrid),F===void 0&&(F=!!this.options&&!!this.options.encoderDecoder);var B=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"",I=this.options&&this.options.encoderDecoderOptions?this.options.encoderDecoderOptions:{},G=I.inputEncoding?I.inputEncoding:{},k=I.outputDecoding?I.outputDecoding:{},V=this,R=R||"";(T=T||"Aer")=="Aer"&&((R=R||(M&&0<=B.indexOf("state")?"statevector_simulator":"qasm_simulator"))=="aer_simulator"&&(R="qasm_simulator"),R=="aer_simulator_statevector"&&(R="statevector_simulator")),T=="IONQ"&&(R=R||"ionq_simulator");var U=new m;U.load(this.save(E));var L="";A&&(A||"").split(`
`).map(function(Ke){1<=Ke.length&&Ke[0]!="#"&&(L+="# "),L+=Ke,L+=`
`});function H(Ke,dt){if(Ke.isSymbolNode){if(0<=["pi","sin","cos","tan","asin","acos","atan"].indexOf(Ke.name))return"np."+Ke.name;var vt=Ke.name;if(dt.replaceVars&&dt.replaceVars[vt]!==void 0)return vt=dt.replaceVars[vt],0<=V.params.indexOf(vt)&&M?"params["+V.params.indexOf(vt)+"]":vt;if(0<=V.params.indexOf(Ke.name)&&M)return"params["+V.params.indexOf(Ke.name)+"]"}}function X(Ke,dt){dt=dt||"";var vt="",wt=Ke.split(`
`),Nt=-1;wt.map(function(It){var Pt=It.search(/\S/);0<=Pt&&(Nt<0||Pt<Nt)&&(Nt=Pt)}),Nt<0&&(Nt=0);var Ot="";if(Nt<dt.length)for(var Tt=0;Tt<dt.length-Nt;Tt++)Ot+=" ";return wt.map(function(It){vt+=Ot+It+`
`}),vt}var Z="";if(p){if(L+="def "+p+"(qc",U.params&&U.params.length)for(var J=0;J<U.params.length;J++)L+=", ",L+=U.params[J];for(var K=0;K<U.numQubits;K++)L+=", ",L+=f(K,U.numQubits);L+=`):
`}else if(!b){var $=U.usedGates();L+=`from qiskit import QuantumCircuit, QuantumRegister, ClassicalRegister
`;var W=!1,Y=!1;switch(T){case"Aer":L+="from qiskit import execute, "+T+`
`,M&&0<=B.indexOf("state")&&R!="statevector_simulator"&&(L+=`from qiskit_experiments.library import StateTomography
`);break;case"IBMQ":L+="from qiskit import execute, "+T+`
from qiskit.providers.ibmq import least_busy
`,M&&0<=B.indexOf("state")&&(L+=`from qiskit_experiments.library import StateTomography
`);break;case"IONQ":W=!0,L+=`from qiskit_ionq import IonQProvider
`,M&&0<=B.indexOf("state")&&(L+=`from qiskit_experiments.library import StateTomography
`)}switch((0<=$.indexOf("ms")||0<=$.indexOf("gpi")||0<=$.indexOf("gpi2"))&&(W=!0,L+=`from qiskit_ionq import GPIGate, GPI2Gate, MSGate
`),W&&(L+=`from qiskit import transpile
`),M&&(L+=`from scipy.optimize import minimize
`,L+=`from collections import Counter
`),F&&(L+=`from quantastica.encoder_decoder import encode_input, decode_output
`),L+=`import numpy as np
`,L+=`
`,T){case"Aer":L+=Z+'backend = Aer.get_backend("'+R+`")
`,L+=`
`;break;case"IBMQ":L+=Z+`IBMQ.load_account()
`,L+=Z+`provider = IBMQ.get_provider(hub="ibm-q", group="open", project="main")
`,R?L+=Z+'backend = provider.get_backend("'+R+`")
`:(L+=Z+`backends = provider.backends()
`,L+=Z+`backend = least_busy(backends)
`),L+=`
`;break;case"IONQ":var te=["measure","delay","barrier","reset","snapshot","ms","gpi2","gpi"],Y=!0;$.map(function(dt){te.indexOf(dt)<0&&(Y=!1)}),L+=Z+`# Requires QISKIT_IONQ_API_TOKEN environment variable to be set
`,L+=Z+`provider = IonQProvider()
`,L+=Z+'backend = provider.get_backend("'+R+'"',Y&&(L+=', gateset="native"'),L+=`)

`}j&&(L+="shots = "+j+`
`,L+=`
`);var ce,oe,ue,Ce,le,ye,ve,pe,be=this.options&&this.options.params?this.options.params:{};if(this.params.length){for(K=0;K<this.params.length;K++){var Ne=this.params[K],he=l.parse(be[Ne]).toString({handler:H});L+=Ne+" = "+he+`
`}L+=`
`}for(var ne in M&&(L+="tolerance = "+(this.options&&this.options.hybridOptions&&this.options.hybridOptions.tolerance&&this.options.hybridOptions.tolerance||"0.001")+`
`,L+=`
`),E||$.map(function(Ke){var dt,vt,wt;U.basicGates[Ke]||(dt=V.customGates[Ke])&&((vt=new m).load(dt),wt={comment:"",decompose:!0,versionStr:N,providerName:"",backendName:!1,asJupyter:!1,shots:!1,hybrid:null,encoderDecoder:!1},L+=vt.exportToQiskit(wt,Ke,b,y))}),M&&(Z="  ",L+=`def objective_function(params):
`),F&&(Z="  ",G.type=="custom"&&(ce=G.customFunction&&G.customFunction.python?G.customFunction.python:`def custom_encoder(input_data_row, input_encoding):
    pass
`,L+=ce+`
`),k.type=="custom"&&(oe=k.customFunction&&k.customFunction.python?k.customFunction.python:`def custom_decoder(counts, output_decoding):
    pass
`,L+=oe+`
`),ue=I.functionName||"my_function",L+="def "+ue+"(",G.colDefs&&G.colDefs.map(function(Ke,dt){0<dt&&(L+=", "),L+=Ke.name}),L+=`):
`,(Ce=JSON.parse(JSON.stringify(G))).colDefs&&Ce.colDefs.map(function(Ke){Ke.min&&(Ke.min=l.evaluate(Ke.min)),Ke.max&&(Ke.max=l.evaluate(Ke.max))}),Ce.data!==void 0&&delete Ce.data,Ce.type=="custom"?Ce.customFunction={python:"$custom_encoder$"}:Ce.customFunction&&delete Ce.customFunction,(le=JSON.parse(JSON.stringify(k))).colDefs&&le.colDefs.map(function(Ke){Ke.min&&(Ke.min=l.evaluate(Ke.min)),Ke.max&&(Ke.max=l.evaluate(Ke.max))}),le.type=="custom"?le.customFunction={python:"$custom_decoder$"}:le.customFunction&&delete le.customFunction,ye=(ye="input_encoding = "+JSON.stringify(Ce,null,4)).replace('"$custom_encoder$"',"custom_encoder"),L+=X(ye,Z)+`
`,ve=(ve="output_decoding = "+JSON.stringify(le,null,4)).replace('"$custom_decoder$"',"custom_decoder"),L+=X(ve,Z)+`
`),L+=Z+`qc = QuantumCircuit()
`,L+=`
`,L+=Z+"q = QuantumRegister("+U.numQubits+`, 'q')
`,this.cregs)L+=Z+ne+" = ClassicalRegister("+(this.cregs[ne].length||1)+", '"+ne+`')
`;for(var ne in L+=`
`,L+=Z+`qc.add_register(q)
`,this.cregs)L+=Z+"qc.add_register("+ne+`)
`;L+=`
`,F&&(pe="{",G.colDefs&&(G.colDefs.length&&(pe+=" "),G.colDefs.map(function(Ke,dt){0<dt&&(pe+=", "),pe+='"'+Ke.name+'": '+Ke.name}),G.colDefs.length&&(pe+=" ")),L+=Z+"input_data_row = "+(pe+="}")+`
`,L+=Z+`input_qasm = encode_input(input_data_row, input_encoding)
`,L+=Z+`input_qc = QuantumCircuit()
`,L+=Z+`input_qc = input_qc.from_qasm_str(input_qasm)
`,L+=Z+`qc = qc.compose(input_qc)
`,L+=Z+`qc.barrier()
`,L+=`
`)}for(var re,de,xe=U.numCols(),Pe=0;Pe<xe;Pe++)for(var Ae=0;Ae<this.numQubits;Ae++){var Oe=U.getGateAt(Pe,Ae),Se=null,Fe=null;if(Oe&&Oe.connector==0){var $e,Re,qe,ze=Oe.options&&Oe.options.condition&&Oe.options.condition.creg?Oe.options.condition:null;if((Ge=U.getGateDef(Oe.name))&&Ge.exportInfo&&!Y&&(Ge.exportInfo.qiskit&&Ge.exportInfo.qiskit.replacement?(L+=`
`+Z+"# "+Oe.name+`
`,$e=new m,(Se=Ge.exportInfo.qiskit.replacement).map(function(Ke){var dt,vt;Oe.options&&Oe.options.params&&(dt=Object.keys(Oe.options.params),vt=Object.keys(Ke.params),dt.map(function(wt){-1<vt.indexOf(wt)&&(Ke.params[wt]=Oe.options.params[wt])})),$e.appendGate(Ke.name,Oe.wires,{params:Ke.params,condition:ze})}),qe={comment:"",decompose:!1,versionStr:!1,providerName:!1,backendName:!1,asJupyter:!1,shots:!1,hybrid:null,encoderDecoder:!1},L+=X($e.exportToQiskit(qe,!1,!0,!!p||y),Z)):Ge.exportInfo.qiskit&&Ge.exportInfo.qiskit.equivalent&&(L+=`
`+Z+"# "+Oe.name+`
`,Re=new m,(Fe=Ge.exportInfo.qiskit.equivalent).map(function(Ke){var dt=1<Ke.wires.length?Oe.wires:Oe.wires[Ke.wires[0]],vt={};if(Ke.params){var wt={};if(Oe.options&&Oe.options.params)for(var Nt in Oe.options.params){var Ot=l.parse(Oe.options.params[Nt]).toString({handler:H});wt[Nt]=Ot}for(var Tt in Ke.params)Ot=l.parse(Ke.params[Tt]).toString({handler:H,replaceVars:wt}),vt[Tt]=Ot}Re.appendGate(Ke.name,dt,{params:vt,condition:ze})}),qe={comment:"",decompose:!1,versionStr:!1,providerName:!1,backendName:!1,asJupyter:!1,shots:!1,hybrid:null,encoderDecoder:!1},L+=X(Re.exportToQiskit(qe,!1,!0,!!p||y),Z))),Se||Fe||(p||y||M||F)&&(L+="  "),!Se&&!Fe){var we=Oe.name,Ee=Oe.options&&Oe.options.params?Oe.options.params:{};R=="statevector_simulator"&&we=="measure"&&M&&(L+="# "),this.basicGates[we]&&(L+="qc.");var Me=!1,me=!1;(we=Ge&&Ge.exportInfo&&Ge.exportInfo.qiskit&&Ge.exportInfo.qiskit.name?Ge.exportInfo.qiskit.name:Oe.name)=="ms"&&(me=Me=!0,we="MSGate"),we=="gpi"&&Y&&(me=Me=!0,we="GPIGate"),we=="gpi2"&&Y&&(me=Me=!0,we="GPI2Gate"),Me&&(L+="append("),L+=we+"(";var Ge,Xe=0;if(Ee&&((Ge=this.basicGates[Oe.name])||(Ge=this.customGates[Oe.name],L+="qc",Xe++),Ge)){var rt=Ge.params||[],ut=rt.length;if(ut){for(var ft=0;ft<ut;ft++){0<Xe&&(L+=", ");var pt,ot=rt[ft];(Ee[ot]||Ee[ot].toString())&&(pt=l.parse(Ee[ot]).toString({handler:H}),me&&(pt="("+pt+") / (2*np.pi)"),L+=pt),Xe++}we!="cu"||Ee.gamma||(L+=", 0",Xe++)}}if(Me){Xe&&(L+="), "),L+="[";for(var bt=0;bt<Oe.wires.length;bt++)0<bt&&(L+=", "),L+=p||y?f(Oe.wires[bt],U.numQubits):Oe.wires[bt],Xe++;L+="]"}else for(bt=0;bt<Oe.wires.length;bt++)0<Xe&&(L+=", "),L+=p||y?f(Oe.wires[bt],U.numQubits):"q["+Oe.wires[bt]+"]",Xe++;we=="measure"&&Oe.options&&Oe.options.creg&&(0<Xe&&(L+=", "),L+=Oe.options.creg.name+"["+Oe.options.creg.bit+"]",Xe++),L+=")",Oe.options&&Oe.options.condition&&Oe.options.condition.creg&&(L+=".c_if("+Oe.options.condition.creg+", "+Oe.options.condition.value+")"),L+=`
`}}}if(!b&&(p?L+=`
`:(L+=`
`,Z=M?"  ":"",F&&(L+=(Z="  ")+`qc.measure_all(q)
`,L+=`
`),W&&(L+=Z+`qc = transpile(qc, backend)
`),T=="Aer"&&(re="",re+=Z+"job = execute(qc, backend=backend",j&&(re+=", shots=shots"),re+=`)
`,re+=Z+`job_result = job.result()
`,M?(R=="statevector_simulator"?(L+=re,L+=Z+`state = job_result.get_statevector(qc).data
`,L+=`
`):0<=B.indexOf("state")?(L+=Z+`qst = StateTomography(qc)
`,L+=Z+`qst_analysis = qst.run(backend).block_for_results()
`,L+=Z+`density = qst_analysis.analysis_results("state").value
`,L+=Z+`state = np.diag(density)
`):(L+=re,L+=Z+`counts = Counter(job_result.get_counts(qc))
`,L+=`
`),B.trim()||(B=`# CALCULATE COST HERE
cost = 0`),L+=X(B,Z),L+=`
`,L+=Z+`return cost
`):F?(L+=re,L+=Z+`counts = job_result.get_counts(qc)

`,L+=Z+`output_data_row = decode_output(counts, output_decoding, unpack_values=True)
`,L+=Z+`return output_data_row
`):(L+=re,L+=Z+`print(job_result.get_counts(qc))
`)),T=="IBMQ"&&(re="",re+=Z+"job = execute(qc, backend=backend",j&&(re+=", shots=shots"),re+=`)
`,re+=Z+`job_result = job.result()
`,M?(0<=B.indexOf("state")?(L+=Z+`qst = StateTomography(qc)
`,L+=Z+`qst_analysis = qst.run(backend).block_for_results()
`,L+=Z+`density = qst_analysis.analysis_results("state").value
`,L+=Z+`state = np.diag(density)
`):(L+=re,L+=Z+`counts = Counter(job_result.get_counts(qc))
`),L+=`
`,B.trim()||(B=`# CALCULATE COST HERE
cost = 0`),L+=X(B,Z),L+=`
`,L+=Z+`return cost
`):F?(L+=re,L+=Z+`counts = job_result.get_counts(qc)

`,L+=Z+`output_data_row = decode_output(counts, output_decoding, unpack_values=True)
`,L+=Z+`return output_data_row
`):(L+=re,L+=Z+`print(job_result.get_counts(qc))
`)),T=="IONQ"&&(re="",re+=Z+"job = backend.run(qc",j&&(re+=", shots=shots"),re+=`)
`,re+=Z+`job_result = job.result()
`,M?(0<=B.indexOf("state")?(L+=Z+`qst = StateTomography(qc)
`,L+=Z+`qst_analysis = qst.run(backend).block_for_results()
`,L+=Z+`density = qst_analysis.analysis_results("state").value
`,L+=Z+`state = np.diag(density)
`):(L+=re,L+=Z+`counts = Counter(job.get_counts())
`,L+=`
`),B.trim()||(B=`# CALCULATE COST HERE
cost = 0`),L+=X(B,Z),L+=`
`,L+=Z+`return cost
`):F?(L+=re,L+=Z+`counts = job_result.get_counts(qc)

`,L+=Z+`output_data_row = decode_output(counts, output_decoding, unpack_values=True)
`,L+=Z+`return output_data_row
`):(L+=re,L+=Z+`print(job.get_counts())
`)),M&&(de="",this.params.map(function(Ke,dt){0<dt&&(de+=", "),de+=Ke}),L+=`
`,L+="params = np.array(["+de+`])
`,L+=`
`,L+='minimum = minimize(objective_function, params, method="'+(this.options&&this.options.hybridOptions&&this.options.hybridOptions.optimizer?this.options.hybridOptions.optimizer:"Powell")+`", tol=tolerance)
`,L+=`print("cost:", minimum.fun, "params:", minimum.x)
`)),O)){var At={metadata:{kernelspec:{display_name:"Python 3",language:"python",name:"python3"}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:L,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(At)}return L},m.prototype.exportToCudaQ=function(o,p,b,y){var A=this,E=(o=o||{}).comment,N=o.decompose,T=o.versionStr,O=o.providerName||"",j=(o.backendName,o.asJupyter),M=o.stateVector,F=o.shots||1024,B=o.hybrid,I=o.encoderDecoder;B===void 0&&(B=!!this.options&&!!this.options.hybrid),I===void 0&&(I=!!this.options&&!!this.options.encoderDecoder);var G=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"",k=this.options&&this.options.encoderDecoderOptions?this.options.encoderDecoderOptions:{},V=k.inputEncoding?k.inputEncoding:{},R=k.outputDecoding?k.outputDecoding:{};M===void 0&&(M=!!(B&&0<=G.indexOf("state")));var U=new m;U.load(this.save(!!N));var L="";E&&(E||"").split(`
`).map(function(ot){1<=ot.length&&ot[0]!="#"&&(L+="# "),L+=ot,L+=`
`});function H(ot,bt){if(ot.isSymbolNode){if(0<=["pi","sin","cos","tan","asin","acos","atan"].indexOf(ot.name))return"np."+ot.name;var At=ot.name;if(bt.replaceVars&&bt.replaceVars[At]!==void 0)return At=bt.replaceVars[At],0<=A.params.indexOf(At)&&B?"params["+A.params.indexOf(At)+"]":At;if(0<=A.params.indexOf(ot.name)&&B)return"params["+A.params.indexOf(ot.name)+"]"}}function X(ot,bt){var At="",Ke=ot.split(`
`),dt=-1;Ke.map(function(Nt){var Ot=Nt.search(/\S/);0<=Ot&&(dt<0||Ot<dt)&&(dt=Ot)}),dt<0&&(dt=0);var vt="";if(dt<bt.length)for(var wt=0;wt<bt.length-dt;wt++)vt+=" ";return Ke.map(function(Nt){At+=vt+Nt+`
`}),At}var Z,J="";if(p){L+=`@cudaq.kernel
`,L+="def "+p+"(";var K=0;if(U.params&&U.params.length)for(var $=0;$<U.params.length;$++)0<K&&(L+=", "),K++,L+=U.params[$]+": float";for(var W=0;W<U.numQubits;W++)0<K&&(L+=", "),K++,L+="q_"+W+": cudaq.qubit";L+=`):
`,J+="  "}else if(!b){var ve=U.usedGates();L+=`import cudaq
`,B&&(L+=`from scipy.optimize import minimize
`,L+=`from collections import Counter
`),I&&(L+=`from quantastica.encoder_decoder import encode_input, decode_output
`),L+=`import numpy as np
`,L+=`
`;var Y,te,ce,oe,ue,Ce,le,ye,ve=U.usedGates(),pe=!1;if(ve.map(function(ot){var bt,At=U.basicGates[ot];At&&At.exportInfo&&At.exportInfo.cudaq&&(bt=At.exportInfo.cudaq).matrix&&(L+='cudaq.register_operation("'+(bt.name||ot)+'", np.array('+bt.matrix+`))
`,pe=!0)}),pe&&(L+=`
`),O&&(L+='cudaq.set_target("'+O+`")
`,L+=`
`),F&&(L+="shots = "+F+`
`,L+=`
`),Z=U.options&&U.options.params?U.options.params:{},U.params.length){for(L+=J+`params = [
`,W=0;W<U.params.length;W++){var be=U.params[W],Ne=l.parse(Z[be]+"").toString({handler:H});L+=J+"  "+Ne,W<U.params.length-1&&(L+=","),L+=" # "+be+`
`}L+=`]
`,L+=`
`}B&&(L+="tolerance = "+(U.options&&U.options.hybridOptions&&U.options.hybridOptions.tolerance&&U.options.hybridOptions.tolerance||"0.001")+`
`,L+=`
`),N||ve.map(function(ot){var bt,At,Ke;U.basicGates[ot]||(bt=A.customGates[ot])&&((At=new m).load(bt),Ke={comment:"",decompose:!0,versionStr:T,providerName:"",backendName:!1,asJupyter:!1,shots:null,hybrid:null,encoderDecoder:!1,commentOutUnknownGates:o.commentOutUnknownGates},L+=At.exportToCudaQ(Ke,ot,b,y))}),I&&(J+="  ",V.type=="custom"&&(Y=V.customFunction&&V.customFunction.python?V.customFunction.python:`def custom_encoder(input_data_row, input_encoding):
    pass
`,L+=Y+`
`),R.type=="custom"&&(te=R.customFunction&&R.customFunction.python?R.customFunction.python:`def custom_decoder(counts, output_decoding):
    pass
`,L+=te+`
`),ce=k.functionName||"my_function",L+="def "+ce+"(",V.colDefs&&V.colDefs.map(function(ot,bt){0<bt&&(L+=", "),L+=ot.name}),L+=`):
`,(oe=JSON.parse(JSON.stringify(V))).colDefs&&oe.colDefs.map(function(ot){ot.min&&(ot.min=l.evaluate(ot.min)),ot.max&&(ot.max=l.evaluate(ot.max))}),oe.data!==void 0&&delete oe.data,oe.type=="custom"?oe.customFunction={python:"$custom_encoder$"}:oe.customFunction&&delete oe.customFunction,(ue=JSON.parse(JSON.stringify(R))).colDefs&&ue.colDefs.map(function(ot){ot.min&&(ot.min=l.evaluate(ot.min)),ot.max&&(ot.max=l.evaluate(ot.max))}),ue.type=="custom"?ue.customFunction={python:"$custom_decoder$"}:ue.customFunction&&delete ue.customFunction,Ce=(Ce="input_encoding = "+JSON.stringify(oe,null,4)).replace('"$custom_encoder$"',"custom_encoder"),L+=X(Ce,J)+`
`,le=(le="output_decoding = "+JSON.stringify(ue,null,4)).replace('"$custom_decoder$"',"custom_decoder"),L+=X(le,J)+`
`),L+=J+`@cudaq.kernel
`,L+=J+"def circuit(",!p&&U.params&&U.params.length&&(L+="params: list[float]"),L+=`):
`,L+=(J+="  ")+"q = cudaq.qvector("+U.numQubits+`)
`,I&&(ye="{",V.colDefs&&(V.colDefs.length&&(ye+=" "),V.colDefs.map(function(ot,bt){0<bt&&(ye+=", "),ye+='"'+ot.name+'": '+ot.name}),V.colDefs.length&&(ye+=" ")),L+=J+"input_data_row = "+(ye+="}")+`
`,L+=J+`input_qasm = encode_input(input_data_row, input_encoding)
`,L+=J+"# !!! CREATE KERNEL FROM QASM: NOT SUPPORTED YET.",L+=`
`)}for(var he,ne=U.numCols(),re=0;re<ne;re++)for(var de=0;de<U.numQubits;de++){var xe=U.getGateAt(re,de),Pe=null,Ae=null;if(xe&&xe.connector==0){var Oe,Se,Fe,$e=xe.options&&xe.options.condition&&xe.options.condition.creg?xe.options.condition:null;if((we=U.getGateDef(xe.name))&&we.exportInfo&&(we.exportInfo.cudaq&&we.exportInfo.cudaq.replacement?(L+=`
`+J+"# "+xe.name+`
`,Oe=new m,(Pe=Array.isArray(we.exportInfo.cudaq.replacement)?we.exportInfo.cudaq.replacement:[we.exportInfo.cudaq.replacement]).map(function(ot){var bt,At;xe.options&&xe.options.params&&(bt=Object.keys(xe.options.params),At=Object.keys(ot.params),bt.map(function(Ke){-1<At.indexOf(Ke)&&(ot.params[Ke]=xe.options.params[Ke])})),Oe.appendGate(ot.name,xe.wires,{params:ot.params,condition:$e})}),Fe={comment:"",decompose:!1,versionStr:T,providerName:"",backendName:"",asJupyter:!1,shots:null,hybrid:!1,encoderDecoder:!1,commentOutUnknownGates:o.commentOutUnknownGates},L+=X(Oe.exportToCudaQ(Fe,!1,!0,!!p||y),J)):we.exportInfo.cudaq&&we.exportInfo.cudaq.equivalent&&(L+=`
`+J+"# "+xe.name+`
`,Se=new m,(Ae=Array.isArray(we.exportInfo.cudaq.equivalent)?we.exportInfo.cudaq.equivalent:[we.exportInfo.cudaq.equivalent]).map(function(ot){var bt=1<ot.wires.length?xe.wires:xe.wires[ot.wires[0]],At={};if(ot.params){var Ke={};if(xe.options&&xe.options.params)for(var dt in xe.options.params){var vt=l.parse(xe.options.params[dt]+"").toString({handler:H});Ke[dt]=vt}for(var wt in ot.params)vt=l.parse(ot.params[wt]+"").toString({handler:H,replaceVars:Ke}),At[wt]=vt}Se.appendGate(ot.name,bt,{params:At,condition:$e})}),Fe={comment:"",decompose:!1,versionStr:T,providerName:"",backendName:"",asJupyter:!1,shots:null,hybrid:!1,encoderDecoder:!1,commentOutUnknownGates:o.commentOutUnknownGates},L+=X(Se.exportToCudaQ(Fe,!1,!0,!!p||y),J))),!Pe&&!Ae){xe.options&&xe.options.condition&&xe.options.condition.creg&&(L+=J+"if "+xe.options.condition.creg+`:
`,L+="  "),L+=J;var Re=xe.name,qe=xe.options&&xe.options.params?xe.options.params:{};Re=="measure"&&(M&&B&&(L+="# "),U.gotClassicalControl()&&(L+=xe.options.creg.name+" = ")),!U.basicGates[xe.name]||we&&we.exportInfo&&we.exportInfo.cudaq||!o.commentOutUnknownGates||(L+="# ");var ze=0;we&&we.exportInfo&&we.exportInfo.cudaq&&we.exportInfo.cudaq.name?(Re=we.exportInfo.cudaq.name,we.exportInfo.cudaq.adjoint&&(Re+=".adj"),we.exportInfo.cudaq.controlled&&(Re+=".ctrl",ze=we.exportInfo.cudaq.controlWiresCount||1)):Re=xe.name,L+=Re+"(";var we,Ee=0;if(qe&&(we=(we=U.basicGates[xe.name])||U.customGates[xe.name])){var Me=we.params||[],me=Me.length;if(me){for(var Ge=0;Ge<me;Ge++){0<Ee&&(L+=", ");var Xe,rt,ut=Me[Ge];(qe[ut]||qe[ut].toString())&&(Xe=l.parse(qe[ut]+"").toString({handler:H}),p||0<=(rt=U.params.indexOf(Xe))&&(Xe="params["+rt+"]"),L+=Xe),Ee++}Re!="cu"||qe.gamma||(L+=", 0",Ee++)}}for(var ft=0;ft<xe.wires.length;ft++)0<Ee&&(L+=", "),ft==0&&ze&&(L+="["),L+=p||y?"q_"+xe.wires[ft]:"q["+xe.wires[ft]+"]",ft==ze-1&&ze&&(L+="]"),Ee++;Re=="measure"&&xe.options&&xe.options.creg&&(0<Ee&&(L+=", "),L+=xe.options.creg.name+"["+xe.options.creg.bit+"]",Ee++),L+=")",L+=`
`}}}if(!b&&(p?L+=`
`:(L+=`
`,I&&(L+=J+`mz()
`,L+=`
`),J="",B&&(J+="  "),I&&(J+="  "),he="",M?(he+=J+"state = cudaq.get_state(circuit",U.params&&U.params.length&&(he+=", params")):(he+=J+"counts = cudaq.sample(circuit",U.params&&U.params.length&&(he+=", params"),F&&(he+=", shots_count=shots")),he+=`)
`,B?(L+=`def objective_function(params):
`,L+=he,M||(L+=J+`counts = Counter(dict(counts.items()))
`),G.trim()||(G=`# CALCULATE COST HERE
cost = 0`),L+=X(G,J),L+=`
`,L+=J+`return cost
`):I?(L+=he,L+=J+`output_data_row = decode_output(counts, output_decoding, unpack_values=True)
`,L+=J+`return output_data_row
`):(L+=he,L+=J+`print(counts)
`),B&&(U.params.map(function(ot,bt){}),L+=`
`,L+='minimum = minimize(objective_function, params, method="'+(U.options&&U.options.hybridOptions&&U.options.hybridOptions.optimizer?U.options.hybridOptions.optimizer:"Powell")+`", tol=tolerance)
`,L+=`print("cost:", minimum.fun, "params:", minimum.x)
`)),j)){var pt={metadata:{kernelspec:{display_name:"Python 3",language:"python",name:"python3"}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:L,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(pt)}return L},m.prototype.exportToQuEST=function(o,p,b){var y=(o=o||{}).comment,A=o.decompose,E=this;b=b||[];var N=null,T=["unitary","controlledUnitary"];(N=new m).load(this.save(A));var O="";y&&(y||"").split(`
`).map(function(Y){2<=Y.length&&Y[0]!="/"&&Y[1]!="/"&&(O+="// "),O+=Y,O+=`
`});for(var j=0;j<this.numQubits;j++)for(var M=this.gates[j],F=0;F<M.length;F++)if((L=M[F])&&this.basicGates[L.name]&&this.basicGates[L.name].exportInfo&&this.basicGates[L.name].exportInfo.quest){var B=this.basicGates[L.name].exportInfo.quest.name;if(b.includes(L.name))continue;(T.includes(B)||this.basicGates[L.name].exportInfo.quest.func)&&b.push(L.name)}if(p){for(O+="Qureg "+p+"(Qureg qubits",j=0;j<N.numQubits;j++)O+=", const int q",O+=j;if(N.params&&N.params.length)for(j=0;j<N.params.length;j++)O+=", double "+N.params[j];O+=`) {
`}else{O+=`#include <math.h>
#include "QuEST.h"

`,O+=`#ifndef M_PI
#define M_PI 3.14159265
#endif

`;var I=[],G=N.usedGates();for(A||G.map(function(Y){var te,ce;N.basicGates[Y]||(te=E.customGates[Y])&&((ce=new m).load(te),I.push(ce.exportToQuEST({comment:"",decompose:!1},Y,b)))}),j=0;j<b.length;j++){var k=b[j];if(this.basicGates[k].exportInfo&&this.basicGates[k].exportInfo.quest)switch(B=this.basicGates[k].exportInfo.quest.name){case"unitary":case"controlledUnitary":matrix=this.basicGates[k].exportInfo.quest.matrix;var V=this.basicGates[k].exportInfo.quest.params;if(O+="void "+k+"(Qureg qubits, const int q",B=="controlledUnitary"&&(O+="1, const int q2"),V)for(F=0;F<V.length;F++)O+=", double "+V[F];O+=`) {
`,O+=`    ComplexMatrix2 u;
`,O+="    u.r0c0 = (Complex) {.real="+matrix[0][0][0]+", .imag= "+matrix[0][0][1]+`};
`,O+="    u.r0c1 = (Complex) {.real="+matrix[0][1][0]+", .imag= "+matrix[0][1][1]+`};
`,O+="    u.r1c0 = (Complex) {.real="+matrix[1][0][0]+", .imag= "+matrix[1][0][1]+`};
`,O+="    u.r1c1 = (Complex) {.real="+matrix[1][1][0]+", .imag= "+matrix[1][1][1]+`};
`,O+="    "+B+"(qubits, q",B=="controlledUnitary"&&(O+="1, q2"),O+=`, u);
}

`;break;default:O+=this.basicGates[k].exportInfo.quest.func+`

`}}for(j=0;j<I.length;j++)O+=I[j];O+=`int main(int argc, char *argv[]) {
`,O+=`    QuESTEnv env = createQuESTEnv();
`,O+="    Qureg qubits = createQureg("+N.numQubits+`, env);
`,O+="    int measured["+N.numQubits+`];

`}O+=`
`;for(var R=N.numCols(),U=0;U<R;U++)for(var L,H=0;H<this.numQubits;H++)if((L=N.getGateAt(U,H))&&L.connector==0){L.options&&L.options.condition&&L.options.condition.creg&&(O+="if("+L.options.condition.creg+"=="+L.options.condition.value+`) {
`);var k=L.name,X=L.options&&L.options.params?L.options.params:{},Z=this.basicGates[k];if(k=="measure")O+="    measured["+L.wires[0]+"] = measure(qubits, "+L.wires[0];else if(Z){B=Z.exportInfo.quest.name,V=Z.exportInfo.quest.params,T.includes(B)?O+="    "+k+"(qubits":O+="    "+B+"(qubits";for(var J=0;J<L.wires.length;J++)O+=p?", q"+L.wires[J]:", "+L.wires[J];if(V)switch(B){case"compactUnitary":O+=", "+V.alpha,O+=", "+V.beta;break;case"phaseShift":case"controlledPhaseShift":V.theta&&(O+=", "+V.theta)}}else for(Z=this.customGates[k],O+="    qubits = "+k+"(qubits",J=0;J<L.wires.length;J++)O+=", "+L.wires[J];if(X&&(Z=(Z=this.basicGates[k])||this.customGates[k])){var K=Z.params||[],$=K.length;if($)for(var W=0;W<$;W++)O+=", "+X[K[W]]}O+=`);
`,L.options&&L.options.condition&&L.options.condition.creg&&(O+=`}
`)}return p?O+=`
    return qubits;
}

`:(O+=`
    destroyQureg(qubits, env);
`,O+=`    destroyQuESTEnv(env);
`,O+=`    return 0;
}
`),O},m.prototype.exportToQASM=function(o,p,b,y){function A(ve,pe){if(ve.isSymbolNode){var be=ve.name;if(pe.replaceVars&&pe.replaceVars[be]!==void 0)return be=pe.replaceVars[be],!T&&0<=O.params.indexOf(be)?"("+j[be]+")":"("+be+")";if(!T&&0<=O.params.indexOf(ve.name))return j[ve.name]}}var E=(o=o||{}).comment,N=o.decompose,T=o.compatibilityMode,O=this,j=this.options&&this.options.params?this.options.params:{},M=null;(M=new m).load(this.save(N));var F="";if(E&&(E||"").split(`
`).map(function(ve){(p||y)&&(F+="  "),2<=ve.length&&ve[0]!="/"&&ve[1]!="/"&&(F+="// "),F+=ve,F+=`
`}),p){if(F+="gate "+p,M.params&&M.params.length){F+="(";for(var B=0;B<M.params.length;B++)0<B&&(F+=", "),F+=M.params[B];F+=")"}for(var I=0;I<M.numQubits;I++)I==0&&(F+=" "),0<I&&(F+=", "),F+=f(I,M.numQubits);F+=`
{
`}else if(!b){for(var G in F+=`OPENQASM 2.0;
`,F+=`include "qelib1.inc";
`,F+="qreg q["+M.numQubits+`];
`,M.cregs)F+="creg "+G+"["+(M.cregs[G].length||1)+`];
`;var k=M.usedGates();N||k.map(function(ve){var pe,be,Ne;M.basicGates[ve]||(pe=O.customGates[ve])&&((be=new m).load(pe),Ne={comment:"",decompose:!1,compatibilityMode:T},F+=be.exportToQASM(Ne,ve,!1,!1))})}for(var V=M.numCols(),R=0;R<V;R++)for(var U=0;U<M.numQubits;U++){var L=M.getGateAt(R,U),H=null,X=null;if(L&&L.connector==0){var Z,J,K,$=L.name;if(T||(W=M.getGateDef(L.name))&&W.exportInfo&&(W.exportInfo.qasm&&W.exportInfo.qasm.name?$=W.exportInfo.qasm.name:W.exportInfo.qasm&&W.exportInfo.qasm.replacement?((Z=new m).cregs=JSON.parse(JSON.stringify(O.cregs)),(H=W.exportInfo.qasm.replacement).map(function(ve){var pe,be;L.options&&L.options.params&&(pe=Object.keys(L.options.params),be=Object.keys(ve.params),pe.map(function(he){0<=be.indexOf(he)&&(ve.params[he]=L.options.params[he])}));var Ne=L.options&&L.options.condition?L.options.condition:{};Z.appendGate(ve.name,L.wires,{params:ve.params,condition:Ne})}),K={comment:L.name,decompose:!1,compatibilityMode:T},F+=`
`,F+=Z.exportToQASM(K,!1,!0,!!p||y),F+=`
`):W.exportInfo.qasm&&W.exportInfo.qasm.equivalent&&((J=new m).cregs=JSON.parse(JSON.stringify(O.cregs)),(X=W.exportInfo.qasm.equivalent).map(function(ve){var pe=1<ve.wires.length?L.wires:L.wires[ve.wires[0]],be={};if(ve.params){var Ne={};if(L.options&&L.options.params)for(var he in L.options.params){var ne=l.parse(L.options.params[he]).toString({handler:A});Ne[he]=ne}for(var re in ve.params)ne=l.parse(ve.params[re]).toString({handler:A,replaceVars:Ne}),be[re]=ne}var de=L.options&&L.options.condition?L.options.condition:{};J.appendGate(ve.name,pe,{params:be,condition:de})}),K={comment:L.name,decompose:!1,compatibilityMode:T},F+=`
`,F+=J.exportToQASM(K,"",!0,!!p||y),F+=`
`)),H||X||((p||y)&&(F+="  "),L.options&&L.options.condition&&L.options.condition.creg&&(F+="if("+L.options.condition.creg+"=="+L.options.condition.value+") ")),!H&&!X||T){var W,Y=L.name,te=L.options&&L.options.params?L.options.params:{};if(F+=T?L.name:$,te&&(W=(W=M.basicGates[Y])||M.customGates[Y])){var ce=W.params||[],oe=ce.length;if(oe){F+=" (";for(var ue=0;ue<oe;ue++){0<ue&&(F+=", ");var Ce=ce[ue],le=te[Ce];p||y||T||(le=l.parse(te[Ce]).toString({handler:A})),F+=le}F+=")"}}for(var ye=0;ye<L.wires.length;ye++)0<ye&&(F+=","),F+=p||y?" "+f(L.wires[ye],M.numQubits):" q["+L.wires[ye]+"]";Y=="measure"&&L.options&&L.options.creg&&(F+=" -> ",F+=L.options.creg.name+"["+L.options.creg.bit+"]"),F+=`;
`}}}return p&&(F+=`}

`),F},m.prototype.exportToPyquil=function(o,p){var b=(o=o||{}).comment,y=o.decompose,A=o.versionStr,E=o.lattice,N=o.asQVM,T=o.asJupyter,O=o.shots,j=o.hybrid,M=this,F=parseFloat(A||"2.12");isNaN(F)&&(F=2.1),O=O||1024,j===void 0&&(j=!!this.options&&!!this.options.hybrid);var B=new m;B.load(this.save(y));function I(pt,ot){if(pt.isSymbolNode){if(0<=["pi","sin","cos","tan","asin","acos","atan"].indexOf(pt.name))return"np."+pt.name;if(0<=M.params.indexOf(pt.name)&&j)return"params["+M.params.indexOf(pt.name)+"]"}}function G(pt,ot){var bt="",At=pt.split(`
`),Ke=-1;At.map(function(wt){var Nt=wt.search(/\S/);0<=Nt&&(Ke<0||Nt<Ke)&&(Ke=Nt)}),Ke<0&&(Ke=0);var dt="";if(Ke<ot.length)for(var vt=0;vt<ot.length-Ke;vt++)dt+=" ";return At.map(function(wt){bt+=dt+wt+`
`}),bt}var k="",V=[],R="",U="",L="",H=B.usedGates(),X=B.gotMeasurement(),Z=[],J=[];H.map(function(pt){var ot,bt,At,Ke,dt=B.basicGates[pt];dt&&(dt.exportInfo&&dt.exportInfo.pyquil?(bt=dt.exportInfo.pyquil).array?(ot="",bt.params&&(ot+=", [",bt.params.map(function(vt,wt){0<wt&&(ot+=", "),ot+="p_"+vt;var Nt="p_"+vt+" = Parameter('"+vt+"')";V.indexOf(Nt)<0&&V.push(Nt)}),ot+="]"),U+="p.inst("+bt.name+`_defgate)
`,L+=bt.name+"_array = np.array("+bt.array+`)
`,R+=bt.name+"_defgate = DefGate('"+bt.name+"', "+bt.name+"_array"+ot+`)
`,R+=bt.name+" = "+bt.name+`_defgate.get_constructor()
`,Z.push(bt.name)):(At="",bt.replacement?(Ke=B.basicGates[bt.replacement.name])&&Ke.exportInfo&&(Ke.exportInfo.pyquil?At=Ke.exportInfo.pyquil.name:Ke.exportInfo.quil&&(At=Ke.exportInfo.quil.name)):At=bt.name,At&&(k&&(k+=", "),k+=At)):dt.exportInfo&&dt.exportInfo.quil&&((bt=dt.exportInfo.quil).defgate||(At="",bt.replacement?(Ke=B.basicGates[bt.replacement.name])&&Ke.exportInfo&&(Ke.exportInfo.pyquil?At=Ke.exportInfo.pyquil.name:Ke.exportInfo.quil&&(At=Ke.exportInfo.quil.name)):At=bt.name,At&&(k&&(k+=", "),k+=At))))});var K=B.gotClassicalControl();K&&(k&&(k+=", "),k+=F<2?"FALSE, NOT, OR, AND":"MOVE, NOT, IOR, AND");var $="";R&&($=F<2.12?`from pyquil.parameters import Parameter, quil_sin, quil_cos, quil_sqrt, quil_exp, quil_cis
from pyquil.quilbase import DefGate`:`from pyquil.quilatom import Parameter, quil_sin, quil_cos, quil_sqrt, quil_exp, quil_cis
from pyquil.quilbase import DefGate`);var W="";b&&(b||"").split(`
`).map(function(pt){1<=pt.length&&pt[0]!="#"&&(W+="# "),W+=pt,W+=`
`});var Y,te="";if(p){for(var ce="",oe=0,ue=0;ue<B.params.length;ue++)0<oe&&(ce+=", "),ce+=B.params[ue],oe++;for(ue=0;ue<B.numQubits;ue++)0<oe&&(ce+=", "),ce+="q"+ue,oe++;W+="def "+p+(ce?"("+ce+")":"")+`:
`,te="  "}else{F<2?(W+=`from pyquil.api import QVMConnection
`,W+=`from pyquil.quil import Program
`):W+=`from pyquil import Program, get_qc
`,k&&(W+="from pyquil.gates import "+k+`
`),$&&(W+=$+`
`),W+=`from functools import reduce
`,j&&(W+=`from scipy.optimize import minimize
`,W+=`from collections import Counter
`),W+=`import numpy as np
`,O&&(W+=`
`,W+="shots = "+O+`
`);var Ce=this.options&&this.options.params?this.options.params:{};if(this.params.length){for(W+=`
`,ue=0;ue<this.params.length;ue++){var le=this.params[ue],ye=(Xe=l.parse(Ce[le])).toString({handler:I});W+=le+" = "+ye+`
`}W+=`
`}j&&(W+="tolerance = "+(this.options&&this.options.hybridOptions&&this.options.hybridOptions.tolerance&&this.options.hybridOptions.tolerance||"0.001")+`
`,W+=`
`),R&&(V.map(function(pt,ot){ot==0&&(W+=`
`),W+=pt+`
`}),W+=`
`,W+=L+`
`,W+=`
`,W+=R+`
`),W+=`
`,H=B.usedGates(),y||H.map(function(pt){var ot,bt,At;B.basicGates[pt]||(ot=M.customGates[pt])&&((bt=new m).load(ot),At={comment:"",decompose:!1,versionStr:A},W+=bt.exportToPyquil(At,pt),J.push(pt))})}j&&(te+="  ",W+=`def objective_function(params):
`),2<=F&&!p?(W+=N||E?te+`p = Program('PRAGMA INITIAL_REWIRING "PARTIAL"')

`:te+`p = Program()

`,Y=B.cregTotalBits(),K&&(Y+=1),Y&&(W+=te+"ro = p.declare('ro', memory_type='BIT', memory_size="+Y+`)
`,W+=`
`)):W+=te+`p = Program()

`,W+=U?te+U+`
`:"";for(var ve,pe,be,Ne=0;Ne<B.numCols();Ne++)for(var he=0;he<B.numQubits;he++){var ne=B.getGateAt(Ne,he);if(ne&&ne.connector==0){var re=B.getGateDef(ne.name),de=ne.options&&ne.options.params?ne.options.params:{},xe=null;if(re){re.exportInfo&&(re.exportInfo.pyquil&&re.exportInfo.pyquil.replacement?(re.exportInfo.pyquil.replacement.params&&(de=re.exportInfo.pyquil.replacement.params),re=B.getGateDef(re.exportInfo.pyquil.replacement.name)):re.exportInfo.quil&&re.exportInfo.quil.replacement&&(re.exportInfo.quil.replacement.params&&(de=re.exportInfo.quil.replacement.params),re=B.getGateDef(re.exportInfo.quil.replacement.name)),re&&re.exportInfo&&(re.exportInfo.pyquil?xe=re.exportInfo.pyquil:re.exportInfo.quil&&(xe=re.exportInfo.quil)));var Pe=!1,Ae=(xe?(Pe=0<=Z.indexOf(xe.name),J.indexOf(xe.name)):(Pe=0<=Z.indexOf(ne.name),J.indexOf(ne.name)),!1);if(ne.options&&ne.options.condition&&ne.options.condition.creg){Ae=!0,W+=`
`;var Oe=M.cregTotalBits(),Se=ne.options.condition,Fe=Se.value||0,$e=M.cregBase(Se.creg);if(Fe==0){var Re=M.cregs[Se.creg].length;if(F<2){W+=te+"p.inst(FALSE("+Oe+`))
`;for(var qe=0;qe<Re;qe++)W+=te+"p.inst(OR("+(qe+$e)+", "+Oe+`))
`;W+=te+"p.inst(NOT("+Oe+`))
`,W+=te+"p.if_then("+Oe+", Program("}else{for(W+=te+"p.inst(MOVE(ro["+Oe+`], 0))
`,qe=0;qe<Re;qe++)W+=te+"p.inst(IOR(ro["+Oe+"], ro["+(qe+$e)+`]))
`;W+=te+"p.inst(NOT(ro["+Oe+`]))
`,W+=te+"p.if_then(ro["+Oe+"], Program("}}else{var ze,we=Fe.toString(2).split("").reverse(),Ee=0,Me=0;we.map(function(pt,ot){var bt=parseInt(pt);(we[ot]=bt)&&(Ee++,Me=ot)}),Ee==1?W+=F<2?te+"p.if_then("+(Me+$e)+", Program(":te+"p.if_then(ro["+(Me+$e)+"], Program(":F<2?(W+=te+"p.inst(FALSE("+Oe+`))
`,ze=!0,we.map(function(pt,ot){pt&&(ze?(ze=!1,W+=te+"p.inst(OR("+(ot+$e)+", "+Oe+`))
`):W+=te+"p.inst(AND("+(ot+$e)+", "+Oe+`))
`)}),W+=te+"p.if_then("+Oe+", Program("):(W+=te+"p.inst(MOVE(ro["+Oe+`], 0))
`,ze=!0,we.map(function(pt,ot){pt&&(ze?(ze=!1,W+=te+"p.inst(IOR(ro["+Oe+"], ro["+(ot+$e)+`]))
`):W+=te+"p.inst(AND(ro["+Oe+"], ro["+(ot+$e)+`]))
`)}),W+=te+"p.if_then(ro["+Oe+"], Program(")}}else W+=te+"p.inst(";W+=xe?xe.name:ne.name;var me=!1;if(xe&&xe.params&&xe.params.length){oe=0,W+="(",me=!0;for(var Ge=0;Ge<xe.params.length;Ge++)0<oe&&(W+=", "),de[xe.params[Ge]]!==void 0&&(Xe=l.parse(de[xe.params[Ge]]),W+=Xe.toString({handler:I})),oe++;W+=F<2||Pe?")":", "}else if(re&&re.params&&re.params.length){oe=0,W+="(",me=!0;for(var Xe,Ge=0;Ge<re.params.length;Ge++)0<oe&&(W+=", "),de[re.params[Ge]]!==void 0&&(Xe=l.parse(de[re.params[Ge]]),W+=Xe.toString({handler:I})),oe++;W+=F<2||Pe?")":", "}if(ne.wires.length){oe=0,(F<2||!me||Pe)&&(W+="(",me=!0);for(var rt,ut=0;ut<ne.wires.length;ut++)0<oe&&(W+=", "),W+=p?"q"+ne.wires[ut]:""+ne.wires[ut],oe++;ne.name=="measure"&&ne.options&&ne.options.creg&&(rt=parseInt(ne.options.creg.bit)||0,isNaN(rt)&&(rt=0),0<oe&&(W+=", "),W+=F<2?rt+M.cregBase(ne.options.creg.name):"ro["+(rt+M.cregBase(ne.options.creg.name))+"]",oe++),W+=")"}W+=")",Ae&&(W+=`)
`),W+=`
`}else W+=te+'# Export to pyquil WARNING: unknown gate "'+ne.name+'".'}}if(p?(W+=te+`return p
`,W+=`
`):(W+=`
`,F<2?(W+=te+`qvm = QVMConnection()
`,j?(W+=`
`,W+=te+`# CALCULATE COST HERE
`,(ve=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"").trim()||(ve="cost = 0"),W+=G(ve,te),W+=`
`,W+=te+`return cost
`):W+=te+`print(qvm.run(p))
`):(O&&(W+=te+`p.wrap_in_numshots_loop(shots)
`,W+=`
`),pe=(pe=E)||(F<2.1?this.numQubits+"q-generic-qvm":this.numQubits+"q-qvm"),W+=te+"qc = get_qc('"+pe+"'"+(E?", as_qvm="+(N?"True":"False"):"")+`)
`,E?(W+=te+`ep = qc.compile(p)
`,X?(W+=te+`results_list = qc.run(ep).readout_data.get("ro")
`,W+=te+`results = list(map(lambda arr: reduce(lambda x, y: str(x) + str(y), arr[::-1], ""), results_list))
`,j?(W+=te+`counts = Counter(dict(zip(results,[results.count(i) for i in results])))
`,W+=`
`,W+=te+`# CALCULATE COST HERE
`,(ve=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"").trim()||(ve="cost = 0"),W+=G(ve,te),W+=`
`,W+=te+`return cost
`):(W+=te+`counts = dict(zip(results,[results.count(i) for i in results]))
`,W+=te+`print(counts)
`)):j?(W+=te+`counts = Counter(dict(zip(results,[results.count(i) for i in results])))
`,W+=`
`,W+=te+`# CALCULATE COST HERE
`,(ve=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"").trim()||(ve="cost = 0"),W+=G(ve,te),W+=`
`,W+=te+`return cost
`):W+=te+`print(qc.run(ep).readout_data.get("ro"))
`):X?(W+=te+`results_list = qc.run(p).readout_data.get("ro")
`,W+=te+`results = list(map(lambda arr: reduce(lambda x, y: str(x) + str(y), arr[::-1], ""), results_list))
`,j?(W+=te+`counts = Counter(dict(zip(results,[results.count(i) for i in results])))
`,W+=`
`,W+=te+`# CALCULATE COST HERE
`,(ve=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"").trim()||(ve="cost = 0"),W+=G(ve,te),W+=`
`,W+=te+`return cost
`):(W+=te+`counts = dict(zip(results,[results.count(i) for i in results]))
`,W+=te+`print(counts)
`)):(W+=te+`results_list = qc.run(p).readout_data.get("ro")
`,W+=te+`results = list(map(lambda arr: reduce(lambda x, y: str(x) + str(y), arr[::-1], ""), results_list))
`,j?(W+=te+`counts = Counter(dict(zip(results,[results.count(i) for i in results])))
`,W+=`
`,W+=te+`# CALCULATE COST HERE
`,(ve=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"").trim()||(ve="cost = 0"),W+=G(ve,te),W+=`
`,W+=te+`return cost
`):W+=te+`print(results)
`)),j&&(be="",this.params.map(function(pt,ot){0<ot&&(be+=", "),be+=pt}),W+=`
`,W+="params = np.array(["+be+`])
`,W+=`
`,W+='minimum = minimize(objective_function, params, method="'+(this.options&&this.options.hybridOptions&&this.options.hybridOptions.optimizer?this.options.hybridOptions.optimizer:"Powell")+`", tol=tolerance)
`,W+=`print("cost:", minimum.fun, "params:", minimum.x)
`)),T){var ft={metadata:{kernelspec:{display_name:"Python 3",language:"python",name:"python3"}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:W,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(ft)}return W},m.prototype.exportToQuil=function(o,p){var b=(o=o||{}).comment,y=o.versionStr,A=this,E=parseFloat(y||"2.0");isNaN(E)&&(E=2);var N=new m;N.load(this.save(!0));var T="";b&&(b||"").split(`
`).map(function(ne){1<=ne.length&&ne[0]!="#"&&(T+="# "),T+=ne,T+=`
`}),N.usedGates().map(function(ne){var re=N.basicGates[ne];re&&re.exportInfo&&re.exportInfo.quil&&re.exportInfo.quil.defgate&&(T+=re.exportInfo.quil.defgate,T+=`

`)});var O,j=this.gotClassicalControl(),M="";if(p){var F="";if(N.params.length){F+="(";for(var B=0;B<N.params.length;B++)0<B&&(F+=", "),F+="%"+N.params[B];F+=")"}for(var I="",B=0;B<N.numQubits;B++)0<B&&(I+=" "),I+="q"+B;T+="DEFCIRCUIT "+p+(F?" "+F:"")+(I?" "+I:"")+`:
`,M="    "}else{T+=`
`,2<=E&&(O=N.cregTotalBits(),j&&(O+=1),O&&(T+="DECLARE ro BIT["+O+`]
`));var G=this.options&&this.options.params?this.options.params:{};if(this.params.length){for(T+=`
`,B=0;B<this.params.length;B++){var k=this.params[B];(be=l.parse(G[k])).toString({handler:V}),T+="DECLARE "+k+` REAL[1]
`}T+=`
`}N.usedGates()}for(var V=function(ne,re){if(ne.isSymbolNode&&0<=N.params.indexOf(ne.name))return"%"+ne.name},R=1,U=0;U<N.numCols();U++)for(var L=0;L<N.numQubits;L++){var H=N.getGateAt(U,L);if(H&&H.connector==0){var X=N.getGateDef(H.name),Z=H.options&&H.options.params?H.options.params:{},J=null;if(X){X.exportInfo&&(X.exportInfo.quil&&X.exportInfo.quil.replacement&&(X.exportInfo.quil.replacement.params&&(Z=X.exportInfo.quil.replacement.params),X=N.getGateDef(X.exportInfo.quil.replacement.name)),J=X&&X.exportInfo&&X.exportInfo.quil?X.exportInfo.quil:null);var K=!1;if(H.options&&H.options.condition&&H.options.condition.creg){K=!0,T+=`
`;var $=A.cregTotalBits(),W=H.options.condition,Y=W.value||0,te=A.cregBase(W.creg);if(Y==0){var ce=A.cregs[W.creg].length;if(E<2){T+=M+"FALSE ["+$+`]
`;for(var oe=0;oe<ce;oe++)T+=M+"OR ["+(oe+te)+"] ["+$+`]
`;T+=M+"NOT ["+$+`]
`,T+="JUMP-WHEN @THEN"+R+" ["+$+`]
`,T+="JUMP @END"+(R+1)+`
`,T+="LABEL @THEN"+R+`
`}else{for(T+=M+"FALSE ro["+$+`]
`,oe=0;oe<ce;oe++)T+=M+"OR ro["+(oe+te)+"] ro["+$+`]
`;T+=M+"NOT ro["+$+`]
`,T+="JUMP-WHEN @THEN"+R+" ro["+$+`]
`,T+="JUMP @END"+(R+1)+`
`,T+="LABEL @THEN"+R+`
`}}else{var ue,Ce=Y.toString(2).split("").reverse(),le=0,ye=0;Ce.map(function(ne,re){var de=parseInt(ne);(Ce[re]=de)&&(le++,ye=re)}),le==1?T+=E<2?"JUMP-WHEN @THEN"+R+" ["+(ye+te)+`]
`:"JUMP-WHEN @THEN"+R+" ro["+(ye+te)+`]
`:E<2?(T+=M+"FALSE ["+$+`]
`,ue=!0,Ce.map(function(ne,re){ne&&(ue?(ue=!1,T+=M+"OR ["+(re+te)+"] ["+$+`]
`):T+=M+"AND ["+(re+te)+"] ["+$+`]
`)}),T+="JUMP-WHEN @THEN"+R+" ["+$+`]
`):(T+=M+"FALSE ro["+$+`]
`,ue=!0,Ce.map(function(ne,re){ne&&(ue?(ue=!1,T+=M+"OR ro["+(re+te)+"] ro["+$+`]
`):T+=M+"AND ro["+(re+te)+"] ro["+$+`]
`)}),T+="JUMP-WHEN @THEN"+R+" ro["+$+`]
`),T+="JUMP @END"+(R+1)+`
`,T+="LABEL @THEN"+R+`
`}}T+=J?M+J.name:M+H.name,T+=" ";var ve=0;if(J&&J.params&&J.params.length){T+="(";for(var pe=0;pe<J.params.length;pe++)0<ve&&(T+=", "),Z[J.params[pe]]!==void 0&&(be=l.parse(Z[J.params[pe]]),T+=be.toString({handler:V})),ve++;T+=")"}else if(X&&X.params&&X.params.length){T+="(";for(var be,pe=0;pe<X.params.length;pe++)0<ve&&(T+=", "),Z[X.params[pe]]!==void 0&&(be=l.parse(Z[X.params[pe]]),T+=be.toString({handler:V})),ve++;T+=")"}for(var Ne,he=0;he<H.wires.length;he++)0<ve&&(T+=" "),T+=p?"q"+H.wires[he]:""+H.wires[he],ve++;H.name=="measure"&&H.options&&H.options.creg&&(Ne=parseInt(H.options.creg.bit)||0,isNaN(Ne)&&(Ne=0),0<ve&&(T+=" "),T+=E<2?"["+(Ne+A.cregBase(H.options.creg.name))+"]":"ro["+(Ne+A.cregBase(H.options.creg.name))+"]",ve++),T+=`
`,K&&(T+="LABEL @END"+(R+1)+`
`,T+=`
`,R+=2)}else console.log("unknown gate",H.name)}}return p&&(T+=`
`),T},m.prototype.exportToAQASM=function(o,p,b,y){var A=this,E=(o=o||{},o.decompose),N=o.asJupyter,O=o.shots,T=!!p&&o.hybrid,M=null,F=null,O=O||1024;T===void 0&&(T=!!this.options&&!!this.options.hybrid);var j=this.save(!!E),M=new m,F=new m;M.load(j),F.load(j);function B(Oe,Se){if(Oe.isSymbolNode){if(0<=["pi"].indexOf(Oe.name))return"np."+Oe.name;var Fe=Oe.name;if(Se.replaceVars&&Se.replaceVars[Fe]!==void 0)return Fe=Se.replaceVars[Fe],0<=A.params.indexOf(Fe)?"("+oe[Fe]+")":"("+Fe+")";if(0<=A.params.indexOf(Oe.name))return oe[Oe.name]}}function I(Oe){for(var Se="",Fe=0;Fe<Oe;Fe++)Se+="    ";return Se}y=y||0;var G=[];if(!p){if(!E){for(var k=F.numCols()-1;0<=k;k--)for(var V=0;V<F.numQubits;V++)if((be=F.gates[V][k])&&be.connector==0&&!F.basicGates[be.name]){customDecomposedCircuit=F.decomposeGateAt(k,V);for(var R=0;R<customDecomposedCircuit.numCols();R++)for(var U=0;U<customDecomposedCircuit.numQubits;U++){var L=customDecomposedCircuit.getGateAt(R,U);L&&L.connector==0&&G.push(L),M.gates.map(function(Oe,Se){Oe.map(function(Fe){Fe&&Fe.name==be.name&&M.removeGate(Fe.id)})})}}}G.map(function(Oe){Oe&&M.insertGate(Oe.name,Oe.column,Oe.wires,Oe.options)})}var H="",X=I(y),Z=M.usedGates(),J=M.numQubits;if(p)if(b){for(var K="",$=0,W=0;W<M.params.length;W++)0<$&&(K+=", "),K+=M.params[W],$++;for(W=0;W<M.numQubits;W++)0<$&&(K+=", "),K+=f(W,M.numQubits),$++}else{H+=X+`from qat.lang.AQASM import *
`,H+=X+`from qat.qpus import get_default_qpu
`,H+=X+`from collections import Counter
`,T&&(H+=X+`from scipy.optimize import minimize
`),H+=X+`import numpy as np
`,H+=`
`;var Y="",te=0;for(var ce in Z.map(function(Oe){var Se,Fe=M.basicGates[Oe];if(Fe){if(!E&&M.basicGates[Oe].exportInfo.aqasm&&M.basicGates[Oe].exportInfo.aqasm.array){unsupportedAqasmInfo=M.basicGates[Oe].exportInfo.aqasm,gateUnitary=Oe+"_gate",H+=X+"def "+gateUnitary+"(",unsupportedAqasmInfo.params&&unsupportedAqasmInfo.params.length&&(Se=0,unsupportedAqasmInfo.params.map(function(we){0<Se&&(H+=", "),H+=X+"p_"+we,Se++})),H+=`):
`,H+=I(y+1)+"return np.array("+unsupportedAqasmInfo.array+`)

`,Y+=Oe+' = AbstractGate("'+Oe+'", [';var $e=0;if(unsupportedAqasmInfo.params)for(var Re=0;Re<unsupportedAqasmInfo.params.length;Re++)0<$e&&(Y+=", "),Y+="float",$e++;Fe.matrix&&(arity=l.log2(Fe.matrix.length)),Y+="], matrix_generator="+gateUnitary+", arity="+arity+`)
`}}else{var qe,ze=A.customGates[Oe];ze&&((qe=new m).load(ze),H+=qe.exportToAQASM({comment:"",decompose:!0,asJupyter:!1,shots:null,hybrid:!1},p,Oe,y),te++)}}),H+=Y,H+=`
`,O&&(H+=X+"shots = "+O+`
`,H+=`
`),H+=X+`program = Program()
`,H+=X+"qubits_reg = program.qalloc("+M.numQubits+`)
`,M.cregs)H+=X+ce+" = program.calloc("+M.cregs[ce].length+`)
`;H+=`
`;var oe=this.options&&this.options.params?this.options.params:{};if(this.params.length){for(W=0;W<this.params.length;W++){var ue=this.params[W],Ce=l.parse(oe[ue]).toString({handler:B});H+=ue+" = "+Ce+`
`}H+=`
`}T&&(H+=X+"tolerance = "+(this.options&&this.options.hybridOptions&&this.options.hybridOptions.tolerance&&this.options.hybridOptions.tolerance||"0.001")+`
`,H+=`
`)}else if(H+=X+`BEGIN
`,H+=X+"qubits "+J+`
`,M.cregs){var le=0;for(var ye in M.cregs)le+=M.cregs[ye].length;H+=X+"cbits "+le+`
`}b?(H+="def "+b+(K?"("+K+")":"")+`:
`,X=I(++y),H+=X+`circuit = QRoutine()
`):T&&(H+=`def objective_function(params):
`,X=I(++y)),b||te&&(H+=`
`,Z.map(function(Oe){!M.basicGates[Oe]&&M.customGates[Oe]&&(H+=X+Oe+"(")}));for(var ve,pe,k=0;k<M.numCols();k++)for(var be,V=0;V<M.numQubits;V++)if((be=M.getGateAt(k,V))&&be.connector==0){var Ne=M.getGateDef(be.name),he="";if(be.options&&be.options.params&&(gateParams=be.options.params),be.name=="measure"&&(he+=p?"program.measure":"MEAS"),be.name=="reset"&&(he+=p?"program.reset":"RESET"),Ne&&Ne.exportInfo){if(Ne.exportInfo.aqasm){var ne=Ne.exportInfo.aqasm,re="";if(ne.name)Ne.params.length?Ne.params.map(function(Fe){var $e=l.parse(gateParams[Fe]).toString({handler:B});re=ne.name,re+=p?"("+$e+")":"["+$e+"]"}):re+=ne.name,ne.controlled&&ne.dagger?he+=p?re+".dag().ctrl()":"CTRL(DAG("+re+"))":ne.controlled?he+=p?re+".ctrl()":"CTRL("+re+")":ne.dagger?he+=p?re+".dag()":"DAG("+re+")":he+=re;else if(ne.matrix)if(p){he+=be.name+"(";var de=0;Ne.params.map(function(Fe){0<de&&(he+=", ");var $e=l.parse(gateParams[Fe]).toString({handler:B});he+=$e,de++}),he+=")"}else{he="[";for(var xe=0;xe<ne.matrix.length;xe++){for(row=ne.matrix[xe],he+="[",W=0;W<row.length;W++)he+="(",row_element=row[W],ne.params&&ne.params.map(function(Fe){var $e=gateParams[Fe];0<row_element.toString().indexOf(Fe)&&(row_element=row_element.replace(Fe,$e))}),evaluated_expression=l.evaluate(row_element,A.options.params),matrix_element=l.complex(evaluated_expression),matrix_element_real=matrix_element.re,matrix_element_im=matrix_element.im,he+=matrix_element_real+", "+matrix_element_im+")",W<row.length-1&&(he+=" ");he+="]",xe<ne.matrix.length-1&&(he+=" ")}he+="]"}}H+=X+he,H+=p?"(":" "}for(var $=0,Pe=0;Pe<be.wires.length;Pe++)0<$&&(H+=", "),H+=p?b?f(be.wires[Pe],M.numQubits):"qubits_reg["+be.wires[Pe]+"]":"q["+be.wires[Pe]+"]",$+=1;be.options&&be.options.creg&&(H+=", "+be.options.creg.name+"["+be.options.creg.bit+"]"),p&&(H+=")"),H+=`
`}if(b&&(H+=X+`return circuit

`),p?b||(H+=X+`
`,H+=X+`circuit = program.to_circ()
`,H+=X+`job = circuit.to_job(nbshots=shots, aggregate_data=False)
`,H+=X+`qpu = get_default_qpu()
`,H+=X+`job_result = qpu.submit(job)
`,H+=X+`counts = Counter()

`,H+=X+`for state in job_result:
`,H+=X+`    string_state = str(state.state)
`,H+=X+`    string_state = string_state[string_state.find('|') + 1: string_state.find('>')]
`,H+=X+`    string_state = string_state[::-1]
`,H+=X+`    counts[string_state] += 1

`,T?(H+=X+`# CALCULATE COST HERE
`,(ve=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"").trim()||(ve="cost = 0"),H+=function(Oe,Se){var Fe="",$e=Oe.split(`
`),Re=-1;$e.map(function(we){var Ee=we.search(/\S/);0<=Ee&&(Re<0||Ee<Re)&&(Re=Ee)}),Re<0&&(Re=0);var qe="";if(Re<Se.length)for(var ze=0;ze<Se.length-Re;ze++)qe+=" ";return $e.map(function(we){Fe+=qe+we+`
`}),Fe}(ve,X),H+=`
`,H+=X+`return cost
`,X=I(--y),T&&(pe="",this.params.map(function(Oe,Se){0<Se&&(pe+=", "),pe+=Oe}),H+=`
`,H+="params = np.array(["+pe+`])
`,H+=`
`,H+='minimum = minimize(objective_function, params, method="'+(this.options&&this.options.hybridOptions&&this.options.hybridOptions.optimizer?this.options.hybridOptions.optimizer:"Powell")+`", tol=tolerance)
`,H+=`print("cost:", minimum.fun, "params:", minimum.x)
`)):H+=X+"print(counts)"):H+="END",N&&p){var Ae={metadata:{kernelspec:{display_name:"Python 3",language:"python",name:"python3"}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:H,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(Ae)}return H},m.prototype.exportAQASM=function(o,p,b,y,A,E,N,T,O){var j={comment:o,decompose:p,asJupyter:A,shots:E,hybrid:N,encoderDecoder:T};return this.exportToAQASM(j,b,y,O)},m.prototype.exportToPyAQASM=function(o,p){return this.exportToAQASM(o,!0,p)},m.prototype.exportPyAQASM=function(o,p,b,y,A,E,N){var T={comment:o,decompose:p,asJupyter:y,shots:A,hybrid:E,encoderDecoder:N};return this.exportToPyAQASM(T,b)},m.prototype.exportToCirq=function(o,p){var b=(o=o||{}).comment,y=o.decompose,A=o.versionStr,E=o.asJupyter,N=o.shots,T=o.exportTfq,O=this,j="",j=T?"TFQ":"cirq",M=parseFloat(A||"0.7");isNaN(M)&&(M=.7),N===void 0&&(N=1024);var F=new m;F.load(this.save(y));var B="",I="";b&&(b||"").split(`
`).map(function(Oe){1<=Oe.length&&Oe[0]!="#"&&(B+="# "),B+=Oe,B+=`
`});function G(Oe,Se){if(Oe.isSymbolNode&&0<=["pi","sin","cos","tan","asin","acos","atan"].indexOf(Oe.name))return"np."+Oe.name}if(p){for(var k="",V=0,R=0;R<F.params.length;R++)0<V&&(k+=", "),k+=F.params[R],V++;for(R=0;R<F.numQubits;R++)0<V&&(k+=", "),k+=f(R,F.numQubits),V++;B+="def "+p+(k?"("+k+")":"")+`:
`,B+=`    return [
`,I="        "}else{T&&(B+=`import tensorflow_quantum as tfq
`),B+=`import cirq
`,B+=`import numpy as np
`,B+=`from functools import reduce
`,B+=`
`;var U=this.options&&this.options.params?this.options.params:{};if(this.params.length){for(R=0;R<this.params.length;R++){var L=this.params[R],H=(re=l.parse(U[L])).toString({handler:G});B+=L+" = "+H+`
`}B+=`
`}var X=F.usedGates();y||X.map(function(Oe){var Se,Fe,$e;F.basicGates[Oe]||(Se=O.customGates[Oe])&&((Fe=new m).load(Se),$e={comment:"",decompose:!0,versionStr:A},B+=Fe.exportToCirq($e,p))});var Z="";(X=F.usedGates()).map(function(Oe){var Se=F.basicGates[Oe];if(Se&&Se.exportInfo&&Se.exportInfo.cirq){var Fe=Se.exportInfo.cirq,$e=!1;if(Fe.replacement&&(Fe=F.getGateDef(Fe.replacement.name).exportInfo.cirq,$e=!0),Fe.array&&!T){var Re=$e?Fe.name:Oe;if(Z.indexOf(Re)<0){if(Z+="def "+Re+"(",Fe.params&&Fe.params.map(function(qe,ze){0<ze&&(Z+=", "),Z+="p_"+qe}),Z+=`):
`,Se.matrix&&Se.matrix.length)if(M<.7)switch(Se.matrix.length){case 2:Z+="    return cirq.SingleQubitMatrixGate(np.array("+Fe.array+`))
`;break;case 4:Z+="    return cirq.TwoQubitMatrixGate(np.array("+Fe.array+`))
`;break;default:Z+="    # Export to "+j+" WARNING: Cannot define "+Se.matrix.length+" x "+Se.matrix.length+` matrix gate
`}else Z+="    return cirq.MatrixGate(np.array("+Fe.array+`))
`;Z+=`
`}}}}),B+=Z,B+=T?"q = cirq.GridQubit.rect(1, "+F.numQubits+`)
`:"q = [cirq.NamedQubit('q' + str(i)) for i in range("+F.numQubits+`)]
`,B+=`
`,B+=M<.7?`circuit = cirq.Circuit.from_ops(
`:`circuit = cirq.Circuit(
`,I="    "}for(var J=F.numCols(),K=0,$="",W=!1,Y=0;Y<J;Y++)for(var te=0;te<this.numQubits;te++){var ce=F.getGateAt(Y,te);if(ce&&ce.connector==0){0<K&&(B+=",",T&&W&&(B+=I+"# Export to TFQ WARNING: Gate not yet supported by Tensorflow Quantum"),B+=`
`);var oe=F.getGateDef(ce.name),ue=ce.options&&ce.options.params?ce.options.params:{},Ce=null,le=!1,ye=!!F.basicGates[ce.name];if(oe){oe.exportInfo&&oe.exportInfo.cirq&&(W=!!oe.exportInfo.cirq.notTfqSupported,oe.exportInfo.cirq&&oe.exportInfo.cirq.replacement&&(oe.exportInfo.cirq.replacement.params&&(ue=oe.exportInfo.cirq.replacement.params),le=!(!oe.exportInfo.cirq.replacement.type||oe.exportInfo.cirq.replacement.type!="controlled"),W=!!oe.exportInfo.cirq.replacement.notTfqSupported,oe=F.getGateDef(oe.exportInfo.cirq.replacement.name)),Ce=oe&&oe.exportInfo&&oe.exportInfo.cirq?oe.exportInfo.cirq:null),K++,ce.options&&ce.options.condition&&ce.options.condition.creg&&(B+=I+"# Export to "+j+` WARNING: classical control not implemented yet.
`);var ve,pe=0,be="";if(ue){var Ne=oe.params||[];ce.name=="yy"&&(Ne=[]);var he=Ne.length;if(he)for(var ne=0;ne<he;ne++){pe==0&&(be+="("),0<pe&&(be+=", ");var re,de=Ne[ne];if(ue[de]){if(!(re=l.parse(ue[de])).args)for(var xe in ce.options.params)re=l.parse(ce.options.params[xe]);be+=re.toString({handler:G})}pe==he-1&&(be+=ye?")":", "),pe++}}Ce?(ve=0<=Ce.name.indexOf("**"),B+=I,ve&&(B+="("),Ce.array||(B+="cirq."),T&&Ce.tfqReplacement&&Ce.tfqReplacement.name?B+="cirq."+Ce.tfqReplacement.name:B+=Ce.name,ve&&(B+=")")):B+=I+ce.name,B+=be,le?B+=".controlled().on(":ye&&(B+="(");for(var V=0,Pe=0;Pe<ce.wires.length;Pe++)0<V&&(B+=", "),B+=p?f(ce.wires[Pe],F.numQubits):"q["+ce.wires[Pe]+"]",V++;ce.name=="measure"&&ce.options&&ce.options.creg&&(0<V&&(B+=", key="),B+="'"+ce.options.creg.name+ce.options.creg.bit+"'",Y==J-1&&te==this.numQubits-1?$+="'"+ce.options.creg.name+ce.options.creg.bit+"'":$+="'"+ce.options.creg.name+ce.options.creg.bit+"', ",V++),B+=")"}else B+=I+"# Export to "+j+' WARNING: unknown gate "'+ce.name+'".'}}if(T&&W&&(B+=I+"# Export to TFQ WARNING: Gate not yet supported by Tensorflow Quantu"),p?(B+=`
    ]
`,B+=`
`):(B+=`
)
`,B+=`
`,T||(B+=`simulator = cirq.Simulator()
`,B+="result = simulator.run(circuit, repetitions="+N+`)
`,B+="result_dict = dict(result.multi_measurement_histogram(keys=["+$+`]))
`,B+=`keys = list(map(lambda arr: reduce(lambda x, y: str(x) + str(y), arr[::-1]), result_dict.keys()))
`,B+=`counts = dict(zip(keys,[value for value in result_dict.values()]))
`,B+="print(counts)")),E){var Ae={metadata:{kernelspec:{display_name:"Python 3",language:"python",name:"python3"}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:B,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(Ae)}return B},m.prototype.exportToTFQ=function(o,p){var b=(o=o||{}).comment,y=o.decompose,A=o.versionStr,E=o.asJupyter,N=o.shots;N===void 0&&(N=1024);var T=new m;T.load(this.save(y));var O="";b&&(b||"").split(`
`).map(function(F){1<=F.length&&F[0]!="#"&&(cirq+="# "),cirq+=F,cirq+=`
`});var j={comment:b,decompose:y,versionStr:A,asJupyter:!1,shots:N,exportTfq:!0};if(O+=T.exportToCirq(j,p),O+="results_list = tfq.layers.Sample()(circuit, repetitions="+N+`).to_list()[0]
`,O+=`results = list(map(lambda arr: reduce(lambda x, y: str(x) + str(y), arr[::-1]), results_list))
`,O+=`counts = dict(zip(results,[results.count(i) for i in results]))
`,O+="print(counts)",E){var M={metadata:{kernelspec:{display_name:"Python 3",language:"python",name:"python3"}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:O,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(M)}return O},m.prototype.exportToQSharp=function(o,p){o=o||{};function b(be,Ne){if(be.isSymbolNode){var he={pi:"PI()"};if(he[be.name])return he[be.name]}if(be.isConstantNode&&Number.isInteger(be.value))return be.value.toFixed(1)}var y=o.decompose,A=o.versionStr,E=o.asJupyter,N=o.circuitName,T=o.indentDepth,O=this,j=N||"Circuit";function M(be){for(var Ne="",he=0;he<be;he++)Ne+="    ";return Ne}T=T||0;var F=new m;F.load(this.save(y));var B="",I=M(T);if(p||(E||(B+=`namespace Quantum {
`,I=M(++T)),B+=I+`open Microsoft.Quantum.Intrinsic;
`,B+=I+`open Microsoft.Quantum.Canon;
`,B+=I+`open Microsoft.Quantum.Math;
`,B+=I+`open Microsoft.Quantum.Convert;
`,B+=`
`,B+=I+`function SetBitValue(reg: Int, bit: Int, value: Bool): Int {
`,B+=I+`    if(value) {
`,B+=I+`        return reg ||| (1 <<< bit);
`,B+=I+`    } else {
`,B+=I+`        return reg &&& ~~~(1 <<< bit);
`,B+=I+`    }
`,B+=I+`}
`,B+=I+`
`),p){for(var G="",k=0,V=0;V<F.params.length;V++)0<k&&(G+=", "),G+=F.params[V],k++;for(V=0;V<F.numQubits;V++)0<k&&(G+=", "),G+=f(V,F.numQubits)+": Qubit",k++;B+=I+"operation "+p+(G?"("+G+")":"")}else{var R=F.usedGates();y||R.map(function(be){var Ne,he,ne;F.basicGates[be]||(Ne=O.customGates[be])&&((he=new m).load(Ne),ne={comment:"",decompose:!0,versionStr:A,asJupyter:!1,circuitName:null,indentDepth:T},B+=he.exportToQSharp(ne,p))}),B+=I+"operation "+j+"()"}I=M(++T);var U=0;for(cregName in F.cregs)U++;var L="";if(U){for(cregName in B+=" : (",F.cregs)L&&(B+=", ",L+=", "),B+="Int",L+=cregName;B+=")"}else B+=" : Unit";if(B+=` {
`,U)for(cregName in F.cregs)B+=I+"mutable "+cregName+` = 0;
`;qreg_name="qubits",p||(B+=I+"using(",B+=qreg_name+" = Qubit["+F.numQubits+"]",B+=`) {
`,I=M(++T));for(var R=F.usedGates(),H=F.numCols(),X=0;X<H;X++)for(var Z=0;Z<F.numQubits;Z++){var J=F.getGateAt(X,Z);if(J&&J.connector==0){var K=(K=F.getGateDef(J.name))||F.customGates[J.name],$=J.options&&J.options.params?J.options.params:{},W=null,Y=!1,te=0;if(K){K.exportInfo&&(K.exportInfo.qsharp&&K.exportInfo.qsharp.replacement&&(K.exportInfo.qsharp.replacement.params&&($=K.exportInfo.qsharp.replacement.params),K=F.getGateDef(K.exportInfo.qsharp.replacement.name)),W=K&&K.exportInfo&&K.exportInfo.qsharp?K.exportInfo.qsharp:null),K.drawingInfo&&K.drawingInfo.root&&J.name!="cx"&&J.name!="ccx"&&(Y=!0);var ce=0,oe="";if($){var ue=K.params||[],Ce=ue.length;if(Ce)for(var le=0;le<Ce;le++){0<ce&&(oe+=", ");var ye=ue[le];$[ye]&&(oe+=l.parse($[ye]).toString({handler:b})),ce++}}if(J.name=="measure")J.options&&J.options.creg?(B+=I+"set "+J.options.creg.name+" = SetBitValue("+J.options.creg.name+", "+J.options.creg.bit+", ResultAsBool(M(",B+=p?f(J.wires[0],F.numQubits)+`)));
`:qreg_name+"["+J.wires[0]+`])));
`):B+=I+`// Export to qsharp WARNING: missing destination register
`;else{B+=I,J.options&&J.options.condition&&J.options.condition.creg&&(B+="if("+J.options.condition.creg+" == "+J.options.condition.value+`) {
`,I=M(++T),B+=I),B+=W?W.name+"(":J.name+"(",te=Y?(B+=p?"["+f(J.wires[0],F.numQubits)+"], (":"["+qreg_name+"["+J.wires[0]+"]], (",1):0,oe&&(B+=oe+", ");for(var k=0,ve=te;ve<J.wires.length;ve++)0<k&&(B+=", "),B+=p?f(J.wires[ve],F.numQubits):qreg_name+"["+J.wires[ve]+"]",k++;Y&&(B+=")"),B+=`);
`,J.options&&J.options.condition&&J.options.condition.creg&&(I=M(--T),B+=I+`}
`)}}}}if(p||(B+=I+"ResetAll("+qreg_name+`);
`,I=M(--T),B+=I+`}
`),U&&(B+=I+"return ("+L+`);
`),I=M(--T),B+=I+`}
`,p?B+=`
`:E||(B+=`}
`),E){var pe={metadata:{kernelspec:{display_name:"Q#",language:"qsharp",name:"iqsharp"},language_info:{name:""}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:B,metadata:{},outputs:[],execution_count:null},{cell_type:"code",source:"%simulate "+j,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(pe)}return B},m.prototype.exportToBraket=function(o,p){o=o||{};var b=o.decompose,y=o.versionStr,A=o.asJupyter,O=o.shots,E=o.hybrid,N=o.indentDepth,T=this,O=O||1024;E===void 0&&(E=!!this.options&&!!this.options.hybrid);var j=new m;j.load(this.save(b));function M(re,de){if(re.isSymbolNode){if(0<=["pi","sin","cos","tan","asin","acos","atan"].indexOf(re.name))return"np."+re.name;if(0<=T.params.indexOf(re.name)&&E)return"params["+T.params.indexOf(re.name)+"]"}}function F(re){for(var de="",xe=0;xe<re;xe++)de+="    ";return de}var B="",I=F(N=N||0),G=j.usedGates();G.map(function(re){j.basicGates[re]});var k="",V=0;if(p){for(var R=0;R<j.numQubits;R++)0<V&&(k+=", "),k+=f(R,j.numQubits),V++;for(R=0;R<j.params.length;R++)0<V&&(k+=", "),k+=j.params[R],V++}else{B+=I+`import numpy as np
`,B+=I+`from braket.devices import LocalSimulator
`,B+=I+`from braket.circuits import Circuit
`,B+=I+`from collections import Counter
`,E&&(B+=I+`from scipy.optimize import minimize
`),B+=`
`,O&&(B+=I+"shots = "+O+`
`,B+=`
`);var U=this.options&&this.options.params?this.options.params:{};if(this.params.length){for(R=0;R<this.params.length;R++){var L=this.params[R],H=l.parse(U[L]).toString({handler:M});B+=L+" = "+H+`
`}B+=`
`}E&&(B+=I+"tolerance = "+(this.options&&this.options.hybridOptions&&this.options.hybridOptions.tolerance&&this.options.hybridOptions.tolerance||"0.001")+`
`,B+=`
`)}var X=null,Z=0;G.map(function(re){var de,xe,Pe;j.basicGates[re]?b||j.basicGates[re].exportInfo.braket&&j.basicGates[re].exportInfo.braket.array&&((X=j.basicGates[re].exportInfo.braket).name=="unitary"&&(B+=I+"def "+(re+"_unitary")+"("),X.params&&X.params.length&&(de=0,X.params.map(function(Ae){0<de&&(B+=", "),B+=I+"p_"+Ae,de++})),B+=`):
`,B+=F(N+1)+"return np.array("+X.array+`);

`):(xe=T.customGates[re])&&((Pe=new m).load(xe),B+=Pe.exportBraket("",!0,re,y,!1,null,!1,!1,N),Z++)}),p?(B+="def "+p+(k?"("+k+")":"")+`:
`,I=F(++N)):E&&(B+=`def objective_function(params):
`,I=F(++N)),B+=I+`circuit = Circuit()
`,p||Z&&(B+=`
`,G.map(function(re){!j.basicGates[re]&&j.customGates[re]&&(B+=I+"circuit.register_subroutine("+re+`)
`)}),B+=`
`);for(var J,K,$=j.numCols(),W=0;W<$;W++)for(var Y=0;Y<j.numQubits;Y++){var te=j.getGateAt(W,Y);if(te&&te.connector==0){var ce=j.getGateDef(te.name),oe=te.options&&te.options.params?te.options.params:{},ue=ce.params||[],Ce=null,le=te.name,ye="",ve=!1;if(ce&&ce.exportInfo&&ce.exportInfo.braket&&((Ce=ce.exportInfo.braket).params&&(ue=Array.isArray(Ce.params)?Ce.params:(oe=Ce.params,Object.keys(oe))),Ce.name=="unitary"?ve=!0:le=Ce.name),Ce||j.customGates[te.name]){var pe=0;if(oe){var be=ue.length;if(be)for(var Ne=0;Ne<be;Ne++){0<pe&&(ye+=", ");var he=ue[Ne];oe[he]!==void 0&&(ye+=l.parse(oe[he]).toString({handler:M})),pe++}}for(B+=I+"circuit.",B+=ve?"unitary(matrix="+le+"_unitary("+ye+"), targets=[":le+"(",V=0,w=0;w<te.wires.length;w++)0<V&&(B+=", "),B+=p?f(te.wires[w],j.numQubits):te.wires[w],V++;ve?B+="]":ye&&(B+=", ",B+=ye),B+=")",B+=`
`}else B+=I+'# Unsupported gate "'+te.name+`".
`}}if(p&&(B+=I+"return circuit"),B+=`

`,p||(B+=I+`local_sim = LocalSimulator()
`,B+=I+`result = local_sim.run(circuit, shots=shots).result()
`,B+=I+`counts = Counter({ "".join(reversed(k)): v for k, v in result.measurement_counts.items() })
`,B+=`
`,E?(B+=I+`# CALCULATE COST HERE
`,(J=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"").trim()||(J="cost = 0"),B+=function(re,de){var xe="",Pe=re.split(`
`),Ae=-1;Pe.map(function(Fe){var $e=Fe.search(/\S/);0<=$e&&(Ae<0||$e<Ae)&&(Ae=$e)}),Ae<0&&(Ae=0);var Oe="";if(Ae<de.length)for(var Se=0;Se<de.length-Ae;Se++)Oe+=" ";return Pe.map(function(Fe){xe+=Oe+Fe+`
`}),xe}(J,I),B+=`
`,B+=I+`return cost
`,I=F(--N),E&&(K="",this.params.map(function(re,de){0<de&&(K+=", "),K+=re}),B+=`
`,B+="params = np.array(["+K+`])
`,B+=`
`,B+='minimum = minimize(objective_function, params, method="'+(this.options&&this.options.hybridOptions&&this.options.hybridOptions.optimizer?this.options.hybridOptions.optimizer:"Powell")+`", tol=tolerance)
`,B+=`print("cost:", minimum.fun, "params:", minimum.x)
`)):B+=I+"print(counts)"),A){var ne={metadata:{kernelspec:{display_name:"Python 3",language:"python",name:"python3"}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:B,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(ne)}return B},m.prototype.exportToQobj=function(o,p){var b=(o=o||{}).circuitName,y=o.experimentName,A=o.numShots,E=this,N=this.options&&this.options.params?this.options.params:{},N=JSON.parse(JSON.stringify(N));for(var T in N)N[T]=l.evaluate(N[T]);b=b||"",y=y||"",A=A||1;var O=new m;O.load(this.save(!0));function j(he,ne){if(he.isSymbolNode){var re=he.name;if(ne.replaceVars&&ne.replaceVars[re]!==void 0)return re=ne.replaceVars[re],0<=E.params.indexOf(re)?"("+N[re]+")":"("+re+")";if(0<=E.params.indexOf(he.name))return N[he.name]}}var M={qobj_id:"qobj_"+this.randomString(),type:"QASM",schema_version:"1.0",experiments:[],header:{description:b},config:{shots:A,memory_slots:0}},F={header:{memory_slots:0,n_qubits:0,qreg_sizes:[],qubit_labels:[],creg_sizes:[],clbit_labels:[],name:"circuit0"},config:{n_qubits:0,memory_slots:0},instructions:[]},B=Object.keys(O.cregs);if(!p){for(cregName in y&&(F.header.description=y),O.cregs){var I=O.cregs[cregName].length;M.config.memory_slots+=I,F.header.creg_sizes.push([cregName,I]);for(var G=0;G<I;G++)F.header.clbit_labels.push([cregName,G])}F.header.memory_slots=M.config.memory_slots,F.header.n_qubits=O.numQubits,F.config.memory_slots=M.config.memory_slots,F.config.n_qubits=O.numQubits,F.header.qreg_sizes.push(["q",O.numQubits])}var k=M.config.memory_slots;O.usedGates().map(function(he){var ne,re;O.basicGates[he]||(ne=E.customGates[he])&&(customCircuit=new m,customCircuit.load(ne),re={circuitName:b,experimentName:y,numShots:A},M+=customCircuit.exportToQobj(re,!1))});for(var V=O.numCols(),R=0;R<V;R++)for(var U=0;U<O.numQubits;U++){var L=O.getGateAt(R,U),H={name:"",qubits:[]},X=null,Z=null;if(R==0&&F.header.qubit_labels.push(["q",U]),L&&L.connector==0){var J=O.getGateDef(L.name);if(J&&J.exportInfo&&(J.exportInfo.qasm&&J.exportInfo.qasm.replacement?(X=J.exportInfo.qasm.replacement).map(function(he){var ne,re,de=new m;de.cregs=JSON.parse(JSON.stringify(E.cregs)),L.options&&L.options.params&&(ne=Object.keys(L.options.params),re=Object.keys(he.params),ne.map(function(Pe){-1<re.indexOf(Pe)&&(he.params[Pe]=L.options.params[Pe])}));var xe=L.options&&L.options.condition?L.options.condition:{};de.addGate(he.name,R,L.wires,{params:he.params,condition:xe}),F.instructions=F.instructions.concat(de.exportToQobj({circuitName:"",experimentName:"",numShots:""},!0))}):J.exportInfo.qasm&&J.exportInfo.qasm.equivalent&&(Z=J.exportInfo.qasm.equivalent).map(function(he){var ne=new m;ne.cregs=JSON.parse(JSON.stringify(E.cregs));var re=1<he.wires.length?L.wires:L.wires[he.wires[0]],de={};if(he.params){var xe={};if(L.options&&L.options.params)for(var Pe in L.options.params){var Ae=l.parse(L.options.params[Pe]).toString({handler:j});xe[Pe]=Ae}for(var Oe in he.params)Ae=l.parse(he.params[Oe]).toString({handler:j,replaceVars:xe}),de[Oe]=Ae}var Se=L.options&&L.options.condition?L.options.condition:{};ne.addGate(he.name,R,re,{params:de,condition:Se}),F.instructions=F.instructions.concat(ne.exportToQobj({circuitName:"",experimentName:"",numShots:""},!0))})),!X&&!Z){var K=L.name,$=L.options&&L.options.params?L.options.params:{};if(this.basicGates[K]){switch(K){case"id":K="iden"}if(H.name=K,H.qubits=L.wires,L.options&&L.options.condition&&L.options.condition.creg){for(var W={name:"",register:k,relation:"==",mask:"",val:""},Y=O.cregs[L.options.condition.creg].length,te=0,ce=0,oe="",ue=B.indexOf(L.options.condition.creg),G=0;G<ue;G++)te+=O.cregs[B[G]].length;var Ce="0x"+(L.options.condition.value%Math.pow(2,Y)*Math.pow(2,te)).toString(16).toUpperCase();if(0<te){for(var le=Math.pow(2,te),ye=0;ye<Y;ye++)ce+=le,le*=2;oe="0x"+ce.toString(16).toUpperCase()}else oe="0x"+(Math.pow(2,Y)-1).toString(16).toUpperCase();W.name="bfunc",H.conditional=k,W.mask=oe,W.val=Ce,F.instructions.push(W),k+=1}if(K=="measure"&&L.options&&L.options.creg){H.memory=[],H.register=[];for(var ve=0,ue=B.indexOf(L.options.creg.name),G=0;G<ue;G++)ve+=O.cregs[B[G]].length;var pe=ve+L.options.creg.bit;H.memory.push(pe),H.register.push(pe)}if($&&(J=(J=this.basicGates[K])||this.customGates[K])&&(paramDef=J.params||[],paramCount=paramDef.length,paramCount)){H.params=[];for(var be,Ne=0;Ne<paramCount;Ne++)paramName=paramDef[Ne],($[paramName]||$[paramName].toString())&&(be=l.evaluate($[paramName],N),H.params.push(be))}F.instructions.push(H)}}}}return p?F.instructions:(F.instructions.length&&M.experiments.push(F),M)},m.prototype.clearPartitions=function(){this.partitionMap=[],this.partitionCount=0,this.partitionInfo={};for(var o=this.numCols(),p=0;p<this.numQubits;p++){this.partitionMap.push([]);for(var b=0;b<o;b++)this.partitionMap[p].push(-1)}},m.prototype.createPartitions=function(){this.clearPartitions();for(var o=[],p=0;p<this.numQubits;p++)o.push(-1);for(var b=0,y=this.numCols(),A=0;A<y;A++){for(var E=0;E<this.numQubits;E++){var N=this.getGateAt(A,E);if(N&&N.wires){for(var T=[],O=0;O<N.wires.length;O++){var j=o[F=N.wires[O]];T.indexOf(j)<0&&T.push(j)}var M=-1;for(M=T.length!=1||T[0]==-1?b++:T[0],O=0;O<N.wires.length;O++){var F=N.wires[O];if(oldPartition=o[F],oldPartition==-1)o[F]=M;else for(p=0;p<this.numQubits;p++)o[p]==oldPartition&&(o[p]=M)}}}for(E=0;E<this.numQubits;E++)this.partitionMap[E][A]=o[E]}for(this.partitionCount=b,M=0;M<b;M++)this.partitionInfo[M]=this.partitionBounds(M)},m.prototype.printPartitions=function(){for(var o=this.numCols(),p=0;p<this.numQubits;p++){for(var b="",y=0;y<o;y++){var A=this.partitionMap[p][y];for(A==-1&&(A=" "),this.getGateAt(y,p)?A+="*":A+=" ";A.length<4;)A=" "+A;b+=A}for(var E=p+"";E.length<2;)E="0"+E;b="q"+E+b,console.log(b)}},m.prototype.partitionBounds=function(o){for(var p={wire:{top:-1,bottom:-1},column:{left:-1,right:-1},wireMap:{},parents:{}},b=!1,y=this.numCols(),A=0;A<y;A++)for(var E=0;E<this.numQubits;E++)this.partitionMap[E][A]==o&&(b=!0,p.wire.top<0&&(p.wire.top=E),p.wire.bottom<E&&(p.wire.bottom=E),p.column.left<0&&(p.column.left=A),p.column.right<A&&(p.column.right=A));if(!b)return null;for(var N=0,E=p.wire.top;E<=p.wire.bottom;E++)this.partitionMap[E][p.column.left]==o&&(p.wireMap[E]=N,N++);if(p.numQubits=N,0<p.column.left)for(var E in p.wireMap){var T=this.partitionMap[E][p.column.left-1];if(0<=T){p.parents[T]||(p.parents[T]={},p.parents[T].links=[]);var O=this.partitionInfo[T];for(var j in O.wireMap)j==E&&p.parents[T].links.push(p.wireMap[E])}}return p},m.prototype.partitionCircuit=function(o){var p=this.partitionInfo[o];if(!p)return null;var b=[],y=[];for(var A in p.parents)(E={}).circuit=this.partitionCache[A],E.wires=[],E.wires=p.parents[A].links,y=y.concat(E.wires),b.push(E);var E,N=new m;if(0<b.length){if(p.numQubits>y.length){(E={}).circuit=new m(p.numQubits-y.length),E.wires=[];for(var T=0;T<p.numQubits;T++)y.indexOf(T)<0&&E.wires.push(T);b.push(E)}N.setCombinedState(b)}for(var O=p.column.left;O<=p.column.right;O++)for(var j=p.wire.top;j<=p.wire.bottom;j++)if(this.partitionMap[j][O]==o){var M=this.getGateAt(O,j);if(M&&M.connector==0){for(var F=[],B=0;B<M.wires.length;B++){var I=M.wires[B];F.push(p.wireMap[I])}N.addGate(M.name,O-p.column.left,F,M.options)}}return N},m.prototype.run=function(o,p){if(p=p||{},this.measureResetsQubit=!!p.strictMode,p.continue||(this.initState(),this.stats.duration=0),p.initialState){if(Array.isArray(p.initialState)){this.state={};for(var b=0;b<p.initialState.length;b++){var y=p.initialState[b];Array.isArray(y)&&y.length==2&&(y=l.complex(y[0],y[1])),typeof y=="string"&&(y=this.evalMathString(y)),typeof y=="number"&&(y=l.complex(y,0)),this.state[b+""]=y}}else this.state=p.initialState;for(var A in this.stateBits=0,this.state)this.stateBits|=parseInt(A)}this.stats.start=new Date;var E=new m;if(E.load(this.save(!0)),o){E.insertColumn(0);for(var N=0;N<E.numQubits;N++)o[N]&&E.addGate("x",0,N,{})}var T=p.partitioning;T&&E.createPartitions();for(var O=E.numCols(),j=0,M=0;M<O;M++){for(N=0;N<E.numQubits;N++){var F,B,I,G,k,V=E.getGateAt(M,N);V&&V.connector==0&&(j++,F=!0,V.options&&V.options.condition&&V.options.condition.creg&&(F=this.getCregValue(V.options.condition.creg)===V.options.condition.value),F&&(T?(R=E.partitionMap[N][M],E.partitionCache[R]||(E.partitionCache[R]=E.partitionCircuit(R)),B=E.partitionCache[R],G=M-(I=E.partitionInfo[R]).column.left,k=B.getGateAt(G,I.wireMap[N]),B.cregs=JSON.parse(JSON.stringify(this.cregs)),B.applyGate(k.name,G,k.wires,k.options),this.cregs=JSON.parse(JSON.stringify(B.cregs))):this.applyGate(V.name,M,V.wires,V.options)),p&&p.onGate&&p.onGate(M,N,j))}p&&p.onColumn&&p.onColumn(M)}if(T){for(var R,U=[],N=0;N<E.numQubits;N++)0<=(R=E.partitionMap[N][O-1])&&U.indexOf(R)<0&&U.push(R);if(U.length)if(U.length==1)this.state=E.partitionCache[U[0]].state,this.stateBits=E.partitionCache[U[0]].stateBits;else{for(var L=this.stats.start,H=[],X=0;X<U.length;X++){var Z=U[X],J={};J.circuit=E.partitionCache[Z],J.wires=[];var K=E.partitionInfo[Z];for(var N in K.wireMap)J.wires.push(parseInt(N));H.push(J)}this.setCombinedState(H),this.stats.start=L}}this.stats.end=new Date,this.stats.duration+=this.stats.end-this.stats.start},m.prototype.continue=function(){this.run(null,{continue:!0})},m.prototype.stateAsArray=function(o,p,b,y){var A=[],E=this.numAmplitudes();p=p||0,b=b||(o?this.numAmplitudes(o):E);for(var N=0,T=0;T<E;T++){var O=T;y&&(O=h(T,this.numQubits));var j=l.round(this.state[O]||l.complex(0,0),14);if(!o||j.re||j.im){if(p<=N){for(var M=T.toString(2);M.length<this.numQubits;)M="0"+M;var F=this.formatComplex(j,{fixedWidth:!0,decimalPlaces:8,iotaChar:"i"}),B=l.pow(l.abs(j),2),I=100*B,G=I.toFixed(5),k=l.arg(j),V=k.toFixed(5);A.push({index:T,indexBinStr:M,amplitude:j,amplitudeStr:F,magnitude:B,chance:I,chanceStr:G,phase:k,phaseStr:V})}if(N++,A.length==b)return A}}return A},m.prototype.stateAsSimpleArray=function(o){var p=this.numAmplitudes();if(!this.state)return[];for(var b=[],y=0;y<p;y++){var A=y;o&&(A=h(y,this.numQubits)),b.push(l.round(this.state[A]||l.complex(0,0),14))}return b},m.prototype.stateAsString=function(o){var p=this.numAmplitudes();if(!this.state)return"Error: circuit is not initialized. Please call initState() or run() method.";for(var b="",y=0;y<p;y++){var A=l.round(this.state[y]||l.complex(0,0),14);if(!o||A.re||A.im){for(var E=100*l.pow(l.abs(A),2),N=y.toString(2);N.length<this.numQubits;)N="0"+N;for(var T=E.toFixed(5);T.length<9;)T=" "+T;b+=this.formatComplex(A,{fixedWidth:!0,decimalPlaces:8,iotaChar:"i"})+"|"+N+">	"+T+`%
`}}return b},m.prototype.print=function(o){console.log(this.stateAsString(o))},m.prototype.gotClassicalControl=function(){for(var o=0;o<this.numCols();o++)for(var p=0;p<this.numQubits;p++){var b=this.getGateAt(o,p);if(b&&b.connector==0&&b.options&&b.options.condition&&b.options.condition.creg)return!0}return!1},m.prototype.gotMeasurement=function(){for(var o=0;o<this.numCols();o++)for(var p=0;p<this.numQubits;p++){var b=this.getGateAt(o,p);if(b&&b.connector==0&&b.name=="measure")return!0}return!1},m.prototype.cregCount=function(){var o=0;for(var p in this.cregs)o++;return o},m.prototype.getCregs=function(){var o={};for(var p in this.cregs)o[p]=this.getCregValue(p);return o},m.prototype.cregsAsString=function(){var o=`reg	bin	dec
`;for(var p in this.cregs){for(var b=this.getCregValue(p),y=b.toString(2),A=this.cregs[p]&&this.cregs[p].length||1;y.length<A;)y="0"+y;o+=p+"	"+y+"	"+b+`
`}return o},m.prototype.createCreg=function(o,p){for(this.cregs[o]=[];this.cregs[o].length<(p||1);)this.cregs[o].push(0)},m.prototype.removeCreg=function(o){for(var p=this.numCols(),b=[],y=0;y<p;y++)for(var A=0;A<this.numQubits;A++){var E=this.gates[A][y];E&&E.options&&(E.options.creg&&E.options.creg.name&&E.options.creg.name==o&&b.indexOf(E.id)<0&&b.push(E.id),E.options.condition&&E.options.condition.creg&&E.options.condition.creg==o&&delete E.options.condition)}delete this.cregs[o];for(var N=0;N<b.length;N++)this.removeGate(b[N])},m.prototype.renameCreg=function(o,p){for(var b=this.numCols(),y=0;y<b;y++)for(var A=0;A<this.numQubits;A++){var E=this.gates[A][y];E&&E.options&&(E.options.creg&&E.options.creg.name&&E.options.creg.name==o&&(E.options.creg.name=p),E.options.condition&&E.options.condition.creg&&E.options.condition.creg==o&&(E.options.condition.creg=p))}this.cregs[p]=JSON.parse(JSON.stringify(this.cregs[o])),delete this.cregs[o]},m.prototype.minCregSize=function(o){for(var p=0,b=this.numCols(),y=0;y<b;y++)for(var A=0;A<this.numQubits;A++){var E,N,T=this.gates[A][y];T&&T.options&&(T.options.creg&&T.options.creg.name&&T.options.creg.name==o&&(E=parseInt(T.options.creg.bit||0),isNaN(E)&&(E=0),p<E&&(p=E)),T.options.condition&&T.options.condition.creg&&T.options.condition.creg==o&&p<(N=Math.floor(Math.log2(T.options.condition.value)))&&(p=N))}return p+1},m.prototype.resizeCreg=function(o,p){if(!(p<this.minCregSize(o))){for(;this.cregs[o].length<p;)this.cregs[o].push(0);for(;this.cregs[o].length>p;)this.cregs[o].pop()}},m.prototype.getCreg=function(o){return this.cregs[o]},m.prototype.setCregBit=function(o,p,b){var y=parseInt(p);if(isNaN(y))throw'Error: invalid "cbit" argument to "setCregBit" method: expected "integer" got "'+typeof p+'".';for(this.cregs[o]||(this.cregs[o]=[]);y>=this.cregs[o].length;)this.cregs[o].push(0);this.cregs[o][y]=b?1:0},m.prototype.getCregBit=function(o,p){if(!this.cregs[o])throw'Error: "getCregBit": unknown register "'+o+'".';var b=parseInt(p);if(isNaN(b)||b>=this.cregs[o].length)throw'Error: "getCregBit": bit "'+p+'" not found.';return this.cregs[o][b]},m.prototype.cregBase=function(o){if(!this.cregs[o])throw'Error: "getCregBit": unknown register "'+o+'".';var p=0;for(var b in this.cregs){if(b==o)return p;p+=this.cregs[b].length}},m.prototype.cregTotalBits=function(){var o=0;for(var p in this.cregs)o+=this.cregs[p].length;return o},m.prototype.getCregValue=function(o){if(!this.cregs[o])throw'Error: "getCregBit": unknown register "'+o+'".';for(var p=this.cregs[o].length,b=0,y=0;y<p;y++)this.cregs[o][y]&&(b+=l.pow(2,y));return b},m.prototype.measureAll=function(o){if(this.collapsed&&this.collapsed.length==this.numQubits&&!o)return this.collapsed;this.collapsed=[];var p=Math.random();for(var b in this.state){var y=l.round(this.state[b],14);if((y.re||y.im)&&(p-=l.round(l.pow(l.abs(y),2),14))<=0){var A=parseInt(b);if(this.reverseBitOrder)for(var E=this.numQubits-1;0<=E;E--)this.collapsed.push(1<<E&A?1:0);else for(E=0;E<this.numQubits;E++)this.collapsed.push(1<<E&A?1:0);return this.collapsed}}if(!this.collapsed.length)for(;this.collapsed.length<this.numQubits;)this.collapsed.push(0);return this.collapsed},m.prototype.measureAllMultishot=function(o){o=o||1;for(var p={},b=[],y=0;y<o;y++)b.push(Math.random());var A=0;do for(var E in this.state){var N=l.round(this.state[E],14);if(N.re||N.im){for(var T=l.round(l.pow(l.abs(N),2),14),O=0;O<o;O++)if(0<b[O]&&(b[O]-=T,b[O]<=0)){for(var j=parseInt(E).toString(2);j.length<this.numQubits;)j="0"+j;if(p[j]?p[j]++:p[j]=1,++A==o)return p}}}while(A<o)},m.prototype.measure=function(o,p,b,y){!y&&this.collapsed&&this.collapsed.length==this.numQubits||this.measureAll(y);var A=this.collapsed[o];return p&&b!==void 0&&this.setCregBit(p,b,A),A},m.prototype.probabilities=function(){this.prob=[];for(var o=0;o<this.numQubits;o++)this.prob.push(0);for(var p in this.state)for(var b=parseInt(p),o=0;o<this.numQubits;o++){var y;b&(this.reverseBitOrder?l.pow(2,this.numQubits-1-o):l.pow(2,o))&&((y=this.state[p]).re||y.im)&&(this.prob[o]+=l.pow(l.abs(y),2))}for(o=0;o<this.numQubits;o++)this.prob[o]=l.round(this.prob[o],14);return this.prob},m.prototype.probability=function(o){return this.prob&&this.prob.length==this.numQubits||this.probabilities(),this.prob[o]},m.prototype.densityMatrix=function(){var o=[],p=this.numAmplitudes();for(row=0;row<p;row++){for(var b=[],y=this.state[row]||l.complex(0,0),A=0;A<p;A++){var E=this.state[A]||l.complex(0,0);(E.re||E.im)&&(E=l.conj(E)),b.push(l.multiply(y,E))}o.push(b)}return o},m.prototype.partialTrace=function(o){function p(M,F,B){var I=1<<F,G=(G=M<<1)^(G^M)&(2<<F)-1|I;return B||(G^=I),G}for(var b=[],y=this.numQubits-1,A=l.pow(2,y),E=null,E=this.reverseBitOrder?this.numQubits-1-o:o,N=0;N<4;N++){b.push(l.complex(0,0));for(var T=A;T--;){var O,j=p(T,E,2&N?1:0);this.state[j]&&(O=p(T,E,1&N?1:0),this.state[O]&&(b[N]=l.add(b[N],l.multiply(this.state[j],l.conj(this.state[O])))))}}return[[b[0],b[1]],[b[2],b[3]]]},m.prototype.angles=function(){for(var o=[],p=0;p<this.numQubits;p++)o.push({theta:0,phi:0});for(p=0;p<this.numQubits;p++){var b=this.partialTrace(p),y=l.round(l.sqrt(b[0][0]),12),A=l.round(l.multiply(b[1][0],l.sqrt(2)),12),E=l.round(l.abs(l.sqrt(2*l.abs(l.trace(l.pow(b,2)))-1)),12),N=l.multiply(2,l.acos(y)),T=0;l.round(A.re,8)==0&&l.round(A.im,8)==0||(T=l.multiply(l.complex(0,-1),l.log(l.multiply(A,l.csc(l.divide(N,2))))).re,isNaN(T)&&(T=0)),o[p].theta=l.round(l.abs(N),12),o[p].phi=l.round(T,12),o[p].thetaDeg=l.round(l.multiply(l.abs(N),180/l.pi),7),o[p].phiDeg=l.round(l.multiply(T,180/l.pi),7),o[p].radius=l.round(E,7)}return o},m.prototype.randomCircuit=function(o,p,b){this.init(o);var y=(b=b||{}).useGates&&b.useGates.length?b.useGates:Object.keys(this.basicGates);b.noMeasure&&0<=y.indexOf("measure")&&y.splice(y.indexOf("measure"),1),b.noReset&&0<=y.indexOf("reset")&&y.splice(y.indexOf("reset"),1);for(var A=0;A<p;){var E=y[Math.floor(Math.random()*y.length)],N=this.basicGates[E];if(N){var T=N.matrix&&N.matrix.length?l.log2(N.matrix.length):1;if(T<=o){for(var O=[];O.length<T;){for(var j=-1;j=Math.floor(Math.random()*o),0<=O.indexOf(j););O.push(j)}var M,F,B={};N.params&&N.params.length&&(M={},N.params.map(function(I){M[I]=2*Math.PI*Math.random(),M[I]>Math.PI&&(M[I]=Math.PI-M[I])}),B.params=M),E=="measure"?B.creg={name:"c",bit:O[0]}:b.noClassicControl||Math.floor(4*Math.random())!=0||(F=this.cregTotalBits())&&(B.condition={creg:"c",value:Math.floor(Math.random()*l.pow(2,F))}),this.appendGate(E,O,B),A++}}}},m.prototype.randomUnitary=function(o){var p=new m;return p.randomCircuit(o||1,8*(o||1),{useGates:["rx","rz","cz"],noMeasure:!0,noReset:!0,noClassicControl:!0}),p.circuitMatrix()},m.prototype.eulerAnglesZYZ=function(o){var p={theta:null,phi:null,lambda:null,phase:null},b=l.pow(l.det(o),-.5);p.phase=-1*l.complex(b).toPolar().phi;var y=l.multiply(b,o);p.theta=2*l.atan2(l.abs(y[1][0]),l.abs(y[0][0]));var A=2*l.complex(y[1][1]).toPolar().phi,E=2*l.complex(y[1][0]).toPolar().phi;return p.phi=(A+E)/2,p.lambda=(A-E)/2,p},a.exports=m},{"./qasm_import/QASMImport.js":1,mathjs:943}],6:[function(n,a,r){var g=n("./Token").Token,f=n("./Lexer").Lexer,m=n("./IntervalSet").Interval;function l(){return this}function x(S){return l.call(this),this.tokenSource=S,this.tokens=[],this.index=-1,this.fetchedEOF=!1,this}((x.prototype=Object.create(l.prototype)).constructor=x).prototype.mark=function(){return 0},x.prototype.release=function(S){},x.prototype.reset=function(){this.seek(0)},x.prototype.seek=function(S){this.lazyInit(),this.index=this.adjustSeekIndex(S)},x.prototype.get=function(S){return this.lazyInit(),this.tokens[S]},x.prototype.consume=function(){if(!(0<=this.index&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length))&&this.LA(1)===g.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))},x.prototype.sync=function(S){var D=S-this.tokens.length+1;return!(0<D)||D<=this.fetch(D)},x.prototype.fetch=function(S){if(this.fetchedEOF)return 0;for(var D=0;D<S;D++){var h=this.tokenSource.nextToken();if(h.tokenIndex=this.tokens.length,this.tokens.push(h),h.type===g.EOF)return this.fetchedEOF=!0,D+1}return S},x.prototype.getTokens=function(S,D,h){if(h===void 0&&(h=null),S<0||D<0)return null;this.lazyInit();var _=[];D>=this.tokens.length&&(D=this.tokens.length-1);for(var o=S;o<D;o++){var p=this.tokens[o];if(p.type===g.EOF)break;h!==null&&!h.contains(p.type)||_.push(p)}return _},x.prototype.LA=function(S){return this.LT(S).type},x.prototype.LB=function(S){return this.index-S<0?null:this.tokens[this.index-S]},x.prototype.LT=function(S){if(this.lazyInit(),S===0)return null;if(S<0)return this.LB(-S);var D=this.index+S-1;return this.sync(D),D>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[D]},x.prototype.adjustSeekIndex=function(S){return S},x.prototype.lazyInit=function(){this.index===-1&&this.setup()},x.prototype.setup=function(){this.sync(0),this.index=this.adjustSeekIndex(0)},x.prototype.setTokenSource=function(S){this.tokenSource=S,this.tokens=[],this.index=-1,this.fetchedEOF=!1},x.prototype.nextTokenOnChannel=function(S,D){if(this.sync(S),S>=this.tokens.length)return-1;for(var h=this.tokens[S];h.channel!==this.channel;){if(h.type===g.EOF)return-1;S+=1,this.sync(S),h=this.tokens[S]}return S},x.prototype.previousTokenOnChannel=function(S,D){for(;0<=S&&this.tokens[S].channel!==D;)--S;return S},x.prototype.getHiddenTokensToRight=function(S,D){if(D===void 0&&(D=-1),this.lazyInit(),S<0||S>=this.tokens.length)throw S+" not in 0.."+this.tokens.length-1;var h=this.nextTokenOnChannel(S+1,f.DEFAULT_TOKEN_CHANNEL),_=S+1,o=h===-1?this.tokens.length-1:h;return this.filterForChannel(_,o,D)},x.prototype.getHiddenTokensToLeft=function(S,D){if(D===void 0&&(D=-1),this.lazyInit(),S<0||S>=this.tokens.length)throw S+" not in 0.."+this.tokens.length-1;var h=this.previousTokenOnChannel(S-1,f.DEFAULT_TOKEN_CHANNEL);if(h===S-1)return null;var _=h+1,o=S-1;return this.filterForChannel(_,o,D)},x.prototype.filterForChannel=function(S,D,h){for(var _=[],o=S;o<D+1;o++){var p=this.tokens[o];h===-1?p.channel!==f.DEFAULT_TOKEN_CHANNEL&&_.push(p):p.channel===h&&_.push(p)}return _.length===0?null:_},x.prototype.getSourceName=function(){return this.tokenSource.getSourceName()},x.prototype.getText=function(S){this.lazyInit(),this.fill(),S==null&&(S=new m(0,this.tokens.length-1));var D=S.start;D instanceof g&&(D=D.tokenIndex);var h=S.stop;if(h instanceof g&&(h=h.tokenIndex),D===null||h===null||D<0||h<0)return"";h>=this.tokens.length&&(h=this.tokens.length-1);for(var _="",o=D;o<h+1;o++){var p=this.tokens[o];if(p.type===g.EOF)break;_+=p.text}return _},x.prototype.fill=function(){for(this.lazyInit();this.fetch(1e3)===1e3;);},r.BufferedTokenStream=x},{"./IntervalSet":12,"./Lexer":14,"./Token":20}],7:[function(n,a,r){var g=n("./InputStream").InputStream,f=typeof window>"u"&&typeof importScripts>"u"?n("fs"):null,m={fromString:function(l){return new g(l,!0)},fromBlob:function(l,x,S,D){var h=FileReader();h.onload=function(_){var o=new g(_.target.result,!0);S(o)},h.onerror=D,h.readAsText(l,x)},fromBuffer:function(l,x){return new g(l.toString(x),!0)},fromPath:function(l,x,S){f.readFile(l,x,function(D,h){var _=null;h!==null&&(_=new g(h,!0)),S(D,_)})},fromPathSync:function(l,x){var S=f.readFileSync(l,x);return new g(S,!0)}};r.CharStreams=m},{"./InputStream":11,fs:53}],8:[function(n,a,r){var g=n("./Token").CommonToken;function f(){return this}function m(l){return f.call(this),this.copyText=l!==void 0&&l,this}((m.prototype=Object.create(f.prototype)).constructor=m).DEFAULT=new m,m.prototype.create=function(l,x,S,D,h,_,o,p){var b=new g(l,x,D,h,_);return b.line=o,b.column=p,S!==null?b.text=S:this.copyText&&l[1]!==null&&(b.text=l[1].getText(h,_)),b},m.prototype.createThin=function(l,x){var S=new g(null,l);return S.text=x,S},r.CommonTokenFactory=m},{"./Token":20}],9:[function(n,a,r){var g=n("./Token").Token,f=n("./BufferedTokenStream").BufferedTokenStream;function m(l,x){return f.call(this,l),this.channel=x===void 0?g.DEFAULT_CHANNEL:x,this}((m.prototype=Object.create(f.prototype)).constructor=m).prototype.adjustSeekIndex=function(l){return this.nextTokenOnChannel(l,this.channel)},m.prototype.LB=function(l){if(l===0||this.index-l<0)return null;for(var x=this.index,S=1;S<=l;)x=this.previousTokenOnChannel(x-1,this.channel),S+=1;return x<0?null:this.tokens[x]},m.prototype.LT=function(l){if(this.lazyInit(),l===0)return null;if(l<0)return this.LB(-l);for(var x=this.index,S=1;S<l;)this.sync(x+1)&&(x=this.nextTokenOnChannel(x+1,this.channel)),S+=1;return this.tokens[x]},m.prototype.getNumberOfOnChannelTokens=function(){var l=0;this.fill();for(var x=0;x<this.tokens.length;x++){var S=this.tokens[x];if(S.channel===this.channel&&(l+=1),S.type===g.EOF)break}return l},r.CommonTokenStream=m},{"./BufferedTokenStream":6,"./Token":20}],10:[function(n,a,r){var g=n("./InputStream").InputStream,f=typeof window>"u"&&typeof importScripts>"u"?n("fs"):null;function m(l,x){var S=f.readFileSync(l,"utf8");return g.call(this,S,x),this.fileName=l,this}(m.prototype=Object.create(g.prototype)).constructor=m,r.FileStream=m},{"./InputStream":11,fs:53}],11:[function(n,a,r){var g=n("./Token").Token;function f(m,l){return this.name="<empty>",this.strdata=m,this.decodeToUnicodeCodePoints=l||!1,function(x){if(x._index=0,x.data=[],x.decodeToUnicodeCodePoints)for(var S=0;S<x.strdata.length;){var D=x.strdata.codePointAt(S);x.data.push(D),S+=D<=65535?1:2}else for(S=0;S<x.strdata.length;S++){var h=x.strdata.charCodeAt(S);x.data.push(h)}x._size=x.data.length}(this),this}n("./polyfills/codepointat"),n("./polyfills/fromcodepoint"),Object.defineProperty(f.prototype,"index",{get:function(){return this._index}}),Object.defineProperty(f.prototype,"size",{get:function(){return this._size}}),f.prototype.reset=function(){this._index=0},f.prototype.consume=function(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1},f.prototype.LA=function(m){if(m===0)return 0;m<0&&(m+=1);var l=this._index+m-1;return l<0||l>=this._size?g.EOF:this.data[l]},f.prototype.LT=function(m){return this.LA(m)},f.prototype.mark=function(){return-1},f.prototype.release=function(m){},f.prototype.seek=function(m){m<=this._index?this._index=m:this._index=Math.min(m,this._size)},f.prototype.getText=function(m,l){if(l>=this._size&&(l=this._size-1),m>=this._size)return"";if(this.decodeToUnicodeCodePoints){for(var x="",S=m;S<=l;S++)x+=String.fromCodePoint(this.data[S]);return x}return this.strdata.slice(m,l+1)},f.prototype.toString=function(){return this.strdata},r.InputStream=f},{"./Token":20,"./polyfills/codepointat":48,"./polyfills/fromcodepoint":49}],12:[function(n,a,r){var g=n("./Token").Token;function f(l,x){return this.start=l,this.stop=x,this}function m(){this.intervals=null,this.readOnly=!1}f.prototype.contains=function(l){return l>=this.start&&l<this.stop},f.prototype.toString=function(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()},Object.defineProperty(f.prototype,"length",{get:function(){return this.stop-this.start}}),m.prototype.first=function(l){return this.intervals===null||this.intervals.length===0?g.INVALID_TYPE:this.intervals[0].start},m.prototype.addOne=function(l){this.addInterval(new f(l,l+1))},m.prototype.addRange=function(l,x){this.addInterval(new f(l,x+1))},m.prototype.addInterval=function(l){if(this.intervals===null)this.intervals=[],this.intervals.push(l);else{for(var x=0;x<this.intervals.length;x++){var S=this.intervals[x];if(l.stop<S.start)return void this.intervals.splice(x,0,l);if(l.stop===S.start)return void(this.intervals[x].start=l.start);if(l.start<=S.stop)return this.intervals[x]=new f(Math.min(S.start,l.start),Math.max(S.stop,l.stop)),void this.reduce(x)}this.intervals.push(l)}},m.prototype.addSet=function(l){if(l.intervals!==null)for(var x=0;x<l.intervals.length;x++){var S=l.intervals[x];this.addInterval(new f(S.start,S.stop))}return this},m.prototype.reduce=function(l){var x,S;l<this.intervalslength-1&&(x=this.intervals[l],S=this.intervals[l+1],x.stop>=S.stop?(this.intervals.pop(l+1),this.reduce(l)):x.stop>=S.start&&(this.intervals[l]=new f(x.start,S.stop),this.intervals.pop(l+1)))},m.prototype.complement=function(l,x){var S=new m;S.addInterval(new f(l,x+1));for(var D=0;D<this.intervals.length;D++)S.removeRange(this.intervals[D]);return S},m.prototype.contains=function(l){if(this.intervals===null)return!1;for(var x=0;x<this.intervals.length;x++)if(this.intervals[x].contains(l))return!0;return!1},Object.defineProperty(m.prototype,"length",{get:function(){var l=0;return this.intervals.map(function(x){l+=x.length}),l}}),m.prototype.removeRange=function(l){if(l.start===l.stop-1)this.removeOne(l.start);else if(this.intervals!==null)for(var x=0,S=0;S<this.intervals.length;S++){var D=this.intervals[x];if(l.stop<=D.start)return;if(l.start>D.start&&l.stop<D.stop){this.intervals[x]=new f(D.start,l.start);var h=new f(l.stop,D.stop);return void this.intervals.splice(x,0,h)}l.start<=D.start&&l.stop>=D.stop?(this.intervals.splice(x,1),--x):l.start<D.stop?this.intervals[x]=new f(D.start,l.start):l.stop<D.stop&&(this.intervals[x]=new f(l.stop,D.stop)),x+=1}},m.prototype.removeOne=function(l){if(this.intervals!==null)for(var x=0;x<this.intervals.length;x++){var S=this.intervals[x];if(l<S.start)return;if(l===S.start&&l===S.stop-1)return void this.intervals.splice(x,1);if(l===S.start)return void(this.intervals[x]=new f(S.start+1,S.stop));if(l===S.stop-1)return void(this.intervals[x]=new f(S.start,S.stop-1));if(l<S.stop-1){var D=new f(S.start,l);return S.start=l+1,void this.intervals.splice(x,0,D)}}},m.prototype.toString=function(l,x,S){return l=l||null,x=x||null,S=S||!1,this.intervals===null?"{}":l!==null||x!==null?this.toTokenString(l,x):S?this.toCharString():this.toIndexString()},m.prototype.toCharString=function(){for(var l=[],x=0;x<this.intervals.length;x++){var S=this.intervals[x];S.stop===S.start+1?S.start===g.EOF?l.push("<EOF>"):l.push("'"+String.fromCharCode(S.start)+"'"):l.push("'"+String.fromCharCode(S.start)+"'..'"+String.fromCharCode(S.stop-1)+"'")}return 1<l.length?"{"+l.join(", ")+"}":l[0]},m.prototype.toIndexString=function(){for(var l=[],x=0;x<this.intervals.length;x++){var S=this.intervals[x];S.stop===S.start+1?S.start===g.EOF?l.push("<EOF>"):l.push(S.start.toString()):l.push(S.start.toString()+".."+(S.stop-1).toString())}return 1<l.length?"{"+l.join(", ")+"}":l[0]},m.prototype.toTokenString=function(l,x){for(var S=[],D=0;D<this.intervals.length;D++)for(var h=this.intervals[D],_=h.start;_<h.stop;_++)S.push(this.elementName(l,x,_));return 1<S.length?"{"+S.join(", ")+"}":S[0]},m.prototype.elementName=function(l,x,S){return S===g.EOF?"<EOF>":S===g.EPSILON?"<EPSILON>":l[S]||x[S]},r.Interval=f,r.IntervalSet=m},{"./Token":20}],13:[function(n,a,r){var g=n("./Utils").Set,f=n("./Utils").BitSet,m=n("./Token").Token,l=n("./atn/ATNConfig").ATNConfig,x=(n("./IntervalSet").Interval,n("./IntervalSet").IntervalSet),S=n("./atn/ATNState").RuleStopState,D=n("./atn/Transition").RuleTransition,h=n("./atn/Transition").NotSetTransition,_=n("./atn/Transition").WildcardTransition,o=n("./atn/Transition").AbstractPredicateTransition,p=n("./PredictionContext"),b=p.predictionContextFromRuleContext,y=p.PredictionContext,A=p.SingletonPredictionContext;function E(N){this.atn=N}E.HIT_PRED=m.INVALID_TYPE,E.prototype.getDecisionLookahead=function(N){if(N===null)return null;for(var T=N.transitions.length,O=[],j=0;j<T;j++){O[j]=new x;var M=new g;this._LOOK(N.transition(j).target,null,y.EMPTY,O[j],M,new f,!1,!1),O[j].length!==0&&!O[j].contains(E.HIT_PRED)||(O[j]=null)}return O},E.prototype.LOOK=function(N,T,O){var j=new x,M=(O=O||null)!==null?b(N.atn,O):null;return this._LOOK(N,T,M,j,new g,new f,!0,!0),j},E.prototype._LOOK=function(N,T,O,j,M,F,B,I){var G=new l({state:N,alt:0,context:O},null);if(!M.contains(G)){if(M.add(G),N===T){if(O===null)return void j.addOne(m.EPSILON);if(O.isEmpty()&&I)return void j.addOne(m.EOF)}if(N instanceof S){if(O===null)return void j.addOne(m.EPSILON);if(O.isEmpty()&&I)return void j.addOne(m.EOF);if(O!==y.EMPTY){for(var k=0;k<O.length;k++){var V=this.atn.states[O.getReturnState(k)],R=F.contains(V.ruleIndex);try{F.remove(V.ruleIndex),this._LOOK(V,T,O.getParent(k),j,M,F,B,I)}finally{R&&F.add(V.ruleIndex)}}return}}for(var U=0;U<N.transitions.length;U++){var L,H=N.transitions[U];if(H.constructor===D){if(F.contains(H.target.ruleIndex))continue;var X=A.create(O,H.followState.stateNumber);try{F.add(H.target.ruleIndex),this._LOOK(H.target,T,X,j,M,F,B,I)}finally{F.remove(H.target.ruleIndex)}}else H instanceof o?B?this._LOOK(H.target,T,O,j,M,F,B,I):j.addOne(E.HIT_PRED):H.isEpsilon?this._LOOK(H.target,T,O,j,M,F,B,I):H.constructor===_?j.addRange(m.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType):(L=H.label)!==null&&(H instanceof h&&(L=L.complement(m.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),j.addSet(L))}}},r.LL1Analyzer=E},{"./IntervalSet":12,"./PredictionContext":17,"./Token":20,"./Utils":21,"./atn/ATNConfig":23,"./atn/ATNState":28,"./atn/Transition":36}],14:[function(n,a,r){var g=n("./Token").Token,f=n("./Recognizer").Recognizer,m=n("./CommonTokenFactory").CommonTokenFactory,l=n("./error/Errors").RecognitionException,x=n("./error/Errors").LexerNoViableAltException;function S(D){return f.call(this),this._input=D,this._factory=m.DEFAULT,this._tokenFactorySourcePair=[this,D],this._interp=null,this._token=null,this._tokenStartCharIndex=-1,this._tokenStartLine=-1,this._tokenStartColumn=-1,this._hitEOF=!1,this._channel=g.DEFAULT_CHANNEL,this._type=g.INVALID_TYPE,this._modeStack=[],this._mode=S.DEFAULT_MODE,this._text=null,this}((S.prototype=Object.create(f.prototype)).constructor=S).DEFAULT_MODE=0,S.MORE=-2,S.SKIP=-3,S.DEFAULT_TOKEN_CHANNEL=g.DEFAULT_CHANNEL,S.HIDDEN=g.HIDDEN_CHANNEL,S.MIN_CHAR_VALUE=0,S.MAX_CHAR_VALUE=1114111,S.prototype.reset=function(){this._input!==null&&this._input.seek(0),this._token=null,this._type=g.INVALID_TYPE,this._channel=g.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=S.DEFAULT_MODE,this._modeStack=[],this._interp.reset()},S.prototype.nextToken=function(){if(this._input===null)throw"nextToken requires a non-null input stream.";var D=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=g.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;for(var h=!1;;){this._type=g.INVALID_TYPE;var _=S.SKIP;try{_=this._interp.match(this._input,this._mode)}catch(o){if(!(o instanceof l))throw console.log(o.stack),o;this.notifyListeners(o),this.recover(o)}if(this._input.LA(1)===g.EOF&&(this._hitEOF=!0),this._type===g.INVALID_TYPE&&(this._type=_),this._type===S.SKIP){h=!0;break}if(this._type!==S.MORE)break}if(!h)return this._token===null&&this.emit(),this._token}}finally{this._input.release(D)}},S.prototype.skip=function(){this._type=S.SKIP},S.prototype.more=function(){this._type=S.MORE},S.prototype.mode=function(D){this._mode=D},S.prototype.pushMode=function(D){this._interp.debug&&console.log("pushMode "+D),this._modeStack.push(this._mode),this.mode(D)},S.prototype.popMode=function(){if(this._modeStack.length===0)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode},Object.defineProperty(S.prototype,"inputStream",{get:function(){return this._input},set:function(D){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=D,this._tokenFactorySourcePair=[this,this._input]}}),Object.defineProperty(S.prototype,"sourceName",{get:function(){return this._input.sourceName}}),S.prototype.emitToken=function(D){this._token=D},S.prototype.emit=function(){var D=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(D),D},S.prototype.emitEOF=function(){var D=this.column,h=this.line,_=this._factory.create(this._tokenFactorySourcePair,g.EOF,null,g.DEFAULT_CHANNEL,this._input.index,this._input.index-1,h,D);return this.emitToken(_),_},Object.defineProperty(S.prototype,"type",{get:function(){return this.type},set:function(D){this._type=D}}),Object.defineProperty(S.prototype,"line",{get:function(){return this._interp.line},set:function(D){this._interp.line=D}}),Object.defineProperty(S.prototype,"column",{get:function(){return this._interp.column},set:function(D){this._interp.column=D}}),S.prototype.getCharIndex=function(){return this._input.index},Object.defineProperty(S.prototype,"text",{get:function(){return this._text!==null?this._text:this._interp.getText(this._input)},set:function(D){this._text=D}}),S.prototype.getAllTokens=function(){for(var D=[],h=this.nextToken();h.type!==g.EOF;)D.push(h),h=this.nextToken();return D},S.prototype.notifyListeners=function(D){var h=this._tokenStartCharIndex,_=this._input.index,o=this._input.getText(h,_),p="token recognition error at: '"+this.getErrorDisplay(o)+"'";this.getErrorListenerDispatch().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,p,D)},S.prototype.getErrorDisplay=function(D){for(var h=[],_=0;_<D.length;_++)h.push(D[_]);return h.join("")},S.prototype.getErrorDisplayForChar=function(D){return D.charCodeAt(0)===g.EOF?"<EOF>":D===`
`?"\\n":D==="	"?"\\t":D==="\r"?"\\r":D},S.prototype.getCharErrorDisplay=function(D){return"'"+this.getErrorDisplayForChar(D)+"'"},S.prototype.recover=function(D){this._input.LA(1)!==g.EOF&&(D instanceof x?this._interp.consume(this._input):this._input.consume())},r.Lexer=S},{"./CommonTokenFactory":8,"./Recognizer":18,"./Token":20,"./error/Errors":45}],15:[function(n,a,r){var g=n("./Token").Token,f=n("./tree/Tree").ParseTreeListener,m=n("./Recognizer").Recognizer,l=n("./error/ErrorStrategy").DefaultErrorStrategy,x=n("./atn/ATNDeserializer").ATNDeserializer,S=n("./atn/ATNDeserializationOptions").ATNDeserializationOptions,D=n("./tree/Tree").TerminalNode,h=n("./tree/Tree").ErrorNode;function _(b){return f.call(this),this.parser=b,this}function o(b){return m.call(this),this._input=null,this._errHandler=new l,this._precedenceStack=[],this._precedenceStack.push(0),this._ctx=null,this.buildParseTrees=!0,this._tracer=null,this._parseListeners=null,this._syntaxErrors=0,this.setInputStream(b),this}((_.prototype=Object.create(f.prototype)).constructor=_).prototype.enterEveryRule=function(b){console.log("enter   "+this.parser.ruleNames[b.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)},_.prototype.visitTerminal=function(b){console.log("consume "+b.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])},_.prototype.exitEveryRule=function(b){console.log("exit    "+this.parser.ruleNames[b.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)},((o.prototype=Object.create(m.prototype)).contructor=o).bypassAltsAtnCache={},o.prototype.reset=function(){this._input!==null&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),this._interp!==null&&this._interp.reset()},o.prototype.match=function(b){var y=this.getCurrentToken();return y.type===b?(this._errHandler.reportMatch(this),this.consume()):(y=this._errHandler.recoverInline(this),this.buildParseTrees&&y.tokenIndex===-1&&this._ctx.addErrorNode(y)),y},o.prototype.matchWildcard=function(){var b=this.getCurrentToken();return 0<b.type?(this._errHandler.reportMatch(this),this.consume()):(b=this._errHandler.recoverInline(this),this._buildParseTrees&&b.tokenIndex===-1&&this._ctx.addErrorNode(b)),b},o.prototype.getParseListeners=function(){return this._parseListeners||[]},o.prototype.addParseListener=function(b){if(b===null)throw"listener";this._parseListeners===null&&(this._parseListeners=[]),this._parseListeners.push(b)},o.prototype.removeParseListener=function(b){var y;this._parseListeners!==null&&(0<=(y=this._parseListeners.indexOf(b))&&this._parseListeners.splice(y,1),this._parseListeners.length===0&&(this._parseListeners=null))},o.prototype.removeParseListeners=function(){this._parseListeners=null},o.prototype.triggerEnterRuleEvent=function(){var b;this._parseListeners!==null&&(b=this._ctx,this._parseListeners.map(function(y){y.enterEveryRule(b),b.enterRule(y)}))},o.prototype.triggerExitRuleEvent=function(){var b;this._parseListeners!==null&&(b=this._ctx,this._parseListeners.slice(0).reverse().map(function(y){b.exitRule(y),y.exitEveryRule(b)}))},o.prototype.getTokenFactory=function(){return this._input.tokenSource._factory},o.prototype.setTokenFactory=function(b){this._input.tokenSource._factory=b},o.prototype.getATNWithBypassAlts=function(){var b=this.getSerializedATN();if(b===null)throw"The current parser does not support an ATN with bypass alternatives.";var y,A=this.bypassAltsAtnCache[b];return A===null&&((y=new S).generateRuleBypassTransitions=!0,A=new x(y).deserialize(b),this.bypassAltsAtnCache[b]=A),A};var p=n("./Lexer").Lexer;o.prototype.compileParseTreePattern=function(b,y,A){var E;if((A=A||null)===null&&(this.getTokenStream()===null||(E=this.getTokenStream().tokenSource)instanceof p&&(A=E)),A===null)throw"Parser can't discover a lexer to use";return new ParseTreePatternMatcher(A,this).compile(b,y)},o.prototype.getInputStream=function(){return this.getTokenStream()},o.prototype.setInputStream=function(b){this.setTokenStream(b)},o.prototype.getTokenStream=function(){return this._input},o.prototype.setTokenStream=function(b){this._input=null,this.reset(),this._input=b},o.prototype.getCurrentToken=function(){return this._input.LT(1)},o.prototype.notifyErrorListeners=function(b,y,A){A=A||null,(y=y||null)===null&&(y=this.getCurrentToken()),this._syntaxErrors+=1;var E=y.line,N=y.column;this.getErrorListenerDispatch().syntaxError(this,y,E,N,b,A)},o.prototype.consume=function(){var b=this.getCurrentToken();b.type!==g.EOF&&this.getInputStream().consume();var y,A=this._parseListeners!==null&&0<this._parseListeners.length;return(this.buildParseTrees||A)&&((y=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(b):this._ctx.addTokenNode(b)).invokingState=this.state,A&&this._parseListeners.map(function(E){y instanceof h||y.isErrorNode!==void 0&&y.isErrorNode()?E.visitErrorNode(y):y instanceof D&&E.visitTerminal(y)})),b},o.prototype.addContextToParseTree=function(){this._ctx.parentCtx!==null&&this._ctx.parentCtx.addChild(this._ctx)},o.prototype.enterRule=function(b,y,A){this.state=y,this._ctx=b,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this._parseListeners!==null&&this.triggerEnterRuleEvent()},o.prototype.exitRule=function(){this._ctx.stop=this._input.LT(-1),this._parseListeners!==null&&this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx},o.prototype.enterOuterAlt=function(b,y){b.setAltNumber(y),this.buildParseTrees&&this._ctx!==b&&this._ctx.parentCtx!==null&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(b)),this._ctx=b},o.prototype.getPrecedence=function(){return this._precedenceStack.length===0?-1:this._precedenceStack[this._precedenceStack.length-1]},o.prototype.enterRecursionRule=function(b,y,A,E){this.state=y,this._precedenceStack.push(E),this._ctx=b,this._ctx.start=this._input.LT(1),this._parseListeners!==null&&this.triggerEnterRuleEvent()},o.prototype.pushNewRecursionContext=function(b,y,A){var E=this._ctx;E.parentCtx=b,E.invokingState=y,E.stop=this._input.LT(-1),this._ctx=b,this._ctx.start=E.start,this.buildParseTrees&&this._ctx.addChild(E),this._parseListeners!==null&&this.triggerEnterRuleEvent()},o.prototype.unrollRecursionContexts=function(b){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);var y=this._ctx;if(this._parseListeners!==null)for(;this._ctx!==b;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=b;y.parentCtx=b,this.buildParseTrees&&b!==null&&b.addChild(y)},o.prototype.getInvokingContext=function(b){for(var y=this._ctx;y!==null;){if(y.ruleIndex===b)return y;y=y.parentCtx}return null},o.prototype.precpred=function(b,y){return y>=this._precedenceStack[this._precedenceStack.length-1]},o.prototype.inContext=function(b){return!1},o.prototype.isExpectedToken=function(b){var y=this._interp.atn,A=this._ctx,E=y.states[this.state];if((N=y.nextTokens(E)).contains(b))return!0;if(!N.contains(g.EPSILON))return!1;for(;A!==null&&0<=A.invokingState&&N.contains(g.EPSILON);){var N,T=y.states[A.invokingState].transitions[0];if((N=y.nextTokens(T.followState)).contains(b))return!0;A=A.parentCtx}return!(!N.contains(g.EPSILON)||b!==g.EOF)},o.prototype.getExpectedTokens=function(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)},o.prototype.getExpectedTokensWithinCurrentRule=function(){var b=this._interp.atn,y=b.states[this.state];return b.nextTokens(y)},o.prototype.getRuleIndex=function(b){var y=this.getRuleIndexMap()[b];return y!==null?y:-1},o.prototype.getRuleInvocationStack=function(b){(b=b||null)===null&&(b=this._ctx);for(var y=[];b!==null;){var A=b.ruleIndex;A<0?y.push("n/a"):y.push(this.ruleNames[A]),b=b.parentCtx}return y},o.prototype.getDFAStrings=function(){return this._interp.decisionToDFA.toString()},o.prototype.dumpDFA=function(){for(var b=!1,y=0;y<this._interp.decisionToDFA.length;y++){var A=this._interp.decisionToDFA[y];0<A.states.length&&(b&&console.log(),this.printer.println("Decision "+A.decision+":"),this.printer.print(A.toString(this.literalNames,this.symbolicNames)),b=!0)}},o.prototype.getSourceName=function(){return this._input.sourceName},o.prototype.setTrace=function(b){b?(this._tracer!==null&&this.removeParseListener(this._tracer),this._tracer=new _(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)},r.Parser=o},{"./Lexer":14,"./Recognizer":18,"./Token":20,"./atn/ATNDeserializationOptions":25,"./atn/ATNDeserializer":26,"./error/ErrorStrategy":44,"./tree/Tree":50}],16:[function(n,a,r){var g=n("./RuleContext").RuleContext,f=n("./tree/Tree"),m=f.INVALID_INTERVAL,l=f.TerminalNode,x=f.TerminalNodeImpl,S=f.ErrorNodeImpl,D=n("./IntervalSet").Interval;function h(o,p){o=o||null,p=p||null,g.call(this,o,p),this.ruleIndex=-1,this.children=null,this.start=null,this.stop=null,this.exception=null}function _(o,p,b){return h.call(o,p),this.ruleIndex=b,this}((h.prototype=Object.create(g.prototype)).constructor=h).prototype.copyFrom=function(o){this.parentCtx=o.parentCtx,this.invokingState=o.invokingState,this.children=null,this.start=o.start,this.stop=o.stop,o.children&&(this.children=[],o.children.map(function(p){p instanceof S&&(this.children.push(p),p.parentCtx=this)},this))},h.prototype.enterRule=function(o){},h.prototype.exitRule=function(o){},h.prototype.addChild=function(o){return this.children===null&&(this.children=[]),this.children.push(o),o},h.prototype.removeLastChild=function(){this.children!==null&&this.children.pop()},h.prototype.addTokenNode=function(o){var p=new x(o);return this.addChild(p),p.parentCtx=this,p},h.prototype.addErrorNode=function(o){var p=new S(o);return this.addChild(p),p.parentCtx=this,p},h.prototype.getChild=function(o,p){if(p=p||null,this.children===null||o<0||o>=this.children.length)return null;if(p===null)return this.children[o];for(var b=0;b<this.children.length;b++){var y=this.children[b];if(y instanceof p){if(o===0)return y;--o}}return null},h.prototype.getToken=function(o,p){if(this.children===null||p<0||p>=this.children.length)return null;for(var b=0;b<this.children.length;b++){var y=this.children[b];if(y instanceof l&&y.symbol.type===o){if(p===0)return y;--p}}return null},h.prototype.getTokens=function(o){if(this.children===null)return[];for(var p=[],b=0;b<this.children.length;b++){var y=this.children[b];y instanceof l&&y.symbol.type===o&&p.push(y)}return p},h.prototype.getTypedRuleContext=function(o,p){return this.getChild(p,o)},h.prototype.getTypedRuleContexts=function(o){if(this.children===null)return[];for(var p=[],b=0;b<this.children.length;b++){var y=this.children[b];y instanceof o&&p.push(y)}return p},h.prototype.getChildCount=function(){return this.children===null?0:this.children.length},h.prototype.getSourceInterval=function(){return this.start===null||this.stop===null?m:new D(this.start.tokenIndex,this.stop.tokenIndex)},g.EMPTY=new h,(_.prototype=Object.create(h.prototype)).constructor=_,r.ParserRuleContext=h},{"./IntervalSet":12,"./RuleContext":19,"./tree/Tree":50}],17:[function(n,a,r){var g=n("./RuleContext").RuleContext,f=n("./Utils").Hash;function m(_){this.cachedHashCode=_}function l(){return this.cache={},this}function x(_,o){var p,b=0;_!==null&&((p=new f).update(_,o),b=p.finish()),m.call(this,b),this.parentCtx=_,this.returnState=o}function S(){return x.call(this,null,m.EMPTY_RETURN_STATE),this}function D(_,o){var p=new f;p.update(_,o);var b=p.finish();return m.call(this,b),this.parents=_,this.returnStates=o,this}function h(_,o,p,b){if(_===o)return _;if(_ instanceof x&&o instanceof x)return function(y,A,E,N){if(N!==null){var T=N.get(y,A);if(T!==null||(T=N.get(A,y))!==null)return T}var O=function(V,R,U){if(U){if(V===m.EMPTY||R===m.EMPTY)return m.EMPTY}else{if(V===m.EMPTY&&R===m.EMPTY)return m.EMPTY;if(V===m.EMPTY){var L=[R.returnState,m.EMPTY_RETURN_STATE];return new D([R.parentCtx,null],L)}if(R===m.EMPTY)return L=[V.returnState,m.EMPTY_RETURN_STATE],new D([V.parentCtx,null],L)}return null}(y,A,E);if(O!==null)return N!==null&&N.set(y,A,O),O;{if(y.returnState===A.returnState){var j=h(y.parentCtx,A.parentCtx,E,N);if(j===y.parentCtx)return y;if(j===A.parentCtx)return A;var M=x.create(j,y.returnState);return N!==null&&N.set(y,A,M),M}var F=null;if((y===A||y.parentCtx!==null&&y.parentCtx===A.parentCtx)&&(F=y.parentCtx),F!==null){var I=[y.returnState,A.returnState];y.returnState>A.returnState&&(I[0]=A.returnState,I[1]=y.returnState);var B=new D(G=[F,F],I);return N!==null&&N.set(y,A,B),B}var I=[y.returnState,A.returnState],G=[y.parentCtx,A.parentCtx];y.returnState>A.returnState&&(I[0]=A.returnState,I[1]=y.returnState,G=[A.parentCtx,y.parentCtx]);var k=new D(G,I);return N!==null&&N.set(y,A,k),k}}(_,o,p,b);if(p){if(_ instanceof S)return _;if(o instanceof S)return o}return _ instanceof x&&(_=new D([_.getParent()],[_.returnState])),o instanceof x&&(o=new D([o.getParent()],[o.returnState])),function(y,A,E,N){if(N!==null){var T=N.get(y,A);if(T!==null||(T=N.get(A,y))!==null)return T}for(var O=0,j=0,M=0,F=[],B=[];O<y.returnStates.length&&j<A.returnStates.length;){var I,G,k,V=y.parents[O],R=A.parents[j];y.returnStates[O]===A.returnStates[j]?(I=y.returnStates[O],G=V!==null&&R!==null&&V===R,I===m.EMPTY_RETURN_STATE&&V===null&&R===null||G?B[M]=V:(k=h(V,R,E,N),B[M]=k),F[M]=I,O+=1,j+=1):y.returnStates[O]<A.returnStates[j]?(B[M]=V,F[M]=y.returnStates[O],O+=1):(B[M]=R,F[M]=A.returnStates[j],j+=1),M+=1}if(O<y.returnStates.length)for(var U=O;U<y.returnStates.length;U++)B[M]=y.parents[U],F[M]=y.returnStates[U],M+=1;else for(U=j;U<A.returnStates.length;U++)B[M]=A.parents[U],F[M]=A.returnStates[U],M+=1;if(M<B.length){if(M===1){var L=x.create(B[0],F[0]);return N!==null&&N.set(y,A,L),L}B=B.slice(0,M),F=F.slice(0,M)}var H=new D(B,F);return H===y?(N!==null&&N.set(y,A,y),y):H===A?(N!==null&&N.set(y,A,A),A):(function(X){for(var Z={},J=0;J<X.length;J++){var K=X[J];K in Z||(Z[K]=K)}for(var $=0;$<X.length;$++)X[$]=Z[X[$]]}(B),N!==null&&N.set(y,A,H),H)}(_,o,p,b)}m.EMPTY=null,m.EMPTY_RETURN_STATE=2147483647,m.id=m.globalNodeCount=1,m.prototype.isEmpty=function(){return this===m.EMPTY},m.prototype.hasEmptyPath=function(){return this.getReturnState(this.length-1)===m.EMPTY_RETURN_STATE},m.prototype.hashCode=function(){return this.cachedHashCode},m.prototype.updateHashCode=function(_){_.update(this.cachedHashCode)},l.prototype.add=function(_){if(_===m.EMPTY)return m.EMPTY;var o=this.cache[_]||null;return o!==null?o:this.cache[_]=_},l.prototype.get=function(_){return this.cache[_]||null},Object.defineProperty(l.prototype,"length",{get:function(){return this.cache.length}}),((x.prototype=Object.create(m.prototype)).contructor=x).create=function(_,o){return o===m.EMPTY_RETURN_STATE&&_===null?m.EMPTY:new x(_,o)},Object.defineProperty(x.prototype,"length",{get:function(){return 1}}),x.prototype.getParent=function(_){return this.parentCtx},x.prototype.getReturnState=function(_){return this.returnState},x.prototype.equals=function(_){return this===_||_ instanceof x&&this.hashCode()===_.hashCode()&&this.returnState===_.returnState&&(this.parentCtx==null?_.parentCtx==null:this.parentCtx.equals(_.parentCtx))},x.prototype.toString=function(){var _=this.parentCtx===null?"":this.parentCtx.toString();return _.length===0?this.returnState===m.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+_},((S.prototype=Object.create(x.prototype)).constructor=S).prototype.isEmpty=function(){return!0},S.prototype.getParent=function(_){return null},S.prototype.getReturnState=function(_){return this.returnState},S.prototype.equals=function(_){return this===_},S.prototype.toString=function(){return"$"},m.EMPTY=new S,((D.prototype=Object.create(m.prototype)).constructor=D).prototype.isEmpty=function(){return this.returnStates[0]===m.EMPTY_RETURN_STATE},Object.defineProperty(D.prototype,"length",{get:function(){return this.returnStates.length}}),D.prototype.getParent=function(_){return this.parents[_]},D.prototype.getReturnState=function(_){return this.returnStates[_]},D.prototype.equals=function(_){return this===_||_ instanceof D&&this.hashCode()===_.hashCode()&&this.returnStates===_.returnStates&&this.parents===_.parents},D.prototype.toString=function(){if(this.isEmpty())return"[]";for(var _="[",o=0;o<this.returnStates.length;o++)0<o&&(_+=", "),this.returnStates[o]!==m.EMPTY_RETURN_STATE?(_+=this.returnStates[o],this.parents[o]!==null?_=_+" "+this.parents[o]:_+="null"):_+="$";return _+"]"},r.merge=h,r.PredictionContext=m,r.PredictionContextCache=l,r.SingletonPredictionContext=x,r.predictionContextFromRuleContext=function _(o,p){if(p==null&&(p=g.EMPTY),p.parentCtx===null||p===g.EMPTY)return m.EMPTY;var b=_(o,p.parentCtx),y=o.states[p.invokingState].transitions[0];return x.create(b,y.followState.stateNumber)},r.getCachedPredictionContext=function _(o,p,b){if(o.isEmpty())return o;var y=b[o]||null;if(y!==null)return y;if((y=p.get(o))!==null)return b[o]=y;for(var A=!1,E=[],N=0;N<E.length;N++){var T=_(o.getParent(N),p,b);if(A||T!==o.getParent(N)){if(!A){E=[];for(var O=0;O<o.length;O++)E[O]=o.getParent(O);A=!0}E[N]=T}}if(!A)return p.add(o),b[o]=o;var j=null,j=E.length===0?m.EMPTY:E.length===1?x.create(E[0],o.getReturnState(0)):new D(E,o.returnStates);return p.add(j),b[j]=j,b[o]=j}},{"./RuleContext":19,"./Utils":21}],18:[function(n,a,r){var g=n("./Token").Token,f=n("./error/ErrorListener").ConsoleErrorListener,m=n("./error/ErrorListener").ProxyErrorListener;function l(){return this._listeners=[f.INSTANCE],this._interp=null,this._stateNumber=-1,this}l.tokenTypeMapCache={},l.ruleIndexMapCache={},l.prototype.checkVersion=function(x){x!=="4.7.2"&&console.log("ANTLR runtime and generated code versions disagree: 4.7.2!="+x)},l.prototype.addErrorListener=function(x){this._listeners.push(x)},l.prototype.removeErrorListeners=function(){this._listeners=[]},l.prototype.getTokenTypeMap=function(){var x=this.getTokenNames();if(x===null)throw"The current recognizer does not provide a list of token names.";var S=this.tokenTypeMapCache[x];return S===void 0&&((S=x.reduce(function(D,h,_){D[h]=_})).EOF=g.EOF,this.tokenTypeMapCache[x]=S),S},l.prototype.getRuleIndexMap=function(){var x=this.ruleNames;if(x===null)throw"The current recognizer does not provide a list of rule names.";var S=this.ruleIndexMapCache[x];return S===void 0&&(S=x.reduce(function(D,h,_){D[h]=_}),this.ruleIndexMapCache[x]=S),S},l.prototype.getTokenType=function(x){var S=this.getTokenTypeMap()[x];return S!==void 0?S:g.INVALID_TYPE},l.prototype.getErrorHeader=function(x){return"line "+x.getOffendingToken().line+":"+x.getOffendingToken().column},l.prototype.getTokenErrorDisplay=function(x){if(x===null)return"<no token>";var S=x.text;return S===null&&(S=x.type===g.EOF?"<EOF>":"<"+x.type+">"),"'"+(S=S.replace(`
`,"\\n").replace("\r","\\r").replace("	","\\t"))+"'"},l.prototype.getErrorListenerDispatch=function(){return new m(this._listeners)},l.prototype.sempred=function(x,S,D){return!0},l.prototype.precpred=function(x,S){return!0},Object.defineProperty(l.prototype,"state",{get:function(){return this._stateNumber},set:function(x){this._stateNumber=x}}),r.Recognizer=l},{"./Token":20,"./error/ErrorListener":43}],19:[function(n,a,r){var g=n("./tree/Tree").RuleNode,f=n("./tree/Tree").INVALID_INTERVAL,m=n("./atn/ATN").INVALID_ALT_NUMBER;function l(S,D){return g.call(this),this.parentCtx=S||null,this.invokingState=D||-1,this}((l.prototype=Object.create(g.prototype)).constructor=l).prototype.depth=function(){for(var S=0,D=this;D!==null;)D=D.parentCtx,S+=1;return S},l.prototype.isEmpty=function(){return this.invokingState===-1},l.prototype.getSourceInterval=function(){return f},l.prototype.getRuleContext=function(){return this},l.prototype.getPayload=function(){return this},l.prototype.getText=function(){return this.getChildCount()===0?"":this.children.map(function(S){return S.getText()}).join("")},l.prototype.getAltNumber=function(){return m},l.prototype.setAltNumber=function(S){},l.prototype.getChild=function(S){return null},l.prototype.getChildCount=function(){return 0},l.prototype.accept=function(S){return S.visitChildren(this)},r.RuleContext=l;var x=n("./tree/Trees").Trees;l.prototype.toStringTree=function(S,D){return x.toStringTree(this,S,D)},l.prototype.toString=function(S,D){S=S||null,D=D||null;for(var h,_=this,o="[";_!==null&&_!==D;)S===null?_.isEmpty()||(o+=_.invokingState):o+=0<=(h=_.ruleIndex)&&h<S.length?S[h]:""+h,_.parentCtx===null||S===null&&_.parentCtx.isEmpty()||(o+=" "),_=_.parentCtx;return o+="]"}},{"./atn/ATN":22,"./tree/Tree":50,"./tree/Trees":51}],20:[function(n,a,r){function g(){return this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null,this}function f(m,l,x,S,D){return g.call(this),this.source=m!==void 0?m:f.EMPTY_SOURCE,this.type=l!==void 0?l:null,this.channel=x!==void 0?x:g.DEFAULT_CHANNEL,this.start=S!==void 0?S:-1,this.stop=D!==void 0?D:-1,this.tokenIndex=-1,this.source[0]!==null?(this.line=m[0].line,this.column=m[0].column):this.column=-1,this}g.INVALID_TYPE=0,g.EPSILON=-2,g.MIN_USER_TOKEN_TYPE=1,g.EOF=-1,g.DEFAULT_CHANNEL=0,g.HIDDEN_CHANNEL=1,Object.defineProperty(g.prototype,"text",{get:function(){return this._text},set:function(m){this._text=m}}),g.prototype.getTokenSource=function(){return this.source[0]},g.prototype.getInputStream=function(){return this.source[1]},((f.prototype=Object.create(g.prototype)).constructor=f).EMPTY_SOURCE=[null,null],f.prototype.clone=function(){var m=new f(this.source,this.type,this.channel,this.start,this.stop);return m.tokenIndex=this.tokenIndex,m.line=this.line,m.column=this.column,m.text=this.text,m},Object.defineProperty(f.prototype,"text",{get:function(){if(this._text!==null)return this._text;var m=this.getInputStream();if(m===null)return null;var l=m.size;return this.start<l&&this.stop<l?m.getText(this.start,this.stop):"<EOF>"},set:function(m){this._text=m}}),f.prototype.toString=function(){var m=(m=this.text)!==null?m.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>";return"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+m+"',<"+this.type+">"+(0<this.channel?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"},r.Token=g,r.CommonToken=f},{}],21:[function(n,a,r){function g(o){return"["+o.join(", ")+"]"}function f(o,p){return o.equals(p)}function m(o){return o.hashCode()}function l(o,p){return this.data={},this.hashFunction=o||m,this.equalsFunction=p||f,this}function x(){return this.data=[],this}function S(o,p){return this.data={},this.hashFunction=o||m,this.equalsFunction=p||f,this}function D(){return this.data={},this}function h(){return this}function _(){return this.count=0,this.hash=0,this}String.prototype.seed=String.prototype.seed||Math.round(Math.random()*Math.pow(2,32)),String.prototype.hashCode=function(){for(var o,p,b=this.toString(),y=3&b.length,A=b.length-y,E=String.prototype.seed,N=3432918353,T=461845907,O=0;O<A;)p=255&b.charCodeAt(O)|(255&b.charCodeAt(++O))<<8|(255&b.charCodeAt(++O))<<16|(255&b.charCodeAt(++O))<<24,++O,E=27492+(65535&(o=5*(65535&(E=(E^=p=(65535&(p=(p=(65535&p)*N+(((p>>>16)*N&65535)<<16)&4294967295)<<15|p>>>17))*T+(((p>>>16)*T&65535)<<16)&4294967295)<<13|E>>>19))+((5*(E>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(p=0,y){case 3:p^=(255&b.charCodeAt(O+2))<<16;case 2:p^=(255&b.charCodeAt(O+1))<<8;case 1:E^=p=(65535&(p=(p=(65535&(p^=255&b.charCodeAt(O)))*N+(((p>>>16)*N&65535)<<16)&4294967295)<<15|p>>>17))*T+(((p>>>16)*T&65535)<<16)&4294967295}return E^=b.length,E=2246822507*(65535&(E^=E>>>16))+((2246822507*(E>>>16)&65535)<<16)&4294967295,E=3266489909*(65535&(E^=E>>>13))+((3266489909*(E>>>16)&65535)<<16)&4294967295,(E^=E>>>16)>>>0},Object.defineProperty(l.prototype,"length",{get:function(){var o=0;for(var p in this.data)p.indexOf("hash_")===0&&(o+=this.data[p].length);return o}}),l.prototype.add=function(o){var p="hash_"+this.hashFunction(o);if(p in this.data){for(var b=this.data[p],y=0;y<b.length;y++)if(this.equalsFunction(o,b[y]))return b[y];return b.push(o),o}return this.data[p]=[o],o},l.prototype.contains=function(o){return this.get(o)!=null},l.prototype.get=function(o){var p="hash_"+this.hashFunction(o);if(p in this.data){for(var b=this.data[p],y=0;y<b.length;y++)if(this.equalsFunction(o,b[y]))return b[y]}return null},l.prototype.values=function(){var o=[];for(var p in this.data)p.indexOf("hash_")===0&&(o=o.concat(this.data[p]));return o},l.prototype.toString=function(){return g(this.values())},x.prototype.add=function(o){this.data[o]=!0},x.prototype.or=function(o){var p=this;Object.keys(o.data).map(function(b){p.add(b)})},x.prototype.remove=function(o){delete this.data[o]},x.prototype.contains=function(o){return this.data[o]===!0},x.prototype.values=function(){return Object.keys(this.data)},x.prototype.minValue=function(){return Math.min.apply(null,this.values())},x.prototype.hashCode=function(){var o=new _;return o.update(this.values()),o.finish()},x.prototype.equals=function(o){return o instanceof x&&this.hashCode()===o.hashCode()},Object.defineProperty(x.prototype,"length",{get:function(){return this.values().length}}),x.prototype.toString=function(){return"{"+this.values().join(", ")+"}"},Object.defineProperty(S.prototype,"length",{get:function(){var o=0;for(var p in this.data)p.indexOf("hash_")===0&&(o+=this.data[p].length);return o}}),S.prototype.put=function(o,p){var b="hash_"+this.hashFunction(o);if(b in this.data){for(var y=this.data[b],A=0;A<y.length;A++){var E=y[A];if(this.equalsFunction(o,E.key)){var N=E.value;return E.value=p,N}}return y.push({key:o,value:p}),p}return this.data[b]=[{key:o,value:p}],p},S.prototype.containsKey=function(o){var p="hash_"+this.hashFunction(o);if(p in this.data)for(var b=this.data[p],y=0;y<b.length;y++){var A=b[y];if(this.equalsFunction(o,A.key))return!0}return!1},S.prototype.get=function(o){var p="hash_"+this.hashFunction(o);if(p in this.data)for(var b=this.data[p],y=0;y<b.length;y++){var A=b[y];if(this.equalsFunction(o,A.key))return A.value}return null},S.prototype.entries=function(){var o=[];for(var p in this.data)p.indexOf("hash_")===0&&(o=o.concat(this.data[p]));return o},S.prototype.getKeys=function(){return this.entries().map(function(o){return o.key})},S.prototype.getValues=function(){return this.entries().map(function(o){return o.value})},S.prototype.toString=function(){return"["+this.entries().map(function(o){return"{"+o.key+":"+o.value+"}"}).join(", ")+"]"},D.prototype.get=function(o){return(o="k-"+o)in this.data?this.data[o]:null},D.prototype.put=function(o,p){o="k-"+o,this.data[o]=p},D.prototype.values=function(){var o=this.data;return Object.keys(this.data).map(function(p){return o[p]})},_.prototype.update=function(){for(var o=0;o<arguments.length;o++){var p=arguments[o];if(p!=null)if(Array.isArray(p))this.update.apply(p);else{var b=0;switch(typeof p){case"undefined":case"function":continue;case"number":case"boolean":b=p;break;case"string":b=p.hashCode();break;default:p.updateHashCode(this);continue}b=(b*=3432918353)<<15|b>>>17,b*=461845907,this.count=this.count+1;var y=this.hash^b;y=5*(y=y<<13|y>>>19)+3864292196,this.hash=y}}},_.prototype.finish=function(){var o=this.hash^4*this.count;return o^=o>>>16,o*=2246822507,o^=o>>>13,o*=3266489909,o^=o>>>16},h.prototype.get=function(o,p){var b=this[o]||null;return b!==null&&b[p]||null},h.prototype.set=function(o,p,b){var y=this[o]||null;y===null&&(y={},this[o]=y),y[p]=b},r.Hash=_,r.Set=l,r.Map=S,r.BitSet=x,r.AltDict=D,r.DoubleDict=h,r.hashStuff=function(){var o=new _;return o.update.apply(arguments),o.finish()},r.escapeWhitespace=function(o,p){return o=o.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r"),p&&(o=o.replace(/ /g,"·")),o},r.arrayToString=g,r.titleCase=function(o){return o.replace(/\w\S*/g,function(p){return p.charAt(0).toUpperCase()+p.substr(1)})},r.equalArrays=function(o,p){if(!Array.isArray(o)||!Array.isArray(p))return!1;if(o==p)return!0;if(o.length!=p.length)return!1;for(var b=0;b<o.length;b++)if(o[b]!=p[b]&&!o[b].equals(p[b]))return!1;return!0}},{}],22:[function(n,a,r){var g=n("./../LL1Analyzer").LL1Analyzer,f=n("./../IntervalSet").IntervalSet;function m(x,S){return this.grammarType=x,this.maxTokenType=S,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[],this}m.prototype.nextTokensInContext=function(x,S){return new g(this).LOOK(x,null,S)},m.prototype.nextTokensNoContext=function(x){return x.nextTokenWithinRule!==null||(x.nextTokenWithinRule=this.nextTokensInContext(x,null),x.nextTokenWithinRule.readOnly=!0),x.nextTokenWithinRule},m.prototype.nextTokens=function(x,S){return S===void 0?this.nextTokensNoContext(x):this.nextTokensInContext(x,S)},m.prototype.addState=function(x){x!==null&&(x.atn=this,x.stateNumber=this.states.length),this.states.push(x)},m.prototype.removeState=function(x){this.states[x.stateNumber]=null},m.prototype.defineDecisionState=function(x){return this.decisionToState.push(x),x.decision=this.decisionToState.length-1,x.decision},m.prototype.getDecisionState=function(x){return this.decisionToState.length===0?null:this.decisionToState[x]};var l=n("./../Token").Token;m.prototype.getExpectedTokens=function(x,S){if(x<0||x>=this.states.length)throw"Invalid state number.";var D=this.states[x];if(!(o=this.nextTokens(D)).contains(l.EPSILON))return o;var h=new f;for(h.addSet(o),h.removeOne(l.EPSILON);S!==null&&0<=S.invokingState&&o.contains(l.EPSILON);){var _=this.states[S.invokingState].transitions[0],o=this.nextTokens(_.followState);h.addSet(o),h.removeOne(l.EPSILON),S=S.parentCtx}return o.contains(l.EPSILON)&&h.addOne(l.EOF),h},m.INVALID_ALT_NUMBER=0,r.ATN=m},{"./../IntervalSet":12,"./../LL1Analyzer":13,"./../Token":20}],23:[function(n,a,r){var g=n("./ATNState").DecisionState,f=n("./SemanticContext").SemanticContext,m=n("../Utils").Hash;function l(D,h){if(D===null){var _={state:null,alt:null,context:null,semanticContext:null};return h&&(_.reachesIntoOuterContext=0),_}var o={};return o.state=D.state||null,o.alt=D.alt===void 0?null:D.alt,o.context=D.context||null,o.semanticContext=D.semanticContext||null,h&&(o.reachesIntoOuterContext=D.reachesIntoOuterContext||0,o.precedenceFilterSuppressed=D.precedenceFilterSuppressed||!1),o}function x(D,h){return this.checkContext(D,h),D=l(D),h=l(h,!0),this.state=D.state!==null?D.state:h.state,this.alt=D.alt!==null?D.alt:h.alt,this.context=D.context!==null?D.context:h.context,this.semanticContext=D.semanticContext!==null?D.semanticContext:h.semanticContext!==null?h.semanticContext:f.NONE,this.reachesIntoOuterContext=h.reachesIntoOuterContext,this.precedenceFilterSuppressed=h.precedenceFilterSuppressed,this}function S(D,h){x.call(this,D,h);var _=D.lexerActionExecutor||null;return this.lexerActionExecutor=_||(h!==null?h.lexerActionExecutor:null),this.passedThroughNonGreedyDecision=h!==null&&this.checkNonGreedyDecision(h,this.state),this}x.prototype.checkContext=function(D,h){D.context!==null&&D.context!==void 0||h!==null&&h.context!==null&&h.context!==void 0||(this.context=null)},x.prototype.hashCode=function(){var D=new m;return this.updateHashCode(D),D.finish()},x.prototype.updateHashCode=function(D){D.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)},x.prototype.equals=function(D){return this===D||D instanceof x&&this.state.stateNumber===D.state.stateNumber&&this.alt===D.alt&&(this.context===null?D.context===null:this.context.equals(D.context))&&this.semanticContext.equals(D.semanticContext)&&this.precedenceFilterSuppressed===D.precedenceFilterSuppressed},x.prototype.hashCodeForConfigSet=function(){var D=new m;return D.update(this.state.stateNumber,this.alt,this.semanticContext),D.finish()},x.prototype.equalsForConfigSet=function(D){return this===D||D instanceof x&&this.state.stateNumber===D.state.stateNumber&&this.alt===D.alt&&this.semanticContext.equals(D.semanticContext)},x.prototype.toString=function(){return"("+this.state+","+this.alt+(this.context!==null?",["+this.context.toString()+"]":"")+(this.semanticContext!==f.NONE?","+this.semanticContext.toString():"")+(0<this.reachesIntoOuterContext?",up="+this.reachesIntoOuterContext:"")+")"},((S.prototype=Object.create(x.prototype)).constructor=S).prototype.updateHashCode=function(D){D.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)},S.prototype.equals=function(D){return this===D||D instanceof S&&this.passedThroughNonGreedyDecision==D.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(D.lexerActionExecutor):!D.lexerActionExecutor)&&x.prototype.equals.call(this,D)},S.prototype.hashCodeForConfigSet=S.prototype.hashCode,S.prototype.equalsForConfigSet=S.prototype.equals,S.prototype.checkNonGreedyDecision=function(D,h){return D.passedThroughNonGreedyDecision||h instanceof g&&h.nonGreedy},r.ATNConfig=x,r.LexerATNConfig=S},{"../Utils":21,"./ATNState":28,"./SemanticContext":35}],24:[function(n,a,r){var g=n("./ATN").ATN,f=n("./../Utils"),m=f.Hash,l=f.Set,x=n("./SemanticContext").SemanticContext,S=n("./../PredictionContext").merge;function D(p){return p.hashCodeForConfigSet()}function h(p,b){return p===b||p!==null&&b!==null&&p.equalsForConfigSet(b)}function _(p){return this.configLookup=new l(D,h),this.fullCtx=p===void 0||p,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1,this}function o(){return _.call(this),this.configLookup=new l,this}_.prototype.add=function(p,b){if(b===void 0&&(b=null),this.readOnly)throw"This set is readonly";p.semanticContext!==x.NONE&&(this.hasSemanticContext=!0),0<p.reachesIntoOuterContext&&(this.dipsIntoOuterContext=!0);var y=this.configLookup.add(p);if(y===p)return this.cachedHashCode=-1,this.configs.push(p),!0;var A=!this.fullCtx,E=S(y.context,p.context,A,b);return y.reachesIntoOuterContext=Math.max(y.reachesIntoOuterContext,p.reachesIntoOuterContext),p.precedenceFilterSuppressed&&(y.precedenceFilterSuppressed=!0),y.context=E,!0},_.prototype.getStates=function(){for(var p=new l,b=0;b<this.configs.length;b++)p.add(this.configs[b].state);return p},_.prototype.getPredicates=function(){for(var p=[],b=0;b<this.configs.length;b++){var y=this.configs[b].semanticContext;y!==x.NONE&&p.push(y.semanticContext)}return p},Object.defineProperty(_.prototype,"items",{get:function(){return this.configs}}),_.prototype.optimizeConfigs=function(p){if(this.readOnly)throw"This set is readonly";if(this.configLookup.length!==0)for(var b=0;b<this.configs.length;b++){var y=this.configs[b];y.context=p.getCachedContext(y.context)}},_.prototype.addAll=function(p){for(var b=0;b<p.length;b++)this.add(p[b]);return!1},_.prototype.equals=function(p){return this===p||p instanceof _&&f.equalArrays(this.configs,p.configs)&&this.fullCtx===p.fullCtx&&this.uniqueAlt===p.uniqueAlt&&this.conflictingAlts===p.conflictingAlts&&this.hasSemanticContext===p.hasSemanticContext&&this.dipsIntoOuterContext===p.dipsIntoOuterContext},_.prototype.hashCode=function(){var p=new m;return this.updateHashCode(p),p.finish()},_.prototype.updateHashCode=function(p){this.readOnly?(this.cachedHashCode===-1&&((p=new m).update(this.configs),this.cachedHashCode=p.finish()),p.update(this.cachedHashCode)):p.update(this.configs)},Object.defineProperty(_.prototype,"length",{get:function(){return this.configs.length}}),_.prototype.isEmpty=function(){return this.configs.length===0},_.prototype.contains=function(p){if(this.configLookup===null)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(p)},_.prototype.containsFast=function(p){if(this.configLookup===null)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(p)},_.prototype.clear=function(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new l},_.prototype.setReadonly=function(p){(this.readOnly=p)&&(this.configLookup=null)},_.prototype.toString=function(){return f.arrayToString(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==g.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(this.conflictingAlts!==null?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")},(o.prototype=Object.create(_.prototype)).constructor=o,r.ATNConfigSet=_,r.OrderedATNConfigSet=o},{"./../PredictionContext":17,"./../Utils":21,"./ATN":22,"./SemanticContext":35}],25:[function(n,a,r){function g(f){return f===void 0&&(f=null),this.readOnly=!1,this.verifyATN=f===null||f.verifyATN,this.generateRuleBypassTransitions=f!==null&&f.generateRuleBypassTransitions,this}(g.defaultOptions=new g).readOnly=!0,r.ATNDeserializationOptions=g},{}],26:[function(n,a,r){var g=n("./../Token").Token,f=n("./ATN").ATN,m=n("./ATNType").ATNType,l=n("./ATNState"),x=l.ATNState,S=l.BasicState,D=l.DecisionState,h=l.BlockStartState,_=l.BlockEndState,o=l.LoopEndState,p=l.RuleStartState,b=l.RuleStopState,y=l.TokensStartState,A=l.PlusLoopbackState,E=l.StarLoopbackState,N=l.StarLoopEntryState,T=l.PlusBlockStartState,O=l.StarBlockStartState,j=l.BasicBlockStartState,M=n("./Transition"),F=M.Transition,B=M.AtomTransition,I=M.SetTransition,G=M.NotSetTransition,k=M.RuleTransition,V=M.RangeTransition,R=M.ActionTransition,U=M.EpsilonTransition,L=M.WildcardTransition,H=M.PredicateTransition,X=M.PrecedencePredicateTransition,Z=n("./../IntervalSet").IntervalSet,J=(n("./../IntervalSet").Interval,n("./ATNDeserializationOptions").ATNDeserializationOptions),K=n("./LexerAction"),$=K.LexerActionType,W=K.LexerSkipAction,Y=K.LexerChannelAction,te=K.LexerCustomAction,ce=K.LexerMoreAction,oe=K.LexerTypeAction,ue=K.LexerPushModeAction,Ce=K.LexerPopModeAction,le=K.LexerModeAction,ye="59627784-3BE5-417A-B9EB-8131A7286089",ve=["AADB8D7E-AEEF-4415-AD2B-8204D6CF042E",ye];function pe(he,ne){var re=[];return re[he-1]=ne,re.map(function(de){return ne})}function be(he){return he==null&&(he=J.defaultOptions),this.deserializationOptions=he,this.stateFactories=null,this.actionFactories=null,this}be.prototype.isFeatureSupported=function(he,ne){var re=ve.indexOf(he);return!(re<0)&&re<=ve.indexOf(ne)},be.prototype.deserialize=function(he){this.reset(he),this.checkVersion(),this.checkUUID();var ne=this.readATN();this.readStates(ne),this.readRules(ne),this.readModes(ne);var re=[];return this.readSets(ne,re,this.readInt.bind(this)),this.isFeatureSupported(ye,this.uuid)&&this.readSets(ne,re,this.readInt32.bind(this)),this.readEdges(ne,re),this.readDecisions(ne),this.readLexerActions(ne),this.markPrecedenceDecisions(ne),this.verifyATN(ne),this.deserializationOptions.generateRuleBypassTransitions&&ne.grammarType===m.PARSER&&(this.generateRuleBypassTransitions(ne),this.verifyATN(ne)),ne},be.prototype.reset=function(he){var ne=he.split("").map(function(re){var de=re.charCodeAt(0);return 1<de?de-2:de+65533});ne[0]=he.charCodeAt(0),this.data=ne,this.pos=0},be.prototype.checkVersion=function(){var he=this.readInt();if(he!==3)throw"Could not deserialize ATN with version "+he+" (expected 3)."},be.prototype.checkUUID=function(){var he=this.readUUID();if(ve.indexOf(he)<0)throw"59627784-3BE5-417A-B9EB-8131A7286089";this.uuid=he},be.prototype.readATN=function(){var he=this.readInt(),ne=this.readInt();return new f(he,ne)},be.prototype.readStates=function(he){for(var ne,re,de=[],xe=[],Pe=this.readInt(),Ae=0;Ae<Pe;Ae++){var Oe,Se,Fe,$e,Re=this.readInt();Re!==x.INVALID_TYPE?((Oe=this.readInt())===65535&&(Oe=-1),Se=this.stateFactory(Re,Oe),Re===x.LOOP_END?(Fe=this.readInt(),de.push([Se,Fe])):Se instanceof h&&($e=this.readInt(),xe.push([Se,$e])),he.addState(Se)):he.addState(null)}for(ze=0;ze<de.length;ze++)(ne=de[ze])[0].loopBackState=he.states[ne[1]];for(ze=0;ze<xe.length;ze++)(ne=xe[ze])[0].endState=he.states[ne[1]];for(var qe=this.readInt(),ze=0;ze<qe;ze++)re=this.readInt(),he.states[re].nonGreedy=!0;var we=this.readInt();for(ze=0;ze<we;ze++)re=this.readInt(),he.states[re].isPrecedenceRule=!0},be.prototype.readRules=function(he){var ne,re=this.readInt();for(he.grammarType===m.LEXER&&(he.ruleToTokenType=pe(re,0)),he.ruleToStartState=pe(re,0),ne=0;ne<re;ne++){var de,xe=this.readInt(),Pe=he.states[xe];he.ruleToStartState[ne]=Pe,he.grammarType===m.LEXER&&((de=this.readInt())===65535&&(de=g.EOF),he.ruleToTokenType[ne]=de)}for(he.ruleToStopState=pe(re,0),ne=0;ne<he.states.length;ne++){var Ae=he.states[ne];Ae instanceof b&&(he.ruleToStopState[Ae.ruleIndex]=Ae,he.ruleToStartState[Ae.ruleIndex].stopState=Ae)}},be.prototype.readModes=function(he){for(var ne=this.readInt(),re=0;re<ne;re++){var de=this.readInt();he.modeToStartState.push(he.states[de])}},be.prototype.readSets=function(he,ne,re){for(var de=this.readInt(),xe=0;xe<de;xe++){var Pe=new Z;ne.push(Pe);var Ae=this.readInt();this.readInt()!==0&&Pe.addOne(-1);for(var Oe=0;Oe<Ae;Oe++){var Se=re(),Fe=re();Pe.addRange(Se,Fe)}}},be.prototype.readEdges=function(he,ne){for(var re,de,xe,Pe=this.readInt(),Ae=0;Ae<Pe;Ae++){var Oe=this.readInt(),Se=this.readInt(),Fe=this.readInt(),$e=this.readInt(),Re=this.readInt(),qe=this.readInt(),ze=this.edgeFactory(he,Fe,Oe,Se,$e,Re,qe,ne);he.states[Oe].addTransition(ze)}for(Ae=0;Ae<he.states.length;Ae++)for(de=he.states[Ae],re=0;re<de.transitions.length;re++){var we,Ee=de.transitions[re];Ee instanceof k&&(we=-1,he.ruleToStartState[Ee.target.ruleIndex].isPrecedenceRule&&Ee.precedence===0&&(we=Ee.target.ruleIndex),ze=new U(Ee.followState,we),he.ruleToStopState[Ee.target.ruleIndex].addTransition(ze))}for(Ae=0;Ae<he.states.length;Ae++){if((de=he.states[Ae])instanceof h){if(de.endState===null||de.endState.startState!==null)throw"IllegalState";de.endState.startState=de}if(de instanceof A)for(re=0;re<de.transitions.length;re++)(xe=de.transitions[re].target)instanceof T&&(xe.loopBackState=de);else if(de instanceof E)for(re=0;re<de.transitions.length;re++)(xe=de.transitions[re].target)instanceof N&&(xe.loopBackState=de)}},be.prototype.readDecisions=function(he){for(var ne=this.readInt(),re=0;re<ne;re++){var de=this.readInt(),xe=he.states[de];he.decisionToState.push(xe),xe.decision=re}},be.prototype.readLexerActions=function(he){if(he.grammarType===m.LEXER){var ne=this.readInt();he.lexerActions=pe(ne,null);for(var re=0;re<ne;re++){var de=this.readInt(),xe=this.readInt();xe===65535&&(xe=-1);var Pe=this.readInt();Pe===65535&&(Pe=-1);var Ae=this.lexerActionFactory(de,xe,Pe);he.lexerActions[re]=Ae}}},be.prototype.generateRuleBypassTransitions=function(he){for(var ne=he.ruleToStartState.length,re=0;re<ne;re++)he.ruleToTokenType[re]=he.maxTokenType+re+1;for(re=0;re<ne;re++)this.generateRuleBypassTransition(he,re)},be.prototype.generateRuleBypassTransition=function(he,ne){var re,de,xe=new j;xe.ruleIndex=ne,he.addState(xe);var Pe=new _;Pe.ruleIndex=ne,he.addState(Pe),xe.endState=Pe,he.defineDecisionState(xe),Pe.startState=xe;var Ae=null,Oe=null;if(he.ruleToStartState[ne].isPrecedenceRule){for(Oe=null,re=0;re<he.states.length;re++)if(de=he.states[re],this.stateIsEndStateFor(de,ne)){Ae=(Oe=de).loopBackState.transitions[0];break}if(Ae===null)throw"Couldn't identify final state of the precedence rule prefix section."}else Oe=he.ruleToStopState[ne];for(re=0;re<he.states.length;re++){de=he.states[re];for(var Se=0;Se<de.transitions.length;Se++){var Fe=de.transitions[Se];Fe!==Ae&&Fe.target===Oe&&(Fe.target=Pe)}}for(var $e=he.ruleToStartState[ne],Re=$e.transitions.length;0<Re;)xe.addTransition($e.transitions[Re-1]),$e.transitions=$e.transitions.slice(-1);he.ruleToStartState[ne].addTransition(new U(xe)),Pe.addTransition(new U(Oe));var qe=new S;he.addState(qe),qe.addTransition(new B(Pe,he.ruleToTokenType[ne])),xe.addTransition(new U(qe))},be.prototype.stateIsEndStateFor=function(he,ne){if(he.ruleIndex!==ne||!(he instanceof N))return null;var re=he.transitions[he.transitions.length-1].target;return re instanceof o&&re.epsilonOnlyTransitions&&re.transitions[0].target instanceof b?he:null},be.prototype.markPrecedenceDecisions=function(he){for(var ne=0;ne<he.states.length;ne++){var re,de=he.states[ne];de instanceof N&&(!he.ruleToStartState[de.ruleIndex].isPrecedenceRule||(re=de.transitions[de.transitions.length-1].target)instanceof o&&re.epsilonOnlyTransitions&&re.transitions[0].target instanceof b&&(de.isPrecedenceDecision=!0))}},be.prototype.verifyATN=function(he){if(this.deserializationOptions.verifyATN)for(var ne=0;ne<he.states.length;ne++){var re=he.states[ne];if(re!==null)if(this.checkCondition(re.epsilonOnlyTransitions||re.transitions.length<=1),re instanceof T)this.checkCondition(re.loopBackState!==null);else if(re instanceof N)if(this.checkCondition(re.loopBackState!==null),this.checkCondition(re.transitions.length===2),re.transitions[0].target instanceof O)this.checkCondition(re.transitions[1].target instanceof o),this.checkCondition(!re.nonGreedy);else{if(!(re.transitions[0].target instanceof o))throw"IllegalState";this.checkCondition(re.transitions[1].target instanceof O),this.checkCondition(re.nonGreedy)}else re instanceof E?(this.checkCondition(re.transitions.length===1),this.checkCondition(re.transitions[0].target instanceof N)):re instanceof o?this.checkCondition(re.loopBackState!==null):re instanceof p?this.checkCondition(re.stopState!==null):re instanceof h?this.checkCondition(re.endState!==null):re instanceof _?this.checkCondition(re.startState!==null):re instanceof D?this.checkCondition(re.transitions.length<=1||0<=re.decision):this.checkCondition(re.transitions.length<=1||re instanceof b)}},be.prototype.checkCondition=function(he,ne){if(!he)throw ne==null&&(ne="IllegalState"),ne},be.prototype.readInt=function(){return this.data[this.pos++]},be.prototype.readInt32=function(){return this.readInt()|this.readInt()<<16},be.prototype.readLong=function(){return 4294967295&this.readInt32()|this.readInt32()<<32};var Ne=function(){for(var he=[],ne=0;ne<256;ne++)he[ne]=(ne+256).toString(16).substr(1).toUpperCase();return he}();be.prototype.readUUID=function(){for(var he=[],ne=7;0<=ne;ne--){var re=this.readInt();he[2*ne+1]=255&re,he[2*ne]=re>>8&255}return Ne[he[0]]+Ne[he[1]]+Ne[he[2]]+Ne[he[3]]+"-"+Ne[he[4]]+Ne[he[5]]+"-"+Ne[he[6]]+Ne[he[7]]+"-"+Ne[he[8]]+Ne[he[9]]+"-"+Ne[he[10]]+Ne[he[11]]+Ne[he[12]]+Ne[he[13]]+Ne[he[14]]+Ne[he[15]]},be.prototype.edgeFactory=function(he,ne,re,de,xe,Pe,Ae,Oe){var Se=he.states[de];switch(ne){case F.EPSILON:return new U(Se);case F.RANGE:return new V(Se,Ae!==0?g.EOF:xe,Pe);case F.RULE:return new k(he.states[xe],Pe,Ae,Se);case F.PREDICATE:return new H(Se,xe,Pe,Ae!==0);case F.PRECEDENCE:return new X(Se,xe);case F.ATOM:return new B(Se,Ae!==0?g.EOF:xe);case F.ACTION:return new R(Se,xe,Pe,Ae!==0);case F.SET:return new I(Se,Oe[xe]);case F.NOT_SET:return new G(Se,Oe[xe]);case F.WILDCARD:return new L(Se);default:throw"The specified transition type: "+ne+" is not valid."}},be.prototype.stateFactory=function(he,ne){var re;if(this.stateFactories===null&&((re=[])[x.INVALID_TYPE]=null,re[x.BASIC]=function(){return new S},re[x.RULE_START]=function(){return new p},re[x.BLOCK_START]=function(){return new j},re[x.PLUS_BLOCK_START]=function(){return new T},re[x.STAR_BLOCK_START]=function(){return new O},re[x.TOKEN_START]=function(){return new y},re[x.RULE_STOP]=function(){return new b},re[x.BLOCK_END]=function(){return new _},re[x.STAR_LOOP_BACK]=function(){return new E},re[x.STAR_LOOP_ENTRY]=function(){return new N},re[x.PLUS_LOOP_BACK]=function(){return new A},re[x.LOOP_END]=function(){return new o},this.stateFactories=re),he>this.stateFactories.length||this.stateFactories[he]===null)throw"The specified state type "+he+" is not valid.";var de=this.stateFactories[he]();if(de!==null)return de.ruleIndex=ne,de},be.prototype.lexerActionFactory=function(he,ne,re){var de;if(this.actionFactories===null&&((de=[])[$.CHANNEL]=function(xe,Pe){return new Y(xe)},de[$.CUSTOM]=function(xe,Pe){return new te(xe,Pe)},de[$.MODE]=function(xe,Pe){return new le(xe)},de[$.MORE]=function(xe,Pe){return ce.INSTANCE},de[$.POP_MODE]=function(xe,Pe){return Ce.INSTANCE},de[$.PUSH_MODE]=function(xe,Pe){return new ue(xe)},de[$.SKIP]=function(xe,Pe){return W.INSTANCE},de[$.TYPE]=function(xe,Pe){return new oe(xe)},this.actionFactories=de),he>this.actionFactories.length||this.actionFactories[he]===null)throw"The specified lexer action type "+he+" is not valid.";return this.actionFactories[he](ne,re)},r.ATNDeserializer=be},{"./../IntervalSet":12,"./../Token":20,"./ATN":22,"./ATNDeserializationOptions":25,"./ATNState":28,"./ATNType":29,"./LexerAction":31,"./Transition":36}],27:[function(n,a,r){var g=n("./../dfa/DFAState").DFAState,f=n("./ATNConfigSet").ATNConfigSet,m=n("./../PredictionContext").getCachedPredictionContext;function l(x,S){return this.atn=x,this.sharedContextCache=S,this}l.ERROR=new g(2147483647,new f),l.prototype.getCachedContext=function(x){return this.sharedContextCache===null?x:m(x,this.sharedContextCache,{})},r.ATNSimulator=l},{"./../PredictionContext":17,"./../dfa/DFAState":40,"./ATNConfigSet":24}],28:[function(n,a,r){function g(){return this.atn=null,this.stateNumber=g.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null,this}function f(){return g.call(this),this.stateType=g.BASIC,this}function m(){return g.call(this),this.decision=-1,this.nonGreedy=!1,this}function l(){return m.call(this),this.endState=null,this}function x(){return l.call(this),this.stateType=g.BLOCK_START,this}function S(){return g.call(this),this.stateType=g.BLOCK_END,this.startState=null,this}function D(){return g.call(this),this.stateType=g.RULE_STOP,this}function h(){return g.call(this),this.stateType=g.RULE_START,this.stopState=null,this.isPrecedenceRule=!1,this}function _(){return m.call(this),this.stateType=g.PLUS_LOOP_BACK,this}function o(){return l.call(this),this.stateType=g.PLUS_BLOCK_START,this.loopBackState=null,this}function p(){return l.call(this),this.stateType=g.STAR_BLOCK_START,this}function b(){return g.call(this),this.stateType=g.STAR_LOOP_BACK,this}function y(){return m.call(this),this.stateType=g.STAR_LOOP_ENTRY,this.loopBackState=null,this.isPrecedenceDecision=null,this}function A(){return g.call(this),this.stateType=g.LOOP_END,this.loopBackState=null,this}function E(){return m.call(this),this.stateType=g.TOKEN_START,this}g.INVALID_TYPE=0,g.BASIC=1,g.RULE_START=2,g.BLOCK_START=3,g.PLUS_BLOCK_START=4,g.STAR_BLOCK_START=5,g.TOKEN_START=6,g.RULE_STOP=7,g.BLOCK_END=8,g.STAR_LOOP_BACK=9,g.STAR_LOOP_ENTRY=10,g.PLUS_LOOP_BACK=11,g.LOOP_END=12,g.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],g.INVALID_STATE_NUMBER=-1,g.prototype.toString=function(){return this.stateNumber},g.prototype.equals=function(N){return N instanceof g&&this.stateNumber===N.stateNumber},g.prototype.isNonGreedyExitState=function(){return!1},g.prototype.addTransition=function(N,T){T===void 0&&(T=-1),this.transitions.length===0?this.epsilonOnlyTransitions=N.isEpsilon:this.epsilonOnlyTransitions!==N.isEpsilon&&(this.epsilonOnlyTransitions=!1),T===-1?this.transitions.push(N):this.transitions.splice(T,1,N)},(f.prototype=Object.create(g.prototype)).constructor=f,(m.prototype=Object.create(g.prototype)).constructor=m,(l.prototype=Object.create(m.prototype)).constructor=l,(x.prototype=Object.create(l.prototype)).constructor=x,(S.prototype=Object.create(g.prototype)).constructor=S,(D.prototype=Object.create(g.prototype)).constructor=D,(h.prototype=Object.create(g.prototype)).constructor=h,(_.prototype=Object.create(m.prototype)).constructor=_,(o.prototype=Object.create(l.prototype)).constructor=o,(p.prototype=Object.create(l.prototype)).constructor=p,(b.prototype=Object.create(g.prototype)).constructor=b,(y.prototype=Object.create(m.prototype)).constructor=y,(A.prototype=Object.create(g.prototype)).constructor=A,(E.prototype=Object.create(m.prototype)).constructor=E,r.ATNState=g,r.BasicState=f,r.DecisionState=m,r.BlockStartState=l,r.BlockEndState=S,r.LoopEndState=A,r.RuleStartState=h,r.RuleStopState=D,r.TokensStartState=E,r.PlusLoopbackState=_,r.StarLoopbackState=b,r.StarLoopEntryState=y,r.PlusBlockStartState=o,r.StarBlockStartState=p,r.BasicBlockStartState=x},{}],29:[function(n,a,r){function g(){}g.LEXER=0,g.PARSER=1,r.ATNType=g},{}],30:[function(n,a,r){var g=n("./../Token").Token,f=n("./../Lexer").Lexer,m=n("./ATN").ATN,l=n("./ATNSimulator").ATNSimulator,x=n("./../dfa/DFAState").DFAState,S=(n("./ATNConfigSet").ATNConfigSet,n("./ATNConfigSet").OrderedATNConfigSet),D=n("./../PredictionContext").PredictionContext,h=n("./../PredictionContext").SingletonPredictionContext,_=n("./ATNState").RuleStopState,o=n("./ATNConfig").LexerATNConfig,p=n("./Transition").Transition,b=n("./LexerActionExecutor").LexerActionExecutor,y=n("./../error/Errors").LexerNoViableAltException;function A(T){T.index=-1,T.line=0,T.column=-1,T.dfaState=null}function E(){return A(this),this}function N(T,O,j,M){return l.call(this,O,M),this.decisionToDFA=j,this.recog=T,this.startIndex=-1,this.line=1,this.column=0,this.mode=f.DEFAULT_MODE,this.prevAccept=new E,this}E.prototype.reset=function(){A(this)},((N.prototype=Object.create(l.prototype)).constructor=N).debug=!1,N.dfa_debug=!1,N.MIN_DFA_EDGE=0,N.MAX_DFA_EDGE=127,N.match_calls=0,N.prototype.copyState=function(T){this.column=T.column,this.line=T.line,this.mode=T.mode,this.startIndex=T.startIndex},N.prototype.match=function(T,O){this.match_calls+=1,this.mode=O;var j=T.mark();try{this.startIndex=T.index,this.prevAccept.reset();var M=this.decisionToDFA[O];return M.s0===null?this.matchATN(T):this.execATN(T,M.s0)}finally{T.release(j)}},N.prototype.reset=function(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=f.DEFAULT_MODE},N.prototype.matchATN=function(T){var O=this.atn.modeToStartState[this.mode];N.debug&&console.log("matchATN mode "+this.mode+" start: "+O);var j=this.mode,M=this.computeStartState(T,O),F=M.hasSemanticContext;M.hasSemanticContext=!1;var B=this.addDFAState(M);F||(this.decisionToDFA[this.mode].s0=B);var I=this.execATN(T,B);return N.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[j].toLexerString()),I},N.prototype.execATN=function(T,O){N.debug&&console.log("start state closure="+O.configs),O.isAcceptState&&this.captureSimState(this.prevAccept,T,O);for(var j=T.LA(1),M=O;;){N.debug&&console.log("execATN loop starting closure: "+M.configs);var F=this.getExistingTargetState(M,j);if(F===null&&(F=this.computeTargetState(T,M,j)),F===l.ERROR||(j!==g.EOF&&this.consume(T),F.isAcceptState&&(this.captureSimState(this.prevAccept,T,F),j===g.EOF)))break;j=T.LA(1),M=F}return this.failOrAccept(this.prevAccept,T,M.configs,j)},N.prototype.getExistingTargetState=function(T,O){if(T.edges===null||O<N.MIN_DFA_EDGE||N.MAX_DFA_EDGE<O)return null;var j=T.edges[O-N.MIN_DFA_EDGE];return j===void 0&&(j=null),N.debug&&j!==null&&console.log("reuse state "+T.stateNumber+" edge to "+j.stateNumber),j},N.prototype.computeTargetState=function(T,O,j){var M=new S;return this.getReachableConfigSet(T,O.configs,M,j),M.items.length===0?(M.hasSemanticContext||this.addDFAEdge(O,j,l.ERROR),l.ERROR):this.addDFAEdge(O,j,null,M)},N.prototype.failOrAccept=function(T,O,j,M){if(this.prevAccept.dfaState!==null){var F=T.dfaState.lexerActionExecutor;return this.accept(O,F,this.startIndex,T.index,T.line,T.column),T.dfaState.prediction}if(M===g.EOF&&O.index===this.startIndex)return g.EOF;throw new y(this.recog,O,this.startIndex,j)},N.prototype.getReachableConfigSet=function(T,O,j,M){for(var F=m.INVALID_ALT_NUMBER,B=0;B<O.items.length;B++){var I=O.items[B],G=I.alt===F;if(!G||!I.passedThroughNonGreedyDecision){N.debug&&console.log(`testing %s at %s
`,this.getTokenName(M),I.toString(this.recog,!0));for(var k=0;k<I.state.transitions.length;k++){var V,R,U,L=I.state.transitions[k],H=this.getReachableTarget(L,M);H!==null&&((V=I.lexerActionExecutor)!==null&&(V=V.fixOffsetBeforeMatch(T.index-this.startIndex)),R=M===g.EOF,U=new o({state:H,lexerActionExecutor:V},I),this.closure(T,U,j,G,!0,R)&&(F=I.alt))}}}},N.prototype.accept=function(T,O,j,M,F,B){N.debug&&console.log(`ACTION %s
`,O),T.seek(M),this.line=F,this.column=B,O!==null&&this.recog!==null&&O.execute(this.recog,T,j)},N.prototype.getReachableTarget=function(T,O){return T.matches(O,0,f.MAX_CHAR_VALUE)?T.target:null},N.prototype.computeStartState=function(T,O){for(var j=D.EMPTY,M=new S,F=0;F<O.transitions.length;F++){var B=O.transitions[F].target,I=new o({state:B,alt:F+1,context:j},null);this.closure(T,I,M,!1,!1,!1)}return M},N.prototype.closure=function(T,O,j,M,F,B){var I=null;if(N.debug&&console.log("closure("+O.toString(this.recog,!0)+")"),O.state instanceof _){if(N.debug&&(this.recog!==null?console.log(`closure at %s rule stop %s
`,this.recog.ruleNames[O.state.ruleIndex],O):console.log(`closure at rule stop %s
`,O)),O.context===null||O.context.hasEmptyPath()){if(O.context===null||O.context.isEmpty())return j.add(O),!0;j.add(new o({state:O.state,context:D.EMPTY},O)),M=!0}if(O.context!==null&&!O.context.isEmpty())for(var G,k,V=0;V<O.context.length;V++)O.context.getReturnState(V)!==D.EMPTY_RETURN_STATE&&(G=O.context.getParent(V),k=this.atn.states[O.context.getReturnState(V)],I=new o({state:k,context:G},O),M=this.closure(T,I,j,M,F,B));return M}O.state.epsilonOnlyTransitions||M&&O.passedThroughNonGreedyDecision||j.add(O);for(var R=0;R<O.state.transitions.length;R++){var U=O.state.transitions[R];(I=this.getEpsilonTarget(T,O,U,j,F,B))!==null&&(M=this.closure(T,I,j,M,F,B))}return M},N.prototype.getEpsilonTarget=function(T,O,j,M,F,B){var I,k=null;if(j.serializationType===p.RULE)var G=h.create(O.context,j.followState.stateNumber),k=new o({state:j.target,context:G},O);else{if(j.serializationType===p.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";j.serializationType===p.PREDICATE?(N.debug&&console.log("EVAL rule "+j.ruleIndex+":"+j.predIndex),M.hasSemanticContext=!0,this.evaluatePredicate(T,j.ruleIndex,j.predIndex,F)&&(k=new o({state:j.target},O))):j.serializationType===p.ACTION?k=O.context===null||O.context.hasEmptyPath()?(I=b.append(O.lexerActionExecutor,this.atn.lexerActions[j.actionIndex]),new o({state:j.target,lexerActionExecutor:I},O)):new o({state:j.target},O):j.serializationType===p.EPSILON?k=new o({state:j.target},O):j.serializationType!==p.ATOM&&j.serializationType!==p.RANGE&&j.serializationType!==p.SET||B&&j.matches(g.EOF,0,f.MAX_CHAR_VALUE)&&(k=new o({state:j.target},O))}return k},N.prototype.evaluatePredicate=function(T,O,j,M){if(this.recog===null)return!0;if(!M)return this.recog.sempred(null,O,j);var F=this.column,B=this.line,I=T.index,G=T.mark();try{return this.consume(T),this.recog.sempred(null,O,j)}finally{this.column=F,this.line=B,T.seek(I),T.release(G)}},N.prototype.captureSimState=function(T,O,j){T.index=O.index,T.line=this.line,T.column=this.column,T.dfaState=j},N.prototype.addDFAEdge=function(T,O,j,M){if(j===void 0&&(j=null),M===void 0&&(M=null),j===null&&M!==null){var F=M.hasSemanticContext;if(M.hasSemanticContext=!1,j=this.addDFAState(M),F)return j}return O<N.MIN_DFA_EDGE||N.MAX_DFA_EDGE<O?j:(N.debug&&console.log("EDGE "+T+" -> "+j+" upon "+O),T.edges===null&&(T.edges=[]),T.edges[O-N.MIN_DFA_EDGE]=j)},N.prototype.addDFAState=function(T){for(var O=new x(null,T),j=null,M=0;M<T.items.length;M++){var F=T.items[M];if(F.state instanceof _){j=F;break}}j!==null&&(O.isAcceptState=!0,O.lexerActionExecutor=j.lexerActionExecutor,O.prediction=this.atn.ruleToTokenType[j.state.ruleIndex]);var B=this.decisionToDFA[this.mode],I=B.states.get(O);if(I!==null)return I;var G=O;return G.stateNumber=B.states.length,T.setReadonly(!0),G.configs=T,B.states.add(G),G},N.prototype.getDFA=function(T){return this.decisionToDFA[T]},N.prototype.getText=function(T){return T.getText(this.startIndex,T.index-1)},N.prototype.consume=function(T){T.LA(1)===`
`.charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,T.consume()},N.prototype.getTokenName=function(T){return T===-1?"EOF":"'"+String.fromCharCode(T)+"'"},r.LexerATNSimulator=N},{"./../Lexer":14,"./../PredictionContext":17,"./../Token":20,"./../dfa/DFAState":40,"./../error/Errors":45,"./ATN":22,"./ATNConfig":23,"./ATNConfigSet":24,"./ATNSimulator":27,"./ATNState":28,"./LexerActionExecutor":32,"./Transition":36}],31:[function(n,a,r){function g(){}function f(b){return this.actionType=b,this.isPositionDependent=!1,this}function m(){return f.call(this,g.SKIP),this}function l(b){return f.call(this,g.TYPE),this.type=b,this}function x(b){return f.call(this,g.PUSH_MODE),this.mode=b,this}function S(){return f.call(this,g.POP_MODE),this}function D(){return f.call(this,g.MORE),this}function h(b){return f.call(this,g.MODE),this.mode=b,this}function _(b,y){return f.call(this,g.CUSTOM),this.ruleIndex=b,this.actionIndex=y,this.isPositionDependent=!0,this}function o(b){return f.call(this,g.CHANNEL),this.channel=b,this}function p(b,y){return f.call(this,y.actionType),this.offset=b,this.action=y,this.isPositionDependent=!0,this}g.CHANNEL=0,g.CUSTOM=1,g.MODE=2,g.MORE=3,g.POP_MODE=4,g.PUSH_MODE=5,g.SKIP=6,g.TYPE=7,f.prototype.hashCode=function(){var b=new Hash;return this.updateHashCode(b),b.finish()},f.prototype.updateHashCode=function(b){b.update(this.actionType)},f.prototype.equals=function(b){return this===b},((m.prototype=Object.create(f.prototype)).constructor=m).INSTANCE=new m,m.prototype.execute=function(b){b.skip()},m.prototype.toString=function(){return"skip"},((l.prototype=Object.create(f.prototype)).constructor=l).prototype.execute=function(b){b.type=this.type},l.prototype.updateHashCode=function(b){b.update(this.actionType,this.type)},l.prototype.equals=function(b){return this===b||b instanceof l&&this.type===b.type},l.prototype.toString=function(){return"type("+this.type+")"},((x.prototype=Object.create(f.prototype)).constructor=x).prototype.execute=function(b){b.pushMode(this.mode)},x.prototype.updateHashCode=function(b){b.update(this.actionType,this.mode)},x.prototype.equals=function(b){return this===b||b instanceof x&&this.mode===b.mode},x.prototype.toString=function(){return"pushMode("+this.mode+")"},((S.prototype=Object.create(f.prototype)).constructor=S).INSTANCE=new S,S.prototype.execute=function(b){b.popMode()},S.prototype.toString=function(){return"popMode"},((D.prototype=Object.create(f.prototype)).constructor=D).INSTANCE=new D,D.prototype.execute=function(b){b.more()},D.prototype.toString=function(){return"more"},((h.prototype=Object.create(f.prototype)).constructor=h).prototype.execute=function(b){b.mode(this.mode)},h.prototype.updateHashCode=function(b){b.update(this.actionType,this.mode)},h.prototype.equals=function(b){return this===b||b instanceof h&&this.mode===b.mode},h.prototype.toString=function(){return"mode("+this.mode+")"},((_.prototype=Object.create(f.prototype)).constructor=_).prototype.execute=function(b){b.action(null,this.ruleIndex,this.actionIndex)},_.prototype.updateHashCode=function(b){b.update(this.actionType,this.ruleIndex,this.actionIndex)},_.prototype.equals=function(b){return this===b||b instanceof _&&this.ruleIndex===b.ruleIndex&&this.actionIndex===b.actionIndex},((o.prototype=Object.create(f.prototype)).constructor=o).prototype.execute=function(b){b._channel=this.channel},o.prototype.updateHashCode=function(b){b.update(this.actionType,this.channel)},o.prototype.equals=function(b){return this===b||b instanceof o&&this.channel===b.channel},o.prototype.toString=function(){return"channel("+this.channel+")"},((p.prototype=Object.create(f.prototype)).constructor=p).prototype.execute=function(b){this.action.execute(b)},p.prototype.updateHashCode=function(b){b.update(this.actionType,this.offset,this.action)},p.prototype.equals=function(b){return this===b||b instanceof p&&this.offset===b.offset&&this.action===b.action},r.LexerActionType=g,r.LexerSkipAction=m,r.LexerChannelAction=o,r.LexerCustomAction=_,r.LexerIndexedCustomAction=p,r.LexerMoreAction=D,r.LexerTypeAction=l,r.LexerPushModeAction=x,r.LexerPopModeAction=S,r.LexerModeAction=h},{}],32:[function(n,a,r){var g=n("../Utils").hashStuff,f=n("./LexerAction").LexerIndexedCustomAction;function m(l){return this.lexerActions=l===null?[]:l,this.cachedHashCode=g(l),this}m.append=function(l,x){return new m(l===null?[x]:l.lexerActions.concat([x]))},m.prototype.fixOffsetBeforeMatch=function(l){for(var x=null,S=0;S<this.lexerActions.length;S++)!this.lexerActions[S].isPositionDependent||this.lexerActions[S]instanceof f||(x===null&&(x=this.lexerActions.concat([])),x[S]=new f(l,this.lexerActions[S]));return x===null?this:new m(x)},m.prototype.execute=function(l,x,S){var D=!1,h=x.index;try{for(var _=0;_<this.lexerActions.length;_++){var o,p=this.lexerActions[_];p instanceof f?(o=p.offset,x.seek(S+o),p=p.action,D=S+o!==h):p.isPositionDependent&&(x.seek(h),D=!1),p.execute(l)}}finally{D&&x.seek(h)}},m.prototype.hashCode=function(){return this.cachedHashCode},m.prototype.updateHashCode=function(l){l.update(this.cachedHashCode)},m.prototype.equals=function(l){if(this===l)return!0;if(l instanceof m){if(this.cachedHashCode!=l.cachedHashCode||this.lexerActions.length!=l.lexerActions.length)return!1;for(var x=this.lexerActions.length,S=0;S<x;++S)if(!this.lexerActions[S].equals(l.lexerActions[S]))return!1;return!0}return!1},r.LexerActionExecutor=m},{"../Utils":21,"./LexerAction":31}],33:[function(n,a,r){var g=n("./../Utils"),f=g.Set,m=g.BitSet,l=g.DoubleDict,x=n("./ATN").ATN,S=n("./ATNState").ATNState,D=n("./ATNConfig").ATNConfig,h=n("./ATNConfigSet").ATNConfigSet,_=n("./../Token").Token,o=n("./../dfa/DFAState").DFAState,p=n("./../dfa/DFAState").PredPrediction,b=n("./ATNSimulator").ATNSimulator,y=n("./PredictionMode").PredictionMode,A=n("./../RuleContext").RuleContext,E=(n("./../ParserRuleContext").ParserRuleContext,n("./SemanticContext").SemanticContext),N=(n("./ATNState").StarLoopEntryState,n("./ATNState").RuleStopState),T=n("./../PredictionContext").PredictionContext,O=n("./../IntervalSet").Interval,j=n("./Transition"),M=j.Transition,F=j.SetTransition,B=j.NotSetTransition,I=j.RuleTransition,G=j.ActionTransition,k=n("./../error/Errors").NoViableAltException,V=n("./../PredictionContext").SingletonPredictionContext,R=n("./../PredictionContext").predictionContextFromRuleContext;function U(L,H,X,Z){return b.call(this,H,Z),this.parser=L,this.decisionToDFA=X,this.predictionMode=y.LL,this._input=null,this._startIndex=0,this._outerContext=null,this._dfa=null,this.mergeCache=null,this}((U.prototype=Object.create(b.prototype)).constructor=U).prototype.debug=!1,U.prototype.debug_closure=!1,U.prototype.debug_add=!1,U.prototype.debug_list_atn_decisions=!1,U.prototype.dfa_debug=!1,U.prototype.retry_debug=!1,U.prototype.reset=function(){},U.prototype.adaptivePredict=function(L,H,X){(this.debug||this.debug_list_atn_decisions)&&console.log("adaptivePredict decision "+H+" exec LA(1)=="+this.getLookaheadName(L)+" line "+L.LT(1).line+":"+L.LT(1).column),this._input=L,this._startIndex=L.index,this._outerContext=X;var Z=this.decisionToDFA[H];this._dfa=Z;var J=L.mark(),K=L.index;try{var $,W=Z.precedenceDfa?Z.getPrecedenceStartState(this.parser.getPrecedence()):Z.s0;W===null&&(X===null&&(X=A.EMPTY),(this.debug||this.debug_list_atn_decisions)&&console.log("predictATN decision "+Z.decision+" exec LA(1)=="+this.getLookaheadName(L)+", outerContext="+X.toString(this.parser.ruleNames)),$=this.computeStartState(Z.atnStartState,A.EMPTY,!1),Z.precedenceDfa?(Z.s0.configs=$,$=this.applyPrecedenceFilter($),W=this.addDFAState(Z,new o(null,$)),Z.setPrecedenceStartState(this.parser.getPrecedence(),W)):(W=this.addDFAState(Z,new o(null,$)),Z.s0=W));var Y=this.execATN(Z,W,L,K,X);return this.debug&&console.log("DFA after predictATN: "+Z.toString(this.parser.literalNames)),Y}finally{this._dfa=null,this.mergeCache=null,L.seek(K),L.release(J)}},U.prototype.execATN=function(L,H,X,Z,J){var K;(this.debug||this.debug_list_atn_decisions)&&console.log("execATN decision "+L.decision+" exec LA(1)=="+this.getLookaheadName(X)+" line "+X.LT(1).line+":"+X.LT(1).column);var $=H;this.debug&&console.log("s0 = "+H);for(var W=X.LA(1);;){var Y=this.getExistingTargetState($,W);if(Y===null&&(Y=this.computeTargetState(L,$,W)),Y===b.ERROR){var te=this.noViableAlt(X,J,$.configs,Z);if(X.seek(Z),(K=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule($.configs,J))!==x.INVALID_ALT_NUMBER)return K;throw te}if(Y.requiresFullContext&&this.predictionMode!==y.SLL){var ce=null;if(Y.predicates!==null){this.debug&&console.log("DFA state has preds in DFA sim LL failover");var oe=X.index;if(oe!==Z&&X.seek(Z),(ce=this.evalSemanticContext(Y.predicates,J,!0)).length===1)return this.debug&&console.log("Full LL avoided"),ce.minValue();oe!==Z&&X.seek(oe)}this.dfa_debug&&console.log("ctx sensitive state "+J+" in "+Y);var ue=this.computeStartState(L.atnStartState,J,!0);return this.reportAttemptingFullContext(L,ce,Y.configs,Z,X.index),K=this.execATNWithFullContext(L,Y,ue,X,Z,J)}if(Y.isAcceptState){if(Y.predicates===null)return Y.prediction;var Ce=X.index;X.seek(Z);var le=this.evalSemanticContext(Y.predicates,J,!0);if(le.length===0)throw this.noViableAlt(X,J,Y.configs,Z);return le.length===1||this.reportAmbiguity(L,Y,Z,Ce,!1,le,Y.configs),le.minValue()}$=Y,W!==_.EOF&&(X.consume(),W=X.LA(1))}},U.prototype.getExistingTargetState=function(L,H){var X=L.edges;return X!==null&&X[H+1]||null},U.prototype.computeTargetState=function(L,H,X){var Z=this.computeReachSet(H.configs,X,!1);if(Z===null)return this.addDFAEdge(L,H,X,b.ERROR),b.ERROR;var J,K=new o(null,Z),$=this.getUniqueAlt(Z);return this.debug&&(J=y.getConflictingAltSubsets(Z),console.log("SLL altSubSets="+g.arrayToString(J)+", previous="+H.configs+", configs="+Z+", predict="+$+", allSubsetsConflict="+y.allSubsetsConflict(J)+", conflictingAlts="+this.getConflictingAlts(Z))),$!==x.INVALID_ALT_NUMBER?(K.isAcceptState=!0,K.configs.uniqueAlt=$,K.prediction=$):y.hasSLLConflictTerminatingPrediction(this.predictionMode,Z)&&(K.configs.conflictingAlts=this.getConflictingAlts(Z),K.requiresFullContext=!0,K.isAcceptState=!0,K.prediction=K.configs.conflictingAlts.minValue()),K.isAcceptState&&K.configs.hasSemanticContext&&(this.predicateDFAState(K,this.atn.getDecisionState(L.decision)),K.predicates!==null&&(K.prediction=x.INVALID_ALT_NUMBER)),K=this.addDFAEdge(L,H,X,K)},U.prototype.predicateDFAState=function(L,H){var X=H.transitions.length,Z=this.getConflictingAltsOrUniqueAlt(L.configs),J=this.getPredsForAmbigAlts(Z,L.configs,X);J!==null?(L.predicates=this.getPredicatePredictions(Z,J),L.prediction=x.INVALID_ALT_NUMBER):L.prediction=Z.minValue()},U.prototype.execATNWithFullContext=function(L,H,X,Z,J,K){(this.debug||this.debug_list_atn_decisions)&&console.log("execATNWithFullContext "+X);var $=!1,W=null,Y=X;Z.seek(J);for(var te=Z.LA(1),ce=-1;;){if((W=this.computeReachSet(Y,te,!0))===null){var oe=this.noViableAlt(Z,K,Y,J);Z.seek(J);var ue=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(Y,K);if(ue!==x.INVALID_ALT_NUMBER)return ue;throw oe}var Ce=y.getConflictingAltSubsets(W);if(this.debug&&console.log("LL altSubSets="+Ce+", predict="+y.getUniqueAlt(Ce)+", resolvesToJustOneViableAlt="+y.resolvesToJustOneViableAlt(Ce)),W.uniqueAlt=this.getUniqueAlt(W),W.uniqueAlt!==x.INVALID_ALT_NUMBER){ce=W.uniqueAlt;break}if(this.predictionMode!==y.LL_EXACT_AMBIG_DETECTION){if((ce=y.resolvesToJustOneViableAlt(Ce))!==x.INVALID_ALT_NUMBER)break}else if(y.allSubsetsConflict(Ce)&&y.allSubsetsEqual(Ce)){$=!0,ce=y.getSingleViableAlt(Ce);break}Y=W,te!==_.EOF&&(Z.consume(),te=Z.LA(1))}return W.uniqueAlt!==x.INVALID_ALT_NUMBER?this.reportContextSensitivity(L,ce,W,J,Z.index):this.reportAmbiguity(L,H,J,Z.index,$,null,W),ce},U.prototype.computeReachSet=function(L,H,X){this.debug&&console.log("in computeReachSet, starting closure: "+L),this.mergeCache===null&&(this.mergeCache=new l);for(var Z=new h(X),J=null,K=0;K<L.items.length;K++){var $=L.items[K];if(this.debug_add&&console.log("testing "+this.getTokenName(H)+" at "+$),$.state instanceof N)!X&&H!==_.EOF||(J===null&&(J=[]),J.push($),this.debug_add&&console.log("added "+$+" to skippedStopStates"));else for(var W=0;W<$.state.transitions.length;W++){var Y,te=$.state.transitions[W],ce=this.getReachableTarget(te,H);ce!==null&&(Y=new D({state:ce},$),Z.add(Y,this.mergeCache),this.debug_add&&console.log("added "+Y+" to intermediate"))}}var oe=null;if(J!==null||H===_.EOF||Z.items.length!==1&&this.getUniqueAlt(Z)===x.INVALID_ALT_NUMBER||(oe=Z),oe===null){oe=new h(X);for(var ue=new f,Ce=H===_.EOF,le=0;le<Z.items.length;le++)this.closure(Z.items[le],oe,ue,!1,X,Ce)}if(H===_.EOF&&(oe=this.removeAllConfigsNotInRuleStopState(oe,oe===Z)),!(J===null||X&&y.hasConfigInRuleStopState(oe)))for(var ye=0;ye<J.length;ye++)oe.add(J[ye],this.mergeCache);return oe.items.length===0?null:oe},U.prototype.removeAllConfigsNotInRuleStopState=function(L,H){if(y.allConfigsInRuleStopStates(L))return L;for(var X=new h(L.fullCtx),Z=0;Z<L.items.length;Z++){var J,K=L.items[Z];K.state instanceof N?X.add(K,this.mergeCache):H&&K.state.epsilonOnlyTransitions&&this.atn.nextTokens(K.state).contains(_.EPSILON)&&(J=this.atn.ruleToStopState[K.state.ruleIndex],X.add(new D({state:J},K),this.mergeCache))}return X},U.prototype.computeStartState=function(L,H,X){for(var Z=R(this.atn,H),J=new h(X),K=0;K<L.transitions.length;K++){var $=L.transitions[K].target,W=new D({state:$,alt:K+1,context:Z},null),Y=new f;this.closure(W,J,Y,!0,X,!1)}return J},U.prototype.applyPrecedenceFilter=function(L){for(var H,X,Z=[],J=new h(L.fullCtx),K=0;K<L.items.length;K++)(H=L.items[K]).alt===1&&(X=H.semanticContext.evalPrecedence(this.parser,this._outerContext))!==null&&(Z[H.state.stateNumber]=H.context,X!==H.semanticContext?J.add(new D({semanticContext:X},H),this.mergeCache):J.add(H,this.mergeCache));for(K=0;K<L.items.length;K++)if((H=L.items[K]).alt!==1){if(!H.precedenceFilterSuppressed){var $=Z[H.state.stateNumber]||null;if($!==null&&$.equals(H.context))continue}J.add(H,this.mergeCache)}return J},U.prototype.getReachableTarget=function(L,H){return L.matches(H,0,this.atn.maxTokenType)?L.target:null},U.prototype.getPredsForAmbigAlts=function(L,H,X){for(var Z=[],J=0;J<H.items.length;J++){var K=H.items[J];L.contains(K.alt)&&(Z[K.alt]=E.orContext(Z[K.alt]||null,K.semanticContext))}for(var $=0,J=1;J<X+1;J++){var W=Z[J]||null;W===null?Z[J]=E.NONE:W!==E.NONE&&($+=1)}return $===0&&(Z=null),this.debug&&console.log("getPredsForAmbigAlts result "+g.arrayToString(Z)),Z},U.prototype.getPredicatePredictions=function(L,H){for(var X=[],Z=!1,J=1;J<H.length;J++){var K=H[J];L!==null&&L.contains(J)&&X.push(new p(K,J)),K!==E.NONE&&(Z=!0)}return Z?X:null},U.prototype.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule=function(L,H){var X=this.splitAccordingToSemanticValidity(L,H),Z=X[0],J=X[1],K=this.getAltThatFinishedDecisionEntryRule(Z);return K!==x.INVALID_ALT_NUMBER||0<J.items.length&&(K=this.getAltThatFinishedDecisionEntryRule(J))!==x.INVALID_ALT_NUMBER?K:x.INVALID_ALT_NUMBER},U.prototype.getAltThatFinishedDecisionEntryRule=function(L){for(var H=[],X=0;X<L.items.length;X++){var Z=L.items[X];(0<Z.reachesIntoOuterContext||Z.state instanceof N&&Z.context.hasEmptyPath())&&H.indexOf(Z.alt)<0&&H.push(Z.alt)}return H.length===0?x.INVALID_ALT_NUMBER:Math.min.apply(null,H)},U.prototype.splitAccordingToSemanticValidity=function(L,H){for(var X=new h(L.fullCtx),Z=new h(L.fullCtx),J=0;J<L.items.length;J++){var K=L.items[J];K.semanticContext===E.NONE||K.semanticContext.evaluate(this.parser,H)?X.add(K):Z.add(K)}return[X,Z]},U.prototype.evalSemanticContext=function(L,H,X){for(var Z=new m,J=0;J<L.length;J++){var K=L[J];if(K.pred!==E.NONE){var $=K.pred.evaluate(this.parser,H);if((this.debug||this.dfa_debug)&&console.log("eval pred "+K+"="+$),$&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+K.alt),Z.add(K.alt),!X))break}else if(Z.add(K.alt),!X)break}return Z},U.prototype.closure=function(L,H,X,Z,J,K){this.closureCheckingStopState(L,H,X,Z,J,0,K)},U.prototype.closureCheckingStopState=function(L,H,X,Z,J,K,$){if((this.debug||this.debug_closure)&&(console.log("closure("+L.toString(this.parser,!0)+")"),50<L.reachesIntoOuterContext))throw"problem";if(L.state instanceof N){if(!L.context.isEmpty()){for(var W=0;W<L.context.length;W++)if(L.context.getReturnState(W)!==T.EMPTY_RETURN_STATE){var Y=this.atn.states[L.context.getReturnState(W)],te=L.context.getParent(W),ce={state:Y,alt:L.alt,context:te,semanticContext:L.semanticContext},oe=new D(ce,null);oe.reachesIntoOuterContext=L.reachesIntoOuterContext,this.closureCheckingStopState(oe,H,X,Z,J,K-1,$)}else{if(J){H.add(new D({state:L.state,context:T.EMPTY},L),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(L.state.ruleIndex)),this.closure_(L,H,X,Z,J,K,$)}return}if(J)return void H.add(L,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(L.state.ruleIndex))}this.closure_(L,H,X,Z,J,K,$)},U.prototype.closure_=function(L,H,X,Z,J,K,$){var W=L.state;W.epsilonOnlyTransitions||H.add(L,this.mergeCache);for(var Y=0;Y<W.transitions.length;Y++)if(Y!=0||!this.canDropLoopEntryEdgeInLeftRecursiveRule(L)){var te=W.transitions[Y],ce=Z&&!(te instanceof G),oe=this.getEpsilonTarget(L,te,ce,K===0,J,$);if(oe!==null){var ue=K;if(L.state instanceof N){if(this._dfa!==null&&this._dfa.precedenceDfa&&te.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(oe.precedenceFilterSuppressed=!0),oe.reachesIntoOuterContext+=1,X.add(oe)!==oe)continue;H.dipsIntoOuterContext=!0,--ue,this.debug&&console.log("dips into outer ctx: "+oe)}else{if(!te.isEpsilon&&X.add(oe)!==oe)continue;te instanceof I&&0<=ue&&(ue+=1)}this.closureCheckingStopState(oe,H,X,ce,J,ue,$)}}},U.prototype.canDropLoopEntryEdgeInLeftRecursiveRule=function(L){var H=L.state;if(H.stateType!=S.STAR_LOOP_ENTRY||H.stateType!=S.STAR_LOOP_ENTRY||!H.isPrecedenceDecision||L.context.isEmpty()||L.context.hasEmptyPath())return!1;for(var X=L.context.length,Z=0;Z<X;Z++)if(($=this.atn.states[L.context.getReturnState(Z)]).ruleIndex!=H.ruleIndex)return!1;for(var J=H.transitions[0].target.endState.stateNumber,K=this.atn.states[J],Z=0;Z<X;Z++){var $,W=L.context.getReturnState(Z);if(($=this.atn.states[W]).transitions.length!=1||!$.transitions[0].isEpsilon)return!1;var Y=$.transitions[0].target;if(($.stateType!=S.BLOCK_END||Y!=H)&&$!=K&&Y!=K&&(Y.stateType!=S.BLOCK_END||Y.transitions.length!=1||!Y.transitions[0].isEpsilon||Y.transitions[0].target!=H))return!1}return!0},U.prototype.getRuleName=function(L){return this.parser!==null&&0<=L?this.parser.ruleNames[L]:"<rule "+L+">"},U.prototype.getEpsilonTarget=function(L,H,X,Z,J,K){switch(H.serializationType){case M.RULE:return this.ruleTransition(L,H);case M.PRECEDENCE:return this.precedenceTransition(L,H,X,Z,J);case M.PREDICATE:return this.predTransition(L,H,X,Z,J);case M.ACTION:return this.actionTransition(L,H);case M.EPSILON:return new D({state:H.target},L);case M.ATOM:case M.RANGE:case M.SET:return K&&H.matches(_.EOF,0,1)?new D({state:H.target},L):null;default:return null}},U.prototype.actionTransition=function(L,H){var X;return this.debug&&(X=H.actionIndex==-1?65535:H.actionIndex,console.log("ACTION edge "+H.ruleIndex+":"+X)),new D({state:H.target},L)},U.prototype.precedenceTransition=function(L,H,X,Z,J){this.debug&&(console.log("PRED (collectPredicates="+X+") "+H.precedence+">=_p, ctx dependent=true"),this.parser!==null&&console.log("context surrounding pred is "+g.arrayToString(this.parser.getRuleInvocationStack())));var K,$,W,Y=null;return X&&Z?J?(K=this._input.index,this._input.seek(this._startIndex),$=H.getPredicate().evaluate(this.parser,this._outerContext),this._input.seek(K),$&&(Y=new D({state:H.target},L))):(W=E.andContext(L.semanticContext,H.getPredicate()),Y=new D({state:H.target,semanticContext:W},L)):Y=new D({state:H.target},L),this.debug&&console.log("config from pred transition="+Y),Y},U.prototype.predTransition=function(L,H,X,Z,J){this.debug&&(console.log("PRED (collectPredicates="+X+") "+H.ruleIndex+":"+H.predIndex+", ctx dependent="+H.isCtxDependent),this.parser!==null&&console.log("context surrounding pred is "+g.arrayToString(this.parser.getRuleInvocationStack())));var K,$,W,Y=null;return X&&(H.isCtxDependent&&Z||!H.isCtxDependent)?J?(K=this._input.index,this._input.seek(this._startIndex),$=H.getPredicate().evaluate(this.parser,this._outerContext),this._input.seek(K),$&&(Y=new D({state:H.target},L))):(W=E.andContext(L.semanticContext,H.getPredicate()),Y=new D({state:H.target,semanticContext:W},L)):Y=new D({state:H.target},L),this.debug&&console.log("config from pred transition="+Y),Y},U.prototype.ruleTransition=function(L,H){this.debug&&console.log("CALL rule "+this.getRuleName(H.target.ruleIndex)+", ctx="+L.context);var X=H.followState,Z=V.create(L.context,X.stateNumber);return new D({state:H.target,context:Z},L)},U.prototype.getConflictingAlts=function(L){var H=y.getConflictingAltSubsets(L);return y.getAlts(H)},U.prototype.getConflictingAltsOrUniqueAlt=function(L){var H=null;return L.uniqueAlt!==x.INVALID_ALT_NUMBER?(H=new m).add(L.uniqueAlt):H=L.conflictingAlts,H},U.prototype.getTokenName=function(L){if(L===_.EOF)return"EOF";if(this.parser!==null&&this.parser.literalNames!==null){if(!(L>=this.parser.literalNames.length&&L>=this.parser.symbolicNames.length))return(this.parser.literalNames[L]||this.parser.symbolicNames[L])+"<"+L+">";console.log(L+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+L},U.prototype.getLookaheadName=function(L){return this.getTokenName(L.LA(1))},U.prototype.dumpDeadEndConfigs=function(L){console.log("dead end configs: ");for(var H=L.getDeadEndConfigs(),X=0;X<H.length;X++){var Z,J=H[X],K="no edges";0<J.state.transitions.length&&((Z=J.state.transitions[0])instanceof AtomTransition?K="Atom "+this.getTokenName(Z.label):Z instanceof F&&(K=(Z instanceof B?"~":"")+"Set "+Z.set)),console.error(J.toString(this.parser,!0)+":"+K)}},U.prototype.noViableAlt=function(L,H,X,Z){return new k(this.parser,L,L.get(Z),L.LT(1),X,H)},U.prototype.getUniqueAlt=function(L){for(var H=x.INVALID_ALT_NUMBER,X=0;X<L.items.length;X++){var Z=L.items[X];if(H===x.INVALID_ALT_NUMBER)H=Z.alt;else if(Z.alt!==H)return x.INVALID_ALT_NUMBER}return H},U.prototype.addDFAEdge=function(L,H,X,Z){return this.debug&&console.log("EDGE "+H+" -> "+Z+" upon "+this.getTokenName(X)),Z===null?null:(Z=this.addDFAState(L,Z),H===null||X<-1||X>this.atn.maxTokenType||(H.edges===null&&(H.edges=[]),H.edges[X+1]=Z,this.debug&&(J=this.parser===null?null:this.parser.literalNames,K=this.parser===null?null:this.parser.symbolicNames,console.log(`DFA=
`+L.toString(J,K)))),Z);var J,K},U.prototype.addDFAState=function(L,H){if(H==b.ERROR)return H;var X=L.states.get(H);return X!==null?X:(H.stateNumber=L.states.length,H.configs.readOnly||(H.configs.optimizeConfigs(this),H.configs.setReadonly(!0)),L.states.add(H),this.debug&&console.log("adding new DFA state: "+H),H)},U.prototype.reportAttemptingFullContext=function(L,H,X,Z,J){var K;(this.debug||this.retry_debug)&&(K=new O(Z,J+1),console.log("reportAttemptingFullContext decision="+L.decision+":"+X+", input="+this.parser.getTokenStream().getText(K))),this.parser!==null&&this.parser.getErrorListenerDispatch().reportAttemptingFullContext(this.parser,L,Z,J,H,X)},U.prototype.reportContextSensitivity=function(L,H,X,Z,J){var K;(this.debug||this.retry_debug)&&(K=new O(Z,J+1),console.log("reportContextSensitivity decision="+L.decision+":"+X+", input="+this.parser.getTokenStream().getText(K))),this.parser!==null&&this.parser.getErrorListenerDispatch().reportContextSensitivity(this.parser,L,Z,J,H,X)},U.prototype.reportAmbiguity=function(L,H,X,Z,J,K,$){var W;(this.debug||this.retry_debug)&&(W=new O(X,Z+1),console.log("reportAmbiguity "+K+":"+$+", input="+this.parser.getTokenStream().getText(W))),this.parser!==null&&this.parser.getErrorListenerDispatch().reportAmbiguity(this.parser,L,X,Z,J,K,$)},r.ParserATNSimulator=U},{"./../IntervalSet":12,"./../ParserRuleContext":16,"./../PredictionContext":17,"./../RuleContext":19,"./../Token":20,"./../Utils":21,"./../dfa/DFAState":40,"./../error/Errors":45,"./ATN":22,"./ATNConfig":23,"./ATNConfigSet":24,"./ATNSimulator":27,"./ATNState":28,"./PredictionMode":34,"./SemanticContext":35,"./Transition":36}],34:[function(n,a,r){n("./../Utils").Set;var g=n("./../Utils").Map,f=n("./../Utils").BitSet,m=n("./../Utils").AltDict,l=n("./ATN").ATN,x=n("./ATNState").RuleStopState,S=n("./ATNConfigSet").ATNConfigSet,D=n("./ATNConfig").ATNConfig,h=n("./SemanticContext").SemanticContext,_=(n("../Utils").Hash,n("./../Utils").hashStuff);n("./../Utils").equalArrays;function o(){return this}o.SLL=0,o.LL=1,o.LL_EXACT_AMBIG_DETECTION=2,o.hasSLLConflictTerminatingPrediction=function(p,b){if(o.allConfigsInRuleStopStates(b))return!0;if(p===o.SLL&&b.hasSemanticContext){for(var y=new S,A=0;A<b.items.length;A++){var E=b.items[A],E=new D({semanticContext:h.NONE},E);y.add(E)}b=y}var N=o.getConflictingAltSubsets(b);return o.hasConflictingAltSet(N)&&!o.hasStateAssociatedWithOneAlt(b)},o.hasConfigInRuleStopState=function(p){for(var b=0;b<p.items.length;b++)if(p.items[b].state instanceof x)return!0;return!1},o.allConfigsInRuleStopStates=function(p){for(var b=0;b<p.items.length;b++)if(!(p.items[b].state instanceof x))return!1;return!0},o.resolvesToJustOneViableAlt=function(p){return o.getSingleViableAlt(p)},o.allSubsetsConflict=function(p){return!o.hasNonConflictingAltSet(p)},o.hasNonConflictingAltSet=function(p){for(var b=0;b<p.length;b++)if(p[b].length===1)return!0;return!1},o.hasConflictingAltSet=function(p){for(var b=0;b<p.length;b++)if(1<p[b].length)return!0;return!1},o.allSubsetsEqual=function(p){for(var b=null,y=0;y<p.length;y++){var A=p[y];if(b===null)b=A;else if(A!==b)return!1}return!0},o.getUniqueAlt=function(p){var b=o.getAlts(p);return b.length===1?b.minValue():l.INVALID_ALT_NUMBER},o.getAlts=function(p){var b=new f;return p.map(function(y){b.or(y)}),b},o.getConflictingAltSubsets=function(p){var b=new g;return b.hashFunction=function(y){_(y.state.stateNumber,y.context)},b.equalsFunction=function(y,A){return y.state.stateNumber==A.state.stateNumber&&y.context.equals(A.context)},p.items.map(function(y){var A=b.get(y);A===null&&(A=new f,b.put(y,A)),A.add(y.alt)}),b.getValues()},o.getStateToAltMap=function(p){var b=new m;return p.items.map(function(y){var A=b.get(y.state);A===null&&(A=new f,b.put(y.state,A)),A.add(y.alt)}),b},o.hasStateAssociatedWithOneAlt=function(p){for(var b=o.getStateToAltMap(p).values(),y=0;y<b.length;y++)if(b[y].length===1)return!0;return!1},o.getSingleViableAlt=function(p){for(var b=null,y=0;y<p.length;y++){var A=p[y].minValue();if(b===null)b=A;else if(b!==A)return l.INVALID_ALT_NUMBER}return b},r.PredictionMode=o},{"../Utils":21,"./../Utils":21,"./ATN":22,"./ATNConfig":23,"./ATNConfigSet":24,"./ATNState":28,"./SemanticContext":35}],35:[function(n,a,r){var g=n("./../Utils").Set,f=n("./../Utils").Hash;function m(){return this}function l(h,_,o){return m.call(this),this.ruleIndex=h===void 0?-1:h,this.predIndex=_===void 0?-1:_,this.isCtxDependent=o!==void 0&&o,this}function x(h){m.call(this),this.precedence=h===void 0?0:h}function S(h,_){m.call(this);var o=new g;h instanceof S?h.opnds.map(function(y){o.add(y)}):o.add(h),_ instanceof S?_.opnds.map(function(y){o.add(y)}):o.add(_);var p,b=x.filterPrecedencePredicates(o);return 0<b.length&&(p=null,b.map(function(y){(p===null||y.precedence<p.precedence)&&(p=y)}),o.add(p)),this.opnds=o.values(),this}function D(h,_){m.call(this);var o=new g;h instanceof D?h.opnds.map(function(A){o.add(A)}):o.add(h),_ instanceof D?_.opnds.map(function(A){o.add(A)}):o.add(_);var p,b,y=x.filterPrecedencePredicates(o);return 0<y.length&&(b=(p=y.sort(function(A,E){return A.compareTo(E)}))[p.length-1],o.add(b)),this.opnds=o.values(),this}m.prototype.hashCode=function(){var h=new f;return this.updateHashCode(h),h.finish()},m.prototype.evaluate=function(h,_){},m.prototype.evalPrecedence=function(h,_){return this},m.andContext=function(h,_){if(h===null||h===m.NONE)return _;if(_===null||_===m.NONE)return h;var o=new S(h,_);return o.opnds.length===1?o.opnds[0]:o},m.orContext=function(h,_){if(h===null)return _;if(_===null)return h;if(h===m.NONE||_===m.NONE)return m.NONE;var o=new D(h,_);return o.opnds.length===1?o.opnds[0]:o},l.prototype=Object.create(m.prototype),m.NONE=new(l.prototype.constructor=l),l.prototype.evaluate=function(h,_){var o=this.isCtxDependent?_:null;return h.sempred(o,this.ruleIndex,this.predIndex)},l.prototype.updateHashCode=function(h){h.update(this.ruleIndex,this.predIndex,this.isCtxDependent)},l.prototype.equals=function(h){return this===h||h instanceof l&&this.ruleIndex===h.ruleIndex&&this.predIndex===h.predIndex&&this.isCtxDependent===h.isCtxDependent},l.prototype.toString=function(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"},((x.prototype=Object.create(m.prototype)).constructor=x).prototype.evaluate=function(h,_){return h.precpred(_,this.precedence)},x.prototype.evalPrecedence=function(h,_){return h.precpred(_,this.precedence)?m.NONE:null},x.prototype.compareTo=function(h){return this.precedence-h.precedence},x.prototype.updateHashCode=function(h){h.update(31)},x.prototype.equals=function(h){return this===h||h instanceof x&&this.precedence===h.precedence},x.prototype.toString=function(){return"{"+this.precedence+">=prec}?"},x.filterPrecedencePredicates=function(h){var _=[];return h.values().map(function(o){o instanceof x&&_.push(o)}),_},((S.prototype=Object.create(m.prototype)).constructor=S).prototype.equals=function(h){return this===h||h instanceof S&&this.opnds===h.opnds},S.prototype.updateHashCode=function(h){h.update(this.opnds,"AND")},S.prototype.evaluate=function(h,_){for(var o=0;o<this.opnds.length;o++)if(!this.opnds[o].evaluate(h,_))return!1;return!0},S.prototype.evalPrecedence=function(h,_){for(var o=!1,p=[],b=0;b<this.opnds.length;b++){var y=this.opnds[b],A=y.evalPrecedence(h,_);if(o|=A!==y,A===null)return null;A!==m.NONE&&p.push(A)}if(!o)return this;if(p.length===0)return m.NONE;var E=null;return p.map(function(N){E=E===null?N:m.andContext(E,N)}),E},S.prototype.toString=function(){var h="";return this.opnds.map(function(_){h+="&& "+_.toString()}),3<h.length?h.slice(3):h},((D.prototype=Object.create(m.prototype)).constructor=D).prototype.constructor=function(h){return this===h||h instanceof D&&this.opnds===h.opnds},D.prototype.updateHashCode=function(h){h.update(this.opnds,"OR")},D.prototype.evaluate=function(h,_){for(var o=0;o<this.opnds.length;o++)if(this.opnds[o].evaluate(h,_))return!0;return!1},D.prototype.evalPrecedence=function(h,_){for(var o=!1,p=[],b=0;b<this.opnds.length;b++){var y=this.opnds[b],A=y.evalPrecedence(h,_);if(o|=A!==y,A===m.NONE)return m.NONE;A!==null&&p.push(A)}if(!o)return this;if(p.length===0)return null;var E=null;return p.map(function(N){return N}),E},D.prototype.toString=function(){var h="";return this.opnds.map(function(_){h+="|| "+_.toString()}),3<h.length?h.slice(3):h},r.SemanticContext=m,r.PrecedencePredicate=x,r.Predicate=l},{"./../Utils":21}],36:[function(n,a,r){var g=n("./../Token").Token,f=(n("./../IntervalSet").Interval,n("./../IntervalSet").IntervalSet),m=n("./SemanticContext").Predicate,l=n("./SemanticContext").PrecedencePredicate;function x(T){if(T==null)throw"target cannot be null.";return this.target=T,this.isEpsilon=!1,this.label=null,this}function S(T,O){return x.call(this,T),this.label_=O,this.label=this.makeLabel(),this.serializationType=x.ATOM,this}function D(T,O,j,M){return x.call(this,T),this.ruleIndex=O,this.precedence=j,this.followState=M,this.serializationType=x.RULE,this.isEpsilon=!0,this}function h(T,O){return x.call(this,T),this.serializationType=x.EPSILON,this.isEpsilon=!0,this.outermostPrecedenceReturn=O,this}function _(T,O,j){return x.call(this,T),this.serializationType=x.RANGE,this.start=O,this.stop=j,this.label=this.makeLabel(),this}function o(T){return x.call(this,T),this}function p(T,O,j,M){return o.call(this,T),this.serializationType=x.PREDICATE,this.ruleIndex=O,this.predIndex=j,this.isCtxDependent=M,this.isEpsilon=!0,this}function b(T,O,j,M){return x.call(this,T),this.serializationType=x.ACTION,this.ruleIndex=O,this.actionIndex=j===void 0?-1:j,this.isCtxDependent=M!==void 0&&M,this.isEpsilon=!0,this}function y(T,O){return x.call(this,T),this.serializationType=x.SET,O!=null?this.label=O:(this.label=new f,this.label.addOne(g.INVALID_TYPE)),this}function A(T,O){return y.call(this,T,O),this.serializationType=x.NOT_SET,this}function E(T){return x.call(this,T),this.serializationType=x.WILDCARD,this}function N(T,O){return o.call(this,T),this.serializationType=x.PRECEDENCE,this.precedence=O,this.isEpsilon=!0,this}x.EPSILON=1,x.RANGE=2,x.RULE=3,x.PREDICATE=4,x.ATOM=5,x.ACTION=6,x.SET=7,x.NOT_SET=8,x.WILDCARD=9,x.PRECEDENCE=10,x.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],x.serializationTypes={EpsilonTransition:x.EPSILON,RangeTransition:x.RANGE,RuleTransition:x.RULE,PredicateTransition:x.PREDICATE,AtomTransition:x.ATOM,ActionTransition:x.ACTION,SetTransition:x.SET,NotSetTransition:x.NOT_SET,WildcardTransition:x.WILDCARD,PrecedencePredicateTransition:x.PRECEDENCE},((S.prototype=Object.create(x.prototype)).constructor=S).prototype.makeLabel=function(){var T=new f;return T.addOne(this.label_),T},S.prototype.matches=function(T,O,j){return this.label_===T},S.prototype.toString=function(){return this.label_},((D.prototype=Object.create(x.prototype)).constructor=D).prototype.matches=function(T,O,j){return!1},((h.prototype=Object.create(x.prototype)).constructor=h).prototype.matches=function(T,O,j){return!1},h.prototype.toString=function(){return"epsilon"},((_.prototype=Object.create(x.prototype)).constructor=_).prototype.makeLabel=function(){var T=new f;return T.addRange(this.start,this.stop),T},_.prototype.matches=function(T,O,j){return T>=this.start&&T<=this.stop},_.prototype.toString=function(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"},(o.prototype=Object.create(x.prototype)).constructor=o,((p.prototype=Object.create(o.prototype)).constructor=p).prototype.matches=function(T,O,j){return!1},p.prototype.getPredicate=function(){return new m(this.ruleIndex,this.predIndex,this.isCtxDependent)},p.prototype.toString=function(){return"pred_"+this.ruleIndex+":"+this.predIndex},((b.prototype=Object.create(x.prototype)).constructor=b).prototype.matches=function(T,O,j){return!1},b.prototype.toString=function(){return"action_"+this.ruleIndex+":"+this.actionIndex},((y.prototype=Object.create(x.prototype)).constructor=y).prototype.matches=function(T,O,j){return this.label.contains(T)},y.prototype.toString=function(){return this.label.toString()},((A.prototype=Object.create(y.prototype)).constructor=A).prototype.matches=function(T,O,j){return O<=T&&T<=j&&!y.prototype.matches.call(this,T,O,j)},A.prototype.toString=function(){return"~"+y.prototype.toString.call(this)},((E.prototype=Object.create(x.prototype)).constructor=E).prototype.matches=function(T,O,j){return O<=T&&T<=j},E.prototype.toString=function(){return"."},((N.prototype=Object.create(o.prototype)).constructor=N).prototype.matches=function(T,O,j){return!1},N.prototype.getPredicate=function(){return new l(this.precedence)},N.prototype.toString=function(){return this.precedence+" >= _p"},r.Transition=x,r.AtomTransition=S,r.SetTransition=y,r.NotSetTransition=A,r.RuleTransition=D,r.ActionTransition=b,r.EpsilonTransition=h,r.RangeTransition=_,r.WildcardTransition=E,r.PredicateTransition=p,r.PrecedencePredicateTransition=N,r.AbstractPredicateTransition=o},{"./../IntervalSet":12,"./../Token":20,"./SemanticContext":35}],37:[function(n,a,r){r.ATN=n("./ATN").ATN,r.ATNDeserializer=n("./ATNDeserializer").ATNDeserializer,r.LexerATNSimulator=n("./LexerATNSimulator").LexerATNSimulator,r.ParserATNSimulator=n("./ParserATNSimulator").ParserATNSimulator,r.PredictionMode=n("./PredictionMode").PredictionMode},{"./ATN":22,"./ATNDeserializer":26,"./LexerATNSimulator":30,"./ParserATNSimulator":33,"./PredictionMode":34}],38:[function(n,a,r){var g=n("../Utils").Set,f=n("./DFAState").DFAState,m=n("../atn/ATNState").StarLoopEntryState,l=n("./../atn/ATNConfigSet").ATNConfigSet,x=n("./DFASerializer").DFASerializer,S=n("./DFASerializer").LexerDFASerializer;function D(h,_){var o;return _===void 0&&(_=0),this.atnStartState=h,this.decision=_,this._states=new g,this.s0=null,this.precedenceDfa=!1,h instanceof m&&h.isPrecedenceDecision&&(this.precedenceDfa=!0,(o=new f(null,new l)).edges=[],o.isAcceptState=!1,o.requiresFullContext=!1,this.s0=o),this}D.prototype.getPrecedenceStartState=function(h){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return!(h<0||h>=this.s0.edges.length)&&this.s0.edges[h]||null},D.prototype.setPrecedenceStartState=function(h,_){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";h<0||(this.s0.edges[h]=_)},D.prototype.setPrecedenceDfa=function(h){var _;this.precedenceDfa!==h&&(this._states=new DFAStatesSet,h?((_=new f(null,new l)).edges=[],_.isAcceptState=!1,_.requiresFullContext=!1,this.s0=_):this.s0=null,this.precedenceDfa=h)},Object.defineProperty(D.prototype,"states",{get:function(){return this._states}}),D.prototype.sortedStates=function(){return this._states.values().sort(function(h,_){return h.stateNumber-_.stateNumber})},D.prototype.toString=function(h,_){return h=h||null,_=_||null,this.s0===null?"":new x(this,h,_).toString()},D.prototype.toLexerString=function(){return this.s0===null?"":new S(this).toString()},r.DFA=D},{"../Utils":21,"../atn/ATNState":28,"./../atn/ATNConfigSet":24,"./DFASerializer":39,"./DFAState":40}],39:[function(n,a,r){function g(m,l,x){return this.dfa=m,this.literalNames=l||[],this.symbolicNames=x||[],this}function f(m){return g.call(this,m,null),this}g.prototype.toString=function(){if(this.dfa.s0===null)return null;for(var m="",l=this.dfa.sortedStates(),x=0;x<l.length;x++){var S=l[x];if(S.edges!==null)for(var D=S.edges.length,h=0;h<D;h++){var _=S.edges[h]||null;_!==null&&_.stateNumber!==2147483647&&(m=(m=(m=(m=(m=(m=m.concat(this.getStateString(S))).concat("-")).concat(this.getEdgeLabel(h))).concat("->")).concat(this.getStateString(_))).concat(`
`))}}return m.length===0?null:m},g.prototype.getEdgeLabel=function(m){return m===0?"EOF":this.literalNames!==null||this.symbolicNames!==null?this.literalNames[m-1]||this.symbolicNames[m-1]:String.fromCharCode(m-1)},g.prototype.getStateString=function(m){var l=(m.isAcceptState?":":"")+"s"+m.stateNumber+(m.requiresFullContext?"^":"");return m.isAcceptState?m.predicates!==null?l+"=>"+m.predicates.toString():l+"=>"+m.prediction.toString():l},((f.prototype=Object.create(g.prototype)).constructor=f).prototype.getEdgeLabel=function(m){return"'"+String.fromCharCode(m)+"'"},r.DFASerializer=g,r.LexerDFASerializer=f},{}],40:[function(n,a,r){var g=n("./../atn/ATNConfigSet").ATNConfigSet,f=n("./../Utils"),m=f.Hash,l=f.Set;function x(D,h){return this.alt=h,this.pred=D,this}function S(D,h){return D===null&&(D=-1),h===null&&(h=new g),this.stateNumber=D,this.configs=h,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}x.prototype.toString=function(){return"("+this.pred+", "+this.alt+")"},S.prototype.getAltSet=function(){var D=new l;if(this.configs!==null)for(var h=0;h<this.configs.length;h++){var _=this.configs[h];D.add(_.alt)}return D.length===0?null:D},S.prototype.equals=function(D){return this===D||D instanceof S&&this.configs.equals(D.configs)},S.prototype.toString=function(){var D=this.stateNumber+":"+this.configs;return this.isAcceptState&&(D+="=>",this.predicates!==null?D+=this.predicates:D+=this.prediction),D},S.prototype.hashCode=function(){var D=new m;return D.update(this.configs),this.isAcceptState&&(this.predicates!==null?D.update(this.predicates):D.update(this.prediction)),D.finish()},r.DFAState=S,r.PredPrediction=x},{"./../Utils":21,"./../atn/ATNConfigSet":24}],41:[function(n,a,r){r.DFA=n("./DFA").DFA,r.DFASerializer=n("./DFASerializer").DFASerializer,r.LexerDFASerializer=n("./DFASerializer").LexerDFASerializer,r.PredPrediction=n("./DFAState").PredPrediction},{"./DFA":38,"./DFASerializer":39,"./DFAState":40}],42:[function(n,a,r){var g=n("./../Utils").BitSet,f=n("./ErrorListener").ErrorListener,m=n("./../IntervalSet").Interval;function l(x){return f.call(this),x=x||!0,this.exactOnly=x,this}((l.prototype=Object.create(f.prototype)).constructor=l).prototype.reportAmbiguity=function(x,S,D,h,_,o,p){var b;this.exactOnly&&!_||(b="reportAmbiguity d="+this.getDecisionDescription(x,S)+": ambigAlts="+this.getConflictingAlts(o,p)+", input='"+x.getTokenStream().getText(new m(D,h))+"'",x.notifyErrorListeners(b))},l.prototype.reportAttemptingFullContext=function(x,S,D,h,_,o){var p="reportAttemptingFullContext d="+this.getDecisionDescription(x,S)+", input='"+x.getTokenStream().getText(new m(D,h))+"'";x.notifyErrorListeners(p)},l.prototype.reportContextSensitivity=function(x,S,D,h,_,o){var p="reportContextSensitivity d="+this.getDecisionDescription(x,S)+", input='"+x.getTokenStream().getText(new m(D,h))+"'";x.notifyErrorListeners(p)},l.prototype.getDecisionDescription=function(x,S){var D=S.decision,h=S.atnStartState.ruleIndex,_=x.ruleNames;if(h<0||h>=_.length)return""+D;var o=_[h]||null;return o===null||o.length===0?""+D:D+" ("+o+")"},l.prototype.getConflictingAlts=function(x,S){if(x!==null)return x;for(var D=new g,h=0;h<S.items.length;h++)D.add(S.items[h].alt);return"{"+D.values().join(", ")+"}"},r.DiagnosticErrorListener=l},{"./../IntervalSet":12,"./../Utils":21,"./ErrorListener":43}],43:[function(n,a,r){function g(){return this}function f(){return g.call(this),this}function m(l){if(g.call(this),l===null)throw"delegates";return this.delegates=l,this}g.prototype.syntaxError=function(l,x,S,D,h,_){},g.prototype.reportAmbiguity=function(l,x,S,D,h,_,o){},g.prototype.reportAttemptingFullContext=function(l,x,S,D,h,_){},g.prototype.reportContextSensitivity=function(l,x,S,D,h,_){},((f.prototype=Object.create(g.prototype)).constructor=f).INSTANCE=new f,f.prototype.syntaxError=function(l,x,S,D,h,_){console.error("line "+S+":"+D+" "+h)},((m.prototype=Object.create(g.prototype)).constructor=m).prototype.syntaxError=function(l,x,S,D,h,_){this.delegates.map(function(o){o.syntaxError(l,x,S,D,h,_)})},m.prototype.reportAmbiguity=function(l,x,S,D,h,_,o){this.delegates.map(function(p){p.reportAmbiguity(l,x,S,D,h,_,o)})},m.prototype.reportAttemptingFullContext=function(l,x,S,D,h,_){this.delegates.map(function(o){o.reportAttemptingFullContext(l,x,S,D,h,_)})},m.prototype.reportContextSensitivity=function(l,x,S,D,h,_){this.delegates.map(function(o){o.reportContextSensitivity(l,x,S,D,h,_)})},r.ErrorListener=g,r.ConsoleErrorListener=f,r.ProxyErrorListener=m},{}],44:[function(n,a,r){var g=n("./../Token").Token,f=n("./Errors"),m=f.NoViableAltException,l=f.InputMismatchException,x=f.FailedPredicateException,S=f.ParseCancellationException,D=n("./../atn/ATNState").ATNState,h=n("./../IntervalSet").Interval,_=n("./../IntervalSet").IntervalSet;function o(){}function p(){return o.call(this),this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.lastErrorStates=null,this}function b(){return p.call(this),this}o.prototype.reset=function(y){},o.prototype.recoverInline=function(y){},o.prototype.recover=function(y,A){},o.prototype.sync=function(y){},o.prototype.inErrorRecoveryMode=function(y){},o.prototype.reportError=function(y){},((p.prototype=Object.create(o.prototype)).constructor=p).prototype.reset=function(y){this.endErrorCondition(y)},p.prototype.beginErrorCondition=function(y){this.errorRecoveryMode=!0},p.prototype.inErrorRecoveryMode=function(y){return this.errorRecoveryMode},p.prototype.endErrorCondition=function(y){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1},p.prototype.reportMatch=function(y){this.endErrorCondition(y)},p.prototype.reportError=function(y,A){this.inErrorRecoveryMode(y)||(this.beginErrorCondition(y),A instanceof m?this.reportNoViableAlternative(y,A):A instanceof l?this.reportInputMismatch(y,A):A instanceof x?this.reportFailedPredicate(y,A):(console.log("unknown recognition error type: "+A.constructor.name),console.log(A.stack),y.notifyErrorListeners(A.getOffendingToken(),A.getMessage(),A)))},p.prototype.recover=function(y,A){this.lastErrorIndex===y.getInputStream().index&&this.lastErrorStates!==null&&0<=this.lastErrorStates.indexOf(y.state)&&y.consume(),this.lastErrorIndex=y._input.index,this.lastErrorStates===null&&(this.lastErrorStates=[]),this.lastErrorStates.push(y.state);var E=this.getErrorRecoverySet(y);this.consumeUntil(y,E)},p.prototype.sync=function(y){if(!this.inErrorRecoveryMode(y)){var A=y._interp.atn.states[y.state],E=y.getTokenStream().LA(1),N=y.atn.nextTokens(A);if(!N.contains(g.EPSILON)&&!N.contains(E))switch(A.stateType){case D.BLOCK_START:case D.STAR_BLOCK_START:case D.PLUS_BLOCK_START:case D.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(y)!==null)return;throw new l(y);case D.PLUS_LOOP_BACK:case D.STAR_LOOP_BACK:this.reportUnwantedToken(y);var T=new _;T.addSet(y.getExpectedTokens());var O=T.addSet(this.getErrorRecoverySet(y));this.consumeUntil(y,O)}}},p.prototype.reportNoViableAlternative=function(y,A){var E=y.getTokenStream(),N=E!==null?A.startToken.type===g.EOF?"<EOF>":E.getText(new h(A.startToken.tokenIndex,A.offendingToken.tokenIndex)):"<unknown input>",T="no viable alternative at input "+this.escapeWSAndQuote(N);y.notifyErrorListeners(T,A.offendingToken,A)},p.prototype.reportInputMismatch=function(y,A){var E="mismatched input "+this.getTokenErrorDisplay(A.offendingToken)+" expecting "+A.getExpectedTokens().toString(y.literalNames,y.symbolicNames);y.notifyErrorListeners(E,A.offendingToken,A)},p.prototype.reportFailedPredicate=function(y,A){var E="rule "+y.ruleNames[y._ctx.ruleIndex]+" "+A.message;y.notifyErrorListeners(E,A.offendingToken,A)},p.prototype.reportUnwantedToken=function(y){var A,E;this.inErrorRecoveryMode(y)||(this.beginErrorCondition(y),A=y.getCurrentToken(),E="extraneous input "+this.getTokenErrorDisplay(A)+" expecting "+this.getExpectedTokens(y).toString(y.literalNames,y.symbolicNames),y.notifyErrorListeners(E,A,null))},p.prototype.reportMissingToken=function(y){var A,E;this.inErrorRecoveryMode(y)||(this.beginErrorCondition(y),A=y.getCurrentToken(),E="missing "+this.getExpectedTokens(y).toString(y.literalNames,y.symbolicNames)+" at "+this.getTokenErrorDisplay(A),y.notifyErrorListeners(E,A,null))},p.prototype.recoverInline=function(y){var A=this.singleTokenDeletion(y);if(A!==null)return y.consume(),A;if(this.singleTokenInsertion(y))return this.getMissingSymbol(y);throw new l(y)},p.prototype.singleTokenInsertion=function(y){var A=y.getTokenStream().LA(1),E=y._interp.atn,N=E.states[y.state].transitions[0].target;return!!E.nextTokens(N,y._ctx).contains(A)&&(this.reportMissingToken(y),!0)},p.prototype.singleTokenDeletion=function(y){var A=y.getTokenStream().LA(2);if(this.getExpectedTokens(y).contains(A)){this.reportUnwantedToken(y),y.consume();var E=y.getCurrentToken();return this.reportMatch(y),E}return null},p.prototype.getMissingSymbol=function(y){var A=y.getCurrentToken(),E=this.getExpectedTokens(y).first(),N=E===g.EOF?"<missing EOF>":"<missing "+y.literalNames[E]+">",T=A,O=y.getTokenStream().LT(-1);return T.type===g.EOF&&O!==null&&(T=O),y.getTokenFactory().create(T.source,E,N,g.DEFAULT_CHANNEL,-1,-1,T.line,T.column)},p.prototype.getExpectedTokens=function(y){return y.getExpectedTokens()},p.prototype.getTokenErrorDisplay=function(y){if(y===null)return"<no token>";var A=y.text;return A===null&&(A=y.type===g.EOF?"<EOF>":"<"+y.type+">"),this.escapeWSAndQuote(A)},p.prototype.escapeWSAndQuote=function(y){return"'"+(y=(y=(y=y.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"},p.prototype.getErrorRecoverySet=function(y){for(var A=y._interp.atn,E=y._ctx,N=new _;E!==null&&0<=E.invokingState;){var T=A.states[E.invokingState].transitions[0],O=A.nextTokens(T.followState);N.addSet(O),E=E.parentCtx}return N.removeOne(g.EPSILON),N},p.prototype.consumeUntil=function(y,A){for(var E=y.getTokenStream().LA(1);E!==g.EOF&&!A.contains(E);)y.consume(),E=y.getTokenStream().LA(1)},((b.prototype=Object.create(p.prototype)).constructor=b).prototype.recover=function(y,A){for(var E=y._ctx;E!==null;)E.exception=A,E=E.parentCtx;throw new S(A)},b.prototype.recoverInline=function(y){this.recover(y,new l(y))},b.prototype.sync=function(y){},r.BailErrorStrategy=b,r.DefaultErrorStrategy=p},{"./../IntervalSet":12,"./../Token":20,"./../atn/ATNState":28,"./Errors":45}],45:[function(n,a,r){var g=n("./../atn/Transition").PredicateTransition;function f(h){return Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,f):new Error().stack,this.message=h.message,this.recognizer=h.recognizer,this.input=h.input,this.ctx=h.ctx,this.offendingToken=null,this.offendingState=-1,this.recognizer!==null&&(this.offendingState=this.recognizer.state),this}function m(h,_,o,p){return f.call(this,{message:"",recognizer:h,input:_,ctx:null}),this.startIndex=o,this.deadEndConfigs=p,this}function l(h,_,o,p,b,y){y=y||h._ctx,p=p||h.getCurrentToken(),o=o||h.getCurrentToken(),_=_||h.getInputStream(),f.call(this,{message:"",recognizer:h,input:_,ctx:y}),this.deadEndConfigs=b,this.startToken=o,this.offendingToken=p}function x(h){f.call(this,{message:"",recognizer:h,input:h.getInputStream(),ctx:h._ctx}),this.offendingToken=h.getCurrentToken()}function S(h,_,o){f.call(this,{message:this.formatMessage(_,o||null),recognizer:h,input:h.getInputStream(),ctx:h._ctx});var p=h._interp.atn.states[h.state].transitions[0];return p instanceof g?(this.ruleIndex=p.ruleIndex,this.predicateIndex=p.predIndex):(this.ruleIndex=0,this.predicateIndex=0),this.predicate=_,this.offendingToken=h.getCurrentToken(),this}function D(){return Error.call(this),Error.captureStackTrace(this,D),this}((f.prototype=Object.create(Error.prototype)).constructor=f).prototype.getExpectedTokens=function(){return this.recognizer!==null?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null},f.prototype.toString=function(){return this.message},((m.prototype=Object.create(f.prototype)).constructor=m).prototype.toString=function(){var h="";return 0<=this.startIndex&&this.startIndex<this.input.size&&(h=this.input.getText((this.startIndex,this.startIndex))),"LexerNoViableAltException"+h},(l.prototype=Object.create(f.prototype)).constructor=l,(x.prototype=Object.create(f.prototype)).constructor=x,((S.prototype=Object.create(f.prototype)).constructor=S).prototype.formatMessage=function(h,_){return _!==null?_:"failed predicate: {"+h+"}?"},(D.prototype=Object.create(Error.prototype)).constructor=D,r.RecognitionException=f,r.NoViableAltException=l,r.LexerNoViableAltException=m,r.InputMismatchException=x,r.FailedPredicateException=S,r.ParseCancellationException=D},{"./../atn/Transition":36}],46:[function(n,a,r){r.RecognitionException=n("./Errors").RecognitionException,r.NoViableAltException=n("./Errors").NoViableAltException,r.LexerNoViableAltException=n("./Errors").LexerNoViableAltException,r.InputMismatchException=n("./Errors").InputMismatchException,r.FailedPredicateException=n("./Errors").FailedPredicateException,r.DiagnosticErrorListener=n("./DiagnosticErrorListener").DiagnosticErrorListener,r.BailErrorStrategy=n("./ErrorStrategy").BailErrorStrategy,r.ErrorListener=n("./ErrorListener").ErrorListener},{"./DiagnosticErrorListener":42,"./ErrorListener":43,"./ErrorStrategy":44,"./Errors":45}],47:[function(n,a,r){r.atn=n("./atn/index"),r.codepointat=n("./polyfills/codepointat"),r.dfa=n("./dfa/index"),r.fromcodepoint=n("./polyfills/fromcodepoint"),r.tree=n("./tree/index"),r.error=n("./error/index"),r.Token=n("./Token").Token,r.CharStreams=n("./CharStreams").CharStreams,r.CommonToken=n("./Token").CommonToken,r.InputStream=n("./InputStream").InputStream,r.FileStream=n("./FileStream").FileStream,r.CommonTokenStream=n("./CommonTokenStream").CommonTokenStream,r.Lexer=n("./Lexer").Lexer,r.Parser=n("./Parser").Parser;var g=n("./PredictionContext");r.PredictionContextCache=g.PredictionContextCache,r.ParserRuleContext=n("./ParserRuleContext").ParserRuleContext,r.Interval=n("./IntervalSet").Interval,r.Utils=n("./Utils")},{"./CharStreams":7,"./CommonTokenStream":9,"./FileStream":10,"./InputStream":11,"./IntervalSet":12,"./Lexer":14,"./Parser":15,"./ParserRuleContext":16,"./PredictionContext":17,"./Token":20,"./Utils":21,"./atn/index":37,"./dfa/index":41,"./error/index":46,"./polyfills/codepointat":48,"./polyfills/fromcodepoint":49,"./tree/index":52}],48:[function(n,a,r){String.prototype.codePointAt||function(){function g(m){if(this==null)throw TypeError();var l=String(this),x=l.length,S=m?Number(m):0;if(S!=S&&(S=0),!(S<0||x<=S)){var D,h=l.charCodeAt(S);return 55296<=h&&h<=56319&&S+1<x&&56320<=(D=l.charCodeAt(S+1))&&D<=57343?1024*(h-55296)+D-56320+65536:h}}var f=function(){try{var m={},l=Object.defineProperty,x=l(m,m,m)&&l}catch{}return x}();f?f(String.prototype,"codePointAt",{value:g,configurable:!0,writable:!0}):String.prototype.codePointAt=g}()},{}],49:[function(n,a,r){function g(x){var S,D,h=[],_=-1,o=arguments.length;if(!o)return"";for(var p="";++_<o;){var b=Number(arguments[_]);if(!isFinite(b)||b<0||1114111<b||l(b)!=b)throw RangeError("Invalid code point: "+b);b<=65535?h.push(b):(S=55296+((b-=65536)>>10),D=b%1024+56320,h.push(S,D)),(_+1==o||16384<h.length)&&(p+=m.apply(null,h),h.length=0)}return p}var f,m,l;String.fromCodePoint||(f=function(){try{var x={},S=Object.defineProperty,D=S(x,x,x)&&S}catch{}return D}(),m=String.fromCharCode,l=Math.floor,f?f(String,"fromCodePoint",{value:g,configurable:!0,writable:!0}):String.fromCodePoint=g)},{}],50:[function(n,a,r){var g=n("./../Token").Token,f=n("./../IntervalSet").Interval,m=new f(-1,-2);n("../Utils.js");function l(){return this}function x(){return l.call(this),this}function S(){return x.call(this),this}function D(){return S.call(this),this}function h(){return S.call(this),this}function _(){return h.call(this),this}function o(){return this}function p(){return this}function b(E){return h.call(this),this.parentCtx=null,this.symbol=E,this}function y(E){return b.call(this,E),this}function A(){return this}(x.prototype=Object.create(l.prototype)).constructor=x,(S.prototype=Object.create(x.prototype)).constructor=S,(D.prototype=Object.create(S.prototype)).constructor=D,(h.prototype=Object.create(S.prototype)).constructor=h,(_.prototype=Object.create(h.prototype)).constructor=_,o.prototype.visit=function(E){return Array.isArray(E)?E.map(function(N){return N.accept(this)},this):E.accept(this)},o.prototype.visitChildren=function(E){return E.children?this.visit(E.children):null},o.prototype.visitTerminal=function(E){},o.prototype.visitErrorNode=function(E){},p.prototype.visitTerminal=function(E){},p.prototype.visitErrorNode=function(E){},p.prototype.enterEveryRule=function(E){},p.prototype.exitEveryRule=function(E){},((b.prototype=Object.create(h.prototype)).constructor=b).prototype.getChild=function(E){return null},b.prototype.getSymbol=function(){return this.symbol},b.prototype.getParent=function(){return this.parentCtx},b.prototype.getPayload=function(){return this.symbol},b.prototype.getSourceInterval=function(){if(this.symbol===null)return m;var E=this.symbol.tokenIndex;return new f(E,E)},b.prototype.getChildCount=function(){return 0},b.prototype.accept=function(E){return E.visitTerminal(this)},b.prototype.getText=function(){return this.symbol.text},b.prototype.toString=function(){return this.symbol.type===g.EOF?"<EOF>":this.symbol.text},((y.prototype=Object.create(b.prototype)).constructor=y).prototype.isErrorNode=function(){return!0},y.prototype.accept=function(E){return E.visitErrorNode(this)},A.prototype.walk=function(E,N){if(N instanceof _||N.isErrorNode!==void 0&&N.isErrorNode())E.visitErrorNode(N);else if(N instanceof h)E.visitTerminal(N);else{this.enterRule(E,N);for(var T=0;T<N.getChildCount();T++){var O=N.getChild(T);this.walk(E,O)}this.exitRule(E,N)}},A.prototype.enterRule=function(E,N){var T=N.getRuleContext();E.enterEveryRule(T),T.enterRule(E)},A.prototype.exitRule=function(E,N){var T=N.getRuleContext();T.exitRule(E),E.exitEveryRule(T)},A.DEFAULT=new A,r.RuleNode=D,r.ErrorNode=_,r.TerminalNode=h,r.ErrorNodeImpl=y,r.TerminalNodeImpl=b,r.ParseTreeListener=p,r.ParseTreeVisitor=o,r.ParseTreeWalker=A,r.INVALID_INTERVAL=m},{"../Utils.js":21,"./../IntervalSet":12,"./../Token":20}],51:[function(n,a,r){var g=n("./../Utils"),f=n("./../Token").Token,m=(n("./Tree").RuleNode,n("./Tree").ErrorNode),l=n("./Tree").TerminalNode,x=n("./../ParserRuleContext").ParserRuleContext,S=n("./../RuleContext").RuleContext,D=n("./../atn/ATN").INVALID_ALT_NUMBER;function h(){}h.toStringTree=function(_,o,p){o=o||null,(p=p||null)!==null&&(o=p.ruleNames);var b=h.getNodeText(_,o),b=g.escapeWhitespace(b,!1),y=_.getChildCount();if(y===0)return b;var A="("+b+" ";0<y&&(b=h.toStringTree(_.getChild(0),o),A=A.concat(b));for(var E=1;E<y;E++)b=h.toStringTree(_.getChild(E),o),A=A.concat(" "+b);return A=A.concat(")")},h.getNodeText=function(_,o,p){if(o=o||null,(p=p||null)!==null&&(o=p.ruleNames),o!==null){if(_ instanceof S){var b=_.getAltNumber();return b!=D?o[_.ruleIndex]+":"+b:o[_.ruleIndex]}if(_ instanceof m)return _.toString();if(_ instanceof l&&_.symbol!==null)return _.symbol.text}var y=_.getPayload();return y instanceof f?y.text:_.getPayload().toString()},h.getChildren=function(_){for(var o=[],p=0;p<_.getChildCount();p++)o.push(_.getChild(p));return o},h.getAncestors=function(_){var o=[];for(_=_.getParent();_!==null;)o=[_].concat(o),_=_.getParent();return o},h.findAllTokenNodes=function(_,o){return h.findAllNodes(_,o,!0)},h.findAllRuleNodes=function(_,o){return h.findAllNodes(_,o,!1)},h.findAllNodes=function(_,o,p){var b=[];return h._findAllNodes(_,o,p,b),b},h._findAllNodes=function(_,o,p,b){p&&_ instanceof l?_.symbol.type===o&&b.push(_):!p&&_ instanceof x&&_.ruleIndex===o&&b.push(_);for(var y=0;y<_.getChildCount();y++)h._findAllNodes(_.getChild(y),o,p,b)},h.descendants=function(_){for(var o=[_],p=0;p<_.getChildCount();p++)o=o.concat(h.descendants(_.getChild(p)));return o},r.Trees=h},{"./../ParserRuleContext":16,"./../RuleContext":19,"./../Token":20,"./../Utils":21,"./../atn/ATN":22,"./Tree":50}],52:[function(n,a,r){var g=n("./Tree");r.Trees=n("./Trees").Trees,r.RuleNode=g.RuleNode,r.ParseTreeListener=g.ParseTreeListener,r.ParseTreeVisitor=g.ParseTreeVisitor,r.ParseTreeWalker=g.ParseTreeWalker},{"./Tree":50,"./Trees":51}],53:[function(n,a,r){},{}],54:[function(n,a,r){(function(g){function f(h){return .5*(Math.exp(h)+Math.exp(-h))}function m(h){return .5*(Math.exp(h)-Math.exp(-h))}function l(){throw SyntaxError("Invalid Param")}function x(h,_){var o=Math.abs(h),p=Math.abs(_);return h===0?Math.log(p):_===0?Math.log(o):o<3e3&&p<3e3?.5*Math.log(h*h+_*_):Math.log(h/Math.cos(Math.atan2(_,h)))}var S=function(h,_){var o={re:0,im:0};if(h==null)o.re=o.im=0;else if(_!==void 0)o.re=h,o.im=_;else switch(typeof h){case"object":if("im"in h&&"re"in h)o.re=h.re,o.im=h.im;else if("abs"in h&&"arg"in h){if(!Number.isFinite(h.abs)&&Number.isFinite(h.arg))return D.INFINITY;o.re=h.abs*Math.cos(h.arg),o.im=h.abs*Math.sin(h.arg)}else if("r"in h&&"phi"in h){if(!Number.isFinite(h.r)&&Number.isFinite(h.phi))return D.INFINITY;o.re=h.r*Math.cos(h.phi),o.im=h.r*Math.sin(h.phi)}else h.length===2?(o.re=h[0],o.im=h[1]):l();break;case"string":o.im=o.re=0;var p=h.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),b=1,y=0;p===null&&l();for(var A=0;A<p.length;A++){var E=p[A];E===" "||E==="	"||E===`
`||(E==="+"?b++:E==="-"?y++:b=y=(E==="i"||E==="I"?(b+y===0&&l(),p[A+1]===" "||isNaN(p[A+1])?o.im+=parseFloat((y%2?"-":"")+"1"):(o.im+=parseFloat((y%2?"-":"")+p[A+1]),A++)):(b+y!==0&&!isNaN(E)||l(),p[A+1]==="i"||p[A+1]==="I"?(o.im+=parseFloat((y%2?"-":"")+E),A++):o.re+=parseFloat((y%2?"-":"")+E)),0))}0<b+y&&l();break;case"number":o.im=0,o.re=h;break;default:l()}return isNaN(o.re)||isNaN(o.im),o};function D(h,_){if(!(this instanceof D))return new D(h,_);var o=S(h,_);this.re=o.re,this.im=o.im}D.prototype={re:0,im:0,sign:function(){var h=this.abs();return new D(this.re/h,this.im/h)},add:function(h,_){var o=new D(h,_);return this.isInfinite()&&o.isInfinite()?D.NAN:this.isInfinite()||o.isInfinite()?D.INFINITY:new D(this.re+o.re,this.im+o.im)},sub:function(h,_){var o=new D(h,_);return this.isInfinite()&&o.isInfinite()?D.NAN:this.isInfinite()||o.isInfinite()?D.INFINITY:new D(this.re-o.re,this.im-o.im)},mul:function(h,_){var o=new D(h,_);return this.isInfinite()&&o.isZero()||this.isZero()&&o.isInfinite()?D.NAN:this.isInfinite()||o.isInfinite()?D.INFINITY:o.im===0&&this.im===0?new D(this.re*o.re,0):new D(this.re*o.re-this.im*o.im,this.re*o.im+this.im*o.re)},div:function(h,_){var o=new D(h,_);if(this.isZero()&&o.isZero()||this.isInfinite()&&o.isInfinite())return D.NAN;if(this.isInfinite()||o.isZero())return D.INFINITY;if(this.isZero()||o.isInfinite())return D.ZERO;h=this.re,_=this.im;var p,b,y=o.re,A=o.im;return A===0?new D(h/y,_/y):Math.abs(y)<Math.abs(A)?new D((h*(b=y/A)+_)/(p=y*b+A),(_*b-h)/p):new D((h+_*(b=A/y))/(p=A*b+y),(_-h*b)/p)},pow:function(h,_){var o=new D(h,_);if(h=this.re,_=this.im,o.isZero())return D.ONE;if(o.im===0){if(_===0&&0<h)return new D(Math.pow(h,o.re),0);if(h===0)switch((o.re%4+4)%4){case 0:return new D(Math.pow(_,o.re),0);case 1:return new D(0,Math.pow(_,o.re));case 2:return new D(-Math.pow(_,o.re),0);case 3:return new D(0,-Math.pow(_,o.re))}}if(h===0&&_===0&&0<o.re&&0<=o.im)return D.ZERO;var p=Math.atan2(_,h),b=x(h,_);return h=Math.exp(o.re*b-o.im*p),_=o.im*b+o.re*p,new D(h*Math.cos(_),h*Math.sin(_))},sqrt:function(){var h,_,o=this.re,p=this.im,b=this.abs();if(0<=o){if(p===0)return new D(Math.sqrt(o),0);h=.5*Math.sqrt(2*(b+o))}else h=Math.abs(p)/Math.sqrt(2*(b-o));return _=o<=0?.5*Math.sqrt(2*(b-o)):Math.abs(p)/Math.sqrt(2*(b+o)),new D(h,p<0?-_:_)},exp:function(){var h=Math.exp(this.re);return this.im,new D(h*Math.cos(this.im),h*Math.sin(this.im))},expm1:function(){var h=this.re,_=this.im;return new D(Math.expm1(h)*Math.cos(_)+function(o){var p=Math.PI/4;if(o<-p||p<o)return Math.cos(o)-1;var b=o*o;return b*(b*(b*(b*(b*(b*(b*(b/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(_),Math.exp(h)*Math.sin(_))},log:function(){var h=this.re,_=this.im;return new D(x(h,_),Math.atan2(_,h))},abs:function(){return h=this.re,_=this.im,o=Math.abs(h),p=Math.abs(_),o<3e3&&p<3e3?Math.sqrt(o*o+p*p):(p=o<p?(o=p,h/_):_/h,o*Math.sqrt(1+p*p));var h,_,o,p},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var h=this.re,_=this.im;return new D(Math.sin(h)*f(_),Math.cos(h)*m(_))},cos:function(){var h=this.re,_=this.im;return new D(Math.cos(h)*f(_),-Math.sin(h)*m(_))},tan:function(){var h=2*this.re,_=2*this.im,o=Math.cos(h)+f(_);return new D(Math.sin(h)/o,m(_)/o)},cot:function(){var h=2*this.re,_=2*this.im,o=Math.cos(h)-f(_);return new D(-Math.sin(h)/o,m(_)/o)},sec:function(){var h=this.re,_=this.im,o=.5*f(2*_)+.5*Math.cos(2*h);return new D(Math.cos(h)*f(_)/o,Math.sin(h)*m(_)/o)},csc:function(){var h=this.re,_=this.im,o=.5*f(2*_)-.5*Math.cos(2*h);return new D(Math.sin(h)*f(_)/o,-Math.cos(h)*m(_)/o)},asin:function(){var h=this.re,_=this.im,o=new D(_*_-h*h+1,-2*h*_).sqrt(),p=new D(o.re-_,o.im+h).log();return new D(p.im,-p.re)},acos:function(){var h=this.re,_=this.im,o=new D(_*_-h*h+1,-2*h*_).sqrt(),p=new D(o.re-_,o.im+h).log();return new D(Math.PI/2-p.im,p.re)},atan:function(){var h=this.re,_=this.im;if(h===0){if(_===1)return new D(0,1/0);if(_===-1)return new D(0,-1/0)}var o=h*h+(1-_)*(1-_),p=new D((1-_*_-h*h)/o,-2*h/o).log();return new D(-.5*p.im,.5*p.re)},acot:function(){var h=this.re,_=this.im;if(_===0)return new D(Math.atan2(1,h),0);var o=h*h+_*_;return o!=0?new D(h/o,-_/o).atan():new D(h!==0?h/0:0,_!==0?-_/0:0).atan()},asec:function(){var h=this.re,_=this.im;if(h===0&&_===0)return new D(0,1/0);var o=h*h+_*_;return o!=0?new D(h/o,-_/o).acos():new D(h!==0?h/0:0,_!==0?-_/0:0).acos()},acsc:function(){var h=this.re,_=this.im;if(h===0&&_===0)return new D(Math.PI/2,1/0);var o=h*h+_*_;return o!=0?new D(h/o,-_/o).asin():new D(h!==0?h/0:0,_!==0?-_/0:0).asin()},sinh:function(){var h=this.re,_=this.im;return new D(m(h)*Math.cos(_),f(h)*Math.sin(_))},cosh:function(){var h=this.re,_=this.im;return new D(f(h)*Math.cos(_),m(h)*Math.sin(_))},tanh:function(){var h=2*this.re,_=2*this.im,o=f(h)+Math.cos(_);return new D(m(h)/o,Math.sin(_)/o)},coth:function(){var h=2*this.re,_=2*this.im,o=f(h)-Math.cos(_);return new D(m(h)/o,-Math.sin(_)/o)},csch:function(){var h=this.re,_=this.im,o=Math.cos(2*_)-f(2*h);return new D(-2*m(h)*Math.cos(_)/o,2*f(h)*Math.sin(_)/o)},sech:function(){var h=this.re,_=this.im,o=Math.cos(2*_)+f(2*h);return new D(2*f(h)*Math.cos(_)/o,-2*m(h)*Math.sin(_)/o)},asinh:function(){var h=this.im;this.im=-this.re,this.re=h;var _=this.asin();return this.re=-this.im,this.im=h,h=_.re,_.re=-_.im,_.im=h,_},acosh:function(){var h,_=this.acos();return _.im<=0?(h=_.re,_.re=-_.im,_.im=h):(h=_.im,_.im=-_.re,_.re=h),_},atanh:function(){var h=this.re,_=this.im,o=1<h&&_===0,p=1-h,b=1+h,y=p*p+_*_,A=y!=0?new D((b*p-_*_)/y,(_*p+b*_)/y):new D(h!==-1?h/0:0,_!==0?_/0:0),E=A.re;return A.re=x(A.re,A.im)/2,A.im=Math.atan2(A.im,E)/2,o&&(A.im=-A.im),A},acoth:function(){var h=this.re,_=this.im;if(h===0&&_===0)return new D(0,Math.PI/2);var o=h*h+_*_;return o!=0?new D(h/o,-_/o).atanh():new D(h!==0?h/0:0,_!==0?-_/0:0).atanh()},acsch:function(){var h=this.re,_=this.im;if(_===0)return new D(h!==0?Math.log(h+Math.sqrt(h*h+1)):1/0,0);var o=h*h+_*_;return o!=0?new D(h/o,-_/o).asinh():new D(h!==0?h/0:0,_!==0?-_/0:0).asinh()},asech:function(){var h=this.re,_=this.im;if(this.isZero())return D.INFINITY;var o=h*h+_*_;return o!=0?new D(h/o,-_/o).acosh():new D(h!==0?h/0:0,_!==0?-_/0:0).acosh()},inverse:function(){if(this.isZero())return D.INFINITY;if(this.isInfinite())return D.ZERO;var h=this.re,_=this.im,o=h*h+_*_;return new D(h/o,-_/o)},conjugate:function(){return new D(this.re,-this.im)},neg:function(){return new D(-this.re,-this.im)},ceil:function(h){return h=Math.pow(10,h||0),new D(Math.ceil(this.re*h)/h,Math.ceil(this.im*h)/h)},floor:function(h){return h=Math.pow(10,h||0),new D(Math.floor(this.re*h)/h,Math.floor(this.im*h)/h)},round:function(h){return h=Math.pow(10,h||0),new D(Math.round(this.re*h)/h,Math.round(this.im*h)/h)},equals:function(h,_){var o=new D(h,_);return Math.abs(o.re-this.re)<=D.EPSILON&&Math.abs(o.im-this.im)<=D.EPSILON},clone:function(){return new D(this.re,this.im)},toString:function(){var h=this.re,_=this.im,o="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(h)<D.EPSILON&&(h=0),Math.abs(_)<D.EPSILON&&(_=0),_===0?o+h:(h!==0?(o+=h,o+=" ",_<0?(_=-_,o+="-"):o+="+",o+=" "):_<0&&(_=-_,o+="-"),_!==1&&(o+=_),o+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},D.ZERO=new D(0,0),D.ONE=new D(1,0),D.I=new D(0,1),D.PI=new D(Math.PI,0),D.E=new D(Math.E,0),D.INFINITY=new D(1/0,1/0),D.NAN=new D(NaN,NaN),D.EPSILON=1e-15,typeof r=="object"?(Object.defineProperty(D,"__esModule",{value:!0}),(D.default=D).Complex=D,a.exports=D):g.Complex=D})(this)},{}],55:[function(n,a,r){(function(g){var f,m,l,x,S=9e15,D=1e9,h="0123456789abcdef",_="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",o="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",p={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-S,maxE:S,crypto:!1},b=!0,y="[DecimalError] ",A=y+"Invalid argument: ",E=y+"Precision limit exceeded",N=y+"crypto unavailable",T="[object Decimal]",O=Math.floor,j=Math.pow,M=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,F=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,B=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,I=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,G=1e7,k=7,V=_.length-1,R=o.length-1,U={toStringTag:T};function L(_e){var je,Ue,Be,He=_e.length-1,ke="",Qe=_e[0];if(0<He){for(ke+=Qe,je=1;je<He;je++)Be=_e[je]+"",(Ue=k-Be.length)&&(ke+=le(Ue)),ke+=Be;Qe=_e[je],(Ue=k-(Be=Qe+"").length)&&(ke+=le(Ue))}else if(Qe===0)return"0";for(;Qe%10==0;)Qe/=10;return ke+Qe}function H(_e,je,Ue){if(_e!==~~_e||_e<je||Ue<_e)throw Error(A+_e)}function X(_e,je,Ue,Be){for(var He,ke,Qe=_e[0];10<=Qe;Qe/=10)--je;return--je<0?(je+=k,He=0):(He=Math.ceil((je+1)/k),je%=k),Qe=j(10,k-je),ke=_e[He]%Qe|0,Be==null?je<3?(je==0?ke=ke/100|0:je==1&&(ke=ke/10|0),Ue<4&&ke==99999||3<Ue&&ke==49999||ke==5e4||ke==0):(Ue<4&&ke+1==Qe||3<Ue&&ke+1==Qe/2)&&(_e[He+1]/Qe/100|0)==j(10,je-2)-1||(ke==Qe/2||ke==0)&&(_e[He+1]/Qe/100|0)==0:je<4?(je==0?ke=ke/1e3|0:je==1?ke=ke/100|0:je==2&&(ke=ke/10|0),(Be||Ue<4)&&ke==9999||!Be&&3<Ue&&ke==4999):((Be||Ue<4)&&ke+1==Qe||!Be&&3<Ue&&ke+1==Qe/2)&&(_e[He+1]/Qe/1e3|0)==j(10,je-3)-1}function Z(_e,je,Ue){for(var Be,He,ke=[0],Qe=0,et=_e.length;Qe<et;){for(He=ke.length;He--;)ke[He]*=je;for(ke[0]+=h.indexOf(_e.charAt(Qe++)),Be=0;Be<ke.length;Be++)ke[Be]>Ue-1&&(ke[Be+1]===void 0&&(ke[Be+1]=0),ke[Be+1]+=ke[Be]/Ue|0,ke[Be]%=Ue)}return ke.reverse()}U.absoluteValue=U.abs=function(){var _e=new this.constructor(this);return _e.s<0&&(_e.s=1),Y(_e)},U.ceil=function(){return Y(new this.constructor(this),this.e+1,2)},U.clampedTo=U.clamp=function(_e,je){var Ue=this,Be=Ue.constructor;if(_e=new Be(_e),je=new Be(je),!_e.s||!je.s)return new Be(NaN);if(_e.gt(je))throw Error(A+je);return Ue.cmp(_e)<0?_e:0<Ue.cmp(je)?je:new Be(Ue)},U.comparedTo=U.cmp=function(_e){var je,Ue,Be,He,ke=this,Qe=ke.d,et=(_e=new ke.constructor(_e)).d,ct=ke.s,st=_e.s;if(!Qe||!et)return ct&&st?ct!==st?ct:Qe===et?0:!Qe^ct<0?1:-1:NaN;if(!Qe[0]||!et[0])return Qe[0]?ct:et[0]?-st:0;if(ct!==st)return ct;if(ke.e!==_e.e)return ke.e>_e.e^ct<0?1:-1;for(je=0,Ue=(Be=Qe.length)<(He=et.length)?Be:He;je<Ue;++je)if(Qe[je]!==et[je])return Qe[je]>et[je]^ct<0?1:-1;return Be===He?0:He<Be^ct<0?1:-1},U.cosine=U.cos=function(){var _e,je,Ue=this,Be=Ue.constructor;return Ue.d?Ue.d[0]?(_e=Be.precision,je=Be.rounding,Be.precision=_e+Math.max(Ue.e,Ue.sd())+k,Be.rounding=1,Ue=function(He,ke){var Qe,et,ct;if(ke.isZero())return ke;ct=(et=ke.d.length)<32?(Qe=Math.ceil(et/3),(1/xe(4,Qe)).toString()):(Qe=16,"2.3283064365386962890625e-10"),He.precision+=Qe,ke=de(He,1,ke.times(ct),new He(1));for(var st=Qe;st--;){var at=ke.times(ke);ke=at.times(at).minus(at).times(8).plus(1)}return He.precision-=Qe,ke}(Be,Pe(Be,Ue)),Be.precision=_e,Be.rounding=je,Y(x==2||x==3?Ue.neg():Ue,_e,je,!0)):new Be(1):new Be(NaN)},U.cubeRoot=U.cbrt=function(){var _e,je,Ue,Be,He,ke,Qe,et,ct,st,at=this,St=at.constructor;if(!at.isFinite()||at.isZero())return new St(at);for(b=!1,(ke=at.s*j(at.s*at,1/3))&&Math.abs(ke)!=1/0?Be=new St(ke.toString()):(Ue=L(at.d),(ke=((_e=at.e)-Ue.length+1)%3)&&(Ue+=ke==1||ke==-2?"0":"00"),ke=j(Ue,1/3),_e=O((_e+1)/3)-(_e%3==(_e<0?-1:2)),(Be=new St(Ue=ke==1/0?"5e"+_e:(Ue=ke.toExponential()).slice(0,Ue.indexOf("e")+1)+_e)).s=at.s),Qe=(_e=St.precision)+3;;)if(st=(ct=(et=Be).times(et).times(et)).plus(at),Be=J(st.plus(at).times(et),st.plus(ct),Qe+2,1),L(et.d).slice(0,Qe)===(Ue=L(Be.d)).slice(0,Qe)){if((Ue=Ue.slice(Qe-3,Qe+1))!="9999"&&(He||Ue!="4999")){+Ue&&(+Ue.slice(1)||Ue.charAt(0)!="5")||(Y(Be,_e+1,1),je=!Be.times(Be).times(Be).eq(at));break}if(!He&&(Y(et,_e+1,0),et.times(et).times(et).eq(at))){Be=et;break}Qe+=4,He=1}return b=!0,Y(Be,_e,St.rounding,je)},U.decimalPlaces=U.dp=function(){var _e,je=this.d,Ue=NaN;if(je){if(Ue=((_e=je.length-1)-O(this.e/k))*k,_e=je[_e])for(;_e%10==0;_e/=10)Ue--;Ue<0&&(Ue=0)}return Ue},U.dividedBy=U.div=function(_e){return J(this,new this.constructor(_e))},U.dividedToIntegerBy=U.divToInt=function(_e){var je=this.constructor;return Y(J(this,new je(_e),0,1,1),je.precision,je.rounding)},U.equals=U.eq=function(_e){return this.cmp(_e)===0},U.floor=function(){return Y(new this.constructor(this),this.e+1,3)},U.greaterThan=U.gt=function(_e){return 0<this.cmp(_e)},U.greaterThanOrEqualTo=U.gte=function(_e){var je=this.cmp(_e);return je==1||je===0},U.hyperbolicCosine=U.cosh=function(){var _e,je,Ue,Be,He,ke=this,Qe=ke.constructor,et=new Qe(1);if(!ke.isFinite())return new Qe(ke.s?1/0:NaN);if(ke.isZero())return et;Ue=Qe.precision,Be=Qe.rounding,Qe.precision=Ue+Math.max(ke.e,ke.sd())+4,Qe.rounding=1,je=(He=ke.d.length)<32?(1/xe(4,_e=Math.ceil(He/3))).toString():(_e=16,"2.3283064365386962890625e-10"),ke=de(Qe,1,ke.times(je),new Qe(1),!0);for(var ct,st=_e,at=new Qe(8);st--;)ct=ke.times(ke),ke=et.minus(ct.times(at.minus(ct.times(at))));return Y(ke,Qe.precision=Ue,Qe.rounding=Be,!0)},U.hyperbolicSine=U.sinh=function(){var _e,je,Ue,Be,He=this,ke=He.constructor;if(!He.isFinite()||He.isZero())return new ke(He);if(je=ke.precision,Ue=ke.rounding,ke.precision=je+Math.max(He.e,He.sd())+4,ke.rounding=1,(Be=He.d.length)<3)He=de(ke,2,He,He,!0);else{_e=16<(_e=1.4*Math.sqrt(Be))?16:0|_e,He=de(ke,2,He=He.times(1/xe(5,_e)),He,!0);for(var Qe,et=new ke(5),ct=new ke(16),st=new ke(20);_e--;)Qe=He.times(He),He=He.times(et.plus(Qe.times(ct.times(Qe).plus(st))))}return Y(He,ke.precision=je,ke.rounding=Ue,!0)},U.hyperbolicTangent=U.tanh=function(){var _e,je,Ue=this,Be=Ue.constructor;return Ue.isFinite()?Ue.isZero()?new Be(Ue):(_e=Be.precision,je=Be.rounding,Be.precision=_e+7,Be.rounding=1,J(Ue.sinh(),Ue.cosh(),Be.precision=_e,Be.rounding=je)):new Be(Ue.s)},U.inverseCosine=U.acos=function(){var _e,je=this,Ue=je.constructor,Be=je.abs().cmp(1),He=Ue.precision,ke=Ue.rounding;return Be!==-1?Be===0?je.isNeg()?ue(Ue,He,ke):new Ue(0):new Ue(NaN):je.isZero()?ue(Ue,He+4,ke).times(.5):(Ue.precision=He+6,Ue.rounding=1,je=je.asin(),_e=ue(Ue,He+4,ke).times(.5),Ue.precision=He,Ue.rounding=ke,_e.minus(je))},U.inverseHyperbolicCosine=U.acosh=function(){var _e,je,Ue=this,Be=Ue.constructor;return Ue.lte(1)?new Be(Ue.eq(1)?0:NaN):Ue.isFinite()?(_e=Be.precision,je=Be.rounding,Be.precision=_e+Math.max(Math.abs(Ue.e),Ue.sd())+4,Be.rounding=1,b=!1,Ue=Ue.times(Ue).minus(1).sqrt().plus(Ue),b=!0,Be.precision=_e,Be.rounding=je,Ue.ln()):new Be(Ue)},U.inverseHyperbolicSine=U.asinh=function(){var _e,je,Ue=this,Be=Ue.constructor;return!Ue.isFinite()||Ue.isZero()?new Be(Ue):(_e=Be.precision,je=Be.rounding,Be.precision=_e+2*Math.max(Math.abs(Ue.e),Ue.sd())+6,Be.rounding=1,b=!1,Ue=Ue.times(Ue).plus(1).sqrt().plus(Ue),b=!0,Be.precision=_e,Be.rounding=je,Ue.ln())},U.inverseHyperbolicTangent=U.atanh=function(){var _e,je,Ue,Be,He=this,ke=He.constructor;return He.isFinite()?0<=He.e?new ke(He.abs().eq(1)?He.s/0:He.isZero()?He:NaN):(_e=ke.precision,je=ke.rounding,Be=He.sd(),Math.max(Be,_e)<2*-He.e-1?Y(new ke(He),_e,je,!0):(ke.precision=Ue=Be-He.e,He=J(He.plus(1),new ke(1).minus(He),Ue+_e,1),ke.precision=_e+4,ke.rounding=1,He=He.ln(),ke.precision=_e,ke.rounding=je,He.times(.5))):new ke(NaN)},U.inverseSine=U.asin=function(){var _e,je,Ue,Be,He=this,ke=He.constructor;return He.isZero()?new ke(He):(je=He.abs().cmp(1),Ue=ke.precision,Be=ke.rounding,je!==-1?je===0?((_e=ue(ke,Ue+4,Be).times(.5)).s=He.s,_e):new ke(NaN):(ke.precision=Ue+6,ke.rounding=1,He=He.div(new ke(1).minus(He.times(He)).sqrt().plus(1)).atan(),ke.precision=Ue,ke.rounding=Be,He.times(2)))},U.inverseTangent=U.atan=function(){var _e,je,Ue,Be,He,ke,Qe,et,ct,st=this,at=st.constructor,St=at.precision,jt=at.rounding;if(st.isFinite()){if(st.isZero())return new at(st);if(st.abs().eq(1)&&St+4<=R)return(Qe=ue(at,St+4,jt).times(.25)).s=st.s,Qe}else{if(!st.s)return new at(NaN);if(St+4<=R)return(Qe=ue(at,St+4,jt).times(.5)).s=st.s,Qe}for(at.precision=et=St+10,at.rounding=1,_e=Ue=Math.min(28,et/k+2|0);_e;--_e)st=st.div(st.times(st).plus(1).sqrt().plus(1));for(b=!1,je=Math.ceil(et/k),Be=1,ct=st.times(st),Qe=new at(st),He=st;_e!==-1;)if(He=He.times(ct),ke=Qe.minus(He.div(Be+=2)),He=He.times(ct),(Qe=ke.plus(He.div(Be+=2))).d[je]!==void 0)for(_e=je;Qe.d[_e]===ke.d[_e]&&_e--;);return Ue&&(Qe=Qe.times(2<<Ue-1)),b=!0,Y(Qe,at.precision=St,at.rounding=jt,!0)},U.isFinite=function(){return!!this.d},U.isInteger=U.isInt=function(){return!!this.d&&O(this.e/k)>this.d.length-2},U.isNaN=function(){return!this.s},U.isNegative=U.isNeg=function(){return this.s<0},U.isPositive=U.isPos=function(){return 0<this.s},U.isZero=function(){return!!this.d&&this.d[0]===0},U.lessThan=U.lt=function(_e){return this.cmp(_e)<0},U.lessThanOrEqualTo=U.lte=function(_e){return this.cmp(_e)<1},U.logarithm=U.log=function(_e){var je,Ue,Be,He,ke,Qe,et,ct,st=this.constructor,at=st.precision,St=st.rounding;if(_e==null)_e=new st(10),je=!0;else{if(Ue=(_e=new st(_e)).d,_e.s<0||!Ue||!Ue[0]||_e.eq(1))return new st(NaN);je=_e.eq(10)}if(Ue=this.d,this.s<0||!Ue||!Ue[0]||this.eq(1))return new st(Ue&&!Ue[0]?-1/0:this.s!=1?NaN:Ue?0:1/0);if(je)if(1<Ue.length)ke=!0;else{for(He=Ue[0];He%10==0;)He/=10;ke=He!==1}if(b=!1,Qe=Ne(this,et=at+5),Be=je?oe(st,et+10):Ne(_e,et),X((ct=J(Qe,Be,et,1)).d,He=at,St))do if(Qe=Ne(this,et+=10),Be=je?oe(st,et+10):Ne(_e,et),ct=J(Qe,Be,et,1),!ke){+L(ct.d).slice(He+1,He+15)+1==1e14&&(ct=Y(ct,at+1,0));break}while(X(ct.d,He+=10,St));return b=!0,Y(ct,at,St)},U.minus=U.sub=function(_e){var je,Ue,Be,He,ke,Qe,et,ct,st,at,St,jt,zt=this,$t=zt.constructor;if(_e=new $t(_e),!zt.d||!_e.d)return zt.s&&_e.s?zt.d?_e.s=-_e.s:_e=new $t(_e.d||zt.s!==_e.s?zt:NaN):_e=new $t(NaN),_e;if(zt.s!=_e.s)return _e.s=-_e.s,zt.plus(_e);if(st=zt.d,jt=_e.d,et=$t.precision,ct=$t.rounding,!st[0]||!jt[0]){if(jt[0])_e.s=-_e.s;else{if(!st[0])return new $t(ct===3?-0:0);_e=new $t(zt)}return b?Y(_e,et,ct):_e}if(Ue=O(_e.e/k),at=O(zt.e/k),st=st.slice(),ke=at-Ue){for(Qe=(St=ke<0)?(je=st,ke=-ke,jt.length):(je=jt,Ue=at,st.length),(Be=Math.max(Math.ceil(et/k),Qe)+2)<ke&&(ke=Be,je.length=1),je.reverse(),Be=ke;Be--;)je.push(0);je.reverse()}else{for((St=(Be=st.length)<(Qe=jt.length))&&(Qe=Be),Be=0;Be<Qe;Be++)if(st[Be]!=jt[Be]){St=st[Be]<jt[Be];break}ke=0}for(St&&(je=st,st=jt,jt=je,_e.s=-_e.s),Qe=st.length,Be=jt.length-Qe;0<Be;--Be)st[Qe++]=0;for(Be=jt.length;ke<Be;){if(st[--Be]<jt[Be]){for(He=Be;He&&st[--He]===0;)st[He]=G-1;--st[He],st[Be]+=G}st[Be]-=jt[Be]}for(;st[--Qe]===0;)st.pop();for(;st[0]===0;st.shift())--Ue;return st[0]?(_e.d=st,_e.e=ce(st,Ue),b?Y(_e,et,ct):_e):new $t(ct===3?-0:0)},U.modulo=U.mod=function(_e){var je,Ue=this,Be=Ue.constructor;return _e=new Be(_e),!Ue.d||!_e.s||_e.d&&!_e.d[0]?new Be(NaN):!_e.d||Ue.d&&!Ue.d[0]?Y(new Be(Ue),Be.precision,Be.rounding):(b=!1,Be.modulo==9?(je=J(Ue,_e.abs(),0,3,1)).s*=_e.s:je=J(Ue,_e,0,Be.modulo,1),je=je.times(_e),b=!0,Ue.minus(je))},U.naturalExponential=U.exp=function(){return be(this)},U.naturalLogarithm=U.ln=function(){return Ne(this)},U.negated=U.neg=function(){var _e=new this.constructor(this);return _e.s=-_e.s,Y(_e)},U.plus=U.add=function(_e){var je,Ue,Be,He,ke,Qe,et,ct,st,at,St=this,jt=St.constructor;if(_e=new jt(_e),!St.d||!_e.d)return St.s&&_e.s?St.d||(_e=new jt(_e.d||St.s===_e.s?St:NaN)):_e=new jt(NaN),_e;if(St.s!=_e.s)return _e.s=-_e.s,St.minus(_e);if(st=St.d,at=_e.d,et=jt.precision,ct=jt.rounding,!st[0]||!at[0])return at[0]||(_e=new jt(St)),b?Y(_e,et,ct):_e;if(ke=O(St.e/k),Be=O(_e.e/k),st=st.slice(),He=ke-Be){for((Qe=(Qe=He<0?(Ue=st,He=-He,at.length):(Ue=at,Be=ke,st.length))<(ke=Math.ceil(et/k))?ke+1:Qe+1)<He&&(He=Qe,Ue.length=1),Ue.reverse();He--;)Ue.push(0);Ue.reverse()}for((Qe=st.length)-(He=at.length)<0&&(He=Qe,Ue=at,at=st,st=Ue),je=0;He;)je=(st[--He]=st[He]+at[He]+je)/G|0,st[He]%=G;for(je&&(st.unshift(je),++Be),Qe=st.length;st[--Qe]==0;)st.pop();return _e.d=st,_e.e=ce(st,Be),b?Y(_e,et,ct):_e},U.precision=U.sd=function(_e){var je,Ue=this;if(_e!==void 0&&_e!==!!_e&&_e!==1&&_e!==0)throw Error(A+_e);return Ue.d?(je=Ce(Ue.d),_e&&Ue.e+1>je&&(je=Ue.e+1)):je=NaN,je},U.round=function(){var _e=this,je=_e.constructor;return Y(new je(_e),_e.e+1,je.rounding)},U.sine=U.sin=function(){var _e,je,Ue=this,Be=Ue.constructor;return Ue.isFinite()?Ue.isZero()?new Be(Ue):(_e=Be.precision,je=Be.rounding,Be.precision=_e+Math.max(Ue.e,Ue.sd())+k,Be.rounding=1,Ue=function(He,ke){var Qe,et=ke.d.length;if(et<3)return ke.isZero()?ke:de(He,2,ke,ke);Qe=16<(Qe=1.4*Math.sqrt(et))?16:0|Qe,ke=ke.times(1/xe(5,Qe)),ke=de(He,2,ke,ke);for(var ct,st=new He(5),at=new He(16),St=new He(20);Qe--;)ct=ke.times(ke),ke=ke.times(st.plus(ct.times(at.times(ct).minus(St))));return ke}(Be,Pe(Be,Ue)),Be.precision=_e,Be.rounding=je,Y(2<x?Ue.neg():Ue,_e,je,!0)):new Be(NaN)},U.squareRoot=U.sqrt=function(){var _e,je,Ue,Be,He,ke,Qe=this,et=Qe.d,ct=Qe.e,st=Qe.s,at=Qe.constructor;if(st!==1||!et||!et[0])return new at(!st||st<0&&(!et||et[0])?NaN:et?Qe:1/0);for(b=!1,Be=(st=Math.sqrt(+Qe))==0||st==1/0?(((je=L(et)).length+ct)%2==0&&(je+="0"),st=Math.sqrt(je),ct=O((ct+1)/2)-(ct<0||ct%2),new at(je=st==1/0?"5e"+ct:(je=st.toExponential()).slice(0,je.indexOf("e")+1)+ct)):new at(st.toString()),Ue=(ct=at.precision)+3;;)if(Be=(ke=Be).plus(J(Qe,ke,Ue+2,1)).times(.5),L(ke.d).slice(0,Ue)===(je=L(Be.d)).slice(0,Ue)){if((je=je.slice(Ue-3,Ue+1))!="9999"&&(He||je!="4999")){+je&&(+je.slice(1)||je.charAt(0)!="5")||(Y(Be,ct+1,1),_e=!Be.times(Be).eq(Qe));break}if(!He&&(Y(ke,ct+1,0),ke.times(ke).eq(Qe))){Be=ke;break}Ue+=4,He=1}return b=!0,Y(Be,ct,at.rounding,_e)},U.tangent=U.tan=function(){var _e,je,Ue=this,Be=Ue.constructor;return Ue.isFinite()?Ue.isZero()?new Be(Ue):(_e=Be.precision,je=Be.rounding,Be.precision=_e+10,Be.rounding=1,(Ue=Ue.sin()).s=1,Ue=J(Ue,new Be(1).minus(Ue.times(Ue)).sqrt(),_e+10,0),Be.precision=_e,Be.rounding=je,Y(x==2||x==4?Ue.neg():Ue,_e,je,!0)):new Be(NaN)},U.times=U.mul=function(_e){var je,Ue,Be,He,ke,Qe,et,ct,st,at=this,St=at.constructor,jt=at.d,zt=(_e=new St(_e)).d;if(_e.s*=at.s,!(jt&&jt[0]&&zt&&zt[0]))return new St(!_e.s||jt&&!jt[0]&&!zt||zt&&!zt[0]&&!jt?NaN:jt&&zt?0*_e.s:_e.s/0);for(Ue=O(at.e/k)+O(_e.e/k),(ct=jt.length)<(st=zt.length)&&(ke=jt,jt=zt,zt=ke,Qe=ct,ct=st,st=Qe),ke=[],Be=Qe=ct+st;Be--;)ke.push(0);for(Be=st;0<=--Be;){for(je=0,He=ct+Be;Be<He;)et=ke[He]+zt[Be]*jt[He-Be-1]+je,ke[He--]=et%G|0,je=et/G|0;ke[He]=(ke[He]+je)%G|0}for(;!ke[--Qe];)ke.pop();return je?++Ue:ke.shift(),_e.d=ke,_e.e=ce(ke,Ue),b?Y(_e,St.precision,St.rounding):_e},U.toBinary=function(_e,je){return Ae(this,2,_e,je)},U.toDecimalPlaces=U.toDP=function(_e,je){var Ue=this.constructor,Be=new Ue(this);return _e===void 0?Be:(H(_e,0,D),je===void 0?je=Ue.rounding:H(je,0,8),Y(Be,_e+Be.e+1,je))},U.toExponential=function(_e,je){var Ue=this,Be=Ue.constructor,He=_e===void 0?te(Ue,!0):(H(_e,0,D),je===void 0?je=Be.rounding:H(je,0,8),te(Ue=Y(new Be(Ue),_e+1,je),!0,_e+1));return Ue.isNeg()&&!Ue.isZero()?"-"+He:He},U.toFixed=function(_e,je){var Ue,Be=this,He=Be.constructor,ke=_e===void 0?te(Be):(H(_e,0,D),je===void 0?je=He.rounding:H(je,0,8),te(Ue=Y(new He(Be),_e+Be.e+1,je),!1,_e+Ue.e+1));return Be.isNeg()&&!Be.isZero()?"-"+ke:ke},U.toFraction=function(_e){var je,Ue,Be,He,ke,Qe,et,ct,st,at,St,jt,zt=this,$t=zt.d,Qt=zt.constructor;if(!$t)return new Qt(zt);if(st=Ue=new Qt(1),Be=ct=new Qt(0),Qe=(ke=(je=new Qt(Be)).e=Ce($t)-zt.e-1)%k,je.d[0]=j(10,Qe<0?k+Qe:Qe),_e==null)_e=0<ke?je:st;else{if(!(et=new Qt(_e)).isInt()||et.lt(st))throw Error(A+et);_e=et.gt(je)?0<ke?je:st:et}for(b=!1,et=new Qt(L($t)),at=Qt.precision,Qt.precision=ke=$t.length*k*2;St=J(et,je,0,1,1),(He=Ue.plus(St.times(Be))).cmp(_e)!=1;)Ue=Be,Be=He,He=st,st=ct.plus(St.times(He)),ct=He,He=je,je=et.minus(St.times(He)),et=He;return He=J(_e.minus(Ue),Be,0,1,1),ct=ct.plus(He.times(st)),Ue=Ue.plus(He.times(Be)),ct.s=st.s=zt.s,jt=J(st,Be,ke,1).minus(zt).abs().cmp(J(ct,Ue,ke,1).minus(zt).abs())<1?[st,Be]:[ct,Ue],Qt.precision=at,b=!0,jt},U.toHexadecimal=U.toHex=function(_e,je){return Ae(this,16,_e,je)},U.toNearest=function(_e,je){var Ue=(Be=this).constructor,Be=new Ue(Be);if(_e==null){if(!Be.d)return Be;_e=new Ue(1),je=Ue.rounding}else{if(_e=new Ue(_e),je===void 0?je=Ue.rounding:H(je,0,8),!Be.d)return _e.s?Be:_e;if(!_e.d)return _e.s&&(_e.s=Be.s),_e}return _e.d[0]?(b=!1,Be=J(Be,_e,0,je,1).times(_e),b=!0,Y(Be)):(_e.s=Be.s,Be=_e),Be},U.toNumber=function(){return+this},U.toOctal=function(_e,je){return Ae(this,8,_e,je)},U.toPower=U.pow=function(_e){var je,Ue,Be,He,ke,Qe,et=this,ct=et.constructor,st=+(_e=new ct(_e));if(!(et.d&&_e.d&&et.d[0]&&_e.d[0]))return new ct(j(+et,st));if((et=new ct(et)).eq(1))return et;if(Be=ct.precision,ke=ct.rounding,_e.eq(1))return Y(et,Be,ke);if((je=O(_e.e/k))>=_e.d.length-1&&(Ue=st<0?-st:st)<=9007199254740991)return He=ye(ct,et,Ue,Be),_e.s<0?new ct(1).div(He):Y(He,Be,ke);if((Qe=et.s)<0){if(je<_e.d.length-1)return new ct(NaN);if(!(1&_e.d[je])&&(Qe=1),et.e==0&&et.d[0]==1&&et.d.length==1)return et.s=Qe,et}return(je=(Ue=j(+et,st))!=0&&isFinite(Ue)?new ct(Ue+"").e:O(st*(Math.log("0."+L(et.d))/Math.LN10+et.e+1)))>ct.maxE+1||je<ct.minE-1?new ct(0<je?Qe/0:0):(b=!1,ct.rounding=et.s=1,Ue=Math.min(12,(je+"").length),(He=be(_e.times(Ne(et,Be+Ue)),Be)).d&&X((He=Y(He,Be+5,1)).d,Be,ke)&&(je=Be+10,+L((He=Y(be(_e.times(Ne(et,je+Ue)),je),je+5,1)).d).slice(Be+1,Be+15)+1==1e14&&(He=Y(He,Be+1,0))),He.s=Qe,b=!0,Y(He,Be,ct.rounding=ke))},U.toPrecision=function(_e,je){var Ue=this,Be=Ue.constructor,He=_e===void 0?te(Ue,Ue.e<=Be.toExpNeg||Ue.e>=Be.toExpPos):(H(_e,1,D),je===void 0?je=Be.rounding:H(je,0,8),te(Ue=Y(new Be(Ue),_e,je),_e<=Ue.e||Ue.e<=Be.toExpNeg,_e));return Ue.isNeg()&&!Ue.isZero()?"-"+He:He},U.toSignificantDigits=U.toSD=function(_e,je){var Ue=this.constructor;return _e===void 0?(_e=Ue.precision,je=Ue.rounding):(H(_e,1,D),je===void 0?je=Ue.rounding:H(je,0,8)),Y(new Ue(this),_e,je)},U.toString=function(){var _e=this,je=_e.constructor,Ue=te(_e,_e.e<=je.toExpNeg||_e.e>=je.toExpPos);return _e.isNeg()&&!_e.isZero()?"-"+Ue:Ue},U.truncated=U.trunc=function(){return Y(new this.constructor(this),this.e+1,1)},U.valueOf=U.toJSON=function(){var _e=this,je=_e.constructor,Ue=te(_e,_e.e<=je.toExpNeg||_e.e>=je.toExpPos);return _e.isNeg()?"-"+Ue:Ue};var J=function(_e,je,Ue,Be,He,ke){var Qe,et,ct,st,at,St,jt,zt,$t,Qt,tn,an,un,bn,Un,tr,Gn,nr,Bn,Vn,Jn=_e.constructor,zn=_e.s==je.s?1:-1,dn=_e.d,on=je.d;if(!(dn&&dn[0]&&on&&on[0]))return new Jn(_e.s&&je.s&&(dn?!on||dn[0]!=on[0]:on)?dn&&dn[0]==0||!on?0*zn:zn/0:NaN);for(et=ke?(at=1,_e.e-je.e):(ke=G,at=k,O(_e.e/at)-O(je.e/at)),Bn=on.length,Gn=dn.length,Qt=($t=new Jn(zn)).d=[],ct=0;on[ct]==(dn[ct]||0);ct++);if(on[ct]>(dn[ct]||0)&&et--,Ue==null?(bn=Ue=Jn.precision,Be=Jn.rounding):bn=He?Ue+(_e.e-je.e)+1:Ue,bn<0)Qt.push(1),St=!0;else{if(bn=bn/at+2|0,ct=0,Bn==1){for(on=on[st=0],bn++;(ct<Gn||st)&&bn--;ct++)Un=st*ke+(dn[ct]||0),Qt[ct]=Un/on|0,st=Un%on|0;St=st||ct<Gn}else{for(1<(st=ke/(on[0]+1)|0)&&(on=K(on,st,ke),dn=K(dn,st,ke),Bn=on.length,Gn=dn.length),tr=Bn,an=(tn=dn.slice(0,Bn)).length;an<Bn;)tn[an++]=0;for((Vn=on.slice()).unshift(0),nr=on[0],on[1]>=ke/2&&++nr;st=0,(Qe=$(on,tn,Bn,an))<0?(un=tn[0],Bn!=an&&(un=un*ke+(tn[1]||0)),1<(st=un/nr|0)?(ke<=st&&(st=ke-1),(Qe=$(jt=K(on,st,ke),tn,zt=jt.length,an=tn.length))==1&&(st--,W(jt,Bn<zt?Vn:on,zt,ke))):(st==0&&(Qe=st=1),jt=on.slice()),(zt=jt.length)<an&&jt.unshift(0),W(tn,jt,an,ke),Qe==-1&&(Qe=$(on,tn,Bn,an=tn.length))<1&&(st++,W(tn,Bn<an?Vn:on,an,ke)),an=tn.length):Qe===0&&(st++,tn=[0]),Qt[ct++]=st,Qe&&tn[0]?tn[an++]=dn[tr]||0:(tn=[dn[tr]],an=1),(tr++<Gn||tn[0]!==void 0)&&bn--;);St=tn[0]!==void 0}Qt[0]||Qt.shift()}if(at==1)$t.e=et,m=St;else{for(ct=1,st=Qt[0];10<=st;st/=10)ct++;$t.e=ct+et*at-1,Y($t,He?Ue+$t.e+1:Ue,Be,St)}return $t};function K(_e,je,Ue){var Be,He=0,ke=_e.length;for(_e=_e.slice();ke--;)Be=_e[ke]*je+He,_e[ke]=Be%Ue|0,He=Be/Ue|0;return He&&_e.unshift(He),_e}function $(_e,je,Ue,Be){var He,ke;if(Ue!=Be)ke=Be<Ue?1:-1;else for(He=ke=0;He<Ue;He++)if(_e[He]!=je[He]){ke=_e[He]>je[He]?1:-1;break}return ke}function W(_e,je,Ue,Be){for(var He=0;Ue--;)_e[Ue]-=He,He=_e[Ue]<je[Ue]?1:0,_e[Ue]=He*Be+_e[Ue]-je[Ue];for(;!_e[0]&&1<_e.length;)_e.shift()}function Y(_e,je,Ue,Be){var He,ke,Qe,et,ct,st,at,St,jt,zt=_e.constructor;e:if(je!=null){if(!(St=_e.d))return _e;for(He=1,et=St[0];10<=et;et/=10)He++;if((ke=je-He)<0)ke+=k,Qe=je,ct=(at=St[jt=0])/j(10,He-Qe-1)%10|0;else if(jt=Math.ceil((ke+1)/k),(et=St.length)<=jt){if(!Be)break e;for(;et++<=jt;)St.push(0);at=ct=0,Qe=(ke%=k)-k+(He=1)}else{for(at=et=St[jt],He=1;10<=et;et/=10)He++;ct=(Qe=(ke%=k)-k+He)<0?0:at/j(10,He-Qe-1)%10|0}if(Be=Be||je<0||St[jt+1]!==void 0||(Qe<0?at:at%j(10,He-Qe-1)),st=Ue<4?(ct||Be)&&(Ue==0||Ue==(_e.s<0?3:2)):5<ct||ct==5&&(Ue==4||Be||Ue==6&&(0<ke?0<Qe?at/j(10,He-Qe):0:St[jt-1])%10&1||Ue==(_e.s<0?8:7)),je<1||!St[0])return St.length=0,st?(je-=_e.e+1,St[0]=j(10,(k-je%k)%k),_e.e=-je||0):St[0]=_e.e=0,_e;if(ke==0?(St.length=jt,et=1,jt--):(St.length=jt+1,et=j(10,k-ke),St[jt]=0<Qe?(at/j(10,He-Qe)%j(10,Qe)|0)*et:0),st)for(;;){if(jt==0){for(ke=1,Qe=St[0];10<=Qe;Qe/=10)ke++;for(Qe=St[0]+=et,et=1;10<=Qe;Qe/=10)et++;ke!=et&&(_e.e++,St[0]==G&&(St[0]=1));break}if(St[jt]+=et,St[jt]!=G)break;St[jt--]=0,et=1}for(ke=St.length;St[--ke]===0;)St.pop()}return b&&(_e.e>zt.maxE?(_e.d=null,_e.e=NaN):_e.e<zt.minE&&(_e.e=0,_e.d=[0])),_e}function te(_e,je,Ue){if(!_e.isFinite())return he(_e);var Be,He=_e.e,ke=L(_e.d),Qe=ke.length;return je?(Ue&&0<(Be=Ue-Qe)?ke=ke.charAt(0)+"."+ke.slice(1)+le(Be):1<Qe&&(ke=ke.charAt(0)+"."+ke.slice(1)),ke=ke+(_e.e<0?"e":"e+")+_e.e):He<0?(ke="0."+le(-He-1)+ke,Ue&&0<(Be=Ue-Qe)&&(ke+=le(Be))):Qe<=He?(ke+=le(He+1-Qe),Ue&&0<(Be=Ue-He-1)&&(ke=ke+"."+le(Be))):((Be=He+1)<Qe&&(ke=ke.slice(0,Be)+"."+ke.slice(Be)),Ue&&0<(Be=Ue-Qe)&&(He+1===Qe&&(ke+="."),ke+=le(Be))),ke}function ce(_e,je){var Ue=_e[0];for(je*=k;10<=Ue;Ue/=10)je++;return je}function oe(_e,je,Ue){if(V<je)throw b=!0,Ue&&(_e.precision=Ue),Error(E);return Y(new _e(_),je,1,!0)}function ue(_e,je,Ue){if(R<je)throw Error(E);return Y(new _e(o),je,Ue,!0)}function Ce(_e){var je=_e.length-1,Ue=je*k+1;if(je=_e[je]){for(;je%10==0;je/=10)Ue--;for(je=_e[0];10<=je;je/=10)Ue++}return Ue}function le(_e){for(var je="";_e--;)je+="0";return je}function ye(_e,je,Ue,Be){var He,ke=new _e(1),Qe=Math.ceil(Be/k+4);for(b=!1;;){if(Ue%2&&Oe((ke=ke.times(je)).d,Qe)&&(He=!0),(Ue=O(Ue/2))===0){Ue=ke.d.length-1,He&&ke.d[Ue]===0&&++ke.d[Ue];break}Oe((je=je.times(je)).d,Qe)}return b=!0,ke}function ve(_e){return 1&_e.d[_e.d.length-1]}function pe(_e,je,Ue){for(var Be,He=new _e(je[0]),ke=0;++ke<je.length;){if(!(Be=new _e(je[ke])).s){He=Be;break}He[Ue](Be)&&(He=Be)}return He}function be(_e,je){var Ue,Be,He,ke,Qe,et,ct,st=0,at=0,St=0,jt=_e.constructor,zt=jt.rounding,$t=jt.precision;if(!_e.d||!_e.d[0]||17<_e.e)return new jt(_e.d?_e.d[0]?_e.s<0?0:1/0:1:_e.s?_e.s<0?0:_e:NaN);for(ct=je??(b=!1,$t),et=new jt(.03125);-2<_e.e;)_e=_e.times(et),St+=5;for(ct+=Be=Math.log(j(2,St))/Math.LN10*2+5|0,Ue=ke=Qe=new jt(1),jt.precision=ct;;){if(ke=Y(ke.times(_e),ct,1),Ue=Ue.times(++at),L((et=Qe.plus(J(ke,Ue,ct,1))).d).slice(0,ct)===L(Qe.d).slice(0,ct)){for(He=St;He--;)Qe=Y(Qe.times(Qe),ct,1);if(je!=null)return jt.precision=$t,Qe;if(!(st<3&&X(Qe.d,ct-Be,zt,st)))return Y(Qe,jt.precision=$t,zt,b=!0);jt.precision=ct+=10,Ue=ke=et=new jt(1),at=0,st++}Qe=et}}function Ne(_e,je){var Ue,Be,He,ke,Qe,et,ct,st,at,St,jt,zt=1,$t=_e,Qt=$t.d,tn=$t.constructor,an=tn.rounding,un=tn.precision;if($t.s<0||!Qt||!Qt[0]||!$t.e&&Qt[0]==1&&Qt.length==1)return new tn(Qt&&!Qt[0]?-1/0:$t.s!=1?NaN:Qt?0:$t);if(at=je??(b=!1,un),tn.precision=at+=10,Be=(Ue=L(Qt)).charAt(0),!(Math.abs(ke=$t.e)<15e14))return st=oe(tn,at+2,un).times(ke+""),$t=Ne(new tn(Be+"."+Ue.slice(1)),at-10).plus(st),tn.precision=un,je==null?Y($t,un,an,b=!0):$t;for(;Be<7&&Be!=1||Be==1&&3<Ue.charAt(1);)Be=(Ue=L(($t=$t.times(_e)).d)).charAt(0),zt++;for(ke=$t.e,1<Be?($t=new tn("0."+Ue),ke++):$t=new tn(Be+"."+Ue.slice(1)),ct=Qe=$t=J((St=$t).minus(1),$t.plus(1),at,1),jt=Y($t.times($t),at,1),He=3;;){if(Qe=Y(Qe.times(jt),at,1),L((st=ct.plus(J(Qe,new tn(He),at,1))).d).slice(0,at)===L(ct.d).slice(0,at)){if(ct=ct.times(2),ke!==0&&(ct=ct.plus(oe(tn,at+2,un).times(ke+""))),ct=J(ct,new tn(zt),at,1),je!=null)return tn.precision=un,ct;if(!X(ct.d,at-10,an,et))return Y(ct,tn.precision=un,an,b=!0);tn.precision=at+=10,st=Qe=$t=J(St.minus(1),St.plus(1),at,1),jt=Y($t.times($t),at,1),He=et=1}ct=st,He+=2}}function he(_e){return String(_e.s*_e.s/0)}function ne(_e,je){var Ue,Be,He;for(-1<(Ue=je.indexOf("."))&&(je=je.replace(".","")),0<(Be=je.search(/e/i))?(Ue<0&&(Ue=Be),Ue+=+je.slice(Be+1),je=je.substring(0,Be)):Ue<0&&(Ue=je.length),Be=0;je.charCodeAt(Be)===48;Be++);for(He=je.length;je.charCodeAt(He-1)===48;--He);if(je=je.slice(Be,He)){if(He-=Be,_e.e=Ue=Ue-Be-1,_e.d=[],Be=(Ue+1)%k,Ue<0&&(Be+=k),Be<He){for(Be&&_e.d.push(+je.slice(0,Be)),He-=k;Be<He;)_e.d.push(+je.slice(Be,Be+=k));je=je.slice(Be),Be=k-je.length}else Be-=He;for(;Be--;)je+="0";_e.d.push(+je),b&&(_e.e>_e.constructor.maxE?(_e.d=null,_e.e=NaN):_e.e<_e.constructor.minE&&(_e.e=0,_e.d=[0]))}else _e.e=0,_e.d=[0];return _e}function re(_e,je){var Ue,Be,He,ke,Qe,et,ct,st,at;if(-1<je.indexOf("_")){if(je=je.replace(/(\d)_(?=\d)/g,"$1"),I.test(je))return ne(_e,je)}else if(je==="Infinity"||je==="NaN")return+je||(_e.s=NaN),_e.e=NaN,_e.d=null,_e;if(F.test(je))Ue=16,je=je.toLowerCase();else if(M.test(je))Ue=2;else{if(!B.test(je))throw Error(A+je);Ue=8}for(Qe=0<=(ke=(je=0<(ke=je.search(/p/i))?(ct=+je.slice(ke+1),je.substring(2,ke)):je.slice(2)).indexOf(".")),Be=_e.constructor,Qe&&(ke=(et=(je=je.replace(".","")).length)-ke,He=ye(Be,new Be(Ue),ke,2*ke)),ke=at=(st=Z(je,Ue,G)).length-1;st[ke]===0;--ke)st.pop();return ke<0?new Be(0*_e.s):(_e.e=ce(st,at),_e.d=st,b=!1,Qe&&(_e=J(_e,He,4*et)),ct&&(_e=_e.times(Math.abs(ct)<54?j(2,ct):f.pow(2,ct))),b=!0,_e)}function de(_e,je,Ue,Be,He){var ke,Qe,et,ct,st=_e.precision,at=Math.ceil(st/k);for(b=!1,ct=Ue.times(Ue),et=new _e(Be);;){if(Qe=J(et.times(ct),new _e(je++*je++),st,1),et=He?Be.plus(Qe):Be.minus(Qe),Be=J(Qe.times(ct),new _e(je++*je++),st,1),(Qe=et.plus(Be)).d[at]!==void 0){for(ke=at;Qe.d[ke]===et.d[ke]&&ke--;);if(ke==-1)break}ke=et,et=Be,Be=Qe,Qe=ke}return b=!0,Qe.d.length=at+1,Qe}function xe(_e,je){for(var Ue=_e;--je;)Ue*=_e;return Ue}function Pe(_e,je){var Ue,Be=je.s<0,He=ue(_e,_e.precision,1),ke=He.times(.5);if((je=je.abs()).lte(ke))return x=Be?4:1,je;if((Ue=je.divToInt(He)).isZero())x=Be?3:2;else{if((je=je.minus(Ue.times(He))).lte(ke))return x=ve(Ue)?Be?2:3:Be?4:1,je;x=ve(Ue)?Be?1:4:Be?3:2}return je.minus(He).abs()}function Ae(_e,je,Ue,Be){var He,ke,Qe,et,ct,st,at,St,jt,zt=_e.constructor,$t=Ue!==void 0;if($t?(H(Ue,1,D),Be===void 0?Be=zt.rounding:H(Be,0,8)):(Ue=zt.precision,Be=zt.rounding),_e.isFinite()){for($t?(He=2,je==16?Ue=4*Ue-3:je==8&&(Ue=3*Ue-2)):He=je,0<=(Qe=(at=te(_e)).indexOf("."))&&(at=at.replace(".",""),(jt=new zt(1)).e=at.length-Qe,jt.d=Z(te(jt),10,He),jt.e=jt.d.length),ke=ct=(St=Z(at,10,He)).length;St[--ct]==0;)St.pop();if(St[0]){if(Qe<0?ke--:((_e=new zt(_e)).d=St,_e.e=ke,St=(_e=J(_e,jt,Ue,Be,0,He)).d,ke=_e.e,st=m),Qe=St[Ue],et=He/2,st=st||St[Ue+1]!==void 0,st=Be<4?(Qe!==void 0||st)&&(Be===0||Be===(_e.s<0?3:2)):et<Qe||Qe===et&&(Be===4||st||Be===6&&1&St[Ue-1]||Be===(_e.s<0?8:7)),St.length=Ue,st)for(;++St[--Ue]>He-1;)St[Ue]=0,Ue||(++ke,St.unshift(1));for(ct=St.length;!St[ct-1];--ct);for(Qe=0,at="";Qe<ct;Qe++)at+=h.charAt(St[Qe]);if($t){if(1<ct)if(je==16||je==8){for(Qe=je==16?4:3,--ct;ct%Qe;ct++)at+="0";for(ct=(St=Z(at,He,je)).length;!St[ct-1];--ct);for(Qe=1,at="1.";Qe<ct;Qe++)at+=h.charAt(St[Qe])}else at=at.charAt(0)+"."+at.slice(1);at=at+(ke<0?"p":"p+")+ke}else if(ke<0){for(;++ke;)at="0"+at;at="0."+at}else if(++ke>ct)for(ke-=ct;ke--;)at+="0";else ke<ct&&(at=at.slice(0,ke)+"."+at.slice(ke))}else at=$t?"0p+0":"0";at=(je==16?"0x":je==2?"0b":je==8?"0o":"")+at}else at=he(_e);return _e.s<0?"-"+at:at}function Oe(_e,je){return _e.length>je&&(_e.length=je,1)}function Se(_e){return new this(_e).abs()}function Fe(_e){return new this(_e).acos()}function $e(_e){return new this(_e).acosh()}function Re(_e,je){return new this(_e).plus(je)}function qe(_e){return new this(_e).asin()}function ze(_e){return new this(_e).asinh()}function we(_e){return new this(_e).atan()}function Ee(_e){return new this(_e).atanh()}function Me(_e,je){_e=new this(_e),je=new this(je);var Ue,Be=this.precision,He=this.rounding,ke=Be+4;return _e.s&&je.s?_e.d||je.d?!je.d||_e.isZero()?(Ue=je.s<0?ue(this,Be,He):new this(0)).s=_e.s:!_e.d||je.isZero()?(Ue=ue(this,ke,1).times(.5)).s=_e.s:Ue=je.s<0?(this.precision=ke,this.rounding=1,Ue=this.atan(J(_e,je,ke,1)),je=ue(this,ke,1),this.precision=Be,this.rounding=He,_e.s<0?Ue.minus(je):Ue.plus(je)):this.atan(J(_e,je,ke,1)):(Ue=ue(this,ke,1).times(0<je.s?.25:.75)).s=_e.s:Ue=new this(NaN),Ue}function me(_e){return new this(_e).cbrt()}function Ge(_e){return Y(_e=new this(_e),_e.e+1,2)}function Xe(_e,je,Ue){return new this(_e).clamp(je,Ue)}function rt(_e){if(!_e||typeof _e!="object")throw Error(y+"Object expected");for(var je,Ue,Be=_e.defaults===!0,He=["precision",1,D,"rounding",0,8,"toExpNeg",-S,0,"toExpPos",0,S,"maxE",0,S,"minE",-S,0,"modulo",0,9],ke=0;ke<He.length;ke+=3)if(je=He[ke],Be&&(this[je]=p[je]),(Ue=_e[je])!==void 0){if(!(O(Ue)===Ue&&He[ke+1]<=Ue&&Ue<=He[ke+2]))throw Error(A+je+": "+Ue);this[je]=Ue}if(je="crypto",Be&&(this[je]=p[je]),(Ue=_e[je])!==void 0){if(Ue!==!0&&Ue!==!1&&Ue!==0&&Ue!==1)throw Error(A+je+": "+Ue);if(Ue){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(N);this[je]=!0}else this[je]=!1}return this}function ut(_e){return new this(_e).cos()}function ft(_e){return new this(_e).cosh()}function pt(_e,je){return new this(_e).div(je)}function ot(_e){return new this(_e).exp()}function bt(_e){return Y(_e=new this(_e),_e.e+1,3)}function At(){var _e,je,Ue=new this(0);for(b=!1,_e=0;_e<arguments.length;)if((je=new this(arguments[_e++])).d)Ue.d&&(Ue=Ue.plus(je.times(je)));else{if(je.s)return b=!0,new this(1/0);Ue=je}return b=!0,Ue.sqrt()}function Ke(_e){return _e instanceof f||_e&&_e.toStringTag===T||!1}function dt(_e){return new this(_e).ln()}function vt(_e,je){return new this(_e).log(je)}function wt(_e){return new this(_e).log(2)}function Nt(_e){return new this(_e).log(10)}function Ot(){return pe(this,arguments,"lt")}function Tt(){return pe(this,arguments,"gt")}function It(_e,je){return new this(_e).mod(je)}function Pt(_e,je){return new this(_e).mul(je)}function Rt(_e,je){return new this(_e).pow(je)}function Ft(_e){var je,Ue,Be,He,ke=0,Qe=new this(1),et=[];if(_e===void 0?_e=this.precision:H(_e,1,D),Be=Math.ceil(_e/k),this.crypto)if(crypto.getRandomValues)for(je=crypto.getRandomValues(new Uint32Array(Be));ke<Be;)429e7<=(He=je[ke])?je[ke]=crypto.getRandomValues(new Uint32Array(1))[0]:et[ke++]=He%1e7;else{if(!crypto.randomBytes)throw Error(N);for(je=crypto.randomBytes(Be*=4);ke<Be;)214e7<=(He=je[ke]+(je[ke+1]<<8)+(je[ke+2]<<16)+((127&je[ke+3])<<24))?crypto.randomBytes(4).copy(je,ke):(et.push(He%1e7),ke+=4);ke=Be/4}else for(;ke<Be;)et[ke++]=1e7*Math.random()|0;for(Be=et[--ke],_e%=k,Be&&_e&&(He=j(10,k-_e),et[ke]=(Be/He|0)*He);et[ke]===0;ke--)et.pop();if(ke<0)et=[Ue=0];else{for(Ue=-1;et[0]===0;Ue-=k)et.shift();for(Be=1,He=et[0];10<=He;He/=10)Be++;Be<k&&(Ue-=k-Be)}return Qe.e=Ue,Qe.d=et,Qe}function Bt(_e){return Y(_e=new this(_e),_e.e+1,this.rounding)}function Ut(_e){return(_e=new this(_e)).d?_e.d[0]?_e.s:0*_e.s:_e.s||NaN}function Xt(_e){return new this(_e).sin()}function Zt(_e){return new this(_e).sinh()}function Yt(_e){return new this(_e).sqrt()}function rn(_e,je){return new this(_e).sub(je)}function Gt(){var _e=0,je=arguments,Ue=new this(je[_e]);for(b=!1;Ue.s&&++_e<je.length;)Ue=Ue.plus(je[_e]);return b=!0,Y(Ue,this.precision,this.rounding)}function sn(_e){return new this(_e).tan()}function Je(_e){return new this(_e).tanh()}function Ct(_e){return Y(_e=new this(_e),_e.e+1,1)}((f=function _e(je){var Ue,Be,He;function ke(Qe){var et,ct,st,at=this;if(!(at instanceof ke))return new ke(Qe);if(at.constructor=ke,Ke(Qe))return at.s=Qe.s,void(b?!Qe.d||Qe.e>ke.maxE?(at.e=NaN,at.d=null):Qe.e<ke.minE?(at.e=0,at.d=[0]):(at.e=Qe.e,at.d=Qe.d.slice()):(at.e=Qe.e,at.d=Qe.d?Qe.d.slice():Qe.d));if((st=typeof Qe)=="number"){if(Qe===0)return at.s=1/Qe<0?-1:1,at.e=0,void(at.d=[0]);if(Qe<0?(Qe=-Qe,at.s=-1):at.s=1,Qe===~~Qe&&Qe<1e7){for(et=0,ct=Qe;10<=ct;ct/=10)et++;return void(b?ke.maxE<et?(at.e=NaN,at.d=null):et<ke.minE?(at.e=0,at.d=[0]):(at.e=et,at.d=[Qe]):(at.e=et,at.d=[Qe]))}return 0*Qe!=0?(Qe||(at.s=NaN),at.e=NaN,void(at.d=null)):ne(at,Qe.toString())}if(st!="string")throw Error(A+Qe);return(ct=Qe.charCodeAt(0))===45?(Qe=Qe.slice(1),at.s=-1):(ct===43&&(Qe=Qe.slice(1)),at.s=1),(I.test(Qe)?ne:re)(at,Qe)}if(ke.prototype=U,ke.ROUND_UP=0,ke.ROUND_DOWN=1,ke.ROUND_CEIL=2,ke.ROUND_FLOOR=3,ke.ROUND_HALF_UP=4,ke.ROUND_HALF_DOWN=5,ke.ROUND_HALF_EVEN=6,ke.ROUND_HALF_CEIL=7,ke.ROUND_HALF_FLOOR=8,ke.EUCLID=9,ke.config=ke.set=rt,ke.clone=_e,ke.isDecimal=Ke,ke.abs=Se,ke.acos=Fe,ke.acosh=$e,ke.add=Re,ke.asin=qe,ke.asinh=ze,ke.atan=we,ke.atanh=Ee,ke.atan2=Me,ke.cbrt=me,ke.ceil=Ge,ke.clamp=Xe,ke.cos=ut,ke.cosh=ft,ke.div=pt,ke.exp=ot,ke.floor=bt,ke.hypot=At,ke.ln=dt,ke.log=vt,ke.log10=Nt,ke.log2=wt,ke.max=Ot,ke.min=Tt,ke.mod=It,ke.mul=Pt,ke.pow=Rt,ke.random=Ft,ke.round=Bt,ke.sign=Ut,ke.sin=Xt,ke.sinh=Zt,ke.sqrt=Yt,ke.sub=rn,ke.sum=Gt,ke.tan=sn,ke.tanh=Je,ke.trunc=Ct,je===void 0&&(je={}),je&&je.defaults!==!0)for(He=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],Ue=0;Ue<He.length;)je.hasOwnProperty(Be=He[Ue++])||(je[Be]=this[Be]);return ke.config(je),ke}(p)).prototype.constructor=f).default=f.Decimal=f,_=new f(_),o=new f(o),a!==void 0&&a.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(U[Symbol.for("nodejs.util.inspect.custom")]=U.toString,U[Symbol.toStringTag]="Decimal"),a.exports=f):(g=g||(typeof self<"u"&&self&&self.self==self?self:window),l=g.Decimal,f.noConflict=function(){return g.Decimal=l,f},g.Decimal=f)})(this)},{}],56:[function(n,a,r){var g=Object.assign||function(x){for(var S=1;S<arguments.length;S++){var D=arguments[S];for(var h in D)Object.prototype.hasOwnProperty.call(D,h)&&(x[h]=D[h])}return x},f={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},m={"–":"\\--","—":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},l=function(x,S){return g({},x,S)};a.exports=function(x){for(var S=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},D=S.preserveFormatting,h=D!==void 0&&D,_=S.escapeMapFn,o=_===void 0?l:_,p=String(x),b="",y=o(g({},f),h?g({},m):{}),A=Object.keys(y);p;)(function(){var E=!1;A.forEach(function(N,T){E||p.length>=N.length&&p.slice(0,N.length)===N&&(b+=y[A[T]],p=p.slice(N.length,p.length),E=!0)}),E||(b+=p.slice(0,1),p=p.slice(1,p.length))})();return b}},{}],57:[function(n,a,r){(function(g){var f={s:1,n:0,d:1};function m(y){function A(){var N=Error.apply(this,arguments);N.name=this.name=y,this.stack=N.stack,this.message=N.message}function E(){}return E.prototype=Error.prototype,A.prototype=new E,A}var l=b.DivisionByZero=m("DivisionByZero"),x=b.InvalidParameter=m("InvalidParameter");function S(y,A){return isNaN(y=parseInt(y,10))&&D(),y*A}function D(){throw new x}function h(y){for(var A={},E=y,N=2,T=4;T<=E;){for(;E%N==0;)E/=N,A[N]=(A[N]||0)+1;T+=1+2*N++}return E!==y?1<E&&(A[E]=(A[E]||0)+1):A[y]=(A[y]||0)+1,A}var _=function(y,A){var E,N=0,T=1,O=1,j=0,M=0,F=0,B=1,I=1,G=0,k=1,V=1,R=1,U=1e7;if(y!=null)if(A!==void 0)O=(N=y)*(T=A);else switch(typeof y){case"object":"d"in y&&"n"in y?(N=y.n,T=y.d,"s"in y&&(N*=y.s)):0 in y?(N=y[0],1 in y&&(T=y[1])):D(),O=N*T;break;case"number":if(y<0&&(y=-(O=y)),y%1==0)N=y;else if(0<y){for(1<=y&&(y/=I=Math.pow(10,Math.floor(1+Math.log(y)/Math.LN10)));k<=U&&R<=U;){if(y===(E=(G+V)/(k+R))){T=k+R<=U?(N=G+V,k+R):k<R?(N=V,R):(N=G,k);break}E<y?(G+=V,k+=R):(V+=G,R+=k),T=U<k?(N=V,R):(N=G,k)}N*=I}else(isNaN(y)||isNaN(A))&&(T=N=NaN);break;case"string":if((k=y.match(/\d+|./g))===null&&D(),k[G]==="-"?(O=-1,G++):k[G]==="+"&&G++,k.length===G+1?M=S(k[G++],O):k[G+1]==="."||k[G]==="."?(k[G]!=="."&&(j=S(k[G++],O)),(++G+1===k.length||k[G+1]==="("&&k[G+3]===")"||k[G+1]==="'"&&k[G+3]==="'")&&(M=S(k[G],O),B=Math.pow(10,k[G].length),G++),(k[G]==="("&&k[G+2]===")"||k[G]==="'"&&k[G+2]==="'")&&(F=S(k[G+1],O),I=Math.pow(10,k[G+1].length)-1,G+=3)):k[G+1]==="/"||k[G+1]===":"?(M=S(k[G],O),B=S(k[G+2],1),G+=3):k[G+3]==="/"&&k[G+1]===" "&&(j=S(k[G],O),M=S(k[G+2],O),B=S(k[G+4],1),G+=5),k.length<=G){O=N=F+(T=B*I)*j+I*M;break}default:D()}if(T===0)throw new l;f.s=O<0?-1:1,f.n=Math.abs(N),f.d=Math.abs(T)};function o(y,A,E){for(var N=1,T=function(j,M,F){for(var B=1;0<M;j=j*j%F,M>>=1)1&M&&(B=B*j%F);return B}(10,E,A),O=0;O<300;O++){if(N===T)return O;N=10*N%A,T=10*T%A}return 0}function p(y,A){if(!y)return A;if(!A)return y;for(;;){if(!(y%=A))return A;if(!(A%=y))return y}}function b(y,A){if(!(this instanceof b))return new b(y,A);_(y,A),y=p(f.d,f.n),this.s=f.s,this.n=f.n/y,this.d=f.d/y}b.prototype={s:1,n:0,d:1,abs:function(){return new b(this.n,this.d)},neg:function(){return new b(-this.s*this.n,this.d)},add:function(y,A){return _(y,A),new b(this.s*this.n*f.d+f.s*this.d*f.n,this.d*f.d)},sub:function(y,A){return _(y,A),new b(this.s*this.n*f.d-f.s*this.d*f.n,this.d*f.d)},mul:function(y,A){return _(y,A),new b(this.s*f.s*this.n*f.n,this.d*f.d)},div:function(y,A){return _(y,A),new b(this.s*f.s*this.n*f.d,this.d*f.n)},clone:function(){return new b(this)},mod:function(y,A){return isNaN(this.n)||isNaN(this.d)?new b(NaN):y===void 0?new b(this.s*this.n%this.d,1):(_(y,A),f.n===0&&this.d===0&&b(0,0),new b(this.s*(f.d*this.n)%(f.n*this.d),f.d*this.d))},gcd:function(y,A){return _(y,A),new b(p(f.n,this.n)*p(f.d,this.d),f.d*this.d)},lcm:function(y,A){return _(y,A),f.n===0&&this.n===0?new b:new b(f.n*this.n,p(f.n,this.n)*p(f.d,this.d))},ceil:function(y){return y=Math.pow(10,y||0),isNaN(this.n)||isNaN(this.d)?new b(NaN):new b(Math.ceil(y*this.s*this.n/this.d),y)},floor:function(y){return y=Math.pow(10,y||0),isNaN(this.n)||isNaN(this.d)?new b(NaN):new b(Math.floor(y*this.s*this.n/this.d),y)},round:function(y){return y=Math.pow(10,y||0),isNaN(this.n)||isNaN(this.d)?new b(NaN):new b(Math.round(y*this.s*this.n/this.d),y)},inverse:function(){return new b(this.s*this.d,this.n)},pow:function(y,A){if(_(y,A),f.d===1)return f.s<0?new b(Math.pow(this.s*this.d,f.n),Math.pow(this.n,f.n)):new b(Math.pow(this.s*this.n,f.n),Math.pow(this.d,f.n));if(this.s<0)return null;var E=h(this.n),N=h(this.d),T=1,O=1;for(var j in E)if(j!=="1"){if(j==="0"){T=0;break}if(E[j]*=f.n,E[j]%f.d!=0)return null;E[j]/=f.d,T*=Math.pow(j,E[j])}for(var j in N)if(j!=="1"){if(N[j]*=f.n,N[j]%f.d!=0)return null;N[j]/=f.d,O*=Math.pow(j,N[j])}return f.s<0?new b(O,T):new b(T,O)},equals:function(y,A){return _(y,A),this.s*this.n*f.d==f.s*f.n*this.d},compare:function(y,A){_(y,A);var E=this.s*this.n*f.d-f.s*f.n*this.d;return(0<E)-(E<0)},simplify:function(y){if(isNaN(this.n)||isNaN(this.d))return this;var A=this.abs().toContinued();y=y||.001;for(var E=0;E<A.length;E++){var N=function T(O){return O.length===1?new b(O[0]):T(O.slice(1)).inverse().add(O[0])}(A.slice(0,E+1));if(N.sub(this.abs()).abs().valueOf()<y)return N.mul(this.s)}return this},divisible:function(y,A){return _(y,A),!(!(f.n*this.d)||this.n*f.d%(f.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(y){var A,E="",N=this.n,T=this.d;return this.s<0&&(E+="-"),T===1?E+=N:(y&&0<(A=Math.floor(N/T))&&(E+=A,E+=" ",N%=T),E+=N,E+="/",E+=T),E},toLatex:function(y){var A,E="",N=this.n,T=this.d;return this.s<0&&(E+="-"),T===1?E+=N:(y&&0<(A=Math.floor(N/T))&&(E+=A,N%=T),E+="\\frac{",E+=N,E+="}{",E+=T,E+="}"),E},toContinued:function(){var y,A=this.n,E=this.d,N=[];if(isNaN(A)||isNaN(E))return N;for(;N.push(Math.floor(A/E)),y=A%E,A=E,E=y,A!==1;);return N},toString:function(y){var A=this.n,E=this.d;if(isNaN(A)||isNaN(E))return"NaN";y=y||15;var N=function(M){for(;M%2==0;M/=2);for(;M%5==0;M/=5);if(M===1)return 0;for(var F=10%M,B=1;F!==1;B++)if(F=10*F%M,2e3<B)return 0;return B}(E),T=o(0,E,N),O=this.s===-1?"-":"";if(O+=A/E|0,A%=E,(A*=10)&&(O+="."),N){for(var j=T;j--;)O+=A/E|0,A%=E,A*=10;for(O+="(",j=N;j--;)O+=A/E|0,A%=E,A*=10;O+=")"}else for(j=y;A&&j--;)O+=A/E|0,A%=E,A*=10;return O}},typeof r=="object"?(Object.defineProperty(b,"__esModule",{value:!0}),(b.default=b).Fraction=b,a.exports=b):g.Fraction=b})(this)},{}],58:[function(n,a,r){a.exports=function g(f,m){function l(M){return g.insensitive&&(""+M).toLowerCase()||""+M}var x,S,D=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,h=/(^[ ]*|[ ]*$)/g,_=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,p=/^0/,b=l(f).replace(h,"")||"",y=l(m).replace(h,"")||"",A=b.replace(D,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),E=y.replace(D,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),N=parseInt(b.match(o),16)||A.length!==1&&b.match(_)&&Date.parse(b),T=parseInt(y.match(o),16)||N&&y.match(_)&&Date.parse(y)||null;if(T){if(N<T)return-1;if(T<N)return 1}for(var O=0,j=Math.max(A.length,E.length);O<j;O++){if(x=!(A[O]||"").match(p)&&parseFloat(A[O])||A[O]||0,S=!(E[O]||"").match(p)&&parseFloat(E[O])||E[O]||0,isNaN(x)!==isNaN(S))return isNaN(x)?1:-1;if(typeof x!=typeof S&&(x+="",S+=""),x<S)return-1;if(S<x)return 1}return 0}},{}],59:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createVersion=r.createUppercaseE=r.createUppercasePi=r.createI=r.createSQRT2=r.createSQRT1_2=r.createLOG10E=r.createLOG2E=r.createLN10=r.createLN2=r.createPhi=r.createE=r.createTau=r.createPi=r.createNaN=r.createInfinity=r.createNull=r.createFalse=r.createTrue=void 0;var g=n("./utils/factory"),f=n("./version"),m=n("./utils/bignumber/constants"),l=n("./plain/number"),x=(0,g.factory)("true",[],function(){return!0});r.createTrue=x;var S=(0,g.factory)("false",[],function(){return!1});r.createFalse=S;var D=(0,g.factory)("null",[],function(){return null});r.createNull=D;var h=G("Infinity",["config","?BigNumber"],function(k){var V=k.config,R=k.BigNumber;return V.number==="BigNumber"?new R(1/0):1/0});r.createInfinity=h;var _=G("NaN",["config","?BigNumber"],function(k){var V=k.config,R=k.BigNumber;return V.number==="BigNumber"?new R(NaN):NaN});r.createNaN=_;var o=G("pi",["config","?BigNumber"],function(k){var V=k.config,R=k.BigNumber;return V.number==="BigNumber"?(0,m.createBigNumberPi)(R):l.pi});r.createPi=o;var p=G("tau",["config","?BigNumber"],function(k){var V=k.config,R=k.BigNumber;return V.number==="BigNumber"?(0,m.createBigNumberTau)(R):l.tau});r.createTau=p;var b=G("e",["config","?BigNumber"],function(k){var V=k.config,R=k.BigNumber;return V.number==="BigNumber"?(0,m.createBigNumberE)(R):l.e});r.createE=b;var y=G("phi",["config","?BigNumber"],function(k){var V=k.config,R=k.BigNumber;return V.number==="BigNumber"?(0,m.createBigNumberPhi)(R):l.phi});r.createPhi=y;var A=G("LN2",["config","?BigNumber"],function(k){var V=k.config,R=k.BigNumber;return V.number==="BigNumber"?new R(2).ln():Math.LN2});r.createLN2=A;var E=G("LN10",["config","?BigNumber"],function(k){var V=k.config,R=k.BigNumber;return V.number==="BigNumber"?new R(10).ln():Math.LN10});r.createLN10=E;var N=G("LOG2E",["config","?BigNumber"],function(k){var V=k.config,R=k.BigNumber;return V.number==="BigNumber"?new R(1).div(new R(2).ln()):Math.LOG2E});r.createLOG2E=N;var T=G("LOG10E",["config","?BigNumber"],function(k){var V=k.config,R=k.BigNumber;return V.number==="BigNumber"?new R(1).div(new R(10).ln()):Math.LOG10E});r.createLOG10E=T;var O=G("SQRT1_2",["config","?BigNumber"],function(k){var V=k.config,R=k.BigNumber;return V.number==="BigNumber"?new R("0.5").sqrt():Math.SQRT1_2});r.createSQRT1_2=O;var j=G("SQRT2",["config","?BigNumber"],function(k){var V=k.config,R=k.BigNumber;return V.number==="BigNumber"?new R(2).sqrt():Math.SQRT2});r.createSQRT2=j;var M=G("i",["Complex"],function(k){return k.Complex.I});r.createI=M;var F=(0,g.factory)("PI",["pi"],function(k){return k.pi});r.createUppercasePi=F;var B=(0,g.factory)("E",["e"],function(k){return k.e});r.createUppercaseE=B;var I=(0,g.factory)("version",[],function(){return f.version});function G(k,V,R){return(0,g.factory)(k,V,R,{recreateOnConfigChange:!0})}r.createVersion=I},{"./plain/number":874,"./utils/bignumber/constants":924,"./utils/factory":931,"./version":942}],60:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_CONFIG=void 0,r.DEFAULT_CONFIG={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null}},{}],61:[function(n,a,r){function g(T){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(T)}Object.defineProperty(r,"__esModule",{value:!0}),r.create=N,n("./../utils/polyfills");var f=n("./../utils/object"),m=function(T){if(T&&T.__esModule)return T;if(T===null||g(T)!=="object"&&typeof T!="function")return{default:T};var O=A();if(O&&O.has(T))return O.get(T);var j={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in T){var B;Object.prototype.hasOwnProperty.call(T,F)&&((B=M?Object.getOwnPropertyDescriptor(T,F):null)&&(B.get||B.set)?Object.defineProperty(j,F,B):j[F]=T[F])}return j.default=T,O&&O.set(T,j),j}(n("./../utils/emitter")),l=n("./function/import"),x=n("./function/config"),S=n("../utils/factory"),D=n("../utils/is"),h=n("../utils/array"),_=n("../utils/log"),o=n("../error/ArgumentsError"),p=n("../error/DimensionError"),b=n("../error/IndexError"),y=n("./config");function A(){if(typeof WeakMap!="function")return null;var T=new WeakMap;return A=function(){return T},T}function E(){return(E=Object.assign||function(T){for(var O=1;O<arguments.length;O++){var j=arguments[O];for(var M in j)Object.prototype.hasOwnProperty.call(j,M)&&(T[M]=j[M])}return T}).apply(this,arguments)}function N(T,O){var j=E({},y.DEFAULT_CONFIG,O);if(typeof Object.create!="function")throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var M=m.mixin({isNumber:D.isNumber,isComplex:D.isComplex,isBigNumber:D.isBigNumber,isFraction:D.isFraction,isUnit:D.isUnit,isString:D.isString,isArray:D.isArray,isMatrix:D.isMatrix,isCollection:D.isCollection,isDenseMatrix:D.isDenseMatrix,isSparseMatrix:D.isSparseMatrix,isRange:D.isRange,isIndex:D.isIndex,isBoolean:D.isBoolean,isResultSet:D.isResultSet,isHelp:D.isHelp,isFunction:D.isFunction,isDate:D.isDate,isRegExp:D.isRegExp,isObject:D.isObject,isNull:D.isNull,isUndefined:D.isUndefined,isAccessorNode:D.isAccessorNode,isArrayNode:D.isArrayNode,isAssignmentNode:D.isAssignmentNode,isBlockNode:D.isBlockNode,isConditionalNode:D.isConditionalNode,isConstantNode:D.isConstantNode,isFunctionAssignmentNode:D.isFunctionAssignmentNode,isFunctionNode:D.isFunctionNode,isIndexNode:D.isIndexNode,isNode:D.isNode,isObjectNode:D.isObjectNode,isOperatorNode:D.isOperatorNode,isParenthesisNode:D.isParenthesisNode,isRangeNode:D.isRangeNode,isSymbolNode:D.isSymbolNode,isChain:D.isChain});M.config=(0,x.configFactory)(j,M.emit),M.expression={transform:{},mathWithTransform:{config:M.config}};var F=[],B=[],I={},G=(0,l.importFactory)(function(){for(var k=arguments.length,V=new Array(k),R=0;R<k;R++)V[R]=arguments[R];return M.typed.apply(M.typed,V)},function k(V){if((0,S.isFactory)(V))return V(M);var R=V[Object.keys(V)[0]];if((0,S.isFactory)(R))return R(M);if(!(0,f.isLegacyFactory)(V))throw console.warn("Factory object with properties `type`, `name`, and `factory` expected",V),new Error("Factory object with properties `type`, `name`, and `factory` expected");var U,L=F.indexOf(V);return L===-1?(U=V.math===!0?V.factory(M.type,j,k,M.typed,M):V.factory(M.type,j,k,M.typed),F.push(V),B.push(U)):U=B[L],U},M,I);return M.import=G,M.on("config",function(){(0,f.values)(I).forEach(function(k){k&&k.meta&&k.meta.recreateOnConfigChange&&G(k,{override:!0})})}),M.create=N.bind(null,T),M.factory=S.factory,M.import((0,f.values)((0,f.deepFlatten)(T))),["type.isNumber","type.isComplex","type.isBigNumber","type.isFraction","type.isUnit","type.isString","type.isArray","type.isMatrix","type.isDenseMatrix","type.isSparseMatrix","type.isCollection","type.isRange","type.isIndex","type.isBoolean","type.isResultSet","type.isHelp","type.isFunction","type.isDate","type.isRegExp","type.isObject","type.isNull","type.isUndefined","type.isAccessorNode","type.isArrayNode","type.isAssignmentNode","type.isBlockNode","type.isConditionalNode","type.isConstantNode","type.isFunctionAssignmentNode","type.isFunctionNode","type.isIndexNode","type.isNode","type.isObjectNode","type.isOperatorNode","type.isParenthesisNode","type.isRangeNode","type.isSymbolNode","type.isChain","type.BigNumber","type.Chain","type.Complex","type.Fraction","type.Matrix","type.DenseMatrix","type.SparseMatrix","type.Spa","type.FibonacciHeap","type.ImmutableDenseMatrix","type.Index","type.Range","type.ResultSet","type.Unit","type.Help","type.Parser","expression.parse","expression.Parser","expression.node.AccessorNode","expression.node.ArrayNode","expression.node.AssignmentNode","expression.node.BlockNode","expression.node.ConditionalNode","expression.node.ConstantNode","expression.node.IndexNode","expression.node.FunctionAssignmentNode","expression.node.FunctionNode","expression.node.Node","expression.node.ObjectNode","expression.node.OperatorNode","expression.node.ParenthesisNode","expression.node.RangeNode","expression.node.RelationalNode","expression.node.SymbolNode","json.reviver","error.ArgumentsError","error.DimensionError","error.IndexError"].forEach(function(k){var V=k.split("."),R=(0,h.initial)(V),U=(0,h.last)(V),L=(0,f.traverse)(M,R);(0,f.lazy)(L,U,function(){return(0,_.warnOnce)("math.".concat(k," is moved to math.").concat(U," in v6.0.0. ")+"Please use the new location instead."),M[U]})}),(0,f.lazy)(M.expression,"docs",function(){throw new Error(`math.expression.docs has been moved. Please import via "import { docs } from 'mathjs'"`)}),M.ArgumentsError=o.ArgumentsError,M.DimensionError=p.DimensionError,M.IndexError=b.IndexError,M}},{"../error/ArgumentsError":398,"../error/DimensionError":399,"../error/IndexError":400,"../utils/array":922,"../utils/factory":931,"../utils/is":933,"../utils/log":935,"./../utils/emitter":930,"./../utils/object":938,"./../utils/polyfills":939,"./config":60,"./function/config":62,"./function/import":64}],62:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.configFactory=function(S,D){function h(_){if(_){var o=(0,g.mapObject)(S,g.clone);x(_,"matrix",m),x(_,"number",l),(0,g.deepExtend)(S,_);var p=(0,g.mapObject)(S,g.clone),b=(0,g.mapObject)(_,g.clone);return D("config",p,o,b),p}return(0,g.mapObject)(S,g.clone)}return h.MATRIX_OPTIONS=m,h.NUMBER_OPTIONS=l,Object.keys(f.DEFAULT_CONFIG).forEach(function(_){Object.defineProperty(h,_,{get:function(){return S[_]},enumerable:!0,configurable:!0})}),h},r.NUMBER_OPTIONS=r.MATRIX_OPTIONS=void 0;var g=n("../../utils/object"),f=n("../config"),m=["Matrix","Array"];r.MATRIX_OPTIONS=m;var l=["number","BigNumber","Fraction"];function x(S,D,h){var _,o,p;S[D]!==void 0&&(o=h,p=S[D],o.indexOf(p)===-1)&&((_=function(b,y){return b.map(function(A){return A.toLowerCase()}).indexOf(y.toLowerCase())}(h,S[D]))!==-1?(console.warn('Warning: Wrong casing for configuration option "'+D+'", should be "'+h[_]+'" instead of "'+S[D]+'".'),S[D]=h[_]):console.warn('Warning: Unknown value "'+S[D]+'" for configuration option "'+D+'". Available options: '+h.map(JSON.stringify).join(", ")+"."))}r.NUMBER_OPTIONS=l},{"../../utils/object":938,"../config":60}],63:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeprecatedImport=function(){return function(){throw new Error(`The global import function is not available anymore in v6.0.0. 
Please create a mathjs instance if you want to import functions. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.import(...);
`)}}},{}],64:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.importFactory=function(h,_,o,p){function b(M,F){F&&typeof F.transform=="function"?(o.expression.transform[M]=F.transform,E(M)&&(o.expression.mathWithTransform[M]=F.transform)):(delete o.expression.transform[M],E(M)&&(o.expression.mathWithTransform[M]=F))}function y(M){delete o.expression.transform[M],E(M)?o.expression.mathWithTransform[M]=o[M]:delete o.expression.mathWithTransform[M]}function A(M){return typeof M=="function"&&D(M.signatures)==="object"}function E(M){return!(0,m.hasOwnProperty)(j,M)}function N(M){return M.path===void 0&&!(0,m.hasOwnProperty)(j,M.name)}function T(M){return!(M.fn.indexOf(".")!==-1||(0,m.hasOwnProperty)(j,M.fn)||M.meta&&M.meta.isClass)}function O(M){return M!==void 0&&M.meta!==void 0&&M.meta.isTransformFunction===!0}var j={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function(M,F){var B=arguments.length;if(B!==1&&B!==2)throw new x.ArgumentsError("import",B,1,2);F=F||{};var I,G={};for(var k in function R(U,L,H){if((0,m.isLegacyFactory)(L))(function(J,K){var $,W,Y,te,ce,oe;(0,S.warnOnce)("Factories of type { name, factory } are deprecated since v6. Please create your factory functions using the math.factory function."),typeof J.name=="string"?($=J.name,W=$ in o.expression.transform,Y=J.path?(0,m.traverse)(o,J.path):o,te=(0,m.hasOwnProperty)(Y,$)?Y[$]:void 0,!(ce=function(){var ue=_(J);if(ue&&typeof ue.transform=="function")throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(A(te)&&A(ue))return K.override||(ue=h(te,ue)),ue;if(te===void 0||K.override)return ue;if(K.silent)return te;throw new Error('Cannot import "'+$+'": already exists')})!==J.lazy?((0,m.lazy)(Y,$,ce),W?y($):J.path!=="expression.transform"&&!N(J)||(0,m.lazy)(o.expression.mathWithTransform,$,ce)):(Y[$]=ce(),W?y($):J.path!=="expression.transform"&&!N(J)||(o.expression.mathWithTransform[$]=ce())),oe=J.path?J.path+"."+J.name:J.name,p[oe]=J,o.emit("import",$,ce,J.path)):_(J)})(L,F);else if(Array.isArray(L))L.forEach(function(J){return R(U,J)});else if(D(L)==="object")for(var X in L)(0,m.hasOwnProperty)(L,X)&&R(U,L[X],X);else if((0,f.isFactory)(L)||H!==void 0){var Z=(0,f.isFactory)(L)?O(L)?L.fn+".transform":L.fn:H;if((0,m.hasOwnProperty)(U,Z)&&U[Z]!==L&&!F.silent)throw new Error('Cannot import "'+Z+'" twice');U[Z]=L}else if(!F.silent)throw new TypeError("Factory, Object, or Array expected")}(G,M),G)if((0,m.hasOwnProperty)(G,k)){var V=G[k];if((0,f.isFactory)(V))(function(R,U){var L=2<arguments.length&&arguments[2]!==void 0?arguments[2]:R.fn;if((0,l.contains)(L,"."))throw new Error("Factory name should not contain a nested path. Name: "+JSON.stringify(L));var H=O(R)?o.expression.transform:o,X=L in o.expression.transform,Z=(0,m.hasOwnProperty)(H,L)?H[L]:void 0,J=function(){var K={};R.dependencies.map(f.stripOptionalNotation).forEach(function(W){if((0,l.contains)(W,"."))throw new Error("Factory dependency should not contain a nested path. Name: "+JSON.stringify(W));W==="math"?K.math=o:W==="mathWithTransform"?K.mathWithTransform=o.expression.mathWithTransform:W==="classes"?K.classes=o:K[W]=o[W]});var $=R(K);if($&&typeof $.transform=="function")throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(Z===void 0||U.override)return $;if(A(Z)&&A($))return h(Z,$);if(U.silent)return Z;throw new Error('Cannot import "'+L+'": already exists')};R.meta&&R.meta.lazy===!1?H[L]=J():(0,m.lazy)(H,L,J),Z&&X?y(L):(O(R)||T(R))&&(0,m.lazy)(o.expression.mathWithTransform,L,function(){return H[L]}),p[L]=R,o.emit("import",L,J)})(V,F);else if(typeof(I=V)=="function"||typeof I=="number"||typeof I=="string"||typeof I=="boolean"||I===null||(0,g.isUnit)(I)||(0,g.isComplex)(I)||(0,g.isBigNumber)(I)||(0,g.isFraction)(I)||(0,g.isMatrix)(I)||Array.isArray(I))(function(R,U,L){if(L.wrap&&typeof U=="function"&&(U=function(H){var X=function(){for(var Z=[],J=0,K=arguments.length;J<K;J++){var $=arguments[J];Z[J]=$&&$.valueOf()}return H.apply(o,Z)};return H.transform&&(X.transform=H.transform),X}(U)),!function(H){return typeof H=="function"&&typeof H.signature=="string"}(U)||(U=h(R,function(H,X,Z){return X in H?Object.defineProperty(H,X,{value:Z,enumerable:!0,configurable:!0,writable:!0}):H[X]=Z,H}({},U.signature,U))),A(o[R])&&A(U))return U=L.override?h(R,U.signatures):h(o[R],U),o[R]=U,delete p[R],b(R,U),o.emit("import",R,function(){return U});if(o[R]===void 0||L.override)return o[R]=U,delete p[R],b(R,U),o.emit("import",R,function(){return U});if(!L.silent)throw new Error('Cannot import "'+R+'": already exists')})(k,V,F);else if(!F.silent)throw new TypeError("Factory, Object, or Array expected")}}};var g=n("../../utils/is"),f=n("../../utils/factory"),m=n("../../utils/object"),l=n("../../utils/array"),x=n("../../error/ArgumentsError"),S=n("../../utils/log");function D(h){return(D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}},{"../../error/ArgumentsError":398,"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/log":935,"../../utils/object":938}],65:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createTyped=void 0;var g,f=n("../../utils/is"),m=(g=n("typed-function"))&&g.__esModule?g:{default:g},l=n("../../utils/number"),x=n("../../utils/factory"),S=function(){return S=m.default.create,m.default},D=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],h=(0,x.factory)("typed",D,function(b){var y=b.BigNumber,A=b.Complex,E=b.DenseMatrix,N=b.Fraction,T=S();return T.types=[{name:"number",test:f.isNumber},{name:"Complex",test:f.isComplex},{name:"BigNumber",test:f.isBigNumber},{name:"Fraction",test:f.isFraction},{name:"Unit",test:f.isUnit},{name:"string",test:f.isString},{name:"Chain",test:f.isChain},{name:"Array",test:f.isArray},{name:"Matrix",test:f.isMatrix},{name:"DenseMatrix",test:f.isDenseMatrix},{name:"SparseMatrix",test:f.isSparseMatrix},{name:"Range",test:f.isRange},{name:"Index",test:f.isIndex},{name:"boolean",test:f.isBoolean},{name:"ResultSet",test:f.isResultSet},{name:"Help",test:f.isHelp},{name:"function",test:f.isFunction},{name:"Date",test:f.isDate},{name:"RegExp",test:f.isRegExp},{name:"null",test:f.isNull},{name:"undefined",test:f.isUndefined},{name:"AccessorNode",test:f.isAccessorNode},{name:"ArrayNode",test:f.isArrayNode},{name:"AssignmentNode",test:f.isAssignmentNode},{name:"BlockNode",test:f.isBlockNode},{name:"ConditionalNode",test:f.isConditionalNode},{name:"ConstantNode",test:f.isConstantNode},{name:"FunctionNode",test:f.isFunctionNode},{name:"FunctionAssignmentNode",test:f.isFunctionAssignmentNode},{name:"IndexNode",test:f.isIndexNode},{name:"Node",test:f.isNode},{name:"ObjectNode",test:f.isObjectNode},{name:"OperatorNode",test:f.isOperatorNode},{name:"ParenthesisNode",test:f.isParenthesisNode},{name:"RangeNode",test:f.isRangeNode},{name:"SymbolNode",test:f.isSymbolNode},{name:"Object",test:f.isObject}],T.conversions=[{from:"number",to:"BigNumber",convert:function(O){if(y||_(O),15<(0,l.digits)(O))throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+O+"). Use function bignumber(x) to convert to BigNumber.");return new y(O)}},{from:"number",to:"Complex",convert:function(O){return A||o(O),new A(O,0)}},{from:"number",to:"string",convert:function(O){return O+""}},{from:"BigNumber",to:"Complex",convert:function(O){return A||o(O),new A(O.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(O){return A||o(O),new A(O.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(O){N||p(O);var j=new N(O);if(j.valueOf()!==O)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+O+"). Use function fraction(x) to convert to Fraction.");return j}},{from:"string",to:"number",convert:function(O){var j=Number(O);if(isNaN(j))throw new Error('Cannot convert "'+O+'" to a number');return j}},{from:"string",to:"BigNumber",convert:function(O){y||_(O);try{return new y(O)}catch{throw new Error('Cannot convert "'+O+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(O){N||p(O);try{return new N(O)}catch{throw new Error('Cannot convert "'+O+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(O){A||o(O);try{return new A(O)}catch{throw new Error('Cannot convert "'+O+'" to Complex')}}},{from:"boolean",to:"number",convert:function(O){return+O}},{from:"boolean",to:"BigNumber",convert:function(O){return y||_(O),new y(+O)}},{from:"boolean",to:"Fraction",convert:function(O){return N||p(O),new N(+O)}},{from:"boolean",to:"string",convert:function(O){return String(O)}},{from:"Array",to:"Matrix",convert:function(O){return E||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new E(O)}},{from:"Matrix",to:"Array",convert:function(O){return O.valueOf()}}],T});function _(b){throw new Error("Cannot convert value ".concat(b," into a BigNumber: no class 'BigNumber' provided"))}function o(b){throw new Error("Cannot convert value ".concat(b," into a Complex number: no class 'Complex' provided"))}function p(b){throw new Error("Cannot convert value ".concat(b," into a Fraction, no class 'Fraction' provided."))}r.createTyped=h},{"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937,"typed-function":946}],66:[function(n,a,r){function g(l){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(l)}Object.defineProperty(r,"__esModule",{value:!0}),r.all=void 0;var f=function(l){if(l&&l.__esModule)return l;if(l===null||g(l)!=="object"&&typeof l!="function")return{default:l};var x=m();if(x&&x.has(l))return x.get(l);var S={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l){var _;Object.prototype.hasOwnProperty.call(l,h)&&((_=D?Object.getOwnPropertyDescriptor(l,h):null)&&(_.get||_.set)?Object.defineProperty(S,h,_):S[h]=l[h])}return S.default=l,x&&x.set(l,S),S}(n("../factoriesAny"));function m(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return m=function(){return l},l}r.all=f},{"../factoriesAny":658}],67:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.config=void 0;var g=n("../core/config"),f=n("../core/function/config");function m(){return(m=Object.assign||function(x){for(var S=1;S<arguments.length;S++){var D=arguments[S];for(var h in D)Object.prototype.hasOwnProperty.call(D,h)&&(x[h]=D[h])}return x}).apply(this,arguments)}var l=function(x){if(x)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(g.DEFAULT_CONFIG)};m(r.config=l,g.DEFAULT_CONFIG,{MATRIX_OPTIONS:f.MATRIX_OPTIONS,NUMBER_OPTIONS:f.NUMBER_OPTIONS})},{"../core/config":60,"../core/function/config":62}],68:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"typedDependencies",{enumerable:!0,get:function(){return g.typedDependencies}}),Object.defineProperty(r,"ResultSetDependencies",{enumerable:!0,get:function(){return f.ResultSetDependencies}}),Object.defineProperty(r,"BigNumberDependencies",{enumerable:!0,get:function(){return m.BigNumberDependencies}}),Object.defineProperty(r,"ComplexDependencies",{enumerable:!0,get:function(){return l.ComplexDependencies}}),Object.defineProperty(r,"FractionDependencies",{enumerable:!0,get:function(){return x.FractionDependencies}}),Object.defineProperty(r,"RangeDependencies",{enumerable:!0,get:function(){return S.RangeDependencies}}),Object.defineProperty(r,"MatrixDependencies",{enumerable:!0,get:function(){return D.MatrixDependencies}}),Object.defineProperty(r,"DenseMatrixDependencies",{enumerable:!0,get:function(){return h.DenseMatrixDependencies}}),Object.defineProperty(r,"cloneDependencies",{enumerable:!0,get:function(){return _.cloneDependencies}}),Object.defineProperty(r,"isIntegerDependencies",{enumerable:!0,get:function(){return o.isIntegerDependencies}}),Object.defineProperty(r,"isNegativeDependencies",{enumerable:!0,get:function(){return p.isNegativeDependencies}}),Object.defineProperty(r,"isNumericDependencies",{enumerable:!0,get:function(){return b.isNumericDependencies}}),Object.defineProperty(r,"hasNumericValueDependencies",{enumerable:!0,get:function(){return y.hasNumericValueDependencies}}),Object.defineProperty(r,"isPositiveDependencies",{enumerable:!0,get:function(){return A.isPositiveDependencies}}),Object.defineProperty(r,"isZeroDependencies",{enumerable:!0,get:function(){return E.isZeroDependencies}}),Object.defineProperty(r,"isNaNDependencies",{enumerable:!0,get:function(){return N.isNaNDependencies}}),Object.defineProperty(r,"typeOfDependencies",{enumerable:!0,get:function(){return T.typeOfDependencies}}),Object.defineProperty(r,"typeofDependencies",{enumerable:!0,get:function(){return O.typeofDependencies}}),Object.defineProperty(r,"equalScalarDependencies",{enumerable:!0,get:function(){return j.equalScalarDependencies}}),Object.defineProperty(r,"SparseMatrixDependencies",{enumerable:!0,get:function(){return M.SparseMatrixDependencies}}),Object.defineProperty(r,"numberDependencies",{enumerable:!0,get:function(){return F.numberDependencies}}),Object.defineProperty(r,"stringDependencies",{enumerable:!0,get:function(){return B.stringDependencies}}),Object.defineProperty(r,"booleanDependencies",{enumerable:!0,get:function(){return I.booleanDependencies}}),Object.defineProperty(r,"bignumberDependencies",{enumerable:!0,get:function(){return G.bignumberDependencies}}),Object.defineProperty(r,"complexDependencies",{enumerable:!0,get:function(){return k.complexDependencies}}),Object.defineProperty(r,"fractionDependencies",{enumerable:!0,get:function(){return V.fractionDependencies}}),Object.defineProperty(r,"matrixDependencies",{enumerable:!0,get:function(){return R.matrixDependencies}}),Object.defineProperty(r,"splitUnitDependencies",{enumerable:!0,get:function(){return U.splitUnitDependencies}}),Object.defineProperty(r,"unaryMinusDependencies",{enumerable:!0,get:function(){return L.unaryMinusDependencies}}),Object.defineProperty(r,"unaryPlusDependencies",{enumerable:!0,get:function(){return H.unaryPlusDependencies}}),Object.defineProperty(r,"absDependencies",{enumerable:!0,get:function(){return X.absDependencies}}),Object.defineProperty(r,"applyDependencies",{enumerable:!0,get:function(){return Z.applyDependencies}}),Object.defineProperty(r,"addScalarDependencies",{enumerable:!0,get:function(){return J.addScalarDependencies}}),Object.defineProperty(r,"cbrtDependencies",{enumerable:!0,get:function(){return K.cbrtDependencies}}),Object.defineProperty(r,"ceilDependencies",{enumerable:!0,get:function(){return $.ceilDependencies}}),Object.defineProperty(r,"cubeDependencies",{enumerable:!0,get:function(){return W.cubeDependencies}}),Object.defineProperty(r,"expDependencies",{enumerable:!0,get:function(){return Y.expDependencies}}),Object.defineProperty(r,"expm1Dependencies",{enumerable:!0,get:function(){return te.expm1Dependencies}}),Object.defineProperty(r,"fixDependencies",{enumerable:!0,get:function(){return ce.fixDependencies}}),Object.defineProperty(r,"floorDependencies",{enumerable:!0,get:function(){return oe.floorDependencies}}),Object.defineProperty(r,"gcdDependencies",{enumerable:!0,get:function(){return ue.gcdDependencies}}),Object.defineProperty(r,"lcmDependencies",{enumerable:!0,get:function(){return Ce.lcmDependencies}}),Object.defineProperty(r,"log10Dependencies",{enumerable:!0,get:function(){return le.log10Dependencies}}),Object.defineProperty(r,"log2Dependencies",{enumerable:!0,get:function(){return ye.log2Dependencies}}),Object.defineProperty(r,"modDependencies",{enumerable:!0,get:function(){return ve.modDependencies}}),Object.defineProperty(r,"multiplyScalarDependencies",{enumerable:!0,get:function(){return pe.multiplyScalarDependencies}}),Object.defineProperty(r,"multiplyDependencies",{enumerable:!0,get:function(){return be.multiplyDependencies}}),Object.defineProperty(r,"nthRootDependencies",{enumerable:!0,get:function(){return Ne.nthRootDependencies}}),Object.defineProperty(r,"signDependencies",{enumerable:!0,get:function(){return he.signDependencies}}),Object.defineProperty(r,"sqrtDependencies",{enumerable:!0,get:function(){return ne.sqrtDependencies}}),Object.defineProperty(r,"squareDependencies",{enumerable:!0,get:function(){return re.squareDependencies}}),Object.defineProperty(r,"subtractDependencies",{enumerable:!0,get:function(){return de.subtractDependencies}}),Object.defineProperty(r,"xgcdDependencies",{enumerable:!0,get:function(){return xe.xgcdDependencies}}),Object.defineProperty(r,"dotMultiplyDependencies",{enumerable:!0,get:function(){return Pe.dotMultiplyDependencies}}),Object.defineProperty(r,"bitAndDependencies",{enumerable:!0,get:function(){return Ae.bitAndDependencies}}),Object.defineProperty(r,"bitNotDependencies",{enumerable:!0,get:function(){return Oe.bitNotDependencies}}),Object.defineProperty(r,"bitOrDependencies",{enumerable:!0,get:function(){return Se.bitOrDependencies}}),Object.defineProperty(r,"bitXorDependencies",{enumerable:!0,get:function(){return Fe.bitXorDependencies}}),Object.defineProperty(r,"argDependencies",{enumerable:!0,get:function(){return $e.argDependencies}}),Object.defineProperty(r,"conjDependencies",{enumerable:!0,get:function(){return Re.conjDependencies}}),Object.defineProperty(r,"imDependencies",{enumerable:!0,get:function(){return qe.imDependencies}}),Object.defineProperty(r,"reDependencies",{enumerable:!0,get:function(){return ze.reDependencies}}),Object.defineProperty(r,"notDependencies",{enumerable:!0,get:function(){return we.notDependencies}}),Object.defineProperty(r,"orDependencies",{enumerable:!0,get:function(){return Ee.orDependencies}}),Object.defineProperty(r,"xorDependencies",{enumerable:!0,get:function(){return Me.xorDependencies}}),Object.defineProperty(r,"concatDependencies",{enumerable:!0,get:function(){return me.concatDependencies}}),Object.defineProperty(r,"columnDependencies",{enumerable:!0,get:function(){return Ge.columnDependencies}}),Object.defineProperty(r,"crossDependencies",{enumerable:!0,get:function(){return Xe.crossDependencies}}),Object.defineProperty(r,"diagDependencies",{enumerable:!0,get:function(){return rt.diagDependencies}}),Object.defineProperty(r,"eyeDependencies",{enumerable:!0,get:function(){return ut.eyeDependencies}}),Object.defineProperty(r,"filterDependencies",{enumerable:!0,get:function(){return ft.filterDependencies}}),Object.defineProperty(r,"flattenDependencies",{enumerable:!0,get:function(){return pt.flattenDependencies}}),Object.defineProperty(r,"forEachDependencies",{enumerable:!0,get:function(){return ot.forEachDependencies}}),Object.defineProperty(r,"getMatrixDataTypeDependencies",{enumerable:!0,get:function(){return bt.getMatrixDataTypeDependencies}}),Object.defineProperty(r,"identityDependencies",{enumerable:!0,get:function(){return At.identityDependencies}}),Object.defineProperty(r,"kronDependencies",{enumerable:!0,get:function(){return Ke.kronDependencies}}),Object.defineProperty(r,"mapDependencies",{enumerable:!0,get:function(){return dt.mapDependencies}}),Object.defineProperty(r,"onesDependencies",{enumerable:!0,get:function(){return vt.onesDependencies}}),Object.defineProperty(r,"rangeDependencies",{enumerable:!0,get:function(){return wt.rangeDependencies}}),Object.defineProperty(r,"reshapeDependencies",{enumerable:!0,get:function(){return Nt.reshapeDependencies}}),Object.defineProperty(r,"resizeDependencies",{enumerable:!0,get:function(){return Ot.resizeDependencies}}),Object.defineProperty(r,"rowDependencies",{enumerable:!0,get:function(){return Tt.rowDependencies}}),Object.defineProperty(r,"sizeDependencies",{enumerable:!0,get:function(){return It.sizeDependencies}}),Object.defineProperty(r,"squeezeDependencies",{enumerable:!0,get:function(){return Pt.squeezeDependencies}}),Object.defineProperty(r,"subsetDependencies",{enumerable:!0,get:function(){return Rt.subsetDependencies}}),Object.defineProperty(r,"transposeDependencies",{enumerable:!0,get:function(){return Ft.transposeDependencies}}),Object.defineProperty(r,"ctransposeDependencies",{enumerable:!0,get:function(){return Bt.ctransposeDependencies}}),Object.defineProperty(r,"zerosDependencies",{enumerable:!0,get:function(){return Ut.zerosDependencies}}),Object.defineProperty(r,"erfDependencies",{enumerable:!0,get:function(){return Xt.erfDependencies}}),Object.defineProperty(r,"modeDependencies",{enumerable:!0,get:function(){return Zt.modeDependencies}}),Object.defineProperty(r,"prodDependencies",{enumerable:!0,get:function(){return Yt.prodDependencies}}),Object.defineProperty(r,"formatDependencies",{enumerable:!0,get:function(){return rn.formatDependencies}}),Object.defineProperty(r,"printDependencies",{enumerable:!0,get:function(){return Gt.printDependencies}}),Object.defineProperty(r,"toDependencies",{enumerable:!0,get:function(){return sn.toDependencies}}),Object.defineProperty(r,"isPrimeDependencies",{enumerable:!0,get:function(){return Je.isPrimeDependencies}}),Object.defineProperty(r,"numericDependencies",{enumerable:!0,get:function(){return Ct.numericDependencies}}),Object.defineProperty(r,"divideScalarDependencies",{enumerable:!0,get:function(){return _e.divideScalarDependencies}}),Object.defineProperty(r,"powDependencies",{enumerable:!0,get:function(){return je.powDependencies}}),Object.defineProperty(r,"roundDependencies",{enumerable:!0,get:function(){return Ue.roundDependencies}}),Object.defineProperty(r,"logDependencies",{enumerable:!0,get:function(){return Be.logDependencies}}),Object.defineProperty(r,"log1pDependencies",{enumerable:!0,get:function(){return He.log1pDependencies}}),Object.defineProperty(r,"nthRootsDependencies",{enumerable:!0,get:function(){return ke.nthRootsDependencies}}),Object.defineProperty(r,"dotPowDependencies",{enumerable:!0,get:function(){return Qe.dotPowDependencies}}),Object.defineProperty(r,"dotDivideDependencies",{enumerable:!0,get:function(){return et.dotDivideDependencies}}),Object.defineProperty(r,"lsolveDependencies",{enumerable:!0,get:function(){return ct.lsolveDependencies}}),Object.defineProperty(r,"usolveDependencies",{enumerable:!0,get:function(){return st.usolveDependencies}}),Object.defineProperty(r,"leftShiftDependencies",{enumerable:!0,get:function(){return at.leftShiftDependencies}}),Object.defineProperty(r,"rightArithShiftDependencies",{enumerable:!0,get:function(){return St.rightArithShiftDependencies}}),Object.defineProperty(r,"rightLogShiftDependencies",{enumerable:!0,get:function(){return jt.rightLogShiftDependencies}}),Object.defineProperty(r,"andDependencies",{enumerable:!0,get:function(){return zt.andDependencies}}),Object.defineProperty(r,"compareDependencies",{enumerable:!0,get:function(){return $t.compareDependencies}}),Object.defineProperty(r,"compareNaturalDependencies",{enumerable:!0,get:function(){return Qt.compareNaturalDependencies}}),Object.defineProperty(r,"compareTextDependencies",{enumerable:!0,get:function(){return tn.compareTextDependencies}}),Object.defineProperty(r,"equalDependencies",{enumerable:!0,get:function(){return an.equalDependencies}}),Object.defineProperty(r,"equalTextDependencies",{enumerable:!0,get:function(){return un.equalTextDependencies}}),Object.defineProperty(r,"smallerDependencies",{enumerable:!0,get:function(){return bn.smallerDependencies}}),Object.defineProperty(r,"smallerEqDependencies",{enumerable:!0,get:function(){return Un.smallerEqDependencies}}),Object.defineProperty(r,"largerDependencies",{enumerable:!0,get:function(){return tr.largerDependencies}}),Object.defineProperty(r,"largerEqDependencies",{enumerable:!0,get:function(){return Gn.largerEqDependencies}}),Object.defineProperty(r,"deepEqualDependencies",{enumerable:!0,get:function(){return nr.deepEqualDependencies}}),Object.defineProperty(r,"unequalDependencies",{enumerable:!0,get:function(){return Bn.unequalDependencies}}),Object.defineProperty(r,"partitionSelectDependencies",{enumerable:!0,get:function(){return Vn.partitionSelectDependencies}}),Object.defineProperty(r,"sortDependencies",{enumerable:!0,get:function(){return Jn.sortDependencies}}),Object.defineProperty(r,"maxDependencies",{enumerable:!0,get:function(){return zn.maxDependencies}}),Object.defineProperty(r,"minDependencies",{enumerable:!0,get:function(){return dn.minDependencies}}),Object.defineProperty(r,"ImmutableDenseMatrixDependencies",{enumerable:!0,get:function(){return on.ImmutableDenseMatrixDependencies}}),Object.defineProperty(r,"IndexDependencies",{enumerable:!0,get:function(){return _r.IndexDependencies}}),Object.defineProperty(r,"FibonacciHeapDependencies",{enumerable:!0,get:function(){return cr.FibonacciHeapDependencies}}),Object.defineProperty(r,"SpaDependencies",{enumerable:!0,get:function(){return ur.SpaDependencies}}),Object.defineProperty(r,"UnitDependencies",{enumerable:!0,get:function(){return Wn.UnitDependencies}}),Object.defineProperty(r,"unitDependencies",{enumerable:!0,get:function(){return zr.unitDependencies}}),Object.defineProperty(r,"sparseDependencies",{enumerable:!0,get:function(){return Gr.sparseDependencies}}),Object.defineProperty(r,"createUnitDependencies",{enumerable:!0,get:function(){return lr.createUnitDependencies}}),Object.defineProperty(r,"acosDependencies",{enumerable:!0,get:function(){return Tn.acosDependencies}}),Object.defineProperty(r,"acoshDependencies",{enumerable:!0,get:function(){return ti.acoshDependencies}}),Object.defineProperty(r,"acotDependencies",{enumerable:!0,get:function(){return Or.acotDependencies}}),Object.defineProperty(r,"acothDependencies",{enumerable:!0,get:function(){return xr.acothDependencies}}),Object.defineProperty(r,"acscDependencies",{enumerable:!0,get:function(){return Pn.acscDependencies}}),Object.defineProperty(r,"acschDependencies",{enumerable:!0,get:function(){return hr.acschDependencies}}),Object.defineProperty(r,"asecDependencies",{enumerable:!0,get:function(){return xn.asecDependencies}}),Object.defineProperty(r,"asechDependencies",{enumerable:!0,get:function(){return Pr.asechDependencies}}),Object.defineProperty(r,"asinDependencies",{enumerable:!0,get:function(){return Vr.asinDependencies}}),Object.defineProperty(r,"asinhDependencies",{enumerable:!0,get:function(){return Ar.asinhDependencies}}),Object.defineProperty(r,"atanDependencies",{enumerable:!0,get:function(){return wr.atanDependencies}}),Object.defineProperty(r,"atan2Dependencies",{enumerable:!0,get:function(){return ni.atan2Dependencies}}),Object.defineProperty(r,"atanhDependencies",{enumerable:!0,get:function(){return ri.atanhDependencies}}),Object.defineProperty(r,"cosDependencies",{enumerable:!0,get:function(){return rr.cosDependencies}}),Object.defineProperty(r,"coshDependencies",{enumerable:!0,get:function(){return Xn.coshDependencies}}),Object.defineProperty(r,"cotDependencies",{enumerable:!0,get:function(){return Yn.cotDependencies}}),Object.defineProperty(r,"cothDependencies",{enumerable:!0,get:function(){return Rn.cothDependencies}}),Object.defineProperty(r,"cscDependencies",{enumerable:!0,get:function(){return mr.cscDependencies}}),Object.defineProperty(r,"cschDependencies",{enumerable:!0,get:function(){return $n.cschDependencies}}),Object.defineProperty(r,"secDependencies",{enumerable:!0,get:function(){return ir.secDependencies}}),Object.defineProperty(r,"sechDependencies",{enumerable:!0,get:function(){return ii.sechDependencies}}),Object.defineProperty(r,"sinDependencies",{enumerable:!0,get:function(){return Zn.sinDependencies}}),Object.defineProperty(r,"sinhDependencies",{enumerable:!0,get:function(){return Dr.sinhDependencies}}),Object.defineProperty(r,"tanDependencies",{enumerable:!0,get:function(){return $r.tanDependencies}}),Object.defineProperty(r,"tanhDependencies",{enumerable:!0,get:function(){return Hr.tanhDependencies}}),Object.defineProperty(r,"setCartesianDependencies",{enumerable:!0,get:function(){return qr.setCartesianDependencies}}),Object.defineProperty(r,"setDifferenceDependencies",{enumerable:!0,get:function(){return Wr.setDifferenceDependencies}}),Object.defineProperty(r,"setDistinctDependencies",{enumerable:!0,get:function(){return jr.setDistinctDependencies}}),Object.defineProperty(r,"setIntersectDependencies",{enumerable:!0,get:function(){return dr.setIntersectDependencies}}),Object.defineProperty(r,"setIsSubsetDependencies",{enumerable:!0,get:function(){return Ir.setIsSubsetDependencies}}),Object.defineProperty(r,"setMultiplicityDependencies",{enumerable:!0,get:function(){return Xr.setMultiplicityDependencies}}),Object.defineProperty(r,"setPowersetDependencies",{enumerable:!0,get:function(){return Qr.setPowersetDependencies}}),Object.defineProperty(r,"setSizeDependencies",{enumerable:!0,get:function(){return Sr.setSizeDependencies}}),Object.defineProperty(r,"setSymDifferenceDependencies",{enumerable:!0,get:function(){return Er.setSymDifferenceDependencies}}),Object.defineProperty(r,"setUnionDependencies",{enumerable:!0,get:function(){return Yr.setUnionDependencies}}),Object.defineProperty(r,"addDependencies",{enumerable:!0,get:function(){return Cr.addDependencies}}),Object.defineProperty(r,"hypotDependencies",{enumerable:!0,get:function(){return Zr.hypotDependencies}}),Object.defineProperty(r,"normDependencies",{enumerable:!0,get:function(){return Fr.normDependencies}}),Object.defineProperty(r,"dotDependencies",{enumerable:!0,get:function(){return Jr.dotDependencies}}),Object.defineProperty(r,"traceDependencies",{enumerable:!0,get:function(){return gr.traceDependencies}}),Object.defineProperty(r,"indexDependencies",{enumerable:!0,get:function(){return ar.indexDependencies}}),Object.defineProperty(r,"NodeDependencies",{enumerable:!0,get:function(){return Nr.NodeDependencies}}),Object.defineProperty(r,"AccessorNodeDependencies",{enumerable:!0,get:function(){return Br.AccessorNodeDependencies}}),Object.defineProperty(r,"ArrayNodeDependencies",{enumerable:!0,get:function(){return mn.ArrayNodeDependencies}}),Object.defineProperty(r,"AssignmentNodeDependencies",{enumerable:!0,get:function(){return Kn.AssignmentNodeDependencies}}),Object.defineProperty(r,"BlockNodeDependencies",{enumerable:!0,get:function(){return Vt.BlockNodeDependencies}}),Object.defineProperty(r,"ConditionalNodeDependencies",{enumerable:!0,get:function(){return yr.ConditionalNodeDependencies}}),Object.defineProperty(r,"ConstantNodeDependencies",{enumerable:!0,get:function(){return Mn.ConstantNodeDependencies}}),Object.defineProperty(r,"FunctionAssignmentNodeDependencies",{enumerable:!0,get:function(){return pr.FunctionAssignmentNodeDependencies}}),Object.defineProperty(r,"IndexNodeDependencies",{enumerable:!0,get:function(){return Kr.IndexNodeDependencies}}),Object.defineProperty(r,"ObjectNodeDependencies",{enumerable:!0,get:function(){return si.ObjectNodeDependencies}}),Object.defineProperty(r,"OperatorNodeDependencies",{enumerable:!0,get:function(){return pn.OperatorNodeDependencies}}),Object.defineProperty(r,"ParenthesisNodeDependencies",{enumerable:!0,get:function(){return ei.ParenthesisNodeDependencies}}),Object.defineProperty(r,"RangeNodeDependencies",{enumerable:!0,get:function(){return Rr.RangeNodeDependencies}}),Object.defineProperty(r,"RelationalNodeDependencies",{enumerable:!0,get:function(){return Ln.RelationalNodeDependencies}}),Object.defineProperty(r,"SymbolNodeDependencies",{enumerable:!0,get:function(){return Sn.SymbolNodeDependencies}}),Object.defineProperty(r,"FunctionNodeDependencies",{enumerable:!0,get:function(){return ai.FunctionNodeDependencies}}),Object.defineProperty(r,"parseDependencies",{enumerable:!0,get:function(){return Tr.parseDependencies}}),Object.defineProperty(r,"compileDependencies",{enumerable:!0,get:function(){return oi.compileDependencies}}),Object.defineProperty(r,"evaluateDependencies",{enumerable:!0,get:function(){return kr.evaluateDependencies}}),Object.defineProperty(r,"evalDependencies",{enumerable:!0,get:function(){return ci.evalDependencies}}),Object.defineProperty(r,"ParserDependencies",{enumerable:!0,get:function(){return Lr.ParserDependencies}}),Object.defineProperty(r,"parserDependencies",{enumerable:!0,get:function(){return _n.parserDependencies}}),Object.defineProperty(r,"lupDependencies",{enumerable:!0,get:function(){return vr.lupDependencies}}),Object.defineProperty(r,"qrDependencies",{enumerable:!0,get:function(){return Q.qrDependencies}}),Object.defineProperty(r,"sluDependencies",{enumerable:!0,get:function(){return ee.sluDependencies}}),Object.defineProperty(r,"lusolveDependencies",{enumerable:!0,get:function(){return se.lusolveDependencies}}),Object.defineProperty(r,"HelpDependencies",{enumerable:!0,get:function(){return ae.HelpDependencies}}),Object.defineProperty(r,"ChainDependencies",{enumerable:!0,get:function(){return ge.ChainDependencies}}),Object.defineProperty(r,"helpDependencies",{enumerable:!0,get:function(){return Te.helpDependencies}}),Object.defineProperty(r,"chainDependencies",{enumerable:!0,get:function(){return Ie.chainDependencies}}),Object.defineProperty(r,"detDependencies",{enumerable:!0,get:function(){return Ve.detDependencies}}),Object.defineProperty(r,"invDependencies",{enumerable:!0,get:function(){return Ze.invDependencies}}),Object.defineProperty(r,"eigsDependencies",{enumerable:!0,get:function(){return Ye.eigsDependencies}}),Object.defineProperty(r,"expmDependencies",{enumerable:!0,get:function(){return it.expmDependencies}}),Object.defineProperty(r,"sqrtmDependencies",{enumerable:!0,get:function(){return ht.sqrtmDependencies}}),Object.defineProperty(r,"divideDependencies",{enumerable:!0,get:function(){return lt.divideDependencies}}),Object.defineProperty(r,"distanceDependencies",{enumerable:!0,get:function(){return nt.distanceDependencies}}),Object.defineProperty(r,"intersectDependencies",{enumerable:!0,get:function(){return Mt.intersectDependencies}}),Object.defineProperty(r,"sumDependencies",{enumerable:!0,get:function(){return _t.sumDependencies}}),Object.defineProperty(r,"meanDependencies",{enumerable:!0,get:function(){return Dt.meanDependencies}}),Object.defineProperty(r,"medianDependencies",{enumerable:!0,get:function(){return gt.medianDependencies}}),Object.defineProperty(r,"madDependencies",{enumerable:!0,get:function(){return yt.madDependencies}}),Object.defineProperty(r,"varianceDependencies",{enumerable:!0,get:function(){return Ht.varianceDependencies}}),Object.defineProperty(r,"varDependencies",{enumerable:!0,get:function(){return Kt.varDependencies}}),Object.defineProperty(r,"quantileSeqDependencies",{enumerable:!0,get:function(){return qt.quantileSeqDependencies}}),Object.defineProperty(r,"stdDependencies",{enumerable:!0,get:function(){return Wt.stdDependencies}}),Object.defineProperty(r,"combinationsDependencies",{enumerable:!0,get:function(){return en.combinationsDependencies}}),Object.defineProperty(r,"combinationsWithRepDependencies",{enumerable:!0,get:function(){return gn.combinationsWithRepDependencies}}),Object.defineProperty(r,"gammaDependencies",{enumerable:!0,get:function(){return An.gammaDependencies}}),Object.defineProperty(r,"factorialDependencies",{enumerable:!0,get:function(){return En.factorialDependencies}}),Object.defineProperty(r,"kldivergenceDependencies",{enumerable:!0,get:function(){return jn.kldivergenceDependencies}}),Object.defineProperty(r,"multinomialDependencies",{enumerable:!0,get:function(){return kn.multinomialDependencies}}),Object.defineProperty(r,"permutationsDependencies",{enumerable:!0,get:function(){return Qn.permutationsDependencies}}),Object.defineProperty(r,"pickRandomDependencies",{enumerable:!0,get:function(){return hn.pickRandomDependencies}}),Object.defineProperty(r,"randomDependencies",{enumerable:!0,get:function(){return yn.randomDependencies}}),Object.defineProperty(r,"randomIntDependencies",{enumerable:!0,get:function(){return fn.randomIntDependencies}}),Object.defineProperty(r,"stirlingS2Dependencies",{enumerable:!0,get:function(){return In.stirlingS2Dependencies}}),Object.defineProperty(r,"bellNumbersDependencies",{enumerable:!0,get:function(){return wn.bellNumbersDependencies}}),Object.defineProperty(r,"catalanDependencies",{enumerable:!0,get:function(){return On.catalanDependencies}}),Object.defineProperty(r,"compositionDependencies",{enumerable:!0,get:function(){return vn.compositionDependencies}}),Object.defineProperty(r,"simplifyDependencies",{enumerable:!0,get:function(){return Nn.simplifyDependencies}}),Object.defineProperty(r,"derivativeDependencies",{enumerable:!0,get:function(){return Ur.derivativeDependencies}}),Object.defineProperty(r,"rationalizeDependencies",{enumerable:!0,get:function(){return br.rationalizeDependencies}}),Object.defineProperty(r,"reviverDependencies",{enumerable:!0,get:function(){return Cn.reviverDependencies}}),Object.defineProperty(r,"replacerDependencies",{enumerable:!0,get:function(){return Jt.replacerDependencies}}),Object.defineProperty(r,"eDependencies",{enumerable:!0,get:function(){return fi.eDependencies}}),Object.defineProperty(r,"EDependencies",{enumerable:!0,get:function(){return fe.EDependencies}}),Object.defineProperty(r,"falseDependencies",{enumerable:!0,get:function(){return nn.falseDependencies}}),Object.defineProperty(r,"iDependencies",{enumerable:!0,get:function(){return ui.iDependencies}}),Object.defineProperty(r,"InfinityDependencies",{enumerable:!0,get:function(){return fr.InfinityDependencies}}),Object.defineProperty(r,"LN10Dependencies",{enumerable:!0,get:function(){return pi.LN10Dependencies}}),Object.defineProperty(r,"LN2Dependencies",{enumerable:!0,get:function(){return tt.LN2Dependencies}}),Object.defineProperty(r,"LOG10EDependencies",{enumerable:!0,get:function(){return li.LOG10EDependencies}}),Object.defineProperty(r,"LOG2EDependencies",{enumerable:!0,get:function(){return hi.LOG2EDependencies}}),Object.defineProperty(r,"NaNDependencies",{enumerable:!0,get:function(){return Hn.NaNDependencies}}),Object.defineProperty(r,"nullDependencies",{enumerable:!0,get:function(){return yi.nullDependencies}}),Object.defineProperty(r,"phiDependencies",{enumerable:!0,get:function(){return kt.phiDependencies}}),Object.defineProperty(r,"piDependencies",{enumerable:!0,get:function(){return qn.piDependencies}}),Object.defineProperty(r,"PIDependencies",{enumerable:!0,get:function(){return vi.PIDependencies}}),Object.defineProperty(r,"SQRT1_2Dependencies",{enumerable:!0,get:function(){return bi.SQRT1_2Dependencies}}),Object.defineProperty(r,"SQRT2Dependencies",{enumerable:!0,get:function(){return Mr.SQRT2Dependencies}}),Object.defineProperty(r,"tauDependencies",{enumerable:!0,get:function(){return Ai.tauDependencies}}),Object.defineProperty(r,"trueDependencies",{enumerable:!0,get:function(){return mi.trueDependencies}}),Object.defineProperty(r,"versionDependencies",{enumerable:!0,get:function(){return xt.versionDependencies}}),Object.defineProperty(r,"atomicMassDependencies",{enumerable:!0,get:function(){return Ii.atomicMassDependencies}}),Object.defineProperty(r,"avogadroDependencies",{enumerable:!0,get:function(){return Fi.avogadroDependencies}}),Object.defineProperty(r,"bohrMagnetonDependencies",{enumerable:!0,get:function(){return wi.bohrMagnetonDependencies}}),Object.defineProperty(r,"bohrRadiusDependencies",{enumerable:!0,get:function(){return Bi.bohrRadiusDependencies}}),Object.defineProperty(r,"boltzmannDependencies",{enumerable:!0,get:function(){return Di.boltzmannDependencies}}),Object.defineProperty(r,"classicalElectronRadiusDependencies",{enumerable:!0,get:function(){return Si.classicalElectronRadiusDependencies}}),Object.defineProperty(r,"conductanceQuantumDependencies",{enumerable:!0,get:function(){return _i.conductanceQuantumDependencies}}),Object.defineProperty(r,"coulombDependencies",{enumerable:!0,get:function(){return Ri.coulombDependencies}}),Object.defineProperty(r,"deuteronMassDependencies",{enumerable:!0,get:function(){return xi.deuteronMassDependencies}}),Object.defineProperty(r,"efimovFactorDependencies",{enumerable:!0,get:function(){return Ei.efimovFactorDependencies}}),Object.defineProperty(r,"electricConstantDependencies",{enumerable:!0,get:function(){return Ci.electricConstantDependencies}}),Object.defineProperty(r,"electronMassDependencies",{enumerable:!0,get:function(){return Ni.electronMassDependencies}}),Object.defineProperty(r,"elementaryChargeDependencies",{enumerable:!0,get:function(){return ki.elementaryChargeDependencies}}),Object.defineProperty(r,"faradayDependencies",{enumerable:!0,get:function(){return Ti.faradayDependencies}}),Object.defineProperty(r,"fermiCouplingDependencies",{enumerable:!0,get:function(){return Li.fermiCouplingDependencies}}),Object.defineProperty(r,"fineStructureDependencies",{enumerable:!0,get:function(){return Ui.fineStructureDependencies}}),Object.defineProperty(r,"firstRadiationDependencies",{enumerable:!0,get:function(){return zi.firstRadiationDependencies}}),Object.defineProperty(r,"gasConstantDependencies",{enumerable:!0,get:function(){return er.gasConstantDependencies}}),Object.defineProperty(r,"gravitationConstantDependencies",{enumerable:!0,get:function(){return Mi.gravitationConstantDependencies}}),Object.defineProperty(r,"gravityDependencies",{enumerable:!0,get:function(){return di.gravityDependencies}}),Object.defineProperty(r,"hartreeEnergyDependencies",{enumerable:!0,get:function(){return Oi.hartreeEnergyDependencies}}),Object.defineProperty(r,"inverseConductanceQuantumDependencies",{enumerable:!0,get:function(){return Xi.inverseConductanceQuantumDependencies}}),Object.defineProperty(r,"klitzingDependencies",{enumerable:!0,get:function(){return is.klitzingDependencies}}),Object.defineProperty(r,"loschmidtDependencies",{enumerable:!0,get:function(){return Qi.loschmidtDependencies}}),Object.defineProperty(r,"magneticConstantDependencies",{enumerable:!0,get:function(){return Yi.magneticConstantDependencies}}),Object.defineProperty(r,"magneticFluxQuantumDependencies",{enumerable:!0,get:function(){return ss.magneticFluxQuantumDependencies}}),Object.defineProperty(r,"molarMassDependencies",{enumerable:!0,get:function(){return Gi.molarMassDependencies}}),Object.defineProperty(r,"molarMassC12Dependencies",{enumerable:!0,get:function(){return Zi.molarMassC12Dependencies}}),Object.defineProperty(r,"molarPlanckConstantDependencies",{enumerable:!0,get:function(){return cn.molarPlanckConstantDependencies}}),Object.defineProperty(r,"molarVolumeDependencies",{enumerable:!0,get:function(){return as.molarVolumeDependencies}}),Object.defineProperty(r,"neutronMassDependencies",{enumerable:!0,get:function(){return os.neutronMassDependencies}}),Object.defineProperty(r,"nuclearMagnetonDependencies",{enumerable:!0,get:function(){return cs.nuclearMagnetonDependencies}}),Object.defineProperty(r,"planckChargeDependencies",{enumerable:!0,get:function(){return us.planckChargeDependencies}}),Object.defineProperty(r,"planckConstantDependencies",{enumerable:!0,get:function(){return ls.planckConstantDependencies}}),Object.defineProperty(r,"planckLengthDependencies",{enumerable:!0,get:function(){return ds.planckLengthDependencies}}),Object.defineProperty(r,"planckMassDependencies",{enumerable:!0,get:function(){return ps.planckMassDependencies}}),Object.defineProperty(r,"planckTemperatureDependencies",{enumerable:!0,get:function(){return Vi.planckTemperatureDependencies}}),Object.defineProperty(r,"planckTimeDependencies",{enumerable:!0,get:function(){return Ji.planckTimeDependencies}}),Object.defineProperty(r,"protonMassDependencies",{enumerable:!0,get:function(){return Ki.protonMassDependencies}}),Object.defineProperty(r,"quantumOfCirculationDependencies",{enumerable:!0,get:function(){return fs.quantumOfCirculationDependencies}}),Object.defineProperty(r,"reducedPlanckConstantDependencies",{enumerable:!0,get:function(){return es.reducedPlanckConstantDependencies}}),Object.defineProperty(r,"rydbergDependencies",{enumerable:!0,get:function(){return Pi.rydbergDependencies}}),Object.defineProperty(r,"sackurTetrodeDependencies",{enumerable:!0,get:function(){return $i.sackurTetrodeDependencies}}),Object.defineProperty(r,"secondRadiationDependencies",{enumerable:!0,get:function(){return Hi.secondRadiationDependencies}}),Object.defineProperty(r,"speedOfLightDependencies",{enumerable:!0,get:function(){return hs.speedOfLightDependencies}}),Object.defineProperty(r,"stefanBoltzmannDependencies",{enumerable:!0,get:function(){return ts.stefanBoltzmannDependencies}}),Object.defineProperty(r,"thomsonCrossSectionDependencies",{enumerable:!0,get:function(){return gs.thomsonCrossSectionDependencies}}),Object.defineProperty(r,"vacuumImpedanceDependencies",{enumerable:!0,get:function(){return ys.vacuumImpedanceDependencies}}),Object.defineProperty(r,"weakMixingAngleDependencies",{enumerable:!0,get:function(){return vs.weakMixingAngleDependencies}}),Object.defineProperty(r,"wienDisplacementDependencies",{enumerable:!0,get:function(){return ns.wienDisplacementDependencies}}),Object.defineProperty(r,"applyTransformDependencies",{enumerable:!0,get:function(){return rs.applyTransformDependencies}}),Object.defineProperty(r,"columnTransformDependencies",{enumerable:!0,get:function(){return gi.columnTransformDependencies}}),Object.defineProperty(r,"filterTransformDependencies",{enumerable:!0,get:function(){return bs.filterTransformDependencies}}),Object.defineProperty(r,"forEachTransformDependencies",{enumerable:!0,get:function(){return qi.forEachTransformDependencies}}),Object.defineProperty(r,"indexTransformDependencies",{enumerable:!0,get:function(){return Wi.indexTransformDependencies}}),Object.defineProperty(r,"mapTransformDependencies",{enumerable:!0,get:function(){return _s.mapTransformDependencies}}),Object.defineProperty(r,"maxTransformDependencies",{enumerable:!0,get:function(){return xs.maxTransformDependencies}}),Object.defineProperty(r,"meanTransformDependencies",{enumerable:!0,get:function(){return As.meanTransformDependencies}}),Object.defineProperty(r,"minTransformDependencies",{enumerable:!0,get:function(){return ws.minTransformDependencies}}),Object.defineProperty(r,"rangeTransformDependencies",{enumerable:!0,get:function(){return Ds.rangeTransformDependencies}}),Object.defineProperty(r,"rowTransformDependencies",{enumerable:!0,get:function(){return Ss.rowTransformDependencies}}),Object.defineProperty(r,"subsetTransformDependencies",{enumerable:!0,get:function(){return Es.subsetTransformDependencies}}),Object.defineProperty(r,"concatTransformDependencies",{enumerable:!0,get:function(){return Cs.concatTransformDependencies}}),Object.defineProperty(r,"stdTransformDependencies",{enumerable:!0,get:function(){return Ns.stdTransformDependencies}}),Object.defineProperty(r,"sumTransformDependencies",{enumerable:!0,get:function(){return Ts.sumTransformDependencies}}),Object.defineProperty(r,"varianceTransformDependencies",{enumerable:!0,get:function(){return Ms.varianceTransformDependencies}}),Object.defineProperty(r,"all",{enumerable:!0,get:function(){return Os.all}});var g=n("./dependenciesAny/dependenciesTyped.generated"),f=n("./dependenciesAny/dependenciesResultSet.generated"),m=n("./dependenciesAny/dependenciesBigNumberClass.generated"),l=n("./dependenciesAny/dependenciesComplexClass.generated"),x=n("./dependenciesAny/dependenciesFractionClass.generated"),S=n("./dependenciesAny/dependenciesRangeClass.generated"),D=n("./dependenciesAny/dependenciesMatrixClass.generated"),h=n("./dependenciesAny/dependenciesDenseMatrixClass.generated"),_=n("./dependenciesAny/dependenciesClone.generated"),o=n("./dependenciesAny/dependenciesIsInteger.generated"),p=n("./dependenciesAny/dependenciesIsNegative.generated"),b=n("./dependenciesAny/dependenciesIsNumeric.generated"),y=n("./dependenciesAny/dependenciesHasNumericValue.generated"),A=n("./dependenciesAny/dependenciesIsPositive.generated"),E=n("./dependenciesAny/dependenciesIsZero.generated"),N=n("./dependenciesAny/dependenciesIsNaN.generated"),T=n("./dependenciesAny/dependenciesTypeOf.generated"),O=n("./dependenciesAny/dependenciesDeprecatedTypeof.generated"),j=n("./dependenciesAny/dependenciesEqualScalar.generated"),M=n("./dependenciesAny/dependenciesSparseMatrixClass.generated"),F=n("./dependenciesAny/dependenciesNumber.generated"),B=n("./dependenciesAny/dependenciesString.generated"),I=n("./dependenciesAny/dependenciesBoolean.generated"),G=n("./dependenciesAny/dependenciesBignumber.generated"),k=n("./dependenciesAny/dependenciesComplex.generated"),V=n("./dependenciesAny/dependenciesFraction.generated"),R=n("./dependenciesAny/dependenciesMatrix.generated"),U=n("./dependenciesAny/dependenciesSplitUnit.generated"),L=n("./dependenciesAny/dependenciesUnaryMinus.generated"),H=n("./dependenciesAny/dependenciesUnaryPlus.generated"),X=n("./dependenciesAny/dependenciesAbs.generated"),Z=n("./dependenciesAny/dependenciesApply.generated"),J=n("./dependenciesAny/dependenciesAddScalar.generated"),K=n("./dependenciesAny/dependenciesCbrt.generated"),$=n("./dependenciesAny/dependenciesCeil.generated"),W=n("./dependenciesAny/dependenciesCube.generated"),Y=n("./dependenciesAny/dependenciesExp.generated"),te=n("./dependenciesAny/dependenciesExpm1.generated"),ce=n("./dependenciesAny/dependenciesFix.generated"),oe=n("./dependenciesAny/dependenciesFloor.generated"),ue=n("./dependenciesAny/dependenciesGcd.generated"),Ce=n("./dependenciesAny/dependenciesLcm.generated"),le=n("./dependenciesAny/dependenciesLog10.generated"),ye=n("./dependenciesAny/dependenciesLog2.generated"),ve=n("./dependenciesAny/dependenciesMod.generated"),pe=n("./dependenciesAny/dependenciesMultiplyScalar.generated"),be=n("./dependenciesAny/dependenciesMultiply.generated"),Ne=n("./dependenciesAny/dependenciesNthRoot.generated"),he=n("./dependenciesAny/dependenciesSign.generated"),ne=n("./dependenciesAny/dependenciesSqrt.generated"),re=n("./dependenciesAny/dependenciesSquare.generated"),de=n("./dependenciesAny/dependenciesSubtract.generated"),xe=n("./dependenciesAny/dependenciesXgcd.generated"),Pe=n("./dependenciesAny/dependenciesDotMultiply.generated"),Ae=n("./dependenciesAny/dependenciesBitAnd.generated"),Oe=n("./dependenciesAny/dependenciesBitNot.generated"),Se=n("./dependenciesAny/dependenciesBitOr.generated"),Fe=n("./dependenciesAny/dependenciesBitXor.generated"),$e=n("./dependenciesAny/dependenciesArg.generated"),Re=n("./dependenciesAny/dependenciesConj.generated"),qe=n("./dependenciesAny/dependenciesIm.generated"),ze=n("./dependenciesAny/dependenciesRe.generated"),we=n("./dependenciesAny/dependenciesNot.generated"),Ee=n("./dependenciesAny/dependenciesOr.generated"),Me=n("./dependenciesAny/dependenciesXor.generated"),me=n("./dependenciesAny/dependenciesConcat.generated"),Ge=n("./dependenciesAny/dependenciesColumn.generated"),Xe=n("./dependenciesAny/dependenciesCross.generated"),rt=n("./dependenciesAny/dependenciesDiag.generated"),ut=n("./dependenciesAny/dependenciesEye.generated"),ft=n("./dependenciesAny/dependenciesFilter.generated"),pt=n("./dependenciesAny/dependenciesFlatten.generated"),ot=n("./dependenciesAny/dependenciesForEach.generated"),bt=n("./dependenciesAny/dependenciesGetMatrixDataType.generated"),At=n("./dependenciesAny/dependenciesIdentity.generated"),Ke=n("./dependenciesAny/dependenciesKron.generated"),dt=n("./dependenciesAny/dependenciesMap.generated"),vt=n("./dependenciesAny/dependenciesOnes.generated"),wt=n("./dependenciesAny/dependenciesRange.generated"),Nt=n("./dependenciesAny/dependenciesReshape.generated"),Ot=n("./dependenciesAny/dependenciesResize.generated"),Tt=n("./dependenciesAny/dependenciesRow.generated"),It=n("./dependenciesAny/dependenciesSize.generated"),Pt=n("./dependenciesAny/dependenciesSqueeze.generated"),Rt=n("./dependenciesAny/dependenciesSubset.generated"),Ft=n("./dependenciesAny/dependenciesTranspose.generated"),Bt=n("./dependenciesAny/dependenciesCtranspose.generated"),Ut=n("./dependenciesAny/dependenciesZeros.generated"),Xt=n("./dependenciesAny/dependenciesErf.generated"),Zt=n("./dependenciesAny/dependenciesMode.generated"),Yt=n("./dependenciesAny/dependenciesProd.generated"),rn=n("./dependenciesAny/dependenciesFormat.generated"),Gt=n("./dependenciesAny/dependenciesPrint.generated"),sn=n("./dependenciesAny/dependenciesTo.generated"),Je=n("./dependenciesAny/dependenciesIsPrime.generated"),Ct=n("./dependenciesAny/dependenciesNumeric.generated"),_e=n("./dependenciesAny/dependenciesDivideScalar.generated"),je=n("./dependenciesAny/dependenciesPow.generated"),Ue=n("./dependenciesAny/dependenciesRound.generated"),Be=n("./dependenciesAny/dependenciesLog.generated"),He=n("./dependenciesAny/dependenciesLog1p.generated"),ke=n("./dependenciesAny/dependenciesNthRoots.generated"),Qe=n("./dependenciesAny/dependenciesDotPow.generated"),et=n("./dependenciesAny/dependenciesDotDivide.generated"),ct=n("./dependenciesAny/dependenciesLsolve.generated"),st=n("./dependenciesAny/dependenciesUsolve.generated"),at=n("./dependenciesAny/dependenciesLeftShift.generated"),St=n("./dependenciesAny/dependenciesRightArithShift.generated"),jt=n("./dependenciesAny/dependenciesRightLogShift.generated"),zt=n("./dependenciesAny/dependenciesAnd.generated"),$t=n("./dependenciesAny/dependenciesCompare.generated"),Qt=n("./dependenciesAny/dependenciesCompareNatural.generated"),tn=n("./dependenciesAny/dependenciesCompareText.generated"),an=n("./dependenciesAny/dependenciesEqual.generated"),un=n("./dependenciesAny/dependenciesEqualText.generated"),bn=n("./dependenciesAny/dependenciesSmaller.generated"),Un=n("./dependenciesAny/dependenciesSmallerEq.generated"),tr=n("./dependenciesAny/dependenciesLarger.generated"),Gn=n("./dependenciesAny/dependenciesLargerEq.generated"),nr=n("./dependenciesAny/dependenciesDeepEqual.generated"),Bn=n("./dependenciesAny/dependenciesUnequal.generated"),Vn=n("./dependenciesAny/dependenciesPartitionSelect.generated"),Jn=n("./dependenciesAny/dependenciesSort.generated"),zn=n("./dependenciesAny/dependenciesMax.generated"),dn=n("./dependenciesAny/dependenciesMin.generated"),on=n("./dependenciesAny/dependenciesImmutableDenseMatrixClass.generated"),_r=n("./dependenciesAny/dependenciesIndexClass.generated"),cr=n("./dependenciesAny/dependenciesFibonacciHeapClass.generated"),ur=n("./dependenciesAny/dependenciesSpaClass.generated"),Wn=n("./dependenciesAny/dependenciesUnitClass.generated"),zr=n("./dependenciesAny/dependenciesUnitFunction.generated"),Gr=n("./dependenciesAny/dependenciesSparse.generated"),lr=n("./dependenciesAny/dependenciesCreateUnit.generated"),Tn=n("./dependenciesAny/dependenciesAcos.generated"),ti=n("./dependenciesAny/dependenciesAcosh.generated"),Or=n("./dependenciesAny/dependenciesAcot.generated"),xr=n("./dependenciesAny/dependenciesAcoth.generated"),Pn=n("./dependenciesAny/dependenciesAcsc.generated"),hr=n("./dependenciesAny/dependenciesAcsch.generated"),xn=n("./dependenciesAny/dependenciesAsec.generated"),Pr=n("./dependenciesAny/dependenciesAsech.generated"),Vr=n("./dependenciesAny/dependenciesAsin.generated"),Ar=n("./dependenciesAny/dependenciesAsinh.generated"),wr=n("./dependenciesAny/dependenciesAtan.generated"),ni=n("./dependenciesAny/dependenciesAtan2.generated"),ri=n("./dependenciesAny/dependenciesAtanh.generated"),rr=n("./dependenciesAny/dependenciesCos.generated"),Xn=n("./dependenciesAny/dependenciesCosh.generated"),Yn=n("./dependenciesAny/dependenciesCot.generated"),Rn=n("./dependenciesAny/dependenciesCoth.generated"),mr=n("./dependenciesAny/dependenciesCsc.generated"),$n=n("./dependenciesAny/dependenciesCsch.generated"),ir=n("./dependenciesAny/dependenciesSec.generated"),ii=n("./dependenciesAny/dependenciesSech.generated"),Zn=n("./dependenciesAny/dependenciesSin.generated"),Dr=n("./dependenciesAny/dependenciesSinh.generated"),$r=n("./dependenciesAny/dependenciesTan.generated"),Hr=n("./dependenciesAny/dependenciesTanh.generated"),qr=n("./dependenciesAny/dependenciesSetCartesian.generated"),Wr=n("./dependenciesAny/dependenciesSetDifference.generated"),jr=n("./dependenciesAny/dependenciesSetDistinct.generated"),dr=n("./dependenciesAny/dependenciesSetIntersect.generated"),Ir=n("./dependenciesAny/dependenciesSetIsSubset.generated"),Xr=n("./dependenciesAny/dependenciesSetMultiplicity.generated"),Qr=n("./dependenciesAny/dependenciesSetPowerset.generated"),Sr=n("./dependenciesAny/dependenciesSetSize.generated"),Er=n("./dependenciesAny/dependenciesSetSymDifference.generated"),Yr=n("./dependenciesAny/dependenciesSetUnion.generated"),Cr=n("./dependenciesAny/dependenciesAdd.generated"),Zr=n("./dependenciesAny/dependenciesHypot.generated"),Fr=n("./dependenciesAny/dependenciesNorm.generated"),Jr=n("./dependenciesAny/dependenciesDot.generated"),gr=n("./dependenciesAny/dependenciesTrace.generated"),ar=n("./dependenciesAny/dependenciesIndex.generated"),Nr=n("./dependenciesAny/dependenciesNode.generated"),Br=n("./dependenciesAny/dependenciesAccessorNode.generated"),mn=n("./dependenciesAny/dependenciesArrayNode.generated"),Kn=n("./dependenciesAny/dependenciesAssignmentNode.generated"),Vt=n("./dependenciesAny/dependenciesBlockNode.generated"),yr=n("./dependenciesAny/dependenciesConditionalNode.generated"),Mn=n("./dependenciesAny/dependenciesConstantNode.generated"),pr=n("./dependenciesAny/dependenciesFunctionAssignmentNode.generated"),Kr=n("./dependenciesAny/dependenciesIndexNode.generated"),si=n("./dependenciesAny/dependenciesObjectNode.generated"),pn=n("./dependenciesAny/dependenciesOperatorNode.generated"),ei=n("./dependenciesAny/dependenciesParenthesisNode.generated"),Rr=n("./dependenciesAny/dependenciesRangeNode.generated"),Ln=n("./dependenciesAny/dependenciesRelationalNode.generated"),Sn=n("./dependenciesAny/dependenciesSymbolNode.generated"),ai=n("./dependenciesAny/dependenciesFunctionNode.generated"),Tr=n("./dependenciesAny/dependenciesParse.generated"),oi=n("./dependenciesAny/dependenciesCompile.generated"),kr=n("./dependenciesAny/dependenciesEvaluate.generated"),ci=n("./dependenciesAny/dependenciesDeprecatedEval.generated"),Lr=n("./dependenciesAny/dependenciesParserClass.generated"),_n=n("./dependenciesAny/dependenciesParser.generated"),vr=n("./dependenciesAny/dependenciesLup.generated"),Q=n("./dependenciesAny/dependenciesQr.generated"),ee=n("./dependenciesAny/dependenciesSlu.generated"),se=n("./dependenciesAny/dependenciesLusolve.generated"),ae=n("./dependenciesAny/dependenciesHelpClass.generated"),ge=n("./dependenciesAny/dependenciesChainClass.generated"),Te=n("./dependenciesAny/dependenciesHelp.generated"),Ie=n("./dependenciesAny/dependenciesChain.generated"),Ve=n("./dependenciesAny/dependenciesDet.generated"),Ze=n("./dependenciesAny/dependenciesInv.generated"),Ye=n("./dependenciesAny/dependenciesEigs.generated"),it=n("./dependenciesAny/dependenciesExpm.generated"),ht=n("./dependenciesAny/dependenciesSqrtm.generated"),lt=n("./dependenciesAny/dependenciesDivide.generated"),nt=n("./dependenciesAny/dependenciesDistance.generated"),Mt=n("./dependenciesAny/dependenciesIntersect.generated"),_t=n("./dependenciesAny/dependenciesSum.generated"),Dt=n("./dependenciesAny/dependenciesMean.generated"),gt=n("./dependenciesAny/dependenciesMedian.generated"),yt=n("./dependenciesAny/dependenciesMad.generated"),Ht=n("./dependenciesAny/dependenciesVariance.generated"),Kt=n("./dependenciesAny/dependenciesDeprecatedVar.generated"),qt=n("./dependenciesAny/dependenciesQuantileSeq.generated"),Wt=n("./dependenciesAny/dependenciesStd.generated"),en=n("./dependenciesAny/dependenciesCombinations.generated"),gn=n("./dependenciesAny/dependenciesCombinationsWithRep.generated"),An=n("./dependenciesAny/dependenciesGamma.generated"),En=n("./dependenciesAny/dependenciesFactorial.generated"),jn=n("./dependenciesAny/dependenciesKldivergence.generated"),kn=n("./dependenciesAny/dependenciesMultinomial.generated"),Qn=n("./dependenciesAny/dependenciesPermutations.generated"),hn=n("./dependenciesAny/dependenciesPickRandom.generated"),yn=n("./dependenciesAny/dependenciesRandom.generated"),fn=n("./dependenciesAny/dependenciesRandomInt.generated"),In=n("./dependenciesAny/dependenciesStirlingS2.generated"),wn=n("./dependenciesAny/dependenciesBellNumbers.generated"),On=n("./dependenciesAny/dependenciesCatalan.generated"),vn=n("./dependenciesAny/dependenciesComposition.generated"),Nn=n("./dependenciesAny/dependenciesSimplify.generated"),Ur=n("./dependenciesAny/dependenciesDerivative.generated"),br=n("./dependenciesAny/dependenciesRationalize.generated"),Cn=n("./dependenciesAny/dependenciesReviver.generated"),Jt=n("./dependenciesAny/dependenciesReplacer.generated"),fi=n("./dependenciesAny/dependenciesE.generated"),fe=n("./dependenciesAny/dependenciesUppercaseE.generated"),nn=n("./dependenciesAny/dependenciesFalse.generated"),ui=n("./dependenciesAny/dependenciesI.generated"),fr=n("./dependenciesAny/dependenciesInfinity.generated"),pi=n("./dependenciesAny/dependenciesLN10.generated"),tt=n("./dependenciesAny/dependenciesLN2.generated"),li=n("./dependenciesAny/dependenciesLOG10E.generated"),hi=n("./dependenciesAny/dependenciesLOG2E.generated"),Hn=n("./dependenciesAny/dependenciesNaN.generated"),yi=n("./dependenciesAny/dependenciesNull.generated"),kt=n("./dependenciesAny/dependenciesPhi.generated"),qn=n("./dependenciesAny/dependenciesPi.generated"),vi=n("./dependenciesAny/dependenciesUppercasePi.generated"),bi=n("./dependenciesAny/dependenciesSQRT1_2.generated"),Mr=n("./dependenciesAny/dependenciesSQRT2.generated"),Ai=n("./dependenciesAny/dependenciesTau.generated"),mi=n("./dependenciesAny/dependenciesTrue.generated"),xt=n("./dependenciesAny/dependenciesVersion.generated"),Ii=n("./dependenciesAny/dependenciesAtomicMass.generated"),Fi=n("./dependenciesAny/dependenciesAvogadro.generated"),wi=n("./dependenciesAny/dependenciesBohrMagneton.generated"),Bi=n("./dependenciesAny/dependenciesBohrRadius.generated"),Di=n("./dependenciesAny/dependenciesBoltzmann.generated"),Si=n("./dependenciesAny/dependenciesClassicalElectronRadius.generated"),_i=n("./dependenciesAny/dependenciesConductanceQuantum.generated"),Ri=n("./dependenciesAny/dependenciesCoulomb.generated"),xi=n("./dependenciesAny/dependenciesDeuteronMass.generated"),Ei=n("./dependenciesAny/dependenciesEfimovFactor.generated"),Ci=n("./dependenciesAny/dependenciesElectricConstant.generated"),Ni=n("./dependenciesAny/dependenciesElectronMass.generated"),ki=n("./dependenciesAny/dependenciesElementaryCharge.generated"),Ti=n("./dependenciesAny/dependenciesFaraday.generated"),Li=n("./dependenciesAny/dependenciesFermiCoupling.generated"),Ui=n("./dependenciesAny/dependenciesFineStructure.generated"),zi=n("./dependenciesAny/dependenciesFirstRadiation.generated"),er=n("./dependenciesAny/dependenciesGasConstant.generated"),Mi=n("./dependenciesAny/dependenciesGravitationConstant.generated"),di=n("./dependenciesAny/dependenciesGravity.generated"),Oi=n("./dependenciesAny/dependenciesHartreeEnergy.generated"),Xi=n("./dependenciesAny/dependenciesInverseConductanceQuantum.generated"),is=n("./dependenciesAny/dependenciesKlitzing.generated"),Qi=n("./dependenciesAny/dependenciesLoschmidt.generated"),Yi=n("./dependenciesAny/dependenciesMagneticConstant.generated"),ss=n("./dependenciesAny/dependenciesMagneticFluxQuantum.generated"),Gi=n("./dependenciesAny/dependenciesMolarMass.generated"),Zi=n("./dependenciesAny/dependenciesMolarMassC12.generated"),cn=n("./dependenciesAny/dependenciesMolarPlanckConstant.generated"),as=n("./dependenciesAny/dependenciesMolarVolume.generated"),os=n("./dependenciesAny/dependenciesNeutronMass.generated"),cs=n("./dependenciesAny/dependenciesNuclearMagneton.generated"),us=n("./dependenciesAny/dependenciesPlanckCharge.generated"),ls=n("./dependenciesAny/dependenciesPlanckConstant.generated"),ds=n("./dependenciesAny/dependenciesPlanckLength.generated"),ps=n("./dependenciesAny/dependenciesPlanckMass.generated"),Vi=n("./dependenciesAny/dependenciesPlanckTemperature.generated"),Ji=n("./dependenciesAny/dependenciesPlanckTime.generated"),Ki=n("./dependenciesAny/dependenciesProtonMass.generated"),fs=n("./dependenciesAny/dependenciesQuantumOfCirculation.generated"),es=n("./dependenciesAny/dependenciesReducedPlanckConstant.generated"),Pi=n("./dependenciesAny/dependenciesRydberg.generated"),$i=n("./dependenciesAny/dependenciesSackurTetrode.generated"),Hi=n("./dependenciesAny/dependenciesSecondRadiation.generated"),hs=n("./dependenciesAny/dependenciesSpeedOfLight.generated"),ts=n("./dependenciesAny/dependenciesStefanBoltzmann.generated"),gs=n("./dependenciesAny/dependenciesThomsonCrossSection.generated"),ys=n("./dependenciesAny/dependenciesVacuumImpedance.generated"),vs=n("./dependenciesAny/dependenciesWeakMixingAngle.generated"),ns=n("./dependenciesAny/dependenciesWienDisplacement.generated"),rs=n("./dependenciesAny/dependenciesApplyTransform.generated"),gi=n("./dependenciesAny/dependenciesColumnTransform.generated"),bs=n("./dependenciesAny/dependenciesFilterTransform.generated"),qi=n("./dependenciesAny/dependenciesForEachTransform.generated"),Wi=n("./dependenciesAny/dependenciesIndexTransform.generated"),_s=n("./dependenciesAny/dependenciesMapTransform.generated"),xs=n("./dependenciesAny/dependenciesMaxTransform.generated"),As=n("./dependenciesAny/dependenciesMeanTransform.generated"),ws=n("./dependenciesAny/dependenciesMinTransform.generated"),Ds=n("./dependenciesAny/dependenciesRangeTransform.generated"),Ss=n("./dependenciesAny/dependenciesRowTransform.generated"),Es=n("./dependenciesAny/dependenciesSubsetTransform.generated"),Cs=n("./dependenciesAny/dependenciesConcatTransform.generated"),Ns=n("./dependenciesAny/dependenciesStdTransform.generated"),Ts=n("./dependenciesAny/dependenciesSumTransform.generated"),Ms=n("./dependenciesAny/dependenciesVarianceTransform.generated"),Os=n("./allFactoriesAny.js")},{"./allFactoriesAny.js":66,"./dependenciesAny/dependenciesAbs.generated":69,"./dependenciesAny/dependenciesAccessorNode.generated":70,"./dependenciesAny/dependenciesAcos.generated":71,"./dependenciesAny/dependenciesAcosh.generated":72,"./dependenciesAny/dependenciesAcot.generated":73,"./dependenciesAny/dependenciesAcoth.generated":74,"./dependenciesAny/dependenciesAcsc.generated":75,"./dependenciesAny/dependenciesAcsch.generated":76,"./dependenciesAny/dependenciesAdd.generated":77,"./dependenciesAny/dependenciesAddScalar.generated":78,"./dependenciesAny/dependenciesAnd.generated":79,"./dependenciesAny/dependenciesApply.generated":80,"./dependenciesAny/dependenciesApplyTransform.generated":81,"./dependenciesAny/dependenciesArg.generated":82,"./dependenciesAny/dependenciesArrayNode.generated":83,"./dependenciesAny/dependenciesAsec.generated":84,"./dependenciesAny/dependenciesAsech.generated":85,"./dependenciesAny/dependenciesAsin.generated":86,"./dependenciesAny/dependenciesAsinh.generated":87,"./dependenciesAny/dependenciesAssignmentNode.generated":88,"./dependenciesAny/dependenciesAtan.generated":89,"./dependenciesAny/dependenciesAtan2.generated":90,"./dependenciesAny/dependenciesAtanh.generated":91,"./dependenciesAny/dependenciesAtomicMass.generated":92,"./dependenciesAny/dependenciesAvogadro.generated":93,"./dependenciesAny/dependenciesBellNumbers.generated":94,"./dependenciesAny/dependenciesBigNumberClass.generated":95,"./dependenciesAny/dependenciesBignumber.generated":96,"./dependenciesAny/dependenciesBitAnd.generated":97,"./dependenciesAny/dependenciesBitNot.generated":98,"./dependenciesAny/dependenciesBitOr.generated":99,"./dependenciesAny/dependenciesBitXor.generated":100,"./dependenciesAny/dependenciesBlockNode.generated":101,"./dependenciesAny/dependenciesBohrMagneton.generated":102,"./dependenciesAny/dependenciesBohrRadius.generated":103,"./dependenciesAny/dependenciesBoltzmann.generated":104,"./dependenciesAny/dependenciesBoolean.generated":105,"./dependenciesAny/dependenciesCatalan.generated":106,"./dependenciesAny/dependenciesCbrt.generated":107,"./dependenciesAny/dependenciesCeil.generated":108,"./dependenciesAny/dependenciesChain.generated":109,"./dependenciesAny/dependenciesChainClass.generated":110,"./dependenciesAny/dependenciesClassicalElectronRadius.generated":111,"./dependenciesAny/dependenciesClone.generated":112,"./dependenciesAny/dependenciesColumn.generated":113,"./dependenciesAny/dependenciesColumnTransform.generated":114,"./dependenciesAny/dependenciesCombinations.generated":115,"./dependenciesAny/dependenciesCombinationsWithRep.generated":116,"./dependenciesAny/dependenciesCompare.generated":117,"./dependenciesAny/dependenciesCompareNatural.generated":118,"./dependenciesAny/dependenciesCompareText.generated":119,"./dependenciesAny/dependenciesCompile.generated":120,"./dependenciesAny/dependenciesComplex.generated":121,"./dependenciesAny/dependenciesComplexClass.generated":122,"./dependenciesAny/dependenciesComposition.generated":123,"./dependenciesAny/dependenciesConcat.generated":124,"./dependenciesAny/dependenciesConcatTransform.generated":125,"./dependenciesAny/dependenciesConditionalNode.generated":126,"./dependenciesAny/dependenciesConductanceQuantum.generated":127,"./dependenciesAny/dependenciesConj.generated":128,"./dependenciesAny/dependenciesConstantNode.generated":129,"./dependenciesAny/dependenciesCos.generated":130,"./dependenciesAny/dependenciesCosh.generated":131,"./dependenciesAny/dependenciesCot.generated":132,"./dependenciesAny/dependenciesCoth.generated":133,"./dependenciesAny/dependenciesCoulomb.generated":134,"./dependenciesAny/dependenciesCreateUnit.generated":135,"./dependenciesAny/dependenciesCross.generated":136,"./dependenciesAny/dependenciesCsc.generated":137,"./dependenciesAny/dependenciesCsch.generated":138,"./dependenciesAny/dependenciesCtranspose.generated":139,"./dependenciesAny/dependenciesCube.generated":140,"./dependenciesAny/dependenciesDeepEqual.generated":141,"./dependenciesAny/dependenciesDenseMatrixClass.generated":142,"./dependenciesAny/dependenciesDeprecatedEval.generated":143,"./dependenciesAny/dependenciesDeprecatedTypeof.generated":144,"./dependenciesAny/dependenciesDeprecatedVar.generated":145,"./dependenciesAny/dependenciesDerivative.generated":146,"./dependenciesAny/dependenciesDet.generated":147,"./dependenciesAny/dependenciesDeuteronMass.generated":148,"./dependenciesAny/dependenciesDiag.generated":149,"./dependenciesAny/dependenciesDistance.generated":150,"./dependenciesAny/dependenciesDivide.generated":151,"./dependenciesAny/dependenciesDivideScalar.generated":152,"./dependenciesAny/dependenciesDot.generated":153,"./dependenciesAny/dependenciesDotDivide.generated":154,"./dependenciesAny/dependenciesDotMultiply.generated":155,"./dependenciesAny/dependenciesDotPow.generated":156,"./dependenciesAny/dependenciesE.generated":157,"./dependenciesAny/dependenciesEfimovFactor.generated":158,"./dependenciesAny/dependenciesEigs.generated":159,"./dependenciesAny/dependenciesElectricConstant.generated":160,"./dependenciesAny/dependenciesElectronMass.generated":161,"./dependenciesAny/dependenciesElementaryCharge.generated":162,"./dependenciesAny/dependenciesEqual.generated":163,"./dependenciesAny/dependenciesEqualScalar.generated":164,"./dependenciesAny/dependenciesEqualText.generated":165,"./dependenciesAny/dependenciesErf.generated":166,"./dependenciesAny/dependenciesEvaluate.generated":167,"./dependenciesAny/dependenciesExp.generated":168,"./dependenciesAny/dependenciesExpm.generated":169,"./dependenciesAny/dependenciesExpm1.generated":170,"./dependenciesAny/dependenciesEye.generated":171,"./dependenciesAny/dependenciesFactorial.generated":172,"./dependenciesAny/dependenciesFalse.generated":173,"./dependenciesAny/dependenciesFaraday.generated":174,"./dependenciesAny/dependenciesFermiCoupling.generated":175,"./dependenciesAny/dependenciesFibonacciHeapClass.generated":176,"./dependenciesAny/dependenciesFilter.generated":177,"./dependenciesAny/dependenciesFilterTransform.generated":178,"./dependenciesAny/dependenciesFineStructure.generated":179,"./dependenciesAny/dependenciesFirstRadiation.generated":180,"./dependenciesAny/dependenciesFix.generated":181,"./dependenciesAny/dependenciesFlatten.generated":182,"./dependenciesAny/dependenciesFloor.generated":183,"./dependenciesAny/dependenciesForEach.generated":184,"./dependenciesAny/dependenciesForEachTransform.generated":185,"./dependenciesAny/dependenciesFormat.generated":186,"./dependenciesAny/dependenciesFraction.generated":187,"./dependenciesAny/dependenciesFractionClass.generated":188,"./dependenciesAny/dependenciesFunctionAssignmentNode.generated":189,"./dependenciesAny/dependenciesFunctionNode.generated":190,"./dependenciesAny/dependenciesGamma.generated":191,"./dependenciesAny/dependenciesGasConstant.generated":192,"./dependenciesAny/dependenciesGcd.generated":193,"./dependenciesAny/dependenciesGetMatrixDataType.generated":194,"./dependenciesAny/dependenciesGravitationConstant.generated":195,"./dependenciesAny/dependenciesGravity.generated":196,"./dependenciesAny/dependenciesHartreeEnergy.generated":197,"./dependenciesAny/dependenciesHasNumericValue.generated":198,"./dependenciesAny/dependenciesHelp.generated":199,"./dependenciesAny/dependenciesHelpClass.generated":200,"./dependenciesAny/dependenciesHypot.generated":201,"./dependenciesAny/dependenciesI.generated":202,"./dependenciesAny/dependenciesIdentity.generated":203,"./dependenciesAny/dependenciesIm.generated":204,"./dependenciesAny/dependenciesImmutableDenseMatrixClass.generated":205,"./dependenciesAny/dependenciesIndex.generated":206,"./dependenciesAny/dependenciesIndexClass.generated":207,"./dependenciesAny/dependenciesIndexNode.generated":208,"./dependenciesAny/dependenciesIndexTransform.generated":209,"./dependenciesAny/dependenciesInfinity.generated":210,"./dependenciesAny/dependenciesIntersect.generated":211,"./dependenciesAny/dependenciesInv.generated":212,"./dependenciesAny/dependenciesInverseConductanceQuantum.generated":213,"./dependenciesAny/dependenciesIsInteger.generated":214,"./dependenciesAny/dependenciesIsNaN.generated":215,"./dependenciesAny/dependenciesIsNegative.generated":216,"./dependenciesAny/dependenciesIsNumeric.generated":217,"./dependenciesAny/dependenciesIsPositive.generated":218,"./dependenciesAny/dependenciesIsPrime.generated":219,"./dependenciesAny/dependenciesIsZero.generated":220,"./dependenciesAny/dependenciesKldivergence.generated":221,"./dependenciesAny/dependenciesKlitzing.generated":222,"./dependenciesAny/dependenciesKron.generated":223,"./dependenciesAny/dependenciesLN10.generated":224,"./dependenciesAny/dependenciesLN2.generated":225,"./dependenciesAny/dependenciesLOG10E.generated":226,"./dependenciesAny/dependenciesLOG2E.generated":227,"./dependenciesAny/dependenciesLarger.generated":228,"./dependenciesAny/dependenciesLargerEq.generated":229,"./dependenciesAny/dependenciesLcm.generated":230,"./dependenciesAny/dependenciesLeftShift.generated":231,"./dependenciesAny/dependenciesLog.generated":232,"./dependenciesAny/dependenciesLog10.generated":233,"./dependenciesAny/dependenciesLog1p.generated":234,"./dependenciesAny/dependenciesLog2.generated":235,"./dependenciesAny/dependenciesLoschmidt.generated":236,"./dependenciesAny/dependenciesLsolve.generated":237,"./dependenciesAny/dependenciesLup.generated":238,"./dependenciesAny/dependenciesLusolve.generated":239,"./dependenciesAny/dependenciesMad.generated":240,"./dependenciesAny/dependenciesMagneticConstant.generated":241,"./dependenciesAny/dependenciesMagneticFluxQuantum.generated":242,"./dependenciesAny/dependenciesMap.generated":243,"./dependenciesAny/dependenciesMapTransform.generated":244,"./dependenciesAny/dependenciesMatrix.generated":245,"./dependenciesAny/dependenciesMatrixClass.generated":246,"./dependenciesAny/dependenciesMax.generated":247,"./dependenciesAny/dependenciesMaxTransform.generated":248,"./dependenciesAny/dependenciesMean.generated":249,"./dependenciesAny/dependenciesMeanTransform.generated":250,"./dependenciesAny/dependenciesMedian.generated":251,"./dependenciesAny/dependenciesMin.generated":252,"./dependenciesAny/dependenciesMinTransform.generated":253,"./dependenciesAny/dependenciesMod.generated":254,"./dependenciesAny/dependenciesMode.generated":255,"./dependenciesAny/dependenciesMolarMass.generated":256,"./dependenciesAny/dependenciesMolarMassC12.generated":257,"./dependenciesAny/dependenciesMolarPlanckConstant.generated":258,"./dependenciesAny/dependenciesMolarVolume.generated":259,"./dependenciesAny/dependenciesMultinomial.generated":260,"./dependenciesAny/dependenciesMultiply.generated":261,"./dependenciesAny/dependenciesMultiplyScalar.generated":262,"./dependenciesAny/dependenciesNaN.generated":263,"./dependenciesAny/dependenciesNeutronMass.generated":264,"./dependenciesAny/dependenciesNode.generated":265,"./dependenciesAny/dependenciesNorm.generated":266,"./dependenciesAny/dependenciesNot.generated":267,"./dependenciesAny/dependenciesNthRoot.generated":268,"./dependenciesAny/dependenciesNthRoots.generated":269,"./dependenciesAny/dependenciesNuclearMagneton.generated":270,"./dependenciesAny/dependenciesNull.generated":271,"./dependenciesAny/dependenciesNumber.generated":272,"./dependenciesAny/dependenciesNumeric.generated":273,"./dependenciesAny/dependenciesObjectNode.generated":274,"./dependenciesAny/dependenciesOnes.generated":275,"./dependenciesAny/dependenciesOperatorNode.generated":276,"./dependenciesAny/dependenciesOr.generated":277,"./dependenciesAny/dependenciesParenthesisNode.generated":278,"./dependenciesAny/dependenciesParse.generated":279,"./dependenciesAny/dependenciesParser.generated":280,"./dependenciesAny/dependenciesParserClass.generated":281,"./dependenciesAny/dependenciesPartitionSelect.generated":282,"./dependenciesAny/dependenciesPermutations.generated":283,"./dependenciesAny/dependenciesPhi.generated":284,"./dependenciesAny/dependenciesPi.generated":285,"./dependenciesAny/dependenciesPickRandom.generated":286,"./dependenciesAny/dependenciesPlanckCharge.generated":287,"./dependenciesAny/dependenciesPlanckConstant.generated":288,"./dependenciesAny/dependenciesPlanckLength.generated":289,"./dependenciesAny/dependenciesPlanckMass.generated":290,"./dependenciesAny/dependenciesPlanckTemperature.generated":291,"./dependenciesAny/dependenciesPlanckTime.generated":292,"./dependenciesAny/dependenciesPow.generated":293,"./dependenciesAny/dependenciesPrint.generated":294,"./dependenciesAny/dependenciesProd.generated":295,"./dependenciesAny/dependenciesProtonMass.generated":296,"./dependenciesAny/dependenciesQr.generated":297,"./dependenciesAny/dependenciesQuantileSeq.generated":298,"./dependenciesAny/dependenciesQuantumOfCirculation.generated":299,"./dependenciesAny/dependenciesRandom.generated":300,"./dependenciesAny/dependenciesRandomInt.generated":301,"./dependenciesAny/dependenciesRange.generated":302,"./dependenciesAny/dependenciesRangeClass.generated":303,"./dependenciesAny/dependenciesRangeNode.generated":304,"./dependenciesAny/dependenciesRangeTransform.generated":305,"./dependenciesAny/dependenciesRationalize.generated":306,"./dependenciesAny/dependenciesRe.generated":307,"./dependenciesAny/dependenciesReducedPlanckConstant.generated":308,"./dependenciesAny/dependenciesRelationalNode.generated":309,"./dependenciesAny/dependenciesReplacer.generated":310,"./dependenciesAny/dependenciesReshape.generated":311,"./dependenciesAny/dependenciesResize.generated":312,"./dependenciesAny/dependenciesResultSet.generated":313,"./dependenciesAny/dependenciesReviver.generated":314,"./dependenciesAny/dependenciesRightArithShift.generated":315,"./dependenciesAny/dependenciesRightLogShift.generated":316,"./dependenciesAny/dependenciesRound.generated":317,"./dependenciesAny/dependenciesRow.generated":318,"./dependenciesAny/dependenciesRowTransform.generated":319,"./dependenciesAny/dependenciesRydberg.generated":320,"./dependenciesAny/dependenciesSQRT1_2.generated":321,"./dependenciesAny/dependenciesSQRT2.generated":322,"./dependenciesAny/dependenciesSackurTetrode.generated":323,"./dependenciesAny/dependenciesSec.generated":324,"./dependenciesAny/dependenciesSech.generated":325,"./dependenciesAny/dependenciesSecondRadiation.generated":326,"./dependenciesAny/dependenciesSetCartesian.generated":327,"./dependenciesAny/dependenciesSetDifference.generated":328,"./dependenciesAny/dependenciesSetDistinct.generated":329,"./dependenciesAny/dependenciesSetIntersect.generated":330,"./dependenciesAny/dependenciesSetIsSubset.generated":331,"./dependenciesAny/dependenciesSetMultiplicity.generated":332,"./dependenciesAny/dependenciesSetPowerset.generated":333,"./dependenciesAny/dependenciesSetSize.generated":334,"./dependenciesAny/dependenciesSetSymDifference.generated":335,"./dependenciesAny/dependenciesSetUnion.generated":336,"./dependenciesAny/dependenciesSign.generated":337,"./dependenciesAny/dependenciesSimplify.generated":338,"./dependenciesAny/dependenciesSin.generated":339,"./dependenciesAny/dependenciesSinh.generated":340,"./dependenciesAny/dependenciesSize.generated":341,"./dependenciesAny/dependenciesSlu.generated":342,"./dependenciesAny/dependenciesSmaller.generated":343,"./dependenciesAny/dependenciesSmallerEq.generated":344,"./dependenciesAny/dependenciesSort.generated":345,"./dependenciesAny/dependenciesSpaClass.generated":346,"./dependenciesAny/dependenciesSparse.generated":347,"./dependenciesAny/dependenciesSparseMatrixClass.generated":348,"./dependenciesAny/dependenciesSpeedOfLight.generated":349,"./dependenciesAny/dependenciesSplitUnit.generated":350,"./dependenciesAny/dependenciesSqrt.generated":351,"./dependenciesAny/dependenciesSqrtm.generated":352,"./dependenciesAny/dependenciesSquare.generated":353,"./dependenciesAny/dependenciesSqueeze.generated":354,"./dependenciesAny/dependenciesStd.generated":355,"./dependenciesAny/dependenciesStdTransform.generated":356,"./dependenciesAny/dependenciesStefanBoltzmann.generated":357,"./dependenciesAny/dependenciesStirlingS2.generated":358,"./dependenciesAny/dependenciesString.generated":359,"./dependenciesAny/dependenciesSubset.generated":360,"./dependenciesAny/dependenciesSubsetTransform.generated":361,"./dependenciesAny/dependenciesSubtract.generated":362,"./dependenciesAny/dependenciesSum.generated":363,"./dependenciesAny/dependenciesSumTransform.generated":364,"./dependenciesAny/dependenciesSymbolNode.generated":365,"./dependenciesAny/dependenciesTan.generated":366,"./dependenciesAny/dependenciesTanh.generated":367,"./dependenciesAny/dependenciesTau.generated":368,"./dependenciesAny/dependenciesThomsonCrossSection.generated":369,"./dependenciesAny/dependenciesTo.generated":370,"./dependenciesAny/dependenciesTrace.generated":371,"./dependenciesAny/dependenciesTranspose.generated":372,"./dependenciesAny/dependenciesTrue.generated":373,"./dependenciesAny/dependenciesTypeOf.generated":374,"./dependenciesAny/dependenciesTyped.generated":375,"./dependenciesAny/dependenciesUnaryMinus.generated":376,"./dependenciesAny/dependenciesUnaryPlus.generated":377,"./dependenciesAny/dependenciesUnequal.generated":378,"./dependenciesAny/dependenciesUnitClass.generated":379,"./dependenciesAny/dependenciesUnitFunction.generated":380,"./dependenciesAny/dependenciesUppercaseE.generated":381,"./dependenciesAny/dependenciesUppercasePi.generated":382,"./dependenciesAny/dependenciesUsolve.generated":383,"./dependenciesAny/dependenciesVacuumImpedance.generated":384,"./dependenciesAny/dependenciesVariance.generated":385,"./dependenciesAny/dependenciesVarianceTransform.generated":386,"./dependenciesAny/dependenciesVersion.generated":387,"./dependenciesAny/dependenciesWeakMixingAngle.generated":388,"./dependenciesAny/dependenciesWienDisplacement.generated":389,"./dependenciesAny/dependenciesXgcd.generated":390,"./dependenciesAny/dependenciesXor.generated":391,"./dependenciesAny/dependenciesZeros.generated":392}],69:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.absDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createAbs:f.createAbs};r.absDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],70:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AccessorNodeDependencies=void 0;var g=n("./dependenciesNode.generated"),f=n("./dependenciesSubset.generated"),m=n("../../factoriesAny.js"),l={NodeDependencies:g.NodeDependencies,subsetDependencies:f.subsetDependencies,createAccessorNode:m.createAccessorNode};r.AccessorNodeDependencies=l},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265,"./dependenciesSubset.generated":360}],71:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acosDependencies=void 0;var g=n("./dependenciesComplexClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={ComplexDependencies:g.ComplexDependencies,typedDependencies:f.typedDependencies,createAcos:m.createAcos};r.acosDependencies=l},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],72:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acoshDependencies=void 0;var g=n("./dependenciesComplexClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={ComplexDependencies:g.ComplexDependencies,typedDependencies:f.typedDependencies,createAcosh:m.createAcosh};r.acoshDependencies=l},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],73:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acotDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,typedDependencies:f.typedDependencies,createAcot:m.createAcot};r.acotDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],74:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acothDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesComplexClass.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={BigNumberDependencies:g.BigNumberDependencies,ComplexDependencies:f.ComplexDependencies,typedDependencies:m.typedDependencies,createAcoth:l.createAcoth};r.acothDependencies=x},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],75:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acscDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesComplexClass.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={BigNumberDependencies:g.BigNumberDependencies,ComplexDependencies:f.ComplexDependencies,typedDependencies:m.typedDependencies,createAcsc:l.createAcsc};r.acscDependencies=x},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],76:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acschDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,typedDependencies:f.typedDependencies,createAcsch:m.createAcsch};r.acschDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],77:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.addDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesSparseMatrixClass.generated"),m=n("./dependenciesAddScalar.generated"),l=n("./dependenciesEqualScalar.generated"),x=n("./dependenciesMatrix.generated"),S=n("./dependenciesTyped.generated"),D=n("../../factoriesAny.js"),h={DenseMatrixDependencies:g.DenseMatrixDependencies,SparseMatrixDependencies:f.SparseMatrixDependencies,addScalarDependencies:m.addScalarDependencies,equalScalarDependencies:l.equalScalarDependencies,matrixDependencies:x.matrixDependencies,typedDependencies:S.typedDependencies,createAdd:D.createAdd};r.addDependencies=h},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesSparseMatrixClass.generated":348,"./dependenciesTyped.generated":375}],78:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.addScalarDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createAddScalar:f.createAddScalar};r.addScalarDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],79:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.andDependencies=void 0;var g=n("./dependenciesEqualScalar.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesNot.generated"),l=n("./dependenciesTyped.generated"),x=n("./dependenciesZeros.generated"),S=n("../../factoriesAny.js"),D={equalScalarDependencies:g.equalScalarDependencies,matrixDependencies:f.matrixDependencies,notDependencies:m.notDependencies,typedDependencies:l.typedDependencies,zerosDependencies:x.zerosDependencies,createAnd:S.createAnd};r.andDependencies=D},{"../../factoriesAny.js":658,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesNot.generated":267,"./dependenciesTyped.generated":375,"./dependenciesZeros.generated":392}],80:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.applyDependencies=void 0;var g=n("./dependenciesIsInteger.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={isIntegerDependencies:g.isIntegerDependencies,typedDependencies:f.typedDependencies,createApply:m.createApply};r.applyDependencies=l},{"../../factoriesAny.js":658,"./dependenciesIsInteger.generated":214,"./dependenciesTyped.generated":375}],81:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.applyTransformDependencies=void 0;var g=n("./dependenciesIsInteger.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={isIntegerDependencies:g.isIntegerDependencies,typedDependencies:f.typedDependencies,createApplyTransform:m.createApplyTransform};r.applyTransformDependencies=l},{"../../factoriesAny.js":658,"./dependenciesIsInteger.generated":214,"./dependenciesTyped.generated":375}],82:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.argDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createArg:f.createArg};r.argDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],83:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ArrayNodeDependencies=void 0;var g=n("./dependenciesNode.generated"),f=n("../../factoriesAny.js"),m={NodeDependencies:g.NodeDependencies,createArrayNode:f.createArrayNode};r.ArrayNodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265}],84:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asecDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesComplexClass.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={BigNumberDependencies:g.BigNumberDependencies,ComplexDependencies:f.ComplexDependencies,typedDependencies:m.typedDependencies,createAsec:l.createAsec};r.asecDependencies=x},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],85:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asechDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesComplexClass.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={BigNumberDependencies:g.BigNumberDependencies,ComplexDependencies:f.ComplexDependencies,typedDependencies:m.typedDependencies,createAsech:l.createAsech};r.asechDependencies=x},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],86:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asinDependencies=void 0;var g=n("./dependenciesComplexClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={ComplexDependencies:g.ComplexDependencies,typedDependencies:f.typedDependencies,createAsin:m.createAsin};r.asinDependencies=l},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],87:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asinhDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createAsinh:f.createAsinh};r.asinhDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],88:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AssignmentNodeDependencies=void 0;var g=n("./dependenciesMatrix.generated"),f=n("./dependenciesNode.generated"),m=n("./dependenciesSubset.generated"),l=n("../../factoriesAny.js"),x={matrixDependencies:g.matrixDependencies,NodeDependencies:f.NodeDependencies,subsetDependencies:m.subsetDependencies,createAssignmentNode:l.createAssignmentNode};r.AssignmentNodeDependencies=x},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesNode.generated":265,"./dependenciesSubset.generated":360}],89:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.atanDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createAtan:f.createAtan};r.atanDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],90:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.atan2Dependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesDenseMatrixClass.generated"),m=n("./dependenciesEqualScalar.generated"),l=n("./dependenciesMatrix.generated"),x=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),D={BigNumberDependencies:g.BigNumberDependencies,DenseMatrixDependencies:f.DenseMatrixDependencies,equalScalarDependencies:m.equalScalarDependencies,matrixDependencies:l.matrixDependencies,typedDependencies:x.typedDependencies,createAtan2:S.createAtan2};r.atan2Dependencies=D},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],91:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.atanhDependencies=void 0;var g=n("./dependenciesComplexClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={ComplexDependencies:g.ComplexDependencies,typedDependencies:f.typedDependencies,createAtanh:m.createAtanh};r.atanhDependencies=l},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],92:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.atomicMassDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createAtomicMass:m.createAtomicMass};r.atomicMassDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],93:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.avogadroDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createAvogadro:m.createAvogadro};r.avogadroDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],94:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bellNumbersDependencies=void 0;var g=n("./dependenciesAddScalar.generated"),f=n("./dependenciesIsInteger.generated"),m=n("./dependenciesIsNegative.generated"),l=n("./dependenciesStirlingS2.generated"),x=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),D={addScalarDependencies:g.addScalarDependencies,isIntegerDependencies:f.isIntegerDependencies,isNegativeDependencies:m.isNegativeDependencies,stirlingS2Dependencies:l.stirlingS2Dependencies,typedDependencies:x.typedDependencies,createBellNumbers:S.createBellNumbers};r.bellNumbersDependencies=D},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesIsInteger.generated":214,"./dependenciesIsNegative.generated":216,"./dependenciesStirlingS2.generated":358,"./dependenciesTyped.generated":375}],95:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BigNumberDependencies=void 0;var g={createBigNumberClass:n("../../factoriesAny.js").createBigNumberClass};r.BigNumberDependencies=g},{"../../factoriesAny.js":658}],96:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bignumberDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,typedDependencies:f.typedDependencies,createBignumber:m.createBignumber};r.bignumberDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],97:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitAndDependencies=void 0;var g=n("./dependenciesEqualScalar.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={equalScalarDependencies:g.equalScalarDependencies,matrixDependencies:f.matrixDependencies,typedDependencies:m.typedDependencies,createBitAnd:l.createBitAnd};r.bitAndDependencies=x},{"../../factoriesAny.js":658,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],98:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitNotDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createBitNot:f.createBitNot};r.bitNotDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],99:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitOrDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={DenseMatrixDependencies:g.DenseMatrixDependencies,equalScalarDependencies:f.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:l.typedDependencies,createBitOr:x.createBitOr};r.bitOrDependencies=S},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],100:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitXorDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={DenseMatrixDependencies:g.DenseMatrixDependencies,matrixDependencies:f.matrixDependencies,typedDependencies:m.typedDependencies,createBitXor:l.createBitXor};r.bitXorDependencies=x},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],101:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BlockNodeDependencies=void 0;var g=n("./dependenciesNode.generated"),f=n("./dependenciesResultSet.generated"),m=n("../../factoriesAny.js"),l={NodeDependencies:g.NodeDependencies,ResultSetDependencies:f.ResultSetDependencies,createBlockNode:m.createBlockNode};r.BlockNodeDependencies=l},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265,"./dependenciesResultSet.generated":313}],102:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bohrMagnetonDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createBohrMagneton:m.createBohrMagneton};r.bohrMagnetonDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],103:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bohrRadiusDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createBohrRadius:m.createBohrRadius};r.bohrRadiusDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],104:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.boltzmannDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createBoltzmann:m.createBoltzmann};r.boltzmannDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],105:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.booleanDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createBoolean:f.createBoolean};r.booleanDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],106:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.catalanDependencies=void 0;var g=n("./dependenciesAddScalar.generated"),f=n("./dependenciesCombinations.generated"),m=n("./dependenciesDivideScalar.generated"),l=n("./dependenciesIsInteger.generated"),x=n("./dependenciesIsNegative.generated"),S=n("./dependenciesMultiplyScalar.generated"),D=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),_={addScalarDependencies:g.addScalarDependencies,combinationsDependencies:f.combinationsDependencies,divideScalarDependencies:m.divideScalarDependencies,isIntegerDependencies:l.isIntegerDependencies,isNegativeDependencies:x.isNegativeDependencies,multiplyScalarDependencies:S.multiplyScalarDependencies,typedDependencies:D.typedDependencies,createCatalan:h.createCatalan};r.catalanDependencies=_},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesCombinations.generated":115,"./dependenciesDivideScalar.generated":152,"./dependenciesIsInteger.generated":214,"./dependenciesIsNegative.generated":216,"./dependenciesMultiplyScalar.generated":262,"./dependenciesTyped.generated":375}],107:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cbrtDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesComplexClass.generated"),m=n("./dependenciesFractionClass.generated"),l=n("./dependenciesIsNegative.generated"),x=n("./dependenciesMatrix.generated"),S=n("./dependenciesTyped.generated"),D=n("./dependenciesUnaryMinus.generated"),h=n("../../factoriesAny.js"),_={BigNumberDependencies:g.BigNumberDependencies,ComplexDependencies:f.ComplexDependencies,FractionDependencies:m.FractionDependencies,isNegativeDependencies:l.isNegativeDependencies,matrixDependencies:x.matrixDependencies,typedDependencies:S.typedDependencies,unaryMinusDependencies:D.unaryMinusDependencies,createCbrt:h.createCbrt};r.cbrtDependencies=_},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplexClass.generated":122,"./dependenciesFractionClass.generated":188,"./dependenciesIsNegative.generated":216,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375,"./dependenciesUnaryMinus.generated":376}],108:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ceilDependencies=void 0;var g=n("./dependenciesRound.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={roundDependencies:g.roundDependencies,typedDependencies:f.typedDependencies,createCeil:m.createCeil};r.ceilDependencies=l},{"../../factoriesAny.js":658,"./dependenciesRound.generated":317,"./dependenciesTyped.generated":375}],109:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.chainDependencies=void 0;var g=n("./dependenciesChainClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={ChainDependencies:g.ChainDependencies,typedDependencies:f.typedDependencies,createChain:m.createChain};r.chainDependencies=l},{"../../factoriesAny.js":658,"./dependenciesChainClass.generated":110,"./dependenciesTyped.generated":375}],110:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ChainDependencies=void 0;var g={createChainClass:n("../../factoriesAny.js").createChainClass};r.ChainDependencies=g},{"../../factoriesAny.js":658}],111:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.classicalElectronRadiusDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createClassicalElectronRadius:m.createClassicalElectronRadius};r.classicalElectronRadiusDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],112:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cloneDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createClone:f.createClone};r.cloneDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],113:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.columnDependencies=void 0;var g=n("./dependenciesIndexClass.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesRange.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={IndexDependencies:g.IndexDependencies,matrixDependencies:f.matrixDependencies,rangeDependencies:m.rangeDependencies,typedDependencies:l.typedDependencies,createColumn:x.createColumn};r.columnDependencies=S},{"../../factoriesAny.js":658,"./dependenciesIndexClass.generated":207,"./dependenciesMatrix.generated":245,"./dependenciesRange.generated":302,"./dependenciesTyped.generated":375}],114:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.columnTransformDependencies=void 0;var g=n("./dependenciesIndexClass.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesRange.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={IndexDependencies:g.IndexDependencies,matrixDependencies:f.matrixDependencies,rangeDependencies:m.rangeDependencies,typedDependencies:l.typedDependencies,createColumnTransform:x.createColumnTransform};r.columnTransformDependencies=S},{"../../factoriesAny.js":658,"./dependenciesIndexClass.generated":207,"./dependenciesMatrix.generated":245,"./dependenciesRange.generated":302,"./dependenciesTyped.generated":375}],115:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.combinationsDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createCombinations:f.createCombinations};r.combinationsDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],116:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.combinationsWithRepDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createCombinationsWithRep:f.createCombinationsWithRep};r.combinationsWithRepDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],117:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compareDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesDenseMatrixClass.generated"),m=n("./dependenciesFractionClass.generated"),l=n("./dependenciesEqualScalar.generated"),x=n("./dependenciesMatrix.generated"),S=n("./dependenciesTyped.generated"),D=n("../../factoriesAny.js"),h={BigNumberDependencies:g.BigNumberDependencies,DenseMatrixDependencies:f.DenseMatrixDependencies,FractionDependencies:m.FractionDependencies,equalScalarDependencies:l.equalScalarDependencies,matrixDependencies:x.matrixDependencies,typedDependencies:S.typedDependencies,createCompare:D.createCompare};r.compareDependencies=h},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesFractionClass.generated":188,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],118:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compareNaturalDependencies=void 0;var g=n("./dependenciesCompare.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={compareDependencies:g.compareDependencies,typedDependencies:f.typedDependencies,createCompareNatural:m.createCompareNatural};r.compareNaturalDependencies=l},{"../../factoriesAny.js":658,"./dependenciesCompare.generated":117,"./dependenciesTyped.generated":375}],119:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compareTextDependencies=void 0;var g=n("./dependenciesMatrix.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={matrixDependencies:g.matrixDependencies,typedDependencies:f.typedDependencies,createCompareText:m.createCompareText};r.compareTextDependencies=l},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],120:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compileDependencies=void 0;var g=n("./dependenciesParse.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={parseDependencies:g.parseDependencies,typedDependencies:f.typedDependencies,createCompile:m.createCompile};r.compileDependencies=l},{"../../factoriesAny.js":658,"./dependenciesParse.generated":279,"./dependenciesTyped.generated":375}],121:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.complexDependencies=void 0;var g=n("./dependenciesComplexClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={ComplexDependencies:g.ComplexDependencies,typedDependencies:f.typedDependencies,createComplex:m.createComplex};r.complexDependencies=l},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],122:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ComplexDependencies=void 0;var g={createComplexClass:n("../../factoriesAny.js").createComplexClass};r.ComplexDependencies=g},{"../../factoriesAny.js":658}],123:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compositionDependencies=void 0;var g=n("./dependenciesAddScalar.generated"),f=n("./dependenciesCombinations.generated"),m=n("./dependenciesIsInteger.generated"),l=n("./dependenciesIsNegative.generated"),x=n("./dependenciesIsPositive.generated"),S=n("./dependenciesLarger.generated"),D=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),_={addScalarDependencies:g.addScalarDependencies,combinationsDependencies:f.combinationsDependencies,isIntegerDependencies:m.isIntegerDependencies,isNegativeDependencies:l.isNegativeDependencies,isPositiveDependencies:x.isPositiveDependencies,largerDependencies:S.largerDependencies,typedDependencies:D.typedDependencies,createComposition:h.createComposition};r.compositionDependencies=_},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesCombinations.generated":115,"./dependenciesIsInteger.generated":214,"./dependenciesIsNegative.generated":216,"./dependenciesIsPositive.generated":218,"./dependenciesLarger.generated":228,"./dependenciesTyped.generated":375}],124:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.concatDependencies=void 0;var g=n("./dependenciesIsInteger.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={isIntegerDependencies:g.isIntegerDependencies,matrixDependencies:f.matrixDependencies,typedDependencies:m.typedDependencies,createConcat:l.createConcat};r.concatDependencies=x},{"../../factoriesAny.js":658,"./dependenciesIsInteger.generated":214,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],125:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.concatTransformDependencies=void 0;var g=n("./dependenciesIsInteger.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={isIntegerDependencies:g.isIntegerDependencies,matrixDependencies:f.matrixDependencies,typedDependencies:m.typedDependencies,createConcatTransform:l.createConcatTransform};r.concatTransformDependencies=x},{"../../factoriesAny.js":658,"./dependenciesIsInteger.generated":214,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],126:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ConditionalNodeDependencies=void 0;var g=n("./dependenciesNode.generated"),f=n("../../factoriesAny.js"),m={NodeDependencies:g.NodeDependencies,createConditionalNode:f.createConditionalNode};r.ConditionalNodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265}],127:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.conductanceQuantumDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createConductanceQuantum:m.createConductanceQuantum};r.conductanceQuantumDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],128:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.conjDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createConj:f.createConj};r.conjDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],129:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ConstantNodeDependencies=void 0;var g=n("./dependenciesNode.generated"),f=n("../../factoriesAny.js"),m={NodeDependencies:g.NodeDependencies,createConstantNode:f.createConstantNode};r.ConstantNodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265}],130:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cosDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createCos:f.createCos};r.cosDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],131:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.coshDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createCosh:f.createCosh};r.coshDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],132:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cotDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,typedDependencies:f.typedDependencies,createCot:m.createCot};r.cotDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],133:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cothDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,typedDependencies:f.typedDependencies,createCoth:m.createCoth};r.cothDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],134:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.coulombDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createCoulomb:m.createCoulomb};r.coulombDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],135:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUnitDependencies=void 0;var g=n("./dependenciesUnitClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={UnitDependencies:g.UnitDependencies,typedDependencies:f.typedDependencies,createCreateUnit:m.createCreateUnit};r.createUnitDependencies=l},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375,"./dependenciesUnitClass.generated":379}],136:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crossDependencies=void 0;var g=n("./dependenciesMatrix.generated"),f=n("./dependenciesMultiply.generated"),m=n("./dependenciesSubtract.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={matrixDependencies:g.matrixDependencies,multiplyDependencies:f.multiplyDependencies,subtractDependencies:m.subtractDependencies,typedDependencies:l.typedDependencies,createCross:x.createCross};r.crossDependencies=S},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],137:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cscDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,typedDependencies:f.typedDependencies,createCsc:m.createCsc};r.cscDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],138:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cschDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,typedDependencies:f.typedDependencies,createCsch:m.createCsch};r.cschDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],139:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ctransposeDependencies=void 0;var g=n("./dependenciesConj.generated"),f=n("./dependenciesTranspose.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={conjDependencies:g.conjDependencies,transposeDependencies:f.transposeDependencies,typedDependencies:m.typedDependencies,createCtranspose:l.createCtranspose};r.ctransposeDependencies=x},{"../../factoriesAny.js":658,"./dependenciesConj.generated":128,"./dependenciesTranspose.generated":372,"./dependenciesTyped.generated":375}],140:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cubeDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createCube:f.createCube};r.cubeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],141:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deepEqualDependencies=void 0;var g=n("./dependenciesEqual.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={equalDependencies:g.equalDependencies,typedDependencies:f.typedDependencies,createDeepEqual:m.createDeepEqual};r.deepEqualDependencies=l},{"../../factoriesAny.js":658,"./dependenciesEqual.generated":163,"./dependenciesTyped.generated":375}],142:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DenseMatrixDependencies=void 0;var g=n("./dependenciesMatrixClass.generated"),f=n("../../factoriesAny.js"),m={MatrixDependencies:g.MatrixDependencies,createDenseMatrixClass:f.createDenseMatrixClass};r.DenseMatrixDependencies=m},{"../../factoriesAny.js":658,"./dependenciesMatrixClass.generated":246}],143:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.evalDependencies=void 0;var g=n("./dependenciesEvaluate.generated"),f=n("../../factoriesAny.js"),m={evaluateDependencies:g.evaluateDependencies,createDeprecatedEval:f.createDeprecatedEval};r.evalDependencies=m},{"../../factoriesAny.js":658,"./dependenciesEvaluate.generated":167}],144:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.typeofDependencies=void 0;var g={createDeprecatedTypeof:n("../../factoriesAny.js").createDeprecatedTypeof};r.typeofDependencies=g},{"../../factoriesAny.js":658}],145:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.varDependencies=void 0;var g=n("./dependenciesVariance.generated"),f=n("../../factoriesAny.js"),m={varianceDependencies:g.varianceDependencies,createDeprecatedVar:f.createDeprecatedVar};r.varDependencies=m},{"../../factoriesAny.js":658,"./dependenciesVariance.generated":385}],146:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.derivativeDependencies=void 0;var g=n("./dependenciesConstantNode.generated"),f=n("./dependenciesFunctionNode.generated"),m=n("./dependenciesOperatorNode.generated"),l=n("./dependenciesParenthesisNode.generated"),x=n("./dependenciesSymbolNode.generated"),S=n("./dependenciesEqual.generated"),D=n("./dependenciesIsZero.generated"),h=n("./dependenciesNumeric.generated"),_=n("./dependenciesParse.generated"),o=n("./dependenciesSimplify.generated"),p=n("./dependenciesTyped.generated"),b=n("../../factoriesAny.js"),y={ConstantNodeDependencies:g.ConstantNodeDependencies,FunctionNodeDependencies:f.FunctionNodeDependencies,OperatorNodeDependencies:m.OperatorNodeDependencies,ParenthesisNodeDependencies:l.ParenthesisNodeDependencies,SymbolNodeDependencies:x.SymbolNodeDependencies,equalDependencies:S.equalDependencies,isZeroDependencies:D.isZeroDependencies,numericDependencies:h.numericDependencies,parseDependencies:_.parseDependencies,simplifyDependencies:o.simplifyDependencies,typedDependencies:p.typedDependencies,createDerivative:b.createDerivative};r.derivativeDependencies=y},{"../../factoriesAny.js":658,"./dependenciesConstantNode.generated":129,"./dependenciesEqual.generated":163,"./dependenciesFunctionNode.generated":190,"./dependenciesIsZero.generated":220,"./dependenciesNumeric.generated":273,"./dependenciesOperatorNode.generated":276,"./dependenciesParenthesisNode.generated":278,"./dependenciesParse.generated":279,"./dependenciesSimplify.generated":338,"./dependenciesSymbolNode.generated":365,"./dependenciesTyped.generated":375}],147:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.detDependencies=void 0;var g=n("./dependenciesLup.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesMultiply.generated"),l=n("./dependenciesSubtract.generated"),x=n("./dependenciesTyped.generated"),S=n("./dependenciesUnaryMinus.generated"),D=n("../../factoriesAny.js"),h={lupDependencies:g.lupDependencies,matrixDependencies:f.matrixDependencies,multiplyDependencies:m.multiplyDependencies,subtractDependencies:l.subtractDependencies,typedDependencies:x.typedDependencies,unaryMinusDependencies:S.unaryMinusDependencies,createDet:D.createDet};r.detDependencies=h},{"../../factoriesAny.js":658,"./dependenciesLup.generated":238,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375,"./dependenciesUnaryMinus.generated":376}],148:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deuteronMassDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createDeuteronMass:m.createDeuteronMass};r.deuteronMassDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],149:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.diagDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesSparseMatrixClass.generated"),m=n("./dependenciesMatrix.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={DenseMatrixDependencies:g.DenseMatrixDependencies,SparseMatrixDependencies:f.SparseMatrixDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:l.typedDependencies,createDiag:x.createDiag};r.diagDependencies=S},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrix.generated":245,"./dependenciesSparseMatrixClass.generated":348,"./dependenciesTyped.generated":375}],150:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.distanceDependencies=void 0;var g=n("./dependenciesAbs.generated"),f=n("./dependenciesAddScalar.generated"),m=n("./dependenciesDivideScalar.generated"),l=n("./dependenciesMultiplyScalar.generated"),x=n("./dependenciesSqrt.generated"),S=n("./dependenciesSubtract.generated"),D=n("./dependenciesTyped.generated"),h=n("./dependenciesUnaryMinus.generated"),_=n("../../factoriesAny.js"),o={absDependencies:g.absDependencies,addScalarDependencies:f.addScalarDependencies,divideScalarDependencies:m.divideScalarDependencies,multiplyScalarDependencies:l.multiplyScalarDependencies,sqrtDependencies:x.sqrtDependencies,subtractDependencies:S.subtractDependencies,typedDependencies:D.typedDependencies,unaryMinusDependencies:h.unaryMinusDependencies,createDistance:_.createDistance};r.distanceDependencies=o},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAddScalar.generated":78,"./dependenciesDivideScalar.generated":152,"./dependenciesMultiplyScalar.generated":262,"./dependenciesSqrt.generated":351,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375,"./dependenciesUnaryMinus.generated":376}],151:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.divideDependencies=void 0;var g=n("./dependenciesDivideScalar.generated"),f=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesInv.generated"),l=n("./dependenciesMatrix.generated"),x=n("./dependenciesMultiply.generated"),S=n("./dependenciesTyped.generated"),D=n("../../factoriesAny.js"),h={divideScalarDependencies:g.divideScalarDependencies,equalScalarDependencies:f.equalScalarDependencies,invDependencies:m.invDependencies,matrixDependencies:l.matrixDependencies,multiplyDependencies:x.multiplyDependencies,typedDependencies:S.typedDependencies,createDivide:D.createDivide};r.divideDependencies=h},{"../../factoriesAny.js":658,"./dependenciesDivideScalar.generated":152,"./dependenciesEqualScalar.generated":164,"./dependenciesInv.generated":212,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesTyped.generated":375}],152:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.divideScalarDependencies=void 0;var g=n("./dependenciesNumeric.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={numericDependencies:g.numericDependencies,typedDependencies:f.typedDependencies,createDivideScalar:m.createDivideScalar};r.divideScalarDependencies=l},{"../../factoriesAny.js":658,"./dependenciesNumeric.generated":273,"./dependenciesTyped.generated":375}],153:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dotDependencies=void 0;var g=n("./dependenciesAdd.generated"),f=n("./dependenciesMultiply.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={addDependencies:g.addDependencies,multiplyDependencies:f.multiplyDependencies,typedDependencies:m.typedDependencies,createDot:l.createDot};r.dotDependencies=x},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesMultiply.generated":261,"./dependenciesTyped.generated":375}],154:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dotDivideDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesDivideScalar.generated"),m=n("./dependenciesEqualScalar.generated"),l=n("./dependenciesMatrix.generated"),x=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),D={DenseMatrixDependencies:g.DenseMatrixDependencies,divideScalarDependencies:f.divideScalarDependencies,equalScalarDependencies:m.equalScalarDependencies,matrixDependencies:l.matrixDependencies,typedDependencies:x.typedDependencies,createDotDivide:S.createDotDivide};r.dotDivideDependencies=D},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesDivideScalar.generated":152,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],155:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dotMultiplyDependencies=void 0;var g=n("./dependenciesEqualScalar.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesMultiplyScalar.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={equalScalarDependencies:g.equalScalarDependencies,matrixDependencies:f.matrixDependencies,multiplyScalarDependencies:m.multiplyScalarDependencies,typedDependencies:l.typedDependencies,createDotMultiply:x.createDotMultiply};r.dotMultiplyDependencies=S},{"../../factoriesAny.js":658,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesMultiplyScalar.generated":262,"./dependenciesTyped.generated":375}],156:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dotPowDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),l=n("./dependenciesPow.generated"),x=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),D={DenseMatrixDependencies:g.DenseMatrixDependencies,equalScalarDependencies:f.equalScalarDependencies,matrixDependencies:m.matrixDependencies,powDependencies:l.powDependencies,typedDependencies:x.typedDependencies,createDotPow:S.createDotPow};r.dotPowDependencies=D},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesPow.generated":293,"./dependenciesTyped.generated":375}],157:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.eDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("../../factoriesAny.js"),m={BigNumberDependencies:g.BigNumberDependencies,createE:f.createE};r.eDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],158:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.efimovFactorDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("../../factoriesAny.js"),m={BigNumberDependencies:g.BigNumberDependencies,createEfimovFactor:f.createEfimovFactor};r.efimovFactorDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],159:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.eigsDependencies=void 0;var g=n("./dependenciesAbs.generated"),f=n("./dependenciesAdd.generated"),m=n("./dependenciesAddScalar.generated"),l=n("./dependenciesAtan.generated"),x=n("./dependenciesBignumber.generated"),S=n("./dependenciesCos.generated"),D=n("./dependenciesEqual.generated"),h=n("./dependenciesInv.generated"),_=n("./dependenciesMatrix.generated"),o=n("./dependenciesMultiply.generated"),p=n("./dependenciesMultiplyScalar.generated"),b=n("./dependenciesSin.generated"),y=n("./dependenciesSubtract.generated"),A=n("./dependenciesTyped.generated"),E=n("../../factoriesAny.js"),N={absDependencies:g.absDependencies,addDependencies:f.addDependencies,addScalarDependencies:m.addScalarDependencies,atanDependencies:l.atanDependencies,bignumberDependencies:x.bignumberDependencies,cosDependencies:S.cosDependencies,equalDependencies:D.equalDependencies,invDependencies:h.invDependencies,matrixDependencies:_.matrixDependencies,multiplyDependencies:o.multiplyDependencies,multiplyScalarDependencies:p.multiplyScalarDependencies,sinDependencies:b.sinDependencies,subtractDependencies:y.subtractDependencies,typedDependencies:A.typedDependencies,createEigs:E.createEigs};r.eigsDependencies=N},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAdd.generated":77,"./dependenciesAddScalar.generated":78,"./dependenciesAtan.generated":89,"./dependenciesBignumber.generated":96,"./dependenciesCos.generated":130,"./dependenciesEqual.generated":163,"./dependenciesInv.generated":212,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesMultiplyScalar.generated":262,"./dependenciesSin.generated":339,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],160:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.electricConstantDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createElectricConstant:m.createElectricConstant};r.electricConstantDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],161:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.electronMassDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createElectronMass:m.createElectronMass};r.electronMassDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],162:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.elementaryChargeDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createElementaryCharge:m.createElementaryCharge};r.elementaryChargeDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],163:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.equalDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={DenseMatrixDependencies:g.DenseMatrixDependencies,equalScalarDependencies:f.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:l.typedDependencies,createEqual:x.createEqual};r.equalDependencies=S},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],164:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.equalScalarDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createEqualScalar:f.createEqualScalar};r.equalScalarDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],165:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.equalTextDependencies=void 0;var g=n("./dependenciesCompareText.generated"),f=n("./dependenciesIsZero.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={compareTextDependencies:g.compareTextDependencies,isZeroDependencies:f.isZeroDependencies,typedDependencies:m.typedDependencies,createEqualText:l.createEqualText};r.equalTextDependencies=x},{"../../factoriesAny.js":658,"./dependenciesCompareText.generated":119,"./dependenciesIsZero.generated":220,"./dependenciesTyped.generated":375}],166:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.erfDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createErf:f.createErf};r.erfDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],167:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.evaluateDependencies=void 0;var g=n("./dependenciesParse.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={parseDependencies:g.parseDependencies,typedDependencies:f.typedDependencies,createEvaluate:m.createEvaluate};r.evaluateDependencies=l},{"../../factoriesAny.js":658,"./dependenciesParse.generated":279,"./dependenciesTyped.generated":375}],168:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createExp:f.createExp};r.expDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],169:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expmDependencies=void 0;var g=n("./dependenciesAbs.generated"),f=n("./dependenciesAdd.generated"),m=n("./dependenciesIdentity.generated"),l=n("./dependenciesInv.generated"),x=n("./dependenciesMultiply.generated"),S=n("./dependenciesTyped.generated"),D=n("../../factoriesAny.js"),h={absDependencies:g.absDependencies,addDependencies:f.addDependencies,identityDependencies:m.identityDependencies,invDependencies:l.invDependencies,multiplyDependencies:x.multiplyDependencies,typedDependencies:S.typedDependencies,createExpm:D.createExpm};r.expmDependencies=h},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAdd.generated":77,"./dependenciesIdentity.generated":203,"./dependenciesInv.generated":212,"./dependenciesMultiply.generated":261,"./dependenciesTyped.generated":375}],170:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expm1Dependencies=void 0;var g=n("./dependenciesComplexClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={ComplexDependencies:g.ComplexDependencies,typedDependencies:f.typedDependencies,createExpm1:m.createExpm1};r.expm1Dependencies=l},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],171:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.eyeDependencies=void 0;var g={createEye:n("../../factoriesAny.js").createEye};r.eyeDependencies=g},{"../../factoriesAny.js":658}],172:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.factorialDependencies=void 0;var g=n("./dependenciesGamma.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={gammaDependencies:g.gammaDependencies,typedDependencies:f.typedDependencies,createFactorial:m.createFactorial};r.factorialDependencies=l},{"../../factoriesAny.js":658,"./dependenciesGamma.generated":191,"./dependenciesTyped.generated":375}],173:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.falseDependencies=void 0;var g={createFalse:n("../../factoriesAny.js").createFalse};r.falseDependencies=g},{"../../factoriesAny.js":658}],174:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.faradayDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createFaraday:m.createFaraday};r.faradayDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],175:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fermiCouplingDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createFermiCoupling:m.createFermiCoupling};r.fermiCouplingDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],176:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.FibonacciHeapDependencies=void 0;var g=n("./dependenciesLarger.generated"),f=n("./dependenciesSmaller.generated"),m=n("../../factoriesAny.js"),l={largerDependencies:g.largerDependencies,smallerDependencies:f.smallerDependencies,createFibonacciHeapClass:m.createFibonacciHeapClass};r.FibonacciHeapDependencies=l},{"../../factoriesAny.js":658,"./dependenciesLarger.generated":228,"./dependenciesSmaller.generated":343}],177:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.filterDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createFilter:f.createFilter};r.filterDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],178:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.filterTransformDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createFilterTransform:f.createFilterTransform};r.filterTransformDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],179:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fineStructureDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("../../factoriesAny.js"),m={BigNumberDependencies:g.BigNumberDependencies,createFineStructure:f.createFineStructure};r.fineStructureDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],180:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.firstRadiationDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createFirstRadiation:m.createFirstRadiation};r.firstRadiationDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],181:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fixDependencies=void 0;var g=n("./dependenciesComplexClass.generated"),f=n("./dependenciesCeil.generated"),m=n("./dependenciesFloor.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={ComplexDependencies:g.ComplexDependencies,ceilDependencies:f.ceilDependencies,floorDependencies:m.floorDependencies,typedDependencies:l.typedDependencies,createFix:x.createFix};r.fixDependencies=S},{"../../factoriesAny.js":658,"./dependenciesCeil.generated":108,"./dependenciesComplexClass.generated":122,"./dependenciesFloor.generated":183,"./dependenciesTyped.generated":375}],182:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.flattenDependencies=void 0;var g=n("./dependenciesMatrix.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={matrixDependencies:g.matrixDependencies,typedDependencies:f.typedDependencies,createFlatten:m.createFlatten};r.flattenDependencies=l},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],183:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.floorDependencies=void 0;var g=n("./dependenciesRound.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={roundDependencies:g.roundDependencies,typedDependencies:f.typedDependencies,createFloor:m.createFloor};r.floorDependencies=l},{"../../factoriesAny.js":658,"./dependenciesRound.generated":317,"./dependenciesTyped.generated":375}],184:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.forEachDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createForEach:f.createForEach};r.forEachDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],185:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.forEachTransformDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createForEachTransform:f.createForEachTransform};r.forEachTransformDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],186:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.formatDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createFormat:f.createFormat};r.formatDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],187:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fractionDependencies=void 0;var g=n("./dependenciesFractionClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={FractionDependencies:g.FractionDependencies,typedDependencies:f.typedDependencies,createFraction:m.createFraction};r.fractionDependencies=l},{"../../factoriesAny.js":658,"./dependenciesFractionClass.generated":188,"./dependenciesTyped.generated":375}],188:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.FractionDependencies=void 0;var g={createFractionClass:n("../../factoriesAny.js").createFractionClass};r.FractionDependencies=g},{"../../factoriesAny.js":658}],189:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.FunctionAssignmentNodeDependencies=void 0;var g=n("./dependenciesNode.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={NodeDependencies:g.NodeDependencies,typedDependencies:f.typedDependencies,createFunctionAssignmentNode:m.createFunctionAssignmentNode};r.FunctionAssignmentNodeDependencies=l},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265,"./dependenciesTyped.generated":375}],190:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.FunctionNodeDependencies=void 0;var g=n("./dependenciesNode.generated"),f=n("./dependenciesSymbolNode.generated"),m=n("../../factoriesAny.js"),l={NodeDependencies:g.NodeDependencies,SymbolNodeDependencies:f.SymbolNodeDependencies,createFunctionNode:m.createFunctionNode};r.FunctionNodeDependencies=l},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265,"./dependenciesSymbolNode.generated":365}],191:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.gammaDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesComplexClass.generated"),m=n("./dependenciesMultiplyScalar.generated"),l=n("./dependenciesPow.generated"),x=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),D={BigNumberDependencies:g.BigNumberDependencies,ComplexDependencies:f.ComplexDependencies,multiplyScalarDependencies:m.multiplyScalarDependencies,powDependencies:l.powDependencies,typedDependencies:x.typedDependencies,createGamma:S.createGamma};r.gammaDependencies=D},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplexClass.generated":122,"./dependenciesMultiplyScalar.generated":262,"./dependenciesPow.generated":293,"./dependenciesTyped.generated":375}],192:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.gasConstantDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createGasConstant:m.createGasConstant};r.gasConstantDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],193:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.gcdDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesDenseMatrixClass.generated"),m=n("./dependenciesEqualScalar.generated"),l=n("./dependenciesMatrix.generated"),x=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),D={BigNumberDependencies:g.BigNumberDependencies,DenseMatrixDependencies:f.DenseMatrixDependencies,equalScalarDependencies:m.equalScalarDependencies,matrixDependencies:l.matrixDependencies,typedDependencies:x.typedDependencies,createGcd:S.createGcd};r.gcdDependencies=D},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],194:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getMatrixDataTypeDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createGetMatrixDataType:f.createGetMatrixDataType};r.getMatrixDataTypeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],195:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.gravitationConstantDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createGravitationConstant:m.createGravitationConstant};r.gravitationConstantDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],196:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.gravityDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createGravity:m.createGravity};r.gravityDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],197:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hartreeEnergyDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createHartreeEnergy:m.createHartreeEnergy};r.hartreeEnergyDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],198:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hasNumericValueDependencies=void 0;var g=n("./dependenciesIsNumeric.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={isNumericDependencies:g.isNumericDependencies,typedDependencies:f.typedDependencies,createHasNumericValue:m.createHasNumericValue};r.hasNumericValueDependencies=l},{"../../factoriesAny.js":658,"./dependenciesIsNumeric.generated":217,"./dependenciesTyped.generated":375}],199:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.helpDependencies=void 0;var g=n("./dependenciesHelpClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={HelpDependencies:g.HelpDependencies,typedDependencies:f.typedDependencies,createHelp:m.createHelp};r.helpDependencies=l},{"../../factoriesAny.js":658,"./dependenciesHelpClass.generated":200,"./dependenciesTyped.generated":375}],200:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.HelpDependencies=void 0;var g=n("./dependenciesParse.generated"),f=n("../../factoriesAny.js"),m={parseDependencies:g.parseDependencies,createHelpClass:f.createHelpClass};r.HelpDependencies=m},{"../../factoriesAny.js":658,"./dependenciesParse.generated":279}],201:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hypotDependencies=void 0;var g=n("./dependenciesAbs.generated"),f=n("./dependenciesAddScalar.generated"),m=n("./dependenciesDivideScalar.generated"),l=n("./dependenciesIsPositive.generated"),x=n("./dependenciesMultiplyScalar.generated"),S=n("./dependenciesSmaller.generated"),D=n("./dependenciesSqrt.generated"),h=n("./dependenciesTyped.generated"),_=n("../../factoriesAny.js"),o={absDependencies:g.absDependencies,addScalarDependencies:f.addScalarDependencies,divideScalarDependencies:m.divideScalarDependencies,isPositiveDependencies:l.isPositiveDependencies,multiplyScalarDependencies:x.multiplyScalarDependencies,smallerDependencies:S.smallerDependencies,sqrtDependencies:D.sqrtDependencies,typedDependencies:h.typedDependencies,createHypot:_.createHypot};r.hypotDependencies=o},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAddScalar.generated":78,"./dependenciesDivideScalar.generated":152,"./dependenciesIsPositive.generated":218,"./dependenciesMultiplyScalar.generated":262,"./dependenciesSmaller.generated":343,"./dependenciesSqrt.generated":351,"./dependenciesTyped.generated":375}],202:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.iDependencies=void 0;var g=n("./dependenciesComplexClass.generated"),f=n("../../factoriesAny.js"),m={ComplexDependencies:g.ComplexDependencies,createI:f.createI};r.iDependencies=m},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122}],203:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.identityDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesDenseMatrixClass.generated"),m=n("./dependenciesSparseMatrixClass.generated"),l=n("./dependenciesMatrix.generated"),x=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),D={BigNumberDependencies:g.BigNumberDependencies,DenseMatrixDependencies:f.DenseMatrixDependencies,SparseMatrixDependencies:m.SparseMatrixDependencies,matrixDependencies:l.matrixDependencies,typedDependencies:x.typedDependencies,createIdentity:S.createIdentity};r.identityDependencies=D},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrix.generated":245,"./dependenciesSparseMatrixClass.generated":348,"./dependenciesTyped.generated":375}],204:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.imDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createIm:f.createIm};r.imDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],205:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ImmutableDenseMatrixDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesSmaller.generated"),m=n("../../factoriesAny.js"),l={DenseMatrixDependencies:g.DenseMatrixDependencies,smallerDependencies:f.smallerDependencies,createImmutableDenseMatrixClass:m.createImmutableDenseMatrixClass};r.ImmutableDenseMatrixDependencies=l},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesSmaller.generated":343}],206:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.indexDependencies=void 0;var g=n("./dependenciesIndexClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={IndexDependencies:g.IndexDependencies,typedDependencies:f.typedDependencies,createIndex:m.createIndex};r.indexDependencies=l},{"../../factoriesAny.js":658,"./dependenciesIndexClass.generated":207,"./dependenciesTyped.generated":375}],207:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.IndexDependencies=void 0;var g=n("./dependenciesImmutableDenseMatrixClass.generated"),f=n("../../factoriesAny.js"),m={ImmutableDenseMatrixDependencies:g.ImmutableDenseMatrixDependencies,createIndexClass:f.createIndexClass};r.IndexDependencies=m},{"../../factoriesAny.js":658,"./dependenciesImmutableDenseMatrixClass.generated":205}],208:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.IndexNodeDependencies=void 0;var g=n("./dependenciesNode.generated"),f=n("./dependenciesRangeClass.generated"),m=n("./dependenciesSize.generated"),l=n("../../factoriesAny.js"),x={NodeDependencies:g.NodeDependencies,RangeDependencies:f.RangeDependencies,sizeDependencies:m.sizeDependencies,createIndexNode:l.createIndexNode};r.IndexNodeDependencies=x},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265,"./dependenciesRangeClass.generated":303,"./dependenciesSize.generated":341}],209:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.indexTransformDependencies=void 0;var g=n("./dependenciesIndexClass.generated"),f=n("../../factoriesAny.js"),m={IndexDependencies:g.IndexDependencies,createIndexTransform:f.createIndexTransform};r.indexTransformDependencies=m},{"../../factoriesAny.js":658,"./dependenciesIndexClass.generated":207}],210:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.InfinityDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("../../factoriesAny.js"),m={BigNumberDependencies:g.BigNumberDependencies,createInfinity:f.createInfinity};r.InfinityDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],211:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.intersectDependencies=void 0;var g=n("./dependenciesAbs.generated"),f=n("./dependenciesAdd.generated"),m=n("./dependenciesAddScalar.generated"),l=n("./dependenciesDivideScalar.generated"),x=n("./dependenciesEqualScalar.generated"),S=n("./dependenciesMatrix.generated"),D=n("./dependenciesMultiply.generated"),h=n("./dependenciesMultiplyScalar.generated"),_=n("./dependenciesSmaller.generated"),o=n("./dependenciesSubtract.generated"),p=n("./dependenciesTyped.generated"),b=n("../../factoriesAny.js"),y={absDependencies:g.absDependencies,addDependencies:f.addDependencies,addScalarDependencies:m.addScalarDependencies,divideScalarDependencies:l.divideScalarDependencies,equalScalarDependencies:x.equalScalarDependencies,matrixDependencies:S.matrixDependencies,multiplyDependencies:D.multiplyDependencies,multiplyScalarDependencies:h.multiplyScalarDependencies,smallerDependencies:_.smallerDependencies,subtractDependencies:o.subtractDependencies,typedDependencies:p.typedDependencies,createIntersect:b.createIntersect};r.intersectDependencies=y},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAdd.generated":77,"./dependenciesAddScalar.generated":78,"./dependenciesDivideScalar.generated":152,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesMultiplyScalar.generated":262,"./dependenciesSmaller.generated":343,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],212:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.invDependencies=void 0;var g=n("./dependenciesAbs.generated"),f=n("./dependenciesAddScalar.generated"),m=n("./dependenciesDet.generated"),l=n("./dependenciesDivideScalar.generated"),x=n("./dependenciesIdentity.generated"),S=n("./dependenciesMatrix.generated"),D=n("./dependenciesMultiply.generated"),h=n("./dependenciesTyped.generated"),_=n("./dependenciesUnaryMinus.generated"),o=n("../../factoriesAny.js"),p={absDependencies:g.absDependencies,addScalarDependencies:f.addScalarDependencies,detDependencies:m.detDependencies,divideScalarDependencies:l.divideScalarDependencies,identityDependencies:x.identityDependencies,matrixDependencies:S.matrixDependencies,multiplyDependencies:D.multiplyDependencies,typedDependencies:h.typedDependencies,unaryMinusDependencies:_.unaryMinusDependencies,createInv:o.createInv};r.invDependencies=p},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAddScalar.generated":78,"./dependenciesDet.generated":147,"./dependenciesDivideScalar.generated":152,"./dependenciesIdentity.generated":203,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesTyped.generated":375,"./dependenciesUnaryMinus.generated":376}],213:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.inverseConductanceQuantumDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createInverseConductanceQuantum:m.createInverseConductanceQuantum};r.inverseConductanceQuantumDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],214:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isIntegerDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createIsInteger:f.createIsInteger};r.isIntegerDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],215:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNaNDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createIsNaN:f.createIsNaN};r.isNaNDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],216:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNegativeDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createIsNegative:f.createIsNegative};r.isNegativeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],217:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNumericDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createIsNumeric:f.createIsNumeric};r.isNumericDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],218:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isPositiveDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createIsPositive:f.createIsPositive};r.isPositiveDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],219:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isPrimeDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createIsPrime:f.createIsPrime};r.isPrimeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],220:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isZeroDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createIsZero:f.createIsZero};r.isZeroDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],221:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.kldivergenceDependencies=void 0;var g=n("./dependenciesDivide.generated"),f=n("./dependenciesDotDivide.generated"),m=n("./dependenciesIsNumeric.generated"),l=n("./dependenciesLog.generated"),x=n("./dependenciesMatrix.generated"),S=n("./dependenciesMultiply.generated"),D=n("./dependenciesSum.generated"),h=n("./dependenciesTyped.generated"),_=n("../../factoriesAny.js"),o={divideDependencies:g.divideDependencies,dotDivideDependencies:f.dotDivideDependencies,isNumericDependencies:m.isNumericDependencies,logDependencies:l.logDependencies,matrixDependencies:x.matrixDependencies,multiplyDependencies:S.multiplyDependencies,sumDependencies:D.sumDependencies,typedDependencies:h.typedDependencies,createKldivergence:_.createKldivergence};r.kldivergenceDependencies=o},{"../../factoriesAny.js":658,"./dependenciesDivide.generated":151,"./dependenciesDotDivide.generated":154,"./dependenciesIsNumeric.generated":217,"./dependenciesLog.generated":232,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesSum.generated":363,"./dependenciesTyped.generated":375}],222:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.klitzingDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createKlitzing:m.createKlitzing};r.klitzingDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],223:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.kronDependencies=void 0;var g=n("./dependenciesMatrix.generated"),f=n("./dependenciesMultiplyScalar.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={matrixDependencies:g.matrixDependencies,multiplyScalarDependencies:f.multiplyScalarDependencies,typedDependencies:m.typedDependencies,createKron:l.createKron};r.kronDependencies=x},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesMultiplyScalar.generated":262,"./dependenciesTyped.generated":375}],224:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LN10Dependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("../../factoriesAny.js"),m={BigNumberDependencies:g.BigNumberDependencies,createLN10:f.createLN10};r.LN10Dependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],225:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LN2Dependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("../../factoriesAny.js"),m={BigNumberDependencies:g.BigNumberDependencies,createLN2:f.createLN2};r.LN2Dependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],226:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LOG10EDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("../../factoriesAny.js"),m={BigNumberDependencies:g.BigNumberDependencies,createLOG10E:f.createLOG10E};r.LOG10EDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],227:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LOG2EDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("../../factoriesAny.js"),m={BigNumberDependencies:g.BigNumberDependencies,createLOG2E:f.createLOG2E};r.LOG2EDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],228:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.largerDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={DenseMatrixDependencies:g.DenseMatrixDependencies,matrixDependencies:f.matrixDependencies,typedDependencies:m.typedDependencies,createLarger:l.createLarger};r.largerDependencies=x},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],229:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.largerEqDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={DenseMatrixDependencies:g.DenseMatrixDependencies,matrixDependencies:f.matrixDependencies,typedDependencies:m.typedDependencies,createLargerEq:l.createLargerEq};r.largerEqDependencies=x},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],230:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lcmDependencies=void 0;var g=n("./dependenciesEqualScalar.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={equalScalarDependencies:g.equalScalarDependencies,matrixDependencies:f.matrixDependencies,typedDependencies:m.typedDependencies,createLcm:l.createLcm};r.lcmDependencies=x},{"../../factoriesAny.js":658,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],231:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.leftShiftDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),l=n("./dependenciesTyped.generated"),x=n("./dependenciesZeros.generated"),S=n("../../factoriesAny.js"),D={DenseMatrixDependencies:g.DenseMatrixDependencies,equalScalarDependencies:f.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:l.typedDependencies,zerosDependencies:x.zerosDependencies,createLeftShift:S.createLeftShift};r.leftShiftDependencies=D},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375,"./dependenciesZeros.generated":392}],232:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.logDependencies=void 0;var g=n("./dependenciesComplexClass.generated"),f=n("./dependenciesDivideScalar.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={ComplexDependencies:g.ComplexDependencies,divideScalarDependencies:f.divideScalarDependencies,typedDependencies:m.typedDependencies,createLog:l.createLog};r.logDependencies=x},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesDivideScalar.generated":152,"./dependenciesTyped.generated":375}],233:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.log10Dependencies=void 0;var g=n("./dependenciesComplexClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={ComplexDependencies:g.ComplexDependencies,typedDependencies:f.typedDependencies,createLog10:m.createLog10};r.log10Dependencies=l},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],234:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.log1pDependencies=void 0;var g=n("./dependenciesComplexClass.generated"),f=n("./dependenciesDivideScalar.generated"),m=n("./dependenciesLog.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={ComplexDependencies:g.ComplexDependencies,divideScalarDependencies:f.divideScalarDependencies,logDependencies:m.logDependencies,typedDependencies:l.typedDependencies,createLog1p:x.createLog1p};r.log1pDependencies=S},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesDivideScalar.generated":152,"./dependenciesLog.generated":232,"./dependenciesTyped.generated":375}],235:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.log2Dependencies=void 0;var g=n("./dependenciesComplexClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={ComplexDependencies:g.ComplexDependencies,typedDependencies:f.typedDependencies,createLog2:m.createLog2};r.log2Dependencies=l},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],236:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.loschmidtDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createLoschmidt:m.createLoschmidt};r.loschmidtDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],237:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lsolveDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesDivideScalar.generated"),m=n("./dependenciesEqualScalar.generated"),l=n("./dependenciesMatrix.generated"),x=n("./dependenciesMultiplyScalar.generated"),S=n("./dependenciesSubtract.generated"),D=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),_={DenseMatrixDependencies:g.DenseMatrixDependencies,divideScalarDependencies:f.divideScalarDependencies,equalScalarDependencies:m.equalScalarDependencies,matrixDependencies:l.matrixDependencies,multiplyScalarDependencies:x.multiplyScalarDependencies,subtractDependencies:S.subtractDependencies,typedDependencies:D.typedDependencies,createLsolve:h.createLsolve};r.lsolveDependencies=_},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesDivideScalar.generated":152,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesMultiplyScalar.generated":262,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],238:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lupDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesSpaClass.generated"),m=n("./dependenciesSparseMatrixClass.generated"),l=n("./dependenciesAbs.generated"),x=n("./dependenciesAddScalar.generated"),S=n("./dependenciesDivideScalar.generated"),D=n("./dependenciesEqualScalar.generated"),h=n("./dependenciesLarger.generated"),_=n("./dependenciesMatrix.generated"),o=n("./dependenciesMultiplyScalar.generated"),p=n("./dependenciesSubtract.generated"),b=n("./dependenciesTyped.generated"),y=n("./dependenciesUnaryMinus.generated"),A=n("../../factoriesAny.js"),E={DenseMatrixDependencies:g.DenseMatrixDependencies,SpaDependencies:f.SpaDependencies,SparseMatrixDependencies:m.SparseMatrixDependencies,absDependencies:l.absDependencies,addScalarDependencies:x.addScalarDependencies,divideScalarDependencies:S.divideScalarDependencies,equalScalarDependencies:D.equalScalarDependencies,largerDependencies:h.largerDependencies,matrixDependencies:_.matrixDependencies,multiplyScalarDependencies:o.multiplyScalarDependencies,subtractDependencies:p.subtractDependencies,typedDependencies:b.typedDependencies,unaryMinusDependencies:y.unaryMinusDependencies,createLup:A.createLup};r.lupDependencies=E},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAddScalar.generated":78,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesDivideScalar.generated":152,"./dependenciesEqualScalar.generated":164,"./dependenciesLarger.generated":228,"./dependenciesMatrix.generated":245,"./dependenciesMultiplyScalar.generated":262,"./dependenciesSpaClass.generated":346,"./dependenciesSparseMatrixClass.generated":348,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375,"./dependenciesUnaryMinus.generated":376}],239:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lusolveDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesLsolve.generated"),m=n("./dependenciesLup.generated"),l=n("./dependenciesMatrix.generated"),x=n("./dependenciesSlu.generated"),S=n("./dependenciesTyped.generated"),D=n("./dependenciesUsolve.generated"),h=n("../../factoriesAny.js"),_={DenseMatrixDependencies:g.DenseMatrixDependencies,lsolveDependencies:f.lsolveDependencies,lupDependencies:m.lupDependencies,matrixDependencies:l.matrixDependencies,sluDependencies:x.sluDependencies,typedDependencies:S.typedDependencies,usolveDependencies:D.usolveDependencies,createLusolve:h.createLusolve};r.lusolveDependencies=_},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesLsolve.generated":237,"./dependenciesLup.generated":238,"./dependenciesMatrix.generated":245,"./dependenciesSlu.generated":342,"./dependenciesTyped.generated":375,"./dependenciesUsolve.generated":383}],240:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.madDependencies=void 0;var g=n("./dependenciesAbs.generated"),f=n("./dependenciesMap.generated"),m=n("./dependenciesMedian.generated"),l=n("./dependenciesSubtract.generated"),x=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),D={absDependencies:g.absDependencies,mapDependencies:f.mapDependencies,medianDependencies:m.medianDependencies,subtractDependencies:l.subtractDependencies,typedDependencies:x.typedDependencies,createMad:S.createMad};r.madDependencies=D},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesMap.generated":243,"./dependenciesMedian.generated":251,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],241:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.magneticConstantDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createMagneticConstant:m.createMagneticConstant};r.magneticConstantDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],242:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.magneticFluxQuantumDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createMagneticFluxQuantum:m.createMagneticFluxQuantum};r.magneticFluxQuantumDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],243:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mapDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createMap:f.createMap};r.mapDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],244:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mapTransformDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createMapTransform:f.createMapTransform};r.mapTransformDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],245:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.matrixDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesMatrixClass.generated"),m=n("./dependenciesSparseMatrixClass.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={DenseMatrixDependencies:g.DenseMatrixDependencies,MatrixDependencies:f.MatrixDependencies,SparseMatrixDependencies:m.SparseMatrixDependencies,typedDependencies:l.typedDependencies,createMatrix:x.createMatrix};r.matrixDependencies=S},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrixClass.generated":246,"./dependenciesSparseMatrixClass.generated":348,"./dependenciesTyped.generated":375}],246:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MatrixDependencies=void 0;var g={createMatrixClass:n("../../factoriesAny.js").createMatrixClass};r.MatrixDependencies=g},{"../../factoriesAny.js":658}],247:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.maxDependencies=void 0;var g=n("./dependenciesLarger.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={largerDependencies:g.largerDependencies,typedDependencies:f.typedDependencies,createMax:m.createMax};r.maxDependencies=l},{"../../factoriesAny.js":658,"./dependenciesLarger.generated":228,"./dependenciesTyped.generated":375}],248:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.maxTransformDependencies=void 0;var g=n("./dependenciesLarger.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={largerDependencies:g.largerDependencies,typedDependencies:f.typedDependencies,createMaxTransform:m.createMaxTransform};r.maxTransformDependencies=l},{"../../factoriesAny.js":658,"./dependenciesLarger.generated":228,"./dependenciesTyped.generated":375}],249:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.meanDependencies=void 0;var g=n("./dependenciesAdd.generated"),f=n("./dependenciesDivide.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={addDependencies:g.addDependencies,divideDependencies:f.divideDependencies,typedDependencies:m.typedDependencies,createMean:l.createMean};r.meanDependencies=x},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesDivide.generated":151,"./dependenciesTyped.generated":375}],250:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.meanTransformDependencies=void 0;var g=n("./dependenciesAdd.generated"),f=n("./dependenciesDivide.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={addDependencies:g.addDependencies,divideDependencies:f.divideDependencies,typedDependencies:m.typedDependencies,createMeanTransform:l.createMeanTransform};r.meanTransformDependencies=x},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesDivide.generated":151,"./dependenciesTyped.generated":375}],251:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.medianDependencies=void 0;var g=n("./dependenciesAdd.generated"),f=n("./dependenciesCompare.generated"),m=n("./dependenciesDivide.generated"),l=n("./dependenciesPartitionSelect.generated"),x=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),D={addDependencies:g.addDependencies,compareDependencies:f.compareDependencies,divideDependencies:m.divideDependencies,partitionSelectDependencies:l.partitionSelectDependencies,typedDependencies:x.typedDependencies,createMedian:S.createMedian};r.medianDependencies=D},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesCompare.generated":117,"./dependenciesDivide.generated":151,"./dependenciesPartitionSelect.generated":282,"./dependenciesTyped.generated":375}],252:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.minDependencies=void 0;var g=n("./dependenciesSmaller.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={smallerDependencies:g.smallerDependencies,typedDependencies:f.typedDependencies,createMin:m.createMin};r.minDependencies=l},{"../../factoriesAny.js":658,"./dependenciesSmaller.generated":343,"./dependenciesTyped.generated":375}],253:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.minTransformDependencies=void 0;var g=n("./dependenciesSmaller.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={smallerDependencies:g.smallerDependencies,typedDependencies:f.typedDependencies,createMinTransform:m.createMinTransform};r.minTransformDependencies=l},{"../../factoriesAny.js":658,"./dependenciesSmaller.generated":343,"./dependenciesTyped.generated":375}],254:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.modDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={DenseMatrixDependencies:g.DenseMatrixDependencies,equalScalarDependencies:f.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:l.typedDependencies,createMod:x.createMod};r.modDependencies=S},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],255:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.modeDependencies=void 0;var g=n("./dependenciesIsNaN.generated"),f=n("./dependenciesIsNumeric.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={isNaNDependencies:g.isNaNDependencies,isNumericDependencies:f.isNumericDependencies,typedDependencies:m.typedDependencies,createMode:l.createMode};r.modeDependencies=x},{"../../factoriesAny.js":658,"./dependenciesIsNaN.generated":215,"./dependenciesIsNumeric.generated":217,"./dependenciesTyped.generated":375}],256:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.molarMassDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createMolarMass:m.createMolarMass};r.molarMassDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],257:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.molarMassC12Dependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createMolarMassC12:m.createMolarMassC12};r.molarMassC12Dependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],258:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.molarPlanckConstantDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createMolarPlanckConstant:m.createMolarPlanckConstant};r.molarPlanckConstantDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],259:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.molarVolumeDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createMolarVolume:m.createMolarVolume};r.molarVolumeDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],260:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.multinomialDependencies=void 0;var g=n("./dependenciesAdd.generated"),f=n("./dependenciesDivide.generated"),m=n("./dependenciesFactorial.generated"),l=n("./dependenciesIsInteger.generated"),x=n("./dependenciesIsPositive.generated"),S=n("./dependenciesMultiply.generated"),D=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),_={addDependencies:g.addDependencies,divideDependencies:f.divideDependencies,factorialDependencies:m.factorialDependencies,isIntegerDependencies:l.isIntegerDependencies,isPositiveDependencies:x.isPositiveDependencies,multiplyDependencies:S.multiplyDependencies,typedDependencies:D.typedDependencies,createMultinomial:h.createMultinomial};r.multinomialDependencies=_},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesDivide.generated":151,"./dependenciesFactorial.generated":172,"./dependenciesIsInteger.generated":214,"./dependenciesIsPositive.generated":218,"./dependenciesMultiply.generated":261,"./dependenciesTyped.generated":375}],261:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.multiplyDependencies=void 0;var g=n("./dependenciesAddScalar.generated"),f=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),l=n("./dependenciesMultiplyScalar.generated"),x=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),D={addScalarDependencies:g.addScalarDependencies,equalScalarDependencies:f.equalScalarDependencies,matrixDependencies:m.matrixDependencies,multiplyScalarDependencies:l.multiplyScalarDependencies,typedDependencies:x.typedDependencies,createMultiply:S.createMultiply};r.multiplyDependencies=D},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesMultiplyScalar.generated":262,"./dependenciesTyped.generated":375}],262:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.multiplyScalarDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createMultiplyScalar:f.createMultiplyScalar};r.multiplyScalarDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],263:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NaNDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("../../factoriesAny.js"),m={BigNumberDependencies:g.BigNumberDependencies,createNaN:f.createNaN};r.NaNDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],264:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.neutronMassDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createNeutronMass:m.createNeutronMass};r.neutronMassDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],265:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NodeDependencies=void 0;var g={createNode:n("../../factoriesAny.js").createNode};r.NodeDependencies=g},{"../../factoriesAny.js":658}],266:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.normDependencies=void 0;var g=n("./dependenciesAbs.generated"),f=n("./dependenciesAdd.generated"),m=n("./dependenciesConj.generated"),l=n("./dependenciesEqualScalar.generated"),x=n("./dependenciesLarger.generated"),S=n("./dependenciesMatrix.generated"),D=n("./dependenciesMultiply.generated"),h=n("./dependenciesPow.generated"),_=n("./dependenciesSmaller.generated"),o=n("./dependenciesSqrt.generated"),p=n("./dependenciesTyped.generated"),b=n("../../factoriesAny.js"),y={absDependencies:g.absDependencies,addDependencies:f.addDependencies,conjDependencies:m.conjDependencies,equalScalarDependencies:l.equalScalarDependencies,largerDependencies:x.largerDependencies,matrixDependencies:S.matrixDependencies,multiplyDependencies:D.multiplyDependencies,powDependencies:h.powDependencies,smallerDependencies:_.smallerDependencies,sqrtDependencies:o.sqrtDependencies,typedDependencies:p.typedDependencies,createNorm:b.createNorm};r.normDependencies=y},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAdd.generated":77,"./dependenciesConj.generated":128,"./dependenciesEqualScalar.generated":164,"./dependenciesLarger.generated":228,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesPow.generated":293,"./dependenciesSmaller.generated":343,"./dependenciesSqrt.generated":351,"./dependenciesTyped.generated":375}],267:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.notDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createNot:f.createNot};r.notDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],268:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nthRootDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={BigNumberDependencies:g.BigNumberDependencies,equalScalarDependencies:f.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:l.typedDependencies,createNthRoot:x.createNthRoot};r.nthRootDependencies=S},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],269:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nthRootsDependencies=void 0;var g=n("./dependenciesComplexClass.generated"),f=n("./dependenciesDivideScalar.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={ComplexDependencies:g.ComplexDependencies,divideScalarDependencies:f.divideScalarDependencies,typedDependencies:m.typedDependencies,createNthRoots:l.createNthRoots};r.nthRootsDependencies=x},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesDivideScalar.generated":152,"./dependenciesTyped.generated":375}],270:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nuclearMagnetonDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createNuclearMagneton:m.createNuclearMagneton};r.nuclearMagnetonDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],271:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nullDependencies=void 0;var g={createNull:n("../../factoriesAny.js").createNull};r.nullDependencies=g},{"../../factoriesAny.js":658}],272:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.numberDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createNumber:f.createNumber};r.numberDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],273:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.numericDependencies=void 0;var g=n("./dependenciesBignumber.generated"),f=n("./dependenciesFraction.generated"),m=n("./dependenciesNumber.generated"),l=n("../../factoriesAny.js"),x={bignumberDependencies:g.bignumberDependencies,fractionDependencies:f.fractionDependencies,numberDependencies:m.numberDependencies,createNumeric:l.createNumeric};r.numericDependencies=x},{"../../factoriesAny.js":658,"./dependenciesBignumber.generated":96,"./dependenciesFraction.generated":187,"./dependenciesNumber.generated":272}],274:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ObjectNodeDependencies=void 0;var g=n("./dependenciesNode.generated"),f=n("../../factoriesAny.js"),m={NodeDependencies:g.NodeDependencies,createObjectNode:f.createObjectNode};r.ObjectNodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265}],275:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.onesDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={BigNumberDependencies:g.BigNumberDependencies,matrixDependencies:f.matrixDependencies,typedDependencies:m.typedDependencies,createOnes:l.createOnes};r.onesDependencies=x},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],276:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.OperatorNodeDependencies=void 0;var g=n("./dependenciesNode.generated"),f=n("../../factoriesAny.js"),m={NodeDependencies:g.NodeDependencies,createOperatorNode:f.createOperatorNode};r.OperatorNodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265}],277:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.orDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={DenseMatrixDependencies:g.DenseMatrixDependencies,equalScalarDependencies:f.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:l.typedDependencies,createOr:x.createOr};r.orDependencies=S},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],278:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ParenthesisNodeDependencies=void 0;var g=n("./dependenciesNode.generated"),f=n("../../factoriesAny.js"),m={NodeDependencies:g.NodeDependencies,createParenthesisNode:f.createParenthesisNode};r.ParenthesisNodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265}],279:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseDependencies=void 0;var g=n("./dependenciesAccessorNode.generated"),f=n("./dependenciesArrayNode.generated"),m=n("./dependenciesAssignmentNode.generated"),l=n("./dependenciesBlockNode.generated"),x=n("./dependenciesConditionalNode.generated"),S=n("./dependenciesConstantNode.generated"),D=n("./dependenciesFunctionAssignmentNode.generated"),h=n("./dependenciesFunctionNode.generated"),_=n("./dependenciesIndexNode.generated"),o=n("./dependenciesObjectNode.generated"),p=n("./dependenciesOperatorNode.generated"),b=n("./dependenciesParenthesisNode.generated"),y=n("./dependenciesRangeNode.generated"),A=n("./dependenciesRelationalNode.generated"),E=n("./dependenciesSymbolNode.generated"),N=n("./dependenciesNumeric.generated"),T=n("./dependenciesTyped.generated"),O=n("../../factoriesAny.js"),j={AccessorNodeDependencies:g.AccessorNodeDependencies,ArrayNodeDependencies:f.ArrayNodeDependencies,AssignmentNodeDependencies:m.AssignmentNodeDependencies,BlockNodeDependencies:l.BlockNodeDependencies,ConditionalNodeDependencies:x.ConditionalNodeDependencies,ConstantNodeDependencies:S.ConstantNodeDependencies,FunctionAssignmentNodeDependencies:D.FunctionAssignmentNodeDependencies,FunctionNodeDependencies:h.FunctionNodeDependencies,IndexNodeDependencies:_.IndexNodeDependencies,ObjectNodeDependencies:o.ObjectNodeDependencies,OperatorNodeDependencies:p.OperatorNodeDependencies,ParenthesisNodeDependencies:b.ParenthesisNodeDependencies,RangeNodeDependencies:y.RangeNodeDependencies,RelationalNodeDependencies:A.RelationalNodeDependencies,SymbolNodeDependencies:E.SymbolNodeDependencies,numericDependencies:N.numericDependencies,typedDependencies:T.typedDependencies,createParse:O.createParse};r.parseDependencies=j},{"../../factoriesAny.js":658,"./dependenciesAccessorNode.generated":70,"./dependenciesArrayNode.generated":83,"./dependenciesAssignmentNode.generated":88,"./dependenciesBlockNode.generated":101,"./dependenciesConditionalNode.generated":126,"./dependenciesConstantNode.generated":129,"./dependenciesFunctionAssignmentNode.generated":189,"./dependenciesFunctionNode.generated":190,"./dependenciesIndexNode.generated":208,"./dependenciesNumeric.generated":273,"./dependenciesObjectNode.generated":274,"./dependenciesOperatorNode.generated":276,"./dependenciesParenthesisNode.generated":278,"./dependenciesRangeNode.generated":304,"./dependenciesRelationalNode.generated":309,"./dependenciesSymbolNode.generated":365,"./dependenciesTyped.generated":375}],280:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.parserDependencies=void 0;var g=n("./dependenciesParserClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={ParserDependencies:g.ParserDependencies,typedDependencies:f.typedDependencies,createParser:m.createParser};r.parserDependencies=l},{"../../factoriesAny.js":658,"./dependenciesParserClass.generated":281,"./dependenciesTyped.generated":375}],281:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ParserDependencies=void 0;var g=n("./dependenciesParse.generated"),f=n("../../factoriesAny.js"),m={parseDependencies:g.parseDependencies,createParserClass:f.createParserClass};r.ParserDependencies=m},{"../../factoriesAny.js":658,"./dependenciesParse.generated":279}],282:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.partitionSelectDependencies=void 0;var g=n("./dependenciesCompare.generated"),f=n("./dependenciesIsNaN.generated"),m=n("./dependenciesIsNumeric.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={compareDependencies:g.compareDependencies,isNaNDependencies:f.isNaNDependencies,isNumericDependencies:m.isNumericDependencies,typedDependencies:l.typedDependencies,createPartitionSelect:x.createPartitionSelect};r.partitionSelectDependencies=S},{"../../factoriesAny.js":658,"./dependenciesCompare.generated":117,"./dependenciesIsNaN.generated":215,"./dependenciesIsNumeric.generated":217,"./dependenciesTyped.generated":375}],283:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.permutationsDependencies=void 0;var g=n("./dependenciesFactorial.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={factorialDependencies:g.factorialDependencies,typedDependencies:f.typedDependencies,createPermutations:m.createPermutations};r.permutationsDependencies=l},{"../../factoriesAny.js":658,"./dependenciesFactorial.generated":172,"./dependenciesTyped.generated":375}],284:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.phiDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("../../factoriesAny.js"),m={BigNumberDependencies:g.BigNumberDependencies,createPhi:f.createPhi};r.phiDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],285:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.piDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("../../factoriesAny.js"),m={BigNumberDependencies:g.BigNumberDependencies,createPi:f.createPi};r.piDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],286:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.pickRandomDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createPickRandom:f.createPickRandom};r.pickRandomDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],287:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.planckChargeDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createPlanckCharge:m.createPlanckCharge};r.planckChargeDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],288:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.planckConstantDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createPlanckConstant:m.createPlanckConstant};r.planckConstantDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],289:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.planckLengthDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createPlanckLength:m.createPlanckLength};r.planckLengthDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],290:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.planckMassDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createPlanckMass:m.createPlanckMass};r.planckMassDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],291:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.planckTemperatureDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createPlanckTemperature:m.createPlanckTemperature};r.planckTemperatureDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],292:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.planckTimeDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createPlanckTime:m.createPlanckTime};r.planckTimeDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],293:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.powDependencies=void 0;var g=n("./dependenciesComplexClass.generated"),f=n("./dependenciesFraction.generated"),m=n("./dependenciesIdentity.generated"),l=n("./dependenciesMatrix.generated"),x=n("./dependenciesMultiply.generated"),S=n("./dependenciesNumber.generated"),D=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),_={ComplexDependencies:g.ComplexDependencies,fractionDependencies:f.fractionDependencies,identityDependencies:m.identityDependencies,matrixDependencies:l.matrixDependencies,multiplyDependencies:x.multiplyDependencies,numberDependencies:S.numberDependencies,typedDependencies:D.typedDependencies,createPow:h.createPow};r.powDependencies=_},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesFraction.generated":187,"./dependenciesIdentity.generated":203,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesNumber.generated":272,"./dependenciesTyped.generated":375}],294:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.printDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createPrint:f.createPrint};r.printDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],295:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.prodDependencies=void 0;var g=n("./dependenciesMultiply.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={multiplyDependencies:g.multiplyDependencies,typedDependencies:f.typedDependencies,createProd:m.createProd};r.prodDependencies=l},{"../../factoriesAny.js":658,"./dependenciesMultiply.generated":261,"./dependenciesTyped.generated":375}],296:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.protonMassDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createProtonMass:m.createProtonMass};r.protonMassDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],297:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.qrDependencies=void 0;var g=n("./dependenciesAddScalar.generated"),f=n("./dependenciesComplex.generated"),m=n("./dependenciesConj.generated"),l=n("./dependenciesDivideScalar.generated"),x=n("./dependenciesEqual.generated"),S=n("./dependenciesIdentity.generated"),D=n("./dependenciesIsZero.generated"),h=n("./dependenciesMatrix.generated"),_=n("./dependenciesMultiplyScalar.generated"),o=n("./dependenciesSign.generated"),p=n("./dependenciesSqrt.generated"),b=n("./dependenciesSubtract.generated"),y=n("./dependenciesTyped.generated"),A=n("./dependenciesUnaryMinus.generated"),E=n("./dependenciesZeros.generated"),N=n("../../factoriesAny.js"),T={addScalarDependencies:g.addScalarDependencies,complexDependencies:f.complexDependencies,conjDependencies:m.conjDependencies,divideScalarDependencies:l.divideScalarDependencies,equalDependencies:x.equalDependencies,identityDependencies:S.identityDependencies,isZeroDependencies:D.isZeroDependencies,matrixDependencies:h.matrixDependencies,multiplyScalarDependencies:_.multiplyScalarDependencies,signDependencies:o.signDependencies,sqrtDependencies:p.sqrtDependencies,subtractDependencies:b.subtractDependencies,typedDependencies:y.typedDependencies,unaryMinusDependencies:A.unaryMinusDependencies,zerosDependencies:E.zerosDependencies,createQr:N.createQr};r.qrDependencies=T},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesComplex.generated":121,"./dependenciesConj.generated":128,"./dependenciesDivideScalar.generated":152,"./dependenciesEqual.generated":163,"./dependenciesIdentity.generated":203,"./dependenciesIsZero.generated":220,"./dependenciesMatrix.generated":245,"./dependenciesMultiplyScalar.generated":262,"./dependenciesSign.generated":337,"./dependenciesSqrt.generated":351,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375,"./dependenciesUnaryMinus.generated":376,"./dependenciesZeros.generated":392}],298:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.quantileSeqDependencies=void 0;var g=n("./dependenciesAdd.generated"),f=n("./dependenciesCompare.generated"),m=n("./dependenciesMultiply.generated"),l=n("./dependenciesPartitionSelect.generated"),x=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),D={addDependencies:g.addDependencies,compareDependencies:f.compareDependencies,multiplyDependencies:m.multiplyDependencies,partitionSelectDependencies:l.partitionSelectDependencies,typedDependencies:x.typedDependencies,createQuantileSeq:S.createQuantileSeq};r.quantileSeqDependencies=D},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesCompare.generated":117,"./dependenciesMultiply.generated":261,"./dependenciesPartitionSelect.generated":282,"./dependenciesTyped.generated":375}],299:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.quantumOfCirculationDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createQuantumOfCirculation:m.createQuantumOfCirculation};r.quantumOfCirculationDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],300:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createRandom:f.createRandom};r.randomDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],301:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomIntDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createRandomInt:f.createRandomInt};r.randomIntDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],302:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rangeDependencies=void 0;var g=n("./dependenciesBignumber.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesLarger.generated"),l=n("./dependenciesLargerEq.generated"),x=n("./dependenciesSmaller.generated"),S=n("./dependenciesSmallerEq.generated"),D=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),_={bignumberDependencies:g.bignumberDependencies,matrixDependencies:f.matrixDependencies,largerDependencies:m.largerDependencies,largerEqDependencies:l.largerEqDependencies,smallerDependencies:x.smallerDependencies,smallerEqDependencies:S.smallerEqDependencies,typedDependencies:D.typedDependencies,createRange:h.createRange};r.rangeDependencies=_},{"../../factoriesAny.js":658,"./dependenciesBignumber.generated":96,"./dependenciesLarger.generated":228,"./dependenciesLargerEq.generated":229,"./dependenciesMatrix.generated":245,"./dependenciesSmaller.generated":343,"./dependenciesSmallerEq.generated":344,"./dependenciesTyped.generated":375}],303:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RangeDependencies=void 0;var g={createRangeClass:n("../../factoriesAny.js").createRangeClass};r.RangeDependencies=g},{"../../factoriesAny.js":658}],304:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RangeNodeDependencies=void 0;var g=n("./dependenciesNode.generated"),f=n("../../factoriesAny.js"),m={NodeDependencies:g.NodeDependencies,createRangeNode:f.createRangeNode};r.RangeNodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265}],305:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rangeTransformDependencies=void 0;var g=n("./dependenciesBignumber.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesLarger.generated"),l=n("./dependenciesLargerEq.generated"),x=n("./dependenciesSmaller.generated"),S=n("./dependenciesSmallerEq.generated"),D=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),_={bignumberDependencies:g.bignumberDependencies,matrixDependencies:f.matrixDependencies,largerDependencies:m.largerDependencies,largerEqDependencies:l.largerEqDependencies,smallerDependencies:x.smallerDependencies,smallerEqDependencies:S.smallerEqDependencies,typedDependencies:D.typedDependencies,createRangeTransform:h.createRangeTransform};r.rangeTransformDependencies=_},{"../../factoriesAny.js":658,"./dependenciesBignumber.generated":96,"./dependenciesLarger.generated":228,"./dependenciesLargerEq.generated":229,"./dependenciesMatrix.generated":245,"./dependenciesSmaller.generated":343,"./dependenciesSmallerEq.generated":344,"./dependenciesTyped.generated":375}],306:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rationalizeDependencies=void 0;var g=n("./dependenciesBignumber.generated"),f=n("./dependenciesFraction.generated"),m=n("./dependenciesConstantNode.generated"),l=n("./dependenciesFunctionNode.generated"),x=n("./dependenciesOperatorNode.generated"),S=n("./dependenciesParenthesisNode.generated"),D=n("./dependenciesSymbolNode.generated"),h=n("./dependenciesAdd.generated"),_=n("./dependenciesDivide.generated"),o=n("./dependenciesEqual.generated"),p=n("./dependenciesIsZero.generated"),b=n("./dependenciesMultiply.generated"),y=n("./dependenciesParse.generated"),A=n("./dependenciesPow.generated"),E=n("./dependenciesSimplify.generated"),N=n("./dependenciesSubtract.generated"),T=n("./dependenciesTyped.generated"),O=n("../../factoriesAny.js"),j={bignumberDependencies:g.bignumberDependencies,fractionDependencies:f.fractionDependencies,ConstantNodeDependencies:m.ConstantNodeDependencies,FunctionNodeDependencies:l.FunctionNodeDependencies,OperatorNodeDependencies:x.OperatorNodeDependencies,ParenthesisNodeDependencies:S.ParenthesisNodeDependencies,SymbolNodeDependencies:D.SymbolNodeDependencies,addDependencies:h.addDependencies,divideDependencies:_.divideDependencies,equalDependencies:o.equalDependencies,isZeroDependencies:p.isZeroDependencies,multiplyDependencies:b.multiplyDependencies,parseDependencies:y.parseDependencies,powDependencies:A.powDependencies,simplifyDependencies:E.simplifyDependencies,subtractDependencies:N.subtractDependencies,typedDependencies:T.typedDependencies,createRationalize:O.createRationalize};r.rationalizeDependencies=j},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesBignumber.generated":96,"./dependenciesConstantNode.generated":129,"./dependenciesDivide.generated":151,"./dependenciesEqual.generated":163,"./dependenciesFraction.generated":187,"./dependenciesFunctionNode.generated":190,"./dependenciesIsZero.generated":220,"./dependenciesMultiply.generated":261,"./dependenciesOperatorNode.generated":276,"./dependenciesParenthesisNode.generated":278,"./dependenciesParse.generated":279,"./dependenciesPow.generated":293,"./dependenciesSimplify.generated":338,"./dependenciesSubtract.generated":362,"./dependenciesSymbolNode.generated":365,"./dependenciesTyped.generated":375}],307:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createRe:f.createRe};r.reDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],308:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reducedPlanckConstantDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createReducedPlanckConstant:m.createReducedPlanckConstant};r.reducedPlanckConstantDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],309:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RelationalNodeDependencies=void 0;var g=n("./dependenciesNode.generated"),f=n("../../factoriesAny.js"),m={NodeDependencies:g.NodeDependencies,createRelationalNode:f.createRelationalNode};r.RelationalNodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265}],310:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.replacerDependencies=void 0;var g={createReplacer:n("../../factoriesAny.js").createReplacer};r.replacerDependencies=g},{"../../factoriesAny.js":658}],311:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reshapeDependencies=void 0;var g=n("./dependenciesIsInteger.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={isIntegerDependencies:g.isIntegerDependencies,matrixDependencies:f.matrixDependencies,typedDependencies:m.typedDependencies,createReshape:l.createReshape};r.reshapeDependencies=x},{"../../factoriesAny.js":658,"./dependenciesIsInteger.generated":214,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],312:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.resizeDependencies=void 0;var g=n("./dependenciesMatrix.generated"),f=n("../../factoriesAny.js"),m={matrixDependencies:g.matrixDependencies,createResize:f.createResize};r.resizeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245}],313:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ResultSetDependencies=void 0;var g={createResultSet:n("../../factoriesAny.js").createResultSet};r.ResultSetDependencies=g},{"../../factoriesAny.js":658}],314:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reviverDependencies=void 0;var g={createReviver:n("../../factoriesAny.js").createReviver};r.reviverDependencies=g},{"../../factoriesAny.js":658}],315:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rightArithShiftDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),l=n("./dependenciesTyped.generated"),x=n("./dependenciesZeros.generated"),S=n("../../factoriesAny.js"),D={DenseMatrixDependencies:g.DenseMatrixDependencies,equalScalarDependencies:f.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:l.typedDependencies,zerosDependencies:x.zerosDependencies,createRightArithShift:S.createRightArithShift};r.rightArithShiftDependencies=D},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375,"./dependenciesZeros.generated":392}],316:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rightLogShiftDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),l=n("./dependenciesTyped.generated"),x=n("./dependenciesZeros.generated"),S=n("../../factoriesAny.js"),D={DenseMatrixDependencies:g.DenseMatrixDependencies,equalScalarDependencies:f.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:l.typedDependencies,zerosDependencies:x.zerosDependencies,createRightLogShift:S.createRightLogShift};r.rightLogShiftDependencies=D},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375,"./dependenciesZeros.generated":392}],317:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.roundDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesDenseMatrixClass.generated"),m=n("./dependenciesEqualScalar.generated"),l=n("./dependenciesMatrix.generated"),x=n("./dependenciesTyped.generated"),S=n("./dependenciesZeros.generated"),D=n("../../factoriesAny.js"),h={BigNumberDependencies:g.BigNumberDependencies,DenseMatrixDependencies:f.DenseMatrixDependencies,equalScalarDependencies:m.equalScalarDependencies,matrixDependencies:l.matrixDependencies,typedDependencies:x.typedDependencies,zerosDependencies:S.zerosDependencies,createRound:D.createRound};r.roundDependencies=h},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375,"./dependenciesZeros.generated":392}],318:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rowDependencies=void 0;var g=n("./dependenciesIndexClass.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesRange.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={IndexDependencies:g.IndexDependencies,matrixDependencies:f.matrixDependencies,rangeDependencies:m.rangeDependencies,typedDependencies:l.typedDependencies,createRow:x.createRow};r.rowDependencies=S},{"../../factoriesAny.js":658,"./dependenciesIndexClass.generated":207,"./dependenciesMatrix.generated":245,"./dependenciesRange.generated":302,"./dependenciesTyped.generated":375}],319:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rowTransformDependencies=void 0;var g=n("./dependenciesIndexClass.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesRange.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={IndexDependencies:g.IndexDependencies,matrixDependencies:f.matrixDependencies,rangeDependencies:m.rangeDependencies,typedDependencies:l.typedDependencies,createRowTransform:x.createRowTransform};r.rowTransformDependencies=S},{"../../factoriesAny.js":658,"./dependenciesIndexClass.generated":207,"./dependenciesMatrix.generated":245,"./dependenciesRange.generated":302,"./dependenciesTyped.generated":375}],320:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rydbergDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createRydberg:m.createRydberg};r.rydbergDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],321:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SQRT1_2Dependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("../../factoriesAny.js"),m={BigNumberDependencies:g.BigNumberDependencies,createSQRT1_2:f.createSQRT1_2};r.SQRT1_2Dependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],322:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SQRT2Dependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("../../factoriesAny.js"),m={BigNumberDependencies:g.BigNumberDependencies,createSQRT2:f.createSQRT2};r.SQRT2Dependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],323:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sackurTetrodeDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("../../factoriesAny.js"),m={BigNumberDependencies:g.BigNumberDependencies,createSackurTetrode:f.createSackurTetrode};r.sackurTetrodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],324:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.secDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,typedDependencies:f.typedDependencies,createSec:m.createSec};r.secDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],325:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sechDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,typedDependencies:f.typedDependencies,createSech:m.createSech};r.sechDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],326:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.secondRadiationDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createSecondRadiation:m.createSecondRadiation};r.secondRadiationDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],327:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setCartesianDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesIndexClass.generated"),m=n("./dependenciesCompareNatural.generated"),l=n("./dependenciesSize.generated"),x=n("./dependenciesSubset.generated"),S=n("./dependenciesTyped.generated"),D=n("../../factoriesAny.js"),h={DenseMatrixDependencies:g.DenseMatrixDependencies,IndexDependencies:f.IndexDependencies,compareNaturalDependencies:m.compareNaturalDependencies,sizeDependencies:l.sizeDependencies,subsetDependencies:x.subsetDependencies,typedDependencies:S.typedDependencies,createSetCartesian:D.createSetCartesian};r.setCartesianDependencies=h},{"../../factoriesAny.js":658,"./dependenciesCompareNatural.generated":118,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesIndexClass.generated":207,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],328:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setDifferenceDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesIndexClass.generated"),m=n("./dependenciesCompareNatural.generated"),l=n("./dependenciesSize.generated"),x=n("./dependenciesSubset.generated"),S=n("./dependenciesTyped.generated"),D=n("../../factoriesAny.js"),h={DenseMatrixDependencies:g.DenseMatrixDependencies,IndexDependencies:f.IndexDependencies,compareNaturalDependencies:m.compareNaturalDependencies,sizeDependencies:l.sizeDependencies,subsetDependencies:x.subsetDependencies,typedDependencies:S.typedDependencies,createSetDifference:D.createSetDifference};r.setDifferenceDependencies=h},{"../../factoriesAny.js":658,"./dependenciesCompareNatural.generated":118,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesIndexClass.generated":207,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],329:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setDistinctDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesIndexClass.generated"),m=n("./dependenciesCompareNatural.generated"),l=n("./dependenciesSize.generated"),x=n("./dependenciesSubset.generated"),S=n("./dependenciesTyped.generated"),D=n("../../factoriesAny.js"),h={DenseMatrixDependencies:g.DenseMatrixDependencies,IndexDependencies:f.IndexDependencies,compareNaturalDependencies:m.compareNaturalDependencies,sizeDependencies:l.sizeDependencies,subsetDependencies:x.subsetDependencies,typedDependencies:S.typedDependencies,createSetDistinct:D.createSetDistinct};r.setDistinctDependencies=h},{"../../factoriesAny.js":658,"./dependenciesCompareNatural.generated":118,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesIndexClass.generated":207,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],330:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setIntersectDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesIndexClass.generated"),m=n("./dependenciesCompareNatural.generated"),l=n("./dependenciesSize.generated"),x=n("./dependenciesSubset.generated"),S=n("./dependenciesTyped.generated"),D=n("../../factoriesAny.js"),h={DenseMatrixDependencies:g.DenseMatrixDependencies,IndexDependencies:f.IndexDependencies,compareNaturalDependencies:m.compareNaturalDependencies,sizeDependencies:l.sizeDependencies,subsetDependencies:x.subsetDependencies,typedDependencies:S.typedDependencies,createSetIntersect:D.createSetIntersect};r.setIntersectDependencies=h},{"../../factoriesAny.js":658,"./dependenciesCompareNatural.generated":118,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesIndexClass.generated":207,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],331:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setIsSubsetDependencies=void 0;var g=n("./dependenciesIndexClass.generated"),f=n("./dependenciesCompareNatural.generated"),m=n("./dependenciesSize.generated"),l=n("./dependenciesSubset.generated"),x=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),D={IndexDependencies:g.IndexDependencies,compareNaturalDependencies:f.compareNaturalDependencies,sizeDependencies:m.sizeDependencies,subsetDependencies:l.subsetDependencies,typedDependencies:x.typedDependencies,createSetIsSubset:S.createSetIsSubset};r.setIsSubsetDependencies=D},{"../../factoriesAny.js":658,"./dependenciesCompareNatural.generated":118,"./dependenciesIndexClass.generated":207,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],332:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setMultiplicityDependencies=void 0;var g=n("./dependenciesIndexClass.generated"),f=n("./dependenciesCompareNatural.generated"),m=n("./dependenciesSize.generated"),l=n("./dependenciesSubset.generated"),x=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),D={IndexDependencies:g.IndexDependencies,compareNaturalDependencies:f.compareNaturalDependencies,sizeDependencies:m.sizeDependencies,subsetDependencies:l.subsetDependencies,typedDependencies:x.typedDependencies,createSetMultiplicity:S.createSetMultiplicity};r.setMultiplicityDependencies=D},{"../../factoriesAny.js":658,"./dependenciesCompareNatural.generated":118,"./dependenciesIndexClass.generated":207,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],333:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setPowersetDependencies=void 0;var g=n("./dependenciesIndexClass.generated"),f=n("./dependenciesCompareNatural.generated"),m=n("./dependenciesSize.generated"),l=n("./dependenciesSubset.generated"),x=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),D={IndexDependencies:g.IndexDependencies,compareNaturalDependencies:f.compareNaturalDependencies,sizeDependencies:m.sizeDependencies,subsetDependencies:l.subsetDependencies,typedDependencies:x.typedDependencies,createSetPowerset:S.createSetPowerset};r.setPowersetDependencies=D},{"../../factoriesAny.js":658,"./dependenciesCompareNatural.generated":118,"./dependenciesIndexClass.generated":207,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],334:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setSizeDependencies=void 0;var g=n("./dependenciesCompareNatural.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={compareNaturalDependencies:g.compareNaturalDependencies,typedDependencies:f.typedDependencies,createSetSize:m.createSetSize};r.setSizeDependencies=l},{"../../factoriesAny.js":658,"./dependenciesCompareNatural.generated":118,"./dependenciesTyped.generated":375}],335:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setSymDifferenceDependencies=void 0;var g=n("./dependenciesIndexClass.generated"),f=n("./dependenciesConcat.generated"),m=n("./dependenciesSetDifference.generated"),l=n("./dependenciesSize.generated"),x=n("./dependenciesSubset.generated"),S=n("./dependenciesTyped.generated"),D=n("../../factoriesAny.js"),h={IndexDependencies:g.IndexDependencies,concatDependencies:f.concatDependencies,setDifferenceDependencies:m.setDifferenceDependencies,sizeDependencies:l.sizeDependencies,subsetDependencies:x.subsetDependencies,typedDependencies:S.typedDependencies,createSetSymDifference:D.createSetSymDifference};r.setSymDifferenceDependencies=h},{"../../factoriesAny.js":658,"./dependenciesConcat.generated":124,"./dependenciesIndexClass.generated":207,"./dependenciesSetDifference.generated":328,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],336:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setUnionDependencies=void 0;var g=n("./dependenciesIndexClass.generated"),f=n("./dependenciesConcat.generated"),m=n("./dependenciesSetIntersect.generated"),l=n("./dependenciesSetSymDifference.generated"),x=n("./dependenciesSize.generated"),S=n("./dependenciesSubset.generated"),D=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),_={IndexDependencies:g.IndexDependencies,concatDependencies:f.concatDependencies,setIntersectDependencies:m.setIntersectDependencies,setSymDifferenceDependencies:l.setSymDifferenceDependencies,sizeDependencies:x.sizeDependencies,subsetDependencies:S.subsetDependencies,typedDependencies:D.typedDependencies,createSetUnion:h.createSetUnion};r.setUnionDependencies=_},{"../../factoriesAny.js":658,"./dependenciesConcat.generated":124,"./dependenciesIndexClass.generated":207,"./dependenciesSetIntersect.generated":330,"./dependenciesSetSymDifference.generated":335,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],337:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.signDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesFractionClass.generated"),m=n("./dependenciesComplex.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={BigNumberDependencies:g.BigNumberDependencies,FractionDependencies:f.FractionDependencies,complexDependencies:m.complexDependencies,typedDependencies:l.typedDependencies,createSign:x.createSign};r.signDependencies=S},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplex.generated":121,"./dependenciesFractionClass.generated":188,"./dependenciesTyped.generated":375}],338:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.simplifyDependencies=void 0;var g=n("./dependenciesBignumber.generated"),f=n("./dependenciesFraction.generated"),m=n("./dependenciesConstantNode.generated"),l=n("./dependenciesFunctionNode.generated"),x=n("./dependenciesOperatorNode.generated"),S=n("./dependenciesParenthesisNode.generated"),D=n("./dependenciesSymbolNode.generated"),h=n("./dependenciesAdd.generated"),_=n("./dependenciesDivide.generated"),o=n("./dependenciesEqual.generated"),p=n("./dependenciesIsZero.generated"),b=n("./dependenciesMultiply.generated"),y=n("./dependenciesParse.generated"),A=n("./dependenciesPow.generated"),E=n("./dependenciesSubtract.generated"),N=n("./dependenciesTyped.generated"),T=n("../../factoriesAny.js"),O={bignumberDependencies:g.bignumberDependencies,fractionDependencies:f.fractionDependencies,ConstantNodeDependencies:m.ConstantNodeDependencies,FunctionNodeDependencies:l.FunctionNodeDependencies,OperatorNodeDependencies:x.OperatorNodeDependencies,ParenthesisNodeDependencies:S.ParenthesisNodeDependencies,SymbolNodeDependencies:D.SymbolNodeDependencies,addDependencies:h.addDependencies,divideDependencies:_.divideDependencies,equalDependencies:o.equalDependencies,isZeroDependencies:p.isZeroDependencies,multiplyDependencies:b.multiplyDependencies,parseDependencies:y.parseDependencies,powDependencies:A.powDependencies,subtractDependencies:E.subtractDependencies,typedDependencies:N.typedDependencies,createSimplify:T.createSimplify};r.simplifyDependencies=O},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesBignumber.generated":96,"./dependenciesConstantNode.generated":129,"./dependenciesDivide.generated":151,"./dependenciesEqual.generated":163,"./dependenciesFraction.generated":187,"./dependenciesFunctionNode.generated":190,"./dependenciesIsZero.generated":220,"./dependenciesMultiply.generated":261,"./dependenciesOperatorNode.generated":276,"./dependenciesParenthesisNode.generated":278,"./dependenciesParse.generated":279,"./dependenciesPow.generated":293,"./dependenciesSubtract.generated":362,"./dependenciesSymbolNode.generated":365,"./dependenciesTyped.generated":375}],339:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sinDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createSin:f.createSin};r.sinDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],340:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sinhDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createSinh:f.createSinh};r.sinhDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],341:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sizeDependencies=void 0;var g=n("./dependenciesMatrix.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={matrixDependencies:g.matrixDependencies,typedDependencies:f.typedDependencies,createSize:m.createSize};r.sizeDependencies=l},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],342:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sluDependencies=void 0;var g=n("./dependenciesSparseMatrixClass.generated"),f=n("./dependenciesAbs.generated"),m=n("./dependenciesAdd.generated"),l=n("./dependenciesDivideScalar.generated"),x=n("./dependenciesLarger.generated"),S=n("./dependenciesLargerEq.generated"),D=n("./dependenciesMultiply.generated"),h=n("./dependenciesSubtract.generated"),_=n("./dependenciesTranspose.generated"),o=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),b={SparseMatrixDependencies:g.SparseMatrixDependencies,absDependencies:f.absDependencies,addDependencies:m.addDependencies,divideScalarDependencies:l.divideScalarDependencies,largerDependencies:x.largerDependencies,largerEqDependencies:S.largerEqDependencies,multiplyDependencies:D.multiplyDependencies,subtractDependencies:h.subtractDependencies,transposeDependencies:_.transposeDependencies,typedDependencies:o.typedDependencies,createSlu:p.createSlu};r.sluDependencies=b},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAdd.generated":77,"./dependenciesDivideScalar.generated":152,"./dependenciesLarger.generated":228,"./dependenciesLargerEq.generated":229,"./dependenciesMultiply.generated":261,"./dependenciesSparseMatrixClass.generated":348,"./dependenciesSubtract.generated":362,"./dependenciesTranspose.generated":372,"./dependenciesTyped.generated":375}],343:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.smallerDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={DenseMatrixDependencies:g.DenseMatrixDependencies,matrixDependencies:f.matrixDependencies,typedDependencies:m.typedDependencies,createSmaller:l.createSmaller};r.smallerDependencies=x},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],344:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.smallerEqDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={DenseMatrixDependencies:g.DenseMatrixDependencies,matrixDependencies:f.matrixDependencies,typedDependencies:m.typedDependencies,createSmallerEq:l.createSmallerEq};r.smallerEqDependencies=x},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],345:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sortDependencies=void 0;var g=n("./dependenciesCompare.generated"),f=n("./dependenciesCompareNatural.generated"),m=n("./dependenciesMatrix.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={compareDependencies:g.compareDependencies,compareNaturalDependencies:f.compareNaturalDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:l.typedDependencies,createSort:x.createSort};r.sortDependencies=S},{"../../factoriesAny.js":658,"./dependenciesCompare.generated":117,"./dependenciesCompareNatural.generated":118,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],346:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SpaDependencies=void 0;var g=n("./dependenciesFibonacciHeapClass.generated"),f=n("./dependenciesAddScalar.generated"),m=n("./dependenciesEqualScalar.generated"),l=n("../../factoriesAny.js"),x={FibonacciHeapDependencies:g.FibonacciHeapDependencies,addScalarDependencies:f.addScalarDependencies,equalScalarDependencies:m.equalScalarDependencies,createSpaClass:l.createSpaClass};r.SpaDependencies=x},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesEqualScalar.generated":164,"./dependenciesFibonacciHeapClass.generated":176}],347:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sparseDependencies=void 0;var g=n("./dependenciesSparseMatrixClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={SparseMatrixDependencies:g.SparseMatrixDependencies,typedDependencies:f.typedDependencies,createSparse:m.createSparse};r.sparseDependencies=l},{"../../factoriesAny.js":658,"./dependenciesSparseMatrixClass.generated":348,"./dependenciesTyped.generated":375}],348:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SparseMatrixDependencies=void 0;var g=n("./dependenciesMatrixClass.generated"),f=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={MatrixDependencies:g.MatrixDependencies,equalScalarDependencies:f.equalScalarDependencies,typedDependencies:m.typedDependencies,createSparseMatrixClass:l.createSparseMatrixClass};r.SparseMatrixDependencies=x},{"../../factoriesAny.js":658,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrixClass.generated":246,"./dependenciesTyped.generated":375}],349:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.speedOfLightDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createSpeedOfLight:m.createSpeedOfLight};r.speedOfLightDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],350:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.splitUnitDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createSplitUnit:f.createSplitUnit};r.splitUnitDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],351:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sqrtDependencies=void 0;var g=n("./dependenciesComplexClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={ComplexDependencies:g.ComplexDependencies,typedDependencies:f.typedDependencies,createSqrt:m.createSqrt};r.sqrtDependencies=l},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],352:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sqrtmDependencies=void 0;var g=n("./dependenciesAbs.generated"),f=n("./dependenciesAdd.generated"),m=n("./dependenciesIdentity.generated"),l=n("./dependenciesInv.generated"),x=n("./dependenciesMax.generated"),S=n("./dependenciesMultiply.generated"),D=n("./dependenciesSize.generated"),h=n("./dependenciesSqrt.generated"),_=n("./dependenciesSubtract.generated"),o=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),b={absDependencies:g.absDependencies,addDependencies:f.addDependencies,identityDependencies:m.identityDependencies,invDependencies:l.invDependencies,maxDependencies:x.maxDependencies,multiplyDependencies:S.multiplyDependencies,sizeDependencies:D.sizeDependencies,sqrtDependencies:h.sqrtDependencies,subtractDependencies:_.subtractDependencies,typedDependencies:o.typedDependencies,createSqrtm:p.createSqrtm};r.sqrtmDependencies=b},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAdd.generated":77,"./dependenciesIdentity.generated":203,"./dependenciesInv.generated":212,"./dependenciesMax.generated":247,"./dependenciesMultiply.generated":261,"./dependenciesSize.generated":341,"./dependenciesSqrt.generated":351,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],353:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.squareDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createSquare:f.createSquare};r.squareDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],354:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.squeezeDependencies=void 0;var g=n("./dependenciesMatrix.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={matrixDependencies:g.matrixDependencies,typedDependencies:f.typedDependencies,createSqueeze:m.createSqueeze};r.squeezeDependencies=l},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],355:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stdDependencies=void 0;var g=n("./dependenciesSqrt.generated"),f=n("./dependenciesTyped.generated"),m=n("./dependenciesVariance.generated"),l=n("../../factoriesAny.js"),x={sqrtDependencies:g.sqrtDependencies,typedDependencies:f.typedDependencies,varianceDependencies:m.varianceDependencies,createStd:l.createStd};r.stdDependencies=x},{"../../factoriesAny.js":658,"./dependenciesSqrt.generated":351,"./dependenciesTyped.generated":375,"./dependenciesVariance.generated":385}],356:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stdTransformDependencies=void 0;var g=n("./dependenciesSqrt.generated"),f=n("./dependenciesTyped.generated"),m=n("./dependenciesVariance.generated"),l=n("../../factoriesAny.js"),x={sqrtDependencies:g.sqrtDependencies,typedDependencies:f.typedDependencies,varianceDependencies:m.varianceDependencies,createStdTransform:l.createStdTransform};r.stdTransformDependencies=x},{"../../factoriesAny.js":658,"./dependenciesSqrt.generated":351,"./dependenciesTyped.generated":375,"./dependenciesVariance.generated":385}],357:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stefanBoltzmannDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createStefanBoltzmann:m.createStefanBoltzmann};r.stefanBoltzmannDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],358:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stirlingS2Dependencies=void 0;var g=n("./dependenciesAddScalar.generated"),f=n("./dependenciesCombinations.generated"),m=n("./dependenciesDivideScalar.generated"),l=n("./dependenciesFactorial.generated"),x=n("./dependenciesIsInteger.generated"),S=n("./dependenciesIsNegative.generated"),D=n("./dependenciesLarger.generated"),h=n("./dependenciesMultiplyScalar.generated"),_=n("./dependenciesPow.generated"),o=n("./dependenciesSubtract.generated"),p=n("./dependenciesTyped.generated"),b=n("../../factoriesAny.js"),y={addScalarDependencies:g.addScalarDependencies,combinationsDependencies:f.combinationsDependencies,divideScalarDependencies:m.divideScalarDependencies,factorialDependencies:l.factorialDependencies,isIntegerDependencies:x.isIntegerDependencies,isNegativeDependencies:S.isNegativeDependencies,largerDependencies:D.largerDependencies,multiplyScalarDependencies:h.multiplyScalarDependencies,powDependencies:_.powDependencies,subtractDependencies:o.subtractDependencies,typedDependencies:p.typedDependencies,createStirlingS2:b.createStirlingS2};r.stirlingS2Dependencies=y},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesCombinations.generated":115,"./dependenciesDivideScalar.generated":152,"./dependenciesFactorial.generated":172,"./dependenciesIsInteger.generated":214,"./dependenciesIsNegative.generated":216,"./dependenciesLarger.generated":228,"./dependenciesMultiplyScalar.generated":262,"./dependenciesPow.generated":293,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],359:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stringDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createString:f.createString};r.stringDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],360:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.subsetDependencies=void 0;var g=n("./dependenciesMatrix.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={matrixDependencies:g.matrixDependencies,typedDependencies:f.typedDependencies,createSubset:m.createSubset};r.subsetDependencies=l},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],361:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.subsetTransformDependencies=void 0;var g=n("./dependenciesMatrix.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={matrixDependencies:g.matrixDependencies,typedDependencies:f.typedDependencies,createSubsetTransform:m.createSubsetTransform};r.subsetTransformDependencies=l},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],362:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.subtractDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesAddScalar.generated"),m=n("./dependenciesEqualScalar.generated"),l=n("./dependenciesMatrix.generated"),x=n("./dependenciesTyped.generated"),S=n("./dependenciesUnaryMinus.generated"),D=n("../../factoriesAny.js"),h={DenseMatrixDependencies:g.DenseMatrixDependencies,addScalarDependencies:f.addScalarDependencies,equalScalarDependencies:m.equalScalarDependencies,matrixDependencies:l.matrixDependencies,typedDependencies:x.typedDependencies,unaryMinusDependencies:S.unaryMinusDependencies,createSubtract:D.createSubtract};r.subtractDependencies=h},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375,"./dependenciesUnaryMinus.generated":376}],363:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sumDependencies=void 0;var g=n("./dependenciesBignumber.generated"),f=n("./dependenciesFraction.generated"),m=n("./dependenciesAdd.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={bignumberDependencies:g.bignumberDependencies,fractionDependencies:f.fractionDependencies,addDependencies:m.addDependencies,typedDependencies:l.typedDependencies,createSum:x.createSum};r.sumDependencies=S},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesBignumber.generated":96,"./dependenciesFraction.generated":187,"./dependenciesTyped.generated":375}],364:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sumTransformDependencies=void 0;var g=n("./dependenciesBignumber.generated"),f=n("./dependenciesFraction.generated"),m=n("./dependenciesAdd.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={bignumberDependencies:g.bignumberDependencies,fractionDependencies:f.fractionDependencies,addDependencies:m.addDependencies,typedDependencies:l.typedDependencies,createSumTransform:x.createSumTransform};r.sumTransformDependencies=S},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesBignumber.generated":96,"./dependenciesFraction.generated":187,"./dependenciesTyped.generated":375}],365:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SymbolNodeDependencies=void 0;var g=n("./dependenciesUnitClass.generated"),f=n("./dependenciesNode.generated"),m=n("../../factoriesAny.js"),l={UnitDependencies:g.UnitDependencies,NodeDependencies:f.NodeDependencies,createSymbolNode:m.createSymbolNode};r.SymbolNodeDependencies=l},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265,"./dependenciesUnitClass.generated":379}],366:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tanDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createTan:f.createTan};r.tanDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],367:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tanhDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createTanh:f.createTanh};r.tanhDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],368:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tauDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("../../factoriesAny.js"),m={BigNumberDependencies:g.BigNumberDependencies,createTau:f.createTau};r.tauDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],369:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.thomsonCrossSectionDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createThomsonCrossSection:m.createThomsonCrossSection};r.thomsonCrossSectionDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],370:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toDependencies=void 0;var g=n("./dependenciesMatrix.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={matrixDependencies:g.matrixDependencies,typedDependencies:f.typedDependencies,createTo:m.createTo};r.toDependencies=l},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],371:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.traceDependencies=void 0;var g=n("./dependenciesAdd.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={addDependencies:g.addDependencies,matrixDependencies:f.matrixDependencies,typedDependencies:m.typedDependencies,createTrace:l.createTrace};r.traceDependencies=x},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],372:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.transposeDependencies=void 0;var g=n("./dependenciesMatrix.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={matrixDependencies:g.matrixDependencies,typedDependencies:f.typedDependencies,createTranspose:m.createTranspose};r.transposeDependencies=l},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],373:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.trueDependencies=void 0;var g={createTrue:n("../../factoriesAny.js").createTrue};r.trueDependencies=g},{"../../factoriesAny.js":658}],374:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.typeOfDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createTypeOf:f.createTypeOf};r.typeOfDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],375:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.typedDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesComplexClass.generated"),m=n("./dependenciesDenseMatrixClass.generated"),l=n("./dependenciesFractionClass.generated"),x=n("../../factoriesAny.js"),S={BigNumberDependencies:g.BigNumberDependencies,ComplexDependencies:f.ComplexDependencies,DenseMatrixDependencies:m.DenseMatrixDependencies,FractionDependencies:l.FractionDependencies,createTyped:x.createTyped};r.typedDependencies=S},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplexClass.generated":122,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesFractionClass.generated":188}],376:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unaryMinusDependencies=void 0;var g=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),m={typedDependencies:g.typedDependencies,createUnaryMinus:f.createUnaryMinus};r.unaryMinusDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],377:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unaryPlusDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,typedDependencies:f.typedDependencies,createUnaryPlus:m.createUnaryPlus};r.unaryPlusDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],378:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unequalDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),l=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),S={DenseMatrixDependencies:g.DenseMatrixDependencies,equalScalarDependencies:f.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:l.typedDependencies,createUnequal:x.createUnequal};r.unequalDependencies=S},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],379:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.UnitDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesComplexClass.generated"),m=n("./dependenciesFractionClass.generated"),l=n("./dependenciesAbs.generated"),x=n("./dependenciesAddScalar.generated"),S=n("./dependenciesDivideScalar.generated"),D=n("./dependenciesEqual.generated"),h=n("./dependenciesFix.generated"),_=n("./dependenciesFormat.generated"),o=n("./dependenciesIsNumeric.generated"),p=n("./dependenciesMultiplyScalar.generated"),b=n("./dependenciesNumber.generated"),y=n("./dependenciesPow.generated"),A=n("./dependenciesRound.generated"),E=n("./dependenciesSubtract.generated"),N=n("../../factoriesAny.js"),T={BigNumberDependencies:g.BigNumberDependencies,ComplexDependencies:f.ComplexDependencies,FractionDependencies:m.FractionDependencies,absDependencies:l.absDependencies,addScalarDependencies:x.addScalarDependencies,divideScalarDependencies:S.divideScalarDependencies,equalDependencies:D.equalDependencies,fixDependencies:h.fixDependencies,formatDependencies:_.formatDependencies,isNumericDependencies:o.isNumericDependencies,multiplyScalarDependencies:p.multiplyScalarDependencies,numberDependencies:b.numberDependencies,powDependencies:y.powDependencies,roundDependencies:A.roundDependencies,subtractDependencies:E.subtractDependencies,createUnitClass:N.createUnitClass};r.UnitDependencies=T},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAddScalar.generated":78,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplexClass.generated":122,"./dependenciesDivideScalar.generated":152,"./dependenciesEqual.generated":163,"./dependenciesFix.generated":181,"./dependenciesFormat.generated":186,"./dependenciesFractionClass.generated":188,"./dependenciesIsNumeric.generated":217,"./dependenciesMultiplyScalar.generated":262,"./dependenciesNumber.generated":272,"./dependenciesPow.generated":293,"./dependenciesRound.generated":317,"./dependenciesSubtract.generated":362}],380:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unitDependencies=void 0;var g=n("./dependenciesUnitClass.generated"),f=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),l={UnitDependencies:g.UnitDependencies,typedDependencies:f.typedDependencies,createUnitFunction:m.createUnitFunction};r.unitDependencies=l},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375,"./dependenciesUnitClass.generated":379}],381:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EDependencies=void 0;var g=n("./dependenciesE.generated"),f=n("../../factoriesAny.js"),m={eDependencies:g.eDependencies,createUppercaseE:f.createUppercaseE};r.EDependencies=m},{"../../factoriesAny.js":658,"./dependenciesE.generated":157}],382:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PIDependencies=void 0;var g=n("./dependenciesPi.generated"),f=n("../../factoriesAny.js"),m={piDependencies:g.piDependencies,createUppercasePi:f.createUppercasePi};r.PIDependencies=m},{"../../factoriesAny.js":658,"./dependenciesPi.generated":285}],383:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.usolveDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesDivideScalar.generated"),m=n("./dependenciesEqualScalar.generated"),l=n("./dependenciesMatrix.generated"),x=n("./dependenciesMultiplyScalar.generated"),S=n("./dependenciesSubtract.generated"),D=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),_={DenseMatrixDependencies:g.DenseMatrixDependencies,divideScalarDependencies:f.divideScalarDependencies,equalScalarDependencies:m.equalScalarDependencies,matrixDependencies:l.matrixDependencies,multiplyScalarDependencies:x.multiplyScalarDependencies,subtractDependencies:S.subtractDependencies,typedDependencies:D.typedDependencies,createUsolve:h.createUsolve};r.usolveDependencies=_},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesDivideScalar.generated":152,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesMultiplyScalar.generated":262,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],384:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.vacuumImpedanceDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createVacuumImpedance:m.createVacuumImpedance};r.vacuumImpedanceDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],385:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.varianceDependencies=void 0;var g=n("./dependenciesAdd.generated"),f=n("./dependenciesApply.generated"),m=n("./dependenciesDivide.generated"),l=n("./dependenciesIsNaN.generated"),x=n("./dependenciesMultiply.generated"),S=n("./dependenciesSubtract.generated"),D=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),_={addDependencies:g.addDependencies,applyDependencies:f.applyDependencies,divideDependencies:m.divideDependencies,isNaNDependencies:l.isNaNDependencies,multiplyDependencies:x.multiplyDependencies,subtractDependencies:S.subtractDependencies,typedDependencies:D.typedDependencies,createVariance:h.createVariance};r.varianceDependencies=_},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesApply.generated":80,"./dependenciesDivide.generated":151,"./dependenciesIsNaN.generated":215,"./dependenciesMultiply.generated":261,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],386:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.varianceTransformDependencies=void 0;var g=n("./dependenciesAdd.generated"),f=n("./dependenciesApply.generated"),m=n("./dependenciesDivide.generated"),l=n("./dependenciesIsNaN.generated"),x=n("./dependenciesMultiply.generated"),S=n("./dependenciesSubtract.generated"),D=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),_={addDependencies:g.addDependencies,applyDependencies:f.applyDependencies,divideDependencies:m.divideDependencies,isNaNDependencies:l.isNaNDependencies,multiplyDependencies:x.multiplyDependencies,subtractDependencies:S.subtractDependencies,typedDependencies:D.typedDependencies,createVarianceTransform:h.createVarianceTransform};r.varianceTransformDependencies=_},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesApply.generated":80,"./dependenciesDivide.generated":151,"./dependenciesIsNaN.generated":215,"./dependenciesMultiply.generated":261,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],387:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.versionDependencies=void 0;var g={createVersion:n("../../factoriesAny.js").createVersion};r.versionDependencies=g},{"../../factoriesAny.js":658}],388:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.weakMixingAngleDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("../../factoriesAny.js"),m={BigNumberDependencies:g.BigNumberDependencies,createWeakMixingAngle:f.createWeakMixingAngle};r.weakMixingAngleDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],389:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.wienDisplacementDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),l={BigNumberDependencies:g.BigNumberDependencies,UnitDependencies:f.UnitDependencies,createWienDisplacement:m.createWienDisplacement};r.wienDisplacementDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],390:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.xgcdDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={BigNumberDependencies:g.BigNumberDependencies,matrixDependencies:f.matrixDependencies,typedDependencies:m.typedDependencies,createXgcd:l.createXgcd};r.xgcdDependencies=x},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],391:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.xorDependencies=void 0;var g=n("./dependenciesDenseMatrixClass.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={DenseMatrixDependencies:g.DenseMatrixDependencies,matrixDependencies:f.matrixDependencies,typedDependencies:m.typedDependencies,createXor:l.createXor};r.xorDependencies=x},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],392:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.zerosDependencies=void 0;var g=n("./dependenciesBigNumberClass.generated"),f=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),x={BigNumberDependencies:g.BigNumberDependencies,matrixDependencies:f.matrixDependencies,typedDependencies:m.typedDependencies,createZeros:l.createZeros};r.zerosDependencies=x},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],393:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.error=r.json=r.expression=r.type=r.deprecatedTypeof=r.deprecatedVar=r.deprecatedImport=r.deprecatedEval=void 0;var g=n("../expression/function/eval"),f=n("../core/function/deprecatedImport"),m=n("../function/statistics/variance"),l=n("../function/utils/typeOf"),x=n("../utils/is"),S=n("../error/ArgumentsError"),D=n("../error/DimensionError"),h=n("../error/IndexError"),_=n("../utils/object"),o=n("../utils/log"),p=n("./pureFunctionsAny.generated"),b=n("./impureFunctionsAny.generated"),y=(0,g.createDeprecatedEval)({evaluate:b.evaluate});r.deprecatedEval=y;var A=(0,f.createDeprecatedImport)({});r.deprecatedImport=A;var E=(0,m.createDeprecatedVar)({variance:p.variance});r.deprecatedVar=E;var N=(0,l.createDeprecatedTypeof)({typeOf:p.typeOf});r.deprecatedTypeof=N;var T=F("type",{isNumber:x.isNumber,isComplex:x.isComplex,isBigNumber:x.isBigNumber,isFraction:x.isFraction,isUnit:x.isUnit,isString:x.isString,isArray:x.isArray,isMatrix:x.isMatrix,isCollection:x.isCollection,isDenseMatrix:x.isDenseMatrix,isSparseMatrix:x.isSparseMatrix,isRange:x.isRange,isIndex:x.isIndex,isBoolean:x.isBoolean,isResultSet:x.isResultSet,isHelp:x.isHelp,isFunction:x.isFunction,isDate:x.isDate,isRegExp:x.isRegExp,isObject:x.isObject,isNull:x.isNull,isUndefined:x.isUndefined,isAccessorNode:x.isAccessorNode,isArrayNode:x.isArrayNode,isAssignmentNode:x.isAssignmentNode,isBlockNode:x.isBlockNode,isConditionalNode:x.isConditionalNode,isConstantNode:x.isConstantNode,isFunctionAssignmentNode:x.isFunctionAssignmentNode,isFunctionNode:x.isFunctionNode,isIndexNode:x.isIndexNode,isNode:x.isNode,isObjectNode:x.isObjectNode,isOperatorNode:x.isOperatorNode,isParenthesisNode:x.isParenthesisNode,isRangeNode:x.isRangeNode,isSymbolNode:x.isSymbolNode,isChain:x.isChain,BigNumber:p.BigNumber,Chain:b.Chain,Complex:p.Complex,Fraction:p.Fraction,Matrix:p.Matrix,DenseMatrix:p.DenseMatrix,SparseMatrix:p.SparseMatrix,Spa:p.Spa,FibonacciHeap:p.FibonacciHeap,ImmutableDenseMatrix:p.ImmutableDenseMatrix,Index:p.Index,Range:p.Range,ResultSet:p.ResultSet,Unit:p.Unit,Help:b.Help,Parser:b.Parser});r.type=T;var O=F("expression",{parse:b.parse,Parser:b.Parser,node:F("expression.node",{AccessorNode:b.AccessorNode,ArrayNode:b.ArrayNode,AssignmentNode:b.AssignmentNode,BlockNode:b.BlockNode,ConditionalNode:b.ConditionalNode,ConstantNode:b.ConstantNode,IndexNode:b.IndexNode,FunctionAssignmentNode:b.FunctionAssignmentNode,FunctionNode:b.FunctionNode,Node:b.Node,ObjectNode:b.ObjectNode,OperatorNode:b.OperatorNode,ParenthesisNode:b.ParenthesisNode,RangeNode:b.RangeNode,RelationalNode:b.RelationalNode,SymbolNode:b.SymbolNode})});r.expression=O;var j=F("json",{reviver:b.reviver});r.json=j;var M=F("error",{ArgumentsError:S.ArgumentsError,DimensionError:D.DimensionError,IndexError:h.IndexError});function F(B,I){var G={};return Object.keys(I).forEach(function(k){(0,_.lazy)(G,k,function(){return(0,o.warnOnce)("math.".concat(B,".").concat(k," is moved to math.").concat(k," in v6.0.0. ")+"Please use the new location instead."),I[k]})}),G}r.error=M},{"../core/function/deprecatedImport":63,"../error/ArgumentsError":398,"../error/DimensionError":399,"../error/IndexError":400,"../expression/function/eval":615,"../function/statistics/variance":828,"../function/utils/typeOf":867,"../utils/is":933,"../utils/log":935,"../utils/object":938,"./impureFunctionsAny.generated":394,"./pureFunctionsAny.generated":396}],394:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"docs",{enumerable:!0,get:function(){return l.embeddedDocs}}),r.derivative=r.help=r.rationalize=r.simplify=r.parser=r.compile=r.Help=r.Parser=r.evaluate=r.parse=r.FunctionNode=r.SymbolNode=r.AssignmentNode=r.IndexNode=r.AccessorNode=r.chain=r.FunctionAssignmentNode=r.RangeNode=r.OperatorNode=r.ConditionalNode=r.reviver=r.Chain=r.RelationalNode=r.ParenthesisNode=r.ObjectNode=r.ConstantNode=r.BlockNode=r.ArrayNode=r.Node=void 0;var g=n("./configReadonly"),f=n("../factoriesAny"),m=n("./pureFunctionsAny.generated"),l=n("../expression/embeddedDocs/embeddedDocs");function x(){return(x=Object.assign||function(te){for(var ce=1;ce<arguments.length;ce++){var oe=arguments[ce];for(var ue in oe)Object.prototype.hasOwnProperty.call(oe,ue)&&(te[ue]=oe[ue])}return te}).apply(this,arguments)}var S={},D={},h={},_=(0,f.createNode)({mathWithTransform:D});r.Node=_;var o=(0,f.createArrayNode)({Node:_});r.ArrayNode=o;var p=(0,f.createBlockNode)({Node:_,ResultSet:m.ResultSet});r.BlockNode=p;var b=(0,f.createConstantNode)({Node:_});r.ConstantNode=b;var y=(0,f.createObjectNode)({Node:_});r.ObjectNode=y;var A=(0,f.createParenthesisNode)({Node:_});r.ParenthesisNode=A;var E=(0,f.createRelationalNode)({Node:_});r.RelationalNode=E;var N=(0,f.createChainClass)({math:S});r.Chain=N;var T=(0,f.createReviver)({classes:h});r.reviver=T;var O=(0,f.createConditionalNode)({Node:_});r.ConditionalNode=O;var j=(0,f.createOperatorNode)({Node:_});r.OperatorNode=j;var M=(0,f.createRangeNode)({Node:_});r.RangeNode=M;var F=(0,f.createFunctionAssignmentNode)({Node:_,typed:m.typed});r.FunctionAssignmentNode=F;var B=(0,f.createChain)({Chain:N,typed:m.typed});r.chain=B;var I=(0,f.createAccessorNode)({Node:_,subset:m.subset});r.AccessorNode=I;var G=(0,f.createIndexNode)({Node:_,Range:m.Range,size:m.size});r.IndexNode=G;var k=(0,f.createAssignmentNode)({matrix:m.matrix,Node:_,subset:m.subset});r.AssignmentNode=k;var V=(0,f.createSymbolNode)({Unit:m.Unit,Node:_,math:S});r.SymbolNode=V;var R=(0,f.createFunctionNode)({Node:_,SymbolNode:V,math:S});r.FunctionNode=R;var U=(0,f.createParse)({AccessorNode:I,ArrayNode:o,AssignmentNode:k,BlockNode:p,ConditionalNode:O,ConstantNode:b,FunctionAssignmentNode:F,FunctionNode:R,IndexNode:G,ObjectNode:y,OperatorNode:j,ParenthesisNode:A,RangeNode:M,RelationalNode:E,SymbolNode:V,config:g.config,numeric:m.numeric,typed:m.typed});r.parse=U;var L=(0,f.createEvaluate)({parse:U,typed:m.typed});r.evaluate=L;var H=(0,f.createParserClass)({parse:U});r.Parser=H;var X=(0,f.createHelpClass)({parse:U});r.Help=X;var Z=(0,f.createCompile)({parse:U,typed:m.typed});r.compile=Z;var J=(0,f.createParser)({Parser:H,typed:m.typed});r.parser=J;var K=(0,f.createSimplify)({bignumber:m.bignumber,fraction:m.fraction,ConstantNode:b,FunctionNode:R,OperatorNode:j,ParenthesisNode:A,SymbolNode:V,add:m.add,config:g.config,divide:m.divide,equal:m.equal,isZero:m.isZero,mathWithTransform:D,multiply:m.multiply,parse:U,pow:m.pow,subtract:m.subtract,typed:m.typed});r.simplify=K;var $=(0,f.createRationalize)({bignumber:m.bignumber,fraction:m.fraction,ConstantNode:b,FunctionNode:R,OperatorNode:j,ParenthesisNode:A,SymbolNode:V,add:m.add,config:g.config,divide:m.divide,equal:m.equal,isZero:m.isZero,mathWithTransform:D,multiply:m.multiply,parse:U,pow:m.pow,simplify:K,subtract:m.subtract,typed:m.typed});r.rationalize=$;var W=(0,f.createHelp)({Help:X,mathWithTransform:D,typed:m.typed});r.help=W;var Y=(0,f.createDerivative)({ConstantNode:b,FunctionNode:R,OperatorNode:j,ParenthesisNode:A,SymbolNode:V,config:g.config,equal:m.equal,isZero:m.isZero,numeric:m.numeric,parse:U,simplify:K,typed:m.typed});r.derivative=Y,x(S,{typeof:m.typeOf,eye:m.eye,reviver:T,false:m._false,null:m._null,true:m._true,replacer:m.replacer,i:m.i,LN10:m.LN10,LOG10E:m.LOG10E,NaN:m._NaN,pi:m.pi,SQRT1_2:m.SQRT1_2,tau:m.tau,efimovFactor:m.efimovFactor,fineStructure:m.fineStructure,sackurTetrode:m.sackurTetrode,weakMixingAngle:m.weakMixingAngle,e:m.e,Infinity:m._Infinity,LOG2E:m.LOG2E,PI:m.pi,version:m.version,E:m.e,phi:m.phi,typed:m.typed,isInteger:m.isInteger,isNumeric:m.isNumeric,isPositive:m.isPositive,isNaN:m.isNaN,equalScalar:m.equalScalar,number:m.number,boolean:m.boolean,complex:m.complex,splitUnit:m.splitUnit,unaryPlus:m.unaryPlus,apply:m.apply,cube:m.cube,expm1:m.expm1,log10:m.log10,multiplyScalar:m.multiplyScalar,sign:m.sign,square:m.square,bitNot:m.bitNot,arg:m.arg,im:m.im,not:m.not,filter:m.filter,forEach:m.forEach,map:m.map,erf:m.erf,format:m.format,isPrime:m.isPrime,acos:m.acos,acot:m.acot,acsc:m.acsc,asec:m.asec,asin:m.asin,atan:m.atan,atanh:m.atanh,cosh:m.cosh,coth:m.coth,csch:m.csch,sech:m.sech,sinh:m.sinh,tanh:m.tanh,chain:B,combinations:m.combinations,pickRandom:m.pickRandom,randomInt:m.randomInt,LN2:m.LN2,clone:m.clone,hasNumericValue:m.hasNumericValue,typeOf:m.typeOf,string:m.string,fraction:m.fraction,unaryMinus:m.unaryMinus,addScalar:m.addScalar,exp:m.exp,log2:m.log2,sqrt:m.sqrt,conj:m.conj,getMatrixDataType:m.getMatrixDataType,mode:m.mode,print:m.print,acosh:m.acosh,acsch:m.acsch,asinh:m.asinh,cos:m.cos,csc:m.csc,sin:m.sin,combinationsWithRep:m.combinationsWithRep,random:m.random,SQRT2:m.SQRT2,isNegative:m.isNegative,matrix:m.matrix,cbrt:m.cbrt,gcd:m.gcd,mod:m.mod,nthRoot:m.nthRoot,xgcd:m.xgcd,bitAnd:m.bitAnd,bitXor:m.bitXor,or:m.or,concat:m.concat,diag:m.diag,identity:m.identity,ones:m.ones,reshape:m.reshape,size:m.size,subset:m.subset,zeros:m.zeros,to:m.to,round:m.round,leftShift:m.leftShift,rightLogShift:m.rightLogShift,compare:m.compare,compareText:m.compareText,smaller:m.smaller,larger:m.larger,unequal:m.unequal,max:m.max,sparse:m.sparse,acoth:m.acoth,atan2:m.atan2,sec:m.sec,add:m.add,trace:m.trace,composition:m.composition,isZero:m.isZero,abs:m.abs,floor:m.floor,multiply:m.multiply,dotMultiply:m.dotMultiply,re:m.re,flatten:m.flatten,resize:m.resize,squeeze:m.squeeze,prod:m.prod,pow:m.pow,dotPow:m.dotPow,rightArithShift:m.rightArithShift,compareNatural:m.compareNatural,equalText:m.equalText,largerEq:m.largerEq,partitionSelect:m.partitionSelect,min:m.min,asech:m.asech,tan:m.tan,setSize:m.setSize,norm:m.norm,quantileSeq:m.quantileSeq,gamma:m.gamma,bignumber:m.bignumber,lcm:m.lcm,bitOr:m.bitOr,kron:m.kron,transpose:m.transpose,numeric:m.numeric,and:m.and,smallerEq:m.smallerEq,sort:m.sort,cot:m.cot,dot:m.dot,sum:m.sum,factorial:m.factorial,permutations:m.permutations,ceil:m.ceil,subtract:m.subtract,cross:m.cross,ctranspose:m.ctranspose,equal:m.equal,setCartesian:m.setCartesian,setDistinct:m.setDistinct,setIsSubset:m.setIsSubset,setPowerset:m.setPowerset,index:m.index,fix:m.fix,range:m.range,divideScalar:m.divideScalar,nthRoots:m.nthRoots,lsolve:m.lsolve,deepEqual:m.deepEqual,setDifference:m.setDifference,setMultiplicity:m.setMultiplicity,hypot:m.hypot,lup:m.lup,slu:m.slu,det:m.det,distance:m.distance,stirlingS2:m.stirlingS2,catalan:m.catalan,xor:m.xor,row:m.row,dotDivide:m.dotDivide,createUnit:m.createUnit,setSymDifference:m.setSymDifference,qr:m.qr,inv:m.inv,expm:m.expm,divide:m.divide,mean:m.mean,variance:m.variance,std:m.std,multinomial:m.multinomial,atomicMass:m.atomicMass,bohrMagneton:m.bohrMagneton,boltzmann:m.boltzmann,conductanceQuantum:m.conductanceQuantum,deuteronMass:m.deuteronMass,electronMass:m.electronMass,faraday:m.faraday,firstRadiation:m.firstRadiation,gravitationConstant:m.gravitationConstant,hartreeEnergy:m.hartreeEnergy,klitzing:m.klitzing,magneticConstant:m.magneticConstant,molarMass:m.molarMass,molarPlanckConstant:m.molarPlanckConstant,neutronMass:m.neutronMass,planckCharge:m.planckCharge,planckLength:m.planckLength,planckTemperature:m.planckTemperature,protonMass:m.protonMass,reducedPlanckConstant:m.reducedPlanckConstant,secondRadiation:m.secondRadiation,stefanBoltzmann:m.stefanBoltzmann,vacuumImpedance:m.vacuumImpedance,column:m.column,usolve:m.usolve,setIntersect:m.setIntersect,lusolve:m.lusolve,eigs:m.eigs,intersect:m.intersect,var:m.variance,bellNumbers:m.bellNumbers,avogadro:m.avogadro,classicalElectronRadius:m.classicalElectronRadius,electricConstant:m.electricConstant,fermiCoupling:m.fermiCoupling,gravity:m.gravity,loschmidt:m.loschmidt,molarMassC12:m.molarMassC12,nuclearMagneton:m.nuclearMagneton,planckMass:m.planckMass,quantumOfCirculation:m.quantumOfCirculation,speedOfLight:m.speedOfLight,wienDisplacement:m.wienDisplacement,log:m.log,unit:m.unit,parse:U,evaluate:L,sqrtm:m.sqrtm,kldivergence:m.kldivergence,bohrRadius:m.bohrRadius,elementaryCharge:m.elementaryCharge,inverseConductanceQuantum:m.inverseConductanceQuantum,molarVolume:m.molarVolume,planckTime:m.planckTime,thomsonCrossSection:m.thomsonCrossSection,log1p:m.log1p,compile:Z,parser:J,median:m.median,simplify:K,rationalize:$,gasConstant:m.gasConstant,planckConstant:m.planckConstant,setUnion:m.setUnion,help:W,derivative:Y,magneticFluxQuantum:m.magneticFluxQuantum,eval:L,coulomb:m.coulomb,mad:m.mad,rydberg:m.rydberg,config:g.config}),x(D,S,{apply:(0,f.createApplyTransform)({isInteger:m.isInteger,typed:m.typed}),filter:(0,f.createFilterTransform)({typed:m.typed}),map:(0,f.createMapTransform)({typed:m.typed}),forEach:(0,f.createForEachTransform)({typed:m.typed}),max:(0,f.createMaxTransform)({larger:m.larger,typed:m.typed}),min:(0,f.createMinTransform)({smaller:m.smaller,typed:m.typed}),subset:(0,f.createSubsetTransform)({matrix:m.matrix,typed:m.typed}),concat:(0,f.createConcatTransform)({isInteger:m.isInteger,matrix:m.matrix,typed:m.typed}),range:(0,f.createRangeTransform)({bignumber:m.bignumber,matrix:m.matrix,config:g.config,larger:m.larger,largerEq:m.largerEq,smaller:m.smaller,smallerEq:m.smallerEq,typed:m.typed}),sum:(0,f.createSumTransform)({bignumber:m.bignumber,fraction:m.fraction,add:m.add,config:g.config,typed:m.typed}),index:(0,f.createIndexTransform)({Index:m.Index}),column:(0,f.createColumnTransform)({Index:m.Index,matrix:m.matrix,range:m.range,typed:m.typed}),row:(0,f.createRowTransform)({Index:m.Index,matrix:m.matrix,range:m.range,typed:m.typed}),mean:(0,f.createMeanTransform)({add:m.add,divide:m.divide,typed:m.typed}),variance:(0,f.createVarianceTransform)({add:m.add,apply:m.apply,divide:m.divide,isNaN:m.isNaN,multiply:m.multiply,subtract:m.subtract,typed:m.typed}),std:(0,f.createStdTransform)({sqrt:m.sqrt,typed:m.typed,variance:m.variance})}),x(h,{ResultSet:m.ResultSet,Complex:m.Complex,Range:m.Range,Node:_,ArrayNode:o,BlockNode:p,ConstantNode:b,ObjectNode:y,ParenthesisNode:A,RelationalNode:E,Chain:N,BigNumber:m.BigNumber,Matrix:m.Matrix,ConditionalNode:O,OperatorNode:j,Fraction:m.Fraction,RangeNode:M,DenseMatrix:m.DenseMatrix,FunctionAssignmentNode:F,SparseMatrix:m.SparseMatrix,ImmutableDenseMatrix:m.ImmutableDenseMatrix,FibonacciHeap:m.FibonacciHeap,AccessorNode:I,IndexNode:G,Spa:m.Spa,AssignmentNode:k,Index:m.Index,Unit:m.Unit,SymbolNode:V,FunctionNode:R,Parser:H,Help:X}),N.createProxy(S)},{"../expression/embeddedDocs/embeddedDocs":435,"../factoriesAny":658,"./configReadonly":67,"./pureFunctionsAny.generated":396}],395:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var g={config:!0,IndexError:!0,DimensionError:!0,ArgumentsError:!0,create:!0,factory:!0};Object.defineProperty(r,"config",{enumerable:!0,get:function(){return f.config}}),Object.defineProperty(r,"IndexError",{enumerable:!0,get:function(){return S.IndexError}}),Object.defineProperty(r,"DimensionError",{enumerable:!0,get:function(){return D.DimensionError}}),Object.defineProperty(r,"ArgumentsError",{enumerable:!0,get:function(){return h.ArgumentsError}}),Object.defineProperty(r,"create",{enumerable:!0,get:function(){return p.create}}),Object.defineProperty(r,"factory",{enumerable:!0,get:function(){return b.factory}});var f=n("./configReadonly"),m=n("./pureFunctionsAny.generated");Object.keys(m).forEach(function(A){A!=="default"&&A!=="__esModule"&&(Object.prototype.hasOwnProperty.call(g,A)||Object.defineProperty(r,A,{enumerable:!0,get:function(){return m[A]}}))});var l=n("./impureFunctionsAny.generated");Object.keys(l).forEach(function(A){A!=="default"&&A!=="__esModule"&&(Object.prototype.hasOwnProperty.call(g,A)||Object.defineProperty(r,A,{enumerable:!0,get:function(){return l[A]}}))});var x=n("./typeChecks");Object.keys(x).forEach(function(A){A!=="default"&&A!=="__esModule"&&(Object.prototype.hasOwnProperty.call(g,A)||Object.defineProperty(r,A,{enumerable:!0,get:function(){return x[A]}}))});var S=n("../error/IndexError"),D=n("../error/DimensionError"),h=n("../error/ArgumentsError"),_=n("./dependenciesAny.generated");Object.keys(_).forEach(function(A){A!=="default"&&A!=="__esModule"&&(Object.prototype.hasOwnProperty.call(g,A)||Object.defineProperty(r,A,{enumerable:!0,get:function(){return _[A]}}))});var o=n("../factoriesAny");Object.keys(o).forEach(function(A){A!=="default"&&A!=="__esModule"&&(Object.prototype.hasOwnProperty.call(g,A)||Object.defineProperty(r,A,{enumerable:!0,get:function(){return o[A]}}))});var p=n("../core/create"),b=n("../utils/factory"),y=n("./deprecatedAny");Object.keys(y).forEach(function(A){A!=="default"&&A!=="__esModule"&&(Object.prototype.hasOwnProperty.call(g,A)||Object.defineProperty(r,A,{enumerable:!0,get:function(){return y[A]}}))}),r.var=r.deprecatedVar,r.typeof=r.deprecatedTypeof,r.eval=r.deprecatedEval,r.import=r.deprecatedImport},{"../core/create":61,"../error/ArgumentsError":398,"../error/DimensionError":399,"../error/IndexError":400,"../factoriesAny":658,"../utils/factory":931,"./configReadonly":67,"./dependenciesAny.generated":68,"./deprecatedAny":393,"./impureFunctionsAny.generated":394,"./pureFunctionsAny.generated":396,"./typeChecks":397}],396:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cbrt=r.matrix=r.SparseMatrix=r.isNegative=r.SQRT2=r.random=r.combinationsWithRep=r.sin=r.csc=r.cos=r.asinh=r.acsch=r.acosh=r.print=r.mode=r.getMatrixDataType=r.conj=r.sqrt=r.log2=r.exp=r.addScalar=r.unaryMinus=r.fraction=r.string=r.typeOf=r.hasNumericValue=r.clone=r.LN2=r.randomInt=r.pickRandom=r.combinations=r.tanh=r.sinh=r.sech=r.csch=r.coth=r.cosh=r.atanh=r.atan=r.asin=r.asec=r.acsc=r.acot=r.acos=r.isPrime=r.format=r.erf=r.map=r.forEach=r.filter=r.not=r.im=r.arg=r.bitNot=r.square=r.sign=r.multiplyScalar=r.log10=r.expm1=r.cube=r.apply=r.unaryPlus=r.splitUnit=r.complex=r.boolean=r.number=r.equalScalar=r.isNaN=r.isPositive=r.isNumeric=r.isInteger=r.typed=r.phi=r.DenseMatrix=r.version=r.LOG2E=r._Infinity=r.e=r.Fraction=r.weakMixingAngle=r.sackurTetrode=r.fineStructure=r.efimovFactor=r.tau=r.SQRT1_2=r.pi=r._NaN=r.LOG10E=r.LN10=r.i=r.replacer=r.Matrix=r.BigNumber=r._true=r._null=r._false=r.eye=r.Range=r.Complex=r.ResultSet=void 0,r.xor=r.catalan=r.stirlingS2=r.distance=r.det=r.slu=r.lup=r.hypot=r.setMultiplicity=r.setDifference=r.deepEqual=r.lsolve=r.nthRoots=r.divideScalar=r.range=r.fix=r.index=r.setPowerset=r.setIsSubset=r.setDistinct=r.setCartesian=r.Index=r.equal=r.ctranspose=r.cross=r.subtract=r.ceil=r.permutations=r.factorial=r.sum=r.dot=r.cot=r.sort=r.smallerEq=r.and=r.numeric=r.transpose=r.kron=r.bitOr=r.lcm=r.bignumber=r.gamma=r.quantileSeq=r.norm=r.setSize=r.tan=r.asech=r.Spa=r.min=r.partitionSelect=r.largerEq=r.equalText=r.compareNatural=r.rightArithShift=r.dotPow=r.pow=r.prod=r.squeeze=r.resize=r.flatten=r.re=r.dotMultiply=r.multiply=r.floor=r.abs=r.isZero=r.composition=r.trace=r.add=r.sec=r.atan2=r.acoth=r.sparse=r.FibonacciHeap=r.ImmutableDenseMatrix=r.max=r.unequal=r.larger=r.smaller=r.compareText=r.compare=r.rightLogShift=r.leftShift=r.round=r.to=r.zeros=r.subset=r.size=r.reshape=r.ones=r.identity=r.diag=r.concat=r.or=r.bitXor=r.bitAnd=r.xgcd=r.nthRoot=r.mod=r.gcd=void 0,r.rydberg=r.mad=r.coulomb=r.magneticFluxQuantum=r.setUnion=r.planckConstant=r.gasConstant=r.median=r.log1p=r.thomsonCrossSection=r.planckTime=r.molarVolume=r.inverseConductanceQuantum=r.elementaryCharge=r.bohrRadius=r.kldivergence=r.sqrtm=r.unit=r.log=r.wienDisplacement=r.speedOfLight=r.quantumOfCirculation=r.planckMass=r.nuclearMagneton=r.molarMassC12=r.loschmidt=r.gravity=r.fermiCoupling=r.electricConstant=r.classicalElectronRadius=r.avogadro=r.bellNumbers=r.intersect=r.eigs=r.lusolve=r.setIntersect=r.usolve=r.column=r.vacuumImpedance=r.stefanBoltzmann=r.secondRadiation=r.reducedPlanckConstant=r.protonMass=r.planckTemperature=r.planckLength=r.planckCharge=r.neutronMass=r.molarPlanckConstant=r.molarMass=r.magneticConstant=r.klitzing=r.hartreeEnergy=r.gravitationConstant=r.firstRadiation=r.faraday=r.electronMass=r.deuteronMass=r.conductanceQuantum=r.boltzmann=r.bohrMagneton=r.atomicMass=r.multinomial=r.std=r.variance=r.mean=r.divide=r.expm=r.inv=r.qr=r.setSymDifference=r.createUnit=r.Unit=r.dotDivide=r.row=void 0;var g=n("./configReadonly"),f=n("../factoriesAny"),m=(0,f.createResultSet)({});r.ResultSet=m;var l=(0,f.createComplexClass)({});r.Complex=l;var x=(0,f.createRangeClass)({});r.Range=x;var S=(0,f.createEye)({});r.eye=S;var D=(0,f.createFalse)({});r._false=D;var h=(0,f.createNull)({});r._null=h;var _=(0,f.createTrue)({});r._true=_;var o=(0,f.createBigNumberClass)({config:g.config});r.BigNumber=o;var p=(0,f.createMatrixClass)({});r.Matrix=p;var b=(0,f.createReplacer)({});r.replacer=b;var y=(0,f.createI)({Complex:l});r.i=y;var A=(0,f.createLN10)({BigNumber:o,config:g.config});r.LN10=A;var E=(0,f.createLOG10E)({BigNumber:o,config:g.config});r.LOG10E=E;var N=(0,f.createNaN)({BigNumber:o,config:g.config});r._NaN=N;var T=(0,f.createPi)({BigNumber:o,config:g.config});r.pi=T;var O=(0,f.createSQRT1_2)({BigNumber:o,config:g.config});r.SQRT1_2=O;var j=(0,f.createTau)({BigNumber:o,config:g.config});r.tau=j;var M=(0,f.createEfimovFactor)({BigNumber:o,config:g.config});r.efimovFactor=M;var F=(0,f.createFineStructure)({BigNumber:o,config:g.config});r.fineStructure=F;var B=(0,f.createSackurTetrode)({BigNumber:o,config:g.config});r.sackurTetrode=B;var I=(0,f.createWeakMixingAngle)({BigNumber:o,config:g.config});r.weakMixingAngle=I;var G=(0,f.createFractionClass)({});r.Fraction=G;var k=(0,f.createE)({BigNumber:o,config:g.config});r.e=k;var V=(0,f.createInfinity)({BigNumber:o,config:g.config});r._Infinity=V;var R=(0,f.createLOG2E)({BigNumber:o,config:g.config});r.LOG2E=R;var U=(0,f.createVersion)({});r.version=U;var L=(0,f.createDenseMatrixClass)({Matrix:p});r.DenseMatrix=L;var H=(0,f.createPhi)({BigNumber:o,config:g.config});r.phi=H;var X=(0,f.createTyped)({BigNumber:o,Complex:l,DenseMatrix:L,Fraction:G});r.typed=X;var Z=(0,f.createIsInteger)({typed:X});r.isInteger=Z;var J=(0,f.createIsNumeric)({typed:X});r.isNumeric=J;var K=(0,f.createIsPositive)({typed:X});r.isPositive=K;var $=(0,f.createIsNaN)({typed:X});r.isNaN=$;var W=(0,f.createEqualScalar)({config:g.config,typed:X});r.equalScalar=W;var Y=(0,f.createNumber)({typed:X});r.number=Y;var te=(0,f.createBoolean)({typed:X});r.boolean=te;var ce=(0,f.createComplex)({Complex:l,typed:X});r.complex=ce;var oe=(0,f.createSplitUnit)({typed:X});r.splitUnit=oe;var ue=(0,f.createUnaryPlus)({BigNumber:o,config:g.config,typed:X});r.unaryPlus=ue;var Ce=(0,f.createApply)({isInteger:Z,typed:X});r.apply=Ce;var le=(0,f.createCube)({typed:X});r.cube=le;var ye=(0,f.createExpm1)({Complex:l,typed:X});r.expm1=ye;var ve=(0,f.createLog10)({Complex:l,config:g.config,typed:X});r.log10=ve;var pe=(0,f.createMultiplyScalar)({typed:X});r.multiplyScalar=pe;var be=(0,f.createSign)({BigNumber:o,Fraction:G,complex:ce,typed:X});r.sign=be;var Ne=(0,f.createSquare)({typed:X});r.square=Ne;var he=(0,f.createBitNot)({typed:X});r.bitNot=he;var ne=(0,f.createArg)({typed:X});r.arg=ne;var re=(0,f.createIm)({typed:X});r.im=re;var de=(0,f.createNot)({typed:X});r.not=de;var xe=(0,f.createFilter)({typed:X});r.filter=xe;var Pe=(0,f.createForEach)({typed:X});r.forEach=Pe;var Ae=(0,f.createMap)({typed:X});r.map=Ae;var Oe=(0,f.createErf)({typed:X});r.erf=Oe;var Se=(0,f.createFormat)({typed:X});r.format=Se;var Fe=(0,f.createIsPrime)({typed:X});r.isPrime=Fe;var $e=(0,f.createAcos)({Complex:l,config:g.config,typed:X});r.acos=$e;var Re=(0,f.createAcot)({BigNumber:o,typed:X});r.acot=Re;var qe=(0,f.createAcsc)({BigNumber:o,Complex:l,config:g.config,typed:X});r.acsc=qe;var ze=(0,f.createAsec)({BigNumber:o,Complex:l,config:g.config,typed:X});r.asec=ze;var we=(0,f.createAsin)({Complex:l,config:g.config,typed:X});r.asin=we;var Ee=(0,f.createAtan)({typed:X});r.atan=Ee;var Me=(0,f.createAtanh)({Complex:l,config:g.config,typed:X});r.atanh=Me;var me=(0,f.createCosh)({typed:X});r.cosh=me;var Ge=(0,f.createCoth)({BigNumber:o,typed:X});r.coth=Ge;var Xe=(0,f.createCsch)({BigNumber:o,typed:X});r.csch=Xe;var rt=(0,f.createSech)({BigNumber:o,typed:X});r.sech=rt;var ut=(0,f.createSinh)({typed:X});r.sinh=ut;var ft=(0,f.createTanh)({typed:X});r.tanh=ft;var pt=(0,f.createCombinations)({typed:X});r.combinations=pt;var ot=(0,f.createPickRandom)({config:g.config,typed:X});r.pickRandom=ot;var bt=(0,f.createRandomInt)({config:g.config,typed:X});r.randomInt=bt;var At=(0,f.createLN2)({BigNumber:o,config:g.config});r.LN2=At;var Ke=(0,f.createClone)({typed:X});r.clone=Ke;var dt=(0,f.createHasNumericValue)({isNumeric:J,typed:X});r.hasNumericValue=dt;var vt=(0,f.createTypeOf)({typed:X});r.typeOf=vt;var wt=(0,f.createString)({typed:X});r.string=wt;var Nt=(0,f.createFraction)({Fraction:G,typed:X});r.fraction=Nt;var Ot=(0,f.createUnaryMinus)({typed:X});r.unaryMinus=Ot;var Tt=(0,f.createAddScalar)({typed:X});r.addScalar=Tt;var It=(0,f.createExp)({typed:X});r.exp=It;var Pt=(0,f.createLog2)({Complex:l,config:g.config,typed:X});r.log2=Pt;var Rt=(0,f.createSqrt)({Complex:l,config:g.config,typed:X});r.sqrt=Rt;var Ft=(0,f.createConj)({typed:X});r.conj=Ft;var Bt=(0,f.createGetMatrixDataType)({typed:X});r.getMatrixDataType=Bt;var Ut=(0,f.createMode)({isNaN:$,isNumeric:J,typed:X});r.mode=Ut;var Xt=(0,f.createPrint)({typed:X});r.print=Xt;var Zt=(0,f.createAcosh)({Complex:l,config:g.config,typed:X});r.acosh=Zt;var Yt=(0,f.createAcsch)({BigNumber:o,typed:X});r.acsch=Yt;var rn=(0,f.createAsinh)({typed:X});r.asinh=rn;var Gt=(0,f.createCos)({typed:X});r.cos=Gt;var sn=(0,f.createCsc)({BigNumber:o,typed:X});r.csc=sn;var Je=(0,f.createSin)({typed:X});r.sin=Je;var Ct=(0,f.createCombinationsWithRep)({typed:X});r.combinationsWithRep=Ct;var _e=(0,f.createRandom)({config:g.config,typed:X});r.random=_e;var je=(0,f.createSQRT2)({BigNumber:o,config:g.config});r.SQRT2=je;var Ue=(0,f.createIsNegative)({typed:X});r.isNegative=Ue;var Be=(0,f.createSparseMatrixClass)({Matrix:p,equalScalar:W,typed:X});r.SparseMatrix=Be;var He=(0,f.createMatrix)({DenseMatrix:L,Matrix:p,SparseMatrix:Be,typed:X});r.matrix=He;var ke=(0,f.createCbrt)({BigNumber:o,Complex:l,Fraction:G,config:g.config,isNegative:Ue,matrix:He,typed:X,unaryMinus:Ot});r.cbrt=ke;var Qe=(0,f.createGcd)({BigNumber:o,DenseMatrix:L,equalScalar:W,matrix:He,typed:X});r.gcd=Qe;var et=(0,f.createMod)({DenseMatrix:L,equalScalar:W,matrix:He,typed:X});r.mod=et;var ct=(0,f.createNthRoot)({BigNumber:o,equalScalar:W,matrix:He,typed:X});r.nthRoot=ct;var st=(0,f.createXgcd)({BigNumber:o,config:g.config,matrix:He,typed:X});r.xgcd=st;var at=(0,f.createBitAnd)({equalScalar:W,matrix:He,typed:X});r.bitAnd=at;var St=(0,f.createBitXor)({DenseMatrix:L,matrix:He,typed:X});r.bitXor=St;var jt=(0,f.createOr)({DenseMatrix:L,equalScalar:W,matrix:He,typed:X});r.or=jt;var zt=(0,f.createConcat)({isInteger:Z,matrix:He,typed:X});r.concat=zt;var $t=(0,f.createDiag)({DenseMatrix:L,SparseMatrix:Be,matrix:He,typed:X});r.diag=$t;var Qt=(0,f.createIdentity)({BigNumber:o,DenseMatrix:L,SparseMatrix:Be,config:g.config,matrix:He,typed:X});r.identity=Qt;var tn=(0,f.createOnes)({BigNumber:o,config:g.config,matrix:He,typed:X});r.ones=tn;var an=(0,f.createReshape)({isInteger:Z,matrix:He,typed:X});r.reshape=an;var un=(0,f.createSize)({matrix:He,config:g.config,typed:X});r.size=un;var bn=(0,f.createSubset)({matrix:He,typed:X});r.subset=bn;var Un=(0,f.createZeros)({BigNumber:o,config:g.config,matrix:He,typed:X});r.zeros=Un;var tr=(0,f.createTo)({matrix:He,typed:X});r.to=tr;var Gn=(0,f.createRound)({BigNumber:o,DenseMatrix:L,equalScalar:W,matrix:He,typed:X,zeros:Un});r.round=Gn;var nr=(0,f.createLeftShift)({DenseMatrix:L,equalScalar:W,matrix:He,typed:X,zeros:Un});r.leftShift=nr;var Bn=(0,f.createRightLogShift)({DenseMatrix:L,equalScalar:W,matrix:He,typed:X,zeros:Un});r.rightLogShift=Bn;var Vn=(0,f.createCompare)({BigNumber:o,DenseMatrix:L,Fraction:G,config:g.config,equalScalar:W,matrix:He,typed:X});r.compare=Vn;var Jn=(0,f.createCompareText)({matrix:He,typed:X});r.compareText=Jn;var zn=(0,f.createSmaller)({DenseMatrix:L,config:g.config,matrix:He,typed:X});r.smaller=zn;var dn=(0,f.createLarger)({DenseMatrix:L,config:g.config,matrix:He,typed:X});r.larger=dn;var on=(0,f.createUnequal)({DenseMatrix:L,config:g.config,equalScalar:W,matrix:He,typed:X});r.unequal=on;var _r=(0,f.createMax)({larger:dn,typed:X});r.max=_r;var cr=(0,f.createImmutableDenseMatrixClass)({DenseMatrix:L,smaller:zn});r.ImmutableDenseMatrix=cr;var ur=(0,f.createFibonacciHeapClass)({larger:dn,smaller:zn});r.FibonacciHeap=ur;var Wn=(0,f.createSparse)({SparseMatrix:Be,typed:X});r.sparse=Wn;var zr=(0,f.createAcoth)({BigNumber:o,Complex:l,config:g.config,typed:X});r.acoth=zr;var Gr=(0,f.createAtan2)({BigNumber:o,DenseMatrix:L,equalScalar:W,matrix:He,typed:X});r.atan2=Gr;var lr=(0,f.createSec)({BigNumber:o,typed:X});r.sec=lr;var Tn=(0,f.createAdd)({DenseMatrix:L,SparseMatrix:Be,addScalar:Tt,equalScalar:W,matrix:He,typed:X});r.add=Tn;var ti=(0,f.createTrace)({add:Tn,matrix:He,typed:X});r.trace=ti;var Or=(0,f.createComposition)({addScalar:Tt,combinations:pt,isInteger:Z,isNegative:Ue,isPositive:K,larger:dn,typed:X});r.composition=Or;var xr=(0,f.createIsZero)({typed:X});r.isZero=xr;var Pn=(0,f.createAbs)({typed:X});r.abs=Pn;var hr=(0,f.createFloor)({config:g.config,round:Gn,typed:X});r.floor=hr;var xn=(0,f.createMultiply)({addScalar:Tt,equalScalar:W,matrix:He,multiplyScalar:pe,typed:X});r.multiply=xn;var Pr=(0,f.createDotMultiply)({equalScalar:W,matrix:He,multiplyScalar:pe,typed:X});r.dotMultiply=Pr;var Vr=(0,f.createRe)({typed:X});r.re=Vr;var Ar=(0,f.createFlatten)({matrix:He,typed:X});r.flatten=Ar;var wr=(0,f.createResize)({config:g.config,matrix:He});r.resize=wr;var ni=(0,f.createSqueeze)({matrix:He,typed:X});r.squeeze=ni;var ri=(0,f.createProd)({multiply:xn,typed:X});r.prod=ri;var rr=(0,f.createPow)({Complex:l,config:g.config,fraction:Nt,identity:Qt,matrix:He,multiply:xn,number:Y,typed:X});r.pow=rr;var Xn=(0,f.createDotPow)({DenseMatrix:L,equalScalar:W,matrix:He,pow:rr,typed:X});r.dotPow=Xn;var Yn=(0,f.createRightArithShift)({DenseMatrix:L,equalScalar:W,matrix:He,typed:X,zeros:Un});r.rightArithShift=Yn;var Rn=(0,f.createCompareNatural)({compare:Vn,typed:X});r.compareNatural=Rn;var mr=(0,f.createEqualText)({compareText:Jn,isZero:xr,typed:X});r.equalText=mr;var $n=(0,f.createLargerEq)({DenseMatrix:L,config:g.config,matrix:He,typed:X});r.largerEq=$n;var ir=(0,f.createPartitionSelect)({compare:Vn,isNaN:$,isNumeric:J,typed:X});r.partitionSelect=ir;var ii=(0,f.createMin)({smaller:zn,typed:X});r.min=ii;var Zn=(0,f.createSpaClass)({FibonacciHeap:ur,addScalar:Tt,equalScalar:W});r.Spa=Zn;var Dr=(0,f.createAsech)({BigNumber:o,Complex:l,config:g.config,typed:X});r.asech=Dr;var $r=(0,f.createTan)({typed:X});r.tan=$r;var Hr=(0,f.createSetSize)({compareNatural:Rn,typed:X});r.setSize=Hr;var qr=(0,f.createNorm)({abs:Pn,add:Tn,conj:Ft,equalScalar:W,larger:dn,matrix:He,multiply:xn,pow:rr,smaller:zn,sqrt:Rt,typed:X});r.norm=qr;var Wr=(0,f.createQuantileSeq)({add:Tn,compare:Vn,multiply:xn,partitionSelect:ir,typed:X});r.quantileSeq=Wr;var jr=(0,f.createGamma)({BigNumber:o,Complex:l,config:g.config,multiplyScalar:pe,pow:rr,typed:X});r.gamma=jr;var dr=(0,f.createBignumber)({BigNumber:o,typed:X});r.bignumber=dr;var Ir=(0,f.createLcm)({equalScalar:W,matrix:He,typed:X});r.lcm=Ir;var Xr=(0,f.createBitOr)({DenseMatrix:L,equalScalar:W,matrix:He,typed:X});r.bitOr=Xr;var Qr=(0,f.createKron)({matrix:He,multiplyScalar:pe,typed:X});r.kron=Qr;var Sr=(0,f.createTranspose)({matrix:He,typed:X});r.transpose=Sr;var Er=(0,f.createNumeric)({bignumber:dr,fraction:Nt,number:Y});r.numeric=Er;var Yr=(0,f.createAnd)({equalScalar:W,matrix:He,not:de,typed:X,zeros:Un});r.and=Yr;var Cr=(0,f.createSmallerEq)({DenseMatrix:L,config:g.config,matrix:He,typed:X});r.smallerEq=Cr;var Zr=(0,f.createSort)({compare:Vn,compareNatural:Rn,matrix:He,typed:X});r.sort=Zr;var Fr=(0,f.createCot)({BigNumber:o,typed:X});r.cot=Fr;var Jr=(0,f.createDot)({add:Tn,multiply:xn,typed:X});r.dot=Jr;var gr=(0,f.createSum)({bignumber:dr,fraction:Nt,add:Tn,config:g.config,typed:X});r.sum=gr;var ar=(0,f.createFactorial)({gamma:jr,typed:X});r.factorial=ar;var Nr=(0,f.createPermutations)({factorial:ar,typed:X});r.permutations=Nr;var Br=(0,f.createCeil)({config:g.config,round:Gn,typed:X});r.ceil=Br;var mn=(0,f.createSubtract)({DenseMatrix:L,addScalar:Tt,equalScalar:W,matrix:He,typed:X,unaryMinus:Ot});r.subtract=mn;var Kn=(0,f.createCross)({matrix:He,multiply:xn,subtract:mn,typed:X});r.cross=Kn;var Vt=(0,f.createCtranspose)({conj:Ft,transpose:Sr,typed:X});r.ctranspose=Vt;var yr=(0,f.createEqual)({DenseMatrix:L,equalScalar:W,matrix:He,typed:X});r.equal=yr;var Mn=(0,f.createIndexClass)({ImmutableDenseMatrix:cr});r.Index=Mn;var pr=(0,f.createSetCartesian)({DenseMatrix:L,Index:Mn,compareNatural:Rn,size:un,subset:bn,typed:X});r.setCartesian=pr;var Kr=(0,f.createSetDistinct)({DenseMatrix:L,Index:Mn,compareNatural:Rn,size:un,subset:bn,typed:X});r.setDistinct=Kr;var si=(0,f.createSetIsSubset)({Index:Mn,compareNatural:Rn,size:un,subset:bn,typed:X});r.setIsSubset=si;var pn=(0,f.createSetPowerset)({Index:Mn,compareNatural:Rn,size:un,subset:bn,typed:X});r.setPowerset=pn;var ei=(0,f.createIndex)({Index:Mn,typed:X});r.index=ei;var Rr=(0,f.createFix)({Complex:l,ceil:Br,floor:hr,typed:X});r.fix=Rr;var Ln=(0,f.createRange)({bignumber:dr,matrix:He,config:g.config,larger:dn,largerEq:$n,smaller:zn,smallerEq:Cr,typed:X});r.range=Ln;var Sn=(0,f.createDivideScalar)({numeric:Er,typed:X});r.divideScalar=Sn;var ai=(0,f.createNthRoots)({Complex:l,config:g.config,divideScalar:Sn,typed:X});r.nthRoots=ai;var Tr=(0,f.createLsolve)({DenseMatrix:L,divideScalar:Sn,equalScalar:W,matrix:He,multiplyScalar:pe,subtract:mn,typed:X});r.lsolve=Tr;var oi=(0,f.createDeepEqual)({equal:yr,typed:X});r.deepEqual=oi;var kr=(0,f.createSetDifference)({DenseMatrix:L,Index:Mn,compareNatural:Rn,size:un,subset:bn,typed:X});r.setDifference=kr;var ci=(0,f.createSetMultiplicity)({Index:Mn,compareNatural:Rn,size:un,subset:bn,typed:X});r.setMultiplicity=ci;var Lr=(0,f.createHypot)({abs:Pn,addScalar:Tt,divideScalar:Sn,isPositive:K,multiplyScalar:pe,smaller:zn,sqrt:Rt,typed:X});r.hypot=Lr;var _n=(0,f.createLup)({DenseMatrix:L,Spa:Zn,SparseMatrix:Be,abs:Pn,addScalar:Tt,divideScalar:Sn,equalScalar:W,larger:dn,matrix:He,multiplyScalar:pe,subtract:mn,typed:X,unaryMinus:Ot});r.lup=_n;var vr=(0,f.createSlu)({SparseMatrix:Be,abs:Pn,add:Tn,divideScalar:Sn,larger:dn,largerEq:$n,multiply:xn,subtract:mn,transpose:Sr,typed:X});r.slu=vr;var Q=(0,f.createDet)({lup:_n,matrix:He,multiply:xn,subtract:mn,typed:X,unaryMinus:Ot});r.det=Q;var ee=(0,f.createDistance)({abs:Pn,addScalar:Tt,divideScalar:Sn,multiplyScalar:pe,sqrt:Rt,subtract:mn,typed:X,unaryMinus:Ot});r.distance=ee;var se=(0,f.createStirlingS2)({addScalar:Tt,combinations:pt,divideScalar:Sn,factorial:ar,isInteger:Z,isNegative:Ue,larger:dn,multiplyScalar:pe,pow:rr,subtract:mn,typed:X});r.stirlingS2=se;var ae=(0,f.createCatalan)({addScalar:Tt,combinations:pt,divideScalar:Sn,isInteger:Z,isNegative:Ue,multiplyScalar:pe,typed:X});r.catalan=ae;var ge=(0,f.createXor)({DenseMatrix:L,matrix:He,typed:X});r.xor=ge;var Te=(0,f.createRow)({Index:Mn,matrix:He,range:Ln,typed:X});r.row=Te;var Ie=(0,f.createDotDivide)({DenseMatrix:L,divideScalar:Sn,equalScalar:W,matrix:He,typed:X});r.dotDivide=Ie;var Ve=(0,f.createUnitClass)({BigNumber:o,Complex:l,Fraction:G,abs:Pn,addScalar:Tt,config:g.config,divideScalar:Sn,equal:yr,fix:Rr,format:Se,isNumeric:J,multiplyScalar:pe,number:Y,pow:rr,round:Gn,subtract:mn});r.Unit=Ve;var Ze=(0,f.createCreateUnit)({Unit:Ve,typed:X});r.createUnit=Ze;var Ye=(0,f.createSetSymDifference)({Index:Mn,concat:zt,setDifference:kr,size:un,subset:bn,typed:X});r.setSymDifference=Ye;var it=(0,f.createQr)({addScalar:Tt,complex:ce,conj:Ft,divideScalar:Sn,equal:yr,identity:Qt,isZero:xr,matrix:He,multiplyScalar:pe,sign:be,sqrt:Rt,subtract:mn,typed:X,unaryMinus:Ot,zeros:Un});r.qr=it;var ht=(0,f.createInv)({abs:Pn,addScalar:Tt,det:Q,divideScalar:Sn,identity:Qt,matrix:He,multiply:xn,typed:X,unaryMinus:Ot});r.inv=ht;var lt=(0,f.createExpm)({abs:Pn,add:Tn,identity:Qt,inv:ht,multiply:xn,typed:X});r.expm=lt;var nt=(0,f.createDivide)({divideScalar:Sn,equalScalar:W,inv:ht,matrix:He,multiply:xn,typed:X});r.divide=nt;var Mt=(0,f.createMean)({add:Tn,divide:nt,typed:X});r.mean=Mt;var _t=(0,f.createVariance)({add:Tn,apply:Ce,divide:nt,isNaN:$,multiply:xn,subtract:mn,typed:X});r.variance=_t;var Dt=(0,f.createStd)({sqrt:Rt,typed:X,variance:_t});r.std=Dt;var gt=(0,f.createMultinomial)({add:Tn,divide:nt,factorial:ar,isInteger:Z,isPositive:K,multiply:xn,typed:X});r.multinomial=gt;var yt=(0,f.createAtomicMass)({BigNumber:o,Unit:Ve,config:g.config});r.atomicMass=yt;var Ht=(0,f.createBohrMagneton)({BigNumber:o,Unit:Ve,config:g.config});r.bohrMagneton=Ht;var Kt=(0,f.createBoltzmann)({BigNumber:o,Unit:Ve,config:g.config});r.boltzmann=Kt;var qt=(0,f.createConductanceQuantum)({BigNumber:o,Unit:Ve,config:g.config});r.conductanceQuantum=qt;var Wt=(0,f.createDeuteronMass)({BigNumber:o,Unit:Ve,config:g.config});r.deuteronMass=Wt;var en=(0,f.createElectronMass)({BigNumber:o,Unit:Ve,config:g.config});r.electronMass=en;var gn=(0,f.createFaraday)({BigNumber:o,Unit:Ve,config:g.config});r.faraday=gn;var An=(0,f.createFirstRadiation)({BigNumber:o,Unit:Ve,config:g.config});r.firstRadiation=An;var En=(0,f.createGravitationConstant)({BigNumber:o,Unit:Ve,config:g.config});r.gravitationConstant=En;var jn=(0,f.createHartreeEnergy)({BigNumber:o,Unit:Ve,config:g.config});r.hartreeEnergy=jn;var kn=(0,f.createKlitzing)({BigNumber:o,Unit:Ve,config:g.config});r.klitzing=kn;var Qn=(0,f.createMagneticConstant)({BigNumber:o,Unit:Ve,config:g.config});r.magneticConstant=Qn;var hn=(0,f.createMolarMass)({BigNumber:o,Unit:Ve,config:g.config});r.molarMass=hn;var yn=(0,f.createMolarPlanckConstant)({BigNumber:o,Unit:Ve,config:g.config});r.molarPlanckConstant=yn;var fn=(0,f.createNeutronMass)({BigNumber:o,Unit:Ve,config:g.config});r.neutronMass=fn;var In=(0,f.createPlanckCharge)({BigNumber:o,Unit:Ve,config:g.config});r.planckCharge=In;var wn=(0,f.createPlanckLength)({BigNumber:o,Unit:Ve,config:g.config});r.planckLength=wn;var On=(0,f.createPlanckTemperature)({BigNumber:o,Unit:Ve,config:g.config});r.planckTemperature=On;var vn=(0,f.createProtonMass)({BigNumber:o,Unit:Ve,config:g.config});r.protonMass=vn;var Nn=(0,f.createReducedPlanckConstant)({BigNumber:o,Unit:Ve,config:g.config});r.reducedPlanckConstant=Nn;var Ur=(0,f.createSecondRadiation)({BigNumber:o,Unit:Ve,config:g.config});r.secondRadiation=Ur;var br=(0,f.createStefanBoltzmann)({BigNumber:o,Unit:Ve,config:g.config});r.stefanBoltzmann=br;var Cn=(0,f.createVacuumImpedance)({BigNumber:o,Unit:Ve,config:g.config});r.vacuumImpedance=Cn;var Jt=(0,f.createColumn)({Index:Mn,matrix:He,range:Ln,typed:X});r.column=Jt;var fi=(0,f.createUsolve)({DenseMatrix:L,divideScalar:Sn,equalScalar:W,matrix:He,multiplyScalar:pe,subtract:mn,typed:X});r.usolve=fi;var fe=(0,f.createSetIntersect)({DenseMatrix:L,Index:Mn,compareNatural:Rn,size:un,subset:bn,typed:X});r.setIntersect=fe;var nn=(0,f.createLusolve)({DenseMatrix:L,lsolve:Tr,lup:_n,matrix:He,slu:vr,typed:X,usolve:fi});r.lusolve=nn;var ui=(0,f.createEigs)({abs:Pn,add:Tn,addScalar:Tt,atan:Ee,bignumber:dr,config:g.config,cos:Gt,equal:yr,inv:ht,matrix:He,multiply:xn,multiplyScalar:pe,sin:Je,subtract:mn,typed:X});r.eigs=ui;var fr=(0,f.createIntersect)({abs:Pn,add:Tn,addScalar:Tt,config:g.config,divideScalar:Sn,equalScalar:W,matrix:He,multiply:xn,multiplyScalar:pe,smaller:zn,subtract:mn,typed:X});r.intersect=fr;var pi=(0,f.createBellNumbers)({addScalar:Tt,isInteger:Z,isNegative:Ue,stirlingS2:se,typed:X});r.bellNumbers=pi;var tt=(0,f.createAvogadro)({BigNumber:o,Unit:Ve,config:g.config});r.avogadro=tt;var li=(0,f.createClassicalElectronRadius)({BigNumber:o,Unit:Ve,config:g.config});r.classicalElectronRadius=li;var hi=(0,f.createElectricConstant)({BigNumber:o,Unit:Ve,config:g.config});r.electricConstant=hi;var Hn=(0,f.createFermiCoupling)({BigNumber:o,Unit:Ve,config:g.config});r.fermiCoupling=Hn;var yi=(0,f.createGravity)({BigNumber:o,Unit:Ve,config:g.config});r.gravity=yi;var kt=(0,f.createLoschmidt)({BigNumber:o,Unit:Ve,config:g.config});r.loschmidt=kt;var qn=(0,f.createMolarMassC12)({BigNumber:o,Unit:Ve,config:g.config});r.molarMassC12=qn;var vi=(0,f.createNuclearMagneton)({BigNumber:o,Unit:Ve,config:g.config});r.nuclearMagneton=vi;var bi=(0,f.createPlanckMass)({BigNumber:o,Unit:Ve,config:g.config});r.planckMass=bi;var Mr=(0,f.createQuantumOfCirculation)({BigNumber:o,Unit:Ve,config:g.config});r.quantumOfCirculation=Mr;var Ai=(0,f.createSpeedOfLight)({BigNumber:o,Unit:Ve,config:g.config});r.speedOfLight=Ai;var mi=(0,f.createWienDisplacement)({BigNumber:o,Unit:Ve,config:g.config});r.wienDisplacement=mi;var xt=(0,f.createLog)({Complex:l,config:g.config,divideScalar:Sn,typed:X});r.log=xt;var Ii=(0,f.createUnitFunction)({Unit:Ve,typed:X});r.unit=Ii;var Fi=(0,f.createSqrtm)({abs:Pn,add:Tn,identity:Qt,inv:ht,max:_r,multiply:xn,size:un,sqrt:Rt,subtract:mn,typed:X});r.sqrtm=Fi;var wi=(0,f.createKldivergence)({divide:nt,dotDivide:Ie,isNumeric:J,log:xt,matrix:He,multiply:xn,sum:gr,typed:X});r.kldivergence=wi;var Bi=(0,f.createBohrRadius)({BigNumber:o,Unit:Ve,config:g.config});r.bohrRadius=Bi;var Di=(0,f.createElementaryCharge)({BigNumber:o,Unit:Ve,config:g.config});r.elementaryCharge=Di;var Si=(0,f.createInverseConductanceQuantum)({BigNumber:o,Unit:Ve,config:g.config});r.inverseConductanceQuantum=Si;var _i=(0,f.createMolarVolume)({BigNumber:o,Unit:Ve,config:g.config});r.molarVolume=_i;var Ri=(0,f.createPlanckTime)({BigNumber:o,Unit:Ve,config:g.config});r.planckTime=Ri;var xi=(0,f.createThomsonCrossSection)({BigNumber:o,Unit:Ve,config:g.config});r.thomsonCrossSection=xi;var Ei=(0,f.createLog1p)({Complex:l,config:g.config,divideScalar:Sn,log:xt,typed:X});r.log1p=Ei;var Ci=(0,f.createMedian)({add:Tn,compare:Vn,divide:nt,partitionSelect:ir,typed:X});r.median=Ci;var Ni=(0,f.createGasConstant)({BigNumber:o,Unit:Ve,config:g.config});r.gasConstant=Ni;var ki=(0,f.createPlanckConstant)({BigNumber:o,Unit:Ve,config:g.config});r.planckConstant=ki;var Ti=(0,f.createSetUnion)({Index:Mn,concat:zt,setIntersect:fe,setSymDifference:Ye,size:un,subset:bn,typed:X});r.setUnion=Ti;var Li=(0,f.createMagneticFluxQuantum)({BigNumber:o,Unit:Ve,config:g.config});r.magneticFluxQuantum=Li;var Ui=(0,f.createCoulomb)({BigNumber:o,Unit:Ve,config:g.config});r.coulomb=Ui;var zi=(0,f.createMad)({abs:Pn,map:Ae,median:Ci,subtract:mn,typed:X});r.mad=zi;var er=(0,f.createRydberg)({BigNumber:o,Unit:Ve,config:g.config});r.rydberg=er},{"../factoriesAny":658,"./configReadonly":67}],397:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isAccessorNode",{enumerable:!0,get:function(){return g.isAccessorNode}}),Object.defineProperty(r,"isArray",{enumerable:!0,get:function(){return g.isArray}}),Object.defineProperty(r,"isArrayNode",{enumerable:!0,get:function(){return g.isArrayNode}}),Object.defineProperty(r,"isAssignmentNode",{enumerable:!0,get:function(){return g.isAssignmentNode}}),Object.defineProperty(r,"isBigNumber",{enumerable:!0,get:function(){return g.isBigNumber}}),Object.defineProperty(r,"isBlockNode",{enumerable:!0,get:function(){return g.isBlockNode}}),Object.defineProperty(r,"isBoolean",{enumerable:!0,get:function(){return g.isBoolean}}),Object.defineProperty(r,"isChain",{enumerable:!0,get:function(){return g.isChain}}),Object.defineProperty(r,"isCollection",{enumerable:!0,get:function(){return g.isCollection}}),Object.defineProperty(r,"isComplex",{enumerable:!0,get:function(){return g.isComplex}}),Object.defineProperty(r,"isConditionalNode",{enumerable:!0,get:function(){return g.isConditionalNode}}),Object.defineProperty(r,"isConstantNode",{enumerable:!0,get:function(){return g.isConstantNode}}),Object.defineProperty(r,"isDate",{enumerable:!0,get:function(){return g.isDate}}),Object.defineProperty(r,"isDenseMatrix",{enumerable:!0,get:function(){return g.isDenseMatrix}}),Object.defineProperty(r,"isFraction",{enumerable:!0,get:function(){return g.isFraction}}),Object.defineProperty(r,"isFunction",{enumerable:!0,get:function(){return g.isFunction}}),Object.defineProperty(r,"isFunctionAssignmentNode",{enumerable:!0,get:function(){return g.isFunctionAssignmentNode}}),Object.defineProperty(r,"isFunctionNode",{enumerable:!0,get:function(){return g.isFunctionNode}}),Object.defineProperty(r,"isHelp",{enumerable:!0,get:function(){return g.isHelp}}),Object.defineProperty(r,"isIndex",{enumerable:!0,get:function(){return g.isIndex}}),Object.defineProperty(r,"isIndexNode",{enumerable:!0,get:function(){return g.isIndexNode}}),Object.defineProperty(r,"isMatrix",{enumerable:!0,get:function(){return g.isMatrix}}),Object.defineProperty(r,"isNode",{enumerable:!0,get:function(){return g.isNode}}),Object.defineProperty(r,"isNull",{enumerable:!0,get:function(){return g.isNull}}),Object.defineProperty(r,"isNumber",{enumerable:!0,get:function(){return g.isNumber}}),Object.defineProperty(r,"isString",{enumerable:!0,get:function(){return g.isString}}),Object.defineProperty(r,"isUndefined",{enumerable:!0,get:function(){return g.isUndefined}}),Object.defineProperty(r,"isObject",{enumerable:!0,get:function(){return g.isObject}}),Object.defineProperty(r,"isObjectNode",{enumerable:!0,get:function(){return g.isObjectNode}}),Object.defineProperty(r,"isOperatorNode",{enumerable:!0,get:function(){return g.isOperatorNode}}),Object.defineProperty(r,"isParenthesisNode",{enumerable:!0,get:function(){return g.isParenthesisNode}}),Object.defineProperty(r,"isRange",{enumerable:!0,get:function(){return g.isRange}}),Object.defineProperty(r,"isRangeNode",{enumerable:!0,get:function(){return g.isRangeNode}}),Object.defineProperty(r,"isRegExp",{enumerable:!0,get:function(){return g.isRegExp}}),Object.defineProperty(r,"isResultSet",{enumerable:!0,get:function(){return g.isResultSet}}),Object.defineProperty(r,"isSparseMatrix",{enumerable:!0,get:function(){return g.isSparseMatrix}}),Object.defineProperty(r,"isSymbolNode",{enumerable:!0,get:function(){return g.isSymbolNode}}),Object.defineProperty(r,"isUnit",{enumerable:!0,get:function(){return g.isUnit}});var g=n("../utils/is")},{"../utils/is":933}],398:[function(n,a,r){function g(f,m,l,x){if(!(this instanceof g))throw new SyntaxError("Constructor must be called with the new operator");this.fn=f,this.count=m,this.min=l,this.max=x,this.message="Wrong number of arguments in function "+f+" ("+m+" provided, "+l+(x!=null?"-"+x:"")+" expected)",this.stack=new Error().stack}Object.defineProperty(r,"__esModule",{value:!0}),((r.ArgumentsError=g).prototype=new Error).constructor=Error,g.prototype.name="ArgumentsError",g.prototype.isArgumentsError=!0},{}],399:[function(n,a,r){function g(f,m,l){if(!(this instanceof g))throw new SyntaxError("Constructor must be called with the new operator");this.actual=f,this.expected=m,this.relation=l,this.message="Dimension mismatch ("+(Array.isArray(f)?"["+f.join(", ")+"]":f)+" "+(this.relation||"!=")+" "+(Array.isArray(m)?"["+m.join(", ")+"]":m)+")",this.stack=new Error().stack}Object.defineProperty(r,"__esModule",{value:!0}),((r.DimensionError=g).prototype=new RangeError).constructor=RangeError,g.prototype.name="DimensionError",g.prototype.isDimensionError=!0},{}],400:[function(n,a,r){function g(f,m,l){if(!(this instanceof g))throw new SyntaxError("Constructor must be called with the new operator");this.index=f,arguments.length<3?(this.min=0,this.max=m):(this.min=m,this.max=l),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Object.defineProperty(r,"__esModule",{value:!0}),((r.IndexError=g).prototype=new RangeError).constructor=RangeError,g.prototype.name="IndexError",g.prototype.isIndexError=!0},{}],401:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHelpClass=void 0;var g=n("../utils/is"),f=n("../utils/object"),m=n("../utils/string"),l=["parse"],x=(0,n("../utils/factory").factory)("Help",l,function(S){var D=S.parse;function h(_){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");if(!_)throw new Error('Argument "doc" missing');this.doc=_}return h.prototype.type="Help",h.prototype.isHelp=!0,h.prototype.toString=function(){var _=this.doc||{},o=`
`;if(_.name&&(o+="Name: "+_.name+`

`),_.category&&(o+="Category: "+_.category+`

`),_.description&&(o+=`Description:
    `+_.description+`

`),_.syntax&&(o+=`Syntax:
    `+_.syntax.join(`
    `)+`

`),_.examples){o+=`Examples:
`;for(var p={},b=0;b<_.examples.length;b++){var y=_.examples[b];o+="    "+y+`
`;var A=void 0;try{A=D(y).compile().evaluate(p)}catch(E){A=E}A===void 0||(0,g.isHelp)(A)||(o+="        "+(0,m.format)(A,{precision:14})+`
`)}o+=`
`}return _.seealso&&_.seealso.length&&(o+="See also: "+_.seealso.join(", ")+`
`),o},h.prototype.toJSON=function(){var _=(0,f.clone)(this.doc);return _.mathjs="Help",_},h.fromJSON=function(_){var o={};for(var p in _)p!=="mathjs"&&(o[p]=_[p]);return new h(o)},h.prototype.valueOf=h.prototype.toString,h},{isClass:!0});r.createHelpClass=x},{"../utils/factory":931,"../utils/is":933,"../utils/object":938,"../utils/string":941}],402:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createParserClass=void 0;var g=n("../utils/factory"),f=n("../utils/object"),m=n("../utils/customs"),l=n("../utils/log"),x=["parse"],S=(0,g.factory)("Parser",x,function(D){var h=D.parse;function _(){if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return _.prototype.type="Parser",_.prototype.isParser=!0,_.prototype.parse=function(o){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},_.prototype.compile=function(o){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},_.prototype.evaluate=function(o){return h(o).compile().evaluate(this.scope)},_.prototype.eval=function(o){return(0,l.warnOnce)("Method Parser.eval is renamed to Parser.evaluate. Please use the new method name."),this.evaluate(o)},_.prototype.get=function(o){return o in this.scope?(0,m.getSafeProperty)(this.scope,o):void 0},_.prototype.getAll=function(){return(0,f.extend)({},this.scope)},_.prototype.set=function(o,p){return(0,m.setSafeProperty)(this.scope,o,p)},_.prototype.remove=function(o){delete this.scope[o]},_.prototype.clear=function(){for(var o in this.scope)(0,f.hasOwnProperty)(this.scope,o)&&delete this.scope[o]},_},{isClass:!0});r.createParserClass=S},{"../utils/customs":929,"../utils/factory":931,"../utils/log":935,"../utils/object":938}],403:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.InfinityDocs=void 0,r.InfinityDocs={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},{}],404:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LN10Docs=void 0,r.LN10Docs={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},{}],405:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LN2Docs=void 0,r.LN2Docs={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},{}],406:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LOG10EDocs=void 0,r.LOG10EDocs={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},{}],407:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LOG2EDocs=void 0,r.LOG2EDocs={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},{}],408:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NaNDocs=void 0,r.NaNDocs={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},{}],409:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SQRT12Docs=void 0,r.SQRT12Docs={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},{}],410:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SQRT2Docs=void 0,r.SQRT2Docs={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},{}],411:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.eDocs=void 0,r.eDocs={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},{}],412:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.falseDocs=void 0,r.falseDocs={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},{}],413:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.iDocs=void 0,r.iDocs={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},{}],414:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nullDocs=void 0,r.nullDocs={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},{}],415:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.phiDocs=void 0,r.phiDocs={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]}},{}],416:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.piDocs=void 0,r.piDocs={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},{}],417:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tauDocs=void 0,r.tauDocs={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},{}],418:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.trueDocs=void 0,r.trueDocs={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},{}],419:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.versionDocs=void 0,r.versionDocs={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},{}],420:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bignumberDocs=void 0,r.bignumberDocs={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]}},{}],421:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.booleanDocs=void 0,r.booleanDocs={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},{}],422:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.complexDocs=void 0,r.complexDocs={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},{}],423:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUnitDocs=void 0,r.createUnitDocs={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]}},{}],424:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fractionDocs=void 0,r.fractionDocs={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},{}],425:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.indexDocs=void 0,r.indexDocs={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},{}],426:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.matrixDocs=void 0,r.matrixDocs={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]}},{}],427:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.numberDocs=void 0,r.numberDocs={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]}},{}],428:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sparseDocs=void 0,r.sparseDocs={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]}},{}],429:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.splitUnitDocs=void 0,r.splitUnitDocs={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]}},{}],430:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stringDocs=void 0,r.stringDocs={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},{}],431:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unitDocs=void 0,r.unitDocs={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},{}],432:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.configDocs=void 0,r.configDocs={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]}},{}],433:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.importDocs=void 0,r.importDocs={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]}},{}],434:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.typedDocs=void 0,r.typedDocs={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]}},{}],435:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.embeddedDocs=void 0;var g=n("./construction/bignumber"),f=n("./function/utils/typeOf"),m=n("./function/utils/isZero"),l=n("./function/utils/isPrime"),x=n("./function/utils/isPositive"),S=n("./function/utils/isNumeric"),D=n("./function/utils/hasNumericValue"),h=n("./function/utils/isNegative"),_=n("./function/utils/isInteger"),o=n("./function/utils/isNaN"),p=n("./function/utils/format"),b=n("./function/utils/clone"),y=n("./function/units/to"),A=n("./function/trigonometry/tanh"),E=n("./function/trigonometry/tan"),N=n("./function/trigonometry/sinh"),T=n("./function/trigonometry/sech"),O=n("./function/trigonometry/sec"),j=n("./function/trigonometry/csch"),M=n("./function/trigonometry/csc"),F=n("./function/trigonometry/coth"),B=n("./function/trigonometry/cot"),I=n("./function/trigonometry/cosh"),G=n("./function/trigonometry/cos"),k=n("./function/trigonometry/atan2"),V=n("./function/trigonometry/atanh"),R=n("./function/trigonometry/atan"),U=n("./function/trigonometry/asinh"),L=n("./function/trigonometry/asin"),H=n("./function/trigonometry/asech"),X=n("./function/trigonometry/asec"),Z=n("./function/trigonometry/acsch"),J=n("./function/trigonometry/acsc"),K=n("./function/trigonometry/acoth"),$=n("./function/trigonometry/acot"),W=n("./function/trigonometry/acosh"),Y=n("./function/trigonometry/acos"),te=n("./function/statistics/sum"),ce=n("./function/statistics/std"),oe=n("./function/statistics/quantileSeq"),ue=n("./function/statistics/prod"),Ce=n("./function/statistics/mode"),le=n("./function/statistics/min"),ye=n("./function/statistics/median"),ve=n("./function/statistics/mean"),pe=n("./function/statistics/max"),be=n("./function/statistics/mad"),Ne=n("./function/special/erf"),he=n("./function/set/setUnion"),ne=n("./function/set/setSymDifference"),re=n("./function/set/setSize"),de=n("./function/set/setPowerset"),xe=n("./function/set/setMultiplicity"),Pe=n("./function/set/setIsSubset"),Ae=n("./function/set/setIntersect"),Oe=n("./function/set/setDistinct"),Se=n("./function/set/setDifference"),Fe=n("./function/set/setCartesian"),$e=n("./function/relational/unequal"),Re=n("./function/relational/smallerEq"),qe=n("./function/relational/smaller"),ze=n("./function/relational/largerEq"),we=n("./function/relational/larger"),Ee=n("./function/relational/equalText"),Me=n("./function/relational/equal"),me=n("./function/relational/deepEqual"),Ge=n("./function/relational/compareText"),Xe=n("./function/relational/compareNatural"),rt=n("./function/relational/compare"),ut=n("./function/probability/randomInt"),ft=n("./function/probability/random"),pt=n("./function/probability/pickRandom"),ot=n("./function/probability/permutations"),bt=n("./function/probability/multinomial"),At=n("./function/probability/kldivergence"),Ke=n("./function/probability/gamma"),dt=n("./function/probability/factorial"),vt=n("./function/probability/combinations"),wt=n("./function/probability/combinationsWithRep"),Nt=n("./function/matrix/zeros"),Ot=n("./function/matrix/transpose"),Tt=n("./function/matrix/trace"),It=n("./function/matrix/subset"),Pt=n("./function/matrix/squeeze"),Rt=n("./function/matrix/sort"),Ft=n("./function/matrix/size"),Bt=n("./function/matrix/reshape"),Ut=n("./function/matrix/resize"),Xt=n("./function/matrix/range"),Zt=n("./function/matrix/partitionSelect"),Yt=n("./function/matrix/ones"),rn=n("./function/matrix/map"),Gt=n("./function/matrix/kron"),sn=n("./function/matrix/inv"),Je=n("./function/matrix/forEach"),Ct=n("./function/matrix/flatten"),_e=n("./function/matrix/filter"),je=n("./function/matrix/identity"),Ue=n("./function/matrix/getMatrixDataType"),Be=n("./function/matrix/dot"),He=n("./function/matrix/diag"),ke=n("./function/matrix/det"),Qe=n("./function/matrix/ctranspose"),et=n("./function/matrix/cross"),ct=n("./function/matrix/concat"),st=n("./function/logical/xor"),at=n("./function/logical/or"),St=n("./function/logical/not"),jt=n("./function/logical/and"),zt=n("./function/geometry/intersect"),$t=n("./function/geometry/distance"),Qt=n("./function/expression/help"),tn=n("./function/expression/evaluate"),an=n("./function/complex/im"),un=n("./function/complex/re"),bn=n("./function/complex/conj"),Un=n("./function/complex/arg"),tr=n("./core/typed"),Gn=n("./core/import"),nr=n("./core/config"),Bn=n("./function/combinatorics/stirlingS2"),Vn=n("./function/combinatorics/composition"),Jn=n("./function/combinatorics/catalan"),zn=n("./function/combinatorics/bellNumbers"),dn=n("./function/bitwise/rightLogShift"),on=n("./function/bitwise/rightArithShift"),_r=n("./function/bitwise/leftShift"),cr=n("./function/bitwise/bitXor"),ur=n("./function/bitwise/bitOr"),Wn=n("./function/bitwise/bitNot"),zr=n("./function/bitwise/bitAnd"),Gr=n("./function/arithmetic/xgcd"),lr=n("./function/arithmetic/unaryPlus"),Tn=n("./function/arithmetic/unaryMinus"),ti=n("./function/arithmetic/square"),Or=n("./function/arithmetic/sqrtm"),xr=n("./function/arithmetic/sqrt"),Pn=n("./function/arithmetic/sign"),hr=n("./function/arithmetic/round"),xn=n("./function/arithmetic/pow"),Pr=n("./function/arithmetic/nthRoots"),Vr=n("./function/arithmetic/nthRoot"),Ar=n("./function/arithmetic/norm"),wr=n("./function/arithmetic/multiply"),ni=n("./function/arithmetic/mod"),ri=n("./function/arithmetic/log10"),rr=n("./function/arithmetic/log1p"),Xn=n("./function/arithmetic/log2"),Yn=n("./function/arithmetic/log"),Rn=n("./function/arithmetic/lcm"),mr=n("./function/arithmetic/hypot"),$n=n("./function/arithmetic/gcd"),ir=n("./function/arithmetic/floor"),ii=n("./function/arithmetic/fix"),Zn=n("./function/arithmetic/expm1"),Dr=n("./function/arithmetic/expm"),$r=n("./function/matrix/eigs"),Hr=n("./function/arithmetic/exp"),qr=n("./function/arithmetic/dotMultiply"),Wr=n("./function/arithmetic/dotDivide"),jr=n("./function/arithmetic/divide"),dr=n("./function/arithmetic/cube"),Ir=n("./function/arithmetic/ceil"),Xr=n("./function/arithmetic/cbrt"),Qr=n("./function/arithmetic/add"),Sr=n("./function/arithmetic/abs"),Er=n("./function/algebra/qr"),Yr=n("./function/algebra/usolve"),Cr=n("./function/algebra/slu"),Zr=n("./function/algebra/rationalize"),Fr=n("./function/algebra/simplify"),Jr=n("./function/algebra/lup"),gr=n("./function/algebra/lsolve"),ar=n("./function/algebra/derivative"),Nr=n("./constants/version"),Br=n("./constants/true"),mn=n("./constants/tau"),Kn=n("./constants/SQRT2"),Vt=n("./constants/SQRT1_2"),yr=n("./constants/phi"),Mn=n("./constants/pi"),pr=n("./constants/null"),Kr=n("./constants/NaN"),si=n("./constants/LOG10E"),pn=n("./constants/LOG2E"),ei=n("./constants/LN10"),Rr=n("./constants/LN2"),Ln=n("./constants/Infinity"),Sn=n("./constants/i"),ai=n("./constants/false"),Tr=n("./constants/e"),oi=n("./construction/unit"),kr=n("./construction/string"),ci=n("./construction/splitUnit"),Lr=n("./construction/sparse"),_n=n("./construction/number"),vr=n("./construction/matrix"),Q=n("./construction"),ee=n("./construction/fraction"),se=n("./construction/createUnit"),ae=n("./construction/complex"),ge=n("./construction/boolean"),Te=n("./function/arithmetic/dotPow"),Ie=n("./function/algebra/lusolve"),Ve=n("./function/arithmetic/subtract"),Ze=n("./function/statistics/variance"),Ye=n("./function/trigonometry/sin"),it=n("./function/utils/numeric"),ht=n("./function/matrix/column"),lt=n("./function/matrix/row"),nt={bignumber:g.bignumberDocs,boolean:ge.booleanDocs,complex:ae.complexDocs,createUnit:se.createUnitDocs,fraction:ee.fractionDocs,index:Q.indexDocs,matrix:vr.matrixDocs,number:_n.numberDocs,sparse:Lr.sparseDocs,splitUnit:ci.splitUnitDocs,string:kr.stringDocs,unit:oi.unitDocs,e:Tr.eDocs,E:Tr.eDocs,false:ai.falseDocs,i:Sn.iDocs,Infinity:Ln.InfinityDocs,LN2:Rr.LN2Docs,LN10:ei.LN10Docs,LOG2E:pn.LOG2EDocs,LOG10E:si.LOG10EDocs,NaN:Kr.NaNDocs,null:pr.nullDocs,pi:Mn.piDocs,PI:Mn.piDocs,phi:yr.phiDocs,SQRT1_2:Vt.SQRT12Docs,SQRT2:Kn.SQRT2Docs,tau:mn.tauDocs,true:Br.trueDocs,version:Nr.versionDocs,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:ar.derivativeDocs,lsolve:gr.lsolveDocs,lup:Jr.lupDocs,lusolve:Ie.lusolveDocs,simplify:Fr.simplifyDocs,rationalize:Zr.rationalizeDocs,slu:Cr.sluDocs,usolve:Yr.usolveDocs,qr:Er.qrDocs,abs:Sr.absDocs,add:Qr.addDocs,cbrt:Xr.cbrtDocs,ceil:Ir.ceilDocs,cube:dr.cubeDocs,divide:jr.divideDocs,dotDivide:Wr.dotDivideDocs,dotMultiply:qr.dotMultiplyDocs,dotPow:Te.dotPowDocs,exp:Hr.expDocs,expm:Dr.expmDocs,expm1:Zn.expm1Docs,fix:ii.fixDocs,floor:ir.floorDocs,gcd:$n.gcdDocs,hypot:mr.hypotDocs,lcm:Rn.lcmDocs,log:Yn.logDocs,log2:Xn.log2Docs,log1p:rr.log1pDocs,log10:ri.log10Docs,mod:ni.modDocs,multiply:wr.multiplyDocs,norm:Ar.normDocs,nthRoot:Vr.nthRootDocs,nthRoots:Pr.nthRootsDocs,pow:xn.powDocs,round:hr.roundDocs,sign:Pn.signDocs,sqrt:xr.sqrtDocs,sqrtm:Or.sqrtmDocs,square:ti.squareDocs,subtract:Ve.subtractDocs,unaryMinus:Tn.unaryMinusDocs,unaryPlus:lr.unaryPlusDocs,xgcd:Gr.xgcdDocs,bitAnd:zr.bitAndDocs,bitNot:Wn.bitNotDocs,bitOr:ur.bitOrDocs,bitXor:cr.bitXorDocs,leftShift:_r.leftShiftDocs,rightArithShift:on.rightArithShiftDocs,rightLogShift:dn.rightLogShiftDocs,bellNumbers:zn.bellNumbersDocs,catalan:Jn.catalanDocs,composition:Vn.compositionDocs,stirlingS2:Bn.stirlingS2Docs,config:nr.configDocs,import:Gn.importDocs,typed:tr.typedDocs,arg:Un.argDocs,conj:bn.conjDocs,re:un.reDocs,im:an.imDocs,evaluate:tn.evaluateDocs,eval:tn.evaluateDocs,help:Qt.helpDocs,distance:$t.distanceDocs,intersect:zt.intersectDocs,and:jt.andDocs,not:St.notDocs,or:at.orDocs,xor:st.xorDocs,concat:ct.concatDocs,cross:et.crossDocs,column:ht.columnDocs,ctranspose:Qe.ctransposeDocs,det:ke.detDocs,diag:He.diagDocs,dot:Be.dotDocs,getMatrixDataType:Ue.getMatrixDataTypeDocs,identity:je.identityDocs,filter:_e.filterDocs,flatten:Ct.flattenDocs,forEach:Je.forEachDocs,inv:sn.invDocs,eigs:$r.eigsDocs,kron:Gt.kronDocs,map:rn.mapDocs,ones:Yt.onesDocs,partitionSelect:Zt.partitionSelectDocs,range:Xt.rangeDocs,resize:Ut.resizeDocs,reshape:Bt.reshapeDocs,row:lt.rowDocs,size:Ft.sizeDocs,sort:Rt.sortDocs,squeeze:Pt.squeezeDocs,subset:It.subsetDocs,trace:Tt.traceDocs,transpose:Ot.transposeDocs,zeros:Nt.zerosDocs,combinations:vt.combinationsDocs,combinationsWithRep:wt.combinationsWithRepDocs,factorial:dt.factorialDocs,gamma:Ke.gammaDocs,kldivergence:At.kldivergenceDocs,multinomial:bt.multinomialDocs,permutations:ot.permutationsDocs,pickRandom:pt.pickRandomDocs,random:ft.randomDocs,randomInt:ut.randomIntDocs,compare:rt.compareDocs,compareNatural:Xe.compareNaturalDocs,compareText:Ge.compareTextDocs,deepEqual:me.deepEqualDocs,equal:Me.equalDocs,equalText:Ee.equalTextDocs,larger:we.largerDocs,largerEq:ze.largerEqDocs,smaller:qe.smallerDocs,smallerEq:Re.smallerEqDocs,unequal:$e.unequalDocs,setCartesian:Fe.setCartesianDocs,setDifference:Se.setDifferenceDocs,setDistinct:Oe.setDistinctDocs,setIntersect:Ae.setIntersectDocs,setIsSubset:Pe.setIsSubsetDocs,setMultiplicity:xe.setMultiplicityDocs,setPowerset:de.setPowersetDocs,setSize:re.setSizeDocs,setSymDifference:ne.setSymDifferenceDocs,setUnion:he.setUnionDocs,erf:Ne.erfDocs,mad:be.madDocs,max:pe.maxDocs,mean:ve.meanDocs,median:ye.medianDocs,min:le.minDocs,mode:Ce.modeDocs,prod:ue.prodDocs,quantileSeq:oe.quantileSeqDocs,std:ce.stdDocs,sum:te.sumDocs,variance:Ze.varianceDocs,var:Ze.varianceDocs,acos:Y.acosDocs,acosh:W.acoshDocs,acot:$.acotDocs,acoth:K.acothDocs,acsc:J.acscDocs,acsch:Z.acschDocs,asec:X.asecDocs,asech:H.asechDocs,asin:L.asinDocs,asinh:U.asinhDocs,atan:R.atanDocs,atanh:V.atanhDocs,atan2:k.atan2Docs,cos:G.cosDocs,cosh:I.coshDocs,cot:B.cotDocs,coth:F.cothDocs,csc:M.cscDocs,csch:j.cschDocs,sec:O.secDocs,sech:T.sechDocs,sin:Ye.sinDocs,sinh:N.sinhDocs,tan:E.tanDocs,tanh:A.tanhDocs,to:y.toDocs,clone:b.cloneDocs,format:p.formatDocs,isNaN:o.isNaNDocs,isInteger:_.isIntegerDocs,isNegative:h.isNegativeDocs,isNumeric:S.isNumericDocs,hasNumericValue:D.hasNumericValueDocs,isPositive:x.isPositiveDocs,isPrime:l.isPrimeDocs,isZero:m.isZeroDocs,typeOf:f.typeOfDocs,typeof:f.typeOfDocs,numeric:it.numericDocs};r.embeddedDocs=nt},{"./constants/Infinity":403,"./constants/LN10":404,"./constants/LN2":405,"./constants/LOG10E":406,"./constants/LOG2E":407,"./constants/NaN":408,"./constants/SQRT1_2":409,"./constants/SQRT2":410,"./constants/e":411,"./constants/false":412,"./constants/i":413,"./constants/null":414,"./constants/phi":415,"./constants/pi":416,"./constants/tau":417,"./constants/true":418,"./constants/version":419,"./construction":425,"./construction/bignumber":420,"./construction/boolean":421,"./construction/complex":422,"./construction/createUnit":423,"./construction/fraction":424,"./construction/matrix":426,"./construction/number":427,"./construction/sparse":428,"./construction/splitUnit":429,"./construction/string":430,"./construction/unit":431,"./core/config":432,"./core/import":433,"./core/typed":434,"./function/algebra/derivative":436,"./function/algebra/lsolve":437,"./function/algebra/lup":438,"./function/algebra/lusolve":439,"./function/algebra/qr":440,"./function/algebra/rationalize":441,"./function/algebra/simplify":442,"./function/algebra/slu":443,"./function/algebra/usolve":444,"./function/arithmetic/abs":445,"./function/arithmetic/add":446,"./function/arithmetic/cbrt":447,"./function/arithmetic/ceil":448,"./function/arithmetic/cube":449,"./function/arithmetic/divide":450,"./function/arithmetic/dotDivide":451,"./function/arithmetic/dotMultiply":452,"./function/arithmetic/dotPow":453,"./function/arithmetic/exp":454,"./function/arithmetic/expm":455,"./function/arithmetic/expm1":456,"./function/arithmetic/fix":457,"./function/arithmetic/floor":458,"./function/arithmetic/gcd":459,"./function/arithmetic/hypot":460,"./function/arithmetic/lcm":461,"./function/arithmetic/log":462,"./function/arithmetic/log10":463,"./function/arithmetic/log1p":464,"./function/arithmetic/log2":465,"./function/arithmetic/mod":466,"./function/arithmetic/multiply":467,"./function/arithmetic/norm":468,"./function/arithmetic/nthRoot":469,"./function/arithmetic/nthRoots":470,"./function/arithmetic/pow":471,"./function/arithmetic/round":472,"./function/arithmetic/sign":473,"./function/arithmetic/sqrt":474,"./function/arithmetic/sqrtm":475,"./function/arithmetic/square":476,"./function/arithmetic/subtract":477,"./function/arithmetic/unaryMinus":478,"./function/arithmetic/unaryPlus":479,"./function/arithmetic/xgcd":480,"./function/bitwise/bitAnd":481,"./function/bitwise/bitNot":482,"./function/bitwise/bitOr":483,"./function/bitwise/bitXor":484,"./function/bitwise/leftShift":485,"./function/bitwise/rightArithShift":486,"./function/bitwise/rightLogShift":487,"./function/combinatorics/bellNumbers":488,"./function/combinatorics/catalan":489,"./function/combinatorics/composition":490,"./function/combinatorics/stirlingS2":491,"./function/complex/arg":492,"./function/complex/conj":493,"./function/complex/im":494,"./function/complex/re":495,"./function/expression/evaluate":496,"./function/expression/help":497,"./function/geometry/distance":498,"./function/geometry/intersect":499,"./function/logical/and":500,"./function/logical/not":501,"./function/logical/or":502,"./function/logical/xor":503,"./function/matrix/column":504,"./function/matrix/concat":505,"./function/matrix/cross":506,"./function/matrix/ctranspose":507,"./function/matrix/det":508,"./function/matrix/diag":509,"./function/matrix/dot":510,"./function/matrix/eigs":511,"./function/matrix/filter":512,"./function/matrix/flatten":513,"./function/matrix/forEach":514,"./function/matrix/getMatrixDataType":515,"./function/matrix/identity":516,"./function/matrix/inv":517,"./function/matrix/kron":518,"./function/matrix/map":519,"./function/matrix/ones":520,"./function/matrix/partitionSelect":521,"./function/matrix/range":522,"./function/matrix/reshape":523,"./function/matrix/resize":524,"./function/matrix/row":525,"./function/matrix/size":526,"./function/matrix/sort":527,"./function/matrix/squeeze":528,"./function/matrix/subset":529,"./function/matrix/trace":530,"./function/matrix/transpose":531,"./function/matrix/zeros":532,"./function/probability/combinations":533,"./function/probability/combinationsWithRep":534,"./function/probability/factorial":535,"./function/probability/gamma":536,"./function/probability/kldivergence":537,"./function/probability/multinomial":538,"./function/probability/permutations":539,"./function/probability/pickRandom":540,"./function/probability/random":541,"./function/probability/randomInt":542,"./function/relational/compare":543,"./function/relational/compareNatural":544,"./function/relational/compareText":545,"./function/relational/deepEqual":546,"./function/relational/equal":547,"./function/relational/equalText":548,"./function/relational/larger":549,"./function/relational/largerEq":550,"./function/relational/smaller":551,"./function/relational/smallerEq":552,"./function/relational/unequal":553,"./function/set/setCartesian":554,"./function/set/setDifference":555,"./function/set/setDistinct":556,"./function/set/setIntersect":557,"./function/set/setIsSubset":558,"./function/set/setMultiplicity":559,"./function/set/setPowerset":560,"./function/set/setSize":561,"./function/set/setSymDifference":562,"./function/set/setUnion":563,"./function/special/erf":564,"./function/statistics/mad":565,"./function/statistics/max":566,"./function/statistics/mean":567,"./function/statistics/median":568,"./function/statistics/min":569,"./function/statistics/mode":570,"./function/statistics/prod":571,"./function/statistics/quantileSeq":572,"./function/statistics/std":573,"./function/statistics/sum":574,"./function/statistics/variance":575,"./function/trigonometry/acos":576,"./function/trigonometry/acosh":577,"./function/trigonometry/acot":578,"./function/trigonometry/acoth":579,"./function/trigonometry/acsc":580,"./function/trigonometry/acsch":581,"./function/trigonometry/asec":582,"./function/trigonometry/asech":583,"./function/trigonometry/asin":584,"./function/trigonometry/asinh":585,"./function/trigonometry/atan":586,"./function/trigonometry/atan2":587,"./function/trigonometry/atanh":588,"./function/trigonometry/cos":589,"./function/trigonometry/cosh":590,"./function/trigonometry/cot":591,"./function/trigonometry/coth":592,"./function/trigonometry/csc":593,"./function/trigonometry/csch":594,"./function/trigonometry/sec":595,"./function/trigonometry/sech":596,"./function/trigonometry/sin":597,"./function/trigonometry/sinh":598,"./function/trigonometry/tan":599,"./function/trigonometry/tanh":600,"./function/units/to":601,"./function/utils/clone":602,"./function/utils/format":603,"./function/utils/hasNumericValue":604,"./function/utils/isInteger":605,"./function/utils/isNaN":606,"./function/utils/isNegative":607,"./function/utils/isNumeric":608,"./function/utils/isPositive":609,"./function/utils/isPrime":610,"./function/utils/isZero":611,"./function/utils/numeric":612,"./function/utils/typeOf":613}],436:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.derivativeDocs=void 0,r.derivativeDocs={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]}},{}],437:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lsolveDocs=void 0,r.lsolveDocs={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]}},{}],438:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lupDocs=void 0,r.lupDocs={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]}},{}],439:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lusolveDocs=void 0,r.lusolveDocs={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]}},{}],440:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.qrDocs=void 0,r.qrDocs={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]}},{}],441:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rationalizeDocs=void 0,r.rationalizeDocs={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]}},{}],442:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.simplifyDocs=void 0,r.simplifyDocs={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["derivative","parse","evaluate"]}},{}],443:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sluDocs=void 0,r.sluDocs={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]}},{}],444:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.usolveDocs=void 0,r.usolveDocs={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]}},{}],445:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.absDocs=void 0,r.absDocs={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},{}],446:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.addDocs=void 0,r.addDocs={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]}},{}],447:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cbrtDocs=void 0,r.cbrtDocs={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]}},{}],448:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ceilDocs=void 0,r.ceilDocs={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},{}],449:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cubeDocs=void 0,r.cubeDocs={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},{}],450:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.divideDocs=void 0,r.divideDocs={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},{}],451:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dotDivideDocs=void 0,r.dotDivideDocs={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},{}],452:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dotMultiplyDocs=void 0,r.dotMultiplyDocs={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},{}],453:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dotPowDocs=void 0,r.dotPowDocs={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},{}],454:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expDocs=void 0,r.expDocs={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]}},{}],455:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expmDocs=void 0,r.expmDocs={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]}},{}],456:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expm1Docs=void 0,r.expm1Docs={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]}},{}],457:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fixDocs=void 0,r.fixDocs={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},{}],458:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.floorDocs=void 0,r.floorDocs={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},{}],459:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.gcdDocs=void 0,r.gcdDocs={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},{}],460:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hypotDocs=void 0,r.hypotDocs={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]}},{}],461:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lcmDocs=void 0,r.lcmDocs={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},{}],462:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.logDocs=void 0,r.logDocs={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]}},{}],463:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.log10Docs=void 0,r.log10Docs={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},{}],464:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.log1pDocs=void 0,r.log1pDocs={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]}},{}],465:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.log2Docs=void 0,r.log2Docs={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]}},{}],466:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.modDocs=void 0,r.modDocs={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},{}],467:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.multiplyDocs=void 0,r.multiplyDocs={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},{}],468:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.normDocs=void 0,r.normDocs={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']}},{}],469:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nthRootDocs=void 0,r.nthRootDocs={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]}},{}],470:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nthRootsDocs=void 0,r.nthRootsDocs={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]}},{}],471:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.powDocs=void 0,r.powDocs={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]}},{}],472:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.roundDocs=void 0,r.roundDocs={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},{}],473:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.signDocs=void 0,r.signDocs={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},{}],474:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sqrtDocs=void 0,r.sqrtDocs={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]}},{}],475:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sqrtmDocs=void 0,r.sqrtmDocs={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]}},{}],476:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.squareDocs=void 0,r.squareDocs={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},{}],477:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.subtractDocs=void 0,r.subtractDocs={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},{}],478:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unaryMinusDocs=void 0,r.unaryMinusDocs={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},{}],479:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unaryPlusDocs=void 0,r.unaryPlusDocs={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},{}],480:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.xgcdDocs=void 0,r.xgcdDocs={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},{}],481:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitAndDocs=void 0,r.bitAndDocs={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},{}],482:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitNotDocs=void 0,r.bitNotDocs={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},{}],483:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitOrDocs=void 0,r.bitOrDocs={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},{}],484:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitXorDocs=void 0,r.bitXorDocs={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},{}],485:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.leftShiftDocs=void 0,r.leftShiftDocs={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},{}],486:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rightArithShiftDocs=void 0,r.rightArithShiftDocs={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},{}],487:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rightLogShiftDocs=void 0,r.rightLogShiftDocs={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},{}],488:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bellNumbersDocs=void 0,r.bellNumbersDocs={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}},{}],489:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.catalanDocs=void 0,r.catalanDocs={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]}},{}],490:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compositionDocs=void 0,r.compositionDocs={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}},{}],491:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stirlingS2Docs=void 0,r.stirlingS2Docs={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}},{}],492:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.argDocs=void 0,r.argDocs={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},{}],493:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.conjDocs=void 0,r.conjDocs={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},{}],494:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.imDocs=void 0,r.imDocs={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},{}],495:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reDocs=void 0,r.reDocs={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},{}],496:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.evaluateDocs=void 0,r.evaluateDocs={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]}},{}],497:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.helpDocs=void 0,r.helpDocs={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},{}],498:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.distanceDocs=void 0,r.distanceDocs={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]}},{}],499:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.intersectDocs=void 0,r.intersectDocs={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]}},{}],500:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.andDocs=void 0,r.andDocs={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},{}],501:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.notDocs=void 0,r.notDocs={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]}},{}],502:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.orDocs=void 0,r.orDocs={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},{}],503:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.xorDocs=void 0,r.xorDocs={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]}},{}],504:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.columnDocs=void 0,r.columnDocs={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row"]}},{}],505:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.concatDocs=void 0,r.concatDocs={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],506:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crossDocs=void 0,r.crossDocs={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},{}],507:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ctransposeDocs=void 0,r.ctransposeDocs={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]}},{}],508:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.detDocs=void 0,r.detDocs={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],509:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.diagDocs=void 0,r.diagDocs={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],510:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dotDocs=void 0,r.dotDocs={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},{}],511:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.eigsDocs=void 0,r.eigsDocs={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]}},{}],512:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.filterDocs=void 0,r.filterDocs={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},{}],513:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.flattenDocs=void 0,r.flattenDocs={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},{}],514:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.forEachDocs=void 0,r.forEachDocs={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},{}],515:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getMatrixDataTypeDocs=void 0,r.getMatrixDataTypeDocs={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]}},{}],516:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.identityDocs=void 0,r.identityDocs={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],517:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.invDocs=void 0,r.invDocs={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],518:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.kronDocs=void 0,r.kronDocs={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]}},{}],519:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mapDocs=void 0,r.mapDocs={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]}},{}],520:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.onesDocs=void 0,r.onesDocs={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],521:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.partitionSelectDocs=void 0,r.partitionSelectDocs={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}},{}],522:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rangeDocs=void 0,r.rangeDocs={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},{}],523:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reshapeDocs=void 0,r.reshapeDocs={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]}},{}],524:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.resizeDocs=void 0,r.resizeDocs={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]}},{}],525:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rowDocs=void 0,r.rowDocs={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column"]}},{}],526:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sizeDocs=void 0,r.sizeDocs={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},{}],527:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sortDocs=void 0,r.sortDocs={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]}},{}],528:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.squeezeDocs=void 0,r.squeezeDocs={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]}},{}],529:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.subsetDocs=void 0,r.subsetDocs={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},{}],530:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.traceDocs=void 0,r.traceDocs={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},{}],531:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.transposeDocs=void 0,r.transposeDocs={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]}},{}],532:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.zerosDocs=void 0,r.zerosDocs={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]}},{}],533:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.combinationsDocs=void 0,r.combinationsDocs={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]}},{}],534:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.combinationsWithRepDocs=void 0,r.combinationsWithRepDocs={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]}},{}],535:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.factorialDocs=void 0,r.factorialDocs={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]}},{}],536:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.gammaDocs=void 0,r.gammaDocs={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},{}],537:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.kldivergenceDocs=void 0,r.kldivergenceDocs={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]}},{}],538:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.multinomialDocs=void 0,r.multinomialDocs={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}},{}],539:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.permutationsDocs=void 0,r.permutationsDocs={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]}},{}],540:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.pickRandomDocs=void 0,r.pickRandomDocs={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]}},{}],541:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomDocs=void 0,r.randomDocs={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},{}],542:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomIntDocs=void 0,r.randomIntDocs={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]}},{}],543:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compareDocs=void 0,r.compareDocs={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]}},{}],544:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compareNaturalDocs=void 0,r.compareNaturalDocs={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]}},{}],545:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compareTextDocs=void 0,r.compareTextDocs={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]}},{}],546:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deepEqualDocs=void 0,r.deepEqualDocs={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},{}],547:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.equalDocs=void 0,r.equalDocs={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]}},{}],548:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.equalTextDocs=void 0,r.equalTextDocs={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]}},{}],549:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.largerDocs=void 0,r.largerDocs={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},{}],550:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.largerEqDocs=void 0,r.largerEqDocs={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]}},{}],551:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.smallerDocs=void 0,r.smallerDocs={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},{}],552:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.smallerEqDocs=void 0,r.smallerEqDocs={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},{}],553:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unequalDocs=void 0,r.unequalDocs={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},{}],554:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setCartesianDocs=void 0,r.setCartesianDocs={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]}},{}],555:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setDifferenceDocs=void 0,r.setDifferenceDocs={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]}},{}],556:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setDistinctDocs=void 0,r.setDistinctDocs={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]}},{}],557:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setIntersectDocs=void 0,r.setIntersectDocs={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]}},{}],558:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setIsSubsetDocs=void 0,r.setIsSubsetDocs={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]}},{}],559:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setMultiplicityDocs=void 0,r.setMultiplicityDocs={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]}},{}],560:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setPowersetDocs=void 0,r.setPowersetDocs={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]}},{}],561:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setSizeDocs=void 0,r.setSizeDocs={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]}},{}],562:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setSymDifferenceDocs=void 0,r.setSymDifferenceDocs={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]}},{}],563:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setUnionDocs=void 0,r.setUnionDocs={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]}},{}],564:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.erfDocs=void 0,r.erfDocs={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]}},{}],565:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.madDocs=void 0,r.madDocs={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]}},{}],566:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.maxDocs=void 0,r.maxDocs={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]}},{}],567:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.meanDocs=void 0,r.meanDocs={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]}},{}],568:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.medianDocs=void 0,r.medianDocs={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]}},{}],569:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.minDocs=void 0,r.minDocs={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]}},{}],570:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.modeDocs=void 0,r.modeDocs={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]}},{}],571:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.prodDocs=void 0,r.prodDocs={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]}},{}],572:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.quantileSeqDocs=void 0,r.quantileSeqDocs={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]}},{}],573:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stdDocs=void 0,r.stdDocs={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]}},{}],574:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sumDocs=void 0,r.sumDocs={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]}},{}],575:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.varianceDocs=void 0,r.varianceDocs={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},{}],576:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acosDocs=void 0,r.acosDocs={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},{}],577:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acoshDocs=void 0,r.acoshDocs={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}},{}],578:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acotDocs=void 0,r.acotDocs={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}},{}],579:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acothDocs=void 0,r.acothDocs={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]}},{}],580:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acscDocs=void 0,r.acscDocs={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]}},{}],581:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acschDocs=void 0,r.acschDocs={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}},{}],582:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asecDocs=void 0,r.asecDocs={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}},{}],583:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asechDocs=void 0,r.asechDocs={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}},{}],584:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asinDocs=void 0,r.asinDocs={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]}},{}],585:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asinhDocs=void 0,r.asinhDocs={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}},{}],586:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.atanDocs=void 0,r.atanDocs={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]}},{}],587:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.atan2Docs=void 0,r.atan2Docs={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},{}],588:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.atanhDocs=void 0,r.atanhDocs={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}},{}],589:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cosDocs=void 0,r.cosDocs={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},{}],590:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.coshDocs=void 0,r.coshDocs={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},{}],591:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cotDocs=void 0,r.cotDocs={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},{}],592:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cothDocs=void 0,r.cothDocs={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},{}],593:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cscDocs=void 0,r.cscDocs={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},{}],594:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cschDocs=void 0,r.cschDocs={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},{}],595:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.secDocs=void 0,r.secDocs={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},{}],596:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sechDocs=void 0,r.sechDocs={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},{}],597:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sinDocs=void 0,r.sinDocs={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},{}],598:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sinhDocs=void 0,r.sinhDocs={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},{}],599:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tanDocs=void 0,r.tanDocs={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},{}],600:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tanhDocs=void 0,r.tanhDocs={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},{}],601:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toDocs=void 0,r.toDocs={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},{}],602:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cloneDocs=void 0,r.cloneDocs={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},{}],603:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.formatDocs=void 0,r.formatDocs={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},{}],604:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hasNumericValueDocs=void 0,r.hasNumericValueDocs={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]}},{}],605:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isIntegerDocs=void 0,r.isIntegerDocs={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},{}],606:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNaNDocs=void 0,r.isNaNDocs={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},{}],607:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNegativeDocs=void 0,r.isNegativeDocs={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]}},{}],608:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNumericDocs=void 0,r.isNumericDocs={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]}},{}],609:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isPositiveDocs=void 0,r.isPositiveDocs={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},{}],610:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isPrimeDocs=void 0,r.isPrimeDocs={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},{}],611:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isZeroDocs=void 0,r.isZeroDocs={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]}},{}],612:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.numericDocs=void 0,r.numericDocs={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]}},{}],613:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.typeOfDocs=void 0,r.typeOfDocs={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]}},{}],614:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCompile=void 0;var g=n("../../utils/collection"),f=n("../../utils/factory"),m=["typed","parse"],l=(0,f.factory)("compile",m,function(x){var S=x.typed,D=x.parse;return S("compile",{string:function(h){return D(h).compile()},"Array | Matrix":function(h){return(0,g.deepMap)(h,function(_){return D(_).compile()})}})});r.createCompile=l},{"../../utils/collection":927,"../../utils/factory":931}],615:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeprecatedEval=void 0;var g=n("../../utils/factory"),f=n("../../utils/log"),m=(0,g.factory)("eval",["evaluate"],function(l){var x=l.evaluate;return function(){(0,f.warnOnce)('Function "eval" has been renamed to "evaluate" in v6.0.0, please use the new function instead.');for(var S=arguments.length,D=new Array(S),h=0;h<S;h++)D[h]=arguments[h];return x.apply(x,D)}});r.createDeprecatedEval=m},{"../../utils/factory":931,"../../utils/log":935}],616:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createEvaluate=void 0;var g=n("../../utils/collection"),f=n("../../utils/factory"),m=["typed","parse"],l=(0,f.factory)("evaluate",m,function(x){var S=x.typed,D=x.parse;return S("evaluate",{string:function(h){return D(h).compile().evaluate({})},"string, Object":function(h,_){return D(h).compile().evaluate(_)},"Array | Matrix":function(h){var _={};return(0,g.deepMap)(h,function(o){return D(o).compile().evaluate(_)})},"Array | Matrix, Object":function(h,_){return(0,g.deepMap)(h,function(o){return D(o).compile().evaluate(_)})}})});r.createEvaluate=l},{"../../utils/collection":927,"../../utils/factory":931}],617:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHelp=void 0;var g=n("../../utils/factory"),f=n("../../utils/customs"),m=n("../embeddedDocs/embeddedDocs"),l=n("../../utils/object"),x=["typed","mathWithTransform","Help"],S=(0,g.factory)("help",x,function(D){var h=D.typed,_=D.mathWithTransform,o=D.Help;return h("help",{any:function(p){var b,y=p;if(typeof p!="string"){for(b in _)if((0,l.hasOwnProperty)(_,b)&&p===_[b]){y=b;break}}var A=(0,f.getSafeProperty)(m.embeddedDocs,y);if(A)return new o(A);var E=typeof y=="function"?y.name:y;throw new Error('No documentation found on "'+E+'"')}})});r.createHelp=S},{"../../utils/customs":929,"../../utils/factory":931,"../../utils/object":938,"../embeddedDocs/embeddedDocs":435}],618:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createParser=void 0;var g=n("../../utils/factory"),f=["typed","Parser"],m=(0,g.factory)("parser",f,function(l){var x=l.typed,S=l.Parser;return x("parser",{"":function(){return new S}})});r.createParser=m},{"../../utils/factory":931}],619:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.keywords=void 0,r.keywords={end:!0}},{}],620:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAccessorNode=void 0;var g=n("../../utils/is"),f=n("../../utils/customs"),m=n("../../utils/factory"),l=n("./utils/access"),x=["subset","Node"],S=(0,m.factory)("AccessorNode",x,function(D){var h=D.subset,_=D.Node,o=(0,l.accessFactory)({subset:h});function p(y,A){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(!(0,g.isNode)(y))throw new TypeError('Node expected for parameter "object"');if(!(0,g.isIndexNode)(A))throw new TypeError('IndexNode expected for parameter "index"');this.object=y||null,this.index=A,Object.defineProperty(this,"name",{get:(function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}).bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function b(y){return!((0,g.isAccessorNode)(y)||(0,g.isArrayNode)(y)||(0,g.isConstantNode)(y)||(0,g.isFunctionNode)(y)||(0,g.isObjectNode)(y)||(0,g.isParenthesisNode)(y)||(0,g.isSymbolNode)(y))}return(p.prototype=new _).type="AccessorNode",p.prototype.isAccessorNode=!0,p.prototype._compile=function(y,A){var E=this.object._compile(y,A),N=this.index._compile(y,A);if(this.index.isObjectProperty()){var T=this.index.getObjectProperty();return function(O,j,M){return(0,f.getSafeProperty)(E(O,j,M),T)}}return function(O,j,M){var F=E(O,j,M),B=N(O,j,F);return o(F,B)}},p.prototype.forEach=function(y){y(this.object,"object",this),y(this.index,"index",this)},p.prototype.map=function(y){return new p(this._ifNode(y(this.object,"object",this)),this._ifNode(y(this.index,"index",this)))},p.prototype.clone=function(){return new p(this.object,this.index)},p.prototype._toString=function(y){var A=this.object.toString(y);return b(this.object)&&(A="("+A+")"),A+this.index.toString(y)},p.prototype.toHTML=function(y){var A=this.object.toHTML(y);return b(this.object)&&(A='<span class="math-parenthesis math-round-parenthesis">(</span>'+A+'<span class="math-parenthesis math-round-parenthesis">)</span>'),A+this.index.toHTML(y)},p.prototype._toTex=function(y){var A=this.object.toTex(y);return b(this.object)&&(A="\\left(' + object + '\\right)"),A+this.index.toTex(y)},p.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},p.fromJSON=function(y){return new p(y.object,y.index)},p},{isClass:!0,isNode:!0});r.createAccessorNode=S},{"../../utils/customs":929,"../../utils/factory":931,"../../utils/is":933,"./utils/access":636}],621:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createArrayNode=void 0;var g=n("../../utils/is"),f=n("../../utils/array"),m=["Node"],l=(0,n("../../utils/factory").factory)("ArrayNode",m,function(x){var S=x.Node;function D(h){if(!(this instanceof D))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=h||[],!Array.isArray(this.items)||!this.items.every(g.isNode))throw new TypeError("Array containing Nodes expected");var _=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:_,set:_})}return(D.prototype=new S).type="ArrayNode",D.prototype.isArrayNode=!0,D.prototype._compile=function(h,_){var o=(0,f.map)(this.items,function(b){return b._compile(h,_)});if(h.config.matrix==="Array")return function(b,y,A){return(0,f.map)(o,function(E){return E(b,y,A)})};var p=h.matrix;return function(b,y,A){return p((0,f.map)(o,function(E){return E(b,y,A)}))}},D.prototype.forEach=function(h){for(var _=0;_<this.items.length;_++)h(this.items[_],"items["+_+"]",this)},D.prototype.map=function(h){for(var _=[],o=0;o<this.items.length;o++)_[o]=this._ifNode(h(this.items[o],"items["+o+"]",this));return new D(_)},D.prototype.clone=function(){return new D(this.items.slice(0))},D.prototype._toString=function(h){return"["+this.items.map(function(_){return _.toString(h)}).join(", ")+"]"},D.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},D.fromJSON=function(h){return new D(h.items)},D.prototype.toHTML=function(h){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(_){return _.toHTML(h)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},D.prototype._toTex=function(h){var _="\\begin{bmatrix}";return this.items.forEach(function(o){o.items?_+=o.items.map(function(p){return p.toTex(h)}).join("&"):_+=o.toTex(h),_+="\\\\"}),_+="\\end{bmatrix}"},D},{isClass:!0,isNode:!0});r.createArrayNode=l},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933}],622:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAssignmentNode=void 0;var g=n("../../utils/is"),f=n("../../utils/customs"),m=n("../../utils/factory"),l=n("./utils/access"),x=n("./utils/assign"),S=n("../operators"),D=["subset","?matrix","Node"],h=(0,m.factory)("AssignmentNode",D,function(_){var o=_.subset,p=_.matrix,b=_.Node,y=(0,l.accessFactory)({subset:o}),A=(0,x.assignFactory)({subset:o,matrix:p});function E(T,O,j){if(!(this instanceof E))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=T,this.index=j?O:null,this.value=j||O,!(0,g.isSymbolNode)(T)&&!(0,g.isAccessorNode)(T))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if((0,g.isSymbolNode)(T)&&T.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!(0,g.isIndexNode)(this.index))throw new TypeError('IndexNode expected as "index"');if(!(0,g.isNode)(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:(function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}).bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function N(T,O){O=O||"keep";var j=(0,S.getPrecedence)(T,O),M=(0,S.getPrecedence)(T.value,O);return O==="all"||M!==null&&M<=j}return(E.prototype=new b).type="AssignmentNode",E.prototype.isAssignmentNode=!0,E.prototype._compile=function(T,O){var j=this.object._compile(T,O),M=this.index?this.index._compile(T,O):null,F=this.value._compile(T,O),B=this.object.name;if(this.index){if(this.index.isObjectProperty()){var I=this.index.getObjectProperty();return function(R,U,L){var H=j(R,U,L),X=F(R,U,L);return(0,f.setSafeProperty)(H,I,X)}}if((0,g.isSymbolNode)(this.object))return function(R,U,L){var H=j(R,U,L),X=F(R,U,L),Z=M(R,U,H);return(0,f.setSafeProperty)(R,B,A(H,Z,X)),X};var G=this.object.object._compile(T,O);if(this.object.index.isObjectProperty()){var k=this.object.index.getObjectProperty();return function(R,U,L){var H=G(R,U,L),X=(0,f.getSafeProperty)(H,k),Z=M(R,U,X),J=F(R,U,L);return(0,f.setSafeProperty)(H,k,A(X,Z,J)),J}}var V=this.object.index._compile(T,O);return function(R,U,L){var H=G(R,U,L),X=V(R,U,H),Z=y(H,X),J=M(R,U,Z),K=F(R,U,L);return A(H,X,A(Z,J,K)),K}}if(!(0,g.isSymbolNode)(this.object))throw new TypeError("SymbolNode expected as object");return function(R,U,L){return(0,f.setSafeProperty)(R,B,F(R,U,L))}},E.prototype.forEach=function(T){T(this.object,"object",this),this.index&&T(this.index,"index",this),T(this.value,"value",this)},E.prototype.map=function(T){return new E(this._ifNode(T(this.object,"object",this)),this.index?this._ifNode(T(this.index,"index",this)):null,this._ifNode(T(this.value,"value",this)))},E.prototype.clone=function(){return new E(this.object,this.index,this.value)},E.prototype._toString=function(T){var O=this.object.toString(T),j=this.index?this.index.toString(T):"",M=this.value.toString(T);return N(this,T&&T.parenthesis)&&(M="("+M+")"),O+j+" = "+M},E.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},E.fromJSON=function(T){return new E(T.object,T.index,T.value)},E.prototype.toHTML=function(T){var O=this.object.toHTML(T),j=this.index?this.index.toHTML(T):"",M=this.value.toHTML(T);return N(this,T&&T.parenthesis)&&(M='<span class="math-paranthesis math-round-parenthesis">(</span>'+M+'<span class="math-paranthesis math-round-parenthesis">)</span>'),O+j+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+M},E.prototype._toTex=function(T){var O=this.object.toTex(T),j=this.index?this.index.toTex(T):"",M=this.value.toTex(T);return N(this,T&&T.parenthesis)&&(M="\\left(".concat(M,"\\right)")),O+j+":="+M},E},{isClass:!0,isNode:!0});r.createAssignmentNode=h},{"../../utils/customs":929,"../../utils/factory":931,"../../utils/is":933,"../operators":638,"./utils/access":636,"./utils/assign":637}],623:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBlockNode=void 0;var g=n("../../utils/is"),f=n("../../utils/array"),m=["ResultSet","Node"],l=(0,n("../../utils/factory").factory)("BlockNode",m,function(x){var S=x.ResultSet,D=x.Node;function h(_){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(_))throw new Error("Array expected");this.blocks=_.map(function(o){var p=o&&o.node,b=!o||o.visible===void 0||o.visible;if(!(0,g.isNode)(p))throw new TypeError('Property "node" must be a Node');if(typeof b!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:p,visible:b}})}return(h.prototype=new D).type="BlockNode",h.prototype.isBlockNode=!0,h.prototype._compile=function(_,o){var p=(0,f.map)(this.blocks,function(b){return{evaluate:b.node._compile(_,o),visible:b.visible}});return function(b,y,A){var E=[];return(0,f.forEach)(p,function(N){var T=N.evaluate(b,y,A);N.visible&&E.push(T)}),new S(E)}},h.prototype.forEach=function(_){for(var o=0;o<this.blocks.length;o++)_(this.blocks[o].node,"blocks["+o+"].node",this)},h.prototype.map=function(_){for(var o=[],p=0;p<this.blocks.length;p++){var b=this.blocks[p],y=this._ifNode(_(b.node,"blocks["+p+"].node",this));o[p]={node:y,visible:b.visible}}return new h(o)},h.prototype.clone=function(){return new h(this.blocks.map(function(_){return{node:_.node,visible:_.visible}}))},h.prototype._toString=function(_){return this.blocks.map(function(o){return o.node.toString(_)+(o.visible?"":";")}).join(`
`)},h.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},h.fromJSON=function(_){return new h(_.blocks)},h.prototype.toHTML=function(_){return this.blocks.map(function(o){return o.node.toHTML(_)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')},h.prototype._toTex=function(_){return this.blocks.map(function(o){return o.node.toTex(_)+(o.visible?"":";")}).join(`\\;\\;
`)},h},{isClass:!0,isNode:!0});r.createBlockNode=l},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933}],624:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createConditionalNode=void 0;var g=n("../../utils/is"),f=n("../../utils/factory"),m=n("../operators"),l=["Node"],x=(0,f.factory)("ConditionalNode",l,function(S){var D=S.Node;function h(_,o,p){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");if(!(0,g.isNode)(_))throw new TypeError("Parameter condition must be a Node");if(!(0,g.isNode)(o))throw new TypeError("Parameter trueExpr must be a Node");if(!(0,g.isNode)(p))throw new TypeError("Parameter falseExpr must be a Node");this.condition=_,this.trueExpr=o,this.falseExpr=p}return(h.prototype=new D).type="ConditionalNode",h.prototype.isConditionalNode=!0,h.prototype._compile=function(_,o){var p=this.condition._compile(_,o),b=this.trueExpr._compile(_,o),y=this.falseExpr._compile(_,o);return function(A,E,N){return(function(T){if(typeof T=="number"||typeof T=="boolean"||typeof T=="string")return!!T;if(T){if((0,g.isBigNumber)(T))return!T.isZero();if((0,g.isComplex)(T))return!(!T.re&&!T.im);if((0,g.isUnit)(T))return!!T.value}if(T!=null)throw new TypeError('Unsupported type of condition "'+(0,g.typeOf)(T)+'"');return!1}(p(A,E,N))?b:y)(A,E,N)}},h.prototype.forEach=function(_){_(this.condition,"condition",this),_(this.trueExpr,"trueExpr",this),_(this.falseExpr,"falseExpr",this)},h.prototype.map=function(_){return new h(this._ifNode(_(this.condition,"condition",this)),this._ifNode(_(this.trueExpr,"trueExpr",this)),this._ifNode(_(this.falseExpr,"falseExpr",this)))},h.prototype.clone=function(){return new h(this.condition,this.trueExpr,this.falseExpr)},h.prototype._toString=function(_){var o=_&&_.parenthesis?_.parenthesis:"keep",p=(0,m.getPrecedence)(this,o),b=this.condition.toString(_),y=(0,m.getPrecedence)(this.condition,o);(o==="all"||this.condition.type==="OperatorNode"||y!==null&&y<=p)&&(b="("+b+")");var A=this.trueExpr.toString(_),E=(0,m.getPrecedence)(this.trueExpr,o);(o==="all"||this.trueExpr.type==="OperatorNode"||E!==null&&E<=p)&&(A="("+A+")");var N=this.falseExpr.toString(_),T=(0,m.getPrecedence)(this.falseExpr,o);return(o==="all"||this.falseExpr.type==="OperatorNode"||T!==null&&T<=p)&&(N="("+N+")"),b+" ? "+A+" : "+N},h.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},h.fromJSON=function(_){return new h(_.condition,_.trueExpr,_.falseExpr)},h.prototype.toHTML=function(_){var o=_&&_.parenthesis?_.parenthesis:"keep",p=(0,m.getPrecedence)(this,o),b=this.condition.toHTML(_),y=(0,m.getPrecedence)(this.condition,o);(o==="all"||this.condition.type==="OperatorNode"||y!==null&&y<=p)&&(b='<span class="math-parenthesis math-round-parenthesis">(</span>'+b+'<span class="math-parenthesis math-round-parenthesis">)</span>');var A=this.trueExpr.toHTML(_),E=(0,m.getPrecedence)(this.trueExpr,o);(o==="all"||this.trueExpr.type==="OperatorNode"||E!==null&&E<=p)&&(A='<span class="math-parenthesis math-round-parenthesis">(</span>'+A+'<span class="math-parenthesis math-round-parenthesis">)</span>');var N=this.falseExpr.toHTML(_),T=(0,m.getPrecedence)(this.falseExpr,o);return(o==="all"||this.falseExpr.type==="OperatorNode"||T!==null&&T<=p)&&(N='<span class="math-parenthesis math-round-parenthesis">(</span>'+N+'<span class="math-parenthesis math-round-parenthesis">)</span>'),b+'<span class="math-operator math-conditional-operator">?</span>'+A+'<span class="math-operator math-conditional-operator">:</span>'+N},h.prototype._toTex=function(_){return"\\begin{cases} {"+this.trueExpr.toTex(_)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(_)+"}\\\\{"+this.falseExpr.toTex(_)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},h},{isClass:!0,isNode:!0});r.createConditionalNode=x},{"../../utils/factory":931,"../../utils/is":933,"../operators":638}],625:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createConstantNode=void 0;var g=n("../../utils/string"),f=n("../../utils/is"),m=n("../../utils/latex"),l=["Node"],x=(0,n("../../utils/factory").factory)("ConstantNode",l,function(S){var D=S.Node;function h(_){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");if(arguments.length===2)throw new SyntaxError("new ConstantNode(valueStr, valueType) is not supported anymore since math v4.0.0. Use new ConstantNode(value) instead, where value is a non-stringified value.");this.value=_}return(h.prototype=new D).type="ConstantNode",h.prototype.isConstantNode=!0,h.prototype._compile=function(_,o){var p=this.value;return function(){return p}},h.prototype.forEach=function(_){},h.prototype.map=function(_){return this.clone()},h.prototype.clone=function(){return new h(this.value)},h.prototype._toString=function(_){return(0,g.format)(this.value,_)},h.prototype.toHTML=function(_){var o=this._toString(_);switch((0,f.typeOf)(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+o+"</span>";case"string":return'<span class="math-string">'+o+"</span>";case"boolean":return'<span class="math-boolean">'+o+"</span>";case"null":return'<span class="math-null-symbol">'+o+"</span>";case"undefined":return'<span class="math-undefined">'+o+"</span>";default:return'<span class="math-symbol">'+o+"</span>"}},h.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},h.fromJSON=function(_){return new h(_.value)},h.prototype._toTex=function(_){var o=this._toString(_);switch((0,f.typeOf)(this.value)){case"string":return"\\mathtt{"+(0,m.escapeLatex)(o)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var p=o.toLowerCase().indexOf("e");return p!==-1?o.substring(0,p)+"\\cdot10^{"+o.substring(p+1)+"}":o;case"Fraction":return this.value.toLatex();default:return o}},h},{isClass:!0,isNode:!0});r.createConstantNode=x},{"../../utils/factory":931,"../../utils/is":933,"../../utils/latex":934,"../../utils/string":941}],626:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFunctionAssignmentNode=void 0;var g=n("../../utils/is"),f=n("../keywords"),m=n("../../utils/string"),l=n("../../utils/array"),x=n("../../utils/latex"),S=n("../operators"),D=n("../../utils/customs"),h=["typed","Node"],_=(0,n("../../utils/factory").factory)("FunctionAssignmentNode",h,function(o){var p=o.typed,b=o.Node;function y(E,N,T){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if(typeof E!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(N))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!(0,g.isNode)(T))throw new TypeError('Node expected for parameter "expr"');if(E in f.keywords)throw new Error('Illegal function name, "'+E+'" is a reserved keyword');this.name=E,this.params=N.map(function(O){return O&&O.name||O}),this.types=N.map(function(O){return O&&O.type||"any"}),this.expr=T}function A(E,N){var T=(0,S.getPrecedence)(E,N),O=(0,S.getPrecedence)(E.expr,N);return N==="all"||O!==null&&O<=T}return(y.prototype=new b).type="FunctionAssignmentNode",y.prototype.isFunctionAssignmentNode=!0,y.prototype._compile=function(E,N){var T=Object.create(N);(0,l.forEach)(this.params,function(I){T[I]=!0});var O=this.expr._compile(E,T),j=this.name,M=this.params,F=(0,l.join)(this.types,","),B=j+"("+(0,l.join)(this.params,", ")+")";return function(I,G,k){var V={};V[F]=function(){for(var U=Object.create(G),L=0;L<M.length;L++)U[M[L]]=arguments[L];return O(I,U,k)};var R=p(j,V);return R.syntax=B,(0,D.setSafeProperty)(I,j,R),R}},y.prototype.forEach=function(E){E(this.expr,"expr",this)},y.prototype.map=function(E){var N=this._ifNode(E(this.expr,"expr",this));return new y(this.name,this.params.slice(0),N)},y.prototype.clone=function(){return new y(this.name,this.params.slice(0),this.expr)},y.prototype._toString=function(E){var N=E&&E.parenthesis?E.parenthesis:"keep",T=this.expr.toString(E);return A(this,N)&&(T="("+T+")"),this.name+"("+this.params.join(", ")+") = "+T},y.prototype.toJSON=function(){var E=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map(function(N,T){return{name:N,type:E[T]}}),expr:this.expr}},y.fromJSON=function(E){return new y(E.name,E.params,E.expr)},y.prototype.toHTML=function(E){for(var N=E&&E.parenthesis?E.parenthesis:"keep",T=[],O=0;O<this.params.length;O++)T.push('<span class="math-symbol math-parameter">'+(0,m.escape)(this.params[O])+"</span>");var j=this.expr.toHTML(E);return A(this,N)&&(j='<span class="math-parenthesis math-round-parenthesis">(</span>'+j+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+(0,m.escape)(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+T.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+j},y.prototype._toTex=function(E){var N=E&&E.parenthesis?E.parenthesis:"keep",T=this.expr.toTex(E);return A(this,N)&&(T="\\left(".concat(T,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(x.toSymbol).join(",")+"\\right):="+T},y},{isClass:!0,isNode:!0});r.createFunctionAssignmentNode=_},{"../../utils/array":922,"../../utils/customs":929,"../../utils/factory":931,"../../utils/is":933,"../../utils/latex":934,"../../utils/string":941,"../keywords":619,"../operators":638}],627:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFunctionNode=void 0;var g=n("../../utils/is"),f=n("../../utils/string"),m=n("../../utils/object"),l=n("../../utils/array"),x=n("../../utils/customs"),S=n("../../utils/factory"),D=n("../../utils/latex");function h(b){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}function _(){return(_=Object.assign||function(b){for(var y=1;y<arguments.length;y++){var A=arguments[y];for(var E in A)Object.prototype.hasOwnProperty.call(A,E)&&(b[E]=A[E])}return b}).apply(this,arguments)}var o=["math","Node","SymbolNode"],p=(0,S.factory)("FunctionNode",o,function(b){var y=b.math,A=b.Node,E=b.SymbolNode;function N(M,F){if(!(this instanceof N))throw new SyntaxError("Constructor must be called with the new operator");if(typeof M=="string"&&(M=new E(M)),!(0,g.isNode)(M))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(F)||!F.every(g.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=M,this.args=F||[],Object.defineProperty(this,"name",{get:(function(){return this.fn.name||""}).bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var B=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:B,set:B})}(N.prototype=new A).type="FunctionNode",N.prototype.isFunctionNode=!0,N.prototype._compile=function(M,F){if(!(this instanceof N))throw new TypeError("No valid FunctionNode");var B=(0,l.map)(this.args,function(K){return K._compile(M,F)});if((0,g.isSymbolNode)(this.fn)){var I=this.fn.name,G=I in M?(0,x.getSafeProperty)(M,I):void 0;if(typeof G=="function"&&G.rawArgs===!0){var k=this.args;return function(K,$){return(I in K?(0,x.getSafeProperty)(K,I):G)(k,M,_({},K,$))}}if(B.length===1){var V=B[0];return function(K,$,W){return(I in K?(0,x.getSafeProperty)(K,I):G)(V(K,$,W))}}if(B.length!==2)return function(K,$,W){return(I in K?(0,x.getSafeProperty)(K,I):G).apply(null,(0,l.map)(B,function(Y){return Y(K,$,W)}))};var R=B[0],U=B[1];return function(K,$,W){return(I in K?(0,x.getSafeProperty)(K,I):G)(R(K,$,W),U(K,$,W))}}if((0,g.isAccessorNode)(this.fn)&&(0,g.isIndexNode)(this.fn.index)&&this.fn.index.isObjectProperty()){var L=this.fn.object._compile(M,F),H=this.fn.index.getObjectProperty(),X=this.args;return function(K,$,W){var Y=L(K,$,W);return(0,x.validateSafeMethod)(Y,H),Y[H]&&Y[H].rawArgs?Y[H](X,M,_({},K,$)):Y[H].apply(Y,(0,l.map)(B,function(te){return te(K,$,W)}))}}var Z=this.fn._compile(M,F),J=this.args;return function(K,$,W){var Y=Z(K,$,W);return Y&&Y.rawArgs?Y(J,M,_({},K,$)):Y.apply(Y,(0,l.map)(B,function(te){return te(K,$,W)}))}},N.prototype.forEach=function(M){M(this.fn,"fn",this);for(var F=0;F<this.args.length;F++)M(this.args[F],"args["+F+"]",this)},N.prototype.map=function(M){for(var F=this._ifNode(M(this.fn,"fn",this)),B=[],I=0;I<this.args.length;I++)B[I]=this._ifNode(M(this.args[I],"args["+I+"]",this));return new N(F,B)},N.prototype.clone=function(){return new N(this.fn,this.args.slice(0))};var T=N.prototype.toString;function O(M,F,B){for(var I,G="",k=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),V=0;(I=k.exec(M))!==null;)if(G+=M.substring(V,I.index),V=I.index,I[0]==="$$")G+="$",V++;else{V+=I[0].length;var R=F[I[1]];if(!R)throw new ReferenceError("Template: Property "+I[1]+" does not exist.");if(I[2]===void 0)switch(h(R)){case"string":G+=R;break;case"object":if((0,g.isNode)(R))G+=R.toTex(B);else{if(!Array.isArray(R))throw new TypeError("Template: "+I[1]+" has to be a Node, String or array of Nodes");G+=R.map(function(U,L){if((0,g.isNode)(U))return U.toTex(B);throw new TypeError("Template: "+I[1]+"["+L+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+I[1]+" has to be a Node, String or array of Nodes")}else{if(!(0,g.isNode)(R[I[2]]&&R[I[2]]))throw new TypeError("Template: "+I[1]+"["+I[2]+"] is not a Node.");G+=R[I[2]].toTex(B)}}return G+=M.slice(V)}N.prototype.toString=function(M){var F,B=this.fn.toString(M);return M&&h(M.handler)==="object"&&(0,m.hasOwnProperty)(M.handler,B)&&(F=M.handler[B](this,M)),F!==void 0?F:T.call(this,M)},N.prototype._toString=function(M){var F=this.args.map(function(B){return B.toString(M)});return((0,g.isFunctionAssignmentNode)(this.fn)?"("+this.fn.toString(M)+")":this.fn.toString(M))+"("+F.join(", ")+")"},N.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},N.fromJSON=function(M){return new N(M.fn,M.args)},N.prototype.toHTML=function(M){var F=this.args.map(function(B){return B.toHTML(M)});return'<span class="math-function">'+(0,f.escape)(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+F.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var j=N.prototype.toTex;return N.prototype.toTex=function(M){var F;return M&&h(M.handler)==="object"&&(0,m.hasOwnProperty)(M.handler,this.name)&&(F=M.handler[this.name](this,M)),F!==void 0?F:j.call(this,M)},N.prototype._toTex=function(M){var F,B,I=this.args.map(function(G){return G.toTex(M)});switch(D.latexFunctions[this.name]&&(F=D.latexFunctions[this.name]),!y[this.name]||typeof y[this.name].toTex!="function"&&h(y[this.name].toTex)!=="object"&&typeof y[this.name].toTex!="string"||(F=y[this.name].toTex),h(F)){case"function":B=F(this,M);break;case"string":B=O(F,this,M);break;case"object":switch(h(F[I.length])){case"function":B=F[I.length](this,M);break;case"string":B=O(F[I.length],this,M)}}return B!==void 0?B:O(D.defaultTemplate,this,M)},N.prototype.getIdentifier=function(){return this.type+":"+this.name},N},{isClass:!0,isNode:!0});r.createFunctionNode=p},{"../../utils/array":922,"../../utils/customs":929,"../../utils/factory":931,"../../utils/is":933,"../../utils/latex":934,"../../utils/object":938,"../../utils/string":941}],628:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIndexNode=void 0;var g=n("../../utils/is"),f=n("../../utils/array"),m=n("../../utils/string"),l=n("../../utils/factory"),x=n("../../utils/customs");function S(o){return function(p){if(Array.isArray(p))return D(p)}(o)||function(p){if(typeof Symbol<"u"&&Symbol.iterator in Object(p))return Array.from(p)}(o)||function(p,b){if(p){if(typeof p=="string")return D(p,b);var y=Object.prototype.toString.call(p).slice(8,-1);if(y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set")return Array.from(p);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return D(p,b)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function D(o,p){(p==null||p>o.length)&&(p=o.length);for(var b=0,y=new Array(p);b<p;b++)y[b]=o[b];return y}var h=["Range","Node","size"],_=(0,l.factory)("IndexNode",h,function(o){var p=o.Range,b=o.Node,y=o.size;function A(N,T){if(!(this instanceof A))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=N,this.dotNotation=T||!1,!Array.isArray(N)||!N.every(g.isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var O=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:O,set:O})}function E(N,T,O){return new p((0,g.isBigNumber)(N)?N.toNumber():N,(0,g.isBigNumber)(T)?T.toNumber():T,(0,g.isBigNumber)(O)?O.toNumber():O)}return(A.prototype=new b).type="IndexNode",A.prototype.isIndexNode=!0,A.prototype._compile=function(N,T){var O=(0,f.map)(this.dimensions,function(M,F){if((0,g.isRangeNode)(M)){if(M.needsEnd()){var B=Object.create(T);B.end=!0;var I=M.start._compile(N,B),G=M.end._compile(N,B),k=M.step?M.step._compile(N,B):function(){return 1};return function(Z,J,K){var $=y(K).valueOf(),W=Object.create(J);return W.end=$[F],E(I(Z,W,K),G(Z,W,K),k(Z,W,K))}}var V=M.start._compile(N,T),R=M.end._compile(N,T),U=M.step?M.step._compile(N,T):function(){return 1};return function(Z,J,K){return E(V(Z,J,K),R(Z,J,K),U(Z,J,K))}}if((0,g.isSymbolNode)(M)&&M.name==="end"){var L=Object.create(T);L.end=!0;var H=M._compile(N,L);return function(Z,J,K){var $=y(K).valueOf(),W=Object.create(J);return W.end=$[F],H(Z,W,K)}}var X=M._compile(N,T);return function(Z,J,K){return X(Z,J,K)}}),j=(0,x.getSafeProperty)(N,"index");return function(M,F,B){var I=(0,f.map)(O,function(G){return G(M,F,B)});return j.apply(void 0,S(I))}},A.prototype.forEach=function(N){for(var T=0;T<this.dimensions.length;T++)N(this.dimensions[T],"dimensions["+T+"]",this)},A.prototype.map=function(N){for(var T=[],O=0;O<this.dimensions.length;O++)T[O]=this._ifNode(N(this.dimensions[O],"dimensions["+O+"]",this));return new A(T,this.dotNotation)},A.prototype.clone=function(){return new A(this.dimensions.slice(0),this.dotNotation)},A.prototype.isObjectProperty=function(){return this.dimensions.length===1&&(0,g.isConstantNode)(this.dimensions[0])&&typeof this.dimensions[0].value=="string"},A.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},A.prototype._toString=function(N){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},A.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},A.fromJSON=function(N){return new A(N.dimensions,N.dotNotation)},A.prototype.toHTML=function(N){for(var T=[],O=0;O<this.dimensions.length;O++)T[O]=this.dimensions[O].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+(0,m.escape)(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+T.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},A.prototype._toTex=function(N){var T=this.dimensions.map(function(O){return O.toTex(N)});return this.dotNotation?"."+this.getObjectProperty():"_{"+T.join(",")+"}"},A},{isClass:!0,isNode:!0});r.createIndexNode=_},{"../../utils/array":922,"../../utils/customs":929,"../../utils/factory":931,"../../utils/is":933,"../../utils/string":941}],629:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNode=void 0;var g=n("../../utils/is"),f=n("../keywords"),m=n("../../utils/object"),l=n("../../utils/factory"),x=n("../../utils/log");function S(_){return(S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(_)}var D=["mathWithTransform"],h=(0,l.factory)("Node",D,function(_){var o=_.mathWithTransform;function p(){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator")}return p.prototype.evaluate=function(b){return this.compile().evaluate(b)},p.prototype.eval=function(b){return(0,x.warnOnce)("Method Node.eval is renamed to Node.evaluate. Please use the new method name."),this.evaluate(b)},p.prototype.type="Node",p.prototype.isNode=!0,p.prototype.comment="",p.prototype.compile=function(){var b=this._compile(o,{}),y={},A=null;function E(N){var T=N||{};return function(O){for(var j in O)if((0,m.hasOwnProperty)(O,j)&&j in f.keywords)throw new Error('Scope contains an illegal symbol, "'+j+'" is a reserved keyword')}(T),b(T,y,A)}return{evaluate:E,eval:function(N){return(0,x.warnOnce)("Method eval is renamed to evaluate. Please use the new method."),E(N)}}},p.prototype._compile=function(b,y){throw new Error("Method _compile should be implemented by type "+this.type)},p.prototype.forEach=function(b){throw new Error("Cannot run forEach on a Node interface")},p.prototype.map=function(b){throw new Error("Cannot run map on a Node interface")},p.prototype._ifNode=function(b){if(!(0,g.isNode)(b))throw new TypeError("Callback function must return a Node");return b},p.prototype.traverse=function(b){b(this,null,null),function y(A,E){A.forEach(function(N,T,O){E(N,T,O),y(N,E)})}(this,b)},p.prototype.transform=function(b){return function y(A,E,N){var T=b(A,E,N);return T!==A?T:A.map(y)}(this,null,null)},p.prototype.filter=function(b){var y=[];return this.traverse(function(A,E,N){b(A,E,N)&&y.push(A)}),y},p.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},p.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},p.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},p.prototype.cloneDeep=function(){return this.map(function(b){return b.cloneDeep()})},p.prototype.equals=function(b){return!!b&&(0,m.deepStrictEqual)(this,b)},p.prototype.toString=function(b){var y;if(b&&S(b)==="object")switch(S(b.handler)){case"object":case"undefined":break;case"function":y=b.handler(this,b);break;default:throw new TypeError("Object or function expected as callback")}return y!==void 0?y:this._toString(b)},p.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},p.prototype.toHTML=function(b){var y;if(b&&S(b)==="object")switch(S(b.handler)){case"object":case"undefined":break;case"function":y=b.handler(this,b);break;default:throw new TypeError("Object or function expected as callback")}return y!==void 0?y:this.toHTML(b)},p.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},p.prototype.toTex=function(b){var y;if(b&&S(b)==="object")switch(S(b.handler)){case"object":case"undefined":break;case"function":y=b.handler(this,b);break;default:throw new TypeError("Object or function expected as callback")}return y!==void 0?y:this._toTex(b)},p.prototype._toTex=function(b){throw new Error("_toTex not implemented for "+this.type)},p.prototype.getIdentifier=function(){return this.type},p.prototype.getContent=function(){return this},p},{isClass:!0,isNode:!0});r.createNode=h},{"../../utils/factory":931,"../../utils/is":933,"../../utils/log":935,"../../utils/object":938,"../keywords":619}],630:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createObjectNode=void 0;var g=n("../../utils/is"),f=n("../../utils/string"),m=n("../../utils/customs"),l=n("../../utils/object");function x(h){return(x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}var S=["Node"],D=(0,n("../../utils/factory").factory)("ObjectNode",S,function(h){var _=h.Node;function o(p){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=p||{},p&&(x(p)!=="object"||!Object.keys(p).every(function(b){return(0,g.isNode)(p[b])})))throw new TypeError("Object containing Nodes expected")}return(o.prototype=new _).type="ObjectNode",o.prototype.isObjectNode=!0,o.prototype._compile=function(p,b){var y={};for(var A in this.properties)if((0,l.hasOwnProperty)(this.properties,A)){var E=(0,f.stringify)(A),N=JSON.parse(E);if(!(0,m.isSafeProperty)(this.properties,N))throw new Error('No access to property "'+N+'"');y[N]=this.properties[A]._compile(p,b)}return function(T,O,j){var M={};for(var F in y)(0,l.hasOwnProperty)(y,F)&&(M[F]=y[F](T,O,j));return M}},o.prototype.forEach=function(p){for(var b in this.properties)(0,l.hasOwnProperty)(this.properties,b)&&p(this.properties[b],"properties["+(0,f.stringify)(b)+"]",this)},o.prototype.map=function(p){var b={};for(var y in this.properties)(0,l.hasOwnProperty)(this.properties,y)&&(b[y]=this._ifNode(p(this.properties[y],"properties["+(0,f.stringify)(y)+"]",this)));return new o(b)},o.prototype.clone=function(){var p={};for(var b in this.properties)(0,l.hasOwnProperty)(this.properties,b)&&(p[b]=this.properties[b]);return new o(p)},o.prototype._toString=function(p){var b=[];for(var y in this.properties)(0,l.hasOwnProperty)(this.properties,y)&&b.push((0,f.stringify)(y)+": "+this.properties[y].toString(p));return"{"+b.join(", ")+"}"},o.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},o.fromJSON=function(p){return new o(p.properties)},o.prototype.toHTML=function(p){var b=[];for(var y in this.properties)(0,l.hasOwnProperty)(this.properties,y)&&b.push('<span class="math-symbol math-property">'+(0,f.escape)(y)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[y].toHTML(p));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+b.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},o.prototype._toTex=function(p){var b=[];for(var y in this.properties)(0,l.hasOwnProperty)(this.properties,y)&&b.push("\\mathbf{"+y+":} & "+this.properties[y].toTex(p)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(b.join(`
`),"\\end{array}\\right\\}")},o},{isClass:!0,isNode:!0});r.createObjectNode=D},{"../../utils/customs":929,"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938,"../../utils/string":941}],631:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createOperatorNode=void 0;var g=n("../../utils/is"),f=n("../../utils/array"),m=n("../../utils/string"),l=n("../../utils/customs"),x=n("../operators"),S=n("../../utils/latex"),D=["Node"],h=(0,n("../../utils/factory").factory)("OperatorNode",D,function(_){var o=_.Node;function p(y,A,E,N){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(typeof y!="string")throw new TypeError('string expected for parameter "op"');if(typeof A!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(E)||!E.every(g.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=N===!0,this.op=y,this.fn=A,this.args=E||[]}function b(y,A,E,N,T){var O,j=(0,x.getPrecedence)(y,A),M=(0,x.getAssociativity)(y,A);if(A==="all"||2<N.length&&y.getIdentifier()!=="OperatorNode:add"&&y.getIdentifier()!=="OperatorNode:multiply")return N.map(function(J){switch(J.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(N.length){case 0:O=[];break;case 1:var F=(0,x.getPrecedence)(N[0],A);if(T&&F!==null){var B,I=A==="keep"?(B=N[0].getIdentifier(),y.getIdentifier()):(B=N[0].getContent().getIdentifier(),y.getContent().getIdentifier());if(x.properties[j][I].latexLeftParens===!1){O=[!1];break}if(x.properties[F][B].latexParens===!1){O=[!1];break}}if(F===null){O=[!1];break}if(F<=j){O=[!0];break}O=[!1];break;case 2:var G,k,V,R=(0,x.getPrecedence)(N[0],A),U=(0,x.isAssociativeWith)(y,N[0],A),L=R!==null&&(R===j&&M==="right"&&!U||R<j),H=(0,x.getPrecedence)(N[1],A),X=(0,x.isAssociativeWith)(y,N[1],A),Z=H!==null&&(H===j&&M==="left"&&!X||H<j);T&&(V=A==="keep"?(G=y.getIdentifier(),k=y.args[0].getIdentifier(),y.args[1].getIdentifier()):(G=y.getContent().getIdentifier(),k=y.args[0].getContent().getIdentifier(),y.args[1].getContent().getIdentifier()),R!==null&&(x.properties[j][G].latexLeftParens===!1&&(L=!1),x.properties[R][k].latexParens===!1&&(L=!1)),H!==null&&(x.properties[j][G].latexRightParens===!1&&(Z=!1),x.properties[H][V].latexParens===!1&&(Z=!1))),O=[L,Z];break;default:y.getIdentifier()!=="OperatorNode:add"&&y.getIdentifier()!=="OperatorNode:multiply"||(O=N.map(function(J){var K=(0,x.getPrecedence)(J,A),$=(0,x.isAssociativeWith)(y,J,A),W=(0,x.getAssociativity)(J,A);return K!==null&&(j===K&&M===W&&!$||K<j)}))}return 2<=N.length&&y.getIdentifier()==="OperatorNode:multiply"&&y.implicit&&A==="auto"&&E==="hide"&&(O=N.map(function(J,K){var $=J.getIdentifier()==="ParenthesisNode";return!(!O[K]&&!$)})),O}return(p.prototype=new o).type="OperatorNode",p.prototype.isOperatorNode=!0,p.prototype._compile=function(y,A){if(typeof this.fn!="string"||!(0,l.isSafeMethod)(y,this.fn))throw y[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var E=(0,l.getSafeProperty)(y,this.fn),N=(0,f.map)(this.args,function(M){return M._compile(y,A)});if(N.length===1){var T=N[0];return function(M,F,B){return E(T(M,F,B))}}if(N.length!==2)return function(M,F,B){return E.apply(null,(0,f.map)(N,function(I){return I(M,F,B)}))};var O=N[0],j=N[1];return function(M,F,B){return E(O(M,F,B),j(M,F,B))}},p.prototype.forEach=function(y){for(var A=0;A<this.args.length;A++)y(this.args[A],"args["+A+"]",this)},p.prototype.map=function(y){for(var A=[],E=0;E<this.args.length;E++)A[E]=this._ifNode(y(this.args[E],"args["+E+"]",this));return new p(this.op,this.fn,A,this.implicit)},p.prototype.clone=function(){return new p(this.op,this.fn,this.args.slice(0),this.implicit)},p.prototype.isUnary=function(){return this.args.length===1},p.prototype.isBinary=function(){return this.args.length===2},p.prototype._toString=function(y){var A=y&&y.parenthesis?y.parenthesis:"keep",E=y&&y.implicit?y.implicit:"hide",N=this.args,T=b(this,A,E,N,!1);if(N.length===1){var O=(0,x.getAssociativity)(this,A),j=N[0].toString(y);T[0]&&(j="("+j+")");var M=/[a-zA-Z]+/.test(this.op);return O==="right"?this.op+(M?" ":"")+j:O==="left"?j+(M?" ":"")+this.op:j+this.op}if(N.length===2){var F=N[0].toString(y),B=N[1].toString(y);return T[0]&&(F="("+F+")"),T[1]&&(B="("+B+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&E==="hide"?F+" "+B:F+" "+this.op+" "+B}if(2<N.length&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var I=N.map(function(G,k){return G=G.toString(y),T[k]&&(G="("+G+")"),G});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&E==="hide"?I.join(" "):I.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},p.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},p.fromJSON=function(y){return new p(y.op,y.fn,y.args,y.implicit)},p.prototype.toHTML=function(y){var A=y&&y.parenthesis?y.parenthesis:"keep",E=y&&y.implicit?y.implicit:"hide",N=this.args,T=b(this,A,E,N,!1);if(N.length===1){var O=(0,x.getAssociativity)(this,A),j=N[0].toHTML(y);return T[0]&&(j='<span class="math-parenthesis math-round-parenthesis">(</span>'+j+'<span class="math-parenthesis math-round-parenthesis">)</span>'),O==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+(0,m.escape)(this.op)+"</span>"+j:j+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+(0,m.escape)(this.op)+"</span>"}if(N.length===2){var M=N[0].toHTML(y),F=N[1].toHTML(y);return T[0]&&(M='<span class="math-parenthesis math-round-parenthesis">(</span>'+M+'<span class="math-parenthesis math-round-parenthesis">)</span>'),T[1]&&(F='<span class="math-parenthesis math-round-parenthesis">(</span>'+F+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&E==="hide"?M+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+F:M+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+(0,m.escape)(this.op)+"</span>"+F}var B=N.map(function(I,G){return I=I.toHTML(y),T[G]&&(I='<span class="math-parenthesis math-round-parenthesis">(</span>'+I+'<span class="math-parenthesis math-round-parenthesis">)</span>'),I});return 2<N.length&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&E==="hide"?B.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):B.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+(0,m.escape)(this.op)+"</span>"):'<span class="math-function">'+(0,m.escape)(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+B.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},p.prototype._toTex=function(y){var A=y&&y.parenthesis?y.parenthesis:"keep",E=y&&y.implicit?y.implicit:"hide",N=this.args,T=b(this,A,E,N,!0),O=(O=S.latexOperators[this.fn])===void 0?this.op:O;if(N.length===1){var j=(0,x.getAssociativity)(this,A),M=N[0].toTex(y);return T[0]&&(M="\\left(".concat(M,"\\right)")),j==="right"?O+M:M+O}if(N.length===2){var F=N[0],B=F.toTex(y);T[0]&&(B="\\left(".concat(B,"\\right)"));var I,G=N[1].toTex(y);switch(T[1]&&(G="\\left(".concat(G,"\\right)")),I=A==="keep"?F.getIdentifier():F.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return O+"{"+B+"}{"+G+"}";case"OperatorNode:pow":switch(B="{"+B+"}",G="{"+G+"}",I){case"ConditionalNode":case"OperatorNode:divide":B="\\left(".concat(B,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&E==="hide")return B+"~"+G}return B+O+G}if(2<N.length&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var k=N.map(function(V,R){return V=V.toTex(y),T[R]&&(V="\\left(".concat(V,"\\right)")),V});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit?k.join("~"):k.join(O)}return"\\mathrm{"+this.fn+"}\\left("+N.map(function(V){return V.toTex(y)}).join(",")+"\\right)"},p.prototype.getIdentifier=function(){return this.type+":"+this.fn},p},{isClass:!0,isNode:!0});r.createOperatorNode=h},{"../../utils/array":922,"../../utils/customs":929,"../../utils/factory":931,"../../utils/is":933,"../../utils/latex":934,"../../utils/string":941,"../operators":638}],632:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createParenthesisNode=void 0;var g=n("../../utils/is"),f=["Node"],m=(0,n("../../utils/factory").factory)("ParenthesisNode",f,function(l){var x=l.Node;function S(D){if(!(this instanceof S))throw new SyntaxError("Constructor must be called with the new operator");if(!(0,g.isNode)(D))throw new TypeError('Node expected for parameter "content"');this.content=D}return(S.prototype=new x).type="ParenthesisNode",S.prototype.isParenthesisNode=!0,S.prototype._compile=function(D,h){return this.content._compile(D,h)},S.prototype.getContent=function(){return this.content.getContent()},S.prototype.forEach=function(D){D(this.content,"content",this)},S.prototype.map=function(D){return new S(D(this.content,"content",this))},S.prototype.clone=function(){return new S(this.content)},S.prototype._toString=function(D){return!D||D&&!D.parenthesis||D&&D.parenthesis==="keep"?"("+this.content.toString(D)+")":this.content.toString(D)},S.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},S.fromJSON=function(D){return new S(D.content)},S.prototype.toHTML=function(D){return!D||D&&!D.parenthesis||D&&D.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(D)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(D)},S.prototype._toTex=function(D){return!D||D&&!D.parenthesis||D&&D.parenthesis==="keep"?"\\left(".concat(this.content.toTex(D),"\\right)"):this.content.toTex(D)},S},{isClass:!0,isNode:!0});r.createParenthesisNode=m},{"../../utils/factory":931,"../../utils/is":933}],633:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRangeNode=void 0;var g=n("../../utils/is"),f=n("../../utils/factory"),m=n("../operators"),l=["Node"],x=(0,f.factory)("RangeNode",l,function(S){var D=S.Node;function h(o,p,b){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");if(!(0,g.isNode)(o))throw new TypeError("Node expected");if(!(0,g.isNode)(p))throw new TypeError("Node expected");if(b&&!(0,g.isNode)(b))throw new TypeError("Node expected");if(3<arguments.length)throw new Error("Too many arguments");this.start=o,this.end=p,this.step=b||null}function _(o,p){var b,y=(0,m.getPrecedence)(o,p),A={},E=(0,m.getPrecedence)(o.start,p);A.start=E!==null&&E<=y||p==="all",o.step&&(b=(0,m.getPrecedence)(o.step,p),A.step=b!==null&&b<=y||p==="all");var N=(0,m.getPrecedence)(o.end,p);return A.end=N!==null&&N<=y||p==="all",A}return(h.prototype=new D).type="RangeNode",h.prototype.isRangeNode=!0,h.prototype.needsEnd=function(){return 0<this.filter(function(o){return(0,g.isSymbolNode)(o)&&o.name==="end"}).length},h.prototype._compile=function(o,p){var b=o.range,y=this.start._compile(o,p),A=this.end._compile(o,p);if(this.step){var E=this.step._compile(o,p);return function(N,T,O){return b(y(N,T,O),A(N,T,O),E(N,T,O))}}return function(N,T,O){return b(y(N,T,O),A(N,T,O))}},h.prototype.forEach=function(o){o(this.start,"start",this),o(this.end,"end",this),this.step&&o(this.step,"step",this)},h.prototype.map=function(o){return new h(this._ifNode(o(this.start,"start",this)),this._ifNode(o(this.end,"end",this)),this.step&&this._ifNode(o(this.step,"step",this)))},h.prototype.clone=function(){return new h(this.start,this.end,this.step&&this.step)},h.prototype._toString=function(o){var p,b,y=_(this,o&&o.parenthesis?o.parenthesis:"keep"),A=this.start.toString(o);y.start&&(A="("+A+")"),p=A,this.step&&(b=this.step.toString(o),y.step&&(b="("+b+")"),p+=":"+b);var E=this.end.toString(o);return y.end&&(E="("+E+")"),p+=":"+E},h.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},h.fromJSON=function(o){return new h(o.start,o.end,o.step)},h.prototype.toHTML=function(o){var p,b,y=_(this,o&&o.parenthesis?o.parenthesis:"keep"),A=this.start.toHTML(o);y.start&&(A='<span class="math-parenthesis math-round-parenthesis">(</span>'+A+'<span class="math-parenthesis math-round-parenthesis">)</span>'),p=A,this.step&&(b=this.step.toHTML(o),y.step&&(b='<span class="math-parenthesis math-round-parenthesis">(</span>'+b+'<span class="math-parenthesis math-round-parenthesis">)</span>'),p+='<span class="math-operator math-range-operator">:</span>'+b);var E=this.end.toHTML(o);return y.end&&(E='<span class="math-parenthesis math-round-parenthesis">(</span>'+E+'<span class="math-parenthesis math-round-parenthesis">)</span>'),p+='<span class="math-operator math-range-operator">:</span>'+E},h.prototype._toTex=function(o){var p,b=_(this,o&&o.parenthesis?o.parenthesis:"keep"),y=this.start.toTex(o);b.start&&(y="\\left(".concat(y,"\\right)")),this.step&&(p=this.step.toTex(o),b.step&&(p="\\left(".concat(p,"\\right)")),y+=":"+p);var A=this.end.toTex(o);return b.end&&(A="\\left(".concat(A,"\\right)")),y+=":"+A},h},{isClass:!0,isNode:!0});r.createRangeNode=x},{"../../utils/factory":931,"../../utils/is":933,"../operators":638}],634:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRelationalNode=void 0;var g=n("../operators"),f=n("../../utils/string"),m=n("../../utils/customs"),l=n("../../utils/latex"),x=["Node"],S=(0,n("../../utils/factory").factory)("RelationalNode",x,function(D){var h=D.Node;function _(o,p){if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(o))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(p))throw new TypeError("Parameter params must be an array");if(o.length!==p.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=o,this.params=p}return(_.prototype=new h).type="RelationalNode",_.prototype.isRelationalNode=!0,_.prototype._compile=function(o,p){var b=this,y=this.params.map(function(A){return A._compile(o,p)});return function(A,E,N){for(var T=y[0](A,E,N),O=0;O<b.conditionals.length;O++){var j=T,T=y[O+1](A,E,N);if(!(0,m.getSafeProperty)(o,b.conditionals[O])(j,T))return!1}return!0}},_.prototype.forEach=function(o){var p=this;this.params.forEach(function(b,y){return o(b,"params["+y+"]",p)},this)},_.prototype.map=function(o){var p=this;return new _(this.conditionals.slice(),this.params.map(function(b,y){return p._ifNode(o(b,"params["+y+"]",p))},this))},_.prototype.clone=function(){return new _(this.conditionals,this.params)},_.prototype._toString=function(o){for(var p=o&&o.parenthesis?o.parenthesis:"keep",b=(0,g.getPrecedence)(this,p),y=this.params.map(function(T,O){var j=(0,g.getPrecedence)(T,p);return p==="all"||j!==null&&j<=b?"("+T.toString(o)+")":T.toString(o)}),A={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},E=y[0],N=0;N<this.conditionals.length;N++)E+=" "+A[this.conditionals[N]]+" "+y[N+1];return E},_.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},_.fromJSON=function(o){return new _(o.conditionals,o.params)},_.prototype.toHTML=function(o){for(var p=o&&o.parenthesis?o.parenthesis:"keep",b=(0,g.getPrecedence)(this,p),y=this.params.map(function(T,O){var j=(0,g.getPrecedence)(T,p);return p==="all"||j!==null&&j<=b?'<span class="math-parenthesis math-round-parenthesis">(</span>'+T.toHTML(o)+'<span class="math-parenthesis math-round-parenthesis">)</span>':T.toHTML(o)}),A={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},E=y[0],N=0;N<this.conditionals.length;N++)E+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+(0,f.escape)(A[this.conditionals[N]])+"</span>"+y[N+1];return E},_.prototype._toTex=function(o){for(var p=o&&o.parenthesis?o.parenthesis:"keep",b=(0,g.getPrecedence)(this,p),y=this.params.map(function(N,T){var O=(0,g.getPrecedence)(N,p);return p==="all"||O!==null&&O<=b?"\\left("+N.toTex(o)+"\right)":N.toTex(o)}),A=y[0],E=0;E<this.conditionals.length;E++)A+=l.latexOperators[this.conditionals[E]]+y[E+1];return A},_},{isClass:!0,isNode:!0});r.createRelationalNode=S},{"../../utils/customs":929,"../../utils/factory":931,"../../utils/latex":934,"../../utils/string":941,"../operators":638}],635:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSymbolNode=void 0;var g=n("../../utils/string"),f=n("../../utils/customs"),m=n("../../utils/factory"),l=n("../../utils/latex"),x=["math","?Unit","Node"],S=(0,m.factory)("SymbolNode",x,function(D){var h=D.math,_=D.Unit,o=D.Node;function p(y){return!!_&&_.isValuelessUnit(y)}function b(y){if(!(this instanceof b))throw new SyntaxError("Constructor must be called with the new operator");if(typeof y!="string")throw new TypeError('String expected for parameter "name"');this.name=y}return(b.prototype=new o).type="SymbolNode",b.prototype.isSymbolNode=!0,b.prototype._compile=function(y,A){var E=this.name;if(A[E]===!0)return function(T,O,j){return O[E]};if(E in y)return function(T,O,j){return E in T?(0,f.getSafeProperty)(T,E):(0,f.getSafeProperty)(y,E)};var N=p(E);return function(T,O,j){return E in T?(0,f.getSafeProperty)(T,E):N?new _(null,E):function(M){throw new Error("Undefined symbol "+M)}(E)}},b.prototype.forEach=function(y){},b.prototype.map=function(y){return this.clone()},b.prototype.clone=function(){return new b(this.name)},b.prototype._toString=function(y){return this.name},b.prototype.toHTML=function(y){var A=(0,g.escape)(this.name);return A==="true"||A==="false"?'<span class="math-symbol math-boolean">'+A+"</span>":A==="i"?'<span class="math-symbol math-imaginary-symbol">'+A+"</span>":A==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+A+"</span>":A==="NaN"?'<span class="math-symbol math-nan-symbol">'+A+"</span>":A==="null"?'<span class="math-symbol math-null-symbol">'+A+"</span>":A==="undefined"?'<span class="math-symbol math-undefined-symbol">'+A+"</span>":'<span class="math-symbol">'+A+"</span>"},b.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},b.fromJSON=function(y){return new b(y.name)},b.prototype._toTex=function(y){var A=!1;h[this.name]===void 0&&p(this.name)&&(A=!0);var E=(0,l.toSymbol)(this.name,A);return E[0]==="\\"?E:" "+E},b},{isClass:!0,isNode:!0});r.createSymbolNode=S},{"../../utils/customs":929,"../../utils/factory":931,"../../utils/latex":934,"../../utils/string":941}],636:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.accessFactory=function(l){var x=l.subset;return function(S,D){try{if(Array.isArray(S))return x(S,D);if(S&&typeof S.subset=="function")return S.subset(D);if(typeof S=="string")return x(S,D);if(m(S)!=="object")throw new TypeError("Cannot apply index: unsupported type of object");if(!D.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return(0,f.getSafeProperty)(S,D.getObjectProperty())}catch(h){throw(0,g.errorTransform)(h)}}};var g=n("../../transform/utils/errorTransform"),f=n("../../../utils/customs");function m(l){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(l)}},{"../../../utils/customs":929,"../../transform/utils/errorTransform":656}],637:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.assignFactory=function(l){var x=l.subset,S=l.matrix;return function(D,h,_){try{if(Array.isArray(D))return S(D).subset(h,_).valueOf();if(D&&typeof D.subset=="function")return D.subset(h,_);if(typeof D=="string")return x(D,h,_);if(m(D)!=="object")throw new TypeError("Cannot apply index: unsupported type of object");if(!h.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return(0,f.setSafeProperty)(D,h.getObjectProperty(),_),D}catch(o){throw(0,g.errorTransform)(o)}}};var g=n("../../transform/utils/errorTransform"),f=n("../../../utils/customs");function m(l){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(l)}},{"../../../utils/customs":929,"../../transform/utils/errorTransform":656}],638:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getPrecedence=m,r.getAssociativity=function(l,x){var S=l;x!=="keep"&&(S=l.getContent());var D=S.getIdentifier(),h=m(S,x);if(h===null)return null;var _=f[h][D];if((0,g.hasOwnProperty)(_,"associativity")){if(_.associativity==="left")return"left";if(_.associativity==="right")return"right";throw Error("'"+D+"' has the invalid associativity '"+_.associativity+"'.")}return null},r.isAssociativeWith=function(l,x,S){var D=S!=="keep"?l.getContent():l,h=S!=="keep"?l.getContent():x,_=D.getIdentifier(),o=h.getIdentifier(),p=m(D,S);if(p===null)return null;var b=f[p][_];if((0,g.hasOwnProperty)(b,"associativeWith")&&b.associativeWith instanceof Array){for(var y=0;y<b.associativeWith.length;y++)if(b.associativeWith[y]===o)return!0;return!1}return null},r.properties=void 0;var g=n("../utils/object"),f=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function m(l,x){var S=l;x!=="keep"&&(S=l.getContent());for(var D=S.getIdentifier(),h=0;h<f.length;h++)if(D in f[h])return h;return null}r.properties=f},{"../utils/object":938}],639:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createParse=void 0;var g=n("../utils/factory"),f=n("../utils/is"),m=n("../utils/collection"),l=n("../utils/object");function x(){return(x=Object.assign||function(h){for(var _=1;_<arguments.length;_++){var o=arguments[_];for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(h[p]=o[p])}return h}).apply(this,arguments)}var S=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],D=(0,g.factory)("parse",S,function(h){var _=h.typed,o=h.numeric,p=h.config,b=h.AccessorNode,y=h.ArrayNode,A=h.AssignmentNode,E=h.BlockNode,N=h.ConditionalNode,T=h.ConstantNode,O=h.FunctionAssignmentNode,j=h.FunctionNode,M=h.IndexNode,F=h.ObjectNode,B=h.OperatorNode,I=h.ParenthesisNode,G=h.RangeNode,k=h.RelationalNode,V=h.SymbolNode,R=_("parse",{string:function(me){return le(me,{})},"Array | Matrix":function(me){return U(me,{})},"string, Object":function(me,Ge){return le(me,Ge.nodes!==void 0?Ge.nodes:{})},"Array | Matrix, Object":U});function U(me){var Ge=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},Xe=Ge.nodes!==void 0?Ge.nodes:{};return(0,m.deepMap)(me,function(rt){if(typeof rt!="string")throw new TypeError("String expected");return le(rt,Xe)})}var L={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},H={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},X={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},Z={true:!0,false:!1,null:null,undefined:void 0},J=["NaN","Infinity"];function K(me,Ge){return me.expression.substr(me.index,Ge)}function $(me){return K(me,1)}function W(me){me.index++}function Y(me){return me.expression.charAt(me.index-1)}function te(me){return me.expression.charAt(me.index+1)}function ce(me){for(me.tokenType=L.NULL,me.token="",me.comment="";R.isWhitespace($(me),me.nestingLevel);)W(me);if($(me)==="#")for(;$(me)!==`
`&&$(me)!=="";)me.comment+=$(me),W(me);if($(me)!==""){if($(me)===`
`&&!me.nestingLevel)return me.tokenType=L.DELIMITER,me.token=$(me),void W(me);var Ge=$(me),Xe=K(me,2),rt=K(me,3);if(rt.length===3&&H[rt])return me.tokenType=L.DELIMITER,me.token=rt,W(me),W(me),void W(me);if(Xe.length===2&&H[Xe])return me.tokenType=L.DELIMITER,me.token=Xe,W(me),void W(me);if(H[Ge])return me.tokenType=L.DELIMITER,me.token=Ge,void W(me);if(R.isDigitDot(Ge)){if(me.tokenType=L.NUMBER,$(me)===".")me.token+=$(me),W(me),R.isDigit($(me))||(me.tokenType=L.DELIMITER);else{for(;R.isDigit($(me));)me.token+=$(me),W(me);R.isDecimalMark($(me),te(me))&&(me.token+=$(me),W(me))}for(;R.isDigit($(me));)me.token+=$(me),W(me);if($(me)==="E"||$(me)==="e"){if(R.isDigit(te(me))||te(me)==="-"||te(me)==="+"){if(me.token+=$(me),W(me),$(me)!=="+"&&$(me)!=="-"||(me.token+=$(me),W(me)),!R.isDigit($(me)))throw Ee(me,'Digit expected, got "'+$(me)+'"');for(;R.isDigit($(me));)me.token+=$(me),W(me);if(R.isDecimalMark($(me),te(me)))throw Ee(me,'Digit expected, got "'+$(me)+'"')}else if(te(me)===".")throw W(me),Ee(me,'Digit expected, got "'+$(me)+'"')}}else{if(!R.isAlpha($(me),Y(me),te(me))){for(me.tokenType=L.UNKNOWN;$(me)!=="";)me.token+=$(me),W(me);throw Ee(me,'Syntax error in part "'+me.token+'"')}for(;R.isAlpha($(me),Y(me),te(me))||R.isDigit($(me));)me.token+=$(me),W(me);(0,l.hasOwnProperty)(X,me.token)?me.tokenType=L.DELIMITER:me.tokenType=L.SYMBOL}}else me.tokenType=L.DELIMITER}function oe(me){for(;ce(me),me.token===`
`;);}function ue(me){me.nestingLevel++}function Ce(me){me.nestingLevel--}function le(me,Ge){var Xe={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:L.NULL,nestingLevel:0,conditionalLevel:null};x(Xe,{expression:me,extraNodes:Ge}),ce(Xe);var rt=function(ut){var ft,pt,ot=[];for(ut.token!==""&&ut.token!==`
`&&ut.token!==";"&&((ft=ye(ut)).comment=ut.comment);ut.token===`
`||ut.token===";";)ot.length===0&&ft&&(pt=ut.token!==";",ot.push({node:ft,visible:pt})),ce(ut),ut.token!==`
`&&ut.token!==";"&&ut.token!==""&&((ft=ye(ut)).comment=ut.comment,pt=ut.token!==";",ot.push({node:ft,visible:pt}));return 0<ot.length?new E(ot):(ft||((ft=new T(void 0)).comment=ut.comment),ft)}(Xe);if(Xe.token!=="")throw Xe.tokenType===L.DELIMITER?Me(Xe,"Unexpected operator "+Xe.token):Ee(Xe,'Unexpected part "'+Xe.token+'"');return rt}function ye(me){var Ge,Xe,rt,ut,ft=function(pt){for(var ot=function(vt){for(var wt=ve(vt);vt.token==="or";)oe(vt),wt=new B("or","or",[wt,ve(vt)]);return wt}(pt);pt.token==="?";){var bt=pt.conditionalLevel;pt.conditionalLevel=pt.nestingLevel,oe(pt);var At=ot,Ke=ye(pt);if(pt.token!==":")throw Ee(pt,"False part of conditional expression expected");pt.conditionalLevel=null,oe(pt);var dt=ye(pt);ot=new N(At,Ke,dt),pt.conditionalLevel=bt}return ot}(me);if(me.token!=="=")return ft;if((0,f.isSymbolNode)(ft))return Ge=ft.name,oe(me),rt=ye(me),new A(new V(Ge),rt);if((0,f.isAccessorNode)(ft))return oe(me),rt=ye(me),new A(ft.object,ft.index,rt);if((0,f.isFunctionNode)(ft)&&(0,f.isSymbolNode)(ft.fn)&&(ut=!0,Xe=[],Ge=ft.name,ft.args.forEach(function(pt,ot){(0,f.isSymbolNode)(pt)?Xe[ot]=pt.name:ut=!1}),ut))return oe(me),rt=ye(me),new O(Ge,Xe,rt);throw Ee(me,"Invalid left hand side of assignment operator =")}function ve(me){for(var Ge=pe(me);me.token==="xor";)oe(me),Ge=new B("xor","xor",[Ge,pe(me)]);return Ge}function pe(me){for(var Ge=be(me);me.token==="and";)oe(me),Ge=new B("and","and",[Ge,be(me)]);return Ge}function be(me){for(var Ge=Ne(me);me.token==="|";)oe(me),Ge=new B("|","bitOr",[Ge,Ne(me)]);return Ge}function Ne(me){for(var Ge=he(me);me.token==="^|";)oe(me),Ge=new B("^|","bitXor",[Ge,he(me)]);return Ge}function he(me){for(var Ge=ne(me);me.token==="&";)oe(me),Ge=new B("&","bitAnd",[Ge,ne(me)]);return Ge}function ne(me){for(var Ge=[re(me)],Xe=[],rt={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};(0,l.hasOwnProperty)(rt,me.token);){var ut={name:me.token,fn:rt[me.token]};Xe.push(ut),oe(me),Ge.push(re(me))}return Ge.length===1?Ge[0]:Ge.length===2?new B(Xe[0].name,Xe[0].fn,Ge):new k(Xe.map(function(ft){return ft.fn}),Ge)}function re(me){for(var Ge,Xe,rt,ut=de(me),ft={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};(0,l.hasOwnProperty)(ft,me.token);)Xe=ft[Ge=me.token],oe(me),rt=[ut,de(me)],ut=new B(Ge,Xe,rt);return ut}function de(me){for(var Ge,Xe,rt,ut=xe(me),ft={to:"to",in:"to"};(0,l.hasOwnProperty)(ft,me.token);)Xe=ft[Ge=me.token],oe(me),ut=Ge==="in"&&me.token===""?new B("*","multiply",[ut,new V("in")],!0):(rt=[ut,xe(me)],new B(Ge,Xe,rt));return ut}function xe(me){var Ge=[],Xe=me.token===":"?new T(1):Pe(me);if(me.token===":"&&me.conditionalLevel!==me.nestingLevel){for(Ge.push(Xe);me.token===":"&&Ge.length<3;)oe(me),me.token===")"||me.token==="]"||me.token===","||me.token===""?Ge.push(new V("end")):Ge.push(Pe(me));Xe=Ge.length===3?new G(Ge[0],Ge[2],Ge[1]):new G(Ge[0],Ge[1])}return Xe}function Pe(me){for(var Ge,Xe,rt,ut=Ae(me),ft={"+":"add","-":"subtract"};(0,l.hasOwnProperty)(ft,me.token);)Xe=ft[Ge=me.token],oe(me),rt=[ut,Ae(me)],ut=new B(Ge,Xe,rt);return ut}function Ae(me){for(var Ge,Xe,rt,ut=Oe(me),ft={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};(0,l.hasOwnProperty)(ft,me.token);)Xe=ft[Ge=me.token],oe(me),rt=Oe(me),ut=new B(Ge,Xe,[ut,rt]);return ut}function Oe(me){for(var Ge=Se(me),Xe=Ge;me.tokenType===L.SYMBOL||me.token==="in"&&(0,f.isConstantNode)(Ge)||!(me.tokenType!==L.NUMBER||(0,f.isConstantNode)(Xe)||(0,f.isOperatorNode)(Xe)&&Xe.op!=="!")||me.token==="(";)Xe=Se(me),Ge=new B("*","multiply",[Ge,Xe],!0);return Ge}function Se(me){for(var Ge=Fe(me),Xe=Ge,rt=[];me.token==="/"&&(0,f.isConstantNode)(Xe);){if(rt.push(x({},me)),oe(me),me.tokenType!==L.NUMBER){x(me,rt.pop());break}if(rt.push(x({},me)),oe(me),me.tokenType!==L.SYMBOL&&me.token!=="("){rt.pop(),x(me,rt.pop());break}x(me,rt.pop()),rt.pop(),Xe=Fe(me),Ge=new B("/","divide",[Ge,Xe])}return Ge}function Fe(me){var Ge,Xe,rt,ut={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return(0,l.hasOwnProperty)(ut,me.token)?(rt=ut[me.token],Ge=me.token,oe(me),Xe=[Fe(me)],new B(Ge,rt,Xe)):function(ft){var pt,ot,bt,At;return pt=function(Ke){var dt,vt,wt;dt=function(Ot){var Tt=[];if(Ot.tokenType===L.SYMBOL&&(0,l.hasOwnProperty)(Ot.extraNodes,Ot.token)){var It=Ot.extraNodes[Ot.token];if(ce(Ot),Ot.token==="("){if(Tt=[],ue(Ot),ce(Ot),Ot.token!==")")for(Tt.push(ye(Ot));Ot.token===",";)ce(Ot),Tt.push(ye(Ot));if(Ot.token!==")")throw Ee(Ot,"Parenthesis ) expected");Ce(Ot),ce(Ot)}return new It(Tt)}return function(Pt){var Rt,Ft;return Pt.tokenType===L.SYMBOL||Pt.tokenType===L.DELIMITER&&Pt.token in X?(Ft=Pt.token,ce(Pt),Rt=(0,l.hasOwnProperty)(Z,Ft)?new T(Z[Ft]):J.indexOf(Ft)!==-1?new T(o(Ft,"number")):new V(Ft),Rt=$e(Pt,Rt)):function(Bt){var Ut,Xt;return Bt.token!=='"'?function(Zt){var Yt,rn;return Zt.token!=="'"?function(Gt){var sn,Je,Ct,_e;if(Gt.token!=="[")return function(Be){if(Be.token!=="{")return function(et){var ct;return et.tokenType!==L.NUMBER?function(st){var at;if(st.token!=="(")return function(St){throw St.token===""?Ee(St,"Unexpected end of expression"):Ee(St,"Value expected")}(st);if(ue(st),ce(st),at=ye(st),st.token===")")return Ce(st),ce(st),at=new I(at),at=$e(st,at);throw Ee(st,"Parenthesis ) expected")}(et):(ct=et.token,ce(et),new T(o(ct,p.number)))}(Be);var He;ue(Be);var ke={};do if(ce(Be),Be.token!=="}"){if(Be.token==='"')He=Re(Be);else if(Be.token==="'")He=qe(Be);else{if(!(Be.tokenType===L.SYMBOL||Be.tokenType===L.DELIMITER&&Be.token in X))throw Ee(Be,"Symbol or string expected as object key");He=Be.token,ce(Be)}if(Be.token!==":")throw Ee(Be,"Colon : expected after object key");ce(Be),ke[He]=ye(Be)}while(Be.token===",");if(Be.token!=="}")throw Ee(Be,"Comma , or bracket } expected after object value");Ce(Be),ce(Be);var Qe=new F(ke);return Qe=$e(Be,Qe)}(Gt);if(ue(Gt),ce(Gt),Gt.token!=="]"){var je=ze(Gt);if(Gt.token===";"){for(Ct=1,Je=[je];Gt.token===";";)ce(Gt),Je[Ct]=ze(Gt),Ct++;if(Gt.token!=="]")throw Ee(Gt,"End of matrix ] expected");Ce(Gt),ce(Gt),_e=Je[0].items.length;for(var Ue=1;Ue<Ct;Ue++)if(Je[Ue].items.length!==_e)throw Me(Gt,"Column dimensions mismatch ("+Je[Ue].items.length+" !== "+_e+")");sn=new y(Je)}else{if(Gt.token!=="]")throw Ee(Gt,"End of matrix ] expected");Ce(Gt),ce(Gt),sn=je}}else Ce(Gt),ce(Gt),sn=new y([]);return $e(Gt,sn)}(Zt):(rn=qe(Zt),Yt=new T(rn),Yt=$e(Zt,Yt))}(Bt):(Xt=Re(Bt),Ut=new T(Xt),Ut=$e(Bt,Ut))}(Pt)}(Ot)}(Ke);for(var Nt={"!":"factorial","'":"ctranspose"};(0,l.hasOwnProperty)(Nt,Ke.token);)vt=Ke.token,wt=Nt[vt],ce(Ke),dt=new B(vt,wt,[dt]),dt=$e(Ke,dt);return dt}(ft),ft.token!=="^"&&ft.token!==".^"||(ot=ft.token,bt=ot==="^"?"pow":"dotPow",oe(ft),At=[pt,Fe(ft)],pt=new B(ot,bt,At)),pt}(me)}function $e(me,Ge,Xe){for(var rt;!(me.token!=="("&&me.token!=="["&&me.token!=="."||Xe&&Xe.indexOf(me.token)===-1);)if(rt=[],me.token==="("){if(!(0,f.isSymbolNode)(Ge)&&!(0,f.isAccessorNode)(Ge))return Ge;if(ue(me),ce(me),me.token!==")")for(rt.push(ye(me));me.token===",";)ce(me),rt.push(ye(me));if(me.token!==")")throw Ee(me,"Parenthesis ) expected");Ce(me),ce(me),Ge=new j(Ge,rt)}else if(me.token==="["){if(ue(me),ce(me),me.token!=="]")for(rt.push(ye(me));me.token===",";)ce(me),rt.push(ye(me));if(me.token!=="]")throw Ee(me,"Parenthesis ] expected");Ce(me),ce(me),Ge=new b(Ge,new M(rt))}else{if(ce(me),me.tokenType!==L.SYMBOL)throw Ee(me,"Property name expected after dot");rt.push(new T(me.token)),ce(me),Ge=new b(Ge,new M(rt,!0))}return Ge}function Re(me){for(var Ge="";$(me)!==""&&$(me)!=='"';)$(me)==="\\"&&(Ge+=$(me),W(me)),Ge+=$(me),W(me);if(ce(me),me.token!=='"')throw Ee(me,'End of string " expected');return ce(me),JSON.parse('"'+Ge+'"')}function qe(me){for(var Ge="";$(me)!==""&&$(me)!=="'";)$(me)==="\\"&&(Ge+=$(me),W(me)),Ge+=$(me),W(me);if(ce(me),me.token!=="'")throw Ee(me,"End of string ' expected");return ce(me),JSON.parse('"'+Ge+'"')}function ze(me){for(var Ge=[ye(me)],Xe=1;me.token===",";)ce(me),Ge[Xe]=ye(me),Xe++;return new y(Ge)}function we(me){return me.index-me.token.length+1}function Ee(me,Ge){var Xe=we(me),rt=new SyntaxError(Ge+" (char "+Xe+")");return rt.char=Xe,rt}function Me(me,Ge){var Xe=we(me),rt=new SyntaxError(Ge+" (char "+Xe+")");return rt.char=Xe,rt}return R.isAlpha=function(me,Ge,Xe){return R.isValidLatinOrGreek(me)||R.isValidMathSymbol(me,Xe)||R.isValidMathSymbol(Ge,me)},R.isValidLatinOrGreek=function(me){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(me)},R.isValidMathSymbol=function(me,Ge){return/^[\uD835]$/.test(me)&&/^[\uDC00-\uDFFF]$/.test(Ge)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(Ge)},R.isWhitespace=function(me,Ge){return me===" "||me==="	"||me===`
`&&0<Ge},R.isDecimalMark=function(me,Ge){return me==="."&&Ge!=="/"&&Ge!=="*"&&Ge!=="^"},R.isDigitDot=function(me){return"0"<=me&&me<="9"||me==="."},R.isDigit=function(me){return"0"<=me&&me<="9"},R});r.createParse=D},{"../utils/collection":927,"../utils/factory":931,"../utils/is":933,"../utils/object":938}],640:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createApplyTransform=void 0;var g=n("./utils/errorTransform"),f=n("../../utils/factory"),m=n("../../function/matrix/apply"),l=n("../../utils/is"),x=["typed","isInteger"],S=(0,f.factory)("apply",x,function(D){var h=D.typed,_=D.isInteger,o=(0,m.createApply)({typed:h,isInteger:_});return h("apply",{"...any":function(p){var b=p[1];(0,l.isNumber)(b)?p[1]=b-1:(0,l.isBigNumber)(b)&&(p[1]=b.minus(1));try{return o.apply(null,p)}catch(y){throw(0,g.errorTransform)(y)}}})},{isTransformFunction:!0});r.createApplyTransform=S},{"../../function/matrix/apply":749,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],641:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createColumnTransform=void 0;var g=n("./utils/errorTransform"),f=n("../../utils/factory"),m=n("../../function/matrix/column"),l=n("../../utils/is"),x=["typed","Index","matrix","range"],S=(0,f.factory)("column",x,function(D){var h=D.typed,_=D.Index,o=D.matrix,p=D.range,b=(0,m.createColumn)({typed:h,Index:_,matrix:o,range:p});return h("column",{"...any":function(y){var A=y.length-1,E=y[A];(0,l.isNumber)(E)&&(y[A]=E-1);try{return b.apply(null,y)}catch(N){throw(0,g.errorTransform)(N)}}})},{isTransformFunction:!0});r.createColumnTransform=S},{"../../function/matrix/column":750,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],642:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createConcatTransform=void 0;var g=n("../../utils/is"),f=n("./utils/errorTransform"),m=n("../../utils/factory"),l=n("../../function/matrix/concat"),x=["typed","matrix","isInteger"],S=(0,m.factory)("concat",x,function(D){var h=D.typed,_=D.matrix,o=D.isInteger,p=(0,l.createConcat)({typed:h,matrix:_,isInteger:o});return h("concat",{"...any":function(b){var y=b.length-1,A=b[y];(0,g.isNumber)(A)?b[y]=A-1:(0,g.isBigNumber)(A)&&(b[y]=A.minus(1));try{return p.apply(null,b)}catch(E){throw(0,f.errorTransform)(E)}}})},{isTransformFunction:!0});r.createConcatTransform=S},{"../../function/matrix/concat":751,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],643:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFilterTransform=void 0;var g=n("../../utils/is"),f=n("../../utils/array"),m=n("../../utils/function"),l=n("./utils/compileInlineExpression"),x=["typed"],S=(0,n("../../utils/factory").factory)("filter",x,function(h){var _=h.typed;function o(b,y,A){var E,N;return b[0]&&(E=b[0].compile().evaluate(A)),b[1]&&(N=(0,g.isSymbolNode)(b[1])||(0,g.isFunctionAssignmentNode)(b[1])?b[1].compile().evaluate(A):(0,l.compileInlineExpression)(b[1],y,A)),p(E,N)}o.rawArgs=!0;var p=_("filter",{"Array, function":D,"Matrix, function":function(b,y){return b.create(D(b.toArray(),y))},"Array, RegExp":f.filterRegExp,"Matrix, RegExp":function(b,y){return b.create((0,f.filterRegExp)(b.toArray(),y))}});return o},{isTransformFunction:!0});function D(h,_){var o=(0,m.maxArgumentCount)(_);return(0,f.filter)(h,function(p,b,y){return o===1?_(p):o===2?_(p,[b+1]):_(p,[b+1],y)})}r.createFilterTransform=S},{"../../utils/array":922,"../../utils/factory":931,"../../utils/function":932,"../../utils/is":933,"./utils/compileInlineExpression":655}],644:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createForEachTransform=void 0;var g=n("../../utils/is"),f=n("../../utils/function"),m=n("../../utils/array"),l=n("../../utils/factory"),x=n("./utils/compileInlineExpression"),S=["typed"],D=(0,l.factory)("forEach",S,function(h){var _=h.typed;function o(b,y,A){var E,N;return b[0]&&(E=b[0].compile().evaluate(A)),b[1]&&(N=(0,g.isSymbolNode)(b[1])||(0,g.isFunctionAssignmentNode)(b[1])?b[1].compile().evaluate(A):(0,x.compileInlineExpression)(b[1],y,A)),p(E,N)}o.rawArgs=!0;var p=_("forEach",{"Array | Matrix, function":function(b,y){var A=(0,f.maxArgumentCount)(y);(function E(N,T){Array.isArray(N)?(0,m.forEach)(N,function(O,j){E(O,T.concat(j+1))}):A===1?y(N):A===2?y(N,T):y(N,T,b)})(b.valueOf(),[])}});return o},{isTransformFunction:!0});r.createForEachTransform=D},{"../../utils/array":922,"../../utils/factory":931,"../../utils/function":932,"../../utils/is":933,"./utils/compileInlineExpression":655}],645:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIndexTransform=void 0;var g=n("../../utils/is"),f=["Index"],m=(0,n("../../utils/factory").factory)("index",f,function(l){var x=l.Index;return function(){for(var S=[],D=0,h=arguments.length;D<h;D++){var _=arguments[D];if((0,g.isRange)(_))_.start--,_.end-=0<_.step?0:2;else if(_&&_.isSet===!0)_=_.map(function(p){return p-1});else if((0,g.isArray)(_)||(0,g.isMatrix)(_))_=_.map(function(p){return p-1});else if((0,g.isNumber)(_))_--;else if((0,g.isBigNumber)(_))_=_.toNumber()-1;else if(typeof _!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");S[D]=_}var o=new x;return x.apply(o,S),o}},{isTransformFunction:!0});r.createIndexTransform=m},{"../../utils/factory":931,"../../utils/is":933}],646:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMapTransform=void 0;var g=n("../../utils/is"),f=n("../../utils/function"),m=n("../../utils/array"),l=n("../../utils/factory"),x=n("./utils/compileInlineExpression"),S=["typed"],D=(0,l.factory)("map",S,function(_){var o=_.typed;function p(y,A,E){var N,T;return y[0]&&(N=y[0].compile().evaluate(E)),y[1]&&(T=(0,g.isSymbolNode)(y[1])||(0,g.isFunctionAssignmentNode)(y[1])?y[1].compile().evaluate(E):(0,x.compileInlineExpression)(y[1],A,E)),b(N,T)}p.rawArgs=!0;var b=o("map",{"Array, function":function(y,A){return h(y,A,y)},"Matrix, function":function(y,A){return y.create(h(y.valueOf(),A,y))}});return p},{isTransformFunction:!0});function h(_,o,p){var b=(0,f.maxArgumentCount)(o);return function y(A,E){return Array.isArray(A)?(0,m.map)(A,function(N,T){return y(N,E.concat(T+1))}):b===1?o(A):b===2?o(A,E):o(A,E,p)}(_,[])}r.createMapTransform=D},{"../../utils/array":922,"../../utils/factory":931,"../../utils/function":932,"../../utils/is":933,"./utils/compileInlineExpression":655}],647:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMaxTransform=void 0;var g=n("../../utils/is"),f=n("../../utils/factory"),m=n("./utils/errorTransform"),l=n("../../function/statistics/max"),x=["typed","larger"],S=(0,f.factory)("max",x,function(D){var h=D.typed,_=D.larger,o=(0,l.createMax)({typed:h,larger:_});return h("max",{"...any":function(p){var b;p.length===2&&(0,g.isCollection)(p[0])&&(b=p[1],(0,g.isNumber)(b)?p[1]=b-1:(0,g.isBigNumber)(b)&&(p[1]=b.minus(1)));try{return o.apply(null,p)}catch(y){throw(0,m.errorTransform)(y)}}})},{isTransformFunction:!0});r.createMaxTransform=S},{"../../function/statistics/max":818,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],648:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMeanTransform=void 0;var g=n("../../utils/is"),f=n("../../utils/factory"),m=n("./utils/errorTransform"),l=n("../../function/statistics/mean"),x=["typed","add","divide"],S=(0,f.factory)("mean",x,function(D){var h=D.typed,_=D.add,o=D.divide,p=(0,l.createMean)({typed:h,add:_,divide:o});return h("mean",{"...any":function(b){var y;b.length===2&&(0,g.isCollection)(b[0])&&(y=b[1],(0,g.isNumber)(y)?b[1]=y-1:(0,g.isBigNumber)(y)&&(b[1]=y.minus(1)));try{return p.apply(null,b)}catch(A){throw(0,m.errorTransform)(A)}}})},{isTransformFunction:!0});r.createMeanTransform=S},{"../../function/statistics/mean":819,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],649:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMinTransform=void 0;var g=n("../../utils/is"),f=n("../../utils/factory"),m=n("./utils/errorTransform"),l=n("../../function/statistics/min"),x=["typed","smaller"],S=(0,f.factory)("min",x,function(D){var h=D.typed,_=D.smaller,o=(0,l.createMin)({typed:h,smaller:_});return h("min",{"...any":function(p){var b;p.length===2&&(0,g.isCollection)(p[0])&&(b=p[1],(0,g.isNumber)(b)?p[1]=b-1:(0,g.isBigNumber)(b)&&(p[1]=b.minus(1)));try{return o.apply(null,p)}catch(y){throw(0,m.errorTransform)(y)}}})},{isTransformFunction:!0});r.createMinTransform=S},{"../../function/statistics/min":821,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],650:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRangeTransform=void 0;var g=n("../../utils/factory"),f=n("../../function/matrix/range"),m=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],l=(0,g.factory)("range",m,function(x){var S=x.typed,D=x.config,h=x.matrix,_=x.bignumber,o=x.smaller,p=x.smallerEq,b=x.larger,y=x.largerEq,A=(0,f.createRange)({typed:S,config:D,matrix:h,bignumber:_,smaller:o,smallerEq:p,larger:b,largerEq:y});return S("range",{"...any":function(E){return typeof E[E.length-1]!="boolean"&&E.push(!0),A.apply(null,E)}})},{isTransformFunction:!0});r.createRangeTransform=l},{"../../function/matrix/range":770,"../../utils/factory":931}],651:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRowTransform=void 0;var g=n("../../utils/factory"),f=n("../../function/matrix/row"),m=n("./utils/errorTransform"),l=n("../../utils/is"),x=["typed","Index","matrix","range"],S=(0,g.factory)("row",x,function(D){var h=D.typed,_=D.Index,o=D.matrix,p=D.range,b=(0,f.createRow)({typed:h,Index:_,matrix:o,range:p});return h("row",{"...any":function(y){var A=y.length-1,E=y[A];(0,l.isNumber)(E)&&(y[A]=E-1);try{return b.apply(null,y)}catch(N){throw(0,m.errorTransform)(N)}}})},{isTransformFunction:!0});r.createRowTransform=S},{"../../function/matrix/row":773,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],652:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createStdTransform=void 0;var g=n("../../utils/factory"),f=n("../../function/statistics/std"),m=n("../../utils/is"),l=n("./utils/errorTransform"),x=["typed","sqrt","variance"],S=(0,g.factory)("std",x,function(D){var h=D.typed,_=D.sqrt,o=D.variance,p=(0,f.createStd)({typed:h,sqrt:_,variance:o});return h("std",{"...any":function(b){var y;2<=b.length&&(0,m.isCollection)(b[0])&&(y=b[1],(0,m.isNumber)(y)?b[1]=y-1:(0,m.isBigNumber)(y)&&(b[1]=y.minus(1)));try{return p.apply(null,b)}catch(A){throw(0,l.errorTransform)(A)}}})},{isTransformFunction:!0});r.createStdTransform=S},{"../../function/statistics/std":825,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],653:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSubsetTransform=void 0;var g=n("../../utils/factory"),f=n("./utils/errorTransform"),m=n("../../function/matrix/subset"),l=["typed","matrix"],x=(0,g.factory)("subset",l,function(S){var D=S.typed,h=S.matrix,_=(0,m.createSubset)({typed:D,matrix:h});return D("subset",{"...any":function(o){try{return _.apply(null,o)}catch(p){throw(0,f.errorTransform)(p)}}})},{isTransformFunction:!0});r.createSubsetTransform=x},{"../../function/matrix/subset":778,"../../utils/factory":931,"./utils/errorTransform":656}],654:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSumTransform=void 0;var g=n("../../utils/is"),f=n("../../utils/factory"),m=n("./utils/errorTransform"),l=n("../../function/statistics/sum"),x=["typed","config","add","?bignumber","?fraction"],S=(0,f.factory)("sum",x,function(D){var h=D.typed,_=D.config,o=D.add,p=D.bignumber,b=D.fraction,y=(0,l.createSum)({typed:h,config:_,add:o,bignumber:p,fraction:b});return h("sum",{"...any":function(A){var E;A.length===2&&(0,g.isCollection)(A[0])&&(E=A[1],(0,g.isNumber)(E)?A[1]=E-1:(0,g.isBigNumber)(E)&&(A[1]=E.minus(1)));try{return y.apply(null,A)}catch(N){throw(0,m.errorTransform)(N)}}})},{isTransformFunction:!0});r.createSumTransform=S},{"../../function/statistics/sum":826,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],655:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compileInlineExpression=function(f,m,l){var x=f.filter(function(_){return(0,g.isSymbolNode)(_)&&!(_.name in m)&&!(_.name in l)})[0];if(!x)throw new Error('No undefined variable found in inline expression "'+f+'"');var S=x.name,D=Object.create(l),h=f.compile();return function(_){return D[S]=_,h.evaluate(D)}};var g=n("../../../utils/is")},{"../../../utils/is":933}],656:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.errorTransform=function(f){return f&&f.isIndexError?new g.IndexError(f.index+1,f.min+1,f.max!==void 0?f.max+1:void 0):f};var g=n("../../../error/IndexError")},{"../../../error/IndexError":400}],657:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createVarianceTransform=void 0;var g=n("../../utils/factory"),f=n("../../utils/is"),m=n("./utils/errorTransform"),l=n("../../function/statistics/variance"),x=["typed","add","subtract","multiply","divide","apply","isNaN"],S=(0,g.factory)("variance",x,function(D){var h=D.typed,_=D.add,o=D.subtract,p=D.multiply,b=D.divide,y=D.apply,A=D.isNaN,E=(0,l.createVariance)({typed:h,add:_,subtract:o,multiply:p,divide:b,apply:y,isNaN:A});return h("variance",{"...any":function(N){var T;2<=N.length&&(0,f.isCollection)(N[0])&&(T=N[1],(0,f.isNumber)(T)?N[1]=T-1:(0,f.isBigNumber)(T)&&(N[1]=T.minus(1)));try{return E.apply(null,N)}catch(O){throw(0,m.errorTransform)(O)}}})},{isTransformFunction:!0});r.createVarianceTransform=S},{"../../function/statistics/variance":828,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],658:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createTyped",{enumerable:!0,get:function(){return g.createTyped}}),Object.defineProperty(r,"createResultSet",{enumerable:!0,get:function(){return f.createResultSet}}),Object.defineProperty(r,"createBigNumberClass",{enumerable:!0,get:function(){return m.createBigNumberClass}}),Object.defineProperty(r,"createComplexClass",{enumerable:!0,get:function(){return l.createComplexClass}}),Object.defineProperty(r,"createFractionClass",{enumerable:!0,get:function(){return x.createFractionClass}}),Object.defineProperty(r,"createRangeClass",{enumerable:!0,get:function(){return S.createRangeClass}}),Object.defineProperty(r,"createMatrixClass",{enumerable:!0,get:function(){return D.createMatrixClass}}),Object.defineProperty(r,"createDenseMatrixClass",{enumerable:!0,get:function(){return h.createDenseMatrixClass}}),Object.defineProperty(r,"createClone",{enumerable:!0,get:function(){return _.createClone}}),Object.defineProperty(r,"createIsInteger",{enumerable:!0,get:function(){return o.createIsInteger}}),Object.defineProperty(r,"createIsNegative",{enumerable:!0,get:function(){return p.createIsNegative}}),Object.defineProperty(r,"createIsNumeric",{enumerable:!0,get:function(){return b.createIsNumeric}}),Object.defineProperty(r,"createHasNumericValue",{enumerable:!0,get:function(){return y.createHasNumericValue}}),Object.defineProperty(r,"createIsPositive",{enumerable:!0,get:function(){return A.createIsPositive}}),Object.defineProperty(r,"createIsZero",{enumerable:!0,get:function(){return E.createIsZero}}),Object.defineProperty(r,"createIsNaN",{enumerable:!0,get:function(){return N.createIsNaN}}),Object.defineProperty(r,"createTypeOf",{enumerable:!0,get:function(){return T.createTypeOf}}),Object.defineProperty(r,"createDeprecatedTypeof",{enumerable:!0,get:function(){return T.createDeprecatedTypeof}}),Object.defineProperty(r,"createEqualScalar",{enumerable:!0,get:function(){return O.createEqualScalar}}),Object.defineProperty(r,"createSparseMatrixClass",{enumerable:!0,get:function(){return j.createSparseMatrixClass}}),Object.defineProperty(r,"createNumber",{enumerable:!0,get:function(){return M.createNumber}}),Object.defineProperty(r,"createString",{enumerable:!0,get:function(){return F.createString}}),Object.defineProperty(r,"createBoolean",{enumerable:!0,get:function(){return B.createBoolean}}),Object.defineProperty(r,"createBignumber",{enumerable:!0,get:function(){return I.createBignumber}}),Object.defineProperty(r,"createComplex",{enumerable:!0,get:function(){return G.createComplex}}),Object.defineProperty(r,"createFraction",{enumerable:!0,get:function(){return k.createFraction}}),Object.defineProperty(r,"createMatrix",{enumerable:!0,get:function(){return V.createMatrix}}),Object.defineProperty(r,"createSplitUnit",{enumerable:!0,get:function(){return R.createSplitUnit}}),Object.defineProperty(r,"createUnaryMinus",{enumerable:!0,get:function(){return U.createUnaryMinus}}),Object.defineProperty(r,"createUnaryPlus",{enumerable:!0,get:function(){return L.createUnaryPlus}}),Object.defineProperty(r,"createAbs",{enumerable:!0,get:function(){return H.createAbs}}),Object.defineProperty(r,"createApply",{enumerable:!0,get:function(){return X.createApply}}),Object.defineProperty(r,"createAddScalar",{enumerable:!0,get:function(){return Z.createAddScalar}}),Object.defineProperty(r,"createCbrt",{enumerable:!0,get:function(){return J.createCbrt}}),Object.defineProperty(r,"createCeil",{enumerable:!0,get:function(){return K.createCeil}}),Object.defineProperty(r,"createCube",{enumerable:!0,get:function(){return $.createCube}}),Object.defineProperty(r,"createExp",{enumerable:!0,get:function(){return W.createExp}}),Object.defineProperty(r,"createExpm1",{enumerable:!0,get:function(){return Y.createExpm1}}),Object.defineProperty(r,"createFix",{enumerable:!0,get:function(){return te.createFix}}),Object.defineProperty(r,"createFloor",{enumerable:!0,get:function(){return ce.createFloor}}),Object.defineProperty(r,"createGcd",{enumerable:!0,get:function(){return oe.createGcd}}),Object.defineProperty(r,"createLcm",{enumerable:!0,get:function(){return ue.createLcm}}),Object.defineProperty(r,"createLog10",{enumerable:!0,get:function(){return Ce.createLog10}}),Object.defineProperty(r,"createLog2",{enumerable:!0,get:function(){return le.createLog2}}),Object.defineProperty(r,"createMod",{enumerable:!0,get:function(){return ye.createMod}}),Object.defineProperty(r,"createMultiplyScalar",{enumerable:!0,get:function(){return ve.createMultiplyScalar}}),Object.defineProperty(r,"createMultiply",{enumerable:!0,get:function(){return pe.createMultiply}}),Object.defineProperty(r,"createNthRoot",{enumerable:!0,get:function(){return be.createNthRoot}}),Object.defineProperty(r,"createSign",{enumerable:!0,get:function(){return Ne.createSign}}),Object.defineProperty(r,"createSqrt",{enumerable:!0,get:function(){return he.createSqrt}}),Object.defineProperty(r,"createSquare",{enumerable:!0,get:function(){return ne.createSquare}}),Object.defineProperty(r,"createSubtract",{enumerable:!0,get:function(){return re.createSubtract}}),Object.defineProperty(r,"createXgcd",{enumerable:!0,get:function(){return de.createXgcd}}),Object.defineProperty(r,"createDotMultiply",{enumerable:!0,get:function(){return xe.createDotMultiply}}),Object.defineProperty(r,"createBitAnd",{enumerable:!0,get:function(){return Pe.createBitAnd}}),Object.defineProperty(r,"createBitNot",{enumerable:!0,get:function(){return Ae.createBitNot}}),Object.defineProperty(r,"createBitOr",{enumerable:!0,get:function(){return Oe.createBitOr}}),Object.defineProperty(r,"createBitXor",{enumerable:!0,get:function(){return Se.createBitXor}}),Object.defineProperty(r,"createArg",{enumerable:!0,get:function(){return Fe.createArg}}),Object.defineProperty(r,"createConj",{enumerable:!0,get:function(){return $e.createConj}}),Object.defineProperty(r,"createIm",{enumerable:!0,get:function(){return Re.createIm}}),Object.defineProperty(r,"createRe",{enumerable:!0,get:function(){return qe.createRe}}),Object.defineProperty(r,"createNot",{enumerable:!0,get:function(){return ze.createNot}}),Object.defineProperty(r,"createOr",{enumerable:!0,get:function(){return we.createOr}}),Object.defineProperty(r,"createXor",{enumerable:!0,get:function(){return Ee.createXor}}),Object.defineProperty(r,"createConcat",{enumerable:!0,get:function(){return Me.createConcat}}),Object.defineProperty(r,"createColumn",{enumerable:!0,get:function(){return me.createColumn}}),Object.defineProperty(r,"createCross",{enumerable:!0,get:function(){return Ge.createCross}}),Object.defineProperty(r,"createDiag",{enumerable:!0,get:function(){return Xe.createDiag}}),Object.defineProperty(r,"createEye",{enumerable:!0,get:function(){return rt.createEye}}),Object.defineProperty(r,"createFilter",{enumerable:!0,get:function(){return ut.createFilter}}),Object.defineProperty(r,"createFlatten",{enumerable:!0,get:function(){return ft.createFlatten}}),Object.defineProperty(r,"createForEach",{enumerable:!0,get:function(){return pt.createForEach}}),Object.defineProperty(r,"createGetMatrixDataType",{enumerable:!0,get:function(){return ot.createGetMatrixDataType}}),Object.defineProperty(r,"createIdentity",{enumerable:!0,get:function(){return bt.createIdentity}}),Object.defineProperty(r,"createKron",{enumerable:!0,get:function(){return At.createKron}}),Object.defineProperty(r,"createMap",{enumerable:!0,get:function(){return Ke.createMap}}),Object.defineProperty(r,"createOnes",{enumerable:!0,get:function(){return dt.createOnes}}),Object.defineProperty(r,"createRange",{enumerable:!0,get:function(){return vt.createRange}}),Object.defineProperty(r,"createReshape",{enumerable:!0,get:function(){return wt.createReshape}}),Object.defineProperty(r,"createResize",{enumerable:!0,get:function(){return Nt.createResize}}),Object.defineProperty(r,"createRow",{enumerable:!0,get:function(){return Ot.createRow}}),Object.defineProperty(r,"createSize",{enumerable:!0,get:function(){return Tt.createSize}}),Object.defineProperty(r,"createSqueeze",{enumerable:!0,get:function(){return It.createSqueeze}}),Object.defineProperty(r,"createSubset",{enumerable:!0,get:function(){return Pt.createSubset}}),Object.defineProperty(r,"createTranspose",{enumerable:!0,get:function(){return Rt.createTranspose}}),Object.defineProperty(r,"createCtranspose",{enumerable:!0,get:function(){return Ft.createCtranspose}}),Object.defineProperty(r,"createZeros",{enumerable:!0,get:function(){return Bt.createZeros}}),Object.defineProperty(r,"createErf",{enumerable:!0,get:function(){return Ut.createErf}}),Object.defineProperty(r,"createMode",{enumerable:!0,get:function(){return Xt.createMode}}),Object.defineProperty(r,"createProd",{enumerable:!0,get:function(){return Zt.createProd}}),Object.defineProperty(r,"createFormat",{enumerable:!0,get:function(){return Yt.createFormat}}),Object.defineProperty(r,"createPrint",{enumerable:!0,get:function(){return rn.createPrint}}),Object.defineProperty(r,"createTo",{enumerable:!0,get:function(){return Gt.createTo}}),Object.defineProperty(r,"createIsPrime",{enumerable:!0,get:function(){return sn.createIsPrime}}),Object.defineProperty(r,"createNumeric",{enumerable:!0,get:function(){return Je.createNumeric}}),Object.defineProperty(r,"createDivideScalar",{enumerable:!0,get:function(){return Ct.createDivideScalar}}),Object.defineProperty(r,"createPow",{enumerable:!0,get:function(){return _e.createPow}}),Object.defineProperty(r,"createRound",{enumerable:!0,get:function(){return je.createRound}}),Object.defineProperty(r,"createLog",{enumerable:!0,get:function(){return Ue.createLog}}),Object.defineProperty(r,"createLog1p",{enumerable:!0,get:function(){return Be.createLog1p}}),Object.defineProperty(r,"createNthRoots",{enumerable:!0,get:function(){return He.createNthRoots}}),Object.defineProperty(r,"createDotPow",{enumerable:!0,get:function(){return ke.createDotPow}}),Object.defineProperty(r,"createDotDivide",{enumerable:!0,get:function(){return Qe.createDotDivide}}),Object.defineProperty(r,"createLsolve",{enumerable:!0,get:function(){return et.createLsolve}}),Object.defineProperty(r,"createUsolve",{enumerable:!0,get:function(){return ct.createUsolve}}),Object.defineProperty(r,"createLeftShift",{enumerable:!0,get:function(){return st.createLeftShift}}),Object.defineProperty(r,"createRightArithShift",{enumerable:!0,get:function(){return at.createRightArithShift}}),Object.defineProperty(r,"createRightLogShift",{enumerable:!0,get:function(){return St.createRightLogShift}}),Object.defineProperty(r,"createAnd",{enumerable:!0,get:function(){return jt.createAnd}}),Object.defineProperty(r,"createCompare",{enumerable:!0,get:function(){return zt.createCompare}}),Object.defineProperty(r,"createCompareNatural",{enumerable:!0,get:function(){return $t.createCompareNatural}}),Object.defineProperty(r,"createCompareText",{enumerable:!0,get:function(){return Qt.createCompareText}}),Object.defineProperty(r,"createEqual",{enumerable:!0,get:function(){return tn.createEqual}}),Object.defineProperty(r,"createEqualText",{enumerable:!0,get:function(){return an.createEqualText}}),Object.defineProperty(r,"createSmaller",{enumerable:!0,get:function(){return un.createSmaller}}),Object.defineProperty(r,"createSmallerEq",{enumerable:!0,get:function(){return bn.createSmallerEq}}),Object.defineProperty(r,"createLarger",{enumerable:!0,get:function(){return Un.createLarger}}),Object.defineProperty(r,"createLargerEq",{enumerable:!0,get:function(){return tr.createLargerEq}}),Object.defineProperty(r,"createDeepEqual",{enumerable:!0,get:function(){return Gn.createDeepEqual}}),Object.defineProperty(r,"createUnequal",{enumerable:!0,get:function(){return nr.createUnequal}}),Object.defineProperty(r,"createPartitionSelect",{enumerable:!0,get:function(){return Bn.createPartitionSelect}}),Object.defineProperty(r,"createSort",{enumerable:!0,get:function(){return Vn.createSort}}),Object.defineProperty(r,"createMax",{enumerable:!0,get:function(){return Jn.createMax}}),Object.defineProperty(r,"createMin",{enumerable:!0,get:function(){return zn.createMin}}),Object.defineProperty(r,"createImmutableDenseMatrixClass",{enumerable:!0,get:function(){return dn.createImmutableDenseMatrixClass}}),Object.defineProperty(r,"createIndexClass",{enumerable:!0,get:function(){return on.createIndexClass}}),Object.defineProperty(r,"createFibonacciHeapClass",{enumerable:!0,get:function(){return _r.createFibonacciHeapClass}}),Object.defineProperty(r,"createSpaClass",{enumerable:!0,get:function(){return cr.createSpaClass}}),Object.defineProperty(r,"createUnitClass",{enumerable:!0,get:function(){return ur.createUnitClass}}),Object.defineProperty(r,"createUnitFunction",{enumerable:!0,get:function(){return Wn.createUnitFunction}}),Object.defineProperty(r,"createSparse",{enumerable:!0,get:function(){return zr.createSparse}}),Object.defineProperty(r,"createCreateUnit",{enumerable:!0,get:function(){return Gr.createCreateUnit}}),Object.defineProperty(r,"createAcos",{enumerable:!0,get:function(){return lr.createAcos}}),Object.defineProperty(r,"createAcosh",{enumerable:!0,get:function(){return Tn.createAcosh}}),Object.defineProperty(r,"createAcot",{enumerable:!0,get:function(){return ti.createAcot}}),Object.defineProperty(r,"createAcoth",{enumerable:!0,get:function(){return Or.createAcoth}}),Object.defineProperty(r,"createAcsc",{enumerable:!0,get:function(){return xr.createAcsc}}),Object.defineProperty(r,"createAcsch",{enumerable:!0,get:function(){return Pn.createAcsch}}),Object.defineProperty(r,"createAsec",{enumerable:!0,get:function(){return hr.createAsec}}),Object.defineProperty(r,"createAsech",{enumerable:!0,get:function(){return xn.createAsech}}),Object.defineProperty(r,"createAsin",{enumerable:!0,get:function(){return Pr.createAsin}}),Object.defineProperty(r,"createAsinh",{enumerable:!0,get:function(){return Vr.createAsinh}}),Object.defineProperty(r,"createAtan",{enumerable:!0,get:function(){return Ar.createAtan}}),Object.defineProperty(r,"createAtan2",{enumerable:!0,get:function(){return wr.createAtan2}}),Object.defineProperty(r,"createAtanh",{enumerable:!0,get:function(){return ni.createAtanh}}),Object.defineProperty(r,"createCos",{enumerable:!0,get:function(){return ri.createCos}}),Object.defineProperty(r,"createCosh",{enumerable:!0,get:function(){return rr.createCosh}}),Object.defineProperty(r,"createCot",{enumerable:!0,get:function(){return Xn.createCot}}),Object.defineProperty(r,"createCoth",{enumerable:!0,get:function(){return Yn.createCoth}}),Object.defineProperty(r,"createCsc",{enumerable:!0,get:function(){return Rn.createCsc}}),Object.defineProperty(r,"createCsch",{enumerable:!0,get:function(){return mr.createCsch}}),Object.defineProperty(r,"createSec",{enumerable:!0,get:function(){return $n.createSec}}),Object.defineProperty(r,"createSech",{enumerable:!0,get:function(){return ir.createSech}}),Object.defineProperty(r,"createSin",{enumerable:!0,get:function(){return ii.createSin}}),Object.defineProperty(r,"createSinh",{enumerable:!0,get:function(){return Zn.createSinh}}),Object.defineProperty(r,"createTan",{enumerable:!0,get:function(){return Dr.createTan}}),Object.defineProperty(r,"createTanh",{enumerable:!0,get:function(){return $r.createTanh}}),Object.defineProperty(r,"createSetCartesian",{enumerable:!0,get:function(){return Hr.createSetCartesian}}),Object.defineProperty(r,"createSetDifference",{enumerable:!0,get:function(){return qr.createSetDifference}}),Object.defineProperty(r,"createSetDistinct",{enumerable:!0,get:function(){return Wr.createSetDistinct}}),Object.defineProperty(r,"createSetIntersect",{enumerable:!0,get:function(){return jr.createSetIntersect}}),Object.defineProperty(r,"createSetIsSubset",{enumerable:!0,get:function(){return dr.createSetIsSubset}}),Object.defineProperty(r,"createSetMultiplicity",{enumerable:!0,get:function(){return Ir.createSetMultiplicity}}),Object.defineProperty(r,"createSetPowerset",{enumerable:!0,get:function(){return Xr.createSetPowerset}}),Object.defineProperty(r,"createSetSize",{enumerable:!0,get:function(){return Qr.createSetSize}}),Object.defineProperty(r,"createSetSymDifference",{enumerable:!0,get:function(){return Sr.createSetSymDifference}}),Object.defineProperty(r,"createSetUnion",{enumerable:!0,get:function(){return Er.createSetUnion}}),Object.defineProperty(r,"createAdd",{enumerable:!0,get:function(){return Yr.createAdd}}),Object.defineProperty(r,"createHypot",{enumerable:!0,get:function(){return Cr.createHypot}}),Object.defineProperty(r,"createNorm",{enumerable:!0,get:function(){return Zr.createNorm}}),Object.defineProperty(r,"createDot",{enumerable:!0,get:function(){return Fr.createDot}}),Object.defineProperty(r,"createTrace",{enumerable:!0,get:function(){return Jr.createTrace}}),Object.defineProperty(r,"createIndex",{enumerable:!0,get:function(){return gr.createIndex}}),Object.defineProperty(r,"createNode",{enumerable:!0,get:function(){return ar.createNode}}),Object.defineProperty(r,"createAccessorNode",{enumerable:!0,get:function(){return Nr.createAccessorNode}}),Object.defineProperty(r,"createArrayNode",{enumerable:!0,get:function(){return Br.createArrayNode}}),Object.defineProperty(r,"createAssignmentNode",{enumerable:!0,get:function(){return mn.createAssignmentNode}}),Object.defineProperty(r,"createBlockNode",{enumerable:!0,get:function(){return Kn.createBlockNode}}),Object.defineProperty(r,"createConditionalNode",{enumerable:!0,get:function(){return Vt.createConditionalNode}}),Object.defineProperty(r,"createConstantNode",{enumerable:!0,get:function(){return yr.createConstantNode}}),Object.defineProperty(r,"createFunctionAssignmentNode",{enumerable:!0,get:function(){return Mn.createFunctionAssignmentNode}}),Object.defineProperty(r,"createIndexNode",{enumerable:!0,get:function(){return pr.createIndexNode}}),Object.defineProperty(r,"createObjectNode",{enumerable:!0,get:function(){return Kr.createObjectNode}}),Object.defineProperty(r,"createOperatorNode",{enumerable:!0,get:function(){return si.createOperatorNode}}),Object.defineProperty(r,"createParenthesisNode",{enumerable:!0,get:function(){return pn.createParenthesisNode}}),Object.defineProperty(r,"createRangeNode",{enumerable:!0,get:function(){return ei.createRangeNode}}),Object.defineProperty(r,"createRelationalNode",{enumerable:!0,get:function(){return Rr.createRelationalNode}}),Object.defineProperty(r,"createSymbolNode",{enumerable:!0,get:function(){return Ln.createSymbolNode}}),Object.defineProperty(r,"createFunctionNode",{enumerable:!0,get:function(){return Sn.createFunctionNode}}),Object.defineProperty(r,"createParse",{enumerable:!0,get:function(){return ai.createParse}}),Object.defineProperty(r,"createCompile",{enumerable:!0,get:function(){return Tr.createCompile}}),Object.defineProperty(r,"createEvaluate",{enumerable:!0,get:function(){return oi.createEvaluate}}),Object.defineProperty(r,"createDeprecatedEval",{enumerable:!0,get:function(){return kr.createDeprecatedEval}}),Object.defineProperty(r,"createParserClass",{enumerable:!0,get:function(){return ci.createParserClass}}),Object.defineProperty(r,"createParser",{enumerable:!0,get:function(){return Lr.createParser}}),Object.defineProperty(r,"createLup",{enumerable:!0,get:function(){return _n.createLup}}),Object.defineProperty(r,"createQr",{enumerable:!0,get:function(){return vr.createQr}}),Object.defineProperty(r,"createSlu",{enumerable:!0,get:function(){return Q.createSlu}}),Object.defineProperty(r,"createLusolve",{enumerable:!0,get:function(){return ee.createLusolve}}),Object.defineProperty(r,"createHelpClass",{enumerable:!0,get:function(){return se.createHelpClass}}),Object.defineProperty(r,"createChainClass",{enumerable:!0,get:function(){return ae.createChainClass}}),Object.defineProperty(r,"createHelp",{enumerable:!0,get:function(){return ge.createHelp}}),Object.defineProperty(r,"createChain",{enumerable:!0,get:function(){return Te.createChain}}),Object.defineProperty(r,"createDet",{enumerable:!0,get:function(){return Ie.createDet}}),Object.defineProperty(r,"createInv",{enumerable:!0,get:function(){return Ve.createInv}}),Object.defineProperty(r,"createEigs",{enumerable:!0,get:function(){return Ze.createEigs}}),Object.defineProperty(r,"createExpm",{enumerable:!0,get:function(){return Ye.createExpm}}),Object.defineProperty(r,"createSqrtm",{enumerable:!0,get:function(){return it.createSqrtm}}),Object.defineProperty(r,"createDivide",{enumerable:!0,get:function(){return ht.createDivide}}),Object.defineProperty(r,"createDistance",{enumerable:!0,get:function(){return lt.createDistance}}),Object.defineProperty(r,"createIntersect",{enumerable:!0,get:function(){return nt.createIntersect}}),Object.defineProperty(r,"createSum",{enumerable:!0,get:function(){return Mt.createSum}}),Object.defineProperty(r,"createMean",{enumerable:!0,get:function(){return _t.createMean}}),Object.defineProperty(r,"createMedian",{enumerable:!0,get:function(){return Dt.createMedian}}),Object.defineProperty(r,"createMad",{enumerable:!0,get:function(){return gt.createMad}}),Object.defineProperty(r,"createVariance",{enumerable:!0,get:function(){return yt.createVariance}}),Object.defineProperty(r,"createDeprecatedVar",{enumerable:!0,get:function(){return yt.createDeprecatedVar}}),Object.defineProperty(r,"createQuantileSeq",{enumerable:!0,get:function(){return Ht.createQuantileSeq}}),Object.defineProperty(r,"createStd",{enumerable:!0,get:function(){return Kt.createStd}}),Object.defineProperty(r,"createCombinations",{enumerable:!0,get:function(){return qt.createCombinations}}),Object.defineProperty(r,"createCombinationsWithRep",{enumerable:!0,get:function(){return Wt.createCombinationsWithRep}}),Object.defineProperty(r,"createGamma",{enumerable:!0,get:function(){return en.createGamma}}),Object.defineProperty(r,"createFactorial",{enumerable:!0,get:function(){return gn.createFactorial}}),Object.defineProperty(r,"createKldivergence",{enumerable:!0,get:function(){return An.createKldivergence}}),Object.defineProperty(r,"createMultinomial",{enumerable:!0,get:function(){return En.createMultinomial}}),Object.defineProperty(r,"createPermutations",{enumerable:!0,get:function(){return jn.createPermutations}}),Object.defineProperty(r,"createPickRandom",{enumerable:!0,get:function(){return kn.createPickRandom}}),Object.defineProperty(r,"createRandom",{enumerable:!0,get:function(){return Qn.createRandom}}),Object.defineProperty(r,"createRandomInt",{enumerable:!0,get:function(){return hn.createRandomInt}}),Object.defineProperty(r,"createStirlingS2",{enumerable:!0,get:function(){return yn.createStirlingS2}}),Object.defineProperty(r,"createBellNumbers",{enumerable:!0,get:function(){return fn.createBellNumbers}}),Object.defineProperty(r,"createCatalan",{enumerable:!0,get:function(){return In.createCatalan}}),Object.defineProperty(r,"createComposition",{enumerable:!0,get:function(){return wn.createComposition}}),Object.defineProperty(r,"createSimplify",{enumerable:!0,get:function(){return On.createSimplify}}),Object.defineProperty(r,"createDerivative",{enumerable:!0,get:function(){return vn.createDerivative}}),Object.defineProperty(r,"createRationalize",{enumerable:!0,get:function(){return Nn.createRationalize}}),Object.defineProperty(r,"createReviver",{enumerable:!0,get:function(){return Ur.createReviver}}),Object.defineProperty(r,"createReplacer",{enumerable:!0,get:function(){return br.createReplacer}}),Object.defineProperty(r,"createE",{enumerable:!0,get:function(){return Cn.createE}}),Object.defineProperty(r,"createUppercaseE",{enumerable:!0,get:function(){return Cn.createUppercaseE}}),Object.defineProperty(r,"createFalse",{enumerable:!0,get:function(){return Cn.createFalse}}),Object.defineProperty(r,"createI",{enumerable:!0,get:function(){return Cn.createI}}),Object.defineProperty(r,"createInfinity",{enumerable:!0,get:function(){return Cn.createInfinity}}),Object.defineProperty(r,"createLN10",{enumerable:!0,get:function(){return Cn.createLN10}}),Object.defineProperty(r,"createLN2",{enumerable:!0,get:function(){return Cn.createLN2}}),Object.defineProperty(r,"createLOG10E",{enumerable:!0,get:function(){return Cn.createLOG10E}}),Object.defineProperty(r,"createLOG2E",{enumerable:!0,get:function(){return Cn.createLOG2E}}),Object.defineProperty(r,"createNaN",{enumerable:!0,get:function(){return Cn.createNaN}}),Object.defineProperty(r,"createNull",{enumerable:!0,get:function(){return Cn.createNull}}),Object.defineProperty(r,"createPhi",{enumerable:!0,get:function(){return Cn.createPhi}}),Object.defineProperty(r,"createPi",{enumerable:!0,get:function(){return Cn.createPi}}),Object.defineProperty(r,"createUppercasePi",{enumerable:!0,get:function(){return Cn.createUppercasePi}}),Object.defineProperty(r,"createSQRT1_2",{enumerable:!0,get:function(){return Cn.createSQRT1_2}}),Object.defineProperty(r,"createSQRT2",{enumerable:!0,get:function(){return Cn.createSQRT2}}),Object.defineProperty(r,"createTau",{enumerable:!0,get:function(){return Cn.createTau}}),Object.defineProperty(r,"createTrue",{enumerable:!0,get:function(){return Cn.createTrue}}),Object.defineProperty(r,"createVersion",{enumerable:!0,get:function(){return Cn.createVersion}}),Object.defineProperty(r,"createAtomicMass",{enumerable:!0,get:function(){return Jt.createAtomicMass}}),Object.defineProperty(r,"createAvogadro",{enumerable:!0,get:function(){return Jt.createAvogadro}}),Object.defineProperty(r,"createBohrMagneton",{enumerable:!0,get:function(){return Jt.createBohrMagneton}}),Object.defineProperty(r,"createBohrRadius",{enumerable:!0,get:function(){return Jt.createBohrRadius}}),Object.defineProperty(r,"createBoltzmann",{enumerable:!0,get:function(){return Jt.createBoltzmann}}),Object.defineProperty(r,"createClassicalElectronRadius",{enumerable:!0,get:function(){return Jt.createClassicalElectronRadius}}),Object.defineProperty(r,"createConductanceQuantum",{enumerable:!0,get:function(){return Jt.createConductanceQuantum}}),Object.defineProperty(r,"createCoulomb",{enumerable:!0,get:function(){return Jt.createCoulomb}}),Object.defineProperty(r,"createDeuteronMass",{enumerable:!0,get:function(){return Jt.createDeuteronMass}}),Object.defineProperty(r,"createEfimovFactor",{enumerable:!0,get:function(){return Jt.createEfimovFactor}}),Object.defineProperty(r,"createElectricConstant",{enumerable:!0,get:function(){return Jt.createElectricConstant}}),Object.defineProperty(r,"createElectronMass",{enumerable:!0,get:function(){return Jt.createElectronMass}}),Object.defineProperty(r,"createElementaryCharge",{enumerable:!0,get:function(){return Jt.createElementaryCharge}}),Object.defineProperty(r,"createFaraday",{enumerable:!0,get:function(){return Jt.createFaraday}}),Object.defineProperty(r,"createFermiCoupling",{enumerable:!0,get:function(){return Jt.createFermiCoupling}}),Object.defineProperty(r,"createFineStructure",{enumerable:!0,get:function(){return Jt.createFineStructure}}),Object.defineProperty(r,"createFirstRadiation",{enumerable:!0,get:function(){return Jt.createFirstRadiation}}),Object.defineProperty(r,"createGasConstant",{enumerable:!0,get:function(){return Jt.createGasConstant}}),Object.defineProperty(r,"createGravitationConstant",{enumerable:!0,get:function(){return Jt.createGravitationConstant}}),Object.defineProperty(r,"createGravity",{enumerable:!0,get:function(){return Jt.createGravity}}),Object.defineProperty(r,"createHartreeEnergy",{enumerable:!0,get:function(){return Jt.createHartreeEnergy}}),Object.defineProperty(r,"createInverseConductanceQuantum",{enumerable:!0,get:function(){return Jt.createInverseConductanceQuantum}}),Object.defineProperty(r,"createKlitzing",{enumerable:!0,get:function(){return Jt.createKlitzing}}),Object.defineProperty(r,"createLoschmidt",{enumerable:!0,get:function(){return Jt.createLoschmidt}}),Object.defineProperty(r,"createMagneticConstant",{enumerable:!0,get:function(){return Jt.createMagneticConstant}}),Object.defineProperty(r,"createMagneticFluxQuantum",{enumerable:!0,get:function(){return Jt.createMagneticFluxQuantum}}),Object.defineProperty(r,"createMolarMass",{enumerable:!0,get:function(){return Jt.createMolarMass}}),Object.defineProperty(r,"createMolarMassC12",{enumerable:!0,get:function(){return Jt.createMolarMassC12}}),Object.defineProperty(r,"createMolarPlanckConstant",{enumerable:!0,get:function(){return Jt.createMolarPlanckConstant}}),Object.defineProperty(r,"createMolarVolume",{enumerable:!0,get:function(){return Jt.createMolarVolume}}),Object.defineProperty(r,"createNeutronMass",{enumerable:!0,get:function(){return Jt.createNeutronMass}}),Object.defineProperty(r,"createNuclearMagneton",{enumerable:!0,get:function(){return Jt.createNuclearMagneton}}),Object.defineProperty(r,"createPlanckCharge",{enumerable:!0,get:function(){return Jt.createPlanckCharge}}),Object.defineProperty(r,"createPlanckConstant",{enumerable:!0,get:function(){return Jt.createPlanckConstant}}),Object.defineProperty(r,"createPlanckLength",{enumerable:!0,get:function(){return Jt.createPlanckLength}}),Object.defineProperty(r,"createPlanckMass",{enumerable:!0,get:function(){return Jt.createPlanckMass}}),Object.defineProperty(r,"createPlanckTemperature",{enumerable:!0,get:function(){return Jt.createPlanckTemperature}}),Object.defineProperty(r,"createPlanckTime",{enumerable:!0,get:function(){return Jt.createPlanckTime}}),Object.defineProperty(r,"createProtonMass",{enumerable:!0,get:function(){return Jt.createProtonMass}}),Object.defineProperty(r,"createQuantumOfCirculation",{enumerable:!0,get:function(){return Jt.createQuantumOfCirculation}}),Object.defineProperty(r,"createReducedPlanckConstant",{enumerable:!0,get:function(){return Jt.createReducedPlanckConstant}}),Object.defineProperty(r,"createRydberg",{enumerable:!0,get:function(){return Jt.createRydberg}}),Object.defineProperty(r,"createSackurTetrode",{enumerable:!0,get:function(){return Jt.createSackurTetrode}}),Object.defineProperty(r,"createSecondRadiation",{enumerable:!0,get:function(){return Jt.createSecondRadiation}}),Object.defineProperty(r,"createSpeedOfLight",{enumerable:!0,get:function(){return Jt.createSpeedOfLight}}),Object.defineProperty(r,"createStefanBoltzmann",{enumerable:!0,get:function(){return Jt.createStefanBoltzmann}}),Object.defineProperty(r,"createThomsonCrossSection",{enumerable:!0,get:function(){return Jt.createThomsonCrossSection}}),Object.defineProperty(r,"createVacuumImpedance",{enumerable:!0,get:function(){return Jt.createVacuumImpedance}}),Object.defineProperty(r,"createWeakMixingAngle",{enumerable:!0,get:function(){return Jt.createWeakMixingAngle}}),Object.defineProperty(r,"createWienDisplacement",{enumerable:!0,get:function(){return Jt.createWienDisplacement}}),Object.defineProperty(r,"createApplyTransform",{enumerable:!0,get:function(){return fi.createApplyTransform}}),Object.defineProperty(r,"createColumnTransform",{enumerable:!0,get:function(){return fe.createColumnTransform}}),Object.defineProperty(r,"createFilterTransform",{enumerable:!0,get:function(){return nn.createFilterTransform}}),Object.defineProperty(r,"createForEachTransform",{enumerable:!0,get:function(){return ui.createForEachTransform}}),Object.defineProperty(r,"createIndexTransform",{enumerable:!0,get:function(){return fr.createIndexTransform}}),Object.defineProperty(r,"createMapTransform",{enumerable:!0,get:function(){return pi.createMapTransform}}),Object.defineProperty(r,"createMaxTransform",{enumerable:!0,get:function(){return tt.createMaxTransform}}),Object.defineProperty(r,"createMeanTransform",{enumerable:!0,get:function(){return li.createMeanTransform}}),Object.defineProperty(r,"createMinTransform",{enumerable:!0,get:function(){return hi.createMinTransform}}),Object.defineProperty(r,"createRangeTransform",{enumerable:!0,get:function(){return Hn.createRangeTransform}}),Object.defineProperty(r,"createRowTransform",{enumerable:!0,get:function(){return yi.createRowTransform}}),Object.defineProperty(r,"createSubsetTransform",{enumerable:!0,get:function(){return kt.createSubsetTransform}}),Object.defineProperty(r,"createConcatTransform",{enumerable:!0,get:function(){return qn.createConcatTransform}}),Object.defineProperty(r,"createStdTransform",{enumerable:!0,get:function(){return vi.createStdTransform}}),Object.defineProperty(r,"createSumTransform",{enumerable:!0,get:function(){return bi.createSumTransform}}),Object.defineProperty(r,"createVarianceTransform",{enumerable:!0,get:function(){return Mr.createVarianceTransform}});var g=n("./core/function/typed"),f=n("./type/resultset/ResultSet"),m=n("./type/bignumber/BigNumber"),l=n("./type/complex/Complex"),x=n("./type/fraction/Fraction"),S=n("./type/matrix/Range"),D=n("./type/matrix/Matrix"),h=n("./type/matrix/DenseMatrix"),_=n("./function/utils/clone"),o=n("./function/utils/isInteger"),p=n("./function/utils/isNegative"),b=n("./function/utils/isNumeric"),y=n("./function/utils/hasNumericValue"),A=n("./function/utils/isPositive"),E=n("./function/utils/isZero"),N=n("./function/utils/isNaN"),T=n("./function/utils/typeOf"),O=n("./function/relational/equalScalar"),j=n("./type/matrix/SparseMatrix"),M=n("./type/number"),F=n("./type/string"),B=n("./type/boolean"),I=n("./type/bignumber/function/bignumber"),G=n("./type/complex/function/complex"),k=n("./type/fraction/function/fraction"),V=n("./type/matrix/function/matrix"),R=n("./type/unit/function/splitUnit"),U=n("./function/arithmetic/unaryMinus"),L=n("./function/arithmetic/unaryPlus"),H=n("./function/arithmetic/abs"),X=n("./function/matrix/apply"),Z=n("./function/arithmetic/addScalar"),J=n("./function/arithmetic/cbrt"),K=n("./function/arithmetic/ceil"),$=n("./function/arithmetic/cube"),W=n("./function/arithmetic/exp"),Y=n("./function/arithmetic/expm1"),te=n("./function/arithmetic/fix"),ce=n("./function/arithmetic/floor"),oe=n("./function/arithmetic/gcd"),ue=n("./function/arithmetic/lcm"),Ce=n("./function/arithmetic/log10"),le=n("./function/arithmetic/log2"),ye=n("./function/arithmetic/mod"),ve=n("./function/arithmetic/multiplyScalar"),pe=n("./function/arithmetic/multiply"),be=n("./function/arithmetic/nthRoot"),Ne=n("./function/arithmetic/sign"),he=n("./function/arithmetic/sqrt"),ne=n("./function/arithmetic/square"),re=n("./function/arithmetic/subtract"),de=n("./function/arithmetic/xgcd"),xe=n("./function/arithmetic/dotMultiply"),Pe=n("./function/bitwise/bitAnd"),Ae=n("./function/bitwise/bitNot"),Oe=n("./function/bitwise/bitOr"),Se=n("./function/bitwise/bitXor"),Fe=n("./function/complex/arg"),$e=n("./function/complex/conj"),Re=n("./function/complex/im"),qe=n("./function/complex/re"),ze=n("./function/logical/not"),we=n("./function/logical/or"),Ee=n("./function/logical/xor"),Me=n("./function/matrix/concat"),me=n("./function/matrix/column"),Ge=n("./function/matrix/cross"),Xe=n("./function/matrix/diag"),rt=n("./function/matrix/eye"),ut=n("./function/matrix/filter"),ft=n("./function/matrix/flatten"),pt=n("./function/matrix/forEach"),ot=n("./function/matrix/getMatrixDataType"),bt=n("./function/matrix/identity"),At=n("./function/matrix/kron"),Ke=n("./function/matrix/map"),dt=n("./function/matrix/ones"),vt=n("./function/matrix/range"),wt=n("./function/matrix/reshape"),Nt=n("./function/matrix/resize"),Ot=n("./function/matrix/row"),Tt=n("./function/matrix/size"),It=n("./function/matrix/squeeze"),Pt=n("./function/matrix/subset"),Rt=n("./function/matrix/transpose"),Ft=n("./function/matrix/ctranspose"),Bt=n("./function/matrix/zeros"),Ut=n("./function/special/erf"),Xt=n("./function/statistics/mode"),Zt=n("./function/statistics/prod"),Yt=n("./function/string/format"),rn=n("./function/string/print"),Gt=n("./function/unit/to"),sn=n("./function/utils/isPrime"),Je=n("./function/utils/numeric"),Ct=n("./function/arithmetic/divideScalar"),_e=n("./function/arithmetic/pow"),je=n("./function/arithmetic/round"),Ue=n("./function/arithmetic/log"),Be=n("./function/arithmetic/log1p"),He=n("./function/arithmetic/nthRoots"),ke=n("./function/arithmetic/dotPow"),Qe=n("./function/arithmetic/dotDivide"),et=n("./function/algebra/solver/lsolve"),ct=n("./function/algebra/solver/usolve"),st=n("./function/bitwise/leftShift"),at=n("./function/bitwise/rightArithShift"),St=n("./function/bitwise/rightLogShift"),jt=n("./function/logical/and"),zt=n("./function/relational/compare"),$t=n("./function/relational/compareNatural"),Qt=n("./function/relational/compareText"),tn=n("./function/relational/equal"),an=n("./function/relational/equalText"),un=n("./function/relational/smaller"),bn=n("./function/relational/smallerEq"),Un=n("./function/relational/larger"),tr=n("./function/relational/largerEq"),Gn=n("./function/relational/deepEqual"),nr=n("./function/relational/unequal"),Bn=n("./function/matrix/partitionSelect"),Vn=n("./function/matrix/sort"),Jn=n("./function/statistics/max"),zn=n("./function/statistics/min"),dn=n("./type/matrix/ImmutableDenseMatrix"),on=n("./type/matrix/MatrixIndex"),_r=n("./type/matrix/FibonacciHeap"),cr=n("./type/matrix/Spa"),ur=n("./type/unit/Unit"),Wn=n("./type/unit/function/unit"),zr=n("./type/matrix/function/sparse"),Gr=n("./type/unit/function/createUnit"),lr=n("./function/trigonometry/acos"),Tn=n("./function/trigonometry/acosh"),ti=n("./function/trigonometry/acot"),Or=n("./function/trigonometry/acoth"),xr=n("./function/trigonometry/acsc"),Pn=n("./function/trigonometry/acsch"),hr=n("./function/trigonometry/asec"),xn=n("./function/trigonometry/asech"),Pr=n("./function/trigonometry/asin"),Vr=n("./function/trigonometry/asinh"),Ar=n("./function/trigonometry/atan"),wr=n("./function/trigonometry/atan2"),ni=n("./function/trigonometry/atanh"),ri=n("./function/trigonometry/cos"),rr=n("./function/trigonometry/cosh"),Xn=n("./function/trigonometry/cot"),Yn=n("./function/trigonometry/coth"),Rn=n("./function/trigonometry/csc"),mr=n("./function/trigonometry/csch"),$n=n("./function/trigonometry/sec"),ir=n("./function/trigonometry/sech"),ii=n("./function/trigonometry/sin"),Zn=n("./function/trigonometry/sinh"),Dr=n("./function/trigonometry/tan"),$r=n("./function/trigonometry/tanh"),Hr=n("./function/set/setCartesian"),qr=n("./function/set/setDifference"),Wr=n("./function/set/setDistinct"),jr=n("./function/set/setIntersect"),dr=n("./function/set/setIsSubset"),Ir=n("./function/set/setMultiplicity"),Xr=n("./function/set/setPowerset"),Qr=n("./function/set/setSize"),Sr=n("./function/set/setSymDifference"),Er=n("./function/set/setUnion"),Yr=n("./function/arithmetic/add"),Cr=n("./function/arithmetic/hypot"),Zr=n("./function/arithmetic/norm"),Fr=n("./function/matrix/dot"),Jr=n("./function/matrix/trace"),gr=n("./type/matrix/function"),ar=n("./expression/node/Node"),Nr=n("./expression/node/AccessorNode"),Br=n("./expression/node/ArrayNode"),mn=n("./expression/node/AssignmentNode"),Kn=n("./expression/node/BlockNode"),Vt=n("./expression/node/ConditionalNode"),yr=n("./expression/node/ConstantNode"),Mn=n("./expression/node/FunctionAssignmentNode"),pr=n("./expression/node/IndexNode"),Kr=n("./expression/node/ObjectNode"),si=n("./expression/node/OperatorNode"),pn=n("./expression/node/ParenthesisNode"),ei=n("./expression/node/RangeNode"),Rr=n("./expression/node/RelationalNode"),Ln=n("./expression/node/SymbolNode"),Sn=n("./expression/node/FunctionNode"),ai=n("./expression/parse"),Tr=n("./expression/function/compile"),oi=n("./expression/function/evaluate"),kr=n("./expression/function/eval"),ci=n("./expression/Parser"),Lr=n("./expression/function/parser"),_n=n("./function/algebra/decomposition/lup"),vr=n("./function/algebra/decomposition/qr"),Q=n("./function/algebra/decomposition/slu"),ee=n("./function/algebra/solver/lusolve"),se=n("./expression/Help"),ae=n("./type/chain/Chain"),ge=n("./expression/function/help"),Te=n("./type/chain/function/chain"),Ie=n("./function/matrix/det"),Ve=n("./function/matrix/inv"),Ze=n("./function/matrix/eigs"),Ye=n("./function/matrix/expm"),it=n("./function/matrix/sqrtm"),ht=n("./function/arithmetic/divide"),lt=n("./function/geometry/distance"),nt=n("./function/geometry/intersect"),Mt=n("./function/statistics/sum"),_t=n("./function/statistics/mean"),Dt=n("./function/statistics/median"),gt=n("./function/statistics/mad"),yt=n("./function/statistics/variance"),Ht=n("./function/statistics/quantileSeq"),Kt=n("./function/statistics/std"),qt=n("./function/probability/combinations"),Wt=n("./function/probability/combinationsWithRep"),en=n("./function/probability/gamma"),gn=n("./function/probability/factorial"),An=n("./function/probability/kldivergence"),En=n("./function/probability/multinomial"),jn=n("./function/probability/permutations"),kn=n("./function/probability/pickRandom"),Qn=n("./function/probability/random"),hn=n("./function/probability/randomInt"),yn=n("./function/combinatorics/stirlingS2"),fn=n("./function/combinatorics/bellNumbers"),In=n("./function/combinatorics/catalan"),wn=n("./function/combinatorics/composition"),On=n("./function/algebra/simplify"),vn=n("./function/algebra/derivative"),Nn=n("./function/algebra/rationalize"),Ur=n("./json/reviver"),br=n("./json/replacer"),Cn=n("./constants"),Jt=n("./type/unit/physicalConstants"),fi=n("./expression/transform/apply.transform"),fe=n("./expression/transform/column.transform"),nn=n("./expression/transform/filter.transform"),ui=n("./expression/transform/forEach.transform"),fr=n("./expression/transform/index.transform"),pi=n("./expression/transform/map.transform"),tt=n("./expression/transform/max.transform"),li=n("./expression/transform/mean.transform"),hi=n("./expression/transform/min.transform"),Hn=n("./expression/transform/range.transform"),yi=n("./expression/transform/row.transform"),kt=n("./expression/transform/subset.transform"),qn=n("./expression/transform/concat.transform"),vi=n("./expression/transform/std.transform"),bi=n("./expression/transform/sum.transform"),Mr=n("./expression/transform/variance.transform")},{"./constants":59,"./core/function/typed":65,"./expression/Help":401,"./expression/Parser":402,"./expression/function/compile":614,"./expression/function/eval":615,"./expression/function/evaluate":616,"./expression/function/help":617,"./expression/function/parser":618,"./expression/node/AccessorNode":620,"./expression/node/ArrayNode":621,"./expression/node/AssignmentNode":622,"./expression/node/BlockNode":623,"./expression/node/ConditionalNode":624,"./expression/node/ConstantNode":625,"./expression/node/FunctionAssignmentNode":626,"./expression/node/FunctionNode":627,"./expression/node/IndexNode":628,"./expression/node/Node":629,"./expression/node/ObjectNode":630,"./expression/node/OperatorNode":631,"./expression/node/ParenthesisNode":632,"./expression/node/RangeNode":633,"./expression/node/RelationalNode":634,"./expression/node/SymbolNode":635,"./expression/parse":639,"./expression/transform/apply.transform":640,"./expression/transform/column.transform":641,"./expression/transform/concat.transform":642,"./expression/transform/filter.transform":643,"./expression/transform/forEach.transform":644,"./expression/transform/index.transform":645,"./expression/transform/map.transform":646,"./expression/transform/max.transform":647,"./expression/transform/mean.transform":648,"./expression/transform/min.transform":649,"./expression/transform/range.transform":650,"./expression/transform/row.transform":651,"./expression/transform/std.transform":652,"./expression/transform/subset.transform":653,"./expression/transform/sum.transform":654,"./expression/transform/variance.transform":657,"./function/algebra/decomposition/lup":659,"./function/algebra/decomposition/qr":660,"./function/algebra/decomposition/slu":661,"./function/algebra/derivative":662,"./function/algebra/rationalize":663,"./function/algebra/simplify":664,"./function/algebra/solver/lsolve":669,"./function/algebra/solver/lusolve":670,"./function/algebra/solver/usolve":671,"./function/arithmetic/abs":691,"./function/arithmetic/add":692,"./function/arithmetic/addScalar":693,"./function/arithmetic/cbrt":694,"./function/arithmetic/ceil":695,"./function/arithmetic/cube":696,"./function/arithmetic/divide":697,"./function/arithmetic/divideScalar":698,"./function/arithmetic/dotDivide":699,"./function/arithmetic/dotMultiply":700,"./function/arithmetic/dotPow":701,"./function/arithmetic/exp":702,"./function/arithmetic/expm1":703,"./function/arithmetic/fix":704,"./function/arithmetic/floor":705,"./function/arithmetic/gcd":706,"./function/arithmetic/hypot":707,"./function/arithmetic/lcm":708,"./function/arithmetic/log":709,"./function/arithmetic/log10":710,"./function/arithmetic/log1p":711,"./function/arithmetic/log2":712,"./function/arithmetic/mod":713,"./function/arithmetic/multiply":714,"./function/arithmetic/multiplyScalar":715,"./function/arithmetic/norm":716,"./function/arithmetic/nthRoot":717,"./function/arithmetic/nthRoots":718,"./function/arithmetic/pow":719,"./function/arithmetic/round":720,"./function/arithmetic/sign":721,"./function/arithmetic/sqrt":722,"./function/arithmetic/square":723,"./function/arithmetic/subtract":724,"./function/arithmetic/unaryMinus":725,"./function/arithmetic/unaryPlus":726,"./function/arithmetic/xgcd":727,"./function/bitwise/bitAnd":728,"./function/bitwise/bitNot":729,"./function/bitwise/bitOr":730,"./function/bitwise/bitXor":731,"./function/bitwise/leftShift":732,"./function/bitwise/rightArithShift":733,"./function/bitwise/rightLogShift":734,"./function/combinatorics/bellNumbers":735,"./function/combinatorics/catalan":736,"./function/combinatorics/composition":737,"./function/combinatorics/stirlingS2":738,"./function/complex/arg":739,"./function/complex/conj":740,"./function/complex/im":741,"./function/complex/re":742,"./function/geometry/distance":743,"./function/geometry/intersect":744,"./function/logical/and":745,"./function/logical/not":746,"./function/logical/or":747,"./function/logical/xor":748,"./function/matrix/apply":749,"./function/matrix/column":750,"./function/matrix/concat":751,"./function/matrix/cross":752,"./function/matrix/ctranspose":753,"./function/matrix/det":754,"./function/matrix/diag":755,"./function/matrix/dot":756,"./function/matrix/eigs":757,"./function/matrix/expm":758,"./function/matrix/eye":759,"./function/matrix/filter":760,"./function/matrix/flatten":761,"./function/matrix/forEach":762,"./function/matrix/getMatrixDataType":763,"./function/matrix/identity":764,"./function/matrix/inv":765,"./function/matrix/kron":766,"./function/matrix/map":767,"./function/matrix/ones":768,"./function/matrix/partitionSelect":769,"./function/matrix/range":770,"./function/matrix/reshape":771,"./function/matrix/resize":772,"./function/matrix/row":773,"./function/matrix/size":774,"./function/matrix/sort":775,"./function/matrix/sqrtm":776,"./function/matrix/squeeze":777,"./function/matrix/subset":778,"./function/matrix/trace":779,"./function/matrix/transpose":780,"./function/matrix/zeros":781,"./function/probability/combinations":782,"./function/probability/combinationsWithRep":783,"./function/probability/factorial":784,"./function/probability/gamma":785,"./function/probability/kldivergence":786,"./function/probability/multinomial":787,"./function/probability/permutations":788,"./function/probability/pickRandom":789,"./function/probability/random":790,"./function/probability/randomInt":791,"./function/relational/compare":794,"./function/relational/compareNatural":795,"./function/relational/compareText":796,"./function/relational/deepEqual":797,"./function/relational/equal":798,"./function/relational/equalScalar":799,"./function/relational/equalText":800,"./function/relational/larger":801,"./function/relational/largerEq":802,"./function/relational/smaller":803,"./function/relational/smallerEq":804,"./function/relational/unequal":805,"./function/set/setCartesian":806,"./function/set/setDifference":807,"./function/set/setDistinct":808,"./function/set/setIntersect":809,"./function/set/setIsSubset":810,"./function/set/setMultiplicity":811,"./function/set/setPowerset":812,"./function/set/setSize":813,"./function/set/setSymDifference":814,"./function/set/setUnion":815,"./function/special/erf":816,"./function/statistics/mad":817,"./function/statistics/max":818,"./function/statistics/mean":819,"./function/statistics/median":820,"./function/statistics/min":821,"./function/statistics/mode":822,"./function/statistics/prod":823,"./function/statistics/quantileSeq":824,"./function/statistics/std":825,"./function/statistics/sum":826,"./function/statistics/variance":828,"./function/string/format":829,"./function/string/print":830,"./function/trigonometry/acos":831,"./function/trigonometry/acosh":832,"./function/trigonometry/acot":833,"./function/trigonometry/acoth":834,"./function/trigonometry/acsc":835,"./function/trigonometry/acsch":836,"./function/trigonometry/asec":837,"./function/trigonometry/asech":838,"./function/trigonometry/asin":839,"./function/trigonometry/asinh":840,"./function/trigonometry/atan":841,"./function/trigonometry/atan2":842,"./function/trigonometry/atanh":843,"./function/trigonometry/cos":844,"./function/trigonometry/cosh":845,"./function/trigonometry/cot":846,"./function/trigonometry/coth":847,"./function/trigonometry/csc":848,"./function/trigonometry/csch":849,"./function/trigonometry/sec":850,"./function/trigonometry/sech":851,"./function/trigonometry/sin":852,"./function/trigonometry/sinh":853,"./function/trigonometry/tan":854,"./function/trigonometry/tanh":855,"./function/unit/to":856,"./function/utils/clone":857,"./function/utils/hasNumericValue":858,"./function/utils/isInteger":859,"./function/utils/isNaN":860,"./function/utils/isNegative":861,"./function/utils/isNumeric":862,"./function/utils/isPositive":863,"./function/utils/isPrime":864,"./function/utils/isZero":865,"./function/utils/numeric":866,"./function/utils/typeOf":867,"./json/replacer":868,"./json/reviver":869,"./type/bignumber/BigNumber":880,"./type/bignumber/function/bignumber":881,"./type/boolean":882,"./type/chain/Chain":883,"./type/chain/function/chain":884,"./type/complex/Complex":885,"./type/complex/function/complex":886,"./type/fraction/Fraction":887,"./type/fraction/function/fraction":888,"./type/matrix/DenseMatrix":889,"./type/matrix/FibonacciHeap":890,"./type/matrix/ImmutableDenseMatrix":891,"./type/matrix/Matrix":892,"./type/matrix/MatrixIndex":893,"./type/matrix/Range":894,"./type/matrix/Spa":895,"./type/matrix/SparseMatrix":896,"./type/matrix/function":897,"./type/matrix/function/matrix":898,"./type/matrix/function/sparse":899,"./type/number":914,"./type/resultset/ResultSet":915,"./type/string":916,"./type/unit/Unit":917,"./type/unit/function/createUnit":918,"./type/unit/function/splitUnit":919,"./type/unit/function/unit":920,"./type/unit/physicalConstants":921}],659:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLup=void 0;var g=n("../../../utils/object"),f=n("../../../utils/factory"),m=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],l=(0,f.factory)("lup",m,function(x){var S=x.typed,D=x.matrix,h=x.abs,_=x.addScalar,o=x.divideScalar,p=x.multiplyScalar,b=x.subtract,y=x.larger,A=x.equalScalar,E=x.unaryMinus,N=x.DenseMatrix,T=x.SparseMatrix,O=x.Spa;return S("lup",{DenseMatrix:j,SparseMatrix:M,Array:function(F){var B=j(D(F));return{L:B.L.valueOf(),U:B.U.valueOf(),p:B.p}}});function j(F){var B,I=F._size[0],G=F._size[1],k=Math.min(I,G),V=(0,g.clone)(F._data),R=[],U=[I,k],L=[],H=[k,G],X=[];for(te=0;te<I;te++)X[te]=te;for(B=0;B<G;B++){if(0<B)for(te=0;te<I;te++){for(var Z=Math.min(te,B),J=0,K=0;K<Z;K++)J=_(J,p(V[te][K],V[K][B]));V[te][B]=b(V[te][B],J)}for(var $=B,W=0,Y=0,te=B;te<I;te++){var ce=V[te][B],oe=h(ce);y(oe,W)&&($=te,W=oe,Y=ce)}if(B!==$&&(X[B]=[X[$],X[$]=X[B]][0],N._swapRows(B,$,V)),B<I)for(te=B+1;te<I;te++){var ue=V[te][B];A(ue,0)||(V[te][B]=o(V[te][B],Y))}}for(B=0;B<G;B++)for(te=0;te<I;te++)B===0&&(te<G&&(L[te]=[]),R[te]=[]),te<B?(te<G&&(L[te][B]=V[te][B]),B<I&&(R[te][B]=0)):te!==B?(te<G&&(L[te][B]=0),B<I&&(R[te][B]=V[te][B])):(te<G&&(L[te][B]=V[te][B]),B<I&&(R[te][B]=1));var Ce=new N({data:R,size:U}),le=new N({data:L,size:H}),ye=[];for(te=0,k=X.length;te<k;te++)ye[X[te]]=te;return{L:Ce,U:le,p:ye,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function M(F){for(var B,I=F._size[0],G=F._size[1],k=Math.min(I,G),V=F._values,R=F._index,U=F._ptr,L=[],H=[],X=[],Z=[I,k],J=[],K=[],$=[],W=[k,G],Y=[],te=[],ce=0;ce<I;ce++)Y[ce]=ce,te[ce]=ce;for(var oe=function(){var Ce=new O;ue<I&&(X.push(L.length),L.push(1),H.push(ue)),$.push(J.length);var le=U[ue],ye=U[ue+1];for(B=le;B<ye;B++)ce=R[B],Ce.set(Y[ce],V[B]);0<ue&&Ce.forEach(0,ue-1,function(de,xe){T._forEachRow(de,L,H,X,function(Pe,Ae){de<Pe&&Ce.accumulate(Pe,E(p(Ae,xe)))})});var ve,pe,be,Ne,he=ue,ne=Ce.get(ue),re=h(ne);Ce.forEach(ue+1,I-1,function(de,xe){var Pe=h(xe);y(Pe,re)&&(he=de,re=Pe,ne=xe)}),ue!==he&&(T._swapRows(ue,he,Z[1],L,H,X),T._swapRows(ue,he,W[1],J,K,$),Ce.swap(ue,he),pe=he,be=te[ve=ue],Ne=te[pe],Y[be]=pe,Y[Ne]=ve,te[ve]=Ne,te[pe]=be),Ce.forEach(0,I-1,function(de,xe){de<=ue?(J.push(xe),K.push(de)):(xe=o(xe,ne),A(xe,0)||(L.push(xe),H.push(de)))})},ue=0;ue<G;ue++)oe();return $.push(J.length),X.push(L.length),{L:new T({values:L,index:H,ptr:X,size:Z}),U:new T({values:J,index:K,ptr:$,size:W}),p:Y,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});r.createLup=l},{"../../../utils/factory":931,"../../../utils/object":938}],660:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createQr=void 0;var g=n("../../../utils/factory");function f(){return(f=Object.assign||function(x){for(var S=1;S<arguments.length;S++){var D=arguments[S];for(var h in D)Object.prototype.hasOwnProperty.call(D,h)&&(x[h]=D[h])}return x}).apply(this,arguments)}var m=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],l=(0,g.factory)("qr",m,function(x){var S=x.typed,D=x.matrix,h=x.zeros,_=x.identity,o=x.isZero,p=x.equal,b=x.sign,y=x.sqrt,A=x.conj,E=x.unaryMinus,N=x.addScalar,T=x.divideScalar,O=x.multiplyScalar,j=x.subtract,M=x.complex;return f(S("qr",{DenseMatrix:B,SparseMatrix:function(){throw new Error("qr not implemented for sparse matrices yet")},Array:function(I){var G=B(D(I));return{Q:G.Q.valueOf(),R:G.R.valueOf()}}}),{_denseQRimpl:F});function F(I){for(var G=I._size[0],k=I._size[1],V=_([G],"dense"),R=V._data,U=I.clone(),L=U._data,H=h([G],""),X=0;X<Math.min(k,G);++X){var Z=L[X][X],J=E(p(Z,0)?1:b(Z)),K=A(J),$=0;for(te=X;te<G;te++)$=N($,O(L[te][X],A(L[te][X])));var W=O(J,y($));if(!o(W)){for(var Y=j(Z,W),te=X+(H[X]=1);te<G;te++)H[te]=T(L[te][X],Y);for(var ce=E(A(T(Y,W))),oe=void 0,ue=X;ue<k;ue++){for(oe=0,te=X;te<G;te++)oe=N(oe,O(A(H[te]),L[te][ue]));for(oe=O(oe,ce),te=X;te<G;te++)L[te][ue]=O(j(L[te][ue],O(H[te],oe)),K)}for(te=0;te<G;te++){for(oe=0,ue=X;ue<G;ue++)oe=N(oe,O(R[te][ue],H[ue]));for(oe=O(oe,ce),ue=X;ue<G;++ue)R[te][ue]=T(j(R[te][ue],O(oe,A(H[ue]))),K)}}}return{Q:V,R:U,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function B(I){var G=F(I),k=G.R._data;if(0<I._data.length)for(var V=k[0][0].type==="Complex"?M(0):0,R=0;R<k.length;++R)for(var U=0;U<R&&U<(k[0]||[]).length;++U)k[R][U]=V;return G}});r.createQr=l},{"../../../utils/factory":931}],661:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSlu=void 0;var g=n("../../../utils/number"),f=n("../../../utils/factory"),m=n("../sparse/csSqr"),l=n("../sparse/csLu"),x=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],S=(0,f.factory)("slu",x,function(D){var h=D.typed,_=D.abs,o=D.add,p=D.multiply,b=D.transpose,y=D.divideScalar,A=D.subtract,E=D.larger,N=D.largerEq,T=D.SparseMatrix,O=(0,m.createCsSqr)({add:o,multiply:p,transpose:b}),j=(0,l.createCsLu)({abs:_,divideScalar:y,multiply:p,subtract:A,larger:E,largerEq:N,SparseMatrix:T});return h("slu",{"SparseMatrix, number, number":function(M,F,B){if(!(0,g.isInteger)(F)||F<0||3<F)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(B<0||1<B)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var I=O(F,M,!1),G=j(M,I,B);return{L:G.L,U:G.U,p:G.pinv,q:I.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});r.createSlu=S},{"../../../utils/factory":931,"../../../utils/number":937,"../sparse/csLu":681,"../sparse/csSqr":688}],662:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDerivative=void 0;var g=n("../../utils/is"),f=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],m=(0,n("../../utils/factory").factory)("derivative",f,function(l){var x=l.typed,S=l.config,D=l.parse,h=l.simplify,_=l.equal,o=l.isZero,p=l.numeric,b=l.ConstantNode,y=l.FunctionNode,A=l.OperatorNode,E=l.ParenthesisNode,N=l.SymbolNode,T=x("derivative",{"Node, SymbolNode, Object":function(B,I,G){var k={};j(k,B,I.name);var V=M(B,k);return G.simplify?h(V):V},"Node, SymbolNode":function(B,I){return T(B,I,{simplify:!0})},"string, SymbolNode":function(B,I){return T(D(B),I)},"string, SymbolNode, Object":function(B,I,G){return T(D(B),I,G)},"string, string":function(B,I){return T(D(B),D(I))},"string, string, Object":function(B,I,G){return T(D(B),D(I),G)},"Node, string":function(B,I){return T(B,D(I))},"Node, string, Object":function(B,I,G){return T(B,D(I),G)}});T._simplify=!0,T.toTex=function(B){return O.apply(null,B.args)};var O=x("_derivTex",{"Node, SymbolNode":function(B,I){return(0,g.isConstantNode)(B)&&(0,g.typeOf)(B.value)==="string"?O(D(B.value).toString(),I.toString(),1):O(B.toString(),I.toString(),1)},"Node, ConstantNode":function(B,I){if((0,g.typeOf)(I.value)==="string")return O(B,D(I.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(B,I,G){return O(B.toString(),I.name,G.value)},"string, string, number":function(B,I,G){var k=G===1?"{d\\over d"+I+"}":"{d^{"+G+"}\\over d"+I+"^{"+G+"}}";return k+"\\left[".concat(B,"\\right]")}}),j=x("constTag",{"Object, ConstantNode, string":function(B,I){return B[I]=!0},"Object, SymbolNode, string":function(B,I,G){return I.name!==G&&(B[I]=!0)},"Object, ParenthesisNode, string":function(B,I,G){return j(B,I.content,G)},"Object, FunctionAssignmentNode, string":function(B,I,G){return I.params.indexOf(G)===-1?B[I]=!0:j(B,I.expr,G)},"Object, FunctionNode | OperatorNode, string":function(B,I,G){if(0<I.args.length){for(var k=j(B,I.args[0],G),V=1;V<I.args.length;++V)k=j(B,I.args[V],G)&&k;if(k)return B[I]=!0}return!1}}),M=x("_derivative",{"ConstantNode, Object":function(){return F(0)},"SymbolNode, Object":function(B,I){return I[B]!==void 0?F(0):F(1)},"ParenthesisNode, Object":function(B,I){return new E(M(B.content,I))},"FunctionAssignmentNode, Object":function(B,I){return I[B]!==void 0?F(0):M(B.expr,I)},"FunctionNode, Object":function(B,I){if(B.args.length!==1&&function(Z){if(!((Z.name==="log"||Z.name==="nthRoot"||Z.name==="pow")&&Z.args.length===2)){for(var J=0;J<Z.args.length;++J)Z.args[J]=F(0);throw Z.compile().evaluate(),new Error("Expected TypeError, but none found")}}(B),I[B]!==void 0)return F(0);var G,k,V,R,U=B.args[0],L=!1,H=!1;switch(B.name){case"cbrt":L=!0,k=new A("*","multiply",[F(3),new A("^","pow",[U,new A("/","divide",[F(2),F(3)])])]);break;case"sqrt":case"nthRoot":if(B.args.length===1)L=!0,k=new A("*","multiply",[F(2),new y("sqrt",[U])]);else if(B.args.length===2)return I[G=new A("/","divide",[F(1),B.args[1]])]=I[B.args[1]],M(new A("^","pow",[U,G]),I);break;case"log10":G=F(10);case"log":if(G||B.args.length!==1){if(B.args.length===1&&G||B.args.length===2&&I[B.args[1]]!==void 0)k=new A("*","multiply",[U.clone(),new y("log",[G||B.args[1]])]),L=!0;else if(B.args.length===2)return M(new A("/","divide",[new y("log",[U]),new y("log",[B.args[1]])]),I)}else k=U.clone(),L=!0;break;case"pow":return I[G]=I[B.args[1]],M(new A("^","pow",[U,B.args[1]]),I);case"exp":k=new y("exp",[U.clone()]);break;case"sin":k=new y("cos",[U.clone()]);break;case"cos":k=new A("-","unaryMinus",[new y("sin",[U.clone()])]);break;case"tan":k=new A("^","pow",[new y("sec",[U.clone()]),F(2)]);break;case"sec":k=new A("*","multiply",[B,new y("tan",[U.clone()])]);break;case"csc":H=!0,k=new A("*","multiply",[B,new y("cot",[U.clone()])]);break;case"cot":H=!0,k=new A("^","pow",[new y("csc",[U.clone()]),F(2)]);break;case"asin":L=!0,k=new y("sqrt",[new A("-","subtract",[F(1),new A("^","pow",[U.clone(),F(2)])])]);break;case"acos":H=L=!0,k=new y("sqrt",[new A("-","subtract",[F(1),new A("^","pow",[U.clone(),F(2)])])]);break;case"atan":L=!0,k=new A("+","add",[new A("^","pow",[U.clone(),F(2)]),F(1)]);break;case"asec":L=!0,k=new A("*","multiply",[new y("abs",[U.clone()]),new y("sqrt",[new A("-","subtract",[new A("^","pow",[U.clone(),F(2)]),F(1)])])]);break;case"acsc":H=L=!0,k=new A("*","multiply",[new y("abs",[U.clone()]),new y("sqrt",[new A("-","subtract",[new A("^","pow",[U.clone(),F(2)]),F(1)])])]);break;case"acot":H=L=!0,k=new A("+","add",[new A("^","pow",[U.clone(),F(2)]),F(1)]);break;case"sinh":k=new y("cosh",[U.clone()]);break;case"cosh":k=new y("sinh",[U.clone()]);break;case"tanh":k=new A("^","pow",[new y("sech",[U.clone()]),F(2)]);break;case"sech":H=!0,k=new A("*","multiply",[B,new y("tanh",[U.clone()])]);break;case"csch":H=!0,k=new A("*","multiply",[B,new y("coth",[U.clone()])]);break;case"coth":H=!0,k=new A("^","pow",[new y("csch",[U.clone()]),F(2)]);break;case"asinh":L=!0,k=new y("sqrt",[new A("+","add",[new A("^","pow",[U.clone(),F(2)]),F(1)])]);break;case"acosh":L=!0,k=new y("sqrt",[new A("-","subtract",[new A("^","pow",[U.clone(),F(2)]),F(1)])]);break;case"atanh":L=!0,k=new A("-","subtract",[F(1),new A("^","pow",[U.clone(),F(2)])]);break;case"asech":H=L=!0,k=new A("*","multiply",[U.clone(),new y("sqrt",[new A("-","subtract",[F(1),new A("^","pow",[U.clone(),F(2)])])])]);break;case"acsch":H=L=!0,k=new A("*","multiply",[new y("abs",[U.clone()]),new y("sqrt",[new A("+","add",[new A("^","pow",[U.clone(),F(2)]),F(1)])])]);break;case"acoth":H=L=!0,k=new A("-","subtract",[F(1),new A("^","pow",[U.clone(),F(2)])]);break;case"abs":k=new A("/","divide",[new y(new N("abs"),[U.clone()]),U.clone()]);break;case"gamma":default:throw new Error('Function "'+B.name+'" is not supported by derivative, or a wrong number of arguments is passed')}R=L?(V="/","divide"):(V="*","multiply");var X=M(U,I);return H&&(X=new A("-","unaryMinus",[X])),new A(V,R,[X,k])},"OperatorNode, Object":function(B,I){if(I[B]!==void 0)return F(0);if(B.op==="+")return new A(B.op,B.fn,B.args.map(function(J){return M(J,I)}));if(B.op==="-"){if(B.isUnary())return new A(B.op,B.fn,[M(B.args[0],I)]);if(B.isBinary())return new A(B.op,B.fn,[M(B.args[0],I),M(B.args[1],I)])}if(B.op==="*"){var G=B.args.filter(function(J){return I[J]!==void 0});if(0<G.length){var k=B.args.filter(function(J){return I[J]===void 0}),V=k.length===1?k[0]:new A("*","multiply",k),R=G.concat(M(V,I));return new A("*","multiply",R)}return new A("+","add",B.args.map(function(J){return new A("*","multiply",B.args.map(function(K){return K===J?M(K,I):K.clone()}))}))}if(B.op==="/"&&B.isBinary()){var U=B.args[0],L=B.args[1];return I[L]!==void 0?new A("/","divide",[M(U,I),L]):I[U]!==void 0?new A("*","multiply",[new A("-","unaryMinus",[U]),new A("/","divide",[M(L,I),new A("^","pow",[L.clone(),F(2)])])]):new A("/","divide",[new A("-","subtract",[new A("*","multiply",[M(U,I),L.clone()]),new A("*","multiply",[U.clone(),M(L,I)])]),new A("^","pow",[L.clone(),F(2)])])}if(B.op==="^"&&B.isBinary()){var H=B.args[0],X=B.args[1];if(I[H]!==void 0)return(0,g.isConstantNode)(H)&&(o(H.value)||_(H.value,1))?F(0):new A("*","multiply",[B,new A("*","multiply",[new y("log",[H.clone()]),M(X.clone(),I)])]);if(I[X]===void 0)return new A("*","multiply",[new A("^","pow",[H.clone(),X.clone()]),new A("+","add",[new A("*","multiply",[M(H,I),new A("/","divide",[X.clone(),H.clone()])]),new A("*","multiply",[M(X,I),new y("log",[H.clone()])])])]);if((0,g.isConstantNode)(X)){if(o(X.value))return F(0);if(_(X.value,1))return M(H,I)}var Z=new A("^","pow",[H.clone(),new A("-","subtract",[X,F(1)])]);return new A("*","multiply",[X.clone(),new A("*","multiply",[M(H,I),Z])])}throw new Error('Operator "'+B.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function F(B,I){return new b(p(B,I||S.number))}return T});r.createDerivative=m},{"../../utils/factory":931,"../../utils/is":933}],663:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRationalize=void 0;var g=n("../../utils/number"),f=n("../../utils/factory"),m=n("./simplify/simplifyConstant"),l=n("./simplify/simplifyCore"),x=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplify","?bignumber","?fraction","mathWithTransform","ConstantNode","OperatorNode","FunctionNode","SymbolNode","ParenthesisNode"],S=(0,f.factory)("rationalize",x,function(D){var h=D.config,_=D.typed,o=D.equal,p=D.isZero,b=D.add,y=D.subtract,A=D.multiply,E=D.divide,N=D.pow,T=D.parse,O=D.simplify,j=D.fraction,M=D.bignumber,F=D.mathWithTransform,B=D.ConstantNode,I=D.OperatorNode,G=D.FunctionNode,k=D.SymbolNode,V=D.ParenthesisNode,R=(0,m.createSimplifyConstant)({typed:_,config:h,mathWithTransform:F,fraction:j,bignumber:M,ConstantNode:B,OperatorNode:I,FunctionNode:G,SymbolNode:k}),U=(0,l.createSimplifyCore)({equal:o,isZero:p,add:b,subtract:y,multiply:A,divide:E,pow:N,ConstantNode:B,OperatorNode:I,FunctionNode:G,ParenthesisNode:V}),L=_("rationalize",{string:function(X){return L(T(X),{},!1)},"string, boolean":function(X,Z){return L(T(X),{},Z)},"string, Object":function(X,Z){return L(T(X),Z,!1)},"string, Object, boolean":function(X,Z,J){return L(T(X),Z,J)},Node:function(X){return L(X,{},!1)},"Node, boolean":function(X,Z){return L(X,{},Z)},"Node, Object":function(X,Z){return L(X,Z,!1)},"Node, Object, boolean":function(X,Z,J){var K,$,W=function(){var ye=[U,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},R,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],ve=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],pe=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],be={};return be.firstRules=ye.concat(ve,pe),be.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],be.sucDivRules=pe,be.firstRulesAgain=ye.concat(ve),be.finalRules=[U,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},R,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],be}(),Y=function(ye,ve,pe,be){var Ne=[],he=O(ye,be,ve,{exactFractions:!1}),ne="+-*"+((pe=!!pe)?"/":"");(function de(xe){var Pe=xe.type;{if(Pe==="FunctionNode")throw new Error("There is an unsolved function call");if(Pe==="OperatorNode")if(xe.op==="^"){if(xe.args[1].type!=="ConstantNode"||!(0,g.isInteger)(parseFloat(xe.args[1].value)))throw new Error("There is a non-integer exponent");de(xe.args[0])}else{if(ne.indexOf(xe.op)===-1)throw new Error("Operator "+xe.op+" invalid in polynomial expression");for(var Ae=0;Ae<xe.args.length;Ae++)de(xe.args[Ae])}else if(Pe==="SymbolNode"){var Oe=xe.name,Se=Ne.indexOf(Oe);Se===-1&&Ne.push(Oe)}else if(Pe==="ParenthesisNode")de(xe.content);else if(Pe!=="ConstantNode")throw new Error("type "+Pe+" is not allowed in polynomial expression")}})(he);var re={};return re.expression=he,re.variables=Ne,re}(X,Z,!0,W.firstRules),te=Y.variables.length;if(X=Y.expression,1<=te){X=function ye(ve,pe,be){var Ne=ve.type,he=1<arguments.length;{var ne,re,de,xe;Ne==="OperatorNode"&&ve.isBinary()&&(ne=!1,ve.op==="^"&&(ve.args[0].type!=="ParenthesisNode"&&ve.args[0].type!=="OperatorNode"||ve.args[1].type!=="ConstantNode"||(re=parseFloat(ve.args[1].value),ne=2<=re&&(0,g.isInteger)(re))),ne&&(ve=2<re?(de=ve.args[0],xe=new I("^","pow",[ve.args[0].cloneDeep(),new B(re-1)]),new I("*","multiply",[de,xe])):new I("*","multiply",[ve.args[0],ve.args[0].cloneDeep()]),he&&(be==="content"?pe.content=ve:pe.args[be]=ve)))}if(Ne==="ParenthesisNode")ye(ve.content,ve,"content");else if(Ne!=="ConstantNode"&&Ne!=="SymbolNode")for(var Pe=0;Pe<ve.args.length;Pe++)ye(ve.args[Pe],ve,Pe);if(!he)return ve}(X);var ce,oe=!0,ue=!1;for(X=O(X,W.firstRules,{},{exactFractions:!1});$=oe?W.distrDivRules:W.sucDivRules,oe=!oe,(ce=(X=O(X,$)).toString())!==K;)ue=!0,K=ce;ue&&(X=O(X,W.firstRulesAgain,{},{exactFractions:!1})),X=O(X,W.finalRules,{},{exactFractions:!1})}var Ce=[],le={};return X.type==="OperatorNode"&&X.isBinary()&&X.op==="/"?(te===1&&(X.args[0]=H(X.args[0],Ce),X.args[1]=H(X.args[1])),J&&(le.numerator=X.args[0],le.denominator=X.args[1])):(te===1&&(X=H(X,Ce)),J&&(le.numerator=X,le.denominator=null)),J?(le.coefficients=Ce,le.variables=Y.variables,le.expression=X,le):X}});function H(X,Z){Z===void 0&&(Z=[]);var J={cte:1,oper:"+",fire:""},K=Z[0]=0,$="";(function le(ye,ve,pe){var be=ye.type;{if(be==="FunctionNode")throw new Error("There is an unsolved function call");if(be==="OperatorNode"){if("+-*^".indexOf(ye.op)===-1)throw new Error("Operator "+ye.op+" invalid");if(ve!==null){if((ye.fn==="unaryMinus"||ye.fn==="pow")&&ve.fn!=="add"&&ve.fn!=="subtract"&&ve.fn!=="multiply")throw new Error("Invalid "+ye.op+" placing");if((ye.fn==="subtract"||ye.fn==="add"||ye.fn==="multiply")&&ve.fn!=="add"&&ve.fn!=="subtract")throw new Error("Invalid "+ye.op+" placing");if((ye.fn==="subtract"||ye.fn==="add"||ye.fn==="unaryMinus")&&pe.noFil!==0)throw new Error("Invalid "+ye.op+" placing")}ye.op!=="^"&&ye.op!=="*"||(pe.fire=ye.op);for(var Ne=0;Ne<ye.args.length;Ne++)ye.fn==="unaryMinus"&&(pe.oper="-"),ye.op!=="+"&&ye.fn!=="subtract"||(pe.fire="",pe.cte=1,pe.oper=Ne===0?"+":ye.op),pe.noFil=Ne,le(ye.args[Ne],ye,pe)}else if(be==="SymbolNode"){if(ye.name!==$&&$!=="")throw new Error("There is more than one variable");if($=ye.name,ve===null)return void(Z[1]=1);if(ve.op==="^"&&pe.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ve.op==="*"&&pe.noFil!==1)throw new Error("In multiply the variable should be the second parameter");pe.fire!==""&&pe.fire!=="*"||(K<1&&(Z[1]=0),Z[1]+=pe.cte*(pe.oper==="+"?1:-1),K=Math.max(1,K))}else{if(be!=="ConstantNode")throw new Error("Type "+be+" is not allowed");var he=parseFloat(ye.value);if(ve===null)return void(Z[0]=he);if(ve.op==="^"){if(pe.noFil!==1)throw new Error("Constant cannot be powered");if(!(0,g.isInteger)(he)||he<=0)throw new Error("Non-integer exponent is not allowed");for(var ne=K+1;ne<he;ne++)Z[ne]=0;return K<he&&(Z[he]=0),Z[he]+=pe.cte*(pe.oper==="+"?1:-1),void(K=Math.max(he,K))}pe.cte=he,pe.fire===""&&(Z[0]+=pe.cte*(pe.oper==="+"?1:-1))}}})(X,null,J);for(var W,Y,te,ce,oe,ue=!0,Ce=K=Z.length-1;0<=Ce;Ce--)Z[Ce]!==0&&(Y=new B(ue?Z[Ce]:Math.abs(Z[Ce])),te=Z[Ce]<0?"-":"+",0<Ce&&(oe=new k($),1<Ce&&(ce=new B(Ce),oe=new I("^","pow",[oe,ce])),Y=Z[Ce]===-1&&ue?new I("-","unaryMinus",[oe]):Math.abs(Z[Ce])===1?oe:new I("*","multiply",[Y,oe])),W=ue?Y:te=="+"?new I("+","add",[W,Y]):new I("-","subtract",[W,Y]),ue=!1);return ue?new B(0):W}return L});r.createRationalize=S},{"../../utils/factory":931,"../../utils/number":937,"./simplify/simplifyConstant":666,"./simplify/simplifyCore":667}],664:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSimplify=void 0;var g=n("../../utils/is"),f=n("../../utils/factory"),m=n("./simplify/util"),l=n("./simplify/simplifyCore"),x=n("./simplify/simplifyConstant"),S=n("./simplify/resolve"),D=n("../../utils/object");function h(p){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}var _=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","?fraction","?bignumber","mathWithTransform","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],o=(0,f.factory)("simplify",_,function(p){var b=p.config,y=p.typed,A=p.parse,E=p.add,N=p.subtract,T=p.multiply,O=p.divide,j=p.pow,M=p.isZero,F=p.equal,B=p.fraction,I=p.bignumber,G=p.mathWithTransform,k=p.ConstantNode,V=p.FunctionNode,R=p.OperatorNode,U=p.ParenthesisNode,L=p.SymbolNode,H=(0,x.createSimplifyConstant)({typed:y,config:b,mathWithTransform:G,fraction:B,bignumber:I,ConstantNode:k,OperatorNode:R,FunctionNode:V,SymbolNode:L}),X=(0,l.createSimplifyCore)({equal:F,isZero:M,add:E,subtract:N,multiply:T,divide:O,pow:j,ConstantNode:k,OperatorNode:R,FunctionNode:V,ParenthesisNode:U}),Z=(0,S.createResolve)({parse:A,FunctionNode:V,OperatorNode:R,ParenthesisNode:U}),J=(0,m.createUtil)({FunctionNode:V,OperatorNode:R,SymbolNode:L}),K=J.isCommutative,$=J.isAssociative,W=J.flatten,Y=J.unflattenr,te=J.unflattenl,ce=J.createMakeNodeFunction,oe=y("simplify",{string:function(Ne){return oe(A(Ne),oe.rules,{},{})},"string, Object":function(Ne,he){return oe(A(Ne),oe.rules,he,{})},"string, Object, Object":function(Ne,he,ne){return oe(A(Ne),oe.rules,he,ne)},"string, Array":function(Ne,he){return oe(A(Ne),he,{},{})},"string, Array, Object":function(Ne,he,ne){return oe(A(Ne),he,ne,{})},"string, Array, Object, Object":function(Ne,he,ne,re){return oe(A(Ne),he,ne,re)},"Node, Object":function(Ne,he){return oe(Ne,oe.rules,he,{})},"Node, Object, Object":function(Ne,he,ne){return oe(Ne,oe.rules,he,ne)},Node:function(Ne){return oe(Ne,oe.rules,{},{})},"Node, Array":function(Ne,he){return oe(Ne,he,{},{})},"Node, Array, Object":function(Ne,he,ne){return oe(Ne,he,ne,{})},"Node, Array, Object, Object":function(Ne,he,ne,re){he=function(Oe){for(var Se=[],Fe=0;Fe<Oe.length;Fe++){var $e,Re,qe=Oe[Fe],ze=void 0,we=h(qe);switch(we){case"string":var Ee=qe.split("->");if(Ee.length!==2)throw SyntaxError("Could not parse rule: "+qe);qe={l:Ee[0],r:Ee[1]};case"object":ze={l:ue(A(qe.l)),r:ue(A(qe.r))},qe.context&&(ze.evaluate=qe.context),qe.evaluate&&(ze.evaluate=A(qe.evaluate)),$(ze.l)&&($e=ce(ze.l),Re=new L("_p"+le++),ze.expanded={},ze.expanded.l=$e([ze.l.clone(),Re]),W(ze.expanded.l),Y(ze.expanded.l),ze.expanded.r=$e([ze.r,Re]));break;case"function":ze=qe;break;default:throw TypeError("Unsupported type of rule: "+we)}Se.push(ze)}return Se}(he);for(var de=Z(Ne,ne),xe={},Pe=(de=ue(de)).toString({parenthesis:"all"});!xe[Pe];){xe[Pe]=!0;for(var Ae=le=0;Ae<he.length;Ae++)de=typeof he[Ae]=="function"?he[Ae](de,re):(W(de),ye(de,he[Ae])),te(de);Pe=de.toString({parenthesis:"all"})}return de}});function ue(Ne){return Ne.transform(function(he,ne,re){return(0,g.isParenthesisNode)(he)?ue(he.content):he})}oe.simplifyCore=X,oe.resolve=Z;var Ce={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};oe.rules=[X,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},H,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"},{l:"n1/(n2/n3)",r:"(n1*n3)/n2"}];var le=0,ye=y("applyRule",{"Node, Object":function(Ne,he){var ne=Ne;if(ne instanceof R||ne instanceof V){if(ne.args)for(var re=0;re<ne.args.length;re++)ne.args[re]=ye(ne.args[re],he)}else ne instanceof U&&ne.content&&(ne.content=ye(ne.content,he));var de,xe=he.r,Pe=be(he.l,ne)[0];return!Pe&&he.expanded&&(xe=he.expanded.r,Pe=be(he.expanded.l,ne)[0]),Pe&&(de=ne.implicit,ne=xe.clone(),de&&"implicit"in xe&&(ne.implicit=!0),ne=ne.transform(function(Ae){return Ae.isSymbolNode&&(0,D.hasOwnProperty)(Pe.placeholders,Ae.name)?Pe.placeholders[Ae.name].clone():Ae})),ne}});function ve(Ne,he){var ne={placeholders:{}};if(!Ne.placeholders&&!he.placeholders)return ne;if(!Ne.placeholders)return he;if(!he.placeholders)return Ne;for(var re in Ne.placeholders)if(ne.placeholders[re]=Ne.placeholders[re],(0,D.hasOwnProperty)(he.placeholders,re)&&!function xe(Pe,Ae){if(Pe instanceof k&&Ae instanceof k){if(!F(Pe.value,Ae.value))return!1}else if(Pe instanceof L&&Ae instanceof L){if(Pe.name!==Ae.name)return!1}else{if(!(Pe instanceof R&&Ae instanceof R||Pe instanceof V&&Ae instanceof V))return!1;if(Pe instanceof R){if(Pe.op!==Ae.op||Pe.fn!==Ae.fn)return!1}else if(Pe instanceof V&&Pe.name!==Ae.name)return!1;if(Pe.args.length!==Ae.args.length)return!1;for(var Oe=0;Oe<Pe.args.length;Oe++)if(!xe(Pe.args[Oe],Ae.args[Oe]))return!1}return!0}(Ne.placeholders[re],he.placeholders[re]))return null;for(var de in he.placeholders)ne.placeholders[de]=he.placeholders[de];return ne}function pe(Ne,he){var ne,re=[];if(Ne.length===0||he.length===0)return re;for(var de=0;de<Ne.length;de++)for(var xe=0;xe<he.length;xe++)(ne=ve(Ne[de],he[xe]))&&re.push(ne);return re}function be(Ne,he,ne){var re=[{placeholders:{}}];if(Ne instanceof R&&he instanceof R||Ne instanceof V&&he instanceof V){if(Ne instanceof R){if(Ne.op!==he.op||Ne.fn!==he.fn)return[]}else if(Ne instanceof V&&Ne.name!==he.name)return[];if((he.args.length!==1||Ne.args.length!==1)&&$(he)&&!ne){if(2<=he.args.length&&Ne.args.length===2){for(var de=function($e,Re){var qe,ze,we=[],Ee=ce($e);if(K($e,Re))for(var Me=0;Me<$e.args.length;Me++)(ze=$e.args.slice(0)).splice(Me,1),qe=ze.length===1?ze[0]:Ee(ze),we.push(Ee([$e.args[Me],qe]));else qe=(ze=$e.args.slice(1)).length===1?ze[0]:Ee(ze),we.push(Ee([$e.args[0],qe]));return we}(he,Ne.context),Ae=[],xe=0;xe<de.length;xe++)var Pe=be(Ne,de[xe],!0),Ae=Ae.concat(Pe);return Ae}if(2<Ne.args.length)throw Error("Unexpected non-binary associative function: "+Ne.toString());return[]}for(var Oe=[],Se=0;Se<Ne.args.length;Se++){var Fe=be(Ne.args[Se],he.args[Se]);if(Fe.length===0)return[];Oe.push(Fe)}re=function($e){if($e.length===0)return $e;for(var Re=$e.reduce(pe),qe=[],ze={},we=0;we<Re.length;we++){var Ee=JSON.stringify(Re[we]);ze[Ee]||(ze[Ee]=!0,qe.push(Re[we]))}return qe}(Oe)}else if(Ne instanceof L){if(Ne.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(Ce[Ne.name]){if(Ne.name!==he.name)return[]}else if(Ne.name[0]==="n"||Ne.name.substring(0,2)==="_p")re[0].placeholders[Ne.name]=he;else if(Ne.name[0]==="v"){if((0,g.isConstantNode)(he))return[];re[0].placeholders[Ne.name]=he}else{if(Ne.name[0]!=="c")throw new Error("Invalid symbol in rule: "+Ne.name);if(!(he instanceof k))return[];re[0].placeholders[Ne.name]=he}}else{if(!(Ne instanceof k))return[];if(!F(Ne.value,he.value))return[]}return re}return oe});r.createSimplify=o},{"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938,"./simplify/resolve":665,"./simplify/simplifyConstant":666,"./simplify/simplifyCore":667,"./simplify/util":668}],665:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createResolve=void 0;var g=n("../../../utils/is"),f=["parse","FunctionNode","OperatorNode","ParenthesisNode"],m=(0,n("../../../utils/factory").factory)("resolve",f,function(l){var x=l.parse,S=l.FunctionNode,D=l.OperatorNode,h=l.ParenthesisNode;return function _(o,p){if(!p)return o;if((0,g.isSymbolNode)(o)){var b=p[o.name];if((0,g.isNode)(b))return _(b,p);if(typeof b=="number")return x(String(b))}else{if((0,g.isOperatorNode)(o)){var y=o.args.map(function(E){return _(E,p)});return new D(o.op,o.fn,y,o.implicit)}if((0,g.isParenthesisNode)(o))return new h(_(o.content,p));if((0,g.isFunctionNode)(o)){var A=o.args.map(function(E){return _(E,p)});return new S(o.name,A)}}return o}});r.createResolve=m},{"../../../utils/factory":931,"../../../utils/is":933}],666:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSimplifyConstant=void 0;var g=n("../../../utils/is"),f=n("../../../utils/factory"),m=n("./util"),l=n("../../../utils/noop"),x=["typed","config","mathWithTransform","?fraction","?bignumber","ConstantNode","OperatorNode","FunctionNode","SymbolNode"],S=(0,f.factory)("simplifyConstant",x,function(D){var h=D.typed,_=D.config,o=D.mathWithTransform,p=D.fraction,b=D.bignumber,y=D.ConstantNode,A=D.OperatorNode,E=D.FunctionNode,N=D.SymbolNode,T=(0,m.createUtil)({FunctionNode:E,OperatorNode:A,SymbolNode:N}),O=T.isCommutative,j=T.isAssociative,M=T.allChildren,F=T.createMakeNodeFunction;function B(U,L,H){try{return k(o[U].apply(null,L),H)}catch{return L=L.map(function(Z){return(0,g.isFraction)(Z)?Z.valueOf():Z}),k(o[U].apply(null,L),H)}}var I=h({Fraction:function(U){var L,H=U.s*U.n;return L=H<0?new A("-","unaryMinus",[new y(-H)]):new y(H),U.d!==1?new A("/","divide",[L,new y(U.d)]):L},number:function(U){return U<0?V(new y(-U)):new y(U)},BigNumber:function(U){return U<0?V(new y(-U)):new y(U)},Complex:function(){throw new Error("Cannot convert Complex number to Node")}});function G(U,L){if(L&&L.exactFractions!==!1&&isFinite(U)&&p){var H=p(U);if(H.valueOf()===U)return H}return U}var k=h({"string, Object":function(U,L){return _.number==="BigNumber"?(b===void 0&&(0,l.noBignumber)(),b(U)):_.number==="Fraction"?(p===void 0&&(0,l.noFraction)(),p(U)):G(parseFloat(U),L)},"Fraction, Object":function(U){return U},"BigNumber, Object":function(U){return U},"number, Object":G,"Complex, Object":function(U,L){return U.im!==0?U:G(U.re,L)}});function V(U){return new A("-","unaryMinus",[U])}function R(U,L,H,X){return L.reduce(function(Z,J){if((0,g.isNode)(Z)||(0,g.isNode)(J))(0,g.isNode)(Z)?(0,g.isNode)(J)||(J=I(J)):Z=I(Z);else{try{return B(U,[Z,J],X)}catch{}Z=I(Z),J=I(J)}return H([Z,J])})}return function(U,L){var H=function X(Z,J){switch(Z.type){case"SymbolNode":return Z;case"ConstantNode":return typeof Z.value!="number"&&isNaN(Z.value)?Z:k(Z.value,J);case"FunctionNode":if(o[Z.name]&&o[Z.name].rawArgs)return Z;var K=["add","multiply"];if(K.indexOf(Z.name)===-1){var $=Z.args.map(function(le){return X(le,J)});if(!$.some(g.isNode))try{return B(Z.name,$,J)}catch{}return $=$.map(function(le){return(0,g.isNode)(le)?le:I(le)}),new E(Z.name,$)}case"OperatorNode":var W,Y,te=Z.fn.toString(),ce=F(Z);if((0,g.isOperatorNode)(Z)&&Z.isUnary())W=[X(Z.args[0],J)],Y=(0,g.isNode)(W[0])?ce(W):B(te,W,J);else if(j(Z))if(W=(W=M(Z)).map(function(le){return X(le,J)}),O(te)){for(var oe=[],ue=[],Ce=0;Ce<W.length;Ce++)(0,g.isNode)(W[Ce])?ue.push(W[Ce]):oe.push(W[Ce]);Y=1<oe.length?(Y=R(te,oe,ce,J),ue.unshift(Y),R(te,ue,ce,J)):R(te,W,ce,J)}else Y=R(te,W,ce,J);else W=Z.args.map(function(le){return X(le,J)}),Y=R(te,W,ce,J);return Y;case"ParenthesisNode":return X(Z.content,J);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(Z.type))}}(U,L);return(0,g.isNode)(H)?H:I(H)}});r.createSimplifyConstant=S},{"../../../utils/factory":931,"../../../utils/is":933,"../../../utils/noop":936,"./util":668}],667:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSimplifyCore=void 0;var g=n("../../../utils/is"),f=["equal","isZero","add","subtract","multiply","divide","pow","ConstantNode","OperatorNode","FunctionNode","ParenthesisNode"],m=(0,n("../../../utils/factory").factory)("simplifyCore",f,function(l){var x=l.equal,S=l.isZero,D=l.add,h=l.subtract,_=l.multiply,o=l.divide,p=l.pow,b=l.ConstantNode,y=l.OperatorNode,A=l.FunctionNode,E=l.ParenthesisNode,N=new b(0),T=new b(1);return function O(j){if((0,g.isOperatorNode)(j)&&j.isUnary()){var M=O(j.args[0]);if(j.op==="+")return M;if(j.op==="-"){if((0,g.isOperatorNode)(M)){if(M.isUnary()&&M.op==="-")return M.args[0];if(M.isBinary()&&M.fn==="subtract")return new y("-","subtract",[M.args[1],M.args[0]])}return new y(j.op,j.fn,[M])}}else if((0,g.isOperatorNode)(j)&&j.isBinary()){var F=O(j.args[0]),B=O(j.args[1]);if(j.op==="+"){if((0,g.isConstantNode)(F)){if(S(F.value))return B;if((0,g.isConstantNode)(B))return new b(D(F.value,B.value))}return(0,g.isConstantNode)(B)&&S(B.value)?F:(0,g.isOperatorNode)(B)&&B.isUnary()&&B.op==="-"?new y("-","subtract",[F,B.args[0]]):new y(j.op,j.fn,B?[F,B]:[F])}if(j.op==="-"){if((0,g.isConstantNode)(F)&&B){if((0,g.isConstantNode)(B))return new b(h(F.value,B.value));if(S(F.value))return new y("-","unaryMinus",[B])}if(j.fn==="subtract")return(0,g.isConstantNode)(B)&&S(B.value)?F:(0,g.isOperatorNode)(B)&&B.isUnary()&&B.op==="-"?O(new y("+","add",[F,B.args[0]])):new y(j.op,j.fn,[F,B])}else{if(j.op==="*"){if((0,g.isConstantNode)(F)){if(S(F.value))return N;if(x(F.value,1))return B;if((0,g.isConstantNode)(B))return new b(_(F.value,B.value))}if((0,g.isConstantNode)(B)){if(S(B.value))return N;if(x(B.value,1))return F;if((0,g.isOperatorNode)(F)&&F.isBinary()&&F.op===j.op){var I=F.args[0];if((0,g.isConstantNode)(I)){var G=new b(_(I.value,B.value));return new y(j.op,j.fn,[G,F.args[1]],j.implicit)}}return new y(j.op,j.fn,[B,F],j.implicit)}return new y(j.op,j.fn,[F,B],j.implicit)}if(j.op==="/"){if((0,g.isConstantNode)(F)){if(S(F.value))return N;if((0,g.isConstantNode)(B)&&(x(B.value,1)||x(B.value,2)||x(B.value,4)))return new b(o(F.value,B.value))}return new y(j.op,j.fn,[F,B])}if(j.op==="^"){if((0,g.isConstantNode)(B)){if(S(B.value))return T;if(x(B.value,1))return F;if((0,g.isConstantNode)(F))return new b(p(F.value,B.value));if((0,g.isOperatorNode)(F)&&F.isBinary()&&F.op==="^"){var k=F.args[1];if((0,g.isConstantNode)(k))return new y(j.op,j.fn,[F.args[0],new b(_(k.value,B.value))])}}return new y(j.op,j.fn,[F,B])}}}else{if((0,g.isParenthesisNode)(j)){var V=O(j.content);return(0,g.isParenthesisNode)(V)||(0,g.isSymbolNode)(V)||(0,g.isConstantNode)(V)?V:new E(V)}if((0,g.isFunctionNode)(j)){var R=j.args.map(O).map(function(U){return(0,g.isParenthesisNode)(U)?U.content:U});return new A(O(j.fn),R)}}return j}});r.createSimplifyCore=m},{"../../../utils/factory":931,"../../../utils/is":933}],668:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUtil=void 0;var g=n("../../../utils/is"),f=n("../../../utils/factory"),m=n("../../../utils/object"),l=["FunctionNode","OperatorNode","SymbolNode"],x=(0,f.factory)("simplifyUtil",l,function(S){var D=S.FunctionNode,h=S.OperatorNode,_=S.SymbolNode,o={add:!0,multiply:!0},p={add:!0,multiply:!0};function b(E,N){if(!(0,g.isOperatorNode)(E))return!1;var T=E.fn.toString();return N&&(0,m.hasOwnProperty)(N,T)&&(0,m.hasOwnProperty)(N[T],"associative")?N[T].associative:p[T]||!1}function y(E){var N,T=[];return b(E)?(N=E.op,function O(j){for(var M=0;M<j.args.length;M++){var F=j.args[M];(0,g.isOperatorNode)(F)&&N===F.op?O(F):T.push(F)}}(E),T):E.args}function A(E){return(0,g.isOperatorNode)(E)?function(N){try{return new h(E.op,E.fn,N,E.implicit)}catch(T){return console.error(T),[]}}:function(N){return new D(new _(E.name),N)}}return{createMakeNodeFunction:A,isCommutative:function(E,N){if(!(0,g.isOperatorNode)(E))return!0;var T=E.fn.toString();return N&&(0,m.hasOwnProperty)(N,T)&&(0,m.hasOwnProperty)(N[T],"commutative")?N[T].commutative:o[T]||!1},isAssociative:b,flatten:function E(N){if(!N.args||N.args.length===0)return N;N.args=y(N);for(var T=0;T<N.args.length;T++)E(N.args[T])},allChildren:y,unflattenr:function E(N){if(N.args&&N.args.length!==0){for(var T=A(N),O=N.args.length,j=0;j<O;j++)E(N.args[j]);if(2<O&&b(N)){for(var M=N.args.pop();0<N.args.length;)M=T([N.args.pop(),M]);N.args=M.args}}},unflattenl:function E(N){if(N.args&&N.args.length!==0){for(var T=A(N),O=N.args.length,j=0;j<O;j++)E(N.args[j]);if(2<O&&b(N)){for(var M=N.args.shift();0<N.args.length;)M=T([M,N.args.shift()]);N.args=M.args}}}}});r.createUtil=x},{"../../../utils/factory":931,"../../../utils/is":933,"../../../utils/object":938}],669:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLsolve=void 0;var g=n("../../../utils/factory"),f=n("./utils/solveValidation"),m=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],l=(0,g.factory)("lsolve",m,function(x){var S=x.typed,D=x.matrix,h=x.divideScalar,_=x.multiplyScalar,o=x.subtract,p=x.equalScalar,b=x.DenseMatrix,y=(0,f.createSolveValidation)({DenseMatrix:b});return S("lsolve",{"SparseMatrix, Array | Matrix":function(E,N){for(var T,O,j=(N=y(E,N,!0))._data,M=E._size[0],F=E._size[1],B=E._values,I=E._index,G=E._ptr,k=[],V=0;V<F;V++){var R=j[V][0]||0;if(p(R,0))k[V]=[0];else{var U=0,L=[],H=[],X=G[V+1];for(O=G[V];O<X;O++)(T=I[O])===V?U=B[O]:V<T&&(L.push(B[O]),H.push(T));if(p(U,0))throw new Error("Linear system cannot be solved since matrix is singular");var Z=h(R,U);for(O=0,X=H.length;O<X;O++)T=H[O],j[T]=[o(j[T][0]||0,_(Z,L[O]))];k[V]=[Z]}}return new b({data:k,size:[M,1]})},"DenseMatrix, Array | Matrix":A,"Array, Array | Matrix":function(E,N){return A(D(E),N).valueOf()}});function A(E,N){for(var T=(N=y(E,N,!0))._data,O=E._size[0],j=E._size[1],M=[],F=E._data,B=0;B<j;B++){var I=T[B][0]||0,G=void 0;if(p(I,0))G=0;else{var k=F[B][B];if(p(k,0))throw new Error("Linear system cannot be solved since matrix is singular");G=h(I,k);for(var V=B+1;V<O;V++)T[V]=[o(T[V][0]||0,_(G,F[V][B]))]}M[B]=[G]}return new b({data:M,size:[O,1]})}});r.createLsolve=l},{"../../../utils/factory":931,"./utils/solveValidation":672}],670:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLusolve=void 0;var g=n("../../../utils/is"),f=n("../../../utils/factory"),m=n("./utils/solveValidation"),l=n("../sparse/csIpvec"),x=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],S=(0,f.factory)("lusolve",x,function(D){var h=D.typed,_=D.matrix,o=D.lup,p=D.slu,b=D.usolve,y=D.lsolve,A=D.DenseMatrix,E=(0,m.createSolveValidation)({DenseMatrix:A});return h("lusolve",{"Array, Array | Matrix":function(O,j){O=_(O);var M=o(O);return T(M.L,M.U,M.p,null,j).valueOf()},"DenseMatrix, Array | Matrix":function(O,j){var M=o(O);return T(M.L,M.U,M.p,null,j)},"SparseMatrix, Array | Matrix":function(O,j){var M=o(O);return T(M.L,M.U,M.p,null,j)},"SparseMatrix, Array | Matrix, number, number":function(O,j,M,F){var B=p(O,M,F);return T(B.L,B.U,B.p,B.q,j)},"Object, Array | Matrix":function(O,j){return T(O.L,O.U,O.p,O.q,j)}});function N(O){if((0,g.isMatrix)(O))return O;if((0,g.isArray)(O))return _(O);throw new TypeError("Invalid Matrix LU decomposition")}function T(O,j,M,F,B){O=N(O),j=N(j),B=E(O,B,!1),M&&(B._data=(0,l.csIpvec)(M,B._data));var I=y(O,B),G=b(j,I);return F&&(G._data=(0,l.csIpvec)(F,G._data)),G}});r.createLusolve=S},{"../../../utils/factory":931,"../../../utils/is":933,"../sparse/csIpvec":679,"./utils/solveValidation":672}],671:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUsolve=void 0;var g=n("../../../utils/factory"),f=n("./utils/solveValidation"),m=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],l=(0,g.factory)("usolve",m,function(x){var S=x.typed,D=x.matrix,h=x.divideScalar,_=x.multiplyScalar,o=x.subtract,p=x.equalScalar,b=x.DenseMatrix,y=(0,f.createSolveValidation)({DenseMatrix:b});return S("usolve",{"SparseMatrix, Array | Matrix":function(E,N){for(var T,O,j=(N=y(E,N,!0))._data,M=E._size[0],F=E._size[1],B=E._values,I=E._index,G=E._ptr,k=[],V=F-1;0<=V;V--){var R=j[V][0]||0;if(p(R,0))k[V]=[0];else{var U=0,L=[],H=[],X=G[V],Z=G[V+1];for(O=Z-1;X<=O;O--)(T=I[O])===V?U=B[O]:T<V&&(L.push(B[O]),H.push(T));if(p(U,0))throw new Error("Linear system cannot be solved since matrix is singular");var J=h(R,U);for(O=0,Z=H.length;O<Z;O++)T=H[O],j[T]=[o(j[T][0],_(J,L[O]))];k[V]=[J]}}return new b({data:k,size:[M,1]})},"DenseMatrix, Array | Matrix":A,"Array, Array | Matrix":function(E,N){return A(D(E),N).valueOf()}});function A(E,N){for(var T=(N=y(E,N,!0))._data,O=E._size[0],j=E._size[1],M=[],F=E._data,B=j-1;0<=B;B--){var I=T[B][0]||0,G=void 0;if(p(I,0))G=0;else{var k=F[B][B];if(p(k,0))throw new Error("Linear system cannot be solved since matrix is singular");G=h(I,k);for(var V=B-1;0<=V;V--)T[V]=[o(T[V][0]||0,_(G,F[V][B]))]}M[B]=[G]}return new b({data:M,size:[O,1]})}});r.createUsolve=l},{"../../../utils/factory":931,"./utils/solveValidation":672}],672:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSolveValidation=function(l){var x=l.DenseMatrix;return function(S,D,h){var _=S.size();if(_.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+(0,m.format)(_)+")");var o,p,b,y=_[0];if(y!==_[1])throw new RangeError("Matrix must be square (size: "+(0,m.format)(_)+")");if((0,g.isMatrix)(D)){var A=D.size();if(A.length===1){if(A[0]!==y)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],b=D._data,p=0;p<y;p++)o[p]=[b[p]];return new x({data:o,size:[y,1],datatype:D._datatype})}if(A.length!==2)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(A[0]!==y||A[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if((0,g.isDenseMatrix)(D)){if(h){for(o=[],b=D._data,p=0;p<y;p++)o[p]=[b[p][0]];return new x({data:o,size:[y,1],datatype:D._datatype})}return D}for(o=[],p=0;p<y;p++)o[p]=[0];for(var E=D._values,N=D._index,T=D._ptr,O=T[1],j=T[0];j<O;j++)o[p=N[j]][0]=E[j];return new x({data:o,size:[y,1],datatype:D._datatype})}if((0,g.isArray)(D)){var M=(0,f.arraySize)(D);if(M.length===1){if(M[0]!==y)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],p=0;p<y;p++)o[p]=[D[p]];return new x({data:o,size:[y,1]})}if(M.length!==2)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(M[0]!==y||M[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],p=0;p<y;p++)o[p]=[D[p][0]];return new x({data:o,size:[y,1]})}}};var g=n("../../../../utils/is"),f=n("../../../../utils/array"),m=n("../../../../utils/string")},{"../../../../utils/array":922,"../../../../utils/is":933,"../../../../utils/string":941}],673:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCsAmd=void 0;var g=n("../../../utils/factory"),f=n("./csFkeep"),m=n("./csFlip"),l=n("./csTdfs"),x=["add","multiply","transpose"],S=(0,g.factory)("csAmd",x,function(D){var h=D.add,_=D.multiply,o=D.transpose;return function(y,A){if(!A||y<=0||3<y)return null;var E=A._size,N=E[0],T=E[1],O=0,j=Math.max(16,10*Math.sqrt(T)),M=function(me,Ge,Xe,rt,ut){var ft=o(Ge);if(me===1&&rt===Xe)return h(Ge,ft);if(me!==2)return _(ft,Ge);for(var pt=ft._index,ot=ft._ptr,bt=0,At=0;At<Xe;At++){var Ke=ot[At];if(ot[At]=bt,!(ot[At+1]-Ke>ut))for(var dt=ot[At+1];Ke<dt;Ke++)pt[bt++]=pt[Ke]}return ot[Xe]=bt,Ge=o(ft),_(ft,Ge)}(y,A,N,T,j=Math.min(T-2,j));(0,f.csFkeep)(M,b,null);for(var F,B,I,G,k,V,R,U,L,H,X,Z,J=M._index,K=M._ptr,$=K[T],W=[],Y=[],te=T+1,ce=2*(T+1),oe=3*(T+1),ue=4*(T+1),Ce=5*(T+1),le=6*(T+1),ye=7*(T+1),ve=W,pe=function(me,Ge,Xe,rt,ut,ft,pt,ot,bt,At,Ke,dt){for(var vt=0;vt<me;vt++)Xe[rt+vt]=Ge[vt+1]-Ge[vt];for(var wt=Xe[rt+me]=0;wt<=me;wt++)Xe[ut+wt]=-1,ft[wt]=-1,Xe[pt+wt]=-1,Xe[ot+wt]=-1,Xe[bt+wt]=1,Xe[At+wt]=1,Xe[Ke+wt]=0,Xe[dt+wt]=Xe[rt+wt];var Nt=p(0,0,Xe,At,me);return Xe[Ke+me]=-2,Ge[me]=-1,Xe[At+me]=0,Nt}(T,K,Y,0,oe,ve,ce,ye,te,le,ue,Ce),be=function(me,Ge,Xe,rt,ut,ft,pt,ot,bt,At,Ke){for(var dt=0,vt=0;vt<me;vt++){var wt,Nt=Xe[rt+vt];Nt===0?(Xe[ut+vt]=-2,dt++,Ge[vt]=-1,Xe[ft+vt]=0):pt<Nt?(Xe[ot+vt]=0,Xe[ut+vt]=-1,dt++,Ge[vt]=(0,m.csFlip)(me),Xe[ot+me]++):((wt=Xe[bt+Nt])!==-1&&(At[wt]=vt),Xe[Ke+vt]=Xe[bt+Nt],Xe[bt+Nt]=vt)}return dt}(T,K,Y,Ce,ue,le,j,te,oe,ve,ce),Ne=0;be<T;){for(B=-1;Ne<T&&(B=Y[oe+Ne])===-1;Ne++);Y[ce+B]!==-1&&(ve[Y[ce+B]]=-1),Y[oe+Ne]=Y[ce+B];var he=Y[ue+B],ne=Y[te+B];be+=ne;var re=0;Y[te+B]=-ne;for(var de,xe,Pe=K[B],Ae=he===0?Pe:$,Oe=Ae,Se=1;Se<=he+1;Se++){for(k=he<Se?(G=Pe,Y[0+(xe=B)]-he):(G=K[xe=J[Pe++]],Y[0+xe]),I=1;I<=k;I++)(V=Y[te+(F=J[G++])])<=0||(re+=V,Y[te+F]=-V,Y[ce+(J[Oe++]=F)]!==-1&&(ve[Y[ce+F]]=ve[F]),ve[F]!==-1?Y[ce+ve[F]]=Y[ce+F]:Y[oe+Y[Ce+F]]=Y[ce+F]);xe!==B&&(K[xe]=(0,m.csFlip)(B),Y[le+xe]=0)}for(he!==0&&($=Oe),Y[Ce+B]=re,K[B]=Ae,Y[0+B]=Oe-Ae,Y[ue+B]=-2,pe=p(pe,O,Y,le,T),R=Ae;R<Oe;R++)if(!((U=Y[ue+(F=J[R])])<=0))for(var Fe=pe-(V=-Y[te+F]),Pe=K[F],$e=K[F]+U-1;Pe<=$e;Pe++)Y[le+(xe=J[Pe])]>=pe?Y[le+xe]-=V:Y[le+xe]!==0&&(Y[le+xe]=Y[Ce+xe]+Fe);for(R=Ae;R<Oe;R++){for(L=($e=K[F=J[R]])+Y[ue+F]-1,Z=X=0,Pe=H=$e;Pe<=L;Pe++)Y[le+(xe=J[Pe])]!==0&&(0<(de=Y[le+xe]-pe)?(Z+=de,X+=J[H++]=xe):(K[xe]=(0,m.csFlip)(B),Y[le+xe]=0));Y[ue+F]=H-$e+1;var Re=H,qe=$e+Y[0+F];for(Pe=1+L;Pe<qe;Pe++){var ze=Y[te+(Ee=J[Pe])];ze<=0||(Z+=ze,X+=J[H++]=Ee)}Z===0?(K[F]=(0,m.csFlip)(B),re-=V=-Y[te+F],ne+=V,be+=V,Y[te+F]=0,Y[ue+F]=-1):(Y[Ce+F]=Math.min(Y[Ce+F],Z),J[H]=J[Re],J[Re]=J[$e],J[$e]=B,Y[0+F]=H-$e+1,X=(X<0?-X:X)%T,Y[ce+F]=Y[ye+X],ve[Y[ye+X]=F]=X)}for(Y[Ce+B]=re,pe=p(pe+(O=Math.max(O,re)),O,Y,le,T),R=Ae;R<Oe;R++)if(!(0<=Y[te+(F=J[R])]))for(F=Y[ye+(X=ve[F])],Y[ye+X]=-1;F!==-1&&Y[ce+F]!==-1;F=Y[ce+F],pe++){for(k=Y[0+F],U=Y[ue+F],Pe=K[F]+1;Pe<=K[F]+k-1;Pe++)Y[le+J[Pe]]=pe;for(var we=F,Ee=Y[ce+F];Ee!==-1;){var Me=Y[0+Ee]===k&&Y[ue+Ee]===U;for(Pe=K[Ee]+1;Me&&Pe<=K[Ee]+k-1;Pe++)Y[le+J[Pe]]!==pe&&(Me=0);Me?(K[Ee]=(0,m.csFlip)(F),Y[te+F]+=Y[te+Ee],Y[te+Ee]=0,Y[ue+Ee]=-1,Ee=Y[ce+Ee],Y[ce+we]=Ee):Ee=Y[ce+(we=Ee)]}}for(R=Pe=Ae;R<Oe;R++)(V=-Y[te+(F=J[R])])<=0||(Y[te+F]=V,Z=Y[Ce+F]+re-V,Y[oe+(Z=Math.min(Z,T-be-V))]!==-1&&(ve[Y[oe+Z]]=F),Y[ce+F]=Y[oe+Z],ve[F]=-1,Y[oe+Z]=F,Ne=Math.min(Ne,Z),Y[Ce+F]=Z,J[Pe++]=F);Y[te+B]=ne,(Y[0+B]=Pe-Ae)==0&&(K[B]=-1,Y[le+B]=0),he!==0&&($=Pe)}for(F=0;F<T;F++)K[F]=(0,m.csFlip)(K[F]);for(Ee=0;Ee<=T;Ee++)Y[oe+Ee]=-1;for(Ee=T;0<=Ee;Ee--)0<Y[te+Ee]||(Y[ce+Ee]=Y[oe+K[Ee]],Y[oe+K[Ee]]=Ee);for(xe=T;0<=xe;xe--)Y[te+xe]<=0||K[xe]!==-1&&(Y[ce+xe]=Y[oe+K[xe]],Y[oe+K[xe]]=xe);for(F=B=0;F<=T;F++)K[F]===-1&&(B=(0,l.csTdfs)(F,B,Y,oe,ce,W,le));return W.splice(W.length-1,1),W};function p(y,A,E,N,T){if(y<2||y+A<0){for(var O=0;O<T;O++)E[N+O]!==0&&(E[N+O]=1);y=2}return y}function b(y,A){return y!==A}});r.createCsAmd=S},{"../../../utils/factory":931,"./csFkeep":677,"./csFlip":678,"./csTdfs":689}],674:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCsCounts=void 0;var g=n("../../../utils/factory"),f=n("./csLeaf"),m=["transpose"],l=(0,g.factory)("csCounts",m,function(x){var S=x.transpose;return function(D,h,_,o){if(!D||!h||!_)return null;for(var p,b,y,A,E,N,T=D._size,O=T[0],j=T[1],M=4*j+(o?j+O+1:0),F=[],B=j,I=2*j,G=3*j,k=4*j,V=5*j+1,R=0;R<M;R++)F[R]=-1;var U=[],L=S(D),H=L._index,X=L._ptr;for(R=0;R<j;R++)for(U[b=_[R]]=F[G+b]===-1?1:0;b!==-1&&F[G+b]===-1;b=h[b])F[G+b]=R;if(o){for(R=0;R<j;R++)F[_[R]]=R;for(p=0;p<O;p++){for(R=j,E=X[p],N=X[p+1],A=E;A<N;A++)R=Math.min(R,F[H[A]]);F[V+p]=F[k+R],F[k+R]=p}}for(p=0;p<j;p++)F[0+p]=p;for(R=0;R<j;R++){for(h[b=_[R]]!==-1&&U[h[b]]--,y=o?F[k+R]:b;y!==-1;y=o?F[V+y]:-1)for(A=X[y];A<X[y+1];A++){p=H[A];var Z=(0,f.csLeaf)(p,b,F,G,B,I,0);1<=Z.jleaf&&U[b]++,Z.jleaf===2&&U[Z.q]--}h[b]!==-1&&(F[0+b]=h[b])}for(b=0;b<j;b++)h[b]!==-1&&(U[h[b]]+=U[b]);return U}});r.createCsCounts=l},{"../../../utils/factory":931,"./csLeaf":680}],675:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csDfs=function(l,x,S,D,h){var _,o,p,b=x._index,y=x._ptr,A=x._size[1],E=0;for(D[0]=l;0<=E;){l=D[E];var N=h?h[l]:l;(0,g.csMarked)(y,l)||((0,f.csMark)(y,l),D[A+E]=N<0?0:(0,m.csUnflip)(y[N]));var T=1;for(o=D[A+E],p=N<0?0:(0,m.csUnflip)(y[N+1]);o<p;o++)if(_=b[o],!(0,g.csMarked)(y,_)){D[A+E]=o,D[++E]=_,T=0;break}T&&(E--,D[--S]=l)}return S};var g=n("./csMarked"),f=n("./csMark"),m=n("./csUnflip")},{"./csMark":682,"./csMarked":683,"./csUnflip":690}],676:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csEtree=function(g,f){if(!g)return null;var m,l,x=g._index,S=g._ptr,D=g._size,h=D[0],_=D[1],o=[],p=[],b=_;if(f)for(m=0;m<h;m++)p[b+m]=-1;for(var y=0;y<_;y++){o[y]=-1,p[0+y]=-1;for(var A=S[y],E=S[y+1],N=A;N<E;N++){var T=x[N];for(m=f?p[b+T]:T;m!==-1&&m<y;m=l)l=p[0+m],p[0+m]=y,l===-1&&(o[m]=y);f&&(p[b+T]=y)}}return o}},{}],677:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csFkeep=function(g,f,m){for(var l=g._values,x=g._index,S=g._ptr,D=g._size[1],h=0,_=0;_<D;_++){var o=S[_];for(S[_]=h;o<S[_+1];o++)f(x[o],_,l?l[o]:1,m)&&(x[h]=x[o],l&&(l[h]=l[o]),h++)}return S[D]=h,x.splice(h,x.length-h),l&&l.splice(h,l.length-h),h}},{}],678:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csFlip=function(g){return-g-2}},{}],679:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csIpvec=function(g,f){var m,l=f.length,x=[];if(g)for(m=0;m<l;m++)x[g[m]]=f[m];else for(m=0;m<l;m++)x[m]=f[m];return x}},{}],680:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csLeaf=function(g,f,m,l,x,S,D){var h,_,o,p=0;if(g<=f||m[l+f]<=m[x+g])return-1;m[x+g]=m[l+f];var b=m[S+g];if(m[S+g]=f,b===-1)p=1,o=g;else{for(p=2,o=b;o!==m[D+o];o=m[D+o]);for(h=b;h!==o;h=_)_=m[D+h],m[D+h]=o}return{jleaf:p,q:o}}},{}],681:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCsLu=void 0;var g=n("../../../utils/factory"),f=n("./csSpsolve"),m=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],l=(0,g.factory)("csLu",m,function(x){var S=x.abs,D=x.divideScalar,h=x.multiply,_=x.subtract,o=x.larger,p=x.largerEq,b=x.SparseMatrix,y=(0,f.createCsSpsolve)({divideScalar:D,multiply:h,subtract:_});return function(A,E,N){if(!A)return null;var T,O=A._size[1],j=100,M=100;E&&(T=E.q,j=E.lnz||j,M=E.unz||M);var F=[],B=[],I=[],G=new b({values:F,index:B,ptr:I,size:[O,O]}),k=[],V=[],R=[],U=new b({values:k,index:V,ptr:R,size:[O,O]}),L=[],H=[],X=[];for(K=0;K<O;K++)H[K]=0,L[K]=-1,I[K+1]=0;for(var Z=M=j=0;Z<O;Z++){I[Z]=j,R[Z]=M;for(var J,K,$=T?T[Z]:Z,W=y(G,A,$,X,H,L,1),Y=-1,te=-1,ce=W;ce<O;ce++)L[K=X[ce]]<0?(J=S(H[K]),o(J,te)&&(te=J,Y=K)):(V[M]=L[K],k[M++]=H[K]);if(Y===-1||te<=0)return null;L[$]<0&&p(S(H[$]),h(te,N))&&(Y=$);var oe=H[Y];for(V[M]=Z,k[M++]=oe,L[Y]=Z,B[j]=Y,F[j++]=1,ce=W;ce<O;ce++)L[K=X[ce]]<0&&(B[j]=K,F[j++]=D(H[K],oe)),H[K]=0}for(I[O]=j,R[O]=M,ce=0;ce<j;ce++)B[ce]=L[B[ce]];return F.splice(j,F.length-j),B.splice(j,B.length-j),k.splice(M,k.length-M),V.splice(M,V.length-M),{L:G,U,pinv:L}}});r.createCsLu=l},{"../../../utils/factory":931,"./csSpsolve":687}],682:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csMark=function(f,m){f[m]=(0,g.csFlip)(f[m])};var g=n("./csFlip")},{"./csFlip":678}],683:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csMarked=function(g,f){return g[f]<0}},{}],684:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csPermute=function(g,f,m,l){for(var x=g._values,S=g._index,D=g._ptr,h=g._size,_=g._datatype,o=h[0],p=h[1],b=l&&g._values?[]:null,y=[],A=[],E=0,N=0;N<p;N++){A[N]=E;for(var T=m?m[N]:N,O=D[T],j=D[T+1],M=O;M<j;M++){var F=f?f[S[M]]:S[M];y[E]=F,b&&(b[E]=x[M]),E++}}return A[p]=E,g.createSparseMatrix({values:b,index:y,ptr:A,size:[o,p],datatype:_})}},{}],685:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csPost=function(f,m){if(!f)return null;var l,x=0,S=[],D=[],h=m,_=2*m;for(l=0;l<m;l++)D[0+l]=-1;for(l=m-1;0<=l;l--)f[l]!==-1&&(D[h+l]=D[0+f[l]],D[0+f[l]]=l);for(l=0;l<m;l++)f[l]===-1&&(x=(0,g.csTdfs)(l,x,D,0,h,S,_));return S};var g=n("./csTdfs")},{"./csTdfs":689}],686:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csReach=function(l,x,S,D,h){var _,o,p,b=l._ptr,y=l._size,A=x._index,E=x._ptr,N=y[1],T=N;for(o=E[S],p=E[S+1],_=o;_<p;_++){var O=A[_];(0,g.csMarked)(b,O)||(T=(0,m.csDfs)(O,l,T,D,h))}for(_=T;_<N;_++)(0,f.csMark)(b,D[_]);return T};var g=n("./csMarked"),f=n("./csMark"),m=n("./csDfs")},{"./csDfs":675,"./csMark":682,"./csMarked":683}],687:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCsSpsolve=void 0;var g=n("./csReach"),f=["divideScalar","multiply","subtract"],m=(0,n("../../../utils/factory").factory)("csSpsolve",f,function(l){var x=l.divideScalar,S=l.multiply,D=l.subtract;return function(h,_,o,p,b,y,A){for(var E,N,T,O=h._values,j=h._index,M=h._ptr,F=h._size[1],B=_._values,I=_._index,G=_._ptr,k=(0,g.csReach)(h,_,o,p,y),V=k;V<F;V++)b[p[V]]=0;for(E=G[o],N=G[o+1],V=E;V<N;V++)b[I[V]]=B[V];for(var R=k;R<F;R++){var U=p[R],L=y?y[U]:U;if(!(L<0))for(E=M[L],N=M[L+1],b[U]=x(b[U],O[A?E:N-1]),V=A?E+1:E,T=A?N:N-1;V<T;V++){var H=j[V];b[H]=D(b[H],S(O[V],b[U]))}}return k}});r.createCsSpsolve=m},{"../../../utils/factory":931,"./csReach":686}],688:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCsSqr=void 0;var g=n("./csPermute"),f=n("./csPost"),m=n("./csEtree"),l=n("./csAmd"),x=n("./csCounts"),S=["add","multiply","transpose"],D=(0,n("../../../utils/factory").factory)("csSqr",S,function(h){var _=h.add,o=h.multiply,p=h.transpose,b=(0,l.createCsAmd)({add:_,multiply:o,transpose:p}),y=(0,x.createCsCounts)({transpose:p});return function(A,E,N){var T,O=E._ptr,j=E._size[1],M={};if(M.q=b(A,E),A&&!M.q)return null;if(N){var F=A?(0,g.csPermute)(E,null,M.q,0):E;M.parent=(0,m.csEtree)(F,1);var B=(0,f.csPost)(M.parent,j);if(M.cp=y(F,M.parent,B,1),F&&M.parent&&M.cp&&function(I,G){var k=I._ptr,V=I._index,R=I._size,U=R[0],L=R[1];G.pinv=[],G.leftmost=[];var H,X,Z,J,K,$=G.parent,W=G.pinv,Y=G.leftmost,te=[],ce=U,oe=U+L,ue=U+2*L;for(X=0;X<L;X++)te[ce+X]=-1,te[oe+X]=-1,te[ue+X]=0;for(H=0;H<U;H++)Y[H]=-1;for(X=L-1;0<=X;X--)for(J=k[X],K=k[X+1],Z=J;Z<K;Z++)Y[V[Z]]=X;for(H=U-1;0<=H;H--)(W[H]=-1)!==(X=Y[H])&&(te[ue+X]++==0&&(te[oe+X]=H),te[0+H]=te[ce+X],te[ce+X]=H);for(G.lnz=0,G.m2=U,X=0;X<L;X++){var Ce;H=te[ce+X],G.lnz++,H<0&&(H=G.m2++),W[H]=X,--ue[X]<=0||(G.lnz+=te[ue+X],(Ce=$[X])!==-1&&(te[ue+Ce]===0&&(te[oe+Ce]=te[oe+X]),te[0+te[oe+X]]=te[ce+Ce],te[ce+Ce]=te[0+H],te[ue+Ce]+=te[ue+X]))}for(H=0;H<U;H++)W[H]<0&&(W[H]=X++);return!0}(F,M))for(T=M.unz=0;T<j;T++)M.unz+=M.cp[T]}else M.unz=4*O[j]+j,M.lnz=M.unz;return M}});r.createCsSqr=D},{"../../../utils/factory":931,"./csAmd":673,"./csCounts":674,"./csEtree":676,"./csPermute":684,"./csPost":685}],689:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csTdfs=function(g,f,m,l,x,S,D){var h=0;for(m[D]=g;0<=h;){var _=m[D+h],o=m[l+_];o===-1?(h--,S[f++]=_):(m[l+_]=m[x+o],m[D+ ++h]=o)}return f}},{}],690:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csUnflip=function(f){return f<0?(0,g.csFlip)(f):f};var g=n("./csFlip")},{"./csFlip":678}],691:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAbs=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed"],x=(0,g.factory)("abs",l,function(S){var D=(0,S.typed)("abs",{number:m.absNumber,Complex:function(h){return h.abs()},BigNumber:function(h){return h.abs()},Fraction:function(h){return h.abs()},"Array | Matrix":function(h){return(0,f.deepMap)(h,D,!0)},Unit:function(h){return h.abs()}});return D});r.createAbs=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],692:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAdd=void 0;var g=n("../../utils/factory"),f=n("../../utils/object"),m=n("../../type/matrix/utils/algorithm01"),l=n("../../type/matrix/utils/algorithm04"),x=n("../../type/matrix/utils/algorithm10"),S=n("../../type/matrix/utils/algorithm13"),D=n("../../type/matrix/utils/algorithm14"),h=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],_=(0,g.factory)("add",h,function(o){var p=o.typed,b=o.matrix,y=o.addScalar,A=o.equalScalar,E=o.DenseMatrix,N=(o.SparseMatrix,(0,m.createAlgorithm01)({typed:p})),T=(0,l.createAlgorithm04)({typed:p,equalScalar:A}),O=(0,x.createAlgorithm10)({typed:p,DenseMatrix:E}),j=(0,S.createAlgorithm13)({typed:p}),M=(0,D.createAlgorithm14)({typed:p}),F=p("add",(0,f.extend)({"DenseMatrix, DenseMatrix":function(B,I){return j(B,I,y)},"DenseMatrix, SparseMatrix":function(B,I){return N(B,I,y,!1)},"SparseMatrix, DenseMatrix":function(B,I){return N(I,B,y,!0)},"SparseMatrix, SparseMatrix":function(B,I){return T(B,I,y)},"Array, Array":function(B,I){return F(b(B),b(I)).valueOf()},"Array, Matrix":function(B,I){return F(b(B),I)},"Matrix, Array":function(B,I){return F(B,b(I))},"DenseMatrix, any":function(B,I){return M(B,I,y,!1)},"SparseMatrix, any":function(B,I){return O(B,I,y,!1)},"any, DenseMatrix":function(B,I){return M(I,B,y,!0)},"any, SparseMatrix":function(B,I){return O(I,B,y,!0)},"Array, any":function(B,I){return M(b(B),I,y,!1).valueOf()},"any, Array":function(B,I){return M(b(I),B,y,!0).valueOf()},"any, any":y,"any, any, ...any":function(B,I,G){for(var k=F(B,I),V=0;V<G.length;V++)k=F(k,G[V]);return k}},y.signatures));return F});r.createAdd=_},{"../../type/matrix/utils/algorithm01":900,"../../type/matrix/utils/algorithm04":903,"../../type/matrix/utils/algorithm10":909,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931,"../../utils/object":938}],693:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAddScalar=void 0;var g=n("../../utils/factory"),f=n("../../plain/number"),m=["typed"],l=(0,g.factory)("addScalar",m,function(x){var S=(0,x.typed)("addScalar",{"number, number":f.addNumber,"Complex, Complex":function(D,h){return D.add(h)},"BigNumber, BigNumber":function(D,h){return D.plus(h)},"Fraction, Fraction":function(D,h){return D.add(h)},"Unit, Unit":function(D,h){if(D.value===null||D.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(h.value===null||h.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!D.equalBase(h))throw new Error("Units do not match");var _=D.clone();return _.value=S(_.value,h.value),_.fixPrefix=!1,_}});return S});r.createAddScalar=l},{"../../plain/number":874,"../../utils/factory":931}],694:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCbrt=void 0;var g=n("../../utils/factory"),f=n("../../utils/is"),m=n("../../utils/collection"),l=n("../../plain/number"),x=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],S=(0,g.factory)("cbrt",x,function(D){var h=D.config,_=D.typed,o=D.isNegative,p=D.unaryMinus,b=D.matrix,y=D.Complex,A=D.BigNumber,E=D.Fraction,N=_("cbrt",{number:l.cbrtNumber,Complex:T,"Complex, boolean":T,BigNumber:function(O){return O.cbrt()},Unit:function(O){{if(O.value&&(0,f.isComplex)(O.value)){var j=O.clone();return j.value=1,(j=j.pow(1/3)).value=T(O.value),j}var M,F=o(O.value);F&&(O.value=p(O.value)),M=(0,f.isBigNumber)(O.value)?new A(1).div(3):(0,f.isFraction)(O.value)?new E(1,3):1/3;var B=O.pow(M);return F&&(B.value=p(B.value)),B}},"Array | Matrix":function(O){return(0,m.deepMap)(O,N,!0)}});function T(O,j){var M=O.arg()/3,F=O.abs(),B=new y((0,l.cbrtNumber)(F),0).mul(new y(0,M).exp());if(j){var I=[B,new y((0,l.cbrtNumber)(F),0).mul(new y(0,M+2*Math.PI/3).exp()),new y((0,l.cbrtNumber)(F),0).mul(new y(0,M-2*Math.PI/3).exp())];return h.matrix==="Array"?I:b(I)}return B}return N});r.createCbrt=S},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931,"../../utils/is":933}],695:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCeil=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../utils/number"),l=n("../../utils/bignumber/nearlyEqual"),x=n("../../plain/number"),S=["typed","config","round"],D=(0,g.factory)("ceil",S,function(h){var _=h.typed,o=h.config,p=h.round,b=_("ceil",{number:function(y){return((0,m.nearlyEqual)(y,p(y),o.epsilon)?p:x.ceilNumber)(y)},Complex:function(y){return y.ceil()},BigNumber:function(y){return(0,l.nearlyEqual)(y,p(y),o.epsilon)?p(y):y.ceil()},Fraction:function(y){return y.ceil()},"Array | Matrix":function(y){return(0,f.deepMap)(y,b,!0)}});return b});r.createCeil=D},{"../../plain/number":874,"../../utils/bignumber/nearlyEqual":926,"../../utils/collection":927,"../../utils/factory":931,"../../utils/number":937}],696:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCube=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed"],x=(0,g.factory)("cube",l,function(S){var D=(0,S.typed)("cube",{number:m.cubeNumber,Complex:function(h){return h.mul(h).mul(h)},BigNumber:function(h){return h.times(h).times(h)},Fraction:function(h){return h.pow(3)},"Array | Matrix":function(h){return(0,f.deepMap)(h,D,!0)},Unit:function(h){return h.pow(3)}});return D});r.createCube=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],697:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDivide=void 0;var g=n("../../utils/factory"),f=n("../../utils/object"),m=n("../../type/matrix/utils/algorithm11"),l=n("../../type/matrix/utils/algorithm14"),x=["typed","matrix","multiply","equalScalar","divideScalar","inv"],S=(0,g.factory)("divide",x,function(D){var h=D.typed,_=D.matrix,o=D.multiply,p=D.equalScalar,b=D.divideScalar,y=D.inv,A=(0,m.createAlgorithm11)({typed:h,equalScalar:p}),E=(0,l.createAlgorithm14)({typed:h});return h("divide",(0,f.extend)({"Array | Matrix, Array | Matrix":function(N,T){return o(N,y(T))},"DenseMatrix, any":function(N,T){return E(N,T,b,!1)},"SparseMatrix, any":function(N,T){return A(N,T,b,!1)},"Array, any":function(N,T){return E(_(N),T,b,!1).valueOf()},"any, Array | Matrix":function(N,T){return o(N,y(T))}},b.signatures))});r.createDivide=S},{"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931,"../../utils/object":938}],698:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDivideScalar=void 0;var g=n("../../utils/factory"),f=n("../../utils/is"),m=["typed","numeric"],l=(0,g.factory)("divideScalar",m,function(x){var S=x.typed,D=x.numeric,h=S("divideScalar",{"number, number":function(_,o){return _/o},"Complex, Complex":function(_,o){return _.div(o)},"BigNumber, BigNumber":function(_,o){return _.div(o)},"Fraction, Fraction":function(_,o){return _.div(o)},"Unit, number | Fraction | BigNumber":function(_,o){var p=_.clone(),b=D(1,(0,f.typeOf)(o));return p.value=h(p.value===null?p._normalize(b):p.value,o),p},"number | Fraction | BigNumber, Unit":function(_,o){var p=(p=o.clone()).pow(-1),b=D(1,(0,f.typeOf)(_));return p.value=h(_,o.value===null?o._normalize(b):o.value),p},"Unit, Unit":function(_,o){return _.divide(o)}});return h});r.createDivideScalar=l},{"../../utils/factory":931,"../../utils/is":933}],699:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDotDivide=void 0;var g=n("../../utils/factory"),f=n("../../type/matrix/utils/algorithm02"),m=n("../../type/matrix/utils/algorithm03"),l=n("../../type/matrix/utils/algorithm07"),x=n("../../type/matrix/utils/algorithm11"),S=n("../../type/matrix/utils/algorithm12"),D=n("../../type/matrix/utils/algorithm13"),h=n("../../type/matrix/utils/algorithm14"),_=["typed","matrix","equalScalar","divideScalar","DenseMatrix"],o=(0,g.factory)("dotDivide",_,function(p){var b=p.typed,y=p.matrix,A=p.equalScalar,E=p.divideScalar,N=p.DenseMatrix,T=(0,f.createAlgorithm02)({typed:b,equalScalar:A}),O=(0,m.createAlgorithm03)({typed:b}),j=(0,l.createAlgorithm07)({typed:b,DenseMatrix:N}),M=(0,x.createAlgorithm11)({typed:b,equalScalar:A}),F=(0,S.createAlgorithm12)({typed:b,DenseMatrix:N}),B=(0,D.createAlgorithm13)({typed:b}),I=(0,h.createAlgorithm14)({typed:b}),G=b("dotDivide",{"any, any":E,"SparseMatrix, SparseMatrix":function(k,V){return j(k,V,E,!1)},"SparseMatrix, DenseMatrix":function(k,V){return T(V,k,E,!0)},"DenseMatrix, SparseMatrix":function(k,V){return O(k,V,E,!1)},"DenseMatrix, DenseMatrix":function(k,V){return B(k,V,E)},"Array, Array":function(k,V){return G(y(k),y(V)).valueOf()},"Array, Matrix":function(k,V){return G(y(k),V)},"Matrix, Array":function(k,V){return G(k,y(V))},"SparseMatrix, any":function(k,V){return M(k,V,E,!1)},"DenseMatrix, any":function(k,V){return I(k,V,E,!1)},"any, SparseMatrix":function(k,V){return F(V,k,E,!0)},"any, DenseMatrix":function(k,V){return I(V,k,E,!0)},"Array, any":function(k,V){return I(y(k),V,E,!1).valueOf()},"any, Array":function(k,V){return I(y(V),k,E,!0).valueOf()}});return G});r.createDotDivide=o},{"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],700:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDotMultiply=void 0;var g=n("../../utils/factory"),f=n("../../type/matrix/utils/algorithm02"),m=n("../../type/matrix/utils/algorithm09"),l=n("../../type/matrix/utils/algorithm11"),x=n("../../type/matrix/utils/algorithm13"),S=n("../../type/matrix/utils/algorithm14"),D=["typed","matrix","equalScalar","multiplyScalar"],h=(0,g.factory)("dotMultiply",D,function(_){var o=_.typed,p=_.matrix,b=_.equalScalar,y=_.multiplyScalar,A=(0,f.createAlgorithm02)({typed:o,equalScalar:b}),E=(0,m.createAlgorithm09)({typed:o,equalScalar:b}),N=(0,l.createAlgorithm11)({typed:o,equalScalar:b}),T=(0,x.createAlgorithm13)({typed:o}),O=(0,S.createAlgorithm14)({typed:o}),j=o("dotMultiply",{"any, any":y,"SparseMatrix, SparseMatrix":function(M,F){return E(M,F,y,!1)},"SparseMatrix, DenseMatrix":function(M,F){return A(F,M,y,!0)},"DenseMatrix, SparseMatrix":function(M,F){return A(M,F,y,!1)},"DenseMatrix, DenseMatrix":function(M,F){return T(M,F,y)},"Array, Array":function(M,F){return j(p(M),p(F)).valueOf()},"Array, Matrix":function(M,F){return j(p(M),F)},"Matrix, Array":function(M,F){return j(M,p(F))},"SparseMatrix, any":function(M,F){return N(M,F,y,!1)},"DenseMatrix, any":function(M,F){return O(M,F,y,!1)},"any, SparseMatrix":function(M,F){return N(F,M,y,!0)},"any, DenseMatrix":function(M,F){return O(F,M,y,!0)},"Array, any":function(M,F){return O(p(M),F,y,!1).valueOf()},"any, Array":function(M,F){return O(p(F),M,y,!0).valueOf()}});return j});r.createDotMultiply=h},{"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm09":908,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],701:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDotPow=void 0;var g=n("../../utils/factory"),f=n("../../type/matrix/utils/algorithm03"),m=n("../../type/matrix/utils/algorithm07"),l=n("../../type/matrix/utils/algorithm11"),x=n("../../type/matrix/utils/algorithm12"),S=n("../../type/matrix/utils/algorithm13"),D=n("../../type/matrix/utils/algorithm14"),h=["typed","equalScalar","matrix","pow","DenseMatrix"],_=(0,g.factory)("dotPow",h,function(o){var p=o.typed,b=o.equalScalar,y=o.matrix,A=o.pow,E=o.DenseMatrix,N=(0,f.createAlgorithm03)({typed:p}),T=(0,m.createAlgorithm07)({typed:p,DenseMatrix:E}),O=(0,l.createAlgorithm11)({typed:p,equalScalar:b}),j=(0,x.createAlgorithm12)({typed:p,DenseMatrix:E}),M=(0,S.createAlgorithm13)({typed:p}),F=(0,D.createAlgorithm14)({typed:p}),B=p("dotPow",{"any, any":A,"SparseMatrix, SparseMatrix":function(I,G){return T(I,G,A,!1)},"SparseMatrix, DenseMatrix":function(I,G){return N(G,I,A,!0)},"DenseMatrix, SparseMatrix":function(I,G){return N(I,G,A,!1)},"DenseMatrix, DenseMatrix":function(I,G){return M(I,G,A)},"Array, Array":function(I,G){return B(y(I),y(G)).valueOf()},"Array, Matrix":function(I,G){return B(y(I),G)},"Matrix, Array":function(I,G){return B(I,y(G))},"SparseMatrix, any":function(I,G){return O(I,G,B,!1)},"DenseMatrix, any":function(I,G){return F(I,G,B,!1)},"any, SparseMatrix":function(I,G){return j(G,I,B,!0)},"any, DenseMatrix":function(I,G){return F(G,I,B,!0)},"Array, any":function(I,G){return F(y(I),G,B,!1).valueOf()},"any, Array":function(I,G){return F(y(G),I,B,!0).valueOf()}});return B});r.createDotPow=_},{"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],702:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createExp=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed"],x=(0,g.factory)("exp",l,function(S){var D=(0,S.typed)("exp",{number:m.expNumber,Complex:function(h){return h.exp()},BigNumber:function(h){return h.exp()},"Array | Matrix":function(h){return(0,f.deepMap)(h,D)}});return D});r.createExp=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],703:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createExpm1=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","Complex"],x=(0,g.factory)("expm1",l,function(S){var D=S.typed,h=S.Complex,_=D("expm1",{number:m.expm1Number,Complex:function(o){var p=Math.exp(o.re);return new h(p*Math.cos(o.im)-1,p*Math.sin(o.im))},BigNumber:function(o){return o.exp().minus(1)},"Array | Matrix":function(o){return(0,f.deepMap)(o,_)}});return _});r.createExpm1=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],704:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFix=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=["typed","Complex","ceil","floor"],l=(0,g.factory)("fix",m,function(x){var S=x.typed,D=x.Complex,h=x.ceil,_=x.floor,o=S("fix",{number:function(p){return(0<p?_:h)(p)},Complex:function(p){return new D(0<p.re?Math.floor(p.re):Math.ceil(p.re),0<p.im?Math.floor(p.im):Math.ceil(p.im))},BigNumber:function(p){return(p.isNegative()?h:_)(p)},Fraction:function(p){return p.s<0?p.ceil():p.floor()},"Array | Matrix":function(p){return(0,f.deepMap)(p,o,!0)}});return o});r.createFix=l},{"../../utils/collection":927,"../../utils/factory":931}],705:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFloor=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../utils/number"),l=n("../../utils/bignumber/nearlyEqual"),x=["typed","config","round"],S=(0,g.factory)("floor",x,function(D){var h=D.typed,_=D.config,o=D.round,p=h("floor",{number:function(b){return(0,m.nearlyEqual)(b,o(b),_.epsilon)?o(b):Math.floor(b)},Complex:function(b){return b.floor()},BigNumber:function(b){return(0,l.nearlyEqual)(b,o(b),_.epsilon)?o(b):b.floor()},Fraction:function(b){return b.floor()},"Array | Matrix":function(b){return(0,f.deepMap)(b,p,!0)}});return p});r.createFloor=S},{"../../utils/bignumber/nearlyEqual":926,"../../utils/collection":927,"../../utils/factory":931,"../../utils/number":937}],706:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createGcd=void 0;var g=n("../../utils/factory"),f=n("../../type/matrix/utils/algorithm01"),m=n("../../type/matrix/utils/algorithm04"),l=n("../../type/matrix/utils/algorithm10"),x=n("../../type/matrix/utils/algorithm13"),S=n("../../type/matrix/utils/algorithm14"),D=n("../../plain/number"),h=["typed","matrix","equalScalar","BigNumber","DenseMatrix"],_=(0,g.factory)("gcd",h,function(o){var p=o.typed,b=o.matrix,y=o.equalScalar,A=o.BigNumber,E=o.DenseMatrix,N=(0,f.createAlgorithm01)({typed:p}),T=(0,m.createAlgorithm04)({typed:p,equalScalar:y}),O=(0,l.createAlgorithm10)({typed:p,DenseMatrix:E}),j=(0,x.createAlgorithm13)({typed:p}),M=(0,S.createAlgorithm14)({typed:p}),F=p("gcd",{"number, number":D.gcdNumber,"BigNumber, BigNumber":function(B,I){if(!B.isInt()||!I.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var G=new A(0);!I.isZero();){var k=B.mod(I);B=I,I=k}return B.lt(G)?B.neg():B},"Fraction, Fraction":function(B,I){return B.gcd(I)},"SparseMatrix, SparseMatrix":function(B,I){return T(B,I,F)},"SparseMatrix, DenseMatrix":function(B,I){return N(I,B,F,!0)},"DenseMatrix, SparseMatrix":function(B,I){return N(B,I,F,!1)},"DenseMatrix, DenseMatrix":function(B,I){return j(B,I,F)},"Array, Array":function(B,I){return F(b(B),b(I)).valueOf()},"Array, Matrix":function(B,I){return F(b(B),I)},"Matrix, Array":function(B,I){return F(B,b(I))},"SparseMatrix, number | BigNumber":function(B,I){return O(B,I,F,!1)},"DenseMatrix, number | BigNumber":function(B,I){return M(B,I,F,!1)},"number | BigNumber, SparseMatrix":function(B,I){return O(I,B,F,!0)},"number | BigNumber, DenseMatrix":function(B,I){return M(I,B,F,!0)},"Array, number | BigNumber":function(B,I){return M(b(B),I,F,!1).valueOf()},"number | BigNumber, Array":function(B,I){return M(b(I),B,F,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(B,I,G){for(var k=F(B,I),V=0;V<G.length;V++)k=F(k,G[V]);return k}});return F});r.createGcd=_},{"../../plain/number":874,"../../type/matrix/utils/algorithm01":900,"../../type/matrix/utils/algorithm04":903,"../../type/matrix/utils/algorithm10":909,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],707:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHypot=void 0;var g=n("../../utils/factory"),f=n("../../utils/array"),m=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],l=(0,g.factory)("hypot",m,function(x){var S=x.typed,D=x.abs,h=x.addScalar,_=x.divideScalar,o=x.multiplyScalar,p=x.sqrt,b=x.smaller,y=x.isPositive,A=S("hypot",{"... number | BigNumber":function(E){for(var N=0,T=0,O=0;O<E.length;O++){var j=D(E[O]);b(T,j)?(N=o(N,o(_(T,j),_(T,j))),N=h(N,1),T=j):N=h(N,y(j)?o(_(j,T),_(j,T)):j)}return o(T,p(N))},Array:function(E){return A.apply(A,(0,f.flatten)(E))},Matrix:function(E){return A.apply(A,(0,f.flatten)(E.toArray()))}});return A});r.createHypot=l},{"../../utils/array":922,"../../utils/factory":931}],708:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLcm=void 0;var g=n("../../utils/factory"),f=n("../../type/matrix/utils/algorithm02"),m=n("../../type/matrix/utils/algorithm06"),l=n("../../type/matrix/utils/algorithm11"),x=n("../../type/matrix/utils/algorithm13"),S=n("../../type/matrix/utils/algorithm14"),D=n("../../plain/number"),h=["typed","matrix","equalScalar"],_=(0,g.factory)("lcm",h,function(o){var p=o.typed,b=o.matrix,y=o.equalScalar,A=(0,f.createAlgorithm02)({typed:p,equalScalar:y}),E=(0,m.createAlgorithm06)({typed:p,equalScalar:y}),N=(0,l.createAlgorithm11)({typed:p,equalScalar:y}),T=(0,x.createAlgorithm13)({typed:p}),O=(0,S.createAlgorithm14)({typed:p}),j=p("lcm",{"number, number":D.lcmNumber,"BigNumber, BigNumber":function(M,F){if(!M.isInt()||!F.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(M.isZero())return M;if(F.isZero())return F;for(var B=M.times(F);!F.isZero();){var I=F;F=M.mod(I),M=I}return B.div(M).abs()},"Fraction, Fraction":function(M,F){return M.lcm(F)},"SparseMatrix, SparseMatrix":function(M,F){return E(M,F,j)},"SparseMatrix, DenseMatrix":function(M,F){return A(F,M,j,!0)},"DenseMatrix, SparseMatrix":function(M,F){return A(M,F,j,!1)},"DenseMatrix, DenseMatrix":function(M,F){return T(M,F,j)},"Array, Array":function(M,F){return j(b(M),b(F)).valueOf()},"Array, Matrix":function(M,F){return j(b(M),F)},"Matrix, Array":function(M,F){return j(M,b(F))},"SparseMatrix, number | BigNumber":function(M,F){return N(M,F,j,!1)},"DenseMatrix, number | BigNumber":function(M,F){return O(M,F,j,!1)},"number | BigNumber, SparseMatrix":function(M,F){return N(F,M,j,!0)},"number | BigNumber, DenseMatrix":function(M,F){return O(F,M,j,!0)},"Array, number | BigNumber":function(M,F){return O(b(M),F,j,!1).valueOf()},"number | BigNumber, Array":function(M,F){return O(b(F),M,j,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(M,F,B){for(var I=j(M,F),G=0;G<B.length;G++)I=j(I,B[G]);return I}});return j});r.createLcm=_},{"../../plain/number":874,"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm06":905,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],709:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLog=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["config","typed","divideScalar","Complex"],x=(0,g.factory)("log",l,function(S){var D=S.typed,h=S.config,_=S.divideScalar,o=S.Complex,p=D("log",{number:function(b){return 0<=b||h.predictable?(0,m.logNumber)(b):new o(b,0).log()},Complex:function(b){return b.log()},BigNumber:function(b){return!b.isNegative()||h.predictable?b.ln():new o(b.toNumber(),0).log()},"Array | Matrix":function(b){return(0,f.deepMap)(b,p)},"any, any":function(b,y){return _(p(b),p(y))}});return p});r.createLog=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],710:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLog10=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","config","Complex"],x=(0,g.factory)("log10",l,function(S){var D=S.typed,h=S.config,_=S.Complex,o=D("log10",{number:function(p){return 0<=p||h.predictable?(0,m.log10Number)(p):new _(p,0).log().div(Math.LN10)},Complex:function(p){return new _(p).log().div(Math.LN10)},BigNumber:function(p){return!p.isNegative()||h.predictable?p.log():new _(p.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(p){return(0,f.deepMap)(p,o)}});return o});r.createLog10=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],711:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLog1p=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../utils/number"),l=["typed","config","divideScalar","log","Complex"],x=(0,g.factory)("log1p",l,function(S){var D=S.typed,h=S.config,_=S.divideScalar,o=S.log,p=S.Complex,b=D("log1p",{number:function(A){return-1<=A||h.predictable?(0,m.log1p)(A):y(new p(A,0))},Complex:y,BigNumber:function(A){var E=A.plus(1);return!E.isNegative()||h.predictable?E.ln():y(new p(A.toNumber(),0))},"Array | Matrix":function(A){return(0,f.deepMap)(A,b)},"any, any":function(A,E){return _(b(A),o(E))}});function y(A){var E=A.re+1;return new p(Math.log(Math.sqrt(E*E+A.im*A.im)),Math.atan2(A.im,E))}return b});r.createLog1p=x},{"../../utils/collection":927,"../../utils/factory":931,"../../utils/number":937}],712:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLog2=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","config","Complex"],x=(0,g.factory)("log2",l,function(S){var D=S.typed,h=S.config,_=S.Complex,o=D("log2",{number:function(b){return 0<=b||h.predictable?(0,m.log2Number)(b):p(new _(b,0))},Complex:p,BigNumber:function(b){return!b.isNegative()||h.predictable?b.log(2):p(new _(b.toNumber(),0))},"Array | Matrix":function(b){return(0,f.deepMap)(b,o)}});function p(b){var y=Math.sqrt(b.re*b.re+b.im*b.im);return new _(Math.log2?Math.log2(y):Math.log(y)/Math.LN2,Math.atan2(b.im,b.re)/Math.LN2)}return o});r.createLog2=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],713:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMod=void 0;var g=n("../../utils/factory"),f=n("../../type/matrix/utils/algorithm02"),m=n("../../type/matrix/utils/algorithm03"),l=n("../../type/matrix/utils/algorithm05"),x=n("../../type/matrix/utils/algorithm11"),S=n("../../type/matrix/utils/algorithm12"),D=n("../../type/matrix/utils/algorithm13"),h=n("../../type/matrix/utils/algorithm14"),_=n("../../plain/number"),o=["typed","matrix","equalScalar","DenseMatrix"],p=(0,g.factory)("mod",o,function(b){var y=b.typed,A=b.matrix,E=b.equalScalar,N=b.DenseMatrix,T=(0,f.createAlgorithm02)({typed:y,equalScalar:E}),O=(0,m.createAlgorithm03)({typed:y}),j=(0,l.createAlgorithm05)({typed:y,equalScalar:E}),M=(0,x.createAlgorithm11)({typed:y,equalScalar:E}),F=(0,S.createAlgorithm12)({typed:y,DenseMatrix:N}),B=(0,D.createAlgorithm13)({typed:y}),I=(0,h.createAlgorithm14)({typed:y}),G=y("mod",{"number, number":_.modNumber,"BigNumber, BigNumber":function(k,V){return V.isZero()?k:k.mod(V)},"Fraction, Fraction":function(k,V){return k.mod(V)},"SparseMatrix, SparseMatrix":function(k,V){return j(k,V,G,!1)},"SparseMatrix, DenseMatrix":function(k,V){return T(V,k,G,!0)},"DenseMatrix, SparseMatrix":function(k,V){return O(k,V,G,!1)},"DenseMatrix, DenseMatrix":function(k,V){return B(k,V,G)},"Array, Array":function(k,V){return G(A(k),A(V)).valueOf()},"Array, Matrix":function(k,V){return G(A(k),V)},"Matrix, Array":function(k,V){return G(k,A(V))},"SparseMatrix, any":function(k,V){return M(k,V,G,!1)},"DenseMatrix, any":function(k,V){return I(k,V,G,!1)},"any, SparseMatrix":function(k,V){return F(V,k,G,!0)},"any, DenseMatrix":function(k,V){return I(V,k,G,!0)},"Array, any":function(k,V){return I(A(k),V,G,!1).valueOf()},"any, Array":function(k,V){return I(A(V),k,G,!0).valueOf()}});return G});r.createMod=p},{"../../plain/number":874,"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm05":904,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],714:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMultiply=void 0;var g=n("../../utils/factory"),f=n("../../utils/is"),m=n("../../utils/object"),l=n("../../utils/array"),x=n("../../type/matrix/utils/algorithm11"),S=n("../../type/matrix/utils/algorithm14"),D=["typed","matrix","addScalar","multiplyScalar","equalScalar"],h=(0,g.factory)("multiply",D,function(_){var o=_.typed,p=_.matrix,b=_.addScalar,y=_.multiplyScalar,A=_.equalScalar,E=(0,x.createAlgorithm11)({typed:o,equalScalar:A}),N=(0,S.createAlgorithm14)({typed:o}),T=o("multiply",(0,m.extend)({"Array, Array":function(F,B){O((0,l.arraySize)(F),(0,l.arraySize)(B));var I=T(p(F),p(B));return(0,f.isMatrix)(I)?I.valueOf():I},"Matrix, Matrix":function(F,B){var I=F.size(),G=B.size();return O(I,G),I.length===1?G.length===1?function(k,V,R){if(R===0)throw new Error("Cannot multiply two empty vectors");var U,L=k._data,H=k._datatype,X=V._data,Z=V._datatype,J=b,K=y;H&&Z&&H===Z&&typeof H=="string"&&(U=H,J=o.find(b,[U,U]),K=o.find(y,[U,U]));for(var $=K(L[0],X[0]),W=1;W<R;W++)$=J($,K(L[W],X[W]));return $}(F,B,I[0]):function(k,V){if(V.storage()==="dense")return function(R,U){var L,H=R._data,X=R._size,Z=R._datatype,J=U._data,K=U._size,$=U._datatype,W=X[0],Y=K[1],te=b,ce=y;Z&&$&&Z===$&&typeof Z=="string"&&(L=Z,te=o.find(b,[L,L]),ce=o.find(y,[L,L]));for(var oe=[],ue=0;ue<Y;ue++){for(var Ce=ce(H[0],J[0][ue]),le=1;le<W;le++)Ce=te(Ce,ce(H[le],J[le][ue]));oe[ue]=Ce}return R.createDenseMatrix({data:oe,size:[Y],datatype:L})}(k,V);throw new Error("Support for SparseMatrix not implemented")}(F,B):(G.length===1?j:M)(F,B)},"Matrix, Array":function(F,B){return T(F,p(B))},"Array, Matrix":function(F,B){return T(p(F,B.storage()),B)},"SparseMatrix, any":function(F,B){return E(F,B,y,!1)},"DenseMatrix, any":function(F,B){return N(F,B,y,!1)},"any, SparseMatrix":function(F,B){return E(B,F,y,!0)},"any, DenseMatrix":function(F,B){return N(B,F,y,!0)},"Array, any":function(F,B){return N(p(F),B,y,!1).valueOf()},"any, Array":function(F,B){return N(p(B),F,y,!0).valueOf()},"any, any":y,"any, any, ...any":function(F,B,I){for(var G=T(F,B),k=0;k<I.length;k++)G=T(G,I[k]);return G}},y.signatures));function O(F,B){switch(F.length){case 1:switch(B.length){case 1:if(F[0]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(F[0]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+F[0]+") must match Matrix rows ("+B[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+B.length+" dimensions)")}break;case 2:switch(B.length){case 1:if(F[1]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+F[1]+") must match Vector length ("+B[0]+")");break;case 2:if(F[1]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+F[1]+") must match Matrix B rows ("+B[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+B.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+F.length+" dimensions)")}}var j=o("_multiplyMatrixVector",{"DenseMatrix, any":function(F,B){var I,G=F._data,k=F._size,V=F._datatype,R=B._data,U=B._datatype,L=k[0],H=k[1],X=b,Z=y;V&&U&&V===U&&typeof V=="string"&&(I=V,X=o.find(b,[I,I]),Z=o.find(y,[I,I]));for(var J=[],K=0;K<L;K++){for(var $=G[K],W=Z($[0],R[0]),Y=1;Y<H;Y++)W=X(W,Z($[Y],R[Y]));J[K]=W}return F.createDenseMatrix({data:J,size:[L],datatype:I})},"SparseMatrix, any":function(F,B){var I=F._values,G=F._index,k=F._ptr,V=F._datatype;if(!I)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var R,U=B._data,L=B._datatype,H=F._size[0],X=B._size[0],Z=[],J=[],K=[],$=b,W=y,Y=A,te=0;V&&L&&V===L&&typeof V=="string"&&(R=V,$=o.find(b,[R,R]),W=o.find(y,[R,R]),Y=o.find(A,[R,R]),te=o.convert(0,R));for(var ce=[],oe=[],ue=K[0]=0;ue<X;ue++){var Ce=U[ue];if(!Y(Ce,te))for(var le=k[ue],ye=k[ue+1],ve=le;ve<ye;ve++){var pe=G[ve];oe[pe]?ce[pe]=$(ce[pe],W(Ce,I[ve])):(oe[pe]=!0,J.push(pe),ce[pe]=W(Ce,I[ve]))}}for(var be=J.length,Ne=0;Ne<be;Ne++){var he=J[Ne];Z[Ne]=ce[he]}return K[1]=J.length,F.createSparseMatrix({values:Z,index:J,ptr:K,size:[H,1],datatype:R})}}),M=o("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(F,B){var I,G=F._data,k=F._size,V=F._datatype,R=B._data,U=B._size,L=B._datatype,H=k[0],X=k[1],Z=U[1],J=b,K=y;V&&L&&V===L&&typeof V=="string"&&(I=V,J=o.find(b,[I,I]),K=o.find(y,[I,I]));for(var $=[],W=0;W<H;W++){var Y=G[W];$[W]=[];for(var te=0;te<Z;te++){for(var ce=K(Y[0],R[0][te]),oe=1;oe<X;oe++)ce=J(ce,K(Y[oe],R[oe][te]));$[W][te]=ce}}return F.createDenseMatrix({data:$,size:[H,Z],datatype:I})},"DenseMatrix, SparseMatrix":function(F,B){var I=F._data,G=F._size,k=F._datatype,V=B._values,R=B._index,U=B._ptr,L=B._size,H=B._datatype;if(!V)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var X,Z=G[0],J=L[1],K=b,$=y,W=A,Y=0;k&&H&&k===H&&typeof k=="string"&&(X=k,K=o.find(b,[X,X]),$=o.find(y,[X,X]),W=o.find(A,[X,X]),Y=o.convert(0,X));for(var te=[],ce=[],oe=[],ue=B.createSparseMatrix({values:te,index:ce,ptr:oe,size:[Z,J],datatype:X}),Ce=0;Ce<J;Ce++){oe[Ce]=ce.length;var le=U[Ce],ye=U[Ce+1];if(le<ye)for(var ve=0,pe=0;pe<Z;pe++){for(var be=pe+1,Ne=void 0,he=le;he<ye;he++){var ne=R[he];ve!==be?(Ne=$(I[pe][ne],V[he]),ve=be):Ne=K(Ne,$(I[pe][ne],V[he]))}ve!==be||W(Ne,Y)||(ce.push(pe),te.push(Ne))}}return oe[J]=ce.length,ue},"SparseMatrix, DenseMatrix":function(F,B){var I=F._values,G=F._index,k=F._ptr,V=F._datatype;if(!I)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var R,U=B._data,L=B._datatype,H=F._size[0],X=B._size[0],Z=B._size[1],J=b,K=y,$=A,W=0;V&&L&&V===L&&typeof V=="string"&&(R=V,J=o.find(b,[R,R]),K=o.find(y,[R,R]),$=o.find(A,[R,R]),W=o.convert(0,R));for(var Y=[],te=[],ce=[],oe=F.createSparseMatrix({values:Y,index:te,ptr:ce,size:[H,Z],datatype:R}),ue=[],Ce=[],le=0;le<Z;le++){ce[le]=te.length;for(var ye=le+1,ve=0;ve<X;ve++){var pe=U[ve][le];if(!$(pe,W))for(var be=k[ve],Ne=k[ve+1],he=be;he<Ne;he++){var ne=G[he];Ce[ne]!==ye?(Ce[ne]=ye,te.push(ne),ue[ne]=K(pe,I[he])):ue[ne]=J(ue[ne],K(pe,I[he]))}}for(var re=ce[le],de=te.length,xe=re;xe<de;xe++){var Pe=te[xe];Y[xe]=ue[Pe]}}return ce[Z]=te.length,oe},"SparseMatrix, SparseMatrix":function(F,B){var I,G=F._values,k=F._index,V=F._ptr,R=F._datatype,U=B._values,L=B._index,H=B._ptr,X=B._datatype,Z=F._size[0],J=B._size[1],K=G&&U,$=b,W=y;R&&X&&R===X&&typeof R=="string"&&(I=R,$=o.find(b,[I,I]),W=o.find(y,[I,I]));for(var Y,te,ce,oe,ue,Ce,le,ye,ve=K?[]:void 0,pe=[],be=[],Ne=F.createSparseMatrix({values:ve,index:pe,ptr:be,size:[Z,J],datatype:I}),he=K?[]:void 0,ne=[],re=0;re<J;re++){be[re]=pe.length;var de=re+1;for(ue=H[re],Ce=H[re+1],oe=ue;oe<Ce;oe++)if(ye=L[oe],K)for(te=V[ye],ce=V[ye+1],Y=te;Y<ce;Y++)le=k[Y],ne[le]!==de?(ne[le]=de,pe.push(le),he[le]=W(U[oe],G[Y])):he[le]=$(he[le],W(U[oe],G[Y]));else for(te=V[ye],ce=V[ye+1],Y=te;Y<ce;Y++)le=k[Y],ne[le]!==de&&(ne[le]=de,pe.push(le));if(K)for(var xe=be[re],Pe=pe.length,Ae=xe;Ae<Pe;Ae++){var Oe=pe[Ae];ve[Ae]=he[Oe]}}return be[J]=pe.length,Ne}});return T});r.createMultiply=h},{"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm14":913,"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938}],715:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMultiplyScalar=void 0;var g=n("../../utils/factory"),f=n("../../plain/number"),m=["typed"],l=(0,g.factory)("multiplyScalar",m,function(x){var S=(0,x.typed)("multiplyScalar",{"number, number":f.multiplyNumber,"Complex, Complex":function(D,h){return D.mul(h)},"BigNumber, BigNumber":function(D,h){return D.times(h)},"Fraction, Fraction":function(D,h){return D.mul(h)},"number | Fraction | BigNumber | Complex, Unit":function(D,h){var _=h.clone();return _.value=_.value===null?_._normalize(D):S(_.value,D),_},"Unit, number | Fraction | BigNumber | Complex":function(D,h){var _=D.clone();return _.value=_.value===null?_._normalize(h):S(_.value,h),_},"Unit, Unit":function(D,h){return D.multiply(h)}});return S});r.createMultiplyScalar=l},{"../../plain/number":874,"../../utils/factory":931}],716:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNorm=void 0;var g=n("../../utils/factory"),f=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix"],m=(0,g.factory)("norm",f,function(l){var x=l.typed,S=l.abs,D=l.add,h=l.pow,_=l.conj,o=l.sqrt,p=l.multiply,b=l.equalScalar,y=l.larger,A=l.smaller,E=l.matrix,N=x("norm",{number:Math.abs,Complex:function(O){return O.abs()},BigNumber:function(O){return O.abs()},boolean:function(O){return Math.abs(O)},Array:function(O){return T(E(O),2)},Matrix:function(O){return T(O,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(O){return N(O)},"Array, number | BigNumber | string":function(O,j){return T(E(O),j)},"Matrix, number | BigNumber | string":T});function T(O,j){var M,F=O.size();if(F.length===1){if(j===Number.POSITIVE_INFINITY||j==="inf"){var B=0;return O.forEach(function(L){var H=S(L);y(H,B)&&(B=H)},!0),B}if(j===Number.NEGATIVE_INFINITY||j==="-inf")return O.forEach(function(L){var H=S(L);M&&!A(H,M)||(M=H)},!0),M||0;if(j==="fro")return T(O,2);if(typeof j!="number"||isNaN(j))throw new Error("Unsupported parameter value");if(b(j,0))return Number.POSITIVE_INFINITY;var I=0;return O.forEach(function(L){I=D(h(S(L),j),I)},!0),h(I,1/j)}if(F.length===2){if(j===1){var G=[],k=0;return O.forEach(function(L,H){var X=H[1],Z=D(G[X]||0,S(L));y(Z,k)&&(k=Z),G[X]=Z},!0),k}if(j===Number.POSITIVE_INFINITY||j==="inf"){var V=[],R=0;return O.forEach(function(L,H){var X=H[0],Z=D(V[X]||0,S(L));y(Z,R)&&(R=Z),V[X]=Z},!0),R}if(j==="fro"){var U=0;return O.forEach(function(L,H){U=D(U,p(L,_(L)))}),S(o(U))}throw j===2?new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition"):new Error("Unsupported parameter value")}}return N});r.createNorm=m},{"../../utils/factory":931}],717:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNthRootNumber=r.createNthRoot=void 0;var g=n("../../utils/factory"),f=n("../../type/matrix/utils/algorithm01"),m=n("../../type/matrix/utils/algorithm02"),l=n("../../type/matrix/utils/algorithm06"),x=n("../../type/matrix/utils/algorithm11"),S=n("../../type/matrix/utils/algorithm13"),D=n("../../type/matrix/utils/algorithm14"),h=n("../../plain/number"),_="nthRoot",o=["typed","matrix","equalScalar","BigNumber"],p=(0,g.factory)(_,o,function(y){var A=y.typed,E=y.matrix,N=y.equalScalar,T=y.BigNumber,O=(0,f.createAlgorithm01)({typed:A}),j=(0,m.createAlgorithm02)({typed:A,equalScalar:N}),M=(0,l.createAlgorithm06)({typed:A,equalScalar:N}),F=(0,x.createAlgorithm11)({typed:A,equalScalar:N}),B=(0,S.createAlgorithm13)({typed:A}),I=(0,D.createAlgorithm14)({typed:A}),G="Complex number not supported in function nthRoot. Use nthRoots instead.",k=A(_,{number:function(R){return(0,h.nthRootNumber)(R,2)},"number, number":h.nthRootNumber,BigNumber:function(R){return V(R,new T(2))},Complex:function(){throw new Error(G)},"Complex, number":function(){throw new Error(G)},"BigNumber, BigNumber":V,"Array | Matrix":function(R){return k(R,2)},"SparseMatrix, SparseMatrix":function(R,U){if(U.density()===1)return M(R,U,k);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(R,U){return j(U,R,k,!0)},"DenseMatrix, SparseMatrix":function(R,U){if(U.density()===1)return O(R,U,k,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(R,U){return B(R,U,k)},"Array, Array":function(R,U){return k(E(R),E(U)).valueOf()},"Array, Matrix":function(R,U){return k(E(R),U)},"Matrix, Array":function(R,U){return k(R,E(U))},"SparseMatrix, number | BigNumber":function(R,U){return F(R,U,k,!1)},"DenseMatrix, number | BigNumber":function(R,U){return I(R,U,k,!1)},"number | BigNumber, SparseMatrix":function(R,U){if(U.density()===1)return F(U,R,k,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(R,U){return I(U,R,k,!0)},"Array, number | BigNumber":function(R,U){return k(E(R),U).valueOf()},"number | BigNumber, Array":function(R,U){return k(R,E(U)).valueOf()}});return k;function V(R,U){var L=T.precision,H=T.clone({precision:L+2}),X=new T(0),Z=new H(1),J=U.isNegative();if(J&&(U=U.neg()),U.isZero())throw new Error("Root must be non-zero");if(R.isNegative()&&!U.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(R.isZero())return J?new H(1/0):0;if(!R.isFinite())return J?X:R;var K=R.abs().pow(Z.div(U)),K=R.isNeg()?K.neg():K;return new T((J?Z.div(K):K).toPrecision(L))}});r.createNthRoot=p;var b=(0,g.factory)(_,["typed"],function(y){return(0,y.typed)(_,{number:h.nthRootNumber,"number, number":h.nthRootNumber})});r.createNthRootNumber=b},{"../../plain/number":874,"../../type/matrix/utils/algorithm01":900,"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm06":905,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],718:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNthRoots=void 0;var g=n("../../utils/factory"),f=["config","typed","divideScalar","Complex"],m=(0,g.factory)("nthRoots",f,function(l){var x=l.typed,S=(l.config,l.divideScalar,l.Complex),D=x("nthRoots",{Complex:function(o){return _(o,2)},"Complex, number":_}),h=[function(o){return new S(o,0)},function(o){return new S(0,o)},function(o){return new S(-o,0)},function(o){return new S(0,-o)}];function _(o,p){if(p<0)throw new Error("Root must be greater than zero");if(p===0)throw new Error("Root must be non-zero");if(p%1!=0)throw new Error("Root must be an integer");if(o===0||o.abs()===0)return[new S(0,0)];var b,y=typeof o=="number";!y&&o.re!==0&&o.im!==0||(b=y?2*(o<0):o.im===0?2*(o.re<0):2*(o.im<0)+1);for(var A=o.arg(),E=o.abs(),N=[],T=Math.pow(E,1/p),O=0;O<p;O++){var j=(b+4*O)/p;j!==Math.round(j)?N.push(new S({r:T,phi:(A+2*Math.PI*O)/p})):N.push(h[j%4](T))}return N}return D});r.createNthRoots=m},{"../../utils/factory":931}],719:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createPow=void 0;var g=n("../../utils/factory"),f=n("../../utils/number"),m=n("../../utils/array"),l=n("../../plain/number"),x=["typed","config","identity","multiply","matrix","fraction","number","Complex"],S=(0,g.factory)("pow",x,function(D){var h=D.typed,_=D.config,o=D.identity,p=D.multiply,b=D.matrix,y=D.number,A=D.fraction,E=D.Complex;return h("pow",{"number, number":N,"Complex, Complex":function(j,M){return j.pow(M)},"BigNumber, BigNumber":function(j,M){return M.isInteger()||0<=j||_.predictable?j.pow(M):new E(j.toNumber(),0).pow(M.toNumber(),0)},"Fraction, Fraction":function(j,M){if(M.d===1)return j.pow(M);if(_.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return N(j.valueOf(),M.valueOf())},"Array, number":T,"Array, BigNumber":function(j,M){return T(j,M.toNumber())},"Matrix, number":O,"Matrix, BigNumber":function(j,M){return O(j,M.toNumber())},"Unit, number | BigNumber":function(j,M){return j.pow(M)}});function N(j,M){if(_.predictable&&!(0,f.isInteger)(M)&&j<0)try{var F=A(M),B=y(F);if((M===B||Math.abs((M-B)/M)<1e-14)&&F.d%2==1)return(F.n%2==0?1:-1)*Math.pow(-j,M)}catch{}return _.predictable&&(j<-1&&M===1/0||-1<j&&j<0&&M===-1/0)?NaN:(0,f.isInteger)(M)||0<=j||_.predictable?(0,l.powNumber)(j,M):j*j<1&&M===1/0||1<j*j&&M===-1/0?0:new E(j,0).pow(M,0)}function T(j,M){if(!(0,f.isInteger)(M)||M<0)throw new TypeError("For A^b, b must be a positive integer (value is "+M+")");var F=(0,m.arraySize)(j);if(F.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+F.length+" dimensions)");if(F[0]!==F[1])throw new Error("For A^b, A must be square (size is "+F[0]+"x"+F[1]+")");for(var B=o(F[0]).valueOf(),I=j;1<=M;)(1&M)==1&&(B=p(I,B)),M>>=1,I=p(I,I);return B}function O(j,M){return b(T(j.valueOf(),M))}});r.createPow=S},{"../../plain/number":874,"../../utils/array":922,"../../utils/factory":931,"../../utils/number":937}],720:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRoundNumber=r.createRound=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../utils/number"),l=n("../../type/matrix/utils/algorithm11"),x=n("../../type/matrix/utils/algorithm12"),S=n("../../type/matrix/utils/algorithm14"),D=n("../../plain/number");function h(E,N){var T,O=Object.keys(E);return Object.getOwnPropertySymbols&&(T=Object.getOwnPropertySymbols(E),N&&(T=T.filter(function(j){return Object.getOwnPropertyDescriptor(E,j).enumerable})),O.push.apply(O,T)),O}function _(E){for(var N=1;N<arguments.length;N++){var T=arguments[N]!=null?arguments[N]:{};N%2?h(Object(T),!0).forEach(function(O){(function(j,M,F){M in j?Object.defineProperty(j,M,{value:F,enumerable:!0,configurable:!0,writable:!0}):j[M]=F})(E,O,T[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(T)):h(Object(T)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(T,O))})}return E}var o="Number of decimals in function round must be an integer",p=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],b=(0,g.factory)("round",p,function(E){var N=E.typed,T=E.matrix,O=E.equalScalar,j=E.zeros,M=E.BigNumber,F=E.DenseMatrix,B=(0,l.createAlgorithm11)({typed:N,equalScalar:O}),I=(0,x.createAlgorithm12)({typed:N,DenseMatrix:F}),G=(0,S.createAlgorithm14)({typed:N}),k=N("round",_(_({},y),{},{Complex:function(V){return V.round()},"Complex, number":function(V,R){if(R%1)throw new TypeError(o);return V.round(R)},"Complex, BigNumber":function(V,R){if(!R.isInteger())throw new TypeError(o);var U=R.toNumber();return V.round(U)},"number, BigNumber":function(V,R){if(!R.isInteger())throw new TypeError(o);return new M(V).toDecimalPlaces(R.toNumber())},BigNumber:function(V){return V.toDecimalPlaces(0)},"BigNumber, BigNumber":function(V,R){if(!R.isInteger())throw new TypeError(o);return V.toDecimalPlaces(R.toNumber())},Fraction:function(V){return V.round()},"Fraction, number":function(V,R){if(R%1)throw new TypeError(o);return V.round(R)},"Array | Matrix":function(V){return(0,f.deepMap)(V,k,!0)},"SparseMatrix, number | BigNumber":function(V,R){return B(V,R,k,!1)},"DenseMatrix, number | BigNumber":function(V,R){return G(V,R,k,!1)},"number | Complex | BigNumber, SparseMatrix":function(V,R){return O(V,0)?j(R.size(),R.storage()):I(R,V,k,!0)},"number | Complex | BigNumber, DenseMatrix":function(V,R){return O(V,0)?j(R.size(),R.storage()):G(R,V,k,!0)},"Array, number | BigNumber":function(V,R){return G(T(V),R,k,!1).valueOf()},"number | Complex | BigNumber, Array":function(V,R){return G(T(R),V,k,!0).valueOf()}}));return k});r.createRound=b;var y={number:D.roundNumber,"number, number":function(E,N){if(!(0,m.isInteger)(N))throw new TypeError(o);if(N<0||15<N)throw new Error("Number of decimals in function round must be in te range of 0-15");return(0,D.roundNumber)(E,N)}},A=(0,g.factory)("round",["typed"],function(E){return(0,E.typed)("round",y)});r.createRoundNumber=A},{"../../plain/number":874,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm14":913,"../../utils/collection":927,"../../utils/factory":931,"../../utils/number":937}],721:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSign=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","BigNumber","Fraction","complex"],x=(0,g.factory)("sign",l,function(S){var D=S.typed,h=S.BigNumber,_=S.complex,o=S.Fraction,p=D("sign",{number:m.signNumber,Complex:function(b){return b.im===0?_((0,m.signNumber)(b.re)):b.sign()},BigNumber:function(b){return new h(b.cmp(0))},Fraction:function(b){return new o(b.s,1)},"Array | Matrix":function(b){return(0,f.deepMap)(b,p,!0)},Unit:function(b){return p(b.value)}});return p});r.createSign=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],722:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSqrt=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=["config","typed","Complex"],l=(0,g.factory)("sqrt",m,function(x){var S=x.config,D=x.typed,h=x.Complex,_=D("sqrt",{number:o,Complex:function(p){return p.sqrt()},BigNumber:function(p){return!p.isNegative()||S.predictable?p.sqrt():o(p.toNumber())},"Array | Matrix":function(p){return(0,f.deepMap)(p,_,!0)},Unit:function(p){return p.pow(.5)}});function o(p){return isNaN(p)?NaN:0<=p||S.predictable?Math.sqrt(p):new h(p,0).sqrt()}return _});r.createSqrt=l},{"../../utils/collection":927,"../../utils/factory":931}],723:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSquare=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed"],x=(0,g.factory)("square",l,function(S){var D=(0,S.typed)("square",{number:m.squareNumber,Complex:function(h){return h.mul(h)},BigNumber:function(h){return h.times(h)},Fraction:function(h){return h.mul(h)},"Array | Matrix":function(h){return(0,f.deepMap)(h,D,!0)},Unit:function(h){return h.pow(2)}});return D});r.createSquare=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],724:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSubtract=void 0;var g=n("../../utils/factory"),f=n("../../error/DimensionError"),m=n("../../type/matrix/utils/algorithm01"),l=n("../../type/matrix/utils/algorithm03"),x=n("../../type/matrix/utils/algorithm05"),S=n("../../type/matrix/utils/algorithm10"),D=n("../../type/matrix/utils/algorithm13"),h=n("../../type/matrix/utils/algorithm14"),_=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],o=(0,g.factory)("subtract",_,function(b){var y=b.typed,A=b.matrix,E=b.equalScalar,N=b.addScalar,T=b.unaryMinus,O=b.DenseMatrix,j=(0,m.createAlgorithm01)({typed:y}),M=(0,l.createAlgorithm03)({typed:y}),F=(0,x.createAlgorithm05)({typed:y,equalScalar:E}),B=(0,S.createAlgorithm10)({typed:y,DenseMatrix:O}),I=(0,D.createAlgorithm13)({typed:y}),G=(0,h.createAlgorithm14)({typed:y}),k=y("subtract",{"number, number":function(V,R){return V-R},"Complex, Complex":function(V,R){return V.sub(R)},"BigNumber, BigNumber":function(V,R){return V.minus(R)},"Fraction, Fraction":function(V,R){return V.sub(R)},"Unit, Unit":function(V,R){if(V.value===null)throw new Error("Parameter x contains a unit with undefined value");if(R.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!V.equalBase(R))throw new Error("Units do not match");var U=V.clone();return U.value=k(U.value,R.value),U.fixPrefix=!1,U},"SparseMatrix, SparseMatrix":function(V,R){return p(V,R),F(V,R,k)},"SparseMatrix, DenseMatrix":function(V,R){return p(V,R),M(R,V,k,!0)},"DenseMatrix, SparseMatrix":function(V,R){return p(V,R),j(V,R,k,!1)},"DenseMatrix, DenseMatrix":function(V,R){return p(V,R),I(V,R,k)},"Array, Array":function(V,R){return k(A(V),A(R)).valueOf()},"Array, Matrix":function(V,R){return k(A(V),R)},"Matrix, Array":function(V,R){return k(V,A(R))},"SparseMatrix, any":function(V,R){return B(V,T(R),N)},"DenseMatrix, any":function(V,R){return G(V,R,k)},"any, SparseMatrix":function(V,R){return B(R,V,k,!0)},"any, DenseMatrix":function(V,R){return G(R,V,k,!0)},"Array, any":function(V,R){return G(A(V),R,k,!1).valueOf()},"any, Array":function(V,R){return G(A(R),V,k,!0).valueOf()}});return k});function p(b,y){var A=b.size(),E=y.size();if(A.length!==E.length)throw new f.DimensionError(A.length,E.length)}r.createSubtract=o},{"../../error/DimensionError":399,"../../type/matrix/utils/algorithm01":900,"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm05":904,"../../type/matrix/utils/algorithm10":909,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],725:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUnaryMinus=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed"],x=(0,g.factory)("unaryMinus",l,function(S){var D=(0,S.typed)("unaryMinus",{number:m.unaryMinusNumber,Complex:function(h){return h.neg()},BigNumber:function(h){return h.neg()},Fraction:function(h){return h.neg()},Unit:function(h){var _=h.clone();return _.value=D(h.value),_},"Array | Matrix":function(h){return(0,f.deepMap)(h,D,!0)}});return D});r.createUnaryMinus=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],726:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUnaryPlus=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","config","BigNumber"],x=(0,g.factory)("unaryPlus",l,function(S){var D=S.typed,h=S.config,_=S.BigNumber,o=D("unaryPlus",{number:m.unaryPlusNumber,Complex:function(p){return p},BigNumber:function(p){return p},Fraction:function(p){return p},Unit:function(p){return p.clone()},"Array | Matrix":function(p){return(0,f.deepMap)(p,o,!0)},"boolean | string":function(p){return h.number==="BigNumber"?new _(+p):+p}});return o});r.createUnaryPlus=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],727:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createXgcd=void 0;var g=n("../../utils/factory"),f=n("../../plain/number"),m=["typed","config","matrix","BigNumber"],l=(0,g.factory)("xgcd",m,function(x){var S=x.typed,D=x.config,h=x.matrix,_=x.BigNumber;return S("xgcd",{"number, number":function(o,p){var b=(0,f.xgcdNumber)(o,p);return D.matrix==="Array"?b:h(b)},"BigNumber, BigNumber":function(o,p){var b,y,A,E,N=new _(0),T=new _(1),O=N,j=T,M=T,F=N;if(!o.isInt()||!p.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!p.isZero();)y=o.div(p).floor(),A=o.mod(p),b=O,O=j.minus(y.times(O)),j=b,b=M,M=F.minus(y.times(M)),F=b,o=p,p=A;return E=o.lt(N)?[o.neg(),j.neg(),F.neg()]:[o,o.isZero()?0:j,F],D.matrix==="Array"?E:h(E)}})});r.createXgcd=l},{"../../plain/number":874,"../../utils/factory":931}],728:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBitAnd=void 0;var g=n("../../utils/bignumber/bitwise"),f=n("../../type/matrix/utils/algorithm02"),m=n("../../type/matrix/utils/algorithm11"),l=n("../../type/matrix/utils/algorithm13"),x=n("../../type/matrix/utils/algorithm14"),S=n("../../type/matrix/utils/algorithm06"),D=n("../../utils/factory"),h=n("../../plain/number"),_=["typed","matrix","equalScalar"],o=(0,D.factory)("bitAnd",_,function(p){var b=p.typed,y=p.matrix,A=p.equalScalar,E=(0,f.createAlgorithm02)({typed:b,equalScalar:A}),N=(0,S.createAlgorithm06)({typed:b,equalScalar:A}),T=(0,m.createAlgorithm11)({typed:b,equalScalar:A}),O=(0,l.createAlgorithm13)({typed:b}),j=(0,x.createAlgorithm14)({typed:b}),M=b("bitAnd",{"number, number":h.bitAndNumber,"BigNumber, BigNumber":g.bitAndBigNumber,"SparseMatrix, SparseMatrix":function(F,B){return N(F,B,M,!1)},"SparseMatrix, DenseMatrix":function(F,B){return E(B,F,M,!0)},"DenseMatrix, SparseMatrix":function(F,B){return E(F,B,M,!1)},"DenseMatrix, DenseMatrix":function(F,B){return O(F,B,M)},"Array, Array":function(F,B){return M(y(F),y(B)).valueOf()},"Array, Matrix":function(F,B){return M(y(F),B)},"Matrix, Array":function(F,B){return M(F,y(B))},"SparseMatrix, any":function(F,B){return T(F,B,M,!1)},"DenseMatrix, any":function(F,B){return j(F,B,M,!1)},"any, SparseMatrix":function(F,B){return T(B,F,M,!0)},"any, DenseMatrix":function(F,B){return j(B,F,M,!0)},"Array, any":function(F,B){return j(y(F),B,M,!1).valueOf()},"any, Array":function(F,B){return j(y(B),F,M,!0).valueOf()}});return M});r.createBitAnd=o},{"../../plain/number":874,"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm06":905,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/bitwise":923,"../../utils/factory":931}],729:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBitNot=void 0;var g=n("../../utils/bignumber/bitwise"),f=n("../../utils/collection"),m=n("../../utils/factory"),l=n("../../plain/number"),x=["typed"],S=(0,m.factory)("bitNot",x,function(D){var h=(0,D.typed)("bitNot",{number:l.bitNotNumber,BigNumber:g.bitNotBigNumber,"Array | Matrix":function(_){return(0,f.deepMap)(_,h)}});return h});r.createBitNot=S},{"../../plain/number":874,"../../utils/bignumber/bitwise":923,"../../utils/collection":927,"../../utils/factory":931}],730:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBitOr=void 0;var g=n("../../utils/bignumber/bitwise"),f=n("../../utils/factory"),m=n("../../type/matrix/utils/algorithm14"),l=n("../../type/matrix/utils/algorithm13"),x=n("../../type/matrix/utils/algorithm10"),S=n("../../type/matrix/utils/algorithm04"),D=n("../../type/matrix/utils/algorithm01"),h=n("../../plain/number"),_=["typed","matrix","equalScalar","DenseMatrix"],o=(0,f.factory)("bitOr",_,function(p){var b=p.typed,y=p.matrix,A=p.equalScalar,E=p.DenseMatrix,N=(0,D.createAlgorithm01)({typed:b}),T=(0,S.createAlgorithm04)({typed:b,equalScalar:A}),O=(0,x.createAlgorithm10)({typed:b,DenseMatrix:E}),j=(0,l.createAlgorithm13)({typed:b}),M=(0,m.createAlgorithm14)({typed:b}),F=b("bitOr",{"number, number":h.bitOrNumber,"BigNumber, BigNumber":g.bitOrBigNumber,"SparseMatrix, SparseMatrix":function(B,I){return T(B,I,F)},"SparseMatrix, DenseMatrix":function(B,I){return N(I,B,F,!0)},"DenseMatrix, SparseMatrix":function(B,I){return N(B,I,F,!1)},"DenseMatrix, DenseMatrix":function(B,I){return j(B,I,F)},"Array, Array":function(B,I){return F(y(B),y(I)).valueOf()},"Array, Matrix":function(B,I){return F(y(B),I)},"Matrix, Array":function(B,I){return F(B,y(I))},"SparseMatrix, any":function(B,I){return O(B,I,F,!1)},"DenseMatrix, any":function(B,I){return M(B,I,F,!1)},"any, SparseMatrix":function(B,I){return O(I,B,F,!0)},"any, DenseMatrix":function(B,I){return M(I,B,F,!0)},"Array, any":function(B,I){return M(y(B),I,F,!1).valueOf()},"any, Array":function(B,I){return M(y(I),B,F,!0).valueOf()}});return F});r.createBitOr=o},{"../../plain/number":874,"../../type/matrix/utils/algorithm01":900,"../../type/matrix/utils/algorithm04":903,"../../type/matrix/utils/algorithm10":909,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/bitwise":923,"../../utils/factory":931}],731:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBitXor=void 0;var g=n("../../utils/bignumber/bitwise"),f=n("../../type/matrix/utils/algorithm03"),m=n("../../type/matrix/utils/algorithm07"),l=n("../../type/matrix/utils/algorithm12"),x=n("../../type/matrix/utils/algorithm13"),S=n("../../type/matrix/utils/algorithm14"),D=n("../../utils/factory"),h=n("../../plain/number"),_=["typed","matrix","DenseMatrix"],o=(0,D.factory)("bitXor",_,function(p){var b=p.typed,y=p.matrix,A=p.DenseMatrix,E=(0,f.createAlgorithm03)({typed:b}),N=(0,m.createAlgorithm07)({typed:b,DenseMatrix:A}),T=(0,l.createAlgorithm12)({typed:b,DenseMatrix:A}),O=(0,x.createAlgorithm13)({typed:b}),j=(0,S.createAlgorithm14)({typed:b}),M=b("bitXor",{"number, number":h.bitXorNumber,"BigNumber, BigNumber":g.bitXor,"SparseMatrix, SparseMatrix":function(F,B){return N(F,B,M)},"SparseMatrix, DenseMatrix":function(F,B){return E(B,F,M,!0)},"DenseMatrix, SparseMatrix":function(F,B){return E(F,B,M,!1)},"DenseMatrix, DenseMatrix":function(F,B){return O(F,B,M)},"Array, Array":function(F,B){return M(y(F),y(B)).valueOf()},"Array, Matrix":function(F,B){return M(y(F),B)},"Matrix, Array":function(F,B){return M(F,y(B))},"SparseMatrix, any":function(F,B){return T(F,B,M,!1)},"DenseMatrix, any":function(F,B){return j(F,B,M,!1)},"any, SparseMatrix":function(F,B){return T(B,F,M,!0)},"any, DenseMatrix":function(F,B){return j(B,F,M,!0)},"Array, any":function(F,B){return j(y(F),B,M,!1).valueOf()},"any, Array":function(F,B){return j(y(B),F,M,!0).valueOf()}});return M});r.createBitXor=o},{"../../plain/number":874,"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/bitwise":923,"../../utils/factory":931}],732:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLeftShift=void 0;var g=n("../../type/matrix/utils/algorithm02"),f=n("../../type/matrix/utils/algorithm11"),m=n("../../type/matrix/utils/algorithm13"),l=n("../../type/matrix/utils/algorithm14"),x=n("../../type/matrix/utils/algorithm01"),S=n("../../type/matrix/utils/algorithm10"),D=n("../../type/matrix/utils/algorithm08"),h=n("../../utils/factory"),_=n("../../plain/number"),o=n("../../utils/bignumber/bitwise"),p=["typed","matrix","equalScalar","zeros","DenseMatrix"],b=(0,h.factory)("leftShift",p,function(y){var A=y.typed,E=y.matrix,N=y.equalScalar,T=y.zeros,O=y.DenseMatrix,j=(0,x.createAlgorithm01)({typed:A}),M=(0,g.createAlgorithm02)({typed:A,equalScalar:N}),F=(0,D.createAlgorithm08)({typed:A,equalScalar:N}),B=(0,S.createAlgorithm10)({typed:A,DenseMatrix:O}),I=(0,f.createAlgorithm11)({typed:A,equalScalar:N}),G=(0,m.createAlgorithm13)({typed:A}),k=(0,l.createAlgorithm14)({typed:A}),V=A("leftShift",{"number, number":_.leftShiftNumber,"BigNumber, BigNumber":o.leftShiftBigNumber,"SparseMatrix, SparseMatrix":function(R,U){return F(R,U,V,!1)},"SparseMatrix, DenseMatrix":function(R,U){return M(U,R,V,!0)},"DenseMatrix, SparseMatrix":function(R,U){return j(R,U,V,!1)},"DenseMatrix, DenseMatrix":function(R,U){return G(R,U,V)},"Array, Array":function(R,U){return V(E(R),E(U)).valueOf()},"Array, Matrix":function(R,U){return V(E(R),U)},"Matrix, Array":function(R,U){return V(R,E(U))},"SparseMatrix, number | BigNumber":function(R,U){return N(U,0)?R.clone():I(R,U,V,!1)},"DenseMatrix, number | BigNumber":function(R,U){return N(U,0)?R.clone():k(R,U,V,!1)},"number | BigNumber, SparseMatrix":function(R,U){return N(R,0)?T(U.size(),U.storage()):B(U,R,V,!0)},"number | BigNumber, DenseMatrix":function(R,U){return N(R,0)?T(U.size(),U.storage()):k(U,R,V,!0)},"Array, number | BigNumber":function(R,U){return V(E(R),U).valueOf()},"number | BigNumber, Array":function(R,U){return V(R,E(U)).valueOf()}});return V});r.createLeftShift=b},{"../../plain/number":874,"../../type/matrix/utils/algorithm01":900,"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm08":907,"../../type/matrix/utils/algorithm10":909,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/bitwise":923,"../../utils/factory":931}],733:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRightArithShift=void 0;var g=n("../../utils/bignumber/bitwise"),f=n("../../type/matrix/utils/algorithm02"),m=n("../../type/matrix/utils/algorithm11"),l=n("../../type/matrix/utils/algorithm13"),x=n("../../type/matrix/utils/algorithm14"),S=n("../../type/matrix/utils/algorithm01"),D=n("../../type/matrix/utils/algorithm10"),h=n("../../type/matrix/utils/algorithm08"),_=n("../../utils/factory"),o=n("../../plain/number"),p="rightArithShift",b=["typed","matrix","equalScalar","zeros","DenseMatrix"],y=(0,_.factory)(p,b,function(A){var E=A.typed,N=A.matrix,T=A.equalScalar,O=A.zeros,j=A.DenseMatrix,M=(0,S.createAlgorithm01)({typed:E}),F=(0,f.createAlgorithm02)({typed:E,equalScalar:T}),B=(0,h.createAlgorithm08)({typed:E,equalScalar:T}),I=(0,D.createAlgorithm10)({typed:E,DenseMatrix:j}),G=(0,m.createAlgorithm11)({typed:E,equalScalar:T}),k=(0,l.createAlgorithm13)({typed:E}),V=(0,x.createAlgorithm14)({typed:E}),R=E(p,{"number, number":o.rightArithShiftNumber,"BigNumber, BigNumber":g.rightArithShiftBigNumber,"SparseMatrix, SparseMatrix":function(U,L){return B(U,L,R,!1)},"SparseMatrix, DenseMatrix":function(U,L){return F(L,U,R,!0)},"DenseMatrix, SparseMatrix":function(U,L){return M(U,L,R,!1)},"DenseMatrix, DenseMatrix":function(U,L){return k(U,L,R)},"Array, Array":function(U,L){return R(N(U),N(L)).valueOf()},"Array, Matrix":function(U,L){return R(N(U),L)},"Matrix, Array":function(U,L){return R(U,N(L))},"SparseMatrix, number | BigNumber":function(U,L){return T(L,0)?U.clone():G(U,L,R,!1)},"DenseMatrix, number | BigNumber":function(U,L){return T(L,0)?U.clone():V(U,L,R,!1)},"number | BigNumber, SparseMatrix":function(U,L){return T(U,0)?O(L.size(),L.storage()):I(L,U,R,!0)},"number | BigNumber, DenseMatrix":function(U,L){return T(U,0)?O(L.size(),L.storage()):V(L,U,R,!0)},"Array, number | BigNumber":function(U,L){return R(N(U),L).valueOf()},"number | BigNumber, Array":function(U,L){return R(U,N(L)).valueOf()}});return R});r.createRightArithShift=y},{"../../plain/number":874,"../../type/matrix/utils/algorithm01":900,"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm08":907,"../../type/matrix/utils/algorithm10":909,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/bitwise":923,"../../utils/factory":931}],734:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRightLogShift=void 0;var g=n("../../type/matrix/utils/algorithm02"),f=n("../../type/matrix/utils/algorithm11"),m=n("../../type/matrix/utils/algorithm13"),l=n("../../type/matrix/utils/algorithm14"),x=n("../../type/matrix/utils/algorithm01"),S=n("../../type/matrix/utils/algorithm10"),D=n("../../type/matrix/utils/algorithm08"),h=n("../../utils/factory"),_=n("../../plain/number"),o="rightLogShift",p=["typed","matrix","equalScalar","zeros","DenseMatrix"],b=(0,h.factory)(o,p,function(y){var A=y.typed,E=y.matrix,N=y.equalScalar,T=y.zeros,O=y.DenseMatrix,j=(0,x.createAlgorithm01)({typed:A}),M=(0,g.createAlgorithm02)({typed:A,equalScalar:N}),F=(0,D.createAlgorithm08)({typed:A,equalScalar:N}),B=(0,S.createAlgorithm10)({typed:A,DenseMatrix:O}),I=(0,f.createAlgorithm11)({typed:A,equalScalar:N}),G=(0,m.createAlgorithm13)({typed:A}),k=(0,l.createAlgorithm14)({typed:A}),V=A(o,{"number, number":_.rightLogShiftNumber,"SparseMatrix, SparseMatrix":function(R,U){return F(R,U,V,!1)},"SparseMatrix, DenseMatrix":function(R,U){return M(U,R,V,!0)},"DenseMatrix, SparseMatrix":function(R,U){return j(R,U,V,!1)},"DenseMatrix, DenseMatrix":function(R,U){return G(R,U,V)},"Array, Array":function(R,U){return V(E(R),E(U)).valueOf()},"Array, Matrix":function(R,U){return V(E(R),U)},"Matrix, Array":function(R,U){return V(R,E(U))},"SparseMatrix, number | BigNumber":function(R,U){return N(U,0)?R.clone():I(R,U,V,!1)},"DenseMatrix, number | BigNumber":function(R,U){return N(U,0)?R.clone():k(R,U,V,!1)},"number | BigNumber, SparseMatrix":function(R,U){return N(R,0)?T(U.size(),U.storage()):B(U,R,V,!0)},"number | BigNumber, DenseMatrix":function(R,U){return N(R,0)?T(U.size(),U.storage()):k(U,R,V,!0)},"Array, number | BigNumber":function(R,U){return V(E(R),U).valueOf()},"number | BigNumber, Array":function(R,U){return V(R,E(U)).valueOf()}});return V});r.createRightLogShift=b},{"../../plain/number":874,"../../type/matrix/utils/algorithm01":900,"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm08":907,"../../type/matrix/utils/algorithm10":909,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],735:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBellNumbers=void 0;var g=n("../../utils/factory"),f=["typed","addScalar","isNegative","isInteger","stirlingS2"],m=(0,g.factory)("bellNumbers",f,function(l){var x=l.typed,S=l.addScalar,D=l.isNegative,h=l.isInteger,_=l.stirlingS2;return x("bellNumbers",{"number | BigNumber":function(o){if(!h(o)||D(o))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var p=0,b=0;b<=o;b++)p=S(p,_(o,b));return p}})});r.createBellNumbers=m},{"../../utils/factory":931}],736:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCatalan=void 0;var g=n("../../utils/factory"),f=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],m=(0,g.factory)("catalan",f,function(l){var x=l.typed,S=l.addScalar,D=l.divideScalar,h=l.multiplyScalar,_=l.combinations,o=l.isNegative,p=l.isInteger;return x("catalan",{"number | BigNumber":function(b){if(!p(b)||o(b))throw new TypeError("Non-negative integer value expected in function catalan");return D(_(h(b,2),b),S(b,1))}})});r.createCatalan=m},{"../../utils/factory":931}],737:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createComposition=void 0;var g=n("../../utils/factory"),f=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],m=(0,g.factory)("composition",f,function(l){var x=l.typed,S=l.addScalar,D=l.combinations,h=l.isPositive,_=(l.isNegative,l.isInteger),o=l.larger;return x("composition",{"number | BigNumber, number | BigNumber":function(p,b){if(!(_(p)&&h(p)&&_(b)&&h(b)))throw new TypeError("Positive integer value expected in function composition");if(o(b,p))throw new TypeError("k must be less than or equal to n in function composition");return D(S(p,-1),S(b,-1))}})});r.createComposition=m},{"../../utils/factory":931}],738:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createStirlingS2=void 0;var g=n("../../utils/factory"),f=["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","larger"],m=(0,g.factory)("stirlingS2",f,function(l){var x=l.typed,S=l.addScalar,D=l.subtract,h=l.multiplyScalar,_=l.divideScalar,o=l.pow,p=l.factorial,b=l.combinations,y=l.isNegative,A=l.isInteger,E=l.larger;return x("stirlingS2",{"number | BigNumber, number | BigNumber":function(N,T){if(!A(N)||y(N)||!A(T)||y(T))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(E(T,N))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var O=p(T),I=0,j=0;j<=T;j++)var M=o(-1,D(T,j)),F=b(T,j),B=o(j,N),I=S(I,h(h(F,B),M));return _(I,O)}})});r.createStirlingS2=m},{"../../utils/factory":931}],739:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createArg=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=["typed"],l=(0,g.factory)("arg",m,function(x){var S=(0,x.typed)("arg",{number:function(D){return Math.atan2(0,D)},BigNumber:function(D){return D.constructor.atan2(0,D)},Complex:function(D){return D.arg()},"Array | Matrix":function(D){return(0,f.deepMap)(D,S)}});return S});r.createArg=l},{"../../utils/collection":927,"../../utils/factory":931}],740:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createConj=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=["typed"],l=(0,g.factory)("conj",m,function(x){var S=(0,x.typed)("conj",{number:function(D){return D},BigNumber:function(D){return D},Complex:function(D){return D.conjugate()},"Array | Matrix":function(D){return(0,f.deepMap)(D,S)}});return S});r.createConj=l},{"../../utils/collection":927,"../../utils/factory":931}],741:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIm=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=["typed"],l=(0,g.factory)("im",m,function(x){var S=(0,x.typed)("im",{number:function(){return 0},BigNumber:function(D){return D.mul(0)},Complex:function(D){return D.im},"Array | Matrix":function(D){return(0,f.deepMap)(D,S)}});return S});r.createIm=l},{"../../utils/collection":927,"../../utils/factory":931}],742:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRe=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=["typed"],l=(0,g.factory)("re",m,function(x){var S=(0,x.typed)("re",{number:function(D){return D},BigNumber:function(D){return D},Complex:function(D){return D.re},"Array | Matrix":function(D){return(0,f.deepMap)(D,S)}});return S});r.createRe=l},{"../../utils/collection":927,"../../utils/factory":931}],743:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDistance=void 0;var g=n("../../utils/is"),f=n("../../utils/factory"),m=["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],l=(0,f.factory)("distance",m,function(x){var S=x.typed,D=x.addScalar,h=x.subtract,_=x.multiplyScalar,o=x.divideScalar,p=x.unaryMinus,b=x.sqrt,y=x.abs;return S("distance",{"Array, Array, Array":function(I,G,k){if(I.length!==2||G.length!==2||k.length!==2)throw new TypeError("Invalid Arguments: Try again");if(!E(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!E(G))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!E(k))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var V=o(h(k[1],k[0]),h(G[1],G[0])),R=_(_(V,V),G[0]),U=p(_(V,G[0])),L=I[1];return M(I[0],I[1],R,U,L)},"Object, Object, Object":function(I,G,k){if(Object.keys(I).length!==2||Object.keys(G).length!==2||Object.keys(k).length!==2)throw new TypeError("Invalid Arguments: Try again");if(!E(I))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!E(G))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!E(k))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in I&&"pointY"in I&&"lineOnePtX"in G&&"lineOnePtY"in G&&"lineTwoPtX"in k&&"lineTwoPtY"in k){var V=o(h(k.lineTwoPtY,k.lineTwoPtX),h(G.lineOnePtY,G.lineOnePtX)),R=_(_(V,V),G.lineOnePtX),U=p(_(V,G.lineOnePtX)),L=I.pointX;return M(I.pointX,I.pointY,R,U,L)}throw new TypeError("Key names do not match")},"Array, Array":function(I,G){if(I.length===2&&G.length===3){if(!E(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!N(G))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return M(I[0],I[1],G[0],G[1],G[2])}if(I.length===3&&G.length===6){if(!N(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!O(G))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return F(I[0],I[1],I[2],G[0],G[1],G[2],G[3],G[4],G[5])}if(I.length===G.length&&0<I.length){if(!T(I))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!T(G))throw new TypeError("All values of an array should be numbers or BigNumbers");return B(I,G)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(I,G){if(Object.keys(I).length===2&&Object.keys(G).length===3){if(!E(I))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!N(G))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in I&&"pointY"in I&&"xCoeffLine"in G&&"yCoeffLine"in G&&"constant"in G)return M(I.pointX,I.pointY,G.xCoeffLine,G.yCoeffLine,G.constant);throw new TypeError("Key names do not match")}if(Object.keys(I).length===3&&Object.keys(G).length===6){if(!N(I))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!O(G))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in I&&"pointY"in I&&"x0"in G&&"y0"in G&&"z0"in G&&"a"in G&&"b"in G&&"c"in G)return F(I.pointX,I.pointY,I.pointZ,G.x0,G.y0,G.z0,G.a,G.b,G.c);throw new TypeError("Key names do not match")}if(Object.keys(I).length===2&&Object.keys(G).length===2){if(!E(I))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!E(G))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in I&&"pointOneY"in I&&"pointTwoX"in G&&"pointTwoY"in G)return B([I.pointOneX,I.pointOneY],[G.pointTwoX,G.pointTwoY]);throw new TypeError("Key names do not match")}if(Object.keys(I).length!==3||Object.keys(G).length!==3)throw new TypeError("Invalid Arguments: Try again");if(!N(I))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!N(G))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in I&&"pointOneY"in I&&"pointOneZ"in I&&"pointTwoX"in G&&"pointTwoY"in G&&"pointTwoZ"in G)return B([I.pointOneX,I.pointOneY,I.pointOneZ],[G.pointTwoX,G.pointTwoY,G.pointTwoZ]);throw new TypeError("Key names do not match")},Array:function(I){if(!function(G){if(G[0].length===2&&A(G[0][0])&&A(G[0][1])){if(G.some(function(k){return k.length!==2||!A(k[0])||!A(k[1])}))return!1}else if(!(G[0].length===3&&A(G[0][0])&&A(G[0][1])&&A(G[0][2]))||G.some(function(k){return k.length!==3||!A(k[0])||!A(k[1])||!A(k[2])}))return!1;return!0}(I))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(G){for(var k=[],V=[],R=[],U=0;U<G.length-1;U++)for(var L=U+1;L<G.length;L++)G[0].length===2?(V=[G[U][0],G[U][1]],R=[G[L][0],G[L][1]]):G[0].length===3&&(V=[G[U][0],G[U][1],G[U][2]],R=[G[L][0],G[L][1],G[L][2]]),k.push(B(V,R));return k}(I)}});function A(I){return typeof I=="number"||(0,g.isBigNumber)(I)}function E(I){return I.constructor!==Array&&(I=j(I)),A(I[0])&&A(I[1])}function N(I){return I.constructor!==Array&&(I=j(I)),A(I[0])&&A(I[1])&&A(I[2])}function T(I){return Array.isArray(I)||(I=j(I)),I.every(A)}function O(I){return I.constructor!==Array&&(I=j(I)),A(I[0])&&A(I[1])&&A(I[2])&&A(I[3])&&A(I[4])&&A(I[5])}function j(I){for(var G=Object.keys(I),k=[],V=0;V<G.length;V++)k.push(I[G[V]]);return k}function M(I,G,k,V,R){var U=y(D(D(_(k,I),_(V,G)),R)),L=b(D(_(k,k),_(V,V)));return o(U,L)}function F(I,G,k,V,R,U,L,H,X){var Z=[h(_(h(R,G),X),_(h(U,k),H)),h(_(h(U,k),L),_(h(V,I),X)),h(_(h(V,I),H),_(h(R,G),L))],Z=b(D(D(_(Z[0],Z[0]),_(Z[1],Z[1])),_(Z[2],Z[2]))),J=b(D(D(_(L,L),_(H,H)),_(X,X)));return o(Z,J)}function B(I,G){for(var k,V=I.length,R=0,U=0;U<V;U++)k=h(I[U],G[U]),R=D(_(k,k),R);return b(R)}});r.createDistance=l},{"../../utils/factory":931,"../../utils/is":933}],744:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIntersect=void 0;var g=n("../../utils/is"),f=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar"],m=(0,n("../../utils/factory").factory)("intersect",f,function(l){var x=l.typed,S=l.config,D=l.abs,h=l.add,_=l.addScalar,o=l.matrix,p=l.multiply,b=l.multiplyScalar,y=l.divideScalar,A=l.subtract,E=l.smaller,N=l.equalScalar,T=x("intersect",{"Array, Array, Array":function(B,I,G){if(!M(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!M(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function(k){return k.length===4&&O(k[0])&&O(k[1])&&O(k[2])&&O(k[3])}(G))throw new TypeError("Array with 4 numbers expected as third argument");return function(k,V,R,U,L,H,X,Z,J,K){var $=b(k,X),W=b(U,X),Y=b(V,Z),te=b(L,Z),ce=b(R,J),oe=b(H,J),ue=y(A(A(A(K,$),Y),ce),A(A(A(_(_(W,te),oe),$),Y),ce)),Ce=_(k,b(ue,A(U,k))),le=_(V,b(ue,A(L,V))),ye=_(R,b(ue,A(H,R)));return[Ce,le,ye]}(B[0],B[1],B[2],I[0],I[1],I[2],G[0],G[1],G[2],G[3])},"Array, Array, Array, Array":function(B,I,G,k){if(B.length===2){if(!j(B))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!j(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!j(G))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!j(k))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(re,de,xe,Pe){var Ae=re,Oe=xe,Se=A(Ae,de),Fe=A(Oe,Pe),$e=A(b(Se[0],Fe[1]),b(Fe[0],Se[1]));if(E(D($e),S.epsilon))return null;var Re=b(Fe[0],Ae[1]),qe=b(Fe[1],Ae[0]),ze=b(Fe[0],Oe[1]),we=b(Fe[1],Oe[0]),Ee=y(_(A(A(Re,qe),ze),we),$e);return h(p(Se,Ee),Ae)}(B,I,G,k)}if(B.length!==3)throw new TypeError("Arrays with two or thee dimensional points expected");if(!M(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!M(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!M(G))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!M(k))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return V=B[0],R=B[1],U=B[2],L=I[0],H=I[1],X=I[2],Z=G[0],J=G[1],K=G[2],$=k[0],W=k[1],Y=k[2],te=F(V,Z,$,Z,R,J,W,J,U,K,Y,K),ce=F($,Z,L,V,W,J,H,R,Y,K,X,U),oe=F(V,Z,L,V,R,J,H,R,U,K,X,U),ue=F($,Z,$,Z,W,J,W,J,Y,K,Y,K),Ce=F(L,V,L,V,H,R,H,R,X,U,X,U),le=y(A(b(te,ce),b(oe,ue)),A(b(Ce,ue),b(ce,ce))),ye=y(_(te,b(le,ce)),ue),ve=_(V,b(le,A(L,V))),pe=_(R,b(le,A(H,R))),be=_(U,b(le,A(X,U))),Ne=_(Z,b(ye,A($,Z))),he=_(J,b(ye,A(W,J))),ne=_(K,b(ye,A(Y,K))),N(ve,Ne)&&N(pe,he)&&N(be,ne)?[ve,pe,be]:null;var V,R,U,L,H,X,Z,J,K,$,W,Y,te,ce,oe,ue,Ce,le,ye,ve,pe,be,Ne,he,ne},"Matrix, Matrix, Matrix":function(B,I,G){return o(T(B.valueOf(),I.valueOf(),G.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(B,I,G,k){return o(T(B.valueOf(),I.valueOf(),G.valueOf(),k.valueOf()))}});function O(B){return typeof B=="number"||(0,g.isBigNumber)(B)}function j(B){return B.length===2&&O(B[0])&&O(B[1])}function M(B){return B.length===3&&O(B[0])&&O(B[1])&&O(B[2])}function F(B,I,G,k,V,R,U,L,H,X,Z,J){var K=b(A(B,I),A(G,k)),$=b(A(V,R),A(U,L)),W=b(A(H,X),A(Z,J));return _(_(K,$),W)}return T});r.createIntersect=m},{"../../utils/factory":931,"../../utils/is":933}],745:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAnd=void 0;var g=n("../../type/matrix/utils/algorithm02"),f=n("../../type/matrix/utils/algorithm11"),m=n("../../type/matrix/utils/algorithm13"),l=n("../../type/matrix/utils/algorithm14"),x=n("../../type/matrix/utils/algorithm06"),S=n("../../utils/factory"),D=n("../../plain/number"),h=["typed","matrix","equalScalar","zeros","not"],_=(0,S.factory)("and",h,function(o){var p=o.typed,b=o.matrix,y=o.equalScalar,A=o.zeros,E=o.not,N=(0,g.createAlgorithm02)({typed:p,equalScalar:y}),T=(0,x.createAlgorithm06)({typed:p,equalScalar:y}),O=(0,f.createAlgorithm11)({typed:p,equalScalar:y}),j=(0,m.createAlgorithm13)({typed:p}),M=(0,l.createAlgorithm14)({typed:p}),F=p("and",{"number, number":D.andNumber,"Complex, Complex":function(B,I){return!(B.re===0&&B.im===0||I.re===0&&I.im===0)},"BigNumber, BigNumber":function(B,I){return!(B.isZero()||I.isZero()||B.isNaN()||I.isNaN())},"Unit, Unit":function(B,I){return F(B.value||0,I.value||0)},"SparseMatrix, SparseMatrix":function(B,I){return T(B,I,F,!1)},"SparseMatrix, DenseMatrix":function(B,I){return N(I,B,F,!0)},"DenseMatrix, SparseMatrix":function(B,I){return N(B,I,F,!1)},"DenseMatrix, DenseMatrix":function(B,I){return j(B,I,F)},"Array, Array":function(B,I){return F(b(B),b(I)).valueOf()},"Array, Matrix":function(B,I){return F(b(B),I)},"Matrix, Array":function(B,I){return F(B,b(I))},"SparseMatrix, any":function(B,I){return E(I)?A(B.size(),B.storage()):O(B,I,F,!1)},"DenseMatrix, any":function(B,I){return E(I)?A(B.size(),B.storage()):M(B,I,F,!1)},"any, SparseMatrix":function(B,I){return E(B)?A(B.size(),B.storage()):O(I,B,F,!0)},"any, DenseMatrix":function(B,I){return E(B)?A(B.size(),B.storage()):M(I,B,F,!0)},"Array, any":function(B,I){return F(b(B),I).valueOf()},"any, Array":function(B,I){return F(B,b(I)).valueOf()}});return F});r.createAnd=_},{"../../plain/number":874,"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm06":905,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],746:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNot=void 0;var g=n("../../utils/collection"),f=n("../../utils/factory"),m=n("../../plain/number"),l=["typed"],x=(0,f.factory)("not",l,function(S){var D=(0,S.typed)("not",{number:m.notNumber,Complex:function(h){return h.re===0&&h.im===0},BigNumber:function(h){return h.isZero()||h.isNaN()},Unit:function(h){return h.value===null||D(h.value)},"Array | Matrix":function(h){return(0,g.deepMap)(h,D)}});return D});r.createNot=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],747:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createOr=void 0;var g=n("../../type/matrix/utils/algorithm03"),f=n("../../type/matrix/utils/algorithm12"),m=n("../../type/matrix/utils/algorithm13"),l=n("../../type/matrix/utils/algorithm14"),x=n("../../type/matrix/utils/algorithm05"),S=n("../../utils/factory"),D=n("../../plain/number"),h=["typed","matrix","equalScalar","DenseMatrix"],_=(0,S.factory)("or",h,function(o){var p=o.typed,b=o.matrix,y=o.equalScalar,A=o.DenseMatrix,E=(0,g.createAlgorithm03)({typed:p}),N=(0,x.createAlgorithm05)({typed:p,equalScalar:y}),T=(0,f.createAlgorithm12)({typed:p,DenseMatrix:A}),O=(0,m.createAlgorithm13)({typed:p}),j=(0,l.createAlgorithm14)({typed:p}),M=p("or",{"number, number":D.orNumber,"Complex, Complex":function(F,B){return F.re!==0||F.im!==0||B.re!==0||B.im!==0},"BigNumber, BigNumber":function(F,B){return!F.isZero()&&!F.isNaN()||!B.isZero()&&!B.isNaN()},"Unit, Unit":function(F,B){return M(F.value||0,B.value||0)},"SparseMatrix, SparseMatrix":function(F,B){return N(F,B,M)},"SparseMatrix, DenseMatrix":function(F,B){return E(B,F,M,!0)},"DenseMatrix, SparseMatrix":function(F,B){return E(F,B,M,!1)},"DenseMatrix, DenseMatrix":function(F,B){return O(F,B,M)},"Array, Array":function(F,B){return M(b(F),b(B)).valueOf()},"Array, Matrix":function(F,B){return M(b(F),B)},"Matrix, Array":function(F,B){return M(F,b(B))},"SparseMatrix, any":function(F,B){return T(F,B,M,!1)},"DenseMatrix, any":function(F,B){return j(F,B,M,!1)},"any, SparseMatrix":function(F,B){return T(B,F,M,!0)},"any, DenseMatrix":function(F,B){return j(B,F,M,!0)},"Array, any":function(F,B){return j(b(F),B,M,!1).valueOf()},"any, Array":function(F,B){return j(b(B),F,M,!0).valueOf()}});return M});r.createOr=_},{"../../plain/number":874,"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm05":904,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],748:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createXor=void 0;var g=n("../../type/matrix/utils/algorithm03"),f=n("../../type/matrix/utils/algorithm07"),m=n("../../type/matrix/utils/algorithm12"),l=n("../../type/matrix/utils/algorithm13"),x=n("../../type/matrix/utils/algorithm14"),S=n("../../utils/factory"),D=n("../../plain/number"),h=["typed","matrix","DenseMatrix"],_=(0,S.factory)("xor",h,function(o){var p=o.typed,b=o.matrix,y=o.DenseMatrix,A=(0,g.createAlgorithm03)({typed:p}),E=(0,f.createAlgorithm07)({typed:p,DenseMatrix:y}),N=(0,m.createAlgorithm12)({typed:p,DenseMatrix:y}),T=(0,l.createAlgorithm13)({typed:p}),O=(0,x.createAlgorithm14)({typed:p}),j=p("xor",{"number, number":D.xorNumber,"Complex, Complex":function(M,F){return(M.re!==0||M.im!==0)!=(F.re!==0||F.im!==0)},"BigNumber, BigNumber":function(M,F){return(!M.isZero()&&!M.isNaN())!=(!F.isZero()&&!F.isNaN())},"Unit, Unit":function(M,F){return j(M.value||0,F.value||0)},"SparseMatrix, SparseMatrix":function(M,F){return E(M,F,j)},"SparseMatrix, DenseMatrix":function(M,F){return A(F,M,j,!0)},"DenseMatrix, SparseMatrix":function(M,F){return A(M,F,j,!1)},"DenseMatrix, DenseMatrix":function(M,F){return T(M,F,j)},"Array, Array":function(M,F){return j(b(M),b(F)).valueOf()},"Array, Matrix":function(M,F){return j(b(M),F)},"Matrix, Array":function(M,F){return j(M,b(F))},"SparseMatrix, any":function(M,F){return N(M,F,j,!1)},"DenseMatrix, any":function(M,F){return O(M,F,j,!1)},"any, SparseMatrix":function(M,F){return N(F,M,j,!0)},"any, DenseMatrix":function(M,F){return O(F,M,j,!0)},"Array, any":function(M,F){return O(b(M),F,j,!1).valueOf()},"any, Array":function(M,F){return O(b(F),M,j,!0).valueOf()}});return j});r.createXor=_},{"../../plain/number":874,"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],749:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createApply=void 0;var g=n("../../utils/factory"),f=n("../../utils/array"),m=n("../../utils/is"),l=n("../../error/IndexError"),x=["typed","isInteger"],S=(0,g.factory)("apply",x,function(h){var _=h.typed,o=h.isInteger;return _("apply",{"Array | Matrix, number | BigNumber, function":function(p,b,y){if(!o(b))throw new TypeError("Integer number expected for dimension");var A=Array.isArray(p)?(0,f.arraySize)(p):p.size();if(b<0||b>=A.length)throw new l.IndexError(b,A.length);return(0,m.isMatrix)(p)?p.create(D(p.valueOf(),b,y)):D(p,b,y)}})});function D(h,_,o){var p,b,y;if(_<=0){if(Array.isArray(h[0])){for(y=function(A){var E,N,T=A.length,O=A[0].length,j=[];for(N=0;N<O;N++){var M=[];for(E=0;E<T;E++)M.push(A[E][N]);j.push(M)}return j}(h),b=[],p=0;p<y.length;p++)b[p]=D(y[p],_-1,o);return b}return o(h)}for(b=[],p=0;p<h.length;p++)b[p]=D(h[p],_-1,o);return b}r.createApply=S},{"../../error/IndexError":400,"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933}],750:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createColumn=void 0;var g=n("../../utils/factory"),f=n("../../utils/object"),m=n("../../utils/array"),l=["typed","Index","matrix","range"],x=(0,g.factory)("column",l,function(S){var D=S.typed,h=S.Index,_=S.matrix,o=S.range;return D("column",{"Matrix, number":p,"Array, number":function(b,y){return p(_((0,f.clone)(b)),y).valueOf()}});function p(b,y){if(b.size().length!==2)throw new Error("Only two dimensional matrix is supported");(0,m.validateIndex)(y,b.size()[1]);var A=o(0,b.size()[0]),E=new h(A,y);return b.subset(E)}});r.createColumn=x},{"../../utils/array":922,"../../utils/factory":931,"../../utils/object":938}],751:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createConcat=void 0;var g=n("../../utils/is"),f=n("../../utils/object"),m=n("../../utils/array"),l=n("../../error/IndexError"),x=n("../../error/DimensionError"),S=n("../../utils/factory"),D=["typed","matrix","isInteger"],h=(0,S.factory)("concat",D,function(_){var o=_.typed,p=_.matrix,b=_.isInteger;return o("concat",{"...Array | Matrix | number | BigNumber":function(y){for(var A,E=y.length,N=-1,T=!1,O=[],j=0;j<E;j++){var M=y[j];if((0,g.isMatrix)(M)&&(T=!0),(0,g.isNumber)(M)||(0,g.isBigNumber)(M)){if(j!==E-1)throw new Error("Dimension must be specified as last argument");if(A=N,N=M.valueOf(),!b(N))throw new TypeError("Integer number expected for dimension");if(N<0||0<j&&A<N)throw new l.IndexError(N,A+1)}else{var F=(0,f.clone)(M).valueOf(),B=(0,m.arraySize)(F);if(O[j]=F,A=N,N=B.length-1,0<j&&N!==A)throw new x.DimensionError(A+1,N+1)}}if(O.length===0)throw new SyntaxError("At least one matrix expected");for(var I=O.shift();O.length;)I=function G(k,V,R,U){{if(U<R){if(k.length!==V.length)throw new x.DimensionError(k.length,V.length);for(var L=[],H=0;H<k.length;H++)L[H]=G(k[H],V[H],R,U+1);return L}return k.concat(V)}}(I,O.shift(),N,0);return T?p(I):I},"...string":function(y){return y.join("")}})});r.createConcat=h},{"../../error/DimensionError":399,"../../error/IndexError":400,"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938}],752:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCross=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m=["typed","matrix","subtract","multiply"],l=(0,f.factory)("cross",m,function(x){var S=x.typed,D=x.matrix,h=x.subtract,_=x.multiply;return S("cross",{"Matrix, Matrix":function(p,b){return D(o(p.toArray(),b.toArray()))},"Matrix, Array":function(p,b){return D(o(p.toArray(),b))},"Array, Matrix":function(p,b){return D(o(p,b.toArray()))},"Array, Array":o});function o(p,b){var y=Math.max((0,g.arraySize)(p).length,(0,g.arraySize)(b).length);p=(0,g.squeeze)(p),b=(0,g.squeeze)(b);var A=(0,g.arraySize)(p),E=(0,g.arraySize)(b);if(A.length!==1||E.length!==1||A[0]!==3||E[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+A.join(", ")+"], B = ["+E.join(", ")+"])");var N=[h(_(p[1],b[2]),_(p[2],b[1])),h(_(p[2],b[0]),_(p[0],b[2])),h(_(p[0],b[1]),_(p[1],b[0]))];return 1<y?[N]:N}});r.createCross=l},{"../../utils/array":922,"../../utils/factory":931}],753:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCtranspose=void 0;var g=n("../../utils/factory"),f=["typed","transpose","conj"],m=(0,g.factory)("ctranspose",f,function(l){var x=l.typed,S=l.transpose,D=l.conj;return x("ctranspose",{any:function(h){return D(S(h))}})});r.createCtranspose=m},{"../../utils/factory":931}],754:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDet=void 0;var g=n("../../utils/is"),f=n("../../utils/object"),m=n("../../utils/string"),l=n("../../utils/factory"),x=["typed","matrix","subtract","multiply","unaryMinus","lup"],S=(0,l.factory)("det",x,function(D){var h=D.typed,_=D.matrix,o=D.subtract,p=D.multiply,b=D.unaryMinus,y=D.lup;return h("det",{any:function(A){return(0,f.clone)(A)},"Array | Matrix":function(A){var E=(0,g.isMatrix)(A)?A.size():Array.isArray(A)?(A=_(A)).size():[];switch(E.length){case 0:return(0,f.clone)(A);case 1:if(E[0]===1)return(0,f.clone)(A.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+(0,m.format)(E)+")");case 2:var N=E[0];if(N===E[1])return function(T,O){{if(O===1)return(0,f.clone)(T[0][0]);if(O===2)return o(p(T[0][0],T[1][1]),p(T[1][0],T[0][1]));for(var j=y(T),M=j.U[0][0],F=1;F<O;F++)M=p(M,j.U[F][F]);for(var B=0,I=0,G=[];;){for(;G[I];)I++;if(O<=I)break;for(var k=I,V=0;!G[j.p[k]];)G[j.p[k]]=!0,k=j.p[k],V++;V%2==0&&B++}return B%2==0?M:b(M)}}(A.clone().valueOf(),N);throw new RangeError("Matrix must be square (size: "+(0,m.format)(E)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+(0,m.format)(E)+")")}}})});r.createDet=S},{"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938,"../../utils/string":941}],755:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDiag=void 0;var g=n("../../utils/is"),f=n("../../utils/array"),m=n("../../utils/number"),l=n("../../utils/factory"),x=["typed","matrix","DenseMatrix","SparseMatrix"],S=(0,l.factory)("diag",x,function(D){var h=D.typed,_=D.matrix,o=D.DenseMatrix,p=D.SparseMatrix;return h("diag",{Array:function(y){return b(y,0,(0,f.arraySize)(y),null)},"Array, number":function(y,A){return b(y,A,(0,f.arraySize)(y),null)},"Array, BigNumber":function(y,A){return b(y,A.toNumber(),(0,f.arraySize)(y),null)},"Array, string":function(y,A){return b(y,0,(0,f.arraySize)(y),A)},"Array, number, string":function(y,A,E){return b(y,A,(0,f.arraySize)(y),E)},"Array, BigNumber, string":function(y,A,E){return b(y,A.toNumber(),(0,f.arraySize)(y),E)},Matrix:function(y){return b(y,0,y.size(),y.storage())},"Matrix, number":function(y,A){return b(y,A,y.size(),y.storage())},"Matrix, BigNumber":function(y,A){return b(y,A.toNumber(),y.size(),y.storage())},"Matrix, string":function(y,A){return b(y,0,y.size(),A)},"Matrix, number, string":function(y,A,E){return b(y,A,y.size(),E)},"Matrix, BigNumber, string":function(y,A,E){return b(y,A.toNumber(),y.size(),E)}});function b(y,A,E,N){if(!(0,m.isInteger)(A))throw new TypeError("Second parameter in function diag must be an integer");var T=0<A?A:0,O=A<0?-A:0;switch(E.length){case 1:return function(j,M,F,B,I,G){var k=[B+I,B+G];if(F&&F!=="sparse"&&F!=="dense")throw new TypeError("Unknown matrix type ".concat(F,'"'));var V=F==="sparse"?p.diagonal(k,j,M):o.diagonal(k,j,M);return F!==null?V:V.valueOf()}(y,A,N,E[0],O,T);case 2:return function(j,M,F,B,I,G){if((0,g.isMatrix)(j)){var k=j.diagonal(M);return F!==null?F!==k.storage()?_(k,F):k:k.valueOf()}for(var V=Math.min(B[0]-I,B[1]-G),R=[],U=0;U<V;U++)R[U]=j[U+I][U+G];return F!==null?_(R):R}(y,A,N,E,O,T)}throw new RangeError("Matrix for function diag must be 2 dimensional")}});r.createDiag=S},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937}],756:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDot=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m=["typed","add","multiply"],l=(0,f.factory)("dot",m,function(x){var S=x.typed,D=x.add,h=x.multiply;return S("dot",{"Matrix, Matrix":function(o,p){return _(o.toArray(),p.toArray())},"Matrix, Array":function(o,p){return _(o.toArray(),p)},"Array, Matrix":function(o,p){return _(o,p.toArray())},"Array, Array":_});function _(o,p){var b=(0,g.arraySize)(o),y=(0,g.arraySize)(p),A=b[0];if(b.length!==1||y.length!==1)throw new RangeError("Vector expected");if(b[0]!==y[0])throw new RangeError("Vectors must have equal length ("+b[0]+" != "+y[0]+")");if(A===0)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var E=0,N=0;N<A;N++)E=D(E,h(o[N],p[N]));return E}});r.createDot=l},{"../../utils/array":922,"../../utils/factory":931}],757:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createEigs=void 0;var g=n("../../utils/object"),f=n("../../utils/factory"),m=n("../../utils/string"),l=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","inv","bignumber","multiply","add"],x=(0,f.factory)("eigs",l,function(S){var D=S.config,h=S.typed,_=S.matrix,o=S.addScalar,p=S.subtract,b=S.equal,y=S.abs,A=S.atan,E=S.cos,N=S.sin,T=S.multiplyScalar,O=S.inv,j=S.bignumber,M=S.multiply,F=S.add;function B(U,L){var H=U.datatype();if(H===void 0&&(H=U.getDataType()),H!=="number"&&H!=="BigNumber"&&H!=="Fraction")throw H==="mixed"?new TypeError("Mixed matrix element type is not supported"):new TypeError("Matrix element type not supported ("+H+")");if(function(K,$){for(var W=0;W<$;W++)for(var Y=W;Y<$;Y++)if(!b(K[W][Y],K[Y][W]))throw new TypeError("Input matrix is not symmetric")}(U.toArray(),L),H==="number")return I(U.toArray());if(H!=="Fraction")return H==="BigNumber"?function(K){for(var $,W=K.length,Y=y(D.epsilon/W),te=new Array(W),ce=0;ce<W;ce++)te[ce]=R(W,0),te[ce][ce]=1;for(var oe=k(K);y(oe[1])>=y(Y);){var ue=oe[0][0],Ce=oe[0][1];$=function(ve,pe,be){var Ne=p(pe,ve);return y(Ne)<=D.epsilon?j(-1).acos().div(4):T(.5,A(M(2,be,O(Ne))))}(K[ue][ue],K[Ce][Ce],K[ue][Ce]),K=function(ve,pe,be,Ne){for(var he=ve.length,ne=j(E(pe)),re=j(N(pe)),de=T(ne,ne),xe=T(re,re),Pe=R(he,j(0)),Ae=R(he,j(0)),Oe=M(j(2),ne,re,ve[be][Ne]),Se=o(p(T(de,ve[be][be]),Oe),T(xe,ve[Ne][Ne])),Fe=F(T(xe,ve[be][be]),Oe,T(de,ve[Ne][Ne])),$e=0;$e<he;$e++)Pe[$e]=p(T(ne,ve[be][$e]),T(re,ve[Ne][$e])),Ae[$e]=o(T(re,ve[be][$e]),T(ne,ve[Ne][$e]));ve[be][be]=Se,ve[Ne][Ne]=Fe,ve[be][Ne]=j(0),ve[Ne][be]=j(0);for(var Re=0;Re<he;Re++)Re!==be&&Re!==Ne&&(ve[be][Re]=Pe[Re],ve[Re][be]=Pe[Re],ve[Ne][Re]=Ae[Re],ve[Re][Ne]=Ae[Re]);return ve}(K,$,ue,Ce),te=function(ve,pe,be,Ne){for(var he=ve.length,ne=E(pe),re=N(pe),de=R(he,j(0)),xe=R(he,j(0)),Pe=0;Pe<he;Pe++)de[Pe]=p(T(ne,ve[Pe][be]),T(re,ve[Pe][Ne])),xe[Pe]=o(T(re,ve[Pe][be]),T(ne,ve[Pe][Ne]));for(var Ae=0;Ae<he;Ae++)ve[Ae][be]=de[Ae],ve[Ae][Ne]=xe[Ae];return ve}(te,$,ue,Ce),oe=k(K)}for(var le=R(W,0),ye=0;ye<W;ye++)le[ye]=K[ye][ye];return V((0,g.clone)(le),(0,g.clone)(te))}(U.toArray()):void 0;for(var X=U.toArray(),Z=0;Z<L;Z++)for(var J=Z;J<L;J++)X[Z][J]=X[Z][J].valueOf(),X[J][Z]=X[Z][J];return I(U.toArray())}function I(U){for(var L,H=U.length,X=Math.abs(D.epsilon/H),Z=new Array(H),J=0;J<H;J++)Z[J]=R(H,0),Z[J][J]=1;for(var K,$,W,Y,te=G(U);Math.abs(te[1])>=Math.abs(X);){var ce=te[0][0],oe=te[0][1];K=U[ce][ce],$=U[oe][oe],W=U[ce][oe],Y=void 0,Y=$-K,U=function(le,ye,ve,pe){for(var be=le.length,Ne=Math.cos(ye),he=Math.sin(ye),ne=Ne*Ne,re=he*he,de=R(be,0),xe=R(be,0),Pe=ne*le[ve][ve]-2*Ne*he*le[ve][pe]+re*le[pe][pe],Ae=re*le[ve][ve]+2*Ne*he*le[ve][pe]+ne*le[pe][pe],Oe=0;Oe<be;Oe++)de[Oe]=Ne*le[ve][Oe]-he*le[pe][Oe],xe[Oe]=he*le[ve][Oe]+Ne*le[pe][Oe];le[ve][ve]=Pe,le[pe][pe]=Ae,le[ve][pe]=0;for(var Se=le[pe][ve]=0;Se<be;Se++)Se!==ve&&Se!==pe&&(le[ve][Se]=de[Se],le[Se][ve]=de[Se],le[pe][Se]=xe[Se],le[Se][pe]=xe[Se]);return le}(U,L=Math.abs(Y)<=D.epsilon?Math.PI/4:.5*Math.atan(2*W/($-K)),ce,oe),Z=function(le,ye,ve,pe){for(var be=le.length,Ne=Math.cos(ye),he=Math.sin(ye),ne=R(be,0),re=R(be,0),de=0;de<be;de++)ne[de]=Ne*le[de][ve]-he*le[de][pe],re[de]=he*le[de][ve]+Ne*le[de][pe];for(var xe=0;xe<be;xe++)le[xe][ve]=ne[xe],le[xe][pe]=re[xe];return le}(Z,L,ce,oe),te=G(U)}for(var ue=R(H,0),Ce=0;Ce<H;Ce++)ue[Ce]=U[Ce][Ce];return V((0,g.clone)(ue),(0,g.clone)(Z))}function G(U){for(var L=U.length,H=0,X=[0,1],Z=0;Z<L;Z++)for(var J=Z+1;J<L;J++)Math.abs(H)<Math.abs(U[Z][J])&&(H=Math.abs(U[Z][J]),X=[Z,J]);return[X,H]}function k(U){for(var L=U.length,H=0,X=[0,1],Z=0;Z<L;Z++)for(var J=Z+1;J<L;J++)y(H)<y(U[Z][J])&&(H=y(U[Z][J]),X=[Z,J]);return[X,H]}function V(U,L){for(var H=U.length,X=Array(H),Z=Array(H),J=0;J<H;J++)Z[J]=Array(H);for(var K=0;K<H;K++){for(var $=0,W=U[0],Y=0;Y<U.length;Y++)U[Y]<W&&(W=U[$=Y]);X[K]=U.splice($,1)[0];for(var te=0;te<H;te++)Z[te][K]=L[te][$],L[te].splice($,1)}return[(0,g.clone)(X),(0,g.clone)(Z)]}function R(U,L){for(var H=new Array(U),X=0;X<U;X++)H[X]=L;return H}return h("eigs",{Array:function(U){var L=_(U),H=L.size();if(H.length!==2||H[0]!==H[1])throw new RangeError("Matrix must be square (size: "+(0,m.format)(H)+")");var X=B(L,H[0]);return{values:X[0],vectors:X[1]}},Matrix:function(U){var L=U.size();if(L.length!==2||L[0]!==L[1])throw new RangeError("Matrix must be square (size: "+(0,m.format)(L)+")");var H=B(U,L[0]);return{values:_(H[0]),vectors:_(H[1])}}})});r.createEigs=x},{"../../utils/factory":931,"../../utils/object":938,"../../utils/string":941}],758:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createExpm=void 0;var g=n("../../utils/is"),f=n("../../utils/string"),m=n("../../utils/factory"),l=["typed","abs","add","identity","inv","multiply"],x=(0,m.factory)("expm",l,function(S){var D=S.typed,h=S.abs,_=S.add,o=S.identity,p=S.inv,b=S.multiply;return D("expm",{Matrix:function(y){var A=y.size();if(A.length!==2||A[0]!==A[1])throw new RangeError("Matrix must be square (size: "+(0,f.format)(A)+")");for(var E=A[0],N=function(U,L){for(var H=0;H<30;H++)for(var X=0;X<=H;X++){var Z=H-X;if(function(J,K,$){for(var W=1,Y=2;Y<=K;Y++)W*=Y;for(var te=W,ce=K+1;ce<=2*K;ce++)te*=ce;var oe=te*(2*K+1);return 8*Math.pow(J/Math.pow(2,$),2*K)*W*W/(te*oe)}(U,X,Z)<L)return{q:X,j:Z}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(function(U){for(var L=U.size()[0],H=0,X=0;X<L;X++){for(var Z=0,J=0;J<L;J++)Z+=h(U.get([X,J]));H=Math.max(Z,H)}return H}(y),1e-15),T=N.q,O=N.j,j=b(y,Math.pow(2,-O)),M=o(E),F=o(E),B=1,I=j,G=-1,k=1;k<=T;k++)1<k&&(I=b(I,j),G=-G),M=_(M,b(B=B*(T-k+1)/((2*T-k+1)*k),I)),F=_(F,b(B*G,I));for(var V=b(p(F),M),R=0;R<O;R++)V=b(V,V);return(0,g.isSparseMatrix)(y)?y.createSparseMatrix(V):V}})});r.createExpm=x},{"../../utils/factory":931,"../../utils/is":933,"../../utils/string":941}],759:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var g=(r.createEye=void 0,n("../../utils/factory").factory)("eye",[],function(){return function(){throw new Error('Function "eye" is renamed to "identity" since mathjs version 5.0.0. To keep eye working, create an alias for it using "math.import({eye: math.identity}, {override: true})"')}});r.createEye=g},{"../../utils/factory":931}],760:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFilter=void 0;var g=n("../../utils/array"),f=n("../../utils/function"),m=["typed"],l=(0,n("../../utils/factory").factory)("filter",m,function(S){return(0,S.typed)("filter",{"Array, function":x,"Matrix, function":function(D,h){return D.create(x(D.toArray(),h))},"Array, RegExp":g.filterRegExp,"Matrix, RegExp":function(D,h){return D.create((0,g.filterRegExp)(D.toArray(),h))}})});function x(S,D){var h=(0,f.maxArgumentCount)(D);return(0,g.filter)(S,function(_,o,p){return h===1?D(_):h===2?D(_,[o]):D(_,[o],p)})}r.createFilter=l},{"../../utils/array":922,"../../utils/factory":931,"../../utils/function":932}],761:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFlatten=void 0;var g=n("../../utils/object"),f=n("../../utils/array"),m=n("../../utils/factory"),l=["typed","matrix"],x=(0,m.factory)("flatten",l,function(S){var D=S.typed,h=S.matrix;return D("flatten",{Array:function(_){return(0,f.flatten)((0,g.clone)(_))},Matrix:function(_){var o=(0,f.flatten)((0,g.clone)(_.toArray()));return h(o)}})});r.createFlatten=x},{"../../utils/array":922,"../../utils/factory":931,"../../utils/object":938}],762:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createForEach=void 0;var g=n("../../utils/function"),f=n("../../utils/array"),m=n("../../utils/factory"),l=["typed"],x=(0,m.factory)("forEach",l,function(D){return(0,D.typed)("forEach",{"Array, function":S,"Matrix, function":function(h,_){return h.forEach(_)}})});function S(D,h){var _=(0,g.maxArgumentCount)(h);(function o(p,b){Array.isArray(p)?(0,f.forEach)(p,function(y,A){o(y,b.concat(A))}):_===1?h(p):_===2?h(p,b):h(p,b,D)})(D,[])}r.createForEach=x},{"../../utils/array":922,"../../utils/factory":931,"../../utils/function":932}],763:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createGetMatrixDataType=void 0;var g=n("../../utils/factory"),f=n("../../utils/array"),m=n("../../utils/is"),l="getMatrixDataType",x=["typed"],S=(0,g.factory)(l,x,function(D){return(0,D.typed)(l,{Array:function(h){return(0,f.getArrayDataType)(h,m.typeOf)},Matrix:function(h){return h.getDataType()}})});r.createGetMatrixDataType=S},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933}],764:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIdentity=void 0;var g=n("../../utils/is"),f=n("../../utils/array"),m=n("../../utils/number"),l=n("../../utils/factory"),x=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],S=(0,l.factory)("identity",x,function(D){var h=D.typed,_=D.config,o=D.matrix,p=D.BigNumber,b=D.DenseMatrix,y=D.SparseMatrix;return h("identity",{"":function(){return _.matrix==="Matrix"?o([]):[]},string:function(N){return o(N)},"number | BigNumber":function(N){return E(N,N,_.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(N,T){return E(N,N,T)},"number | BigNumber, number | BigNumber":function(N,T){return E(N,T,_.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":E,Array:function(N){return A(N)},"Array, string":A,Matrix:function(N){return A(N.valueOf(),N.storage())},"Matrix, string":function(N,T){return A(N.valueOf(),T)}});function A(N,T){switch(N.length){case 0:return T?o(T):[];case 1:return E(N[0],N[0],T);case 2:return E(N[0],N[1],T);default:throw new Error("Vector containing two values expected")}}function E(N,T,O){var j=(0,g.isBigNumber)(N)||(0,g.isBigNumber)(T)?p:null;if((0,g.isBigNumber)(N)&&(N=N.toNumber()),(0,g.isBigNumber)(T)&&(T=T.toNumber()),!(0,m.isInteger)(N)||N<1)throw new Error("Parameters in function identity must be positive integers");if(!(0,m.isInteger)(T)||T<1)throw new Error("Parameters in function identity must be positive integers");var M=j?new p(1):1,F=j?new j(0):0,B=[N,T];if(O){if(O==="sparse")return y.diagonal(B,M,0,F);if(O==="dense")return b.diagonal(B,M,0,F);throw new TypeError('Unknown matrix type "'.concat(O,'"'))}for(var I=(0,f.resize)([],B,F),G=N<T?N:T,k=0;k<G;k++)I[k][k]=M;return I}});r.createIdentity=S},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937}],765:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createInv=void 0;var g=n("../../utils/is"),f=n("../../utils/array"),m=n("../../utils/factory"),l=n("../../utils/string"),x=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],S=(0,m.factory)("inv",x,function(D){var h=D.typed,_=D.matrix,o=D.divideScalar,p=D.addScalar,b=D.multiply,y=D.unaryMinus,A=D.det,E=D.identity,N=D.abs;return h("inv",{"Array | Matrix":function(O){var j=(0,g.isMatrix)(O)?O.size():(0,f.arraySize)(O);switch(j.length){case 1:if(j[0]===1)return(0,g.isMatrix)(O)?_([o(1,O.valueOf()[0])]):[o(1,O[0])];throw new RangeError("Matrix must be square (size: "+(0,l.format)(j)+")");case 2:var M=j[0],F=j[1];if(M===F)return(0,g.isMatrix)(O)?_(T(O.valueOf(),M,F),O.storage()):T(O,M,F);throw new RangeError("Matrix must be square (size: "+(0,l.format)(j)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+(0,l.format)(j)+")")}},any:function(O){return o(1,O)}});function T(O,j,M){var F,B,I,G;if(j===1){if((I=O[0][0])===0)throw Error("Cannot calculate inverse, determinant is zero");return[[o(1,I)]]}if(j===2){var k=A(O);if(k===0)throw Error("Cannot calculate inverse, determinant is zero");return[[o(O[1][1],k),o(y(O[0][1]),k)],[o(y(O[1][0]),k),o(O[0][0],k)]]}var V=O.concat();for(X=0;X<j;X++)V[X]=V[X].concat();for(var R=E(j).valueOf(),U=0;U<M;U++){for(var L=N(V[U][U]),H=U,X=U+1;X<j;)N(V[X][U])>L&&(L=N(V[X][U]),H=X),X++;if(L===0)throw Error("Cannot calculate inverse, determinant is zero");(X=H)!==U&&(G=V[U],V[U]=V[X],V[X]=G,G=R[U],R[U]=R[X],R[X]=G);var Z=V[U],J=R[U];for(X=0;X<j;X++){var K=V[X],$=R[X];if(X!==U){if(K[U]!==0){for(B=o(y(K[U]),Z[U]),F=U;F<M;F++)K[F]=p(K[F],b(B,Z[F]));for(F=0;F<M;F++)$[F]=p($[F],b(B,J[F]))}}else{for(B=Z[U],F=U;F<M;F++)K[F]=o(K[F],B);for(F=0;F<M;F++)$[F]=o($[F],B)}}}return R}});r.createInv=S},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/string":941}],766:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createKron=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m=["typed","matrix","multiplyScalar"],l=(0,f.factory)("kron",m,function(x){var S=x.typed,D=x.matrix,h=x.multiplyScalar;return S("kron",{"Matrix, Matrix":function(o,p){return D(_(o.toArray(),p.toArray()))},"Matrix, Array":function(o,p){return D(_(o.toArray(),p))},"Array, Matrix":function(o,p){return D(_(o,p.toArray()))},"Array, Array":_});function _(o,p){if((0,g.arraySize)(o).length===1&&(o=[o]),(0,g.arraySize)(p).length===1&&(p=[p]),2<(0,g.arraySize)(o).length||2<(0,g.arraySize)(p).length)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(o.length)+", y = "+JSON.stringify(p.length)+")");var b=[],y=[];return o.map(function(A){return p.map(function(E){return y=[],b.push(y),A.map(function(N){return E.map(function(T){return y.push(h(N,T))})})})})&&b}});r.createKron=l},{"../../utils/array":922,"../../utils/factory":931}],767:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMap=void 0;var g=n("../../utils/function"),f=n("../../utils/factory"),m=["typed"],l=(0,f.factory)("map",m,function(S){return(0,S.typed)("map",{"Array, function":x,"Matrix, function":function(D,h){return D.map(h)}})});function x(S,D){var h=(0,g.maxArgumentCount)(D);return function _(o,p){return Array.isArray(o)?o.map(function(b,y){return _(b,p.concat(y))}):h===1?D(o):h===2?D(o,p):D(o,p,S)}(S,[])}r.createMap=l},{"../../utils/factory":931,"../../utils/function":932}],768:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createOnes=void 0;var g=n("../../utils/is"),f=n("../../utils/number"),m=n("../../utils/array"),l=["typed","config","matrix","BigNumber"],x=(0,n("../../utils/factory").factory)("ones",l,function(S){var D=S.typed,h=S.config,_=S.matrix,o=S.BigNumber;return D("ones",{"":function(){return h.matrix==="Array"?p([]):p([],"default")},"...number | BigNumber | string":function(b){if(typeof b[b.length-1]!="string")return h.matrix==="Array"?p(b):p(b,"default");var y=b.pop();return p(b,y)},Array:p,Matrix:function(b){var y=b.storage();return p(b.valueOf(),y)},"Array | Matrix, string":function(b,y){return p(b.valueOf(),y)}});function p(b,y){var A=function(T){var O=!1;return T.forEach(function(j,M,F){(0,g.isBigNumber)(j)&&(O=!0,F[M]=j.toNumber())}),O}(b)?new o(1):1;if(function(T){T.forEach(function(O){if(typeof O!="number"||!(0,f.isInteger)(O)||O<0)throw new Error("Parameters in function ones must be positive integers")})}(b),y){var E=_(y);return 0<b.length?E.resize(b,A):E}var N=[];return 0<b.length?(0,m.resize)(N,b,A):N}});r.createOnes=x},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937}],769:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createPartitionSelect=void 0;var g=n("../../utils/is"),f=n("../../utils/number"),m=n("../../utils/factory"),l="partitionSelect",x=["typed","isNumeric","isNaN","compare"],S=(0,m.factory)(l,x,function(D){var h=D.typed,_=D.isNumeric,o=D.isNaN,p=D.compare,b=p,y=function(N,T){return-p(N,T)};return h(l,{"Array | Matrix, number":function(N,T){return A(N,T,b)},"Array | Matrix, number, string":function(N,T,O){if(O==="asc")return A(N,T,b);if(O==="desc")return A(N,T,y);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":A});function A(N,T,O){if(!(0,f.isInteger)(T)||T<0)throw new Error("k must be a non-negative integer");if((0,g.isMatrix)(N)){if(1<N.size().length)throw new Error("Only one dimensional matrices supported");return E(N.valueOf(),T,O)}if(Array.isArray(N))return E(N,T,O)}function E(N,T,O){if(T>=N.length)throw new Error("k out of bounds");for(var j=0;j<N.length;j++)if(_(N[j])&&o(N[j]))return N[j];for(var M=0,F=N.length-1;M<F;){for(var B,I=M,G=F,k=N[Math.floor(Math.random()*(F-M+1))+M];I<G;)0<=O(N[I],k)?(B=N[G],N[G]=N[I],N[I]=B,--G):++I;0<O(N[I],k)&&--I,T<=I?F=I:M=I+1}return N[T]}});r.createPartitionSelect=S},{"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937}],770:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRange=void 0;var g=n("../../utils/factory"),f=n("../../utils/noop"),m=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],l=(0,g.factory)("range",m,function(x){var S=x.typed,D=x.config,h=x.matrix,_=x.bignumber,o=x.smaller,p=x.smallerEq,b=x.larger,y=x.largerEq;return S("range",{string:E,"string, boolean":E,"number, number":function(M,F){return A(N(M,F,1))},"number, number, number":function(M,F,B){return A(N(M,F,B))},"number, number, boolean":function(M,F,B){return A((B?T:N)(M,F,1))},"number, number, number, boolean":function(M,F,B,I){return A((I?T:N)(M,F,B))},"BigNumber, BigNumber":function(M,F){return A(O(M,F,new M.constructor(1)))},"BigNumber, BigNumber, BigNumber":function(M,F,B){return A(O(M,F,B))},"BigNumber, BigNumber, boolean":function(M,F,B){var I=M.constructor;return A((B?j:O)(M,F,new I(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(M,F,B,I){return A((I?j:O)(M,F,B))}});function A(M){return D.matrix==="Matrix"?h?h(M):(0,f.noMatrix)():M}function E(M,F){var B=function(I){var G=I.split(":").map(function(k){return Number(k)});if(G.some(function(k){return isNaN(k)}))return null;switch(G.length){case 2:return{start:G[0],end:G[1],step:1};case 3:return{start:G[0],end:G[2],step:G[1]};default:return null}}(M);if(!B)throw new SyntaxError('String "'+M+'" is no valid range');return D.number==="BigNumber"?(_===void 0&&(0,f.noBignumber)(),A((F?j:O)(_(B.start),_(B.end),_(B.step)))):A((F?T:N)(B.start,B.end,B.step))}function N(M,F,B){var I=[],G=M;if(0<B)for(;o(G,F);)I.push(G),G+=B;else if(B<0)for(;b(G,F);)I.push(G),G+=B;return I}function T(M,F,B){var I=[],G=M;if(0<B)for(;p(G,F);)I.push(G),G+=B;else if(B<0)for(;y(G,F);)I.push(G),G+=B;return I}function O(M,F,B){var I=_(0),G=[],k=M;if(B.gt(I))for(;o(k,F);)G.push(k),k=k.plus(B);else if(B.lt(I))for(;b(k,F);)G.push(k),k=k.plus(B);return G}function j(M,F,B){var I=_(0),G=[],k=M;if(B.gt(I))for(;p(k,F);)G.push(k),k=k.plus(B);else if(B.lt(I))for(;y(k,F);)G.push(k),k=k.plus(B);return G}});r.createRange=l},{"../../utils/factory":931,"../../utils/noop":936}],771:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createReshape=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m=["typed","isInteger","matrix"],l=(0,f.factory)("reshape",m,function(x){var S=x.typed,D=x.isInteger,h=x.matrix;return S("reshape",{"Matrix, Array":function(_,o){return _.reshape?_.reshape(o):h((0,g.reshape)(_.valueOf(),o))},"Array, Array":function(_,o){return o.forEach(function(p){if(!D(p))throw new TypeError("Invalid size for dimension: "+p)}),(0,g.reshape)(_,o)}})});r.createReshape=l},{"../../utils/array":922,"../../utils/factory":931}],772:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createResize=void 0;var g=n("../../utils/is"),f=n("../../error/DimensionError"),m=n("../../error/ArgumentsError"),l=n("../../utils/number"),x=n("../../utils/string"),S=n("../../utils/object"),D=n("../../utils/array"),h=["config","matrix"],_=(0,n("../../utils/factory").factory)("resize",h,function(o){var p=o.config,b=o.matrix;return function(y,A,E){if(arguments.length!==2&&arguments.length!==3)throw new m.ArgumentsError("resize",arguments.length,2,3);if((0,g.isMatrix)(A)&&(A=A.valueOf()),(0,g.isBigNumber)(A[0])&&(A=A.map(function(O){return(0,g.isBigNumber)(O)?O.toNumber():O})),(0,g.isMatrix)(y))return y.resize(A,E,!0);if(typeof y=="string")return function(O,j,M){if(M!==void 0){if(typeof M!="string"||M.length!==1)throw new TypeError("Single character expected as defaultValue")}else M=" ";if(j.length!==1)throw new f.DimensionError(j.length,1);var F=j[0];if(typeof F!="number"||!(0,l.isInteger)(F))throw new TypeError("Invalid size, must contain positive integers (size: "+(0,x.format)(j)+")");{if(O.length>F)return O.substring(0,F);if(O.length<F){for(var B=O,I=0,G=F-O.length;I<G;I++)B+=M;return B}return O}}(y,A,E);var N=!Array.isArray(y)&&p.matrix!=="Array";if(A.length===0){for(;Array.isArray(y);)y=y[0];return(0,S.clone)(y)}Array.isArray(y)||(y=[y]),y=(0,S.clone)(y);var T=(0,D.resize)(y,A,E);return N?b(T):T}});r.createResize=_},{"../../error/ArgumentsError":398,"../../error/DimensionError":399,"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937,"../../utils/object":938,"../../utils/string":941}],773:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRow=void 0;var g=n("../../utils/factory"),f=n("../../utils/object"),m=n("../../utils/array"),l=["typed","Index","matrix","range"],x=(0,g.factory)("row",l,function(S){var D=S.typed,h=S.Index,_=S.matrix,o=S.range;return D("row",{"Matrix, number":p,"Array, number":function(b,y){return p(_((0,f.clone)(b)),y).valueOf()}});function p(b,y){if(b.size().length!==2)throw new Error("Only two dimensional matrix is supported");(0,m.validateIndex)(y,b.size()[0]);var A=o(0,b.size()[1]),E=new h(y,A);return b.subset(E)}});r.createRow=x},{"../../utils/array":922,"../../utils/factory":931,"../../utils/object":938}],774:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSize=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m=n("../../utils/noop"),l=["typed","config","?matrix"],x=(0,f.factory)("size",l,function(S){var D=S.typed,h=S.config,_=S.matrix;return D("size",{Matrix:function(o){return o.create(o.size())},Array:g.arraySize,string:function(o){return h.matrix==="Array"?[o.length]:_([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(){return h.matrix==="Array"?[]:_?_([]):(0,m.noMatrix)()}})});r.createSize=x},{"../../utils/array":922,"../../utils/factory":931,"../../utils/noop":936}],775:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSort=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m=["typed","matrix","compare","compareNatural"],l=(0,f.factory)("sort",m,function(x){var S=x.typed,D=x.matrix,h=x.compare,_=x.compareNatural,o=h,p=function(E,N){return-h(E,N)};return S("sort",{Array:function(E){return y(E),E.sort(o)},Matrix:function(E){return A(E),D(E.toArray().sort(o),E.storage())},"Array, function":function(E,N){return y(E),E.sort(N)},"Matrix, function":function(E,N){return A(E),D(E.toArray().sort(N),E.storage())},"Array, string":function(E,N){return y(E),E.sort(b(N))},"Matrix, string":function(E,N){return A(E),D(E.toArray().sort(b(N)),E.storage())}});function b(E){if(E==="asc")return o;if(E==="desc")return p;if(E==="natural")return _;throw new Error('String "asc", "desc", or "natural" expected')}function y(E){if((0,g.arraySize)(E).length!==1)throw new Error("One dimensional array expected")}function A(E){if(E.size().length!==1)throw new Error("One dimensional matrix expected")}});r.createSort=l},{"../../utils/array":922,"../../utils/factory":931}],776:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSqrtm=void 0;var g=n("../../utils/is"),f=n("../../utils/string"),m=n("../../utils/array"),l=n("../../utils/factory"),x=["typed","abs","add","multiply","sqrt","subtract","inv","size","max","identity"],S=(0,l.factory)("sqrtm",x,function(D){var h=D.typed,_=D.abs,o=D.add,p=D.multiply,b=D.sqrt,y=D.subtract,A=D.inv,E=D.size,N=D.max,T=D.identity,O=h("sqrtm",{"Array | Matrix":function(B){var I=(0,g.isMatrix)(B)?B.size():(0,m.arraySize)(B);switch(I.length){case 1:if(I[0]===1)return b(B);throw new RangeError("Matrix must be square (size: "+(0,f.format)(I)+")");case 2:if(I[0]===I[1])return F(B);throw new RangeError("Matrix must be square (size: "+(0,f.format)(I)+")")}}}),j=1e3,M=1e-6;function F(B){var I=0,G=B,k=T(E(B));do{var V=G,G=p(.5,o(V,A(k))),k=p(.5,o(k,A(V))),R=N(_(y(G,V)));if(M<R&&++I>j)throw new Error("computing square root of matrix: iterative method could not converge")}while(M<R);return G}return O});r.createSqrtm=S},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/string":941}],777:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSqueeze=void 0;var g=n("../../utils/object"),f=n("../../utils/array"),m=n("../../utils/factory"),l=["typed","matrix"],x=(0,m.factory)("squeeze",l,function(S){var D=S.typed,h=S.matrix;return D("squeeze",{Array:function(_){return(0,f.squeeze)((0,g.clone)(_))},Matrix:function(_){var o=(0,f.squeeze)(_.toArray());return Array.isArray(o)?h(o):o},any:function(_){return(0,g.clone)(_)}})});r.createSqueeze=x},{"../../utils/array":922,"../../utils/factory":931,"../../utils/object":938}],778:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSubset=void 0;var g=n("../../utils/is"),f=n("../../utils/object"),m=n("../../utils/array"),l=n("../../utils/customs"),x=n("../../error/DimensionError"),S=n("../../utils/factory"),D=["typed","matrix"],h=(0,S.factory)("subset",D,function(y){var A=y.typed,E=y.matrix;return A("subset",{"Array, Index":function(N,T){var O=E(N).subset(T);return T.isScalar()?O:O.valueOf()},"Matrix, Index":function(N,T){return N.subset(T)},"Object, Index":p,"string, Index":_,"Array, Index, any":function(N,T,O){return E((0,f.clone)(N)).subset(T,O,void 0).valueOf()},"Array, Index, any, any":function(N,T,O,j){return E((0,f.clone)(N)).subset(T,O,j).valueOf()},"Matrix, Index, any":function(N,T,O){return N.clone().subset(T,O)},"Matrix, Index, any, any":function(N,T,O,j){return N.clone().subset(T,O,j)},"string, Index, string":o,"string, Index, string, string":o,"Object, Index, any":b})});function _(y,A){if(!(0,g.isIndex)(A))throw new TypeError("Index expected");if(A.size().length!==1)throw new x.DimensionError(A.size().length,1);var E=y.length;(0,m.validateIndex)(A.min()[0],E),(0,m.validateIndex)(A.max()[0],E);var N=A.dimension(0),T="";return N.forEach(function(O){T+=y.charAt(O)}),T}function o(y,A,E,N){if(!A||A.isIndex!==!0)throw new TypeError("Index expected");if(A.size().length!==1)throw new x.DimensionError(A.size().length,1);if(N!==void 0){if(typeof N!="string"||N.length!==1)throw new TypeError("Single character expected as defaultValue")}else N=" ";var T=A.dimension(0);if(T.size()[0]!==E.length)throw new x.DimensionError(T.size()[0],E.length);var O=y.length;(0,m.validateIndex)(A.min()[0]),(0,m.validateIndex)(A.max()[0]);for(var j=[],M=0;M<O;M++)j[M]=y.charAt(M);if(T.forEach(function(I,G){j[I]=E.charAt(G[0])}),j.length>O)for(var F=O-1,B=j.length;F<B;F++)j[F]||(j[F]=N);return j.join("")}function p(y,A){if(A.size().length!==1)throw new x.DimensionError(A.size(),1);var E=A.dimension(0);if(typeof E!="string")throw new TypeError("String expected as index to retrieve an object property");return(0,l.getSafeProperty)(y,E)}function b(y,A,E){if(A.size().length!==1)throw new x.DimensionError(A.size(),1);var N=A.dimension(0);if(typeof N!="string")throw new TypeError("String expected as index to retrieve an object property");var T=(0,f.clone)(y);return(0,l.setSafeProperty)(T,N,E),T}r.createSubset=h},{"../../error/DimensionError":399,"../../utils/array":922,"../../utils/customs":929,"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938}],779:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createTrace=void 0;var g=n("../../utils/object"),f=n("../../utils/string"),m=["typed","matrix","add"],l=(0,n("../../utils/factory").factory)("trace",m,function(x){var S=x.typed,D=x.matrix,h=x.add;return S("trace",{Array:function(o){return _(D(o))},SparseMatrix:function(o){var p=o._values,b=o._index,y=o._ptr,A=o._size,E=A[0],N=A[1];if(E!==N)throw new RangeError("Matrix must be square (size: "+(0,f.format)(A)+")");var T=0;if(0<p.length)for(var O=0;O<N;O++)for(var j=y[O],M=y[O+1],F=j;F<M;F++){var B=b[F];if(B===O){T=h(T,p[F]);break}if(O<B)break}return T},DenseMatrix:_,any:g.clone});function _(o){var p=o._size,b=o._data;switch(p.length){case 1:if(p[0]===1)return(0,g.clone)(b[0]);throw new RangeError("Matrix must be square (size: "+(0,f.format)(p)+")");case 2:var y=p[0];if(y!==p[1])throw new RangeError("Matrix must be square (size: "+(0,f.format)(p)+")");for(var A=0,E=0;E<y;E++)A=h(A,b[E][E]);return A;default:throw new RangeError("Matrix must be two dimensional (size: "+(0,f.format)(p)+")")}}});r.createTrace=l},{"../../utils/factory":931,"../../utils/object":938,"../../utils/string":941}],780:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createTranspose=void 0;var g=n("../../utils/object"),f=n("../../utils/string"),m=["typed","matrix"],l=(0,n("../../utils/factory").factory)("transpose",m,function(x){var S=x.typed,D=x.matrix,h=S("transpose",{Array:function(_){return h(D(_)).valueOf()},Matrix:function(_){var o,p=_.size();switch(p.length){case 1:o=_.clone();break;case 2:var b=p[0],y=p[1];if(y===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+(0,f.format)(p)+")");switch(_.storage()){case"dense":o=function(A,E,N){for(var T,O=A._data,j=[],M=0;M<N;M++){T=j[M]=[];for(var F=0;F<E;F++)T[F]=(0,g.clone)(O[F][M])}return A.createDenseMatrix({data:j,size:[N,E],datatype:A._datatype})}(_,b,y);break;case"sparse":o=function(A,E,N){for(var T,O,j,M=A._values,F=A._index,B=A._ptr,I=M?[]:void 0,G=[],k=[],V=[],R=0;R<E;R++)V[R]=0;for(T=0,O=F.length;T<O;T++)V[F[T]]++;for(var U=0,L=0;L<E;L++)k.push(U),U+=V[L],V[L]=k[L];for(k.push(U),j=0;j<N;j++)for(var H=B[j],X=B[j+1],Z=H;Z<X;Z++){var J=V[F[Z]]++;G[J]=j,M&&(I[J]=(0,g.clone)(M[Z]))}return A.createSparseMatrix({values:I,index:G,ptr:k,size:[N,E],datatype:A._datatype})}(_,b,y)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+(0,f.format)(this._size)+")")}return o},any:function(_){return(0,g.clone)(_)}});return h});r.createTranspose=l},{"../../utils/factory":931,"../../utils/object":938,"../../utils/string":941}],781:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createZeros=void 0;var g=n("../../utils/is"),f=n("../../utils/number"),m=n("../../utils/array"),l=n("../../utils/factory"),x=["typed","config","matrix","BigNumber"],S=(0,l.factory)("zeros",x,function(D){var h=D.typed,_=D.config,o=D.matrix,p=D.BigNumber;return h("zeros",{"":function(){return _.matrix==="Array"?b([]):b([],"default")},"...number | BigNumber | string":function(y){if(typeof y[y.length-1]!="string")return _.matrix==="Array"?b(y):b(y,"default");var A=y.pop();return b(y,A)},Array:b,Matrix:function(y){var A=y.storage();return b(y.valueOf(),A)},"Array | Matrix, string":function(y,A){return b(y.valueOf(),A)}});function b(y,A){var E=function(O){var j=!1;return O.forEach(function(M,F,B){(0,g.isBigNumber)(M)&&(j=!0,B[F]=M.toNumber())}),j}(y)?new p(0):0;if(function(O){O.forEach(function(j){if(typeof j!="number"||!(0,f.isInteger)(j)||j<0)throw new Error("Parameters in function zeros must be positive integers")})}(y),A){var N=o(A);return 0<y.length?N.resize(y,E):N}var T=[];return 0<y.length?(0,m.resize)(T,y,E):T}});r.createZeros=S},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937}],782:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCombinations=void 0;var g=n("../../utils/factory"),f=n("../../plain/number/combinations"),m=["typed"],l=(0,g.factory)("combinations",m,function(S){return(0,S.typed)("combinations",{"number, number":f.combinationsNumber,"BigNumber, BigNumber":function(D,h){var _,o,p=D.constructor,b=D.minus(h),y=new p(1);if(!x(D)||!x(h))throw new TypeError("Positive integer value expected in function combinations");if(h.gt(D))throw new TypeError("k must be less than n in function combinations");if(_=y,h.lt(b))for(o=y;o.lte(b);o=o.plus(y))_=_.times(h.plus(o)).dividedBy(o);else for(o=y;o.lte(h);o=o.plus(y))_=_.times(b.plus(o)).dividedBy(o);return _}})});function x(S){return S.isInteger()&&S.gte(0)}r.createCombinations=l},{"../../plain/number/combinations":872,"../../utils/factory":931}],783:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCombinationsWithRep=void 0;var g=n("../../utils/factory"),f=n("../../utils/number"),m=n("../../utils/product"),l="combinationsWithRep",x=["typed"],S=(0,g.factory)(l,x,function(h){return(0,h.typed)(l,{"number, number":function(_,o){if(!(0,f.isInteger)(_)||_<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!(0,f.isInteger)(o)||o<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(_<1)throw new TypeError("k must be less than or equal to n + k - 1");return o<_-1?(0,m.product)(_,_+o-1)/(0,m.product)(1,o):(0,m.product)(o+1,_+o-1)/(0,m.product)(1,_-1)},"BigNumber, BigNumber":function(_,o){var p,b,y=new _.constructor(1),A=_.minus(y);if(!D(_)||!D(o))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(_.lt(y))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(p=y,o.lt(A))for(b=y;b.lte(A);b=b.plus(y))p=p.times(o.plus(b)).dividedBy(b);else for(b=y;b.lte(o);b=b.plus(y))p=p.times(A.plus(b)).dividedBy(b);return p}})});function D(h){return h.isInteger()&&h.gte(0)}r.createCombinationsWithRep=S},{"../../utils/factory":931,"../../utils/number":937,"../../utils/product":940}],784:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFactorial=void 0;var g=n("../../utils/collection"),f=n("../../utils/factory"),m=["typed","gamma"],l=(0,f.factory)("factorial",m,function(x){var S=x.typed,D=x.gamma,h=S("factorial",{number:function(_){if(_<0)throw new Error("Value must be non-negative");return D(_+1)},BigNumber:function(_){if(_.isNegative())throw new Error("Value must be non-negative");return D(_.plus(1))},"Array | Matrix":function(_){return(0,g.deepMap)(_,h)}});return h});r.createFactorial=l},{"../../utils/collection":927,"../../utils/factory":931}],785:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createGamma=void 0;var g=n("../../utils/collection"),f=n("../../utils/factory"),m=n("../../plain/number"),l=["typed","config","multiplyScalar","pow","BigNumber","Complex"],x=(0,f.factory)("gamma",l,function(S){var D=S.typed,h=S.config,_=S.multiplyScalar,o=S.pow,p=S.BigNumber,b=S.Complex,y=D("gamma",{number:m.gammaNumber,Complex:function(A){if(A.im===0)return y(A.re);A=new b(A.re-1,A.im);for(var E=new b(m.gammaP[0],0),N=1;N<m.gammaP.length;++N){var T=A.re+N,O=T*T+A.im*A.im;O!=0?(E.re+=m.gammaP[N]*T/O,E.im+=-(m.gammaP[N]*A.im)/O):E.re=m.gammaP[N]<0?-1/0:1/0}var j=new b(A.re+m.gammaG+.5,A.im),M=Math.sqrt(2*Math.PI);A.re+=.5;var F=o(j,A);F.im===0?F.re*=M:(F.re===0||(F.re*=M),F.im*=M);var B=Math.exp(-j.re);return j.re=B*Math.cos(-j.im),j.im=B*Math.sin(-j.im),_(_(F,j),E)},BigNumber:function(A){if(A.isInteger())return A.isNegative()||A.isZero()?new p(1/0):function E(N){if(N<8)return new p([1,1,2,6,24,120,720,5040][N]);var T=h.precision+(0|Math.log(N.toNumber())),O=p.clone({precision:T});if(N%2==1)return N.times(E(new p(N-1)));for(var j=N,M=new O(N),F=N.toNumber();2<j;)F+=j-=2,M=M.times(F);return new p(M.toPrecision(p.precision))}(A.minus(1));if(!A.isFinite())return new p(A.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(A){return(0,g.deepMap)(A,y)}});return y});r.createGamma=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],786:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createKldivergence=void 0;var g=n("../../utils/factory"),f=["typed","matrix","divide","sum","multiply","dotDivide","log","isNumeric"],m=(0,g.factory)("kldivergence",f,function(l){var x=l.typed,S=l.matrix,D=l.divide,h=l.sum,_=l.multiply,o=l.dotDivide,p=l.log,b=l.isNumeric;return x("kldivergence",{"Array, Array":function(A,E){return y(S(A),S(E))},"Matrix, Array":function(A,E){return y(A,S(E))},"Array, Matrix":function(A,E){return y(S(A),E)},"Matrix, Matrix":y});function y(A,E){var N=E.size().length,T=A.size().length;if(1<N)throw new Error("first object must be one dimensional");if(1<T)throw new Error("second object must be one dimensional");if(N!==T)throw new Error("Length of two vectors must be equal");if(h(A)===0)throw new Error("Sum of elements in first object must be non zero");if(h(E)===0)throw new Error("Sum of elements in second object must be non zero");var O=D(A,h(A)),j=D(E,h(E)),M=h(_(O,p(o(O,j))));return b(M)?M:Number.NaN}});r.createKldivergence=m},{"../../utils/factory":931}],787:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMultinomial=void 0;var g=n("../../utils/collection"),f=n("../../utils/factory"),m=["typed","add","divide","multiply","factorial","isInteger","isPositive"],l=(0,f.factory)("multinomial",m,function(x){var S=x.typed,D=x.add,h=x.divide,_=x.multiply,o=x.factorial,p=x.isInteger,b=x.isPositive;return S("multinomial",{"Array | Matrix":function(y){var A=0,E=1;return(0,g.deepForEach)(y,function(N){if(!p(N)||!b(N))throw new TypeError("Positive integer value expected in function multinomial");A=D(A,N),E=_(E,o(N))}),h(o(A),E)}})});r.createMultinomial=l},{"../../utils/collection":927,"../../utils/factory":931}],788:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createPermutations=void 0;var g=n("../../utils/number"),f=n("../../utils/product"),m=n("../../utils/factory"),l=["typed","factorial"],x=(0,m.factory)("permutations",l,function(D){return(0,D.typed)("permutations",{"number | BigNumber":D.factorial,"number, number":function(h,_){if(!(0,g.isInteger)(h)||h<0)throw new TypeError("Positive integer value expected in function permutations");if(!(0,g.isInteger)(_)||_<0)throw new TypeError("Positive integer value expected in function permutations");if(h<_)throw new TypeError("second argument k must be less than or equal to first argument n");return(0,f.product)(h-_+1,h)},"BigNumber, BigNumber":function(h,_){if(!S(h)||!S(_))throw new TypeError("Positive integer value expected in function permutations");if(_.gt(h))throw new TypeError("second argument k must be less than or equal to first argument n");for(var o=h.mul(0).add(1),p=h.minus(_).plus(1);p.lte(h);p=p.plus(1))o=o.times(p);return o}})});function S(D){return D.isInteger()&&D.gte(0)}r.createPermutations=x},{"../../utils/factory":931,"../../utils/number":937,"../../utils/product":940}],789:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createPickRandom=void 0;var g=n("../../utils/factory"),f=n("../../utils/is"),m=n("../../utils/array"),l=n("./util/seededRNG"),x=["typed","config","?on"],S=(0,g.factory)("pickRandom",x,function(D){var h=D.typed,_=D.config,o=D.on,p=(0,l.createRng)(_.randomSeed);return o&&o("config",function(y,A){y.randomSeed!==A.randomSeed&&(p=(0,l.createRng)(y.randomSeed))}),h({"Array | Matrix":function(y){return b(y)},"Array | Matrix, number":function(y,A){return b(y,A,void 0)},"Array | Matrix, Array":function(y,A){return b(y,void 0,A)},"Array | Matrix, Array | Matrix, number":function(y,A,E){return b(y,E,A)},"Array | Matrix, number, Array | Matrix":b});function b(y,A,E){var N=A===void 0;if(N&&(A=1),y=y.valueOf(),E=E&&E.valueOf(),1<(0,m.arraySize)(y).length)throw new Error("Only one dimensional vectors supported");var T=0;if(E!==void 0){if(E.length!==y.length)throw new Error("Weights must have the same length as possibles");for(var O=0,j=E.length;O<j;O++){if(!(0,f.isNumber)(E[O])||E[O]<0)throw new Error("Weights must be an array of positive numbers");T+=E[O]}}var M=y.length;if(M===0)return[];if(M<=A)return 1<A?y:y[0];for(var F,B=[];B.length<A;){if(E===void 0)F=y[Math.floor(p()*M)];else for(var I=p()*T,G=0,k=y.length;G<k;G++)if((I-=E[G])<0){F=y[G];break}B.indexOf(F)===-1&&B.push(F)}return N?B[0]:B}});r.createPickRandom=S},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"./util/seededRNG":793}],790:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRandomNumber=r.createRandom=void 0;var g=n("../../utils/factory"),f=n("../../utils/is"),m=n("./util/seededRNG"),l=n("./util/randomMatrix"),x="random",S=["typed","config","?on"],D=(0,g.factory)(x,S,function(_){var o=_.typed,p=_.config,b=_.on,y=(0,m.createRng)(p.randomSeed);return b&&b("config",function(N,T){N.randomSeed!==T.randomSeed&&(y=(0,m.createRng)(N.randomSeed))}),o(x,{"":function(){return E(0,1)},number:function(N){return E(0,N)},"number, number":E,"Array | Matrix":function(N){return A(N,0,1)},"Array | Matrix, number":function(N,T){return A(N,0,T)},"Array | Matrix, number, number":A});function A(N,T,O){var j=(0,l.randomMatrix)(N.valueOf(),function(){return E(T,O)});return(0,f.isMatrix)(N)?N.create(j):j}function E(N,T){return N+y()*(T-N)}});r.createRandom=D;var h=(0,g.factory)(x,["typed","config","?on"],function(_){var o=_.typed,p=_.config,b=_.on,y=(_.matrix,(0,m.createRng)(p.randomSeed));return b&&b("config",function(E,N){E.randomSeed!==N.randomSeed&&(y=(0,m.createRng)(E.randomSeed))}),o(x,{"":function(){return A(0,1)},number:function(E){return A(0,E)},"number, number":A});function A(E,N){return E+y()*(N-E)}});r.createRandomNumber=h},{"../../utils/factory":931,"../../utils/is":933,"./util/randomMatrix":792,"./util/seededRNG":793}],791:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRandomInt=void 0;var g=n("../../utils/factory"),f=n("./util/randomMatrix"),m=n("./util/seededRNG"),l=n("../../utils/is"),x=["typed","config","?on"],S=(0,g.factory)("randomInt",x,function(D){var h=D.typed,_=D.config,o=D.on,p=(0,m.createRng)(_.randomSeed);return o&&o("config",function(A,E){A.randomSeed!==E.randomSeed&&(p=(0,m.createRng)(A.randomSeed))}),h("randomInt",{"":function(){return y(0,1)},number:function(A){return y(0,A)},"number, number":y,"Array | Matrix":function(A){return b(A,0,1)},"Array | Matrix, number":function(A,E){return b(A,0,E)},"Array | Matrix, number, number":b});function b(A,E,N){var T=(0,f.randomMatrix)(A.valueOf(),function(){return y(E,N)});return(0,l.isMatrix)(A)?A.create(T):T}function y(A,E){return Math.floor(A+p()*(E-A))}});r.createRandomInt=S},{"../../utils/factory":931,"../../utils/is":933,"./util/randomMatrix":792,"./util/seededRNG":793}],792:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomMatrix=function g(f,m){var l=[];if(f=f.slice(0),1<f.length)for(var x=0,S=f.shift();x<S;x++)l.push(g(f,m));else for(var D=0,h=f.shift();D<h;D++)l.push(m());return l}},{}],793:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRng=function(l){var x;return function(S){x=S===null?m:(0,f.default)(String(S))}(l),function(){return x()}};var g,f=(g=n("seed-random"))&&g.__esModule?g:{default:g},m=(0,f.default)()},{"seed-random":944}],794:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCompareNumber=r.createCompare=void 0;var g=n("../../utils/bignumber/nearlyEqual"),f=n("../../utils/number"),m=n("../../utils/factory"),l=n("../../type/matrix/utils/algorithm03"),x=n("../../type/matrix/utils/algorithm12"),S=n("../../type/matrix/utils/algorithm14"),D=n("../../type/matrix/utils/algorithm13"),h=n("../../type/matrix/utils/algorithm05"),_="compare",o=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],p=(0,m.factory)(_,o,function(y){var A=y.typed,E=y.config,N=y.equalScalar,T=y.matrix,O=y.BigNumber,j=y.Fraction,M=y.DenseMatrix,F=(0,l.createAlgorithm03)({typed:A}),B=(0,h.createAlgorithm05)({typed:A,equalScalar:N}),I=(0,x.createAlgorithm12)({typed:A,DenseMatrix:M}),G=(0,D.createAlgorithm13)({typed:A}),k=(0,S.createAlgorithm14)({typed:A}),V=A(_,{"boolean, boolean":function(R,U){return R===U?0:U<R?1:-1},"number, number":function(R,U){return(0,f.nearlyEqual)(R,U,E.epsilon)?0:U<R?1:-1},"BigNumber, BigNumber":function(R,U){return(0,g.nearlyEqual)(R,U,E.epsilon)?new O(0):new O(R.cmp(U))},"Fraction, Fraction":function(R,U){return new j(R.compare(U))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(R,U){if(!R.equalBase(U))throw new Error("Cannot compare units with different base");return V(R.value,U.value)},"SparseMatrix, SparseMatrix":function(R,U){return B(R,U,V)},"SparseMatrix, DenseMatrix":function(R,U){return F(U,R,V,!0)},"DenseMatrix, SparseMatrix":function(R,U){return F(R,U,V,!1)},"DenseMatrix, DenseMatrix":function(R,U){return G(R,U,V)},"Array, Array":function(R,U){return V(T(R),T(U)).valueOf()},"Array, Matrix":function(R,U){return V(T(R),U)},"Matrix, Array":function(R,U){return V(R,T(U))},"SparseMatrix, any":function(R,U){return I(R,U,V,!1)},"DenseMatrix, any":function(R,U){return k(R,U,V,!1)},"any, SparseMatrix":function(R,U){return I(U,R,V,!0)},"any, DenseMatrix":function(R,U){return k(U,R,V,!0)},"Array, any":function(R,U){return k(T(R),U,V,!1).valueOf()},"any, Array":function(R,U){return k(T(U),R,V,!0).valueOf()}});return V});r.createCompare=p;var b=(0,m.factory)(_,["typed","config"],function(y){var A=y.typed,E=y.config;return A(_,{"number, number":function(N,T){return(0,f.nearlyEqual)(N,T,E.epsilon)?0:T<N?1:-1}})});r.createCompareNumber=b},{"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm05":904,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/nearlyEqual":926,"../../utils/factory":931,"../../utils/number":937}],795:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCompareNatural=void 0;var g,f=(g=n("javascript-natural-sort"))&&g.__esModule?g:{default:g},m=n("../../utils/is"),l=n("../../utils/factory"),x="compareNatural",S=["typed","compare"],D=(0,l.factory)(x,S,function(h){var _=h.typed,o=h.compare,p=o.signatures["boolean,boolean"],b=_(x,{"any, any":function(A,E){var N,T=(0,m.typeOf)(A),O=(0,m.typeOf)(E);if(!(T!=="number"&&T!=="BigNumber"&&T!=="Fraction"||O!=="number"&&O!=="BigNumber"&&O!=="Fraction"))return(N=o(A,E)).toString()!=="0"?0<N?1:-1:(0,f.default)(T,O);if(T==="Array"||T==="Matrix"||O==="Array"||O==="Matrix")return(N=function j(M,F){return(0,m.isSparseMatrix)(M)&&(0,m.isSparseMatrix)(F)?y(M.toJSON().values,F.toJSON().values):(0,m.isSparseMatrix)(M)?j(M.toArray(),F):(0,m.isSparseMatrix)(F)?j(M,F.toArray()):(0,m.isDenseMatrix)(M)?j(M.toJSON().data,F):(0,m.isDenseMatrix)(F)?j(M,F.toJSON().data):Array.isArray(M)?Array.isArray(F)?y(M,F):j(M,[F]):j([M],F)}(A,E))!==0?N:(0,f.default)(T,O);if(T!==O)return(0,f.default)(T,O);if(T==="Complex")return function(j,M){return j.re>M.re?1:j.re<M.re?-1:j.im>M.im?1:j.im<M.im?-1:0}(A,E);if(T==="Unit")return A.equalBase(E)?b(A.value,E.value):y(A.formatUnits(),E.formatUnits());if(T==="boolean")return p(A,E);if(T==="string")return(0,f.default)(A,E);if(T==="Object")return function(j,M){var F=Object.keys(j),B=Object.keys(M);F.sort(f.default),B.sort(f.default);var I=y(F,B);if(I!==0)return I;for(var G=0;G<F.length;G++){var k=b(j[F[G]],M[B[G]]);if(k!==0)return k}return 0}(A,E);if(T==="null"||T==="undefined")return 0;throw new TypeError('Unsupported type of value "'+T+'"')}});function y(A,E){for(var N=0,T=Math.min(A.length,E.length);N<T;N++){var O=b(A[N],E[N]);if(O!==0)return O}return A.length>E.length?1:A.length<E.length?-1:0}return b});r.createCompareNatural=D},{"../../utils/factory":931,"../../utils/is":933,"javascript-natural-sort":58}],796:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCompareTextNumber=r.createCompareText=void 0;var g=n("../../utils/string"),f=n("../../utils/factory"),m=n("../../type/matrix/utils/algorithm14"),l=n("../../type/matrix/utils/algorithm13"),x="compareText",S=["typed","matrix"],D=(0,f.factory)(x,S,function(_){var o=_.typed,p=_.matrix,b=(0,l.createAlgorithm13)({typed:o}),y=(0,m.createAlgorithm14)({typed:o}),A=o(x,{"any, any":g.compareText,"DenseMatrix, DenseMatrix":function(E,N){return b(E,N,g.compareText)},"Array, Array":function(E,N){return A(p(E),p(N)).valueOf()},"Array, Matrix":function(E,N){return A(p(E),N)},"Matrix, Array":function(E,N){return A(E,p(N))},"DenseMatrix, any":function(E,N){return y(E,N,g.compareText,!1)},"any, DenseMatrix":function(E,N){return y(N,E,g.compareText,!0)},"Array, any":function(E,N){return y(p(E),N,g.compareText,!1).valueOf()},"any, Array":function(E,N){return y(p(N),E,g.compareText,!0).valueOf()}});return A});r.createCompareText=D;var h=(0,f.factory)(x,["typed"],function(_){return(0,_.typed)(x,{"any, any":g.compareText})});r.createCompareTextNumber=h},{"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931,"../../utils/string":941}],797:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeepEqual=void 0;var g=n("../../utils/factory"),f=["typed","equal"],m=(0,g.factory)("deepEqual",f,function(l){var x=l.typed,S=l.equal;return x("deepEqual",{"any, any":function(D,h){return function _(o,p){{if(Array.isArray(o)){if(Array.isArray(p)){var b=o.length;if(b!==p.length)return!1;for(var y=0;y<b;y++)if(!_(o[y],p[y]))return!1;return!0}return!1}return!Array.isArray(p)&&S(o,p)}}(D.valueOf(),h.valueOf())}})});r.createDeepEqual=m},{"../../utils/factory":931}],798:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createEqualNumber=r.createEqual=void 0;var g=n("../../utils/factory"),f=n("../../type/matrix/utils/algorithm03"),m=n("../../type/matrix/utils/algorithm07"),l=n("../../type/matrix/utils/algorithm12"),x=n("../../type/matrix/utils/algorithm13"),S=n("../../type/matrix/utils/algorithm14"),D=["typed","matrix","equalScalar","DenseMatrix"],h=(0,g.factory)("equal",D,function(o){var p=o.typed,b=o.matrix,y=o.equalScalar,A=o.DenseMatrix,E=(0,f.createAlgorithm03)({typed:p}),N=(0,m.createAlgorithm07)({typed:p,DenseMatrix:A}),T=(0,l.createAlgorithm12)({typed:p,DenseMatrix:A}),O=(0,x.createAlgorithm13)({typed:p}),j=(0,S.createAlgorithm14)({typed:p}),M=p("equal",{"any, any":function(F,B){return F===null?B===null:B===null?F===null:F===void 0?B===void 0:B===void 0?F===void 0:y(F,B)},"SparseMatrix, SparseMatrix":function(F,B){return N(F,B,y)},"SparseMatrix, DenseMatrix":function(F,B){return E(B,F,y,!0)},"DenseMatrix, SparseMatrix":function(F,B){return E(F,B,y,!1)},"DenseMatrix, DenseMatrix":function(F,B){return O(F,B,y)},"Array, Array":function(F,B){return M(b(F),b(B)).valueOf()},"Array, Matrix":function(F,B){return M(b(F),B)},"Matrix, Array":function(F,B){return M(F,b(B))},"SparseMatrix, any":function(F,B){return T(F,B,y,!1)},"DenseMatrix, any":function(F,B){return j(F,B,y,!1)},"any, SparseMatrix":function(F,B){return T(B,F,y,!0)},"any, DenseMatrix":function(F,B){return j(B,F,y,!0)},"Array, any":function(F,B){return j(b(F),B,y,!1).valueOf()},"any, Array":function(F,B){return j(b(B),F,y,!0).valueOf()}});return M});r.createEqual=h;var _=(0,g.factory)("equal",["typed","equalScalar"],function(o){var p=o.typed,b=o.equalScalar;return p("equal",{"any, any":function(y,A){return y===null?A===null:A===null?y===null:y===void 0?A===void 0:A===void 0?y===void 0:b(y,A)}})});r.createEqualNumber=_},{"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],799:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createEqualScalarNumber=r.createEqualScalar=void 0;var g=n("../../utils/bignumber/nearlyEqual"),f=n("../../utils/number"),m=n("../../utils/factory"),l=n("../../utils/complex"),x="equalScalar",S=["typed","config"],D=(0,m.factory)(x,S,function(_){var o=_.typed,p=_.config,b=o(x,{"boolean, boolean":function(y,A){return y===A},"number, number":function(y,A){return(0,f.nearlyEqual)(y,A,p.epsilon)},"BigNumber, BigNumber":function(y,A){return y.eq(A)||(0,g.nearlyEqual)(y,A,p.epsilon)},"Fraction, Fraction":function(y,A){return y.equals(A)},"Complex, Complex":function(y,A){return(0,l.complexEquals)(y,A,p.epsilon)},"Unit, Unit":function(y,A){if(!y.equalBase(A))throw new Error("Cannot compare units with different base");return b(y.value,A.value)}});return b});r.createEqualScalar=D;var h=(0,m.factory)(x,["typed","config"],function(_){var o=_.typed,p=_.config;return o(x,{"number, number":function(b,y){return(0,f.nearlyEqual)(b,y,p.epsilon)}})});r.createEqualScalarNumber=h},{"../../utils/bignumber/nearlyEqual":926,"../../utils/complex":928,"../../utils/factory":931,"../../utils/number":937}],800:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createEqualText=void 0;var g=n("../../utils/factory"),f=["typed","compareText","isZero"],m=(0,g.factory)("equalText",f,function(l){var x=l.typed,S=l.compareText,D=l.isZero;return x("equalText",{"any, any":function(h,_){return D(S(h,_))}})});r.createEqualText=m},{"../../utils/factory":931}],801:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLargerNumber=r.createLarger=void 0;var g=n("../../utils/bignumber/nearlyEqual"),f=n("../../utils/number"),m=n("../../utils/factory"),l=n("../../type/matrix/utils/algorithm03"),x=n("../../type/matrix/utils/algorithm07"),S=n("../../type/matrix/utils/algorithm12"),D=n("../../type/matrix/utils/algorithm14"),h=n("../../type/matrix/utils/algorithm13"),_="larger",o=["typed","config","matrix","DenseMatrix"],p=(0,m.factory)(_,o,function(y){var A=y.typed,E=y.config,N=y.matrix,T=y.DenseMatrix,O=(0,l.createAlgorithm03)({typed:A}),j=(0,x.createAlgorithm07)({typed:A,DenseMatrix:T}),M=(0,S.createAlgorithm12)({typed:A,DenseMatrix:T}),F=(0,h.createAlgorithm13)({typed:A}),B=(0,D.createAlgorithm14)({typed:A}),I=A(_,{"boolean, boolean":function(G,k){return k<G},"number, number":function(G,k){return k<G&&!(0,f.nearlyEqual)(G,k,E.epsilon)},"BigNumber, BigNumber":function(G,k){return G.gt(k)&&!(0,g.nearlyEqual)(G,k,E.epsilon)},"Fraction, Fraction":function(G,k){return G.compare(k)===1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(G,k){if(!G.equalBase(k))throw new Error("Cannot compare units with different base");return I(G.value,k.value)},"SparseMatrix, SparseMatrix":function(G,k){return j(G,k,I)},"SparseMatrix, DenseMatrix":function(G,k){return O(k,G,I,!0)},"DenseMatrix, SparseMatrix":function(G,k){return O(G,k,I,!1)},"DenseMatrix, DenseMatrix":function(G,k){return F(G,k,I)},"Array, Array":function(G,k){return I(N(G),N(k)).valueOf()},"Array, Matrix":function(G,k){return I(N(G),k)},"Matrix, Array":function(G,k){return I(G,N(k))},"SparseMatrix, any":function(G,k){return M(G,k,I,!1)},"DenseMatrix, any":function(G,k){return B(G,k,I,!1)},"any, SparseMatrix":function(G,k){return M(k,G,I,!0)},"any, DenseMatrix":function(G,k){return B(k,G,I,!0)},"Array, any":function(G,k){return B(N(G),k,I,!1).valueOf()},"any, Array":function(G,k){return B(N(k),G,I,!0).valueOf()}});return I});r.createLarger=p;var b=(0,m.factory)(_,["typed","config"],function(y){var A=y.typed,E=y.config;return A(_,{"number, number":function(N,T){return T<N&&!(0,f.nearlyEqual)(N,T,E.epsilon)}})});r.createLargerNumber=b},{"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/nearlyEqual":926,"../../utils/factory":931,"../../utils/number":937}],802:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLargerEqNumber=r.createLargerEq=void 0;var g=n("../../utils/bignumber/nearlyEqual"),f=n("../../utils/number"),m=n("../../utils/factory"),l=n("../../type/matrix/utils/algorithm03"),x=n("../../type/matrix/utils/algorithm07"),S=n("../../type/matrix/utils/algorithm12"),D=n("../../type/matrix/utils/algorithm14"),h=n("../../type/matrix/utils/algorithm13"),_="largerEq",o=["typed","config","matrix","DenseMatrix"],p=(0,m.factory)(_,o,function(y){var A=y.typed,E=y.config,N=y.matrix,T=y.DenseMatrix,O=(0,l.createAlgorithm03)({typed:A}),j=(0,x.createAlgorithm07)({typed:A,DenseMatrix:T}),M=(0,S.createAlgorithm12)({typed:A,DenseMatrix:T}),F=(0,h.createAlgorithm13)({typed:A}),B=(0,D.createAlgorithm14)({typed:A}),I=A(_,{"boolean, boolean":function(G,k){return k<=G},"number, number":function(G,k){return k<=G||(0,f.nearlyEqual)(G,k,E.epsilon)},"BigNumber, BigNumber":function(G,k){return G.gte(k)||(0,g.nearlyEqual)(G,k,E.epsilon)},"Fraction, Fraction":function(G,k){return G.compare(k)!==-1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(G,k){if(!G.equalBase(k))throw new Error("Cannot compare units with different base");return I(G.value,k.value)},"SparseMatrix, SparseMatrix":function(G,k){return j(G,k,I)},"SparseMatrix, DenseMatrix":function(G,k){return O(k,G,I,!0)},"DenseMatrix, SparseMatrix":function(G,k){return O(G,k,I,!1)},"DenseMatrix, DenseMatrix":function(G,k){return F(G,k,I)},"Array, Array":function(G,k){return I(N(G),N(k)).valueOf()},"Array, Matrix":function(G,k){return I(N(G),k)},"Matrix, Array":function(G,k){return I(G,N(k))},"SparseMatrix, any":function(G,k){return M(G,k,I,!1)},"DenseMatrix, any":function(G,k){return B(G,k,I,!1)},"any, SparseMatrix":function(G,k){return M(k,G,I,!0)},"any, DenseMatrix":function(G,k){return B(k,G,I,!0)},"Array, any":function(G,k){return B(N(G),k,I,!1).valueOf()},"any, Array":function(G,k){return B(N(k),G,I,!0).valueOf()}});return I});r.createLargerEq=p;var b=(0,m.factory)(_,["typed","config"],function(y){var A=y.typed,E=y.config;return A(_,{"number, number":function(N,T){return T<=N||(0,f.nearlyEqual)(N,T,E.epsilon)}})});r.createLargerEqNumber=b},{"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/nearlyEqual":926,"../../utils/factory":931,"../../utils/number":937}],803:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSmallerNumber=r.createSmaller=void 0;var g=n("../../utils/bignumber/nearlyEqual"),f=n("../../utils/number"),m=n("../../utils/factory"),l=n("../../type/matrix/utils/algorithm03"),x=n("../../type/matrix/utils/algorithm07"),S=n("../../type/matrix/utils/algorithm12"),D=n("../../type/matrix/utils/algorithm14"),h=n("../../type/matrix/utils/algorithm13"),_="smaller",o=["typed","config","matrix","DenseMatrix"],p=(0,m.factory)(_,o,function(y){var A=y.typed,E=y.config,N=y.matrix,T=y.DenseMatrix,O=(0,l.createAlgorithm03)({typed:A}),j=(0,x.createAlgorithm07)({typed:A,DenseMatrix:T}),M=(0,S.createAlgorithm12)({typed:A,DenseMatrix:T}),F=(0,h.createAlgorithm13)({typed:A}),B=(0,D.createAlgorithm14)({typed:A}),I=A(_,{"boolean, boolean":function(G,k){return G<k},"number, number":function(G,k){return G<k&&!(0,f.nearlyEqual)(G,k,E.epsilon)},"BigNumber, BigNumber":function(G,k){return G.lt(k)&&!(0,g.nearlyEqual)(G,k,E.epsilon)},"Fraction, Fraction":function(G,k){return G.compare(k)===-1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(G,k){if(!G.equalBase(k))throw new Error("Cannot compare units with different base");return I(G.value,k.value)},"SparseMatrix, SparseMatrix":function(G,k){return j(G,k,I)},"SparseMatrix, DenseMatrix":function(G,k){return O(k,G,I,!0)},"DenseMatrix, SparseMatrix":function(G,k){return O(G,k,I,!1)},"DenseMatrix, DenseMatrix":function(G,k){return F(G,k,I)},"Array, Array":function(G,k){return I(N(G),N(k)).valueOf()},"Array, Matrix":function(G,k){return I(N(G),k)},"Matrix, Array":function(G,k){return I(G,N(k))},"SparseMatrix, any":function(G,k){return M(G,k,I,!1)},"DenseMatrix, any":function(G,k){return B(G,k,I,!1)},"any, SparseMatrix":function(G,k){return M(k,G,I,!0)},"any, DenseMatrix":function(G,k){return B(k,G,I,!0)},"Array, any":function(G,k){return B(N(G),k,I,!1).valueOf()},"any, Array":function(G,k){return B(N(k),G,I,!0).valueOf()}});return I});r.createSmaller=p;var b=(0,m.factory)(_,["typed","config"],function(y){var A=y.typed,E=y.config;return A(_,{"number, number":function(N,T){return N<T&&!(0,f.nearlyEqual)(N,T,E.epsilon)}})});r.createSmallerNumber=b},{"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/nearlyEqual":926,"../../utils/factory":931,"../../utils/number":937}],804:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSmallerEqNumber=r.createSmallerEq=void 0;var g=n("../../utils/bignumber/nearlyEqual"),f=n("../../utils/number"),m=n("../../utils/factory"),l=n("../../type/matrix/utils/algorithm03"),x=n("../../type/matrix/utils/algorithm07"),S=n("../../type/matrix/utils/algorithm12"),D=n("../../type/matrix/utils/algorithm14"),h=n("../../type/matrix/utils/algorithm13"),_="smallerEq",o=["typed","config","matrix","DenseMatrix"],p=(0,m.factory)(_,o,function(y){var A=y.typed,E=y.config,N=y.matrix,T=y.DenseMatrix,O=(0,l.createAlgorithm03)({typed:A}),j=(0,x.createAlgorithm07)({typed:A,DenseMatrix:T}),M=(0,S.createAlgorithm12)({typed:A,DenseMatrix:T}),F=(0,h.createAlgorithm13)({typed:A}),B=(0,D.createAlgorithm14)({typed:A}),I=A(_,{"boolean, boolean":function(G,k){return G<=k},"number, number":function(G,k){return G<=k||(0,f.nearlyEqual)(G,k,E.epsilon)},"BigNumber, BigNumber":function(G,k){return G.lte(k)||(0,g.nearlyEqual)(G,k,E.epsilon)},"Fraction, Fraction":function(G,k){return G.compare(k)!==1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(G,k){if(!G.equalBase(k))throw new Error("Cannot compare units with different base");return I(G.value,k.value)},"SparseMatrix, SparseMatrix":function(G,k){return j(G,k,I)},"SparseMatrix, DenseMatrix":function(G,k){return O(k,G,I,!0)},"DenseMatrix, SparseMatrix":function(G,k){return O(G,k,I,!1)},"DenseMatrix, DenseMatrix":function(G,k){return F(G,k,I)},"Array, Array":function(G,k){return I(N(G),N(k)).valueOf()},"Array, Matrix":function(G,k){return I(N(G),k)},"Matrix, Array":function(G,k){return I(G,N(k))},"SparseMatrix, any":function(G,k){return M(G,k,I,!1)},"DenseMatrix, any":function(G,k){return B(G,k,I,!1)},"any, SparseMatrix":function(G,k){return M(k,G,I,!0)},"any, DenseMatrix":function(G,k){return B(k,G,I,!0)},"Array, any":function(G,k){return B(N(G),k,I,!1).valueOf()},"any, Array":function(G,k){return B(N(k),G,I,!0).valueOf()}});return I});r.createSmallerEq=p;var b=(0,m.factory)(_,["typed","config"],function(y){var A=y.typed,E=y.config;return A(_,{"number, number":function(N,T){return N<=T||(0,f.nearlyEqual)(N,T,E.epsilon)}})});r.createSmallerEqNumber=b},{"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/nearlyEqual":926,"../../utils/factory":931,"../../utils/number":937}],805:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUnequalNumber=r.createUnequal=void 0;var g=n("../../utils/factory"),f=n("../../type/matrix/utils/algorithm03"),m=n("../../type/matrix/utils/algorithm07"),l=n("../../type/matrix/utils/algorithm12"),x=n("../../type/matrix/utils/algorithm14"),S=n("../../type/matrix/utils/algorithm13"),D=["typed","config","equalScalar","matrix","DenseMatrix"],h=(0,g.factory)("unequal",D,function(o){var p=o.typed,b=(o.config,o.equalScalar),y=o.matrix,A=o.DenseMatrix,E=(0,f.createAlgorithm03)({typed:p}),N=(0,m.createAlgorithm07)({typed:p,DenseMatrix:A}),T=(0,l.createAlgorithm12)({typed:p,DenseMatrix:A}),O=(0,S.createAlgorithm13)({typed:p}),j=(0,x.createAlgorithm14)({typed:p}),M=p("unequal",{"any, any":function(B,I){return B===null?I!==null:I===null?B!==null:B===void 0?I!==void 0:I===void 0?B!==void 0:F(B,I)},"SparseMatrix, SparseMatrix":function(B,I){return N(B,I,F)},"SparseMatrix, DenseMatrix":function(B,I){return E(I,B,F,!0)},"DenseMatrix, SparseMatrix":function(B,I){return E(B,I,F,!1)},"DenseMatrix, DenseMatrix":function(B,I){return O(B,I,F)},"Array, Array":function(B,I){return M(y(B),y(I)).valueOf()},"Array, Matrix":function(B,I){return M(y(B),I)},"Matrix, Array":function(B,I){return M(B,y(I))},"SparseMatrix, any":function(B,I){return T(B,I,F,!1)},"DenseMatrix, any":function(B,I){return j(B,I,F,!1)},"any, SparseMatrix":function(B,I){return T(I,B,F,!0)},"any, DenseMatrix":function(B,I){return j(I,B,F,!0)},"Array, any":function(B,I){return j(y(B),I,F,!1).valueOf()},"any, Array":function(B,I){return j(y(I),B,F,!0).valueOf()}});function F(B,I){return!b(B,I)}return M});r.createUnequal=h;var _=(0,g.factory)("unequal",["typed","equalScalar"],function(o){var p=o.typed,b=o.equalScalar;return p("unequal",{"any, any":function(y,A){return y===null?A!==null:A===null?y!==null:y===void 0?A!==void 0:A===void 0?y!==void 0:!b(y,A)}})});r.createUnequalNumber=_},{"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],806:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetCartesian=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m=["typed","size","subset","compareNatural","Index","DenseMatrix"],l=(0,f.factory)("setCartesian",m,function(x){var S=x.typed,D=x.size,h=x.subset,_=x.compareNatural,o=x.Index,p=x.DenseMatrix;return S("setCartesian",{"Array | Matrix, Array | Matrix":function(b,y){var A=[];if(h(D(b),new o(0))!==0&&h(D(y),new o(0))!==0)for(var E=(0,g.flatten)(Array.isArray(b)?b:b.toArray()).sort(_),N=(0,g.flatten)(Array.isArray(y)?y:y.toArray()).sort(_),A=[],T=0;T<E.length;T++)for(var O=0;O<N.length;O++)A.push([E[T],N[O]]);return Array.isArray(b)&&Array.isArray(y)?A:new p(A)}})});r.createSetCartesian=l},{"../../utils/array":922,"../../utils/factory":931}],807:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetDifference=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m="setDifference",l=["typed","size","subset","compareNatural","Index","DenseMatrix"],x=(0,f.factory)(m,l,function(S){var D=S.typed,h=S.size,_=S.subset,o=S.compareNatural,p=S.Index,b=S.DenseMatrix;return D(m,{"Array | Matrix, Array | Matrix":function(y,A){if(_(h(y),new p(0))===0)O=[];else{if(_(h(A),new p(0))===0)return(0,g.flatten)(y.toArray());for(var E,N=(0,g.identify)((0,g.flatten)(Array.isArray(y)?y:y.toArray()).sort(o)),T=(0,g.identify)((0,g.flatten)(Array.isArray(A)?A:A.toArray()).sort(o)),O=[],j=0;j<N.length;j++){E=!1;for(var M=0;M<T.length;M++)if(o(N[j].value,T[M].value)===0&&N[j].identifier===T[M].identifier){E=!0;break}E||O.push(N[j])}}return Array.isArray(y)&&Array.isArray(A)?(0,g.generalize)(O):new b((0,g.generalize)(O))}})});r.createSetDifference=x},{"../../utils/array":922,"../../utils/factory":931}],808:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetDistinct=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m=["typed","size","subset","compareNatural","Index","DenseMatrix"],l=(0,f.factory)("setDistinct",m,function(x){var S=x.typed,D=x.size,h=x.subset,_=x.compareNatural,o=x.Index,p=x.DenseMatrix;return S("setDistinct",{"Array | Matrix":function(b){if(h(D(b),new o(0))===0)y=[];else{var y,A=(0,g.flatten)(Array.isArray(b)?b:b.toArray()).sort(_);(y=[]).push(A[0]);for(var E=1;E<A.length;E++)_(A[E],A[E-1])!==0&&y.push(A[E])}return Array.isArray(b)?y:new p(y)}})});r.createSetDistinct=l},{"../../utils/array":922,"../../utils/factory":931}],809:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetIntersect=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m=["typed","size","subset","compareNatural","Index","DenseMatrix"],l=(0,f.factory)("setIntersect",m,function(x){var S=x.typed,D=x.size,h=x.subset,_=x.compareNatural,o=x.Index,p=x.DenseMatrix;return S("setIntersect",{"Array | Matrix, Array | Matrix":function(b,y){if(h(D(b),new o(0))===0||h(D(y),new o(0))===0)N=[];else for(var A=(0,g.identify)((0,g.flatten)(Array.isArray(b)?b:b.toArray()).sort(_)),E=(0,g.identify)((0,g.flatten)(Array.isArray(y)?y:y.toArray()).sort(_)),N=[],T=0;T<A.length;T++)for(var O=0;O<E.length;O++)if(_(A[T].value,E[O].value)===0&&A[T].identifier===E[O].identifier){N.push(A[T]);break}return Array.isArray(b)&&Array.isArray(y)?(0,g.generalize)(N):new p((0,g.generalize)(N))}})});r.createSetIntersect=l},{"../../utils/array":922,"../../utils/factory":931}],810:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetIsSubset=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m=["typed","size","subset","compareNatural","Index"],l=(0,f.factory)("setIsSubset",m,function(x){var S=x.typed,D=x.size,h=x.subset,_=x.compareNatural,o=x.Index;return S("setIsSubset",{"Array | Matrix, Array | Matrix":function(p,b){if(h(D(p),new o(0))===0)return!0;if(h(D(b),new o(0))===0)return!1;for(var y,A=(0,g.identify)((0,g.flatten)(Array.isArray(p)?p:p.toArray()).sort(_)),E=(0,g.identify)((0,g.flatten)(Array.isArray(b)?b:b.toArray()).sort(_)),N=0;N<A.length;N++){y=!1;for(var T=0;T<E.length;T++)if(_(A[N].value,E[T].value)===0&&A[N].identifier===E[T].identifier){y=!0;break}if(y===!1)return!1}return!0}})});r.createSetIsSubset=l},{"../../utils/array":922,"../../utils/factory":931}],811:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetMultiplicity=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m="setMultiplicity",l=["typed","size","subset","compareNatural","Index"],x=(0,f.factory)(m,l,function(S){var D=S.typed,h=S.size,_=S.subset,o=S.compareNatural,p=S.Index;return D(m,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(b,y){if(_(h(y),new p(0))===0)return 0;for(var A=(0,g.flatten)(Array.isArray(y)?y:y.toArray()),E=0,N=0;N<A.length;N++)o(A[N],b)===0&&E++;return E}})});r.createSetMultiplicity=x},{"../../utils/array":922,"../../utils/factory":931}],812:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetPowerset=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m=["typed","size","subset","compareNatural","Index"],l=(0,f.factory)("setPowerset",m,function(x){var S=x.typed,D=x.size,h=x.subset,_=x.compareNatural,o=x.Index;return S("setPowerset",{"Array | Matrix":function(p){if(h(D(p),new o(0))===0)return[];for(var b=(0,g.flatten)(Array.isArray(p)?p:p.toArray()).sort(_),y=[],A=0;A.toString(2).length<=b.length;)y.push(function(E,N){for(var T=[],O=0;O<N.length;O++)N[O]==="1"&&T.push(E[O]);return T}(b,A.toString(2).split("").reverse())),A++;return function(E){for(var N=[],T=E.length-1;0<T;T--)for(var O=0;O<T;O++)E[O].length>E[O+1].length&&(N=E[O],E[O]=E[O+1],E[O+1]=N);return E}(y)}})});r.createSetPowerset=l},{"../../utils/array":922,"../../utils/factory":931}],813:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetSize=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m=["typed","compareNatural"],l=(0,f.factory)("setSize",m,function(x){var S=x.typed,D=x.compareNatural;return S("setSize",{"Array | Matrix":function(h){return Array.isArray(h)?(0,g.flatten)(h).length:(0,g.flatten)(h.toArray()).length},"Array | Matrix, boolean":function(h,_){if(_===!1||h.length===0)return Array.isArray(h)?(0,g.flatten)(h).length:(0,g.flatten)(h.toArray()).length;for(var o=(0,g.flatten)(Array.isArray(h)?h:h.toArray()).sort(D),p=1,b=1;b<o.length;b++)D(o[b],o[b-1])!==0&&p++;return p}})});r.createSetSize=l},{"../../utils/array":922,"../../utils/factory":931}],814:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetSymDifference=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m="setSymDifference",l=["typed","size","concat","subset","setDifference","Index"],x=(0,f.factory)(m,l,function(S){var D=S.typed,h=S.size,_=S.concat,o=S.subset,p=S.setDifference,b=S.Index;return D(m,{"Array | Matrix, Array | Matrix":function(y,A){if(o(h(y),new b(0))===0)return(0,g.flatten)(A);if(o(h(A),new b(0))===0)return(0,g.flatten)(y);var E=(0,g.flatten)(y),N=(0,g.flatten)(A);return _(p(E,N),p(N,E))}})});r.createSetSymDifference=x},{"../../utils/array":922,"../../utils/factory":931}],815:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetUnion=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],l=(0,f.factory)("setUnion",m,function(x){var S=x.typed,D=x.size,h=x.concat,_=x.subset,o=x.setIntersect,p=x.setSymDifference,b=x.Index;return S("setUnion",{"Array | Matrix, Array | Matrix":function(y,A){if(_(D(y),new b(0))===0)return(0,g.flatten)(A);if(_(D(A),new b(0))===0)return(0,g.flatten)(y);var E=(0,g.flatten)(y),N=(0,g.flatten)(A);return h(p(E,N),o(E,N))}})});r.createSetUnion=l},{"../../utils/array":922,"../../utils/factory":931}],816:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createErf=void 0;var g=n("../../utils/collection"),f=n("../../utils/number"),m=["typed"],l=(0,n("../../utils/factory").factory)("erf",m,function(o){var p=(0,o.typed)("name",{number:function(b){var y=Math.abs(b);return _<=y?(0,f.sign)(b):y<=x?(0,f.sign)(b)*function(A){var E,N=A*A,T=D[0][4]*N,O=N;for(E=0;E<3;E+=1)T=(T+D[0][E])*N,O=(O+h[0][E])*N;return A*(T+D[0][3])/(O+h[0][3])}(y):y<=4?(0,f.sign)(b)*(1-function(A){var E,N=D[1][8]*A,T=A;for(E=0;E<7;E+=1)N=(N+D[1][E])*A,T=(T+h[1][E])*A;var O=(N+D[1][7])/(T+h[1][7]),j=parseInt(16*A)/16,M=(A-j)*(A+j);return Math.exp(-j*j)*Math.exp(-M)*O}(y)):(0,f.sign)(b)*(1-function(A){var E,N=1/(A*A),T=D[2][5]*N,O=N;for(E=0;E<4;E+=1)T=(T+D[2][E])*N,O=(O+h[2][E])*N;var j=N*(T+D[2][4])/(O+h[2][4]);j=(S-j)/A,N=parseInt(16*A)/16;var M=(A-N)*(A+N);return Math.exp(-N*N)*Math.exp(-M)*j}(y))},"Array | Matrix":function(b){return(0,g.deepMap)(b,p)}});return p});r.createErf=l;var x=.46875,S=.5641895835477563,D=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],h=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],_=Math.pow(2,53)},{"../../utils/collection":927,"../../utils/factory":931,"../../utils/number":937}],817:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMad=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m=n("./utils/improveErrorMessage"),l=["typed","abs","map","median","subtract"],x=(0,f.factory)("mad",l,function(S){var D=S.typed,h=S.abs,_=S.map,o=S.median,p=S.subtract;return D("mad",{"Array | Matrix":b,"...":b});function b(y){if((y=(0,g.flatten)(y.valueOf())).length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var A=o(y);return o(_(y,function(E){return h(p(E,A))}))}catch(E){throw E instanceof TypeError&&E.message.indexOf("median")!==-1?new TypeError(E.message.replace("median","mad")):(0,m.improveErrorMessage)(E,"mad")}}});r.createMad=x},{"../../utils/array":922,"../../utils/factory":931,"./utils/improveErrorMessage":827}],818:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMax=void 0;var g=n("../../utils/collection"),f=n("../../utils/factory"),m=n("./utils/improveErrorMessage"),l=["typed","larger"],x=(0,f.factory)("max",l,function(S){var D=S.typed,h=S.larger;return D("max",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(p,b){return(0,g.reduce)(p,b.valueOf(),_)},"...":function(p){if((0,g.containsCollections)(p))throw new TypeError("Scalar values expected in function max");return o(p)}});function _(p,b){try{return h(p,b)?p:b}catch(y){throw(0,m.improveErrorMessage)(y,"max",b)}}function o(p){var b;if((0,g.deepForEach)(p,function(y){try{isNaN(y)&&typeof y=="number"?b=NaN:b!==void 0&&!h(y,b)||(b=y)}catch(A){throw(0,m.improveErrorMessage)(A,"max",y)}}),b===void 0)throw new Error("Cannot calculate max of an empty array");return b}});r.createMax=x},{"../../utils/collection":927,"../../utils/factory":931,"./utils/improveErrorMessage":827}],819:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMean=void 0;var g=n("../../utils/collection"),f=n("../../utils/array"),m=n("../../utils/factory"),l=n("./utils/improveErrorMessage"),x=["typed","add","divide"],S=(0,m.factory)("mean",x,function(D){var h=D.typed,_=D.add,o=D.divide;return h("mean",{"Array | Matrix":p,"Array | Matrix, number | BigNumber":function(b,y){try{var A=(0,g.reduce)(b,y,_),E=Array.isArray(b)?(0,f.arraySize)(b):b.size();return o(A,E[y])}catch(N){throw(0,l.improveErrorMessage)(N,"mean")}},"...":function(b){if((0,g.containsCollections)(b))throw new TypeError("Scalar values expected in function mean");return p(b)}});function p(b){var y,A=0;if((0,g.deepForEach)(b,function(E){try{y=y===void 0?E:_(y,E),A++}catch(N){throw(0,l.improveErrorMessage)(N,"mean",E)}}),A===0)throw new Error("Cannot calculate the mean of an empty array");return o(y,A)}});r.createMean=S},{"../../utils/array":922,"../../utils/collection":927,"../../utils/factory":931,"./utils/improveErrorMessage":827}],820:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMedian=void 0;var g=n("../../utils/collection"),f=n("../../utils/array"),m=n("../../utils/factory"),l=n("./utils/improveErrorMessage"),x=["typed","add","divide","compare","partitionSelect"],S=(0,m.factory)("median",x,function(D){var h=D.typed,_=D.add,o=D.divide,p=D.compare,b=D.partitionSelect,y=h("median",{"Array | Matrix":A,"Array | Matrix, number | BigNumber":function(){throw new Error("median(A, dim) is not yet supported")},"...":function(T){if((0,g.containsCollections)(T))throw new TypeError("Scalar values expected in function median");return A(T)}});function A(T){try{var O=(T=(0,f.flatten)(T.valueOf())).length;if(O===0)throw new Error("Cannot calculate median of an empty array");if(O%2==0){for(var j=O/2-1,M=b(T,1+j),F=T[j],B=0;B<j;++B)0<p(T[B],F)&&(F=T[B]);return N(F,M)}var I=b(T,(O-1)/2);return E(I)}catch(G){throw(0,l.improveErrorMessage)(G,"median")}}var E=h({"number | BigNumber | Complex | Unit":function(T){return T}}),N=h({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(T,O){return o(_(T,O),2)}});return y});r.createMedian=S},{"../../utils/array":922,"../../utils/collection":927,"../../utils/factory":931,"./utils/improveErrorMessage":827}],821:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMin=void 0;var g=n("../../utils/collection"),f=n("../../utils/factory"),m=n("./utils/improveErrorMessage"),l=["typed","smaller"],x=(0,f.factory)("min",l,function(S){var D=S.typed,h=S.smaller;return D("min",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(p,b){return(0,g.reduce)(p,b.valueOf(),_)},"...":function(p){if((0,g.containsCollections)(p))throw new TypeError("Scalar values expected in function min");return o(p)}});function _(p,b){try{return h(p,b)?p:b}catch(y){throw(0,m.improveErrorMessage)(y,"min",b)}}function o(p){var b;if((0,g.deepForEach)(p,function(y){try{isNaN(y)&&typeof y=="number"?b=NaN:b!==void 0&&!h(y,b)||(b=y)}catch(A){throw(0,m.improveErrorMessage)(A,"min",y)}}),b===void 0)throw new Error("Cannot calculate min of an empty array");return b}});r.createMin=x},{"../../utils/collection":927,"../../utils/factory":931,"./utils/improveErrorMessage":827}],822:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMode=void 0;var g=n("../../utils/array"),f=n("../../utils/factory"),m=["typed","isNaN","isNumeric"],l=(0,f.factory)("mode",m,function(x){var S=x.typed,D=x.isNaN,h=x.isNumeric;return S("mode",{"Array | Matrix":_,"...":_});function _(o){if((o=(0,g.flatten)(o.valueOf())).length===0)throw new Error("Cannot calculate mode of an empty array");for(var p={},b=[],y=0,A=0;A<o.length;A++){var E=o[A];if(h(E)&&D(E))throw new Error("Cannot calculate mode of an array containing NaN values");E in p||(p[E]=0),p[E]++,p[E]===y?b.push(E):p[E]>y&&(y=p[E],b=[E])}return b}});r.createMode=l},{"../../utils/array":922,"../../utils/factory":931}],823:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createProd=void 0;var g=n("../../utils/collection"),f=n("../../utils/factory"),m=n("./utils/improveErrorMessage"),l=["typed","multiply"],x=(0,f.factory)("prod",l,function(S){var D=S.typed,h=S.multiply;return D("prod",{"Array | Matrix":_,"Array | Matrix, number | BigNumber":function(){throw new Error("prod(A, dim) is not yet supported")},"...":_});function _(o){var p;if((0,g.deepForEach)(o,function(b){try{p=p===void 0?b:h(p,b)}catch(y){throw(0,m.improveErrorMessage)(y,"prod",b)}}),p===void 0)throw new Error("Cannot calculate prod of an empty array");return p}});r.createProd=x},{"../../utils/collection":927,"../../utils/factory":931,"./utils/improveErrorMessage":827}],824:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createQuantileSeq=void 0;var g=n("../../utils/is"),f=n("../../utils/number"),m=n("../../utils/array"),l=["typed","add","multiply","partitionSelect","compare"],x=(0,n("../../utils/factory").factory)("quantileSeq",l,function(S){var D=S.typed,h=S.add,_=S.multiply,o=S.partitionSelect,p=S.compare;function b(A,E,N){var T=(0,m.flatten)(A),O=T.length;if(O===0)throw new Error("Cannot calculate quantile of an empty sequence");if((0,g.isNumber)(E)){var j=E*(O-1),M=j%1;if(M==0){var F=N?T[j]:o(T,j);return y(F),F}var B,I,G=Math.floor(j);if(N)B=T[G],I=T[G+1];else{I=o(T,G+1),B=T[G];for(var k=0;k<G;++k)0<p(T[k],B)&&(B=T[k])}return y(B),y(I),h(_(B,1-M),_(I,M))}var V=E.times(O-1);if(V.isInteger()){V=V.toNumber();var R=N?T[V]:o(T,V);return y(R),R}var U,L,H=V.floor(),X=V.minus(H),Z=H.toNumber();if(N)U=T[Z],L=T[Z+1];else{L=o(T,Z+1),U=T[Z];for(var J=0;J<Z;++J)0<p(T[J],U)&&(U=T[J])}y(U),y(L);var K=new X.constructor(1);return h(_(U,K.minus(X)),_(L,X))}var y=D({"number | BigNumber | Unit":function(A){return A}});return function(A,E,N){var T,O;if(arguments.length<2||3<arguments.length)throw new SyntaxError("Function quantileSeq requires two or three parameters");if((0,g.isCollection)(A)){if(typeof(N=N||!1)!="boolean")throw new TypeError("Unexpected type of argument in function quantileSeq");if(T=A.valueOf(),(0,g.isNumber)(E)){if(E<0)throw new Error("N/prob must be non-negative");if(E<=1)return b(T,E,N);if(1<E){if(!(0,f.isInteger)(E))throw new Error("N must be a positive integer");for(var j=E+1,M=new Array(E),F=0;F<E;)M[F]=b(T,++F/j,N);return M}}if((0,g.isBigNumber)(E)){var B=E.constructor;if(E.isNegative())throw new Error("N/prob must be non-negative");if(O=new B(1),E.lte(O))return new B(b(T,E,N));if(E.gt(O)){if(!E.isInteger())throw new Error("N must be a positive integer");var I=E.toNumber();if(4294967295<I)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var G=new B(I+1);M=new Array(I);for(var k=0;k<I;)M[k]=new B(b(T,new B(++k).div(G),N));return M}}if(Array.isArray(E)){M=new Array(E.length);for(var V=0;V<M.length;++V){var R=E[V];if((0,g.isNumber)(R)){if(R<0||1<R)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!(0,g.isBigNumber)(R))throw new TypeError("Unexpected type of argument in function quantileSeq");if(O=new R.constructor(1),R.isNegative()||R.gt(O))throw new Error("Probability must be between 0 and 1, inclusive")}M[V]=b(T,R,N)}return M}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}});r.createQuantileSeq=x},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937}],825:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createStd=void 0;var g=n("../../utils/factory"),f=["typed","sqrt","variance"],m=(0,g.factory)("std",f,function(l){var x=l.typed,S=l.sqrt,D=l.variance;return x("std",{"Array | Matrix":h,"Array | Matrix, string":h,"Array | Matrix, number | BigNumber":h,"Array | Matrix, number | BigNumber, string":h,"...":function(_){return h(_)}});function h(_,o){if(_.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return S(D.apply(null,arguments))}catch(p){throw p instanceof TypeError&&p.message.indexOf(" variance")!==-1?new TypeError(p.message.replace(" variance"," std")):p}}});r.createStd=m},{"../../utils/factory":931}],826:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSum=void 0;var g=n("../../utils/collection"),f=n("../../utils/factory"),m=n("./utils/improveErrorMessage"),l=n("../../utils/noop"),x=["typed","config","add","?bignumber","?fraction"],S=(0,f.factory)("sum",x,function(D){var h=D.typed,_=D.config,o=D.add,p=D.bignumber,b=D.fraction;return h("sum",{"Array | Matrix":y,"Array | Matrix, number | BigNumber":function(A,E){try{return(0,g.reduce)(A,E,o)}catch(N){throw(0,m.improveErrorMessage)(N,"sum")}},"...":function(A){if((0,g.containsCollections)(A))throw new TypeError("Scalar values expected in function sum");return y(A)}});function y(A){var E;if((0,g.deepForEach)(A,function(N){try{E=E===void 0?N:o(E,N)}catch(T){throw(0,m.improveErrorMessage)(T,"sum",N)}}),E===void 0)switch(_.number){case"number":return 0;case"BigNumber":return p?p(0):(0,l.noBignumber)();case"Fraction":return b?b(0):(0,l.noFraction)();default:return 0}return E}});r.createSum=S},{"../../utils/collection":927,"../../utils/factory":931,"../../utils/noop":936,"./utils/improveErrorMessage":827}],827:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.improveErrorMessage=function(f,m,l){var x;return String(f).indexOf("Unexpected type")===-1?String(f).indexOf("complex numbers")===-1?f:(x=2<arguments.length?" (type: "+(0,g.typeOf)(l)+", value: "+JSON.stringify(l)+")":"",new TypeError("Cannot calculate "+m+", no ordering relation is defined for complex numbers"+x)):(x=2<arguments.length?" (type: "+(0,g.typeOf)(l)+", value: "+JSON.stringify(l)+")":" (type: "+f.data.actual+")",new TypeError("Cannot calculate "+m+", unexpected type of argument"+x))};var g=n("../../../utils/is")},{"../../../utils/is":933}],828:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeprecatedVar=r.createVariance=void 0;var g=n("../../utils/collection"),f=n("../../utils/is"),m=n("../../utils/factory"),l=n("./utils/improveErrorMessage"),x=n("../../utils/log"),S=["typed","add","subtract","multiply","divide","apply","isNaN"],D=(0,m.factory)("variance",S,function(_){var o=_.typed,p=_.add,b=_.subtract,y=_.multiply,A=_.divide,E=_.apply,N=_.isNaN;return o("variance",{"Array | Matrix":function(j){return T(j,"unbiased")},"Array | Matrix, string":T,"Array | Matrix, number | BigNumber":function(j,M){return O(j,M,"unbiased")},"Array | Matrix, number | BigNumber, string":O,"...":function(j){return T(j,"unbiased")}});function T(j,M){var I=0,F=0;if(j.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if((0,g.deepForEach)(j,function(k){try{I=p(I,k),F++}catch(V){throw(0,l.improveErrorMessage)(V,"variance",k)}}),F===0)throw new Error("Cannot calculate variance of an empty array");var B=A(I,F),I=0;if((0,g.deepForEach)(j,function(k){var V=b(k,B);I=p(I,y(V,V))}),N(I))return I;switch(M){case"uncorrected":return A(I,F);case"biased":return A(I,F+1);case"unbiased":var G=(0,f.isBigNumber)(I)?I.mul(0):0;return F===1?G:A(I,F-1);default:throw new Error('Unknown normalization "'+M+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function O(j,M,F){try{if(j.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return E(j,M,function(B){return T(B,F)})}catch(B){throw(0,l.improveErrorMessage)(B,"variance")}}});r.createVariance=D;var h=(0,m.factory)("var",["variance"],function(_){var o=_.variance;return function(){(0,x.warnOnce)('Function "var" has been renamed to "variance" in v6.0.0, please use the new function instead.');for(var p=arguments.length,b=new Array(p),y=0;y<p;y++)b[y]=arguments[y];return o.apply(o,b)}});r.createDeprecatedVar=h},{"../../utils/collection":927,"../../utils/factory":931,"../../utils/is":933,"../../utils/log":935,"./utils/improveErrorMessage":827}],829:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFormat=void 0;var g=n("../../utils/string"),f=n("../../utils/factory"),m=["typed"],l=(0,f.factory)("format",m,function(x){return(0,x.typed)("format",{any:g.format,"any, Object | function | number":g.format})});r.createFormat=l},{"../../utils/factory":931,"../../utils/string":941}],830:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createPrint=void 0;var g=n("../../utils/string"),f=n("../../utils/is"),m=n("../../utils/factory"),l=["typed"],x=(0,m.factory)("print",l,function(D){return(0,D.typed)("print",{"string, Object | Array":S,"string, Object | Array, number | Object":S})});function S(D,h,_){return D.replace(/\$([\w.]+)/g,function(o,p){for(var b=p.split("."),A=h[b.shift()];b.length&&A!==void 0;)var y=b.shift(),A=y?A[y]:A+".";return A!==void 0?(0,f.isString)(A)?A:(0,g.format)(A,_):o})}r.createPrint=x},{"../../utils/factory":931,"../../utils/is":933,"../../utils/string":941}],831:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAcos=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=["typed","config","Complex"],l=(0,g.factory)("acos",m,function(x){var S=x.typed,D=x.config,h=x.Complex,_=S("acos",{number:function(o){return-1<=o&&o<=1||D.predictable?Math.acos(o):new h(o,0).acos()},Complex:function(o){return o.acos()},BigNumber:function(o){return o.acos()},"Array | Matrix":function(o){return(0,f.deepMap)(o,_)}});return _});r.createAcos=l},{"../../utils/collection":927,"../../utils/factory":931}],832:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAcosh=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","config","Complex"],x=(0,g.factory)("acosh",l,function(S){var D=S.typed,h=S.config,_=S.Complex,o=D("acosh",{number:function(p){return 1<=p||h.predictable?(0,m.acoshNumber)(p):p<=-1?new _(Math.log(Math.sqrt(p*p-1)-p),Math.PI):new _(p,0).acosh()},Complex:function(p){return p.acosh()},BigNumber:function(p){return p.acosh()},"Array | Matrix":function(p){return(0,f.deepMap)(p,o)}});return o});r.createAcosh=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],833:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAcot=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","BigNumber"],x=(0,g.factory)("acot",l,function(S){var D=S.typed,h=S.BigNumber,_=D("acot",{number:m.acotNumber,Complex:function(o){return o.acot()},BigNumber:function(o){return new h(1).div(o).atan()},"Array | Matrix":function(o){return(0,f.deepMap)(o,_)}});return _});r.createAcot=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],834:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAcoth=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","config","Complex","BigNumber"],x=(0,g.factory)("acoth",l,function(S){var D=S.typed,h=S.config,_=S.Complex,o=S.BigNumber,p=D("acoth",{number:function(b){return 1<=b||b<=-1||h.predictable?(0,m.acothNumber)(b):new _(b,0).acoth()},Complex:function(b){return b.acoth()},BigNumber:function(b){return new o(1).div(b).atanh()},"Array | Matrix":function(b){return(0,f.deepMap)(b,p)}});return p});r.createAcoth=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],835:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAcsc=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","config","Complex","BigNumber"],x=(0,g.factory)("acsc",l,function(S){var D=S.typed,h=S.config,_=S.Complex,o=S.BigNumber,p=D("acsc",{number:function(b){return b<=-1||1<=b||h.predictable?(0,m.acscNumber)(b):new _(b,0).acsc()},Complex:function(b){return b.acsc()},BigNumber:function(b){return new o(1).div(b).asin()},"Array | Matrix":function(b){return(0,f.deepMap)(b,p)}});return p});r.createAcsc=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],836:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAcsch=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","BigNumber"],x=(0,g.factory)("acsch",l,function(S){var D=S.typed,h=S.BigNumber,_=D("acsch",{number:m.acschNumber,Complex:function(o){return o.acsch()},BigNumber:function(o){return new h(1).div(o).asinh()},"Array | Matrix":function(o){return(0,f.deepMap)(o,_)}});return _});r.createAcsch=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],837:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAsec=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","config","Complex","BigNumber"],x=(0,g.factory)("asec",l,function(S){var D=S.typed,h=S.config,_=S.Complex,o=S.BigNumber,p=D("asec",{number:function(b){return b<=-1||1<=b||h.predictable?(0,m.asecNumber)(b):new _(b,0).asec()},Complex:function(b){return b.asec()},BigNumber:function(b){return new o(1).div(b).acos()},"Array | Matrix":function(b){return(0,f.deepMap)(b,p)}});return p});r.createAsec=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],838:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAsech=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","config","Complex","BigNumber"],x=(0,g.factory)("asech",l,function(S){var D=S.typed,h=S.config,_=S.Complex,o=S.BigNumber,p=D("asech",{number:function(b){if(b<=1&&-1<=b||h.predictable){var y=1/b;if(0<y||h.predictable)return(0,m.asechNumber)(b);var A=Math.sqrt(y*y-1);return new _(Math.log(A-y),Math.PI)}return new _(b,0).asech()},Complex:function(b){return b.asech()},BigNumber:function(b){return new o(1).div(b).acosh()},"Array | Matrix":function(b){return(0,f.deepMap)(b,p)}});return p});r.createAsech=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],839:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAsin=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=["typed","config","Complex"],l=(0,g.factory)("asin",m,function(x){var S=x.typed,D=x.config,h=x.Complex,_=S("asin",{number:function(o){return-1<=o&&o<=1||D.predictable?Math.asin(o):new h(o,0).asin()},Complex:function(o){return o.asin()},BigNumber:function(o){return o.asin()},"Array | Matrix":function(o){return(0,f.deepMap)(o,_,!0)}});return _});r.createAsin=l},{"../../utils/collection":927,"../../utils/factory":931}],840:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAsinh=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed"],x=(0,g.factory)("asinh",l,function(S){var D=(0,S.typed)("asinh",{number:m.asinhNumber,Complex:function(h){return h.asinh()},BigNumber:function(h){return h.asinh()},"Array | Matrix":function(h){return(0,f.deepMap)(h,D,!0)}});return D});r.createAsinh=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],841:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAtan=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=["typed"],l=(0,g.factory)("atan",m,function(x){var S=(0,x.typed)("atan",{number:function(D){return Math.atan(D)},Complex:function(D){return D.atan()},BigNumber:function(D){return D.atan()},"Array | Matrix":function(D){return(0,f.deepMap)(D,S,!0)}});return S});r.createAtan=l},{"../../utils/collection":927,"../../utils/factory":931}],842:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAtan2=void 0;var g=n("../../utils/factory"),f=n("../../type/matrix/utils/algorithm02"),m=n("../../type/matrix/utils/algorithm03"),l=n("../../type/matrix/utils/algorithm09"),x=n("../../type/matrix/utils/algorithm11"),S=n("../../type/matrix/utils/algorithm12"),D=n("../../type/matrix/utils/algorithm13"),h=n("../../type/matrix/utils/algorithm14"),_=["typed","matrix","equalScalar","BigNumber","DenseMatrix"],o=(0,g.factory)("atan2",_,function(p){var b=p.typed,y=p.matrix,A=p.equalScalar,E=p.BigNumber,N=p.DenseMatrix,T=(0,f.createAlgorithm02)({typed:b,equalScalar:A}),O=(0,m.createAlgorithm03)({typed:b}),j=(0,l.createAlgorithm09)({typed:b,equalScalar:A}),M=(0,x.createAlgorithm11)({typed:b,equalScalar:A}),F=(0,S.createAlgorithm12)({typed:b,DenseMatrix:N}),B=(0,D.createAlgorithm13)({typed:b}),I=(0,h.createAlgorithm14)({typed:b}),G=b("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(k,V){return E.atan2(k,V)},"SparseMatrix, SparseMatrix":function(k,V){return j(k,V,G,!1)},"SparseMatrix, DenseMatrix":function(k,V){return T(V,k,G,!0)},"DenseMatrix, SparseMatrix":function(k,V){return O(k,V,G,!1)},"DenseMatrix, DenseMatrix":function(k,V){return B(k,V,G)},"Array, Array":function(k,V){return G(y(k),y(V)).valueOf()},"Array, Matrix":function(k,V){return G(y(k),V)},"Matrix, Array":function(k,V){return G(k,y(V))},"SparseMatrix, number | BigNumber":function(k,V){return M(k,V,G,!1)},"DenseMatrix, number | BigNumber":function(k,V){return I(k,V,G,!1)},"number | BigNumber, SparseMatrix":function(k,V){return F(V,k,G,!0)},"number | BigNumber, DenseMatrix":function(k,V){return I(V,k,G,!0)},"Array, number | BigNumber":function(k,V){return I(y(k),V,G,!1).valueOf()},"number | BigNumber, Array":function(k,V){return I(y(V),k,G,!0).valueOf()}});return G});r.createAtan2=o},{"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm09":908,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],843:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAtanh=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","config","Complex"],x=(0,g.factory)("atanh",l,function(S){var D=S.typed,h=S.config,_=S.Complex,o=D("atanh",{number:function(p){return p<=1&&-1<=p||h.predictable?(0,m.atanhNumber)(p):new _(p,0).atanh()},Complex:function(p){return p.atanh()},BigNumber:function(p){return p.atanh()},"Array | Matrix":function(p){return(0,f.deepMap)(p,o,!0)}});return o});r.createAtanh=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],844:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCos=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=["typed"],l=(0,g.factory)("cos",m,function(x){var S=(0,x.typed)("cos",{number:Math.cos,Complex:function(D){return D.cos()},BigNumber:function(D){return D.cos()},Unit:function(D){if(!D.hasBase(D.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return S(D.value)},"Array | Matrix":function(D){return(0,f.deepMap)(D,S)}});return S});r.createCos=l},{"../../utils/collection":927,"../../utils/factory":931}],845:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCosh=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../utils/number"),l=["typed"],x=(0,g.factory)("cosh",l,function(S){var D=(0,S.typed)("cosh",{number:m.cosh,Complex:function(h){return h.cosh()},BigNumber:function(h){return h.cosh()},Unit:function(h){if(!h.hasBase(h.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return D(h.value)},"Array | Matrix":function(h){return(0,f.deepMap)(h,D)}});return D});r.createCosh=x},{"../../utils/collection":927,"../../utils/factory":931,"../../utils/number":937}],846:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCot=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","BigNumber"],x=(0,g.factory)("cot",l,function(S){var D=S.typed,h=S.BigNumber,_=D("cot",{number:m.cotNumber,Complex:function(o){return o.cot()},BigNumber:function(o){return new h(1).div(o.tan())},Unit:function(o){if(!o.hasBase(o.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return _(o.value)},"Array | Matrix":function(o){return(0,f.deepMap)(o,_)}});return _});r.createCot=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],847:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCoth=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","BigNumber"],x=(0,g.factory)("coth",l,function(S){var D=S.typed,h=S.BigNumber,_=D("coth",{number:m.cothNumber,Complex:function(o){return o.coth()},BigNumber:function(o){return new h(1).div(o.tanh())},Unit:function(o){if(!o.hasBase(o.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return _(o.value)},"Array | Matrix":function(o){return(0,f.deepMap)(o,_)}});return _});r.createCoth=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],848:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCsc=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","BigNumber"],x=(0,g.factory)("csc",l,function(S){var D=S.typed,h=S.BigNumber,_=D("csc",{number:m.cscNumber,Complex:function(o){return o.csc()},BigNumber:function(o){return new h(1).div(o.sin())},Unit:function(o){if(!o.hasBase(o.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return _(o.value)},"Array | Matrix":function(o){return(0,f.deepMap)(o,_)}});return _});r.createCsc=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],849:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCsch=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","BigNumber"],x=(0,g.factory)("csch",l,function(S){var D=S.typed,h=S.BigNumber,_=D("csch",{number:m.cschNumber,Complex:function(o){return o.csch()},BigNumber:function(o){return new h(1).div(o.sinh())},Unit:function(o){if(!o.hasBase(o.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return _(o.value)},"Array | Matrix":function(o){return(0,f.deepMap)(o,_)}});return _});r.createCsch=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],850:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSec=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","BigNumber"],x=(0,g.factory)("sec",l,function(S){var D=S.typed,h=S.BigNumber,_=D("sec",{number:m.secNumber,Complex:function(o){return o.sec()},BigNumber:function(o){return new h(1).div(o.cos())},Unit:function(o){if(!o.hasBase(o.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return _(o.value)},"Array | Matrix":function(o){return(0,f.deepMap)(o,_)}});return _});r.createSec=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],851:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSech=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed","BigNumber"],x=(0,g.factory)("sech",l,function(S){var D=S.typed,h=S.BigNumber,_=D("sech",{number:m.sechNumber,Complex:function(o){return o.sech()},BigNumber:function(o){return new h(1).div(o.cosh())},Unit:function(o){if(!o.hasBase(o.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return _(o.value)},"Array | Matrix":function(o){return(0,f.deepMap)(o,_)}});return _});r.createSech=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],852:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSin=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=["typed"],l=(0,g.factory)("sin",m,function(x){var S=(0,x.typed)("sin",{number:Math.sin,Complex:function(D){return D.sin()},BigNumber:function(D){return D.sin()},Unit:function(D){if(!D.hasBase(D.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return S(D.value)},"Array | Matrix":function(D){return(0,f.deepMap)(D,S,!0)}});return S});r.createSin=l},{"../../utils/collection":927,"../../utils/factory":931}],853:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSinh=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../plain/number"),l=["typed"],x=(0,g.factory)("sinh",l,function(S){var D=(0,S.typed)("sinh",{number:m.sinhNumber,Complex:function(h){return h.sinh()},BigNumber:function(h){return h.sinh()},Unit:function(h){if(!h.hasBase(h.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return D(h.value)},"Array | Matrix":function(h){return(0,f.deepMap)(h,D,!0)}});return D});r.createSinh=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],854:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createTan=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=["typed"],l=(0,g.factory)("tan",m,function(x){var S=(0,x.typed)("tan",{number:Math.tan,Complex:function(D){return D.tan()},BigNumber:function(D){return D.tan()},Unit:function(D){if(!D.hasBase(D.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return S(D.value)},"Array | Matrix":function(D){return(0,f.deepMap)(D,S,!0)}});return S});r.createTan=l},{"../../utils/collection":927,"../../utils/factory":931}],855:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createTanh=void 0;var g=n("../../utils/factory"),f=n("../../utils/collection"),m=n("../../utils/number"),l=["typed"],x=(0,g.factory)("tanh",l,function(S){var D=(0,S.typed)("tanh",{number:m.tanh,Complex:function(h){return h.tanh()},BigNumber:function(h){return h.tanh()},Unit:function(h){if(!h.hasBase(h.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return D(h.value)},"Array | Matrix":function(h){return(0,f.deepMap)(h,D,!0)}});return D});r.createTanh=x},{"../../utils/collection":927,"../../utils/factory":931,"../../utils/number":937}],856:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createTo=void 0;var g=n("../../utils/factory"),f=n("../../type/matrix/utils/algorithm13"),m=n("../../type/matrix/utils/algorithm14"),l=["typed","matrix"],x=(0,g.factory)("to",l,function(S){var D=S.typed,h=S.matrix,_=(0,f.createAlgorithm13)({typed:D}),o=(0,m.createAlgorithm14)({typed:D}),p=D("to",{"Unit, Unit | string":function(b,y){return b.to(y)},"Matrix, Matrix":function(b,y){return _(b,y,p)},"Array, Array":function(b,y){return p(h(b),h(y)).valueOf()},"Array, Matrix":function(b,y){return p(h(b),y)},"Matrix, Array":function(b,y){return p(b,h(y))},"Matrix, any":function(b,y){return o(b,y,p,!1)},"any, Matrix":function(b,y){return o(y,b,p,!0)},"Array, any":function(b,y){return o(h(b),y,p,!1).valueOf()},"any, Array":function(b,y){return o(h(y),b,p,!0).valueOf()}});return p});r.createTo=x},{"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],857:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createClone=void 0;var g=n("../../utils/object"),f=n("../../utils/factory"),m=["typed"],l=(0,f.factory)("clone",m,function(x){return(0,x.typed)("clone",{any:g.clone})});r.createClone=l},{"../../utils/factory":931,"../../utils/object":938}],858:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHasNumericValue=void 0;var g=n("../../utils/factory"),f="hasNumericValue",m=["typed","isNumeric"],l=(0,g.factory)(f,m,function(x){var S=x.typed,D=x.isNumeric;return S(f,{string:function(h){return 0<h.trim().length&&!isNaN(Number(h))},any:function(h){return D(h)}})});r.createHasNumericValue=l},{"../../utils/factory":931}],859:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIsInteger=void 0;var g=n("../../utils/collection"),f=n("../../utils/number"),m=n("../../utils/factory"),l=["typed"],x=(0,m.factory)("isInteger",l,function(S){var D=(0,S.typed)("isInteger",{number:f.isInteger,BigNumber:function(h){return h.isInt()},Fraction:function(h){return h.d===1&&isFinite(h.n)},"Array | Matrix":function(h){return(0,g.deepMap)(h,D)}});return D});r.createIsInteger=x},{"../../utils/collection":927,"../../utils/factory":931,"../../utils/number":937}],860:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIsNaN=void 0;var g=n("../../utils/collection"),f=n("../../utils/factory"),m=n("../../plain/number"),l=["typed"],x=(0,f.factory)("isNaN",l,function(S){return(0,S.typed)("isNaN",{number:m.isNaNNumber,BigNumber:function(D){return D.isNaN()},Fraction:function(){return!1},Complex:function(D){return D.isNaN()},Unit:function(D){return Number.isNaN(D.value)},"Array | Matrix":function(D){return(0,g.deepMap)(D,Number.isNaN)}})});r.createIsNaN=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],861:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIsNegative=void 0;var g=n("../../utils/collection"),f=n("../../utils/factory"),m=n("../../plain/number"),l=["typed"],x=(0,f.factory)("isNegative",l,function(S){var D=(0,S.typed)("isNegative",{number:m.isNegativeNumber,BigNumber:function(h){return h.isNeg()&&!h.isZero()&&!h.isNaN()},Fraction:function(h){return h.s<0},Unit:function(h){return D(h.value)},"Array | Matrix":function(h){return(0,g.deepMap)(h,D)}});return D});r.createIsNegative=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],862:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIsNumeric=void 0;var g=n("../../utils/collection"),f=n("../../utils/factory"),m=["typed"],l=(0,f.factory)("isNumeric",m,function(x){var S=(0,x.typed)("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(D){return(0,g.deepMap)(D,S)}});return S});r.createIsNumeric=l},{"../../utils/collection":927,"../../utils/factory":931}],863:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIsPositive=void 0;var g=n("../../utils/collection"),f=n("../../utils/factory"),m=n("../../plain/number"),l=["typed"],x=(0,f.factory)("isPositive",l,function(S){var D=(0,S.typed)("isPositive",{number:m.isPositiveNumber,BigNumber:function(h){return!h.isNeg()&&!h.isZero()&&!h.isNaN()},Fraction:function(h){return 0<h.s&&0<h.n},Unit:function(h){return D(h.value)},"Array | Matrix":function(h){return(0,g.deepMap)(h,D)}});return D});r.createIsPositive=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],864:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIsPrime=void 0;var g=n("../../utils/collection"),f=n("../../utils/factory"),m=["typed"],l=(0,f.factory)("isPrime",m,function(x){var S=(0,x.typed)("isPrime",{number:function(D){if(0*D!=0)return!1;if(D<=3)return 1<D;if(D%2==0||D%3==0)return!1;for(var h=5;h*h<=D;h+=6)if(D%h==0||D%(h+2)==0)return!1;return!0},BigNumber:function(D){if(0*D.toNumber()!=0)return!1;if(D.lte(3))return D.gt(1);if(D.mod(2).eq(0)||D.mod(3).eq(0))return!1;for(var h=5;D.gte(h*h);h+=6)if(D.mod(h).eq(0)||D.mod(h+2).eq(0))return!1;return!0},"Array | Matrix":function(D){return(0,g.deepMap)(D,S)}});return S});r.createIsPrime=l},{"../../utils/collection":927,"../../utils/factory":931}],865:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIsZero=void 0;var g=n("../../utils/collection"),f=n("../../utils/factory"),m=n("../../plain/number"),l=["typed"],x=(0,f.factory)("isZero",l,function(S){var D=(0,S.typed)("isZero",{number:m.isZeroNumber,BigNumber:function(h){return h.isZero()},Complex:function(h){return h.re===0&&h.im===0},Fraction:function(h){return h.d===1&&h.n===0},Unit:function(h){return D(h.value)},"Array | Matrix":function(h){return(0,g.deepMap)(h,D)}});return D});r.createIsZero=x},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],866:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNumeric=void 0;var g=n("../../utils/is"),f=n("../../utils/factory"),m=n("../../utils/noop"),l=["number","?bignumber","?fraction"],x=(0,f.factory)("numeric",l,function(S){var D=S.number,h=S.bignumber,_=S.fraction,o={string:!0,number:!0,BigNumber:!0,Fraction:!0},p={number:function(b){return D(b)},BigNumber:h?function(b){return h(b)}:m.noBignumber,Fraction:_?function(b){return _(b)}:m.noFraction};return function(b,y){var A=(0,g.typeOf)(b);if(!(A in o))throw new TypeError("Cannot convert "+b+' of type "'+A+'"; valid input types are '+Object.keys(o).join(", "));if(!(y in p))throw new TypeError("Cannot convert "+b+' to type "'+y+'"; valid output types are '+Object.keys(p).join(", "));return y===A?b:p[y](b)}});r.createNumeric=x},{"../../utils/factory":931,"../../utils/is":933,"../../utils/noop":936}],867:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeprecatedTypeof=r.createTypeOf=void 0;var g=n("../../utils/factory"),f=n("../../utils/is"),m=n("../../utils/log"),l=["typed"],x=(0,g.factory)("typeOf",l,function(D){return(0,D.typed)("typeOf",{any:f.typeOf})});r.createTypeOf=x;var S=(0,g.factory)("typeof",[],function(){return function(){(0,m.warnOnce)('Function "typeof" has been renamed to "typeOf" in v6.0.0, please use the new function instead.');for(var D=arguments.length,h=new Array(D),_=0;_<D;_++)h[_]=arguments[_];return f.typeOf.apply(f.typeOf,h)}});r.createDeprecatedTypeof=S},{"../../utils/factory":931,"../../utils/is":933,"../../utils/log":935}],868:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var g=[],f=(r.createReplacer=void 0,n("../utils/factory").factory)("replacer",g,function(){return function(m,l){return typeof l!="number"||isFinite(l)&&!isNaN(l)?l:{mathjs:"number",value:String(l)}}});r.createReplacer=f},{"../utils/factory":931}],869:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var g=["classes"],f=(r.createReviver=void 0,n("../utils/factory").factory)("reviver",g,function(m){var l=m.classes;return function(x,S){var D=l[S&&S.mathjs];return D&&typeof D.fromJSON=="function"?D.fromJSON(S):S}});r.createReviver=f},{"../utils/factory":931}],870:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.absNumber=l,r.addNumber=x,r.subtractNumber=S,r.multiplyNumber=D,r.divideNumber=h,r.unaryMinusNumber=_,r.unaryPlusNumber=o,r.cbrtNumber=p,r.ceilNumber=b,r.cubeNumber=y,r.expNumber=A,r.expm1Number=E,r.fixNumber=N,r.floorNumber=T,r.gcdNumber=O,r.lcmNumber=j,r.logNumber=M,r.log10Number=F,r.log2Number=B,r.log1pNumber=I,r.modNumber=G,r.nthRootNumber=k,r.signNumber=V,r.sqrtNumber=R,r.squareNumber=U,r.xgcdNumber=L,r.powNumber=H,r.roundNumber=X,r.normNumber=Z;var g=n("../../utils/number"),f="number",m="number, number";function l(J){return Math.abs(J)}function x(J,K){return J+K}function S(J,K){return J-K}function D(J,K){return J*K}function h(J,K){return J/K}function _(J){return-J}function o(J){return J}function p(J){return(0,g.cbrt)(J)}function b(J){return Math.ceil(J)}function y(J){return J*J*J}function A(J){return Math.exp(J)}function E(J){return(0,g.expm1)(J)}function N(J){return 0<J?Math.floor(J):Math.ceil(J)}function T(J){return Math.floor(J)}function O(J,K){if(!(0,g.isInteger)(J)||!(0,g.isInteger)(K))throw new Error("Parameters in function gcd must be integer numbers");for(var $;K!==0;)$=J%K,J=K,K=$;return J<0?-J:J}function j(J,K){if(!(0,g.isInteger)(J)||!(0,g.isInteger)(K))throw new Error("Parameters in function lcm must be integer numbers");if(J===0||K===0)return 0;for(var $,W=J*K;K!==0;)K=J%($=K),J=$;return Math.abs(W/J)}function M(J){return Math.log(J)}function F(J){return(0,g.log10)(J)}function B(J){return(0,g.log2)(J)}function I(J){return(0,g.log1p)(J)}function G(J,K){if(0<K)return J-K*Math.floor(J/K);if(K===0)return J;throw new Error("Cannot calculate mod for a negative divisor")}function k(J,K){var $=K<0;if($&&(K=-K),K===0)throw new Error("Root must be non-zero");if(J<0&&Math.abs(K)%2!=1)throw new Error("Root must be odd when a is negative.");if(J===0)return $?1/0:0;if(!isFinite(J))return $?0:J;var W=Math.pow(Math.abs(J),1/K),W=J<0?-W:W;return $?1/W:W}function V(J){return(0,g.sign)(J)}function R(J){return Math.sqrt(J)}function U(J){return J*J}function L(J,K){var $,W,Y,te=0,ce=1,oe=1,ue=0;if(!(0,g.isInteger)(J)||!(0,g.isInteger)(K))throw new Error("Parameters in function xgcd must be integer numbers");for(;K;)Y=J-(W=Math.floor(J/K))*K,te=ce-W*($=te),ce=$,oe=ue-W*($=oe),ue=$,J=K,K=Y;return J<0?[-J,-ce,-ue]:[J,J?ce:0,ue]}function H(J,K){return J*J<1&&K===1/0||1<J*J&&K===-1/0?0:Math.pow(J,K)}function X(J){var K=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;return parseFloat((0,g.toFixed)(J,K))}function Z(J){return Math.abs(J)}l.signature=f,h.signature=D.signature=S.signature=x.signature=m,T.signature=N.signature=E.signature=A.signature=y.signature=b.signature=p.signature=o.signature=_.signature=f,j.signature=O.signature=m,I.signature=B.signature=F.signature=M.signature=f,k.signature=G.signature=m,U.signature=R.signature=V.signature=f,X.signature=H.signature=L.signature=m,Z.signature=f},{"../../utils/number":937}],871:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitAndNumber=m,r.bitNotNumber=l,r.bitOrNumber=x,r.bitXorNumber=S,r.leftShiftNumber=D,r.rightArithShiftNumber=h,r.rightLogShiftNumber=_;var g=n("../../utils/number"),f="number, number";function m(o,p){if(!(0,g.isInteger)(o)||!(0,g.isInteger)(p))throw new Error("Integers expected in function bitAnd");return o&p}function l(o){if(!(0,g.isInteger)(o))throw new Error("Integer expected in function bitNot");return~o}function x(o,p){if(!(0,g.isInteger)(o)||!(0,g.isInteger)(p))throw new Error("Integers expected in function bitOr");return o|p}function S(o,p){if(!(0,g.isInteger)(o)||!(0,g.isInteger)(p))throw new Error("Integers expected in function bitXor");return o^p}function D(o,p){if(!(0,g.isInteger)(o)||!(0,g.isInteger)(p))throw new Error("Integers expected in function leftShift");return o<<p}function h(o,p){if(!(0,g.isInteger)(o)||!(0,g.isInteger)(p))throw new Error("Integers expected in function rightArithShift");return o>>p}function _(o,p){if(!(0,g.isInteger)(o)||!(0,g.isInteger)(p))throw new Error("Integers expected in function rightLogShift");return o>>>p}m.signature=f,l.signature="number",_.signature=h.signature=D.signature=S.signature=x.signature=f},{"../../utils/number":937}],872:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.combinationsNumber=m;var g=n("../../utils/number"),f=n("../../utils/product");function m(l,x){if(!(0,g.isInteger)(l)||l<0)throw new TypeError("Positive integer value expected in function combinations");if(!(0,g.isInteger)(x)||x<0)throw new TypeError("Positive integer value expected in function combinations");if(l<x)throw new TypeError("k must be less than or equal to n");var S=l-x;return x<S?(0,f.product)(1+S,l)/(0,f.product)(1,x):(0,f.product)(x+1,l)/(0,f.product)(1,S)}m.signature="number, number"},{"../../utils/number":937,"../../utils/product":940}],873:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.phi=r.e=r.tau=r.pi=void 0;var g=Math.PI;r.pi=g;var f=2*Math.PI;r.tau=f;var m=Math.E;r.e=m,r.phi=1.618033988749895},{}],874:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var g=n("./arithmetic");Object.keys(g).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return g[o]}})});var f=n("./bitwise");Object.keys(f).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return f[o]}})});var m=n("./combinations");Object.keys(m).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return m[o]}})});var l=n("./constants");Object.keys(l).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return l[o]}})});var x=n("./logical");Object.keys(x).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return x[o]}})});var S=n("./relational");Object.keys(S).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return S[o]}})});var D=n("./probability");Object.keys(D).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return D[o]}})});var h=n("./trigonometry");Object.keys(h).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return h[o]}})});var _=n("./utils");Object.keys(_).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return _[o]}})})},{"./arithmetic":870,"./bitwise":871,"./combinations":872,"./constants":873,"./logical":875,"./probability":876,"./relational":877,"./trigonometry":878,"./utils":879}],875:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.notNumber=f,r.orNumber=m,r.xorNumber=l,r.andNumber=x;var g="number, number";function f(S){return!S}function m(S,D){return!(!S&&!D)}function l(S,D){return!!S!=!!D}function x(S,D){return!(!S||!D)}f.signature="number",x.signature=l.signature=m.signature=g},{}],876:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.gammaNumber=m,r.gammaP=r.gammaG=void 0;var g=n("../../utils/number"),f=n("../../utils/product");function m(S){var D;if((0,g.isInteger)(S))return S<=0?isFinite(S)?1/0:NaN:171<S?1/0:(0,f.product)(1,S-1);if(S<.5)return Math.PI/(Math.sin(Math.PI*S)*m(1-S));if(171.35<=S)return 1/0;if(85<S){var h=S*S,_=h*S,o=_*S,p=o*S;return Math.sqrt(2*Math.PI/S)*Math.pow(S/Math.E,S)*(1+1/(12*S)+1/(288*h)-139/(51840*_)-571/(2488320*o)+163879/(209018880*p)+5246819/(75246796800*p*S))}--S,D=x[0];for(var b=1;b<x.length;++b)D+=x[b]/(S+b);var y=S+l+.5;return Math.sqrt(2*Math.PI)*Math.pow(y,S+.5)*Math.exp(-y)*D}m.signature="number";var l=4.7421875;r.gammaG=l;var x=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];r.gammaP=x},{"../../utils/number":937,"../../utils/product":940}],877:[function(n,a,r){},{}],878:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acosNumber=m,r.acoshNumber=l,r.acotNumber=x,r.acothNumber=S,r.acscNumber=D,r.acschNumber=h,r.asecNumber=_,r.asechNumber=o,r.asinNumber=p,r.asinhNumber=b,r.atanNumber=y,r.atan2Number=A,r.atanhNumber=E,r.cosNumber=N,r.coshNumber=T,r.cotNumber=O,r.cothNumber=j,r.cscNumber=M,r.cschNumber=F,r.secNumber=B,r.sechNumber=I,r.sinNumber=G,r.sinhNumber=k,r.tanNumber=V,r.tanhNumber=R;var g=n("../../utils/number"),f="number";function m(U){return Math.acos(U)}function l(U){return(0,g.acosh)(U)}function x(U){return Math.atan(1/U)}function S(U){return isFinite(U)?(Math.log((U+1)/U)+Math.log(U/(U-1)))/2:0}function D(U){return Math.asin(1/U)}function h(U){var L=1/U;return Math.log(L+Math.sqrt(L*L+1))}function _(U){return Math.acos(1/U)}function o(U){var L=1/U,H=Math.sqrt(L*L-1);return Math.log(H+L)}function p(U){return Math.asin(U)}function b(U){return(0,g.asinh)(U)}function y(U){return Math.atan(U)}function A(U,L){return Math.atan2(U,L)}function E(U){return(0,g.atanh)(U)}function N(U){return Math.cos(U)}function T(U){return(0,g.cosh)(U)}function O(U){return 1/Math.tan(U)}function j(U){var L=Math.exp(2*U);return(L+1)/(L-1)}function M(U){return 1/Math.sin(U)}function F(U){return U===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(U)-Math.exp(-U)))*(0,g.sign)(U)}function B(U){return 1/Math.cos(U)}function I(U){return 2/(Math.exp(U)+Math.exp(-U))}function G(U){return Math.sin(U)}function k(U){return(0,g.sinh)(U)}function V(U){return Math.tan(U)}function R(U){return(0,g.tanh)(U)}y.signature=b.signature=p.signature=o.signature=_.signature=h.signature=D.signature=S.signature=x.signature=l.signature=m.signature=f,A.signature="number, number",R.signature=V.signature=k.signature=G.signature=I.signature=B.signature=F.signature=M.signature=j.signature=O.signature=T.signature=N.signature=E.signature=f},{"../../utils/number":937}],879:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isIntegerNumber=m,r.isNegativeNumber=l,r.isPositiveNumber=x,r.isZeroNumber=S,r.isNaNNumber=D;var g=n("../../utils/number"),f="number";function m(h){return(0,g.isInteger)(h)}function l(h){return h<0}function x(h){return 0<h}function S(h){return h===0}function D(h){return Number.isNaN(h)}D.signature=S.signature=x.signature=l.signature=m.signature=f},{"../../utils/number":937}],880:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBigNumberClass=void 0;var g,f=(g=n("decimal.js"))&&g.__esModule?g:{default:g},m=["?on","config"],l=(0,n("../../utils/factory").factory)("BigNumber",m,function(x){var S=x.on,D=x.config,h=f.default.clone({precision:D.precision});return h.prototype.type="BigNumber",h.prototype.isBigNumber=!0,h.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},h.fromJSON=function(_){return new h(_.value)},S&&S("config",function(_,o){_.precision!==o.precision&&h.config({precision:_.precision})}),h},{isClass:!0});r.createBigNumberClass=l},{"../../utils/factory":931,"decimal.js":55}],881:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBignumber=void 0;var g=n("../../../utils/factory"),f=n("../../../utils/collection"),m=["typed","BigNumber"],l=(0,g.factory)("bignumber",m,function(x){var S=x.typed,D=x.BigNumber,h=S("bignumber",{"":function(){return new D(0)},number:function(_){return new D(_+"")},string:function(_){return new D(_)},BigNumber:function(_){return _},Fraction:function(_){return new D(_.n).div(_.d).times(_.s)},null:function(){return new D(0)},"Array | Matrix":function(_){return(0,f.deepMap)(_,h)}});return h});r.createBignumber=l},{"../../../utils/collection":927,"../../../utils/factory":931}],882:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBoolean=void 0;var g=n("../utils/factory"),f=n("../utils/collection"),m=["typed"],l=(0,g.factory)("boolean",m,function(x){var S=(0,x.typed)("boolean",{"":function(){return!1},boolean:function(D){return D},number:function(D){return!!D},null:function(){return!1},BigNumber:function(D){return!D.isZero()},string:function(D){var h=D.toLowerCase();if(h==="true")return!0;if(h==="false")return!1;var _=Number(D);if(D!==""&&!isNaN(_))return!!_;throw new Error('Cannot convert "'+D+'" to a boolean')},"Array | Matrix":function(D){return(0,f.deepMap)(D,S)}});return S});r.createBoolean=l},{"../utils/collection":927,"../utils/factory":931}],883:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createChainClass=void 0;var g=n("../../utils/is"),f=n("../../utils/string"),m=n("../../utils/object"),l=["?on","math"],x=(0,n("../../utils/factory").factory)("Chain",l,function(S){var D=S.on,h=S.math;function _(y){if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator");(0,g.isChain)(y)?this.value=y.value:this.value=y}function o(y,A){(0,m.lazy)(_.prototype,y,function(){var E=A();if(typeof E=="function")return p(E)})}function p(y){return function(){for(var A=[this.value],E=0;E<arguments.length;E++)A[E+1]=arguments[E];return new _(y.apply(y,A))}}_.prototype.type="Chain",_.prototype.isChain=!0,_.prototype.done=function(){return this.value},_.prototype.valueOf=function(){return this.value},_.prototype.toString=function(){return(0,f.format)(this.value)},_.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},_.fromJSON=function(y){return new _(y.value)},_.createProxy=function(y,A){if(typeof y=="string")N=y,typeof(T=A)=="function"&&(_.prototype[N]=p(T));else for(var E in y)(function(O){(0,m.hasOwnProperty)(y,O)&&b[O]===void 0&&o(O,function(){return y[O]})})(E);var N,T};var b={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return _.createProxy(h),D&&D("import",function(y,A,E){E||o(y,A)}),_},{isClass:!0});r.createChainClass=x},{"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938,"../../utils/string":941}],884:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createChain=void 0;var g=n("../../../utils/factory"),f=["typed","Chain"],m=(0,g.factory)("chain",f,function(l){var x=l.typed,S=l.Chain;return x("chain",{"":function(){return new S},any:function(D){return new S(D)}})});r.createChain=m},{"../../../utils/factory":931}],885:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createComplexClass=void 0;var g,f=(g=n("complex.js"))&&g.__esModule?g:{default:g},m=n("../../utils/number"),l=n("../../utils/is");function x(h){return(x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}var S=[],D=(0,n("../../utils/factory").factory)("Complex",S,function(){return f.default.prototype.type="Complex",f.default.prototype.isComplex=!0,f.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},f.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},f.default.prototype.format=function(h){var _,o=this.im,p=this.re,b=(0,m.format)(this.re,h),y=(0,m.format)(this.im,h),A=(0,l.isNumber)(h)?h:h?h.precision:null;return A!==null&&(_=Math.pow(10,-A),Math.abs(p/o)<_&&(p=0),Math.abs(o/p)<_&&(o=0)),o===0?b:p===0?o===1?"i":o===-1?"-i":y+"i":o<0?o===-1?b+" - i":b+" - "+y.substring(1)+"i":o===1?b+" + i":b+" + "+y+"i"},f.default.fromPolar=function(h){switch(arguments.length){case 1:var _=h;if(x(_)==="object")return(0,f.default)(_);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var o=h,p=arguments[1];if((0,l.isNumber)(o)){if((0,l.isUnit)(p)&&p.hasBase("ANGLE")&&(p=p.toNumber("rad")),(0,l.isNumber)(p))return new f.default({r:o,phi:p});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},f.default.prototype.valueOf=f.default.prototype.toString,f.default.fromJSON=function(h){return new f.default(h)},f.default.compare=function(h,_){return h.re>_.re?1:h.re<_.re?-1:h.im>_.im?1:h.im<_.im?-1:0},f.default},{isClass:!0});r.createComplexClass=D},{"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937,"complex.js":54}],886:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createComplex=void 0;var g=n("../../../utils/factory"),f=n("../../../utils/collection"),m=["typed","Complex"],l=(0,g.factory)("complex",m,function(x){var S=x.typed,D=x.Complex,h=S("complex",{"":function(){return D.ZERO},number:function(_){return new D(_,0)},"number, number":function(_,o){return new D(_,o)},"BigNumber, BigNumber":function(_,o){return new D(_.toNumber(),o.toNumber())},Fraction:function(_){return new D(_.valueOf(),0)},Complex:function(_){return _.clone()},string:function(_){return D(_)},null:function(){return D(0)},Object:function(_){if("re"in _&&"im"in _)return new D(_.re,_.im);if("r"in _&&"phi"in _||"abs"in _&&"arg"in _)return new D(_);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(_){return(0,f.deepMap)(_,h)}});return h});r.createComplex=l},{"../../../utils/collection":927,"../../../utils/factory":931}],887:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFractionClass=void 0;var g,f=(g=n("fraction.js"))&&g.__esModule?g:{default:g},m=[],l=(0,n("../../utils/factory").factory)("Fraction",m,function(){return f.default.prototype.type="Fraction",f.default.prototype.isFraction=!0,f.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},f.default.fromJSON=function(x){return new f.default(x)},f.default},{isClass:!0});r.createFractionClass=l},{"../../utils/factory":931,"fraction.js":57}],888:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFraction=void 0;var g=n("../../../utils/factory"),f=n("../../../utils/collection"),m=["typed","Fraction"],l=(0,g.factory)("fraction",m,function(x){var S=x.typed,D=x.Fraction,h=S("fraction",{number:function(_){if(!isFinite(_)||isNaN(_))throw new Error(_+" cannot be represented as a fraction");return new D(_)},string:function(_){return new D(_)},"number, number":function(_,o){return new D(_,o)},null:function(){return new D(0)},BigNumber:function(_){return new D(_.toString())},Fraction:function(_){return _},Object:function(_){return new D(_)},"Array | Matrix":function(_){return(0,f.deepMap)(_,h)}});return h});r.createFraction=l},{"../../../utils/collection":927,"../../../utils/factory":931}],889:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDenseMatrixClass=void 0;var g=n("../../utils/is"),f=n("../../utils/array"),m=n("../../utils/string"),l=n("../../utils/number"),x=n("../../utils/object"),S=n("../../error/DimensionError"),D=["Matrix"],h=(0,n("../../utils/factory").factory)("DenseMatrix",D,function(_){var o=_.Matrix;function p(A,E){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(E&&!(0,g.isString)(E))throw new Error("Invalid datatype: "+E);if((0,g.isMatrix)(A))A.type==="DenseMatrix"?(this._data=(0,x.clone)(A._data),this._size=(0,x.clone)(A._size)):(this._data=A.toArray(),this._size=A.size()),this._datatype=E||A._datatype;else if(A&&(0,g.isArray)(A.data)&&(0,g.isArray)(A.size))this._data=A.data,this._size=A.size,(0,f.validate)(this._data,this._size),this._datatype=E||A.datatype;else if((0,g.isArray)(A))this._data=function N(T){for(var O=0,j=T.length;O<j;O++){var M=T[O];(0,g.isArray)(M)?T[O]=N(M):M&&M.isMatrix===!0&&(T[O]=N(M.valueOf()))}return T}(A),this._size=(0,f.arraySize)(this._data),(0,f.validate)(this._data,this._size),this._datatype=E;else{if(A)throw new TypeError("Unsupported type of data ("+(0,g.typeOf)(A)+")");this._data=[],this._size=[0],this._datatype=E}}function b(A,E,N){if(E.length!==0)return A._size=E.slice(0),A._data=(0,f.resize)(A._data,A._size,N),A;for(var T=A._data;(0,g.isArray)(T);)T=T[0];return T}function y(A,E,N){for(var T=A._size.slice(0),O=!1;T.length<E.length;)T.push(0),O=!0;for(var j=0,M=E.length;j<M;j++)E[j]>T[j]&&(T[j]=E[j],O=!0);O&&b(A,T,N)}return(p.prototype=new o).createDenseMatrix=function(A,E){return new p(A,E)},p.prototype.type="DenseMatrix",p.prototype.isDenseMatrix=!0,p.prototype.getDataType=function(){return(0,f.getArrayDataType)(this._data,g.typeOf)},p.prototype.storage=function(){return"dense"},p.prototype.datatype=function(){return this._datatype},p.prototype.create=function(A,E){return new p(A,E)},p.prototype.subset=function(A,E,N){switch(arguments.length){case 1:return function(T,O){if(!(0,g.isIndex)(O))throw new TypeError("Invalid index");{if(O.isScalar())return T.get(O.min());var j=O.size();if(j.length!==T._size.length)throw new S.DimensionError(j.length,T._size.length);for(var M=O.min(),F=O.max(),B=0,I=T._size.length;B<I;B++)(0,f.validateIndex)(M[B],T._size[B]),(0,f.validateIndex)(F[B],T._size[B]);return new p(function G(k,V,R,U){var L=U===R-1,H=V.dimension(U);return L?H.map(function(X){return(0,f.validateIndex)(X,k.length),k[X]}).valueOf():H.map(function(X){(0,f.validateIndex)(X,k.length);var Z=k[X];return G(Z,V,R,U+1)}).valueOf()}(T._data,O,j.length,0),T._datatype)}}(this,A);case 2:case 3:return function(T,O,j,M){if(!O||O.isIndex!==!0)throw new TypeError("Invalid index");var F,B=O.size(),I=O.isScalar();if((0,g.isMatrix)(j)?(F=j.size(),j=j.valueOf()):F=(0,f.arraySize)(j),I){if(F.length!==0)throw new TypeError("Scalar expected");T.set(O.min(),j,M)}else{if(B.length<T._size.length)throw new S.DimensionError(B.length,T._size.length,"<");if(F.length<B.length){for(var G=0,k=0;B[G]===1&&F[G]===1;)G++;for(;B[G]===1;)k++,G++;j=(0,f.unsqueeze)(j,B.length,k,F)}if(!(0,x.deepStrictEqual)(B,F))throw new S.DimensionError(B,F,">");var V=O.max().map(function(U){return U+1});y(T,V,M);var R=B.length;(function U(L,H,X,Z,J){var K=J===Z-1,$=H.dimension(J);K?$.forEach(function(W,Y){(0,f.validateIndex)(W),L[W]=X[Y[0]]}):$.forEach(function(W,Y){(0,f.validateIndex)(W),U(L[W],H,X[Y[0]],Z,J+1)})})(T._data,O,j,R,0)}return T}(this,A,E,N);default:throw new SyntaxError("Wrong number of arguments")}},p.prototype.get=function(A){if(!(0,g.isArray)(A))throw new TypeError("Array expected");if(A.length!==this._size.length)throw new S.DimensionError(A.length,this._size.length);for(var E=0;E<A.length;E++)(0,f.validateIndex)(A[E],this._size[E]);for(var N=this._data,T=0,O=A.length;T<O;T++){var j=A[T];(0,f.validateIndex)(j,N.length),N=N[j]}return N},p.prototype.set=function(A,E,N){if(!(0,g.isArray)(A))throw new TypeError("Array expected");if(A.length<this._size.length)throw new S.DimensionError(A.length,this._size.length,"<");var T;y(this,A.map(function(F){return F+1}),N);for(var O=this._data,j=0,M=A.length-1;j<M;j++)T=A[j],(0,f.validateIndex)(T,O.length),O=O[T];return T=A[A.length-1],(0,f.validateIndex)(T,O.length),O[T]=E,this},p.prototype.resize=function(A,E,N){if(!(0,g.isArray)(A))throw new TypeError("Array expected");return b(N?this.clone():this,A,E)},p.prototype.reshape=function(A,E){var N=E?this.clone():this;return N._data=(0,f.reshape)(N._data,A),N._size=A.slice(0),N},p.prototype.clone=function(){return new p({data:(0,x.clone)(this._data),size:(0,x.clone)(this._size),datatype:this._datatype})},p.prototype.size=function(){return this._size.slice(0)},p.prototype.map=function(A){var E=this,N=function T(O,j){return(0,g.isArray)(O)?O.map(function(M,F){return T(M,j.concat(F))}):A(O,j,E)}(this._data,[]);return new p(N,this._datatype!==void 0?(0,f.getArrayDataType)(N,g.typeOf):void 0)},p.prototype.forEach=function(A){var E=this;(function N(T,O){(0,g.isArray)(T)?T.forEach(function(j,M){N(j,O.concat(M))}):A(T,O,E)})(this._data,[])},p.prototype.toArray=function(){return(0,x.clone)(this._data)},p.prototype.valueOf=function(){return this._data},p.prototype.format=function(A){return(0,m.format)(this._data,A)},p.prototype.toString=function(){return(0,m.format)(this._data)},p.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},p.prototype.diagonal=function(A){if(A){if((0,g.isBigNumber)(A)&&(A=A.toNumber()),!(0,g.isNumber)(A)||!(0,l.isInteger)(A))throw new TypeError("The parameter k must be an integer number")}else A=0;for(var E=0<A?A:0,N=A<0?-A:0,T=this._size[0],O=this._size[1],j=Math.min(T-N,O-E),M=[],F=0;F<j;F++)M[F]=this._data[F+N][F+E];return new p({data:M,size:[j],datatype:this._datatype})},p.diagonal=function(A,E,N,T){if(!(0,g.isArray)(A))throw new TypeError("Array expected, size parameter");if(A.length!==2)throw new Error("Only two dimensions matrix are supported");if(A=A.map(function(R){if((0,g.isBigNumber)(R)&&(R=R.toNumber()),!(0,g.isNumber)(R)||!(0,l.isInteger)(R)||R<1)throw new Error("Size values must be positive integers");return R}),N){if((0,g.isBigNumber)(N)&&(N=N.toNumber()),!(0,g.isNumber)(N)||!(0,l.isInteger)(N))throw new TypeError("The parameter k must be an integer number")}else N=0;var O,j=0<N?N:0,M=N<0?-N:0,F=A[0],B=A[1],I=Math.min(F-M,B-j);if((0,g.isArray)(E)){if(E.length!==I)throw new Error("Invalid value array length");O=function(R){return E[R]}}else if((0,g.isMatrix)(E)){var G=E.size();if(G.length!==1||G[0]!==I)throw new Error("Invalid matrix length");O=function(R){return E.get([R])}}else O=function(){return E};T=T||((0,g.isBigNumber)(O(0))?O(0).mul(0):0);var k=[];if(0<A.length){k=(0,f.resize)(k,A,T);for(var V=0;V<I;V++)k[V+M][V+j]=O(V)}return new p({data:k,size:[F,B]})},p.fromJSON=function(A){return new p(A)},p.prototype.swapRows=function(A,E){if(!((0,g.isNumber)(A)&&(0,l.isInteger)(A)&&(0,g.isNumber)(E)&&(0,l.isInteger)(E)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return(0,f.validateIndex)(A,this._size[0]),(0,f.validateIndex)(E,this._size[0]),p._swapRows(A,E,this._data),this},p._swapRows=function(A,E,N){var T=N[A];N[A]=N[E],N[E]=T},p},{isClass:!0});r.createDenseMatrixClass=h},{"../../error/DimensionError":399,"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937,"../../utils/object":938,"../../utils/string":941}],890:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var g=["smaller","larger"],f=(r.createFibonacciHeapClass=void 0,n("../../utils/factory").factory)("FibonacciHeap",g,function(m){var l=m.smaller,x=m.larger,S=1/Math.log((1+Math.sqrt(5))/2);function D(){if(!(this instanceof D))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function h(o,p,b){p.left.right=p.right,p.right.left=p.left,b.degree--,b.child===p&&(b.child=p.right),b.degree===0&&(b.child=null),p.left=o,p.right=o.right,((o.right=p).right.left=p).parent=null,p.mark=!1}D.prototype.type="FibonacciHeap",D.prototype.isFibonacciHeap=!0,D.prototype.insert=function(o,p){var b,y={key:o,value:p,degree:0};return this._minimum?(b=this._minimum,y.left=b,y.right=b.right,(b.right=y).right.left=y,l(o,b.key)&&(this._minimum=y)):((y.left=y).right=y,this._minimum=y),this._size++,y},D.prototype.size=function(){return this._size},D.prototype.clear=function(){this._minimum=null,this._size=0},D.prototype.isEmpty=function(){return this._size===0},D.prototype.extractMinimum=function(){var o=this._minimum;if(o===null)return o;for(var p=this._minimum,b=o.degree,y=o.child;0<b;){var A=y.right;y.left.right=y.right,y.right.left=y.left,y.left=p,y.right=p.right,((p.right=y).right.left=y).parent=null,y=A,b--}return o.left.right=o.right,o.right.left=o.left,p=o===o.right?null:function(E,N){var T,O=Math.floor(Math.log(N)*S)+1,j=new Array(O),M=0,F=E;if(F)for(M++,F=F.right;F!==E;)M++,F=F.right;for(;0<M;){for(var B,I=F.degree,G=F.right;T=j[I];)x(F.key,T.key)&&(B=T,T=F,F=B),_(T,F),j[I]=null,I++;j[I]=F,F=G,M--}E=null;for(var k=0;k<O;k++)(T=j[k])&&(E?(T.left.right=T.right,T.right.left=T.left,T.left=E,T.right=E.right,(E.right=T).right.left=T,l(T.key,E.key)&&(E=T)):E=T);return E}(p=o.right,this._size),this._size--,this._minimum=p,o},D.prototype.remove=function(o){this._minimum=function(p,b,y){b.key=y;var A=b.parent;return A&&l(b.key,A.key)&&(h(p,b,A),function E(N,T){var O=T.parent;O&&(T.mark?(h(N,T,O),E(O)):T.mark=!0)}(p,A)),l(b.key,p.key)&&(p=b),p}(this._minimum,o,-1),this.extractMinimum()};var _=function(o,p){o.left.right=o.right,o.right.left=o.left,(o.parent=p).child?(o.left=p.child,o.right=p.child.right,(p.child.right=o).right.left=o):((p.child=o).right=o).left=o,p.degree++,o.mark=!1};return D},{isClass:!0});r.createFibonacciHeapClass=f},{"../../utils/factory":931}],891:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createImmutableDenseMatrixClass=void 0;var g=n("../../utils/is"),f=n("../../utils/object"),m=["smaller","DenseMatrix"],l=(0,n("../../utils/factory").factory)("ImmutableDenseMatrix",m,function(x){var S=x.smaller,D=x.DenseMatrix;function h(_,o){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!(0,g.isString)(o))throw new Error("Invalid datatype: "+o);if((0,g.isMatrix)(_)||(0,g.isArray)(_)){var p=new D(_,o);this._data=p._data,this._size=p._size,this._datatype=p._datatype,this._min=null,this._max=null}else if(_&&(0,g.isArray)(_.data)&&(0,g.isArray)(_.size))this._data=_.data,this._size=_.size,this._datatype=_.datatype,this._min=_.min!==void 0?_.min:null,this._max=_.max!==void 0?_.max:null;else{if(_)throw new TypeError("Unsupported type of data ("+(0,g.typeOf)(_)+")");this._data=[],this._size=[0],this._datatype=o,this._min=null,this._max=null}}return(h.prototype=new D).type="ImmutableDenseMatrix",h.prototype.isImmutableDenseMatrix=!0,h.prototype.subset=function(_){switch(arguments.length){case 1:var o=D.prototype.subset.call(this,_);return(0,g.isMatrix)(o)?new h({data:o._data,size:o._size,datatype:o._datatype}):o;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},h.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},h.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},h.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},h.prototype.clone=function(){return new h({data:(0,f.clone)(this._data),size:(0,f.clone)(this._size),datatype:this._datatype})},h.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},h.fromJSON=function(_){return new h(_)},h.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},h.prototype.min=function(){var _;return this._min===null&&(_=null,this.forEach(function(o){_!==null&&!S(o,_)||(_=o)}),this._min=_!==null?_:void 0),this._min},h.prototype.max=function(){var _;return this._max===null&&(_=null,this.forEach(function(o){_!==null&&!S(_,o)||(_=o)}),this._max=_!==null?_:void 0),this._max},h},{isClass:!0});r.createImmutableDenseMatrixClass=l},{"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938}],892:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var g=[],f=(r.createMatrixClass=void 0,n("../../utils/factory").factory)("Matrix",g,function(){function m(){if(!(this instanceof m))throw new SyntaxError("Constructor must be called with the new operator")}return m.prototype.type="Matrix",m.prototype.isMatrix=!0,m.storage=function(l){throw new Error("Matrix.storage is deprecated since v6.0.0. Use the factory function math.matrix instead.")},m.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},m.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},m.prototype.create=function(l,x){throw new Error("Cannot invoke create on a Matrix interface")},m.prototype.subset=function(l,x,S){throw new Error("Cannot invoke subset on a Matrix interface")},m.prototype.get=function(l){throw new Error("Cannot invoke get on a Matrix interface")},m.prototype.set=function(l,x,S){throw new Error("Cannot invoke set on a Matrix interface")},m.prototype.resize=function(l,x){throw new Error("Cannot invoke resize on a Matrix interface")},m.prototype.reshape=function(l,x){throw new Error("Cannot invoke reshape on a Matrix interface")},m.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},m.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},m.prototype.map=function(l,x){throw new Error("Cannot invoke map on a Matrix interface")},m.prototype.forEach=function(l){throw new Error("Cannot invoke forEach on a Matrix interface")},m.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},m.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},m.prototype.format=function(l){throw new Error("Cannot invoke format on a Matrix interface")},m.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},m},{isClass:!0});r.createMatrixClass=f},{"../../utils/factory":931}],893:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIndexClass=void 0;var g=n("../../utils/is"),f=n("../../utils/object"),m=n("../../utils/number"),l=["ImmutableDenseMatrix"],x=(0,n("../../utils/factory").factory)("Index",l,function(S){var D=S.ImmutableDenseMatrix;function h(o){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var p=0,b=arguments.length;p<b;p++){var y=arguments[p];if((0,g.isRange)(y))this._dimensions.push(y),this._isScalar=!1;else if(Array.isArray(y)||(0,g.isMatrix)(y)){var A=_(y.valueOf());this._dimensions.push(A);var E=A.size();E.length===1&&E[0]===1||(this._isScalar=!1)}else if(typeof y=="number")this._dimensions.push(_([y]));else{if(typeof y!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(y)}}}function _(o){for(var p=0,b=o.length;p<b;p++)if(typeof o[p]!="number"||!(0,m.isInteger)(o[p]))throw new TypeError("Index parameters must be positive integer numbers");return new D(o)}return h.prototype.type="Index",h.prototype.isIndex=!0,h.prototype.clone=function(){var o=new h;return o._dimensions=(0,f.clone)(this._dimensions),o._isScalar=this._isScalar,o},h.create=function(o){var p=new h;return h.apply(p,o),p},h.prototype.size=function(){for(var o=[],p=0,b=this._dimensions.length;p<b;p++){var y=this._dimensions[p];o[p]=typeof y=="string"?1:y.size()[0]}return o},h.prototype.max=function(){for(var o=[],p=0,b=this._dimensions.length;p<b;p++){var y=this._dimensions[p];o[p]=typeof y=="string"?y:y.max()}return o},h.prototype.min=function(){for(var o=[],p=0,b=this._dimensions.length;p<b;p++){var y=this._dimensions[p];o[p]=typeof y=="string"?y:y.min()}return o},h.prototype.forEach=function(o){for(var p=0,b=this._dimensions.length;p<b;p++)o(this._dimensions[p],p,this)},h.prototype.dimension=function(o){return this._dimensions[o]||null},h.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},h.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},h.prototype.isScalar=function(){return this._isScalar},h.prototype.valueOf=h.prototype.toArray=function(){for(var o=[],p=0,b=this._dimensions.length;p<b;p++){var y=this._dimensions[p];o.push(typeof y=="string"?y:y.toArray())}return o},h.prototype.toString=function(){for(var o=[],p=0,b=this._dimensions.length;p<b;p++){var y=this._dimensions[p];typeof y=="string"?o.push(JSON.stringify(y)):o.push(y.toString())}return"["+o.join(", ")+"]"},h.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},h.fromJSON=function(o){return h.create(o.dimensions)},h},{isClass:!0});r.createIndexClass=x},{"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937,"../../utils/object":938}],894:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRangeClass=void 0;var g=n("../../utils/is"),f=n("../../utils/number"),m=[],l=(0,n("../../utils/factory").factory)("Range",m,function(){function x(S,D,h){if(!(this instanceof x))throw new SyntaxError("Constructor must be called with the new operator");var _=S!=null,o=D!=null,p=h!=null;if(_){if((0,g.isBigNumber)(S))S=S.toNumber();else if(typeof S!="number")throw new TypeError("Parameter start must be a number")}if(o){if((0,g.isBigNumber)(D))D=D.toNumber();else if(typeof D!="number")throw new TypeError("Parameter end must be a number")}if(p){if((0,g.isBigNumber)(h))h=h.toNumber();else if(typeof h!="number")throw new TypeError("Parameter step must be a number")}this.start=_?parseFloat(S):0,this.end=o?parseFloat(D):0,this.step=p?parseFloat(h):1}return x.prototype.type="Range",x.prototype.isRange=!0,x.parse=function(S){if(typeof S!="string")return null;var D=S.split(":").map(function(h){return parseFloat(h)});if(D.some(function(h){return isNaN(h)}))return null;switch(D.length){case 2:return new x(D[0],D[1]);case 3:return new x(D[0],D[2],D[1]);default:return null}},x.prototype.clone=function(){return new x(this.start,this.end,this.step)},x.prototype.size=function(){var S=0,D=this.start,h=this.step,_=this.end-D;return(0,f.sign)(h)===(0,f.sign)(_)?S=Math.ceil(_/h):_==0&&(S=0),isNaN(S)&&(S=0),[S]},x.prototype.min=function(){var S=this.size()[0];return 0<S?0<this.step?this.start:this.start+(S-1)*this.step:void 0},x.prototype.max=function(){var S=this.size()[0];return 0<S?0<this.step?this.start+(S-1)*this.step:this.start:void 0},x.prototype.forEach=function(S){var D=this.start,h=this.step,_=this.end,o=0;if(0<h)for(;D<_;)S(D,[o],this),D+=h,o++;else if(h<0)for(;_<D;)S(D,[o],this),D+=h,o++},x.prototype.map=function(S){var D=[];return this.forEach(function(h,_,o){D[_[0]]=S(h,_,o)}),D},x.prototype.toArray=function(){var S=[];return this.forEach(function(D,h){S[h[0]]=D}),S},x.prototype.valueOf=function(){return this.toArray()},x.prototype.format=function(S){var D=(0,f.format)(this.start,S);return this.step!==1&&(D+=":"+(0,f.format)(this.step,S)),D+=":"+(0,f.format)(this.end,S)},x.prototype.toString=function(){return this.format()},x.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},x.fromJSON=function(S){return new x(S.start,S.end,S.step)},x},{isClass:!0});r.createRangeClass=l},{"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937}],895:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var g=["addScalar","equalScalar","FibonacciHeap"],f=(r.createSpaClass=void 0,n("../../utils/factory").factory)("Spa",g,function(m){var l=m.addScalar,x=m.equalScalar,S=m.FibonacciHeap;function D(){if(!(this instanceof D))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new S}return D.prototype.type="Spa",D.prototype.isSpa=!0,D.prototype.set=function(h,_){var o;this._values[h]?this._values[h].value=_:(o=this._heap.insert(h,_),this._values[h]=o)},D.prototype.get=function(h){var _=this._values[h];return _?_.value:0},D.prototype.accumulate=function(h,_){var o=this._values[h];o?o.value=l(o.value,_):(o=this._heap.insert(h,_),this._values[h]=o)},D.prototype.forEach=function(h,_,o){var p=this._heap,b=this._values,y=[];for((E=p.extractMinimum())&&y.push(E);E&&E.key<=_;)E.key>=h&&(x(E.value,0)||o(E.key,E.value,this)),(E=p.extractMinimum())&&y.push(E);for(var A=0;A<y.length;A++){var E,N=y[A];b[(E=p.insert(N.key,N.value)).key]=E}},D.prototype.swap=function(h,_){var o,p=this._values[h],b=this._values[_];!p&&b?(p=this._heap.insert(h,b.value),this._heap.remove(b),this._values[h]=p,this._values[_]=void 0):p&&!b?(b=this._heap.insert(_,p.value),this._heap.remove(p),this._values[_]=b,this._values[h]=void 0):p&&b&&(o=p.value,p.value=b.value,b.value=o)},D},{isClass:!0});r.createSpaClass=f},{"../../utils/factory":931}],896:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSparseMatrixClass=void 0;var g=n("../../utils/is"),f=n("../../utils/number"),m=n("../../utils/string"),l=n("../../utils/object"),x=n("../../utils/array"),S=n("../../utils/factory"),D=n("../../error/DimensionError"),h=["typed","equalScalar","Matrix"],_=(0,S.factory)("SparseMatrix",h,function(o){var p=o.typed,b=o.equalScalar,y=o.Matrix;function A(M,F){if(!(this instanceof A))throw new SyntaxError("Constructor must be called with the new operator");if(F&&!(0,g.isString)(F))throw new Error("Invalid datatype: "+F);if((0,g.isMatrix)(M))(function(B,I,G){I.type==="SparseMatrix"?(B._values=I._values?(0,l.clone)(I._values):void 0,B._index=(0,l.clone)(I._index),B._ptr=(0,l.clone)(I._ptr),B._size=(0,l.clone)(I._size),B._datatype=G||I._datatype):E(B,I.valueOf(),G||I._datatype)})(this,M,F);else if(M&&(0,g.isArray)(M.index)&&(0,g.isArray)(M.ptr)&&(0,g.isArray)(M.size))this._values=M.values,this._index=M.index,this._ptr=M.ptr,this._size=M.size,this._datatype=F||M.datatype;else if((0,g.isArray)(M))E(this,M,F);else{if(M)throw new TypeError("Unsupported type of data ("+(0,g.typeOf)(M)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=F}}function E(M,F,B){M._values=[],M._index=[],M._ptr=[],M._datatype=B;var I=F.length,G=0,k=b,V=0;if((0,g.isString)(B)&&(k=p.find(b,[B,B])||b,V=p.convert(0,B)),0<I){var R=0;do{M._ptr.push(M._index.length);for(var U=0;U<I;U++){var L,H=F[U];(0,g.isArray)(H)?(R===0&&G<H.length&&(G=H.length),R<H.length&&(k(L=H[R],V)||(M._values.push(L),M._index.push(U)))):(R===0&&G<1&&(G=1),k(H,V)||(M._values.push(H),M._index.push(U)))}R++}while(R<G)}M._ptr.push(M._index.length),M._size=[I,G]}function N(M,F,B,I){if(B-F==0)return B;for(var G=F;G<B;G++)if(I[G]===M)return G;return F}function T(M,F,B,I,G,k,V){G.splice(M,0,I),k.splice(M,0,F);for(var R=B+1;R<V.length;R++)V[R]++}function O(M,F,B,I){var G=I||0,k=b,V=0;(0,g.isString)(M._datatype)&&(k=p.find(b,[M._datatype,M._datatype])||b,V=p.convert(0,M._datatype),G=p.convert(G,M._datatype));var R=!k(G,V),U=M._size[0],L=M._size[1];if(L<B){for(X=L;X<B;X++)if(M._ptr[X]=M._values.length,R)for(J=0;J<U;J++)M._values.push(G),M._index.push(J);M._ptr[B]=M._values.length}else B<L&&(M._ptr.splice(B+1,L-B),M._values.splice(M._ptr[B],M._values.length),M._index.splice(M._ptr[B],M._index.length));if(L=B,U<F){if(R){for(var H=0,X=0;X<L;X++){M._ptr[X]=M._ptr[X]+H,Y=M._ptr[X+1]+H;for(var Z=0,J=U;J<F;J++,Z++)M._values.splice(Y+Z,0,G),M._index.splice(Y+Z,0,J),H++}M._ptr[L]=M._values.length}}else if(F<U){var K=0;for(X=0;X<L;X++){M._ptr[X]=M._ptr[X]-K;for(var $=M._ptr[X],W=M._ptr[X+1]-K,Y=$;Y<W;Y++)F-1<(J=M._index[Y])&&(M._values.splice(Y,1),M._index.splice(Y,1),K++)}M._ptr[X]=M._values.length}return M._size[0]=F,M._size[1]=B,M}function j(M,F,B,I,G){for(var k,V=I[0],R=I[1],U=[],L=0;L<V;L++)for(U[L]=[],k=0;k<R;k++)U[L][k]=0;for(k=0;k<R;k++)for(var H=B[k],X=B[k+1],Z=H;Z<X;Z++)U[L=F[Z]][k]=M?G?(0,l.clone)(M[Z]):M[Z]:1;return U}return(A.prototype=new y).createSparseMatrix=function(M,F){return new A(M,F)},A.prototype.type="SparseMatrix",A.prototype.isSparseMatrix=!0,A.prototype.getDataType=function(){return(0,x.getArrayDataType)(this._values,g.typeOf)},A.prototype.storage=function(){return"sparse"},A.prototype.datatype=function(){return this._datatype},A.prototype.create=function(M,F){return new A(M,F)},A.prototype.density=function(){var M=this._size[0],F=this._size[1];return M!==0&&F!==0?this._index.length/(M*F):0},A.prototype.subset=function(M,F,B){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(I,G){if(!(0,g.isIndex)(G))throw new TypeError("Invalid index");if(G.isScalar())return I.get(G.min());var k,V,R,U,L=G.size();if(L.length!==I._size.length)throw new D.DimensionError(L.length,I._size.length);var H=G.min(),X=G.max();for(k=0,V=I._size.length;k<V;k++)(0,x.validateIndex)(H[k],I._size[k]),(0,x.validateIndex)(X[k],I._size[k]);var Z=I._values,J=I._index,K=I._ptr,$=G.dimension(0),W=G.dimension(1),Y=[],te=[];$.forEach(function(Ce,le){te[Ce]=le[0],Y[Ce]=!0});var ce=Z?[]:void 0,oe=[],ue=[];return W.forEach(function(Ce){for(ue.push(oe.length),R=K[Ce],U=K[Ce+1];R<U;R++)k=J[R],Y[k]===!0&&(oe.push(te[k]),ce&&ce.push(Z[R]))}),ue.push(oe.length),new A({values:ce,index:oe,ptr:ue,size:L,datatype:I._datatype})}(this,M);case 2:case 3:return function(I,G,k,V){if(!G||G.isIndex!==!0)throw new TypeError("Invalid index");var R,U=G.size(),L=G.isScalar();if((0,g.isMatrix)(k)?(R=k.size(),k=k.toArray()):R=(0,x.arraySize)(k),L){if(R.length!==0)throw new TypeError("Scalar expected");I.set(G.min(),k,V)}else{if(U.length!==1&&U.length!==2)throw new D.DimensionError(U.length,I._size.length,"<");if(R.length<U.length){for(var H=0,X=0;U[H]===1&&R[H]===1;)H++;for(;U[H]===1;)X++,H++;k=(0,x.unsqueeze)(k,U.length,X,R)}if(!(0,l.deepStrictEqual)(U,R))throw new D.DimensionError(U,R,">");for(var Z=G.min()[0],J=G.min()[1],K=R[0],$=R[1],W=0;W<K;W++)for(var Y=0;Y<$;Y++){var te=k[W][Y];I.set([W+Z,Y+J],te,V)}}return I}(this,M,F,B);default:throw new SyntaxError("Wrong number of arguments")}},A.prototype.get=function(M){if(!(0,g.isArray)(M))throw new TypeError("Array expected");if(M.length!==this._size.length)throw new D.DimensionError(M.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var F=M[0],B=M[1];(0,x.validateIndex)(F,this._size[0]),(0,x.validateIndex)(B,this._size[1]);var I=N(F,this._ptr[B],this._ptr[B+1],this._index);return I<this._ptr[B+1]&&this._index[I]===F?this._values[I]:0},A.prototype.set=function(M,F,B){if(!(0,g.isArray)(M))throw new TypeError("Array expected");if(M.length!==this._size.length)throw new D.DimensionError(M.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var I=M[0],G=M[1],k=this._size[0],V=this._size[1],R=b,U=0;(0,g.isString)(this._datatype)&&(R=p.find(b,[this._datatype,this._datatype])||b,U=p.convert(0,this._datatype)),(k-1<I||V-1<G)&&(O(this,Math.max(I+1,k),Math.max(G+1,V),B),k=this._size[0],V=this._size[1]),(0,x.validateIndex)(I,k),(0,x.validateIndex)(G,V);var L=N(I,this._ptr[G],this._ptr[G+1],this._index);return L<this._ptr[G+1]&&this._index[L]===I?R(F,U)?function(H,X,Z,J,K){Z.splice(H,1),J.splice(H,1);for(var $=X+1;$<K.length;$++)K[$]--}(L,G,this._values,this._index,this._ptr):this._values[L]=F:T(L,I,G,F,this._values,this._index,this._ptr),this},A.prototype.resize=function(M,F,B){if(!(0,g.isArray)(M))throw new TypeError("Array expected");if(M.length!==2)throw new Error("Only two dimensions matrix are supported");return M.forEach(function(I){if(!(0,g.isNumber)(I)||!(0,f.isInteger)(I)||I<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,m.format)(M)+")")}),O(B?this.clone():this,M[0],M[1],F)},A.prototype.reshape=function(M,F){if(!(0,g.isArray)(M))throw new TypeError("Array expected");if(M.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(M.forEach(function(Y){if(!(0,g.isNumber)(Y)||!(0,f.isInteger)(Y)||Y<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,m.format)(M)+")")}),this._size[0]*this._size[1]!=M[0]*M[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var B=F?this.clone():this;if(this._size[0]===M[0]&&this._size[1]===M[1])return B;for(var I=[],G=0;G<B._ptr.length;G++)for(var k=0;k<B._ptr[G+1]-B._ptr[G];k++)I.push(G);for(var V=B._values.slice(),R=B._index.slice(),U=0;U<B._index.length;U++){var L=R[U],H=I[U],X=L*B._size[1]+H;I[U]=X%M[1],R[U]=Math.floor(X/M[1])}B._values.length=0,B._index.length=0,B._ptr.length=M[1]+1,B._size=M.slice();for(var Z=0;Z<B._ptr.length;Z++)B._ptr[Z]=0;for(var J=0;J<V.length;J++){var K=R[J],$=I[J],W=V[J];T(N(K,B._ptr[$],B._ptr[$+1],B._index),K,$,W,B._values,B._index,B._ptr)}return B},A.prototype.clone=function(){return new A({values:this._values?(0,l.clone)(this._values):void 0,index:(0,l.clone)(this._index),ptr:(0,l.clone)(this._ptr),size:(0,l.clone)(this._size),datatype:this._datatype})},A.prototype.size=function(){return this._size.slice(0)},A.prototype.map=function(M,F){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var B=this;return function(I,G,k,V,R,U,L){var H=[],X=[],Z=[],J=b,K=0;(0,g.isString)(I._datatype)&&(J=p.find(b,[I._datatype,I._datatype])||b,K=p.convert(0,I._datatype));for(var $=function(pe,be,Ne){pe=U(pe,be,Ne),J(pe,K)||(H.push(pe),X.push(be))},W=V;W<=R;W++){Z.push(H.length);var Y=I._ptr[W],te=I._ptr[W+1];if(L)for(var ce=Y;ce<te;ce++){var oe=I._index[ce];G<=oe&&oe<=k&&$(I._values[ce],oe-G,W-V)}else{for(var ue={},Ce=Y;Ce<te;Ce++){var le=I._index[Ce];ue[le]=I._values[Ce]}for(var ye=G;ye<=k;ye++){var ve=ye in ue?ue[ye]:0;$(ve,ye-G,W-V)}}}return Z.push(H.length),new A({values:H,index:X,ptr:Z,size:[k-G+1,R-V+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,function(I,G,k){return M(I,[G,k],B)},F)},A.prototype.forEach=function(M,F){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var B=this._size[0],I=this._size[1],G=0;G<I;G++){var k=this._ptr[G],V=this._ptr[G+1];if(F)for(var R=k;R<V;R++){var U=this._index[R];M(this._values[R],[U,G],this)}else{for(var L={},H=k;H<V;H++)L[this._index[H]]=this._values[H];for(var X=0;X<B;X++)M(X in L?L[X]:0,[X,G],this)}}},A.prototype.toArray=function(){return j(this._values,this._index,this._ptr,this._size,!0)},A.prototype.valueOf=function(){return j(this._values,this._index,this._ptr,this._size,!1)},A.prototype.format=function(M){for(var F=this._size[0],B=this._size[1],I=this.density(),G="Sparse Matrix ["+(0,m.format)(F,M)+" x "+(0,m.format)(B,M)+"] density: "+(0,m.format)(I,M)+`
`,k=0;k<B;k++)for(var V=this._ptr[k],R=this._ptr[k+1],U=V;U<R;U++){var L=this._index[U];G+=`
    (`+(0,m.format)(L,M)+", "+(0,m.format)(k,M)+") ==> "+(this._values?(0,m.format)(this._values[U],M):"X")}return G},A.prototype.toString=function(){return(0,m.format)(this.toArray())},A.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},A.prototype.diagonal=function(M){if(M){if((0,g.isBigNumber)(M)&&(M=M.toNumber()),!(0,g.isNumber)(M)||!(0,f.isInteger)(M))throw new TypeError("The parameter k must be an integer number")}else M=0;var F=0<M?M:0,B=M<0?-M:0,I=this._size[0],G=this._size[1],k=Math.min(I-B,G-F),V=[],R=[],U=[];U[0]=0;for(var L=F;L<G&&V.length<k;L++)for(var H=this._ptr[L],X=this._ptr[L+1],Z=H;Z<X;Z++){var J=this._index[Z];if(J===L-F+B){V.push(this._values[Z]),R[V.length-1]=J-B;break}}return U.push(V.length),new A({values:V,index:R,ptr:U,size:[k,1]})},A.fromJSON=function(M){return new A(M)},A.diagonal=function(M,F,B,I,G){if(!(0,g.isArray)(M))throw new TypeError("Array expected, size parameter");if(M.length!==2)throw new Error("Only two dimensions matrix are supported");if(M=M.map(function(oe){if((0,g.isBigNumber)(oe)&&(oe=oe.toNumber()),!(0,g.isNumber)(oe)||!(0,f.isInteger)(oe)||oe<1)throw new Error("Size values must be positive integers");return oe}),B){if((0,g.isBigNumber)(B)&&(B=B.toNumber()),!(0,g.isNumber)(B)||!(0,f.isInteger)(B))throw new TypeError("The parameter k must be an integer number")}else B=0;var k=b,V=0;(0,g.isString)(G)&&(k=p.find(b,[G,G])||b,V=p.convert(0,G));var R,U=0<B?B:0,L=B<0?-B:0,H=M[0],X=M[1],Z=Math.min(H-L,X-U);if((0,g.isArray)(F)){if(F.length!==Z)throw new Error("Invalid value array length");R=function(oe){return F[oe]}}else if((0,g.isMatrix)(F)){var J=F.size();if(J.length!==1||J[0]!==Z)throw new Error("Invalid matrix length");R=function(oe){return F.get([oe])}}else R=function(){return F};for(var K=[],$=[],W=[],Y=0;Y<X;Y++){W.push(K.length);var te,ce=Y-U;0<=ce&&ce<Z&&(k(te=R(ce),V)||($.push(ce+L),K.push(te)))}return W.push(K.length),new A({values:K,index:$,ptr:W,size:[H,X]})},A.prototype.swapRows=function(M,F){if(!((0,g.isNumber)(M)&&(0,f.isInteger)(M)&&(0,g.isNumber)(F)&&(0,f.isInteger)(F)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return(0,x.validateIndex)(M,this._size[0]),(0,x.validateIndex)(F,this._size[0]),A._swapRows(M,F,this._size[1],this._values,this._index,this._ptr),this},A._forEachRow=function(M,F,B,I,G){for(var k=I[M],V=I[M+1],R=k;R<V;R++)G(B[R],F[R])},A._swapRows=function(M,F,B,I,G,k){for(var V=0;V<B;V++){var R,U,L,H=k[V],X=k[V+1],Z=N(M,H,X,G),J=N(F,H,X,G);Z<X&&J<X&&G[Z]===M&&G[J]===F?I&&(R=I[Z],I[Z]=I[J],I[J]=R):Z<X&&G[Z]===M&&(X<=J||G[J]!==F)?(U=I?I[Z]:void 0,G.splice(J,0,F),I&&I.splice(J,0,U),G.splice(J<=Z?Z+1:Z,1),I&&I.splice(J<=Z?Z+1:Z,1)):J<X&&G[J]===F&&(X<=Z||G[Z]!==M)&&(L=I?I[J]:void 0,G.splice(Z,0,M),I&&I.splice(Z,0,L),G.splice(Z<=J?J+1:J,1),I&&I.splice(Z<=J?J+1:J,1))}},A},{isClass:!0});r.createSparseMatrixClass=_},{"../../error/DimensionError":399,"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937,"../../utils/object":938,"../../utils/string":941}],897:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIndex=void 0;var g=n("../../../utils/factory"),f=n("../../../utils/is"),m=["typed","Index"],l=(0,g.factory)("index",m,function(x){var S=x.typed,D=x.Index;return S("index",{"...number | string | BigNumber | Range | Array | Matrix":function(h){var _=h.map(function(p){return(0,f.isBigNumber)(p)?p.toNumber():Array.isArray(p)||(0,f.isMatrix)(p)?p.map(function(b){return(0,f.isBigNumber)(b)?b.toNumber():b}):p}),o=new D;return D.apply(o,_),o}})});r.createIndex=l},{"../../../utils/factory":931,"../../../utils/is":933}],898:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMatrix=void 0;var g=n("../../../utils/factory"),f=["typed","Matrix","DenseMatrix","SparseMatrix"],m=(0,g.factory)("matrix",f,function(l){var x=l.typed,S=(l.Matrix,l.DenseMatrix),D=l.SparseMatrix;return x("matrix",{"":function(){return h([])},string:function(_){return h([],_)},"string, string":function(_,o){return h([],_,o)},Array:function(_){return h(_)},Matrix:function(_){return h(_,_.storage())},"Array | Matrix, string":h,"Array | Matrix, string, string":h});function h(_,o,p){if(o==="dense"||o==="default"||o===void 0)return new S(_,p);if(o==="sparse")return new D(_,p);throw new TypeError("Unknown matrix type "+JSON.stringify(o)+".")}});r.createMatrix=m},{"../../../utils/factory":931}],899:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSparse=void 0;var g=n("../../../utils/factory"),f=["typed","SparseMatrix"],m=(0,g.factory)("sparse",f,function(l){var x=l.typed,S=l.SparseMatrix;return x("sparse",{"":function(){return new S([])},string:function(D){return new S([],D)},"Array | Matrix":function(D){return new S(D)},"Array | Matrix, string":function(D,h){return new S(D,h)}})});r.createSparse=m},{"../../../utils/factory":931}],900:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm01=void 0;var g=n("../../../utils/factory"),f=n("../../../error/DimensionError"),m=["typed"],l=(0,g.factory)("algorithm01",m,function(x){var S=x.typed;return function(D,h,_,o){var p=D._data,b=D._size,y=D._datatype,A=h._values,E=h._index,N=h._ptr,T=h._size,O=h._datatype;if(b.length!==T.length)throw new f.DimensionError(b.length,T.length);if(b[0]!==T[0]||b[1]!==T[1])throw new RangeError("Dimension mismatch. Matrix A ("+b+") must match Matrix B ("+T+")");if(!A)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");for(var j=b[0],M=b[1],F=typeof y=="string"&&y===O?y:void 0,B=F?S.find(_,[F,F]):_,I=[],G=0;G<j;G++)I[G]=[];for(var k=[],V=[],R=0;R<M;R++){for(var U=R+1,L=N[R],H=N[R+1],X=L;X<H;X++)k[G=E[X]]=o?B(A[X],p[G][R]):B(p[G][R],A[X]),V[G]=U;for(G=0;G<j;G++)V[G]===U?I[G][R]=k[G]:I[G][R]=p[G][R]}return D.createDenseMatrix({data:I,size:[j,M],datatype:F})}});r.createAlgorithm01=l},{"../../../error/DimensionError":399,"../../../utils/factory":931}],901:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm02=void 0;var g=n("../../../utils/factory"),f=n("../../../error/DimensionError"),m=["typed","equalScalar"],l=(0,g.factory)("algorithm02",m,function(x){var S=x.typed,D=x.equalScalar;return function(h,_,o,p){var b=h._data,y=h._size,A=h._datatype,E=_._values,N=_._index,T=_._ptr,O=_._size,j=_._datatype;if(y.length!==O.length)throw new f.DimensionError(y.length,O.length);if(y[0]!==O[0]||y[1]!==O[1])throw new RangeError("Dimension mismatch. Matrix A ("+y+") must match Matrix B ("+O+")");if(!E)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var M,F=y[0],B=y[1],I=D,G=0,k=o;typeof A=="string"&&A===j&&(M=A,I=S.find(D,[M,M]),G=S.convert(0,M),k=S.find(o,[M,M]));for(var V=[],R=[],U=[],L=0;L<B;L++){U[L]=R.length;for(var H=T[L],X=T[L+1],Z=H;Z<X;Z++){var J=N[Z],K=p?k(E[Z],b[J][L]):k(b[J][L],E[Z]);I(K,G)||(R.push(J),V.push(K))}}return U[B]=R.length,_.createSparseMatrix({values:V,index:R,ptr:U,size:[F,B],datatype:M})}});r.createAlgorithm02=l},{"../../../error/DimensionError":399,"../../../utils/factory":931}],902:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm03=void 0;var g=n("../../../utils/factory"),f=n("../../../error/DimensionError"),m=["typed"],l=(0,g.factory)("algorithm03",m,function(x){var S=x.typed;return function(D,h,_,o){var p=D._data,b=D._size,y=D._datatype,A=h._values,E=h._index,N=h._ptr,T=h._size,O=h._datatype;if(b.length!==T.length)throw new f.DimensionError(b.length,T.length);if(b[0]!==T[0]||b[1]!==T[1])throw new RangeError("Dimension mismatch. Matrix A ("+b+") must match Matrix B ("+T+")");if(!A)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var j,M=b[0],F=b[1],B=0,I=_;typeof y=="string"&&y===O&&(j=y,B=S.convert(0,j),I=S.find(_,[j,j]));for(var G=[],k=0;k<M;k++)G[k]=[];for(var V=[],R=[],U=0;U<F;U++){for(var L=U+1,H=N[U],X=N[U+1],Z=H;Z<X;Z++){var J=E[Z];V[J]=o?I(A[Z],p[J][U]):I(p[J][U],A[Z]),R[J]=L}for(var K=0;K<M;K++)R[K]===L?G[K][U]=V[K]:G[K][U]=o?I(B,p[K][U]):I(p[K][U],B)}return D.createDenseMatrix({data:G,size:[M,F],datatype:j})}});r.createAlgorithm03=l},{"../../../error/DimensionError":399,"../../../utils/factory":931}],903:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm04=void 0;var g=n("../../../utils/factory"),f=n("../../../error/DimensionError"),m=["typed","equalScalar"],l=(0,g.factory)("algorithm04",m,function(x){var S=x.typed,D=x.equalScalar;return function(h,_,o){var p=h._values,b=h._index,y=h._ptr,A=h._size,E=h._datatype,N=_._values,T=_._index,O=_._ptr,j=_._size,M=_._datatype;if(A.length!==j.length)throw new f.DimensionError(A.length,j.length);if(A[0]!==j[0]||A[1]!==j[1])throw new RangeError("Dimension mismatch. Matrix A ("+A+") must match Matrix B ("+j+")");var F,B=A[0],I=A[1],G=D,k=0,V=o;typeof E=="string"&&E===M&&(F=E,G=S.find(D,[F,F]),k=S.convert(0,F),V=S.find(o,[F,F]));for(var R=p&&N?[]:void 0,U=[],L=[],H=p&&N?[]:void 0,X=p&&N?[]:void 0,Z=[],J=[],K=0;K<I;K++){L[K]=U.length;for(var $,W,Y=K+1,te=y[K],ce=y[K+1],oe=te;oe<ce;oe++)W=b[oe],U.push(W),Z[W]=Y,H&&(H[W]=p[oe]);for(te=O[K],ce=O[K+1],oe=te;oe<ce;oe++)Z[W=T[oe]]===Y?H&&(G($=V(H[W],N[oe]),k)?Z[W]=null:H[W]=$):(U.push(W),J[W]=Y,X&&(X[W]=N[oe]));if(H&&X)for(oe=L[K];oe<U.length;)Z[W=U[oe]]===Y?(R[oe]=H[W],oe++):J[W]===Y?(R[oe]=X[W],oe++):U.splice(oe,1)}return L[I]=U.length,h.createSparseMatrix({values:R,index:U,ptr:L,size:[B,I],datatype:F})}});r.createAlgorithm04=l},{"../../../error/DimensionError":399,"../../../utils/factory":931}],904:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm05=void 0;var g=n("../../../utils/factory"),f=n("../../../error/DimensionError"),m=["typed","equalScalar"],l=(0,g.factory)("algorithm05",m,function(x){var S=x.typed,D=x.equalScalar;return function(h,_,o){var p=h._values,b=h._index,y=h._ptr,A=h._size,E=h._datatype,N=_._values,T=_._index,O=_._ptr,j=_._size,M=_._datatype;if(A.length!==j.length)throw new f.DimensionError(A.length,j.length);if(A[0]!==j[0]||A[1]!==j[1])throw new RangeError("Dimension mismatch. Matrix A ("+A+") must match Matrix B ("+j+")");var F,B=A[0],I=A[1],G=D,k=0,V=o;typeof E=="string"&&E===M&&(F=E,G=S.find(D,[F,F]),k=S.convert(0,F),V=S.find(o,[F,F]));for(var R,U=p&&N?[]:void 0,L=[],H=[],X=U?[]:void 0,Z=U?[]:void 0,J=[],K=[],$=0;$<I;$++){H[$]=L.length;for(var W=$+1,Y=y[$],te=y[$+1];Y<te;Y++)R=b[Y],L.push(R),J[R]=W,X&&(X[R]=p[Y]);for(Y=O[$],te=O[$+1];Y<te;Y++)J[R=T[Y]]!==W&&L.push(R),K[R]=W,Z&&(Z[R]=N[Y]);if(U)for(Y=H[$];Y<L.length;){var ce,oe=J[R=L[Y]],ue=K[R];oe!==W&&ue!==W||(G(ce=V(oe===W?X[R]:k,ue===W?Z[R]:k),k)?L.splice(Y,1):(U.push(ce),Y++))}}return H[I]=L.length,h.createSparseMatrix({values:U,index:L,ptr:H,size:[B,I],datatype:F})}});r.createAlgorithm05=l},{"../../../error/DimensionError":399,"../../../utils/factory":931}],905:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm06=void 0;var g=n("../../../utils/factory"),f=n("../../../error/DimensionError"),m=n("../../../utils/collection"),l=["typed","equalScalar"],x=(0,g.factory)("algorithm06",l,function(S){var D=S.typed,h=S.equalScalar;return function(_,o,p){var b=_._values,y=_._size,A=_._datatype,E=o._values,N=o._size,T=o._datatype;if(y.length!==N.length)throw new f.DimensionError(y.length,N.length);if(y[0]!==N[0]||y[1]!==N[1])throw new RangeError("Dimension mismatch. Matrix A ("+y+") must match Matrix B ("+N+")");var O,j=y[0],M=y[1],F=h,B=0,I=p;typeof A=="string"&&A===T&&(O=A,F=D.find(h,[O,O]),B=D.convert(0,O),I=D.find(p,[O,O]));for(var G=b&&E?[]:void 0,k=[],V=[],R=G?[]:void 0,U=[],L=[],H=0;H<M;H++){V[H]=k.length;var X=H+1;if((0,m.scatter)(_,H,U,R,L,X,k,I),(0,m.scatter)(o,H,U,R,L,X,k,I),R)for(var Z=V[H];Z<k.length;){var J,K=k[Z];L[K]!==X||F(J=R[K],B)?k.splice(Z,1):(G.push(J),Z++)}else for(var $=V[H];$<k.length;)L[k[$]]!==X?k.splice($,1):$++}return V[M]=k.length,_.createSparseMatrix({values:G,index:k,ptr:V,size:[j,M],datatype:O})}});r.createAlgorithm06=x},{"../../../error/DimensionError":399,"../../../utils/collection":927,"../../../utils/factory":931}],906:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm07=void 0;var g=n("../../../utils/factory"),f=n("../../../error/DimensionError"),m=["typed","DenseMatrix"],l=(0,g.factory)("algorithm07",m,function(x){var S=x.typed,D=x.DenseMatrix;return function(_,o,p){var b=_._size,y=_._datatype,A=o._size,E=o._datatype;if(b.length!==A.length)throw new f.DimensionError(b.length,A.length);if(b[0]!==A[0]||b[1]!==A[1])throw new RangeError("Dimension mismatch. Matrix A ("+b+") must match Matrix B ("+A+")");var N,T=b[0],O=b[1],j=0,M=p;typeof y=="string"&&y===E&&(N=y,j=S.convert(0,N),M=S.find(p,[N,N]));for(var F=[],B=0;B<T;B++)F[B]=[];for(var I=[],G=[],k=[],V=[],R=0;R<O;R++){var U=R+1;for(h(_,R,k,I,U),h(o,R,V,G,U),B=0;B<T;B++){var L=k[B]===U?I[B]:j,H=V[B]===U?G[B]:j;F[B][R]=M(L,H)}}return new D({data:F,size:[T,O],datatype:N})};function h(_,o,p,b,y){for(var A=_._values,E=_._index,N=_._ptr,T=N[o],O=N[o+1];T<O;T++){var j=E[T];p[j]=y,b[j]=A[T]}}});r.createAlgorithm07=l},{"../../../error/DimensionError":399,"../../../utils/factory":931}],907:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm08=void 0;var g=n("../../../utils/factory"),f=n("../../../error/DimensionError"),m=["typed","equalScalar"],l=(0,g.factory)("algorithm08",m,function(x){var S=x.typed,D=x.equalScalar;return function(h,_,o){var p=h._values,b=h._index,y=h._ptr,A=h._size,E=h._datatype,N=_._values,T=_._index,O=_._ptr,j=_._size,M=_._datatype;if(A.length!==j.length)throw new f.DimensionError(A.length,j.length);if(A[0]!==j[0]||A[1]!==j[1])throw new RangeError("Dimension mismatch. Matrix A ("+A+") must match Matrix B ("+j+")");if(!p||!N)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var F,B=A[0],I=A[1],G=D,k=0,V=o;typeof E=="string"&&E===M&&(F=E,G=S.find(D,[F,F]),k=S.convert(0,F),V=S.find(o,[F,F]));for(var R,U=[],L=[],H=[],X=[],Z=[],J=0;J<I;J++){H[J]=L.length;for(var K=J+1,$=y[J],W=y[J+1],Y=$;Y<W;Y++)Z[R=b[Y]]=K,X[R]=p[Y],L.push(R);for($=O[J],W=O[J+1],Y=$;Y<W;Y++)Z[R=T[Y]]===K&&(X[R]=V(X[R],N[Y]));for(Y=H[J];Y<L.length;){var te=X[R=L[Y]];G(te,k)?L.splice(Y,1):(U.push(te),Y++)}}return H[I]=L.length,h.createSparseMatrix({values:U,index:L,ptr:H,size:[B,I],datatype:F})}});r.createAlgorithm08=l},{"../../../error/DimensionError":399,"../../../utils/factory":931}],908:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm09=void 0;var g=n("../../../utils/factory"),f=n("../../../error/DimensionError"),m=["typed","equalScalar"],l=(0,g.factory)("algorithm09",m,function(x){var S=x.typed,D=x.equalScalar;return function(h,_,o){var p=h._values,b=h._index,y=h._ptr,A=h._size,E=h._datatype,N=_._values,T=_._index,O=_._ptr,j=_._size,M=_._datatype;if(A.length!==j.length)throw new f.DimensionError(A.length,j.length);if(A[0]!==j[0]||A[1]!==j[1])throw new RangeError("Dimension mismatch. Matrix A ("+A+") must match Matrix B ("+j+")");var F,B=A[0],I=A[1],G=D,k=0,V=o;typeof E=="string"&&E===M&&(F=E,G=S.find(D,[F,F]),k=S.convert(0,F),V=S.find(o,[F,F]));for(var R,U,L,H=p&&N?[]:void 0,X=[],Z=[],J=H?[]:void 0,K=[],$=0;$<I;$++){Z[$]=X.length;var W=$+1;if(J)for(U=O[$],L=O[$+1],R=U;R<L;R++)K[ce=T[R]]=W,J[ce]=N[R];for(U=y[$],L=y[$+1],R=U;R<L;R++){var Y,te,ce=b[R];J?(Y=K[ce]===W?J[ce]:k,G(te=V(p[R],Y),k)||(X.push(ce),H.push(te))):X.push(ce)}}return Z[I]=X.length,h.createSparseMatrix({values:H,index:X,ptr:Z,size:[B,I],datatype:F})}});r.createAlgorithm09=l},{"../../../error/DimensionError":399,"../../../utils/factory":931}],909:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var g=["typed","DenseMatrix"],f=(r.createAlgorithm10=void 0,n("../../../utils/factory").factory)("algorithm10",g,function(m){var l=m.typed,x=m.DenseMatrix;return function(S,D,h,_){var o=S._values,p=S._index,b=S._ptr,y=S._size,A=S._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var E,N=y[0],T=y[1],O=h;typeof A=="string"&&(E=A,D=l.convert(D,E),O=l.find(h,[E,E]));for(var j=[],M=[],F=[],B=0;B<T;B++){for(var I=B+1,G=b[B],k=b[B+1],V=G;V<k;V++){var R=p[V];M[R]=o[V],F[R]=I}for(var U=0;U<N;U++)B===0&&(j[U]=[]),F[U]===I?j[U][B]=_?O(D,M[U]):O(M[U],D):j[U][B]=D}return new x({data:j,size:[N,T],datatype:E})}});r.createAlgorithm10=f},{"../../../utils/factory":931}],910:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var g=["typed","equalScalar"],f=(r.createAlgorithm11=void 0,n("../../../utils/factory").factory)("algorithm11",g,function(m){var l=m.typed,x=m.equalScalar;return function(S,D,h,_){var o=S._values,p=S._index,b=S._ptr,y=S._size,A=S._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var E,N=y[0],T=y[1],O=x,j=0,M=h;typeof A=="string"&&(E=A,O=l.find(x,[E,E]),j=l.convert(0,E),D=l.convert(D,E),M=l.find(h,[E,E]));for(var F=[],B=[],I=[],G=0;G<T;G++){I[G]=B.length;for(var k=b[G],V=b[G+1],R=k;R<V;R++){var U=p[R],L=_?M(D,o[R]):M(o[R],D);O(L,j)||(B.push(U),F.push(L))}}return I[T]=B.length,S.createSparseMatrix({values:F,index:B,ptr:I,size:[N,T],datatype:E})}});r.createAlgorithm11=f},{"../../../utils/factory":931}],911:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var g=["typed","DenseMatrix"],f=(r.createAlgorithm12=void 0,n("../../../utils/factory").factory)("algorithm12",g,function(m){var l=m.typed,x=m.DenseMatrix;return function(S,D,h,_){var o=S._values,p=S._index,b=S._ptr,y=S._size,A=S._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var E,N=y[0],T=y[1],O=h;typeof A=="string"&&(E=A,D=l.convert(D,E),O=l.find(h,[E,E]));for(var j=[],M=[],F=[],B=0;B<T;B++){for(var I=B+1,G=b[B],k=b[B+1],V=G;V<k;V++){var R=p[V];M[R]=o[V],F[R]=I}for(var U=0;U<N;U++)B===0&&(j[U]=[]),F[U]===I?j[U][B]=_?O(D,M[U]):O(M[U],D):j[U][B]=_?O(D,0):O(0,D)}return new x({data:j,size:[N,T],datatype:E})}});r.createAlgorithm12=f},{"../../../utils/factory":931}],912:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm13=void 0;var g=n("../../../utils/factory"),f=n("../../../error/DimensionError"),m=["typed"],l=(0,g.factory)("algorithm13",m,function(x){var S=x.typed;return function(D,h,_){var o=D._data,p=D._size,b=D._datatype,y=h._data,A=h._size,E=h._datatype,N=[];if(p.length!==A.length)throw new f.DimensionError(p.length,A.length);for(var T,O=0;O<p.length;O++){if(p[O]!==A[O])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+A+")");N[O]=p[O]}var j=_;typeof b=="string"&&b===E&&(T=b,j=S.find(_,[T,T]));var M=0<N.length?function F(B,I,G,k,V,R){var U=[];if(I===G.length-1)for(var L=0;L<k;L++)U[L]=B(V[L],R[L]);else for(var H=0;H<k;H++)U[H]=F(B,I+1,G,G[I+1],V[H],R[H]);return U}(j,0,N,N[0],o,y):[];return D.createDenseMatrix({data:M,size:N,datatype:T})}});r.createAlgorithm13=l},{"../../../error/DimensionError":399,"../../../utils/factory":931}],913:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm14=void 0;var g=n("../../../utils/factory"),f=n("../../../utils/object"),m=["typed"],l=(0,g.factory)("algorithm14",m,function(x){var S=x.typed;return function(D,h,_,o){var p,b=D._data,y=D._size,A=D._datatype,E=_;typeof A=="string"&&(p=A,h=S.convert(h,p),E=S.find(_,[p,p]));var N=0<y.length?function T(O,j,M,F,B,I,G){var k=[];if(j===M.length-1)for(var V=0;V<F;V++)k[V]=G?O(I,B[V]):O(B[V],I);else for(var R=0;R<F;R++)k[R]=T(O,j+1,M,M[j+1],B[R],I,G);return k}(E,0,y,y[0],b,h,o):[];return D.createDenseMatrix({data:N,size:(0,f.clone)(y),datatype:p})}});r.createAlgorithm14=l},{"../../../utils/factory":931,"../../../utils/object":938}],914:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNumber=void 0;var g=n("../utils/factory"),f=n("../utils/collection"),m=["typed"],l=(0,g.factory)("number",m,function(x){var S=(0,x.typed)("number",{"":function(){return 0},number:function(D){return D},string:function(D){if(D==="NaN")return NaN;var h=Number(D);if(isNaN(h))throw new SyntaxError('String "'+D+'" is no valid number');return h},BigNumber:function(D){return D.toNumber()},Fraction:function(D){return D.valueOf()},Unit:function(){throw new Error("Second argument with valueless unit expected")},null:function(){return 0},"Unit, string | Unit":function(D,h){return D.toNumber(h)},"Array | Matrix":function(D){return(0,f.deepMap)(D,S)}});return S.fromJSON=function(D){return parseFloat(D.value)},S});r.createNumber=l},{"../utils/collection":927,"../utils/factory":931}],915:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var g=[],f=(r.createResultSet=void 0,n("../../utils/factory").factory)("ResultSet",g,function(){function m(l){if(!(this instanceof m))throw new SyntaxError("Constructor must be called with the new operator");this.entries=l||[]}return m.prototype.type="ResultSet",m.prototype.isResultSet=!0,m.prototype.valueOf=function(){return this.entries},m.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},m.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},m.fromJSON=function(l){return new m(l.entries)},m},{isClass:!0});r.createResultSet=f},{"../../utils/factory":931}],916:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createString=void 0;var g=n("../utils/factory"),f=n("../utils/collection"),m=n("../utils/number"),l=["typed"],x=(0,g.factory)("string",l,function(S){var D=(0,S.typed)("string",{"":function(){return""},number:m.format,null:function(){return"null"},boolean:function(h){return h+""},string:function(h){return h},"Array | Matrix":function(h){return(0,f.deepMap)(h,D)},any:function(h){return String(h)}});return D});r.createString=x},{"../utils/collection":927,"../utils/factory":931,"../utils/number":937}],917:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUnitClass=void 0;var g=n("../../utils/is"),f=n("../../utils/factory"),m=n("../../utils/string"),l=n("../../utils/object"),x=n("../../utils/bignumber/constants");function S(o){return(S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(o)}function D(){return(D=Object.assign||function(o){for(var p=1;p<arguments.length;p++){var b=arguments[p];for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(o[y]=b[y])}return o}).apply(this,arguments)}var h=["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],_=(0,f.factory)("Unit",h,function(o){var p,b,y,A=o.on,E=o.config,N=o.addScalar,T=o.subtract,O=o.multiplyScalar,j=o.divideScalar,M=o.pow,F=o.abs,B=o.fix,I=o.round,G=o.equal,k=o.isNumeric,V=o.format,R=o.number,U=o.Complex,L=o.BigNumber,H=o.Fraction,X=R;function Z(Se,Fe){if(!(this instanceof Z))throw new Error("Constructor must be called with the new operator");if(Se!=null&&!k(Se)&&!(0,g.isComplex)(Se))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(Fe!==void 0&&(typeof Fe!="string"||Fe===""))throw new TypeError("Second parameter in Unit constructor must be a string");if(Fe!==void 0){var $e=Z.parse(Fe);this.units=$e.units,this.dimensions=$e.dimensions}else{this.units=[{unit:ve,prefix:ue.NONE,power:0}],this.dimensions=[];for(var Re=0;Re<Ce.length;Re++)this.dimensions[Re]=0}this.value=Se!=null?this._normalize(Se):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function J(){for(;y===" "||y==="	";)$()}function K(Se){return"0"<=Se&&Se<="9"}function $(){b++,y=p.charAt(b)}function W(Se){b=Se,y=p.charAt(b)}function Y(){var Se="",Fe=b;if(y==="+"?$():y==="-"&&(Se+=y,$()),!function(qe){return"0"<=qe&&qe<="9"||qe==="."}(y))return W(Fe),null;if(y==="."){if(Se+=y,$(),!K(y))return W(Fe),null}else{for(;K(y);)Se+=y,$();y==="."&&(Se+=y,$())}for(;K(y);)Se+=y,$();if(y==="E"||y==="e"){var $e="",Re=b;if($e+=y,$(),y!=="+"&&y!=="-"||($e+=y,$()),!K(y))return W(Re),Se;for(Se+=$e;K(y);)Se+=y,$()}return Se}function te(Se){return y===Se&&($(),Se)}function ce(Se){if((0,l.hasOwnProperty)(pe,Se)){var Fe=pe[Se];return{unit:Fe,prefix:Fe.prefixes[""]}}for(var $e in pe)if((0,l.hasOwnProperty)(pe,$e)&&(0,m.endsWith)(Se,$e)){var Re=pe[$e],qe=Se.length-$e.length,ze=Se.substring(0,qe),we=(0,l.hasOwnProperty)(Re.prefixes,ze)?Re.prefixes[ze]:void 0;if(we!==void 0)return{unit:Re,prefix:we}}return null}function oe(Se){return Se.equalBase(le.NONE)&&Se.value!==null&&!E.predictable?Se.value:Se}Z.prototype.type="Unit",Z.prototype.isUnit=!0,Z.parse=function(Se,Fe){if(Fe=Fe||{},b=-1,y="",typeof(p=Se)!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var $e=new Z,Re=1,qe=!($e.units=[]);$(),J();var ze=Y(),we=null;if(ze){if(E.number==="BigNumber")we=new L(ze);else if(E.number==="Fraction")try{we=new H(ze)}catch{we=parseFloat(ze)}else we=parseFloat(ze);J(),te("*")?(Re=1,qe=!0):te("/")&&(Re=-1,qe=!0)}for(var Ee=[],Me=1;;){for(J();y==="(";)Ee.push(Re),Me*=Re,Re=1,$(),J();var me=void 0;if(!y)break;var Ge=y;if((me=function(){for(var ot="",bt=p.charCodeAt(b);48<=bt&&bt<=57||65<=bt&&bt<=90||97<=bt&&bt<=122;)ot+=y,$(),bt=p.charCodeAt(b);return(65<=(bt=ot.charCodeAt(0))&&bt<=90||97<=bt&&bt<=122)&&ot||null}())===null)throw new SyntaxError('Unexpected "'+Ge+'" in "'+p+'" at index '+b.toString());var Xe=ce(me);if(Xe===null)throw new SyntaxError('Unit "'+me+'" not found.');var rt=Re*Me;if(J(),te("^")){J();var ut=Y();if(ut===null)throw new SyntaxError('In "'+Se+'", "^" must be followed by a floating-point number');rt*=ut}$e.units.push({unit:Xe.unit,prefix:Xe.prefix,power:rt});for(var ft,pt=0;pt<Ce.length;pt++)$e.dimensions[pt]+=(Xe.unit.dimensions[pt]||0)*rt;for(J();y===")";){if(Ee.length===0)throw new SyntaxError('Unmatched ")" in "'+p+'" at index '+b.toString());Me/=Ee.pop(),$(),J()}qe=!1,te("*")?(Re=1,qe=!0):te("/")?(Re=-1,qe=!0):Re=1,Xe.unit.base&&(ft=Xe.unit.base.key,he.auto[ft]={unit:Xe.unit,prefix:Xe.prefix})}if(J(),y)throw new SyntaxError('Could not parse: "'+Se+'"');if(qe)throw new SyntaxError('Trailing characters: "'+Se+'"');if(Ee.length!==0)throw new SyntaxError('Unmatched "(" in "'+p+'"');if($e.units.length===0&&!Fe.allowNoUnits)throw new SyntaxError('"'+Se+'" contains no units');return $e.value=we!==void 0?$e._normalize(we):null,$e},Z.prototype.clone=function(){var Se=new Z;Se.fixPrefix=this.fixPrefix,Se.skipAutomaticSimplification=this.skipAutomaticSimplification,Se.value=(0,l.clone)(this.value),Se.dimensions=this.dimensions.slice(0),Se.units=[];for(var Fe=0;Fe<this.units.length;Fe++)for(var $e in Se.units[Fe]={},this.units[Fe])(0,l.hasOwnProperty)(this.units[Fe],$e)&&(Se.units[Fe][$e]=this.units[Fe][$e]);return Se},Z.prototype._isDerived=function(){return this.units.length!==0&&(1<this.units.length||1e-15<Math.abs(this.units[0].power-1))},Z.prototype._normalize=function(Se){var Fe,$e,Re,qe;if(Se==null||this.units.length===0)return Se;if(this._isDerived()){for(var ze=Se,we=Z._getNumberConverter((0,g.typeOf)(Se)),Ee=0;Ee<this.units.length;Ee++)Fe=we(this.units[Ee].unit.value),qe=we(this.units[Ee].prefix.value),Re=we(this.units[Ee].power),ze=O(ze,M(O(Fe,qe),Re));return ze}return Fe=(we=Z._getNumberConverter((0,g.typeOf)(Se)))(this.units[0].unit.value),$e=we(this.units[0].unit.offset),qe=we(this.units[0].prefix.value),O(N(Se,$e),O(Fe,qe))},Z.prototype._denormalize=function(Se,Fe){var $e,Re,qe,ze;if(Se==null||this.units.length===0)return Se;if(this._isDerived()){for(var we=Se,Ee=Z._getNumberConverter((0,g.typeOf)(Se)),Me=0;Me<this.units.length;Me++)$e=Ee(this.units[Me].unit.value),ze=Ee(this.units[Me].prefix.value),qe=Ee(this.units[Me].power),we=j(we,M(O($e,ze),qe));return we}return $e=(Ee=Z._getNumberConverter((0,g.typeOf)(Se)))(this.units[0].unit.value),ze=Ee(this.units[0].prefix.value),Re=Ee(this.units[0].unit.offset),T(j(j(Se,$e),Fe??ze),Re)},Z.isValuelessUnit=function(Se){return ce(Se)!==null},Z.prototype.hasBase=function(Se){if(typeof Se=="string"&&(Se=le[Se]),!Se)return!1;for(var Fe=0;Fe<Ce.length;Fe++)if(1e-12<Math.abs((this.dimensions[Fe]||0)-(Se.dimensions[Fe]||0)))return!1;return!0},Z.prototype.equalBase=function(Se){for(var Fe=0;Fe<Ce.length;Fe++)if(1e-12<Math.abs((this.dimensions[Fe]||0)-(Se.dimensions[Fe]||0)))return!1;return!0},Z.prototype.equals=function(Se){return this.equalBase(Se)&&G(this.value,Se.value)},Z.prototype.multiply=function(Se){for(var Fe=this.clone(),$e=0;$e<Ce.length;$e++)Fe.dimensions[$e]=(this.dimensions[$e]||0)+(Se.dimensions[$e]||0);for(var Re,qe,ze=0;ze<Se.units.length;ze++){var we={};for(var Ee in Se.units[ze])we[Ee]=Se.units[ze][Ee];Fe.units.push(we)}return this.value!==null||Se.value!==null?(Re=this.value===null?this._normalize(1):this.value,qe=Se.value===null?Se._normalize(1):Se.value,Fe.value=O(Re,qe)):Fe.value=null,Fe.skipAutomaticSimplification=!1,oe(Fe)},Z.prototype.divide=function(Se){for(var Fe=this.clone(),$e=0;$e<Ce.length;$e++)Fe.dimensions[$e]=(this.dimensions[$e]||0)-(Se.dimensions[$e]||0);for(var Re,qe,ze=0;ze<Se.units.length;ze++){var we={};for(var Ee in Se.units[ze])we[Ee]=Se.units[ze][Ee];we.power=-we.power,Fe.units.push(we)}return this.value!==null||Se.value!==null?(Re=this.value===null?this._normalize(1):this.value,qe=Se.value===null?Se._normalize(1):Se.value,Fe.value=j(Re,qe)):Fe.value=null,Fe.skipAutomaticSimplification=!1,oe(Fe)},Z.prototype.pow=function(Se){for(var Fe=this.clone(),$e=0;$e<Ce.length;$e++)Fe.dimensions[$e]=(this.dimensions[$e]||0)*Se;for(var Re=0;Re<Fe.units.length;Re++)Fe.units[Re].power*=Se;return Fe.value!==null?Fe.value=M(Fe.value,Se):Fe.value=null,Fe.skipAutomaticSimplification=!1,oe(Fe)},Z.prototype.abs=function(){var Se=this.clone();for(var Fe in Se.value=Se.value!==null?F(Se.value):null,Se.units)Se.units[Fe].unit.name!=="VA"&&Se.units[Fe].unit.name!=="VAR"||(Se.units[Fe].unit=pe.W);return Se},Z.prototype.to=function(Se){var Fe,$e=this.value===null?this._normalize(1):this.value;if(typeof Se=="string"){if(Fe=Z.parse(Se),!this.equalBase(Fe))throw new Error("Units do not match ('".concat(Fe.toString(),"' != '").concat(this.toString(),"')"));if(Fe.value!==null)throw new Error("Cannot convert to a unit with a value");return Fe.value=(0,l.clone)($e),Fe.fixPrefix=!0,Fe.skipAutomaticSimplification=!0,Fe}if((0,g.isUnit)(Se)){if(!this.equalBase(Se))throw new Error("Units do not match ('".concat(Se.toString(),"' != '").concat(this.toString(),"')"));if(Se.value!==null)throw new Error("Cannot convert to a unit with a value");return(Fe=Se.clone()).value=(0,l.clone)($e),Fe.fixPrefix=!0,Fe.skipAutomaticSimplification=!0,Fe}throw new Error("String or Unit expected as parameter")},Z.prototype.toNumber=function(Se){return X(this.toNumeric(Se))},Z.prototype.toNumeric=function(Se){var Fe=Se?this.to(Se):this.clone();return Fe._isDerived()||Fe.units.length===0?Fe._denormalize(Fe.value):Fe._denormalize(Fe.value,Fe.units[0].prefix.value)},Z.prototype.toString=function(){return this.format()},Z.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},Z.fromJSON=function(Se){var Fe=new Z(Se.value,Se.unit);return Fe.fixPrefix=Se.fixPrefix||!1,Fe},Z.prototype.valueOf=Z.prototype.toString,Z.prototype.simplify=function(){var Se,Fe,$e=this.clone(),Re=[];for(var qe in ne)if($e.hasBase(le[qe])){Se=qe;break}if(Se==="NONE")$e.units=[];else if(Se&&(0,l.hasOwnProperty)(ne,Se)&&(Fe=ne[Se]),Fe)$e.units=[{unit:Fe.unit,prefix:Fe.prefix,power:1}];else{for(var ze=!1,we=0;we<Ce.length;we++){var Ee=Ce[we];1e-12<Math.abs($e.dimensions[we]||0)&&((0,l.hasOwnProperty)(ne,Ee)?Re.push({unit:ne[Ee].unit,prefix:ne[Ee].prefix,power:$e.dimensions[we]||0}):ze=!0)}Re.length<$e.units.length&&!ze&&($e.units=Re)}return $e},Z.prototype.toSI=function(){for(var Se=this.clone(),Fe=[],$e=0;$e<Ce.length;$e++){var Re=Ce[$e];if(1e-12<Math.abs(Se.dimensions[$e]||0)){if(!(0,l.hasOwnProperty)(he.si,Re))throw new Error("Cannot express custom unit "+Re+" in SI units");Fe.push({unit:he.si[Re].unit,prefix:he.si[Re].prefix,power:Se.dimensions[$e]||0})}}return Se.units=Fe,Se.fixPrefix=!0,Se.skipAutomaticSimplification=!0,Se},Z.prototype.formatUnits=function(){for(var Se="",Fe="",$e=0,Re=0,qe=0;qe<this.units.length;qe++)0<this.units[qe].power?($e++,Se+=" "+this.units[qe].prefix.name+this.units[qe].unit.name,1e-15<Math.abs(this.units[qe].power-1)&&(Se+="^"+this.units[qe].power)):this.units[qe].power<0&&Re++;if(0<Re)for(var ze=0;ze<this.units.length;ze++)this.units[ze].power<0&&(0<$e?(Fe+=" "+this.units[ze].prefix.name+this.units[ze].unit.name,1e-15<Math.abs(this.units[ze].power+1)&&(Fe+="^"+-this.units[ze].power)):(Fe+=" "+this.units[ze].prefix.name+this.units[ze].unit.name,Fe+="^"+this.units[ze].power));Se=Se.substr(1),Fe=Fe.substr(1),1<$e&&0<Re&&(Se="("+Se+")"),1<Re&&0<$e&&(Fe="("+Fe+")");var we=Se;return 0<$e&&0<Re&&(we+=" / "),we+=Fe},Z.prototype.format=function(Se){var Fe=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),$e=!1;for(var Re in Fe.value!==void 0&&Fe.value!==null&&(0,g.isComplex)(Fe.value)&&($e=Math.abs(Fe.value.re)<1e-14),Fe.units)Fe.units[Re].unit&&(Fe.units[Re].unit.name==="VA"&&$e?Fe.units[Re].unit=pe.VAR:Fe.units[Re].unit.name!=="VAR"||$e||(Fe.units[Re].unit=pe.VA));Fe.units.length!==1||Fe.fixPrefix||Math.abs(Fe.units[0].power-Math.round(Fe.units[0].power))<1e-14&&(Fe.units[0].prefix=Fe._bestPrefix());var qe=Fe._denormalize(Fe.value),ze=Fe.value!==null?V(qe,Se||{}):"",we=Fe.formatUnits();return Fe.value&&(0,g.isComplex)(Fe.value)&&(ze="("+ze+")"),0<we.length&&0<ze.length&&(ze+=" "),ze+=we},Z.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(1e-14<=Math.abs(this.units[0].power-Math.round(this.units[0].power)))throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var Se=this.value!==null?F(this.value):0,Fe=F(this.units[0].unit.value),$e=this.units[0].prefix;if(Se===0)return $e;var Re=this.units[0].power,qe=Math.log(Se/Math.pow($e.value*Fe,Re))/Math.LN10-1.2;if(-2.200001<qe&&qe<1.800001)return $e;qe=Math.abs(qe);var ze,we,Ee=this.units[0].unit.prefixes;for(var Me in Ee)(0,l.hasOwnProperty)(Ee,Me)&&(!(ze=Ee[Me]).scientific||((we=Math.abs(Math.log(Se/Math.pow(ze.value*Fe,Re))/Math.LN10-1.2))<qe||we===qe&&ze.name.length<$e.name.length)&&($e=ze,qe=we));return $e};var ue={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!(Z.prototype.splitUnit=function(Se){for(var Fe=this.clone(),$e=[],Re=0;Re<Se.length&&(Fe=Fe.to(Se[Re]),Re!==Se.length-1);Re++){var qe=Fe.toNumeric(),ze=I(qe),we=new Z(G(ze,qe)?ze:B(Fe.toNumeric()),Se[Re].toString());$e.push(we),Fe=T(Fe,we)}for(var Ee=0,Me=0;Me<$e.length;Me++)Ee=N(Ee,$e[Me].value);return G(Ee,this.value)&&(Fe.value=0),$e.push(Fe),$e})},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};ue.SHORTLONG=D({},ue.SHORT,ue.LONG),ue.BINARY_SHORT=D({},ue.BINARY_SHORT_SI,ue.BINARY_SHORT_IEC),ue.BINARY_LONG=D({},ue.BINARY_LONG_SI,ue.BINARY_LONG_IEC);var Ce=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],le={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var ye in le)le[ye].key=ye;var ve={name:"",base:{},value:1,offset:0,dimensions:Ce.map(function(Se){return 0})},pe={meter:{name:"meter",base:le.LENGTH,prefixes:ue.LONG,value:1,offset:0},inch:{name:"inch",base:le.LENGTH,prefixes:ue.NONE,value:.0254,offset:0},foot:{name:"foot",base:le.LENGTH,prefixes:ue.NONE,value:.3048,offset:0},yard:{name:"yard",base:le.LENGTH,prefixes:ue.NONE,value:.9144,offset:0},mile:{name:"mile",base:le.LENGTH,prefixes:ue.NONE,value:1609.344,offset:0},link:{name:"link",base:le.LENGTH,prefixes:ue.NONE,value:.201168,offset:0},rod:{name:"rod",base:le.LENGTH,prefixes:ue.NONE,value:5.0292,offset:0},chain:{name:"chain",base:le.LENGTH,prefixes:ue.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:le.LENGTH,prefixes:ue.NONE,value:1e-10,offset:0},m:{name:"m",base:le.LENGTH,prefixes:ue.SHORT,value:1,offset:0},in:{name:"in",base:le.LENGTH,prefixes:ue.NONE,value:.0254,offset:0},ft:{name:"ft",base:le.LENGTH,prefixes:ue.NONE,value:.3048,offset:0},yd:{name:"yd",base:le.LENGTH,prefixes:ue.NONE,value:.9144,offset:0},mi:{name:"mi",base:le.LENGTH,prefixes:ue.NONE,value:1609.344,offset:0},li:{name:"li",base:le.LENGTH,prefixes:ue.NONE,value:.201168,offset:0},rd:{name:"rd",base:le.LENGTH,prefixes:ue.NONE,value:5.02921,offset:0},ch:{name:"ch",base:le.LENGTH,prefixes:ue.NONE,value:20.1168,offset:0},mil:{name:"mil",base:le.LENGTH,prefixes:ue.NONE,value:254e-7,offset:0},m2:{name:"m2",base:le.SURFACE,prefixes:ue.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:le.SURFACE,prefixes:ue.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:le.SURFACE,prefixes:ue.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:le.SURFACE,prefixes:ue.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:le.SURFACE,prefixes:ue.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:le.SURFACE,prefixes:ue.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:le.SURFACE,prefixes:ue.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:le.SURFACE,prefixes:ue.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:le.SURFACE,prefixes:ue.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:le.SURFACE,prefixes:ue.NONE,value:1e4,offset:0},m3:{name:"m3",base:le.VOLUME,prefixes:ue.CUBIC,value:1,offset:0},L:{name:"L",base:le.VOLUME,prefixes:ue.SHORT,value:.001,offset:0},l:{name:"l",base:le.VOLUME,prefixes:ue.SHORT,value:.001,offset:0},litre:{name:"litre",base:le.VOLUME,prefixes:ue.LONG,value:.001,offset:0},cuin:{name:"cuin",base:le.VOLUME,prefixes:ue.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:le.VOLUME,prefixes:ue.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:le.VOLUME,prefixes:ue.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:le.VOLUME,prefixes:ue.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:le.VOLUME,prefixes:ue.NONE,value:15e-6,offset:0},drop:{name:"drop",base:le.VOLUME,prefixes:ue.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:le.VOLUME,prefixes:ue.NONE,value:5e-8,offset:0},minim:{name:"minim",base:le.VOLUME,prefixes:ue.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:le.VOLUME,prefixes:ue.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:le.VOLUME,prefixes:ue.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:le.VOLUME,prefixes:ue.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:le.VOLUME,prefixes:ue.NONE,value:1e-6,offset:0},cup:{name:"cup",base:le.VOLUME,prefixes:ue.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:le.VOLUME,prefixes:ue.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:le.VOLUME,prefixes:ue.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:le.VOLUME,prefixes:ue.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:le.VOLUME,prefixes:ue.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:le.VOLUME,prefixes:ue.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:le.VOLUME,prefixes:ue.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:le.VOLUME,prefixes:ue.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:le.VOLUME,prefixes:ue.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:le.VOLUME,prefixes:ue.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:le.VOLUME,prefixes:ue.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:le.VOLUME,prefixes:ue.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:le.VOLUME,prefixes:ue.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:le.VOLUME,prefixes:ue.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:le.VOLUME,prefixes:ue.NONE,value:.1173478,offset:0},obl:{name:"obl",base:le.VOLUME,prefixes:ue.NONE,value:.1589873,offset:0},g:{name:"g",base:le.MASS,prefixes:ue.SHORT,value:.001,offset:0},gram:{name:"gram",base:le.MASS,prefixes:ue.LONG,value:.001,offset:0},ton:{name:"ton",base:le.MASS,prefixes:ue.SHORT,value:907.18474,offset:0},t:{name:"t",base:le.MASS,prefixes:ue.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:le.MASS,prefixes:ue.LONG,value:1e3,offset:0},grain:{name:"grain",base:le.MASS,prefixes:ue.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:le.MASS,prefixes:ue.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:le.MASS,prefixes:ue.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:le.MASS,prefixes:ue.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:le.MASS,prefixes:ue.NONE,value:45.359237,offset:0},stick:{name:"stick",base:le.MASS,prefixes:ue.NONE,value:.115,offset:0},stone:{name:"stone",base:le.MASS,prefixes:ue.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:le.MASS,prefixes:ue.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:le.MASS,prefixes:ue.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:le.MASS,prefixes:ue.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:le.MASS,prefixes:ue.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:le.MASS,prefixes:ue.NONE,value:45.359237,offset:0},s:{name:"s",base:le.TIME,prefixes:ue.SHORT,value:1,offset:0},min:{name:"min",base:le.TIME,prefixes:ue.NONE,value:60,offset:0},h:{name:"h",base:le.TIME,prefixes:ue.NONE,value:3600,offset:0},second:{name:"second",base:le.TIME,prefixes:ue.LONG,value:1,offset:0},sec:{name:"sec",base:le.TIME,prefixes:ue.LONG,value:1,offset:0},minute:{name:"minute",base:le.TIME,prefixes:ue.NONE,value:60,offset:0},hour:{name:"hour",base:le.TIME,prefixes:ue.NONE,value:3600,offset:0},day:{name:"day",base:le.TIME,prefixes:ue.NONE,value:86400,offset:0},week:{name:"week",base:le.TIME,prefixes:ue.NONE,value:604800,offset:0},month:{name:"month",base:le.TIME,prefixes:ue.NONE,value:2629800,offset:0},year:{name:"year",base:le.TIME,prefixes:ue.NONE,value:31557600,offset:0},decade:{name:"decade",base:le.TIME,prefixes:ue.NONE,value:315576e3,offset:0},century:{name:"century",base:le.TIME,prefixes:ue.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:le.TIME,prefixes:ue.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:le.FREQUENCY,prefixes:ue.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:le.FREQUENCY,prefixes:ue.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:le.ANGLE,prefixes:ue.SHORT,value:1,offset:0},radian:{name:"radian",base:le.ANGLE,prefixes:ue.LONG,value:1,offset:0},deg:{name:"deg",base:le.ANGLE,prefixes:ue.SHORT,value:null,offset:0},degree:{name:"degree",base:le.ANGLE,prefixes:ue.LONG,value:null,offset:0},grad:{name:"grad",base:le.ANGLE,prefixes:ue.SHORT,value:null,offset:0},gradian:{name:"gradian",base:le.ANGLE,prefixes:ue.LONG,value:null,offset:0},cycle:{name:"cycle",base:le.ANGLE,prefixes:ue.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:le.ANGLE,prefixes:ue.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:le.ANGLE,prefixes:ue.NONE,value:null,offset:0},A:{name:"A",base:le.CURRENT,prefixes:ue.SHORT,value:1,offset:0},ampere:{name:"ampere",base:le.CURRENT,prefixes:ue.LONG,value:1,offset:0},K:{name:"K",base:le.TEMPERATURE,prefixes:ue.NONE,value:1,offset:0},degC:{name:"degC",base:le.TEMPERATURE,prefixes:ue.NONE,value:1,offset:273.15},degF:{name:"degF",base:le.TEMPERATURE,prefixes:ue.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:le.TEMPERATURE,prefixes:ue.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:le.TEMPERATURE,prefixes:ue.NONE,value:1,offset:0},celsius:{name:"celsius",base:le.TEMPERATURE,prefixes:ue.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:le.TEMPERATURE,prefixes:ue.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:le.TEMPERATURE,prefixes:ue.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:le.AMOUNT_OF_SUBSTANCE,prefixes:ue.SHORT,value:1,offset:0},mole:{name:"mole",base:le.AMOUNT_OF_SUBSTANCE,prefixes:ue.LONG,value:1,offset:0},cd:{name:"cd",base:le.LUMINOUS_INTENSITY,prefixes:ue.SHORT,value:1,offset:0},candela:{name:"candela",base:le.LUMINOUS_INTENSITY,prefixes:ue.LONG,value:1,offset:0},N:{name:"N",base:le.FORCE,prefixes:ue.SHORT,value:1,offset:0},newton:{name:"newton",base:le.FORCE,prefixes:ue.LONG,value:1,offset:0},dyn:{name:"dyn",base:le.FORCE,prefixes:ue.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:le.FORCE,prefixes:ue.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:le.FORCE,prefixes:ue.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:le.FORCE,prefixes:ue.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:le.FORCE,prefixes:ue.LONG,value:4448.2216,offset:0},J:{name:"J",base:le.ENERGY,prefixes:ue.SHORT,value:1,offset:0},joule:{name:"joule",base:le.ENERGY,prefixes:ue.SHORT,value:1,offset:0},erg:{name:"erg",base:le.ENERGY,prefixes:ue.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:le.ENERGY,prefixes:ue.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:le.ENERGY,prefixes:ue.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:le.ENERGY,prefixes:ue.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:le.ENERGY,prefixes:ue.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:le.POWER,prefixes:ue.SHORT,value:1,offset:0},watt:{name:"watt",base:le.POWER,prefixes:ue.LONG,value:1,offset:0},hp:{name:"hp",base:le.POWER,prefixes:ue.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:le.POWER,prefixes:ue.SHORT,value:U.I,offset:0},VA:{name:"VA",base:le.POWER,prefixes:ue.SHORT,value:1,offset:0},Pa:{name:"Pa",base:le.PRESSURE,prefixes:ue.SHORT,value:1,offset:0},psi:{name:"psi",base:le.PRESSURE,prefixes:ue.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:le.PRESSURE,prefixes:ue.NONE,value:101325,offset:0},bar:{name:"bar",base:le.PRESSURE,prefixes:ue.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:le.PRESSURE,prefixes:ue.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:le.PRESSURE,prefixes:ue.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:le.PRESSURE,prefixes:ue.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:le.PRESSURE,prefixes:ue.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:le.ELECTRIC_CHARGE,prefixes:ue.LONG,value:1,offset:0},C:{name:"C",base:le.ELECTRIC_CHARGE,prefixes:ue.SHORT,value:1,offset:0},farad:{name:"farad",base:le.ELECTRIC_CAPACITANCE,prefixes:ue.LONG,value:1,offset:0},F:{name:"F",base:le.ELECTRIC_CAPACITANCE,prefixes:ue.SHORT,value:1,offset:0},volt:{name:"volt",base:le.ELECTRIC_POTENTIAL,prefixes:ue.LONG,value:1,offset:0},V:{name:"V",base:le.ELECTRIC_POTENTIAL,prefixes:ue.SHORT,value:1,offset:0},ohm:{name:"ohm",base:le.ELECTRIC_RESISTANCE,prefixes:ue.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:le.ELECTRIC_INDUCTANCE,prefixes:ue.LONG,value:1,offset:0},H:{name:"H",base:le.ELECTRIC_INDUCTANCE,prefixes:ue.SHORT,value:1,offset:0},siemens:{name:"siemens",base:le.ELECTRIC_CONDUCTANCE,prefixes:ue.LONG,value:1,offset:0},S:{name:"S",base:le.ELECTRIC_CONDUCTANCE,prefixes:ue.SHORT,value:1,offset:0},weber:{name:"weber",base:le.MAGNETIC_FLUX,prefixes:ue.LONG,value:1,offset:0},Wb:{name:"Wb",base:le.MAGNETIC_FLUX,prefixes:ue.SHORT,value:1,offset:0},tesla:{name:"tesla",base:le.MAGNETIC_FLUX_DENSITY,prefixes:ue.LONG,value:1,offset:0},T:{name:"T",base:le.MAGNETIC_FLUX_DENSITY,prefixes:ue.SHORT,value:1,offset:0},b:{name:"b",base:le.BIT,prefixes:ue.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:le.BIT,prefixes:ue.BINARY_LONG,value:1,offset:0},B:{name:"B",base:le.BIT,prefixes:ue.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:le.BIT,prefixes:ue.BINARY_LONG,value:8,offset:0}},be={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function Ne(Se){var Fe;Se.number==="BigNumber"?(Fe=(0,x.createBigNumberPi)(L),pe.rad.value=new L(1),pe.deg.value=Fe.div(180),pe.grad.value=Fe.div(200),pe.cycle.value=Fe.times(2),pe.arcsec.value=Fe.div(648e3),pe.arcmin.value=Fe.div(10800)):(pe.rad.value=1,pe.deg.value=Math.PI/180,pe.grad.value=Math.PI/200,pe.cycle.value=2*Math.PI,pe.arcsec.value=Math.PI/648e3,pe.arcmin.value=Math.PI/10800),pe.radian.value=pe.rad.value,pe.degree.value=pe.deg.value,pe.gradian.value=pe.grad.value}Ne(E),A&&A("config",function(Se,Fe){Se.number!==Fe.number&&Ne(Se)});var he={si:{NONE:{unit:ve,prefix:ue.NONE[""]},LENGTH:{unit:pe.m,prefix:ue.SHORT[""]},MASS:{unit:pe.g,prefix:ue.SHORT.k},TIME:{unit:pe.s,prefix:ue.SHORT[""]},CURRENT:{unit:pe.A,prefix:ue.SHORT[""]},TEMPERATURE:{unit:pe.K,prefix:ue.SHORT[""]},LUMINOUS_INTENSITY:{unit:pe.cd,prefix:ue.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:pe.mol,prefix:ue.SHORT[""]},ANGLE:{unit:pe.rad,prefix:ue.SHORT[""]},BIT:{unit:pe.bits,prefix:ue.SHORT[""]},FORCE:{unit:pe.N,prefix:ue.SHORT[""]},ENERGY:{unit:pe.J,prefix:ue.SHORT[""]},POWER:{unit:pe.W,prefix:ue.SHORT[""]},PRESSURE:{unit:pe.Pa,prefix:ue.SHORT[""]},ELECTRIC_CHARGE:{unit:pe.C,prefix:ue.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:pe.F,prefix:ue.SHORT[""]},ELECTRIC_POTENTIAL:{unit:pe.V,prefix:ue.SHORT[""]},ELECTRIC_RESISTANCE:{unit:pe.ohm,prefix:ue.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:pe.H,prefix:ue.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:pe.S,prefix:ue.SHORT[""]},MAGNETIC_FLUX:{unit:pe.Wb,prefix:ue.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:pe.T,prefix:ue.SHORT[""]},FREQUENCY:{unit:pe.Hz,prefix:ue.SHORT[""]}}};he.cgs=JSON.parse(JSON.stringify(he.si)),he.cgs.LENGTH={unit:pe.m,prefix:ue.SHORT.c},he.cgs.MASS={unit:pe.g,prefix:ue.SHORT[""]},he.cgs.FORCE={unit:pe.dyn,prefix:ue.SHORT[""]},he.cgs.ENERGY={unit:pe.erg,prefix:ue.NONE[""]},he.us=JSON.parse(JSON.stringify(he.si)),he.us.LENGTH={unit:pe.ft,prefix:ue.NONE[""]},he.us.MASS={unit:pe.lbm,prefix:ue.NONE[""]},he.us.TEMPERATURE={unit:pe.degF,prefix:ue.NONE[""]},he.us.FORCE={unit:pe.lbf,prefix:ue.NONE[""]},he.us.ENERGY={unit:pe.BTU,prefix:ue.BTU[""]},he.us.POWER={unit:pe.hp,prefix:ue.NONE[""]},he.us.PRESSURE={unit:pe.psi,prefix:ue.NONE[""]},he.auto=JSON.parse(JSON.stringify(he.si));var ne=he.auto;for(var re in Z.setUnitSystem=function(Se){if(!(0,l.hasOwnProperty)(he,Se))throw new Error("Unit system "+Se+" does not exist. Choices are: "+Object.keys(he).join(", "));ne=he[Se]},Z.getUnitSystem=function(){for(var Se in he)if(he[Se]===ne)return Se},Z.typeConverters={BigNumber:function(Se){return new L(Se+"")},Fraction:function(Se){return new H(Se)},Complex:function(Se){return Se},number:function(Se){return Se}},Z._getNumberConverter=function(Se){if(!Z.typeConverters[Se])throw new TypeError('Unsupported type "'+Se+'"');return Z.typeConverters[Se]},pe){var de=pe[re];de.dimensions=de.base.dimensions}for(var xe in be)if((0,l.hasOwnProperty)(be,xe)){var Pe=pe[be[xe]],Ae={};for(var Oe in Pe)(0,l.hasOwnProperty)(Pe,Oe)&&(Ae[Oe]=Pe[Oe]);Ae.name=xe,pe[xe]=Ae}return Z.createUnit=function(Se,Fe){if(S(Se)!=="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(Fe&&Fe.override){for(var $e in Se)if((0,l.hasOwnProperty)(Se,$e)&&Z.deleteUnit($e),Se[$e].aliases)for(var Re=0;Re<Se[$e].aliases.length;Re++)Z.deleteUnit(Se[$e].aliases[Re])}var qe;for(var ze in Se)(0,l.hasOwnProperty)(Se,ze)&&(qe=Z.createUnitSingle(ze,Se[ze]));return qe},Z.createUnitSingle=function(Se,Fe,$e){if(Fe==null&&(Fe={}),typeof Se!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if((0,l.hasOwnProperty)(pe,Se))throw new Error('Cannot create unit "'+Se+'": a unit with that name already exists');(function(Nt){for(var Ot,Tt=0;Tt<Nt.length;Tt++){var It=Nt.charAt(Tt),Pt=function(Rt){return/^[a-zA-Z]$/.test(Rt)};if(Tt===0&&!Pt(It))throw new Error('Invalid unit name (must begin with alpha character): "'+Nt+'"');if(0<Tt&&!(Pt(It)||"0"<=(Ot=It)&&Ot<="9"))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+Nt+'"')}})(Se);var Re,qe,ze,we=null,Ee=[],Me=0;if(Fe&&Fe.type==="Unit")we=Fe.clone();else if(typeof Fe=="string")Fe!==""&&(Re=Fe);else{if(S(Fe)!=="object")throw new TypeError('Cannot create unit "'+Se+'" from "'+Fe.toString()+'": expecting "string" or "Unit" or "Object"');Re=Fe.definition,qe=Fe.prefixes,Me=Fe.offset,ze=Fe.baseName,Fe.aliases&&(Ee=Fe.aliases.valueOf())}if(Ee){for(var me=0;me<Ee.length;me++)if((0,l.hasOwnProperty)(pe,Ee[me]))throw new Error('Cannot create alias "'+Ee[me]+'": a unit with that name already exists')}if(Re&&typeof Re=="string"&&!we)try{we=Z.parse(Re,{allowNoUnits:!0})}catch(Nt){throw Nt.message='Could not create unit "'+Se+'" from "'+Re+'": '+Nt.message,Nt}else Re&&Re.type==="Unit"&&(we=Re.clone());Ee=Ee||[],Me=Me||0,qe=qe&&qe.toUpperCase&&ue[qe.toUpperCase()]||ue.NONE;var Ge={};if(we){var Xe,rt=!(Ge={name:Se,value:we.value,dimensions:we.dimensions.slice(0),prefixes:qe,offset:Me});for(var ut in le)if((0,l.hasOwnProperty)(le,ut)){for(var ft=!0,pt=0;pt<Ce.length;pt++)if(1e-12<Math.abs((Ge.dimensions[pt]||0)-(le[ut].dimensions[pt]||0))){ft=!1;break}if(ft){rt=!0,Ge.base=le[ut];break}}rt||(ze=ze||Se+"_STUFF",(Xe={dimensions:we.dimensions.slice(0)}).key=ze,le[ze]=Xe,ne[ze]={unit:Ge,prefix:ue.NONE[""]},Ge.base=le[ze])}else{if(ze=ze||Se+"_STUFF",0<=Ce.indexOf(ze))throw new Error('Cannot create new base unit "'+Se+'": a base unit with that name already exists (and cannot be overridden)');for(var ot in Ce.push(ze),le)(0,l.hasOwnProperty)(le,ot)&&(le[ot].dimensions[Ce.length-1]=0);for(var bt={dimensions:[]},At=0;At<Ce.length;At++)bt.dimensions[At]=0;bt.dimensions[Ce.length-1]=1,bt.key=ze,le[ze]=bt,Ge={name:Se,value:1,dimensions:le[ze].dimensions.slice(0),prefixes:qe,offset:Me,base:le[ze]},ne[ze]={unit:Ge,prefix:ue.NONE[""]}}Z.UNITS[Se]=Ge;for(var Ke=0;Ke<Ee.length;Ke++){var dt=Ee[Ke],vt={};for(var wt in Ge)(0,l.hasOwnProperty)(Ge,wt)&&(vt[wt]=Ge[wt]);vt.name=dt,Z.UNITS[dt]=vt}return new Z(null,Se)},Z.deleteUnit=function(Se){delete Z.UNITS[Se]},Z.PREFIXES=ue,Z.BASE_DIMENSIONS=Ce,Z.BASE_UNITS=le,Z.UNIT_SYSTEMS=he,Z.UNITS=pe,Z},{isClass:!0});r.createUnitClass=_},{"../../utils/bignumber/constants":924,"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938,"../../utils/string":941}],918:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCreateUnit=void 0;var g=n("../../../utils/factory"),f=["typed","Unit"],m=(0,g.factory)("createUnit",f,function(l){var x=l.typed,S=l.Unit;return x("createUnit",{"Object, Object":function(D,h){return S.createUnit(D,h)},Object:function(D){return S.createUnit(D,{})},"string, Unit | string | Object, Object":function(D,h,_){var o={};return o[D]=h,S.createUnit(o,_)},"string, Unit | string | Object":function(D,h){var _={};return _[D]=h,S.createUnit(_,{})},string:function(D){var h={};return h[D]={},S.createUnit(h,{})}})});r.createCreateUnit=m},{"../../../utils/factory":931}],919:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSplitUnit=void 0;var g=n("../../../utils/factory"),f=["typed"],m=(0,g.factory)("splitUnit",f,function(l){return(0,l.typed)("splitUnit",{"Unit, Array":function(x,S){return x.splitUnit(S)}})});r.createSplitUnit=m},{"../../../utils/factory":931}],920:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUnitFunction=void 0;var g=n("../../../utils/factory"),f=n("../../../utils/collection"),m=["typed","Unit"],l=(0,g.factory)("unit",m,function(x){var S=x.typed,D=x.Unit,h=S("unit",{Unit:function(_){return _.clone()},string:function(_){return D.isValuelessUnit(_)?new D(null,_):D.parse(_,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(_,o){return new D(_,o)},"Array | Matrix":function(_){return(0,f.deepMap)(_,h)}});return h});r.createUnitFunction=l},{"../../../utils/collection":927,"../../../utils/factory":931}],921:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createPlanckTemperature=r.createPlanckCharge=r.createPlanckTime=r.createPlanckMass=r.createPlanckLength=r.createGravity=r.createMolarMassC12=r.createMolarMass=r.createWienDisplacement=r.createStefanBoltzmann=r.createSecondRadiation=r.createSackurTetrode=r.createMolarVolume=r.createMolarPlanckConstant=r.createGasConstant=r.createLoschmidt=r.createFirstRadiation=r.createFaraday=r.createBoltzmann=r.createAvogadro=r.createAtomicMass=r.createEfimovFactor=r.createWeakMixingAngle=r.createThomsonCrossSection=r.createRydberg=r.createQuantumOfCirculation=r.createNeutronMass=r.createDeuteronMass=r.createProtonMass=r.createHartreeEnergy=r.createFineStructure=r.createFermiCoupling=r.createElectronMass=r.createClassicalElectronRadius=r.createBohrRadius=r.createJosephson=r.createKlitzing=r.createNuclearMagneton=r.createMagneticFluxQuantum=r.createInverseConductanceQuantum=r.createConductanceQuantum=r.createBohrMagneton=r.createElementaryCharge=r.createCoulomb=r.createVacuumImpedance=r.createElectricConstant=r.createMagneticConstant=r.createReducedPlanckConstant=r.createPlanckConstant=r.createGravitationConstant=r.createSpeedOfLight=void 0;var g=n("../../utils/factory"),f=xe("speedOfLight","299792458","m s^-1");r.createSpeedOfLight=f;var m=xe("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2");r.createGravitationConstant=m;var l=xe("planckConstant","6.62607015e-34","J s");r.createPlanckConstant=l;var x=xe("reducedPlanckConstant","1.0545718176461565e-34","J s");r.createReducedPlanckConstant=x;var S=xe("magneticConstant","1.25663706212e-6","N A^-2");r.createMagneticConstant=S;var D=xe("electricConstant","8.8541878128e-12","F m^-1");r.createElectricConstant=D;var h=xe("vacuumImpedance","376.730313667","ohm");r.createVacuumImpedance=h;var _=xe("coulomb","8.987551792261171e9","N m^2 C^-2");r.createCoulomb=_;var o=xe("elementaryCharge","1.602176634e-19","C");r.createElementaryCharge=o;var p=xe("bohrMagneton","9.2740100783e-24","J T^-1");r.createBohrMagneton=p;var b=xe("conductanceQuantum","7.748091729863649e-5","S");r.createConductanceQuantum=b;var y=xe("inverseConductanceQuantum","12906.403729652257","ohm");r.createInverseConductanceQuantum=y;var A=xe("magneticFluxQuantum","2.0678338484619295e-15","Wb");r.createMagneticFluxQuantum=A;var E=xe("nuclearMagneton","5.0507837461e-27","J T^-1");r.createNuclearMagneton=E;var N=xe("klitzing","25812.807459304513","ohm");r.createKlitzing=N;var T=xe("josephson","4.835978484169836e14 Hz V","Hz V^-1");r.createJosephson=T;var O=xe("bohrRadius","5.29177210903e-11","m");r.createBohrRadius=O;var j=xe("classicalElectronRadius","2.8179403262e-15","m");r.createClassicalElectronRadius=j;var M=xe("electronMass","9.1093837015e-31","kg");r.createElectronMass=M;var F=xe("fermiCoupling","1.1663787e-5","GeV^-2");r.createFermiCoupling=F;var B=Pe("fineStructure",.0072973525693);r.createFineStructure=B;var I=xe("hartreeEnergy","4.3597447222071e-18","J");r.createHartreeEnergy=I;var G=xe("protonMass","1.67262192369e-27","kg");r.createProtonMass=G;var k=xe("deuteronMass","3.3435830926e-27","kg");r.createDeuteronMass=k;var V=xe("neutronMass","1.6749271613e-27","kg");r.createNeutronMass=V;var R=xe("quantumOfCirculation","3.6369475516e-4","m^2 s^-1");r.createQuantumOfCirculation=R;var U=xe("rydberg","10973731.568160","m^-1");r.createRydberg=U;var L=xe("thomsonCrossSection","6.6524587321e-29","m^2");r.createThomsonCrossSection=L;var H=Pe("weakMixingAngle",.2229);r.createWeakMixingAngle=H;var X=Pe("efimovFactor",22.7);r.createEfimovFactor=X;var Z=xe("atomicMass","1.66053906660e-27","kg");r.createAtomicMass=Z;var J=xe("avogadro","6.02214076e23","mol^-1");r.createAvogadro=J;var K=xe("boltzmann","1.380649e-23","J K^-1");r.createBoltzmann=K;var $=xe("faraday","96485.33212331001","C mol^-1");r.createFaraday=$;var W=xe("firstRadiation","3.7417718521927573e-16","W m^2");r.createFirstRadiation=W;var Y=xe("loschmidt","2.686780111798444e25","m^-3");r.createLoschmidt=Y;var te=xe("gasConstant","8.31446261815324","J K^-1 mol^-1");r.createGasConstant=te;var ce=xe("molarPlanckConstant","3.990312712893431e-10","J s mol^-1");r.createMolarPlanckConstant=ce;var oe=xe("molarVolume","0.022413969545014137","m^3 mol^-1");r.createMolarVolume=oe;var ue=Pe("sackurTetrode",-1.16487052358);r.createSackurTetrode=ue;var Ce=xe("secondRadiation","0.014387768775039337","m K");r.createSecondRadiation=Ce;var le=xe("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4");r.createStefanBoltzmann=le;var ye=xe("wienDisplacement","2.897771955e-3","m K");r.createWienDisplacement=ye;var ve=xe("molarMass","0.99999999965e-3","kg mol^-1");r.createMolarMass=ve;var pe=xe("molarMassC12","11.9999999958e-3","kg mol^-1");r.createMolarMassC12=pe;var be=xe("gravity","9.80665","m s^-2");r.createGravity=be;var Ne=xe("planckLength","1.616255e-35","m");r.createPlanckLength=Ne;var he=xe("planckMass","2.176435e-8","kg");r.createPlanckMass=he;var ne=xe("planckTime","5.391245e-44","s");r.createPlanckTime=ne;var re=xe("planckCharge","1.87554603778e-18","C");r.createPlanckCharge=re;var de=xe("planckTemperature","1.416785e+32","K");function xe(Ae,Oe,Se){return(0,g.factory)(Ae,["config","Unit","BigNumber"],function(Fe){var $e=Fe.config,Re=Fe.Unit,qe=Fe.BigNumber,ze=new Re($e.number==="BigNumber"?new qe(Oe):parseFloat(Oe),Se);return ze.fixPrefix=!0,ze})}function Pe(Ae,Oe){return(0,g.factory)(Ae,["config","BigNumber"],function(Se){var Fe=Se.config,$e=Se.BigNumber;return Fe.number==="BigNumber"?new $e(Oe):Oe})}r.createPlanckTemperature=de},{"../../utils/factory":931}],922:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.arraySize=S,r.validate=function(h,_){if(_.length===0){if(Array.isArray(h))throw new l.DimensionError(h.length,0)}else(function o(p,b,y){var A,E=p.length;if(E!==b[y])throw new l.DimensionError(E,b[y]);if(y<b.length-1){var N=y+1;for(A=0;A<E;A++){var T=p[A];if(!Array.isArray(T))throw new l.DimensionError(b.length-1,b.length,"<");o(p[A],b,N)}}else for(A=0;A<E;A++)if(Array.isArray(p[A]))throw new l.DimensionError(b.length+1,b.length,">")})(h,_,0)},r.validateIndex=function(h,_){if(!(0,f.isNumber)(h)||!(0,g.isInteger)(h))throw new TypeError("Index must be an integer (value: "+h+")");if(h<0||typeof _=="number"&&_<=h)throw new x.IndexError(h,_)},r.resize=function(h,_,o){if(!Array.isArray(h)||!Array.isArray(_))throw new TypeError("Array expected");if(_.length===0)throw new Error("Resizing to scalar is not supported");_.forEach(function(b){if(!(0,f.isNumber)(b)||!(0,g.isInteger)(b)||b<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,m.format)(_)+")")});var p=o!==void 0?o:0;return function b(y,A,E,N){var T,O,j=y.length,M=A[E],F=Math.min(j,M);if(y.length=M,E<A.length-1){var B=E+1;for(T=0;T<F;T++)O=y[T],Array.isArray(O)||(O=[O],y[T]=O),b(O,A,B,N);for(T=F;T<M;T++)O=[],y[T]=O,b(O,A,B,N)}else{for(T=0;T<F;T++)for(;Array.isArray(y[T]);)y[T]=y[T][0];for(T=F;T<M;T++)y[T]=N}}(h,_,0,p),h},r.reshape=function(h,_){var o,p=D(h);function b(E){return E.reduce(function(N,T){return N*T})}if(!Array.isArray(h)||!Array.isArray(_))throw new TypeError("Array expected");if(_.length===0)throw new l.DimensionError(0,b(S(h)),"!=");for(var y=1,A=0;A<_.length;A++)y*=_[A];if(p.length!==y)throw new l.DimensionError(b(_),b(S(h)),"!=");try{o=function(E,N){for(var T,O=E,j=N.length-1;0<j;j--){var M=N[j];T=[];for(var F=O.length/M,B=0;B<F;B++)T.push(O.slice(B*M,(B+1)*M));O=T}return O}(p,_)}catch(E){throw E instanceof l.DimensionError?new l.DimensionError(b(_),b(S(h)),"!="):E}return o},r.squeeze=function(h,_){for(var o=_||S(h);Array.isArray(h)&&h.length===1;)h=h[0],o.shift();for(var p=o.length;o[p-1]===1;)p--;return p<o.length&&(h=function b(y,A,E){var N,T;if(E<A){var O=E+1;for(N=0,T=y.length;N<T;N++)y[N]=b(y[N],A,O)}else for(;Array.isArray(y);)y=y[0];return y}(h,p,0),o.length=p),h},r.unsqueeze=function(h,_,o,p){var b=p||S(h);if(o)for(var y=0;y<o;y++)h=[h],b.unshift(1);for(h=function A(E,N,T){var O,j;if(Array.isArray(E)){var M=T+1;for(O=0,j=E.length;O<j;O++)E[O]=A(E[O],N,M)}else for(var F=T;F<N;F++)E=[E];return E}(h,_,0);b.length<_;)b.push(1);return h},r.flatten=D,r.map=function(h,_){return Array.prototype.map.call(h,_)},r.forEach=function(h,_){Array.prototype.forEach.call(h,_)},r.filter=function(h,_){if(S(h).length===1)return Array.prototype.filter.call(h,_);throw new Error("Only one dimensional matrices supported")},r.filterRegExp=function(h,_){if(S(h).length===1)return Array.prototype.filter.call(h,function(o){return _.test(o)});throw new Error("Only one dimensional matrices supported")},r.join=function(h,_){return Array.prototype.join.call(h,_)},r.identify=function(h){if(!Array.isArray(h))throw new TypeError("Array input expected");if(h.length===0)return h;var _=[],o=0;_[0]={value:h[0],identifier:0};for(var p=1;p<h.length;p++)h[p]===h[p-1]?o++:o=0,_.push({value:h[p],identifier:o});return _},r.generalize=function(h){if(!Array.isArray(h))throw new TypeError("Array input expected");if(h.length===0)return h;for(var _=[],o=0;o<h.length;o++)_.push(h[o].value);return _},r.getArrayDataType=function h(_,o){for(var p,b=0,y=0;y<_.length;y++){var A=_[y],E=Array.isArray(A);if(y===0&&E&&(b=A.length),E&&A.length!==b)return;var N=E?h(A,o):o(A);if(p===void 0)p=N;else if(p!==N)return"mixed"}return p},r.last=function(h){return h[h.length-1]},r.initial=function(h){return h.slice(0,h.length-1)},r.contains=function(h,_){return h.indexOf(_)!==-1};var g=n("./number"),f=n("./is"),m=n("./string"),l=n("../error/DimensionError"),x=n("../error/IndexError");function S(h){for(var _=[];Array.isArray(h);)_.push(h.length),h=h[0];return _}function D(h){if(!Array.isArray(h))return h;var _=[];return h.forEach(function o(p){Array.isArray(p)?p.forEach(o):_.push(p)}),_}},{"../error/DimensionError":399,"../error/IndexError":400,"./is":933,"./number":937,"./string":941}],923:[function(n,a,r){function g(l){if(l.isFinite()&&!l.isInteger())throw new Error("Integer expected in function bitNot");var x=l.constructor,S=x.precision;x.config({precision:1e9});var D=l.plus(new x(1));return D.s=-D.s||null,x.config({precision:S}),D}function f(l,x,S){var D,h,_,o,p,b=l.constructor,y=+(l.s<0),A=+(x.s<0);if(y){D=m(g(l));for(var E=0;E<D.length;++E)D[E]^=1}else D=m(l);if(A){h=m(g(x));for(var N=0;N<h.length;++N)h[N]^=1}else h=m(x);p=D.length<=h.length?(_=D,o=h,y):(_=h,o=D,A);var T=_.length,O=o.length,j=1^S(y,A),M=new b(1^j),F=new b(1),B=new b(2),I=b.precision;for(b.config({precision:1e9});0<T;)S(_[--T],o[--O])===j&&(M=M.plus(F)),F=F.times(B);for(;0<O;)S(p,o[--O])===j&&(M=M.plus(F)),F=F.times(B);return b.config({precision:I}),j==0&&(M.s=-M.s),M}function m(l){for(var x=l.d,S=x[0]+"",D=1;D<x.length;++D){for(var h=x[D]+"",_=7-h.length;_--;)h="0"+h;S+=h}for(var o=S.length;S.charAt(o)==="0";)o--;var p=l.e,b=S.slice(0,o+1||1),y=b.length;if(0<p)if(++p>y)for(p-=y;p--;)b+="0";else p<y&&(b=b.slice(0,p)+"."+b.slice(p));for(var A=[0],E=0;E<b.length;){for(var N=A.length;N--;)A[N]*=10;A[0]+=parseInt(b.charAt(E++));for(var T=0;T<A.length;++T)1<A[T]&&(A[T+1]!==null&&A[T+1]!==void 0||(A[T+1]=0),A[T+1]+=A[T]>>1,A[T]&=1)}return A.reverse()}Object.defineProperty(r,"__esModule",{value:!0}),r.bitAndBigNumber=function(l,x){if(l.isFinite()&&!l.isInteger()||x.isFinite()&&!x.isInteger())throw new Error("Integers expected in function bitAnd");var S=l.constructor;if(l.isNaN()||x.isNaN())return new S(NaN);if(l.isZero()||x.eq(-1)||l.eq(x))return l;if(x.isZero()||l.eq(-1))return x;if(!l.isFinite()||!x.isFinite()){if(!l.isFinite()&&!x.isFinite())return l.isNegative()===x.isNegative()?l:new S(0);if(!l.isFinite())return x.isNegative()?l:l.isNegative()?new S(0):x;if(!x.isFinite())return l.isNegative()?x:x.isNegative()?new S(0):l}return f(l,x,function(D,h){return D&h})},r.bitNotBigNumber=g,r.bitOrBigNumber=function(l,x){if(l.isFinite()&&!l.isInteger()||x.isFinite()&&!x.isInteger())throw new Error("Integers expected in function bitOr");var S=l.constructor;if(l.isNaN()||x.isNaN())return new S(NaN);var D=new S(-1);return l.isZero()||x.eq(D)||l.eq(x)?x:x.isZero()||l.eq(D)?l:l.isFinite()&&x.isFinite()?f(l,x,function(h,_){return h|_}):!l.isFinite()&&!l.isNegative()&&x.isNegative()||l.isNegative()&&!x.isNegative()&&!x.isFinite()?D:l.isNegative()&&x.isNegative()?l.isFinite()?l:x:l.isFinite()?x:l},r.bitwise=f,r.bitXor=function(l,x){if(l.isFinite()&&!l.isInteger()||x.isFinite()&&!x.isInteger())throw new Error("Integers expected in function bitXor");var S=l.constructor;if(l.isNaN()||x.isNaN())return new S(NaN);if(l.isZero())return x;if(x.isZero())return l;if(l.eq(x))return new S(0);var D=new S(-1);return l.eq(D)?g(x):x.eq(D)?g(l):l.isFinite()&&x.isFinite()?f(l,x,function(h,_){return h^_}):l.isFinite()||x.isFinite()?new S(l.isNegative()===x.isNegative()?1/0:-1/0):D},r.leftShiftBigNumber=function(l,x){if(l.isFinite()&&!l.isInteger()||x.isFinite()&&!x.isInteger())throw new Error("Integers expected in function leftShift");var S=l.constructor;return l.isNaN()||x.isNaN()||x.isNegative()&&!x.isZero()?new S(NaN):l.isZero()||x.isZero()?l:!l.isFinite()&&!x.isFinite()?new S(NaN):x.lt(55)?l.times(Math.pow(2,x.toNumber())+""):l.times(new S(2).pow(x))},r.rightArithShiftBigNumber=function(l,x){if(l.isFinite()&&!l.isInteger()||x.isFinite()&&!x.isInteger())throw new Error("Integers expected in function rightArithShift");var S=l.constructor;return l.isNaN()||x.isNaN()||x.isNegative()&&!x.isZero()?new S(NaN):l.isZero()||x.isZero()?l:x.isFinite()?x.lt(55)?l.div(Math.pow(2,x.toNumber())+"").floor():l.div(new S(2).pow(x)).floor():l.isNegative()?new S(-1):l.isFinite()?new S(0):new S(NaN)}},{}],924:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBigNumberTau=r.createBigNumberPi=r.createBigNumberPhi=r.createBigNumberE=void 0;var g=n("../function"),f=(0,g.memoize)(function(D){return new D(1).exp()},S);r.createBigNumberE=f;var m=(0,g.memoize)(function(D){return new D(1).plus(new D(5).sqrt()).div(2)},S);r.createBigNumberPhi=m;var l=(0,g.memoize)(function(D){return D.acos(-1)},S);r.createBigNumberPi=l;var x=(0,g.memoize)(function(D){return l(D).times(2)},S);function S(D){return D[0].precision}r.createBigNumberTau=x},{"../function":932}],925:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.format=function x(S,D){if(typeof D=="function")return D(S);if(!S.isFinite())return S.isNaN()?"NaN":S.gt(0)?"Infinity":"-Infinity";var h="auto",_;switch(D!==void 0&&(D.notation&&(h=D.notation),typeof D=="number"?_=D:D.precision&&(_=D.precision)),h){case"fixed":return l(S,_);case"exponential":return m(S,_);case"engineering":return f(S,_);case"auto":if(D&&D.exponential&&(D.exponential.lower!==void 0||D.exponential.upper!==void 0)){var o=(0,g.mapObject)(D,function(E){return E});return(o.exponential=void 0)!==D.exponential.lower&&(o.lowerExp=Math.round(Math.log(D.exponential.lower)/Math.LN10)),D.exponential.upper!==void 0&&(o.upperExp=Math.round(Math.log(D.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(D)+" with "+JSON.stringify(o)),x(S,o)}var p=D&&D.lowerExp!==void 0?D.lowerExp:-3,b=D&&D.upperExp!==void 0?D.upperExp:5;if(S.isZero())return"0";var y=S.toSignificantDigits(_),A=y.e;return(p<=A&&A<b?y.toFixed():m(S,_)).replace(/((\.\d*?)(0+))($|e)/,function(){var E=arguments[2],N=arguments[4];return E!=="."?E+N:N});default:throw new Error('Unknown notation "'+h+'". Choose "auto", "exponential", or "fixed".')}},r.toEngineering=f,r.toExponential=m,r.toFixed=l;var g=n("../object");function f(x,S){var D=x.e,h=D%3==0?D:D<0?D-3-D%3:D-D%3,_=x.mul(Math.pow(10,-h)),o=_.toPrecision(S);return o.indexOf("e")!==-1&&(o=_.toString()),o+"e"+(0<=D?"+":"")+h.toString()}function m(x,S){return S!==void 0?x.toExponential(S-1):x.toExponential()}function l(x,S){return x.toFixed(S)}},{"../object":938}],926:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nearlyEqual=function(g,f,m){if(m==null)return g.eq(f);if(g.eq(f))return!0;if(g.isNaN()||f.isNaN())return!1;if(g.isFinite()&&f.isFinite()){var l=g.minus(f).abs();if(l.isZero())return!0;var x=g.constructor.max(g.abs(),f.abs());return l.lte(x.times(m))}return!1}},{}],927:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.containsCollections=function(x){for(var S=0;S<x.length;S++)if((0,g.isCollection)(x[S]))return!0;return!1},r.deepForEach=function x(S,D){(0,g.isMatrix)(S)&&(S=S.valueOf());for(var h=0,_=S.length;h<_;h++){var o=S[h];Array.isArray(o)?x(o,D):D(o)}},r.deepMap=function x(S,D,h){return S&&typeof S.map=="function"?S.map(function(_){return x(_,D)}):D(S)},r.reduce=function(x,S,D){var h=Array.isArray(x)?(0,m.arraySize)(x):x.size();if(S<0||S>=h.length)throw new f.IndexError(S,h.length);return(0,g.isMatrix)(x)?x.create(l(x.valueOf(),S,D)):l(x,S,D)},r.scatter=function(x,S,D,h,_,o,p,b,y,A,E){var N,T,O,j,M=x._values,F=x._index,B=x._ptr;if(h)for(T=B[S],O=B[S+1],N=T;N<O;N++)j=F[N],D[j]!==o?(D[j]=o,p.push(j),A?(h[j]=y?b(M[N],E):b(E,M[N]),_[j]=o):h[j]=M[N]):(h[j]=y?b(M[N],h[j]):b(h[j],M[N]),_[j]=o);else for(T=B[S],O=B[S+1],N=T;N<O;N++)j=F[N],D[j]!==o?(D[j]=o,p.push(j)):_[j]=o};var g=n("./is"),f=n("../error/IndexError"),m=n("./array");function l(x,S,D){var h,_,o,p;if(S<=0){if(Array.isArray(x[0])){for(p=function(b){var y,A,E=b.length,N=b[0].length,T=[];for(A=0;A<N;A++){var O=[];for(y=0;y<E;y++)O.push(b[y][A]);T.push(O)}return T}(x),_=[],h=0;h<p.length;h++)_[h]=l(p[h],S-1,D);return _}for(o=x[0],h=1;h<x.length;h++)o=D(o,x[h]);return o}for(_=[],h=0;h<x.length;h++)_[h]=l(x[h],S-1,D);return _}},{"../error/IndexError":400,"./array":922,"./is":933}],928:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.complexEquals=function(f,m,l){return(0,g.nearlyEqual)(f.re,m.re,l)&&(0,g.nearlyEqual)(f.im,m.im,l)};var g=n("./number")},{"./number":937}],929:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getSafeProperty=function(h,_){if(x(h)&&m(h,_))return h[_];throw typeof h[_]=="function"&&l(h,_)?new Error('Cannot access method "'+_+'" as a property'):new Error('No access to property "'+_+'"')},r.setSafeProperty=function(h,_,o){if(x(h)&&m(h,_))return h[_]=o;throw new Error('No access to property "'+_+'"')},r.isSafeProperty=m,r.validateSafeMethod=function(h,_){if(!l(h,_))throw new Error('No access to method "'+_+'"')},r.isSafeMethod=l,r.isPlainObject=x;var g=n("./object");function f(h){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}function m(h,_){return!(!h||f(h)!=="object")&&(!!(0,g.hasOwnProperty)(S,_)||!(_ in Object.prototype)&&!(_ in Function.prototype))}function l(h,_){return h!=null&&typeof h[_]=="function"&&!((0,g.hasOwnProperty)(h,_)&&Object.getPrototypeOf&&_ in Object.getPrototypeOf(h))&&(!!(0,g.hasOwnProperty)(D,_)||!(_ in Object.prototype)&&!(_ in Function.prototype))}function x(h){return f(h)==="object"&&h&&h.constructor===Object}var S={length:!0,name:!0},D={toString:!0,valueOf:!0,toLocaleString:!0}},{"./object":938}],930:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mixin=function(m){var l=new f.default;return m.on=l.on.bind(l),m.off=l.off.bind(l),m.once=l.once.bind(l),m.emit=l.emit.bind(l),m};var g,f=(g=n("tiny-emitter"))&&g.__esModule?g:{default:g}},{"tiny-emitter":945}],931:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.factory=function(h,_,o,p){function b(y){var A=(0,f.pickShallow)(y,_.map(D));return x(h,_,y),o(A)}return b.isFactory=!0,b.fn=h,b.dependencies=_.slice().sort(),p&&(b.meta=p),b},r.sortFactories=m,r.create=function(h){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return m(h).forEach(function(o){return o(_)}),_},r.isFactory=l,r.assertDependencies=x,r.isOptionalDependency=S,r.stripOptionalNotation=D;var g=n("./array"),f=n("./object");function m(h){var _={};h.forEach(function(b){_[b.fn]=b});var o=[];function p(b){for(var y=0;y<o.length&&!function A(E,N){return!!(l(E)&&((0,g.contains)(E.dependencies,N.fn||N.name)||E.dependencies.some(function(T){return A(_[T],N)})))}(o[y],b);)y++;o.splice(y,0,b)}return h.filter(l).forEach(p),h.filter(function(b){return!l(b)}).forEach(p),o}function l(h){return typeof h=="function"&&typeof h.fn=="string"&&Array.isArray(h.dependencies)}function x(h,_,o){if(!_.filter(function(b){return!S(b)}).every(function(b){return o[b]!==void 0})){var p=_.filter(function(b){return o[b]===void 0});throw new Error('Cannot create function "'.concat(h,'", ')+"some dependencies are missing: ".concat(p.map(function(b){return'"'.concat(b,'"')}).join(", "),"."))}}function S(h){return h&&h[0]==="?"}function D(h){return h&&h[0]==="?"?h.slice(1):h}},{"./array":922,"./object":938}],932:[function(n,a,r){function g(f){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}Object.defineProperty(r,"__esModule",{value:!0}),r.memoize=function(f,m){return function l(){g(l.cache)!=="object"&&(l.cache={});for(var x=[],S=0;S<arguments.length;S++)x[S]=arguments[S];var D=m?m(x):JSON.stringify(x);return D in l.cache||(l.cache[D]=f.apply(f,x)),l.cache[D]}},r.memoizeCompare=function(f,m){function l(){for(var x=[],S=0;S<arguments.length;S++)x[S]=arguments[S];for(var D=0;D<l.cache.length;D++){var h=l.cache[D];if(m(x,h.args))return h.res}var _=f.apply(f,x);return l.cache.unshift({args:x,res:_}),_}return l.cache=[],l},r.maxArgumentCount=function(f){return Object.keys(f.signatures||{}).reduce(function(m,l){var x=(l.match(/,/g)||[]).length+1;return Math.max(m,x)},-1)}},{}],933:[function(n,a,r){function g(A){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(A)}function f(A){return A&&A.constructor.prototype.isBigNumber===!0||!1}function m(A){return A&&g(A)==="object"&&Object.getPrototypeOf(A).isComplex===!0||!1}function l(A){return A&&g(A)==="object"&&Object.getPrototypeOf(A).isFraction===!0||!1}function x(A){return A&&A.constructor.prototype.isUnit===!0||!1}Object.defineProperty(r,"__esModule",{value:!0}),r.isNumber=function(A){return typeof A=="number"},r.isBigNumber=f,r.isComplex=m,r.isFraction=l,r.isUnit=x,r.isString=function(A){return typeof A=="string"},r.isMatrix=D,r.isCollection=function(A){return Array.isArray(A)||D(A)},r.isDenseMatrix=function(A){return A&&A.isDenseMatrix&&A.constructor.prototype.isMatrix===!0||!1},r.isSparseMatrix=function(A){return A&&A.isSparseMatrix&&A.constructor.prototype.isMatrix===!0||!1},r.isRange=h,r.isIndex=_,r.isBoolean=function(A){return typeof A=="boolean"},r.isResultSet=o,r.isHelp=p,r.isFunction=function(A){return typeof A=="function"},r.isDate=function(A){return A instanceof Date},r.isRegExp=function(A){return A instanceof RegExp},r.isObject=function(A){return!(!A||g(A)!=="object"||A.constructor!==Object||m(A)||l(A))},r.isNull=function(A){return A===null},r.isUndefined=function(A){return A===void 0},r.isAccessorNode=function(A){return A&&A.isAccessorNode===!0&&A.constructor.prototype.isNode===!0||!1},r.isArrayNode=function(A){return A&&A.isArrayNode===!0&&A.constructor.prototype.isNode===!0||!1},r.isAssignmentNode=function(A){return A&&A.isAssignmentNode===!0&&A.constructor.prototype.isNode===!0||!1},r.isBlockNode=function(A){return A&&A.isBlockNode===!0&&A.constructor.prototype.isNode===!0||!1},r.isConditionalNode=function(A){return A&&A.isConditionalNode===!0&&A.constructor.prototype.isNode===!0||!1},r.isConstantNode=function(A){return A&&A.isConstantNode===!0&&A.constructor.prototype.isNode===!0||!1},r.isFunctionAssignmentNode=function(A){return A&&A.isFunctionAssignmentNode===!0&&A.constructor.prototype.isNode===!0||!1},r.isFunctionNode=function(A){return A&&A.isFunctionNode===!0&&A.constructor.prototype.isNode===!0||!1},r.isIndexNode=function(A){return A&&A.isIndexNode===!0&&A.constructor.prototype.isNode===!0||!1},r.isNode=b,r.isObjectNode=function(A){return A&&A.isObjectNode===!0&&A.constructor.prototype.isNode===!0||!1},r.isOperatorNode=function(A){return A&&A.isOperatorNode===!0&&A.constructor.prototype.isNode===!0||!1},r.isParenthesisNode=function(A){return A&&A.isParenthesisNode===!0&&A.constructor.prototype.isNode===!0||!1},r.isRangeNode=function(A){return A&&A.isRangeNode===!0&&A.constructor.prototype.isNode===!0||!1},r.isSymbolNode=function(A){return A&&A.isSymbolNode===!0&&A.constructor.prototype.isNode===!0||!1},r.isChain=y,r.typeOf=function(A){var E=g(A);return E!=="object"?E==="function"?"Function":E:A===null?"null":Array.isArray(A)?"Array":A instanceof Date?"Date":A instanceof RegExp?"RegExp":f(A)?"BigNumber":m(A)?"Complex":l(A)?"Fraction":D(A)?"Matrix":x(A)?"Unit":_(A)?"Index":h(A)?"Range":o(A)?"ResultSet":b(A)?A.type:y(A)?"Chain":p(A)?"Help":"Object"},r.isArray=void 0;var S=Array.isArray;function D(A){return A&&A.constructor.prototype.isMatrix===!0||!1}function h(A){return A&&A.constructor.prototype.isRange===!0||!1}function _(A){return A&&A.constructor.prototype.isIndex===!0||!1}function o(A){return A&&A.constructor.prototype.isResultSet===!0||!1}function p(A){return A&&A.constructor.prototype.isHelp===!0||!1}function b(A){return A&&A.isNode===!0&&A.constructor.prototype.isNode===!0||!1}function y(A){return A&&A.constructor.prototype.isChain===!0||!1}r.isArray=S},{}],934:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.escapeLatex=h,r.toSymbol=function(_,o){return(o=o!==void 0&&o)?(0,m.hasOwnProperty)(D,_)?D[_]:"\\mathrm{"+h(_)+"}":(0,m.hasOwnProperty)(l,_)?l[_]:h(_)},r.defaultTemplate=r.latexFunctions=r.latexOperators=r.latexSymbols=void 0;var g,f=(g=n("escape-latex"))&&g.__esModule?g:{default:g},m=n("./object"),l={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"};r.latexSymbols=l;var x={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"};r.latexOperators=x;var S={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(x.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(x.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(x.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(x.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(x.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(x.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(x.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(x.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(x.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(x.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(x.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(x.bitAnd,"${args[1]}\\right)")},bitNot:{1:x.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(x.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(x.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(x.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(x.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(x.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(x.and,"${args[1]}\\right)")},not:{1:x.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(x.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(x.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(x.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(x.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(x.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(x.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(x.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(x.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(x.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(x.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(x.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(x.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(x.to,"${args[1]}\\right)")},numeric:function(_){return _.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(l.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}};r.latexFunctions=S,r.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var D={deg:"^\\circ"};function h(_){return(0,f.default)(_,{preserveFormatting:!0})}},{"./object":938,"escape-latex":56}],935:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.warnOnce=void 0;var g,f=(g={},function(){for(var m=arguments.length,l=new Array(m),x=0;x<m;x++)l[x]=arguments[x];var S,D=l.join(", ");g[D]||(g[D]=!0,(S=console).warn.apply(S,["Warning:"].concat(l)))});r.warnOnce=f},{}],936:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.noBignumber=function(){throw new Error('No "bignumber" implementation available')},r.noFraction=function(){throw new Error('No "fraction" implementation available')},r.noMatrix=function(){throw new Error('No "matrix" implementation available')},r.noIndex=function(){throw new Error('No "index" implementation available')},r.noSubset=function(){throw new Error('No "matrix" implementation available')}},{}],937:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isInteger=function(I){return typeof I=="boolean"||!!isFinite(I)&&I===Math.round(I)},r.format=function(I,G){if(typeof G=="function")return G(I);{if(I===1/0)return"Infinity";if(I===-1/0)return"-Infinity";if(isNaN(I))return"NaN"}var k,V="auto";switch(G&&(G.notation&&(V=G.notation),(0,f.isNumber)(G)?k=G:(0,f.isNumber)(G.precision)&&(k=G.precision)),V){case"fixed":return p(I,k);case"exponential":return b(I,k);case"engineering":return o(I,k);case"auto":if(!G||!G.exponential||G.exponential.lower===void 0&&G.exponential.upper===void 0)return y(I,k,G&&G).replace(/((\.\d*?)(0+))($|e)/,function(){var U=arguments[2],L=arguments[4];return U!=="."?U+L:L});var R=(0,g.mapObject)(G,function(U){return U});return(R.exponential=void 0)!==G.exponential.lower&&(R.lowerExp=Math.round(Math.log(G.exponential.lower)/Math.LN10)),G.exponential.upper!==void 0&&(R.upperExp=Math.round(Math.log(G.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(G)+" with "+JSON.stringify(R)),y(I,k,R);default:throw new Error('Unknown notation "'+V+'". Choose "auto", "exponential", or "fixed".')}},r.splitNumber=_,r.toEngineering=o,r.toFixed=p,r.toExponential=b,r.toPrecision=y,r.roundDigits=A,r.digits=function(I){return I.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},r.nearlyEqual=function(I,G,k){if(k==null)return I===G;if(I===G)return!0;if(isNaN(I)||isNaN(G))return!1;if(isFinite(I)&&isFinite(G)){var V=Math.abs(I-G);return V<N||V<=Math.max(Math.abs(I),Math.abs(G))*k}return!1},r.tanh=r.sinh=r.cosh=r.atanh=r.asinh=r.acosh=r.DBL_EPSILON=r.expm1=r.cbrt=r.log1p=r.log10=r.log2=r.sign=void 0;var g=n("./object"),f=n("./is"),m=Math.sign||function(I){return 0<I?1:I<0?-1:0};r.sign=m;var l=Math.log2||function(I){return Math.log(I)/Math.LN2};r.log2=l;var x=Math.log10||function(I){return Math.log(I)/Math.LN10};r.log10=x;var S=Math.log1p||function(I){return Math.log(I+1)};r.log1p=S;var D=Math.cbrt||function(I){if(I===0)return I;var G,k=I<0;return k&&(I=-I),G=isFinite(I)?(I/((G=Math.exp(Math.log(I)/3))*G)+2*G)/3:I,k?-G:G};r.cbrt=D;var h=Math.expm1||function(I){return 2e-4<=I||I<=-2e-4?Math.exp(I)-1:I+I*I/2+I*I*I/6};function _(I){var G=String(I).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!G)throw new SyntaxError("Invalid number "+I);var k=G[1],V=G[2],R=parseFloat(G[4]||"0"),U=V.indexOf(".");R+=U!==-1?U-1:V.length-1;var L=V.replace(".","").replace(/^0*/,function(H){return R-=H.length,""}).replace(/0*$/,"").split("").map(function(H){return parseInt(H)});return L.length===0&&(L.push(0),R++),{sign:k,coefficients:L,exponent:R}}function o(I,G){if(isNaN(I)||!isFinite(I))return String(I);var k=A(_(I),G),V=k.exponent,R=k.coefficients,U=V%3==0?V:V<0?V-3-V%3:V-V%3;if((0,f.isNumber)(G))for(;G>R.length||V-U+1>R.length;)R.push(0);else for(var L=Math.abs(V-U)-(R.length-1),H=0;H<L;H++)R.push(0);for(var X=Math.abs(V-U),Z=1;0<X;)Z++,X--;var J=R.slice(Z).join(""),K=(0,f.isNumber)(G)&&J.length||J.match(/[1-9]/)?"."+J:"",$=R.slice(0,Z).join("")+K+"e"+(0<=V?"+":"")+U.toString();return k.sign+$}function p(I,G){if(isNaN(I)||!isFinite(I))return String(I);var k=_(I),V=typeof G=="number"?A(k,k.exponent+1+G):k,R=V.coefficients,U=V.exponent+1,L=U+(G||0);return R.length<L&&(R=R.concat(E(L-R.length))),U<0&&(R=E(1-U).concat(R),U=1),U<R.length&&R.splice(U,0,U===0?"0.":"."),V.sign+R.join("")}function b(I,G){if(isNaN(I)||!isFinite(I))return String(I);var k=_(I),V=G?A(k,G):k,R=V.coefficients,U=V.exponent;R.length<G&&(R=R.concat(E(G-R.length)));var L=R.shift();return V.sign+L+(0<R.length?"."+R.join(""):"")+"e"+(0<=U?"+":"")+U}function y(I,G,k){if(isNaN(I)||!isFinite(I))return String(I);var V=k&&k.lowerExp!==void 0?k.lowerExp:-3,R=k&&k.upperExp!==void 0?k.upperExp:5,U=_(I),L=G?A(U,G):U;if(L.exponent<V||L.exponent>=R)return b(I,G);var H=L.coefficients,X=L.exponent;H.length<G&&(H=H.concat(E(G-H.length))),H=H.concat(E(X-H.length+1+(H.length<G?G-H.length:0)));var Z=0<X?X:0;return Z<(H=E(-X).concat(H)).length-1&&H.splice(Z+1,0,"."),L.sign+H.join("")}function A(I,G){for(var k={sign:I.sign,coefficients:I.coefficients,exponent:I.exponent},V=k.coefficients;G<=0;)V.unshift(0),k.exponent++,G++;if(V.length>G&&5<=V.splice(G,V.length-G)[0]){var R=G-1;for(V[R]++;V[R]===10;)V.pop(),R===0&&(V.unshift(0),k.exponent++,R++),V[--R]++}return k}function E(I){for(var G=[],k=0;k<I;k++)G.push(0);return G}r.expm1=h;var N=Number.EPSILON||2220446049250313e-31;r.DBL_EPSILON=N;var T=Math.acosh||function(I){return Math.log(Math.sqrt(I*I-1)+I)};r.acosh=T;var O=Math.asinh||function(I){return Math.log(Math.sqrt(I*I+1)+I)};r.asinh=O;var j=Math.atanh||function(I){return Math.log((1+I)/(1-I))/2};r.atanh=j;var M=Math.cosh||function(I){return(Math.exp(I)+Math.exp(-I))/2};r.cosh=M;var F=Math.sinh||function(I){return(Math.exp(I)-Math.exp(-I))/2};r.sinh=F;var B=Math.tanh||function(I){var G=Math.exp(2*I);return(G-1)/(G+1)};r.tanh=B},{"./is":933,"./object":938}],938:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.clone=function h(_){var o=f(_);if(o==="number"||o==="string"||o==="boolean"||_==null)return _;if(typeof _.clone=="function")return _.clone();if(Array.isArray(_))return _.map(function(p){return h(p)});if(_ instanceof Date)return new Date(_.valueOf());if((0,g.isBigNumber)(_))return _;if(_ instanceof RegExp)throw new TypeError("Cannot clone "+_);return m(_,h)},r.mapObject=m,r.extend=function(h,_){for(var o in _)l(_,o)&&(h[o]=_[o]);return h},r.deepExtend=function h(_,o){if(Array.isArray(o))throw new TypeError("Arrays are not supported by deepExtend");for(var p in o)if(l(o,p))if(o[p]&&o[p].constructor===Object)_[p]===void 0&&(_[p]={}),_[p]&&_[p].constructor===Object?h(_[p],o[p]):_[p]=o[p];else{if(Array.isArray(o[p]))throw new TypeError("Arrays are not supported by deepExtend");_[p]=o[p]}return _},r.deepStrictEqual=function h(_,o){var p,b,y;{if(Array.isArray(_)){if(!Array.isArray(o)||_.length!==o.length)return!1;for(b=0,y=_.length;b<y;b++)if(!h(_[b],o[b]))return!1;return!0}if(typeof _=="function")return _===o;if(_ instanceof Object){if(Array.isArray(o)||!(o instanceof Object))return!1;for(p in _)if(!(p in o&&h(_[p],o[p])))return!1;for(p in o)if(!(p in _&&h(_[p],o[p])))return!1;return!0}return _===o}},r.deepFlatten=function(h){var _={};return function o(p,b){for(var y in p){var A;l(p,y)&&(f(A=p[y])==="object"&&A!==null?o(A,b):b[y]=A)}}(h,_),_},r.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch{}return!1},r.lazy=function(h,_,o){var p,b=!0;Object.defineProperty(h,_,{get:function(){return b&&(p=o(),b=!1),p},set:function(y){p=y,b=!1},configurable:!0,enumerable:!0})},r.traverse=function h(_,o){if(o&&typeof o=="string")return h(_,o.split("."));var p=_;if(o)for(var b=0;b<o.length;b++){var y=o[b];y in p||(p[y]={}),p=p[y]}return p},r.hasOwnProperty=l,r.isLegacyFactory=function(h){return h&&typeof h.factory=="function"},r.get=x,r.set=S,r.pick=function(h,_,o){for(var p={},b=0;b<_.length;b++){var y=_[b],A=x(h,y);A!==void 0&&S(p,y,o?o(A,y):A)}return p},r.pickShallow=function(h,_){for(var o={},p=0;p<_.length;p++){var b=_[p],y=h[b];y!==void 0&&(o[b]=y)}return o},r.values=function(h){return Object.keys(h).map(function(_){return h[_]})};var g=n("./is");function f(h){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}function m(h,_){var o={};for(var p in h)l(h,p)&&(o[p]=_(h[p]));return o}function l(h,_){return h&&Object.hasOwnProperty.call(h,_)}function x(h,_){if(typeof _=="string")return D(_)?x(h,_.split(".")):h[_];for(var b=h,o=0;o<_.length;o++)var p=_[o],b=b?b[p]:void 0;return b}function S(h,_,o){if(typeof _=="string")return D(_)?S(h,_.split("."),o):(h[_]=o,h);for(var p=h,b=0;b<_.length-1;b++){var y=_[b];p[y]===void 0&&(p[y]={}),p=p[y]}return 0<_.length&&(p[_[_.length-1]]=o),h}function D(h){return h.indexOf(".")!==-1}},{"./is":933}],939:[function(n,a,r){Number.isFinite=Number.isFinite||function(g){return typeof g=="number"&&isFinite(g)},Number.isNaN=Number.isNaN||function(g){return g!=g}},{}],940:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.product=function g(f,m){if(m<f)return 1;if(m===f)return m;var l=m+f>>1;return g(f,l)*g(1+l,m)}},{}],941:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.endsWith=function(S,D){var h=S.length-D.length,_=S.length;return S.substring(h,_)===D},r.format=x,r.stringify=function(S){for(var D=String(S),h="",_=0;_<D.length;){var o=D.charAt(_);o==="\\"?(h+=o,_++,(o=D.charAt(_))!==""&&'"\\/bfnrtu'.indexOf(o)!==-1||(h+="\\"),h+=o):h+=o==='"'?'\\"':o,_++}return'"'+h+'"'},r.escape=function(S){var D=String(S);return D=D.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},r.compareText=function(S,D){if(!(0,g.isString)(S))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+(0,g.typeOf)(S)+", index: 0)");if((0,g.isString)(D))return S===D?0:D<S?1:-1;throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+(0,g.typeOf)(D)+", index: 1)")};var g=n("./is"),f=n("./number"),m=n("./bignumber/formatter");function l(S){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(S)}function x(S,D){return typeof S=="number"?(0,f.format)(S,D):(0,g.isBigNumber)(S)?(0,m.format)(S,D):function(h){return h&&l(h)==="object"&&typeof h.s=="number"&&typeof h.n=="number"&&typeof h.d=="number"||!1}(S)?D&&D.fraction==="decimal"?S.toString():S.s*S.n+"/"+S.d:Array.isArray(S)?function h(_,o){{if(Array.isArray(_)){for(var p="[",b=_.length,y=0;y<b;y++)y!==0&&(p+=", "),p+=h(_[y],o);return p+="]"}return x(_,o)}}(S,D):(0,g.isString)(S)?'"'+S+'"':typeof S=="function"?S.syntax?String(S.syntax):"function":S&&l(S)==="object"?typeof S.format=="function"?S.format(D):S&&S.toString(D)!=={}.toString()?S.toString(D):"{"+Object.keys(S).map(function(h){return'"'+h+'": '+x(S[h],D)}).join(", ")+"}":String(S)}},{"./bignumber/formatter":925,"./is":933,"./number":937}],942:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="6.6.5"},{}],943:[function(n,a,r){a.exports=n("../../lib/entry/mainAny")},{"../../lib/entry/mainAny":395}],944:[function(n,a,r){(function(g){var f=[],m=g===void 0?window:g,l=Math.pow(256,6),x=Math.pow(2,52),S=2*x,D=Math.random;function h(p){var b,y=p.length,A=this,E=0,N=A.i=A.j=0,T=A.S=[];for(y||(p=[y++]);E<256;)T[E]=E++;for(E=0;E<256;E++)T[E]=T[N=255&N+p[E%y]+(b=T[E])],T[N]=b;(A.g=function(O){for(var j,M=0,F=A.i,B=A.j,I=A.S;O--;)j=I[F=255&F+1],M=256*M+I[255&(I[F]=I[B=255&B+j])+(I[B]=j)];return A.i=F,A.j=B,M})(256)}function _(p,b){for(var y,A=p+"",E=0;E<A.length;)b[255&E]=255&(y^=19*b[255&E])+A.charCodeAt(E++);return o(b)}function o(p){return String.fromCharCode.apply(0,p)}a.exports=function(p,b){if(b&&b.global===!0)return b.global=!1,Math.random=a.exports(p,b),b.global=!0,Math.random;var y=[],A=(_(function E(N,T){var O,j=[],M=(typeof N)[0];if(T&&M=="o")for(O in N)try{j.push(E(N[O],T-1))}catch{}return j.length?j:M=="s"?N:N+"\0"}(b&&b.entropy?[p,o(f)]:0 in arguments?p:function(E){try{return m.crypto.getRandomValues(E=new Uint8Array(256)),o(E)}catch{return[+new Date,m,m.navigator&&m.navigator.plugins,m.screen,o(f)]}}(),3),y),new h(y));return _(o(A.S),f),function(){for(var E=A.g(6),N=l,T=0;E<x;)E=256*(E+T),N*=256,T=A.g(1);for(;S<=E;)E/=2,N/=2,T>>>=1;return(E+T)/N}},a.exports.resetGlobal=function(){Math.random=D},_(Math.random(),f)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],945:[function(n,a,r){function g(){}g.prototype={on:function(f,m,l){var x=this.e||(this.e={});return(x[f]||(x[f]=[])).push({fn:m,ctx:l}),this},once:function(f,m,l){var x=this;function S(){x.off(f,S),m.apply(l,arguments)}return S._=m,this.on(f,S,l)},emit:function(f){for(var m=[].slice.call(arguments,1),l=((this.e||(this.e={}))[f]||[]).slice(),x=0,S=l.length;x<S;x++)l[x].fn.apply(l[x].ctx,m);return this},off:function(f,m){var l=this.e||(this.e={}),x=l[f],S=[];if(x&&m)for(var D=0,h=x.length;D<h;D++)x[D].fn!==m&&x[D].fn._!==m&&S.push(x[D]);return S.length?l[f]=S:delete l[f],this}},a.exports=g,a.exports.TinyEmitter=g},{}],946:[function(n,a,r){var g,f;g=this,f=function(){function m(){return!0}function l(){return!1}function x(){}return function S(){var D=[{name:"number",test:function(ye){return typeof ye=="number"}},{name:"string",test:function(ye){return typeof ye=="string"}},{name:"boolean",test:function(ye){return typeof ye=="boolean"}},{name:"Function",test:function(ye){return typeof ye=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(ye){return ye instanceof Date}},{name:"RegExp",test:function(ye){return ye instanceof RegExp}},{name:"Object",test:function(ye){return typeof ye=="object"&&ye!==null&&ye.constructor===Object}},{name:"null",test:function(ye){return ye===null}},{name:"undefined",test:function(ye){return ye===void 0}}],h={name:"any",test:m},_=[],o=[],p={types:D,conversions:o,ignore:_};function b(ye){var ve=oe(p.types,function(be){return be.name===ye});if(ve)return ve;if(ye==="any")return h;var pe=oe(p.types,function(be){return be.name.toLowerCase()===ye.toLowerCase()});throw new TypeError('Unknown type "'+ye+'"'+(pe?'. Did you mean "'+pe.name+'"?':""))}function y(ye){return ye===h?999:p.types.indexOf(ye)}function A(ye){var ve=oe(p.types,function(pe){return pe.test(ye)});if(ve)return ve.name;throw new TypeError("Value has unknown type. Value: "+ye)}function E(ye){return ye.map(function(ve){var pe=ve.types.map(I);return(ve.restParam?"...":"")+pe.join("|")}).join(",")}function N(ye,ve){var pe=ye.indexOf("...")===0,be=(pe?3<ye.length?ye.slice(3):"any":ye).split("|").map(K).filter($).filter(J),Ne=function(re,de){var xe={};return re.forEach(function(Pe){de.indexOf(Pe.from)!==-1||de.indexOf(Pe.to)===-1||xe[Pe.from]||(xe[Pe.from]=Pe)}),Object.keys(xe).map(function(Pe){return xe[Pe]})}(ve,be),he=be.map(function(re){var de=b(re);return{name:re,typeIndex:y(de),test:de.test,conversion:null,conversionIndex:-1}}),ne=Ne.map(function(re){var de=b(re.from);return{name:re.from,typeIndex:y(de),test:de.test,conversion:re,conversionIndex:ve.indexOf(re)}});return{types:he.concat(ne),restParam:pe}}function T(ye){var ve=te(ye);return!!ve&&ve.restParam}function O(ye){return ye.types.some(function(ve){return ve.conversion!=null})}function j(ye){if(ye&&ye.types.length!==0){if(ye.types.length===1)return b(ye.types[0].name).test;if(ye.types.length===2){var ve=b(ye.types[0].name).test,pe=b(ye.types[1].name).test;return function(Ne){return ve(Ne)||pe(Ne)}}var be=ye.types.map(function(Ne){return b(Ne.name).test});return function(Ne){for(var he=0;he<be.length;he++)if(be[he](Ne))return!0;return!1}}return m}function M(ye){var ve,pe,be,Ne;if(T(ye)){var he=(ve=(Ne=ye).slice(0,Ne.length-1).map(j)).length,ne=j(te(ye));return function(re){for(var de=0;de<ve.length;de++)if(!ve[de](re[de]))return!1;return function(xe){for(var Pe=he;Pe<xe.length;Pe++)if(!ne(xe[Pe]))return!1;return!0}(re)&&re.length>=he+1}}return ye.length===0?function(re){return re.length===0}:ye.length===1?(pe=j(ye[0]),function(re){return pe(re[0])&&re.length===1}):ye.length===2?(pe=j(ye[0]),be=j(ye[1]),function(re){return pe(re[0])&&be(re[1])&&re.length===2}):(ve=ye.map(j),function(re){for(var de=0;de<ve.length;de++)if(!ve[de](re[de]))return!1;return re.length===ve.length})}function F(ye,ve){return ve<ye.params.length?ye.params[ve]:T(ye.params)?te(ye.params):null}function B(ye,ve,pe){var be=F(ye,ve);return(be?pe?be.types.filter(G):be.types:[]).map(I)}function I(ye){return ye.name}function G(ye){return ye.conversion===null||ye.conversion===void 0}function k(ye,ve){var pe=function(be){for(var Ne={},he=0;he<be.length;he++)Ne[be[he]]=!0;return Object.keys(Ne)}(ue(ye,function(be){return B(be,ve,!1)}));return pe.indexOf("any")!==-1?["any"]:pe}function V(ye){for(var ve=999,pe=0;pe<ye.types.length;pe++)G(ye.types[pe])&&(ve=Math.min(ve,ye.types[pe].typeIndex));return ve}function R(ye){for(var ve=999,pe=0;pe<ye.types.length;pe++)G(ye.types[pe])||(ve=Math.min(ve,ye.types[pe].conversionIndex));return ve}function U(ye,ve){var pe,be=Math.min(ye.params.length,ve.params.length),Ne=ye.params.some(O)-ve.params.some(O);if(Ne!==0)return Ne;for(pe=0;pe<be;pe++)if((Ne=O(ye.params[pe])-O(ve.params[pe]))!=0)return Ne;for(pe=0;pe<be;pe++)if((Ne=function(he,ne){var re=he.restParam-ne.restParam;return re!==0||(re=O(he)-O(ne))!=0||(re=V(he)-V(ne))!=0?re:R(he)-R(ne)}(ye.params[pe],ve.params[pe]))!==0)return Ne;return ye.params.length-ve.params.length}function L(ye){var ve,pe,be,Ne,he=[],ne=[];switch(ye.types.forEach(function(re){re.conversion&&(he.push(b(re.conversion.from).test),ne.push(re.conversion.convert))}),ne.length){case 0:return function(re){return re};case 1:return ve=he[0],be=ne[0],function(re){return ve(re)?be(re):re};case 2:return ve=he[0],pe=he[1],be=ne[0],Ne=ne[1],function(re){return ve(re)?be(re):pe(re)?Ne(re):re};default:return function(re){for(var de=0;de<ne.length;de++)if(he[de](re))return ne[de](re);return re}}}function H(ye,ve){return function pe(be,Ne,he){if(Ne<be.length){var ne,re=be[Ne],de=ve?re.types.filter(G):re.types;return ue(re.restParam?(ne=de.filter(G)).length<de.length?[ne,de]:[de]:de.map(function(xe){return[xe]}),function(xe){return pe(be,Ne+1,he.concat([xe]))})}return[he.map(function(xe,Pe){return{types:xe,restParam:Pe===be.length-1&&T(be)}})]}(ye,0,[])}function X(ye,ve){for(var pe=Math.max(ye.params.length,ve.params.length),be=0;be<pe;be++)if(!function(de,xe){for(var Pe=0;Pe<de.length;Pe++)if(function(Ae,Oe){return Ae.indexOf(Oe)!==-1}(xe,de[Pe]))return 1}(B(ye,be,!0),B(ve,be,!0)))return!1;var Ne=ye.params.length,he=ve.params.length,ne=T(ye.params),re=T(ve.params);return ne?re?Ne===he:Ne<=he:re?he<=Ne:Ne===he}function Z(ye,ve){if(Object.keys(ve).length===0)throw new SyntaxError("No signatures provided");var pe=[];Object.keys(ve).map(function(Rt){return function(Ft,Bt,Ut){var Xt=[];return Ft.trim()!==""&&(Xt=Ft.split(",").map(K).map(function(Zt,Yt,rn){var Gt=N(Zt,Ut);if(Gt.restParam&&Yt!==rn.length-1)throw new SyntaxError('Unexpected rest parameter "'+Zt+'": only allowed for the last parameter');return Gt})),Xt.some(Y)?null:{params:Xt,fn:Bt}}(Rt,ve[Rt],p.conversions)}).filter(W).forEach(function(Rt){var Ft=oe(pe,function(Bt){return X(Bt,Rt)});if(Ft)throw new TypeError('Conflicting signatures "'+E(Ft.params)+'" and "'+E(Rt.params)+'".');pe.push(Rt)});var be=ue(pe,function(Rt){return(Rt?H(Rt.params,!1):[]).map(function(Ft){return{params:Ft,fn:Rt.fn}})}).filter(W);be.sort(U);var Ne=be[0]&&be[0].params.length<=2&&!T(be[0].params),he=be[1]&&be[1].params.length<=2&&!T(be[1].params),ne=be[2]&&be[2].params.length<=2&&!T(be[2].params),re=be[3]&&be[3].params.length<=2&&!T(be[3].params),de=be[4]&&be[4].params.length<=2&&!T(be[4].params),xe=be[5]&&be[5].params.length<=2&&!T(be[5].params),Pe=Ne&&he&&ne&&re&&de&&xe,Ae=be.map(function(Rt){return M(Rt.params)}),Oe=Ne?j(be[0].params[0]):l,Se=he?j(be[1].params[0]):l,Fe=ne?j(be[2].params[0]):l,$e=re?j(be[3].params[0]):l,Re=de?j(be[4].params[0]):l,qe=xe?j(be[5].params[0]):l,ze=Ne?j(be[0].params[1]):l,we=he?j(be[1].params[1]):l,Ee=ne?j(be[2].params[1]):l,Me=re?j(be[3].params[1]):l,me=de?j(be[4].params[1]):l,Ge=xe?j(be[5].params[1]):l,Xe=be.map(function(Rt){return function(Ft,Bt){var Ut,Xt,Zt=Bt;Ft.some(O)&&(Ut=T(Ft),Xt=Ft.map(L),Zt=function(){for(var Gt=[],sn=Ut?arguments.length-1:arguments.length,Je=0;Je<sn;Je++)Gt[Je]=Xt[Je](arguments[Je]);return Ut&&(Gt[sn]=arguments[sn].map(Xt[sn])),Bt.apply(null,Gt)});var Yt,rn=Zt;return T(Ft)&&(Yt=Ft.length-1,rn=function(){return Zt.apply(null,ce(arguments,0,Yt).concat([ce(arguments,Yt)]))}),rn}(Rt.params,Rt.fn)}),rt=Ne?Xe[0]:x,ut=he?Xe[1]:x,ft=ne?Xe[2]:x,pt=re?Xe[3]:x,ot=de?Xe[4]:x,bt=xe?Xe[5]:x,At=Ne?be[0].params.length:-1,Ke=he?be[1].params.length:-1,dt=ne?be[2].params.length:-1,vt=re?be[3].params.length:-1,wt=de?be[4].params.length:-1,Nt=xe?be[5].params.length:-1,Ot=Pe?6:0,Tt=be.length,It=function(){for(var Rt=Ot;Rt<Tt;Rt++)if(Ae[Rt](arguments))return Xe[Rt].apply(null,arguments);throw function(Ft,Bt,Ut){for(var Xt,Zt=Ft||"unnamed",Yt=Ut,rn=0;rn<Bt.length;rn++){var Gt=Yt.filter(function(je){var Ue=j(F(je,rn));return(rn<je.params.length||T(je.params))&&Ue(Bt[rn])});if(Gt.length===0){if(0<(Xt=k(Yt,rn)).length){var sn,Je=A(Bt[rn]);return(sn=new TypeError("Unexpected type of argument in function "+Zt+" (expected: "+Xt.join(" or ")+", actual: "+Je+", index: "+rn+")")).data={category:"wrongType",fn:Zt,index:rn,actual:Je,expected:Xt},sn}}else Yt=Gt}var Ct=Yt.map(function(je){return T(je.params)?1/0:je.params.length});if(Bt.length<Math.min.apply(null,Ct))return Xt=k(Yt,rn),(sn=new TypeError("Too few arguments in function "+Zt+" (expected: "+Xt.join(" or ")+", index: "+Bt.length+")")).data={category:"tooFewArgs",fn:Zt,index:Bt.length,expected:Xt},sn;var _e=Math.max.apply(null,Ct);return Bt.length>_e?(sn=new TypeError("Too many arguments in function "+Zt+" (expected: "+_e+", actual: "+Bt.length+")")).data={category:"tooManyArgs",fn:Zt,index:Bt.length,expectedLength:_e}:(sn=new TypeError('Arguments of type "'+Bt.join(", ")+'" do not match any of the defined signatures of function '+Zt+".")).data={category:"mismatch",actual:Bt.map(A)},sn}(ye,arguments,be)},Pt=function(Rt,Ft){return arguments.length===At&&Oe(Rt)&&ze(Ft)?rt.apply(null,arguments):arguments.length===Ke&&Se(Rt)&&we(Ft)?ut.apply(null,arguments):arguments.length===dt&&Fe(Rt)&&Ee(Ft)?ft.apply(null,arguments):arguments.length===vt&&$e(Rt)&&Me(Ft)?pt.apply(null,arguments):arguments.length===wt&&Re(Rt)&&me(Ft)?ot.apply(null,arguments):arguments.length===Nt&&qe(Rt)&&Ge(Ft)?bt.apply(null,arguments):It.apply(null,arguments)};try{Object.defineProperty(Pt,"name",{value:ye})}catch{}return Pt.signatures=function(Rt){var Ft={};return Rt.forEach(function(Bt){Bt.params.some(O)||H(Bt.params,!0).forEach(function(Ut){Ft[E(Ut)]=Bt.fn})}),Ft}(be),Pt}function J(ye){return p.ignore.indexOf(ye)===-1}function K(ye){return ye.trim()}function $(ye){return!!ye}function W(ye){return ye!==null}function Y(ye){return ye.types.length===0}function te(ye){return ye[ye.length-1]}function ce(ye,ve,pe){return Array.prototype.slice.call(ye,ve,pe)}function oe(ye,ve){for(var pe=0;pe<ye.length;pe++)if(ve(ye[pe]))return ye[pe]}function ue(ye,ve){return Array.prototype.concat.apply([],ye.map(ve))}function Ce(ye){for(var ve="",pe=0;pe<ye.length;pe++){var be=ye[pe];if((typeof be.signatures=="object"||typeof be.signature=="string")&&be.name!==""){if(ve==="")ve=be.name;else if(ve!==be.name){var Ne=new Error("Function names do not match (expected: "+ve+", actual: "+be.name+")");throw Ne.data={actual:be.name,expected:ve},Ne}}}return ve}function le(ye){var ve,pe={};function be(re,de){if(pe.hasOwnProperty(re)&&de!==pe[re])throw(ve=new Error('Signature "'+re+'" is defined twice')).data={signature:re},ve}for(var Ne=0;Ne<ye.length;Ne++){var he=ye[Ne];if(typeof he.signatures=="object")for(var ne in he.signatures)he.signatures.hasOwnProperty(ne)&&(be(ne,he.signatures[ne]),pe[ne]=he.signatures[ne]);else{if(typeof he.signature!="string")throw(ve=new TypeError("Function is no typed-function (index: "+Ne+")")).data={index:Ne},ve;be(he.signature,he),pe[he.signature]=he}}return pe}return(p=Z("typed",{"string, Object":Z,Object:function(ye){var ve=[];for(var pe in ye)ye.hasOwnProperty(pe)&&ve.push(ye[pe]);return Z(Ce(ve),ye)},"...Function":function(ye){return Z(Ce(ye),le(ye))},"string, ...Function":function(ye,ve){return Z(ye,le(ve))}})).create=S,p.types=D,p.conversions=o,p.ignore=_,p.convert=function(ye,ve){var pe=A(ye);if(ve===pe)return ye;for(var be=0;be<p.conversions.length;be++){var Ne=p.conversions[be];if(Ne.from===pe&&Ne.to===ve)return Ne.convert(ye)}throw new Error("Cannot convert from "+pe+" to "+ve)},p.find=function(ye,ve){if(!ye.signatures)throw new TypeError("Function is no typed-function");var pe;if(typeof ve=="string"){pe=ve.split(",");for(var be=0;be<pe.length;be++)pe[be]=pe[be].trim()}else{if(!Array.isArray(ve))throw new TypeError("String array or a comma separated string expected");pe=ve}var Ne=pe.join(","),he=ye.signatures[Ne];if(he)return he;throw new TypeError("Signature not found (signature: "+(ye.name||"unnamed")+"("+pe.join(", ")+"))")},p.addType=function(ye,ve){if(!ye||typeof ye.name!="string"||typeof ye.test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");if(ve!==!1){for(var pe=0;pe<p.types.length;pe++)if(p.types[pe].name==="Object")return void p.types.splice(pe,0,ye)}p.types.push(ye)},p.addConversion=function(ye){if(!ye||typeof ye.from!="string"||typeof ye.to!="string"||typeof ye.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");p.conversions.push(ye)},p}()},typeof r=="object"?a.exports=f():g.typed=f()},{}]},{},[5])(5)})})(quantumCircuit_min);var quantumCircuit_minExports=quantumCircuit_min.exports;const QuantumCircuit=getDefaultExportFromCjs(quantumCircuit_minExports),circuit=new QuantumCircuit,channel$4=new BroadcastChannel("zen");class Pattern{constructor(u=null,n=!1){Lt(this,"_parent",null);Lt(this,"_id","");Lt(this,"_value",0);Lt(this,"stack",[]);Lt(this,"_t",0);Lt(this,"_q",16);Lt(this,"_bpm",120);Lt(this,"_state",{});Lt(this,"aliases",{a:"add",an:"and",b:"bin",bm:"btms",bs:"bts",cl:"clamp",c:"coin",cc:"midicc",co:"cosine",ct:"count",ctr:"counter",cu:"curve",d:"div",dr:"divr",e:"else",eq:"eq",ev:"every",i:"if",intrp:"interpolate",inv:"inversion",in:"invert",la:"layer",mo:"mod",m:"mul",n:"not",no:"noise",nb:"ntbin",o:"or",of:"often",pu:"pulse",rd:"random",ra:"range",r:"rarely",sa:"saw",se:"seq",v:"set",si:"sine",sq:"square",st:"step",so:"sometimes",s:"sub",sr:"subr",t:"toggle",tr:"tri",trig:"trigger",tu:"tune",u:"use",x:"xor",qm:"qmeasurement",qms:"qmeasurements",qpb:"qprobability",qpbs:"qprobabilities",qph:"qphase",qphs:"qphases",qr:"qresult"});return this._id=nanoid(),this._parent=u,this.reset(),n&&(this.set=this.trigger),new Proxy(this,{get:(a,r)=>{if(r in a)return a[r];const g=this.aliases[r]||r;return g in a?a[g]:a[r]}})}rng(u){return get_store_value(randomSequence)[u%256]||Math.random()}handleTypes(u,n=null,a=!0){const r=n??this._t;return u instanceof Pattern?u.get(r,this._q,this._bpm)||0:typeof u=="function"?u(r,this._q):typeof u=="string"?parsePattern(u,r,this._q,this._id,a):u}handleLoop(u,n,a,r,g=!1){this._state[n]=g||!this._state[n]?[]:this._state[n];const f=a>0&&a<=this._state[n].length?this._state[n][+u%a]:r;return a>0&&a>this._state[n].length&&this._state[n].push(r),f}reset(){var u;return this.stack=[],this._value=0,this._state={persist:((u=this._state)==null?void 0:u.persist)||!1},this}normalise(u=1,n=1){return this.stack.push(a=>calculateNormalisedPosition(a,this._q,+this.handleTypes(u),+this.handleTypes(n))),this}divisions(u=1){return this.q().div(u),this}t(){return this.stack.push(()=>this._t),this}c(){return this.stack.push(()=>Math.floor(this._t/this._q)),this}q(){return this.stack.push(()=>this._q),this}p(u=!1){return new Pattern(this,u)}set(u){return this.stack.push(n=>this.handleTypes(u,+n)),this}trigger(u){return this.stack.push(n=>this.handleTypes(u,+n,!1)),this}count(u=1){let n=0;return this.stack.push(a=>this.handleTypes(u,+a,!1)?n++:n),this}counter(u=0,n){let a=0;return this.stack.push(r=>{a=this.handleTypes(n,+r,!1)?0:a+1;const f=+this.handleTypes(u);return f===0?a:a%f}),this}hold(u){let n=0;return this.stack.push(a=>(this.handleTypes(u,this._t,!1)&&(n=a),n)),this}use(u){return this.stack.push(...u.stack),this}value(){return this._value}not(u){return this.stack.push(()=>this.handleTypes(u)?0:1),this}toggle(u){const n=this._state;return this.set(u).fn(a=>n.toggle=a?!n.toggle:n.toggle).if(),this}io(u,n){return this.stack.push(()=>(this.handleTypes(u)&&(this._state.io=!0),this.handleTypes(n)&&(this._state.io=!1),this._state.io?1:0)),this}if(u=1,n=0){return this.stack.push(a=>[a].flat().every(r=>!!r)?this.handleTypes(u):this.handleTypes(n)),this}else(u){return this.stack.push(n=>[n].flat().every(a=>!a)?this.handleTypes(u):n),this}mtr(u,n,a=0,r=1){return this.stack.push(g=>{const[f=0,m=1,l=0,x=1]=[u,n,a,r].map(S=>this.handleTypes(S));return mapToRange$1(+g,+l,+x,+f,+m,0)}),this}add(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>a+ +this.handleTypes(u))),this}sub(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>a-+this.handleTypes(u))),this}subr(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>+this.handleTypes(u)-a)),this}mul(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>a*+this.handleTypes(u))),this}div(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>a/+this.handleTypes(u))),this}divr(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>+this.handleTypes(u)/a)),this}mod(u){return this.stack.push(n=>{const a=+this.handleTypes(u);return handleArrayOrSingleValue(n,r=>(r%a+a)%a)}),this}and(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>a&&+this.handleTypes(u,this._t,!1))),this}or(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>a||+this.handleTypes(u,this._t,!1))),this}xor(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>a^+this.handleTypes(u,this._t,!1))),this}range(u=0,n=1,a=1){return this.normalise(a).mtr(u,n),this}sine(u=0,n=1,a=1){return this.normalise(a).mul(360*(Math.PI/180)).sin().mtr(u,n,-1,1),this}cosine(u=0,n=1,a=1){return this.normalise(a).mul(360*(Math.PI/180)).cos().mtr(u,n,-1,1),this}saw(...u){return this.range(...u)}curve(u=0,n=1,a=.5,r=1){return this.normalise(r).pow(a).mtr(u,n),this}tri(u=0,n=1,a=1){return this.normalise(a).sub(.5).abs().mul(2),this}pulse(u=0,n=1,a=.5,r=1){return this.normalise(r).mod(1).lt(+a).mtr(u,n),this}square(u=0,n=1,a=1){return this.pulse(u,n,.5,a),this}random(u=0,n=1,a=0){return this.fn(r=>this.rng(+r)).mtr(u,n).step(a),this}noise(u=0,n=1,a=1,r=4){return this.normalise(a,r).fn(g=>get_store_value(noise).simplex2(g,0)).mtr(u,n,-1,1),this}every(u){return this.mod(u).eq(0),this}bin(u="10000000",n=1){const a=u.replace(/\s+/g,"").split("").map(r=>parseInt(r)?1:0);return this.mod(this.p().divisions(n)).div(this.p().divisions(n).div(a.length)).atr(a),this}ntbin(u=0,n=8,a=1){return this.bin(numberToBinary(+u,n),a)}seq(u=[],n=1){return this.normalise(n).mul(u.length).floor().mod(u.length).atr(u),this}step(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>roundToFactor$1(a,+this.handleTypes(u)))),this}snap(u){return this.stack.push(n=>{const a=this.handleTypes(u);return Array.isArray(a)?handleArrayOrSingleValue(n,r=>roundToNearest(r,a)):n}),this}tune(u){return this.stack.push(n=>{const a=this.handleTypes(u);if(!Array.isArray(a))return n;const r=Math.min(...a),g=Math.max(...a),f=Math.floor((g-r)/12)+1;return handleArrayOrSingleValue(n,m=>roundToNearest(Math.round(m)%(f*12),a.map(l=>l-r+r%12))+Math.floor(m/12)*12)}),this}clamp(...u){return this.stack.push(n=>{const[a=0,r=1]=u.map(g=>this.handleTypes(g));return handleArrayOrSingleValue(n,g=>clamp$2(g,+a,+r))}),this}gt(u){return this.stack.push(n=>{const a=this.handleTypes(u);return[n].flat().every(r=>r>+a)?1:0}),this}lt(u=1){return this.stack.push(n=>{const a=this.handleTypes(u);return[n].flat().every(r=>r<+a)?1:0}),this}gte(u){return this.stack.push(n=>{const a=this.handleTypes(u);return[n].flat().every(r=>r>=+a)?1:0}),this}lte(u){return this.stack.push(n=>{const a=this.handleTypes(u);return[n].flat().every(r=>r<=+a)?1:0}),this}eq(u){return this.stack.push(n=>{const a=this.handleTypes(u);return[n].flat().every(r=>r==a)?1:0}),this}neq(u){return this.stack.push(n=>{const a=this.handleTypes(u);return[n].flat().every(r=>r!=a)?1:0}),this}invert(){return this.stack.push(u=>[u].flat().every(n=>!!n)?0:1),this}odd(){return this.fn(u=>odd(+u)?1:0),this}even(){return this.fn(u=>even(+u)?1:0),this}bts(){return this.fn(u=>handleArrayOrSingleValue(u,n=>n*(60/this._bpm))),this}btms(){return this.fn(u=>handleArrayOrSingleValue(u,n=>n*(6e4/this._bpm))),this}ttms(){return this.fn(u=>handleArrayOrSingleValue(u,n=>n*(6e4/this._bpm*4/this._q))),this}fn(u){return this.stack.push(u),this}inversion(u){return this.stack.push(n=>{const a=this.handleTypes(u),r=[n].flat(),g=r.length,f=r.slice(0,+a%g);return[...r.slice(+a%g),...f.map(l=>l+12)].map(l=>l+12*Math.floor(+a%(g*4)/g))}),this}at(u){return this.stack.push(n=>{const a=[this.handleTypes(u)].flat().map(g=>g<0?n.length+g:g);return a.length===1?n[a[0]]:typeof n==="object"?a.map(g=>n[g]).flat():a.map(g=>n[Math.floor(+g)%n.length]).flat()}),this}atr(u){return this.fn(n=>{const a=[this.handleTypes(u)].flat();return a[Math.floor(+n)%a.length]}),this}layer(u){return this.stack.push(n=>[n].flat().concat(this.handleTypes(u))),this}sin(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.sin(+n))),this}cos(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.cos(+n))),this}tan(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.tan(+n))),this}asin(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.asin(+n))),this}acos(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.acos(+n))),this}atan(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.atan(+n))),this}atan2(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>Math.atan2(+a,+this.handleTypes(u)))),this}abs(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.abs(+n))),this}ceil(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.ceil(+n))),this}floor(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.floor(+n))),this}round(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.round(+n))),this}exp(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.exp(+n))),this}log(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.log(+n))),this}max(u=0){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>Math.max(+a,+this.handleTypes(u)))),this}min(u=0){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>Math.min(+a,+this.handleTypes(u)))),this}pow(u=2){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>Math.pow(+a,+this.handleTypes(u)))),this}sqrt(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.sqrt(+n))),this}interpolate(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>interpolate(+a,+this.handleTypes(u),.5))),this}degrade(u){return this.and(this.p().random().gt(u)),this}sometimes(){return this.t().fn(u=>this.rng(+u)).gt(.5),this}coin(){return this.sometimes(),this}rarely(){return this.t().fn(u=>this.rng(+u)).gt(.25),this}often(){return this.t().fn(u=>this.rng(+u)).gt(.75),this}markov(u,n=0,a=1){let r=[0];const g=+this.handleTypes(n)||this._q;for(let f=0;f<g;f++){const m=r[r.length-1],l=weightedChoice(u[m]);r.push(l)}return this.seq(r,a),this}midicc(u,n=0,a=1){return this.stack.push(()=>{const r=getCC(+this.handleTypes(u),+this.handleTypes(n));return r!==void 0?r:+this.handleTypes(a)}),this}midinote(u){return this.stack.push(()=>getNotes(+this.handleTypes(u))),this}midifile(u,n="n"){let a;return parseMidiFile(u,this._q).then(r=>a=r),this.stack.push(r=>{const g=+r%(a.bars*this._q),m=Object.keys(a.notes).map(S=>+S).reduce((S,D)=>+D<=g?+D:S,0),l=(g-m)/4,x=Math.max(a.durs[m]-l,0);return{n:a.notes[m],e:a.events.includes(g),dur:x}[n]||0}),this}once(){return this.stack.push(()=>{const u=this._state.once?0:1;return this._state.once=!0,u}),this}persist(u){const n=memoize(a=>this._state.persist);return this.stack.push(a=>{const r=u(a,n(this._t));return this._state.persist=r,r}),this}cache(u=1,n=1){return this.stack.push(a=>{const r=clamp$2(+this.handleTypes(u),0,256),g=+this.handleTypes(n),f=g>0?this._t%(g*r)===0:!1;return this.handleLoop(this._t,"cache",r,+a,f)}),this}qmeasurement(u=0,n=0,a=0){return this.stack.push(r=>{const g=+this.handleTypes(u),f=clamp$2(+this.handleTypes(n),0,256),m=circuit.measure(g)||0,l=+a>0?+r%(+a*f)===0:!1;return this.handleLoop(+r,"measure",f,m,l)}),this}qmeasurements(u=0,n=0){return this.stack.push(a=>{const r=clamp$2(+this.handleTypes(u),0,256),g=circuit.measureAll()||[],f=+n>0?+a%(+n*r)===0:!1;return this.handleLoop(+a,"measures",r,g,f)}),this}qprobability(u,n=0,a=0){return this.stack.push(r=>{const g=circuit.numAmplitudes(),f=+this.handleTypes(u)%g,m=clamp$2(+this.handleTypes(n),0,256),l=+pow(abs(round(circuit.state[f]||complex(0,0),14)),2),x=+a>0?+r%(+a*m)===0:!1;return this.handleLoop(+r,"amplitude",m,parseFloat(l.toFixed(5)),x)}),this}qprobabilities(u=0,n=0){return this.stack.push(a=>{const r=clamp$2(+this.handleTypes(u),0,256),g=circuit.numAmplitudes(),f=Array.from({length:g},(l,x)=>{const S=round(circuit.state[x]||complex(0,0),14),D=+pow(abs(S),2);return parseFloat(D.toFixed(5))}),m=+n>0?+a%(+n*r)===0:!1;return this.handleLoop(+a,"amplitudes",r,f,m)}),this}qphase(u,n=0,a=0){return this.stack.push(r=>{const g=clamp$2(+this.handleTypes(n),0,256),f=circuit.stateAsArray(),m=+this.handleTypes(u)%f.length,l=mapToRange$1(f[m].phase,-Math.PI,Math.PI,0,1,0),x=+a>0?+r%(+a*g)===0:!1;return this.handleLoop(+r,"phase",g,l,x)}),this}qphases(u=0,n=0){return this.stack.push(a=>{const r=clamp$2(+this.handleTypes(u),0,256),f=circuit.stateAsArray().map(l=>mapToRange$1(l.phase,-Math.PI,Math.PI,0,1,0)),m=+n>0?+a%(+n*r)===0:!1;return this.handleLoop(+a,"phases",r,f,m)}),this}qresult(){return this.qmeasurements().fn(u=>parseInt(u.reverse().join(""),2)),this}print(u=""){return this.stack.push(n=>{const a=u?`${u}: ${n}`:n;return channel$4.postMessage({type:"pattern",message:a}),n}),this}get(u,n,a){this._t=u,this._q=n,this._bpm=a||this._bpm;const r=this.stack.length?this.stack.reduce((g,f)=>f(g),u):null;return this._value=r||0,r}has(){return!!this.stack.length}static methods(){const u=Object.keys(new Pattern().aliases);return Object.getOwnPropertyNames(Pattern.prototype).concat(u).filter(n=>!["constructor","handleTypes","handleLoop","_","get","has"].includes(n))}call(u,...n){if(typeof this[u]=="function")return this[u].apply(this,n);throw new Error(`Method ${u} does not exist on Pattern`)}}const min=(C,u)=>C<=u?C:u;function mapToRange$1(C,u,n,a,r,g=.5){return roundToFactor$1((C-u)*(r-a)/(n-u)+a,g)}function roundToFactor$1(C,u=1){return u?Math.round(C/u)*u:C}function clamp$2(C,u,n){return Math.min(Math.max(C,u),n)}function createCount(C=0){let u=C-1;return function(){return u=u+1,u}}function numberToBinary(C,u=16){return(C>>>0).toString(2).padEnd(u,"0")}const mod=(C,u)=>(C%u+u)%u,_reduced=(C,u)=>(...n)=>u(C(...n)),pipe=(...C)=>C.reduce(_reduced);function memoize(C){let u={};return(...n)=>{let a=n.map(r=>JSON.stringify(r)).join("-");return a in u?u[a]:u[a]=C(...n)}}function handleArrayOrSingleValue(C,u){return Array.isArray(C)?singleValueArrayToSingleValue(C.map(u)):u(C)}function singleValueArrayToSingleValue(C){return Array.isArray(C)&&C.length===1&&(C=C[0]),C}function calculateNormalisedPosition(C,u,n,a=1){return+(Array.isArray(C)?C[0]:C)/u*n%a}function odd(C){return C%2===1}function even(C){return C%2===0}function roundToNearest(C,u){return u.reduce((n,a)=>Math.abs(a-C)<Math.abs(n-C)?a:n)}function interpolate(C,u,n){return C+(u-C)*n}function loopArray(C,u){let n=0;for(;C.length<u;)C.push(C[n]),n++;return C}function debounce(C,u){let n=null;return(...a)=>{n&&clearTimeout(n),n=setTimeout(()=>C(...a),u)}}function calculateRectHeightAndWidth(C){let u=Math.floor(Math.sqrt(C)),n=Math.ceil(C/u);for(;n*u<C;)n+=1,u=Math.ceil(C/n);return{width:n,height:u}}function weightedChoice(C){const u=C.reduce((a,r)=>a+r,0);let n=Math.random()*u;for(let a=0;a<C.length;a++){if(n<C[a])return a;n-=C[a]}return C.length-1}function euclid(C,u){if(C<0||u<0||u<C)return[];let n=new Array(C).fill([1]),a=new Array(u-C).fill([0]),r=n.length,g=Math.min(r,a.length),f=0;for(;g>f;){f===0&&(f=1);for(let l=0;l<g;l++)n[l]=[...n[l],...a[l]];g===r?a=a.slice(g):(a=n.slice(g),n=n.slice(0,g)),r=n.length,g=Math.min(r,a.length)}return[...n.flat(),...a.flat()]}function euclidean(C,u){return memoize(euclid)(C,u)}function initMidiClock(){wm.enable(()=>{wm.inputs.forEach((C,u)=>{let n=0,a=!1;C.addListener("start","all",()=>{n=0,a=!0}),C.addListener("stop","all",()=>{a=!1}),C.addListener("continue","all",()=>{a=!0}),C.addListener("clock","all",r=>{if(!a||!getActiveMidiClock()||getClockSource()==="internal"||getMidiClockDevice()!==u)return;const g=getQ(),f=getBpm(),{srcBpm:m,relativeBpm:l}=getMidiClockConfig(),x=l?Math.round(m/f*96):96,S=euclidean(g,x),h=Math.floor(n/x)*g+S.slice(0,n%x).reduce((_,o)=>_+o,0);setT(h),S[n%x]&&evaluate(h,immediate()),n++})})})}function initMidiTriggers(){wm.enable(()=>{wm.inputs.forEach((C,u)=>{C.addListener("noteon","all",n=>{getMode()!=="noteon"||getMidiTriggerDevice()!==u||evaluate(getT(),immediate())})})})}const aliases={_am:"_amp",_ch:"_chorus",_chd:"_chdepth",_chl:"_chlfo",_chs:"_chspread",_co:"_cutoff",_de:"_delay",_dec:"_dcolour",_def:"_dfilter",_des:"_dspread",_det:"_dtime",_drf:"_drift",_di:"_dist",_dir:"_direction",_dt:"_detune",_drv:"_drive",_f:"_fil",_ga:"_gain",_gp:"_grainpan",_gr:"_grainrate",_gs:"_grainsize",_gsl:"_grainslope",_ha:"_harm",_hc:"_hicut",_lc:"_locut",_li:"_lthresh",_ls:"_loopsize",_lfor:"_lforate",_lfod:"_lfodepth",_mi:"_modi",_os:"_osc",_pa:"_pan",_ra:"_rate",_rda:"_rdamp",_rde:"_rdecay",_rdi:"_rdiff",_re:"_reverb",_ri:"_ring",_rif:"_ringf",_rim:"_ringmode",_ris:"_ringspread",_rj:"_rjitter",_rs:"_rsize",_sl:"_slide",_v:"_vol",ac:"acurve",am:"amp",ba:"bank",be:"begin",ch:"chorus",chd:"chdepth",chl:"chlfo",chs:"chspread",co:"cutoff",cu:"cut",dc:"dcurve",de:"delay",dec:"dcolour",def:"dfilter",des:"dspread",det:"dtime",di:"dist",dr:"direction",drf:"drift",drv:"drive",dt:"detune",du:"dur",en:"end",f:"fil",fa:"fila",fac:"filacurve",fd:"fild",fdc:"fildcurve",fr:"filr",frc:"filrcurve",fs:"fils",ga:"gain",gp:"grainpan",gr:"grainrate",gs:"grainsize",gsl:"grainslope",ha:"harm",hc:"hicut",ho:"hold",la:"lag",lc:"locut",lfor:"lforate",lfod:"lfodepth",li:"lthresh",lo:"loop",ls:"loopsize",ma:"moda",mac:"modacurve",md:"modd",mdc:"moddcurve",mi:"modi",mr:"modr",mrc:"modrcurve",ms:"mods",on:"oneshot",os:"osc",pa:"pan",ra:"rate",rc:"rcurve",rda:"rdamp",rde:"rdecay",rdi:"rdiff",re:"reverb",ri:"ring",rif:"ringf",rim:"ringmode",ris:"ringspread",rj:"rjitter",rs:"rsize",sl:"slide",sp:"snap",st:"strum",in:"inst",v:"vol"},formatEventParams=(C,u)=>Object.entries(C).filter(([a,r])=>r!==null).reduce((a,[r,g])=>(r=u[r]||aliases[r]||r,{...a,[r.startsWith("_")?r.substring(1):r]:g}),{}),formatMutationParams=(C,u,n)=>({...Object.entries(C).filter(([a,r])=>a.startsWith("_")&&r!==null&&r!==void 0).reduce((a,[r,g])=>(r=u[r]||aliases[r]||r,{...a,[r.substring(1)]:g}),{}),lag:C.lag||C.la||n});class Stream{constructor(u){Lt(this,"id");Lt(this,"_t",0);Lt(this,"_s",16);Lt(this,"_q",16);Lt(this,"_bpm",120);Lt(this,"p");Lt(this,"px");Lt(this,"py");Lt(this,"pz");Lt(this,"_tPattern",null);Lt(this,"_xPattern",null);Lt(this,"_yPattern",null);Lt(this,"_zPattern",null);Lt(this,"_xyzPattern",null);Lt(this,"_ePattern",null);Lt(this,"_mPattern",null);Lt(this,"_mutePattern",null);Lt(this,"_soloPattern",null);Lt(this,"map",{});Lt(this,"_aliases",{solo:"so",mute:"mu",set:"v"});this.id=u;const n={get:(a,r)=>r in a?a[r]:a[r]=new Pattern(this)};this.p=new Proxy({},n),this.px=new Proxy({},n),this.py=new Proxy({},n),this.pz=new Proxy({},n),Object.entries(this._aliases).forEach(([a,r])=>{this[r]=this[a]})}get t(){return this._tPattern=this._tPattern||new Pattern(this),this._tPattern}get x(){return this._xPattern=this._xPattern||new Pattern(this),this._xPattern}get y(){return this._yPattern=this._yPattern||new Pattern(this),this._yPattern}get z(){return this._zPattern=this._zPattern||new Pattern(this),this._zPattern}get xyz(){return this._xyzPattern=this._xyzPattern||new Pattern(this),this._xyzPattern}get e(){return this._ePattern=this._ePattern||new Pattern(this,!0),this._ePattern}get m(){return this._mPattern=this._mPattern||new Pattern(this,!0),this._mPattern}get mute(){return this._mutePattern=this._mutePattern||new Pattern(this),this._mutePattern}get solo(){return this._soloPattern=this._soloPattern||new Pattern(this),this._soloPattern}get i(){return+this.id.slice(1)}evaluateGroup(u,n,a,r){return Object.entries(u).map(([g,f])=>[g,f.get(n,a,r)]).filter(([g,f])=>f!=null).reduce((g,[f,m])=>({...g,[f]:m}),{})}set(u){return Object.entries(u).forEach(([n,a])=>{this.p[n].set(a)}),this}get(u,n,a,r,g){const f=+(this.t.has()?this.t.get(u,n)||0:u),m=[this.xyz.get(f,a,r)].flat(),l=+(m[0]||this.x.get(f,a,r)||0),x=+(m[1]||this.y.get(f,a,r)||0),S=+(m[2]||this.z.get(f,a,r)||0),{id:D}=this,h=!!this.mute.get(f,n,r),_=!!this.solo.get(f,n,r),o=!h&&this.e.get(f,n,r),p=!h&&this.m.get(f,n,r),b=6e4/r/n,y=o||p?{track:+D.slice(1),_track:+D.slice(1),...this.evaluateGroup(g.p,f,n,r),...this.evaluateGroup(g.px,l*a,a,r),...this.evaluateGroup(g.py,x*a,a,r),...this.evaluateGroup(g.pz,S*a,a,r),...this.evaluateGroup(this.p,f,n,r),...this.evaluateGroup(this.px,l*a,a,r),...this.evaluateGroup(this.py,x*a,a,r),...this.evaluateGroup(this.pz,S*a,a,r),bpm:r,q:n}:{};return{id:D,e:o,m:p,mute:h,solo:_,x:mod(l,a),y:mod(x,a),z:mod(S,a),eparams:formatEventParams(y,this.map),mparams:formatMutationParams(y,this.map,b)}}reset(){const{_tPattern:u,_xPattern:n,_yPattern:a,_zPattern:r,_xyzPattern:g,_ePattern:f,_mPattern:m,_soloPattern:l,_mutePattern:x}=this;[u,n,a,r,g,f,m,l,x].forEach(S=>S==null?void 0:S.reset()),Object.values(this.p).forEach(S=>S.reset()),Object.values(this.px).forEach(S=>S.reset()),Object.values(this.py).forEach(S=>S.reset()),Object.values(this.pz).forEach(S=>S.reset())}}class Zen extends Stream{constructor(){super("z");Lt(this,"_tPattern",null);Lt(this,"_bpmPattern",null);Lt(this,"_swingPattern",null);Lt(this,"_swingnPattern",null);Lt(this,"_seedPattern",null);Lt(this,"_latencyPattern",null);Lt(this,"_gridPattern",null);Lt(this,"_clockPattern",null);Lt(this,"_modePattern",null);Lt(this,"_update",1)}get t(){return this._tPattern=this._tPattern||new Pattern,this._tPattern}get bpm(){return this._bpmPattern=this._bpmPattern||new Pattern,this._bpmPattern}get swing(){return this._swingPattern=this._swingPattern||new Pattern,this._swingPattern}get swingn(){return this._swingnPattern=this._swingnPattern||new Pattern,this._swingnPattern}get seed(){return this._seedPattern=this._seedPattern||new Pattern,this._seedPattern}get latency(){return this._latencyPattern=this._latencyPattern||new Pattern,this._latencyPattern}get grid(){return this._gridPattern=this._gridPattern||new Pattern,this._gridPattern}get clock(){return this._clockPattern=this._clockPattern||new Pattern,this._clockPattern}get mode(){return this._modePattern=this._modePattern||new Pattern,this._modePattern}get s(){return this._s}set s(n){this._s=clamp$2(Math.floor(n),1,48)}get q(){return this._q}set q(n){this._q=clamp$2(Math.floor(n),1,64)}get c(){return Math.floor(this._t/this._q)}get update(){return this._update}set update(n){this._update=clamp$2(Math.floor(n),1,this._q*16)}getTime(n){const a=this.t.get(n,this._q),r=n;return this._t=a!==null?Array.isArray(a)?a[0]:a:r,Math.floor(this._t)}getBpm(){const n=this.bpm.get(this._t,this._q);return n!==null?Array.isArray(n)?n[0]:n:120}getClock(){return this.clock.get(this._t,this._q)||{}}getMode(){return this.mode.get(this._t,this._q)||{}}getSwing(){const n=this.swing.get(this._t,this._q);return n!==null?Array.isArray(n)?n[0]:n:0}getSwingN(){const n=this.swingn.get(this._t,this._q);return n!==null?Array.isArray(n)?n[0]:n:16}getSeed(){return this.seed.get(this._t,this._q)}getLatency(){return this.latency.get(this._t,this._q)}resetGlobals(){[this._bpmPattern,this._tPattern,this._seedPattern,this._gridPattern,this._modePattern].forEach(n=>n==null?void 0:n.reset())}}const channel$3=new BroadcastChannel("zen");let Data$1=class{constructor(){Lt(this,"data",{});Lt(this,"key","");Lt(this,"_worker");return this._worker=new Worker(new URL(""+new URL("../workers/data-6b4fabd6.js",import.meta.url).href,self.location)),this._worker.addEventListener("message",u=>{const{message:n,data:a,key:r}=u.data;if(r==="fetch")return channel$3.postMessage({type:"info",message:"Fetch is a reserved key"});channel$3.postMessage({type:"info",message:n}),a&&(localStorage.setItem(`z.data.${r}`,JSON.stringify(a)),this.data[r]=a)}),new Proxy(this,{get:(u,n)=>{const a=String(n);if(a==="fetch")return(g,f)=>this._worker.postMessage({endpoint:g,key:f});if(a in this.data)return this.data[a];const r=localStorage.getItem(`z.data.${String(a)}`)||"{}";return this.data[a]=JSON.parse(r),this.data[a]}})}get keys(){return Object.keys(this.data)}},Visuals$1=class{constructor(){Lt(this,"data",[]);Lt(this,"activeStreams",[]);Lt(this,"colours",[[52,152,219],[46,204,113],[231,76,60]]);Lt(this,"mColour",[51,51,51,255])}convertPositionToVector(u,n){return{x:u.x,y:u.y,z:u.z,colour:[...this.colours[n%this.colours.length],(u.e?1:.25)*255],weight:u.e?1:.5}}get(u){return this.activeStreams=[...new Set([...this.activeStreams,...u.filter(({e:n,m:a})=>!!n||!!a).map(({id:n})=>n)])],this.data=u.filter(({id:n})=>this.activeStreams.includes(n)).map((n,a)=>this.convertPositionToVector(n,a)),this.data}};function handleTypes(C,u,n,a){return C instanceof Pattern?C.get(u,n,120)||0:typeof C=="function"?C(u,n):typeof C=="string"?parsePattern(C,u,n,a,!0):C}const channel$2=new BroadcastChannel("zen");class Wire{constructor(u){Lt(this,"_t",0);Lt(this,"_q",16);Lt(this,"_id");Lt(this,"row");Lt(this,"_offset",0);Lt(this,"_stack",[]);Lt(this,"_feedback",-1);this._id=u,this.row=+u.slice(1),Object.entries(circuit.basicGates).forEach(([n,a])=>{this[n]=(r,g,f)=>this.configureGate(n,a,r,g,f)}),this.configureGate=this.configureGate.bind(this)}get feedback(){return this._feedback}set feedback(u){this._feedback=u}configureGate(u,n,a,r,g){this._offset>0&&this._offset++;const f=n.numControlQubits>0,m=n.params.length>0,l=[f?a:[]].flat().map(A=>(A||0)%get_store_value(nStreams))||[],x=[m?f?r:a:[]].flat().filter(A=>A!=null),S=[f?m?g:r:m?r:a].flat()[0]||0;this._offset+=S;const D=l.filter(A=>A!==this.row).filter((A,E)=>E<n.numControlQubits),h=circuit.gates[this.row]||[],_=h.findIndex(A=>A===null),o=_!==-1?_+this._offset:h.length+this._offset,p=u==="measure"?{name:"c",bit:this.row}:{},b={creg:p,params:{theta:0,phi:0,lambda:0}},y=f?circuit.insertGate(u,o,[this.row,...D],b):circuit.addGate(u,o,this.row,b);return this._stack.push(()=>{if(!m)return;const A={creg:p,params:x.length?x.filter((T,O)=>O<n.params.length).reduce((T,O,j)=>({...T,[n.params[j]]:+handleTypes(O||0,this._t,this._q,`${this.row}`)*(n.params[j]==="theta"?1:2)*Math.PI}),{}):{theta:0,phi:0,lambda:0}},{wires:E,col:N}=circuit.getGatePosById(y);E.forEach(T=>{const O=circuit.gates[T][N]||{};O.options=A})}),this}x(u=0){return this.configureGate("x",circuit.basicGates.x,u)}y(u=0){return this.configureGate("y",circuit.basicGates.y,u)}z(u=0){return this.configureGate("z",circuit.basicGates.z,u)}h(u=0){return this.configureGate("h",circuit.basicGates.h,u)}rx(u=0,n=0){return this.configureGate("rx",circuit.basicGates.rx,u,n)}ry(u=0,n=0){return this.configureGate("ry",circuit.basicGates.ry,u,n)}rz(u=0,n=0){return this.configureGate("rz",circuit.basicGates.rz,u,n)}cx(u=[],n=0){return this.configureGate("cx",circuit.basicGates.cx,u,n)}ccx(u=[],n=0){return this.configureGate("ccx",circuit.basicGates.ccx,u,n)}u3(u,n=0){return this.configureGate("u3",circuit.basicGates.u3,u,n)}fb(u=this.row){return this._stack.push(()=>{this.feedback=+handleTypes(u,this._t,this._q,`${this.row}`)}),this}random(u=4,n=8){return circuit.randomCircuit(u,n),this}import(u){return circuit.importQASM(u,function(n){n.length&&console.error(n)}),this}update(u,n){const[a,r,g]=u.split("."),m=(circuit.gates[this.row]||[]).filter(l=>l&&l.name===a)[+r];return m?(this._stack.push(()=>{m.options={...m.options,params:Object.entries(m.options.params||{}).reduce((l,[x,S],D)=>({...l,[x]:D===+g?+handleTypes(n,this._t,this._q,`${this.row}`)*(x==="theta"?1:2)*Math.PI:S}),{})}}),this):channel$2.postMessage({type:"error",message:`Can't find gate ${a}.${r}`})}clear(){this._stack=[],this._offset=0,this.feedback=-1}build(u,n){this._t=u,this._q=n,this._stack.forEach(a=>a())}}const clamp$1=(C,u,n)=>Math.min(Math.max(C,u),n),bts=C=>u=>u*(60/C),btms=C=>u=>u*(60/C)*1e3,helpers={clamp:clamp$1,bts,btms,seed:seed$1,...Math};function mapToStepRange(C,u,n,a,r,g=.5){return roundToFactor(mapToRange(C,u,n,a,r),g)}function mapToRange(C,u,n,a,r){return(C-u)*(r-a)/(n-u)+a}function roundToFactor(C,u=1){const n=C/u;return Math.round(n)*u}class Midi{constructor(){Lt(this,"history",{});Lt(this,"inputs",[]);Lt(this,"outputs",[]);Lt(this,"noteoffs",{});this.init()}async init(){await wm.enable().then(()=>{this.inputs=wm.inputs.map(u=>u.name),this.outputs=wm.outputs.map(u=>u.name)})}storeHistory(u,n,a,r,g){const f=this.history||{};a&&(f.device=a),r&&(f.channels=r),u&&(f.notes=[...f.notes||[],u]),n&&(f.ccs=[...f.ccs||[],...n]),g&&(f.mididelay=g),this.history=f}getCCsFromParams(u={}){return Object.keys(u).reduce((n,a)=>a.startsWith("cc")?[...n,{cc:+a.replace("cc",""),value:mapToStepRange(+u[a],0,1,0,127,1)}]:n,[])}trigger(u={},n){const{midi:a,midichan:r,mididelay:g=0,n:f,dur:m=1e3,amp:l=.5,nudge:x=0}=u,S=this.outputs[+a];if(!S)return;const D=f||60,h=r?Array.isArray(r)?r:[+r]:void 0,_=wm.getOutputByName(S),o=n*1e3+ +g+ +x,p={time:`+${o}`,attack:+l,channels:h};this.noteoffs[D]&&clearTimeout(this.noteoffs[D]);const b=setTimeout(()=>{_.stopNote(D,{channels:h}),this.history.notes=this.history.notes.filter(A=>A!==D),delete this.noteoffs[D]},o+ +m);this.noteoffs={...this.noteoffs,[D]:b},_.playNote(D,{...p,time:`+${o}`});const y=this.getCCsFromParams(u);y.forEach(({cc:A,value:E})=>{const N=this.history.ccs||{};N[A]!==E&&_.sendControlChange(A,N[E]?E:0,p)}),this.storeHistory(+D,y,_,h,+g)}cut(u){if(!this.history.device)return;const n=this.history.mididelay||0,a={time:`+${u*1e3+n-10}`,...this.history};this.history.device.sendNoteOff(this.history.notes,a),this.history.notes=[]}mutate(u,n){if(!this.history.device)return;const{mididelay:a=0,nudge:r=0}=u,f={time:`+${n*1e3+ +a-10+ +r}`,...this.history},m=this.getCCsFromParams(u);m.forEach(({cc:l,value:x})=>{(this.history.ccs||{})[l]!==x&&this.history.device.sendControlChange(l,x,f)}),this.storeHistory(0,m)}}async function enableMidi(){await wm.enable()}enableMidi();const midiStreams=new Array(32).fill(0).map((C,u)=>new Midi).reduce((C,u,n)=>({...C,[`s${n}`]:u}),{});function handleMidiEvent(C,u,n){const{cut:a,n:r=60,strum:g=0,midi:f}=n;(a!==void 0?[+a].flat():[]).forEach(l=>{var x;(x=midiStreams[`s${l}`])==null||x.cut(C)}),f!==void 0&&[f].flat().forEach((l,x)=>{[r].flat().forEach((S,D)=>{const h=Object.entries(n).reduce((_,[o,p])=>({..._,[o]:Array.isArray(p)?p[x%p.length]:p}),{});h.n=S,h.midi=l,midiStreams[u].trigger(h,C+D*(g/1e3))})})}function handleMidiMutation(C,u,n){var a;(a=midiStreams[u])==null||a.mutate(n,C)}var rnbo_webaudio={exports:{}};/*!
 * 
 * Copyright (c) 2022 Cycling '74
 *
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * v1.3.4
 *
 */(function(module,exports){var factory;factory=function(){return(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{__webpack_require__(852).Float32Buffer,__webpack_require__(852).Float64Buffer,__webpack_require__(852).Float32MultiBuffer,__webpack_require__(852).Float64MultiBuffer,__webpack_require__(852).IntBuffer,__webpack_require__(852).UInt8Buffer,__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2;function nextpoweroftwo(C){return C===0?1:(C--,C|=C>>1,C|=C>>2,C|=C>>4,C|=C>>8,1+(C|=C>>16))}function TAG(C){let u=0;for(let n=0;n<C.length;n++)u=C.charCodeAt(n)+(u<<6)+(u<<16)-u;return 0|u}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}Xoshiro.reset,Xoshiro.next,module.exports={deserializeSrc:function(C){return _evalSrc(C)},deserializeJSON:function(C){var u=C;return typeof u=="string"&&(u={src:C}),_evalSrc(u.src)},extractOptionsFromJSON:function(C){var u=C;return typeof u=="string"&&(u=JSON.parse(C)),u.options?u.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:C=>{function u(){let V=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,R=this.getChannels();return R?V/R:0}function n(V,R){let U=V*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*R;this.requestedChannels=R,this.dataRef.requestSizeInBytes(U,!1)}function a(V,R){return this[this.getChannels()*Math.floor(R)+V]}function r(V,R){const U=this.getChannels();return V<0||V>=U||R<0||R>=this.getSize()?0:this[U*Math.floor(R)+V]}function g(V,R,U){this[this.getChannels()*Math.floor(R)+V]=U}function f(V,R,U){const L=this.getChannels();V<0||V>=L||R<0||R>=this.getSize()||(this[L*Math.floor(R)+V]=U)}function m(){return this.dataRef.channels}function l(){return this.dataRef.sampleRate}function x(V){this.dataRef.sampleRate=V}function S(){this.dataRef.clear()}function D(V){if(V!==this.dataRef.channels){let R=this.getSize();return this.clear(),this.dataRef.channels=V,this.setSize(R)}return this}function h(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&this.requestedChannels!==0&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let V;if(this.dataRef.isInternallyAllocated){let U=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);U/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,V=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,U)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let R=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return V?R.set(V):this.dataRef.wantsFillFlag=!0,E(R,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&N(R),R}return this}function _(V){let R=this.getChannels();return this.requestedChannels=R,this.dataRef.requestSizeInBytes(V*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*R,!0),this.allocateIfNeeded()}function o(){this.fill&&this.fill(0)}function p(){return this.touched}function b(V){this.touched=V}function y(V){this.dataRef.setWantsFill(V)}function A(){return this.dataRef.getIndex()}function E(V,R,U){V.dataRef=R,V.BASEARRAYVIEW=U,V.getSize=u,V.requestSize=n,V.setSize=_,V.allocateIfNeeded=h,V.setZero=o,V.clear=S,V.getChannels=m,V.getSampleRate=l,V.setWantsFill=y,V.getIndex=A,R.setZero=function(){V.setZero()},V.touched=!1,V.getTouched=p,V.setTouched=b}function N(V){V.getSample=a,V.getSampleSafe=r,V.setSample=g,V.setSampleSafe=f,V.setChannels=D,V.setSampleRate=x,V.isAudioBuffer=!0,V.requestedChannels=0}let T=function(V,R){let U;return U=V.arrayBuffer?new R(V.arrayBuffer):{},E(U,V,R),U};(T.prototype=Object.create(null)).constructor=T;let O=function(V,R){let U=T.call(this,V,R);return N(U),U};(O.prototype=Object.create(T)).constructor=O;let j=function(V){return O.call(this,V,Float32Array)};(j.prototype=Object.create(O.prototype)).constructor=j;let M=function(V){return O.call(this,V,Float64Array)};(M.prototype=Object.create(O.prototype)).constructor=M;let F=function(V,R){let U=new R(V.dataRefs[V.current]);return U.multiRef=V,U.setCurrent=function(L){this.multiRef.setCurrent(Math.round(L))},U.getIndex=function(){return this.multiRef.getIndex()},U};F.prototype=Object.create(null),F.constructor=F;let B=function(V){return F.call(this,V,j)};(B.prototype=Object.create(F.prototype)).constructor=B;let I=function(V){return F.call(this,V,M)};(I.prototype=Object.create(F.prototype)).constructor=I;let G=function(V){return T.call(this,V,Int32Array)};(G.prototype=Object.create(T.prototype)).constructor=G;let k=function(V){return T.call(this,V,Uint8Array)};(k.prototype=Object.create(T.prototype)).constructor=k,C.exports={Float32Buffer:j,Float64Buffer:M,Float32MultiBuffer:B,Float64MultiBuffer:I,IntBuffer:G,UInt8Buffer:k}},126:C=>{var u=function(){};(u.prototype=Object.create(null)).constructor=u,u.prototype.setEngineAndPatcher=function(){},u.prototype.initialize=function(){},u.prototype.getNumParameters=function(){return 0},u.prototype.setParameterValue=function(){},u.prototype.prepareToProcess=function(){},u.prototype.process=function(){},C.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new u}}},925:C=>{function u(n,a,r,g){r[g]=n[a]+0x9e3779b97f4a7c15n,r[g]=0xbf58476d1ce4e5b9n*(r[g]^r[g]>>30n),r[g]=0x94d049bb133111ebn*(r[g]^r[g]>>27n),r[g]=r[g]^r[g]>>31n}C.exports={reset:function(n,a){let r=new BigUint64Array(1);r[0]=BigInt(Math.trunc(1e6*n)),u(r,0,a,0),u(a,0,a,1),u(a,1,a,2),u(a,2,a,3)},next:function(n){let a=new BigUint64Array(1),r=new BigUint64Array(1);return r[0]=n[0]+n[3],a[0]=n[1]<<17n,n[2]^=n[0],n[3]^=n[1],n[1]^=n[2],n[0]^=n[3],n[2]^=a[0],n[3]=n[3]<<45n|n[3]>>19n,r[0]=r[0]>>11n,2220446049250313e-31*Number(r[0])-1}}},766:(C,u)=>{u.byteLength=function(S){var D=l(S),h=D[0],_=D[1];return 3*(h+_)/4-_},u.toByteArray=function(S){var D,h,_=l(S),o=_[0],p=_[1],b=new r(function(E,N,T){return 3*(N+T)/4-T}(0,o,p)),y=0,A=p>0?o-4:o;for(h=0;h<A;h+=4)D=a[S.charCodeAt(h)]<<18|a[S.charCodeAt(h+1)]<<12|a[S.charCodeAt(h+2)]<<6|a[S.charCodeAt(h+3)],b[y++]=D>>16&255,b[y++]=D>>8&255,b[y++]=255&D;return p===2&&(D=a[S.charCodeAt(h)]<<2|a[S.charCodeAt(h+1)]>>4,b[y++]=255&D),p===1&&(D=a[S.charCodeAt(h)]<<10|a[S.charCodeAt(h+1)]<<4|a[S.charCodeAt(h+2)]>>2,b[y++]=D>>8&255,b[y++]=255&D),b},u.fromByteArray=function(S){for(var D,h=S.length,_=h%3,o=[],p=16383,b=0,y=h-_;b<y;b+=p)o.push(x(S,b,b+p>y?y:b+p));return _===1?(D=S[h-1],o.push(n[D>>2]+n[D<<4&63]+"==")):_===2&&(D=(S[h-2]<<8)+S[h-1],o.push(n[D>>10]+n[D>>4&63]+n[D<<2&63]+"=")),o.join("")};for(var n=[],a=[],r=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,m=g.length;f<m;++f)n[f]=g[f],a[g.charCodeAt(f)]=f;function l(S){var D=S.length;if(D%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=S.indexOf("=");return h===-1&&(h=D),[h,h===D?0:4-h%4]}function x(S,D,h){for(var _,o,p=[],b=D;b<h;b+=3)_=(S[b]<<16&16711680)+(S[b+1]<<8&65280)+(255&S[b+2]),p.push(n[(o=_)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return p.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},834:(C,u,n)=>{/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const a=n(766),r=n(181),g=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;u.Buffer=l,u.SlowBuffer=function(ne){return+ne!=ne&&(ne=0),l.alloc(+ne)},u.INSPECT_MAX_BYTES=50;const f=2147483647;function m(ne){if(ne>f)throw new RangeError('The value "'+ne+'" is invalid for option "size"');const re=new Uint8Array(ne);return Object.setPrototypeOf(re,l.prototype),re}function l(ne,re,de){if(typeof ne=="number"){if(typeof re=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return D(ne)}return x(ne,re,de)}function x(ne,re,de){if(typeof ne=="string")return function(Ae,Oe){if(typeof Oe=="string"&&Oe!==""||(Oe="utf8"),!l.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);const Se=0|p(Ae,Oe);let Fe=m(Se);const $e=Fe.write(Ae,Oe);return $e!==Se&&(Fe=Fe.slice(0,$e)),Fe}(ne,re);if(ArrayBuffer.isView(ne))return function(Ae){if(ve(Ae,Uint8Array)){const Oe=new Uint8Array(Ae);return _(Oe.buffer,Oe.byteOffset,Oe.byteLength)}return h(Ae)}(ne);if(ne==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne);if(ve(ne,ArrayBuffer)||ne&&ve(ne.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(ne,SharedArrayBuffer)||ne&&ve(ne.buffer,SharedArrayBuffer)))return _(ne,re,de);if(typeof ne=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const xe=ne.valueOf&&ne.valueOf();if(xe!=null&&xe!==ne)return l.from(xe,re,de);const Pe=function(Ae){if(l.isBuffer(Ae)){const Oe=0|o(Ae.length),Se=m(Oe);return Se.length===0||Ae.copy(Se,0,0,Oe),Se}return Ae.length!==void 0?typeof Ae.length!="number"||pe(Ae.length)?m(0):h(Ae):Ae.type==="Buffer"&&Array.isArray(Ae.data)?h(Ae.data):void 0}(ne);if(Pe)return Pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ne[Symbol.toPrimitive]=="function")return l.from(ne[Symbol.toPrimitive]("string"),re,de);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne)}function S(ne){if(typeof ne!="number")throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function D(ne){return S(ne),m(ne<0?0:0|o(ne))}function h(ne){const re=ne.length<0?0:0|o(ne.length),de=m(re);for(let xe=0;xe<re;xe+=1)de[xe]=255&ne[xe];return de}function _(ne,re,de){if(re<0||ne.byteLength<re)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<re+(de||0))throw new RangeError('"length" is outside of buffer bounds');let xe;return xe=re===void 0&&de===void 0?new Uint8Array(ne):de===void 0?new Uint8Array(ne,re):new Uint8Array(ne,re,de),Object.setPrototypeOf(xe,l.prototype),xe}function o(ne){if(ne>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|ne}function p(ne,re){if(l.isBuffer(ne))return ne.length;if(ArrayBuffer.isView(ne)||ve(ne,ArrayBuffer))return ne.byteLength;if(typeof ne!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ne);const de=ne.length,xe=arguments.length>2&&arguments[2]===!0;if(!xe&&de===0)return 0;let Pe=!1;for(;;)switch(re){case"ascii":case"latin1":case"binary":return de;case"utf8":case"utf-8":return Ce(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*de;case"hex":return de>>>1;case"base64":return le(ne).length;default:if(Pe)return xe?-1:Ce(ne).length;re=(""+re).toLowerCase(),Pe=!0}}function b(ne,re,de){let xe=!1;if((re===void 0||re<0)&&(re=0),re>this.length||((de===void 0||de>this.length)&&(de=this.length),de<=0)||(de>>>=0)<=(re>>>=0))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return V(this,re,de);case"utf8":case"utf-8":return B(this,re,de);case"ascii":return G(this,re,de);case"latin1":case"binary":return k(this,re,de);case"base64":return F(this,re,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,re,de);default:if(xe)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),xe=!0}}function y(ne,re,de){const xe=ne[re];ne[re]=ne[de],ne[de]=xe}function A(ne,re,de,xe,Pe){if(ne.length===0)return-1;if(typeof de=="string"?(xe=de,de=0):de>2147483647?de=2147483647:de<-2147483648&&(de=-2147483648),pe(de=+de)&&(de=Pe?0:ne.length-1),de<0&&(de=ne.length+de),de>=ne.length){if(Pe)return-1;de=ne.length-1}else if(de<0){if(!Pe)return-1;de=0}if(typeof re=="string"&&(re=l.from(re,xe)),l.isBuffer(re))return re.length===0?-1:E(ne,re,de,xe,Pe);if(typeof re=="number")return re&=255,typeof Uint8Array.prototype.indexOf=="function"?Pe?Uint8Array.prototype.indexOf.call(ne,re,de):Uint8Array.prototype.lastIndexOf.call(ne,re,de):E(ne,[re],de,xe,Pe);throw new TypeError("val must be string, number or Buffer")}function E(ne,re,de,xe,Pe){let Ae,Oe=1,Se=ne.length,Fe=re.length;if(xe!==void 0&&((xe=String(xe).toLowerCase())==="ucs2"||xe==="ucs-2"||xe==="utf16le"||xe==="utf-16le")){if(ne.length<2||re.length<2)return-1;Oe=2,Se/=2,Fe/=2,de/=2}function $e(Re,qe){return Oe===1?Re[qe]:Re.readUInt16BE(qe*Oe)}if(Pe){let Re=-1;for(Ae=de;Ae<Se;Ae++)if($e(ne,Ae)===$e(re,Re===-1?0:Ae-Re)){if(Re===-1&&(Re=Ae),Ae-Re+1===Fe)return Re*Oe}else Re!==-1&&(Ae-=Ae-Re),Re=-1}else for(de+Fe>Se&&(de=Se-Fe),Ae=de;Ae>=0;Ae--){let Re=!0;for(let qe=0;qe<Fe;qe++)if($e(ne,Ae+qe)!==$e(re,qe)){Re=!1;break}if(Re)return Ae}return-1}function N(ne,re,de,xe){de=Number(de)||0;const Pe=ne.length-de;xe?(xe=Number(xe))>Pe&&(xe=Pe):xe=Pe;const Ae=re.length;let Oe;for(xe>Ae/2&&(xe=Ae/2),Oe=0;Oe<xe;++Oe){const Se=parseInt(re.substr(2*Oe,2),16);if(pe(Se))return Oe;ne[de+Oe]=Se}return Oe}function T(ne,re,de,xe){return ye(Ce(re,ne.length-de),ne,de,xe)}function O(ne,re,de,xe){return ye(function(Pe){const Ae=[];for(let Oe=0;Oe<Pe.length;++Oe)Ae.push(255&Pe.charCodeAt(Oe));return Ae}(re),ne,de,xe)}function j(ne,re,de,xe){return ye(le(re),ne,de,xe)}function M(ne,re,de,xe){return ye(function(Pe,Ae){let Oe,Se,Fe;const $e=[];for(let Re=0;Re<Pe.length&&!((Ae-=2)<0);++Re)Oe=Pe.charCodeAt(Re),Se=Oe>>8,Fe=Oe%256,$e.push(Fe),$e.push(Se);return $e}(re,ne.length-de),ne,de,xe)}function F(ne,re,de){return re===0&&de===ne.length?a.fromByteArray(ne):a.fromByteArray(ne.slice(re,de))}function B(ne,re,de){de=Math.min(ne.length,de);const xe=[];let Pe=re;for(;Pe<de;){const Ae=ne[Pe];let Oe=null,Se=Ae>239?4:Ae>223?3:Ae>191?2:1;if(Pe+Se<=de){let Fe,$e,Re,qe;switch(Se){case 1:Ae<128&&(Oe=Ae);break;case 2:Fe=ne[Pe+1],(192&Fe)==128&&(qe=(31&Ae)<<6|63&Fe,qe>127&&(Oe=qe));break;case 3:Fe=ne[Pe+1],$e=ne[Pe+2],(192&Fe)==128&&(192&$e)==128&&(qe=(15&Ae)<<12|(63&Fe)<<6|63&$e,qe>2047&&(qe<55296||qe>57343)&&(Oe=qe));break;case 4:Fe=ne[Pe+1],$e=ne[Pe+2],Re=ne[Pe+3],(192&Fe)==128&&(192&$e)==128&&(192&Re)==128&&(qe=(15&Ae)<<18|(63&Fe)<<12|(63&$e)<<6|63&Re,qe>65535&&qe<1114112&&(Oe=qe))}}Oe===null?(Oe=65533,Se=1):Oe>65535&&(Oe-=65536,xe.push(Oe>>>10&1023|55296),Oe=56320|1023&Oe),xe.push(Oe),Pe+=Se}return function(Ae){const Oe=Ae.length;if(Oe<=I)return String.fromCharCode.apply(String,Ae);let Se="",Fe=0;for(;Fe<Oe;)Se+=String.fromCharCode.apply(String,Ae.slice(Fe,Fe+=I));return Se}(xe)}u.kMaxLength=f,l.TYPED_ARRAY_SUPPORT=function(){try{const ne=new Uint8Array(1),re={foo:function(){return 42}};return Object.setPrototypeOf(re,Uint8Array.prototype),Object.setPrototypeOf(ne,re),ne.foo()===42}catch{return!1}}(),l.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(ne,re,de){return x(ne,re,de)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(ne,re,de){return function(xe,Pe,Ae){return S(xe),xe<=0?m(xe):Pe!==void 0?typeof Ae=="string"?m(xe).fill(Pe,Ae):m(xe).fill(Pe):m(xe)}(ne,re,de)},l.allocUnsafe=function(ne){return D(ne)},l.allocUnsafeSlow=function(ne){return D(ne)},l.isBuffer=function(ne){return ne!=null&&ne.t===!0&&ne!==l.prototype},l.compare=function(ne,re){if(ve(ne,Uint8Array)&&(ne=l.from(ne,ne.offset,ne.byteLength)),ve(re,Uint8Array)&&(re=l.from(re,re.offset,re.byteLength)),!l.isBuffer(ne)||!l.isBuffer(re))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ne===re)return 0;let de=ne.length,xe=re.length;for(let Pe=0,Ae=Math.min(de,xe);Pe<Ae;++Pe)if(ne[Pe]!==re[Pe]){de=ne[Pe],xe=re[Pe];break}return de<xe?-1:xe<de?1:0},l.isEncoding=function(ne){switch(String(ne).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(ne,re){if(!Array.isArray(ne))throw new TypeError('"list" argument must be an Array of Buffers');if(ne.length===0)return l.alloc(0);let de;if(re===void 0)for(re=0,de=0;de<ne.length;++de)re+=ne[de].length;const xe=l.allocUnsafe(re);let Pe=0;for(de=0;de<ne.length;++de){let Ae=ne[de];if(ve(Ae,Uint8Array))Pe+Ae.length>xe.length?(l.isBuffer(Ae)||(Ae=l.from(Ae)),Ae.copy(xe,Pe)):Uint8Array.prototype.set.call(xe,Ae,Pe);else{if(!l.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(xe,Pe)}Pe+=Ae.length}return xe},l.byteLength=p,l.prototype.t=!0,l.prototype.swap16=function(){const ne=this.length;if(ne%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let re=0;re<ne;re+=2)y(this,re,re+1);return this},l.prototype.swap32=function(){const ne=this.length;if(ne%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let re=0;re<ne;re+=4)y(this,re,re+3),y(this,re+1,re+2);return this},l.prototype.swap64=function(){const ne=this.length;if(ne%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let re=0;re<ne;re+=8)y(this,re,re+7),y(this,re+1,re+6),y(this,re+2,re+5),y(this,re+3,re+4);return this},l.prototype.toString=function(){const ne=this.length;return ne===0?"":arguments.length===0?B(this,0,ne):b.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(ne){if(!l.isBuffer(ne))throw new TypeError("Argument must be a Buffer");return this===ne||l.compare(this,ne)===0},l.prototype.inspect=function(){let ne="";const re=u.INSPECT_MAX_BYTES;return ne=this.toString("hex",0,re).replace(/(.{2})/g,"$1 ").trim(),this.length>re&&(ne+=" ... "),"<Buffer "+ne+">"},g&&(l.prototype[g]=l.prototype.inspect),l.prototype.compare=function(ne,re,de,xe,Pe){if(ve(ne,Uint8Array)&&(ne=l.from(ne,ne.offset,ne.byteLength)),!l.isBuffer(ne))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ne);if(re===void 0&&(re=0),de===void 0&&(de=ne?ne.length:0),xe===void 0&&(xe=0),Pe===void 0&&(Pe=this.length),re<0||de>ne.length||xe<0||Pe>this.length)throw new RangeError("out of range index");if(xe>=Pe&&re>=de)return 0;if(xe>=Pe)return-1;if(re>=de)return 1;if(this===ne)return 0;let Ae=(Pe>>>=0)-(xe>>>=0),Oe=(de>>>=0)-(re>>>=0);const Se=Math.min(Ae,Oe),Fe=this.slice(xe,Pe),$e=ne.slice(re,de);for(let Re=0;Re<Se;++Re)if(Fe[Re]!==$e[Re]){Ae=Fe[Re],Oe=$e[Re];break}return Ae<Oe?-1:Oe<Ae?1:0},l.prototype.includes=function(ne,re,de){return this.indexOf(ne,re,de)!==-1},l.prototype.indexOf=function(ne,re,de){return A(this,ne,re,de,!0)},l.prototype.lastIndexOf=function(ne,re,de){return A(this,ne,re,de,!1)},l.prototype.write=function(ne,re,de,xe){if(re===void 0)xe="utf8",de=this.length,re=0;else if(de===void 0&&typeof re=="string")xe=re,de=this.length,re=0;else{if(!isFinite(re))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");re>>>=0,isFinite(de)?(de>>>=0,xe===void 0&&(xe="utf8")):(xe=de,de=void 0)}const Pe=this.length-re;if((de===void 0||de>Pe)&&(de=Pe),ne.length>0&&(de<0||re<0)||re>this.length)throw new RangeError("Attempt to write outside buffer bounds");xe||(xe="utf8");let Ae=!1;for(;;)switch(xe){case"hex":return N(this,ne,re,de);case"utf8":case"utf-8":return T(this,ne,re,de);case"ascii":case"latin1":case"binary":return O(this,ne,re,de);case"base64":return j(this,ne,re,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,ne,re,de);default:if(Ae)throw new TypeError("Unknown encoding: "+xe);xe=(""+xe).toLowerCase(),Ae=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.i||this,0)}};const I=4096;function G(ne,re,de){let xe="";de=Math.min(ne.length,de);for(let Pe=re;Pe<de;++Pe)xe+=String.fromCharCode(127&ne[Pe]);return xe}function k(ne,re,de){let xe="";de=Math.min(ne.length,de);for(let Pe=re;Pe<de;++Pe)xe+=String.fromCharCode(ne[Pe]);return xe}function V(ne,re,de){const xe=ne.length;(!re||re<0)&&(re=0),(!de||de<0||de>xe)&&(de=xe);let Pe="";for(let Ae=re;Ae<de;++Ae)Pe+=be[ne[Ae]];return Pe}function R(ne,re,de){const xe=ne.slice(re,de);let Pe="";for(let Ae=0;Ae<xe.length-1;Ae+=2)Pe+=String.fromCharCode(xe[Ae]+256*xe[Ae+1]);return Pe}function U(ne,re,de){if(ne%1!=0||ne<0)throw new RangeError("offset is not uint");if(ne+re>de)throw new RangeError("Trying to access beyond buffer length")}function L(ne,re,de,xe,Pe,Ae){if(!l.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(re>Pe||re<Ae)throw new RangeError('"value" argument is out of bounds');if(de+xe>ne.length)throw new RangeError("Index out of range")}function H(ne,re,de,xe,Pe){te(re,xe,Pe,ne,de,7);let Ae=Number(re&BigInt(4294967295));ne[de++]=Ae,Ae>>=8,ne[de++]=Ae,Ae>>=8,ne[de++]=Ae,Ae>>=8,ne[de++]=Ae;let Oe=Number(re>>BigInt(32)&BigInt(4294967295));return ne[de++]=Oe,Oe>>=8,ne[de++]=Oe,Oe>>=8,ne[de++]=Oe,Oe>>=8,ne[de++]=Oe,de}function X(ne,re,de,xe,Pe){te(re,xe,Pe,ne,de,7);let Ae=Number(re&BigInt(4294967295));ne[de+7]=Ae,Ae>>=8,ne[de+6]=Ae,Ae>>=8,ne[de+5]=Ae,Ae>>=8,ne[de+4]=Ae;let Oe=Number(re>>BigInt(32)&BigInt(4294967295));return ne[de+3]=Oe,Oe>>=8,ne[de+2]=Oe,Oe>>=8,ne[de+1]=Oe,Oe>>=8,ne[de]=Oe,de+8}function Z(ne,re,de,xe,Pe,Ae){if(de+xe>ne.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("Index out of range")}function J(ne,re,de,xe,Pe){return re=+re,de>>>=0,Pe||Z(ne,0,de,4),r.write(ne,re,de,xe,23,4),de+4}function K(ne,re,de,xe,Pe){return re=+re,de>>>=0,Pe||Z(ne,0,de,8),r.write(ne,re,de,xe,52,8),de+8}l.prototype.slice=function(ne,re){const de=this.length;(ne=~~ne)<0?(ne+=de)<0&&(ne=0):ne>de&&(ne=de),(re=re===void 0?de:~~re)<0?(re+=de)<0&&(re=0):re>de&&(re=de),re<ne&&(re=ne);const xe=this.subarray(ne,re);return Object.setPrototypeOf(xe,l.prototype),xe},l.prototype.readUintLE=l.prototype.readUIntLE=function(ne,re,de){ne>>>=0,re>>>=0,de||U(ne,re,this.length);let xe=this[ne],Pe=1,Ae=0;for(;++Ae<re&&(Pe*=256);)xe+=this[ne+Ae]*Pe;return xe},l.prototype.readUintBE=l.prototype.readUIntBE=function(ne,re,de){ne>>>=0,re>>>=0,de||U(ne,re,this.length);let xe=this[ne+--re],Pe=1;for(;re>0&&(Pe*=256);)xe+=this[ne+--re]*Pe;return xe},l.prototype.readUint8=l.prototype.readUInt8=function(ne,re){return ne>>>=0,re||U(ne,1,this.length),this[ne]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(ne,re){return ne>>>=0,re||U(ne,2,this.length),this[ne]|this[ne+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(ne,re){return ne>>>=0,re||U(ne,2,this.length),this[ne]<<8|this[ne+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(ne,re){return ne>>>=0,re||U(ne,4,this.length),(this[ne]|this[ne+1]<<8|this[ne+2]<<16)+16777216*this[ne+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(ne,re){return ne>>>=0,re||U(ne,4,this.length),16777216*this[ne]+(this[ne+1]<<16|this[ne+2]<<8|this[ne+3])},l.prototype.readBigUInt64LE=Ne(function(ne){ce(ne>>>=0,"offset");const re=this[ne],de=this[ne+7];re!==void 0&&de!==void 0||oe(ne,this.length-8);const xe=re+256*this[++ne]+65536*this[++ne]+this[++ne]*2**24,Pe=this[++ne]+256*this[++ne]+65536*this[++ne]+de*2**24;return BigInt(xe)+(BigInt(Pe)<<BigInt(32))}),l.prototype.readBigUInt64BE=Ne(function(ne){ce(ne>>>=0,"offset");const re=this[ne],de=this[ne+7];re!==void 0&&de!==void 0||oe(ne,this.length-8);const xe=re*2**24+65536*this[++ne]+256*this[++ne]+this[++ne],Pe=this[++ne]*2**24+65536*this[++ne]+256*this[++ne]+de;return(BigInt(xe)<<BigInt(32))+BigInt(Pe)}),l.prototype.readIntLE=function(ne,re,de){ne>>>=0,re>>>=0,de||U(ne,re,this.length);let xe=this[ne],Pe=1,Ae=0;for(;++Ae<re&&(Pe*=256);)xe+=this[ne+Ae]*Pe;return Pe*=128,xe>=Pe&&(xe-=Math.pow(2,8*re)),xe},l.prototype.readIntBE=function(ne,re,de){ne>>>=0,re>>>=0,de||U(ne,re,this.length);let xe=re,Pe=1,Ae=this[ne+--xe];for(;xe>0&&(Pe*=256);)Ae+=this[ne+--xe]*Pe;return Pe*=128,Ae>=Pe&&(Ae-=Math.pow(2,8*re)),Ae},l.prototype.readInt8=function(ne,re){return ne>>>=0,re||U(ne,1,this.length),128&this[ne]?-1*(255-this[ne]+1):this[ne]},l.prototype.readInt16LE=function(ne,re){ne>>>=0,re||U(ne,2,this.length);const de=this[ne]|this[ne+1]<<8;return 32768&de?4294901760|de:de},l.prototype.readInt16BE=function(ne,re){ne>>>=0,re||U(ne,2,this.length);const de=this[ne+1]|this[ne]<<8;return 32768&de?4294901760|de:de},l.prototype.readInt32LE=function(ne,re){return ne>>>=0,re||U(ne,4,this.length),this[ne]|this[ne+1]<<8|this[ne+2]<<16|this[ne+3]<<24},l.prototype.readInt32BE=function(ne,re){return ne>>>=0,re||U(ne,4,this.length),this[ne]<<24|this[ne+1]<<16|this[ne+2]<<8|this[ne+3]},l.prototype.readBigInt64LE=Ne(function(ne){ce(ne>>>=0,"offset");const re=this[ne],de=this[ne+7];re!==void 0&&de!==void 0||oe(ne,this.length-8);const xe=this[ne+4]+256*this[ne+5]+65536*this[ne+6]+(de<<24);return(BigInt(xe)<<BigInt(32))+BigInt(re+256*this[++ne]+65536*this[++ne]+this[++ne]*16777216)}),l.prototype.readBigInt64BE=Ne(function(ne){ce(ne>>>=0,"offset");const re=this[ne],de=this[ne+7];re!==void 0&&de!==void 0||oe(ne,this.length-8);const xe=(re<<24)+65536*this[++ne]+256*this[++ne]+this[++ne];return(BigInt(xe)<<BigInt(32))+BigInt(this[++ne]*16777216+65536*this[++ne]+256*this[++ne]+de)}),l.prototype.readFloatLE=function(ne,re){return ne>>>=0,re||U(ne,4,this.length),r.read(this,ne,!0,23,4)},l.prototype.readFloatBE=function(ne,re){return ne>>>=0,re||U(ne,4,this.length),r.read(this,ne,!1,23,4)},l.prototype.readDoubleLE=function(ne,re){return ne>>>=0,re||U(ne,8,this.length),r.read(this,ne,!0,52,8)},l.prototype.readDoubleBE=function(ne,re){return ne>>>=0,re||U(ne,8,this.length),r.read(this,ne,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(ne,re,de,xe){ne=+ne,re>>>=0,de>>>=0,xe||L(this,ne,re,de,Math.pow(2,8*de)-1,0);let Pe=1,Ae=0;for(this[re]=255&ne;++Ae<de&&(Pe*=256);)this[re+Ae]=ne/Pe&255;return re+de},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(ne,re,de,xe){ne=+ne,re>>>=0,de>>>=0,xe||L(this,ne,re,de,Math.pow(2,8*de)-1,0);let Pe=de-1,Ae=1;for(this[re+Pe]=255&ne;--Pe>=0&&(Ae*=256);)this[re+Pe]=ne/Ae&255;return re+de},l.prototype.writeUint8=l.prototype.writeUInt8=function(ne,re,de){return ne=+ne,re>>>=0,de||L(this,ne,re,1,255,0),this[re]=255&ne,re+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(ne,re,de){return ne=+ne,re>>>=0,de||L(this,ne,re,2,65535,0),this[re]=255&ne,this[re+1]=ne>>>8,re+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(ne,re,de){return ne=+ne,re>>>=0,de||L(this,ne,re,2,65535,0),this[re]=ne>>>8,this[re+1]=255&ne,re+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(ne,re,de){return ne=+ne,re>>>=0,de||L(this,ne,re,4,4294967295,0),this[re+3]=ne>>>24,this[re+2]=ne>>>16,this[re+1]=ne>>>8,this[re]=255&ne,re+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(ne,re,de){return ne=+ne,re>>>=0,de||L(this,ne,re,4,4294967295,0),this[re]=ne>>>24,this[re+1]=ne>>>16,this[re+2]=ne>>>8,this[re+3]=255&ne,re+4},l.prototype.writeBigUInt64LE=Ne(function(ne,re=0){return H(this,ne,re,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Ne(function(ne,re=0){return X(this,ne,re,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(ne,re,de,xe){if(ne=+ne,re>>>=0,!xe){const Se=Math.pow(2,8*de-1);L(this,ne,re,de,Se-1,-Se)}let Pe=0,Ae=1,Oe=0;for(this[re]=255&ne;++Pe<de&&(Ae*=256);)ne<0&&Oe===0&&this[re+Pe-1]!==0&&(Oe=1),this[re+Pe]=(ne/Ae>>0)-Oe&255;return re+de},l.prototype.writeIntBE=function(ne,re,de,xe){if(ne=+ne,re>>>=0,!xe){const Se=Math.pow(2,8*de-1);L(this,ne,re,de,Se-1,-Se)}let Pe=de-1,Ae=1,Oe=0;for(this[re+Pe]=255&ne;--Pe>=0&&(Ae*=256);)ne<0&&Oe===0&&this[re+Pe+1]!==0&&(Oe=1),this[re+Pe]=(ne/Ae>>0)-Oe&255;return re+de},l.prototype.writeInt8=function(ne,re,de){return ne=+ne,re>>>=0,de||L(this,ne,re,1,127,-128),ne<0&&(ne=255+ne+1),this[re]=255&ne,re+1},l.prototype.writeInt16LE=function(ne,re,de){return ne=+ne,re>>>=0,de||L(this,ne,re,2,32767,-32768),this[re]=255&ne,this[re+1]=ne>>>8,re+2},l.prototype.writeInt16BE=function(ne,re,de){return ne=+ne,re>>>=0,de||L(this,ne,re,2,32767,-32768),this[re]=ne>>>8,this[re+1]=255&ne,re+2},l.prototype.writeInt32LE=function(ne,re,de){return ne=+ne,re>>>=0,de||L(this,ne,re,4,2147483647,-2147483648),this[re]=255&ne,this[re+1]=ne>>>8,this[re+2]=ne>>>16,this[re+3]=ne>>>24,re+4},l.prototype.writeInt32BE=function(ne,re,de){return ne=+ne,re>>>=0,de||L(this,ne,re,4,2147483647,-2147483648),ne<0&&(ne=4294967295+ne+1),this[re]=ne>>>24,this[re+1]=ne>>>16,this[re+2]=ne>>>8,this[re+3]=255&ne,re+4},l.prototype.writeBigInt64LE=Ne(function(ne,re=0){return H(this,ne,re,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Ne(function(ne,re=0){return X(this,ne,re,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeFloatLE=function(ne,re,de){return J(this,ne,re,!0,de)},l.prototype.writeFloatBE=function(ne,re,de){return J(this,ne,re,!1,de)},l.prototype.writeDoubleLE=function(ne,re,de){return K(this,ne,re,!0,de)},l.prototype.writeDoubleBE=function(ne,re,de){return K(this,ne,re,!1,de)},l.prototype.copy=function(ne,re,de,xe){if(!l.isBuffer(ne))throw new TypeError("argument should be a Buffer");if(de||(de=0),xe||xe===0||(xe=this.length),re>=ne.length&&(re=ne.length),re||(re=0),xe>0&&xe<de&&(xe=de),xe===de||ne.length===0||this.length===0)return 0;if(re<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("Index out of range");if(xe<0)throw new RangeError("sourceEnd out of bounds");xe>this.length&&(xe=this.length),ne.length-re<xe-de&&(xe=ne.length-re+de);const Pe=xe-de;return this===ne&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(re,de,xe):Uint8Array.prototype.set.call(ne,this.subarray(de,xe),re),Pe},l.prototype.fill=function(ne,re,de,xe){if(typeof ne=="string"){if(typeof re=="string"?(xe=re,re=0,de=this.length):typeof de=="string"&&(xe=de,de=this.length),xe!==void 0&&typeof xe!="string")throw new TypeError("encoding must be a string");if(typeof xe=="string"&&!l.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe);if(ne.length===1){const Ae=ne.charCodeAt(0);(xe==="utf8"&&Ae<128||xe==="latin1")&&(ne=Ae)}}else typeof ne=="number"?ne&=255:typeof ne=="boolean"&&(ne=Number(ne));if(re<0||this.length<re||this.length<de)throw new RangeError("Out of range index");if(de<=re)return this;let Pe;if(re>>>=0,de=de===void 0?this.length:de>>>0,ne||(ne=0),typeof ne=="number")for(Pe=re;Pe<de;++Pe)this[Pe]=ne;else{const Ae=l.isBuffer(ne)?ne:l.from(ne,xe),Oe=Ae.length;if(Oe===0)throw new TypeError('The value "'+ne+'" is invalid for argument "value"');for(Pe=0;Pe<de-re;++Pe)this[Pe+re]=Ae[Pe%Oe]}return this};const $={};function W(ne,re,de){$[ne]=class extends de{constructor(){super(),Object.defineProperty(this,"message",{value:re.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ne}]`,this.stack,delete this.name}get code(){return ne}set code(xe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:xe,writable:!0})}toString(){return`${this.name} [${ne}]: ${this.message}`}}}function Y(ne){let re="",de=ne.length;const xe=ne[0]==="-"?1:0;for(;de>=xe+4;de-=3)re=`_${ne.slice(de-3,de)}${re}`;return`${ne.slice(0,de)}${re}`}function te(ne,re,de,xe,Pe,Ae){if(ne>de||ne<re){const Oe=typeof re=="bigint"?"n":"";let Se;throw Se=Ae>3?re===0||re===BigInt(0)?`>= 0${Oe} and < 2${Oe} ** ${8*(Ae+1)}${Oe}`:`>= -(2${Oe} ** ${8*(Ae+1)-1}${Oe}) and < 2 ** ${8*(Ae+1)-1}${Oe}`:`>= ${re}${Oe} and <= ${de}${Oe}`,new $.ERR_OUT_OF_RANGE("value",Se,ne)}(function(Oe,Se,Fe){ce(Se,"offset"),Oe[Se]!==void 0&&Oe[Se+Fe]!==void 0||oe(Se,Oe.length-(Fe+1))})(xe,Pe,Ae)}function ce(ne,re){if(typeof ne!="number")throw new $.ERR_INVALID_ARG_TYPE(re,"number",ne)}function oe(ne,re,de){throw Math.floor(ne)!==ne?(ce(ne,de),new $.ERR_OUT_OF_RANGE(de||"offset","an integer",ne)):re<0?new $.ERR_BUFFER_OUT_OF_BOUNDS:new $.ERR_OUT_OF_RANGE(de||"offset",`>= ${de?1:0} and <= ${re}`,ne)}W("ERR_BUFFER_OUT_OF_BOUNDS",function(ne){return ne?`${ne} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),W("ERR_INVALID_ARG_TYPE",function(ne,re){return`The "${ne}" argument must be of type number. Received type ${typeof re}`},TypeError),W("ERR_OUT_OF_RANGE",function(ne,re,de){let xe=`The value of "${ne}" is out of range.`,Pe=de;return Number.isInteger(de)&&Math.abs(de)>4294967296?Pe=Y(String(de)):typeof de=="bigint"&&(Pe=String(de),(de>BigInt(2)**BigInt(32)||de<-(BigInt(2)**BigInt(32)))&&(Pe=Y(Pe)),Pe+="n"),xe+=` It must be ${re}. Received ${Pe}`,xe},RangeError);const ue=/[^+/0-9A-Za-z-_]/g;function Ce(ne,re){let de;re=re||1/0;const xe=ne.length;let Pe=null;const Ae=[];for(let Oe=0;Oe<xe;++Oe){if(de=ne.charCodeAt(Oe),de>55295&&de<57344){if(!Pe){if(de>56319){(re-=3)>-1&&Ae.push(239,191,189);continue}if(Oe+1===xe){(re-=3)>-1&&Ae.push(239,191,189);continue}Pe=de;continue}if(de<56320){(re-=3)>-1&&Ae.push(239,191,189),Pe=de;continue}de=65536+(Pe-55296<<10|de-56320)}else Pe&&(re-=3)>-1&&Ae.push(239,191,189);if(Pe=null,de<128){if((re-=1)<0)break;Ae.push(de)}else if(de<2048){if((re-=2)<0)break;Ae.push(de>>6|192,63&de|128)}else if(de<65536){if((re-=3)<0)break;Ae.push(de>>12|224,de>>6&63|128,63&de|128)}else{if(!(de<1114112))throw new Error("Invalid code point");if((re-=4)<0)break;Ae.push(de>>18|240,de>>12&63|128,de>>6&63|128,63&de|128)}}return Ae}function le(ne){return a.toByteArray(function(re){if((re=(re=re.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;re.length%4!=0;)re+="=";return re}(ne))}function ye(ne,re,de,xe){let Pe;for(Pe=0;Pe<xe&&!(Pe+de>=re.length||Pe>=ne.length);++Pe)re[Pe+de]=ne[Pe];return Pe}function ve(ne,re){return ne instanceof re||ne!=null&&ne.constructor!=null&&ne.constructor.name!=null&&ne.constructor.name===re.name}function pe(ne){return ne!=ne}const be=function(){const ne="0123456789abcdef",re=new Array(256);for(let de=0;de<16;++de){const xe=16*de;for(let Pe=0;Pe<16;++Pe)re[xe+Pe]=ne[de]+ne[Pe]}return re}();function Ne(ne){return typeof BigInt>"u"?he:ne}function he(){throw new Error("BigInt not supported")}},181:(C,u)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */u.read=function(n,a,r,g,f){var m,l,x=8*f-g-1,S=(1<<x)-1,D=S>>1,h=-7,_=r?f-1:0,o=r?-1:1,p=n[a+_];for(_+=o,m=p&(1<<-h)-1,p>>=-h,h+=x;h>0;m=256*m+n[a+_],_+=o,h-=8);for(l=m&(1<<-h)-1,m>>=-h,h+=g;h>0;l=256*l+n[a+_],_+=o,h-=8);if(m===0)m=1-D;else{if(m===S)return l?NaN:1/0*(p?-1:1);l+=Math.pow(2,g),m-=D}return(p?-1:1)*l*Math.pow(2,m-g)},u.write=function(n,a,r,g,f,m){var l,x,S,D=8*m-f-1,h=(1<<D)-1,_=h>>1,o=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=g?0:m-1,b=g?1:-1,y=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(x=isNaN(a)?1:0,l=h):(l=Math.floor(Math.log(a)/Math.LN2),a*(S=Math.pow(2,-l))<1&&(l--,S*=2),(a+=l+_>=1?o/S:o*Math.pow(2,1-_))*S>=2&&(l++,S/=2),l+_>=h?(x=0,l=h):l+_>=1?(x=(a*S-1)*Math.pow(2,f),l+=_):(x=a*Math.pow(2,_-1)*Math.pow(2,f),l=0));f>=8;n[r+p]=255&x,p+=b,x/=256,f-=8);for(l=l<<f|x,D+=f;D>0;n[r+p]=255&l,p+=b,l/=256,D-=8);n[r+p-b]|=128*y}},845:(C,u,n)=>{var a={};(0,n(761).assign)(a,n(880),n(380),n(271)),C.exports=a},880:(C,u,n)=>{var a=n(789),r=n(761),g=n(944),f=n(950),m=n(744),l=Object.prototype.toString;function x(D){if(!(this instanceof x))return new x(D);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},D||{});var h=this.options;h.raw&&h.windowBits>0?h.windowBits=-h.windowBits:h.gzip&&h.windowBits>0&&h.windowBits<16&&(h.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var _=a.deflateInit2(this.strm,h.level,h.method,h.windowBits,h.memLevel,h.strategy);if(_!==0)throw new Error(f[_]);if(h.header&&a.deflateSetHeader(this.strm,h.header),h.dictionary){var o;if(o=typeof h.dictionary=="string"?g.string2buf(h.dictionary):l.call(h.dictionary)==="[object ArrayBuffer]"?new Uint8Array(h.dictionary):h.dictionary,(_=a.deflateSetDictionary(this.strm,o))!==0)throw new Error(f[_]);this.u=!0}}function S(D,h){var _=new x(h);if(_.push(D,!0),_.err)throw _.msg||f[_.err];return _.result}x.prototype.push=function(D,h){var _,o,p=this.strm,b=this.options.chunkSize;if(this.ended)return!1;o=h===~~h?h:h===!0?4:0,typeof D=="string"?p.input=g.string2buf(D):l.call(D)==="[object ArrayBuffer]"?p.input=new Uint8Array(D):p.input=D,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new r.Buf8(b),p.next_out=0,p.avail_out=b),(_=a.deflate(p,o))!==1&&_!==0)return this.onEnd(_),this.ended=!0,!1;p.avail_out!==0&&(p.avail_in!==0||o!==4&&o!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(r.shrinkBuf(p.output,p.next_out))):this.onData(r.shrinkBuf(p.output,p.next_out)))}while((p.avail_in>0||p.avail_out===0)&&_!==1);return o===4?(_=a.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===0):o!==2||(this.onEnd(0),p.avail_out=0,!0)},x.prototype.onData=function(D){this.chunks.push(D)},x.prototype.onEnd=function(D){D===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=D,this.msg=this.strm.msg},u.Deflate=x,u.deflate=S,u.deflateRaw=function(D,h){return(h=h||{}).raw=!0,S(D,h)},u.gzip=function(D,h){return(h=h||{}).gzip=!0,S(D,h)}},380:(C,u,n)=>{var a=n(20),r=n(761),g=n(944),f=n(271),m=n(950),l=n(744),x=n(357),S=Object.prototype.toString;function D(_){if(!(this instanceof D))return new D(_);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},_||{});var o=this.options;o.raw&&o.windowBits>=0&&o.windowBits<16&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),!(o.windowBits>=0&&o.windowBits<16)||_&&_.windowBits||(o.windowBits+=32),o.windowBits>15&&o.windowBits<48&&!(15&o.windowBits)&&(o.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var p=a.inflateInit2(this.strm,o.windowBits);if(p!==f.Z_OK)throw new Error(m[p]);if(this.header=new x,a.inflateGetHeader(this.strm,this.header),o.dictionary&&(typeof o.dictionary=="string"?o.dictionary=g.string2buf(o.dictionary):S.call(o.dictionary)==="[object ArrayBuffer]"&&(o.dictionary=new Uint8Array(o.dictionary)),o.raw&&(p=a.inflateSetDictionary(this.strm,o.dictionary))!==f.Z_OK))throw new Error(m[p])}function h(_,o){var p=new D(o);if(p.push(_,!0),p.err)throw p.msg||m[p.err];return p.result}D.prototype.push=function(_,o){var p,b,y,A,E,N=this.strm,T=this.options.chunkSize,O=this.options.dictionary,j=!1;if(this.ended)return!1;b=o===~~o?o:o===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof _=="string"?N.input=g.binstring2buf(_):S.call(_)==="[object ArrayBuffer]"?N.input=new Uint8Array(_):N.input=_,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new r.Buf8(T),N.next_out=0,N.avail_out=T),(p=a.inflate(N,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&O&&(p=a.inflateSetDictionary(this.strm,O)),p===f.Z_BUF_ERROR&&j===!0&&(p=f.Z_OK,j=!1),p!==f.Z_STREAM_END&&p!==f.Z_OK)return this.onEnd(p),this.ended=!0,!1;N.next_out&&(N.avail_out!==0&&p!==f.Z_STREAM_END&&(N.avail_in!==0||b!==f.Z_FINISH&&b!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=g.utf8border(N.output,N.next_out),A=N.next_out-y,E=g.buf2string(N.output,y),N.next_out=A,N.avail_out=T-A,A&&r.arraySet(N.output,N.output,y,A,0),this.onData(E)):this.onData(r.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(j=!0)}while((N.avail_in>0||N.avail_out===0)&&p!==f.Z_STREAM_END);return p===f.Z_STREAM_END&&(b=f.Z_FINISH),b===f.Z_FINISH?(p=a.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===f.Z_OK):b!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),N.avail_out=0,!0)},D.prototype.onData=function(_){this.chunks.push(_)},D.prototype.onEnd=function(_){_===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},u.Inflate=D,u.inflate=h,u.inflateRaw=function(_,o){return(o=o||{}).raw=!0,h(_,o)},u.ungzip=h},761:(C,u)=>{var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function a(f,m){return Object.prototype.hasOwnProperty.call(f,m)}u.assign=function(f){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var l=m.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var x in l)a(l,x)&&(f[x]=l[x])}}return f},u.shrinkBuf=function(f,m){return f.length===m?f:f.subarray?f.subarray(0,m):(f.length=m,f)};var r={arraySet:function(f,m,l,x,S){if(m.subarray&&f.subarray)f.set(m.subarray(l,l+x),S);else for(var D=0;D<x;D++)f[S+D]=m[l+D]},flattenChunks:function(f){var m,l,x,S,D,h;for(x=0,m=0,l=f.length;m<l;m++)x+=f[m].length;for(h=new Uint8Array(x),S=0,m=0,l=f.length;m<l;m++)D=f[m],h.set(D,S),S+=D.length;return h}},g={arraySet:function(f,m,l,x,S){for(var D=0;D<x;D++)f[S+D]=m[l+D]},flattenChunks:function(f){return[].concat.apply([],f)}};u.setTyped=function(f){f?(u.Buf8=Uint8Array,u.Buf16=Uint16Array,u.Buf32=Int32Array,u.assign(u,r)):(u.Buf8=Array,u.Buf16=Array,u.Buf32=Array,u.assign(u,g))},u.setTyped(n)},944:(C,u,n)=>{var a=n(761),r=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var f=new a.Buf8(256),m=0;m<256;m++)f[m]=m>=252?6:m>=248?5:m>=240?4:m>=224?3:m>=192?2:1;function l(x,S){if(S<65534&&(x.subarray&&g||!x.subarray&&r))return String.fromCharCode.apply(null,a.shrinkBuf(x,S));for(var D="",h=0;h<S;h++)D+=String.fromCharCode(x[h]);return D}f[254]=f[254]=1,u.string2buf=function(x){var S,D,h,_,o,p=x.length,b=0;for(_=0;_<p;_++)(64512&(D=x.charCodeAt(_)))==55296&&_+1<p&&(64512&(h=x.charCodeAt(_+1)))==56320&&(D=65536+(D-55296<<10)+(h-56320),_++),b+=D<128?1:D<2048?2:D<65536?3:4;for(S=new a.Buf8(b),o=0,_=0;o<b;_++)(64512&(D=x.charCodeAt(_)))==55296&&_+1<p&&(64512&(h=x.charCodeAt(_+1)))==56320&&(D=65536+(D-55296<<10)+(h-56320),_++),D<128?S[o++]=D:D<2048?(S[o++]=192|D>>>6,S[o++]=128|63&D):D<65536?(S[o++]=224|D>>>12,S[o++]=128|D>>>6&63,S[o++]=128|63&D):(S[o++]=240|D>>>18,S[o++]=128|D>>>12&63,S[o++]=128|D>>>6&63,S[o++]=128|63&D);return S},u.buf2binstring=function(x){return l(x,x.length)},u.binstring2buf=function(x){for(var S=new a.Buf8(x.length),D=0,h=S.length;D<h;D++)S[D]=x.charCodeAt(D);return S},u.buf2string=function(x,S){var D,h,_,o,p=S||x.length,b=new Array(2*p);for(h=0,D=0;D<p;)if((_=x[D++])<128)b[h++]=_;else if((o=f[_])>4)b[h++]=65533,D+=o-1;else{for(_&=o===2?31:o===3?15:7;o>1&&D<p;)_=_<<6|63&x[D++],o--;o>1?b[h++]=65533:_<65536?b[h++]=_:(_-=65536,b[h++]=55296|_>>10&1023,b[h++]=56320|1023&_)}return l(b,h)},u.utf8border=function(x,S){var D;for((S=S||x.length)>x.length&&(S=x.length),D=S-1;D>=0&&(192&x[D])==128;)D--;return D<0||D===0?S:D+f[x[D]]>S?D:S}},562:C=>{C.exports=function(u,n,a,r){for(var g=65535&u|0,f=u>>>16&65535|0,m=0;a!==0;){a-=m=a>2e3?2e3:a;do f=f+(g=g+n[r++]|0)|0;while(--m);g%=65521,f%=65521}return g|f<<16|0}},271:C=>{C.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},299:C=>{var u=function(){for(var n,a=[],r=0;r<256;r++){n=r;for(var g=0;g<8;g++)n=1&n?3988292384^n>>>1:n>>>1;a[r]=n}return a}();C.exports=function(n,a,r,g){var f=u,m=g+r;n^=-1;for(var l=g;l<m;l++)n=n>>>8^f[255&(n^a[l])];return-1^n}},789:(C,u,n)=>{var a,r=n(761),g=n(564),f=n(562),m=n(299),l=n(950),x=-2,S=258,D=262,h=103,_=113,o=666;function p(R,U){return R.msg=l[U],U}function b(R){return(R<<1)-(R>4?9:0)}function y(R){for(var U=R.length;--U>=0;)R[U]=0}function A(R){var U=R.state,L=U.pending;L>R.avail_out&&(L=R.avail_out),L!==0&&(r.arraySet(R.output,U.pending_buf,U.pending_out,L,R.next_out),R.next_out+=L,U.pending_out+=L,R.total_out+=L,R.avail_out-=L,U.pending-=L,U.pending===0&&(U.pending_out=0))}function E(R,U){g.h(R,R.block_start>=0?R.block_start:-1,R.strstart-R.block_start,U),R.block_start=R.strstart,A(R.strm)}function N(R,U){R.pending_buf[R.pending++]=U}function T(R,U){R.pending_buf[R.pending++]=U>>>8&255,R.pending_buf[R.pending++]=255&U}function O(R,U){var L,H,X=R.max_chain_length,Z=R.strstart,J=R.prev_length,K=R.nice_match,$=R.strstart>R.w_size-D?R.strstart-(R.w_size-D):0,W=R.window,Y=R.w_mask,te=R.prev,ce=R.strstart+S,oe=W[Z+J-1],ue=W[Z+J];R.prev_length>=R.good_match&&(X>>=2),K>R.lookahead&&(K=R.lookahead);do if(W[(L=U)+J]===ue&&W[L+J-1]===oe&&W[L]===W[Z]&&W[++L]===W[Z+1]){Z+=2,L++;do;while(W[++Z]===W[++L]&&W[++Z]===W[++L]&&W[++Z]===W[++L]&&W[++Z]===W[++L]&&W[++Z]===W[++L]&&W[++Z]===W[++L]&&W[++Z]===W[++L]&&W[++Z]===W[++L]&&Z<ce);if(H=S-(ce-Z),Z=ce-S,H>J){if(R.match_start=U,J=H,H>=K)break;oe=W[Z+J-1],ue=W[Z+J]}}while((U=te[U&Y])>$&&--X!=0);return J<=R.lookahead?J:R.lookahead}function j(R){var U,L,H,X,Z,J,K,$,W,Y,te=R.w_size;do{if(X=R.window_size-R.lookahead-R.strstart,R.strstart>=te+(te-D)){r.arraySet(R.window,R.window,te,te,0),R.match_start-=te,R.strstart-=te,R.block_start-=te,U=L=R.hash_size;do H=R.head[--U],R.head[U]=H>=te?H-te:0;while(--L);U=L=te;do H=R.prev[--U],R.prev[U]=H>=te?H-te:0;while(--L);X+=te}if(R.strm.avail_in===0)break;if(J=R.strm,K=R.window,$=R.strstart+R.lookahead,W=X,Y=void 0,(Y=J.avail_in)>W&&(Y=W),L=Y===0?0:(J.avail_in-=Y,r.arraySet(K,J.input,J.next_in,Y,$),J.state.wrap===1?J.adler=f(J.adler,K,Y,$):J.state.wrap===2&&(J.adler=m(J.adler,K,Y,$)),J.next_in+=Y,J.total_in+=Y,Y),R.lookahead+=L,R.lookahead+R.insert>=3)for(Z=R.strstart-R.insert,R.ins_h=R.window[Z],R.ins_h=(R.ins_h<<R.hash_shift^R.window[Z+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[Z+3-1])&R.hash_mask,R.prev[Z&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=Z,Z++,R.insert--,!(R.lookahead+R.insert<3)););}while(R.lookahead<D&&R.strm.avail_in!==0)}function M(R,U){for(var L,H;;){if(R.lookahead<D){if(j(R),R.lookahead<D&&U===0)return 1;if(R.lookahead===0)break}if(L=0,R.lookahead>=3&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+3-1])&R.hash_mask,L=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),L!==0&&R.strstart-L<=R.w_size-D&&(R.match_length=O(R,L)),R.match_length>=3)if(H=g.l(R,R.strstart-R.match_start,R.match_length-3),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=3){R.match_length--;do R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+3-1])&R.hash_mask,L=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart;while(--R.match_length!=0);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else H=g.l(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(H&&(E(R,!1),R.strm.avail_out===0))return 1}return R.insert=R.strstart<2?R.strstart:2,U===4?(E(R,!0),R.strm.avail_out===0?3:4):R.last_lit&&(E(R,!1),R.strm.avail_out===0)?1:2}function F(R,U){for(var L,H,X;;){if(R.lookahead<D){if(j(R),R.lookahead<D&&U===0)return 1;if(R.lookahead===0)break}if(L=0,R.lookahead>=3&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+3-1])&R.hash_mask,L=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=2,L!==0&&R.prev_length<R.max_lazy_match&&R.strstart-L<=R.w_size-D&&(R.match_length=O(R,L),R.match_length<=5&&(R.strategy===1||R.match_length===3&&R.strstart-R.match_start>4096)&&(R.match_length=2)),R.prev_length>=3&&R.match_length<=R.prev_length){X=R.strstart+R.lookahead-3,H=g.l(R,R.strstart-1-R.prev_match,R.prev_length-3),R.lookahead-=R.prev_length-1,R.prev_length-=2;do++R.strstart<=X&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+3-1])&R.hash_mask,L=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart);while(--R.prev_length!=0);if(R.match_available=0,R.match_length=2,R.strstart++,H&&(E(R,!1),R.strm.avail_out===0))return 1}else if(R.match_available){if((H=g.l(R,0,R.window[R.strstart-1]))&&E(R,!1),R.strstart++,R.lookahead--,R.strm.avail_out===0)return 1}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(H=g.l(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<2?R.strstart:2,U===4?(E(R,!0),R.strm.avail_out===0?3:4):R.last_lit&&(E(R,!1),R.strm.avail_out===0)?1:2}function B(R,U,L,H,X){this.good_length=R,this.max_lazy=U,this.nice_length=L,this.max_chain=H,this.func=X}function I(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),y(this.dyn_ltree),y(this.dyn_dtree),y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(R){var U;return R&&R.state?(R.total_in=R.total_out=0,R.data_type=2,(U=R.state).pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?42:_,R.adler=U.wrap===2?0:1,U.last_flush=0,g.p(U),0):p(R,x)}function k(R){var U,L=G(R);return L===0&&((U=R.state).window_size=2*U.w_size,y(U.head),U.max_lazy_match=a[U.level].max_lazy,U.good_match=a[U.level].good_length,U.nice_match=a[U.level].nice_length,U.max_chain_length=a[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=2,U.match_available=0,U.ins_h=0),L}function V(R,U,L,H,X,Z){if(!R)return x;var J=1;if(U===-1&&(U=6),H<0?(J=0,H=-H):H>15&&(J=2,H-=16),X<1||X>9||L!==8||H<8||H>15||U<0||U>9||Z<0||Z>4)return p(R,x);H===8&&(H=9);var K=new I;return R.state=K,K.strm=R,K.wrap=J,K.gzhead=null,K.w_bits=H,K.w_size=1<<K.w_bits,K.w_mask=K.w_size-1,K.hash_bits=X+7,K.hash_size=1<<K.hash_bits,K.hash_mask=K.hash_size-1,K.hash_shift=~~((K.hash_bits+3-1)/3),K.window=new r.Buf8(2*K.w_size),K.head=new r.Buf16(K.hash_size),K.prev=new r.Buf16(K.w_size),K.lit_bufsize=1<<X+6,K.pending_buf_size=4*K.lit_bufsize,K.pending_buf=new r.Buf8(K.pending_buf_size),K.d_buf=1*K.lit_bufsize,K.l_buf=3*K.lit_bufsize,K.level=U,K.strategy=Z,K.method=L,k(R)}a=[new B(0,0,0,0,function(R,U){var L=65535;for(L>R.pending_buf_size-5&&(L=R.pending_buf_size-5);;){if(R.lookahead<=1){if(j(R),R.lookahead===0&&U===0)return 1;if(R.lookahead===0)break}R.strstart+=R.lookahead,R.lookahead=0;var H=R.block_start+L;if((R.strstart===0||R.strstart>=H)&&(R.lookahead=R.strstart-H,R.strstart=H,E(R,!1),R.strm.avail_out===0)||R.strstart-R.block_start>=R.w_size-D&&(E(R,!1),R.strm.avail_out===0))return 1}return R.insert=0,U===4?(E(R,!0),R.strm.avail_out===0?3:4):(R.strstart>R.block_start&&(E(R,!1),R.strm.avail_out),1)}),new B(4,4,8,4,M),new B(4,5,16,8,M),new B(4,6,32,32,M),new B(4,4,16,16,F),new B(8,16,32,32,F),new B(8,16,128,128,F),new B(8,32,128,256,F),new B(32,128,258,1024,F),new B(32,258,258,4096,F)],u.deflateInit=function(R,U){return V(R,U,8,15,8,0)},u.deflateInit2=V,u.deflateReset=k,u.deflateResetKeep=G,u.deflateSetHeader=function(R,U){return R&&R.state?R.state.wrap!==2?x:(R.state.gzhead=U,0):x},u.deflate=function(R,U){var L,H,X,Z;if(!R||!R.state||U>5||U<0)return R?p(R,x):x;if(H=R.state,!R.output||!R.input&&R.avail_in!==0||H.status===o&&U!==4)return p(R,R.avail_out===0?-5:x);if(H.strm=R,L=H.last_flush,H.last_flush=U,H.status===42)if(H.wrap===2)R.adler=0,N(H,31),N(H,139),N(H,8),H.gzhead?(N(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),N(H,255&H.gzhead.time),N(H,H.gzhead.time>>8&255),N(H,H.gzhead.time>>16&255),N(H,H.gzhead.time>>24&255),N(H,H.level===9?2:H.strategy>=2||H.level<2?4:0),N(H,255&H.gzhead.os),H.gzhead.extra&&H.gzhead.extra.length&&(N(H,255&H.gzhead.extra.length),N(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(R.adler=m(R.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(N(H,0),N(H,0),N(H,0),N(H,0),N(H,0),N(H,H.level===9?2:H.strategy>=2||H.level<2?4:0),N(H,3),H.status=_);else{var J=8+(H.w_bits-8<<4)<<8;J|=(H.strategy>=2||H.level<2?0:H.level<6?1:H.level===6?2:3)<<6,H.strstart!==0&&(J|=32),J+=31-J%31,H.status=_,T(H,J),H.strstart!==0&&(T(H,R.adler>>>16),T(H,65535&R.adler)),R.adler=1}if(H.status===69)if(H.gzhead.extra){for(X=H.pending;H.gzindex<(65535&H.gzhead.extra.length)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>X&&(R.adler=m(R.adler,H.pending_buf,H.pending-X,X)),A(R),X=H.pending,H.pending!==H.pending_buf_size));)N(H,255&H.gzhead.extra[H.gzindex]),H.gzindex++;H.gzhead.hcrc&&H.pending>X&&(R.adler=m(R.adler,H.pending_buf,H.pending-X,X)),H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(H.status===73)if(H.gzhead.name){X=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>X&&(R.adler=m(R.adler,H.pending_buf,H.pending-X,X)),A(R),X=H.pending,H.pending===H.pending_buf_size)){Z=1;break}Z=H.gzindex<H.gzhead.name.length?255&H.gzhead.name.charCodeAt(H.gzindex++):0,N(H,Z)}while(Z!==0);H.gzhead.hcrc&&H.pending>X&&(R.adler=m(R.adler,H.pending_buf,H.pending-X,X)),Z===0&&(H.gzindex=0,H.status=91)}else H.status=91;if(H.status===91)if(H.gzhead.comment){X=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>X&&(R.adler=m(R.adler,H.pending_buf,H.pending-X,X)),A(R),X=H.pending,H.pending===H.pending_buf_size)){Z=1;break}Z=H.gzindex<H.gzhead.comment.length?255&H.gzhead.comment.charCodeAt(H.gzindex++):0,N(H,Z)}while(Z!==0);H.gzhead.hcrc&&H.pending>X&&(R.adler=m(R.adler,H.pending_buf,H.pending-X,X)),Z===0&&(H.status=h)}else H.status=h;if(H.status===h&&(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&A(R),H.pending+2<=H.pending_buf_size&&(N(H,255&R.adler),N(H,R.adler>>8&255),R.adler=0,H.status=_)):H.status=_),H.pending!==0){if(A(R),R.avail_out===0)return H.last_flush=-1,0}else if(R.avail_in===0&&b(U)<=b(L)&&U!==4)return p(R,-5);if(H.status===o&&R.avail_in!==0)return p(R,-5);if(R.avail_in!==0||H.lookahead!==0||U!==0&&H.status!==o){var K=H.strategy===2?function($,W){for(var Y;;){if($.lookahead===0&&(j($),$.lookahead===0)){if(W===0)return 1;break}if($.match_length=0,Y=g.l($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,Y&&(E($,!1),$.strm.avail_out===0))return 1}return $.insert=0,W===4?(E($,!0),$.strm.avail_out===0?3:4):$.last_lit&&(E($,!1),$.strm.avail_out===0)?1:2}(H,U):H.strategy===3?function($,W){for(var Y,te,ce,oe,ue=$.window;;){if($.lookahead<=S){if(j($),$.lookahead<=S&&W===0)return 1;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=3&&$.strstart>0&&(te=ue[ce=$.strstart-1])===ue[++ce]&&te===ue[++ce]&&te===ue[++ce]){oe=$.strstart+S;do;while(te===ue[++ce]&&te===ue[++ce]&&te===ue[++ce]&&te===ue[++ce]&&te===ue[++ce]&&te===ue[++ce]&&te===ue[++ce]&&te===ue[++ce]&&ce<oe);$.match_length=S-(oe-ce),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=3?(Y=g.l($,1,$.match_length-3),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(Y=g.l($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),Y&&(E($,!1),$.strm.avail_out===0))return 1}return $.insert=0,W===4?(E($,!0),$.strm.avail_out===0?3:4):$.last_lit&&(E($,!1),$.strm.avail_out===0)?1:2}(H,U):a[H.level].func(H,U);if(K!==3&&K!==4||(H.status=o),K===1||K===3)return R.avail_out===0&&(H.last_flush=-1),0;if(K===2&&(U===1?g.g(H):U!==5&&(g.m(H,0,0,!1),U===3&&(y(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),A(R),R.avail_out===0))return H.last_flush=-1,0}return U!==4?0:H.wrap<=0?1:(H.wrap===2?(N(H,255&R.adler),N(H,R.adler>>8&255),N(H,R.adler>>16&255),N(H,R.adler>>24&255),N(H,255&R.total_in),N(H,R.total_in>>8&255),N(H,R.total_in>>16&255),N(H,R.total_in>>24&255)):(T(H,R.adler>>>16),T(H,65535&R.adler)),A(R),H.wrap>0&&(H.wrap=-H.wrap),H.pending!==0?0:1)},u.deflateEnd=function(R){var U;return R&&R.state?(U=R.state.status)!==42&&U!==69&&U!==73&&U!==91&&U!==h&&U!==_&&U!==o?p(R,x):(R.state=null,U===_?p(R,-3):0):x},u.deflateSetDictionary=function(R,U){var L,H,X,Z,J,K,$,W,Y=U.length;if(!R||!R.state||(Z=(L=R.state).wrap)===2||Z===1&&L.status!==42||L.lookahead)return x;for(Z===1&&(R.adler=f(R.adler,U,Y,0)),L.wrap=0,Y>=L.w_size&&(Z===0&&(y(L.head),L.strstart=0,L.block_start=0,L.insert=0),W=new r.Buf8(L.w_size),r.arraySet(W,U,Y-L.w_size,L.w_size,0),U=W,Y=L.w_size),J=R.avail_in,K=R.next_in,$=R.input,R.avail_in=Y,R.next_in=0,R.input=U,j(L);L.lookahead>=3;){H=L.strstart,X=L.lookahead-2;do L.ins_h=(L.ins_h<<L.hash_shift^L.window[H+3-1])&L.hash_mask,L.prev[H&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=H,H++;while(--X);L.strstart=H,L.lookahead=2,j(L)}return L.strstart+=L.lookahead,L.block_start=L.strstart,L.insert=L.lookahead,L.lookahead=0,L.match_length=L.prev_length=2,L.match_available=0,R.next_in=K,R.input=$,R.avail_in=J,L.wrap=Z,0},u.deflateInfo="pako deflate (from Nodeca project)"},357:C=>{C.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},980:C=>{C.exports=function(u,n){var a,r,g,f,m,l,x,S,D,h,_,o,p,b,y,A,E,N,T,O,j,M,F,B,I;a=u.state,r=u.next_in,B=u.input,g=r+(u.avail_in-5),f=u.next_out,I=u.output,m=f-(n-u.avail_out),l=f+(u.avail_out-257),x=a.dmax,S=a.wsize,D=a.whave,h=a.wnext,_=a.window,o=a.hold,p=a.bits,b=a.lencode,y=a.distcode,A=(1<<a.lenbits)-1,E=(1<<a.distbits)-1;e:do{p<15&&(o+=B[r++]<<p,p+=8,o+=B[r++]<<p,p+=8),N=b[o&A];t:for(;;){if(o>>>=T=N>>>24,p-=T,(T=N>>>16&255)==0)I[f++]=65535&N;else{if(!(16&T)){if(!(64&T)){N=b[(65535&N)+(o&(1<<T)-1)];continue t}if(32&T){a.mode=12;break e}u.msg="invalid literal/length code",a.mode=30;break e}O=65535&N,(T&=15)&&(p<T&&(o+=B[r++]<<p,p+=8),O+=o&(1<<T)-1,o>>>=T,p-=T),p<15&&(o+=B[r++]<<p,p+=8,o+=B[r++]<<p,p+=8),N=y[o&E];n:for(;;){if(o>>>=T=N>>>24,p-=T,!(16&(T=N>>>16&255))){if(!(64&T)){N=y[(65535&N)+(o&(1<<T)-1)];continue n}u.msg="invalid distance code",a.mode=30;break e}if(j=65535&N,p<(T&=15)&&(o+=B[r++]<<p,(p+=8)<T&&(o+=B[r++]<<p,p+=8)),(j+=o&(1<<T)-1)>x){u.msg="invalid distance too far back",a.mode=30;break e}if(o>>>=T,p-=T,j>(T=f-m)){if((T=j-T)>D&&a.sane){u.msg="invalid distance too far back",a.mode=30;break e}if(M=0,F=_,h===0){if(M+=S-T,T<O){O-=T;do I[f++]=_[M++];while(--T);M=f-j,F=I}}else if(h<T){if(M+=S+h-T,(T-=h)<O){O-=T;do I[f++]=_[M++];while(--T);if(M=0,h<O){O-=T=h;do I[f++]=_[M++];while(--T);M=f-j,F=I}}}else if(M+=h-T,T<O){O-=T;do I[f++]=_[M++];while(--T);M=f-j,F=I}for(;O>2;)I[f++]=F[M++],I[f++]=F[M++],I[f++]=F[M++],O-=3;O&&(I[f++]=F[M++],O>1&&(I[f++]=F[M++]))}else{M=f-j;do I[f++]=I[M++],I[f++]=I[M++],I[f++]=I[M++],O-=3;while(O>2);O&&(I[f++]=I[M++],O>1&&(I[f++]=I[M++]))}break}}break}}while(r<g&&f<l);r-=O=p>>3,o&=(1<<(p-=O<<3))-1,u.next_in=r,u.next_out=f,u.avail_in=r<g?g-r+5:5-(r-g),u.avail_out=f<l?l-f+257:257-(f-l),a.hold=o,a.bits=p}},20:(C,u,n)=>{var a=n(761),r=n(562),g=n(299),f=n(980),m=n(881),l=-2,x=12,S=30;function D(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(O){var j;return O&&O.state?(j=O.state,O.total_in=O.total_out=j.total=0,O.msg="",j.wrap&&(O.adler=1&j.wrap),j.mode=1,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new a.Buf32(852),j.distcode=j.distdyn=new a.Buf32(592),j.sane=1,j.back=-1,0):l}function o(O){var j;return O&&O.state?((j=O.state).wsize=0,j.whave=0,j.wnext=0,_(O)):l}function p(O,j){var M,F;return O&&O.state?(F=O.state,j<0?(M=0,j=-j):(M=1+(j>>4),j<48&&(j&=15)),j&&(j<8||j>15)?l:(F.window!==null&&F.wbits!==j&&(F.window=null),F.wrap=M,F.wbits=j,o(O))):l}function b(O,j){var M,F;return O?(F=new h,O.state=F,F.window=null,(M=p(O,j))!==0&&(O.state=null),M):l}var y,A,E=!0;function N(O){if(E){var j;for(y=new a.Buf32(512),A=new a.Buf32(32),j=0;j<144;)O.lens[j++]=8;for(;j<256;)O.lens[j++]=9;for(;j<280;)O.lens[j++]=7;for(;j<288;)O.lens[j++]=8;for(m(1,O.lens,0,288,y,0,O.work,{bits:9}),j=0;j<32;)O.lens[j++]=5;m(2,O.lens,0,32,A,0,O.work,{bits:5}),E=!1}O.lencode=y,O.lenbits=9,O.distcode=A,O.distbits=5}function T(O,j,M,F){var B,I=O.state;return I.window===null&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new a.Buf8(I.wsize)),F>=I.wsize?(a.arraySet(I.window,j,M-I.wsize,I.wsize,0),I.wnext=0,I.whave=I.wsize):((B=I.wsize-I.wnext)>F&&(B=F),a.arraySet(I.window,j,M-F,B,I.wnext),(F-=B)?(a.arraySet(I.window,j,M-F,F,0),I.wnext=F,I.whave=I.wsize):(I.wnext+=B,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=B))),0}u.inflateReset=o,u.inflateReset2=p,u.inflateResetKeep=_,u.inflateInit=function(O){return b(O,15)},u.inflateInit2=b,u.inflate=function(O,j){var M,F,B,I,G,k,V,R,U,L,H,X,Z,J,K,$,W,Y,te,ce,oe,ue,Ce,le,ye=0,ve=new a.Buf8(4),pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return l;(M=O.state).mode===x&&(M.mode=13),G=O.next_out,B=O.output,V=O.avail_out,I=O.next_in,F=O.input,k=O.avail_in,R=M.hold,U=M.bits,L=k,H=V,ue=0;e:for(;;)switch(M.mode){case 1:if(M.wrap===0){M.mode=13;break}for(;U<16;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}if(2&M.wrap&&R===35615){M.check=0,ve[0]=255&R,ve[1]=R>>>8&255,M.check=g(M.check,ve,2,0),R=0,U=0,M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&R)<<8)+(R>>8))%31){O.msg="incorrect header check",M.mode=S;break}if((15&R)!=8){O.msg="unknown compression method",M.mode=S;break}if(U-=4,oe=8+(15&(R>>>=4)),M.wbits===0)M.wbits=oe;else if(oe>M.wbits){O.msg="invalid window size",M.mode=S;break}M.dmax=1<<oe,O.adler=M.check=1,M.mode=512&R?10:x,R=0,U=0;break;case 2:for(;U<16;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}if(M.flags=R,(255&M.flags)!=8){O.msg="unknown compression method",M.mode=S;break}if(57344&M.flags){O.msg="unknown header flags set",M.mode=S;break}M.head&&(M.head.text=R>>8&1),512&M.flags&&(ve[0]=255&R,ve[1]=R>>>8&255,M.check=g(M.check,ve,2,0)),R=0,U=0,M.mode=3;case 3:for(;U<32;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}M.head&&(M.head.time=R),512&M.flags&&(ve[0]=255&R,ve[1]=R>>>8&255,ve[2]=R>>>16&255,ve[3]=R>>>24&255,M.check=g(M.check,ve,4,0)),R=0,U=0,M.mode=4;case 4:for(;U<16;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}M.head&&(M.head.xflags=255&R,M.head.os=R>>8),512&M.flags&&(ve[0]=255&R,ve[1]=R>>>8&255,M.check=g(M.check,ve,2,0)),R=0,U=0,M.mode=5;case 5:if(1024&M.flags){for(;U<16;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}M.length=R,M.head&&(M.head.extra_len=R),512&M.flags&&(ve[0]=255&R,ve[1]=R>>>8&255,M.check=g(M.check,ve,2,0)),R=0,U=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&((X=M.length)>k&&(X=k),X&&(M.head&&(oe=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Array(M.head.extra_len)),a.arraySet(M.head.extra,F,I,X,oe)),512&M.flags&&(M.check=g(M.check,F,X,I)),k-=X,I+=X,M.length-=X),M.length))break e;M.length=0,M.mode=7;case 7:if(2048&M.flags){if(k===0)break e;X=0;do oe=F[I+X++],M.head&&oe&&M.length<65536&&(M.head.name+=String.fromCharCode(oe));while(oe&&X<k);if(512&M.flags&&(M.check=g(M.check,F,X,I)),k-=X,I+=X,oe)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=8;case 8:if(4096&M.flags){if(k===0)break e;X=0;do oe=F[I+X++],M.head&&oe&&M.length<65536&&(M.head.comment+=String.fromCharCode(oe));while(oe&&X<k);if(512&M.flags&&(M.check=g(M.check,F,X,I)),k-=X,I+=X,oe)break e}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;U<16;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}if(R!==(65535&M.check)){O.msg="header crc mismatch",M.mode=S;break}R=0,U=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),O.adler=M.check=0,M.mode=x;break;case 10:for(;U<32;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}O.adler=M.check=D(R),R=0,U=0,M.mode=11;case 11:if(M.havedict===0)return O.next_out=G,O.avail_out=V,O.next_in=I,O.avail_in=k,M.hold=R,M.bits=U,2;O.adler=M.check=1,M.mode=x;case x:if(j===5||j===6)break e;case 13:if(M.last){R>>>=7&U,U-=7&U,M.mode=27;break}for(;U<3;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}switch(M.last=1&R,U-=1,3&(R>>>=1)){case 0:M.mode=14;break;case 1:if(N(M),M.mode=20,j===6){R>>>=2,U-=2;break e}break;case 2:M.mode=17;break;case 3:O.msg="invalid block type",M.mode=S}R>>>=2,U-=2;break;case 14:for(R>>>=7&U,U-=7&U;U<32;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}if((65535&R)!=(R>>>16^65535)){O.msg="invalid stored block lengths",M.mode=S;break}if(M.length=65535&R,R=0,U=0,M.mode=15,j===6)break e;case 15:M.mode=16;case 16:if(X=M.length){if(X>k&&(X=k),X>V&&(X=V),X===0)break e;a.arraySet(B,F,I,X,G),k-=X,I+=X,V-=X,G+=X,M.length-=X;break}M.mode=x;break;case 17:for(;U<14;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}if(M.nlen=257+(31&R),R>>>=5,U-=5,M.ndist=1+(31&R),R>>>=5,U-=5,M.ncode=4+(15&R),R>>>=4,U-=4,M.nlen>286||M.ndist>30){O.msg="too many length or distance symbols",M.mode=S;break}M.have=0,M.mode=18;case 18:for(;M.have<M.ncode;){for(;U<3;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}M.lens[pe[M.have++]]=7&R,R>>>=3,U-=3}for(;M.have<19;)M.lens[pe[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,Ce={bits:M.lenbits},ue=m(0,M.lens,0,19,M.lencode,0,M.work,Ce),M.lenbits=Ce.bits,ue){O.msg="invalid code lengths set",M.mode=S;break}M.have=0,M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;$=(ye=M.lencode[R&(1<<M.lenbits)-1])>>>16&255,W=65535&ye,!((K=ye>>>24)<=U);){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}if(W<16)R>>>=K,U-=K,M.lens[M.have++]=W;else{if(W===16){for(le=K+2;U<le;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}if(R>>>=K,U-=K,M.have===0){O.msg="invalid bit length repeat",M.mode=S;break}oe=M.lens[M.have-1],X=3+(3&R),R>>>=2,U-=2}else if(W===17){for(le=K+3;U<le;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}U-=K,oe=0,X=3+(7&(R>>>=K)),R>>>=3,U-=3}else{for(le=K+7;U<le;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}U-=K,oe=0,X=11+(127&(R>>>=K)),R>>>=7,U-=7}if(M.have+X>M.nlen+M.ndist){O.msg="invalid bit length repeat",M.mode=S;break}for(;X--;)M.lens[M.have++]=oe}}if(M.mode===S)break;if(M.lens[256]===0){O.msg="invalid code -- missing end-of-block",M.mode=S;break}if(M.lenbits=9,Ce={bits:M.lenbits},ue=m(1,M.lens,0,M.nlen,M.lencode,0,M.work,Ce),M.lenbits=Ce.bits,ue){O.msg="invalid literal/lengths set",M.mode=S;break}if(M.distbits=6,M.distcode=M.distdyn,Ce={bits:M.distbits},ue=m(2,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,Ce),M.distbits=Ce.bits,ue){O.msg="invalid distances set",M.mode=S;break}if(M.mode=20,j===6)break e;case 20:M.mode=21;case 21:if(k>=6&&V>=258){O.next_out=G,O.avail_out=V,O.next_in=I,O.avail_in=k,M.hold=R,M.bits=U,f(O,H),G=O.next_out,B=O.output,V=O.avail_out,I=O.next_in,F=O.input,k=O.avail_in,R=M.hold,U=M.bits,M.mode===x&&(M.back=-1);break}for(M.back=0;$=(ye=M.lencode[R&(1<<M.lenbits)-1])>>>16&255,W=65535&ye,!((K=ye>>>24)<=U);){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}if($&&!(240&$)){for(Y=K,te=$,ce=W;$=(ye=M.lencode[ce+((R&(1<<Y+te)-1)>>Y)])>>>16&255,W=65535&ye,!(Y+(K=ye>>>24)<=U);){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}R>>>=Y,U-=Y,M.back+=Y}if(R>>>=K,U-=K,M.back+=K,M.length=W,$===0){M.mode=26;break}if(32&$){M.back=-1,M.mode=x;break}if(64&$){O.msg="invalid literal/length code",M.mode=S;break}M.extra=15&$,M.mode=22;case 22:if(M.extra){for(le=M.extra;U<le;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}M.length+=R&(1<<M.extra)-1,R>>>=M.extra,U-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=23;case 23:for(;$=(ye=M.distcode[R&(1<<M.distbits)-1])>>>16&255,W=65535&ye,!((K=ye>>>24)<=U);){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}if(!(240&$)){for(Y=K,te=$,ce=W;$=(ye=M.distcode[ce+((R&(1<<Y+te)-1)>>Y)])>>>16&255,W=65535&ye,!(Y+(K=ye>>>24)<=U);){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}R>>>=Y,U-=Y,M.back+=Y}if(R>>>=K,U-=K,M.back+=K,64&$){O.msg="invalid distance code",M.mode=S;break}M.offset=W,M.extra=15&$,M.mode=24;case 24:if(M.extra){for(le=M.extra;U<le;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}M.offset+=R&(1<<M.extra)-1,R>>>=M.extra,U-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){O.msg="invalid distance too far back",M.mode=S;break}M.mode=25;case 25:if(V===0)break e;if(X=H-V,M.offset>X){if((X=M.offset-X)>M.whave&&M.sane){O.msg="invalid distance too far back",M.mode=S;break}X>M.wnext?(X-=M.wnext,Z=M.wsize-X):Z=M.wnext-X,X>M.length&&(X=M.length),J=M.window}else J=B,Z=G-M.offset,X=M.length;X>V&&(X=V),V-=X,M.length-=X;do B[G++]=J[Z++];while(--X);M.length===0&&(M.mode=21);break;case 26:if(V===0)break e;B[G++]=M.length,V--,M.mode=21;break;case 27:if(M.wrap){for(;U<32;){if(k===0)break e;k--,R|=F[I++]<<U,U+=8}if(H-=V,O.total_out+=H,M.total+=H,H&&(O.adler=M.check=M.flags?g(M.check,B,H,G-H):r(M.check,B,H,G-H)),H=V,(M.flags?R:D(R))!==M.check){O.msg="incorrect data check",M.mode=S;break}R=0,U=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;U<32;){if(k===0)break e;k--,R+=F[I++]<<U,U+=8}if(R!==(4294967295&M.total)){O.msg="incorrect length check",M.mode=S;break}R=0,U=0}M.mode=29;case 29:ue=1;break e;case S:ue=-3;break e;case 31:return-4;default:return l}return O.next_out=G,O.avail_out=V,O.next_in=I,O.avail_in=k,M.hold=R,M.bits=U,(M.wsize||H!==O.avail_out&&M.mode<S&&(M.mode<27||j!==4))&&T(O,O.output,O.next_out,H-O.avail_out)?(M.mode=31,-4):(L-=O.avail_in,H-=O.avail_out,O.total_in+=L,O.total_out+=H,M.total+=H,M.wrap&&H&&(O.adler=M.check=M.flags?g(M.check,B,H,O.next_out-H):r(M.check,B,H,O.next_out-H)),O.data_type=M.bits+(M.last?64:0)+(M.mode===x?128:0)+(M.mode===20||M.mode===15?256:0),(L===0&&H===0||j===4)&&ue===0&&(ue=-5),ue)},u.inflateEnd=function(O){if(!O||!O.state)return l;var j=O.state;return j.window&&(j.window=null),O.state=null,0},u.inflateGetHeader=function(O,j){var M;return O&&O.state&&2&(M=O.state).wrap?(M.head=j,j.done=!1,0):l},u.inflateSetDictionary=function(O,j){var M,F=j.length;return O&&O.state?(M=O.state).wrap!==0&&M.mode!==11?l:M.mode===11&&r(1,j,F,0)!==M.check?-3:T(O,j,F,F)?(M.mode=31,-4):(M.havedict=1,0):l},u.inflateInfo="pako inflate (from Nodeca project)"},881:(C,u,n)=>{var a=n(761),r=15,g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];C.exports=function(x,S,D,h,_,o,p,b){var y,A,E,N,T,O,j,M,F,B=b.bits,I=0,G=0,k=0,V=0,R=0,U=0,L=0,H=0,X=0,Z=0,J=null,K=0,$=new a.Buf16(16),W=new a.Buf16(16),Y=null,te=0;for(I=0;I<=r;I++)$[I]=0;for(G=0;G<h;G++)$[S[D+G]]++;for(R=B,V=r;V>=1&&$[V]===0;V--);if(R>V&&(R=V),V===0)return _[o++]=20971520,_[o++]=20971520,b.bits=1,0;for(k=1;k<V&&$[k]===0;k++);for(R<k&&(R=k),H=1,I=1;I<=r;I++)if(H<<=1,(H-=$[I])<0)return-1;if(H>0&&(x===0||V!==1))return-1;for(W[1]=0,I=1;I<r;I++)W[I+1]=W[I]+$[I];for(G=0;G<h;G++)S[D+G]!==0&&(p[W[S[D+G]]++]=G);if(x===0?(J=Y=p,O=19):x===1?(J=g,K-=257,Y=f,te-=257,O=256):(J=m,Y=l,O=-1),Z=0,G=0,I=k,T=o,U=R,L=0,E=-1,N=(X=1<<R)-1,x===1&&X>852||x===2&&X>592)return 1;for(;;){j=I-L,p[G]<O?(M=0,F=p[G]):p[G]>O?(M=Y[te+p[G]],F=J[K+p[G]]):(M=96,F=0),y=1<<I-L,k=A=1<<U;do _[T+(Z>>L)+(A-=y)]=j<<24|M<<16|F|0;while(A!==0);for(y=1<<I-1;Z&y;)y>>=1;if(y!==0?(Z&=y-1,Z+=y):Z=0,G++,--$[I]==0){if(I===V)break;I=S[D+p[G]]}if(I>R&&(Z&N)!==E){for(L===0&&(L=R),T+=k,H=1<<(U=I-L);U+L<V&&!((H-=$[U+L])<=0);)U++,H<<=1;if(X+=1<<U,x===1&&X>852||x===2&&X>592)return 1;_[E=Z&N]=R<<24|U<<16|T-o|0}}return Z!==0&&(_[T+Z]=I-L<<24|4194304|0),b.bits=R,0}},950:C=>{C.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},564:(C,u,n)=>{var a=n(761);function r(W){for(var Y=W.length;--Y>=0;)W[Y]=0}var g=256,f=286,m=30,l=15,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=new Array(576);r(_);var o=new Array(60);r(o);var p=new Array(512);r(p);var b=new Array(256);r(b);var y=new Array(29);r(y);var A,E,N,T=new Array(m);function O(W,Y,te,ce,oe){this.static_tree=W,this.extra_bits=Y,this.extra_base=te,this.elems=ce,this.max_length=oe,this.has_stree=W&&W.length}function j(W,Y){this.dyn_tree=W,this.max_code=0,this.stat_desc=Y}function M(W){return W<256?p[W]:p[256+(W>>>7)]}function F(W,Y){W.pending_buf[W.pending++]=255&Y,W.pending_buf[W.pending++]=Y>>>8&255}function B(W,Y,te){W.bi_valid>16-te?(W.bi_buf|=Y<<W.bi_valid&65535,F(W,W.bi_buf),W.bi_buf=Y>>16-W.bi_valid,W.bi_valid+=te-16):(W.bi_buf|=Y<<W.bi_valid&65535,W.bi_valid+=te)}function I(W,Y,te){B(W,te[2*Y],te[2*Y+1])}function G(W,Y){var te=0;do te|=1&W,W>>>=1,te<<=1;while(--Y>0);return te>>>1}function k(W,Y,te){var ce,oe,ue=new Array(16),Ce=0;for(ce=1;ce<=l;ce++)ue[ce]=Ce=Ce+te[ce-1]<<1;for(oe=0;oe<=Y;oe++){var le=W[2*oe+1];le!==0&&(W[2*oe]=G(ue[le]++,le))}}function V(W){var Y;for(Y=0;Y<f;Y++)W.dyn_ltree[2*Y]=0;for(Y=0;Y<m;Y++)W.dyn_dtree[2*Y]=0;for(Y=0;Y<19;Y++)W.bl_tree[2*Y]=0;W.dyn_ltree[512]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function R(W){W.bi_valid>8?F(W,W.bi_buf):W.bi_valid>0&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function U(W,Y,te,ce){var oe=2*Y,ue=2*te;return W[oe]<W[ue]||W[oe]===W[ue]&&ce[Y]<=ce[te]}function L(W,Y,te){for(var ce=W.heap[te],oe=te<<1;oe<=W.heap_len&&(oe<W.heap_len&&U(Y,W.heap[oe+1],W.heap[oe],W.depth)&&oe++,!U(Y,ce,W.heap[oe],W.depth));)W.heap[te]=W.heap[oe],te=oe,oe<<=1;W.heap[te]=ce}function H(W,Y,te){var ce,oe,ue,Ce,le=0;if(W.last_lit!==0)do ce=W.pending_buf[W.d_buf+2*le]<<8|W.pending_buf[W.d_buf+2*le+1],oe=W.pending_buf[W.l_buf+le],le++,ce===0?I(W,oe,Y):(I(W,(ue=b[oe])+g+1,Y),(Ce=x[ue])!==0&&B(W,oe-=y[ue],Ce),I(W,ue=M(--ce),te),(Ce=S[ue])!==0&&B(W,ce-=T[ue],Ce));while(le<W.last_lit);I(W,256,Y)}function X(W,Y){var te,ce,oe,ue=Y.dyn_tree,Ce=Y.stat_desc.static_tree,le=Y.stat_desc.has_stree,ye=Y.stat_desc.elems,ve=-1;for(W.heap_len=0,W.heap_max=573,te=0;te<ye;te++)ue[2*te]!==0?(W.heap[++W.heap_len]=ve=te,W.depth[te]=0):ue[2*te+1]=0;for(;W.heap_len<2;)ue[2*(oe=W.heap[++W.heap_len]=ve<2?++ve:0)]=1,W.depth[oe]=0,W.opt_len--,le&&(W.static_len-=Ce[2*oe+1]);for(Y.max_code=ve,te=W.heap_len>>1;te>=1;te--)L(W,ue,te);oe=ye;do te=W.heap[1],W.heap[1]=W.heap[W.heap_len--],L(W,ue,1),ce=W.heap[1],W.heap[--W.heap_max]=te,W.heap[--W.heap_max]=ce,ue[2*oe]=ue[2*te]+ue[2*ce],W.depth[oe]=(W.depth[te]>=W.depth[ce]?W.depth[te]:W.depth[ce])+1,ue[2*te+1]=ue[2*ce+1]=oe,W.heap[1]=oe++,L(W,ue,1);while(W.heap_len>=2);W.heap[--W.heap_max]=W.heap[1],function(pe,be){var Ne,he,ne,re,de,xe,Pe=be.dyn_tree,Ae=be.max_code,Oe=be.stat_desc.static_tree,Se=be.stat_desc.has_stree,Fe=be.stat_desc.extra_bits,$e=be.stat_desc.extra_base,Re=be.stat_desc.max_length,qe=0;for(re=0;re<=l;re++)pe.bl_count[re]=0;for(Pe[2*pe.heap[pe.heap_max]+1]=0,Ne=pe.heap_max+1;Ne<573;Ne++)(re=Pe[2*Pe[2*(he=pe.heap[Ne])+1]+1]+1)>Re&&(re=Re,qe++),Pe[2*he+1]=re,he>Ae||(pe.bl_count[re]++,de=0,he>=$e&&(de=Fe[he-$e]),xe=Pe[2*he],pe.opt_len+=xe*(re+de),Se&&(pe.static_len+=xe*(Oe[2*he+1]+de)));if(qe!==0){do{for(re=Re-1;pe.bl_count[re]===0;)re--;pe.bl_count[re]--,pe.bl_count[re+1]+=2,pe.bl_count[Re]--,qe-=2}while(qe>0);for(re=Re;re!==0;re--)for(he=pe.bl_count[re];he!==0;)(ne=pe.heap[--Ne])>Ae||(Pe[2*ne+1]!==re&&(pe.opt_len+=(re-Pe[2*ne+1])*Pe[2*ne],Pe[2*ne+1]=re),he--)}}(W,Y),k(ue,ve,W.bl_count)}function Z(W,Y,te){var ce,oe,ue=-1,Ce=Y[1],le=0,ye=7,ve=4;for(Ce===0&&(ye=138,ve=3),Y[2*(te+1)+1]=65535,ce=0;ce<=te;ce++)oe=Ce,Ce=Y[2*(ce+1)+1],++le<ye&&oe===Ce||(le<ve?W.bl_tree[2*oe]+=le:oe!==0?(oe!==ue&&W.bl_tree[2*oe]++,W.bl_tree[32]++):le<=10?W.bl_tree[34]++:W.bl_tree[36]++,le=0,ue=oe,Ce===0?(ye=138,ve=3):oe===Ce?(ye=6,ve=3):(ye=7,ve=4))}function J(W,Y,te){var ce,oe,ue=-1,Ce=Y[1],le=0,ye=7,ve=4;for(Ce===0&&(ye=138,ve=3),ce=0;ce<=te;ce++)if(oe=Ce,Ce=Y[2*(ce+1)+1],!(++le<ye&&oe===Ce)){if(le<ve)do I(W,oe,W.bl_tree);while(--le!=0);else oe!==0?(oe!==ue&&(I(W,oe,W.bl_tree),le--),I(W,16,W.bl_tree),B(W,le-3,2)):le<=10?(I(W,17,W.bl_tree),B(W,le-3,3)):(I(W,18,W.bl_tree),B(W,le-11,7));le=0,ue=oe,Ce===0?(ye=138,ve=3):oe===Ce?(ye=6,ve=3):(ye=7,ve=4)}}r(T);var K=!1;function $(W,Y,te,ce){B(W,0+(ce?1:0),3),function(oe,ue,Ce,le){R(oe),le&&(F(oe,Ce),F(oe,~Ce)),a.arraySet(oe.pending_buf,oe.window,ue,Ce,oe.pending),oe.pending+=Ce}(W,Y,te,!0)}u.p=function(W){K||(function(){var Y,te,ce,oe,ue,Ce=new Array(16);for(ce=0,oe=0;oe<28;oe++)for(y[oe]=ce,Y=0;Y<1<<x[oe];Y++)b[ce++]=oe;for(b[ce-1]=oe,ue=0,oe=0;oe<16;oe++)for(T[oe]=ue,Y=0;Y<1<<S[oe];Y++)p[ue++]=oe;for(ue>>=7;oe<m;oe++)for(T[oe]=ue<<7,Y=0;Y<1<<S[oe]-7;Y++)p[256+ue++]=oe;for(te=0;te<=l;te++)Ce[te]=0;for(Y=0;Y<=143;)_[2*Y+1]=8,Y++,Ce[8]++;for(;Y<=255;)_[2*Y+1]=9,Y++,Ce[9]++;for(;Y<=279;)_[2*Y+1]=7,Y++,Ce[7]++;for(;Y<=287;)_[2*Y+1]=8,Y++,Ce[8]++;for(k(_,287,Ce),Y=0;Y<m;Y++)o[2*Y+1]=5,o[2*Y]=G(Y,5);A=new O(_,x,257,f,l),E=new O(o,S,0,m,l),N=new O(new Array(0),D,0,19,7)}(),K=!0),W.l_desc=new j(W.dyn_ltree,A),W.d_desc=new j(W.dyn_dtree,E),W.bl_desc=new j(W.bl_tree,N),W.bi_buf=0,W.bi_valid=0,V(W)},u.m=$,u.h=function(W,Y,te,ce){var oe,ue,Ce=0;W.level>0?(W.strm.data_type===2&&(W.strm.data_type=function(le){var ye,ve=4093624447;for(ye=0;ye<=31;ye++,ve>>>=1)if(1&ve&&le.dyn_ltree[2*ye]!==0)return 0;if(le.dyn_ltree[18]!==0||le.dyn_ltree[20]!==0||le.dyn_ltree[26]!==0)return 1;for(ye=32;ye<g;ye++)if(le.dyn_ltree[2*ye]!==0)return 1;return 0}(W)),X(W,W.l_desc),X(W,W.d_desc),Ce=function(le){var ye;for(Z(le,le.dyn_ltree,le.l_desc.max_code),Z(le,le.dyn_dtree,le.d_desc.max_code),X(le,le.bl_desc),ye=18;ye>=3&&le.bl_tree[2*h[ye]+1]===0;ye--);return le.opt_len+=3*(ye+1)+5+5+4,ye}(W),oe=W.opt_len+3+7>>>3,(ue=W.static_len+3+7>>>3)<=oe&&(oe=ue)):oe=ue=te+5,te+4<=oe&&Y!==-1?$(W,Y,te,ce):W.strategy===4||ue===oe?(B(W,2+(ce?1:0),3),H(W,_,o)):(B(W,4+(ce?1:0),3),function(le,ye,ve,pe){var be;for(B(le,ye-257,5),B(le,ve-1,5),B(le,pe-4,4),be=0;be<pe;be++)B(le,le.bl_tree[2*h[be]+1],3);J(le,le.dyn_ltree,ye-1),J(le,le.dyn_dtree,ve-1)}(W,W.l_desc.max_code+1,W.d_desc.max_code+1,Ce+1),H(W,W.dyn_ltree,W.dyn_dtree)),V(W),ce&&R(W)},u.l=function(W,Y,te){return W.pending_buf[W.d_buf+2*W.last_lit]=Y>>>8&255,W.pending_buf[W.d_buf+2*W.last_lit+1]=255&Y,W.pending_buf[W.l_buf+W.last_lit]=255&te,W.last_lit++,Y===0?W.dyn_ltree[2*te]++:(W.matches++,Y--,W.dyn_ltree[2*(b[te]+g+1)]++,W.dyn_dtree[2*M(Y)]++),W.last_lit===W.lit_bufsize-1},u.g=function(W){B(W,2,3),I(W,256,_),function(Y){Y.bi_valid===16?(F(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):Y.bi_valid>=8&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)}(W)}},744:C=>{C.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},347:(C,u,n)=>{var a,r;n.d(u,{s:()=>a,S:()=>r}),function(g){g[g.Inport=0]="Inport",g[g.Outport=1]="Outport",g[g.Undefined=2]="Undefined"}(a||(a={})),function(g){g[g.STOPPED=0]="STOPPED",g[g.RUNNING=1]="RUNNING"}(r||(r={}))},676:(C,u,n)=>{n.d(u,{D:()=>a});const a=0},641:(C,u,n)=>{var a;n.d(u,{OM:()=>f,Le:()=>g,nc:()=>r,n_:()=>m}),function(l){l[l.Float32Audio=0]="Float32Audio",l[l.TypedArray=1]="TypedArray"}(a||(a={}));class r{constructor(){this.type=a.TypedArray}serialize(){return{type:this.type}}}class g{constructor(x,S){this.channels=0,this.sampleRate=0,this.type=a.Float32Audio,this.channels=x,this.sampleRate=S}static fromAudioBuffer(x){return new g(x.numberOfChannels,x.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}class f{constructor(x,S){this.buffer=x,this._=S}getAsAudioBuffer(x){if(this._ instanceof g&&this._.channels>0){const h=new Float32Array(this.buffer),_=h.length/this._.channels,o=x.createBuffer(this._.channels,_,this._.sampleRate);for(let p=0;p<this._.channels;p++){const b=o.getChannelData(p);for(let y=0,A=b.length;y<A;y++)b[y]=h[y*o.numberOfChannels+p]}return o}const S=new Float32Array(this.buffer),D=x.createBuffer(1,S.length,x.sampleRate);return D.copyToChannel(S,0),D}}const m=l=>{switch(l.type){case a.Float32Audio:return new g(l.channels,l.sampleRate);case a.TypedArray:return new r;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${l.type}`)}}},191:(C,u,n)=>{n.d(u,{v:()=>m});var a=n(163),r=n(347),g=n(389),f=n(133);class m{constructor(){this.I=0,this.M=44100,this.B=64,this.outgoingEvent=new g.BM,this.parameterChangeEvent=new g.BM,this.A=this.sampsToMs(this.B)}static getNonConversionObject(){return{applyStepsToNormalizedParameterValue:function(x){return x},convertToNormalizedParameterValue:function(x){return x},convertFromNormalizedParameterValue:function(x){return x},getNumParameters:function(){return 0},constrainParameterValue:function(x){return x},isPolyphonic:!1,subpatches:[]}}static deserializeConversion(x){if(x){const S={},D=Object.keys(x);for(let h=0;h<D.length;h++){const _=D[h];if(_==="subpatches"){const o=Object.keys(x.subpatches);for(let p=0;p<o.length;p++){const b=o[p],y=x.subpatches[b],A=m.deserializeConversion(y);y.isPolyphonic?S[b]=[A]:S[b]=A}}else S[_]=f.evalFunction(x[_])}return S}return this.getNonConversionObject()}getSampleRate(){return this.M}getSamplesPerBlock(){return this.B}sampsToMs(x){return x/this.M*1e3}getNumInputChannels(){return this.P?this.P.numInputChannels:0}getNumOutputChannels(){return this.P?this.P.numOutputChannels:0}getNumMIDIInputPorts(){return this.P?this.P.numMidiInputPorts:0}getNumMIDIOutputPorts(){return this.P?this.P.numMidiOutputPorts:0}getNumParameters(){return this.P?this.P.numParameters:0}getNumSignalInParameters(){return this.P?this.P.numSignalInParameters:0}getNumSignalOutParameters(){return this.P?this.P.numSignalOutParameters:0}getPatcherSerial(){return this.P!==void 0?this.P.patcherSerial:0}getParameterName(x){if(!this.P||x>=this.P.parameters.length)throw new Error(`Parameter index ${x} out of bounds.`);return this.P.parameters[x].name}getParameterId(x){if(!this.P||x>=this.P.parameters.length)throw new Error(`Parameter index ${x} out of bounds.`);return this.P.parameters[x].paramId}getParameterToNormalizedFunction(x){return S=>this.T.convertToNormalizedParameterValue(x,S)}getParameterFromNormalizedFunction(x){return S=>this.T.convertFromNormalizedParameterValue(x,S)}constrainParameterValue(x){return S=>this.T.constrainParameterValue(x,S)}getParameterInfo(x){if(!this.P||x>=this.P.parameters.length)throw new Error(`Parameter index ${x} out of bounds.`);const S=this.P.parameters[x];let D,h;switch(S.type){case"ParameterTypeBang":h=f.ParameterTypeBang;break;case"ParameterTypeCount":h=f.ParameterTypeCount;break;case"ParameterTypeList":h=f.ParameterTypeList;break;case"ParameterTypeNumber":h=f.ParameterTypeNumber;break;case"ParameterTypeSignal":h=f.ParameterTypeSignal;break;default:throw new Error(`Unknown Parameter Type from patcher description ${S.type}`)}switch(S.ioType){case"IOTypeInput":D=f.IOTypeInput;break;case"IOTypeOutput":D=f.IOTypeOutput;break;case"IOTypeUndefined":D=f.IOTypeUndefined;break;default:throw new Error(`Unknown Parameter IOType from patcher description ${S.type}`)}return{displayName:S.displayName,enumValues:S.enumValues,exponent:S.exponent,id:S.paramId,index:x,initialValue:S.initialValue,ioType:D,isEnum:S.isEnum,max:S.maximum,min:S.minimum,name:S.name,signalIndex:S.signalIndex,steps:S.steps,type:h,unit:S.unit,visible:S.visible}}getNumExternalDataRefs(){return this.P!==void 0?this.P.externalDataRefs.length:0}getExternalDataId(x){return this.P!==void 0?this.P.externalDataRefs[x].id:""}getExternalDataRefIds(){let x;return this.P&&(x=[],Object.keys(this.P.externalDataRefs).forEach(S=>{let D=this.P.externalDataRefs[S];x.push(D.id)})),x}getExternalDataRefInfos(){return this.P!==void 0?this.P.externalDataRefs:[]}getNumMessages(){return this.P!==void 0?this.P.inports.length+this.P.outports.length:0}getMessageInfos(){let x=[];return this.P!==void 0&&(Object.keys(this.P.outports).forEach(S=>{x.push({tag:this.P.outports[S].tag,type:r.s.Outport,meta:this.P.outports[S].meta})}),Object.keys(this.P.inports).forEach(S=>{x.push({tag:this.P.inports[S].tag,type:r.s.Inport,meta:this.P.inports[S].meta})})),x}removeAllSubscriptions(){this.outgoingEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}invalidateProcessor(){}setPatcherDesc(x){return(0,a.mG)(this,void 0,void 0,function*(){this.P=x,this.T=m.deserializeConversion(this.P.paramConversion)})}}},916:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>WASMEngine});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(163),_baseEngine__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(191),_wasmHelper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(158),_event__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(555);class WASMEngine extends _baseEngine__WEBPACK_IMPORTED_MODULE_0__.v{getCurrentTime(){return this.R.getCurrentTime()}setCurrentTime(C){this.R.isReady()&&this.R.setCurrentTime(C)}prepareToProcess(C,u,n){(n||C!==this.M||u!==this.B)&&this.R.prepareToProcess(C,u)}process(C,u,n,a,r,g,f){this.R.process(C,u,n,a,r)}scheduleMidiEvent(C,u){this.scheduleEvent(new _event__WEBPACK_IMPORTED_MODULE_2__.Ym(this.I,C,u))}handleParameterEvent(C){this.parameterChangeEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.DB(C.time,C.index,C.value,C.source))}handleMidiEvent(C){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.Ym(C.time,C.port,[C.b1,C.b2,C.b3],void 0))}handleMessageEvent(C){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.f3(C.time,this.R.resolveTag(C.tag),C.type===0?C.numValue:C.type===1?this.R.retrieveArray(C.listValue):void 0,this.R.resolveTag(C.objectId)))}handlePresetEvent(C){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.bt(C.time,_event__WEBPACK_IMPORTED_MODULE_2__.l0.Touched))}getParameterValue(C){return this.R.getParameterValue(C)}get isSync(){return!0}scheduleEvent(C){this.R.scheduleEvent(C)}setPatcherCode(code){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){return new Promise((resolve,reject)=>{let restoredRnboModule;const restoredWASM=code+"restoredRnboModule = rnbo_module;";eval(restoredWASM),restoredRnboModule().then(C=>(delete C.then,this.R=new _wasmHelper__WEBPACK_IMPORTED_MODULE_1__.z(this,C),resolve()))})})}setExternalData(C,u,n){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){this.R.setExternalData(C,u,n)})}releaseExternalData(C){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){const[u,n]=this.R.releaseExternalData(C);return{data:u,typeDesc:n}})}getPreset(){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){return JSON.parse(this.R.getPreset())})}setPreset(C){this.R.setPreset(JSON.stringify(C))}}},158:(C,u,n)=>{n.d(u,{z:()=>f});var a=n(641),r=n(555),g=n(856);class f{constructor(l,x){this.O=0,this.N=0,this.C=!1,this.k=new g.aO,this.U=x;let S=new this.U.CoreObject;this.j=S;let D={handleParameterEvent:l.handleParameterEvent.bind(l),handleMidiEvent:l.handleMidiEvent.bind(l),handleMessageEvent:l.handleMessageEvent.bind(l),handlePresetEvent:l.handlePresetEvent.bind(l)},h=this.U.EventHandler.implement(D);this.F=S.createParameterInterface(h);for(let _=0;_<S.getNumParameters();_++){let o=S.getParameterInfo(_);this.k.addParam(o,S.getParameterName(_))}this.O=S.getNumInputChannels()+S.getNumSignalInParameters(),this.N=S.getNumOutputChannels(),this.C=!0}isReady(){return this.C}pushArray(l){let x=this.j.getArrayPassingHEAP(l.length);return this.U.HEAPF64.set(l,x>>3),x}retrieveArray(l){let x=[];for(let S=0;S<l.size();S++)x.push(l.get(S));return x}setExternalData(l,x,S){const D=new Uint8Array(x),h=this.j.getNewMemoryBuffer(D.byteLength);this.U.HEAPU8.set(D,h),S instanceof a.Le?this.j.setExternalAudioBuffer(l,h,D.byteLength,S.channels,S.sampleRate):S instanceof a.nc&&this.j.setExternalUntypedBuffer(l,h,D.byteLength)}releaseExternalData(l){let x,S=this.j.getDataRefIndex(l),D=this.j.getDataRefType(S),h=this.j.getDataRefData(S),_=new Uint8Array(h.sizeInBytes);return _.set(this.U.HEAPU8.subarray(h.data,h.data+h.sizeInBytes)),x=D.type==1?new a.Le(D.channels,D.sampleRate):new a.nc,this.j.releaseDataRef(S),[_.buffer,x]}getCurrentTime(){return this.j.getCurrentTime()}setCurrentTime(l){this.j.setCurrentTime(l)}prepareToProcess(l,x){this.j.prepareToProcess(l,x)}process(l,x,S,D,h,_){let o=0,p=0;for(let b=0;b<x&&o<this.O;b++){let y=l[b],A=this.j.getInputChannel(o);this.U.HEAPF64.set(y,A>>3),o++}if(_)for(let b=o;b<this.O;b++){let y=this.k.getParamName(b);if(y!==void 0){let A=this.j.getInputChannel(b);this.U.HEAPF64.set(this.k.getParamArray(b,_[y],h),A>>3),o++}}this.j.process(o,this.N,h);for(let b=0;b<D&&p<this.N;b++){let y=S[b],A=this.j.getOutputChannel(p)>>3;y.set(this.U.HEAPF64.subarray(A,A+y.length)),p++}}resolveTag(l){return this.j.resolveTag(l)}scheduleEvent(l){l.type===r.m5.MIDIEvent?this.j.scheduleMidiEvent(l.time,l.port,l.data[0],l.data[1],l.data[2]):l.type===r.m5.ParameterEvent?this.j.scheduleParameterEvent(l.target,l.time,l.value,l.source):l.type===r.m5.ParameterBangEvent?this.j.scheduleParameterBangEvent(l.target,l.time):l.type===r.m5.MessageEvent?Array.isArray(l.payload)?this.j.sendListMessage(l.tag,l.objectId,this.pushArray(l.payload),l.payload.length,l.time):typeof l.payload=="number"?this.j.sendNumMessage(l.tag,l.objectId,l.payload,l.time):l.payload===void 0&&this.j.sendBangMessage(l.tag,l.objectId,l.time):l.type===r.m5.TransportEvent?this.j.scheduleTransportEvent(l.time,l.state):l.type===r.m5.TempoEvent?this.j.scheduleTempoEvent(l.time,l.tempo):l.type===r.m5.BeatTimeEvent?this.j.scheduleBeatTimeEvent(l.time,l.beattime):l.type===r.m5.TimeSignatureEvent&&this.j.scheduleTimeSignatureEvent(l.time,l.numerator,l.denominator)}getNumParameters(){return this.j.getNumParameters()}getParameterValue(l){return this.j.getParameterValue(l)}numIns(){return this.O}numOuts(){return this.N}getPreset(){return this.j.getPreset()}setPreset(l){this.j.setPreset(l)}}},555:(C,u,n)=>{n.d(u,{j4:()=>l,J0:()=>A,J9:()=>x,Lk:()=>S,VH:()=>r,m5:()=>a,Ym:()=>h,f3:()=>D,zz:()=>o,DB:()=>_,bt:()=>p,l0:()=>g,j6:()=>N,gs:()=>y,QU:()=>E,cr:()=>b,gA:()=>f,f4:()=>T});var a,r,g,f,m=n(676);(function(O){O[O.BufferTransfer=0]="BufferTransfer",O[O.ClockEvent=1]="ClockEvent",O[O.DataRefEvent=2]="DataRefEvent",O[O.MessageEvent=3]="MessageEvent",O[O.MIDIEvent=4]="MIDIEvent",O[O.ParameterEvent=5]="ParameterEvent",O[O.ParameterBangEvent=6]="ParameterBangEvent",O[O.PresetEvent=7]="PresetEvent",O[O.StartupEvent=8]="StartupEvent",O[O.TransportEvent=9]="TransportEvent",O[O.TempoEvent=10]="TempoEvent",O[O.BeatTimeEvent=11]="BeatTimeEvent",O[O.TimeSignatureEvent=12]="TimeSignatureEvent"})(a||(a={}));class l{constructor(j=m.D,M){this.invalid=!1,this.time=j,this.eventTarget=M}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}class x extends l{constructor(j,M,F,B){super(j,B),this.type=a.ClockEvent,this.clockIndex=M,this.value=F}get hasValue(){return this.value!==void 0}serialize(){return Object.assign(super.serialize(),{clockIndex:this.clockIndex,type:this.type,value:this.value})}}(function(O){O[O.Update=1]="Update"})(r||(r={}));class S extends l{constructor(j,M,F,B){super(j,B),this.type=a.DataRefEvent,this.dataRefIndex=M,this.action=F}serialize(){return Object.assign(super.serialize(),{action:this.action,dataRefIndex:this.dataRefIndex,type:this.type})}}class D extends l{constructor(j,M,F,B="",I){super(j,I),this.type=a.MessageEvent,this.objectId=B,this.tag=M,this.payload=F}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class h extends l{constructor(j,M,F,B){if(super(j,B),this.type=a.MIDIEvent,F.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${F.length}`);if(this.data=F,this.data.length<3){const G=F.length;this.data.length=3,this.data=this.data.fill(void 0,G,3)}let I=0;for(let G=0;G<3;G++)F[G]!==void 0&&I++;if(I<1)throw new Error("MIDIData must at least have the first byte set.");this.length=I,this.status=240&F[0],this.channel=15&F[0],this.port=M}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class _ extends l{constructor(j,M,F,B,I){super(j,I),this.type=a.ParameterEvent,this.target=M,this.value=F,this.source=B}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}class o extends l{constructor(j,M,F){super(j,F),this.type=a.ParameterBangEvent,this.target=M}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type})}}(function(O){O[O.Set=1]="Set",O[O.Touched=2]="Touched"})(g||(g={}));class p extends l{constructor(j,M,F){super(j,void 0),this.type=a.PresetEvent,this.action=M,this.preset=F}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}class b extends l{constructor(j,M){super(j,void 0),this.type=a.TransportEvent,this.state=M}serialize(){return Object.assign(super.serialize(),{state:this.state,type:this.type})}}class y extends l{constructor(j,M){super(j,void 0),this.type=a.TempoEvent,this.tempo=M}serialize(){return Object.assign(super.serialize(),{tempo:this.tempo,type:this.type})}}class A extends l{constructor(j,M){super(j,void 0),this.type=a.BeatTimeEvent,this.beattime=M}serialize(){return Object.assign(super.serialize(),{beattime:this.beattime,type:this.type})}}class E extends l{constructor(j,M,F){super(j,void 0),this.type=a.TimeSignatureEvent,this.numerator=M,this.denominator=F}serialize(){return Object.assign(super.serialize(),{numerator:this.numerator,denominator:this.denominator,type:this.type})}}(function(O){O[O.BEGIN=0]="BEGIN",O[O.END=1]="END"})(f||(f={}));class N extends l{constructor(j,M){super(j,void 0),this.type=a.StartupEvent,this.phase=M}serialize(){return Object.assign(super.serialize(),{phase:this.phase,type:this.type})}}const T=O=>{switch(O.type){case a.ClockEvent:return new x(O.time,O.clockIndex,O.value,O.eventTarget);case a.DataRefEvent:return new S(O.time,O.dataRefIndex,O.action,O.eventTarget);case a.MessageEvent:return new D(O.time,O.tag,O.payload,O.objectId,O.eventTarget);case a.MIDIEvent:return new h(O.time,O.port,O.data,O.eventTarget);case a.ParameterEvent:return new _(O.time,O.target,O.value,O.source,O.eventTarget);case a.ParameterBangEvent:return new o(O.time,O.target,O.eventTarget);case a.PresetEvent:return new p(O.time,O.action,O.preset);case a.TransportEvent:return new b(O.time,O.state);case a.TempoEvent:return new y(O.time,O.tempo);case a.BeatTimeEvent:return new A(O.time,O.beattime);case a.TimeSignatureEvent:return new E(O.time,O.numerator,O.denominator);case a.StartupEvent:return new N(O.time,O.phase);default:throw new Error(`Unable to deserialize RNBOEvent of type ${O.type}`)}}},400:(C,u,n)=>{var a,r;n.d(u,{r:()=>a,E:()=>r}),function(g){g[g.Number=0]="Number",g[g.Bang=1]="Bang",g[g.List=2]="List",g[g.Signal=3]="Signal",g[g.Count=4]="Count",g[g.Enum=5]="Enum"}(a||(a={})),function(g){g[g.All=0]="All",g[g.Internal=1]="Internal"}(r||(r={}))},856:(C,u,n)=>{n.d(u,{jN:()=>l,IR:()=>g,V2:()=>m,BX:()=>f,EX:()=>a.E,rH:()=>a.r,aO:()=>D,zT:()=>S});var a=n(400),r=n(389);function g(h){return class extends h{constructor(..._){super(),this.changeEvent=new r.BM,this.L=new r.BM;const o=_[0];this.X=o.notificationSetting,this.convertFromNormalizedValue=o.scaling.convertFromNormalized,this.convertToNormalizedValue=o.scaling.convertToNormalized,this.constrainParameterValue=o.scaling.constrainParameterValue,this.initialValue=o.initialValue,this.V=o.initialValue,this.displayName=o.displayName||o.name,this.exponent=o.exponent,this.id=o.id,this.index=o.index,this.min=o.min,this.max=o.max,this.name=o.name,this.steps=o.steps,this.unit=o.unit||""}get notificationSetting(){return this.X}get normalizedValue(){return this.convertToNormalizedValue(this.V)}set normalizedValue(_){this.q(this.convertFromNormalizedValue(_))}$(_){this.X=_}q(_){_=this.constrainParameterValue(_),this.V!==_&&(this.V=_,this.L.emit(this),this.notificationSetting===a.E.All&&this.changeEvent.emit(_))}W(_){this.V=_,this.changeEvent.emit(_)}}}class f extends g(Object){constructor(_){super(_),this.type=a.r.Number}get value(){return this.V}set value(_){this.q(_)}}class m extends g(Object){constructor(_){super(_),this.type=a.r.Enum,this.G=_.enumValues}get enumValues(){return this.G.slice()}get enumValue(){return this.G[this.value]}set enumValue(_){const o=this.G.indexOf(_);if(o<0)throw new Error(`Invalid EnumValue. ${_} is not an available value on the enum parameter ${this.name}`);this.value=o}get value(){return this.V}set value(_){this.q(_)}}class l extends g(Object){constructor(){super(...arguments),this.type=a.r.Bang}get isActive(){return this.V===1}bang(){this.q(1)}}var x=n(133);const S=(h,_,o,p)=>h.type===a.r.Number&&h.enumValues.length?new m(Object.assign(Object.assign({},h),{scaling:p,index:_,notificationSetting:o})):h.type===a.r.Bang?new l(Object.assign(Object.assign({},h),{scaling:p,index:_,notificationSetting:o})):(h.type,a.r.Number,new f(Object.assign(Object.assign({},h),{scaling:p,index:_,notificationSetting:o})));class D{constructor(){this.K={},this.Y=new Float32Array(128)}addParam(_,o){_.type==x.ParameterTypeSignal&&_.ioType===x.IOTypeInput&&(this.K[_.signalIndex]={name:o,param:new Float32Array(128)})}getParamName(_){let o=this.K[_];return o!==void 0?o.name:void 0}getParamArray(_,o,p){if(o.length==p)return o;{let b=this.K[_];return b.param.length!=p&&(b.param=new Float32Array(p)),b.param.fill(o[0])}}}},389:(C,u,n)=>{n.d(u,{f8:()=>a,e1:()=>r,I7:()=>g,EL:()=>m,BM:()=>x});const a=(()=>{try{if(typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function"){const S=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(S instanceof WebAssembly.Module)return new WebAssembly.Instance(S)instanceof WebAssembly.Instance}}catch{}return!1})();class r{fromRNBOtime(D){return .001*D}toRNBOtime(D){return 1e3*D}}const g=typeof isSecureContext<"u"&&isSecureContext&&typeof AudioWorkletNode<"u";let f=Math.pow(10,4);const m=()=>(f>=Number.MAX_SAFE_INTEGER&&(f=Math.pow(10,4)),parseInt(`${Date.now().toString(10).slice(-3)}${(f++).toString(10).slice(-4)}`,10)),l=S=>S.slice();class x{constructor(){this.Z=[],this.H=[]}get listenerCount(){return this.Z.length+this.H.length}emit(D){if(this.Z.length){const h=l(this.Z);for(let _=0,o=h.length;_<o;_++)h[_](D)}if(this.H.length){const h=l(this.H);for(let _=0,o=h.length;_<o;_++)h[_](D);h.forEach(_=>this.unsubscribe(_))}}once(D){return this.H.push(D),{unsubscribe:()=>this.unsubscribe(D)}}subscribe(D){return this.Z.push(D),{unsubscribe:()=>this.unsubscribe(D)}}unsubscribe(D){const h=this.Z.indexOf(D);h>=0&&this.Z.splice(h,1);const _=this.H.indexOf(D);_>=0&&this.H.splice(_,1)}removeAllSubscriptions(){this.Z=[],this.H=[]}}},163:(C,u,n)=>{function a(r,g,f,m){return new(f||(f=Promise))(function(l,x){function S(_){try{h(m.next(_))}catch(o){x(o)}}function D(_){try{h(m.throw(_))}catch(o){x(o)}}function h(_){var o;_.done?l(_.value):(o=_.value,o instanceof f?o:new f(function(p){p(o)})).then(S,D)}h((m=m.apply(r,g||[])).next())})}n.d(u,{mG:()=>a})},264:C=>{C.exports={src:[{code:'class RNBOPatcher{constructor(){this._currentTime=0,this.audioProcessSampleCount=0,this.sampleOffsetIntoNextAudioBuffer=0,this.vs=0,this.maxvs=0,this.sr=44100,this.invsr=2267573696e-14,this.zeroBuffer=0,this.dummyBuffer=0,this.voiceIndex=0,this.noteNumber=0}getParameterIndexForID(e){return-1}getNumMidiInputPorts(){return 0}processMidiEvent(e,t,s,r){this.updateTime(e)}getNumMidiOutputPorts(){return 0}process(e,t,s,r,i){this.vs=i,this.updateTime(this.getEngine().getCurrentTime()),this.audioProcessSampleCount=this.msToSamps(this._currentTime,this.sr)}prepareToProcess(e,t){this.vs=t,this.maxvs=t,this.zeroBuffer=resizeSignal(this.zeroBuffer,0,t),this.dummyBuffer=resizeSignal(this.dummyBuffer,0,t),this.sr=e,this.invsr=1/e}msToSamps(e,t){return rnbo_floor(e*t*.001)}sampsToMs(e){return e*(1e3*this.invsr)}getNumInputChannels(){return 0}getNumOutputChannels(){return 0}getDataRef(e){return 0}getNumDataRefs(){return 0}fillDataRef(e,t){e}processDataViewUpdate(e,t){this.updateTime(t)}initialize(e){this.assign_defaults(),this.setState(e),this.initializeObjects(e),this.allocateDataRefs(),this.startup(e)}initializeObjects(e){}allocateDataRefs(){}startup(e){}setIsMuted(e){}getPatcherSerial(){return 7}getState(e){e[eventTargetKey]=this,e[patcherSerialKey]=this.getPatcherSerial(),e.p7=1,e.p7_noteNumber=this.noteNumber}setState(e){e[patcherSerialKey]==this.getPatcherSerial()&&(containsValue(e[eventTargetKey])&&this.getEngine().updatePatcherEventTarget(e[eventTargetKey],this),containsValue(e.p7_noteNumber)&&(this.noteNumber=e.p7_noteNumber))}setParameterValue(e,t,s){this.updateTime(s)}processParameterEvent(e,t,s){this.setParameterValue(e,t,s)}processNormalizedParameterEvent(e,t,s){this.setParameterValueNormalized(e,t,s)}getParameterValue(e){return 0}getNumSignalInParameters(){return 0}getNumParameters(){return 0}getParameterName(e){return"bogus"}getParameterId(e){return"bogus"}getParameterInfo(e,t){e}sendParameter(e){this.getEngine().notifyParameterValueChanged(e,this.getParameterValue(e))}processClockEvent(e,t,s,r){this.updateTime(e)}processOutletAtCurrentTime(e,t,s){}processOutletEvent(e,t,s,r){this.updateTime(r),this.processOutletAtCurrentTime(e,t,s)}sendOutlet(e,t){this.getEngine().sendOutlet(this,e,t)}schedule(e,t){this.getEngine().scheduleClockEvent(this,e,t+this._currentTime)}scheduleValue(e,t,s){this.getEngine().scheduleClockEventWithValue(this,e,t+this._currentTime,s)}stop(e){this.getEngine().flushClockEvents(this,e,!1)}stopWithValue(e,v){this.getEngine().flushClockEventsWithValue(this,e,v,!1)}processNumMessage(e,o,t,s){this.updateTime(t)}processListMessage(e,o,t,s){this.updateTime(t)}resolveTag(e){return""}sendMidiEvent(e,t,s,r){this.getEngine().sendMidiEvent(e,t,s,r)}sendMidiEventList(e,t){this.getEngine().sendMidiEventList(e,t)}updateTime(e){this._currentTime=e,this.sampleOffsetIntoNextAudioBuffer=this.msToSamps(e,this.sr)-this.vs-this.audioProcessSampleCount}assign_defaults(){}setEngineAndPatcher(e,t){this._engineInterface=e,this._parentPatcher=t}getEngine(){return this._engineInterface}getPatcher(){return this._parentPatcher}}rnboObj=new RNBOPatcher;',encoding:"utf-8",type:"js"}],options:{classname:"rnbomatic",minifyOutput:!0},desc:{parameters:[],numParameters:0,numSignalInParameters:0,layouts:[{name:"layout",boxes:[]}],numInputChannels:0,numOutputChannels:0,patcherSerial:0,externalDataRefs:[]}}}},__webpack_module_cache__={};function __webpack_require__(C){var u=__webpack_module_cache__[C];if(u!==void 0)return u.exports;var n=__webpack_module_cache__[C]={exports:{}};return __webpack_modules__[C](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=C=>{var u=C&&C.J?()=>C.default:()=>C;return __webpack_require__.d(u,{a:u}),u},__webpack_require__.d=(C,u)=>{for(var n in u)__webpack_require__.o(u,n)&&!__webpack_require__.o(C,n)&&Object.defineProperty(C,n,{enumerable:!0,get:u[n]})},__webpack_require__.o=(C,u)=>Object.prototype.hasOwnProperty.call(C,u),__webpack_require__.r=C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"J",{value:!0})};var __webpack_exports__={};return(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BangParameter:()=>f.jN,BaseDevice:()=>b,BaseEvent:()=>l.j4,BeatTimeEvent:()=>l.J0,CommonParameterMixin:()=>f.IR,DataBuffer:()=>r.OM,DeviceType:()=>o,EnumParameter:()=>f.V2,EventSubject:()=>g.BM,EventType:()=>l.m5,MIDIEvent:()=>l.Ym,MessageEvent:()=>l.f3,MessagePortType:()=>a.s,NumberParameter:()=>f.BX,ParameterNotificationSetting:()=>f.EX,ParameterType:()=>f.rH,PresetEvent:()=>l.bt,RNBOPresetEventAction:()=>l.l0,ScriptDevice:()=>B,TempoEvent:()=>l.gs,TimeNow:()=>L.D,TimeSignatureEvent:()=>l.QU,TransportEvent:()=>l.cr,TransportState:()=>a.S,WorkletDevice:()=>U,createDevice:()=>Z,version:()=>H});var C=__webpack_require__(163),u=__webpack_require__(845),n=__webpack_require__.n(u),a=__webpack_require__(347),r=__webpack_require__(641),g=__webpack_require__(389),f=__webpack_require__(856),m=__webpack_require__(400),l=__webpack_require__(555);const x={notificationSetting:m.E.All};class S{constructor(K){this.tt=new Map,this.et=new Map,this.id=(0,g.EL)(),this.parameterChangeEvent=new g.BM,this.rt=W=>{const Y=this.tt.get(W.target);if(!Y)return;const te=W.value;Y.type!==m.r.Bang&&te===Y.value||(Y.W(te),this.parameterChangeEvent.emit(Y))},this.nt=W=>{const Y=W.index,te=W.type===m.r.Bang?1:W.value,ce=new l.DB(0,Y,te,this.id,void 0);this.it&&this.it.scheduleEvent(ce),this.notificationSetting===m.E.All&&this.parameterChangeEvent.emit(W)};const $=Object.assign({},x,K);this.X=$.notificationSetting}st(K){return this.tt.get(K)||void 0}ot(){for(const K of this.tt.values())K.L.removeAllSubscriptions(),K.changeEvent.removeAllSubscriptions();this.tt.clear(),this.et.clear()}ut(){if(!this.it)throw new Error("Cannot populate ParameterInterface without setting engine first.");this.ot();for(let K=0,$=this.it.getNumParameters();K<$;K++){const W=this.it.getParameterInfo(K);if(!W||!W.visible)continue;const Y=(0,f.zT)(W,K,this.notificationSetting,{convertFromNormalized:this.it.getParameterFromNormalizedFunction(K),convertToNormalized:this.it.getParameterToNormalizedFunction(K),constrainParameterValue:this.it.constrainParameterValue(K)});Y.L.subscribe(this.nt),this.tt.set(K,Y),this.et.set(W.id,Y)}}setEngine(K){if(this.it)throw new Error("ParamInterface already has an engine, which can't be overridden.");this.it=K,this.it.parameterChangeEvent.subscribe(this.rt),this.ut()}get notificationSetting(){return this.X}set notificationSetting(K){for(const $ of this.tt.values())$.$(K);this.X=K}get numParameters(){return this.tt.size}get parameters(){return Array.from(this.tt.values())}get parametersById(){return this.et}getParameterName(K){const $=this.st(K);return $?$.name:void 0}destroy(){this.it.parameterChangeEvent.unsubscribe(this.rt),this.it=void 0,this.ot(),this.parameterChangeEvent.removeAllSubscriptions()}}var D;function h(J){return J.file!==void 0}function _(J){return J.url!==void 0}(function(J){J[J.AudioBuffer=1]="AudioBuffer",J[J.DataBuffer=2]="DataBuffer",J[J.ReferenceBuffer=3]="ReferenceBuffer"})(D||(D={}));var o,p=__webpack_require__(834).Buffer;(function(J){J.Script="script",J.Worklet="worklet",J.Invalid="invalid"})(o||(o={}));class b{constructor({context:K,parameterNotificationSetting:$,type:W}){this.ht=!1,this.ft="wasm",this.ct=new g.e1,this.lt=!0,this.midiEvent=new g.BM,this.messageEvent=new g.BM,this.parameterChangeEvent=new g.BM,this.invalidateEvent=new g.BM,this.presetTouchedEvent=new g.BM,this.dt=Y=>{switch(Y.type){case l.m5.ClockEvent:case l.m5.DataRefEvent:case l.m5.StartupEvent:break;case l.m5.MIDIEvent:return void this.midiEvent.emit(Y);case l.m5.MessageEvent:return void this.messageEvent.emit(Y);case l.m5.PresetEvent:if(Y.action==l.l0.Touched)return void this.presetTouchedEvent.emit();default:throw console.error(Y),new Error(`Unknown or unsupported RNBOEvent type "${Y.type}"`)}},this.gt=Y=>{this.parameterChangeEvent.emit(Y)},this._t=K,this.yt=W,this.F=new S({notificationSetting:$})}vt(){if(this.ht)throw new Error("Error while trying to overwrite immutable patcher of an existing device. Please create a new Device using RNBO.createDevice instead.")}It(K,$,W){this.it&&this.it.prepareToProcess(K,$,W)}wt(){if(this.isInvalid)throw new Error("Error: This device has become invalid due to creating a new device from it and is therefore unusable.")}Et(K){const $=p.from(K.code,K.encoding);return K.compression==="zlib"?n().inflate($.toString("binary"),{to:"string"}):$.toString("utf-8")}get context(){return this.wt(),this._t}get inports(){return this.wt(),this.it.getMessageInfos().filter(K=>K.type===a.s.Inport)}get isValid(){return this.lt}get isInvalid(){return!this.lt}get numInputChannels(){return this.wt(),this.it?this.it.getNumInputChannels():0}get numOutputChannels(){return this.wt(),this.it?this.it.getNumOutputChannels():0}get numMIDIInputPorts(){return this.wt(),this.it?this.it.getNumMIDIInputPorts():0}get numMIDIOutputPorts(){return this.wt(),this.it?this.it.getNumMIDIOutputPorts():0}get numParameters(){return this.wt(),this.F.numParameters}get outports(){return this.wt(),this.it.getMessageInfos().filter(K=>K.type===a.s.Outport)}get parameters(){return this.wt(),this.F.parameters}get messages(){return this.wt(),this.it.getMessageInfos()}get parametersById(){return this.wt(),this.F.parametersById}get parameterNotificationSetting(){return this.wt(),this.F.notificationSetting}set parameterNotificationSetting(K){this.wt(),this.F.notificationSetting=K}get sourceType(){return this.ft}get type(){return this.isInvalid?o.Invalid:this.yt}get dataBufferIds(){return this.it.getExternalDataRefIds()}get dataBufferDescriptions(){return this.it.getExternalDataRefInfos()}setDataBuffer(K,$,W,Y){return(0,C.mG)(this,void 0,void 0,function*(){if(!this.dataBufferDescriptions.find(oe=>oe.id===K))throw new Error(`Unknown DataBuffer id. A DataBuffer with the id "${K}" does not exist within the device.`);let te,ce;if($ instanceof AudioBuffer){ce=r.Le.fromAudioBuffer($);const oe=$.numberOfChannels,ue=new Float32Array($.length*$.numberOfChannels),Ce=[];for(let le=0;le<oe;le++){const ye=new Float32Array($.length);$.copyFromChannel(ye,le,0),Ce.push(ye)}for(let le=0;le<oe;le++)for(let ye=0,ve=$.length;ye<ve;ye++)ue[ye*oe+le]=Ce[le][ye];te=ue.buffer}else{if(!W||W<0||isNaN(W))throw new Error("Invalid channel count. Expecting a numeric value >= 1");if(!Y||Y<0||isNaN(Y))throw new Error("Invalid sample rate. Expecting a numeric value >= 1");te=ArrayBuffer.isView($)?$.buffer.slice(0):$.slice(0),ce=new r.Le(W,Y)}yield this.it.setExternalData(K,te,ce)})}releaseDataBuffer(K){return(0,C.mG)(this,void 0,void 0,function*(){if(!this.dataBufferDescriptions.find(Y=>Y.id===K))throw new Error(`Unknown DataBuffer id. A DataBuffer with the id "${K}" does not exist within the device.`);const{data:$,typeDesc:W}=yield this.it.releaseExternalData(K);return new r.OM($,W)})}static fetchAudioData(K,$){return(0,C.mG)(this,void 0,void 0,function*(){let W=yield fetch(K),Y=yield W.arrayBuffer();return new Promise((te,ce)=>{$.decodeAudioData(Y,te,ce)})})}static bufferDescriptionHasRemoteURL(K){return!!_(K)||!(!h(K)||!K.file.startsWith("http:")&&!K.file.startsWith("https:"))}loadDataBufferDependencies(K){return(0,C.mG)(this,void 0,void 0,function*(){return Promise.all(K.map($=>(0,C.mG)(this,void 0,void 0,function*(){try{let W;if(_($)?W=$.url:h($)&&(W=$.file),W){const Y=yield b.fetchAudioData(W,this.context);return this.setDataBuffer($.id,Y),{type:"success",id:$.id}}throw new Error(`Skipping invalid buffer info id: ${$.id}, type: ${$.type}`)}catch(W){return{type:"fail",error:W,id:$.id}}})))})}scheduleEvent(K){this.wt(),this.it&&this.it.scheduleEvent(K)}destroy(){this.wt(),this.F.destroy(),this.it&&(this.it.invalidateProcessor(),this.it.removeAllSubscriptions()),this.it=void 0,this.Mt&&this.Mt.disconnect(),this.Mt=void 0,delete this.F,delete this.ct,delete this._t,this.lt=!1,this.invalidateEvent.emit(),this.invalidateEvent.removeAllSubscriptions(),this.messageEvent.removeAllSubscriptions(),this.midiEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}getPreset(){return(0,C.mG)(this,void 0,void 0,function*(){return this.it.getPreset()})}setPreset(K){return this.it.setPreset(K)}}var y=__webpack_require__(191),A=__webpack_require__(133);const E=__webpack_require__(264);function N(J,K){return J.time-K.time}function T(J){J.sort(N)}class O extends y.v{constructor(){super(),this.Bt=!1,this.At=!1,this.Pt=void 0,this.Tt=-1,this.St=[],this.Bt=!1,this.setPatcherDesc(E.desc),this.setPatcherCode(E.src[0].code)}Rt(K){const $=K.eventTarget||this.Dt;if(K.time=Math.max(K.time,this.I),this.Pt=K,K.type===l.m5.ParameterEvent){const W=K;$.setParameterValue(W.target,W.value,K.time)}else if(K.type===l.m5.ParameterBangEvent){const W=K;$.processParameterBangEvent(W.target,K.time)}else if(K.type===l.m5.MIDIEvent){const W=K;$.processMidiEvent(W.time,W.port,W.data,W.length)}else if(K.type===l.m5.ClockEvent){const W=K;$.processClockEvent(W.time,W.clockIndex,W.hasValue,W.value)}else if(K.type===l.m5.DataRefEvent){const W=K;W.action===l.VH.Update&&$.processDataViewUpdate(W.dataRefIndex,W.time)}else if(K.type===l.m5.MessageEvent){const W=K;Array.isArray(W.payload)?$.processListMessage(A.TAG(W.tag),A.TAG(W.objectId),W.time,W.payload):W.payload===void 0?$.processBangMessage(A.TAG(W.tag),A.TAG(W.objectId),W.time):$.processNumMessage(A.TAG(W.tag),A.TAG(W.objectId),W.time,W.payload)}else if(K.type===l.m5.PresetEvent){const W=K;W.action===l.l0.Set&&(this.At=!0,this.Dt.setPreset(W.time,W.preset),this.At=!1)}else if(K.type===l.m5.TransportEvent){const W=K;this.Dt.processTransportEvent(W.time,W.state)}else if(K.type===l.m5.TempoEvent){const W=K;this.Dt.processTempoEvent(W.time,W.tempo)}else if(K.type===l.m5.BeatTimeEvent){const W=K;this.Dt.processBeatTimeEvent(W.time,W.beattime)}else if(K.type===l.m5.TimeSignatureEvent){const W=K;this.Dt.processTimeSignatureEvent(W.time,W.numerator,W.denominator)}else if(K.type===l.m5.StartupEvent){const W=K;this.At=W.phase===l.gA.BEGIN}this.Pt=void 0}getCurrentTime(){return this.I}setCurrentTime(K){this.I=K}prepareToProcess(K,$,W){(W||K!==this.M||$!==this.B)&&(this.M=K,this.B=$,this.A=this.sampsToMs(this.B),this.isSync&&this.Dt.prepareToProcess(this.M,this.B))}process(K,$,W,Y,te,ce,oe){const ue=Math.min($,this.getNumInputChannels()+this.getNumSignalInParameters()),Ce=Math.min(Y,this.getNumOutputChannels()),le=Math.min(te,this.B);for(this.Tt=this.I+this.A,this.midiInput!==void 0&&(this.St.push.apply(this.St,ce),this.Bt=!0),this.Bt&&(T(this.St),this.Bt=!1);this.St.length>0&&this.St[0].time<this.Tt;)this.Rt(this.St.shift());this.Dt.process(K,ue,W,Ce,le),this.I=this.Tt,this.Tt=-1}scheduleMidiEvent(K,$){this.scheduleEvent(new l.Ym(this.I,K,$,this.Dt))}notifyParameterValueChanged(K,$){let W=this.Pt?this.Pt.source:void 0;this.parameterChangeEvent.emit(new l.DB(this.getCurrentTime(),K,$,W))}scheduleParameterChange(K,$,W){this.scheduleEvent(new l.DB(this.getCurrentTime(),K,$,void 0))}scheduleParameterBang(K,$){this.scheduleEvent(new l.zz(this.getCurrentTime(),K))}sendNumMessage(K,$,W){const Y=new l.f3(this.I,this.Dt.resolveTag(K),W,this.Dt.resolveTag($));this.outgoingEvent.emit(Y)}sendBangMessage(K,$){const W=new l.f3(this.I,this.Dt.resolveTag(K),void 0,this.Dt.resolveTag($));this.outgoingEvent.emit(W)}sendListMessage(K,$,W){const Y=new l.f3(this.I,this.Dt.resolveTag(K),W,this.Dt.resolveTag($));this.outgoingEvent.emit(Y)}getParameterValue(K){return this.Dt.getParameterValue(K)}flushClockEvents(K,$,W){this.flushClockEventsWithValue(K,$,void 0,W)}flushClockEventsWithValue(K,$,W,Y){for(let te=0;te<this.St.length;te++)if(this.St[te]instanceof l.J9){const ce=this.St[te];ce.eventTarget!==K||ce.clockIndex!==$&&ce.clockIndex!==void 0||W!==void 0&&ce.value!==W||(this.St.splice(te,1),Y&&this.Rt(ce),te--)}}deleteClockEvents(K){this.flushClockEvents(K,void 0,!1)}scheduleClockEvent(K,$,W){this.scheduleClockEventWithValue(K,$,W,void 0)}scheduleClockEventWithValue(K,$,W,Y){this.scheduleEvent(new l.J9(W,$,Y,K))}sendMidiEvent(K,$,W,Y){const te=new l.Ym(this.getCurrentTime(),K,[$,W,Y],void 0);this.outgoingEvent.emit(te)}sendMidiEventList(K,$){let W;for(W=2;W<$.length;W+=3)this.sendMidiEvent(K,$[W-2],$[W-1],$[W]);if(W-=3,W<$.length){var Y=W-$.length;this.sendMidiEvent(K,$[W],Y>1?$[W+1]:void 0,Y>2?$[W+2]:void 0)}}sendOutlet(K,$,W){console.log("sendOutlet",K,$,W)}updatePatcherEventTarget(K,$){for(let W=0;W<this.St.length;W++)this.St[W].eventTarget===K&&(this.St[W].eventTarget=$,this.St[W].invalid=!1)}rescheduleEventTarget(K){for(let $=0;$<this.St.length;$++)this.St[$].eventTarget===K&&(this.St[$].invalid=!1)}isInProcess(){return this.Tt>-1}sendDataRefUpdated(K){this.scheduleEvent(new l.Lk(this.getCurrentTime(),K,l.VH.Update,this.Dt))}get isSync(){return!0}scheduleEvent(K){this.St.push(K),this.isInProcess()?T(this.St):this.Bt=!0}setPatcherCode(K){return(0,C.mG)(this,void 0,void 0,function*(){const $={};this.Dt&&this.Dt.getState($),this.Dt=A.deserializeSrc(K);for(let W=0;W<this.St.length;W++)this.St[W].eventTarget&&(this.St[W].invalid=!0);this.Dt.setEngineAndPatcher(this,null),this.scheduleEvent(new l.j6(this.I,l.gA.BEGIN)),this.Dt.initialize($),this.scheduleEvent(new l.j6(this.I,l.gA.END)),this.Dt.prepareToProcess(this.M,this.B,!0);for(let W=this.St.length-1;W>=0;W--)this.St[W].invalid&&this.St.splice(W,1)})}setExternalData(K,$,W){return(0,C.mG)(this,void 0,void 0,function*(){const Y=this.Dt.getNumDataRefs();for(let te=0;te<Y;te++){const ce=this.Dt.getDataRef(te);if(ce.name==K){ce.arrayBuffer=$,W instanceof r.Le&&(ce.channels=W.channels,ce.sampleRate=W.sampleRate),this.sendDataRefUpdated(te);break}}})}releaseExternalData(K){return(0,C.mG)(this,void 0,void 0,function*(){const $=this.Dt.getNumDataRefs();let W,Y;for(let te=0;te<$;te++){const ce=this.Dt.getDataRef(te);if(ce.name==K){W=ce.arrayBuffer,ce.arrayBuffer=new ArrayBuffer(0),ce.channels?(Y=new r.Le(ce.channels,ce.sampleRate),ce.channels=0,ce.sampleRate=0):Y=new r.nc,this.sendDataRefUpdated(te);break}}if(!W)throw new Error(`Invalid DataBuffer. No DataBuffer with id ${K} found.`);return{data:W,typeDesc:Y}})}getPreset(){return(0,C.mG)(this,void 0,void 0,function*(){let K={};return this.Dt.getPreset(K),K})}setPreset(K){this.scheduleEvent(new l.bt(this.I,l.l0.Set,K))}presetTouched(){this.At||this.outgoingEvent.emit(new l.bt(this.I,l.l0.Touched,void 0))}}var j,M,F=__webpack_require__(916);class B extends b{constructor({bufferSize:K=1024,context:$,parameterNotificationSetting:W},Y){super({context:$,parameterNotificationSetting:W,type:o.Script}),this.bufferSize=K,this.it=Y&&Y.sourceType!=="wasm"?Y.it:void 0}Ot(K){const $=[],W=[],Y=K.inputBuffer,te=K.outputBuffer,ce=Y?Y.numberOfChannels:0,oe=te?te.numberOfChannels:0;for(let ue=0;ue<Math.max(ce,oe);ue++)ue<ce&&($[ue]=Y.getChannelData(ue)),ue<oe&&(W[ue]=te.getChannelData(ue));this.Nt(1e3*K.playbackTime),this.It(K.outputBuffer.sampleRate,this.bufferSize,!1),this.Ct($,ce,W,oe,this.bufferSize,null,null)}Ct(K,$,W,Y,te,ce,oe){this.it&&this.it.process(K,$,W,Y,te,ce||void 0,oe||void 0)}Nt(K){this.it&&this.it.setCurrentTime(K)}get node(){return this.wt(),this.Mt}setPatcher(K,$){return(0,C.mG)(this,void 0,void 0,function*(){this.vt(),this.it||(this.it=$.type==="wasm"?new F.s:new O),this.ft=$.type,yield this.it.setPatcherDesc(K),yield this.it.setPatcherCode(this.Et($)),this.F.setEngine(this.it),this.F.parameterChangeEvent.subscribe(this.gt),this.it.outgoingEvent.subscribe(this.dt),this.Mt=this.context.createScriptProcessor(this.bufferSize,this.numInputChannels,Math.max(this.numOutputChannels,1)),this.node.onaudioprocess=this.Ot.bind(this)})}}(function(J){J[J.LoadPatcher=0]="LoadPatcher",J[J.ScheduleEvent=1]="ScheduleEvent",J[J.TransferBuffer=2]="TransferBuffer",J[J.ReleaseBuffer=3]="ReleaseBuffer",J[J.SetPreset=4]="SetPreset",J[J.GetPreset=5]="GetPreset",J[J.Invalidate=6]="Invalidate"})(j||(j={})),function(J){J[J.LoadPatcherFinished=1e3]="LoadPatcherFinished",J[J.OutgoingEvent=1002]="OutgoingEvent",J[J.ReleasedBuffer=1003]="ReleasedBuffer",J[J.TransferBufferFinished=1004]="TransferBufferFinished",J[J.GetPresetResponse=1005]="GetPresetResponse"}(M||(M={}));class I extends y.v{constructor(){super(),this.kt=new g.BM,this.xt=new g.BM,this.Ut=K=>{if(K.id!==M.OutgoingEvent||K.payload.type!==l.m5.ParameterEvent)if(K.id!==M.OutgoingEvent){if(K.id!==M.LoadPatcherFinished&&K.id!==M.TransferBufferFinished&&K.id!==M.ReleasedBuffer&&K.id!==M.GetPresetResponse)throw new Error(`Unhandled RNBOProcessor event with type ${K.id}`)}else this.outgoingEvent.emit(K.payload);else this.parameterChangeEvent.emit(K.payload)},this.kt.subscribe(this.Ut)}get eventSubjects(){return{fromProcessorEvent:this.kt,toProcessorEvent:this.xt}}notifyParameterValueChanged(K,$,W,Y){this.parameterChangeEvent.emit(new l.DB(K,$,W,Y,void 0))}prepareToProcess(K,$,W){}process(K,$,W,Y,te,ce,oe){throw new Error}get isSync(){return!1}scheduleEvent(K){this.xt.emit({id:j.ScheduleEvent,payload:K})}setExternalData(K,$,W){return new Promise((Y,te)=>{const ce=this.kt.subscribe(oe=>{oe.id===M.TransferBufferFinished&&oe.payload.memoryId===K&&(ce.unsubscribe(),Y())});this.xt.emit({id:j.TransferBuffer,payload:{memoryId:K,data:$,typeDesc:W}})})}releaseExternalData(K){return new Promise(($,W)=>{const Y=this.kt.subscribe(te=>{te.id===M.ReleasedBuffer&&te.payload.memoryId===K&&(Y.unsubscribe(),$({data:te.payload.data,typeDesc:(0,r.n_)(te.payload.typeDesc)}))});this.xt.emit({id:j.ReleaseBuffer,payload:{memoryId:K}})})}getPreset(){return(0,C.mG)(this,void 0,void 0,function*(){return new Promise((K,$)=>{const W=this.kt.subscribe(Y=>{Y.id===M.GetPresetResponse&&(W.unsubscribe(),K(Y.payload.preset))});this.xt.emit({id:j.GetPreset})})})}setPreset(K){this.xt.emit({id:j.SetPreset,payload:{preset:K}})}setPatcherCode(K){return(0,C.mG)(this,void 0,void 0,function*(){})}removeAllSubscriptions(){super.removeAllSubscriptions(),this.xt.removeAllSubscriptions(),this.kt.removeAllSubscriptions()}invalidateProcessor(){this.xt.emit({id:j.Invalidate})}}const G=()=>{if(!g.I7)throw new Error("Missing AudioWorklet Support");return class extends AudioWorkletNode{constructor(J,K,$,W){super(J,K,W),this.jt=Y=>{const[te,ce]=Y.data;if(te!==M.OutgoingEvent)if(te!==M.LoadPatcherFinished)if(te!==M.TransferBufferFinished)if(te!==M.ReleasedBuffer){if(te!==M.GetPresetResponse)throw new Error(`Unable to handle received processor message of type ${te}`);this.zt.fromProcessorEvent.emit({id:te,payload:ce})}else this.zt.fromProcessorEvent.emit({id:te,payload:ce});else this.zt.fromProcessorEvent.emit({id:te,payload:ce});else this.zt.fromProcessorEvent.emit({id:te,payload:ce});else this.zt.fromProcessorEvent.emit({id:te,payload:(0,l.f4)(ce)})},this.Ft=Y=>{Y.id!==j.ScheduleEvent?Y.id!==j.TransferBuffer?Y.id!==j.ReleaseBuffer?Y.id!==j.GetPreset?Y.id!==j.SetPreset?Y.id!==j.Invalidate||this.port.postMessage([Y.id]):this.port.postMessage([Y.id,{preset:Y.payload.preset}]):this.port.postMessage([Y.id]):this.port.postMessage([Y.id,{memoryId:Y.payload.memoryId}]):this.port.postMessage([Y.id,{data:Y.payload.data,memoryId:Y.payload.memoryId,typeDesc:Y.payload.typeDesc.serialize()}],[Y.payload.data]):this.port.postMessage([Y.id,Y.payload.serialize()])},this.zt=$,this.zt.toProcessorEvent.subscribe(this.Ft),this.port.onmessage=this.jt,this.port.start()}loadPatcher(){return(0,C.mG)(this,void 0,void 0,function*(){return new Promise(J=>{const K=this.zt.fromProcessorEvent.subscribe($=>{$.id===M.LoadPatcherFinished&&(K.unsubscribe(),J())});this.port.postMessage([j.LoadPatcher])})})}}};var k=__webpack_require__(834).Buffer;const V=__webpack_require__(264),R={js:'(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{var Float32Buffer=__webpack_require__(852).Float32Buffer,Float64Buffer=__webpack_require__(852).Float64Buffer,Float32MultiBuffer=__webpack_require__(852).Float32MultiBuffer,Float64MultiBuffer=__webpack_require__(852).Float64MultiBuffer,IntBuffer=__webpack_require__(852).IntBuffer,UInt8Buffer=__webpack_require__(852).UInt8Buffer,ExternalLoaderFactory=__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var patcherSerialKey="XX__PatcherSerialKey__XX",eventTargetKey="XX__EventTargetKey__XX",ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2,INVALID_INDEX=Number.MAX_SAFE_INTEGER;function globalrandom(){return Math.random()}function pi01(){return Math.PI}var rnbo_abs=Math.abs,rnbo_fabs=Math.abs,rnbo_acos=Math.acos,rnbo_acosh=Math.acosh,rnbo_asin=Math.asin,rnbo_asinh=Math.asinh,rnbo_atan=Math.atan,rnbo_atan2=Math.atan2,rnbo_atanh=Math.atanh,rnbo_cbrt=Math.cbrt,rnbo_ceil=Math.ceil,rnbo_cos=Math.cos,rnbo_cosh=Math.cosh,rnbo_exp=Math.exp,rnbo_expm1=Math.expm1,rnbo_floor=Math.floor,rnbo_fround=Math.round,rnbo_imul=Math.imul,rnbo_log=Math.log,rnbo_log10=Math.log10,rnbo_log1p=Math.log1p,rnbo_log2=Math.log2,rnbo_pow=Math.pow,rnbo_round=rnbo_fround,rnbo_sign=Math.sign,rnbo_sin=Math.sin,rnbo_sinh=Math.sinh,rnbo_sqrt=Math.sqrt,rnbo_tan=Math.tan,rnbo_tanh=Math.tanh,trunc=Math.trunc,rnbo_trunc=Math.trunc,rnbo_number_max=()=>Math.MAX_VALUE,rnbo_isnan=isNaN;function fixnan(t){return isNaN(t)?0:t}function fract(t){return t%1}function fixdenorm(t){return t}function isdenorm(t){return!1}var fastsin=Math.sin,fastcos=Math.cos,fastexp=Math.exp,fastpow=Math.pow,fasttan=Math.tan;function nextpoweroftwo(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1)}var MAX_32BIT_INT=Math.pow(2,32);function uint32_add(t,e){var r=t+e;return r>=MAX_32BIT_INT&&(r-=MAX_32BIT_INT),Math.trunc(r)}function uint32_trunc(t){return t>>>0}function uint32_rshift(t,e){return t>>>e}function imod(t,e){return(0|t)%(0|e)}function imod_nocast(t,e){return t%e}function getArrayValueAtIndex(t,e){return t[e]}function allocateArray(t,e){return new Array(t)}function createListCopy(t){return t.slice(0)}function jsCreateListCopy(t){return createListCopy(t)}function list(){let t=[];for(let e=0;e<arguments.length;e++){let r=arguments[e];if(Array.isArray(r))for(let e=0;e<r.length;e++)t.push(r[e]);else t.push(r)}return t}function resizeSignal(t,e,r){for(var n=t||[],i=e;i<r;i++)n[i]=0;return n}function zeroSignal(t,e){t&&t.fill(0)}function fillSignal(t,e,r,n){t&&t.fill(r,n)}function copySignal(t,e,r){for(let n=0;n<r;n++)t[n]=e[n]}function containsValue(t){return void 0!==t}function addressOf(t){return t}function systemticks(){return Date.now()}function bitwiseFloat(t){var e=new Uint32Array(1);return e[0]=t,new DataView(e.buffer).getFloat32(0,!0)}function imul(t,e){return Math.imul(t,e)}var MIDI_StatusByteReceived=1,MIDI_SecondByteReceived=2,MIDI_NoteOff=3,MIDI_NoteOn=4,MIDI_Aftertouch=5,MIDI_CC=6,MIDI_ProgramChange=7,MIDI_ChannelPressure=8,MIDI_PitchBend=9,MIDI_Sysex_Started=10,MIDI_Sysex_Complete=11,MIDI_Generic=99,MIDI_InvalidByte=-1,MIDI_NoteOffMask=128,MIDI_NoteOnMask=144,MIDI_AfterTouchMask=160,MIDI_CCMask=176,MIDI_ProgramChangeMask=192,MIDI_ChannelPressureMask=208,MIDI_PitchBendMask=224,MIDI_QuarterFrame=241,MIDI_SongPos=242,MIDI_SongSel=243,MIDI_TuneRequest=246,MIDI_SysexStart=240,MIDI_SysexEnd=247,MIDI_Clock=248,MIDI_Start=250,MIDI_Continue=251,MIDI_Stop=252,MIDI_ActiveSense=254,MIDI_Reset=255,MIDI_CC_Sustain=64,MIDI_CC_Sostenuto=66,MIDI_CC_AllNotesOff=123,MIDI_CC_PressureMSB=70,MIDI_CC_PressureLSB=102,MIDI_CC_TimbreMSB=74,MIDI_CC_TimbreLSB=106,MIDI_NoteState_Off=0,MIDI_NoteState_On=1,MIDI_NoteState_Sustained=2,CLOCKS_PER_SEC=1;function parseMidi(t,e,r){if(240==e)return MIDI_Sysex_Started;if(t==MIDI_Sysex_Started)return 247==e?MIDI_Sysex_Complete:e<=127?t:MIDI_InvalidByte;if(e>127)return MIDI_StatusByteReceived;var n=240&r;return t==MIDI_StatusByteReceived?n==MIDI_ProgramChangeMask?MIDI_ProgramChange:n==MIDI_ChannelPressureMask?MIDI_ChannelPressure:MIDI_SecondByteReceived:t==MIDI_SecondByteReceived?n==MIDI_NoteOffMask||n==MIDI_NoteOnMask&&0==e?MIDI_NoteOff:n==MIDI_NoteOnMask?MIDI_NoteOn:n==MIDI_AfterTouchMask?MIDI_Aftertouch:n==MIDI_CCMask?MIDI_CC:n==MIDI_PitchBendMask?MIDI_PitchBend:MIDI_Generic:t}function getMIDIChannel(t){var e=240&t;return e>=128&&e<=224?15&t:0}function initDataRef(t,e){var r={};return r.name=t,r.isValid=!1,r.wantsFillFlag=!1,r.bytesToAllocate=0,r.channels=0,r.sampleRate=0,r.internal=e,r.index=-1,r.wantsFill=function(){return this.wantsFillFlag},r.setWantsFill=function(t){this.wantsFillFlag=t},r.requestSizeInBytes=function(t,e){(t>this.bytesToAllocate||e)&&(this.bytesToAllocate=t)},r.getRequestedSizeInBytes=function(){return this.bytesToAllocate},r.resetRequestedSizeInByte=function(){this.bytesToAllocate=0},r.getSizeInBytes=function(){return this.arrayBuffer.byteLength},r.hasRequestedSize=function(){return this.bytesToAllocate>0},r.isInternal=function(){return this.internal},r.getIndex=function(){return this.index},r.setIndex=function(t){this.index=t},r.clear=function(){r.arrayBuffer=new ArrayBuffer(0)},r.clear(),r}function initMultiRef(){var t={index:0,current:0,dataRefs:[],count:0};for(let e=0;e<arguments.length;e++)t.dataRefs.push(arguments[e]),t.count++;return t.setCurrent=function(t){t>=0&&t<this.count&&(this.current=t)},t.getIndex=function(){return this.index},t.setIndex=function(t){this.index=t},t}function updateMultiRef(t,e,r){e.setCurrent&&e.getIndex&&(e.setCurrent(r),t.getEngine().sendDataRefUpdated(e.getIndex()))}function updateDataRef(t,e){t.getEngine().sendDataRefUpdated(e.getIndex())}function FIXEDSIZEARRAYINIT(){let t=arguments[0];if(void 0!==t){let e=new Array(t);if(e.fill(0),void 0!==arguments[1]){let r=Array.from(arguments);r.splice(0,1);for(let n=0;n<t;n++)e[n]=FIXEDSIZEARRAYINIT.apply(null,r)}return e}return new Array}function TAG(t){let e=0;for(let r=0;r<t.length;r++){e=t.charCodeAt(r)+(e<<6)+(e<<16)-e}return 0|e}function serializeArrayToList(t,e){return t}function deserializeArrayFromList(t,e,r){t}function serializeDataRef(t){return t.resetRequestedSizeInByte(),t}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}function getSubState(t,e){return void 0===t[e]&&(t[e]={}),t[e]}function getSubStateAt(t,e,r){return void 0===t[e]&&(t[e]=[]),void 0===t[e][r]&&(t[e][r]={}),t[e][r]}function stateIsEmpty(t){return 0===Object.keys(t).length}function TransportState(t){return t}function RNBO_UNUSED(){}let xoshiro_reset=Xoshiro.reset,xoshiro_next=Xoshiro.next;module.exports={deserializeSrc:function(t){return _evalSrc(t)},deserializeJSON:function(t){var e=t;return"string"==typeof e&&(e={src:t}),_evalSrc(e.src)},extractOptionsFromJSON:function(t){var e=t;return"string"==typeof e&&(e=JSON.parse(t)),e.options?e.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:t=>{function e(){let t=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,e=this.getChannels();return e?t/e:0}function r(t,e){let r=t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e;this.requestedChannels=e,this.dataRef.requestSizeInBytes(r,!1)}function n(t,e){return this[this.getChannels()*Math.floor(e)+t]}function i(t,e){const r=this.getChannels();return t<0||t>=r||e<0||e>=this.getSize()?0:this[r*Math.floor(e)+t]}function s(t,e,r){this[this.getChannels()*Math.floor(e)+t]=r}function o(t,e,r){const n=this.getChannels();t<0||t>=n||e<0||e>=this.getSize()||(this[n*Math.floor(e)+t]=r)}function u(){return this.dataRef.channels}function a(){return this.dataRef.sampleRate}function h(t){this.dataRef.sampleRate=t}function f(){this.dataRef.clear()}function c(t){if(t!==this.dataRef.channels){let e=this.getSize();return this.clear(),this.dataRef.channels=t,this.setSize(e)}return this}function l(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&0!==this.requestedChannels&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let t;if(this.dataRef.isInternallyAllocated){let e=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);e/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,t=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,e)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let e=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return t?e.set(t):this.dataRef.wantsFillFlag=!0,b(e,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&I(e),e}return this}function d(t){let e=this.getChannels();return this.requestedChannels=e,this.dataRef.requestSizeInBytes(t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e,!0),this.allocateIfNeeded()}function p(){this.fill&&this.fill(0)}function m(){return this.touched}function g(t){this.touched=t}function _(t){this.dataRef.setWantsFill(t)}function y(){return this.dataRef.getIndex()}function b(t,n,i){t.dataRef=n,t.BASEARRAYVIEW=i,t.getSize=e,t.requestSize=r,t.setSize=d,t.allocateIfNeeded=l,t.setZero=p,t.clear=f,t.getChannels=u,t.getSampleRate=a,t.setWantsFill=_,t.getIndex=y,n.setZero=function(){t.setZero()},t.touched=!1,t.getTouched=m,t.setTouched=g}function I(t){t.getSample=n,t.getSampleSafe=i,t.setSample=s,t.setSampleSafe=o,t.setChannels=c,t.setSampleRate=h,t.isAudioBuffer=!0,t.requestedChannels=0}let w=function(t,e){let r;return r=t.arrayBuffer?new e(t.arrayBuffer):{},b(r,t,e),r};(w.prototype=Object.create(null)).constructor=w;let v=function(t,e){let r=w.call(this,t,e);return I(r),r};(v.prototype=Object.create(w)).constructor=v;let M=function(t){return v.call(this,t,Float32Array)};(M.prototype=Object.create(v.prototype)).constructor=M;let E=function(t){return v.call(this,t,Float64Array)};(E.prototype=Object.create(v.prototype)).constructor=E;let T=function(t,e){let r=new e(t.dataRefs[t.current]);return r.multiRef=t,r.setCurrent=function(t){this.multiRef.setCurrent(Math.round(t))},r.getIndex=function(){return this.multiRef.getIndex()},r};T.prototype=Object.create(null),T.constructor=T;let B=function(t){return T.call(this,t,M)};(B.prototype=Object.create(T.prototype)).constructor=B;let S=function(t){return T.call(this,t,E)};(S.prototype=Object.create(T.prototype)).constructor=S;let P=function(t){return w.call(this,t,Int32Array)};(P.prototype=Object.create(w.prototype)).constructor=P;let A=function(t){return w.call(this,t,Uint8Array)};(A.prototype=Object.create(w.prototype)).constructor=A,t.exports={Float32Buffer:M,Float64Buffer:E,Float32MultiBuffer:B,Float64MultiBuffer:S,IntBuffer:P,UInt8Buffer:A}},126:t=>{var e=function(){};(e.prototype=Object.create(null)).constructor=e,e.prototype.setEngineAndPatcher=function(){},e.prototype.initialize=function(){},e.prototype.getNumParameters=function(){return 0},e.prototype.setParameterValue=function(){},e.prototype.prepareToProcess=function(){},e.prototype.process=function(){},t.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new e}}},925:t=>{function e(t,e,r,n){r[n]=t[e]+0x9e3779b97f4a7c15n,r[n]=0xbf58476d1ce4e5b9n*(r[n]^r[n]>>30n),r[n]=0x94d049bb133111ebn*(r[n]^r[n]>>27n),r[n]=r[n]^r[n]>>31n}t.exports={reset:function(t,r){let n=new BigUint64Array(1);n[0]=BigInt(Math.trunc(1e6*t)),e(n,0,r,0),e(r,0,r,1),e(r,1,r,2),e(r,2,r,3)},next:function(t){let e=new BigUint64Array(1),r=new BigUint64Array(1);return r[0]=t[0]+t[3],e[0]=t[1]<<17n,t[2]^=t[0],t[3]^=t[1],t[1]^=t[2],t[0]^=t[3],t[2]^=e[0],t[3]=t[3]<<45n|t[3]>>19n,r[0]=r[0]>>11n,2220446049250313e-31*Number(r[0])-1}}},766:(t,e)=>{e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,s=a(t),o=s[0],u=s[1],h=new i(function(t,e,r){return 3*(e+r)/4-r}(0,o,u)),f=0,c=u>0?o-4:o;for(r=0;r<c;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],h[f++]=e>>16&255,h[f++]=e>>8&255,h[f++]=255&e;2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,h[f++]=255&e);1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,h[f++]=e>>8&255,h[f++]=255&e);return h},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=16383,u=0,a=n-i;u<a;u+=o)s.push(h(t,u,u+o>a?a:u+o));1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=s.length;o<u;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t,e,n){for(var i,s,o=[],u=e;u<n;u+=3)i=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},834:(t,e,r)=>{\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\nconst n=r(766),i=r(181),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function u(t){if(t>o)throw new RangeError(\'The value "\'+t+\'" is invalid for option "size"\');const e=new Uint8Array(t);return Object.setPrototypeOf(e,a.prototype),e}function a(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError(\'The "string" argument must be of type string. Received type number\');return c(t)}return h(t,e,r)}function h(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|m(t,e);let n=u(r);const i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(J(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(J(t,ArrayBuffer)||t&&J(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(J(t,SharedArrayBuffer)||t&&J(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError(\'The "value" argument must not be of type number. Received type number\');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return a.from(n,e,r);const i=function(t){if(a.isBuffer(t)){const e=0|p(t.length),r=u(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||Y(t.length)?u(0):l(t);if("Buffer"===t.type&&Array.isArray(t.data))return l(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw new TypeError(\'"size" argument must be of type number\');if(t<0)throw new RangeError(\'The value "\'+t+\'" is invalid for option "size"\')}function c(t){return f(t),u(t<0?0:0|p(t))}function l(t){const e=t.length<0?0:0|p(t.length),r=u(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError(\'"offset" is outside of buffer bounds\');if(t.byteLength<e+(r||0))throw new RangeError(\'"length" is outside of buffer bounds\');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,a.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function m(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||J(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError(\'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type \'+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,r);case"utf8":case"utf-8":return B(this,e,r);case"ascii":return P(this,e,r);case"latin1":case"binary":return A(this,e,r);case"base64":return T(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){let s,o=1,u=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,u/=2,a/=2,r/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let n=-1;for(s=r;s<u;s++)if(h(t,s)===h(e,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===a)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+a>u&&(r=u-a),s=r;s>=0;s--){let r=!0;for(let n=0;n<a;n++)if(h(t,s+n)!==h(e,n)){r=!1;break}if(r)return s}return-1}function I(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=e.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(e.substr(2*o,2),16);if(Y(n))return o;t[r+o]=n}return o}function w(t,e,r,n){return K(W(e,t.length-r),t,r,n)}function v(t,e,r,n){return K(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function M(t,e,r,n){return K(G(e),t,r,n)}function E(t,e,r,n){return K(function(t,e){let r,n,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function T(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function B(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=r){let r,n,u,a;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[i+1],128==(192&r)&&(a=(31&e)<<6|63&r,a>127&&(s=a));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(a=(15&e)<<12|(63&r)<<6|63&n,a>2047&&(a<55296||a>57343)&&(s=a));break;case 4:r=t[i+1],n=t[i+2],u=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&u)&&(a=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&u,a>65535&&a<1114112&&(s=a))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(t){const e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=S));return r}(n)}e.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,e,r){return h(t,e,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(t,e,r){return function(t,e,r){return f(t),t<=0?u(t):void 0!==e?"string"==typeof r?u(t).fill(e,r):u(t).fill(e):u(t)}(t,e,r)},a.allocUnsafe=function(t){return c(t)},a.allocUnsafeSlow=function(t){return c(t)},a.isBuffer=function(t){return null!=t&&!0===t.t&&t!==a.prototype},a.compare=function(t,e){if(J(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),J(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError(\'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array\');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===t.length)return a.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=a.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(J(e,Uint8Array))i+e.length>n.length?(a.isBuffer(e)||(e=a.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!a.isBuffer(e))throw new TypeError(\'"list" argument must be an Array of Buffers\');e.copy(n,i)}i+=e.length}return n},a.byteLength=m,a.prototype.t=!0,a.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)_(this,e,e+1);return this},a.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},a.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},a.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?B(this,0,t):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(a.prototype[s]=a.prototype.inspect),a.prototype.compare=function(t,e,r,n,i){if(J(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError(\'The "target" argument must be one of type Buffer or Uint8Array. Received type \'+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0);const u=Math.min(s,o),h=this.slice(n,i),f=t.slice(e,r);for(let t=0;t<u;++t)if(h[t]!==f[t]){s=h[t],o=f[t];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},a.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return I(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":case"latin1":case"binary":return v(this,t,e,r);case"base64":return M(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.i||this,0)}};const S=4096;function P(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function A(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function O(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=Z[t[n]];return i}function D(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function N(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,r,n,i,s){if(!a.isBuffer(t))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(e>i||e<s)throw new RangeError(\'"value" argument is out of bounds\');if(r+n>t.length)throw new RangeError("Index out of range")}function x(t,e,r,n,i){$(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function C(t,e,r,n,i){$(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function k(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(t,e,r,n,s){return e=+e,r>>>=0,s||k(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function j(t,e,r,n,s){return e=+e,r>>>=0,s||k(t,0,r,8),i.write(t,e,r,n,52,8),r+8}a.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readBigUInt64LE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),a.prototype.readBigUInt64BE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),a.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=e,i=1,s=this[t+--n];for(;n>0&&(i*=256);)s+=this[t+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},a.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readBigInt64LE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),a.prototype.readBigInt64BE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),a.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){R(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){R(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigUInt64LE=H((function(t,e=0){return x(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=H((function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,t,e,r,n-1,-n)}let i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,t,e,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigInt64LE=H((function(t,e=0){return x(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=H((function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(t,e,r){return U(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return U(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return j(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return j(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const s=a.isBuffer(t)?t:a.from(t,n),o=s.length;if(0===o)throw new TypeError(\'The value "\'+t+\'" is invalid for argument "value"\');for(i=0;i<r-e;++i)this[i+e]=s[i%o]}return this};const X={};function z(t,e,r){X[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function $(t,e,r,n,i,s){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new X.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||L(e,t.length-(r+1))}(n,i,s)}function V(t,e){if("number"!=typeof t)throw new X.ERR_INVALID_ARG_TYPE(e,"number",t)}function L(t,e,r){if(Math.floor(t)!==t)throw V(t,r),new X.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new X.ERR_BUFFER_OUT_OF_BOUNDS;throw new X.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function G(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function J(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Y(t){return t!=t}const Z=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function H(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},181:(t,e)=>{\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\ne.read=function(t,e,r,n,i){var s,o,u=8*i-n-1,a=(1<<u)-1,h=a>>1,f=-7,c=r?i-1:0,l=r?-1:1,d=t[e+c];for(c+=l,s=d&(1<<-f)-1,d>>=-f,f+=u;f>0;s=256*s+t[e+c],c+=l,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=256*o+t[e+c],c+=l,f-=8);if(0===s)s=1-h;else{if(s===a)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=h}return(d?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,u,a,h=8*s-i-1,f=(1<<h)-1,c=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-o))<1&&(o--,a*=2),(e+=o+c>=1?l/a:l*Math.pow(2,1-c))*a>=2&&(o++,a/=2),o+c>=f?(u=0,o=f):o+c>=1?(u=(e*a-1)*Math.pow(2,i),o+=c):(u=e*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&u,d+=p,u/=256,i-=8);for(o=o<<i|u,h+=i;h>0;t[r+d]=255&o,d+=p,o/=256,h-=8);t[r+d-p]|=128*m}},264:t=>{t.exports={src:[{code:\'class RNBOPatcher{constructor(){this._currentTime=0,this.audioProcessSampleCount=0,this.sampleOffsetIntoNextAudioBuffer=0,this.vs=0,this.maxvs=0,this.sr=44100,this.invsr=2267573696e-14,this.zeroBuffer=0,this.dummyBuffer=0,this.voiceIndex=0,this.noteNumber=0}getParameterIndexForID(e){return-1}getNumMidiInputPorts(){return 0}processMidiEvent(e,t,s,r){this.updateTime(e)}getNumMidiOutputPorts(){return 0}process(e,t,s,r,i){this.vs=i,this.updateTime(this.getEngine().getCurrentTime()),this.audioProcessSampleCount=this.msToSamps(this._currentTime,this.sr)}prepareToProcess(e,t){this.vs=t,this.maxvs=t,this.zeroBuffer=resizeSignal(this.zeroBuffer,0,t),this.dummyBuffer=resizeSignal(this.dummyBuffer,0,t),this.sr=e,this.invsr=1/e}msToSamps(e,t){return rnbo_floor(e*t*.001)}sampsToMs(e){return e*(1e3*this.invsr)}getNumInputChannels(){return 0}getNumOutputChannels(){return 0}getDataRef(e){return 0}getNumDataRefs(){return 0}fillDataRef(e,t){e}processDataViewUpdate(e,t){this.updateTime(t)}initialize(e){this.assign_defaults(),this.setState(e),this.initializeObjects(e),this.allocateDataRefs(),this.startup(e)}initializeObjects(e){}allocateDataRefs(){}startup(e){}setIsMuted(e){}getPatcherSerial(){return 7}getState(e){e[eventTargetKey]=this,e[patcherSerialKey]=this.getPatcherSerial(),e.p7=1,e.p7_noteNumber=this.noteNumber}setState(e){e[patcherSerialKey]==this.getPatcherSerial()&&(containsValue(e[eventTargetKey])&&this.getEngine().updatePatcherEventTarget(e[eventTargetKey],this),containsValue(e.p7_noteNumber)&&(this.noteNumber=e.p7_noteNumber))}setParameterValue(e,t,s){this.updateTime(s)}processParameterEvent(e,t,s){this.setParameterValue(e,t,s)}processNormalizedParameterEvent(e,t,s){this.setParameterValueNormalized(e,t,s)}getParameterValue(e){return 0}getNumSignalInParameters(){return 0}getNumParameters(){return 0}getParameterName(e){return"bogus"}getParameterId(e){return"bogus"}getParameterInfo(e,t){e}sendParameter(e){this.getEngine().notifyParameterValueChanged(e,this.getParameterValue(e))}processClockEvent(e,t,s,r){this.updateTime(e)}processOutletAtCurrentTime(e,t,s){}processOutletEvent(e,t,s,r){this.updateTime(r),this.processOutletAtCurrentTime(e,t,s)}sendOutlet(e,t){this.getEngine().sendOutlet(this,e,t)}schedule(e,t){this.getEngine().scheduleClockEvent(this,e,t+this._currentTime)}scheduleValue(e,t,s){this.getEngine().scheduleClockEventWithValue(this,e,t+this._currentTime,s)}stop(e){this.getEngine().flushClockEvents(this,e,!1)}stopWithValue(e,v){this.getEngine().flushClockEventsWithValue(this,e,v,!1)}processNumMessage(e,o,t,s){this.updateTime(t)}processListMessage(e,o,t,s){this.updateTime(t)}resolveTag(e){return""}sendMidiEvent(e,t,s,r){this.getEngine().sendMidiEvent(e,t,s,r)}sendMidiEventList(e,t){this.getEngine().sendMidiEventList(e,t)}updateTime(e){this._currentTime=e,this.sampleOffsetIntoNextAudioBuffer=this.msToSamps(e,this.sr)-this.vs-this.audioProcessSampleCount}assign_defaults(){}setEngineAndPatcher(e,t){this._engineInterface=e,this._parentPatcher=t}getEngine(){return this._engineInterface}getPatcher(){return this._parentPatcher}}rnboObj=new RNBOPatcher;\',encoding:"utf-8",type:"js"}],options:{classname:"rnbomatic",minifyOutput:!0},desc:{parameters:[],numParameters:0,numSignalInParameters:0,layouts:[{name:"layout",boxes:[]}],numInputChannels:0,numOutputChannels:0,patcherSerial:0,externalDataRefs:[]}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](r,r.exports,__webpack_require__),r.exports}var __webpack_exports__={};(()=>{var t;function e(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{a(n.next(t))}catch(t){s(t)}}function u(t){try{a(n.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,u)}a((n=n.apply(t,e||[])).next())}))}!function(t){t[t.Float32Audio=0]="Float32Audio",t[t.TypedArray=1]="TypedArray"}(t||(t={}));class r{constructor(){this.type=t.TypedArray}serialize(){return{type:this.type}}}class n{constructor(e,r){this.channels=0,this.sampleRate=0,this.type=t.Float32Audio,this.channels=e,this.sampleRate=r}static fromAudioBuffer(t){return new n(t.numberOfChannels,t.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}var i,s;!function(t){t[t.Inport=0]="Inport",t[t.Outport=1]="Outport",t[t.Undefined=2]="Undefined"}(i||(i={})),function(t){t[t.STOPPED=0]="STOPPED",t[t.RUNNING=1]="RUNNING"}(s||(s={}));(()=>{try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const t=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly.Module)return new WebAssembly.Instance(t)instanceof WebAssembly.Instance}}catch(t){}})();"undefined"!=typeof isSecureContext&&isSecureContext;Math.pow(10,4);const o=t=>t.slice();class u{constructor(){this.o=[],this.u=[]}get listenerCount(){return this.o.length+this.u.length}emit(t){if(this.o.length){const e=o(this.o);for(let r=0,n=e.length;r<n;r++)e[r](t)}if(this.u.length){const e=o(this.u);for(let r=0,n=e.length;r<n;r++)e[r](t);e.forEach((t=>this.unsubscribe(t)))}}once(t){return this.u.push(t),{unsubscribe:()=>this.unsubscribe(t)}}subscribe(t){return this.o.push(t),{unsubscribe:()=>this.unsubscribe(t)}}unsubscribe(t){const e=this.o.indexOf(t);e>=0&&this.o.splice(e,1);const r=this.u.indexOf(t);r>=0&&this.u.splice(r,1)}removeAllSubscriptions(){this.o=[],this.u=[]}}var a=__webpack_require__(133);class h{constructor(){this.h=0,this.l=44100,this.p=64,this.outgoingEvent=new u,this.parameterChangeEvent=new u,this.m=this.sampsToMs(this.p)}static getNonConversionObject(){return{applyStepsToNormalizedParameterValue:function(t){return t},convertToNormalizedParameterValue:function(t){return t},convertFromNormalizedParameterValue:function(t){return t},getNumParameters:function(){return 0},constrainParameterValue:function(t){return t},isPolyphonic:!1,subpatches:[]}}static deserializeConversion(t){if(t){const e={},r=Object.keys(t);for(let n=0;n<r.length;n++){const i=r[n];if("subpatches"===i){const r=Object.keys(t.subpatches);for(let n=0;n<r.length;n++){const i=r[n],s=t.subpatches[i],o=h.deserializeConversion(s);s.isPolyphonic?e[i]=[o]:e[i]=o}}else e[i]=a.evalFunction(t[i])}return e}return this.getNonConversionObject()}getSampleRate(){return this.l}getSamplesPerBlock(){return this.p}sampsToMs(t){return t/this.l*1e3}getNumInputChannels(){return this.g?this.g.numInputChannels:0}getNumOutputChannels(){return this.g?this.g.numOutputChannels:0}getNumMIDIInputPorts(){return this.g?this.g.numMidiInputPorts:0}getNumMIDIOutputPorts(){return this.g?this.g.numMidiOutputPorts:0}getNumParameters(){return this.g?this.g.numParameters:0}getNumSignalInParameters(){return this.g?this.g.numSignalInParameters:0}getNumSignalOutParameters(){return this.g?this.g.numSignalOutParameters:0}getPatcherSerial(){return void 0!==this.g?this.g.patcherSerial:0}getParameterName(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);return this.g.parameters[t].name}getParameterId(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);return this.g.parameters[t].paramId}getParameterToNormalizedFunction(t){return e=>this._.convertToNormalizedParameterValue(t,e)}getParameterFromNormalizedFunction(t){return e=>this._.convertFromNormalizedParameterValue(t,e)}constrainParameterValue(t){return e=>this._.constrainParameterValue(t,e)}getParameterInfo(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);const e=this.g.parameters[t];let r,n;switch(e.type){case"ParameterTypeBang":n=a.ParameterTypeBang;break;case"ParameterTypeCount":n=a.ParameterTypeCount;break;case"ParameterTypeList":n=a.ParameterTypeList;break;case"ParameterTypeNumber":n=a.ParameterTypeNumber;break;case"ParameterTypeSignal":n=a.ParameterTypeSignal;break;default:throw new Error(`Unknown Parameter Type from patcher description ${e.type}`)}switch(e.ioType){case"IOTypeInput":r=a.IOTypeInput;break;case"IOTypeOutput":r=a.IOTypeOutput;break;case"IOTypeUndefined":r=a.IOTypeUndefined;break;default:throw new Error(`Unknown Parameter IOType from patcher description ${e.type}`)}return{displayName:e.displayName,enumValues:e.enumValues,exponent:e.exponent,id:e.paramId,index:t,initialValue:e.initialValue,ioType:r,isEnum:e.isEnum,max:e.maximum,min:e.minimum,name:e.name,signalIndex:e.signalIndex,steps:e.steps,type:n,unit:e.unit,visible:e.visible}}getNumExternalDataRefs(){return void 0!==this.g?this.g.externalDataRefs.length:0}getExternalDataId(t){return void 0!==this.g?this.g.externalDataRefs[t].id:""}getExternalDataRefIds(){let t;return this.g&&(t=[],Object.keys(this.g.externalDataRefs).forEach((e=>{let r=this.g.externalDataRefs[e];t.push(r.id)}))),t}getExternalDataRefInfos(){return void 0!==this.g?this.g.externalDataRefs:[]}getNumMessages(){return void 0!==this.g?this.g.inports.length+this.g.outports.length:0}getMessageInfos(){let t=[];return void 0!==this.g&&(Object.keys(this.g.outports).forEach((e=>{t.push({tag:this.g.outports[e].tag,type:i.Outport,meta:this.g.outports[e].meta})})),Object.keys(this.g.inports).forEach((e=>{t.push({tag:this.g.inports[e].tag,type:i.Inport,meta:this.g.inports[e].meta})}))),t}removeAllSubscriptions(){this.outgoingEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}invalidateProcessor(){}setPatcherDesc(t){return e(this,void 0,void 0,(function*(){this.g=t,this._=h.deserializeConversion(this.g.paramConversion)}))}}var f,c,l,d;!function(t){t[t.BufferTransfer=0]="BufferTransfer",t[t.ClockEvent=1]="ClockEvent",t[t.DataRefEvent=2]="DataRefEvent",t[t.MessageEvent=3]="MessageEvent",t[t.MIDIEvent=4]="MIDIEvent",t[t.ParameterEvent=5]="ParameterEvent",t[t.ParameterBangEvent=6]="ParameterBangEvent",t[t.PresetEvent=7]="PresetEvent",t[t.StartupEvent=8]="StartupEvent",t[t.TransportEvent=9]="TransportEvent",t[t.TempoEvent=10]="TempoEvent",t[t.BeatTimeEvent=11]="BeatTimeEvent",t[t.TimeSignatureEvent=12]="TimeSignatureEvent"}(f||(f={}));class p{constructor(t=0,e){this.invalid=!1,this.time=t,this.eventTarget=e}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}class m extends p{constructor(t,e,r,n){super(t,n),this.type=f.ClockEvent,this.clockIndex=e,this.value=r}get hasValue(){return void 0!==this.value}serialize(){return Object.assign(super.serialize(),{clockIndex:this.clockIndex,type:this.type,value:this.value})}}!function(t){t[t.Update=1]="Update"}(c||(c={}));class g extends p{constructor(t,e,r,n){super(t,n),this.type=f.DataRefEvent,this.dataRefIndex=e,this.action=r}serialize(){return Object.assign(super.serialize(),{action:this.action,dataRefIndex:this.dataRefIndex,type:this.type})}}class _ extends p{constructor(t,e,r,n="",i){super(t,i),this.type=f.MessageEvent,this.objectId=n,this.tag=e,this.payload=r}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class y extends p{constructor(t,e,r,n){if(super(t,n),this.type=f.MIDIEvent,r.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${r.length}`);if(this.data=r,this.data.length<3){const t=r.length;this.data.length=3,this.data=this.data.fill(void 0,t,3)}let i=0;for(let t=0;t<3;t++)void 0!==r[t]&&i++;if(i<1)throw new Error("MIDIData must at least have the first byte set.");this.length=i,this.status=240&r[0],this.channel=15&r[0],this.port=e}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class b extends p{constructor(t,e,r,n,i){super(t,i),this.type=f.ParameterEvent,this.target=e,this.value=r,this.source=n}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}class I extends p{constructor(t,e,r){super(t,r),this.type=f.ParameterBangEvent,this.target=e}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type})}}!function(t){t[t.Set=1]="Set",t[t.Touched=2]="Touched"}(l||(l={}));class w extends p{constructor(t,e,r){super(t,void 0),this.type=f.PresetEvent,this.action=e,this.preset=r}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}class v extends p{constructor(t,e){super(t,void 0),this.type=f.TransportEvent,this.state=e}serialize(){return Object.assign(super.serialize(),{state:this.state,type:this.type})}}class M extends p{constructor(t,e){super(t,void 0),this.type=f.TempoEvent,this.tempo=e}serialize(){return Object.assign(super.serialize(),{tempo:this.tempo,type:this.type})}}class E extends p{constructor(t,e){super(t,void 0),this.type=f.BeatTimeEvent,this.beattime=e}serialize(){return Object.assign(super.serialize(),{beattime:this.beattime,type:this.type})}}class T extends p{constructor(t,e,r){super(t,void 0),this.type=f.TimeSignatureEvent,this.numerator=e,this.denominator=r}serialize(){return Object.assign(super.serialize(),{numerator:this.numerator,denominator:this.denominator,type:this.type})}}!function(t){t[t.BEGIN=0]="BEGIN",t[t.END=1]="END"}(d||(d={}));class B extends p{constructor(t,e){super(t,void 0),this.type=f.StartupEvent,this.phase=e}serialize(){return Object.assign(super.serialize(),{phase:this.phase,type:this.type})}}const S=__webpack_require__(264);function P(t,e){return t.time-e.time}function A(t){t.sort(P)}class O extends h{constructor(){super(),this.I=!1,this.v=!1,this.M=void 0,this.T=-1,this.B=[],this.I=!1,this.setPatcherDesc(S.desc),this.setPatcherCode(S.src[0].code)}S(t){const e=t.eventTarget||this.P;if(t.time=Math.max(t.time,this.h),this.M=t,t.type===f.ParameterEvent){const r=t;e.setParameterValue(r.target,r.value,t.time)}else if(t.type===f.ParameterBangEvent){const r=t;e.processParameterBangEvent(r.target,t.time)}else if(t.type===f.MIDIEvent){const r=t;e.processMidiEvent(r.time,r.port,r.data,r.length)}else if(t.type===f.ClockEvent){const r=t;e.processClockEvent(r.time,r.clockIndex,r.hasValue,r.value)}else if(t.type===f.DataRefEvent){const r=t;r.action===c.Update&&e.processDataViewUpdate(r.dataRefIndex,r.time)}else if(t.type===f.MessageEvent){const r=t;Array.isArray(r.payload)?e.processListMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time,r.payload):void 0===r.payload?e.processBangMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time):e.processNumMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time,r.payload)}else if(t.type===f.PresetEvent){const e=t;e.action===l.Set&&(this.v=!0,this.P.setPreset(e.time,e.preset),this.v=!1)}else if(t.type===f.TransportEvent){const e=t;this.P.processTransportEvent(e.time,e.state)}else if(t.type===f.TempoEvent){const e=t;this.P.processTempoEvent(e.time,e.tempo)}else if(t.type===f.BeatTimeEvent){const e=t;this.P.processBeatTimeEvent(e.time,e.beattime)}else if(t.type===f.TimeSignatureEvent){const e=t;this.P.processTimeSignatureEvent(e.time,e.numerator,e.denominator)}else if(t.type===f.StartupEvent){const e=t;this.v=e.phase===d.BEGIN}this.M=void 0}getCurrentTime(){return this.h}setCurrentTime(t){this.h=t}prepareToProcess(t,e,r){(r||t!==this.l||e!==this.p)&&(this.l=t,this.p=e,this.m=this.sampsToMs(this.p),this.isSync&&this.P.prepareToProcess(this.l,this.p))}process(t,e,r,n,i,s,o){const u=Math.min(e,this.getNumInputChannels()+this.getNumSignalInParameters()),a=Math.min(n,this.getNumOutputChannels()),h=Math.min(i,this.p);for(this.T=this.h+this.m,void 0!==this.midiInput&&(this.B.push.apply(this.B,s),this.I=!0),this.I&&(A(this.B),this.I=!1);this.B.length>0&&this.B[0].time<this.T;)this.S(this.B.shift());this.P.process(t,u,r,a,h),this.h=this.T,this.T=-1}scheduleMidiEvent(t,e){this.scheduleEvent(new y(this.h,t,e,this.P))}notifyParameterValueChanged(t,e){let r=this.M?this.M.source:void 0;this.parameterChangeEvent.emit(new b(this.getCurrentTime(),t,e,r))}scheduleParameterChange(t,e,r){this.scheduleEvent(new b(this.getCurrentTime(),t,e,void 0))}scheduleParameterBang(t,e){this.scheduleEvent(new I(this.getCurrentTime(),t))}sendNumMessage(t,e,r){const n=new _(this.h,this.P.resolveTag(t),r,this.P.resolveTag(e));this.outgoingEvent.emit(n)}sendBangMessage(t,e){const r=new _(this.h,this.P.resolveTag(t),void 0,this.P.resolveTag(e));this.outgoingEvent.emit(r)}sendListMessage(t,e,r){const n=new _(this.h,this.P.resolveTag(t),r,this.P.resolveTag(e));this.outgoingEvent.emit(n)}getParameterValue(t){return this.P.getParameterValue(t)}flushClockEvents(t,e,r){this.flushClockEventsWithValue(t,e,void 0,r)}flushClockEventsWithValue(t,e,r,n){for(let i=0;i<this.B.length;i++)if(this.B[i]instanceof m){const s=this.B[i];s.eventTarget!==t||s.clockIndex!==e&&void 0!==s.clockIndex||void 0!==r&&s.value!==r||(this.B.splice(i,1),n&&this.S(s),i--)}}deleteClockEvents(t){this.flushClockEvents(t,void 0,!1)}scheduleClockEvent(t,e,r){this.scheduleClockEventWithValue(t,e,r,void 0)}scheduleClockEventWithValue(t,e,r,n){this.scheduleEvent(new m(r,e,n,t))}sendMidiEvent(t,e,r,n){const i=new y(this.getCurrentTime(),t,[e,r,n],void 0);this.outgoingEvent.emit(i)}sendMidiEventList(t,e){let r;for(r=2;r<e.length;r+=3)this.sendMidiEvent(t,e[r-2],e[r-1],e[r]);if(r-=3,r<e.length){var n=r-e.length;this.sendMidiEvent(t,e[r],n>1?e[r+1]:void 0,n>2?e[r+2]:void 0)}}sendOutlet(t,e,r){console.log("sendOutlet",t,e,r)}updatePatcherEventTarget(t,e){for(let r=0;r<this.B.length;r++)this.B[r].eventTarget===t&&(this.B[r].eventTarget=e,this.B[r].invalid=!1)}rescheduleEventTarget(t){for(let e=0;e<this.B.length;e++)this.B[e].eventTarget===t&&(this.B[e].invalid=!1)}isInProcess(){return this.T>-1}sendDataRefUpdated(t){this.scheduleEvent(new g(this.getCurrentTime(),t,c.Update,this.P))}get isSync(){return!0}scheduleEvent(t){this.B.push(t),this.isInProcess()?A(this.B):this.I=!0}setPatcherCode(t){return e(this,void 0,void 0,(function*(){const e={};this.P&&this.P.getState(e),this.P=a.deserializeSrc(t);for(let t=0;t<this.B.length;t++)this.B[t].eventTarget&&(this.B[t].invalid=!0);this.P.setEngineAndPatcher(this,null),this.scheduleEvent(new B(this.h,d.BEGIN)),this.P.initialize(e),this.scheduleEvent(new B(this.h,d.END)),this.P.prepareToProcess(this.l,this.p,!0);for(let t=this.B.length-1;t>=0;t--)this.B[t].invalid&&this.B.splice(t,1)}))}setExternalData(t,r,i){return e(this,void 0,void 0,(function*(){const e=this.P.getNumDataRefs();for(let s=0;s<e;s++){const e=this.P.getDataRef(s);if(e.name==t){e.arrayBuffer=r,i instanceof n&&(e.channels=i.channels,e.sampleRate=i.sampleRate),this.sendDataRefUpdated(s);break}}}))}releaseExternalData(t){return e(this,void 0,void 0,(function*(){const e=this.P.getNumDataRefs();let i,s;for(let o=0;o<e;o++){const e=this.P.getDataRef(o);if(e.name==t){i=e.arrayBuffer,e.arrayBuffer=new ArrayBuffer(0),e.channels?(s=new n(e.channels,e.sampleRate),e.channels=0,e.sampleRate=0):s=new r,this.sendDataRefUpdated(o);break}}if(!i)throw new Error(`Invalid DataBuffer. No DataBuffer with id ${t} found.`);return{data:i,typeDesc:s}}))}getPreset(){return e(this,void 0,void 0,(function*(){let t={};return this.P.getPreset(t),t}))}setPreset(t){this.scheduleEvent(new w(this.h,l.Set,t))}presetTouched(){this.v||this.outgoingEvent.emit(new w(this.h,l.Touched,void 0))}}var D,N;function R(t){return class extends t{constructor(...t){super(),this.changeEvent=new u,this.A=new u;const e=t[0];this.O=e.notificationSetting,this.convertFromNormalizedValue=e.scaling.convertFromNormalized,this.convertToNormalizedValue=e.scaling.convertToNormalized,this.constrainParameterValue=e.scaling.constrainParameterValue,this.initialValue=e.initialValue,this.D=e.initialValue,this.displayName=e.displayName||e.name,this.exponent=e.exponent,this.id=e.id,this.index=e.index,this.min=e.min,this.max=e.max,this.name=e.name,this.steps=e.steps,this.unit=e.unit||""}get notificationSetting(){return this.O}get normalizedValue(){return this.convertToNormalizedValue(this.D)}set normalizedValue(t){this.N(this.convertFromNormalizedValue(t))}R(t){this.O=t}N(t){t=this.constrainParameterValue(t),this.D!==t&&(this.D=t,this.A.emit(this),this.notificationSetting===N.All&&this.changeEvent.emit(t))}C(t){this.D=t,this.changeEvent.emit(t)}}}!function(t){t[t.Number=0]="Number",t[t.Bang=1]="Bang",t[t.List=2]="List",t[t.Signal=3]="Signal",t[t.Count=4]="Count",t[t.Enum=5]="Enum"}(D||(D={})),function(t){t[t.All=0]="All",t[t.Internal=1]="Internal"}(N||(N={}));R(Object);R(Object);R(Object);class x{constructor(){this.k={},this.U=new Float32Array(128)}addParam(t,e){t.type==a.ParameterTypeSignal&&t.ioType===a.IOTypeInput&&(this.k[t.signalIndex]={name:e,param:new Float32Array(128)})}getParamName(t){let e=this.k[t];return void 0!==e?e.name:void 0}getParamArray(t,e,r){if(e.length==r)return e;{let n=this.k[t];return n.param.length!=r&&(n.param=new Float32Array(r)),n.param.fill(e[0])}}}var C,k;!function(t){t[t.LoadPatcher=0]="LoadPatcher",t[t.ScheduleEvent=1]="ScheduleEvent",t[t.TransferBuffer=2]="TransferBuffer",t[t.ReleaseBuffer=3]="ReleaseBuffer",t[t.SetPreset=4]="SetPreset",t[t.GetPreset=5]="GetPreset",t[t.Invalidate=6]="Invalidate"}(C||(C={})),function(t){t[t.LoadPatcherFinished=1e3]="LoadPatcherFinished",t[t.OutgoingEvent=1002]="OutgoingEvent",t[t.ReleasedBuffer=1003]="ReleasedBuffer",t[t.TransferBufferFinished=1004]="TransferBufferFinished",t[t.GetPresetResponse=1005]="GetPresetResponse"}(k||(k={}));var U=__webpack_require__(834).Buffer;const j=JSON.parse(U.from("XXXX___RNBOPATCHERDESC_REPLACE___XXXX","base64").toString("utf-8")),X=U.from("XXXX___RNBOPATCHERSRC_REPLACE___XXXX","base64").toString("utf-8");class z extends AudioWorkletProcessor{constructor(i){super(i),this.j=new O,this.X=[],this.F=[],this.$=new x,this.V=i=>e(this,void 0,void 0,(function*(){switch(i.data[0]){case C.LoadPatcher:yield this.j.setPatcherDesc(j),yield this.j.setPatcherCode(X);for(let t=0;t<this.j.getNumParameters();t++){const e=this.j.getParameterInfo(t);this.$.addParam(e,this.j.getParameterName(t))}this.X=new Array(this.j.getNumInputChannels()+this.j.getNumSignalInParameters()),this.F=new Array(this.j.getNumOutputChannels()+this.j.getNumSignalOutParameters()),this.j.process([],0,[[]],1,0),this.port.postMessage([k.LoadPatcherFinished]);break;case C.ScheduleEvent:this.j.scheduleEvent((t=>{switch(t.type){case f.ClockEvent:return new m(t.time,t.clockIndex,t.value,t.eventTarget);case f.DataRefEvent:return new g(t.time,t.dataRefIndex,t.action,t.eventTarget);case f.MessageEvent:return new _(t.time,t.tag,t.payload,t.objectId,t.eventTarget);case f.MIDIEvent:return new y(t.time,t.port,t.data,t.eventTarget);case f.ParameterEvent:return new b(t.time,t.target,t.value,t.source,t.eventTarget);case f.ParameterBangEvent:return new I(t.time,t.target,t.eventTarget);case f.PresetEvent:return new w(t.time,t.action,t.preset);case f.TransportEvent:return new v(t.time,t.state);case f.TempoEvent:return new M(t.time,t.tempo);case f.BeatTimeEvent:return new E(t.time,t.beattime);case f.TimeSignatureEvent:return new T(t.time,t.numerator,t.denominator);case f.StartupEvent:return new B(t.time,t.phase);default:throw new Error(`Unable to deserialize RNBOEvent of type ${t.type}`)}})(i.data[1]));break;case C.TransferBuffer:{const e=i.data[1];this.j.setExternalData(e.memoryId,e.data,(e=>{switch(e.type){case t.Float32Audio:return new n(e.channels,e.sampleRate);case t.TypedArray:return new r;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${e.type}`)}})(e.typeDesc)),this.port.postMessage([k.TransferBufferFinished,{memoryId:e.memoryId}]);break}case C.ReleaseBuffer:{const t=i.data[1],{data:e,typeDesc:r}=yield this.j.releaseExternalData(t.memoryId);this.port.postMessage([k.ReleasedBuffer,{memoryId:t.memoryId,data:e,typeDesc:r.serialize()}],[e]);break}case C.GetPreset:{const t=yield this.j.getPreset();this.port.postMessage([k.GetPresetResponse,{preset:t}]);break}case C.SetPreset:{const t=i.data[1];this.j.setPreset(t.preset)}}})),this.L=t=>{this.port.postMessage([k.OutgoingEvent,t.serialize()])},this.q=t=>{this.port.postMessage([k.OutgoingEvent,t.serialize()])},this.j.outgoingEvent.subscribe(this.L),this.j.parameterChangeEvent.subscribe(this.q),this.port.onmessage=this.V,this.port.start()}static get parameterDescriptors(){return XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX}process(t,e,r){let n,i,s=0,o=0;for(n=0;n<t.length;n++){const e=t[n];for(i=0;i<e.length&&(s<this.X.length&&e[i].length);i++)this.X[s]=e[i],s++}for(n=0;n<e.length;n++){const t=e[n];for(i=0;i<t.length&&o<this.F.length;i++)this.F[o]=t[i],o++}let u=0;o>0&&this.F.length&&this.F[0]?u=this.F[0].length:e.length&&e[0]&&e[0].length&&e[0][0]?u=e[0][0].length:s>0&&this.X.length&&this.X[0]?u=this.X[0].length:t.length&&t[0]&&t[0].length&&t[0][0]&&(u=t[0][0].length),u||(u=128);for(let t=s;t<this.X.length;t++){const e=this.$.getParamName(t);void 0!==e&&(this.X[t]=this.$.getParamArray(t,r[e],u),s++)}return this.j.setCurrentTime(1e3*currentTime),this.j.prepareToProcess(sampleRate,u),this.j.process(this.X,s,this.F,o,u),!0}}let F="XXXX---RNBOPROCESSORNAME_REPLACE---XXXX";F.startsWith("XXXX---RNBOPROCESSORNAME_REPLACE---")&&(F="RNBOProcessor"),registerProcessor(F,z)})()})();',wasm:'(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{var Float32Buffer=__webpack_require__(852).Float32Buffer,Float64Buffer=__webpack_require__(852).Float64Buffer,Float32MultiBuffer=__webpack_require__(852).Float32MultiBuffer,Float64MultiBuffer=__webpack_require__(852).Float64MultiBuffer,IntBuffer=__webpack_require__(852).IntBuffer,UInt8Buffer=__webpack_require__(852).UInt8Buffer,ExternalLoaderFactory=__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var patcherSerialKey="XX__PatcherSerialKey__XX",eventTargetKey="XX__EventTargetKey__XX",ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2,INVALID_INDEX=Number.MAX_SAFE_INTEGER;function globalrandom(){return Math.random()}function pi01(){return Math.PI}var rnbo_abs=Math.abs,rnbo_fabs=Math.abs,rnbo_acos=Math.acos,rnbo_acosh=Math.acosh,rnbo_asin=Math.asin,rnbo_asinh=Math.asinh,rnbo_atan=Math.atan,rnbo_atan2=Math.atan2,rnbo_atanh=Math.atanh,rnbo_cbrt=Math.cbrt,rnbo_ceil=Math.ceil,rnbo_cos=Math.cos,rnbo_cosh=Math.cosh,rnbo_exp=Math.exp,rnbo_expm1=Math.expm1,rnbo_floor=Math.floor,rnbo_fround=Math.round,rnbo_imul=Math.imul,rnbo_log=Math.log,rnbo_log10=Math.log10,rnbo_log1p=Math.log1p,rnbo_log2=Math.log2,rnbo_pow=Math.pow,rnbo_round=rnbo_fround,rnbo_sign=Math.sign,rnbo_sin=Math.sin,rnbo_sinh=Math.sinh,rnbo_sqrt=Math.sqrt,rnbo_tan=Math.tan,rnbo_tanh=Math.tanh,trunc=Math.trunc,rnbo_trunc=Math.trunc,rnbo_number_max=()=>Math.MAX_VALUE,rnbo_isnan=isNaN;function fixnan(t){return isNaN(t)?0:t}function fract(t){return t%1}function fixdenorm(t){return t}function isdenorm(t){return!1}var fastsin=Math.sin,fastcos=Math.cos,fastexp=Math.exp,fastpow=Math.pow,fasttan=Math.tan;function nextpoweroftwo(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1)}var MAX_32BIT_INT=Math.pow(2,32);function uint32_add(t,e){var n=t+e;return n>=MAX_32BIT_INT&&(n-=MAX_32BIT_INT),Math.trunc(n)}function uint32_trunc(t){return t>>>0}function uint32_rshift(t,e){return t>>>e}function imod(t,e){return(0|t)%(0|e)}function imod_nocast(t,e){return t%e}function getArrayValueAtIndex(t,e){return t[e]}function allocateArray(t,e){return new Array(t)}function createListCopy(t){return t.slice(0)}function jsCreateListCopy(t){return createListCopy(t)}function list(){let t=[];for(let e=0;e<arguments.length;e++){let n=arguments[e];if(Array.isArray(n))for(let e=0;e<n.length;e++)t.push(n[e]);else t.push(n)}return t}function resizeSignal(t,e,n){for(var r=t||[],i=e;i<n;i++)r[i]=0;return r}function zeroSignal(t,e){t&&t.fill(0)}function fillSignal(t,e,n,r){t&&t.fill(n,r)}function copySignal(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function containsValue(t){return void 0!==t}function addressOf(t){return t}function systemticks(){return Date.now()}function bitwiseFloat(t){var e=new Uint32Array(1);return e[0]=t,new DataView(e.buffer).getFloat32(0,!0)}function imul(t,e){return Math.imul(t,e)}var MIDI_StatusByteReceived=1,MIDI_SecondByteReceived=2,MIDI_NoteOff=3,MIDI_NoteOn=4,MIDI_Aftertouch=5,MIDI_CC=6,MIDI_ProgramChange=7,MIDI_ChannelPressure=8,MIDI_PitchBend=9,MIDI_Sysex_Started=10,MIDI_Sysex_Complete=11,MIDI_Generic=99,MIDI_InvalidByte=-1,MIDI_NoteOffMask=128,MIDI_NoteOnMask=144,MIDI_AfterTouchMask=160,MIDI_CCMask=176,MIDI_ProgramChangeMask=192,MIDI_ChannelPressureMask=208,MIDI_PitchBendMask=224,MIDI_QuarterFrame=241,MIDI_SongPos=242,MIDI_SongSel=243,MIDI_TuneRequest=246,MIDI_SysexStart=240,MIDI_SysexEnd=247,MIDI_Clock=248,MIDI_Start=250,MIDI_Continue=251,MIDI_Stop=252,MIDI_ActiveSense=254,MIDI_Reset=255,MIDI_CC_Sustain=64,MIDI_CC_Sostenuto=66,MIDI_CC_AllNotesOff=123,MIDI_CC_PressureMSB=70,MIDI_CC_PressureLSB=102,MIDI_CC_TimbreMSB=74,MIDI_CC_TimbreLSB=106,MIDI_NoteState_Off=0,MIDI_NoteState_On=1,MIDI_NoteState_Sustained=2,CLOCKS_PER_SEC=1;function parseMidi(t,e,n){if(240==e)return MIDI_Sysex_Started;if(t==MIDI_Sysex_Started)return 247==e?MIDI_Sysex_Complete:e<=127?t:MIDI_InvalidByte;if(e>127)return MIDI_StatusByteReceived;var r=240&n;return t==MIDI_StatusByteReceived?r==MIDI_ProgramChangeMask?MIDI_ProgramChange:r==MIDI_ChannelPressureMask?MIDI_ChannelPressure:MIDI_SecondByteReceived:t==MIDI_SecondByteReceived?r==MIDI_NoteOffMask||r==MIDI_NoteOnMask&&0==e?MIDI_NoteOff:r==MIDI_NoteOnMask?MIDI_NoteOn:r==MIDI_AfterTouchMask?MIDI_Aftertouch:r==MIDI_CCMask?MIDI_CC:r==MIDI_PitchBendMask?MIDI_PitchBend:MIDI_Generic:t}function getMIDIChannel(t){var e=240&t;return e>=128&&e<=224?15&t:0}function initDataRef(t,e){var n={};return n.name=t,n.isValid=!1,n.wantsFillFlag=!1,n.bytesToAllocate=0,n.channels=0,n.sampleRate=0,n.internal=e,n.index=-1,n.wantsFill=function(){return this.wantsFillFlag},n.setWantsFill=function(t){this.wantsFillFlag=t},n.requestSizeInBytes=function(t,e){(t>this.bytesToAllocate||e)&&(this.bytesToAllocate=t)},n.getRequestedSizeInBytes=function(){return this.bytesToAllocate},n.resetRequestedSizeInByte=function(){this.bytesToAllocate=0},n.getSizeInBytes=function(){return this.arrayBuffer.byteLength},n.hasRequestedSize=function(){return this.bytesToAllocate>0},n.isInternal=function(){return this.internal},n.getIndex=function(){return this.index},n.setIndex=function(t){this.index=t},n.clear=function(){n.arrayBuffer=new ArrayBuffer(0)},n.clear(),n}function initMultiRef(){var t={index:0,current:0,dataRefs:[],count:0};for(let e=0;e<arguments.length;e++)t.dataRefs.push(arguments[e]),t.count++;return t.setCurrent=function(t){t>=0&&t<this.count&&(this.current=t)},t.getIndex=function(){return this.index},t.setIndex=function(t){this.index=t},t}function updateMultiRef(t,e,n){e.setCurrent&&e.getIndex&&(e.setCurrent(n),t.getEngine().sendDataRefUpdated(e.getIndex()))}function updateDataRef(t,e){t.getEngine().sendDataRefUpdated(e.getIndex())}function FIXEDSIZEARRAYINIT(){let t=arguments[0];if(void 0!==t){let e=new Array(t);if(e.fill(0),void 0!==arguments[1]){let n=Array.from(arguments);n.splice(0,1);for(let r=0;r<t;r++)e[r]=FIXEDSIZEARRAYINIT.apply(null,n)}return e}return new Array}function TAG(t){let e=0;for(let n=0;n<t.length;n++){e=t.charCodeAt(n)+(e<<6)+(e<<16)-e}return 0|e}function serializeArrayToList(t,e){return t}function deserializeArrayFromList(t,e,n){t}function serializeDataRef(t){return t.resetRequestedSizeInByte(),t}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}function getSubState(t,e){return void 0===t[e]&&(t[e]={}),t[e]}function getSubStateAt(t,e,n){return void 0===t[e]&&(t[e]=[]),void 0===t[e][n]&&(t[e][n]={}),t[e][n]}function stateIsEmpty(t){return 0===Object.keys(t).length}function TransportState(t){return t}function RNBO_UNUSED(){}let xoshiro_reset=Xoshiro.reset,xoshiro_next=Xoshiro.next;module.exports={deserializeSrc:function(t){return _evalSrc(t)},deserializeJSON:function(t){var e=t;return"string"==typeof e&&(e={src:t}),_evalSrc(e.src)},extractOptionsFromJSON:function(t){var e=t;return"string"==typeof e&&(e=JSON.parse(t)),e.options?e.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:t=>{function e(){let t=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,e=this.getChannels();return e?t/e:0}function n(t,e){let n=t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e;this.requestedChannels=e,this.dataRef.requestSizeInBytes(n,!1)}function r(t,e){return this[this.getChannels()*Math.floor(e)+t]}function i(t,e){const n=this.getChannels();return t<0||t>=n||e<0||e>=this.getSize()?0:this[n*Math.floor(e)+t]}function s(t,e,n){this[this.getChannels()*Math.floor(e)+t]=n}function a(t,e,n){const r=this.getChannels();t<0||t>=r||e<0||e>=this.getSize()||(this[r*Math.floor(e)+t]=n)}function o(){return this.dataRef.channels}function u(){return this.dataRef.sampleRate}function h(t){this.dataRef.sampleRate=t}function c(){this.dataRef.clear()}function f(t){if(t!==this.dataRef.channels){let e=this.getSize();return this.clear(),this.dataRef.channels=t,this.setSize(e)}return this}function _(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&0!==this.requestedChannels&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let t;if(this.dataRef.isInternallyAllocated){let e=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);e/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,t=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,e)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let e=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return t?e.set(t):this.dataRef.wantsFillFlag=!0,y(e,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&m(e),e}return this}function l(t){let e=this.getChannels();return this.requestedChannels=e,this.dataRef.requestSizeInBytes(t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e,!0),this.allocateIfNeeded()}function I(){this.fill&&this.fill(0)}function M(){return this.touched}function b(t){this.touched=t}function p(t){this.dataRef.setWantsFill(t)}function d(){return this.dataRef.getIndex()}function y(t,r,i){t.dataRef=r,t.BASEARRAYVIEW=i,t.getSize=e,t.requestSize=n,t.setSize=l,t.allocateIfNeeded=_,t.setZero=I,t.clear=c,t.getChannels=o,t.getSampleRate=u,t.setWantsFill=p,t.getIndex=d,r.setZero=function(){t.setZero()},t.touched=!1,t.getTouched=M,t.setTouched=b}function m(t){t.getSample=r,t.getSampleSafe=i,t.setSample=s,t.setSampleSafe=a,t.setChannels=f,t.setSampleRate=h,t.isAudioBuffer=!0,t.requestedChannels=0}let v=function(t,e){let n;return n=t.arrayBuffer?new e(t.arrayBuffer):{},y(n,t,e),n};(v.prototype=Object.create(null)).constructor=v;let D=function(t,e){let n=v.call(this,t,e);return m(n),n};(D.prototype=Object.create(v)).constructor=D;let S=function(t){return D.call(this,t,Float32Array)};(S.prototype=Object.create(D.prototype)).constructor=S;let w=function(t){return D.call(this,t,Float64Array)};(w.prototype=Object.create(D.prototype)).constructor=w;let A=function(t,e){let n=new e(t.dataRefs[t.current]);return n.multiRef=t,n.setCurrent=function(t){this.multiRef.setCurrent(Math.round(t))},n.getIndex=function(){return this.multiRef.getIndex()},n};A.prototype=Object.create(null),A.constructor=A;let g=function(t){return A.call(this,t,S)};(g.prototype=Object.create(A.prototype)).constructor=g;let O=function(t){return A.call(this,t,w)};(O.prototype=Object.create(A.prototype)).constructor=O;let P=function(t){return v.call(this,t,Int32Array)};(P.prototype=Object.create(v.prototype)).constructor=P;let T=function(t){return v.call(this,t,Uint8Array)};(T.prototype=Object.create(v.prototype)).constructor=T,t.exports={Float32Buffer:S,Float64Buffer:w,Float32MultiBuffer:g,Float64MultiBuffer:O,IntBuffer:P,UInt8Buffer:T}},126:t=>{var e=function(){};(e.prototype=Object.create(null)).constructor=e,e.prototype.setEngineAndPatcher=function(){},e.prototype.initialize=function(){},e.prototype.getNumParameters=function(){return 0},e.prototype.setParameterValue=function(){},e.prototype.prepareToProcess=function(){},e.prototype.process=function(){},t.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new e}}},925:t=>{function e(t,e,n,r){n[r]=t[e]+0x9e3779b97f4a7c15n,n[r]=0xbf58476d1ce4e5b9n*(n[r]^n[r]>>30n),n[r]=0x94d049bb133111ebn*(n[r]^n[r]>>27n),n[r]=n[r]^n[r]>>31n}t.exports={reset:function(t,n){let r=new BigUint64Array(1);r[0]=BigInt(Math.trunc(1e6*t)),e(r,0,n,0),e(n,0,n,1),e(n,1,n,2),e(n,2,n,3)},next:function(t){let e=new BigUint64Array(1),n=new BigUint64Array(1);return n[0]=t[0]+t[3],e[0]=t[1]<<17n,t[2]^=t[0],t[3]^=t[1],t[1]^=t[2],t[0]^=t[3],t[2]^=e[0],t[3]=t[3]<<45n|t[3]>>19n,n[0]=n[0]>>11n,2220446049250313e-31*Number(n[0])-1}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}var __webpack_exports__={};(()=>{var t;!function(t){t[t.Float32Audio=0]="Float32Audio",t[t.TypedArray=1]="TypedArray"}(t||(t={}));class e{constructor(){this.type=t.TypedArray}serialize(){return{type:this.type}}}class n{constructor(e,n){this.channels=0,this.sampleRate=0,this.type=t.Float32Audio,this.channels=e,this.sampleRate=n}static fromAudioBuffer(t){return new n(t.numberOfChannels,t.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}var r,i,s,a;!function(t){t[t.BufferTransfer=0]="BufferTransfer",t[t.ClockEvent=1]="ClockEvent",t[t.DataRefEvent=2]="DataRefEvent",t[t.MessageEvent=3]="MessageEvent",t[t.MIDIEvent=4]="MIDIEvent",t[t.ParameterEvent=5]="ParameterEvent",t[t.ParameterBangEvent=6]="ParameterBangEvent",t[t.PresetEvent=7]="PresetEvent",t[t.StartupEvent=8]="StartupEvent",t[t.TransportEvent=9]="TransportEvent",t[t.TempoEvent=10]="TempoEvent",t[t.BeatTimeEvent=11]="BeatTimeEvent",t[t.TimeSignatureEvent=12]="TimeSignatureEvent"}(r||(r={}));class o{constructor(t=0,e){this.invalid=!1,this.time=t,this.eventTarget=e}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}!function(t){t[t.Update=1]="Update"}(i||(i={}));class u extends o{constructor(t,e,n,i="",s){super(t,s),this.type=r.MessageEvent,this.objectId=i,this.tag=e,this.payload=n}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class h extends o{constructor(t,e,n,i){if(super(t,i),this.type=r.MIDIEvent,n.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${n.length}`);if(this.data=n,this.data.length<3){const t=n.length;this.data.length=3,this.data=this.data.fill(void 0,t,3)}let s=0;for(let t=0;t<3;t++)void 0!==n[t]&&s++;if(s<1)throw new Error("MIDIData must at least have the first byte set.");this.length=s,this.status=240&n[0],this.channel=15&n[0],this.port=e}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class c extends o{constructor(t,e,n,i,s){super(t,s),this.type=r.ParameterEvent,this.target=e,this.value=n,this.source=i}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}!function(t){t[t.Set=1]="Set",t[t.Touched=2]="Touched"}(s||(s={}));class f extends o{constructor(t,e,n){super(t,void 0),this.type=r.PresetEvent,this.action=e,this.preset=n}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}!function(t){t[t.BEGIN=0]="BEGIN",t[t.END=1]="END"}(a||(a={}));var _,l;!function(t){t[t.Number=0]="Number",t[t.Bang=1]="Bang",t[t.List=2]="List",t[t.Signal=3]="Signal",t[t.Count=4]="Count",t[t.Enum=5]="Enum"}(_||(_={})),function(t){t[t.All=0]="All",t[t.Internal=1]="Internal"}(l||(l={}));(()=>{try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const t=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly.Module)return new WebAssembly.Instance(t)instanceof WebAssembly.Instance}}catch(t){}})();"undefined"!=typeof isSecureContext&&isSecureContext;Math.pow(10,4);const I=t=>t.slice();class M{constructor(){this.t=[],this.i=[]}get listenerCount(){return this.t.length+this.i.length}emit(t){if(this.t.length){const e=I(this.t);for(let n=0,r=e.length;n<r;n++)e[n](t)}if(this.i.length){const e=I(this.i);for(let n=0,r=e.length;n<r;n++)e[n](t);e.forEach((t=>this.unsubscribe(t)))}}once(t){return this.i.push(t),{unsubscribe:()=>this.unsubscribe(t)}}subscribe(t){return this.t.push(t),{unsubscribe:()=>this.unsubscribe(t)}}unsubscribe(t){const e=this.t.indexOf(t);e>=0&&this.t.splice(e,1);const n=this.i.indexOf(t);n>=0&&this.i.splice(n,1)}removeAllSubscriptions(){this.t=[],this.i=[]}}function b(t){return class extends t{constructor(...t){super(),this.changeEvent=new M,this.o=new M;const e=t[0];this.u=e.notificationSetting,this.convertFromNormalizedValue=e.scaling.convertFromNormalized,this.convertToNormalizedValue=e.scaling.convertToNormalized,this.constrainParameterValue=e.scaling.constrainParameterValue,this.initialValue=e.initialValue,this.h=e.initialValue,this.displayName=e.displayName||e.name,this.exponent=e.exponent,this.id=e.id,this.index=e.index,this.min=e.min,this.max=e.max,this.name=e.name,this.steps=e.steps,this.unit=e.unit||""}get notificationSetting(){return this.u}get normalizedValue(){return this.convertToNormalizedValue(this.h)}set normalizedValue(t){this._(this.convertFromNormalizedValue(t))}l(t){this.u=t}_(t){t=this.constrainParameterValue(t),this.h!==t&&(this.h=t,this.o.emit(this),this.notificationSetting===l.All&&this.changeEvent.emit(t))}I(t){this.h=t,this.changeEvent.emit(t)}}}b(Object);b(Object);b(Object);var p=__webpack_require__(133);class d{constructor(){this.M={},this.p=new Float32Array(128)}addParam(t,e){t.type==p.ParameterTypeSignal&&t.ioType===p.IOTypeInput&&(this.M[t.signalIndex]={name:e,param:new Float32Array(128)})}getParamName(t){let e=this.M[t];return void 0!==e?e.name:void 0}getParamArray(t,e,n){if(e.length==n)return e;{let r=this.M[t];return r.param.length!=n&&(r.param=new Float32Array(n)),r.param.fill(e[0])}}}class y{constructor(t,e){this.m=0,this.v=0,this.D=!1,this.S=new d,this.A=e;let n=new this.A.CoreObject;this.g=n;let r={handleParameterEvent:t.handleParameterEvent.bind(t),handleMidiEvent:t.handleMidiEvent.bind(t),handleMessageEvent:t.handleMessageEvent.bind(t),handlePresetEvent:t.handlePresetEvent.bind(t)},i=this.A.EventHandler.implement(r);this.O=n.createParameterInterface(i);for(let t=0;t<n.getNumParameters();t++){let e=n.getParameterInfo(t);this.S.addParam(e,n.getParameterName(t))}this.m=n.getNumInputChannels()+n.getNumSignalInParameters(),this.v=n.getNumOutputChannels(),this.D=!0}isReady(){return this.D}pushArray(t){let e=this.g.getArrayPassingHEAP(t.length);return this.A.HEAPF64.set(t,e>>3),e}retrieveArray(t){let e=[];for(let n=0;n<t.size();n++)e.push(t.get(n));return e}setExternalData(t,r,i){const s=new Uint8Array(r),a=this.g.getNewMemoryBuffer(s.byteLength);this.A.HEAPU8.set(s,a),i instanceof n?this.g.setExternalAudioBuffer(t,a,s.byteLength,i.channels,i.sampleRate):i instanceof e&&this.g.setExternalUntypedBuffer(t,a,s.byteLength)}releaseExternalData(t){let r,i=this.g.getDataRefIndex(t),s=this.g.getDataRefType(i),a=this.g.getDataRefData(i),o=new Uint8Array(a.sizeInBytes);return o.set(this.A.HEAPU8.subarray(a.data,a.data+a.sizeInBytes)),r=1==s.type?new n(s.channels,s.sampleRate):new e,this.g.releaseDataRef(i),[o.buffer,r]}getCurrentTime(){return this.g.getCurrentTime()}setCurrentTime(t){this.g.setCurrentTime(t)}prepareToProcess(t,e){this.g.prepareToProcess(t,e)}process(t,e,n,r,i,s){let a=0,o=0;for(let n=0;n<e&&a<this.m;n++){let e=t[n],r=this.g.getInputChannel(a);this.A.HEAPF64.set(e,r>>3),a++}if(s)for(let t=a;t<this.m;t++){let e=this.S.getParamName(t);if(void 0!==e){let n=this.g.getInputChannel(t);this.A.HEAPF64.set(this.S.getParamArray(t,s[e],i),n>>3),a++}}this.g.process(a,this.v,i);for(let t=0;t<r&&o<this.v;t++){let e=n[t],r=this.g.getOutputChannel(o)>>3;e.set(this.A.HEAPF64.subarray(r,r+e.length)),o++}}resolveTag(t){return this.g.resolveTag(t)}scheduleEvent(t){t.type===r.MIDIEvent?this.g.scheduleMidiEvent(t.time,t.port,t.data[0],t.data[1],t.data[2]):t.type===r.ParameterEvent?this.g.scheduleParameterEvent(t.target,t.time,t.value,t.source):t.type===r.ParameterBangEvent?this.g.scheduleParameterBangEvent(t.target,t.time):t.type===r.MessageEvent?Array.isArray(t.payload)?this.g.sendListMessage(t.tag,t.objectId,this.pushArray(t.payload),t.payload.length,t.time):"number"==typeof t.payload?this.g.sendNumMessage(t.tag,t.objectId,t.payload,t.time):void 0===t.payload&&this.g.sendBangMessage(t.tag,t.objectId,t.time):t.type===r.TransportEvent?this.g.scheduleTransportEvent(t.time,t.state):t.type===r.TempoEvent?this.g.scheduleTempoEvent(t.time,t.tempo):t.type===r.BeatTimeEvent?this.g.scheduleBeatTimeEvent(t.time,t.beattime):t.type===r.TimeSignatureEvent&&this.g.scheduleTimeSignatureEvent(t.time,t.numerator,t.denominator)}getNumParameters(){return this.g.getNumParameters()}getParameterValue(t){return this.g.getParameterValue(t)}numIns(){return this.m}numOuts(){return this.v}getPreset(){return this.g.getPreset()}setPreset(t){this.g.setPreset(t)}}var m,v;!function(t){t[t.LoadPatcher=0]="LoadPatcher",t[t.ScheduleEvent=1]="ScheduleEvent",t[t.TransferBuffer=2]="TransferBuffer",t[t.ReleaseBuffer=3]="ReleaseBuffer",t[t.SetPreset=4]="SetPreset",t[t.GetPreset=5]="GetPreset",t[t.Invalidate=6]="Invalidate"}(m||(m={})),function(t){t[t.LoadPatcherFinished=1e3]="LoadPatcherFinished",t[t.OutgoingEvent=1002]="OutgoingEvent",t[t.ReleasedBuffer=1003]="ReleasedBuffer",t[t.TransferBufferFinished=1004]="TransferBufferFinished",t[t.GetPresetResponse=1005]="GetPresetResponse"}(v||(v={}));class D extends AudioWorkletProcessor{constructor(r){super(r),this.P=!0,this.T=128,this.C=r=>{switch(r.data[0]){case m.LoadPatcher:rnbo_module().then((t=>{this.B=new y(this,t),this.port.postMessage([v.LoadPatcherFinished])}));break;case m.ScheduleEvent:const i=r.data[1];this.B.scheduleEvent(i);break;case m.TransferBuffer:{const i=r.data[1],s=(r=>{switch(r.type){case t.Float32Audio:return new n(r.channels,r.sampleRate);case t.TypedArray:return new e;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${r.type}`)}})(i.typeDesc);this.B.setExternalData(i.memoryId,i.data,s),this.port.postMessage([v.TransferBufferFinished,{memoryId:i.memoryId}]);break}case m.ReleaseBuffer:{const t=r.data[1],[e,n]=this.B.releaseExternalData(t.memoryId);this.port.postMessage([v.ReleasedBuffer,{memoryId:t.memoryId,data:e,typeDesc:n.serialize()}],[e]);break}case m.GetPreset:{const t=JSON.parse(this.B.getPreset());this.port.postMessage([v.GetPresetResponse,{preset:t}]);break}case m.SetPreset:{const t=r.data[1];this.B.setPreset(JSON.stringify(t.preset));break}case m.Invalidate:this.P=!1,this.B=null}},this.port.onmessage=this.C,this.port.start()}static get parameterDescriptors(){return XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX}handleParameterEvent(t){this.port.postMessage([v.OutgoingEvent,new c(t.time,t.index,t.value,t.source,void 0).serialize()])}handleMidiEvent(t){const e=new h(t.time,t.port,[t.b1,t.b2,t.b3],void 0);this.port.postMessage([v.OutgoingEvent,e.serialize()])}handleMessageEvent(t){const e=new u(t.time,this.B.resolveTag(t.tag),0==t.type?t.numValue:1===t.type?this.B.retrieveArray(t.listValue):void 0,this.B.resolveTag(t.objectId));this.port.postMessage([v.OutgoingEvent,e.serialize()])}handlePresetEvent(t){const e=new f(t.time,s.Touched);this.port.postMessage([v.OutgoingEvent,e.serialize()])}process(t,e,n){let r=0,i=0;if(!this.P)return!1;if(!this.B||!this.B.isReady())return!0;let s=0;e.length&&e[0]&&e[0].length&&e[0][0]?s=e[0][0].length:t.length&&t[0]&&t[0].length&&t[0][0]&&(s=t[0][0].length),s||(s=this.T),this.T<s&&(this.T=s),this.B.setCurrentTime(1e3*currentTime),this.B.prepareToProcess(sampleRate,s);const a=[];for(let e=0;e<t.length&&r<this.B.numIns();e++){const n=t[e];for(let t=0;t<n.length&&r<this.B.numIns()&&n[t].length>0;t++)a.push(n[t]),r++}const o=[];for(let t=0;t<e.length&&i<this.B.numOuts();t++){const n=e[t];for(let t=0;t<n.length&&i<this.B.numOuts();t++)o.push(n[t]),i++}return this.B.process(a,r,o,i,s,n),!0}}let S="XXXX---RNBOPROCESSORNAME_REPLACE---XXXX";S.startsWith("XXXX---RNBOPROCESSORNAME_REPLACE---")&&(S="RNBOProcessor"),registerProcessor(S,D)})()})();'};class U extends b{constructor({context:K,parameterNotificationSetting:$},W){super({context:K,parameterNotificationSetting:$,type:o.Worklet}),W?this.it=W.it:(this.it=new I,this.it.setPatcherDesc(V.desc),this.it.setPatcherCode(V.src[0].code)),this.Mt=W?W.node:void 0}Lt(){let K="[";const $=this.it.getNumParameters();let W=!0;for(let Y=0;Y<$;Y++){const te=this.it.getParameterInfo(Y);if(te&&te.type!==void 0&&te.type===A.ParameterTypeSignal&&te.ioType!==void 0&&te.ioType===A.IOTypeInput){const ce=te.min===void 0?0:te.min,oe=te.max===void 0?1:te.max;W||(K+=", "),K+="{ name: '"+te.name+"', automationRate: 'a-rate', minValue: "+ce+", maxValue: "+oe+"}",W=!1}}return K+="]",K}get node(){return this.wt(),this.Mt}setPatcher(K,$){return(0,C.mG)(this,void 0,void 0,function*(){if(!this.it)throw new Error("Attempt to set patcher on a WorkletDevice without assigning engine first.");this.vt(),yield this.it.setPatcherDesc(K),this.F.setEngine(this.it),this.it.outgoingEvent.subscribe(this.dt),this.it.prepareToProcess(this.context.sampleRate,128,!1),this.ft=$.type;const W=R[$.type];let Y=this.numInputChannels,te=this.numOutputChannels;Y<1&&(Y=1),te<1&&(te=1);const ce=`RNBOProcessor-${(0,g.EL)()}`;let oe=W.replace("XXXX---RNBOPROCESSORNAME_REPLACE---XXXX",ce).replace("XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX",this.Lt());switch($.type){case"js":oe=oe.replace("XXXX___RNBOPATCHERDESC_REPLACE___XXXX",k.from(JSON.stringify(K),"utf-8").toString("base64")).replace("XXXX___RNBOPATCHERSRC_REPLACE___XXXX",k.from(this.Et($),"utf-8").toString("base64"));break;case"wasm":oe=this.Et($)+`

`+oe}const ue=URL.createObjectURL(new Blob([oe],{type:"text/javascript"}));yield this.context.audioWorklet.addModule(ue),this.Mt=new(G())(this.context,ce,this.it.eventSubjects,{numberOfInputs:Y,numberOfOutputs:1,outputChannelCount:[te]}),yield this.Mt.loadPatcher(),this.F.parameterChangeEvent.subscribe(this.gt)})}}var L=__webpack_require__(676);const H="1.3.4",X={bufferSize:1024,parameterNotificationSetting:f.EX.All};function Z(J,K){var $,W,Y,te;return(0,C.mG)(this,void 0,void 0,function*(){const{context:ce,patcher:oe,type:ue="auto"}=J,Ce=((W=($=oe.desc)===null||$===void 0?void 0:$.meta)===null||W===void 0?void 0:W.rnboversion)||oe.desc.rnboVersion;if(Ce!==H&&(console.error||console.log)(`
Warning: The patcher was exported with a RNBO version does not match the version of @rnbo/js:
@rnbo/js	v${H}
patcher		v${Ce}
In order to have full compatibility and avoid unexpected behavior please ensure that you use the version of @rnbo/js that matches the version of RNBO you used to export your patcher.`.trim()),!(!((Y=oe.src)===null||Y===void 0)&&Y.length)||!Array.isArray(oe.src))throw new Error("Incompatible patcher. Please export you patch with a newer, matching version of RNBO or adjust the version of @rnbo/js you are using.");if(!new Set((te=oe.src)===null||te===void 0?void 0:te.map(be=>be.type)).has("js")&&!g.f8)throw new Error("Incompatible browser. RNBO requires WASM support in order to run your exported patch as a Device.");const le=oe.src.find(be=>g.f8&&be.type==="wasm")||oe.src.find(be=>be.type==="js"),ye=Object.assign({},X,J.options);if(!ce)throw new Error("Missing argument context");if(ue===o.Worklet&&!g.I7)throw new Error("Failed to create WorkletDevice due to missing AudioWorklet support. Please use the Device.Script or 'auto' option instead");const ve=ue==="auto"?g.I7?o.Worklet:o.Script:ue;if(ve!==o.Script&&ve!==o.Worklet)throw new Error(`Unknown Device type ${ve}. Please make sure to use either 'auto' or a valid DeviceType`);let pe;if(ve===o.Script){if(K&&!(K instanceof B))throw new Error("Error: Creating a device from an existing device cannot alter the type of the device. Please make sure to use a consistent 'type' parameter.");pe=new B({bufferSize:ye.bufferSize,parameterNotificationSetting:ye.parameterNotificationSetting,context:ce},(K==null?void 0:K.sourceType)===le.type?K:void 0)}else if(ve===o.Worklet){if(K&&!(K instanceof U))throw new Error("Error: Creating a device from an existing device cannot alter the type of the device. Please make sure to use a consistent 'type' parameter.");pe=new U({context:ce,parameterNotificationSetting:ye.parameterNotificationSetting},K)}return K&&K.destroy(),pe=pe,yield pe.setPatcher(oe.desc,le),pe})}})(),__webpack_exports__})()},module.exports=factory()})(rnbo_webaudio);var rnbo_webaudioExports=rnbo_webaudio.exports;const dummy=new Oscillator({volume:-1/0,frequency:0,type:"sine1"}).start();class RNBODevice{constructor(){Lt(this,"defaults",{});Lt(this,"input");Lt(this,"output");Lt(this,"device");Lt(this,"ready",!1);Lt(this,"context",context.rawContext._nativeAudioContext||context.rawContext._context);Lt(this,"params");Lt(this,"patcher",null);Lt(this,"state",{last:60});this.input=new Gain(1),this.output=new Gain(1),dummy.connect(this.output),dummy.connect(this.input)}async initDevice(){var u;return(u=this.patcher)==null?void 0:u.then(n=>rnbo_webaudioExports.createDevice({context:this.context,patcher:n}).then(a=>{this.device=a,a.node.connect(this.output._gainNode._nativeAudioNode),this.input._gainNode._nativeAudioNode.connect(a.node),this.ready=!0}))}messageDevice(u,n,a){const r=new rnbo_webaudioExports.MessageEvent(a*1e3-10,u,[n]);this.device.scheduleEvent(r)}connect(u){this.output.connect(u)}disconnect(){this.output.disconnect()}setParams(u,n){Object.entries(u).filter(([a,r])=>this.params.includes(a)).forEach(([a,r])=>{a!=="i"&&this.state[a]===r||(this.state[a]=r,this[a]&&this[a](r,n))})}mutate(u={},n,a=100){if(!this.ready)return;const{nudge:r}=u,g=Object.entries(u).reduce((f,[m,l])=>({...f,[`_${m}`]:l}),{});this.setParams(g,n),this.messageDevice("mutate",a,n+(r||0)/1e3)}}class BaseSynth extends RNBODevice{constructor(){super();Lt(this,"defaults",{dur:1e3,n:60,pan:.5,vol:1,amp:1,hold:0,a:10,d:100,s:.8,r:500,moda:10,modd:100,mods:.8,modr:500,fila:10,fild:100,fils:.8,filr:500,res:0,cutoff:2e4,detune:0});this.dur=this.dur.bind(this),this.n=this.n.bind(this),this._n=this._n.bind(this),this.pan=this.pan.bind(this),this._pan=this._pan.bind(this),this.vol=this.vol.bind(this),this._vol=this._vol.bind(this),this.amp=this.amp.bind(this),this._amp=this._amp.bind(this),this.hold=this.hold.bind(this),this.a=this.a.bind(this),this.acurve=this.acurve.bind(this),this.d=this.d.bind(this),this.dcurve=this.dcurve.bind(this),this.s=this.s.bind(this),this.r=this.r.bind(this),this.rcurve=this.rcurve.bind(this),this.moda=this.moda.bind(this),this.modacurve=this.modacurve.bind(this),this.modd=this.modd.bind(this),this.moddcurve=this.moddcurve.bind(this),this.mods=this.mods.bind(this),this.modr=this.modr.bind(this),this.modrcurve=this.modrcurve.bind(this),this.fila=this.fila.bind(this),this.filacurve=this.filacurve.bind(this),this.fild=this.fild.bind(this),this.fildcurve=this.fildcurve.bind(this),this.fils=this.fils.bind(this),this.filr=this.filr.bind(this),this.filrcurve=this.filrcurve.bind(this),this.res=this.res.bind(this),this._res=this._res.bind(this),this.cutoff=this.cutoff.bind(this),this._cutoff=this._cutoff.bind(this),this.detune=this.detune.bind(this),this._detune=this._detune.bind(this)}play(n={},a){if(!this.ready)return;const r={...this.defaults,...n},{n:g,amp:f,nudge:m}=r;this.release(g,a),this.setParams(r,a);const l=new rnbo_webaudioExports.MIDIEvent(a*1e3+(m||0)+10,0,[144,g||60,f*127]);this.device.scheduleEvent(l)}release(n,a){if(!this.ready)return;const r=new rnbo_webaudioExports.MIDIEvent(a*1e3+10,0,[128,n,0]);this.device.scheduleEvent(r)}cut(n,a=5){this.ready&&this.messageDevice("cut",a,n)}dur(n=1e3,a){this.messageDevice("dur",n,a)}n(n=60,a){this.messageDevice("n",n,a)}_n(n=60,a){this.messageDevice("_n",n,a)}nudge(n=0,a){}pan(n=.5,a){this.messageDevice("pan",n,a)}_pan(n=.5,a){this.messageDevice("_pan",n,a)}amp(n=1,a){this.messageDevice("amp",n,a)}_amp(n=1,a){this.messageDevice("_amp",n,a)}vol(n=1,a){this.messageDevice("vol",n,a)}_vol(n=1,a){this.messageDevice("_vol",n,a)}hold(n,a){this.messageDevice("hold",n,a)}a(n=10,a){this.messageDevice("a",n,a)}d(n=100,a){this.messageDevice("d",n,a)}s(n=.5,a){this.messageDevice("s",n,a)}r(n=1e3,a){this.messageDevice("r",n,a)}acurve(n,a){this.messageDevice("acurve",n,a)}dcurve(n,a){this.messageDevice("dcurve",n,a)}rcurve(n,a){this.messageDevice("rcurve",n,a)}moda(n=10,a){this.messageDevice("moda",n,a)}modd(n=100,a){this.messageDevice("modd",n,a)}mods(n=.8,a){this.messageDevice("mods",n,a)}modr(n=1e3,a){this.messageDevice("modr",n,a)}modacurve(n,a){this.messageDevice("modacurve",n,a)}moddcurve(n,a){this.messageDevice("moddcurve",n,a)}modrcurve(n,a){this.messageDevice("modrcurve",n,a)}fila(n=10,a){this.messageDevice("fila",n,a)}fild(n=100,a){this.messageDevice("fild",n,a)}fils(n=.8,a){this.messageDevice("fils",n,a)}filr(n=1e3,a){this.messageDevice("filr",n,a)}filacurve(n,a){this.messageDevice("filacurve",n,a)}fildcurve(n,a){this.messageDevice("fildcurve",n,a)}filrcurve(n,a){this.messageDevice("filrcurve",n,a)}res(n=0,a){this.messageDevice("res",n,a)}_res(n=0,a){this.messageDevice("_res",n,a)}cutoff(n=2e4,a){this.messageDevice("cutoff",n,a)}_cutoff(n=2e4,a){this.messageDevice("_cutoff",n,a)}detune(n=0,a){this.messageDevice("detune",n,a)}_detune(n=0,a){this.messageDevice("_detune",n,a)}}const patcher$b=fetch(new URL(""+new URL("../assets/synth.export.bf528032.json",import.meta.url).href,self.location)).then(C=>C.json()),patcherLite=fetch(new URL(""+new URL("../assets/synth-lite.export.29519492.json",import.meta.url).href,self.location)).then(C=>C.json());let Synth$2=class extends BaseSynth{constructor(u={}){super(),this.defaults={...this.defaults,osc:0,drift:0,modi:0,harm:1},this.patcher=u.lite?patcherLite:patcher$b,this.initDevice(),this.osc=this.osc.bind(this),this._osc=this._osc.bind(this),this.drift=this.drift.bind(this),this._drift=this._drift.bind(this),this.modi=this.modi.bind(this),this._modi=this._modi.bind(this),this.harm=this.harm.bind(this),this._harm=this._harm.bind(this),this.params=Object.getOwnPropertyNames(this)}osc(u=0,n){this.messageDevice("osc",u,n)}_osc(u=0,n){this.messageDevice("_osc",u,n)}drift(u=0,n){this.messageDevice("drift",u,n)}_drift(u=0,n){this.messageDevice("_drift",u,n)}modi(u=0,n){this.messageDevice("modi",u,n)}_modi(u=0,n){this.messageDevice("_modi",u,n)}harm(u=1,n){this.messageDevice("harm",u,n)}_harm(u=1,n){this.messageDevice("_harm",u,n)}};fetch(new URL(""+new URL("../assets/synth-gen.export.562f0fb5.json",import.meta.url).href,self.location)).then(C=>C.json());const patcher$a=fetch(new URL(""+new URL("../assets/superfm.export.27e59195.json",import.meta.url).href,self.location)).then(C=>C.json());let Synth$1=class extends BaseSynth{constructor(){super(),this.defaults={...this.defaults,a:10,d:100,s:.8,r:125,op1ratio:1,op1gain:1,op1fb:0,op2a:10,op2d:100,op2s:.8,op2r:1e3,op2ratio:1,op2gain:1,op2fb:0,op3a:10,op3d:100,op3s:.8,op3r:1e3,op3ratio:1,op3gain:1,op3fb:0},this.patcher=patcher$a,this.initDevice(),this.op1ratio=this.op1ratio.bind(this),this._op1ratio=this._op1ratio.bind(this),this.op1gain=this.op1gain.bind(this),this._op1gain=this._op1gain.bind(this),this.op1fb=this.op1fb.bind(this),this._op1fb=this._op1fb.bind(this),this.op2a=this.op2a.bind(this),this.op2d=this.op2d.bind(this),this.op2s=this.op2s.bind(this),this.op2r=this.op2r.bind(this),this.op2ratio=this.op2ratio.bind(this),this._op2ratio=this._op2ratio.bind(this),this.op2gain=this.op2gain.bind(this),this._op2gain=this._op2gain.bind(this),this.op2fb=this.op2fb.bind(this),this._op2fb=this._op2fb.bind(this),this.op3a=this.op3a.bind(this),this.op3d=this.op3d.bind(this),this.op3s=this.op3s.bind(this),this.op3r=this.op3r.bind(this),this.op3ratio=this.op3ratio.bind(this),this._op3ratio=this._op3ratio.bind(this),this.op3gain=this.op3gain.bind(this),this._op3gain=this._op3gain.bind(this),this.op3fb=this.op3fb.bind(this),this._op3fb=this._op3fb.bind(this),this.params=Object.getOwnPropertyNames(this)}op1ratio(u=0,n){this.messageDevice("op1ratio",u,n)}_op1ratio(u=0,n){this.messageDevice("_op1ratio",u,n)}op1gain(u=0,n){this.messageDevice("op1gain",u,n)}_op1gain(u=0,n){this.messageDevice("_op1gain",u,n)}op1fb(u=0,n){this.messageDevice("op1fb",u,n)}_op1fb(u=0,n){this.messageDevice("_op1fb",u,n)}op2a(u=0,n){this.messageDevice("op2a",u,n)}op2d(u=0,n){this.messageDevice("op2d",u,n)}op2s(u=0,n){this.messageDevice("op2s",u,n)}op2r(u=0,n){this.messageDevice("op2r",u,n)}op2ratio(u=0,n){this.messageDevice("op2ratio",u,n)}_op2ratio(u=0,n){this.messageDevice("_op2ratio",u,n)}op2gain(u=0,n){this.messageDevice("op2gain",u,n)}_op2gain(u=0,n){this.messageDevice("_op2gain",u,n)}op2fb(u=0,n){this.messageDevice("op2fb",u,n)}_op2fb(u=0,n){this.messageDevice("_op2fb",u,n)}op3a(u=0,n){this.messageDevice("op3a",u,n)}op3d(u=0,n){this.messageDevice("op3d",u,n)}op3s(u=0,n){this.messageDevice("op3s",u,n)}op3r(u=0,n){this.messageDevice("op3r",u,n)}op3ratio(u=0,n){this.messageDevice("op3ratio",u,n)}_op3ratio(u=0,n){this.messageDevice("_op3ratio",u,n)}op3gain(u=0,n){this.messageDevice("op3gain",u,n)}_op3gain(u=0,n){this.messageDevice("_op3gain",u,n)}op3fb(u=0,n){this.messageDevice("op3fb",u,n)}_op3fb(u=0,n){this.messageDevice("_op3fb",u,n)}};const samples$2={};class BaseSamplingDevice extends BaseSynth{constructor(){super();Lt(this,"nextBuffer",0);Lt(this,"banks",{});Lt(this,"currentBank","");Lt(this,"buffers",{});this.bank=this.bank.bind(this),this.i=this.i.bind(this)}async bank(n){this.currentBank=n}async loadSample(n,a){if(!this.ready)return;const r=this.banks[n][a],g=Object.values(this.buffers).indexOf(r);if(g<0){const f=`${n}-${a}`,m=samples$2[f]||await fetch(r).then(x=>x.arrayBuffer()).then(x=>this.context.decodeAudioData(x)).catch(x=>console.log(x)),l=`b${this.nextBuffer}`;this.device.setDataBuffer(l,m),this.buffers[l]=r,samples$2[f]=m,this.nextBuffer=(this.nextBuffer+1)%32}return g}async i(n,a){if(!this.currentBank)return;const r=n%this.banks[this.currentBank].length,g=await this.loadSample(this.currentBank,r);this.messageDevice("i",g,a)}}const patcher$9=fetch(new URL(""+new URL("../assets/sampler.export.6467d9b8.json",import.meta.url).href,self.location)).then(C=>C.json());class Sampler extends BaseSamplingDevice{constructor(){super(),this.defaults={...this.defaults,i:0,snap:0,rate:1,a:5,d:10,s:1,r:100,bpm:120,begin:0,end:1,loop:0,oneshot:0,loopsize:1},this.patcher=patcher$9,this.initDevice(),this.snap=this.snap.bind(this),this.rate=this.rate.bind(this),this._rate=this._rate.bind(this),this.begin=this.begin.bind(this),this.end=this.end.bind(this),this.loop=this.loop.bind(this),this.loopsize=this.loopsize.bind(this),this._loopsize=this._loopsize.bind(this),this.oneshot=this.oneshot.bind(this),this.bpm=this.bpm.bind(this),this.params=Object.getOwnPropertyNames(this)}snap(u=0,n){this.messageDevice("snap",u,n)}rate(u=1,n){this.messageDevice("rate",u,n)}_rate(u=1,n){this.messageDevice("_rate",u,n)}begin(u=0,n){this.messageDevice("begin",u,n)}end(u=1,n){this.messageDevice("end",u,n)}loop(u=0,n){this.messageDevice("loop",u,n)}loopsize(u=1,n){this.messageDevice("loopsize",u,n)}_loopsize(u=1,n){this.messageDevice("_loopsize",u,n)}oneshot(u=0,n){this.messageDevice("oneshot",u,n)}bpm(u=120,n){this.messageDevice("bpm",u,n)}}const patcher$8=fetch(new URL(""+new URL("../assets/granular.export.a872c07b.json",import.meta.url).href,self.location)).then(C=>C.json());class Granular extends BaseSamplingDevice{constructor(){super(),this.defaults={...this.defaults,i:0,snap:0,rate:1,a:0,d:10,s:1,r:100,bpm:60,grainrate:16,grainsize:.125,grainslope:.01,grainpan:.2,direction:1,begin:0,end:1},this.patcher=patcher$8,this.initDevice(),this.snap=this.snap.bind(this),this.rate=this.rate.bind(this),this._rate=this._rate.bind(this),this.grainrate=this.grainrate.bind(this),this._grainrate=this._grainrate.bind(this),this.grainsize=this.grainsize.bind(this),this._grainsize=this._grainsize.bind(this),this.grainslope=this.grainslope.bind(this),this._grainslope=this._grainslope.bind(this),this.grainpan=this.grainpan.bind(this),this._grainpan=this._grainpan.bind(this),this.direction=this.direction.bind(this),this._direction=this._direction.bind(this),this.begin=this.begin.bind(this),this.end=this.end.bind(this),this.loop=this.loop.bind(this),this.bpm=this.bpm.bind(this),this.params=Object.getOwnPropertyNames(this)}snap(u=0,n){this.messageDevice("snap",u,n)}rate(u=1,n){this.messageDevice("rate",u,n)}_rate(u=1,n){this.messageDevice("_rate",u,n)}grainrate(u=16,n){this.messageDevice("grainrate",u,n)}_grainrate(u=16,n){this.messageDevice("_grainrate",u,n)}grainsize(u=.125,n){this.messageDevice("grainsize",u,n)}_grainsize(u=.125,n){this.messageDevice("_grainsize",u,n)}grainslope(u=.01,n){this.messageDevice("grainslope",u,n)}_grainslope(u=.01,n){this.messageDevice("_grainslope",u,n)}grainpan(u=.2,n){this.messageDevice("grainpan",u,n)}_grainpan(u=.2,n){this.messageDevice("_grainpan",u,n)}direction(u=1,n){this.messageDevice("direction",u,n)}_direction(u=1,n){this.messageDevice("_direction",u,n)}begin(u=0,n){this.messageDevice("begin",u,n)}end(u=1,n){this.messageDevice("end",u,n)}loop(u=0,n){this.messageDevice("loop",u,n)}bpm(u=120,n){this.messageDevice("bpm",u,n)}}const patcher$7=fetch(new URL(""+new URL("../assets/additive.export.a0581da3.json",import.meta.url).href,self.location)).then(C=>C.json());class Synth extends BaseSynth{constructor(){super(),this.defaults={...this.defaults,osc:0,drift:1,pmuln:0,pmul:0,pdisp:0,pexp:.1},this.patcher=patcher$7,this.initDevice(),this.osc=this.osc.bind(this),this._osc=this._osc.bind(this),this.drift=this.drift.bind(this),this._drift=this._drift.bind(this),this.pmuln=this.pmuln.bind(this),this._pmuln=this._pmuln.bind(this),this.pmul=this.pmul.bind(this),this._pmul=this._pmul.bind(this),this.pdisp=this.pdisp.bind(this),this._pdisp=this._pdisp.bind(this),this.pexp=this.pexp.bind(this),this._pexp=this._pexp.bind(this),this.params=Object.getOwnPropertyNames(this)}osc(u=0,n){this.messageDevice("osc",u,n)}_osc(u=0,n){this.messageDevice("_osc",u,n)}drift(u=0,n){this.messageDevice("drift",u,n)}_drift(u=0,n){this.messageDevice("_drift",u,n)}pmuln(u=0,n){this.messageDevice("pmuln",u,n)}_pmuln(u=0,n){this.messageDevice("_pmuln",u,n)}pmul(u=0,n){this.messageDevice("pmul",u,n)}_pmul(u=0,n){this.messageDevice("_pmul",u,n)}pdisp(u=0,n){this.messageDevice("pdisp",u,n)}_pdisp(u=0,n){this.messageDevice("_pdisp",u,n)}pexp(u=0,n){this.messageDevice("pexp",u,n)}_pexp(u=0,n){this.messageDevice("_pexp",u,n)}}const patcher$6=fetch(new URL(""+new URL("../assets/acid.export.a0c8e199.json",import.meta.url).href,self.location)).then(C=>C.json());class AcidSynth extends BaseSynth{constructor(){super(),this.defaults={...this.defaults,slide:10,fil:.5,osc:.6,sub:.5,dur:100,a:10,d:100,s:.5,r:50,fila:10,fild:100,fils:.1,filr:100,res:.8,cutoff:7500},this.patcher=patcher$6,this.initDevice(),this.slide=this.slide.bind(this),this.fil=this.fil.bind(this),this._fil=this._fil.bind(this),this.osc=this.osc.bind(this),this._osc=this._osc.bind(this),this.sub=this.sub.bind(this),this._sub=this._sub.bind(this),this.params=Object.getOwnPropertyNames(this)}osc(u=.6,n){this.messageDevice("osc",u,n)}_osc(u=.6,n){this.messageDevice("_osc",u,n)}slide(u=10,n){this.messageDevice("slide",u,n)}fil(u=.5,n){this.messageDevice("fil",u,n)}_fil(u=.5,n){this.messageDevice("_fil",u,n)}sub(u=.5,n){this.messageDevice("sub",u,n)}_sub(u=.5,n){this.messageDevice("_sub",u,n)}}const patcher$5=fetch(new URL(""+new URL("../assets/drone.export.6a7fa125.json",import.meta.url).href,self.location)).then(C=>C.json());class DroneSynth extends BaseSynth{constructor(){super(),this.defaults={...this.defaults,vol:1,amp:1,lforate:.1,lfodepth:.1,spread:1,offset:0,damp:.5,dynamic:.5,rand:1,slide:100,pitch:.5,dur:4e4,a:1e3,d:0,s:1,r:1e3,res:1,moda:5e3,modd:5e3},this.patcher=patcher$5,this.initDevice(),this.lforate=this.lforate.bind(this),this._lforate=this._lforate.bind(this),this.lfodepth=this.lfodepth.bind(this),this._lfodepth=this._lfodepth.bind(this),this.spread=this.spread.bind(this),this._spread=this._spread.bind(this),this.offset=this.offset.bind(this),this._offset=this._offset.bind(this),this.damp=this.damp.bind(this),this._damp=this._damp.bind(this),this.dynamic=this.dynamic.bind(this),this._dynamic=this._dynamic.bind(this),this.rand=this.rand.bind(this),this._rand=this._rand.bind(this),this.slide=this.slide.bind(this),this._slide=this._slide.bind(this),this.pitch=this.pitch.bind(this),this._pitch=this._pitch.bind(this),this.params=Object.getOwnPropertyNames(this)}play(u={},n){if(!this.ready)return;const a={...this.defaults,...u},{n:r=60,amp:g=1}=a;this.setParams(a,n);const f=new rnbo_webaudioExports.MIDIEvent(n*1e3,0,[144,r,g*127]);this.device.scheduleEvent(f)}lforate(u=.1,n){this.messageDevice("osc",u,n)}_lforate(u=.1,n){this.messageDevice("_osc",u,n)}lfodepth(u=.1,n){this.messageDevice("drift",u,n)}_lfodepth(u=.1,n){this.messageDevice("_drift",u,n)}spread(u=1,n){this.messageDevice("spread",u,n)}_spread(u=1,n){this.messageDevice("_spread",u,n)}offset(u=0,n){this.messageDevice("offset",u,n)}_offset(u=0,n){this.messageDevice("_offset",u,n)}damp(u=.5,n){this.messageDevice("damp",u,n)}_damp(u=.5,n){this.messageDevice("_damp",u,n)}dynamic(u=.5,n){this.messageDevice("dynamic",u,n)}_dynamic(u=.5,n){this.messageDevice("_dynamic",u,n)}rand(u=1,n){this.messageDevice("rand",u,n)}_rand(u=1,n){this.messageDevice("_rand",u,n)}slide(u=100,n){this.messageDevice("slide",u,n)}_slide(u=100,n){this.messageDevice("_slide",u,n)}pitch(u=.5,n){this.messageDevice("pitch",u,n)}_pitch(u=.5,n){this.messageDevice("_pitch",u,n)}}const patcher$4=fetch(new URL(""+new URL("../assets/sub.export.6fba58bd.json",import.meta.url).href,self.location)).then(C=>C.json());class SubSynth extends BaseSynth{constructor(){super(),this.defaults={...this.defaults,dur:1e3,a:100,d:100,s:.75,r:1e3,fila:0,fild:100,fils:1,filr:100,res:0,moda:10,modd:0,lfodepth:0,lforate:1},this.patcher=patcher$4,this.initDevice(),this.fat=this.fat.bind(this),this._fat=this._fat.bind(this),this.slide=this.slide.bind(this),this.lforate=this.lforate.bind(this),this._lforate=this._lforate.bind(this),this.lfodepth=this.lfodepth.bind(this),this._lfodepth=this._lfodepth.bind(this),this.params=Object.getOwnPropertyNames(this)}play(u={},n=0){if(!this.ready)return;const a={...this.defaults,...u},{n:r,amp:g}=a;this.setParams(a,n);const f=new rnbo_webaudioExports.MIDIEvent(n*1e3,0,[144,r||60,g*127]);this.device.scheduleEvent(f)}fat(u=0,n){this.messageDevice("fat",u,n)}_fat(u=0,n){this.messageDevice("_fat",u,n)}slide(u=10,n){this.messageDevice("slide",u,n)}lforate(u=1,n){this.messageDevice("lforate",u,n)}_lforate(u=1,n){this.messageDevice("_lforate",u,n)}lfodepth(u=0,n){this.messageDevice("lfodepth",u,n)}_lfodepth(u=0,n){this.messageDevice("_lfodepth",u,n)}}const patcher$3=fetch(new URL(""+new URL("../assets/wavetable.export.4e74a402.json",import.meta.url).href,self.location)).then(C=>C.json());class Wavetable extends BaseSamplingDevice{constructor(){super(),this.defaults={...this.defaults,dur:1e3,tablesize:256,rows:16,xlfo:.01,ylfo:.05,i:0,cutoff:500,res:.5},this.patcher=patcher$3,this.initDevice(),this.tablesize=this.tablesize.bind(this),this.rows=this.rows.bind(this),this.xlfo=this.xlfo.bind(this),this._xlfo=this._xlfo.bind(this),this.ylfo=this.ylfo.bind(this),this._ylfo=this._ylfo.bind(this),this.params=Object.getOwnPropertyNames(this)}tablesize(u=256,n){this.messageDevice("tablesize",u,n)}rows(u=16,n){this.messageDevice("rows",u,n)}xlfo(u=0,n){this.messageDevice("xlfo",u,n)}_xlfo(u=0,n){this.messageDevice("_xlfo",u,n)}ylfo(u=0,n){this.messageDevice("ylfo",u,n)}_ylfo(u=0,n){this.messageDevice("_ylfo",u,n)}}fetch(new URL(""+new URL("../assets/fx.export.7977c06e.json",import.meta.url).href,self.location)).then(C=>C.json());const patcher$2=fetch(new URL(""+new URL("../assets/fx-channel.export.ba7289dd.json",import.meta.url).href,self.location)).then(C=>C.json());class FXChannel extends RNBODevice{constructor(){super(),this.defaults={dist:0,drive:.25,ring:0,ringf:.25,ringspread:0,ringmode:0,hicut:0,locut:0,chorus:0,chdepth:.25,chlfo:.25,chspread:.25,gain:1,lthresh:1},this.patcher=patcher$2,this.initDevice(),this.dist=this.dist.bind(this),this._dist=this._dist.bind(this),this.drive=this.drive.bind(this),this._drive=this._drive.bind(this),this.ring=this.ring.bind(this),this._ring=this._ring.bind(this),this.ringf=this.ringf.bind(this),this._ringf=this._ringf.bind(this),this.ringspread=this.ringspread.bind(this),this._ringspread=this._ringspread.bind(this),this.ringmode=this.ringmode.bind(this),this._ringmode=this._ringmode.bind(this),this.hicut=this.hicut.bind(this),this._hicut=this._hicut.bind(this),this.locut=this.locut.bind(this),this._locut=this._locut.bind(this),this.chorus=this.chorus.bind(this),this._chorus=this._chorus.bind(this),this.chdepth=this.chdepth.bind(this),this._chdepth=this._chdepth.bind(this),this.chlfo=this.chlfo.bind(this),this._chlfo=this._chlfo.bind(this),this.chspread=this.chspread.bind(this),this._chspread=this._chspread.bind(this),this.gain=this.gain.bind(this),this._gain=this._gain.bind(this),this.lthresh=this.lthresh.bind(this),this._lthresh=this._lthresh.bind(this),this.params=Object.getOwnPropertyNames(this)}set(u={},n){if(!this.ready)return;const a={...this.defaults,...u};this.setParams(a,n);const r=new rnbo_webaudioExports.MIDIEvent(n*1e3,0,[144,60,127]);this.device.scheduleEvent(r)}dist(u=0,n){this.messageDevice("dist",u,n)}_dist(u=0,n){this.messageDevice("_dist",u,n)}drive(u=.5,n){this.messageDevice("drive",u,n)}_drive(u=.5,n){this.messageDevice("_drive",u,n)}ring(u=0,n){this.messageDevice("ring",u,n)}_ring(u=0,n){this.messageDevice("_ring",u,n)}ringf(u=.25,n){this.messageDevice("ringf",u,n)}_ringf(u=.25,n){this.messageDevice("_ringf",u,n)}ringspread(u=0,n){this.messageDevice("ringspread",u,n)}_ringspread(u=0,n){this.messageDevice("_ringspread",u,n)}ringmode(u=0,n){this.messageDevice("ringmode",u,n)}_ringmode(u=0,n){this.messageDevice("_ringmode",u,n)}chorus(u=0,n){this.messageDevice("chorus",u,n)}_chorus(u=0,n){this.messageDevice("_chorus",u,n)}chdepth(u=.25,n){this.messageDevice("chdepth",u,n)}_chdepth(u=.25,n){this.messageDevice("_chdepth",u,n)}chlfo(u=.25,n){this.messageDevice("chlfo",u,n)}_chlfo(u=.25,n){this.messageDevice("_chlfo",u,n)}chspread(u=.25,n){this.messageDevice("chspread",u,n)}_chspread(u=.25,n){this.messageDevice("_chspread",u,n)}hicut(u=0,n){this.messageDevice("hicut",u,n)}_hicut(u=0,n){this.messageDevice("_hicut",u,n)}locut(u=0,n){this.messageDevice("locut",u,n)}_locut(u=0,n){this.messageDevice("_locut",u,n)}gain(u=1,n){this.messageDevice("gain",u,n)}_gain(u=1,n){this.messageDevice("_gain",u,n)}lthresh(u=1,n){this.messageDevice("lthresh",u,n)}_lthresh(u=1,n){this.messageDevice("_lthresh",u,n)}}fetch(new URL(""+new URL("../assets/fx-reverb.export.799a4f40.json",import.meta.url).href,self.location)).then(C=>C.json());const patcher$1=fetch(new URL(""+new URL("../assets/fx-delay.export.9ce6e69c.json",import.meta.url).href,self.location)).then(C=>C.json());class FXDelay extends RNBODevice{constructor(){super(),this.defaults={delay:0,dtime:500,dfb:.5,dspread:0,dcolour:.5,dfilter:0},this.patcher=patcher$1,this.initDevice(),this.delay=this.delay.bind(this),this._delay=this._delay.bind(this),this.dtime=this.dtime.bind(this),this._dtime=this._dtime.bind(this),this.dfb=this.dfb.bind(this),this._dfb=this._dfb.bind(this),this.dspread=this.dspread.bind(this),this._dspread=this._dspread.bind(this),this.dcolour=this.dcolour.bind(this),this._dcolour=this._dcolour.bind(this),this.dfilter=this.dfilter.bind(this),this._dfilter=this._dfilter.bind(this),this.params=Object.getOwnPropertyNames(this)}set(u={},n){if(!this.ready)return;const a={...this.defaults,...u};this.setParams(a,n);const r=new rnbo_webaudioExports.MIDIEvent(n*1e3,0,[144,60,127]);this.device.scheduleEvent(r)}delay(u=0,n){this.messageDevice("delay",u,n)}_delay(u=0,n){this.messageDevice("_delay",u,n)}dtime(u=500,n){this.messageDevice("dtime",u,n)}_dtime(u=500,n){this.messageDevice("_dtime",u,n)}dfb(u=.5,n){this.messageDevice("dfb",u,n)}_dfb(u=.5,n){this.messageDevice("_dfb",u,n)}dspread(u=0,n){this.messageDevice("dspread",u,n)}_dspread(u=0,n){this.messageDevice("_dspread",u,n)}dcolour(u=.25,n){this.messageDevice("dcolour",u,n)}_dcolour(u=.25,n){this.messageDevice("_dcolour",u,n)}dfilter(u=0,n){this.messageDevice("dfilter",u,n)}_dfilter(u=0,n){this.messageDevice("_dfilter",u,n)}}const patcher=fetch(new URL(""+new URL("../assets/reverb-gen.export.83d0610a.json",import.meta.url).href,self.location)).then(C=>C.json());class ReverbGen extends RNBODevice{constructor(){super(),this.defaults={reverb:0,rsize:.25,rdamp:.5,rtime:.25,rspread:.1,rwidth:.1,rearly:.01,rtail:.01},this.patcher=patcher,this.initDevice(),this.reverb=this.reverb.bind(this),this._reverb=this._reverb.bind(this),this.rsize=this.rsize.bind(this),this._rsize=this._rsize.bind(this),this.rtime=this.rtime.bind(this),this._rtime=this._rtime.bind(this),this.rdamp=this.rdamp.bind(this),this._rdamp=this._rdamp.bind(this),this.rspread=this.rspread.bind(this),this._rspread=this._rspread.bind(this),this.rwidth=this.rwidth.bind(this),this._rwidth=this._rwidth.bind(this),this.rearly=this.rearly.bind(this),this._rearly=this._rearly.bind(this),this.rtail=this.rtail.bind(this),this._rtail=this._rtail.bind(this),this.params=Object.getOwnPropertyNames(this)}set(u={},n){if(!this.ready)return;const a={...this.defaults,...u};this.setParams(a,n);const r=new rnbo_webaudioExports.MIDIEvent(n*1e3,0,[144,60,127]);this.device.scheduleEvent(r)}reverb(u=0,n){this.messageDevice("reverb",u,n)}_reverb(u=0,n){this.messageDevice("_reverb",u,n)}rsize(u=.25,n){this.messageDevice("rsize",u,n)}_rsize(u=.25,n){this.messageDevice("_rsize",u,n)}rtime(u=.25,n){this.messageDevice("rtime",u,n)}_rtime(u=.25,n){this.messageDevice("_rtime",u,n)}rdamp(u=.25,n){this.messageDevice("rdamp",u,n)}_rdamp(u=.25,n){this.messageDevice("_rdamp",u,n)}rspread(u=.25,n){this.messageDevice("rspread",u,n)}_rspread(u=.25,n){this.messageDevice("_rspread",u,n)}rwidth(u=.25,n){this.messageDevice("rwidth",u,n)}_rwidth(u=.25,n){this.messageDevice("_rwidth",u,n)}rearly(u=.25,n){this.messageDevice("rearly",u,n)}_rearly(u=.25,n){this.messageDevice("_rearly",u,n)}rtail(u=.25,n){this.messageDevice("rtail",u,n)}_rtail(u=.25,n){this.messageDevice("_rtail",u,n)}}const CtSynth=Synth$2,CtSuperFM=Synth$1,CtSampler=Sampler,CtGranulator=Granular,CtAdditive=Synth,CtFXChannel=FXChannel,CtAcidSynth=AcidSynth,CtDroneSynth=DroneSynth,CtSubSynth=SubSynth,CtWavetable=Wavetable,CtFXDelay=FXDelay,CtReverbGen=ReverbGen;class Channel{constructor(u,n){Lt(this,"input");Lt(this,"_busses");Lt(this,"_destination");Lt(this,"_out");Lt(this,"_fx");Lt(this,"_reverb");Lt(this,"_delay");Lt(this,"_fader");Lt(this,"_output");this._destination=u,this._out=n,this.input=new Gain(1),this._busses=Array.from({length:4},()=>new Gain(0)),this._fader=new Gain(1),this._output=new Split({context,channels:2}),this._fader.connect(this._output),this.input.fan(this._fader,...this._busses),this._output.connect(u,0,n),this._output.connect(u,1,n+1)}routeOut(u){u!==this._out&&(this._output.disconnect(),this._output.connect(this._destination,0,u),this._output.connect(this._destination,1,u+1),this._out=u)}routeBus(u,n){this._busses[u].connect(n)}send(u,n,a=0,r=10){this._busses[u].gain.rampTo(n,r/1e3,a)}set(u,n){const{dist:a=0,ring:r=0,chorus:g=0,hicut:f=0,locut:m=0,level:l=1}=u;this._fx||[a,r,g,f,m].reduce((x,S)=>x+S,0)>0&&this.initFX(),u.reverb>0&&!this._reverb&&this.initReverb(),u.delay>0&&!this._delay&&this.initDelay(),this._fx&&this._fx.set(u,n),this._reverb&&this._reverb.set(u,n),this._delay&&this._delay.set(u,n),this._fader.gain.rampTo(l,.1,n)}mutate(u,n,a=100){var r,g,f;(r=this._fx)==null||r.mutate(u,n,a),(g=this._reverb)==null||g.mutate(u,n,a),(f=this._delay)==null||f.mutate(u,n,a),u.level!==void 0&&this._fader.gain.rampTo(u.level,a/1e3,n)}initFX(){this._fx=new CtFXChannel,this._handleInternalRouting()}initDelay(){this._delay=new CtFXDelay,this._handleInternalRouting()}initReverb(){this._reverb=new CtReverbGen,this._handleInternalRouting()}_handleInternalRouting(){const{_fx:u,_reverb:n,_delay:a,input:r,_fader:g}=this,f=[u,a,n];f.forEach(x=>x&&x.disconnect()),r.disconnect(),r.fan(...this._busses);const m=f.find(Boolean),l=[...f].reverse().find(Boolean);r.connect((m==null?void 0:m.input)||g),l==null||l.connect(g),f.filter(Boolean).reduce((x,S)=>(x&&S&&x.connect(S.input),S),null)}}const limiter=new Limiter({threshold:-20}),destination=getDestination();destination.channelCount=destination.maxChannelCount;destination.channelCount===2&&destination.chain(limiter);const output=new Merge({channels:destination.maxChannelCount});output.connect(destination);const fxChannels={fx0:new Channel(output,0),fx1:new Channel(output,0),fx2:new Channel(output,0),fx3:new Channel(output,0)},channels={},getChannel=(C,u)=>(channels[C]||(channels[C]=new Channel(output,u),["fx0","fx1","fx2","fx3"].forEach((n,a)=>{channels[C].routeBus(a,fxChannels[n].input)})),channels[C].routeOut(u),channels[C]),samples$1=writable$1({}),otoChannel$1=new BroadcastChannel("oto"),synths=writable$1({}),synthTypes=["synth","sampler","granular","additive","acid","drone","sub","superfm","wavetable"],makeSynth=C=>{switch(C){case"synth":return new CtSynth({lite:!0});case"sampler":return new CtSampler;case"granular":return new CtGranulator;case"additive":return new CtAdditive;case"acid":return new CtAcidSynth;case"drone":return new CtDroneSynth;case"sub":return new CtSubSynth;case"superfm":return new CtSuperFM;case"wavetable":return new CtWavetable;default:return null}},connect=(C,u,n,a)=>{if(!C)return;const r=getChannel(u,n);return C.connect(r.input),synths.update(g=>({...g,[u]:{...g[u],[a]:C}})),C},handleSynthEvent=(C,u)=>{const{cut:n,n:a=60,strum:r=0,inst:g,cutr:f=10,track:m,out:l=0}=u,x=m*2;(n!==void 0?[n].flat():[]).forEach(h=>{const _=+h*2,o=get_store_value(synths)[_]||{};Object.values(o).forEach(p=>p==null?void 0:p.cut(C,f))}),[g].flat().forEach((h,_)=>{if(h=typeof h=="number"?synthTypes[h]:h,!synthTypes.includes(h))return;const o=get_store_value(synths),p=o[x]&&o[x][h]?o[x][h]:connect(makeSynth(h),x,l,h);[a].flat().forEach((b,y)=>{const A=Object.entries(u).reduce((E,[N,T])=>({...E,[N]:Array.isArray(T)?T[_%T.length]:T}),{});A.n=b,p.play(A,C+y*(r/1e3))})});const D=getChannel(x,l);D.set(u,C),[u.fx0,u.fx1,u.fx2,u.fx3].forEach((h=0,_)=>{h!==void 0&&D.send(_,h,C)})},handleSynthMutation=(C,u)=>{const{lag:n=500,track:a,out:r=0}=u,g=a*2,{n:f}=u,m=f!==void 0?{...u,n:Array.isArray(f)?f[0]:f}:u,l=get_store_value(synths);Object.values(l[g]||{}).forEach(S=>S.mutate(m,C,n));const x=getChannel(g,r);x.mutate(m,C,n),[u.fx0,u.fx1,u.fx2,u.fx3].forEach((S,D)=>{S!==void 0&&x.send(D,S,C,n)})},fetchSamples=C=>{fetch(C).then(u=>u.json()).then(u=>{u&&(otoChannel$1.postMessage({type:"success",message:"Loaded samples from "+C}),samples$1.update(n=>({...n,...u})))}).catch(u=>console.log("No samples available at "+C))};fetchSamples("/samples/samples.json");fetchSamples("http://localhost:6060/samples.json");const updateSynthsSamples=C=>{Object.values(C).forEach(({sampler:u,granular:n,wavetable:a})=>[u,n,a].forEach(r=>r&&(r.banks={...r.banks,...get_store_value(samples$1)})))};synths.subscribe(C=>updateSynthsSamples(C));samples$1.subscribe(C=>{updateSynthsSamples(get_store_value(synths)),otoChannel$1.postMessage({type:"info",message:`Sample banks ->
`+Object.keys(C).join(", ")+`
`})});const handleFxEvent=(C,u,n)=>{if(!["fx0","fx1","fx2","fx3"].includes(u))return;const{out:a=0}=n;fxChannels[u].routeOut(a),fxChannels[u].set(n,C)},handleFxMutation=(C,u,n)=>{if(!["fx0","fx1","fx2","fx3"].includes(u))return;const{lag:a=500,out:r=0}=n;fxChannels[u].routeOut(r),fxChannels[u].mutate(n,C,a)},channel$1=new BroadcastChannel("zen");channel$1.onmessage=({data:{type:C,data:u}})=>{if(C!=="action")return;const{time:n,delta:a,events:r,mutations:g}=u;r.forEach(({id:f,eparams:m})=>{handleEvent(n,a,f,m)}),g.forEach(({id:f,mparams:m})=>{handleMutation(n,a,f,m)})};function handleEvent(C,u,n,a){handleMidiEvent(u,n,a),n.startsWith("s")&&handleSynthEvent(C,a),n.startsWith("fx")&&handleFxEvent(C,n,a)}function handleMutation(C,u,n,a){handleMidiMutation(u,n,a),n.startsWith("s")&&handleSynthMutation(C,a),n.startsWith("fx")&&handleFxMutation(C,n,a)}function loadSamples(C,u){samples$1.update(n=>(Object.keys(C).forEach(a=>{const r=C[a].map(g=>u?`${u}/${g}`:g);n[a]?n[a]=[...n[a],...r]:n[a]=r}),{...n}))}const editorValue=writable$1(""),t=writable$1(0),c=writable$1(0),q=writable$1(16),s=writable$1(16),editorConsole=writable$1({}),isPlaying=writable$1(!1),gates=writable$1([[],[],[],[],[],[],[],[]]),measurements$1=writable$1([0,0,0,0,0,0,0,0]),inputs=writable$1([0,0,0,0,0,0,0,0]),showCircuit=writable$1(!1),toggleCircuit=()=>showCircuit.update(C=>{const u=!C;return localStorage.setItem("z.circuit",u?"true":""),u});function initCircuit(){if(typeof localStorage>"u")return;localStorage.getItem("z.circuit")&&showCircuit.set(!0)}initCircuit();const messages=writable$1([]),initialMessages=[{type:"success",message:"Welcome to Zen!"},{type:"info",message:"shift + enter to play."},{type:"info",message:`esc to stop.
`},{type:"success",message:"Commands ->"},{type:"info",message:`instruments()
midi()
samples()
scales()
chords()
print()
clear()
`},{type:"credit",message:`© Cephas Teom ${new Date().getFullYear()}`}];initialMessages.forEach((C,u)=>{setTimeout(()=>{messages.update(n=>[...n,C])},(u+1)*300)});const print$1=(C,u)=>{messages.update(n=>[...n,{type:C,message:u}])},clear=()=>messages.set([]),visualsTypes=writable$1(["grid","sphere","none"]),visualsData=writable$1([]),gridData=writable$1([]);gridData.subscribe(C=>{C&&C.length?(get_store_value(visualsType)==="sphere"&&visualsType.set("grid"),visualsTypes.set(["grid","none"])):visualsTypes.set(["grid","sphere","none"])});const visualsType=writable$1("grid"),toggleVisuals=()=>{const C=get_store_value(visualsTypes),u=get_store_value(visualsType),n=C.indexOf(u),a=C[(n+1)%C.length];localStorage.setItem("z.visuals",a),visualsType.set(a)},showVisuals=derived(visualsType,C=>C!=="none");function initVisuals(){if(typeof localStorage>"u")return;const C=localStorage.getItem("z.visuals");C&&visualsType.set(C)}initVisuals();const zenChannel=new BroadcastChannel("zen");zenChannel.onmessage=({data:{message:C,type:u,data:n}})=>{if(u==="error"&&get_store_value(editorConsole)!==C)return editorConsole.set({type:u,message:C});if(["error","info","pattern","success","credit"].includes(u)&&print$1(u,C.toString()),u!=="action")return;const{t:a,c:r,q:g,s:f,delta:m,v:l,grid:x,gates:S,measurements:D,feedback:h,inputs:_}=n;setTimeout(()=>{t.set(a),c.set(r),q.set(g),s.set(f),gates.set(S),measurements$1.set(D),inputs.set(_),visualsData.set(l),gridData.set(x)},m*1e3)};const channel=new BroadcastChannel("zen"),otoChannel=new BroadcastChannel("oto"),samplesMessage=writable$1("");otoChannel.onmessage=({data:{message:C}})=>C.includes("Sample banks")&&samplesMessage.set(C);const lastCode=writable$1(""),code=writable$1(""),setCode=C=>code.set(C+`
`+Date.now());initMidiTriggers();const z=new Zen;window.z=z;const streams=Array(get_store_value(nStreams)).fill(0).map((C,u)=>new Stream("s"+u));window.streams=streams;streams.forEach(C=>window[C.id]=C);const fxstreams=Array(2).fill(0).map((C,u)=>new Stream("fx"+u));window.fxstreams=fxstreams;fxstreams.forEach(C=>window[C.id]=C);const qubits=Array(get_store_value(nStreams)).fill(0).map((C,u)=>new Wire("q"+u));window.qubits=qubits;qubits.forEach(C=>window[C._id]=C);const v=new Visuals$1;window.v=v;const d=new Data$1;window.d=d;Pattern.methods().forEach(C=>{const u=(...n)=>new Pattern().call(C,...n);Object.defineProperty(window,`$${C}`,{value:u,writable:!0,enumerable:!1,configurable:!1})});const print=C=>print$1("info",C.toString());window.print=print;const scales=()=>print$1("info",`Scales ->
`+Object.keys(modes).join(", "));window.scales=scales;const chords=()=>print$1("info",`Chords ->
`+Object.keys(triads).join(", "));window.chords=chords;const samples=()=>print$1("info",get_store_value(samplesMessage));window.samples=samples;const instruments=()=>print$1("info",`Instruments ->
0: synth
1: sampler
2: granular
3: additive
4: acid
5: drone
6: sub
7: superfm
8: wavetable`);window.instruments=instruments;const midi=()=>print$1("info",`Inputs ->
${wm.inputs.reduce((C,u,n)=>`${C}${n}: ${u.name},
`,"")}Outputs ->
${wm.outputs.reduce((C,u,n)=>`${C}${n}: ${u.name},
`,"")}`);window.midi=midi;window.clear=clear;window.loadSamples=loadSamples;const{bts:initBts,btms:initBtms,clamp,seed}=helpers,exportCircuit=(C="qasm")=>C==="qasm"?circuit.exportToQASM():circuit.exportToQiskit();window.exportCircuit=exportCircuit;let measurements=[];code.subscribe(code=>{streams.forEach(C=>C.reset()),fxstreams.forEach(C=>C.reset()),qubits.forEach(C=>C.clear()),z.reset(),z.resetGlobals(),circuit.clear(),circuit.numQubits=1;const bts=initBts(getBpm()),btms=initBtms(getBpm()),ms=btms;try{eval(code),lastCode.set(code);const{src="internal",device=0,srcBpm=120,relativeBpm=!1}=z.getClock();clockSource.set(src==="midi"?"midi":"internal"),midiClockDevice.set(device),midiClockConfig.set({srcBpm,relativeBpm});const{trigger="division",device:midiDevice=0}=z.getMode();mode.set(trigger),midiTriggerDevice.set(midiDevice)}catch(e){print$1("error",e.message),eval(get_store_value(lastCode))}});function evaluate(C,u){const n=z.getTime(C),a=z.s,r=z.q,g=z.c;setQ(r);const f=z.getSeed();f!==null&&seed(f);const m=z.getLatency();m!==null&&(context.lookAhead=Math.floor(m/1e3)),loop.interval=`${z.q}n`;const l=z.getBpm();l!==getBpm()&&(Transport.bpm.setValueAtTime(l,u),bpm.set(l)),Transport.swing=z.getSwing(),Transport.swingSubdivision=`${z.getSwingN()}n`,qubits.forEach(T=>T.build(n,r));const x=qubits.map(T=>T.feedback),S=x.map(T=>T>-1&&T<measurements.length?measurements[T]:0),D=circuit.gates;D.flat().length&&(circuit.run(S),measurements=circuit.measureAll());const h=[...streams,...fxstreams].map(T=>T.get(n,r,a,getBpm(),z)),_=h.filter(({solo:T})=>T),o=_.length?_:h,p=o.filter(({e:T})=>T),b=o.filter(({m:T})=>T),y=v.get(o.filter(({id:T})=>T.startsWith("s")).map(({x:T,y:O,z:j,id:M,e:F,m:B})=>({x:T,y:O,z:j,id:M,e:!!F,m:!!B}))),A=z.grid.get(n,r),E=u-immediate(),N={time:u,delta:E,t:n,s:a,q:r,c:g,events:p,mutations:b,gates:D,measurements,feedback:x,inputs:S,v:y,grid:A};channel.postMessage({type:"action",data:N})}let counter=createCount(0);const loop=new Loop(C=>{const u=counter();setT(u),getMode()==="division"&&evaluate(u,C)},`${z.q}n`).start(0),play=()=>{if(getClockSource()==="internal")return Transport.start("+0.1");Transport.stop(immediate()),!get_store_value(activeMidiClock)&&initMidiClock(),activeMidiClock.set(!0)},stop=()=>{Transport.stop(immediate()),counter=createCount(0),setT(0),activeMidiClock.set(!1)};async function startAudio(){await start(),console.log("started audio"),print$1("success","Started audio"),window.removeEventListener("keydown",startAudio),window.removeEventListener("click",startAudio),window.removeEventListener("touchstart",startAudio)}const presets=writable$1({}),activePreset=writable$1("");function initPresets(){const C=JSON.parse(localStorage.getItem("z.presets")||"{}");presets.update(u=>({...u,...C}))}initPresets();const presetKeys=derived(presets,C=>Object.keys(C).sort((u,n)=>u.localeCompare(n)));function savePreset(C){const u=JSON.parse(localStorage.getItem("z.presets")||"{}");u[C]=get_store_value(editorValue),localStorage.setItem("z.presets",JSON.stringify(u)),presets.update(n=>({...n,...u})),activePreset.set(C)}function deletePreset(C){const u=get_store_value(presets);delete u[C],presets.set({...u}),localStorage.setItem("z.presets",JSON.stringify(u))}const options={language:"javascript",theme:"vs-dark",fontSize:14,lineNumbers:"off",minimap:{enabled:!1},automaticLayout:!0,renderLineHighlight:"none",quickSuggestions:!1,wordWrap:"on",scrollbar:{vertical:"hidden",horizontal:"hidden",verticalScrollbarSize:0,horizontalScrollbarSize:0,useShadows:!1,verticalHasArrows:!1,horizontalHasArrows:!1,arrowSize:0},suggestOnTriggerCharacters:!1,acceptSuggestionOnEnter:"off",acceptSuggestionOnCommitCharacter:!1,wordBasedSuggestions:!1,snippetSuggestions:"none",roundedSelection:!1,tabSize:2,parameterHints:{enabled:!1},hover:{enabled:!1}},example=`s0.set({inst:0,cut:0,reverb:.5,delay:.25,vol:.5,modi:1.25,mods:0.1})
s0.p.n.set('Cpro%16..*16 | Cpro%16..?*16').s(12)
s0.p.s.noise(0.05,0.5,0.25)
s0.e.every(4).or($every(3))
`,parseGate=(C,u,n,a)=>{var l;if(!u)return C;const r=u.connector<1?u.name:"",g=Object.values(((l=u.options)==null?void 0:l.params)||{});let m=[circuit.gates.map((x,S)=>x[n]&&x[n].connector>0?S:null).filter(x=>x!==null),g].reduce((x,S,D,h)=>x+(S.length?JSON.stringify(S)+", ":""),"");return m.endsWith(", ")&&(m=m.slice(0,-2)),r?C+"."+r+"("+m+")":C},parseQasm=C=>{const u=C.indexOf('"OPENQASM'),n=C.indexOf('n"',u)+2,a=C.substring(u,n);if(a.length<10)return C;circuit.importQASM(a.replace(/\\n/g,`
`).replace(/\\"/g,'"').slice(1,-1),g=>console.log(g));const r=circuit.gates.reduce((g,f,m)=>{const l=f.reduce(parseGate,"");let x=g;return l&&(x+=`s${m}.wire`+l),x+`
`},"");return C.replace(a,r)},parseCode=C=>pipe(parseQasm)(C),Editor_svelte_svelte_type_style_lang="",{window:window_1}=globals;function create_fragment$b(C){let u,n,a,r,g,f,m,l,x,S,D,h,_=C[0].message+"",o,p,b;return{c(){u=element("div"),n=element("div"),a=space(),r=element("div"),g=element("ul"),f=element("li"),m=element("span"),l=text(C[4]),x=text(":"),D=space(),h=element("span"),o=text(_),this.h()},l(y){u=claim_element(y,"DIV",{class:!0});var A=children(u);n=claim_element(A,"DIV",{class:!0}),children(n).forEach(detach),a=claim_space(A),r=claim_element(A,"DIV",{class:!0});var E=children(r);g=claim_element(E,"UL",{class:!0});var N=children(g);f=claim_element(N,"LI",{class:!0});var T=children(f);m=claim_element(T,"SPAN",{class:!0});var O=children(m);l=claim_text(O,C[4]),x=claim_text(O,":"),O.forEach(detach),D=claim_space(T),h=claim_element(T,"SPAN",{});var j=children(h);o=claim_text(j,_),j.forEach(detach),T.forEach(detach),N.forEach(detach),E.forEach(detach),A.forEach(detach),this.h()},h(){attr(n,"class","editor svelte-1l896jl"),attr(m,"class",S=null_to_empty(C[4])+" svelte-1l896jl"),attr(f,"class","svelte-1l896jl"),toggle_class(f,"hidden",!C[4]),attr(g,"class","svelte-1l896jl"),attr(r,"class","notices svelte-1l896jl"),attr(u,"class","container svelte-1l896jl"),toggle_class(u,"flash",C[3])},m(y,A){insert_hydration(y,u,A),append_hydration(u,n),C[6](n),append_hydration(u,a),append_hydration(u,r),append_hydration(r,g),append_hydration(g,f),append_hydration(f,m),append_hydration(m,l),append_hydration(m,x),append_hydration(f,D),append_hydration(f,h),append_hydration(h,o),p||(b=listen(window_1,"resize",C[5]),p=!0)},p(y,[A]){A&16&&set_data(l,y[4]),A&16&&S!==(S=null_to_empty(y[4])+" svelte-1l896jl")&&attr(m,"class",S),A&1&&_!==(_=y[0].message+"")&&set_data(o,_),A&16&&toggle_class(f,"hidden",!y[4]),A&8&&toggle_class(u,"flash",y[3])},i:noop,o:noop,d(y){y&&detach(u),C[6](null),p=!1,b()}}}function instance$b(C,u,n){let a,r,g;component_subscribe(C,editorConsole,_=>n(0,r=_)),component_subscribe(C,presets,_=>n(8,g=_));let f,m,l,x=!1;function S(){editorConsole.set({});const _=parseCode(f.getValue());setCode(_);const o=f.getPosition(),p=f.getModel();p&&p.pushEditOperations([],[{range:p.getFullModelRange(),text:_}],()=>null),o&&f.setPosition(o),play(),isPlaying.set(!0),n(3,x=!0),setTimeout(()=>n(3,x=!1),400)}onMount(async()=>{m=await loader.init(),n(1,f=m.editor.create(l,options));const _=m.editor.createModel(localStorage.getItem("z.code")||example,void 0,m.Uri.file("sample.js"));f.setModel(_),editorValue.set(f.getValue()),f.onKeyDown(o=>{editorValue.set(f.getValue()),localStorage.setItem("z.code",f.getValue()),o.keyCode===9&&(stop(),isPlaying.set(!1)),o.keyCode===3&&o.shiftKey&&(o.preventDefault(),S())}),activePreset.subscribe(o=>{o&&g[o]&&(f.setValue(g[o]||""),editorValue.set(f.getValue()))}),isPlaying.subscribe(o=>o?S():stop()),window.addEventListener("onLoadCode",o=>{const p=o.detail.code;p!==""&&(f.setValue(p),editorValue.set(f.getValue()))})}),onDestroy(()=>{m==null||m.editor.getModels().forEach(_=>_.dispose())});const D=()=>{f==null||f.layout({})};function h(_){binding_callbacks[_?"unshift":"push"](()=>{l=_,n(2,l)})}return C.$$.update=()=>{C.$$.dirty&1&&n(4,a=r.type?r.type.charAt(0).toUpperCase()+r.type.slice(1):null)},[r,f,l,x,a,D,h]}class Editor extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$b,create_fragment$b,safe_not_equal,{})}}function create_fragment$a(C){let u,n,a;return{c(){u=element("div"),this.h()},l(r){u=claim_element(r,"DIV",{style:!0,class:!0}),children(u).forEach(detach),this.h()},h(){attr(u,"style",C[0]),attr(u,"class","m-0")},m(r,g){insert_hydration(r,u,g),n||(a=action_destroyer(C[1].call(null,u)),n=!0)},p(r,[g]){g&1&&attr(u,"style",r[0])},i:noop,o:noop,d(r){r&&detach(u),n=!1,a()}}}function augmentClasses(C,u){return u.forEach(([n,a])=>C[n]=a),C}function instance$a(C,u,n){let{target:a=void 0}=u,{sketch:r=void 0}=u,{parentDivStyle:g="display: block;"}=u,{debug:f=!1}=u,m;const l=createEventDispatcher(),x={ref(){l("ref",a)},instance(){l("instance",m)}};function S(D){return n(2,a=D),{destroy(){n(2,a=void 0)}}}return onMount(async()=>{const D=await __vitePreload(()=>Promise.resolve().then(()=>p5_min$1),void 0,import.meta.url),{default:h}=D,o=Object.entries(D).filter(([p,b])=>b instanceof Function&&p[0]!=="_"&&p!=="default");f&&console.log("available p5 native classes",o),m=new h(p=>(p=augmentClasses(p,o),f&&console.log("p5 instance",p),window._p5Instance=p,r(p)),a),x.ref(),x.instance()}),C.$$set=D=>{"target"in D&&n(2,a=D.target),"sketch"in D&&n(3,r=D.sketch),"parentDivStyle"in D&&n(0,g=D.parentDivStyle),"debug"in D&&n(4,f=D.debug)},[g,S,a,r,f]}class P5 extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$a,create_fragment$a,safe_not_equal,{target:2,sketch:3,parentDivStyle:0,debug:4})}}var p5_min$2={exports:{}};/*! p5.js v1.11.5 April 17, 2025 */(function(C,u){(function(n){C.exports=n()})(function(){var n;return function a(r,g,f){function m(S,D){if(!g[S]){if(!r[S]){var h=typeof commonjsRequire=="function"&&commonjsRequire;if(!D&&h)return h(S,!0);if(l)return l(S,!0);throw(D=new Error("Cannot find module '"+S+"'")).code="MODULE_NOT_FOUND",D}h=g[S]={exports:{}},r[S][0].call(h.exports,function(_){return m(r[S][1][_]||_)},h,h.exports,a,r,g,f)}return g[S].exports}for(var l=typeof commonjsRequire=="function"&&commonjsRequire,x=0;x<f.length;x++)m(f[x]);return m}({1:[function(a,r,g){g.byteLength=function(p){var p=h(p),o=p[0],p=p[1];return 3*(o+p)/4-p},g.toByteArray=function(_){var o,p,y=h(_),b=y[0],y=y[1],A=new l(function(T,O){return 3*(T+O)/4-O}(b,y)),E=0,N=0<y?b-4:b;for(p=0;p<N;p+=4)o=m[_.charCodeAt(p)]<<18|m[_.charCodeAt(p+1)]<<12|m[_.charCodeAt(p+2)]<<6|m[_.charCodeAt(p+3)],A[E++]=o>>16&255,A[E++]=o>>8&255,A[E++]=255&o;return y===2&&(o=m[_.charCodeAt(p)]<<2|m[_.charCodeAt(p+1)]>>4,A[E++]=255&o),y===1&&(o=m[_.charCodeAt(p)]<<10|m[_.charCodeAt(p+1)]<<4|m[_.charCodeAt(p+2)]>>2,A[E++]=o>>8&255,A[E++]=255&o),A},g.fromByteArray=function(_){for(var o,p=_.length,b=p%3,y=[],A=0,E=p-b;A<E;A+=16383)y.push(function(N,T,O){for(var j,M=[],F=T;F<O;F+=3)j=(N[F]<<16&16711680)+(N[F+1]<<8&65280)+(255&N[F+2]),M.push(function(B){return f[B>>18&63]+f[B>>12&63]+f[B>>6&63]+f[63&B]}(j));return M.join("")}(_,A,E<A+16383?E:A+16383));return b==1?(o=_[p-1],y.push(f[o>>2]+f[o<<4&63]+"==")):b==2&&(o=(_[p-2]<<8)+_[p-1],y.push(f[o>>10]+f[o>>4&63]+f[o<<2&63]+"=")),y.join("")};for(var f=[],m=[],l=typeof Uint8Array<"u"?Uint8Array:Array,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,D=x.length;S<D;++S)f[S]=x[S],m[x.charCodeAt(S)]=S;function h(_){var o=_.length;if(0<o%4)throw new Error("Invalid string. Length must be a multiple of 4");return _=_.indexOf("="),o=(_=_===-1?o:_)===o?0:4-_%4,[_,o]}m["-".charCodeAt(0)]=62,m["_".charCodeAt(0)]=63},{}],2:[function(a,r,g){},{}],3:[function(a,r,g){},{}],4:[function(a,r,g){(function(h){var m=a("base64-js"),l=a("ieee754"),x=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,S=(g.Buffer=h,g.SlowBuffer=function($){return+$!=$&&($=0),h.alloc(+$)},g.INSPECT_MAX_BYTES=50,2147483647);function D($){if(S<$)throw new RangeError('The value "'+$+'" is invalid for option "size"');return $=new Uint8Array($),Object.setPrototypeOf($,h.prototype),$}function h($,W,Y){if(typeof $!="number")return _($,W,Y);if(typeof W=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p($)}function _($,W,Y){if(typeof $=="string"){var te=$,ce=W;if(h.isEncoding(ce=typeof ce=="string"&&ce!==""?ce:"utf8"))return oe=0|A(te,ce),ue=D(oe),ue=(te=ue.write(te,ce))!==oe?ue.slice(0,te):ue;throw new TypeError("Unknown encoding: "+ce)}if(ArrayBuffer.isView($))return b($);if($!=null){if(Z($,ArrayBuffer)||$&&Z($.buffer,ArrayBuffer)){var oe=$,te=W,ue=Y;if(te<0||oe.byteLength<te)throw new RangeError('"offset" is outside of buffer bounds');if(oe.byteLength<te+(ue||0))throw new RangeError('"length" is outside of buffer bounds');return oe=te===void 0&&ue===void 0?new Uint8Array(oe):ue===void 0?new Uint8Array(oe,te):new Uint8Array(oe,te,ue),Object.setPrototypeOf(oe,h.prototype),oe}if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(ce=$.valueOf&&$.valueOf(),ce!=null&&ce!==$)return h.from(ce,W,Y);var Ce=function(le){{var ye,ve;if(h.isBuffer(le))return ye=0|y(le.length),(ve=D(ye)).length!==0&&le.copy(ve,0,0,ye),ve}if(le.length!==void 0)return typeof le.length!="number"||J(le.length)?D(0):b(le);if(le.type==="Buffer"&&Array.isArray(le.data))return b(le.data)}($);if(Ce)return Ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return h.from($[Symbol.toPrimitive]("string"),W,Y)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}function o($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function p($){return o($),D($<0?0:0|y($))}function b($){for(var W=$.length<0?0:0|y($.length),Y=D(W),te=0;te<W;te+=1)Y[te]=255&$[te];return Y}function y($){if(S<=$)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return 0|$}function A($,W){if(h.isBuffer($))return $.length;if(ArrayBuffer.isView($)||Z($,ArrayBuffer))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);var Y=$.length,te=2<arguments.length&&arguments[2]===!0;if(!te&&Y===0)return 0;for(var ce=!1;;)switch(W){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":return L($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Y;case"hex":return Y>>>1;case"base64":return H($).length;default:if(ce)return te?-1:L($).length;W=(""+W).toLowerCase(),ce=!0}}function E($,W,Y){var te,ce=!1;if((W=W===void 0||W<0?0:W)>this.length||(Y=Y===void 0||Y>this.length?this.length:Y)<=0||(Y>>>=0)<=(W>>>=0))return"";for($=$||"utf8";;)switch($){case"hex":var oe=this,ne=W,ue=Y,ve=oe.length;(!ue||ue<0||ve<ue)&&(ue=ve);for(var Ce="",le=ne=!ne||ne<0?0:ne;le<ue;++le)Ce+=K[oe[le]];return Ce;case"utf8":case"utf-8":return F(this,W,Y);case"ascii":var ye=this,ve=W,pe=Y,be="";pe=Math.min(ye.length,pe);for(var Ne=ve;Ne<pe;++Ne)be+=String.fromCharCode(127&ye[Ne]);return be;case"latin1":case"binary":var he=this,ne=W,re=Y,de="";re=Math.min(he.length,re);for(var xe=ne;xe<re;++xe)de+=String.fromCharCode(he[xe]);return de;case"base64":return Pe=this,te=Y,(Ae=W)===0&&te===Pe.length?m.fromByteArray(Pe):m.fromByteArray(Pe.slice(Ae,te));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Pe=W,Ae=Y,Oe=this.slice(Pe,Ae),Se="",Fe=0;Fe<Oe.length;Fe+=2)Se+=String.fromCharCode(Oe[Fe]+256*Oe[Fe+1]);return Se;default:if(ce)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),ce=!0}}function N($,W,Y){var te=$[W];$[W]=$[Y],$[Y]=te}function T($,W,Y,te,ce){if($.length===0)return-1;if(typeof Y=="string"?(te=Y,Y=0):2147483647<Y?Y=2147483647:Y<-2147483648&&(Y=-2147483648),(Y=(Y=J(Y=+Y)?ce?0:$.length-1:Y)<0?$.length+Y:Y)>=$.length){if(ce)return-1;Y=$.length-1}else if(Y<0){if(!ce)return-1;Y=0}if(typeof W=="string"&&(W=h.from(W,te)),h.isBuffer(W))return W.length===0?-1:O($,W,Y,te,ce);if(typeof W=="number")return W&=255,typeof Uint8Array.prototype.indexOf=="function"?(ce?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call($,W,Y):O($,[W],Y,te,ce);throw new TypeError("val must be string, number or Buffer")}function O($,W,Y,te,ce){var oe=1,ue=$.length,Ce=W.length;if(te!==void 0&&((te=String(te).toLowerCase())==="ucs2"||te==="ucs-2"||te==="utf16le"||te==="utf-16le")){if($.length<2||W.length<2)return-1;ue/=oe=2,Ce/=2,Y/=2}function le(Ne,he){return oe===1?Ne[he]:Ne.readUInt16BE(he*oe)}if(ce)for(var ye=-1,ve=Y;ve<ue;ve++)if(le($,ve)===le(W,ye===-1?0:ve-ye)){if(ve-(ye=ye===-1?ve:ye)+1===Ce)return ye*oe}else ye!==-1&&(ve-=ve-ye),ye=-1;else for(ve=Y=ue<Y+Ce?ue-Ce:Y;0<=ve;ve--){for(var pe=!0,be=0;be<Ce;be++)if(le($,ve+be)!==le(W,be)){pe=!1;break}if(pe)return ve}return-1}function j($,W,Y,te){return X(function(ce){for(var oe=[],ue=0;ue<ce.length;++ue)oe.push(255&ce.charCodeAt(ue));return oe}(W),$,Y,te)}function M($,W,Y,te){return X(function(ce,oe){for(var ue,Ce,le=[],ye=0;ye<ce.length&&!((oe-=2)<0);++ye)Ce=ce.charCodeAt(ye),ue=Ce>>8,Ce=Ce%256,le.push(Ce),le.push(ue);return le}(W,$.length-Y),$,Y,te)}function F($,W,Y){Y=Math.min($.length,Y);for(var te=[],ce=W;ce<Y;){var oe,ue,Ce,le,ye=$[ce],ve=null,pe=239<ye?4:223<ye?3:191<ye?2:1;if(ce+pe<=Y)switch(pe){case 1:ye<128&&(ve=ye);break;case 2:(192&(oe=$[ce+1]))==128&&127<(le=(31&ye)<<6|63&oe)&&(ve=le);break;case 3:oe=$[ce+1],ue=$[ce+2],(192&oe)==128&&(192&ue)==128&&2047<(le=(15&ye)<<12|(63&oe)<<6|63&ue)&&(le<55296||57343<le)&&(ve=le);break;case 4:oe=$[ce+1],ue=$[ce+2],Ce=$[ce+3],(192&oe)==128&&(192&ue)==128&&(192&Ce)==128&&65535<(le=(15&ye)<<18|(63&oe)<<12|(63&ue)<<6|63&Ce)&&le<1114112&&(ve=le)}ve===null?(ve=65533,pe=1):65535<ve&&(ve-=65536,te.push(ve>>>10&1023|55296),ve=56320|1023&ve),te.push(ve),ce+=pe}var be=te,Ne=be.length;if(Ne<=B)return String.fromCharCode.apply(String,be);for(var he="",ne=0;ne<Ne;)he+=String.fromCharCode.apply(String,be.slice(ne,ne+=B));return he}g.kMaxLength=S,(h.TYPED_ARRAY_SUPPORT=function(){try{var $=new Uint8Array(1),W={foo:function(){return 42}};return Object.setPrototypeOf(W,Uint8Array.prototype),Object.setPrototypeOf($,W),$.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=_,Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function($,W,Y){return W=W,Y=Y,o($=$),!($<=0)&&W!==void 0?typeof Y=="string"?D($).fill(W,Y):D($).fill(W):D($)},h.allocUnsafe=p,h.allocUnsafeSlow=p,h.isBuffer=function($){return $!=null&&$._isBuffer===!0&&$!==h.prototype},h.compare=function($,W){if(Z($,Uint8Array)&&($=h.from($,$.offset,$.byteLength)),Z(W,Uint8Array)&&(W=h.from(W,W.offset,W.byteLength)),!h.isBuffer($)||!h.isBuffer(W))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($===W)return 0;for(var Y=$.length,te=W.length,ce=0,oe=Math.min(Y,te);ce<oe;++ce)if($[ce]!==W[ce]){Y=$[ce],te=W[ce];break}return Y<te?-1:te<Y?1:0},h.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function($,W){if(!Array.isArray($))throw new TypeError('"list" argument must be an Array of Buffers');if($.length===0)return h.alloc(0);if(W===void 0)for(ce=W=0;ce<$.length;++ce)W+=$[ce].length;for(var Y=h.allocUnsafe(W),te=0,ce=0;ce<$.length;++ce){var oe=$[ce];if(Z(oe,Uint8Array)&&(oe=h.from(oe)),!h.isBuffer(oe))throw new TypeError('"list" argument must be an Array of Buffers');oe.copy(Y,te),te+=oe.length}return Y},h.byteLength=A,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var $=this.length;if($%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var W=0;W<$;W+=2)N(this,W,W+1);return this},h.prototype.swap32=function(){var $=this.length;if($%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var W=0;W<$;W+=4)N(this,W,W+3),N(this,W+1,W+2);return this},h.prototype.swap64=function(){var $=this.length;if($%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var W=0;W<$;W+=8)N(this,W,W+7),N(this,W+1,W+6),N(this,W+2,W+5),N(this,W+3,W+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var $=this.length;return $===0?"":arguments.length===0?F(this,0,$):E.apply(this,arguments)},h.prototype.equals=function($){if(h.isBuffer($))return this===$||h.compare(this,$)===0;throw new TypeError("Argument must be a Buffer")},h.prototype.inspect=function(){var W="",$=g.INSPECT_MAX_BYTES,W=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim();return this.length>$&&(W+=" ... "),"<Buffer "+W+">"},x&&(h.prototype[x]=h.prototype.inspect),h.prototype.compare=function($,W,Y,te,ce){if(Z($,Uint8Array)&&($=h.from($,$.offset,$.byteLength)),!h.isBuffer($))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $);if(Y===void 0&&(Y=$?$.length:0),te===void 0&&(te=0),ce===void 0&&(ce=this.length),(W=W===void 0?0:W)<0||Y>$.length||te<0||ce>this.length)throw new RangeError("out of range index");if(ce<=te&&Y<=W)return 0;if(ce<=te)return-1;if(Y<=W)return 1;if(this===$)return 0;for(var oe=(ce>>>=0)-(te>>>=0),ue=(Y>>>=0)-(W>>>=0),Ce=Math.min(oe,ue),le=this.slice(te,ce),ye=$.slice(W,Y),ve=0;ve<Ce;++ve)if(le[ve]!==ye[ve]){oe=le[ve],ue=ye[ve];break}return oe<ue?-1:ue<oe?1:0},h.prototype.includes=function($,W,Y){return this.indexOf($,W,Y)!==-1},h.prototype.indexOf=function($,W,Y){return T(this,$,W,Y,!0)},h.prototype.lastIndexOf=function($,W,Y){return T(this,$,W,Y,!1)},h.prototype.write=function($,W,Y,te){if(W===void 0)te="utf8",Y=this.length,W=0;else if(Y===void 0&&typeof W=="string")te=W,Y=this.length,W=0;else{if(!isFinite(W))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");W>>>=0,isFinite(Y)?(Y>>>=0,te===void 0&&(te="utf8")):(te=Y,Y=void 0)}var ce=this.length-W;if((Y===void 0||ce<Y)&&(Y=ce),0<$.length&&(Y<0||W<0)||W>this.length)throw new RangeError("Attempt to write outside buffer bounds");te=te||"utf8";for(var oe,ue,Ce,le=!1;;)switch(te){case"hex":var ye=this,ve=$,pe=W,be=Y,Ne=(pe=Number(pe)||0,ye.length-pe);(!be||Ne<(be=Number(be)))&&(be=Ne),(Ne=ve.length)/2<be&&(be=Ne/2);for(var he=0;he<be;++he){var ne=parseInt(ve.substr(2*he,2),16);if(J(ne))return he;ye[pe+he]=ne}return he;case"utf8":case"utf-8":return Ne=W,Ce=Y,X(L($,(ue=this).length-Ne),ue,Ne,Ce);case"ascii":return j(this,$,W,Y);case"latin1":case"binary":return j(this,$,W,Y);case"base64":return ue=this,Ce=W,oe=Y,X(H($),ue,Ce,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,$,W,Y);default:if(le)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),le=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function I($,W,Y){if($%1!=0||$<0)throw new RangeError("offset is not uint");if(Y<$+W)throw new RangeError("Trying to access beyond buffer length")}function G($,W,Y,te,ce,oe){if(!h.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(ce<W||W<oe)throw new RangeError('"value" argument is out of bounds');if(Y+te>$.length)throw new RangeError("Index out of range")}function k($,W,Y,te){if(Y+te>$.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("Index out of range")}function V($,W,Y,te,ce){return W=+W,Y>>>=0,ce||k($,0,Y,4),l.write($,W,Y,te,23,4),Y+4}function R($,W,Y,te,ce){return W=+W,Y>>>=0,ce||k($,0,Y,8),l.write($,W,Y,te,52,8),Y+8}h.prototype.slice=function($,W){var Y=this.length,Y=(($=~~$)<0?($+=Y)<0&&($=0):Y<$&&($=Y),(W=W===void 0?Y:~~W)<0?(W+=Y)<0&&(W=0):Y<W&&(W=Y),W<$&&(W=$),this.subarray($,W));return Object.setPrototypeOf(Y,h.prototype),Y},h.prototype.readUIntLE=function($,W,Y){$>>>=0,W>>>=0,Y||I($,W,this.length);for(var te=this[$],ce=1,oe=0;++oe<W&&(ce*=256);)te+=this[$+oe]*ce;return te},h.prototype.readUIntBE=function($,W,Y){$>>>=0,W>>>=0,Y||I($,W,this.length);for(var te=this[$+--W],ce=1;0<W&&(ce*=256);)te+=this[$+--W]*ce;return te},h.prototype.readUInt8=function($,W){return $>>>=0,W||I($,1,this.length),this[$]},h.prototype.readUInt16LE=function($,W){return $>>>=0,W||I($,2,this.length),this[$]|this[$+1]<<8},h.prototype.readUInt16BE=function($,W){return $>>>=0,W||I($,2,this.length),this[$]<<8|this[$+1]},h.prototype.readUInt32LE=function($,W){return $>>>=0,W||I($,4,this.length),(this[$]|this[$+1]<<8|this[$+2]<<16)+16777216*this[$+3]},h.prototype.readUInt32BE=function($,W){return $>>>=0,W||I($,4,this.length),16777216*this[$]+(this[$+1]<<16|this[$+2]<<8|this[$+3])},h.prototype.readIntLE=function($,W,Y){$>>>=0,W>>>=0,Y||I($,W,this.length);for(var te=this[$],ce=1,oe=0;++oe<W&&(ce*=256);)te+=this[$+oe]*ce;return(ce*=128)<=te&&(te-=Math.pow(2,8*W)),te},h.prototype.readIntBE=function($,W,Y){$>>>=0,W>>>=0,Y||I($,W,this.length);for(var te=W,ce=1,oe=this[$+--te];0<te&&(ce*=256);)oe+=this[$+--te]*ce;return(ce*=128)<=oe&&(oe-=Math.pow(2,8*W)),oe},h.prototype.readInt8=function($,W){return $>>>=0,W||I($,1,this.length),128&this[$]?-1*(255-this[$]+1):this[$]},h.prototype.readInt16LE=function($,W){return $>>>=0,W||I($,2,this.length),W=this[$]|this[$+1]<<8,32768&W?4294901760|W:W},h.prototype.readInt16BE=function($,W){return $>>>=0,W||I($,2,this.length),W=this[$+1]|this[$]<<8,32768&W?4294901760|W:W},h.prototype.readInt32LE=function($,W){return $>>>=0,W||I($,4,this.length),this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24},h.prototype.readInt32BE=function($,W){return $>>>=0,W||I($,4,this.length),this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]},h.prototype.readFloatLE=function($,W){return $>>>=0,W||I($,4,this.length),l.read(this,$,!0,23,4)},h.prototype.readFloatBE=function($,W){return $>>>=0,W||I($,4,this.length),l.read(this,$,!1,23,4)},h.prototype.readDoubleLE=function($,W){return $>>>=0,W||I($,8,this.length),l.read(this,$,!0,52,8)},h.prototype.readDoubleBE=function($,W){return $>>>=0,W||I($,8,this.length),l.read(this,$,!1,52,8)},h.prototype.writeUIntLE=function($,W,Y,te){$=+$,W>>>=0,Y>>>=0,te||G(this,$,W,Y,Math.pow(2,8*Y)-1,0);var ce=1,oe=0;for(this[W]=255&$;++oe<Y&&(ce*=256);)this[W+oe]=$/ce&255;return W+Y},h.prototype.writeUIntBE=function($,W,Y,te){$=+$,W>>>=0,Y>>>=0,te||G(this,$,W,Y,Math.pow(2,8*Y)-1,0);var ce=Y-1,oe=1;for(this[W+ce]=255&$;0<=--ce&&(oe*=256);)this[W+ce]=$/oe&255;return W+Y},h.prototype.writeUInt8=function($,W,Y){return $=+$,W>>>=0,Y||G(this,$,W,1,255,0),this[W]=255&$,W+1},h.prototype.writeUInt16LE=function($,W,Y){return $=+$,W>>>=0,Y||G(this,$,W,2,65535,0),this[W]=255&$,this[W+1]=$>>>8,W+2},h.prototype.writeUInt16BE=function($,W,Y){return $=+$,W>>>=0,Y||G(this,$,W,2,65535,0),this[W]=$>>>8,this[W+1]=255&$,W+2},h.prototype.writeUInt32LE=function($,W,Y){return $=+$,W>>>=0,Y||G(this,$,W,4,4294967295,0),this[W+3]=$>>>24,this[W+2]=$>>>16,this[W+1]=$>>>8,this[W]=255&$,W+4},h.prototype.writeUInt32BE=function($,W,Y){return $=+$,W>>>=0,Y||G(this,$,W,4,4294967295,0),this[W]=$>>>24,this[W+1]=$>>>16,this[W+2]=$>>>8,this[W+3]=255&$,W+4},h.prototype.writeIntLE=function($,W,Y,te){$=+$,W>>>=0,te||G(this,$,W,Y,(te=Math.pow(2,8*Y-1))-1,-te);var ce=0,oe=1,ue=0;for(this[W]=255&$;++ce<Y&&(oe*=256);)$<0&&ue===0&&this[W+ce-1]!==0&&(ue=1),this[W+ce]=($/oe>>0)-ue&255;return W+Y},h.prototype.writeIntBE=function($,W,Y,te){$=+$,W>>>=0,te||G(this,$,W,Y,(te=Math.pow(2,8*Y-1))-1,-te);var ce=Y-1,oe=1,ue=0;for(this[W+ce]=255&$;0<=--ce&&(oe*=256);)$<0&&ue===0&&this[W+ce+1]!==0&&(ue=1),this[W+ce]=($/oe>>0)-ue&255;return W+Y},h.prototype.writeInt8=function($,W,Y){return $=+$,W>>>=0,Y||G(this,$,W,1,127,-128),this[W]=255&($=$<0?255+$+1:$),W+1},h.prototype.writeInt16LE=function($,W,Y){return $=+$,W>>>=0,Y||G(this,$,W,2,32767,-32768),this[W]=255&$,this[W+1]=$>>>8,W+2},h.prototype.writeInt16BE=function($,W,Y){return $=+$,W>>>=0,Y||G(this,$,W,2,32767,-32768),this[W]=$>>>8,this[W+1]=255&$,W+2},h.prototype.writeInt32LE=function($,W,Y){return $=+$,W>>>=0,Y||G(this,$,W,4,2147483647,-2147483648),this[W]=255&$,this[W+1]=$>>>8,this[W+2]=$>>>16,this[W+3]=$>>>24,W+4},h.prototype.writeInt32BE=function($,W,Y){return $=+$,W>>>=0,Y||G(this,$,W,4,2147483647,-2147483648),this[W]=($=$<0?4294967295+$+1:$)>>>24,this[W+1]=$>>>16,this[W+2]=$>>>8,this[W+3]=255&$,W+4},h.prototype.writeFloatLE=function($,W,Y){return V(this,$,W,!0,Y)},h.prototype.writeFloatBE=function($,W,Y){return V(this,$,W,!1,Y)},h.prototype.writeDoubleLE=function($,W,Y){return R(this,$,W,!0,Y)},h.prototype.writeDoubleBE=function($,W,Y){return R(this,$,W,!1,Y)},h.prototype.copy=function($,W,Y,te){if(!h.isBuffer($))throw new TypeError("argument should be a Buffer");if(Y=Y||0,te||te===0||(te=this.length),W>=$.length&&(W=$.length),(te=0<te&&te<Y?Y:te)===Y||$.length===0||this.length===0)return 0;if((W=W||0)<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length);var ce=(te=$.length-W<te-Y?$.length-W+Y:te)-Y;if(this===$&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(W,Y,te);else if(this===$&&Y<W&&W<te)for(var oe=ce-1;0<=oe;--oe)$[oe+W]=this[oe+Y];else Uint8Array.prototype.set.call($,this.subarray(Y,te),W);return ce},h.prototype.fill=function($,W,Y,te){if(typeof $=="string"){if(typeof W=="string"?(te=W,W=0,Y=this.length):typeof Y=="string"&&(te=Y,Y=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!h.isEncoding(te))throw new TypeError("Unknown encoding: "+te);var ce;$.length===1&&(ce=$.charCodeAt(0),(te==="utf8"&&ce<128||te==="latin1")&&($=ce))}else typeof $=="number"?$&=255:typeof $=="boolean"&&($=Number($));if(W<0||this.length<W||this.length<Y)throw new RangeError("Out of range index");var oe;if(!(Y<=W))if(W>>>=0,Y=Y===void 0?this.length:Y>>>0,typeof($=$||0)=="number")for(oe=W;oe<Y;++oe)this[oe]=$;else{var ue=h.isBuffer($)?$:h.from($,te),Ce=ue.length;if(Ce===0)throw new TypeError('The value "'+$+'" is invalid for argument "value"');for(oe=0;oe<Y-W;++oe)this[oe+W]=ue[oe%Ce]}return this};var U=/[^+/0-9A-Za-z-_]/g;function L($,W){W=W||1/0;for(var Y,te=$.length,ce=null,oe=[],ue=0;ue<te;++ue){if(55295<(Y=$.charCodeAt(ue))&&Y<57344){if(!ce){if(56319<Y){-1<(W-=3)&&oe.push(239,191,189);continue}if(ue+1===te){-1<(W-=3)&&oe.push(239,191,189);continue}ce=Y;continue}if(Y<56320){-1<(W-=3)&&oe.push(239,191,189),ce=Y;continue}Y=65536+(ce-55296<<10|Y-56320)}else ce&&-1<(W-=3)&&oe.push(239,191,189);if(ce=null,Y<128){if(--W<0)break;oe.push(Y)}else if(Y<2048){if((W-=2)<0)break;oe.push(Y>>6|192,63&Y|128)}else if(Y<65536){if((W-=3)<0)break;oe.push(Y>>12|224,Y>>6&63|128,63&Y|128)}else{if(!(Y<1114112))throw new Error("Invalid code point");if((W-=4)<0)break;oe.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,63&Y|128)}}return oe}function H($){return m.toByteArray(function(W){if((W=(W=W.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;W.length%4!=0;)W+="=";return W}($))}function X($,W,Y,te){for(var ce=0;ce<te&&!(ce+Y>=W.length||ce>=$.length);++ce)W[ce+Y]=$[ce];return ce}function Z($,W){return $ instanceof W||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===W.name}function J($){return $!=$}var K=function(){for(var $="0123456789abcdef",W=new Array(256),Y=0;Y<16;++Y)for(var te=16*Y,ce=0;ce<16;++ce)W[te+ce]=$[Y]+$[ce];return W}()}).call(this,a("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(a,r,g){r.exports=function(f){if(typeof f!="function")throw TypeError(String(f)+" is not a function");return f}},{}],6:[function(a,r,g){var f=a("../internals/is-object");r.exports=function(m){if(f(m)||m===null)return m;throw TypeError("Can't set "+String(m)+" as a prototype")}},{"../internals/is-object":75}],7:[function(l,r,g){var f=l("../internals/well-known-symbol"),m=l("../internals/object-create"),l=l("../internals/object-define-property"),x=f("unscopables"),S=Array.prototype;S[x]==null&&l.f(S,x,{configurable:!0,value:m(null)}),r.exports=function(D){S[x][D]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(a,r,g){var f=a("../internals/string-multibyte").charAt;r.exports=function(m,l,x){return l+(x?f(m,l).length:1)}},{"../internals/string-multibyte":125}],9:[function(a,r,g){r.exports=function(f,m,l){if(f instanceof m)return f;throw TypeError("Incorrect "+(l?l+" ":"")+"invocation")}},{}],10:[function(a,r,g){var f=a("../internals/is-object");r.exports=function(m){if(f(m))return m;throw TypeError(String(m)+" is not an object")}},{"../internals/is-object":75}],11:[function(a,r,g){r.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(k,r,g){function f(R){return D(R)&&h(V,_(R))}var m,l=k("../internals/array-buffer-native"),x=k("../internals/descriptors"),S=k("../internals/global"),D=k("../internals/is-object"),h=k("../internals/has"),_=k("../internals/classof"),o=k("../internals/create-non-enumerable-property"),p=k("../internals/redefine"),b=k("../internals/object-define-property").f,y=k("../internals/object-get-prototype-of"),A=k("../internals/object-set-prototype-of"),B=k("../internals/well-known-symbol"),k=k("../internals/uid"),E=S.Int8Array,N=E&&E.prototype,T=S.Uint8ClampedArray,T=T&&T.prototype,O=E&&y(E),j=N&&y(N),M=Object.prototype,F=M.isPrototypeOf,B=B("toStringTag"),I=k("TYPED_ARRAY_TAG"),G=l&&!!A&&_(S.opera)!=="Opera",k=!1,V={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(m in V)S[m]||(G=!1);if((!G||typeof O!="function"||O===Function.prototype)&&(O=function(){throw TypeError("Incorrect invocation")},G))for(m in V)S[m]&&A(S[m],O);if((!G||!j||j===M)&&(j=O.prototype,G))for(m in V)S[m]&&A(S[m].prototype,j);if(G&&y(T)!==j&&A(T,j),x&&!h(j,B))for(m in k=!0,b(j,B,{get:function(){return D(this)?this[I]:void 0}}),V)S[m]&&o(S[m],I,m);r.exports={NATIVE_ARRAY_BUFFER_VIEWS:G,TYPED_ARRAY_TAG:k&&I,aTypedArray:function(R){if(f(R))return R;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(R){if(A){if(F.call(O,R))return R}else for(var U in V)if(h(V,m)&&(U=S[U],U&&(R===U||F.call(U,R))))return R;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(R,U,L){if(x){if(L)for(var H in V)H=S[H],H&&h(H.prototype,R)&&delete H.prototype[R];j[R]&&!L||p(j,R,!L&&G&&N[R]||U)}},exportTypedArrayStaticMethod:function(R,U,L){var H,X;if(x){if(A){if(L)for(H in V)(X=S[H])&&h(X,R)&&delete X[R];if(O[R]&&!L)return;try{return p(O,R,!L&&G&&E[R]||U)}catch{}}for(H in V)!(X=S[H])||X[R]&&!L||p(X,R,U)}},isView:function(R){return R=_(R),R==="DataView"||h(V,R)},isTypedArray:f,TypedArray:O,TypedArrayPrototype:j}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(Y,r,g){function f(pe){return[255&pe]}function m(pe){return[255&pe,pe>>8&255]}function l(pe){return[255&pe,pe>>8&255,pe>>16&255,pe>>24&255]}function x(pe){return pe[3]<<24|pe[2]<<16|pe[1]<<8|pe[0]}function S(pe){return oe(pe,23,4)}function D(pe){return oe(pe,52,8)}function h(pe,be){k(pe[Z],be,{get:function(){return U(this)[be]}})}function _(de,be,re,he){if(re=M(re),de=U(de),re+be>de.byteLength)throw ce(J);var ne=U(de.buffer).bytes,re=re+de.byteOffset,de=ne.slice(re,re+be);return he?de:de.reverse()}function o(pe,be,Ne,he,ne,re){if(Ne=M(Ne),pe=U(pe),Ne+be>pe.byteLength)throw ce(J);for(var de=U(pe.buffer).bytes,xe=Ne+pe.byteOffset,Pe=he(+ne),Ae=0;Ae<be;Ae++)de[xe+Ae]=Pe[re?Ae:be-Ae-1]}var p=Y("../internals/global"),b=Y("../internals/descriptors"),y=Y("../internals/array-buffer-native"),A=Y("../internals/create-non-enumerable-property"),E=Y("../internals/redefine-all"),N=Y("../internals/fails"),T=Y("../internals/an-instance"),O=Y("../internals/to-integer"),j=Y("../internals/to-length"),M=Y("../internals/to-index"),F=Y("../internals/ieee754"),B=Y("../internals/object-get-prototype-of"),I=Y("../internals/object-set-prototype-of"),G=Y("../internals/object-get-own-property-names").f,k=Y("../internals/object-define-property").f,V=Y("../internals/array-fill"),R=Y("../internals/set-to-string-tag"),Y=Y("../internals/internal-state"),U=Y.get,L=Y.set,H="ArrayBuffer",X="DataView",Z="prototype",J="Wrong index",K=p[H],$=K,W=p[X],Y=W&&W[Z],te=Object.prototype,ce=p.RangeError,oe=F.pack,ue=F.unpack;if(y){if(!N(function(){K(1)})||!N(function(){new K(-1)})||N(function(){return new K,new K(1.5),new K(NaN),K.name!=H})){for(var Ce,p=($=function(Ne){return T(this,$),new K(M(Ne))})[Z]=K[Z],le=G(K),ye=0;le.length>ye;)(Ce=le[ye++])in $||A($,Ce,K[Ce]);p.constructor=$}I&&B(Y)!==te&&I(Y,te);var F=new W(new $(2)),ve=Y.setInt8;F.setInt8(0,2147483648),F.setInt8(1,2147483649),!F.getInt8(0)&&F.getInt8(1)||E(Y,{setInt8:function(be,Ne){ve.call(this,be,Ne<<24>>24)},setUint8:function(be,Ne){ve.call(this,be,Ne<<24>>24)}},{unsafe:!0})}else $=function(pe){T(this,$,H),pe=M(pe),L(this,{bytes:V.call(new Array(pe),0),byteLength:pe}),b||(this.byteLength=pe)},W=function(pe,ne,Ne){T(this,W,X),T(pe,$,X);var he=U(pe).byteLength,ne=O(ne);if(ne<0||he<ne)throw ce("Wrong offset");if(he<ne+(Ne=Ne===void 0?he-ne:j(Ne)))throw ce("Wrong length");L(this,{buffer:pe,byteLength:Ne,byteOffset:ne}),b||(this.buffer=pe,this.byteLength=Ne,this.byteOffset=ne)},b&&(h($,"byteLength"),h(W,"buffer"),h(W,"byteLength"),h(W,"byteOffset")),E(W[Z],{getInt8:function(pe){return _(this,1,pe)[0]<<24>>24},getUint8:function(pe){return _(this,1,pe)[0]},getInt16:function(pe){return pe=_(this,2,pe,1<arguments.length?arguments[1]:void 0),(pe[1]<<8|pe[0])<<16>>16},getUint16:function(pe){return pe=_(this,2,pe,1<arguments.length?arguments[1]:void 0),pe[1]<<8|pe[0]},getInt32:function(pe){return x(_(this,4,pe,1<arguments.length?arguments[1]:void 0))},getUint32:function(pe){return x(_(this,4,pe,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(pe){return ue(_(this,4,pe,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(pe){return ue(_(this,8,pe,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(pe,be){o(this,1,pe,f,be)},setUint8:function(pe,be){o(this,1,pe,f,be)},setInt16:function(pe,be){o(this,2,pe,m,be,2<arguments.length?arguments[2]:void 0)},setUint16:function(pe,be){o(this,2,pe,m,be,2<arguments.length?arguments[2]:void 0)},setInt32:function(pe,be){o(this,4,pe,l,be,2<arguments.length?arguments[2]:void 0)},setUint32:function(pe,be){o(this,4,pe,l,be,2<arguments.length?arguments[2]:void 0)},setFloat32:function(pe,be){o(this,4,pe,S,be,2<arguments.length?arguments[2]:void 0)},setFloat64:function(pe,be){o(this,8,pe,D,be,2<arguments.length?arguments[2]:void 0)}});R($,H),R(W,X),r.exports={ArrayBuffer:$,DataView:W}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(a,r,g){var f=a("../internals/to-object"),m=a("../internals/to-absolute-index"),l=a("../internals/to-length"),x=Math.min;r.exports=[].copyWithin||function(b,D){var h=f(this),_=l(h.length),o=m(b,_),p=m(D,_),b=2<arguments.length?arguments[2]:void 0,y=x((b===void 0?_:m(b,_))-p,_-o),A=1;for(p<o&&o<p+y&&(A=-1,p+=y-1,o+=y-1);0<y--;)p in h?h[o]=h[p]:delete h[o],o+=A,p+=A;return h}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(a,r,g){var f=a("../internals/to-object"),m=a("../internals/to-absolute-index"),l=a("../internals/to-length");r.exports=function(x){for(var S=f(this),D=l(S.length),_=arguments.length,h=m(1<_?arguments[1]:void 0,D),_=2<_?arguments[2]:void 0,o=_===void 0?D:m(_,D);h<o;)S[h++]=x;return S}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(l,r,g){var f=l("../internals/array-iteration").forEach,m=l("../internals/array-method-is-strict"),l=l("../internals/array-method-uses-to-length"),m=m("forEach"),l=l("forEach");r.exports=m&&l?[].forEach:function(x){return f(this,x,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(a,r,g){var f=a("../internals/function-bind-context"),m=a("../internals/to-object"),l=a("../internals/call-with-safe-iteration-closing"),x=a("../internals/is-array-iterator-method"),S=a("../internals/to-length"),D=a("../internals/create-property"),h=a("../internals/get-iterator-method");r.exports=function(T){var o,p,b,y,A,E,N=m(T),T=typeof this=="function"?this:Array,O=arguments.length,j=1<O?arguments[1]:void 0,M=j!==void 0,F=h(N),B=0;if(M&&(j=f(j,2<O?arguments[2]:void 0,2)),F==null||T==Array&&x(F))for(p=new T(o=S(N.length));B<o;B++)E=M?j(N[B],B):N[B],D(p,B,E);else for(A=(y=F.call(N)).next,p=new T;!(b=A.call(y)).done;B++)E=M?l(y,j,[b.value,B],!0):b.value,D(p,B,E);return p.length=B,p}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(a,r,g){function f(S){return function(D,h,_){var o,p=m(D),b=l(p.length),y=x(_,b);if(S&&h!=h){for(;y<b;)if((o=p[y++])!=o)return!0}else for(;y<b;y++)if((S||y in p)&&p[y]===h)return S||y||0;return!S&&-1}}var m=a("../internals/to-indexed-object"),l=a("../internals/to-length"),x=a("../internals/to-absolute-index");r.exports={includes:f(!0),indexOf:f(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(a,r,g){function f(_){var o=_==1,p=_==2,b=_==3,y=_==4,A=_==6,E=_==5||A;return function(N,T,O,j){for(var M,F,B=x(N),I=l(B),G=m(T,O,3),k=S(I.length),V=0,T=j||D,R=o?T(N,k):p?T(N,0):void 0;V<k;V++)if((E||V in I)&&(F=G(M=I[V],V,B),_)){if(o)R[V]=F;else if(F)switch(_){case 3:return!0;case 5:return M;case 6:return V;case 2:h.call(R,M)}else if(y)return!1}return A?-1:b||y?y:R}}var m=a("../internals/function-bind-context"),l=a("../internals/indexed-object"),x=a("../internals/to-object"),S=a("../internals/to-length"),D=a("../internals/array-species-create"),h=[].push;r.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(_,r,g){var f=_("../internals/to-indexed-object"),m=_("../internals/to-integer"),l=_("../internals/to-length"),h=_("../internals/array-method-is-strict"),_=_("../internals/array-method-uses-to-length"),x=Math.min,S=[].lastIndexOf,D=!!S&&1/[1].lastIndexOf(1,-0)<0,h=h("lastIndexOf"),_=_("indexOf",{ACCESSORS:!0,1:0});r.exports=D||!h||!_?function(o){if(D)return S.apply(this,arguments)||0;var p=f(this),b=l(p.length),y=b-1;for((y=1<arguments.length?x(y,m(arguments[1])):y)<0&&(y=b+y);0<=y;y--)if(y in p&&p[y]===o)return y||0;return-1}:S},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(a,r,g){var f=a("../internals/fails"),m=a("../internals/well-known-symbol"),l=a("../internals/engine-v8-version"),x=m("species");r.exports=function(S){return 51<=l||!f(function(){var D=[];return(D.constructor={})[x]=function(){return{foo:1}},D[S](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(a,r,g){var f=a("../internals/fails");r.exports=function(m,l){var x=[][m];return!!x&&f(function(){x.call(null,l||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(a,r,g){function f(h){throw h}var m=a("../internals/descriptors"),l=a("../internals/fails"),x=a("../internals/has"),S=Object.defineProperty,D={};r.exports=function(h,_){var o,p,b,y;return x(D,h)?D[h]:(o=[][h],p=!!x(_=_||{},"ACCESSORS")&&_.ACCESSORS,b=x(_,0)?_[0]:f,y=x(_,1)?_[1]:void 0,D[h]=!!o&&!l(function(){if(p&&!m)return!0;var A={length:-1};p?S(A,1,{enumerable:!0,get:f}):A[1]=1,o.call(A,b,y)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(a,r,g){function f(D){return function(h,_,o,p){m(_);var b=l(h),y=x(b),A=S(b.length),E=D?A-1:0,N=D?-1:1;if(o<2)for(;;){if(E in y){p=y[E],E+=N;break}if(E+=N,D?E<0:A<=E)throw TypeError("Reduce of empty array with no initial value")}for(;D?0<=E:E<A;E+=N)E in y&&(p=_(p,y[E],E,b));return p}}var m=a("../internals/a-function"),l=a("../internals/to-object"),x=a("../internals/indexed-object"),S=a("../internals/to-length");r.exports={left:f(!1),right:f(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(a,r,g){var f=a("../internals/is-object"),m=a("../internals/is-array"),l=a("../internals/well-known-symbol")("species");r.exports=function(x,S){var D;return new((D=m(x)&&(typeof(D=x.constructor)=="function"&&(D===Array||m(D.prototype))||f(D)&&(D=D[l])===null)?void 0:D)===void 0?Array:D)(S===0?0:S)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(a,r,g){var f=a("../internals/an-object");r.exports=function(m,l,x,S){try{return S?l(f(x)[0],x[1]):l(x)}catch(D){throw S=m.return,S!==void 0&&f(S.call(m)),D}}},{"../internals/an-object":10}],27:[function(a,r,g){var f=a("../internals/well-known-symbol")("iterator"),m=!1;try{var l=0,x={next:function(){return{done:!!l++}},return:function(){m=!0}};x[f]=function(){return this},Array.from(x,function(){throw 2})}catch{}r.exports=function(S,D){if(!D&&!m)return!1;var h=!1;try{var _={};_[f]=function(){return{next:function(){return{done:h=!0}}}},S(_)}catch{}return h}},{"../internals/well-known-symbol":150}],28:[function(a,r,g){var f={}.toString;r.exports=function(m){return f.call(m).slice(8,-1)}},{}],29:[function(a,r,g){var f=a("../internals/to-string-tag-support"),m=a("../internals/classof-raw"),l=a("../internals/well-known-symbol")("toStringTag"),x=m(function(){return arguments}())=="Arguments";r.exports=f?m:function(S){var D;return S===void 0?"Undefined":S===null?"Null":typeof(D=function(h,_){try{return h[_]}catch{}}(S=Object(S),l))=="string"?D:x?m(S):(D=m(S))=="Object"&&typeof S.callee=="function"?"Arguments":D}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(b,r,g){var f=b("../internals/object-define-property").f,m=b("../internals/object-create"),l=b("../internals/redefine-all"),x=b("../internals/function-bind-context"),S=b("../internals/an-instance"),D=b("../internals/iterate"),h=b("../internals/define-iterator"),_=b("../internals/set-species"),o=b("../internals/descriptors"),p=b("../internals/internal-metadata").fastKey,b=b("../internals/internal-state"),y=b.set,A=b.getterFor;r.exports={getConstructor:function(E,N,T,O){function j(I,G,k){var V,R=B(I),U=M(I,G);return U?U.value=k:(R.last=U={index:V=p(G,!0),key:G,value:k,previous:G=R.last,next:void 0,removed:!1},R.first||(R.first=U),G&&(G.next=U),o?R.size++:I.size++,V!=="F"&&(R.index[V]=U)),I}function M(V,G){var k,V=B(V),R=p(G);if(R!=="F")return V.index[R];for(k=V.first;k;k=k.next)if(k.key==G)return k}var F=E(function(I,G){S(I,F,N),y(I,{type:N,index:m(null),first:void 0,last:void 0,size:0}),o||(I.size=0),G!=null&&D(G,I[O],I,T)}),B=A(N);return l(F.prototype,{clear:function(){for(var I=B(this),G=I.index,k=I.first;k;)k.removed=!0,k.previous&&(k.previous=k.previous.next=void 0),delete G[k.index],k=k.next;I.first=I.last=void 0,o?I.size=0:this.size=0},delete:function(R){var G,k,V=B(this),R=M(this,R);return R&&(G=R.next,k=R.previous,delete V.index[R.index],R.removed=!0,k&&(k.next=G),G&&(G.previous=k),V.first==R&&(V.first=G),V.last==R&&(V.last=k),o?V.size--:this.size--),!!R},forEach:function(I){for(var G,k=B(this),V=x(I,1<arguments.length?arguments[1]:void 0,3);G=G?G.next:k.first;)for(V(G.value,G.key,this);G&&G.removed;)G=G.previous},has:function(I){return!!M(this,I)}}),l(F.prototype,T?{get:function(I){return I=M(this,I),I&&I.value},set:function(I,G){return j(this,I===0?0:I,G)}}:{add:function(I){return j(this,I=I===0?0:I,I)}}),o&&f(F.prototype,"size",{get:function(){return B(this).size}}),F},setStrong:function(E,N,T){var O=N+" Iterator",j=A(N),M=A(O);h(E,N,function(F,B){y(this,{type:O,target:F,state:j(F),kind:B,last:void 0})},function(){for(var F=M(this),B=F.kind,I=F.last;I&&I.removed;)I=I.previous;return F.target&&(F.last=I=I?I.next:F.state.first)?B=="keys"?{value:I.key,done:!1}:B=="values"?{value:I.value,done:!1}:{value:[I.key,I.value],done:!1}:{value:F.target=void 0,done:!0}},T?"entries":"values",!T,!0),_(N)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(y,r,g){function f(j){return j.frozen||(j.frozen=new m)}function m(){this.entries=[]}function l(j,M){return N(j.entries,function(F){return F[0]===M})}var x=y("../internals/redefine-all"),S=y("../internals/internal-metadata").getWeakData,D=y("../internals/an-object"),h=y("../internals/is-object"),_=y("../internals/an-instance"),o=y("../internals/iterate"),p=y("../internals/array-iteration"),b=y("../internals/has"),y=y("../internals/internal-state"),A=y.set,E=y.getterFor,N=p.find,T=p.findIndex,O=0;m.prototype={get:function(j){if(j=l(this,j),j)return j[1]},has:function(j){return!!l(this,j)},set:function(j,M){var F=l(this,j);F?F[1]=M:this.entries.push([j,M])},delete:function(j){var M=T(this.entries,function(F){return F[0]===j});return~M&&this.entries.splice(M,1),!!~M}},r.exports={getConstructor:function(j,M,F,B){function I(V,R,U){var L=k(V),H=S(D(R),!0);return H===!0?f(L).set(R,U):H[L.id]=U,V}var G=j(function(V,R){_(V,G,M),A(V,{type:M,id:O++,frozen:void 0}),R!=null&&o(R,V[B],V,F)}),k=E(M);return x(G.prototype,{delete:function(V){var R,U=k(this);return!!h(V)&&((R=S(V))===!0?f(U).delete(V):R&&b(R,U.id)&&delete R[U.id])},has:function(V){var R,U=k(this);return!!h(V)&&((R=S(V))===!0?f(U).has(V):R&&b(R,U.id))}}),x(G.prototype,F?{get:function(V){var R,U=k(this);if(h(V))return(R=S(V))===!0?f(U).get(V):R?R[U.id]:void 0},set:function(V,R){return I(this,V,R)}}:{add:function(V){return I(this,V,!0)}}),G}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(a,r,g){var f=a("../internals/export"),m=a("../internals/global"),l=a("../internals/is-forced"),x=a("../internals/redefine"),S=a("../internals/internal-metadata"),D=a("../internals/iterate"),h=a("../internals/an-instance"),_=a("../internals/is-object"),o=a("../internals/fails"),p=a("../internals/check-correctness-of-iteration"),b=a("../internals/set-to-string-tag"),y=a("../internals/inherit-if-required");r.exports=function(A,E,N){function T(H){var X=R[H];x(R,H,H=="add"?function(Z){return X.call(this,Z===0?0:Z),this}:H=="delete"?function(Z){return!(G&&!_(Z))&&X.call(this,Z===0?0:Z)}:H=="get"?function(Z){return G&&!_(Z)?void 0:X.call(this,Z===0?0:Z)}:H=="has"?function(Z){return!(G&&!_(Z))&&X.call(this,Z===0?0:Z)}:function(Z,J){return X.call(this,Z===0?0:Z,J),this})}var O,j,M,F,B,I=A.indexOf("Map")!==-1,G=A.indexOf("Weak")!==-1,k=I?"set":"add",V=m[A],R=V&&V.prototype,U=V,L={};return l(A,typeof V!="function"||!(G||R.forEach&&!o(function(){new V().entries().next()})))?(U=N.getConstructor(E,A,I,k),S.REQUIRED=!0):l(A,!0)&&(j=(O=new U)[k](G?{}:-0,1)!=O,M=o(function(){O.has(1)}),F=p(function(H){new V(H)}),B=!G&&o(function(){for(var H=new V,X=5;X--;)H[k](X,X);return!H.has(-0)}),F||(((U=E(function(H,X){return h(H,U,A),H=y(new V,H,U),X!=null&&D(X,H[k],H,I),H})).prototype=R).constructor=U),(M||B)&&(T("delete"),T("has"),I&&T("get")),(B||j)&&T(k),G&&R.clear&&delete R.clear),L[A]=U,f({global:!0,forced:U!=V},L),b(U,A),G||N.setStrong(U,A,I),U}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(a,r,g){var f=a("../internals/has"),m=a("../internals/own-keys"),l=a("../internals/object-get-own-property-descriptor"),x=a("../internals/object-define-property");r.exports=function(S,D){for(var h=m(D),_=x.f,o=l.f,p=0;p<h.length;p++){var b=h[p];f(S,b)||_(S,b,o(D,b))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(a,r,g){var f=a("../internals/well-known-symbol")("match");r.exports=function(m){var l=/./;try{"/./"[m](l)}catch{try{return l[f]=!1,"/./"[m](l)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(a,r,g){a=a("../internals/fails"),r.exports=!a(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},{"../internals/fails":51}],36:[function(a,r,g){var f=a("../internals/require-object-coercible"),m=/"/g;r.exports=function(h,x,S,D){var h=String(f(h)),_="<"+x;return S!==""&&(_+=" "+S+'="'+String(D).replace(m,"&quot;")+'"'),_+">"+h+"</"+x+">"}},{"../internals/require-object-coercible":115}],37:[function(a,r,g){function f(){return this}var m=a("../internals/iterators-core").IteratorPrototype,l=a("../internals/object-create"),x=a("../internals/create-property-descriptor"),S=a("../internals/set-to-string-tag"),D=a("../internals/iterators");r.exports=function(h,_,o){return _+=" Iterator",h.prototype=l(m,{next:x(1,o)}),S(h,_,!1,!0),D[_]=f,h}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(a,r,g){var f=a("../internals/descriptors"),m=a("../internals/object-define-property"),l=a("../internals/create-property-descriptor");r.exports=f?function(x,S,D){return m.f(x,S,l(1,D))}:function(x,S,D){return x[S]=D,x}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(a,r,g){r.exports=function(f,m){return{enumerable:!(1&f),configurable:!(2&f),writable:!(4&f),value:m}}},{}],40:[function(a,r,g){var f=a("../internals/to-primitive"),m=a("../internals/object-define-property"),l=a("../internals/create-property-descriptor");r.exports=function(x,S,D){S=f(S),S in x?m.f(x,S,l(0,D)):x[S]=D}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(y,r,g){function f(){return this}var m=y("../internals/export"),l=y("../internals/create-iterator-constructor"),x=y("../internals/object-get-prototype-of"),S=y("../internals/object-set-prototype-of"),D=y("../internals/set-to-string-tag"),h=y("../internals/create-non-enumerable-property"),_=y("../internals/redefine"),o=y("../internals/well-known-symbol"),p=y("../internals/is-pure"),b=y("../internals/iterators"),y=y("../internals/iterators-core"),A=y.IteratorPrototype,E=y.BUGGY_SAFARI_ITERATORS,N=o("iterator"),T="values",O="entries";r.exports=function(j,M,F,L,I,G,k){l(F,M,L);function V($){if($===I&&J)return J;if(!E&&$ in X)return X[$];switch($){case"keys":case T:case O:return function(){return new F(this,$)}}return function(){return new F(this)}}var R,U,L=M+" Iterator",H=!1,X=j.prototype,Z=X[N]||X["@@iterator"]||I&&X[I],J=!E&&Z||V(I),K=M=="Array"&&X.entries||Z;if(K&&(K=x(K.call(new j)),A!==Object.prototype&&K.next&&(p||x(K)===A||(S?S(K,A):typeof K[N]!="function"&&h(K,N,f)),D(K,L,!0,!0),p&&(b[L]=f))),I==T&&Z&&Z.name!==T&&(H=!0,J=function(){return Z.call(this)}),p&&!k||X[N]===J||h(X,N,J),b[M]=J,I)if(R={values:V(T),keys:G?J:V("keys"),entries:V(O)},k)for(U in R)!E&&!H&&U in X||_(X,U,R[U]);else m({target:M,proto:!0,forced:E||H},R);return R}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(a,r,g){var f=a("../internals/path"),m=a("../internals/has"),l=a("../internals/well-known-symbol-wrapped"),x=a("../internals/object-define-property").f;r.exports=function(S){var D=f.Symbol||(f.Symbol={});m(D,S)||x(D,S,{value:l.f(S)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(a,r,g){a=a("../internals/fails"),r.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(m,r,g){var f=m("../internals/global"),m=m("../internals/is-object"),l=f.document,x=m(l)&&m(l.createElement);r.exports=function(S){return x?l.createElement(S):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(a,r,g){r.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(a,r,g){a=a("../internals/engine-user-agent"),r.exports=/(iphone|ipod|ipad).*applewebkit/i.test(a)},{"../internals/engine-user-agent":47}],47:[function(a,r,g){a=a("../internals/get-built-in"),r.exports=a("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(l,r,g){var f,m,x=l("../internals/global"),l=l("../internals/engine-user-agent"),x=x.process,x=x&&x.versions,x=x&&x.v8;x?m=(f=x.split("."))[0]+f[1]:l&&(!(f=l.match(/Edge\/(\d+)/))||74<=f[1])&&(f=l.match(/Chrome\/(\d+)/))&&(m=f[1]),r.exports=m&&+m},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(a,r,g){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(a,r,g){var f=a("../internals/global"),m=a("../internals/object-get-own-property-descriptor").f,l=a("../internals/create-non-enumerable-property"),x=a("../internals/redefine"),S=a("../internals/set-global"),D=a("../internals/copy-constructor-properties"),h=a("../internals/is-forced");r.exports=function(_,o){var p,b,y,A=_.target,E=_.global,N=_.stat,T=E?f:N?f[A]||S(A,{}):(f[A]||{}).prototype;if(T)for(p in o){if(b=o[p],y=_.noTargetGet?(y=m(T,p))&&y.value:T[p],!h(E?p:A+(N?".":"#")+p,_.forced)&&y!==void 0){if(typeof b==typeof y)continue;D(b,y)}(_.sham||y&&y.sham)&&l(b,"sham",!0),x(T,p,b,_)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(a,r,g){r.exports=function(f){try{return!!f()}catch{return!0}}},{}],52:[function(o,r,g){o("../modules/es.regexp.exec");var f=o("../internals/redefine"),m=o("../internals/fails"),l=o("../internals/well-known-symbol"),x=o("../internals/regexp-exec"),S=o("../internals/create-non-enumerable-property"),D=l("species"),h=!m(function(){var y=/./;return y.exec=function(){var A=[];return A.groups={a:"7"},A},"".replace(y,"$<a>")!=="7"}),_="a".replace(/./,"$0")==="$0",o=l("replace"),p=!!/./[o]&&/./[o]("a","$0")==="",b=!m(function(){var A=/(?:)/,y=A.exec,A=(A.exec=function(){return y.apply(this,arguments)},"ab".split(A));return A.length!==2||A[0]!=="a"||A[1]!=="b"});r.exports=function(y,A,E,N){var T,O,j=l(y),M=!m(function(){var B={};return B[j]=function(){return 7},""[y](B)!=7}),F=M&&!m(function(){var B=!1,I=/a/;return y==="split"&&((I={constructor:{}}).constructor[D]=function(){return I},I.flags="",I[j]=/./[j]),I.exec=function(){return B=!0,null},I[j](""),!B});M&&F&&(y!=="replace"||h&&_&&!p)&&(y!=="split"||b)||(T=/./[j],E=(F=E(j,""[y],function(B,I,G,k,V){return I.exec===x?M&&!V?{done:!0,value:T.call(I,G,k)}:{done:!0,value:B.call(G,I,k)}:{done:!1}},{REPLACE_KEEPS_$0:_,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}))[0],O=F[1],f(String.prototype,y,E),f(RegExp.prototype,j,A==2?function(B,I){return O.call(B,this,I)}:function(B){return O.call(B,this)})),N&&S(RegExp.prototype[j],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(a,r,g){function f(S,D,h,_,o,p,b,y){for(var A,E=o,N=0,T=!!b&&x(b,y,3);N<_;){if(N in h){if(A=T?T(h[N],N,D):h[N],0<p&&m(A))E=f(S,D,A,l(A.length),E,p-1)-1;else{if(9007199254740991<=E)throw TypeError("Exceed the acceptable array length");S[E]=A}E++}N++}return E}var m=a("../internals/is-array"),l=a("../internals/to-length"),x=a("../internals/function-bind-context");r.exports=f},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(a,r,g){a=a("../internals/fails"),r.exports=!a(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(a,r,g){var f=a("../internals/a-function");r.exports=function(m,l,x){if(f(m),l===void 0)return m;switch(x){case 0:return function(){return m.call(l)};case 1:return function(S){return m.call(l,S)};case 2:return function(S,D){return m.call(l,S,D)};case 3:return function(S,D,h){return m.call(l,S,D,h)}}return function(){return m.apply(l,arguments)}}},{"../internals/a-function":5}],56:[function(a,r,g){var f=a("../internals/a-function"),m=a("../internals/is-object"),l=[].slice,x={};r.exports=Function.bind||function(S){var D=f(this),h=l.call(arguments,1),_=function(){var o=h.concat(l.call(arguments));if(this instanceof _){var p=D,b=o.length,y=o;if(!(b in x)){for(var A=[],E=0;E<b;E++)A[E]="a["+E+"]";x[b]=Function("C,a","return new C("+A.join(",")+")")}return x[b](p,y)}return D.apply(S,o)};return m(D.prototype)&&(_.prototype=D.prototype),_}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(a,r,g){function f(x){return typeof x=="function"?x:void 0}var m=a("../internals/path"),l=a("../internals/global");r.exports=function(x,S){return arguments.length<2?f(m[x])||f(l[x]):m[x]&&m[x][S]||l[x]&&l[x][S]}},{"../internals/global":60,"../internals/path":106}],58:[function(a,r,g){var f=a("../internals/classof"),m=a("../internals/iterators"),l=a("../internals/well-known-symbol")("iterator");r.exports=function(x){if(x!=null)return x[l]||x["@@iterator"]||m[f(x)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(a,r,g){var f=a("../internals/an-object"),m=a("../internals/get-iterator-method");r.exports=function(l){var x=m(l);if(typeof x!="function")throw TypeError(String(l)+" is not iterable");return f(x.call(l))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(a,r,g){(function(f){function m(l){return l&&l.Math==Math&&l}r.exports=m(typeof globalThis=="object"&&globalThis)||m(typeof window=="object"&&window)||m(typeof self=="object"&&self)||m(typeof f=="object"&&f)||Function("return this")()}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(a,r,g){var f={}.hasOwnProperty;r.exports=function(m,l){return f.call(m,l)}},{}],62:[function(a,r,g){r.exports={}},{}],63:[function(a,r,g){var f=a("../internals/global");r.exports=function(m,l){var x=f.console;x&&x.error&&(arguments.length===1?x.error(m):x.error(m,l))}},{"../internals/global":60}],64:[function(a,r,g){a=a("../internals/get-built-in"),r.exports=a("document","documentElement")},{"../internals/get-built-in":57}],65:[function(a,r,g){var f=a("../internals/descriptors"),m=a("../internals/fails"),l=a("../internals/document-create-element");r.exports=!f&&!m(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(a,r,g){var f=Math.abs,m=Math.pow,l=Math.floor,x=Math.log,S=Math.LN2;r.exports={pack:function(D,h,E){var o,p,b,y=new Array(E),A=8*E-h-1,E=(1<<A)-1,N=E>>1,T=h===23?m(2,-24)-m(2,-77):0,O=D<0||D===0&&1/D<0?1:0,j=0;for((D=f(D))!=D||D===1/0?(p=D!=D?1:0,o=E):(o=l(x(D)/S),D*(b=m(2,-o))<1&&(o--,b*=2),2<=(D+=1<=o+N?T/b:T*m(2,1-N))*b&&(o++,b/=2),E<=o+N?(p=0,o=E):1<=o+N?(p=(D*b-1)*m(2,h),o+=N):(p=D*m(2,N-1)*m(2,h),o=0));8<=h;y[j++]=255&p,p/=256,h-=8);for(o=o<<h|p,A+=h;0<A;y[j++]=255&o,o/=256,A-=8);return y[--j]|=128*O,y},unpack:function(D,h){var _,o=D.length,E=8*o-h-1,p=(1<<E)-1,b=p>>1,y=E-7,A=o-1,E=D[A--],N=127&E;for(E>>=7;0<y;N=256*N+D[A],A--,y-=8);for(_=N&(1<<-y)-1,N>>=-y,y+=h;0<y;_=256*_+D[A],A--,y-=8);if(N===0)N=1-b;else{if(N===p)return _?NaN:E?-1/0:1/0;_+=m(2,h),N-=b}return(E?-1:1)*_*m(2,N-h)}}},{}],67:[function(a,r,g){var f=a("../internals/fails"),m=a("../internals/classof-raw"),l="".split;r.exports=f(function(){return!Object("z").propertyIsEnumerable(0)})?function(x){return m(x)=="String"?l.call(x,""):Object(x)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(a,r,g){var f=a("../internals/is-object"),m=a("../internals/object-set-prototype-of");r.exports=function(l,x,S){return m&&typeof(x=x.constructor)=="function"&&x!==S&&f(x=x.prototype)&&x!==S.prototype&&m(l,x),l}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(f,r,g){var f=f("../internals/shared-store"),m=Function.toString;typeof f.inspectSource!="function"&&(f.inspectSource=function(l){return m.call(l)}),r.exports=f.inspectSource},{"../internals/shared-store":121}],70:[function(a,r,g){function f(y){S(y,_,{value:{objectID:"O"+ ++o,weakData:{}}})}var m=a("../internals/hidden-keys"),l=a("../internals/is-object"),x=a("../internals/has"),S=a("../internals/object-define-property").f,D=a("../internals/uid"),h=a("../internals/freezing"),_=D("meta"),o=0,p=Object.isExtensible||function(){return!0},b=r.exports={REQUIRED:!1,fastKey:function(y,A){if(!l(y))return typeof y=="symbol"?y:(typeof y=="string"?"S":"P")+y;if(!x(y,_)){if(!p(y))return"F";if(!A)return"E";f(y)}return y[_].objectID},getWeakData:function(y,A){if(!x(y,_)){if(!p(y))return!0;if(!A)return!1;f(y)}return y[_].weakData},onFreeze:function(y){return h&&b.REQUIRED&&p(y)&&!x(y,_)&&f(y),y}};m[_]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(E,r,g){var f,m,l,x,S,D,h,_,o=E("../internals/native-weak-map"),N=E("../internals/global"),p=E("../internals/is-object"),b=E("../internals/create-non-enumerable-property"),y=E("../internals/has"),A=E("../internals/shared-key"),E=E("../internals/hidden-keys"),N=N.WeakMap;h=o?(f=new N,m=f.get,l=f.has,x=f.set,S=function(T,O){return x.call(f,T,O),O},D=function(T){return m.call(f,T)||{}},function(T){return l.call(f,T)}):(E[_=A("state")]=!0,S=function(T,O){return b(T,_,O),O},D=function(T){return y(T,_)?T[_]:{}},function(T){return y(T,_)}),r.exports={set:S,get:D,has:h,enforce:function(T){return h(T)?D(T):S(T,{})},getterFor:function(T){return function(O){if(p(O)&&(O=D(O)).type===T)return O;throw TypeError("Incompatible receiver, "+T+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(a,r,g){var f=a("../internals/well-known-symbol"),m=a("../internals/iterators"),l=f("iterator"),x=Array.prototype;r.exports=function(S){return S!==void 0&&(m.Array===S||x[l]===S)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(a,r,g){var f=a("../internals/classof-raw");r.exports=Array.isArray||function(m){return f(m)=="Array"}},{"../internals/classof-raw":28}],74:[function(a,r,g){function f(_,o){return(_=S[x(_)])==h||_!=D&&(typeof o=="function"?m(o):!!o)}var m=a("../internals/fails"),l=/#|\.prototype\./,x=f.normalize=function(_){return String(_).replace(l,".").toLowerCase()},S=f.data={},D=f.NATIVE="N",h=f.POLYFILL="P";r.exports=f},{"../internals/fails":51}],75:[function(a,r,g){r.exports=function(f){return typeof f=="object"?f!==null:typeof f=="function"}},{}],76:[function(a,r,g){r.exports=!1},{}],77:[function(a,r,g){var f=a("../internals/is-object"),m=a("../internals/classof-raw"),l=a("../internals/well-known-symbol")("match");r.exports=function(x){var S;return f(x)&&((S=x[l])!==void 0?!!S:m(x)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(a,r,g){function f(_,o){this.stopped=_,this.result=o}var m=a("../internals/an-object"),l=a("../internals/is-array-iterator-method"),x=a("../internals/to-length"),S=a("../internals/function-bind-context"),D=a("../internals/get-iterator-method"),h=a("../internals/call-with-safe-iteration-closing");(r.exports=function(_,o,p,b,y){var A,E,N,T,O,j,M=S(o,p,b?2:1);if(y)A=_;else{if(typeof(o=D(_))!="function")throw TypeError("Target is not iterable");if(l(o)){for(E=0,N=x(_.length);E<N;E++)if((T=b?M(m(j=_[E])[0],j[1]):M(_[E]))&&T instanceof f)return T;return new f(!1)}A=o.call(_)}for(O=A.next;!(j=O.call(A)).done;)if(typeof(T=h(A,M,j.value,b))=="object"&&T&&T instanceof f)return T;return new f(!1)}).stop=function(_){return new f(!0,_)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(D,r,g){var f,m,l=D("../internals/object-get-prototype-of"),x=D("../internals/create-non-enumerable-property"),S=D("../internals/has"),h=D("../internals/well-known-symbol"),D=D("../internals/is-pure"),h=h("iterator"),_=!1;[].keys&&("next"in(m=[].keys())?(l=l(l(m)))!==Object.prototype&&(f=l):_=!0),f==null&&(f={}),D||S(f,h)||x(f,h,function(){return this}),r.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:_}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(a,r,g){r.exports={}},{}],81:[function(a,r,g){r.exports=Math.sign||function(f){return(f=+f)==0||f!=f?f:f<0?-1:1}},{}],82:[function(b,r,g){var f,m,l,x,S,D,h,_,o=b("../internals/global"),O=b("../internals/object-get-own-property-descriptor").f,T=b("../internals/classof-raw"),p=b("../internals/task").set,b=b("../internals/engine-is-ios"),y=o.MutationObserver||o.WebKitMutationObserver,A=o.process,E=o.Promise,N=T(A)=="process",T=O(o,"queueMicrotask"),O=T&&T.value;O||(f=function(){var j,M;for(N&&(j=A.domain)&&j.exit();m;){M=m.fn,m=m.next;try{M()}catch(F){throw m?x():l=void 0,F}}l=void 0,j&&j.enter()},x=N?function(){A.nextTick(f)}:y&&!b?(S=!0,D=document.createTextNode(""),new y(f).observe(D,{characterData:!0}),function(){D.data=S=!S}):E&&E.resolve?(h=E.resolve(void 0),_=h.then,function(){_.call(h,f)}):function(){p.call(o,f)}),r.exports=O||function(j){j={fn:j,next:void 0},l&&(l.next=j),m||(m=j,x()),l=j}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(a,r,g){a=a("../internals/global"),r.exports=a.Promise},{"../internals/global":60}],84:[function(a,r,g){a=a("../internals/fails"),r.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(a,r,g){var f=a("../internals/fails"),m=a("../internals/well-known-symbol"),l=a("../internals/is-pure"),x=m("iterator");r.exports=!f(function(){var S=new URL("b?a=1&b=2&c=3","http://a"),D=S.searchParams,h="";return S.pathname="c%20d",D.forEach(function(_,o){D.delete("b"),h+=o+_}),l&&!S.toJSON||!D.sort||S.href!=="http://a/c%20d?a=1&c=3"||D.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!D[x]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||h!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(f,r,g){var m=f("../internals/global"),f=f("../internals/inspect-source"),m=m.WeakMap;r.exports=typeof m=="function"&&/native code/.test(f(m))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(a,r,g){function f(l){var x,S;this.promise=new l(function(D,h){if(x!==void 0||S!==void 0)throw TypeError("Bad Promise constructor");x=D,S=h}),this.resolve=m(x),this.reject=m(S)}var m=a("../internals/a-function");r.exports.f=function(l){return new f(l)}},{"../internals/a-function":5}],88:[function(a,r,g){var f=a("../internals/is-regexp");r.exports=function(m){if(f(m))throw TypeError("The method doesn't accept regular expressions");return m}},{"../internals/is-regexp":77}],89:[function(a,r,g){var f=a("../internals/global").isFinite;r.exports=Number.isFinite||function(m){return typeof m=="number"&&f(m)}},{"../internals/global":60}],90:[function(a,r,g){var f=a("../internals/descriptors"),m=a("../internals/fails"),l=a("../internals/object-keys"),x=a("../internals/object-get-own-property-symbols"),S=a("../internals/object-property-is-enumerable"),D=a("../internals/to-object"),h=a("../internals/indexed-object"),_=Object.assign,o=Object.defineProperty;r.exports=!_||m(function(){var p,b,y,A;return!(!f||_({b:1},_(o({},"a",{enumerable:!0,get:function(){o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(b={},A="abcdefghijklmnopqrst",(p={})[y=Symbol()]=7,A.split("").forEach(function(E){b[E]=E}),_({},p)[y]!=7||l(_({},b)).join("")!=A)})?function(p,b){for(var y=D(p),A=arguments.length,E=1,N=x.f,T=S.f;E<A;)for(var O,j=h(arguments[E++]),M=N?l(j).concat(N(j)):l(j),F=M.length,B=0;B<F;)O=M[B++],f&&!T.call(j,O)||(y[O]=j[O]);return y}:_},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(o,r,g){function f(){}var m,l=o("../internals/an-object"),x=o("../internals/object-define-properties"),S=o("../internals/enum-bug-keys"),D=o("../internals/hidden-keys"),h=o("../internals/html"),_=o("../internals/document-create-element"),o=o("../internals/shared-key"),p="prototype",b="script",y=o("IE_PROTO"),A=function(N){return"<"+b+">"+N+"</"+b+">"},E=function(){try{m=document.domain&&new ActiveXObject("htmlfile")}catch{}E=m?((N=m).write(A("")),N.close(),T=N.parentWindow.Object,N=null,T):(N=_("iframe"),T="java"+b+":",N.style.display="none",h.appendChild(N),N.src=String(T),(T=N.contentWindow.document).open(),T.write(A("document.F=Object")),T.close(),T.F);for(var N,T,O=S.length;O--;)delete E[p][S[O]];return E()};D[y]=!0,r.exports=Object.create||function(N,T){var O;return N!==null?(f[p]=l(N),O=new f,f[p]=null,O[y]=N):O=E(),T===void 0?O:x(O,T)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(a,r,g){var f=a("../internals/descriptors"),m=a("../internals/object-define-property"),l=a("../internals/an-object"),x=a("../internals/object-keys");r.exports=f?Object.defineProperties:function(S,D){l(S);for(var h,_=x(D),o=_.length,p=0;p<o;)m.f(S,h=_[p++],D[h]);return S}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(a,r,g){var f=a("../internals/descriptors"),m=a("../internals/ie8-dom-define"),l=a("../internals/an-object"),x=a("../internals/to-primitive"),S=Object.defineProperty;g.f=f?S:function(D,h,_){if(l(D),h=x(h,!0),l(_),m)try{return S(D,h,_)}catch{}if("get"in _||"set"in _)throw TypeError("Accessors not supported");return"value"in _&&(D[h]=_.value),D}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(a,r,g){var f=a("../internals/descriptors"),m=a("../internals/object-property-is-enumerable"),l=a("../internals/create-property-descriptor"),x=a("../internals/to-indexed-object"),S=a("../internals/to-primitive"),D=a("../internals/has"),h=a("../internals/ie8-dom-define"),_=Object.getOwnPropertyDescriptor;g.f=f?_:function(o,p){if(o=x(o),p=S(p,!0),h)try{return _(o,p)}catch{}if(D(o,p))return l(!m.f.call(o,p),o[p])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(a,r,g){var f=a("../internals/to-indexed-object"),m=a("../internals/object-get-own-property-names").f,l={}.toString,x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];r.exports.f=function(S){if(!x||l.call(S)!="[object Window]")return m(f(S));try{return m(S)}catch{return x.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(a,r,g){var f=a("../internals/object-keys-internal"),m=a("../internals/enum-bug-keys").concat("length","prototype");g.f=Object.getOwnPropertyNames||function(l){return f(l,m)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(a,r,g){g.f=Object.getOwnPropertySymbols},{}],98:[function(x,r,g){var f=x("../internals/has"),m=x("../internals/to-object"),l=x("../internals/shared-key"),x=x("../internals/correct-prototype-getter"),S=l("IE_PROTO"),D=Object.prototype;r.exports=x?Object.getPrototypeOf:function(h){return h=m(h),f(h,S)?h[S]:typeof h.constructor=="function"&&h instanceof h.constructor?h.constructor.prototype:h instanceof Object?D:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(a,r,g){var f=a("../internals/has"),m=a("../internals/to-indexed-object"),l=a("../internals/array-includes").indexOf,x=a("../internals/hidden-keys");r.exports=function(S,D){var h,_=m(S),o=0,p=[];for(h in _)!f(x,h)&&f(_,h)&&p.push(h);for(;D.length>o;)!f(_,h=D[o++])||~l(p,h)||p.push(h);return p}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(a,r,g){var f=a("../internals/object-keys-internal"),m=a("../internals/enum-bug-keys");r.exports=Object.keys||function(l){return f(l,m)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(a,r,g){var f={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,l=m&&!f.call({1:2},1);g.f=l?function(x){return x=m(this,x),!!x&&x.enumerable}:f},{}],102:[function(a,r,g){var f=a("../internals/an-object"),m=a("../internals/a-possible-prototype");r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,x=!1,S={};try{(l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(S,[]),x=S instanceof Array}catch{}return function(D,h){return f(D),m(h),x?l.call(D,h):D.__proto__=h,D}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(a,r,g){function f(D){return function(h){for(var _,o=x(h),p=l(o),b=p.length,y=0,A=[];y<b;)_=p[y++],m&&!S.call(o,_)||A.push(D?[_,o[_]]:o[_]);return A}}var m=a("../internals/descriptors"),l=a("../internals/object-keys"),x=a("../internals/to-indexed-object"),S=a("../internals/object-property-is-enumerable").f;r.exports={entries:f(!0),values:f(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(a,r,g){var f=a("../internals/to-string-tag-support"),m=a("../internals/classof");r.exports=f?{}.toString:function(){return"[object "+m(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(a,r,g){var f=a("../internals/get-built-in"),m=a("../internals/object-get-own-property-names"),l=a("../internals/object-get-own-property-symbols"),x=a("../internals/an-object");r.exports=f("Reflect","ownKeys")||function(S){var D=m.f(x(S)),h=l.f;return h?D.concat(h(S)):D}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(a,r,g){a=a("../internals/global"),r.exports=a},{"../internals/global":60}],107:[function(a,r,g){r.exports=function(f){try{return{error:!1,value:f()}}catch(m){return{error:!0,value:m}}}},{}],108:[function(a,r,g){var f=a("../internals/an-object"),m=a("../internals/is-object"),l=a("../internals/new-promise-capability");r.exports=function(x,S){return f(x),m(S)&&S.constructor===x?S:((0,(x=l.f(x)).resolve)(S),x.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(a,r,g){var f=a("../internals/redefine");r.exports=function(m,l,x){for(var S in l)f(m,S,l[S],x);return m}},{"../internals/redefine":110}],110:[function(D,r,g){var f=D("../internals/global"),m=D("../internals/create-non-enumerable-property"),l=D("../internals/has"),x=D("../internals/set-global"),S=D("../internals/inspect-source"),D=D("../internals/internal-state"),h=D.get,_=D.enforce,o=String(String).split("String");(r.exports=function(p,b,y,T){var E=!!T&&!!T.unsafe,N=!!T&&!!T.enumerable,T=!!T&&!!T.noTargetGet;typeof y=="function"&&(typeof b!="string"||l(y,"name")||m(y,"name",b),_(y).source=o.join(typeof b=="string"?b:"")),p===f?N?p[b]=y:x(b,y):(E?!T&&p[b]&&(N=!0):delete p[b],N?p[b]=y:m(p,b,y))})(Function.prototype,"toString",function(){return typeof this=="function"&&h(this).source||S(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(a,r,g){var f=a("./classof-raw"),m=a("./regexp-exec");r.exports=function(l,x){var S=l.exec;if(typeof S=="function"){if(S=S.call(l,x),typeof S!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return S}if(f(l)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return m.call(l,x)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(x,r,g){var f,m,l=x("./regexp-flags"),x=x("./regexp-sticky-helpers"),S=RegExp.prototype.exec,D=String.prototype.replace,h=S,_=(f=/a/,m=/b*/g,S.call(f,"a"),S.call(m,"a"),f.lastIndex!==0||m.lastIndex!==0),o=x.UNSUPPORTED_Y||x.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0;r.exports=h=_||p||o?function(b){var y,A,E,N,T=this,O=o&&T.sticky,j=l.call(T),M=T.source,F=0,B=b;return O&&((j=j.replace("y","")).indexOf("g")===-1&&(j+="g"),B=String(b).slice(T.lastIndex),0<T.lastIndex&&(!T.multiline||T.multiline&&b[T.lastIndex-1]!==`
`)&&(M="(?: "+M+")",B=" "+B,F++),A=new RegExp("^(?:"+M+")",j)),p&&(A=new RegExp("^"+M+"$(?!\\s)",j)),_&&(y=T.lastIndex),E=S.call(O?A:T,B),O?E?(E.input=E.input.slice(F),E[0]=E[0].slice(F),E.index=T.lastIndex,T.lastIndex+=E[0].length):T.lastIndex=0:_&&E&&(T.lastIndex=T.global?E.index+E[0].length:y),p&&E&&1<E.length&&D.call(E[0],A,function(){for(N=1;N<arguments.length-2;N++)arguments[N]===void 0&&(E[N]=void 0)}),E}:h},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(a,r,g){var f=a("../internals/an-object");r.exports=function(){var m=f(this),l="";return m.global&&(l+="g"),m.ignoreCase&&(l+="i"),m.multiline&&(l+="m"),m.dotAll&&(l+="s"),m.unicode&&(l+="u"),m.sticky&&(l+="y"),l}},{"../internals/an-object":10}],114:[function(a,r,g){a=a("./fails");function f(m,l){return RegExp(m,l)}g.UNSUPPORTED_Y=a(function(){var m=f("a","y");return m.lastIndex=2,m.exec("abcd")!=null}),g.BROKEN_CARET=a(function(){var m=f("^r","gy");return m.lastIndex=2,m.exec("str")!=null})},{"./fails":51}],115:[function(a,r,g){r.exports=function(f){if(f==null)throw TypeError("Can't call method on "+f);return f}},{}],116:[function(a,r,g){r.exports=Object.is||function(f,m){return f===m?f!==0||1/f==1/m:f!=f&&m!=m}},{}],117:[function(a,r,g){var f=a("../internals/global"),m=a("../internals/create-non-enumerable-property");r.exports=function(l,x){try{m(f,l,x)}catch{f[l]=x}return x}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(a,r,g){var f=a("../internals/get-built-in"),m=a("../internals/object-define-property"),l=a("../internals/well-known-symbol"),x=a("../internals/descriptors"),S=l("species");r.exports=function(h){var h=f(h),_=m.f;x&&h&&!h[S]&&_(h,S,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(a,r,g){var f=a("../internals/object-define-property").f,m=a("../internals/has"),l=a("../internals/well-known-symbol")("toStringTag");r.exports=function(x,S,D){x&&!m(x=D?x:x.prototype,l)&&f(x,l,{configurable:!0,value:S})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(a,r,g){var f=a("../internals/shared"),m=a("../internals/uid"),l=f("keys");r.exports=function(x){return l[x]||(l[x]=m(x))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(f,r,g){var l=f("../internals/global"),f=f("../internals/set-global"),m="__core-js_shared__",l=l[m]||f(m,{});r.exports=l},{"../internals/global":60,"../internals/set-global":117}],122:[function(a,r,g){var f=a("../internals/is-pure"),m=a("../internals/shared-store");(r.exports=function(l,x){return m[l]||(m[l]=x!==void 0?x:{})})("versions",[]).push({version:"3.6.5",mode:f?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(a,r,g){var f=a("../internals/an-object"),m=a("../internals/a-function"),l=a("../internals/well-known-symbol")("species");r.exports=function(D,S){var D=f(D).constructor;return D===void 0||(D=f(D)[l])==null?S:m(D)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(a,r,g){var f=a("../internals/fails");r.exports=function(m){return f(function(){var l=""[m]('"');return l!==l.toLowerCase()||3<l.split('"').length})}},{"../internals/fails":51}],125:[function(a,r,g){function f(x){return function(_,o){var h,_=String(l(_)),o=m(o),p=_.length;return o<0||p<=o?x?"":void 0:(h=_.charCodeAt(o))<55296||56319<h||o+1===p||(p=_.charCodeAt(o+1))<56320||57343<p?x?_.charAt(o):h:x?_.slice(o,o+2):p-56320+(h-55296<<10)+65536}}var m=a("../internals/to-integer"),l=a("../internals/require-object-coercible");r.exports={codeAt:f(!1),charAt:f(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(a,r,g){a=a("../internals/engine-user-agent"),r.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},{"../internals/engine-user-agent":47}],127:[function(a,r,g){function f(D){return function(p,A,y){var p=String(x(p)),b=p.length,y=y===void 0?" ":String(y),A=m(A);return A<=b||y==""?p:((b=l.call(y,S((A=A-b)/y.length))).length>A&&(b=b.slice(0,A)),D?p+b:b+p)}}var m=a("../internals/to-length"),l=a("../internals/string-repeat"),x=a("../internals/require-object-coercible"),S=Math.ceil;r.exports={start:f(!1),end:f(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(a,r,g){function f(E){return E+22+75*(E<26)}function m(E){var N,T=[],O=(E=function(Z){for(var J=[],K=0,$=Z.length;K<$;){var W,Y=Z.charCodeAt(K++);55296<=Y&&Y<=56319&&K<$?(64512&(W=Z.charCodeAt(K++)))==56320?J.push(((1023&Y)<<10)+(1023&W)+65536):(J.push(Y),K--):J.push(Y)}return J}(E)).length,j=128,M=0,F=72;for(k=0;k<E.length;k++)(N=E[k])<128&&T.push(A(N));var B=T.length,I=B;for(B&&T.push("-");I<O;){for(var G=l,k=0;k<E.length;k++)j<=(N=E[k])&&N<G&&(G=N);var V=I+1;if(G-j>y((l-M)/V))throw RangeError(p);for(M+=(G-j)*V,j=G,k=0;k<E.length;k++){if((N=E[k])<j&&++M>l)throw RangeError(p);if(N==j){for(var R=M,U=x;;U+=x){var L=U<=F?1:F+S<=U?S:U-F;if(R<L)break;var H=R-L,X=x-L;T.push(A(f(L+H%X))),R=y(H/X)}T.push(A(f(R))),F=function(Z,J,K){var $=0;for(Z=K?y(Z/h):Z>>1,Z+=y(Z/J);b*S>>1<Z;$+=x)Z=y(Z/b);return y($+(b+1)*Z/(Z+D))}(M,V,I==B),M=0,++I}}++M,++j}return T.join("")}var l=2147483647,x=36,S=26,D=38,h=700,_=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",b=x-1,y=Math.floor,A=String.fromCharCode;r.exports=function(E){for(var N,T=[],O=E.toLowerCase().replace(o,".").split("."),j=0;j<O.length;j++)N=O[j],T.push(_.test(N)?"xn--"+m(N):N);return T.join(".")}},{}],129:[function(a,r,g){var f=a("../internals/to-integer"),m=a("../internals/require-object-coercible");r.exports="".repeat||function(l){var x=String(m(this)),S="",D=f(l);if(D<0||D==1/0)throw RangeError("Wrong number of repetitions");for(;0<D;(D>>>=1)&&(x+=x))1&D&&(S+=x);return S}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(a,r,g){var f=a("../internals/fails"),m=a("../internals/whitespaces");r.exports=function(l){return f(function(){return!!m[l]()||"​᠎"[l]()!="​᠎"||m[l].name!==l})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(l,r,g){function f(D){return function(h){return h=String(m(h)),1&D&&(h=h.replace(x,"")),h=2&D?h.replace(S,""):h}}var m=l("../internals/require-object-coercible"),l="["+l("../internals/whitespaces")+"]",x=RegExp("^"+l+l+"*"),S=RegExp(l+l+"*$");r.exports={start:f(1),end:f(2),trim:f(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(b,r,g){function f(I){return function(){B(I)}}function m(I){B(I.data)}function l(I){S.postMessage(I+"",y.protocol+"//"+y.host)}var x,S=b("../internals/global"),D=b("../internals/fails"),h=b("../internals/classof-raw"),_=b("../internals/function-bind-context"),o=b("../internals/html"),p=b("../internals/document-create-element"),b=b("../internals/engine-is-ios"),y=S.location,A=S.setImmediate,E=S.clearImmediate,N=S.process,T=S.MessageChannel,O=S.Dispatch,j=0,M={},F="onreadystatechange",B=function(I){var G;M.hasOwnProperty(I)&&(G=M[I],delete M[I],G())};A&&E||(A=function(I){for(var G=[],k=1;k<arguments.length;)G.push(arguments[k++]);return M[++j]=function(){(typeof I=="function"?I:Function(I)).apply(void 0,G)},x(j),j},E=function(I){delete M[I]},h(N)=="process"?x=function(I){N.nextTick(f(I))}:O&&O.now?x=function(I){O.now(f(I))}:T&&!b?(b=(h=new T).port2,h.port1.onmessage=m,x=_(b.postMessage,b,1)):!S.addEventListener||typeof postMessage!="function"||S.importScripts||D(l)||y.protocol==="file:"?x=F in p("script")?function(I){o.appendChild(p("script"))[F]=function(){o.removeChild(this),B(I)}}:function(I){setTimeout(f(I),0)}:(x=l,S.addEventListener("message",m,!1))),r.exports={set:A,clear:E}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(a,r,g){var f=a("../internals/classof-raw");r.exports=function(m){if(typeof m!="number"&&f(m)!="Number")throw TypeError("Incorrect invocation");return+m}},{"../internals/classof-raw":28}],134:[function(a,r,g){var f=a("../internals/to-integer"),m=Math.max,l=Math.min;r.exports=function(x,S){return x=f(x),x<0?m(x+S,0):l(x,S)}},{"../internals/to-integer":137}],135:[function(a,r,g){var f=a("../internals/to-integer"),m=a("../internals/to-length");r.exports=function(x){if(x===void 0)return 0;var x=f(x),S=m(x);if(x!==S)throw RangeError("Wrong length or index");return S}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(a,r,g){var f=a("../internals/indexed-object"),m=a("../internals/require-object-coercible");r.exports=function(l){return f(m(l))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(a,r,g){var f=Math.ceil,m=Math.floor;r.exports=function(l){return isNaN(l=+l)?0:(0<l?m:f)(l)}},{}],138:[function(a,r,g){var f=a("../internals/to-integer"),m=Math.min;r.exports=function(l){return 0<l?m(f(l),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(a,r,g){var f=a("../internals/require-object-coercible");r.exports=function(m){return Object(f(m))}},{"../internals/require-object-coercible":115}],140:[function(a,r,g){var f=a("../internals/to-positive-integer");r.exports=function(m,l){if(m=f(m),m%l)throw RangeError("Wrong offset");return m}},{"../internals/to-positive-integer":141}],141:[function(a,r,g){var f=a("../internals/to-integer");r.exports=function(m){if(m=f(m),m<0)throw RangeError("The argument can't be less than 0");return m}},{"../internals/to-integer":137}],142:[function(a,r,g){var f=a("../internals/is-object");r.exports=function(m,l){if(!f(m))return m;var x,S;if(l&&typeof(x=m.toString)=="function"&&!f(S=x.call(m))||typeof(x=m.valueOf)=="function"&&!f(S=x.call(m))||!l&&typeof(x=m.toString)=="function"&&!f(S=x.call(m)))return S;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(a,r,g){var f={};f[a("../internals/well-known-symbol")("toStringTag")]="z",r.exports=String(f)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(a,r,g){function f(ne,re){for(var de=0,xe=re.length,Pe=new(pe(ne))(xe);de<xe;)Pe[de]=re[de++];return Pe}function m(ne,re){W(ne,re,{get:function(){return K(this)[re]}})}function l(ne){return ne instanceof oe||(ne=B(ne))=="ArrayBuffer"||ne=="SharedArrayBuffer"}function x(ne,re){return be(ne)&&typeof re!="symbol"&&re in ne&&String(+re)==String(re)}function S(ne,re){return x(ne,re=M(re,!0))?E(2,ne[re]):Y(ne,re)}function D(ne,re,de){return!(x(ne,re=M(re,!0))&&I(de)&&F(de,"value"))||F(de,"get")||F(de,"set")||de.configurable||F(de,"writable")&&!de.writable||F(de,"enumerable")&&!de.enumerable?W(ne,re,de):(ne[re]=de.value,ne)}var h=a("../internals/export"),_=a("../internals/global"),o=a("../internals/descriptors"),p=a("../internals/typed-array-constructors-require-wrappers"),b=a("../internals/array-buffer-view-core"),y=a("../internals/array-buffer"),A=a("../internals/an-instance"),E=a("../internals/create-property-descriptor"),N=a("../internals/create-non-enumerable-property"),T=a("../internals/to-length"),O=a("../internals/to-index"),j=a("../internals/to-offset"),M=a("../internals/to-primitive"),F=a("../internals/has"),B=a("../internals/classof"),I=a("../internals/is-object"),G=a("../internals/object-create"),k=a("../internals/object-set-prototype-of"),V=a("../internals/object-get-own-property-names").f,R=a("../internals/typed-array-from"),U=a("../internals/array-iteration").forEach,L=a("../internals/set-species"),H=a("../internals/object-define-property"),X=a("../internals/object-get-own-property-descriptor"),Z=a("../internals/internal-state"),J=a("../internals/inherit-if-required"),K=Z.get,$=Z.set,W=H.f,Y=X.f,te=Math.round,ce=_.RangeError,oe=y.ArrayBuffer,ue=y.DataView,Ce=b.NATIVE_ARRAY_BUFFER_VIEWS,le=b.TYPED_ARRAY_TAG,ye=b.TypedArray,ve=b.TypedArrayPrototype,pe=b.aTypedArrayConstructor,be=b.isTypedArray,Ne="BYTES_PER_ELEMENT",he="Wrong length";o?(Ce||(X.f=S,H.f=D,m(ve,"buffer"),m(ve,"byteOffset"),m(ve,"byteLength"),m(ve,"length")),h({target:"Object",stat:!0,forced:!Ce},{getOwnPropertyDescriptor:S,defineProperty:D}),r.exports=function(Re,re,de){function xe(ze,we){W(ze,we,{get:function(){var Ee=this,Me=we;return(Ee=K(Ee)).view[Oe](Me*Pe+Ee.byteOffset,!0)},set:function(Ee){var Me=this,me=we;Me=K(Me),de&&(Ee=(Ee=te(Ee))<0?0:255<Ee?255:255&Ee),Me.view[Se](me*Pe+Me.byteOffset,Ee,!0)},enumerable:!0})}var Pe=Re.match(/\d+$/)[0]/8,Ae=Re+(de?"Clamped":"")+"Array",Oe="get"+Re,Se="set"+Re,Fe=_[Ae],$e=Fe,Re=$e&&$e.prototype,qe={};Ce?p&&($e=re(function(ze,we,Ee,Me){return A(ze,$e,Ae),J(I(we)?l(we)?Me!==void 0?new Fe(we,j(Ee,Pe),Me):Ee!==void 0?new Fe(we,j(Ee,Pe)):new Fe(we):be(we)?f($e,we):R.call($e,we):new Fe(O(we)),ze,$e)}),k&&k($e,ye),U(V(Fe),function(ze){ze in $e||N($e,ze,Fe[ze])}),$e.prototype=Re):($e=re(function(ze,we,Ee,Me){A(ze,$e,Ae);var me,Ge,Xe=0,rt=0;if(I(we)){if(!l(we))return be(we)?f($e,we):R.call($e,we);var ut=we,rt=j(Ee,Pe),Ee=we.byteLength;if(Me===void 0){if(Ee%Pe||(me=Ee-rt)<0)throw ce(he)}else if(Ee<(me=T(Me)*Pe)+rt)throw ce(he);Ge=me/Pe}else Ge=O(we),ut=new oe(me=Ge*Pe);for($(ze,{buffer:ut,byteOffset:rt,byteLength:me,length:Ge,view:new ue(ut)});Xe<Ge;)xe(ze,Xe++)}),k&&k($e,ye),Re=$e.prototype=G(ve)),Re.constructor!==$e&&N(Re,"constructor",$e),le&&N(Re,le,Ae),qe[Ae]=$e,h({global:!0,forced:$e!=Fe,sham:!Ce},qe),Ne in $e||N($e,Ne,Pe),Ne in Re||N(Re,Ne,Pe),L(Ae)}):r.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(x,r,g){var f=x("../internals/global"),m=x("../internals/fails"),l=x("../internals/check-correctness-of-iteration"),x=x("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,S=f.ArrayBuffer,D=f.Int8Array;r.exports=!x||!m(function(){D(1)})||!m(function(){new D(-1)})||!l(function(h){new D,new D(null),new D(1.5),new D(h)},!0)||m(function(){return new D(new S(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(a,r,g){var f=a("../internals/to-object"),m=a("../internals/to-length"),l=a("../internals/get-iterator-method"),x=a("../internals/is-array-iterator-method"),S=a("../internals/function-bind-context"),D=a("../internals/array-buffer-view-core").aTypedArrayConstructor;r.exports=function(h){var _,o,p,b,y,A,E=f(h),N=arguments.length,T=1<N?arguments[1]:void 0,O=T!==void 0,j=l(E);if(j!=null&&!x(j))for(A=(y=j.call(E)).next,E=[];!(b=A.call(y)).done;)E.push(b.value);for(O&&2<N&&(T=S(T,arguments[2],2)),o=m(E.length),p=new(D(this))(o),_=0;_<o;_++)p[_]=O?T(E[_],_):E[_];return p}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(a,r,g){var f=0,m=Math.random();r.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++f+m).toString(36)}},{}],148:[function(a,r,g){a=a("../internals/native-symbol"),r.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(a,r,g){a=a("../internals/well-known-symbol"),g.f=a},{"../internals/well-known-symbol":150}],150:[function(D,r,g){var f=D("../internals/global"),m=D("../internals/shared"),l=D("../internals/has"),x=D("../internals/uid"),S=D("../internals/native-symbol"),D=D("../internals/use-symbol-as-uid"),h=m("wks"),_=f.Symbol,o=D?_:_&&_.withoutSetter||x;r.exports=function(p){return l(h,p)||(S&&l(_,p)?h[p]=_[p]:h[p]=o("Symbol."+p)),h[p]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(a,r,g){r.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},{}],152:[function(l,r,g){var f=l("../internals/export"),m=l("../internals/global"),S=l("../internals/array-buffer"),l=l("../internals/set-species"),x="ArrayBuffer",S=S[x];f({global:!0,forced:m[x]!==S},{ArrayBuffer:S}),l(x)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(E,r,g){var f=E("../internals/export"),m=E("../internals/fails"),l=E("../internals/is-array"),x=E("../internals/is-object"),S=E("../internals/to-object"),D=E("../internals/to-length"),h=E("../internals/create-property"),_=E("../internals/array-species-create"),o=E("../internals/array-method-has-species-support"),A=E("../internals/well-known-symbol"),E=E("../internals/engine-v8-version"),p=A("isConcatSpreadable"),b=9007199254740991,y="Maximum allowed index exceeded",A=51<=E||!m(function(){var N=[];return N[p]=!1,N.concat()[0]!==N}),E=o("concat");f({target:"Array",proto:!0,forced:!A||!E},{concat:function(N){for(var T,O,j,M,F,B=S(this),I=_(B,0),G=0,k=-1,V=arguments.length;k<V;k++)if(F=void 0,!x(M=j=k===-1?B:arguments[k])||((F=M[p])!==void 0?!F:!l(M))){if(b<=G)throw TypeError(y);h(I,G++,j)}else{if(O=D(j.length),b<G+O)throw TypeError(y);for(T=0;T<O;T++,G++)T in j&&h(I,G,j[T])}return I.length=G,I}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(l,r,g){var f=l("../internals/export"),m=l("../internals/array-copy-within"),l=l("../internals/add-to-unscopables");f({target:"Array",proto:!0},{copyWithin:m}),l("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(x,r,g){var f=x("../internals/export"),m=x("../internals/array-iteration").every,l=x("../internals/array-method-is-strict"),x=x("../internals/array-method-uses-to-length"),l=l("every"),x=x("every");f({target:"Array",proto:!0,forced:!l||!x},{every:function(S){return m(this,S,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(l,r,g){var f=l("../internals/export"),m=l("../internals/array-fill"),l=l("../internals/add-to-unscopables");f({target:"Array",proto:!0},{fill:m}),l("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(x,r,g){var f=x("../internals/export"),m=x("../internals/array-iteration").filter,l=x("../internals/array-method-has-species-support"),x=x("../internals/array-method-uses-to-length"),l=l("filter"),x=x("filter");f({target:"Array",proto:!0,forced:!l||!x},{filter:function(S){return m(this,S,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(D,r,g){var f=D("../internals/export"),m=D("../internals/array-iteration").findIndex,l=D("../internals/add-to-unscopables"),D=D("../internals/array-method-uses-to-length"),x="findIndex",S=!0,D=D(x);x in[]&&Array(1)[x](function(){S=!1}),f({target:"Array",proto:!0,forced:S||!D},{findIndex:function(h){return m(this,h,1<arguments.length?arguments[1]:void 0)}}),l(x)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(a,r,g){var f=a("../internals/export"),m=a("../internals/flatten-into-array"),l=a("../internals/to-object"),x=a("../internals/to-length"),S=a("../internals/a-function"),D=a("../internals/array-species-create");f({target:"Array",proto:!0},{flatMap:function(h){var _,o=l(this),p=x(o.length);return S(h),(_=D(o,0)).length=m(_,o,o,p,0,1,h,1<arguments.length?arguments[1]:void 0),_}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(a,r,g){var f=a("../internals/export"),m=a("../internals/flatten-into-array"),l=a("../internals/to-object"),x=a("../internals/to-length"),S=a("../internals/to-integer"),D=a("../internals/array-species-create");f({target:"Array",proto:!0},{flat:function(){var h=arguments.length?arguments[0]:void 0,_=l(this),o=x(_.length),p=D(_,0);return p.length=m(p,_,_,o,0,h===void 0?1:S(h)),p}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(m,r,g){var f=m("../internals/export"),m=m("../internals/array-for-each");f({target:"Array",proto:!0,forced:[].forEach!=m},{forEach:m})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(a,r,g){var f=a("../internals/export"),m=a("../internals/array-from");f({target:"Array",stat:!0,forced:!a("../internals/check-correctness-of-iteration")(function(l){Array.from(l)})},{from:m})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(a,r,g){var f=a("../internals/export"),m=a("../internals/array-includes").includes,l=a("../internals/add-to-unscopables");f({target:"Array",proto:!0,forced:!a("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(x){return m(this,x,1<arguments.length?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(D,r,g){var f=D("../internals/export"),m=D("../internals/array-includes").indexOf,S=D("../internals/array-method-is-strict"),D=D("../internals/array-method-uses-to-length"),l=[].indexOf,x=!!l&&1/[1].indexOf(1,-0)<0,S=S("indexOf"),D=D("indexOf",{ACCESSORS:!0,1:0});f({target:"Array",proto:!0,forced:x||!S||!D},{indexOf:function(h){return x?l.apply(this,arguments)||0:m(this,h,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(S,r,g){var f=S("../internals/to-indexed-object"),m=S("../internals/add-to-unscopables"),l=S("../internals/iterators"),x=S("../internals/internal-state"),S=S("../internals/define-iterator"),D="Array Iterator",h=x.set,_=x.getterFor(D);r.exports=S(Array,"Array",function(o,p){h(this,{type:D,target:f(o),index:0,kind:p})},function(){var o=_(this),p=o.target,b=o.kind,y=o.index++;return!p||y>=p.length?{value:o.target=void 0,done:!0}:b=="keys"?{value:y,done:!1}:b=="values"?{value:p[y],done:!1}:{value:[y,p[y]],done:!1}},"values"),l.Arguments=l.Array,m("keys"),m("values"),m("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(S,r,g){var f=S("../internals/export"),x=S("../internals/indexed-object"),m=S("../internals/to-indexed-object"),S=S("../internals/array-method-is-strict"),l=[].join,x=x!=Object,S=S("join",",");f({target:"Array",proto:!0,forced:x||!S},{join:function(D){return l.call(m(this),D===void 0?",":D)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(m,r,g){var f=m("../internals/export"),m=m("../internals/array-last-index-of");f({target:"Array",proto:!0,forced:m!==[].lastIndexOf},{lastIndexOf:m})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(x,r,g){var f=x("../internals/export"),m=x("../internals/array-iteration").map,l=x("../internals/array-method-has-species-support"),x=x("../internals/array-method-uses-to-length"),l=l("map"),x=x("map");f({target:"Array",proto:!0,forced:!l||!x},{map:function(S){return m(this,S,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(p,r,g){var f=p("../internals/export"),m=p("../internals/is-object"),l=p("../internals/is-array"),x=p("../internals/to-absolute-index"),S=p("../internals/to-length"),D=p("../internals/to-indexed-object"),h=p("../internals/create-property"),_=p("../internals/well-known-symbol"),o=p("../internals/array-method-has-species-support"),p=p("../internals/array-method-uses-to-length"),o=o("slice"),p=p("slice",{ACCESSORS:!0,0:0,1:2}),b=_("species"),y=[].slice,A=Math.max;f({target:"Array",proto:!0,forced:!o||!p},{slice:function(E,N){var T,O,j,M=D(this),F=S(M.length),B=x(E,F),I=x(N===void 0?F:N,F);if(l(M)&&((T=typeof(T=M.constructor)=="function"&&(T===Array||l(T.prototype))||m(T)&&(T=T[b])===null?void 0:T)===Array||T===void 0))return y.call(M,B,I);for(O=new(T===void 0?Array:T)(A(I-B,0)),j=0;B<I;B++,j++)B in M&&h(O,j,M[B]);return O.length=j,O}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(x,r,g){var f=x("../internals/export"),m=x("../internals/array-iteration").some,l=x("../internals/array-method-is-strict"),x=x("../internals/array-method-uses-to-length"),l=l("some"),x=x("some");f({target:"Array",proto:!0,forced:!l||!x},{some:function(S){return m(this,S,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(o,r,g){var f=o("../internals/export"),m=o("../internals/to-absolute-index"),l=o("../internals/to-integer"),x=o("../internals/to-length"),S=o("../internals/to-object"),D=o("../internals/array-species-create"),h=o("../internals/create-property"),_=o("../internals/array-method-has-species-support"),o=o("../internals/array-method-uses-to-length"),_=_("splice"),o=o("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,b=Math.min;f({target:"Array",proto:!0,forced:!_||!o},{splice:function(G,A){var E,N,T,O,j,M,F=S(this),B=x(F.length),I=m(G,B),G=arguments.length;if(G===0?E=N=0:N=G===1?(E=0,B-I):(E=G-2,b(p(l(A),0),B-I)),9007199254740991<B+E-N)throw TypeError("Maximum allowed length exceeded");for(T=D(F,N),O=0;O<N;O++)(j=I+O)in F&&h(T,O,F[j]);if(E<(T.length=N)){for(O=I;O<B-N;O++)M=O+E,(j=O+N)in F?F[M]=F[j]:delete F[M];for(O=B;B-N+E<O;O--)delete F[O-1]}else if(N<E)for(O=B-N;I<O;O--)M=O+E-1,(j=O+N-1)in F?F[M]=F[j]:delete F[M];for(O=0;O<E;O++)F[O+I]=arguments[O+2];return F.length=B-N+E,T}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(a,r,g){a("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(a,r,g){a("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(m,r,g){var f=m("../internals/descriptors"),m=m("../internals/object-define-property").f,l=Function.prototype,x=l.toString,S=/^\s*function ([^ (]*)/;!f||"name"in l||m(l,"name",{configurable:!0,get:function(){try{return x.call(this).match(S)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(m,r,g){var f=m("../internals/collection"),m=m("../internals/collection-strong");r.exports=f("Map",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},m)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(f,r,g){var f=f("../internals/export"),m=Math.hypot,l=Math.abs,x=Math.sqrt;f({target:"Math",stat:!0,forced:!!m&&m(1/0,NaN)!==1/0},{hypot:function(S,D){for(var h,_,o=0,p=0,b=arguments.length,y=0;p<b;)y<(h=l(arguments[p++]))?(o=o*(_=y/h)*_+1,y=h):o+=0<h?(_=h/y)*_:h;return y===1/0?1/0:y*x(o)}})},{"../internals/export":50}],177:[function(f,r,g){var f=f("../internals/export"),m=Math.log,l=Math.LN2;f({target:"Math",stat:!0},{log2:function(x){return m(x)/l}})},{"../internals/export":50}],178:[function(a,r,g){a("../internals/export")({target:"Math",stat:!0},{sign:a("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(a,r,g){function f(k){var V,R,U,L,H,X,Z,J=o(k,!1);if(typeof J=="string"&&2<J.length){if((k=(J=N(J)).charCodeAt(0))===43||k===45){if((V=J.charCodeAt(2))===88||V===120)return NaN}else if(k===48){switch(J.charCodeAt(1)){case 66:case 98:R=2,U=49;break;case 79:case 111:R=8,U=55;break;default:return+J}for(H=(L=J.slice(2)).length,X=0;X<H;X++)if((Z=L.charCodeAt(X))<48||U<Z)return NaN;return parseInt(L,R)}}return+J}var m=a("../internals/descriptors"),l=a("../internals/global"),x=a("../internals/is-forced"),S=a("../internals/redefine"),D=a("../internals/has"),h=a("../internals/classof-raw"),_=a("../internals/inherit-if-required"),o=a("../internals/to-primitive"),p=a("../internals/fails"),b=a("../internals/object-create"),y=a("../internals/object-get-own-property-names").f,A=a("../internals/object-get-own-property-descriptor").f,E=a("../internals/object-define-property").f,N=a("../internals/string-trim").trim,T="Number",O=l[T],j=O.prototype,M=h(b(j))==T;if(x(T,!O(" 0o1")||!O("0b1")||O("+0x1"))){for(var F,B=function(V){var V=arguments.length<1?0:V,R=this;return R instanceof B&&(M?p(function(){j.valueOf.call(R)}):h(R)!=T)?_(new O(f(V)),R,B):f(V)},I=m?y(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),G=0;I.length>G;G++)D(O,F=I[G])&&!D(B,F)&&E(B,F,A(O,F));(B.prototype=j).constructor=B,S(l,T,B)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(a,r,g){a("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(a,r,g){a("../internals/export")({target:"Number",stat:!0},{isFinite:a("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(D,r,g){function f(o,p,b){return p===0?b:p%2==1?f(o,p-1,b*o):f(o*o,p/2,b)}var m=D("../internals/export"),l=D("../internals/to-integer"),x=D("../internals/this-number-value"),S=D("../internals/string-repeat"),D=D("../internals/fails"),h=1 .toFixed,_=Math.floor;m({target:"Number",proto:!0,forced:h&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!D(function(){h.call({})})},{toFixed:function(T){function p(F,B){for(var I=-1,G=B;++I<6;)G+=F*O[I],O[I]=G%1e7,G=_(G/1e7)}function b(F){for(var B=6,I=0;0<=--B;)I+=O[B],O[B]=_(I/F),I=I%F*1e7}function y(){for(var F,B=6,I="";0<=--B;)I===""&&B!==0&&O[B]===0||(F=String(O[B]),I=I===""?F:I+S.call("0",7-F.length)+F);return I}var A,E,N=x(this),T=l(T),O=[0,0,0,0,0,0],j="",M="0";if(T<0||20<T)throw RangeError("Incorrect fraction digits");if(N!=N)return"NaN";if(N<=-1e21||1e21<=N)return String(N);if(N<0&&(j="-",N=-N),1e-21<N)if(N=(A=function(F){for(var B=0,I=F;4096<=I;)B+=12,I/=4096;for(;2<=I;)B+=1,I/=2;return B}(N*f(2,69,1))-69)<0?N*f(2,-A,1):N/f(2,A,1),N*=4503599627370496,0<(A=52-A)){for(p(0,N),E=T;7<=E;)p(1e7,0),E-=7;for(p(f(10,E,1),0),E=A-1;23<=E;)b(1<<23),E-=23;b(1<<E),p(1,1),b(2),M=y()}else p(0,N),p(1<<-A,0),M=y()+S.call("0",T);return M=0<T?j+((N=M.length)<=T?"0."+S.call("0",T-N)+M:M.slice(0,N-T)+"."+M.slice(N-T)):j+M}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(m,r,g){var f=m("../internals/export"),m=m("../internals/object-assign");f({target:"Object",stat:!0,forced:Object.assign!==m},{assign:m})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(a,r,g){var f=a("../internals/export"),m=a("../internals/object-to-array").entries;f({target:"Object",stat:!0},{entries:function(l){return m(l)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(a,r,g){var f=a("../internals/export"),m=a("../internals/iterate"),l=a("../internals/create-property");f({target:"Object",stat:!0},{fromEntries:function(x){var S={};return m(x,function(D,h){l(S,D,h)},void 0,!0),S}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(x,r,g){var f=x("../internals/export"),S=x("../internals/fails"),m=x("../internals/to-indexed-object"),l=x("../internals/object-get-own-property-descriptor").f,x=x("../internals/descriptors"),S=S(function(){l(1)});f({target:"Object",stat:!0,forced:!x||S,sham:!x},{getOwnPropertyDescriptor:function(D,h){return l(m(D),h)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(l,r,g){var f=l("../internals/export"),m=l("../internals/fails"),l=l("../internals/object-get-own-property-names-external").f;f({target:"Object",stat:!0,forced:m(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:l})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(S,r,g){var f=S("../internals/export"),m=S("../internals/fails"),l=S("../internals/to-object"),x=S("../internals/object-get-prototype-of"),S=S("../internals/correct-prototype-getter");f({target:"Object",stat:!0,forced:m(function(){x(1)}),sham:!S},{getPrototypeOf:function(D){return x(l(D))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(a,r,g){var f=a("../internals/export"),m=a("../internals/to-object"),l=a("../internals/object-keys");f({target:"Object",stat:!0,forced:a("../internals/fails")(function(){l(1)})},{keys:function(x){return l(m(x))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(l,r,g){var f=l("../internals/to-string-tag-support"),m=l("../internals/redefine"),l=l("../internals/object-to-string");f||m(Object.prototype,"toString",l,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(de,r,g){var f,m,l,x,S=de("../internals/export"),D=de("../internals/is-pure"),h=de("../internals/global"),_=de("../internals/get-built-in"),o=de("../internals/native-promise-constructor"),p=de("../internals/redefine"),b=de("../internals/redefine-all"),y=de("../internals/set-to-string-tag"),A=de("../internals/set-species"),E=de("../internals/is-object"),N=de("../internals/a-function"),T=de("../internals/an-instance"),O=de("../internals/classof-raw"),j=de("../internals/inspect-source"),M=de("../internals/iterate"),F=de("../internals/check-correctness-of-iteration"),B=de("../internals/species-constructor"),I=de("../internals/task").set,G=de("../internals/microtask"),k=de("../internals/promise-resolve"),V=de("../internals/host-report-errors"),R=de("../internals/new-promise-capability"),U=de("../internals/perform"),L=de("../internals/internal-state"),H=de("../internals/is-forced"),xe=de("../internals/well-known-symbol"),X=de("../internals/engine-v8-version"),Z=xe("species"),J="Promise",K=L.get,$=L.set,W=L.getterFor(J),Y=o,te=h.TypeError,ce=h.document,oe=h.process,ue=_("fetch"),Ce=R.f,le=Ce,ye=O(oe)=="process",ve=!!(ce&&ce.createEvent&&h.dispatchEvent),pe="unhandledrejection",be="rejectionhandled",Ne=1,he=2,ne=1,re=2,de=H(J,function(){var qe,ze;return j(Y)===String(Y)&&(X===66||!ye&&typeof PromiseRejectionEvent!="function")?!0:!(!D||Y.prototype.finally)||!(51<=X&&/native code/.test(Y))&&(ze=function(we){we(function(){},function(){})},((qe=Y.resolve(1)).constructor={})[Z]=ze,!(qe.then(function(){})instanceof ze))}),xe=de||!F(function(qe){Y.all(qe).catch(function(){})}),Pe=function(qe){var ze;return!(!E(qe)||typeof(ze=qe.then)!="function")&&ze},Ae=function(qe,ze,we){var Ee;ze.notified||(ze.notified=!0,Ee=ze.reactions,G(function(){for(var Me,me,Ge=ze.value,Xe=ze.state==Ne,rt=0;Ee.length>rt;){var ut,ft,pt,ot=Ee[rt++],bt=Xe?ot.ok:ot.fail,At=ot.resolve,Ke=ot.reject,dt=ot.domain;try{bt?(Xe||(ze.rejection===re&&function(vt,wt){I.call(h,function(){ye?oe.emit("rejectionHandled",vt):Oe(be,vt,wt.value)})}(qe,ze),ze.rejection=ne),bt===!0?ut=Ge:(dt&&dt.enter(),ut=bt(Ge),dt&&(dt.exit(),pt=!0)),ut===ot.promise?Ke(te("Promise-chain cycle")):(ft=Pe(ut))?ft.call(ut,At,Ke):At(ut)):Ke(Ge)}catch(vt){dt&&!pt&&dt.exit(),Ke(vt)}}ze.reactions=[],ze.notified=!1,we&&!ze.rejection&&(Me=qe,me=ze,I.call(h,function(){var vt=me.value,wt=Se(me);if(wt&&(wt=U(function(){ye?oe.emit("unhandledRejection",vt,Me):Oe(pe,Me,vt)}),me.rejection=ye||Se(me)?re:ne,wt.error))throw wt.value}))}))},Oe=function(qe,ze,we){var Ee;ve?((Ee=ce.createEvent("Event")).promise=ze,Ee.reason=we,Ee.initEvent(qe,!1,!0),h.dispatchEvent(Ee)):Ee={promise:ze,reason:we},(ze=h["on"+qe])?ze(Ee):qe===pe&&V("Unhandled promise rejection",we)},Se=function(qe){return qe.rejection!==ne&&!qe.parent},Fe=function(qe,ze,we,Ee){return function(Me){qe(ze,we,Me,Ee)}},$e=function(qe,ze,we,Ee){ze.done||(ze.done=!0,(ze=Ee||ze).value=we,ze.state=he,Ae(qe,ze,!0))},Re=function(qe,ze,we,Ee){if(!ze.done){ze.done=!0,Ee&&(ze=Ee);try{if(qe===we)throw te("Promise can't be resolved itself");var Me=Pe(we);Me?G(function(){var me={done:!1};try{Me.call(we,Fe(Re,qe,me,ze),Fe($e,qe,me,ze))}catch(Ge){$e(qe,me,Ge,ze)}}):(ze.value=we,ze.state=Ne,Ae(qe,ze,!1))}catch(me){$e(qe,{done:!1},me,ze)}}};de&&(Y=function(qe){T(this,Y,J),N(qe),f.call(this);var ze=K(this);try{qe(Fe(Re,this,ze),Fe($e,this,ze))}catch(we){$e(this,ze,we)}},(f=function(qe){$(this,{type:J,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=b(Y.prototype,{then:function(qe,ze){var we=W(this),Ee=Ce(B(this,Y));return Ee.ok=typeof qe!="function"||qe,Ee.fail=typeof ze=="function"&&ze,Ee.domain=ye?oe.domain:void 0,we.parent=!0,we.reactions.push(Ee),we.state!=0&&Ae(this,we,!1),Ee.promise},catch:function(qe){return this.then(void 0,qe)}}),m=function(){var qe=new f,ze=K(qe);this.promise=qe,this.resolve=Fe(Re,qe,ze),this.reject=Fe($e,qe,ze)},R.f=Ce=function(qe){return qe===Y||qe===l?new m:le(qe)},D||typeof o!="function"||(x=o.prototype.then,p(o.prototype,"then",function(qe,ze){var we=this;return new Y(function(Ee,Me){x.call(we,Ee,Me)}).then(qe,ze)},{unsafe:!0}),typeof ue=="function"&&S({global:!0,enumerable:!0,forced:!0},{fetch:function(qe){return k(Y,ue.apply(h,arguments))}}))),S({global:!0,wrap:!0,forced:de},{Promise:Y}),y(Y,J,!1,!0),A(J),l=_(J),S({target:J,stat:!0,forced:de},{reject:function(qe){var ze=Ce(this);return ze.reject.call(void 0,qe),ze.promise}}),S({target:J,stat:!0,forced:D||de},{resolve:function(qe){return k(D&&this===l?Y:this,qe)}}),S({target:J,stat:!0,forced:xe},{all:function(qe){var ze=this,we=Ce(ze),Ee=we.resolve,Me=we.reject,me=U(function(){var Ge=N(ze.resolve),Xe=[],rt=0,ut=1;M(qe,function(ft){var pt=rt++,ot=!1;Xe.push(void 0),ut++,Ge.call(ze,ft).then(function(bt){ot||(ot=!0,Xe[pt]=bt,--ut||Ee(Xe))},Me)}),--ut||Ee(Xe)});return me.error&&Me(me.value),we.promise},race:function(qe){var ze=this,we=Ce(ze),Ee=we.reject,Me=U(function(){var me=N(ze.resolve);M(qe,function(Ge){me.call(ze,Ge).then(we.resolve,Ee)})});return Me.error&&Ee(Me.value),we.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(h,r,g){var f=h("../internals/export"),b=h("../internals/get-built-in"),m=h("../internals/a-function"),l=h("../internals/an-object"),x=h("../internals/is-object"),S=h("../internals/object-create"),D=h("../internals/function-bind"),h=h("../internals/fails"),_=b("Reflect","construct"),o=h(function(){function y(){}return!(_(function(){},[],y)instanceof y)}),p=!h(function(){_(function(){})}),b=o||p;f({target:"Reflect",stat:!0,forced:b,sham:b},{construct:function(y,A){m(y),l(A);var E=arguments.length<3?y:m(arguments[2]);if(p&&!o)return _(y,A,E);if(y==E){switch(A.length){case 0:return new y;case 1:return new y(A[0]);case 2:return new y(A[0],A[1]);case 3:return new y(A[0],A[1],A[2]);case 4:return new y(A[0],A[1],A[2],A[3])}var N=[null];return N.push.apply(N,A),new(D.apply(y,N))}return N=E.prototype,E=S(x(N)?N:Object.prototype),N=Function.apply.call(y,E,A),x(N)?N:E}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(a,r,g){var f=a("../internals/export"),m=a("../internals/is-object"),l=a("../internals/an-object"),x=a("../internals/has"),S=a("../internals/object-get-own-property-descriptor"),D=a("../internals/object-get-prototype-of");f({target:"Reflect",stat:!0},{get:function h(_,o){var p,b=arguments.length<3?_:arguments[2];return l(_)===b?_[o]:(p=S.f(_,o))?x(p,"value")?p.value:p.get===void 0?void 0:p.get.call(b):m(p=D(_))?h(p,o,b):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(a,r,g){var f=a("../internals/descriptors"),m=a("../internals/global"),l=a("../internals/is-forced"),x=a("../internals/inherit-if-required"),S=a("../internals/object-define-property").f,D=a("../internals/object-get-own-property-names").f,h=a("../internals/is-regexp"),_=a("../internals/regexp-flags"),o=a("../internals/regexp-sticky-helpers"),p=a("../internals/redefine"),b=a("../internals/fails"),y=a("../internals/internal-state").set,A=a("../internals/set-species"),E=a("../internals/well-known-symbol")("match"),N=m.RegExp,T=N.prototype,O=/a/g,j=/a/g,M=new N(O)!==O,F=o.UNSUPPORTED_Y;if(f&&l("RegExp",!M||F||b(function(){return j[E]=!1,N(O)!=O||N(j)==j||N(O,"i")!="/a/i"}))){for(var B=function(k,V){var R,U=this instanceof B,L=h(k),H=V===void 0;return!U&&L&&k.constructor===B&&H?k:(M?L&&!H&&(k=k.source):k instanceof B&&(H&&(V=_.call(k)),k=k.source),F&&(R=!!V&&-1<V.indexOf("y"))&&(V=V.replace(/y/g,"")),L=x(M?new N(k,V):N(k,V),U?this:T,B),F&&R&&y(L,{sticky:R}),L)},I=D(N),G=0;I.length>G;)(function(k){k in B||S(B,k,{configurable:!0,get:function(){return N[k]},set:function(V){N[k]=V}})})(I[G++]);(T.constructor=B).prototype=T,p(m,"RegExp",B)}A("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(m,r,g){var f=m("../internals/export"),m=m("../internals/regexp-exec");f({target:"RegExp",proto:!0,forced:/./.exec!==m},{exec:m})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(x,r,g){var f=x("../internals/redefine"),m=x("../internals/an-object"),h=x("../internals/fails"),l=x("../internals/regexp-flags"),x="toString",S=RegExp.prototype,D=S[x],h=h(function(){return D.call({source:"a",flags:"b"})!="/a/b"}),_=D.name!=x;(h||_)&&f(RegExp.prototype,x,function(){var o=m(this),p=String(o.source),b=o.flags;return"/"+p+"/"+String(b===void 0&&o instanceof RegExp&&!("flags"in S)?l.call(o):b)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(m,r,g){var f=m("../internals/collection"),m=m("../internals/collection-strong");r.exports=f("Set",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},m)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(D,r,g){var f=D("../internals/export"),m=D("../internals/object-get-own-property-descriptor").f,l=D("../internals/to-length"),x=D("../internals/not-a-regexp"),S=D("../internals/require-object-coercible"),o=D("../internals/correct-is-regexp-logic"),D=D("../internals/is-pure"),h="".endsWith,_=Math.min,o=o("endsWith");f({target:"String",proto:!0,forced:!!(D||o||!(f=m(String.prototype,"endsWith"))||f.writable)&&!o},{endsWith:function(p){var b=String(S(this)),y=(x(p),1<arguments.length?arguments[1]:void 0),A=l(b.length),y=y===void 0?A:_(l(y),A),A=String(p);return h?h.call(b,A,y):b.slice(y-A.length,y)===A}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(a,r,g){var f=a("../internals/export"),m=a("../internals/not-a-regexp"),l=a("../internals/require-object-coercible");f({target:"String",proto:!0,forced:!a("../internals/correct-is-regexp-logic")("includes")},{includes:function(x){return!!~String(l(this)).indexOf(m(x),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(l,r,g){var f=l("../internals/string-multibyte").charAt,m=l("../internals/internal-state"),l=l("../internals/define-iterator"),x="String Iterator",S=m.set,D=m.getterFor(x);l(String,"String",function(h){S(this,{type:x,string:String(h),index:0})},function(){var h=D(this),_=h.string,o=h.index;return o>=_.length?{value:void 0,done:!0}:(_=f(_,o),h.index+=_.length,{value:_,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(a,r,g){var f=a("../internals/fix-regexp-well-known-symbol-logic"),m=a("../internals/an-object"),l=a("../internals/to-length"),x=a("../internals/require-object-coercible"),S=a("../internals/advance-string-index"),D=a("../internals/regexp-exec-abstract");f("match",1,function(h,_,o){return[function(p){var b=x(this),y=p==null?void 0:p[h];return y!==void 0?y.call(p,b):new RegExp(p)[h](String(b))},function(p){var b=o(_,p,this);if(b.done)return b.value;var y=m(p),A=String(this);if(!y.global)return D(y,A);for(var E=y.unicode,N=[],T=y.lastIndex=0;(O=D(y,A))!==null;){var O=String(O[0]);(N[T]=O)===""&&(y.lastIndex=S(A,l(y.lastIndex),E)),T++}return T===0?null:N}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(a,r,g){var f=a("../internals/export"),m=a("../internals/string-pad").start;f({target:"String",proto:!0,forced:a("../internals/string-pad-webkit-bug")},{padStart:function(l){return m(this,l,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(a,r,g){a("../internals/export")({target:"String",proto:!0},{repeat:a("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(a,r,g){var f=a("../internals/fix-regexp-well-known-symbol-logic"),m=a("../internals/an-object"),l=a("../internals/to-object"),x=a("../internals/to-length"),S=a("../internals/to-integer"),D=a("../internals/require-object-coercible"),h=a("../internals/advance-string-index"),_=a("../internals/regexp-exec-abstract"),o=Math.max,p=Math.min,b=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,A=/\$([$&'`]|\d\d?)/g;f("replace",2,function(E,N,T,O){var j=O.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,M=O.REPLACE_KEEPS_$0,F=j?"$":"$0";return[function(B,I){var G=D(this),k=B==null?void 0:B[E];return k!==void 0?k.call(B,G,I):N.call(String(G),B,I)},function(B,I){if(!j&&M||typeof I=="string"&&I.indexOf(F)===-1){var G=T(N,B,this,I);if(G.done)return G.value}for(var k,V=m(B),R=String(this),U=typeof I=="function",L=(U||(I=String(I)),V.global),H=(L&&(k=V.unicode,V.lastIndex=0),[]);($=_(V,R))!==null&&(H.push($),L);)String($[0])===""&&(V.lastIndex=h(R,x(V.lastIndex),k));for(var X,Z="",J=0,K=0;K<H.length;K++){for(var $=H[K],W=String($[0]),Y=o(p(S($.index),R.length),0),te=[],ce=1;ce<$.length;ce++)te.push((X=$[ce])===void 0?X:String(X));var oe=$.groups,ue=U?(ue=[W].concat(te,Y,R),oe!==void 0&&ue.push(oe),String(I.apply(void 0,ue))):function(Ce,le,ye,ve,pe,be){var Ne=ye+Ce.length,he=ve.length,ne=A;return pe!==void 0&&(pe=l(pe),ne=y),N.call(be,ne,function(re,de){var xe;switch(de.charAt(0)){case"$":return"$";case"&":return Ce;case"`":return le.slice(0,ye);case"'":return le.slice(Ne);case"<":xe=pe[de.slice(1,-1)];break;default:var Pe,Ae=+de;if(Ae==0)return re;if(he<Ae)return(Pe=b(Ae/10))!==0&&Pe<=he?ve[Pe-1]===void 0?de.charAt(1):ve[Pe-1]+de.charAt(1):re;xe=ve[Ae-1]}return xe===void 0?"":xe})}(W,R,Y,te,oe,I);J<=Y&&(Z+=R.slice(J,Y)+ue,J=Y+W.length)}return Z+R.slice(J)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(a,r,g){var f=a("../internals/fix-regexp-well-known-symbol-logic"),m=a("../internals/an-object"),l=a("../internals/require-object-coercible"),x=a("../internals/same-value"),S=a("../internals/regexp-exec-abstract");f("search",1,function(D,h,_){return[function(o){var p=l(this),b=o==null?void 0:o[D];return b!==void 0?b.call(o,p):new RegExp(o)[D](String(p))},function(o){var p,b=_(h,o,this);return b.done?b.value:(b=m(o),o=String(this),p=b.lastIndex,x(p,0)||(b.lastIndex=0),o=S(b,o),x(b.lastIndex,p)||(b.lastIndex=p),o===null?-1:o.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(p,r,g){var f=p("../internals/fix-regexp-well-known-symbol-logic"),m=p("../internals/is-regexp"),l=p("../internals/an-object"),x=p("../internals/require-object-coercible"),S=p("../internals/species-constructor"),D=p("../internals/advance-string-index"),h=p("../internals/to-length"),_=p("../internals/regexp-exec-abstract"),o=p("../internals/regexp-exec"),p=p("../internals/fails"),b=[].push,y=Math.min,A=4294967295,E=!p(function(){return!RegExp(A,"y")});f("split",2,function(N,T,O){var j="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(M,F){var B=String(x(this)),I=F===void 0?A:F>>>0;if(I==0)return[];if(M===void 0)return[B];if(!m(M))return T.call(B,M,I);for(var G,k,V,R=[],F=(M.ignoreCase?"i":"")+(M.multiline?"m":"")+(M.unicode?"u":"")+(M.sticky?"y":""),U=0,L=new RegExp(M.source,F+"g");(G=o.call(L,B))&&!(U<(k=L.lastIndex)&&(R.push(B.slice(U,G.index)),1<G.length&&G.index<B.length&&b.apply(R,G.slice(1)),V=G[0].length,U=k,R.length>=I));)L.lastIndex===G.index&&L.lastIndex++;return U===B.length?!V&&L.test("")||R.push(""):R.push(B.slice(U)),R.length>I?R.slice(0,I):R}:"0".split(void 0,0).length?function(M,F){return M===void 0&&F===0?[]:T.call(this,M,F)}:T;return[function(M,F){var B=x(this),I=M==null?void 0:M[N];return I!==void 0?I.call(M,B,F):j.call(String(B),M,F)},function(G,F){var B=O(j,G,this,F,j!==T);if(B.done)return B.value;var B=l(G),I=String(this),G=S(B,RegExp),k=B.unicode,V=(B.ignoreCase?"i":"")+(B.multiline?"m":"")+(B.unicode?"u":"")+(E?"y":"g"),R=new G(E?B:"^(?:"+B.source+")",V),U=F===void 0?A:F>>>0;if(U==0)return[];if(I.length===0)return _(R,I)===null?[I]:[];for(var L=0,H=0,X=[];H<I.length;){R.lastIndex=E?H:0;var Z,J=_(R,E?I:I.slice(H));if(J===null||(Z=y(h(R.lastIndex+(E?0:H)),I.length))===L)H=D(I,H,k);else{if(X.push(I.slice(L,H)),X.length===U)return X;for(var K=1;K<=J.length-1;K++)if(X.push(J[K]),X.length===U)return X;H=L=Z}}return X.push(I.slice(L)),X}]},!E)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(D,r,g){var f=D("../internals/export"),m=D("../internals/object-get-own-property-descriptor").f,l=D("../internals/to-length"),x=D("../internals/not-a-regexp"),S=D("../internals/require-object-coercible"),o=D("../internals/correct-is-regexp-logic"),D=D("../internals/is-pure"),h="".startsWith,_=Math.min,o=o("startsWith");f({target:"String",proto:!0,forced:!!(D||o||!(f=m(String.prototype,"startsWith"))||f.writable)&&!o},{startsWith:function(A){var b=String(S(this)),y=(x(A),l(_(1<arguments.length?arguments[1]:void 0,b.length))),A=String(A);return h?h.call(b,A,y):b.slice(y,y+A.length)===A}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(a,r,g){var f=a("../internals/export"),m=a("../internals/create-html");f({target:"String",proto:!0,forced:a("../internals/string-html-forced")("sub")},{sub:function(){return m(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(a,r,g){var f=a("../internals/export"),m=a("../internals/string-trim").trim;f({target:"String",proto:!0,forced:a("../internals/string-trim-forced")("trim")},{trim:function(){return m(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(y,r,g){var f,m,l,x,S,D=y("../internals/export"),h=y("../internals/descriptors"),_=y("../internals/global"),o=y("../internals/has"),p=y("../internals/is-object"),b=y("../internals/object-define-property").f,y=y("../internals/copy-constructor-properties"),A=_.Symbol;!h||typeof A!="function"||"description"in A.prototype&&A().description===void 0||(f={},y(m=function(){var E=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),N=this instanceof m?new A(E):E===void 0?A():A(E);return E===""&&(f[N]=!0),N},A),(_=m.prototype=A.prototype).constructor=m,l=_.toString,x=String(A("test"))=="Symbol(test)",S=/^Symbol\((.*)\)[^)]+$/,b(_,"description",{configurable:!0,get:function(){var E=p(this)?this.valueOf():this,N=l.call(E);return o(f,E)?"":(E=x?N.slice(7,-1):N.replace(S,"$1"))===""?void 0:E}}),D({global:!0,forced:!0},{Symbol:m}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(a,r,g){a("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(le,r,g){function f(Me,me){var Ge=xe[Me]=B(be[Ce]);return ye(Ge,{type:ue,tag:Me,description:me}),o||(Ge.description=me),Ge}function m(Me,Xe){T(Me);var Ge=j(Xe),Xe=I(Ge).concat(Ee(Ge));return ce(Xe,function(rt){o&&!we.call(Ge,rt)||ze(Me,rt,Ge[rt])}),Me}function l(Xe,rt){var Ge,Xe=j(Xe),rt=M(rt,!0);if(Xe!==pe||!A(xe,rt)||A(Pe,rt))return!(Ge=he(Xe,rt))||!A(xe,rt)||A(Xe,oe)&&Xe[oe][rt]||(Ge.enumerable=!0),Ge}function x(me){var me=re(j(me)),Ge=[];return ce(me,function(Xe){A(xe,Xe)||A(J,Xe)||Ge.push(Xe)}),Ge}var S=le("../internals/export"),D=le("../internals/global"),h=le("../internals/get-built-in"),_=le("../internals/is-pure"),o=le("../internals/descriptors"),p=le("../internals/native-symbol"),b=le("../internals/use-symbol-as-uid"),y=le("../internals/fails"),A=le("../internals/has"),E=le("../internals/is-array"),N=le("../internals/is-object"),T=le("../internals/an-object"),O=le("../internals/to-object"),j=le("../internals/to-indexed-object"),M=le("../internals/to-primitive"),F=le("../internals/create-property-descriptor"),B=le("../internals/object-create"),I=le("../internals/object-keys"),G=le("../internals/object-get-own-property-names"),k=le("../internals/object-get-own-property-names-external"),V=le("../internals/object-get-own-property-symbols"),R=le("../internals/object-get-own-property-descriptor"),U=le("../internals/object-define-property"),L=le("../internals/object-property-is-enumerable"),H=le("../internals/create-non-enumerable-property"),X=le("../internals/redefine"),Z=le("../internals/shared"),Se=le("../internals/shared-key"),J=le("../internals/hidden-keys"),K=le("../internals/uid"),$=le("../internals/well-known-symbol"),W=le("../internals/well-known-symbol-wrapped"),Y=le("../internals/define-well-known-symbol"),te=le("../internals/set-to-string-tag"),Fe=le("../internals/internal-state"),ce=le("../internals/array-iteration").forEach,oe=Se("hidden"),ue="Symbol",Ce="prototype",le=$("toPrimitive"),ye=Fe.set,ve=Fe.getterFor(ue),pe=Object[Ce],be=D.Symbol,Ne=h("JSON","stringify"),he=R.f,ne=U.f,re=k.f,de=L.f,xe=Z("symbols"),Pe=Z("op-symbols"),Ae=Z("string-to-symbol-registry"),Oe=Z("symbol-to-string-registry"),Se=Z("wks"),Fe=D.QObject,$e=!Fe||!Fe[Ce]||!Fe[Ce].findChild,Re=o&&y(function(){return B(ne({},"a",{get:function(){return ne(this,"a",{value:7}).a}})).a!=7})?function(Me,me,Ge){var Xe=he(pe,me);Xe&&delete pe[me],ne(Me,me,Ge),Xe&&Me!==pe&&ne(pe,me,Xe)}:ne,qe=b?function(Me){return typeof Me=="symbol"}:function(Me){return Object(Me)instanceof be},ze=function(Me,me,Ge){return Me===pe&&ze(Pe,me,Ge),T(Me),me=M(me,!0),T(Ge),(A(xe,me)?(Ge.enumerable?(A(Me,oe)&&Me[oe][me]&&(Me[oe][me]=!1),Ge=B(Ge,{enumerable:F(0,!1)})):(A(Me,oe)||ne(Me,oe,F(1,{})),Me[oe][me]=!0),Re):ne)(Me,me,Ge)},we=function(me){var me=M(me,!0),Ge=de.call(this,me);return!(this===pe&&A(xe,me)&&!A(Pe,me))&&(!(Ge||!A(this,me)||!A(xe,me)||A(this,oe)&&this[oe][me])||Ge)},Ee=function(Ge){var me=Ge===pe,Ge=re(me?Pe:j(Ge)),Xe=[];return ce(Ge,function(rt){!A(xe,rt)||me&&!A(pe,rt)||Xe.push(xe[rt])}),Xe};p||(X((be=function(){if(this instanceof be)throw TypeError("Symbol is not a constructor");var Me=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,me=K(Me),Ge=function(Xe){this===pe&&Ge.call(Pe,Xe),A(this,oe)&&A(this[oe],me)&&(this[oe][me]=!1),Re(this,me,F(1,Xe))};return o&&$e&&Re(pe,me,{configurable:!0,set:Ge}),f(me,Me)})[Ce],"toString",function(){return ve(this).tag}),X(be,"withoutSetter",function(Me){return f(K(Me),Me)}),L.f=we,U.f=ze,R.f=l,G.f=k.f=x,V.f=Ee,W.f=function(Me){return f($(Me),Me)},o&&(ne(be[Ce],"description",{configurable:!0,get:function(){return ve(this).description}}),_||X(pe,"propertyIsEnumerable",we,{unsafe:!0}))),S({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:be}),ce(I(Se),function(Me){Y(Me)}),S({target:ue,stat:!0,forced:!p},{for:function(Ge){var me,Ge=String(Ge);return A(Ae,Ge)?Ae[Ge]:(me=be(Ge),Ae[Ge]=me,Oe[me]=Ge,me)},keyFor:function(Me){if(!qe(Me))throw TypeError(Me+" is not a symbol");if(A(Oe,Me))return Oe[Me]},useSetter:function(){$e=!0},useSimple:function(){$e=!1}}),S({target:"Object",stat:!0,forced:!p,sham:!o},{create:function(Me,me){return me===void 0?B(Me):m(B(Me),me)},defineProperty:ze,defineProperties:m,getOwnPropertyDescriptor:l}),S({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:x,getOwnPropertySymbols:Ee}),S({target:"Object",stat:!0,forced:y(function(){V.f(1)})},{getOwnPropertySymbols:function(Me){return V.f(O(Me))}}),Ne&&S({target:"JSON",stat:!0,forced:!p||y(function(){var Me=be();return Ne([Me])!="[null]"||Ne({a:Me})!="{}"||Ne(Object(Me))!="{}"})},{stringify:function(Me,me,Ge){for(var Xe,rt=[Me],ut=1;ut<arguments.length;)rt.push(arguments[ut++]);if((N(Xe=me)||Me!==void 0)&&!qe(Me))return E(me)||(me=function(ft,pt){if(typeof Xe=="function"&&(pt=Xe.call(this,ft,pt)),!qe(pt))return pt}),rt[1]=me,Ne.apply(null,rt)}}),be[Ce][le]||H(be[Ce],le,be[Ce].valueOf),te(be,ue),J[oe]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(a,r,g){var f=a("../internals/array-buffer-view-core"),m=a("../internals/array-copy-within"),l=f.aTypedArray;(0,f.exportTypedArrayMethod)("copyWithin",function(x,S){return m.call(l(this),x,S,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(a,r,g){var f=a("../internals/array-buffer-view-core"),m=a("../internals/array-iteration").every,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("every",function(x){return m(l(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(a,r,g){var f=a("../internals/array-buffer-view-core"),m=a("../internals/array-fill"),l=f.aTypedArray;(0,f.exportTypedArrayMethod)("fill",function(x){return m.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(a,r,g){var f=a("../internals/array-buffer-view-core"),m=a("../internals/array-iteration").filter,l=a("../internals/species-constructor"),x=f.aTypedArray,S=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("filter",function(D){for(var h=m(x(this),D,1<arguments.length?arguments[1]:void 0),D=l(this,this.constructor),_=0,o=h.length,p=new(S(D))(o);_<o;)p[_]=h[_++];return p})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(a,r,g){var f=a("../internals/array-buffer-view-core"),m=a("../internals/array-iteration").findIndex,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("findIndex",function(x){return m(l(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(a,r,g){var f=a("../internals/array-buffer-view-core"),m=a("../internals/array-iteration").find,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("find",function(x){return m(l(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(a,r,g){a("../internals/typed-array-constructor")("Float32",function(f){return function(m,l,x){return f(this,m,l,x)}})},{"../internals/typed-array-constructor":144}],220:[function(a,r,g){a("../internals/typed-array-constructor")("Float64",function(f){return function(m,l,x){return f(this,m,l,x)}})},{"../internals/typed-array-constructor":144}],221:[function(a,r,g){var f=a("../internals/array-buffer-view-core"),m=a("../internals/array-iteration").forEach,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("forEach",function(x){m(l(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(a,r,g){var f=a("../internals/array-buffer-view-core"),m=a("../internals/array-includes").includes,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("includes",function(x){return m(l(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(a,r,g){var f=a("../internals/array-buffer-view-core"),m=a("../internals/array-includes").indexOf,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("indexOf",function(x){return m(l(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(a,r,g){a("../internals/typed-array-constructor")("Int16",function(f){return function(m,l,x){return f(this,m,l,x)}})},{"../internals/typed-array-constructor":144}],225:[function(a,r,g){a("../internals/typed-array-constructor")("Int32",function(f){return function(m,l,x){return f(this,m,l,x)}})},{"../internals/typed-array-constructor":144}],226:[function(m,r,g){function f(){return l.call(D(this))}var o=m("../internals/global"),_=m("../internals/array-buffer-view-core"),h=m("../modules/es.array.iterator"),m=m("../internals/well-known-symbol")("iterator"),o=o.Uint8Array,l=h.values,x=h.keys,S=h.entries,D=_.aTypedArray,h=_.exportTypedArrayMethod,_=o&&o.prototype[m],o=!!_&&(_.name=="values"||_.name==null);h("entries",function(){return S.call(D(this))}),h("keys",function(){return x.call(D(this))}),h("values",f,!o),h(m,f,!o)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(m,r,g){var m=m("../internals/array-buffer-view-core"),f=m.aTypedArray,m=m.exportTypedArrayMethod,l=[].join;m("join",function(x){return l.apply(f(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(a,r,g){var f=a("../internals/array-buffer-view-core"),m=a("../internals/array-last-index-of"),l=f.aTypedArray;(0,f.exportTypedArrayMethod)("lastIndexOf",function(x){return m.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(a,r,g){var f=a("../internals/array-buffer-view-core"),m=a("../internals/array-iteration").map,l=a("../internals/species-constructor"),x=f.aTypedArray,S=f.aTypedArrayConstructor;(0,f.exportTypedArrayMethod)("map",function(D){return m(x(this),D,1<arguments.length?arguments[1]:void 0,function(h,_){return new(S(l(h,h.constructor)))(_)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(a,r,g){var f=a("../internals/array-buffer-view-core"),m=a("../internals/array-reduce").right,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduceRight",function(x){return m(l(this),x,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(a,r,g){var f=a("../internals/array-buffer-view-core"),m=a("../internals/array-reduce").left,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("reduce",function(x){return m(l(this),x,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(m,r,g){var m=m("../internals/array-buffer-view-core"),f=m.aTypedArray,m=m.exportTypedArrayMethod,l=Math.floor;m("reverse",function(){for(var x,S=f(this).length,D=l(S/2),h=0;h<D;)x=this[h],this[h++]=this[--S],this[S]=x;return this})},{"../internals/array-buffer-view-core":12}],233:[function(S,r,g){var f=S("../internals/array-buffer-view-core"),m=S("../internals/to-length"),l=S("../internals/to-offset"),x=S("../internals/to-object"),S=S("../internals/fails"),D=f.aTypedArray;(0,f.exportTypedArrayMethod)("set",function(h){D(this);var _=l(1<arguments.length?arguments[1]:void 0,1),o=this.length,p=x(h),b=m(p.length),y=0;if(o<b+_)throw RangeError("Wrong length");for(;y<b;)this[_+y]=p[y++]},S(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(m,r,g){var S=m("../internals/array-buffer-view-core"),f=m("../internals/species-constructor"),m=m("../internals/fails"),l=S.aTypedArray,x=S.aTypedArrayConstructor,S=S.exportTypedArrayMethod,D=[].slice;S("slice",function(h,_){for(var o=D.call(l(this),h,_),h=f(this,this.constructor),p=0,b=o.length,y=new(x(h))(b);p<b;)y[p]=o[p++];return y},m(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(a,r,g){var f=a("../internals/array-buffer-view-core"),m=a("../internals/array-iteration").some,l=f.aTypedArray;(0,f.exportTypedArrayMethod)("some",function(x){return m(l(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(m,r,g){var m=m("../internals/array-buffer-view-core"),f=m.aTypedArray,m=m.exportTypedArrayMethod,l=[].sort;m("sort",function(x){return l.call(f(this),x)})},{"../internals/array-buffer-view-core":12}],237:[function(a,r,g){var f=a("../internals/array-buffer-view-core"),m=a("../internals/to-length"),l=a("../internals/to-absolute-index"),x=a("../internals/species-constructor"),S=f.aTypedArray;(0,f.exportTypedArrayMethod)("subarray",function(p,h){var _=S(this),o=_.length,p=l(p,o);return new(x(_,_.constructor))(_.buffer,_.byteOffset+p*_.BYTES_PER_ELEMENT,m((h===void 0?o:l(h,o))-p))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(m,r,g){var S=m("../internals/global"),f=m("../internals/array-buffer-view-core"),m=m("../internals/fails"),l=S.Int8Array,x=f.aTypedArray,S=f.exportTypedArrayMethod,D=[].toLocaleString,h=[].slice,_=!!l&&m(function(){D.call(new l(1))});S("toLocaleString",function(){return D.apply(_?h.call(x(this)):x(this),arguments)},m(function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()})||!m(function(){l.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(m,r,g){var f=m("../internals/array-buffer-view-core").exportTypedArrayMethod,S=m("../internals/fails"),m=m("../internals/global").Uint8Array,m=m&&m.prototype||{},l=[].toString,x=[].join,S=(S(function(){l.call({})})&&(l=function(){return x.call(this)}),m.toString!=l);f("toString",l,S)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(a,r,g){a("../internals/typed-array-constructor")("Uint16",function(f){return function(m,l,x){return f(this,m,l,x)}})},{"../internals/typed-array-constructor":144}],241:[function(a,r,g){a("../internals/typed-array-constructor")("Uint32",function(f){return function(m,l,x){return f(this,m,l,x)}})},{"../internals/typed-array-constructor":144}],242:[function(a,r,g){a("../internals/typed-array-constructor")("Uint8",function(f){return function(m,l,x){return f(this,m,l,x)}})},{"../internals/typed-array-constructor":144}],243:[function(a,r,g){a("../internals/typed-array-constructor")("Uint8",function(f){return function(m,l,x){return f(this,m,l,x)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(A,T,g){function f(O){return function(){return O(this,arguments.length?arguments[0]:void 0)}}var m,l,x,S,D,E=A("../internals/global"),h=A("../internals/redefine-all"),_=A("../internals/internal-metadata"),o=A("../internals/collection"),p=A("../internals/collection-weak"),b=A("../internals/is-object"),y=A("../internals/internal-state").enforce,A=A("../internals/native-weak-map"),E=!E.ActiveXObject&&"ActiveXObject"in E,N=Object.isExtensible,T=T.exports=o("WeakMap",f,p);A&&E&&(m=p.getConstructor(f,"WeakMap",!0),_.REQUIRED=!0,o=T.prototype,l=o.delete,x=o.has,S=o.get,D=o.set,h(o,{delete:function(O){var j;return b(O)&&!N(O)?((j=y(this)).frozen||(j.frozen=new m),l.call(this,O)||j.frozen.delete(O)):l.call(this,O)},has:function(O){var j;return b(O)&&!N(O)?((j=y(this)).frozen||(j.frozen=new m),x.call(this,O)||j.frozen.has(O)):x.call(this,O)},get:function(O){var j;return!b(O)||N(O)||((j=y(this)).frozen||(j.frozen=new m),x.call(this,O))?S.call(this,O):j.frozen.get(O)},set:function(O,j){var M;return!b(O)||N(O)||((M=y(this)).frozen||(M.frozen=new m),x.call(this,O))?D.call(this,O,j):M.frozen.set(O,j),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(a,r,g){var f,m=a("../internals/global"),l=a("../internals/dom-iterables"),x=a("../internals/array-for-each"),S=a("../internals/create-non-enumerable-property");for(f in l){var D=m[f],D=D&&D.prototype;if(D&&D.forEach!==x)try{S(D,"forEach",x)}catch{D.forEach=x}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(D,r,g){var f,m=D("../internals/global"),l=D("../internals/dom-iterables"),x=D("../modules/es.array.iterator"),S=D("../internals/create-non-enumerable-property"),D=D("../internals/well-known-symbol"),h=D("iterator"),_=D("toStringTag"),o=x.values;for(f in l){var p=m[f],b=p&&p.prototype;if(b){if(b[h]!==o)try{S(b,h,o)}catch{b[h]=o}if(b[_]||S(b,_,f),l[f]){for(var y in x)if(b[y]!==x[y])try{S(b,y,x[y])}catch{b[y]=x[y]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(oe,r,g){oe("../modules/es.array.iterator");function f(ue){try{return decodeURIComponent(ue)}catch{return ue}}function m(ue){return Y[ue]}function l(ue){return encodeURIComponent(ue).replace(W,m)}function x(ue){this.entries.length=0,te(this.entries,ue)}function S(ue,Ce){if(ue<Ce)throw TypeError("Not enough arguments")}function D(){E(this,D,U);var ue,Ce,le,ye,ve,pe,be,Ne,he=0<arguments.length?arguments[0]:void 0,ne=[];if(H(this,{type:U,entries:ne,updateURL:function(){},updateSearchParams:x}),he!==void 0)if(M(he))if(typeof(ue=G(he))=="function")for(le=(Ce=ue.call(he)).next;!(ye=le.call(Ce)).done;){if((pe=(ve=(ye=I(j(ye.value))).next).call(ye)).done||(be=ve.call(ye)).done||!ve.call(ye).done)throw TypeError("Expected sequence with length 2");ne.push({key:pe.value+"",value:be.value+""})}else for(Ne in he)N(he,Ne)&&ne.push({key:Ne,value:he[Ne]+""});else te(ne,typeof he=="string"?he.charAt(0)==="?"?he.slice(1):he:he+"")}var h=oe("../internals/export"),R=oe("../internals/get-built-in"),_=oe("../internals/native-url"),o=oe("../internals/redefine"),p=oe("../internals/redefine-all"),b=oe("../internals/set-to-string-tag"),y=oe("../internals/create-iterator-constructor"),A=oe("../internals/internal-state"),E=oe("../internals/an-instance"),N=oe("../internals/has"),T=oe("../internals/function-bind-context"),O=oe("../internals/classof"),j=oe("../internals/an-object"),M=oe("../internals/is-object"),F=oe("../internals/object-create"),B=oe("../internals/create-property-descriptor"),I=oe("../internals/get-iterator"),G=oe("../internals/get-iterator-method"),oe=oe("../internals/well-known-symbol"),k=R("fetch"),V=R("Headers"),R=oe("iterator"),U="URLSearchParams",L=U+"Iterator",H=A.set,X=A.getterFor(U),Z=A.getterFor(L),J=/\+/g,K=Array(4),$=function(ue){var Ce,le=ue.replace(J," "),ye=4;try{return decodeURIComponent(le)}catch{for(;ye;)le=le.replace((Ce=ye--,K[Ce-1]||(K[Ce-1]=RegExp("((?:%[\\da-f]{2}){"+Ce+"})","gi"))),f);return le}},W=/[!'()~]|%20/g,Y={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},te=function(ue,Ce){if(Ce)for(var le,ye=Ce.split("&"),ve=0;ve<ye.length;)(le=ye[ve++]).length&&(le=le.split("="),ue.push({key:$(le.shift()),value:$(le.join("="))}))},ce=y(function(ue,Ce){H(this,{type:L,iterator:I(X(ue).entries),kind:Ce})},"Iterator",function(){var Ce=Z(this),ue=Ce.kind,Ce=Ce.iterator.next(),le=Ce.value;return Ce.done||(Ce.value=ue==="keys"?le.key:ue==="values"?le.value:[le.key,le.value]),Ce}),oe=D.prototype;p(oe,{append:function(ue,Ce){S(arguments.length,2);var le=X(this);le.entries.push({key:ue+"",value:Ce+""}),le.updateURL()},delete:function(ue){S(arguments.length,1);for(var Ce=X(this),le=Ce.entries,ye=ue+"",ve=0;ve<le.length;)le[ve].key===ye?le.splice(ve,1):ve++;Ce.updateURL()},get:function(ue){S(arguments.length,1);for(var Ce=X(this).entries,le=ue+"",ye=0;ye<Ce.length;ye++)if(Ce[ye].key===le)return Ce[ye].value;return null},getAll:function(ue){S(arguments.length,1);for(var Ce=X(this).entries,le=ue+"",ye=[],ve=0;ve<Ce.length;ve++)Ce[ve].key===le&&ye.push(Ce[ve].value);return ye},has:function(ue){S(arguments.length,1);for(var Ce=X(this).entries,le=ue+"",ye=0;ye<Ce.length;)if(Ce[ye++].key===le)return!0;return!1},set:function(ue,Ce){S(arguments.length,1);for(var le,ye=X(this),ve=ye.entries,pe=!1,be=ue+"",Ne=Ce+"",he=0;he<ve.length;he++)(le=ve[he]).key===be&&(pe?ve.splice(he--,1):(pe=!0,le.value=Ne));pe||ve.push({key:be,value:Ne}),ye.updateURL()},sort:function(){for(var ue,Ce,le=X(this),ye=le.entries,ve=ye.slice(),pe=ye.length=0;pe<ve.length;pe++){for(ue=ve[pe],Ce=0;Ce<pe;Ce++)if(ye[Ce].key>ue.key){ye.splice(Ce,0,ue);break}Ce===pe&&ye.push(ue)}le.updateURL()},forEach:function(ue){for(var Ce,le=X(this).entries,ye=T(ue,1<arguments.length?arguments[1]:void 0,3),ve=0;ve<le.length;)ye((Ce=le[ve++]).value,Ce.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),o(oe,R,oe.entries),o(oe,"toString",function(){for(var ue,Ce=X(this).entries,le=[],ye=0;ye<Ce.length;)ue=Ce[ye++],le.push(l(ue.key)+"="+l(ue.value));return le.join("&")},{enumerable:!0}),b(D,U),h({global:!0,forced:!_},{URLSearchParams:D}),_||typeof k!="function"||typeof V!="function"||h({global:!0,enumerable:!0,forced:!0},{fetch:function(ve){var Ce,le,ye,ve=[ve];return 1<arguments.length&&(M(Ce=arguments[1])&&(le=Ce.body,O(le)===U&&((ye=Ce.headers?new V(Ce.headers):new V).has("content-type")||ye.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),Ce=F(Ce,{body:B(0,String(le)),headers:B(0,ye)}))),ve.push(Ce)),k.apply(this,ve)}}),r.exports={URLSearchParams:D,getState:X}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(I,r,g){I("../modules/es.string.iterator");function f(Je){var Ct,_e,je,Ue;if(typeof Je=="number"){for(Ct=[],_e=0;_e<4;_e++)Ct.unshift(Je%256),Je=L(Je/256);return Ct.join(".")}if(typeof Je!="object")return Je;for(Ct="",je=be(Je),_e=0;_e<8;_e++)Ue&&Je[_e]===0||(Ue=Ue&&!1,je===_e?(Ct+=_e?":":"::",Ue=!0):(Ct+=Je[_e].toString(16),_e<7&&(Ct+=":")));return"["+Ct+"]"}function m(Je){return!Je.host||Je.cannotBeABaseURL||Je.scheme=="file"}function l(Je,Ct,_e,je){var Ue,Be,He,ke=_e||qe,Qe=0,et="",ct=!1,st=!1,at=!1;for(_e||(Je.scheme="",Je.username="",Je.password="",Je.host=null,Je.port=null,Je.path=[],Je.query=null,Je.fragment=null,Je.cannotBeABaseURL=!1,Ct=Ct.replace(ye,"")),Ct=Ct.replace(ve,""),Ue=O(Ct);Qe<=Ue.length;){switch(Be=Ue[Qe],ke){case qe:if(!Be||!$.test(Be)){if(_e)return Z;ke=we;continue}et+=Be.toLowerCase(),ke=ze;break;case ze:if(Be&&(W.test(Be)||Be=="+"||Be=="-"||Be=="."))et+=Be.toLowerCase();else{if(Be!=":"){if(_e)return Z;et="",ke=we,Qe=0;continue}if(_e&&(Pe(Je)!=N(xe,et)||et=="file"&&(Ae(Je)||Je.port!==null)||Je.scheme=="file"&&!Je.host))return;if(Je.scheme=et,_e)return void(Pe(Je)&&xe[Je.scheme]==Je.port&&(Je.port=null));et="",Je.scheme=="file"?ke=bt:Pe(Je)&&je&&je.scheme==Je.scheme?ke=Ee:Pe(Je)?ke=Xe:Ue[Qe+1]=="/"?(ke=Me,Qe++):(Je.cannotBeABaseURL=!0,Je.path.push(""),ke=wt)}break;case we:if(!je||je.cannotBeABaseURL&&Be!="#")return Z;if(je.cannotBeABaseURL&&Be=="#"){Je.scheme=je.scheme,Je.path=je.path.slice(),Je.query=je.query,Je.fragment="",Je.cannotBeABaseURL=!0,ke=Ot;break}ke=je.scheme=="file"?bt:me;continue;case Ee:if(Be!="/"||Ue[Qe+1]!="/"){ke=me;continue}ke=rt,Qe++;break;case Me:if(Be=="/"){ke=ut;break}ke=vt;continue;case me:if(Je.scheme=je.scheme,Be==D)Je.username=je.username,Je.password=je.password,Je.host=je.host,Je.port=je.port,Je.path=je.path.slice(),Je.query=je.query;else if(Be=="/"||Be=="\\"&&Pe(Je))ke=Ge;else if(Be=="?")Je.username=je.username,Je.password=je.password,Je.host=je.host,Je.port=je.port,Je.path=je.path.slice(),Je.query="",ke=Nt;else{if(Be!="#"){Je.username=je.username,Je.password=je.password,Je.host=je.host,Je.port=je.port,Je.path=je.path.slice(),Je.path.pop(),ke=vt;continue}Je.username=je.username,Je.password=je.password,Je.host=je.host,Je.port=je.port,Je.path=je.path.slice(),Je.query=je.query,Je.fragment="",ke=Ot}break;case Ge:if(!Pe(Je)||Be!="/"&&Be!="\\"){if(Be!="/"){Je.username=je.username,Je.password=je.password,Je.host=je.host,Je.port=je.port,ke=vt;continue}ke=ut}else ke=rt;break;case Xe:if(ke=rt,Be!="/"||et.charAt(Qe+1)!="/")continue;Qe++;break;case rt:if(Be=="/"||Be=="\\")break;ke=ut;continue;case ut:if(Be=="@"){ct&&(et="%40"+et);for(var ct=!0,St=O(et),jt=0;jt<St.length;jt++){var zt=St[jt];zt!=":"||at?(zt=de(zt,re),at?Je.password+=zt:Je.username+=zt):at=!0}et=""}else if(Be==D||Be=="/"||Be=="?"||Be=="#"||Be=="\\"&&Pe(Je)){if(ct&&et=="")return X;Qe-=O(et).length+1,et="",ke=ft}else et+=Be;break;case ft:case pt:if(_e&&Je.scheme=="file"){ke=Ke;continue}if(Be!=":"||st){if(Be==D||Be=="/"||Be=="?"||Be=="#"||Be=="\\"&&Pe(Je)){if(Pe(Je)&&et=="")return J;if(_e&&et==""&&(Ae(Je)||Je.port!==null))return;if(He=pe(Je,et))return He;if(et="",ke=dt,_e)return;continue}Be=="["?st=!0:Be=="]"&&(st=!1),et+=Be}else{if(et=="")return J;if(He=pe(Je,et))return He;if(et="",ke=ot,_e==pt)return}break;case ot:if(!Y.test(Be)){if(Be==D||Be=="/"||Be=="?"||Be=="#"||Be=="\\"&&Pe(Je)||_e){if(et!=""){var $t=parseInt(et,10);if(65535<$t)return K;Je.port=Pe(Je)&&$t===xe[Je.scheme]?null:$t,et=""}if(_e)return;ke=dt;continue}return K}et+=Be;break;case bt:if(Je.scheme="file",Be=="/"||Be=="\\")ke=At;else{if(!je||je.scheme!="file"){ke=vt;continue}if(Be==D)Je.host=je.host,Je.path=je.path.slice(),Je.query=je.query;else if(Be=="?")Je.host=je.host,Je.path=je.path.slice(),Je.query="",ke=Nt;else{if(Be!="#"){Se(Ue.slice(Qe).join(""))||(Je.host=je.host,Je.path=je.path.slice(),Fe(Je)),ke=vt;continue}Je.host=je.host,Je.path=je.path.slice(),Je.query=je.query,Je.fragment="",ke=Ot}}break;case At:if(Be=="/"||Be=="\\"){ke=Ke;break}je&&je.scheme=="file"&&!Se(Ue.slice(Qe).join(""))&&(Oe(je.path[0],!0)?Je.path.push(je.path[0]):Je.host=je.host),ke=vt;continue;case Ke:if(Be==D||Be=="/"||Be=="\\"||Be=="?"||Be=="#"){if(!_e&&Oe(et))ke=vt;else{if(et==""){if(Je.host="",_e)return}else{if(He=pe(Je,et))return He;if(Je.host=="localhost"&&(Je.host=""),_e)return;et=""}ke=dt}continue}et+=Be;break;case dt:if(Pe(Je)){if(ke=vt,Be!="/"&&Be!="\\")continue}else if(_e||Be!="?")if(_e||Be!="#"){if(Be!=D&&(ke=vt,Be!="/"))continue}else Je.fragment="",ke=Ot;else Je.query="",ke=Nt;break;case vt:if(Be==D||Be=="/"||Be=="\\"&&Pe(Je)||!_e&&(Be=="?"||Be=="#")){if(Re(et)?(Fe(Je),Be=="/"||Be=="\\"&&Pe(Je)||Je.path.push("")):$e(et)?Be=="/"||Be=="\\"&&Pe(Je)||Je.path.push(""):(Je.scheme=="file"&&!Je.path.length&&Oe(et)&&(Je.host&&(Je.host=""),et=et.charAt(0)+":"),Je.path.push(et)),et="",Je.scheme=="file"&&(Be==D||Be=="?"||Be=="#"))for(;1<Je.path.length&&Je.path[0]==="";)Je.path.shift();Be=="?"?(Je.query="",ke=Nt):Be=="#"&&(Je.fragment="",ke=Ot)}else et+=de(Be,ne);break;case wt:Be=="?"?(Je.query="",ke=Nt):Be=="#"?(Je.fragment="",ke=Ot):Be!=D&&(Je.path[0]+=de(Be,Ne));break;case Nt:_e||Be!="#"?Be!=D&&(Be=="'"&&Pe(Je)?Je.query+="%27":Je.query+=Be=="#"?"%23":de(Be,Ne)):(Je.fragment="",ke=Ot);break;case Ot:Be!=D&&(Je.fragment+=de(Be,he))}Qe++}}function x(Be){var Ct,_e,je=E(this,x,"URL"),Ue=1<arguments.length?arguments[1]:void 0,Be=String(Be),He=R(je,{type:"URL"});if(Ue!==void 0){if(Ue instanceof x)Ct=U(Ue);else if(_e=l(Ct={},String(Ue)))throw TypeError(_e)}if(_e=l(He,Be,null,Ct))throw TypeError(_e);var ke=He.searchParams=new k;(Ue=V(ke)).updateSearchParams(He.query),Ue.updateURL=function(){He.query=String(ke)||null},p||(je.href=It.call(je),je.origin=Pt.call(je),je.protocol=Rt.call(je),je.username=Ft.call(je),je.password=Bt.call(je),je.host=Ut.call(je),je.hostname=Xt.call(je),je.port=Zt.call(je),je.pathname=Yt.call(je),je.search=rn.call(je),je.searchParams=Gt.call(je),je.hash=sn.call(je))}function S(Je,Ct){return{get:Je,set:Ct,configurable:!0,enumerable:!0}}var D,h,_,o=I("../internals/export"),p=I("../internals/descriptors"),b=I("../internals/native-url"),Tt=I("../internals/global"),y=I("../internals/object-define-properties"),A=I("../internals/redefine"),E=I("../internals/an-instance"),N=I("../internals/has"),T=I("../internals/object-assign"),O=I("../internals/array-from"),j=I("../internals/string-multibyte").codeAt,M=I("../internals/string-punycode-to-ascii"),F=I("../internals/set-to-string-tag"),B=I("../modules/web.url-search-params"),I=I("../internals/internal-state"),G=Tt.URL,k=B.URLSearchParams,V=B.getState,R=I.set,U=I.getterFor("URL"),L=Math.floor,H=Math.pow,X="Invalid authority",Z="Invalid scheme",J="Invalid host",K="Invalid port",$=/[A-Za-z]/,W=/[\d+-.A-Za-z]/,Y=/\d/,te=/^(0x|0X)/,ce=/^[0-7]+$/,oe=/^\d+$/,ue=/^[\dA-Fa-f]+$/,Ce=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,le=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ye=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ve=/[\u0009\u000A\u000D]/g,pe=function(Je,Ct){var _e,je,Ue;if(Ct.charAt(0)=="[")return Ct.charAt(Ct.length-1)=="]"&&(_e=function(Be){var He=[0,0,0,0,0,0,0,0],ke=0,Qe=null,et=0,ct,st,at,St,jt,zt,$t,Qt=function(){return Be.charAt(et)};if(Qt()==":"){if(Be.charAt(1)!=":")return;et+=2,ke++,Qe=ke}for(;Qt();){if(ke==8)return;if(Qt()==":"){if(Qe!==null)return;et++,ke++,Qe=ke;continue}for(ct=st=0;st<4&&ue.test(Qt());)ct=ct*16+parseInt(Qt(),16),et++,st++;if(Qt()=="."){if(st==0||(et-=st,ke>6))return;for(at=0;Qt();){if(St=null,at>0)if(Qt()=="."&&at<4)et++;else return;if(!Y.test(Qt()))return;for(;Y.test(Qt());){if(jt=parseInt(Qt(),10),St===null)St=jt;else{if(St==0)return;St=St*10+jt}if(St>255)return;et++}He[ke]=He[ke]*256+St,at++,(at==2||at==4)&&ke++}if(at!=4)return;break}else if(Qt()==":"){if(et++,!Qt())return}else if(Qt())return;He[ke++]=ct}if(Qe!==null)for(zt=ke-Qe,ke=7;ke!=0&&zt>0;)$t=He[ke],He[ke--]=He[Qe+zt-1],He[Qe+--zt]=$t;else if(ke!=8)return;return He}(Ct.slice(1,-1)))?void(Je.host=_e):J;if(Pe(Je))return Ct=M(Ct),Ce.test(Ct)||(_e=function(Be){var He=Be.split("."),ke,Qe,et,ct,st,at,St;if(He.length&&He[He.length-1]==""&&He.pop(),(ke=He.length)>4)return Be;for(Qe=[],et=0;et<ke;et++){if(ct=He[et],ct=="")return Be;if(st=10,ct.length>1&&ct.charAt(0)=="0"&&(st=te.test(ct)?16:8,ct=ct.slice(st==8?1:2)),ct==="")at=0;else{if(!(st==10?oe:st==8?ce:ue).test(ct))return Be;at=parseInt(ct,st)}Qe.push(at)}for(et=0;et<ke;et++)if(at=Qe[et],et==ke-1){if(at>=H(256,5-ke))return null}else if(at>255)return null;for(St=Qe.pop(),et=0;et<Qe.length;et++)St+=Qe[et]*H(256,3-et);return St}(Ct))===null?J:void(Je.host=_e);if(le.test(Ct))return J;for(_e="",je=O(Ct),Ue=0;Ue<je.length;Ue++)_e+=de(je[Ue],Ne);Je.host=_e},be=function(Je){for(var Ct=null,_e=1,je=null,Ue=0,Be=0;Be<8;Be++)Je[Be]!==0?(_e<Ue&&(Ct=je,_e=Ue),je=null,Ue=0):(je===null&&(je=Be),++Ue);return _e<Ue&&(Ct=je,_e=Ue),Ct},Ne={},he=T({},Ne,{" ":1,'"':1,"<":1,">":1,"`":1}),ne=T({},he,{"#":1,"?":1,"{":1,"}":1}),re=T({},ne,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(Je,Ct){var _e=j(Je,0);return 32<_e&&_e<127&&!N(Ct,Je)?Je:encodeURIComponent(Je)},xe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Pe=function(Je){return N(xe,Je.scheme)},Ae=function(Je){return Je.username!=""||Je.password!=""},Oe=function(Je,Ct){return Je.length==2&&$.test(Je.charAt(0))&&((Je=Je.charAt(1))==":"||!Ct&&Je=="|")},Se=function(Je){return 1<Je.length&&Oe(Je.slice(0,2))&&(Je.length==2||(Je=Je.charAt(2))==="/"||Je==="\\"||Je==="?"||Je==="#")},Fe=function(Je){var Ct=Je.path,_e=Ct.length;!_e||Je.scheme=="file"&&_e==1&&Oe(Ct[0],!0)||Ct.pop()},$e=function(Je){return Je==="."||Je.toLowerCase()==="%2e"},Re=function(Je){return(Je=Je.toLowerCase())===".."||Je==="%2e."||Je===".%2e"||Je==="%2e%2e"},qe={},ze={},we={},Ee={},Me={},me={},Ge={},Xe={},rt={},ut={},ft={},pt={},ot={},bt={},At={},Ke={},dt={},vt={},wt={},Nt={},Ot={},Tt=x.prototype,It=function(){var Je=U(this),Ct=Je.scheme,_e=Je.username,je=Je.password,Ue=Je.host,Be=Je.port,He=Je.path,ke=Je.query,Qe=Je.fragment,et=Ct+":";return Ue!==null?(et+="//",Ae(Je)&&(et+=_e+(je?":"+je:"")+"@"),et+=f(Ue),Be!==null&&(et+=":"+Be)):Ct=="file"&&(et+="//"),et+=Je.cannotBeABaseURL?He[0]:He.length?"/"+He.join("/"):"",ke!==null&&(et+="?"+ke),Qe!==null&&(et+="#"+Qe),et},Pt=function(){var Je=U(this),Ct=Je.scheme,_e=Je.port;if(Ct=="blob")try{return new URL(Ct.path[0]).origin}catch{return"null"}return Ct!="file"&&Pe(Je)?Ct+"://"+f(Je.host)+(_e!==null?":"+_e:""):"null"},Rt=function(){return U(this).scheme+":"},Ft=function(){return U(this).username},Bt=function(){return U(this).password},Ut=function(){var Ct=U(this),Je=Ct.host,Ct=Ct.port;return Je===null?"":Ct===null?f(Je):f(Je)+":"+Ct},Xt=function(){var Je=U(this).host;return Je===null?"":f(Je)},Zt=function(){var Je=U(this).port;return Je===null?"":String(Je)},Yt=function(){var Je=U(this),Ct=Je.path;return Je.cannotBeABaseURL?Ct[0]:Ct.length?"/"+Ct.join("/"):""},rn=function(){var Je=U(this).query;return Je?"?"+Je:""},Gt=function(){return U(this).searchParams},sn=function(){var Je=U(this).fragment;return Je?"#"+Je:""};p&&y(Tt,{href:S(It,function(_e){var Ct=U(this),_e=String(_e),_e=l(Ct,_e);if(_e)throw TypeError(_e);V(Ct.searchParams).updateSearchParams(Ct.query)}),origin:S(Pt),protocol:S(Rt,function(Je){var Ct=U(this);l(Ct,String(Je)+":",qe)}),username:S(Ft,function(Je){var Ct=U(this),_e=O(String(Je));if(!m(Ct)){Ct.username="";for(var je=0;je<_e.length;je++)Ct.username+=de(_e[je],re)}}),password:S(Bt,function(Je){var Ct=U(this),_e=O(String(Je));if(!m(Ct)){Ct.password="";for(var je=0;je<_e.length;je++)Ct.password+=de(_e[je],re)}}),host:S(Ut,function(Je){var Ct=U(this);Ct.cannotBeABaseURL||l(Ct,String(Je),ft)}),hostname:S(Xt,function(Je){var Ct=U(this);Ct.cannotBeABaseURL||l(Ct,String(Je),pt)}),port:S(Zt,function(Je){var Ct=U(this);m(Ct)||((Je=String(Je))==""?Ct.port=null:l(Ct,Je,ot))}),pathname:S(Yt,function(Je){var Ct=U(this);Ct.cannotBeABaseURL||(Ct.path=[],l(Ct,Je+"",dt))}),search:S(rn,function(Je){var Ct=U(this);(Je=String(Je))==""?Ct.query=null:(Je.charAt(0)=="?"&&(Je=Je.slice(1)),Ct.query="",l(Ct,Je,Nt)),V(Ct.searchParams).updateSearchParams(Ct.query)}),searchParams:S(Gt),hash:S(sn,function(Je){var Ct=U(this);(Je=String(Je))==""?Ct.fragment=null:(Je.charAt(0)=="#"&&(Je=Je.slice(1)),Ct.fragment="",l(Ct,Je,Ot))})}),A(Tt,"toJSON",function(){return It.call(this)},{enumerable:!0}),A(Tt,"toString",function(){return It.call(this)},{enumerable:!0}),G&&(h=G.createObjectURL,_=G.revokeObjectURL,h&&A(x,"createObjectURL",function(Je){return h.apply(G,arguments)}),_&&A(x,"revokeObjectURL",function(Je){return _.apply(G,arguments)})),F(x,"URL"),o({global:!0,forced:!b,sham:!p},{URL:x})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(a,r,g){r.exports=a("./").polyfill()},{"./":250}],250:[function(a,r,g){(function(f,m){var l,x;l=this,x=function(){function S(pe){return typeof pe=="function"}var D=Array.isArray||function(pe){return Object.prototype.toString.call(pe)==="[object Array]"},h=0,_=void 0,o=void 0,p=function(pe,be){T[h]=pe,T[h+1]=be,(h+=2)===2&&(o?o(O):k())},b=typeof window<"u"?window:void 0,y=b||{},y=y.MutationObserver||y.WebKitMutationObserver,A=typeof self>"u"&&f!==void 0&&{}.toString.call(f)==="[object process]",E=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function N(){var pe=setTimeout;return function(){return pe(O,1)}}var T=new Array(1e3);function O(){for(var pe=0;pe<h;pe+=2)(0,T[pe])(T[pe+1]),T[pe]=void 0,T[pe+1]=void 0;h=0}function j(){try{var pe=Function("return this")().require("vertx");return(_=pe.runOnLoop||pe.runOnContext)!==void 0?function(){_(O)}:N()}catch{return N()}}var M,F,B,k=void 0;function I(pe,be){var Ne,he=this,ne=new this.constructor(R),re=(ne[V]===void 0&&ue(ne),he._state);return re?(Ne=arguments[re-1],p(function(){return ce(re,ne,Ne,he._result)})):Y(he,ne,pe,be),ne}function G(pe){var be;return pe&&typeof pe=="object"&&pe.constructor===this?pe:(J(be=new this(R),pe),be)}var k=A?function(){return f.nextTick(O)}:y?(F=0,A=new y(O),B=document.createTextNode(""),A.observe(B,{characterData:!0}),function(){B.data=F=++F%2}):E?((M=new MessageChannel).port1.onmessage=O,function(){return M.port2.postMessage(0)}):(b===void 0&&typeof a=="function"?j:N)(),V=Math.random().toString(36).substring(2);function R(){}var U=void 0,L=1,H=2;function X(pe,be,Ne){p(function(he){var ne=!1,re=function(de,xe,Pe,Ae){try{de.call(xe,Pe,Ae)}catch(Oe){return Oe}}(Ne,be,function(de){ne||(ne=!0,(be!==de?J:$)(he,de))},function(de){ne||(ne=!0,W(he,de))},he._label);!ne&&re&&(ne=!0,W(he,re))},pe)}function Z(pe,be,Ne){var he,ne;be.constructor===pe.constructor&&Ne===I&&be.constructor.resolve===G?(he=pe,(ne=be)._state===L?$(he,ne._result):ne._state===H?W(he,ne._result):Y(ne,void 0,function(re){return J(he,re)},function(re){return W(he,re)})):Ne!==void 0&&S(Ne)?X(pe,be,Ne):$(pe,be)}function J(pe,be){if(pe===be)W(pe,new TypeError("You cannot resolve a promise with itself"));else if(Ne=typeof be,be===null||Ne!="object"&&Ne!="function")$(pe,be);else{Ne=void 0;try{Ne=be.then}catch(he){return void W(pe,he)}Z(pe,be,Ne)}var Ne}function K(pe){pe._onerror&&pe._onerror(pe._result),te(pe)}function $(pe,be){pe._state===U&&(pe._result=be,pe._state=L,pe._subscribers.length!==0&&p(te,pe))}function W(pe,be){pe._state===U&&(pe._state=H,pe._result=be,p(K,pe))}function Y(pe,be,Ne,he){var ne=pe._subscribers,re=ne.length;pe._onerror=null,ne[re]=be,ne[re+L]=Ne,ne[re+H]=he,re===0&&pe._state&&p(te,pe)}function te(pe){var be=pe._subscribers,Ne=pe._state;if(be.length!==0){for(var he,ne=void 0,re=pe._result,de=0;de<be.length;de+=3)he=be[de],ne=be[de+Ne],he?ce(Ne,he,ne,re):ne(re);pe._subscribers.length=0}}function ce(pe,be,Ne,he){var ne=S(Ne),re=void 0,de=void 0,xe=!0;if(ne){try{re=Ne(he)}catch(Pe){xe=!1,de=Pe}if(be===re)return void W(be,new TypeError("A promises callback cannot return that same promise."))}else re=he;be._state===U&&(ne&&xe?J(be,re):xe===!1?W(be,de):pe===L?$(be,re):pe===H&&W(be,re))}var oe=0;function ue(pe){pe[V]=oe++,pe._state=void 0,pe._result=void 0,pe._subscribers=[]}le.prototype._enumerate=function(pe){for(var be=0;this._state===U&&be<pe.length;be++)this._eachEntry(pe[be],be)},le.prototype._eachEntry=function(pe,be){var Ne=this._instanceConstructor,he=Ne.resolve;if(he===G){var ne,re=void 0,de=void 0,xe=!1;try{re=pe.then}catch(Pe){xe=!0,de=Pe}re===I&&pe._state!==U?this._settledAt(pe._state,be,pe._result):typeof re!="function"?(this._remaining--,this._result[be]=pe):Ne===ye?(ne=new Ne(R),xe?W(ne,de):Z(ne,pe,re),this._willSettleAt(ne,be)):this._willSettleAt(new Ne(function(Pe){return Pe(pe)}),be)}else this._willSettleAt(he(pe),be)},le.prototype._settledAt=function(pe,be,Ne){var he=this.promise;he._state===U&&(this._remaining--,pe===H?W(he,Ne):this._result[be]=Ne),this._remaining===0&&$(he,this._result)},le.prototype._willSettleAt=function(pe,be){var Ne=this;Y(pe,void 0,function(he){return Ne._settledAt(L,be,he)},function(he){return Ne._settledAt(H,be,he)})};var Ce=le;function le(pe,be){this._instanceConstructor=pe,this.promise=new pe(R),this.promise[V]||ue(this.promise),D(be)?(this.length=be.length,this._remaining=be.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(be),this._remaining!==0)||$(this.promise,this._result)):W(this.promise,new Error("Array Methods must be provided an Array"))}ve.prototype.catch=function(pe){return this.then(null,pe)},ve.prototype.finally=function(pe){var be=this.constructor;return S(pe)?this.then(function(Ne){return be.resolve(pe()).then(function(){return Ne})},function(Ne){return be.resolve(pe()).then(function(){throw Ne})}):this.then(pe,pe)};var ye=ve;function ve(pe){if(this[V]=oe++,this._result=this._state=void 0,this._subscribers=[],R!==pe){if(typeof pe!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ve))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var be=this;try{pe(function(Ne){J(be,Ne)},function(Ne){W(be,Ne)})}catch(Ne){W(be,Ne)}}}return ye.prototype.then=I,ye.all=function(pe){return new Ce(this,pe).promise},ye.race=function(pe){var be=this;return D(pe)?new be(function(Ne,he){for(var ne=pe.length,re=0;re<ne;re++)be.resolve(pe[re]).then(Ne,he)}):new be(function(Ne,he){return he(new TypeError("You must pass an array to race."))})},ye.resolve=G,ye.reject=function(pe){var be=new this(R);return W(be,pe),be},ye._setScheduler=function(pe){o=pe},ye._setAsap=function(pe){p=pe},ye._asap=p,ye.polyfill=function(){var pe=void 0;if(m!==void 0)pe=m;else if(typeof self<"u")pe=self;else try{pe=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var be=pe.Promise;if(be){var Ne=null;try{Ne=Object.prototype.toString.call(be.resolve())}catch{}if(Ne==="[object Promise]"&&!be.cast)return}pe.Promise=ye},ye.Promise=ye},typeof g=="object"&&r!==void 0?r.exports=x():l.ES6Promise=x()}).call(this,a("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(a,r,g){var f,m;f=this,m=function(l,x){var S=5e3,D="callback";function h(o){try{delete window[o]}catch{window[o]=void 0}}function _(o){o=document.getElementById(o),o&&document.getElementsByTagName("head")[0].removeChild(o)}x.exports=function(o){var p=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],b=o,y=p.timeout||S,A=p.jsonpCallback||D,E=void 0;return new Promise(function(N,T){var O=p.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),j=A+"_"+O,M=(window[O]=function(F){N({ok:!0,json:function(){return Promise.resolve(F)}}),E&&clearTimeout(E),_(j),h(O)},b+=b.indexOf("?")===-1?"?":"&",document.createElement("script"));M.setAttribute("src",""+b+A+"="+O),p.charset&&M.setAttribute("charset",p.charset),M.id=j,document.getElementsByTagName("head")[0].appendChild(M),E=setTimeout(function(){T(new Error("JSONP request to "+o+" timed out")),h(O),_(j),window[O]=function(){h(O)}},y),M.onerror=function(){T(new Error("JSONP request to "+o+" failed")),h(O),_(j),E&&clearTimeout(E)}})}},g!==void 0&&r!==void 0?m(0,r):(m(m={exports:{}},m),f.fetchJsonp=m.exports)},{}],252:[function(a,r,g){var f=function(m){var l,x,S,D,h,_,o,p,b,y,A;if(!(m===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return A=m.document,l=function(){return m.URL||m.webkitURL||m},x=A.createElementNS("http://www.w3.org/1999/xhtml","a"),S="download"in x,D=/constructor/i.test(m.HTMLElement)||m.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),_=function(E){(m.setImmediate||m.setTimeout)(function(){throw E},0)},o=4e4,p=function(E){setTimeout(function(){typeof E=="string"?l().revokeObjectURL(E):E.remove()},o)},b=function(E){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(E.type)?new Blob([String.fromCharCode(65279),E],{type:E.type}):E},A=(y=function(E,N,F){F||(E=b(E));var O,j,M=this,F=E.type==="application/octet-stream",B=function(){for(var I=M,G="writestart progress write writeend".split(" "),k=void 0,V=(G=[].concat(G)).length;V--;){var R=I["on"+G[V]];if(typeof R=="function")try{R.call(I,k||I)}catch(U){_(U)}}};M.readyState=M.INIT,S?(O=l().createObjectURL(E),setTimeout(function(){var I,G;x.href=O,x.download=N,I=x,G=new MouseEvent("click"),I.dispatchEvent(G),B(),p(O),M.readyState=M.DONE})):(h||F&&D)&&m.FileReader?((j=new FileReader).onloadend=function(){var I=h?j.result:j.result.replace(/^data:[^;]*;/,"data:attachment/file;");m.open(I,"_blank")||(m.location.href=I),I=void 0,M.readyState=M.DONE,B()},j.readAsDataURL(E),M.readyState=M.INIT):(O=O||l().createObjectURL(E),!F&&m.open(O,"_blank")||(m.location.href=O),M.readyState=M.DONE,B(),p(O))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(E,N,T){return N=N||E.name||"download",T||(E=b(E)),navigator.msSaveOrOpenBlob(E,N)}:(A.abort=function(){},A.readyState=A.INIT=0,A.WRITING=1,A.DONE=2,A.error=A.onwritestart=A.onprogress=A.onwrite=A.onabort=A.onerror=A.onwriteend=null,function(E,N,T){return new y(E,N||E.name||"download",T)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);r!==void 0&&r.exports?r.exports.saveAs=f:n!=null},{}],253:[function(a,r,g){var f,m=Object.defineProperty,l=(m(g,"__esModule",{value:!0}),g),x={GIFEncoder:()=>B,applyPalette:()=>function(U,L,H="rgb565"){if(!U||!U.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(U instanceof Uint8Array||U instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<L.length)throw new Error("applyPalette() only works with 256 colors or less");const X=new Uint32Array(U.buffer),Z=X.length,J=H==="rgb444"?4096:65536,K=new Uint8Array(Z),$=new Array(J);if(H==="rgba4444")for(let ve=0;ve<Z;ve++){var ce=X[ve],W=ce>>24&255,Y=ce>>16&255,te=ce>>8&255,ce=255&ce,oe=p(ce,te,Y,W),oe=oe in $?$[oe]:$[oe]=function(pe,be,Ne,he,ne){let re=0,de=1e100;for(let Oe=0;Oe<ne.length;Oe++){var xe,Pe=ne[Oe],Ae=j(Pe[3]-he);Ae>de||(xe=Pe[0],(Ae+=j(xe-pe))>de||(xe=Pe[1],(Ae+=j(xe-be))>de||(xe=Pe[2],(Ae+=j(xe-Ne))>de||(de=Ae,re=Oe))))}return re}(ce,te,Y,W,L);K[ve]=oe}else{const ve=H==="rgb444"?b:o;for(let pe=0;pe<Z;pe++){var le=X[pe],ue=le>>16&255,Ce=le>>8&255,le=255&le,ye=ve(le,Ce,ue),ye=ye in $?$[ye]:$[ye]=function(be,Ne,he,ne){let re=0,de=1e100;for(let Oe=0;Oe<ne.length;Oe++){var xe,Pe=ne[Oe],Ae=j(Pe[0]-be);Ae>de||(xe=Pe[1],(Ae+=j(xe-Ne))>de||(xe=Pe[2],(Ae+=j(xe-he))>de||(de=Ae,re=Oe)))}return re}(le,Ce,ue,L);K[pe]=ye}}return K},default:()=>R,nearestColor:()=>function(U,L,H=T){return U[M(U,L,H)]},nearestColorIndex:()=>M,nearestColorIndexWithDistance:()=>F,prequantize:()=>function(U,{roundRGB:L=5,roundAlpha:H=10,oneBitAlpha:X=null}={}){const Z=new Uint32Array(U.buffer);for(let Y=0;Y<Z.length;Y++){var W=Z[Y];let te=W>>24&255;var J,K=W>>16&255,$=W>>8&255,W=255&W;te=O(te,H),X&&(J=typeof X=="number"?X:127,te=te<=J?0:255),W=O(W,L),$=O($,L),K=O(K,L),Z[Y]=te<<24|K<<16|$<<8|W<<0}},quantize:()=>function(U,L,H={}){var{format:X="rgb565",clearAlpha:Z=!0,clearAlphaColor:J=0,clearAlphaThreshold:K=0,oneBitAlpha:$=!1}=H;if(!U||!U.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(U instanceof Uint8Array||U instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");U=new Uint32Array(U.buffer);let W=H.useSqrt!==!1;const Y=X==="rgba4444",te=function(Se,Fe){const $e=Fe==="rgb444"?4096:65536,Re=new Array($e),qe=Se.length;if(Fe==="rgba4444")for(let At=0;At<qe;++At){var Me=Se[At],ze=Me>>24&255,we=Me>>16&255,Ee=Me>>8&255,Me=255&Me,me=p(Me,Ee,we,ze);let Ke=me in Re?Re[me]:Re[me]=N();Ke.rc+=Me,Ke.gc+=Ee,Ke.bc+=we,Ke.ac+=ze,Ke.cnt++}else if(Fe==="rgb444")for(let At=0;At<qe;++At){var rt=Se[At],Ge=rt>>16&255,Xe=rt>>8&255,rt=255&rt,ut=b(rt,Xe,Ge);let Ke=ut in Re?Re[ut]:Re[ut]=N();Ke.rc+=rt,Ke.gc+=Xe,Ke.bc+=Ge,Ke.cnt++}else for(let At=0;At<qe;++At){var ot=Se[At],ft=ot>>16&255,pt=ot>>8&255,ot=255&ot,bt=o(ot,pt,ft);let Ke=bt in Re?Re[bt]:Re[bt]=N();Ke.rc+=ot,Ke.gc+=pt,Ke.bc+=ft,Ke.cnt++}return Re}(U,X),ce=te.length,oe=ce-1,ue=new Uint32Array(ce+1);for(var Ce=0,le=0;le<ce;++le){const Se=te[le];Se!=null&&(Pe=1/Se.cnt,Y&&(Se.ac*=Pe),Se.rc*=Pe,Se.gc*=Pe,Se.bc*=Pe,te[Ce++]=Se)}A(L)/Ce<.022&&(W=!1);for(var ye,ve,pe,le=0;le<Ce-1;++le)te[le].fw=le+1,te[le+1].bk=le,W&&(te[le].cnt=Math.sqrt(te[le].cnt));for(W&&(te[le].cnt=Math.sqrt(te[le].cnt)),le=0;le<Ce;++le){E(te,le,!1);var be=te[le].err;for(ve=++ue[0];1<ve&&(pe=ve>>1,!(te[ye=ue[pe]].err<=be));ve=pe)ue[ve]=ye;ue[ve]=le}var Ne,he=Ce-L;for(le=0;le<he;){for(;;){var ne=ue[1];if((Ne=te[ne]).tm>=Ne.mtm&&te[Ne.nn].mtm<=Ne.tm)break;for(Ne.mtm==oe?ne=ue[1]=ue[ue[0]--]:(E(te,ne,!1),Ne.tm=le),be=te[ne].err,ve=1;(pe=ve+ve)<=ue[0]&&(pe<ue[0]&&te[ue[pe]].err>te[ue[pe+1]].err&&pe++,!(be<=te[ye=ue[pe]].err));ve=pe)ue[ve]=ye;ue[ve]=ne}var re=te[Ne.nn],de=Ne.cnt,xe=re.cnt,Pe=1/(de+xe);Y&&(Ne.ac=Pe*(de*Ne.ac+xe*re.ac)),Ne.rc=Pe*(de*Ne.rc+xe*re.rc),Ne.gc=Pe*(de*Ne.gc+xe*re.gc),Ne.bc=Pe*(de*Ne.bc+xe*re.bc),Ne.cnt+=re.cnt,Ne.mtm=++le,te[re.bk].fw=re.fw,te[re.fw].bk=re.bk,re.mtm=oe}let Ae=[];for(le=0;;0){let Se=y(Math.round(te[le].rc),0,255),Fe=y(Math.round(te[le].gc),0,255),$e=y(Math.round(te[le].bc),0,255),Re=255;Y&&(Re=y(Math.round(te[le].ac),0,255),$&&(Oe=typeof $=="number"?$:127,Re=Re<=Oe?0:255),Z&&Re<=K&&(Se=Fe=$e=J,Re=0));var Oe=Y?[Se,Fe,$e,Re]:[Se,Fe,$e];if(function(qe,ze){for(let Me=0;Me<qe.length;Me++){var Ee=qe[Me],we=Ee[0]===ze[0]&&Ee[1]===ze[1]&&Ee[2]===ze[2],Ee=!(4<=Ee.length&&4<=ze.length)||Ee[3]===ze[3];if(we&&Ee)return!0}return!1}(Ae,Oe)||Ae.push(Oe),(le=te[le].fw)==0)break}return Ae},snapColorsToPalette:()=>function(U,L,H=5){if(U.length&&L.length){var X=U.map(W=>W.slice(0,3)),Z=H*H,J=U[0].length;for(let W=0;W<L.length;W++){let Y=L[W];Y=Y.length<J?[Y[0],Y[1],Y[2],255]:Y.length>J?Y.slice(0,3):Y.slice();var $=F(X,Y.slice(0,3),T),K=$[0],$=$[1];0<$&&$<=Z&&(U[K]=Y)}}}};for(f in x)m(l,f,{get:x[f],enumerable:!0});var S={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function D(U=256){let L=0,H=new Uint8Array(U);return{get buffer(){return H.buffer},reset(){L=0},bytesView(){return H.subarray(0,L)},bytes(){return H.slice(0,L)},writeByte(Z){X(L+1),H[L]=Z,L++},writeBytes(Z,J=0,K=Z.length){X(L+K);for(let $=0;$<K;$++)H[L++]=Z[$+J]},writeBytesView(Z,J=0,K=Z.byteLength){X(L+K),H.set(Z.subarray(J,J+K),L),L+=K}};function X(Z){var J=H.length;if(!(Z<=J)){Z=Math.max(Z,J*(J<1048576?2:1.125)>>>0),J!=0&&(Z=Math.max(Z,256));const K=H;H=new Uint8Array(Z),0<L&&H.set(K.subarray(0,L),0)}}}var h=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],_=function(U,L,H,Y,Z=D(512),J=new Uint8Array(256),K=new Int32Array(5003),$=new Int32Array(5003)){var W=K.length,Y=Math.max(2,Y);J.fill(0),$.fill(0),K.fill(-1);let te=0,ce=0;var oe=Y+1;const ue=oe;let Ce=!1,le=ue,ye=(1<<le)-1;var ve=1<<oe-1;const pe=1+ve;let be=2+ve,Ne=0,he=H[0],ne=0;for(let Oe=W;Oe<65536;Oe*=2)++ne;ne=8-ne,Z.writeByte(Y),Ae(ve);var re=H.length;for(let Oe=1;Oe<re;Oe++)e:{var de=H[Oe],xe=(de<<12)+he;let Se=de<<ne^he;if(K[Se]===xe)he=$[Se];else{for(var Pe=Se===0?1:W-Se;0<=K[Se];)if((Se-=Pe)<0&&(Se+=W),K[Se]===xe){he=$[Se];break e}Ae(he),he=de,be<4096?($[Se]=be++,K[Se]=xe):(K.fill(-1),be=2+ve,Ce=!0,Ae(ve))}}return Ae(he),Ae(pe),Z.writeByte(0),Z.bytesView();function Ae(Oe){for(te&=h[ce],0<ce?te|=Oe<<ce:te=Oe,ce+=le;8<=ce;)J[Ne++]=255&te,254<=Ne&&(Z.writeByte(Ne),Z.writeBytesView(J,0,Ne),Ne=0),te>>=8,ce-=8;if((be>ye||Ce)&&(Ce?(le=ue,ye=(1<<le)-1,Ce=!1):(++le,ye=le===12?1<<le:(1<<le)-1)),Oe==pe){for(;0<ce;)J[Ne++]=255&te,254<=Ne&&(Z.writeByte(Ne),Z.writeBytesView(J,0,Ne),Ne=0),te>>=8,ce-=8;0<Ne&&(Z.writeByte(Ne),Z.writeBytesView(J,0,Ne),Ne=0)}}};function o(U,L,H){return U<<8&63488|L<<2&992|H>>3}function p(U,L,H,X){return U>>4|240&L|(240&H)<<4|(240&X)<<8}function b(U,L,H){return U>>4<<8|240&L|H>>4}function y(U,L,H){return U<L?L:H<U?H:U}function A(U){return U*U}function E(U,L,H){var X=0,Z=1e100;const J=U[L];for(var K=J.cnt,$=J.ac,W=J.rc,Y=J.gc,te=J.bc,ce=J.fw;ce!=0;ce=U[ce].fw){var oe,ue=U[ce],Ce=ue.cnt,Ce=K*Ce/(K+Ce);Z<=Ce||(oe=0,H&&Z<=(oe+=Ce*A(ue.ac-$))||Z<=(oe+=Ce*A(ue.rc-W))||Z<=(oe+=Ce*A(ue.gc-Y))||Z<=(oe+=Ce*A(ue.bc-te))||(Z=oe,X=ce))}J.err=Z,J.nn=X}function N(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function T(U,L){for(var H=0,X=0;X<U.length;X++){var Z=U[X]-L[X];H+=Z*Z}return H}function O(U,L){return 1<L?Math.round(U/L)*L:U}function j(U){return U*U}function M(U,L,H=T){let X=1/0,Z=-1;for(let K=0;K<U.length;K++){var J=H(L,U[K]);J<X&&(X=J,Z=K)}return Z}function F(U,L,H=T){let X=1/0,Z=-1;for(let K=0;K<U.length;K++){var J=H(L,U[K]);J<X&&(X=J,Z=K)}return[Z,X]}function B(U={}){const{initialCapacity:L=4096,auto:H=!0}=U,X=D(L),Z=new Uint8Array(256),J=new Int32Array(5003),K=new Int32Array(5003);let $=!1;return{reset(){X.reset(),$=!1},finish(){X.writeByte(S.trailer)},bytes(){return X.bytes()},bytesView(){return X.bytesView()},get buffer(){return X.buffer},get stream(){return X},writeHeader:W,writeFrame(Y,te,ce,he={}){var{transparent:ue=!1,transparentIndex:Ce=0,delay:Pe=0,palette:le=null,repeat:re=0,colorDepth:ye=8,dispose:ve=-1}=he;let pe=!1;if(H?$||(pe=!0,W(),$=!0):pe=!!he.first,te=Math.max(0,Math.floor(te)),ce=Math.max(0,Math.floor(ce)),pe){if(!le)throw new Error("First frame must include a { palette } option");var[he,de,Ne,xe,ne=8]=[X,te,ce,le,ye];xe=V(xe.length)-1,ne=128|ne-1<<4|xe,G(he,de),G(he,Ne),he.writeBytes([ne,0,0]),I(X,le),0<=re&&(xe=X,de=re,xe.writeByte(33),xe.writeByte(255),xe.writeByte(11),k(xe,"NETSCAPE2.0"),xe.writeByte(3),xe.writeByte(1),G(xe,de),xe.writeByte(0))}var be,Ne=Math.round(Pe/10),he=X,ne=ve,re=Ne,de=ue,xe=Ce,Pe=(he.writeByte(33),he.writeByte(249),he.writeByte(4),xe<0&&(xe=0,de=!1),de=de?(be=1,2):be=0,0<=ne&&(de=7&ne),de<<=2,he.writeByte(0|de|be),G(he,re),he.writeByte(xe||0),he.writeByte(0),!!le&&!pe);ve=X,ue=te,Ce=ce,be=Pe?le:null,ve.writeByte(44),G(ve,0),G(ve,0),G(ve,ue),G(ve,Ce),be?(ue=V(be.length)-1,ve.writeByte(128|ue)):ve.writeByte(0),Pe&&I(X,le),[re,he,Ce,ue,ve=8,Pe,le,Y]=[X,Y,te,ce,ye,Z,J,K],_(Ce,ue,he,ve,re,Pe,le,Y)}};function W(){k(X,"GIF89a")}}function I(U,L){var H=1<<V(L.length);for(let X=0;X<H;X++){let Z=[0,0,0];X<L.length&&(Z=L[X]),U.writeByte(Z[0]),U.writeByte(Z[1]),U.writeByte(Z[2])}}function G(U,L){U.writeByte(255&L),U.writeByte(L>>8&255)}function k(U,L){for(var H=0;H<L.length;H++)U.writeByte(L.charCodeAt(H))}function V(U){return Math.max(Math.ceil(Math.log2(U)),1)}var R=B},{}],254:[function(a,r,g){g.read=function(f,m,l,x,E){var D,h,_=8*E-x-1,o=(1<<_)-1,p=o>>1,b=-7,y=l?E-1:0,A=l?-1:1,E=f[m+y];for(y+=A,D=E&(1<<-b)-1,E>>=-b,b+=_;0<b;D=256*D+f[m+y],y+=A,b-=8);for(h=D&(1<<-b)-1,D>>=-b,b+=x;0<b;h=256*h+f[m+y],y+=A,b-=8);if(D===0)D=1-p;else{if(D===o)return h?NaN:1/0*(E?-1:1);h+=Math.pow(2,x),D-=p}return(E?-1:1)*h*Math.pow(2,D-x)},g.write=function(f,m,l,x,S,N){var h,_,o=8*N-S-1,p=(1<<o)-1,b=p>>1,y=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=x?0:N-1,E=x?1:-1,N=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(_=isNaN(m)?1:0,h=p):(h=Math.floor(Math.log(m)/Math.LN2),m*(x=Math.pow(2,-h))<1&&(h--,x*=2),2<=(m+=1<=h+b?y/x:y*Math.pow(2,1-b))*x&&(h++,x/=2),p<=h+b?(_=0,h=p):1<=h+b?(_=(m*x-1)*Math.pow(2,S),h+=b):(_=m*Math.pow(2,b-1)*Math.pow(2,S),h=0));8<=S;f[l+A]=255&_,A+=E,_/=256,S-=8);for(h=h<<S|_,o+=S;0<o;f[l+A]=255&h,A+=E,h/=256,o-=8);f[l+A-E]|=128*N}},{}],255:[function(a,r,g){var f;function m(we,Ee){return we.b===Ee.b&&we.a===Ee.a}function l(we,Ee){return we.b<Ee.b||we.b===Ee.b&&we.a<=Ee.a}function x(we,Ee,Me){var me=Ee.b-we.b,Ge=Me.b-Ee.b;return 0<me+Ge?me<Ge?Ee.a-we.a+me/(me+Ge)*(we.a-Me.a):Ee.a-Me.a+Ge/(me+Ge)*(Me.a-we.a):0}function S(we,Ee,Me){var me=Ee.b-we.b,Ge=Me.b-Ee.b;return 0<me+Ge?(Ee.a-Me.a)*me+(Ee.a-we.a)*Ge:0}function D(we,Ee){return we.a<Ee.a||we.a===Ee.a&&we.b<=Ee.b}function h(we,Ee,Me){var me=Ee.a-we.a,Ge=Me.a-Ee.a;return 0<me+Ge?me<Ge?Ee.b-we.b+me/(me+Ge)*(we.b-Me.b):Ee.b-Me.b+Ge/(me+Ge)*(Me.b-we.b):0}function _(we,Ee,Me){var me=Ee.a-we.a,Ge=Me.a-Ee.a;return 0<me+Ge?(Ee.b-Me.b)*me+(Ee.b-we.b)*Ge:0}function o(we,Ee,Me,me){return(we=we<0?0:we)<=(Me=Me<0?0:Me)?Me===0?(Ee+me)/2:Ee+we/(we+Me)*(me-Ee):me+Me/(we+Me)*(Ee-me)}function p(we){var Ee=N(we.b);return O(Ee,we.c),O(Ee.b,we.c),j(Ee,we.a),Ee}function b(we,Ee){var Me=!1,me=!1;we!==Ee&&(Ee.a!==we.a&&(me=!0,F(Ee.a,we.a)),Ee.d!==we.d&&(Me=!0,B(Ee.d,we.d)),T(Ee,we),me||(O(Ee,we.a),we.a.c=we),Me||(j(Ee,we.d),we.d.a=we))}function y(we){var Ee=we.b,Me=!1;we.d!==we.b.d&&(Me=!0,B(we.d,we.b.d)),we.c===we?F(we.a,null):(we.b.d.a=we.b.e,we.a.c=we.c,T(we,we.b.e),Me||j(we,we.d)),Ee.c===Ee?(F(Ee.a,null),B(Ee.d,null)):(we.d.a=Ee.b.e,Ee.a.c=Ee.c,T(Ee,Ee.b.e)),M(we)}function A(we){var Ee=N(we),Me=Ee.b;return T(Ee,we.e),Ee.a=we.b.a,O(Me,Ee.a),Ee.d=Me.d=we.d,Ee=Ee.b,T(we.b,we.b.b.e),T(we.b,Ee),we.b.a=Ee.a,Ee.b.a.c=Ee.b,Ee.b.d=we.b.d,Ee.f=we.f,Ee.b.f=we.b.f,Ee}function E(we,Ee){var Me=!1,me=N(we),Ge=me.b;return Ee.d!==we.d&&(Me=!0,B(Ee.d,we.d)),T(me,we.e),T(Ge,Ee),me.a=we.b.a,Ge.a=Ee.a,me.d=Ge.d=we.d,we.d.a=Ge,Me||j(me,we.d),me}function N(we){var Ee=new Ne,Me=new Ne,me=we.b.h;return(((Me.h=me).b.h=Ee).h=we).b.h=Me,Ee.b=Me,((Ee.c=Ee).e=Me).b=Ee,(Me.c=Me).e=Ee}function T(we,Ee){var Me=we.c,me=Ee.c;Me.b.e=Ee,(me.b.e=we).c=me,Ee.c=Me}function O(we,Ee){var Me=Ee.f,me=new ne(Ee,Me);for(Me.e=me,Me=(Ee.f=me).c=we;Me.a=me,(Me=Me.c)!==we;);}function j(we,Ee){var Me=Ee.d,me=new be(Ee,Me);for(Me.b=me,(Ee.d=me).a=we,me.c=Ee.c,Me=we;Me.d=me,(Me=Me.e)!==we;);}function M(we){var Ee=we.h;we=we.b.h,(Ee.b.h=we).b.h=Ee}function F(we,Ee){for(var Me=we.c,me=Me;me.a=Ee,(me=me.c)!==Me;);Me=we.f,((me=we.e).f=Me).e=me}function B(we,Ee){for(var Me=we.a,me=Me;me.d=Ee,(me=me.e)!==Me;);Me=we.d,((me=we.b).d=Me).b=me}function I(we){var Ee=0;return Math.abs(we[1])>Math.abs(we[0])&&(Ee=1),Ee=Math.abs(we[2])>Math.abs(we[Ee])?2:Ee}function G(we,Ee){we.f+=Ee.f,we.b.f+=Ee.b.f}function k(we,Ee,Me){return we=we.a,Ee=Ee.a,Me=Me.a,Ee.b.a===we?Me.b.a===we?l(Ee.a,Me.a)?S(Me.b.a,Ee.a,Me.a)<=0:0<=S(Ee.b.a,Me.a,Ee.a):S(Me.b.a,we,Me.a)<=0:Me.b.a===we?0<=S(Ee.b.a,we,Ee.a):(Ee=x(Ee.b.a,we,Ee.a),(we=x(Me.b.a,we,Me.a))<=Ee)}function V(we){we.a.i=null;var Ee=we.e;Ee.a.c=Ee.c,Ee.c.a=Ee.a,we.e=null}function R(we,Ee){y(we.a),we.c=!1,(we.a=Ee).i=we}function U(we){for(var Ee=we.a.a;(we=ze(we)).a.a===Ee;);return we.c&&(R(we,Ee=E(qe(we).a.b,we.a.e)),we=ze(we)),we}function L(we,Ee,Me){var me=new Re;return me.a=Me,me.e=Ce(we.f,Ee.e,me),Me.i=me}function H(we,Ee){switch(we.s){case 100130:return(1&Ee)!=0;case 100131:return Ee!==0;case 100132:return 0<Ee;case 100133:return Ee<0;case 100134:return 2<=Ee||Ee<=-2}return!1}function X(we){var Ee=we.a,Me=Ee.d;Me.c=we.d,Me.a=Ee,V(we)}function Z(we,Ee,Me){for(Ee=(we=Ee).a;we!==Me;){we.c=!1;var me=qe(we),Ge=me.a;if(Ge.a!==Ee.a){if(!me.c){X(we);break}R(me,Ge=E(Ee.c.b,Ge.b))}Ee.c!==Ge&&(b(Ge.b.e,Ge),b(Ee,Ge)),X(we),Ee=me.a,we=me}return Ee}function J(we,Ee,Me,me,Ge,Xe){for(var rt=!0;L(we,Ee,Me.b),(Me=Me.c)!==me;);for(Ge===null&&(Ge=qe(Ee).a.b.c);(Me=(me=qe(Ee)).a.b).a===Ge.a;)Me.c!==Ge&&(b(Me.b.e,Me),b(Ge.b.e,Me)),me.f=Ee.f-Me.f,me.d=H(we,me.f),Ee.b=!0,!rt&&Y(we,Ee)&&(G(Me,Ge),V(Ee),y(Ge)),rt=!1,Ee=me,Ge=Me;Ee.b=!0,Xe&&ce(we,Ee)}function K(we,Ee,Me,me,Ge){var Xe=[Ee.g[0],Ee.g[1],Ee.g[2]];Ee.d=null,Ee.d=we.o&&we.o(Xe,Me,me,we.c)||null,Ee.d===null&&(Ge?we.n||(pe(we,100156),we.n=!0):Ee.d=Me[0])}function $(we,Ee,Me){var me=[null,null,null,null];me[0]=Ee.a.d,me[1]=Me.a.d,K(we,Ee.a,me,[.5,.5,0,0],!1),b(Ee,Me)}function W(we,Ee,Me,me,Ge){var Xe=Math.abs(Ee.b-we.b)+Math.abs(Ee.a-we.a),rt=Math.abs(Me.b-we.b)+Math.abs(Me.a-we.a),ut=Ge+1;me[Ge]=.5*rt/(Xe+rt),me[ut]=.5*Xe/(Xe+rt),we.g[0]+=me[Ge]*Ee.g[0]+me[ut]*Me.g[0],we.g[1]+=me[Ge]*Ee.g[1]+me[ut]*Me.g[1],we.g[2]+=me[Ge]*Ee.g[2]+me[ut]*Me.g[2]}function Y(we,Ee){var Me=qe(Ee),me=Ee.a,Ge=Me.a;if(l(me.a,Ge.a)){if(0<S(Ge.b.a,me.a,Ge.a))return;if(m(me.a,Ge.a)){if(me.a!==Ge.a){var Me=we.e,Xe=me.a.h;if(0<=Xe){var rt=(Me=Me.b).d,ut=Me.e,ft=Me.c,pt=ft[Xe];rt[pt]=rt[Me.a],(ft[rt[pt]]=pt)<=--Me.a&&(pt<=1||l(ut[rt[pt>>1]],ut[rt[pt]])?Fe:$e)(Me,pt),ut[Xe]=null,ft[Xe]=Me.b,Me.b=Xe}else for(Me.c[-(Xe+1)]=null;0<Me.a&&Me.c[Me.d[Me.a-1]]===null;)--Me.a;$(we,Ge.b.e,me)}}else A(Ge.b),b(me,Ge.b.e),Ee.b=Me.b=!0}else{if(S(me.b.a,Ge.a,me.a)<0)return;ze(Ee).b=Ee.b=!0,A(me.b),b(Ge.b.e,me)}return 1}function te(we,Ee){var Me=qe(Ee),me=Ee.a,Ge=Me.a,Xe=me.a,rt=Ge.a,ut=me.b.a,ft=Ge.b.a,pt=new ne;if(S(ut,we.a,Xe),S(ft,we.a,rt),!(Xe===rt||Math.min(Xe.a,ut.a)>Math.max(rt.a,ft.a))){if(l(Xe,rt)){if(0<S(ft,Xe,rt))return}else if(S(ut,rt,Xe)<0)return;var ot,bt,At=ut,Ke=Xe,dt=ft,vt=rt;if(l(At,Ke)||(ot=At,At=Ke,Ke=ot),l(dt,vt)||(ot=dt,dt=vt,vt=ot),l(At,dt)||(ot=At,At=dt,dt=ot,ot=Ke,Ke=vt,vt=ot),l(dt,Ke)?l(Ke,vt)?((ot=x(At,dt,Ke))+(bt=x(dt,Ke,vt))<0&&(ot=-ot,bt=-bt),pt.b=o(ot,dt.b,bt,Ke.b)):((ot=S(At,dt,Ke))+(bt=-S(At,vt,Ke))<0&&(ot=-ot,bt=-bt),pt.b=o(ot,dt.b,bt,vt.b)):pt.b=(dt.b+Ke.b)/2,D(At,Ke)||(ot=At,At=Ke,Ke=ot),D(dt,vt)||(ot=dt,dt=vt,vt=ot),D(At,dt)||(ot=At,At=dt,dt=ot,ot=Ke,Ke=vt,vt=ot),D(dt,Ke)?D(Ke,vt)?((ot=h(At,dt,Ke))+(bt=h(dt,Ke,vt))<0&&(ot=-ot,bt=-bt),pt.a=o(ot,dt.a,bt,Ke.a)):((ot=_(At,dt,Ke))+(bt=-_(At,vt,Ke))<0&&(ot=-ot,bt=-bt),pt.a=o(ot,dt.a,bt,vt.a)):pt.a=(dt.a+Ke.a)/2,l(pt,we.a)&&(pt.b=we.a.b,pt.a=we.a.a),At=l(Xe,rt)?Xe:rt,l(At,pt)&&(pt.b=At.b,pt.a=At.a),m(pt,Xe)||m(pt,rt))return Y(we,Ee),0;if(!m(ut,we.a)&&0<=S(ut,we.a,pt)||!m(ft,we.a)&&S(ft,we.a,pt)<=0){if(ft===we.a)A(me.b),b(Ge.b,me),me=qe(Ee=U(Ee)).a,Z(we,qe(Ee),Me),J(we,Ee,me.b.e,me,me,!0);else{if(ut!==we.a)return 0<=S(ut,we.a,pt)&&(ze(Ee).b=Ee.b=!0,A(me.b),me.a.b=we.a.b,me.a.a=we.a.a),void(S(ft,we.a,pt)<=0&&(Ee.b=Me.b=!0,A(Ge.b),Ge.a.b=we.a.b,Ge.a.a=we.a.a));for(A(Ge.b),b(me.e,Ge.b.e),rt=(Xe=Me=Ee).a.b.a;(Xe=ze(Xe)).a.b.a===rt;);Xe=qe(Ee=Xe).a.b.c,Me.a=Ge.b.e,J(we,Ee,(Ge=Z(we,Me,null)).c,me.b.c,Xe,!0)}return 1}A(me.b),A(Ge.b),b(Ge.b.e,me),me.a.b=pt.b,me.a.a=pt.a,me.a.h=de(we.e,me.a),me=me.a,Ge=[0,0,0,0],pt=[Xe.d,ut.d,rt.d,ft.d],me.g[0]=me.g[1]=me.g[2]=0,W(me,Xe,ut,Ge,0),W(me,rt,ft,Ge,2),K(we,me,pt,Ge,!0),ze(Ee).b=Ee.b=Me.b=!0}}function ce(we,Ee){for(var Me=qe(Ee);;){for(;Me.b;)Me=qe(Ee=Me);if(!Ee.b&&((Ee=ze(Me=Ee))===null||!Ee.b))break;Ee.b=!1;var me=Ee.a,Ge=Me.a;if(Xe=me.b.a!==Ge.b.a)e:{var Xe,rt=qe(Xe=Ee),ut=Xe.a,ft=rt.a,pt=void 0;if(l(ut.b.a,ft.b.a)){if(S(ut.b.a,ft.b.a,ut.a)<0){Xe=!1;break e}ze(Xe).b=Xe.b=!0,pt=A(ut),b(ft.b,pt),pt.d.c=Xe.d}else{if(0<S(ft.b.a,ut.b.a,ft.a)){Xe=!1;break e}Xe.b=rt.b=!0,pt=A(ft),b(ut.e,ft.b),pt.b.d.c=Xe.d}Xe=!0}if(Xe&&(Me.c?(V(Me),y(Ge),Ge=(Me=qe(Ee)).a):Ee.c&&(V(Ee),y(me),me=(Ee=ze(Me)).a)),me.a!==Ge.a){if(me.b.a===Ge.b.a||Ee.c||Me.c||me.b.a!==we.a&&Ge.b.a!==we.a)Y(we,Ee);else if(te(we,Ee))break}me.a===Ge.a&&me.b.a===Ge.b.a&&(G(Ge,me),V(Ee),y(me),Ee=ze(Me))}}function oe(we,Ee){var Me=new Re,me=p(we.b);me.a.b=4e150,me.a.a=Ee,me.b.a.b=-4e150,me.b.a.a=Ee,we.a=me.b.a,Me.a=me,Me.f=0,Me.d=!1,Me.c=!1,Me.h=!0,Me.b=!1,me=Ce(me=we.f,me.a,Me),Me.e=me}function ue(we){this.a=new le,this.b=we,this.c=k}function Ce(we,Ee,Me){for(;(Ee=Ee.c).b!==null&&!we.c(we.b,Ee.b,Me););return we=new le(Me,Ee.a,Ee),Ee.a.c=we,Ee.a=we}function le(we,Ee,Me){this.b=we||null,this.a=Ee||this,this.c=Me||this}function ye(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ve(we,Ee){if(we.d!==Ee)for(;we.d!==Ee;)if(we.d<Ee)switch(we.d){case 0:pe(we,100151),we.u(null);break;case 1:pe(we,100152),we.t()}else switch(we.d){case 2:pe(we,100154),we.v();break;case 1:pe(we,100153),we.w()}}function pe(we,Ee){we.p&&we.p(Ee,we.c)}function be(we,Ee){this.b=we||this,this.d=Ee||this,this.a=null,this.c=!1}function Ne(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function he(){this.c=new ne,this.a=new be,this.b=new Ne,this.d=new Ne,this.b.b=this.d,this.d.b=this.b}function ne(we,Ee){this.e=we||this,this.f=Ee||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function re(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Pe}function de(we,Ee){var Me,me,Ge;return we.e?(2*(me=++(Me=we.b).a)>Me.f&&(Me.f*=2,Me.c=Ae(Me.c,Me.f+1)),Me.b===0?Ge=me:(Ge=Me.b,Me.b=Me.c[Me.b]),Me.e[Ge]=Ee,Me.c[Ge]=me,Me.d[me]=Ge,Me.h&&$e(Me,me),Ge):(Me=we.a++,we.c[Me]=Ee,-(Me+1))}function xe(we){if(we.a===0)return Se(we.b);var Ee=we.c[we.d[we.a-1]];if(we.b.a!==0&&l(Oe(we.b),Ee))return Se(we.b);for(;--we.a,0<we.a&&we.c[we.d[we.a-1]]===null;);return Ee}function Pe(){this.d=Ae([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Ae(we,Ee){for(var Me=Array(Ee),me=0;me<we.length;me++)Me[me]=we[me];for(;me<Ee;me++)Me[me]=0;return Me}function Oe(we){return we.e[we.d[1]]}function Se(we){var Ee=we.d,Me=we.e,me=we.c,Ge=Ee[1],Xe=Me[Ge];return 0<we.a&&(Ee[1]=Ee[we.a],me[Ee[1]]=1,Me[Ge]=null,me[Ge]=we.b,we.b=Ge,0<--we.a&&Fe(we,1)),Xe}function Fe(we,Ee){for(var Me=we.d,me=we.e,Ge=we.c,Xe=Ee,rt=Me[Xe];;){var ut=Xe<<1,ft=(ut<we.a&&l(me[Me[ut+1]],me[Me[ut]])&&(ut+=1),Me[ut]);if(ut>we.a||l(me[rt],me[ft])){Ge[Me[Xe]=rt]=Xe;break}Ge[Me[Xe]=ft]=Xe,Xe=ut}}function $e(we,Ee){for(var Me=we.d,me=we.e,Ge=we.c,Xe=Ee,rt=Me[Xe];;){var ut=Xe>>1,ft=Me[ut];if(ut==0||l(me[ft],me[rt])){Ge[Me[Xe]=rt]=Xe;break}Ge[Me[Xe]=ft]=Xe,Xe=ut}}function Re(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function qe(we){return we.e.c.b}function ze(we){return we.e.a.b}(f=ye.prototype).x=function(){ve(this,0)},f.B=function(we,Ee){switch(we){case 100142:return;case 100140:switch(Ee){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Ee)}break;case 100141:return void(this.m=!!Ee);default:return void pe(this,100900)}pe(this,100901)},f.y=function(we){switch(we){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:pe(this,100900)}return!1},f.A=function(we,Ee,Me){this.j[0]=we,this.j[1]=Ee,this.j[2]=Me},f.z=function(we,Ee){var Me=Ee||null;switch(we){case 100100:case 100106:this.h=Me;break;case 100104:case 100110:this.l=Me;break;case 100101:case 100107:this.k=Me;break;case 100102:case 100108:this.i=Me;break;case 100103:case 100109:this.p=Me;break;case 100105:case 100111:this.o=Me;break;case 100112:this.r=Me;break;default:pe(this,100900)}},f.C=function(we,Ee){var Me=!1,me=[0,0,0];ve(this,2);for(var Ge=0;Ge<3;++Ge){var Xe=we[Ge];Xe<-1e150&&(Xe=-1e150,Me=!0),1e150<Xe&&(Xe=1e150,Me=!0),me[Ge]=Xe}Me&&pe(this,100155),(Me=this.q)===null?b(Me=p(this.b),Me.b):(A(Me),Me=Me.e),Me.a.d=Ee,Me.a.g[0]=me[0],Me.a.g[1]=me[1],Me.a.g[2]=me[2],Me.f=1,Me.b.f=-1,this.q=Me},f.u=function(we){ve(this,0),this.d=1,this.b=new he,this.c=we},f.t=function(){ve(this,1),this.d=2,this.q=null},f.v=function(){ve(this,2),this.d=1},f.w=function(){ve(this,1),this.d=0;var we,Ee,Me=this.j[0],me=this.j[1],Ge=this.j[2],Xe=!1,rt=[Me,me,Ge];if(Me===0&&me===0&&Ge===0){for(var me=[-2e150,-2e150,-2e150],ut=[2e150,2e150,2e150],Ge=[],ft=[],Me=(Xe=this.b.c).e;Me!==Xe;Me=Me.e)for(var pt=0;pt<3;++pt){var ot=Me.g[pt];ot<ut[pt]&&(ut[pt]=ot,ft[pt]=Me),ot>me[pt]&&(me[pt]=ot,Ge[pt]=Me)}if(me[1]-ut[1]>me[Me=0]-ut[0]&&(Me=1),ut[Me=me[2]-ut[2]>me[Me]-ut[Me]?2:Me]>=me[Me])rt[0]=0,rt[1]=0,rt[2]=1;else{for(ut=ft[Me],Ge=Ge[Me],ft=[me=0,0,0],ut=[ut.g[0]-Ge.g[0],ut.g[1]-Ge.g[1],ut.g[2]-Ge.g[2]],pt=[0,0,0],Me=Xe.e;Me!==Xe;Me=Me.e)pt[0]=Me.g[0]-Ge.g[0],pt[1]=Me.g[1]-Ge.g[1],pt[2]=Me.g[2]-Ge.g[2],ft[0]=ut[1]*pt[2]-ut[2]*pt[1],ft[1]=ut[2]*pt[0]-ut[0]*pt[2],ft[2]=ut[0]*pt[1]-ut[1]*pt[0],me<(ot=ft[0]*ft[0]+ft[1]*ft[1]+ft[2]*ft[2])&&(me=ot,rt[0]=ft[0],rt[1]=ft[1],rt[2]=ft[2]);me<=0&&(rt[0]=rt[1]=rt[2]=0,rt[I(ut)]=1)}Xe=!0}for(ft=I(rt),Me=this.b.c,me=(ft+1)%3,Ge=(ft+2)%3,ft=0<rt[ft]?1:-1,rt=Me.e;rt!==Me;rt=rt.e)rt.b=rt.g[me],rt.a=ft*rt.g[Ge];if(Xe){for(rt=0,Me=(Xe=this.b.a).b;Me!==Xe;Me=Me.b)if(!((me=Me.a).f<=0))for(;rt+=(me.a.b-me.b.a.b)*(me.a.a+me.b.a.a),(me=me.e)!==Me.a;);if(rt<0)for(Xe=(rt=this.b.c).e;Xe!==rt;Xe=Xe.e)Xe.a=-Xe.a}for(this.n=!1,rt=this.b.b,Me=rt.h;Me!==rt;Me=Xe)Xe=Me.h,me=Me.e,m(Me.a,Me.b.a)&&Me.e.e!==Me&&($(this,me,Me),y(Me),me=(Me=me).e),me.e===Me&&(me!==Me&&(me!==Xe&&me!==Xe.b||(Xe=Xe.h),y(me)),Me!==Xe&&Me!==Xe.b||(Xe=Xe.h),y(Me));for(this.e=rt=new re,Xe=this.b.c,Me=Xe.e;Me!==Xe;Me=Me.e)Me.h=de(rt,Me);var bt=rt;bt.d=[];for(var At=0;At<bt.a;At++)bt.d[At]=At;bt.d.sort(function(vt){return function(wt,Nt){return l(vt[wt],vt[Nt])?1:-1}}(bt.c)),bt.e=!0;for(var Ke=bt.b,dt=Ke.a;1<=dt;--dt)Fe(Ke,dt);for(Ke.h=!0,this.f=new ue(this),oe(this,-4e150),oe(this,4e150);(rt=xe(this.e))!==null;){for(;;){e:if((Me=this.e).a===0)Xe=Oe(Me.b);else if(Xe=Me.c[Me.d[Me.a-1]],Me.b.a!==0&&l(Me=Oe(Me.b),Xe)){Xe=Me;break e}if(Xe===null||!m(Xe,rt))break;Xe=xe(this.e),$(this,rt.c,Xe.c)}(function vt(wt,Nt){for(var Ot,Tt=(wt.a=Nt).c;Tt.i===null;)if((Tt=Tt.c)===Nt.c){var Tt=wt,It=Nt;(Bt=new Re).a=It.c.b;for(var Ut=(Pt=Tt.f).a;(Ut=Ut.a).b!==null&&!Pt.c(Pt.b,Bt,Ut.b););var Pt,Rt,Ft=qe(Pt=Ut.b),Bt=Pt.a,Ut=Ft.a;return void(S(Bt.b.a,It,Bt.a)===0?m((Bt=Pt.a).a,It)||m(Bt.b.a,It)||(A(Bt.b),Pt.c&&(y(Bt.c),Pt.c=!1),b(It.c,Bt),vt(Tt,It)):(Rt=l(Ut.b.a,Bt.b.a)?Pt:Ft,Ft=void 0,Pt.d||Rt.c?(Ft=Rt===Pt?E(It.c.b,Bt.e):E(Ut.b.c.b,It.c).b,Rt.c?R(Rt,Ft):((Pt=L(Bt=Tt,Pt,Ft)).f=ze(Pt).f+Pt.a.f,Pt.d=H(Bt,Pt.f)),vt(Tt,It)):J(Tt,Pt,It.c,It.c,null,!0)))}Pt=(Bt=qe(Tt=U(Tt.i))).a,(Bt=Z(wt,Bt,null)).c===Pt?(Bt=(Pt=Bt).c,Ut=qe(Tt),Ft=Tt.a,Rt=Ut.a,Ot=!1,Ft.b.a!==Rt.b.a&&te(wt,Tt),m(Ft.a,wt.a)&&(b(Bt.b.e,Ft),Bt=qe(Tt=U(Tt)).a,Z(wt,qe(Tt),Ut),Ot=!0),m(Rt.a,wt.a)&&(b(Pt,Rt.b.e),Pt=Z(wt,Ut,null),Ot=!0),Ot?J(wt,Tt,Pt.c,Bt,Bt,!0):(It=l(Rt.a,Ft.a)?Rt.b.e:Ft,J(wt,Tt,It=E(Pt.c.b,It),It.c,It.c,!1),It.b.i.c=!0,ce(wt,Tt))):J(wt,Tt,Bt.c,Pt,Pt,!0)})(this,rt)}for(this.a=this.f.a.a.b.a.a,rt=0;(Xe=this.f.a.a.b)!==null;)Xe.h||++rt,V(Xe);for(this.f=null,(rt=this.e).b=null,rt.d=null,this.e=rt.c=null,rt=this.b,Me=rt.a.b;Me!==rt.a;Me=Xe)Xe=Me.b,(Me=Me.a).e.e===Me&&(G(Me.c,Me),y(Me));if(!this.n){if(rt=this.b,this.m)for(Me=rt.b.h;Me!==rt.b;Me=Xe)Xe=Me.h,Me.b.d.c!==Me.d.c?Me.f=Me.d.c?1:-1:y(Me);else for(Me=rt.a.b;Me!==rt.a;Me=Xe)if(Xe=Me.b,Me.c){for(Me=Me.a;l(Me.b.a,Me.a);Me=Me.c.b);for(;l(Me.a,Me.b.a);Me=Me.e);for(me=Me.c.b,Ge=void 0;Me.e!==me;)if(l(Me.b.a,me.a)){for(;me.e!==Me&&(l((Ee=me.e).b.a,Ee.a)||S(me.a,me.b.a,me.e.b.a)<=0);)me=(Ge=E(me.e,me)).b;me=me.c.b}else{for(;me.e!==Me&&(l((we=Me.c.b).a,we.b.a)||0<=S(Me.b.a,Me.a,Me.c.b.a));)Me=(Ge=E(Me,Me.c.b)).b;Me=Me.e}for(;me.e.e!==Me;)Ge=E(me.e,me),me=Ge.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Xe=(rt=this.b).a.b;Xe!==rt.a;Xe=Xe.b)if(Xe.c){for(this.h&&this.h(2,this.c),Me=Xe.a;this.k&&this.k(Me.a.d,this.c),(Me=Me.e)!==Xe.a;);this.i&&this.i(this.c)}}else{for(rt=this.b,Xe=!!this.l,Me=!1,me=-1,Ge=rt.a.d;Ge!==rt.a;Ge=Ge.d)if(Ge.c)for(Me||(this.h&&this.h(4,this.c),Me=!0),ft=Ge.a;Xe&&(ut=ft.b.d.c?0:1,me!==ut&&(me=ut,this.l&&this.l(!!me,this.c))),this.k&&this.k(ft.a.d,this.c),(ft=ft.e)!==Ge.a;);Me&&this.i&&this.i(this.c)}if(this.r){for(rt=this.b,Me=rt.a.b;Me!==rt.a;Me=Xe)if(Xe=Me.b,!Me.c){for(Ge=(me=Me.a).e,ft=void 0;Ge=(ft=Ge).e,(ft.d=null)===ft.b.d&&(ft.c===ft?F(ft.a,null):(ft.a.c=ft.c,T(ft,ft.b.e)),(ut=ft.b).c===ut?F(ut.a,null):(ut.a.c=ut.c,T(ut,ut.b.e)),M(ft)),ft!==me;);me=Me.d,((Me=Me.b).d=me).b=Me}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:ye,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},ye.prototype.gluDeleteTess=ye.prototype.x,ye.prototype.gluTessProperty=ye.prototype.B,ye.prototype.gluGetTessProperty=ye.prototype.y,ye.prototype.gluTessNormal=ye.prototype.A,ye.prototype.gluTessCallback=ye.prototype.z,ye.prototype.gluTessVertex=ye.prototype.C,ye.prototype.gluTessBeginPolygon=ye.prototype.u,ye.prototype.gluTessBeginContour=ye.prototype.t,ye.prototype.gluTessEndContour=ye.prototype.v,ye.prototype.gluTessEndPolygon=ye.prototype.w,r!==void 0&&(r.exports=this.libtess)},{}],256:[function(a,r,g){function f(l,x,S,D){var h=0,_=(D=D===void 0?{}:D).loop===void 0?null:D.loop,o=D.palette===void 0?null:D.palette;if(x<=0||S<=0||65535<x||65535<S)throw new Error("Width/Height invalid.");function p(j){if(j=j.length,j<2||256<j||j&j-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return j}l[h++]=71,l[h++]=73,l[h++]=70,l[h++]=56,l[h++]=57,l[h++]=97;var b=0,y=0;if(o!==null){for(var A=p(o);A>>=1;)++b;if(A=1<<b,--b,D.background!==void 0){if(A<=(y=D.background))throw new Error("Background index out of range.");if(y===0)throw new Error("Background index explicitly passed as 0.")}}if(l[h++]=255&x,l[h++]=x>>8&255,l[h++]=255&S,l[h++]=S>>8&255,l[h++]=(o!==null?128:0)|b,l[h++]=y,l[h++]=0,o!==null)for(var E=0,N=o.length;E<N;++E){var T=o[E];l[h++]=T>>16&255,l[h++]=T>>8&255,l[h++]=255&T}if(_!==null){if(_<0||65535<_)throw new Error("Loop count invalid.");l[h++]=33,l[h++]=255,l[h++]=11,l[h++]=78,l[h++]=69,l[h++]=84,l[h++]=83,l[h++]=67,l[h++]=65,l[h++]=80,l[h++]=69,l[h++]=50,l[h++]=46,l[h++]=48,l[h++]=3,l[h++]=1,l[h++]=255&_,l[h++]=_>>8&255,l[h++]=0}var O=!1;this.addFrame=function(j,M,F,B,I,G){if(O===!0&&(--h,O=!1),G=G===void 0?{}:G,j<0||M<0||65535<j||65535<M)throw new Error("x/y invalid.");if(F<=0||B<=0||65535<F||65535<B)throw new Error("Width/Height invalid.");if(I.length<F*B)throw new Error("Not enough pixels for the frame size.");var k=!0,V=G.palette;if(V==null&&(k=!1,V=o),V==null)throw new Error("Must supply either a local or global palette.");for(var U=p(V),R=0;U>>=1;)++R;var U=1<<R,L=G.delay===void 0?0:G.delay,H=G.disposal===void 0?0:G.disposal;if(H<0||3<H)throw new Error("Disposal out of range.");var X=!1,Z=0;if(G.transparent!==void 0&&G.transparent!==null&&(X=!0,(Z=G.transparent)<0||U<=Z))throw new Error("Transparent color index.");if(H===0&&!X&&L===0||(l[h++]=33,l[h++]=249,l[h++]=4,l[h++]=H<<2|(X===!0?1:0),l[h++]=255&L,l[h++]=L>>8&255,l[h++]=Z,l[h++]=0),l[h++]=44,l[h++]=255&j,l[h++]=j>>8&255,l[h++]=255&M,l[h++]=M>>8&255,l[h++]=255&F,l[h++]=F>>8&255,l[h++]=255&B,l[h++]=B>>8&255,l[h++]=k===!0?128|R-1:0,k===!0)for(var J=0,K=V.length;J<K;++J){var $=V[J];l[h++]=$>>16&255,l[h++]=$>>8&255,l[h++]=255&$}return h=function(W,Y,te,ce){W[Y++]=te;var oe=Y++,ue=1<<te,Ce=ue-1,le=1+ue,ye=1+le,ve=te+1,pe=0,be=0;function Ne(Se){for(;Se<=pe;)W[Y++]=255&be,be>>=8,pe-=8,Y===oe+256&&(W[oe]=255,oe=Y++)}function he(Se){be|=Se<<pe,pe+=ve,Ne(8)}var ne=ce[0]&Ce,re={};he(ue);for(var de=1,xe=ce.length;de<xe;++de){var Pe=ce[de]&Ce,Ae=ne<<8|Pe,Oe=re[Ae];if(Oe===void 0){for(be|=ne<<pe,pe+=ve;8<=pe;)W[Y++]=255&be,be>>=8,pe-=8,Y===oe+256&&(W[oe]=255,oe=Y++);ye===4096?(he(ue),ye=1+le,ve=te+1,re={}):(1<<ve<=ye&&++ve,re[Ae]=ye++),ne=Pe}else ne=Oe}return he(ne),he(le),Ne(1),oe+1===Y?W[oe]=0:(W[oe]=Y-oe-1,W[Y++]=0),Y}(l,h,R<2?2:R,I)},this.end=function(){return O===!1&&(l[h++]=59,O=!0),h},this.getOutputBuffer=function(){return l},this.setOutputBuffer=function(j){l=j},this.getOutputBufferPosition=function(){return h},this.setOutputBufferPosition=function(j){h=j}}function m(l,x,S,D){for(var h=l[x++],_=1<<h,o=1+_,p=1+o,b=h+1,y=(1<<b)-1,A=0,E=0,N=0,T=l[x++],O=new Int32Array(4096),j=null;;){for(;A<16&&T!==0;)E|=l[x++]<<A,A+=8,T===1?T=l[x++]:--T;if(A<b)break;var M=E&y;if(E>>=b,A-=b,M==_)p=1+o,y=(1<<(b=h+1))-1,j=null;else{if(M==o)break;for(var F=M<p?M:j,B=0,I=F;_<I;)I=O[I]>>8,++B;var G=I;if(D<N+B+(F!==M?1:0))return void console.log("Warning, gif stream longer than expected.");S[N++]=G;var k=N+=B;for(F!==M&&(S[N++]=G),I=F;B--;)I=O[I],S[--k]=255&I,I>>=8;j!==null&&p<4096&&(O[p++]=j<<8|G,y+1<=p&&b<12&&(++b,y=y<<1|1)),j=M}}N!==D&&console.log("Warning, gif stream shorter than expected.")}try{g.GifWriter=f,g.GifReader=function(l){var x=0;if(l[x++]!==71||l[x++]!==73||l[x++]!==70||l[x++]!==56||(l[x++]+1&253)!=56||l[x++]!==97)throw new Error("Invalid GIF 87a/89a header.");var S=l[x++]|l[x++]<<8,D=l[x++]|l[x++]<<8,h=l[x++],_=1<<1+(7&h),o=(l[x++],l[x++],null),p=null,b=(h>>7&&(o=x,x+=3*(p=_)),!0),y=[],A=0,E=null,N=0,T=null;for(this.width=S,this.height=D;b&&x<l.length;)switch(l[x++]){case 33:switch(l[x++]){case 255:if(l[x]!==11||l[x+1]==78&&l[x+2]==69&&l[x+3]==84&&l[x+4]==83&&l[x+5]==67&&l[x+6]==65&&l[x+7]==80&&l[x+8]==69&&l[x+9]==50&&l[x+10]==46&&l[x+11]==48&&l[x+12]==3&&l[x+13]==1&&l[x+16]==0)x+=14,T=l[x++]|l[x++]<<8,x++;else for(x+=12;;){if(!(0<=(j=l[x++])))throw Error("Invalid block size");if(j===0)break;x+=j}break;case 249:if(l[x++]!==4||l[x+4]!==0)throw new Error("Invalid graphics extension block.");var O=l[x++],A=l[x++]|l[x++]<<8,E=l[x++];!(1&O)&&(E=null),N=O>>2&7,x++;break;case 254:for(;;){if(!(0<=(j=l[x++])))throw Error("Invalid block size");if(j===0)break;x+=j}break;default:throw new Error("Unknown graphic control label: 0x"+l[x-1].toString(16))}break;case 44:var j,M=l[x++]|l[x++]<<8,F=l[x++]|l[x++]<<8,B=l[x++]|l[x++]<<8,I=l[x++]|l[x++]<<8,L=l[x++],G=L>>6&1,k=1<<1+(7&L),V=o,R=p,U=!1,L=(L>>7&&(U=!0,V=x,x+=3*(R=k)),x);for(x++;;){if(!(0<=(j=l[x++])))throw Error("Invalid block size");if(j===0)break;x+=j}y.push({x:M,y:F,width:B,height:I,has_local_palette:U,palette_offset:V,palette_size:R,data_offset:L,data_length:x-L,transparent_index:E,interlaced:!!G,delay:A,disposal:N});break;case 59:b=!1;break;default:throw new Error("Unknown gif block: 0x"+l[x-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return T},this.frameInfo=function(H){if(H<0||H>=y.length)throw new Error("Frame index out of range.");return y[H]},this.decodeAndBlitFrameBGRA=function(H,X){for(var H=this.frameInfo(H),Z=H.width*H.height,J=new Uint8Array(Z),K=(m(l,H.data_offset,J,Z),H.palette_offset),$=H.transparent_index,W=($===null&&($=256),H.width),Y=S-W,te=W,ce=4*(H.y*S+H.x),oe=4*((H.y+H.height)*S+H.x),ue=ce,Ce=4*Y,le=(H.interlaced===!0&&(Ce+=4*S*7),8),ye=0,ve=J.length;ye<ve;++ye){var pe,be,Ne=J[ye];te===0&&(te=W,oe<=(ue+=Ce)&&(Ce=4*Y+4*S*(le-1),ue=ce+(W+Y)*(le<<1),le>>=1)),Ne===$?ue+=4:(pe=l[K+3*Ne],be=l[K+3*Ne+1],Ne=l[K+3*Ne+2],X[ue++]=Ne,X[ue++]=be,X[ue++]=pe,X[ue++]=255),--te}},this.decodeAndBlitFrameRGBA=function(H,X){for(var H=this.frameInfo(H),Z=H.width*H.height,J=new Uint8Array(Z),K=(m(l,H.data_offset,J,Z),H.palette_offset),$=H.transparent_index,W=($===null&&($=256),H.width),Y=S-W,te=W,ce=4*(H.y*S+H.x),oe=4*((H.y+H.height)*S+H.x),ue=ce,Ce=4*Y,le=(H.interlaced===!0&&(Ce+=4*S*7),8),ye=0,ve=J.length;ye<ve;++ye){var pe,be,Ne=J[ye];te===0&&(te=W,oe<=(ue+=Ce)&&(Ce=4*Y+4*S*(le-1),ue=ce+(W+Y)*(le<<1),le>>=1)),Ne===$?ue+=4:(pe=l[K+3*Ne],be=l[K+3*Ne+1],Ne=l[K+3*Ne+2],X[ue++]=pe,X[ue++]=be,X[ue++]=Ne,X[ue++]=255),--te}}}}catch{}},{}],257:[function(a,r,g){(function(f){var m,l;m=this,l=function(x){function S(ge){if(this==null)throw TypeError();var ee,se=String(this),ae=se.length,ge=ge?Number(ge):0;if(!((ge=ge!=ge?0:ge)<0||ae<=ge))return 55296<=(ee=se.charCodeAt(ge))&&ee<=56319&&ge+1<ae&&56320<=(ae=se.charCodeAt(ge+1))&&ae<=57343?1024*(ee-55296)+ae-56320+65536:ee}String.prototype.codePointAt||((D=function(){try{var Q={},ee=Object.defineProperty,se=ee(Q,Q,Q)&&ee}catch{}return se}())?D(String.prototype,"codePointAt",{value:S,configurable:!0,writable:!0}):String.prototype.codePointAt=S);var D,h=0,_=-3;function o(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function p(Q,ee){this.source=Q,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=ee,this.destLen=0,this.ltree=new o,this.dtree=new o}var b=new o,y=new o,A=new Uint8Array(30),E=new Uint16Array(30),N=new Uint8Array(30),T=new Uint16Array(30),O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j=new o,M=new Uint8Array(320);function F(Q,ee,se,ae){for(var ge,Te=0;Te<se;++Te)Q[Te]=0;for(Te=0;Te<30-se;++Te)Q[Te+se]=Te/se|0;for(ge=ae,Te=0;Te<30;++Te)ee[Te]=ge,ge+=1<<Q[Te]}var B=new Uint16Array(16);function I(Q,ee,se,ae){for(var ge,Te=0;Te<16;++Te)Q.table[Te]=0;for(Te=0;Te<ae;++Te)Q.table[ee[se+Te]]++;for(Te=ge=Q.table[0]=0;Te<16;++Te)B[Te]=ge,ge+=Q.table[Te];for(Te=0;Te<ae;++Te)ee[se+Te]&&(Q.trans[B[ee[se+Te]]++]=Te)}function G(Q,ee,se){if(!ee)return se;for(;Q.bitcount<24;)Q.tag|=Q.source[Q.sourceIndex++]<<Q.bitcount,Q.bitcount+=8;var ae=Q.tag&65535>>>16-ee;return Q.tag>>>=ee,Q.bitcount-=ee,ae+se}function k(Q,ee){for(;Q.bitcount<24;)Q.tag|=Q.source[Q.sourceIndex++]<<Q.bitcount,Q.bitcount+=8;for(var se=0,ae=0,ge=0,Te=Q.tag;ae=2*ae+(1&Te),Te>>>=1,se+=ee.table[++ge],0<=(ae-=ee.table[ge]););return Q.tag=Te,Q.bitcount-=ge,ee.trans[se+ae]}function V(Q,ee,se){for(;;){var ae=k(Q,ee);if(ae===256)return h;if(ae<256)Q.dest[Q.destLen++]=ae;else for(var ge,Te=G(Q,A[ae-=257],E[ae]),ae=k(Q,se),Ie=ge=Q.destLen-G(Q,N[ae],T[ae]);Ie<ge+Te;++Ie)Q.dest[Q.destLen++]=Q.dest[Ie]}}for(var R=b,U=y,L=0;L<7;++L)R.table[L]=0;for(R.table[7]=24,R.table[8]=152,R.table[9]=112,L=0;L<24;++L)R.trans[L]=256+L;for(L=0;L<144;++L)R.trans[24+L]=L;for(L=0;L<8;++L)R.trans[168+L]=280+L;for(L=0;L<112;++L)R.trans[176+L]=144+L;for(L=0;L<5;++L)U.table[L]=0;for(U.table[5]=32,L=0;L<32;++L)U.trans[L]=L;F(A,E,4,3),F(N,T,2,1),A[28]=0,E[28]=258;var H=function(Q,ee){var se,ae,ge,Te=new p(Q,ee);do{switch(ge=void 0,(ae=Te).bitcount--||(ae.tag=ae.source[ae.sourceIndex++],ae.bitcount=7),ge=1&ae.tag,ae.tag>>>=1,ae=ge,G(Te,2,0)){case 0:se=function(yt){for(var Ht,Kt;8<yt.bitcount;)yt.sourceIndex--,yt.bitcount-=8;if((Ht=256*yt.source[yt.sourceIndex+1]+yt.source[yt.sourceIndex])!==(65535&~(256*yt.source[yt.sourceIndex+3]+yt.source[yt.sourceIndex+2])))return _;for(yt.sourceIndex+=4,Kt=Ht;Kt;--Kt)yt.dest[yt.destLen++]=yt.source[yt.sourceIndex++];return yt.bitcount=0,h}(Te);break;case 1:se=V(Te,b,y);break;case 2:Dt=_t=Mt=gt=Ie=nt=lt=ht=it=Ye=Ze=Ve=void 0;for(var Ie,Ve=Te,Ze=Te.ltree,Ye=Te.dtree,it=G(Ve,5,257),ht=G(Ve,5,1),lt=G(Ve,4,4),nt=0;nt<19;++nt)M[nt]=0;for(nt=0;nt<lt;++nt){var Mt=G(Ve,3,0);M[O[nt]]=Mt}for(I(j,M,0,19),Ie=0;Ie<it+ht;){var _t=k(Ve,j);switch(_t){case 16:for(var Dt=M[Ie-1],gt=G(Ve,2,3);gt;--gt)M[Ie++]=Dt;break;case 17:for(gt=G(Ve,3,3);gt;--gt)M[Ie++]=0;break;case 18:for(gt=G(Ve,7,11);gt;--gt)M[Ie++]=0;break;default:M[Ie++]=_t}}I(Ze,M,0,it),I(Ye,M,it,ht),se=V(Te,Te.ltree,Te.dtree);break;default:se=_}if(se!==h)throw new Error("Data error")}while(!ae);return Te.destLen<Te.dest.length?typeof Te.dest.slice=="function"?Te.dest.slice(0,Te.destLen):Te.dest.subarray(0,Te.destLen):Te.dest};function X(Q,ee,se,ae,ge){return Math.pow(1-ge,3)*Q+3*Math.pow(1-ge,2)*ge*ee+3*(1-ge)*Math.pow(ge,2)*se+Math.pow(ge,3)*ae}function Z(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function J(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function K(Q){throw new Error(Q)}function $(Q,ee){Q||K(ee)}Z.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Z.prototype.addPoint=function(Q,ee){typeof Q=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=Q,this.x2=Q),Q<this.x1&&(this.x1=Q),Q>this.x2&&(this.x2=Q)),typeof ee=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=ee,this.y2=ee),ee<this.y1&&(this.y1=ee),ee>this.y2&&(this.y2=ee))},Z.prototype.addX=function(Q){this.addPoint(Q,null)},Z.prototype.addY=function(Q){this.addPoint(null,Q)},Z.prototype.addBezier=function(Q,ee,se,ae,ge,Te,Ie,Ve){var Ze=[Q,ee],Ye=[se,ae],it=[ge,Te],ht=[Ie,Ve];this.addPoint(Q,ee),this.addPoint(Ie,Ve);for(var lt=0;lt<=1;lt++){var nt,Mt=6*Ze[lt]-12*Ye[lt]+6*it[lt],_t=-3*Ze[lt]+9*Ye[lt]-9*it[lt]+3*ht[lt],Dt=3*Ye[lt]-3*Ze[lt];_t==0?Mt==0||0<(nt=-Dt/Mt)&&nt<1&&(lt===0&&this.addX(X(Ze[lt],Ye[lt],it[lt],ht[lt],nt)),lt===1&&this.addY(X(Ze[lt],Ye[lt],it[lt],ht[lt],nt))):(nt=Math.pow(Mt,2)-4*Dt*_t)<0||(0<(Dt=(-Mt+Math.sqrt(nt))/(2*_t))&&Dt<1&&(lt===0&&this.addX(X(Ze[lt],Ye[lt],it[lt],ht[lt],Dt)),lt===1&&this.addY(X(Ze[lt],Ye[lt],it[lt],ht[lt],Dt))),0<(Dt=(-Mt-Math.sqrt(nt))/(2*_t))&&Dt<1&&(lt===0&&this.addX(X(Ze[lt],Ye[lt],it[lt],ht[lt],Dt)),lt===1&&this.addY(X(Ze[lt],Ye[lt],it[lt],ht[lt],Dt))))}},Z.prototype.addQuad=function(Q,ee,se,ae,ge,Te){se=Q+2/3*(se-Q),ae=ee+2/3*(ae-ee),this.addBezier(Q,ee,se,ae,se+1/3*(ge-Q),ae+1/3*(Te-ee),ge,Te)},J.prototype.moveTo=function(Q,ee){this.commands.push({type:"M",x:Q,y:ee})},J.prototype.lineTo=function(Q,ee){this.commands.push({type:"L",x:Q,y:ee})},J.prototype.curveTo=J.prototype.bezierCurveTo=function(Q,ee,se,ae,ge,Te){this.commands.push({type:"C",x1:Q,y1:ee,x2:se,y2:ae,x:ge,y:Te})},J.prototype.quadTo=J.prototype.quadraticCurveTo=function(Q,ee,se,ae){this.commands.push({type:"Q",x1:Q,y1:ee,x:se,y:ae})},J.prototype.close=J.prototype.closePath=function(){this.commands.push({type:"Z"})},J.prototype.extend=function(Q){var ee;if(Q.commands)Q=Q.commands;else if(Q instanceof Z)return ee=Q,this.moveTo(ee.x1,ee.y1),this.lineTo(ee.x2,ee.y1),this.lineTo(ee.x2,ee.y2),this.lineTo(ee.x1,ee.y2),void this.close();Array.prototype.push.apply(this.commands,Q)},J.prototype.getBoundingBox=function(){for(var Q=new Z,ee=0,se=0,ae=0,ge=0,Te=0;Te<this.commands.length;Te++){var Ie=this.commands[Te];switch(Ie.type){case"M":Q.addPoint(Ie.x,Ie.y),ee=ae=Ie.x,se=ge=Ie.y;break;case"L":Q.addPoint(Ie.x,Ie.y),ae=Ie.x,ge=Ie.y;break;case"Q":Q.addQuad(ae,ge,Ie.x1,Ie.y1,Ie.x,Ie.y),ae=Ie.x,ge=Ie.y;break;case"C":Q.addBezier(ae,ge,Ie.x1,Ie.y1,Ie.x2,Ie.y2,Ie.x,Ie.y),ae=Ie.x,ge=Ie.y;break;case"Z":ae=ee,ge=se;break;default:throw new Error("Unexpected path command "+Ie.type)}}return Q.isEmpty()&&Q.addPoint(0,0),Q},J.prototype.draw=function(Q){Q.beginPath();for(var ee=0;ee<this.commands.length;ee+=1){var se=this.commands[ee];se.type==="M"?Q.moveTo(se.x,se.y):se.type==="L"?Q.lineTo(se.x,se.y):se.type==="C"?Q.bezierCurveTo(se.x1,se.y1,se.x2,se.y2,se.x,se.y):se.type==="Q"?Q.quadraticCurveTo(se.x1,se.y1,se.x,se.y):se.type==="Z"&&Q.closePath()}this.fill&&(Q.fillStyle=this.fill,Q.fill()),this.stroke&&(Q.strokeStyle=this.stroke,Q.lineWidth=this.strokeWidth,Q.stroke())},J.prototype.toPathData=function(Q){function ee(){for(var Te=arguments,Ie="",Ve=0;Ve<arguments.length;Ve+=1){var Ze=Te[Ve];0<=Ze&&0<Ve&&(Ie+=" "),Ie+=(Ze=Ze,Math.round(Ze)===Ze?""+Math.round(Ze):Ze.toFixed(Q))}return Ie}Q=Q!==void 0?Q:2;for(var se="",ae=0;ae<this.commands.length;ae+=1){var ge=this.commands[ae];ge.type==="M"?se+="M"+ee(ge.x,ge.y):ge.type==="L"?se+="L"+ee(ge.x,ge.y):ge.type==="C"?se+="C"+ee(ge.x1,ge.y1,ge.x2,ge.y2,ge.x,ge.y):ge.type==="Q"?se+="Q"+ee(ge.x1,ge.y1,ge.x,ge.y):ge.type==="Z"&&(se+="Z")}return se},J.prototype.toSVG=function(Q){var ee=(ee='<path d="')+this.toPathData(Q)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?ee+=' fill="none"':ee+=' fill="'+this.fill+'"'),this.stroke&&(ee+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),ee+="/>"},J.prototype.toDOMElement=function(ee){var ee=this.toPathData(ee),se=document.createElementNS("http://www.w3.org/2000/svg","path");return se.setAttribute("d",ee),se};var W={fail:K,argument:$,assert:$},Y={},te={},ce={};function oe(Q){return function(){return Q}}te.BYTE=function(Q){return W.argument(0<=Q&&Q<=255,"Byte value should be between 0 and 255."),[Q]},ce.BYTE=oe(1),te.CHAR=function(Q){return[Q.charCodeAt(0)]},ce.CHAR=oe(1),te.CHARARRAY=function(Q){for(var ee=[],se=0;se<Q.length;se+=1)ee[se]=Q.charCodeAt(se);return ee},ce.CHARARRAY=function(Q){return Q.length},te.USHORT=function(Q){return[Q>>8&255,255&Q]},ce.USHORT=oe(2),te.SHORT=function(Q){return[(Q=32768<=Q?-(65536-Q):Q)>>8&255,255&Q]},ce.SHORT=oe(2),te.UINT24=function(Q){return[Q>>16&255,Q>>8&255,255&Q]},ce.UINT24=oe(3),te.ULONG=function(Q){return[Q>>24&255,Q>>16&255,Q>>8&255,255&Q]},ce.ULONG=oe(4),te.LONG=function(Q){return[(Q=2147483648<=Q?-(4294967296-Q):Q)>>24&255,Q>>16&255,Q>>8&255,255&Q]},ce.LONG=oe(4),te.FIXED=te.ULONG,ce.FIXED=ce.ULONG,te.FWORD=te.SHORT,ce.FWORD=ce.SHORT,te.UFWORD=te.USHORT,ce.UFWORD=ce.USHORT,te.LONGDATETIME=function(Q){return[0,0,0,0,Q>>24&255,Q>>16&255,Q>>8&255,255&Q]},ce.LONGDATETIME=oe(8),te.TAG=function(Q){return W.argument(Q.length===4,"Tag should be exactly 4 ASCII characters."),[Q.charCodeAt(0),Q.charCodeAt(1),Q.charCodeAt(2),Q.charCodeAt(3)]},ce.TAG=oe(4),te.Card8=te.BYTE,ce.Card8=ce.BYTE,te.Card16=te.USHORT,ce.Card16=ce.USHORT,te.OffSize=te.BYTE,ce.OffSize=ce.BYTE,te.SID=te.USHORT,ce.SID=ce.USHORT,te.NUMBER=function(Q){return-107<=Q&&Q<=107?[Q+139]:108<=Q&&Q<=1131?[247+((Q-=108)>>8),255&Q]:-1131<=Q&&Q<=-108?[251+((Q=-Q-108)>>8),255&Q]:-32768<=Q&&Q<=32767?te.NUMBER16(Q):te.NUMBER32(Q)},ce.NUMBER=function(Q){return te.NUMBER(Q).length},te.NUMBER16=function(Q){return[28,Q>>8&255,255&Q]},ce.NUMBER16=oe(3),te.NUMBER32=function(Q){return[29,Q>>24&255,Q>>16&255,Q>>8&255,255&Q]},ce.NUMBER32=oe(5),te.REAL=function(Q){for(var ee=Q.toString(),se=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(ee),ae=(se&&(se=parseFloat("1e"+((se[2]?+se[2]:0)+se[1].length)),ee=(Math.round(Q*se)/se).toString()),""),ge=0,Te=ee.length;ge<Te;ge+=1){var Ie=ee[ge];ae+=Ie==="e"?ee[++ge]==="-"?"c":"b":Ie==="."?"a":Ie==="-"?"e":Ie}for(var Ve=[30],Ze=0,Ye=(ae+=1&ae.length?"f":"ff").length;Ze<Ye;Ze+=2)Ve.push(parseInt(ae.substr(Ze,2),16));return Ve},ce.REAL=function(Q){return te.REAL(Q).length},te.NAME=te.CHARARRAY,ce.NAME=ce.CHARARRAY,te.STRING=te.CHARARRAY,ce.STRING=ce.CHARARRAY,Y.UTF8=function(Q,ee,se){for(var ae=[],ge=se,Te=0;Te<ge;Te++,ee+=1)ae[Te]=Q.getUint8(ee);return String.fromCharCode.apply(null,ae)},Y.UTF16=function(Q,ee,se){for(var ae=[],ge=se/2,Te=0;Te<ge;Te++,ee+=2)ae[Te]=Q.getUint16(ee);return String.fromCharCode.apply(null,ae)},te.UTF16=function(Q){for(var ee=[],se=0;se<Q.length;se+=1){var ae=Q.charCodeAt(se);ee[ee.length]=ae>>8&255,ee[ee.length]=255&ae}return ee},ce.UTF16=function(Q){return 2*Q.length};var ue,Ce={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"},le=(Y.MACSTRING=function(Q,ee,se,ae){var ge=Ce[ae];if(ge!==void 0){for(var Te="",Ie=0;Ie<se;Ie++){var Ve=Q.getUint8(ee+Ie);Te+=Ve<=127?String.fromCharCode(Ve):ge[127&Ve]}return Te}},typeof WeakMap=="function"&&new WeakMap);function ye(Q){return-128<=Q&&Q<=127}te.MACSTRING=function(Q,ee){var se=function(Ie){if(!ue)for(var Ve in ue={},Ce)ue[Ve]=new String(Ve);var Ze=ue[Ie];if(Ze!==void 0){if(le){var Ye=le.get(Ze);if(Ye!==void 0)return Ye}var it=Ce[Ie];if(it!==void 0){for(var ht={},lt=0;lt<it.length;lt++)ht[it.charCodeAt(lt)]=lt+128;return le&&le.set(Ze,ht),ht}}}(ee);if(se!==void 0){for(var ae=[],ge=0;ge<Q.length;ge++){var Te=Q.charCodeAt(ge);if(128<=Te&&(Te=se[Te])===void 0)return;ae[ge]=Te}return ae}},ce.MACSTRING=function(Q,ee){return Q=te.MACSTRING(Q,ee),Q!==void 0?Q.length:0},te.VARDELTAS=function(Q){for(var ae=0,ee=[];ae<Q.length;)var se=Q[ae],ae=(se===0?function(ge,Te,Ie){for(var Ve=0,Ze=ge.length;Te<Ze&&Ve<64&&ge[Te]===0;)++Te,++Ve;return Ie.push(128|Ve-1),Te}:-128<=se&&se<=127?function(ge,Te,Ie){for(var Ve=0,Ze=ge.length,Ye=Te;Ye<Ze&&Ve<64;){var it=ge[Ye];if(!ye(it)||it===0&&Ye+1<Ze&&ge[Ye+1]===0)break;++Ye,++Ve}Ie.push(Ve-1);for(var ht=Te;ht<Ye;++ht)Ie.push(ge[ht]+256&255);return Ye}:function(ge,Te,Ie){for(var Ve=0,Ze=ge.length,Ye=Te;Ye<Ze&&Ve<64;){var it=ge[Ye];if(it===0||ye(it)&&Ye+1<Ze&&ye(ge[Ye+1]))break;++Ye,++Ve}Ie.push(64|Ve-1);for(var ht=Te;ht<Ye;++ht){var lt=ge[ht];Ie.push(lt+65536>>8&255,lt+256&255)}return Ye})(Q,ae,ee);return ee},te.INDEX=function(Q){for(var ee=1,se=[ee],ae=[],ge=0;ge<Q.length;ge+=1){var Te=te.OBJECT(Q[ge]);Array.prototype.push.apply(ae,Te),ee+=Te.length,se.push(ee)}if(ae.length===0)return[0,0];for(var Ie=[],Ve=1+Math.floor(Math.log(ee)/Math.log(2))/8|0,Ze=[void 0,te.BYTE,te.USHORT,te.UINT24,te.ULONG][Ve],Ye=0;Ye<se.length;Ye+=1){var it=Ze(se[Ye]);Array.prototype.push.apply(Ie,it)}return Array.prototype.concat(te.Card16(Q.length),te.OffSize(Ve),Ie,ae)},ce.INDEX=function(Q){return te.INDEX(Q).length},te.DICT=function(Q){for(var ee=[],se=Object.keys(Q),ae=se.length,ge=0;ge<ae;ge+=1){var Te=parseInt(se[ge],0),Ie=Q[Te];ee=(ee=ee.concat(te.OPERAND(Ie.value,Ie.type))).concat(te.OPERATOR(Te))}return ee},ce.DICT=function(Q){return te.DICT(Q).length},te.OPERATOR=function(Q){return Q<1200?[Q]:[12,Q-1200]},te.OPERAND=function(Q,ee){var se=[];if(Array.isArray(ee))for(var ae=0;ae<ee.length;ae+=1)W.argument(Q.length===ee.length,"Not enough arguments given for type"+ee),se=se.concat(te.OPERAND(Q[ae],ee[ae]));else if(ee==="SID")se=se.concat(te.NUMBER(Q));else if(ee==="offset")se=se.concat(te.NUMBER32(Q));else if(ee==="number")se=se.concat(te.NUMBER(Q));else{if(ee!=="real")throw new Error("Unknown operand type "+ee);se=se.concat(te.REAL(Q))}return se},te.OP=te.BYTE,ce.OP=ce.BYTE;var ve=typeof WeakMap=="function"&&new WeakMap;function pe(Q,ee,se){for(var ae=0;ae<ee.length;ae+=1){var ge=ee[ae];this[ge.name]=ge.value}if(this.tableName=Q,this.fields=ee,se)for(var Te=Object.keys(se),Ie=0;Ie<Te.length;Ie+=1){var Ve=Te[Ie],Ze=se[Ve];this[Ve]!==void 0&&(this[Ve]=Ze)}}function be(Q,ee,se){se===void 0&&(se=ee.length);var ae=new Array(ee.length+1);ae[0]={name:Q+"Count",type:"USHORT",value:se};for(var ge=0;ge<ee.length;ge++)ae[ge+1]={name:Q+ge,type:"USHORT",value:ee[ge]};return ae}function Ne(Q,ee,se){var ae=ee.length,ge=new Array(ae+1);ge[0]={name:Q+"Count",type:"USHORT",value:ae};for(var Te=0;Te<ae;Te++)ge[Te+1]={name:Q+Te,type:"TABLE",value:se(ee[Te],Te)};return ge}function he(Q,ee,se){var ae=ee.length,ge=[];ge[0]={name:Q+"Count",type:"USHORT",value:ae};for(var Te=0;Te<ae;Te++)ge=ge.concat(se(ee[Te],Te));return ge}function ne(Q){Q.format===1?pe.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(be("glyph",Q.glyphs))):W.assert(!1,"Can't create coverage table format 2 yet.")}function re(Q){pe.call(this,"scriptListTable",he("scriptRecord",Q,function(ee,se){var ae=ee.script,ge=ae.defaultLangSys;return W.assert(!!ge,"Unable to write GSUB: script "+ee.tag+" has no default language system."),[{name:"scriptTag"+se,type:"TAG",value:ee.tag},{name:"script"+se,type:"TABLE",value:new pe("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new pe("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ge.reqFeatureIndex}].concat(be("featureIndex",ge.featureIndexes)))}].concat(he("langSys",ae.langSysRecords,function(Te,Ie){var Ve=Te.langSys;return[{name:"langSysTag"+Ie,type:"TAG",value:Te.tag},{name:"langSys"+Ie,type:"TABLE",value:new pe("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Ve.reqFeatureIndex}].concat(be("featureIndex",Ve.featureIndexes)))}]})))}]}))}function de(Q){pe.call(this,"featureListTable",he("featureRecord",Q,function(ee,se){var ae=ee.feature;return[{name:"featureTag"+se,type:"TAG",value:ee.tag},{name:"feature"+se,type:"TABLE",value:new pe("featureTable",[{name:"featureParams",type:"USHORT",value:ae.featureParams}].concat(be("lookupListIndex",ae.lookupListIndexes)))}]}))}function xe(Q,ee){pe.call(this,"lookupListTable",Ne("lookup",Q,function(se){var ae=ee[se.lookupType];return W.assert(!!ae,"Unable to write GSUB lookup type "+se.lookupType+" tables."),new pe("lookupTable",[{name:"lookupType",type:"USHORT",value:se.lookupType},{name:"lookupFlag",type:"USHORT",value:se.lookupFlag}].concat(Ne("subtable",se.subtables,ae)))}))}te.CHARSTRING=function(Q){if(ve){var ee=ve.get(Q);if(ee!==void 0)return ee}for(var Te=[],se=Q.length,ae=0;ae<se;ae+=1)var ge=Q[ae],Te=Te.concat(te[ge.type](ge.value));return ve&&ve.set(Q,Te),Te},ce.CHARSTRING=function(Q){return te.CHARSTRING(Q).length},te.OBJECT=function(Q){var ee=te[Q.type];return W.argument(ee!==void 0,"No encoding function for type "+Q.type),ee(Q.value)},ce.OBJECT=function(Q){var ee=ce[Q.type];return W.argument(ee!==void 0,"No sizeOf function for type "+Q.type),ee(Q.value)},te.TABLE=function(Q){for(var ee=[],se=Q.fields.length,ae=[],ge=[],Te=0;Te<se;Te+=1){var Ie=Q.fields[Te],Ze=te[Ie.type],Ve=(W.argument(Ze!==void 0,"No encoding function for field type "+Ie.type+" ("+Ie.name+")"),Q[Ie.name]),Ze=Ze(Ve=Ve===void 0?Ie.value:Ve);Ie.type==="TABLE"?(ge.push(ee.length),ee=ee.concat([0,0]),ae.push(Ze)):ee=ee.concat(Ze)}for(var Ye=0;Ye<ae.length;Ye+=1){var it=ge[Ye],ht=ee.length;W.argument(ht<65536,"Table "+Q.tableName+" too big."),ee[it]=ht>>8,ee[it+1]=255&ht,ee=ee.concat(ae[Ye])}return ee},ce.TABLE=function(Q){for(var ee=0,se=Q.fields.length,ae=0;ae<se;ae+=1){var ge=Q.fields[ae],Te=ce[ge.type],Ie=(W.argument(Te!==void 0,"No sizeOf function for field type "+ge.type+" ("+ge.name+")"),Q[ge.name]);ee+=Te(Ie=Ie===void 0?ge.value:Ie),ge.type==="TABLE"&&(ee+=2)}return ee},te.RECORD=te.TABLE,ce.RECORD=ce.TABLE,te.LITERAL=function(Q){return Q},ce.LITERAL=function(Q){return Q.length},pe.prototype.encode=function(){return te.TABLE(this)},pe.prototype.sizeOf=function(){return ce.TABLE(this)};var Pe={Table:pe,Record:pe,Coverage:(ne.prototype=Object.create(pe.prototype)).constructor=ne,ScriptList:(re.prototype=Object.create(pe.prototype)).constructor=re,FeatureList:(de.prototype=Object.create(pe.prototype)).constructor=de,LookupList:(xe.prototype=Object.create(pe.prototype)).constructor=xe,ushortList:be,tableList:Ne,recordList:he};function Ae(Q,ee){return Q.getUint8(ee)}function Oe(Q,ee){return Q.getUint16(ee,!1)}function Se(Q,ee){return Q.getUint32(ee,!1)}function Fe(Q,ee){return Q.getInt16(ee,!1)+Q.getUint16(ee+2,!1)/65535}var $e={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Re(Q,ee){this.data=Q,this.offset=ee,this.relativeOffset=0}Re.prototype.parseByte=function(){var Q=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,Q},Re.prototype.parseChar=function(){var Q=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,Q},Re.prototype.parseCard8=Re.prototype.parseByte,Re.prototype.parseCard16=Re.prototype.parseUShort=function(){var Q=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,Q},Re.prototype.parseSID=Re.prototype.parseUShort,Re.prototype.parseOffset16=Re.prototype.parseUShort,Re.prototype.parseShort=function(){var Q=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,Q},Re.prototype.parseF2Dot14=function(){var Q=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,Q},Re.prototype.parseOffset32=Re.prototype.parseULong=function(){var Q=Se(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,Q},Re.prototype.parseFixed=function(){var Q=Fe(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,Q},Re.prototype.parseString=function(Q){var ee=this.data,se=this.offset+this.relativeOffset,ae="";this.relativeOffset+=Q;for(var ge=0;ge<Q;ge++)ae+=String.fromCharCode(ee.getUint8(se+ge));return ae},Re.prototype.parseTag=function(){return this.parseString(4)},Re.prototype.parseLongDateTime=function(){var Q=Se(this.data,this.offset+this.relativeOffset+4);return Q-=2082844800,this.relativeOffset+=8,Q},Re.prototype.parseVersion=function(Q){var ee=Oe(this.data,this.offset+this.relativeOffset),se=Oe(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,ee+se/(Q=Q===void 0?4096:Q)/10},Re.prototype.skip=function(Q,ee){this.relativeOffset+=$e[Q]*(ee=ee===void 0?1:ee)},Re.prototype.parseULongList=function(Q){Q===void 0&&(Q=this.parseULong());for(var ee=new Array(Q),se=this.data,ae=this.offset+this.relativeOffset,ge=0;ge<Q;ge++)ee[ge]=se.getUint32(ae),ae+=4;return this.relativeOffset+=4*Q,ee},Re.prototype.parseOffset16List=Re.prototype.parseUShortList=function(Q){Q===void 0&&(Q=this.parseUShort());for(var ee=new Array(Q),se=this.data,ae=this.offset+this.relativeOffset,ge=0;ge<Q;ge++)ee[ge]=se.getUint16(ae),ae+=2;return this.relativeOffset+=2*Q,ee},Re.prototype.parseShortList=function(Q){for(var ee=new Array(Q),se=this.data,ae=this.offset+this.relativeOffset,ge=0;ge<Q;ge++)ee[ge]=se.getInt16(ae),ae+=2;return this.relativeOffset+=2*Q,ee},Re.prototype.parseByteList=function(Q){for(var ee=new Array(Q),se=this.data,ae=this.offset+this.relativeOffset,ge=0;ge<Q;ge++)ee[ge]=se.getUint8(ae++);return this.relativeOffset+=Q,ee},Re.prototype.parseList=function(Q,ee){ee||(ee=Q,Q=this.parseUShort());for(var se=new Array(Q),ae=0;ae<Q;ae++)se[ae]=ee.call(this);return se},Re.prototype.parseList32=function(Q,ee){ee||(ee=Q,Q=this.parseULong());for(var se=new Array(Q),ae=0;ae<Q;ae++)se[ae]=ee.call(this);return se},Re.prototype.parseRecordList=function(Q,ee){ee||(ee=Q,Q=this.parseUShort());for(var se=new Array(Q),ae=Object.keys(ee),ge=0;ge<Q;ge++){for(var Te={},Ie=0;Ie<ae.length;Ie++){var Ve=ae[Ie],Ze=ee[Ve];Te[Ve]=Ze.call(this)}se[ge]=Te}return se},Re.prototype.parseRecordList32=function(Q,ee){ee||(ee=Q,Q=this.parseULong());for(var se=new Array(Q),ae=Object.keys(ee),ge=0;ge<Q;ge++){for(var Te={},Ie=0;Ie<ae.length;Ie++){var Ve=ae[Ie],Ze=ee[Ve];Te[Ve]=Ze.call(this)}se[ge]=Te}return se},Re.prototype.parseStruct=function(Q){if(typeof Q=="function")return Q.call(this);for(var ee=Object.keys(Q),se={},ae=0;ae<ee.length;ae++){var ge=ee[ae],Te=Q[ge];se[ge]=Te.call(this)}return se},Re.prototype.parseValueRecord=function(Q){var ee;if((Q=Q===void 0?this.parseUShort():Q)!==0)return ee={},1&Q&&(ee.xPlacement=this.parseShort()),2&Q&&(ee.yPlacement=this.parseShort()),4&Q&&(ee.xAdvance=this.parseShort()),8&Q&&(ee.yAdvance=this.parseShort()),16&Q&&(ee.xPlaDevice=void 0,this.parseShort()),32&Q&&(ee.yPlaDevice=void 0,this.parseShort()),64&Q&&(ee.xAdvDevice=void 0,this.parseShort()),128&Q&&(ee.yAdvDevice=void 0,this.parseShort()),ee},Re.prototype.parseValueRecordList=function(){for(var Q=this.parseUShort(),ee=this.parseUShort(),se=new Array(ee),ae=0;ae<ee;ae++)se[ae]=this.parseValueRecord(Q);return se},Re.prototype.parsePointer=function(Q){var ee=this.parseOffset16();if(0<ee)return new Re(this.data,this.offset+ee).parseStruct(Q)},Re.prototype.parsePointer32=function(Q){var ee=this.parseOffset32();if(0<ee)return new Re(this.data,this.offset+ee).parseStruct(Q)},Re.prototype.parseListOfLists=function(Q){for(var ee=this.parseOffset16List(),se=ee.length,ae=this.relativeOffset,ge=new Array(se),Te=0;Te<se;Te++){var Ie=ee[Te];if(Ie===0)ge[Te]=void 0;else if(this.relativeOffset=Ie,Q){for(var Ve=this.parseOffset16List(),Ze=new Array(Ve.length),Ye=0;Ye<Ve.length;Ye++)this.relativeOffset=Ie+Ve[Ye],Ze[Ye]=Q.call(this);ge[Te]=Ze}else ge[Te]=this.parseUShortList()}return this.relativeOffset=ae,ge},Re.prototype.parseCoverage=function(){var Q=this.offset+this.relativeOffset,ee=this.parseUShort(),se=this.parseUShort();if(ee===1)return{format:1,glyphs:this.parseUShortList(se)};if(ee!==2)throw new Error("0x"+Q.toString(16)+": Coverage format must be 1 or 2.");for(var ae=new Array(se),ge=0;ge<se;ge++)ae[ge]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:ae}},Re.prototype.parseClassDef=function(){var Q=this.offset+this.relativeOffset,ee=this.parseUShort();if(ee===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(ee===2)return{format:2,ranges:this.parseRecordList({start:Re.uShort,end:Re.uShort,classId:Re.uShort})};throw new Error("0x"+Q.toString(16)+": ClassDef format must be 1 or 2.")},Re.list=function(Q,ee){return function(){return this.parseList(Q,ee)}},Re.list32=function(Q,ee){return function(){return this.parseList32(Q,ee)}},Re.recordList=function(Q,ee){return function(){return this.parseRecordList(Q,ee)}},Re.recordList32=function(Q,ee){return function(){return this.parseRecordList32(Q,ee)}},Re.pointer=function(Q){return function(){return this.parsePointer(Q)}},Re.pointer32=function(Q){return function(){return this.parsePointer32(Q)}},Re.tag=Re.prototype.parseTag,Re.byte=Re.prototype.parseByte,Re.uShort=Re.offset16=Re.prototype.parseUShort,Re.uShortList=Re.prototype.parseUShortList,Re.uLong=Re.offset32=Re.prototype.parseULong,Re.uLongList=Re.prototype.parseULongList,Re.struct=Re.prototype.parseStruct,Re.coverage=Re.prototype.parseCoverage,Re.classDef=Re.prototype.parseClassDef;var qe={reserved:Re.uShort,reqFeatureIndex:Re.uShort,featureIndexes:Re.uShortList},ze=(Re.prototype.parseScriptList=function(){return this.parsePointer(Re.recordList({tag:Re.tag,script:Re.pointer({defaultLangSys:Re.pointer(qe),langSysRecords:Re.recordList({tag:Re.tag,langSys:Re.pointer(qe)})})}))||[]},Re.prototype.parseFeatureList=function(){return this.parsePointer(Re.recordList({tag:Re.tag,feature:Re.pointer({featureParams:Re.offset16,lookupListIndexes:Re.uShortList})}))||[]},Re.prototype.parseLookupList=function(Q){return this.parsePointer(Re.list(Re.pointer(function(){var ee=this.parseUShort(),se=(W.argument(1<=ee&&ee<=9,"GPOS/GSUB lookup type "+ee+" unknown."),this.parseUShort()),ae=16&se;return{lookupType:ee,lookupFlag:se,subtables:this.parseList(Re.pointer(Q[ee])),markFilteringSet:ae?this.parseUShort():void 0}})))||[]},Re.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var Q=this.parseUShort(),ee=this.parseUShort();return W.argument(Q===1&&ee<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Re.offset32,featureTableSubstitutionOffset:Re.offset32})})||[]},{getByte:Ae,getCard8:Ae,getUShort:Oe,getCard16:Oe,getShort:function(Q,ee){return Q.getInt16(ee,!1)},getULong:Se,getFixed:Fe,getTag:function(Q,ee){for(var se="",ae=ee;ae<ee+4;ae+=1)se+=String.fromCharCode(Q.getInt8(ae));return se},getOffset:function(Q,ee,se){for(var ae=0,ge=0;ge<se;ge+=1)ae=(ae<<=8)+Q.getUint8(ee+ge);return ae},getBytes:function(Q,ee,se){for(var ae=[],ge=ee;ge<se;ge+=1)ae.push(Q.getUint8(ge));return ae},bytesToString:function(Q){for(var ee="",se=0;se<Q.length;se+=1)ee+=String.fromCharCode(Q[se]);return ee},Parser:Re}),we={parse:function(Q,ee){for(var se={},ae=(se.version=ze.getUShort(Q,ee),W.argument(se.version===0,"cmap table version should be 0."),se.numTables=ze.getUShort(Q,ee+2),-1),ge=se.numTables-1;0<=ge;--ge){var Te=ze.getUShort(Q,ee+4+8*ge),Ie=ze.getUShort(Q,ee+4+8*ge+2);if(Te===3&&(Ie===0||Ie===1||Ie===10)||Te===0&&(Ie===0||Ie===1||Ie===2||Ie===3||Ie===4)){ae=ze.getULong(Q,ee+4+8*ge+4);break}}if(ae===-1)throw new Error("No valid cmap sub-tables found.");var Ve=new ze.Parser(Q,ee+ae);if(se.format=Ve.parseUShort(),se.format===12){var Ze,Ye=se,it=Ve;it.parseUShort(),Ye.length=it.parseULong(),Ye.language=it.parseULong(),Ye.groupCount=Ze=it.parseULong(),Ye.glyphIndexMap={};for(var ht=0;ht<Ze;ht+=1)for(var lt=it.parseULong(),nt=it.parseULong(),Mt=it.parseULong(),_t=lt;_t<=nt;_t+=1)Ye.glyphIndexMap[_t]=Mt,Mt++}else{if(se.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+se.format+").");var Dt=se,gt=Q,yt=ee,Ht=ae;Dt.length=Ve.parseUShort(),Dt.language=Ve.parseUShort(),Dt.segCount=Kt=Ve.parseUShort()>>1,Ve.skip("uShort",3),Dt.glyphIndexMap={};for(var Kt,qt=new ze.Parser(gt,yt+Ht+14),Wt=new ze.Parser(gt,yt+Ht+16+2*Kt),en=new ze.Parser(gt,yt+Ht+16+4*Kt),gn=new ze.Parser(gt,yt+Ht+16+6*Kt),An=yt+Ht+16+8*Kt,En=0;En<Kt-1;En+=1)for(var jn=void 0,kn=qt.parseUShort(),Qn=Wt.parseUShort(),hn=en.parseShort(),yn=gn.parseUShort(),fn=Qn;fn<=kn;fn+=1)yn!==0?(An=(An=gn.offset+gn.relativeOffset-2)+yn+2*(fn-Qn),(jn=ze.getUShort(gt,An))!==0&&(jn=jn+hn&65535)):jn=fn+hn&65535,Dt.glyphIndexMap[fn]=jn}return se},make:function(Q){for(var ee=!0,se=Q.length-1;0<se;--se)if(65535<Q.get(se).unicode){console.log("Adding CMAP format 12 (needed!)"),ee=!1;break}var ae,ge,Te=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:ee?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:ee?12:20}],Ie=(Te=(Te=ee?Te:Te.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Pe.Table("cmap",Te));for(Ie.segments=[],se=0;se<Q.length;se+=1){for(var Ve=Q.get(se),Ze=0;Ze<Ve.unicodes.length;Ze+=1)ae=Ve.unicodes[Ze],ge=se,Ie.segments.push({end:ae,start:ae,delta:-(ae-ge),offset:0,glyphIndex:ge});Ie.segments=Ie.segments.sort(function(yt,Ht){return yt.start-Ht.start})}Ie.segments.push({end:65535,start:65535,delta:1,offset:0});var Ye=Ie.segments.length,it=0,ht=[],lt=[],nt=[],Mt=[],_t=[],Dt=[];for(se=0;se<Ye;se+=1){var gt=Ie.segments[se];gt.end<=65535&&gt.start<=65535?(ht=ht.concat({name:"end_"+se,type:"USHORT",value:gt.end}),lt=lt.concat({name:"start_"+se,type:"USHORT",value:gt.start}),nt=nt.concat({name:"idDelta_"+se,type:"SHORT",value:gt.delta}),Mt=Mt.concat({name:"idRangeOffset_"+se,type:"USHORT",value:gt.offset}),gt.glyphId!==void 0&&(_t=_t.concat({name:"glyph_"+se,type:"USHORT",value:gt.glyphId}))):it+=1,ee||gt.glyphIndex===void 0||(Dt=(Dt=(Dt=Dt.concat({name:"cmap12Start_"+se,type:"ULONG",value:gt.start})).concat({name:"cmap12End_"+se,type:"ULONG",value:gt.end})).concat({name:"cmap12Glyph_"+se,type:"ULONG",value:gt.glyphIndex}))}return Ie.segCountX2=2*(Ye-it),Ie.searchRange=2*Math.pow(2,Math.floor(Math.log(Ye-it)/Math.log(2))),Ie.entrySelector=Math.log(Ie.searchRange/2)/Math.log(2),Ie.rangeShift=Ie.segCountX2-Ie.searchRange,Ie.fields=Ie.fields.concat(ht),Ie.fields.push({name:"reservedPad",type:"USHORT",value:0}),Ie.fields=Ie.fields.concat(lt),Ie.fields=Ie.fields.concat(nt),Ie.fields=Ie.fields.concat(Mt),Ie.fields=Ie.fields.concat(_t),Ie.cmap4Length=14+2*ht.length+2+2*lt.length+2*nt.length+2*Mt.length+2*_t.length,ee||(Te=16+4*Dt.length,Ie.cmap12Offset=20+Ie.cmap4Length,Ie.fields=Ie.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:Te},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Dt.length/3}]),Ie.fields=Ie.fields.concat(Dt)),Ie}},Ee=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Me=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],me=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Ge=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Xe(Q){this.font=Q}function rt(Q){this.cmap=Q}function ut(Q,ee){this.encoding=Q,this.charset=ee}function ft(Q){switch(Q.version){case 1:this.names=Ge.slice();break;case 2:this.names=new Array(Q.numberOfGlyphs);for(var ee=0;ee<Q.numberOfGlyphs;ee++)Q.glyphNameIndex[ee]<Ge.length?this.names[ee]=Ge[Q.glyphNameIndex[ee]]:this.names[ee]=Q.names[Q.glyphNameIndex[ee]-Ge.length];break;case 2.5:this.names=new Array(Q.numberOfGlyphs);for(var se=0;se<Q.numberOfGlyphs;se++)this.names[se]=Ge[se+Q.glyphNameIndex[se]];break;default:this.names=[]}}Xe.prototype.charToGlyphIndex=function(Q){var ee=Q.codePointAt(0),se=this.font.glyphs;if(se){for(var ae=0;ae<se.length;ae+=1)for(var ge=se.get(ae),Te=0;Te<ge.unicodes.length;Te+=1)if(ge.unicodes[Te]===ee)return ae}return null},rt.prototype.charToGlyphIndex=function(Q){return this.cmap.glyphIndexMap[Q.codePointAt(0)]||0},ut.prototype.charToGlyphIndex=function(Q){return Q=Q.codePointAt(0),Q=this.encoding[Q],this.charset.indexOf(Q)},ft.prototype.nameToGlyphIndex=function(Q){return this.names.indexOf(Q)},ft.prototype.glyphIndexToName=function(Q){return this.names[Q]};var pt={line:function(Q,ee,se,ae,ge){Q.beginPath(),Q.moveTo(ee,se),Q.lineTo(ae,ge),Q.stroke()}};function ot(Q){this.bindConstructorValues(Q)}function bt(Q,ee,se){Object.defineProperty(Q,ee,{get:function(){return Q.path,Q[se]},set:function(ae){Q[se]=ae},enumerable:!0,configurable:!0})}function At(Q,ee){if(this.font=Q,this.glyphs={},Array.isArray(ee))for(var se=0;se<ee.length;se++)this.glyphs[se]=ee[se];this.length=ee&&ee.length||0}ot.prototype.bindConstructorValues=function(Q){var ee;this.index=Q.index||0,this.name=Q.name||null,this.unicode=Q.unicode||void 0,this.unicodes=Q.unicodes||Q.unicode!==void 0?[Q.unicode]:[],Q.xMin&&(this.xMin=Q.xMin),Q.yMin&&(this.yMin=Q.yMin),Q.xMax&&(this.xMax=Q.xMax),Q.yMax&&(this.yMax=Q.yMax),Q.advanceWidth&&(this.advanceWidth=Q.advanceWidth),Object.defineProperty(this,"path",(Q=Q.path,ee=Q||new J,{configurable:!0,get:function(){return ee=typeof ee=="function"?ee():ee},set:function(se){ee=se}}))},ot.prototype.addUnicode=function(Q){this.unicodes.length===0&&(this.unicode=Q),this.unicodes.push(Q)},ot.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ot.prototype.getPath=function(Q,ee,se,ae,ge){Q=Q!==void 0?Q:0,ee=ee!==void 0?ee:0,se=se!==void 0?se:72;for(var Te,Ie,Ve=(ae=ae||{}).xScale,Ze=ae.yScale,Ye=((Te=ae.hinting&&ge&&ge.hinting?this.path&&ge.hinting.exec(this,se):Te)?(Ie=ge.hinting.getCommands(Te),Q=Math.round(Q),ee=Math.round(ee),Ve=Ze=1):(Ie=this.path.commands,ae=1/this.path.unitsPerEm*se,Ve===void 0&&(Ve=ae),Ze===void 0&&(Ze=ae)),new J),it=0;it<Ie.length;it+=1){var ht=Ie[it];ht.type==="M"?Ye.moveTo(Q+ht.x*Ve,ee+-ht.y*Ze):ht.type==="L"?Ye.lineTo(Q+ht.x*Ve,ee+-ht.y*Ze):ht.type==="Q"?Ye.quadraticCurveTo(Q+ht.x1*Ve,ee+-ht.y1*Ze,Q+ht.x*Ve,ee+-ht.y*Ze):ht.type==="C"?Ye.curveTo(Q+ht.x1*Ve,ee+-ht.y1*Ze,Q+ht.x2*Ve,ee+-ht.y2*Ze,Q+ht.x*Ve,ee+-ht.y*Ze):ht.type==="Z"&&Ye.closePath()}return Ye},ot.prototype.getContours=function(){if(this.points===void 0)return[];for(var Q=[],ee=[],se=0;se<this.points.length;se+=1){var ae=this.points[se];ee.push(ae),ae.lastPointOfContour&&(Q.push(ee),ee=[])}return W.argument(ee.length===0,"There are still points left in the current contour."),Q},ot.prototype.getMetrics=function(){for(var Q=this.path.commands,ee=[],se=[],ae=0;ae<Q.length;ae+=1){var ge=Q[ae];ge.type!=="Z"&&(ee.push(ge.x),se.push(ge.y)),ge.type!=="Q"&&ge.type!=="C"||(ee.push(ge.x1),se.push(ge.y1)),ge.type==="C"&&(ee.push(ge.x2),se.push(ge.y2))}var Te={xMin:Math.min.apply(null,ee),yMin:Math.min.apply(null,se),xMax:Math.max.apply(null,ee),yMax:Math.max.apply(null,se),leftSideBearing:this.leftSideBearing};return isFinite(Te.xMin)||(Te.xMin=0),isFinite(Te.xMax)||(Te.xMax=this.advanceWidth),isFinite(Te.yMin)||(Te.yMin=0),isFinite(Te.yMax)||(Te.yMax=0),Te.rightSideBearing=this.advanceWidth-Te.leftSideBearing-(Te.xMax-Te.xMin),Te},ot.prototype.draw=function(Q,ee,se,ae,ge){this.getPath(ee,se,ae,ge).draw(Q)},ot.prototype.drawPoints=function(Q,ee,se,ae){function ge(it,ht,lt,nt){var Mt=2*Math.PI;Q.beginPath();for(var _t=0;_t<it.length;_t+=1)Q.moveTo(ht+it[_t].x*nt,lt+it[_t].y*nt),Q.arc(ht+it[_t].x*nt,lt+it[_t].y*nt,2,0,Mt,!1);Q.closePath(),Q.fill()}ee=ee!==void 0?ee:0,se=se!==void 0?se:0;for(var ae=1/this.path.unitsPerEm*(ae=ae!==void 0?ae:24),Te=[],Ie=[],Ve=this.path,Ze=0;Ze<Ve.commands.length;Ze+=1){var Ye=Ve.commands[Ze];Ye.x!==void 0&&Te.push({x:Ye.x,y:-Ye.y}),Ye.x1!==void 0&&Ie.push({x:Ye.x1,y:-Ye.y1}),Ye.x2!==void 0&&Ie.push({x:Ye.x2,y:-Ye.y2})}Q.fillStyle="blue",ge(Te,ee,se,ae),Q.fillStyle="red",ge(Ie,ee,se,ae)},ot.prototype.drawMetrics=function(Q,ee,se,ae){ee=ee!==void 0?ee:0,se=se!==void 0?se:0,ae=1/this.path.unitsPerEm*(ae=ae!==void 0?ae:24),Q.lineWidth=1,Q.strokeStyle="black",pt.line(Q,ee,-1e4,ee,1e4),pt.line(Q,-1e4,se,1e4,se);var ge=this.xMin||0,Te=this.yMin||0,Ie=this.xMax||0,Ve=this.yMax||0,Ze=this.advanceWidth||0;Q.strokeStyle="blue",pt.line(Q,ee+ge*ae,-1e4,ee+ge*ae,1e4),pt.line(Q,ee+Ie*ae,-1e4,ee+Ie*ae,1e4),pt.line(Q,-1e4,se+-Te*ae,1e4,se+-Te*ae),pt.line(Q,-1e4,se+-Ve*ae,1e4,se+-Ve*ae),Q.strokeStyle="green",pt.line(Q,ee+Ze*ae,-1e4,ee+Ze*ae,1e4)},At.prototype.get=function(Q){return typeof this.glyphs[Q]=="function"&&(this.glyphs[Q]=this.glyphs[Q]()),this.glyphs[Q]},At.prototype.push=function(Q,ee){this.glyphs[Q]=ee,this.length++};var Ke={GlyphSet:At,glyphLoader:function(Q,ee){return new ot({index:ee,font:Q})},ttfGlyphLoader:function(Q,ee,se,ae,ge,Te){return function(){var Ie=new ot({index:ee,font:Q});return Ie.path=function(){se(Ie,ae,ge);var Ve=Te(Q.glyphs,Ie);return Ve.unitsPerEm=Q.unitsPerEm,Ve},bt(Ie,"xMin","_xMin"),bt(Ie,"xMax","_xMax"),bt(Ie,"yMin","_yMin"),bt(Ie,"yMax","_yMax"),Ie}},cffGlyphLoader:function(Q,ee,se,ae){return function(){var ge=new ot({index:ee,font:Q});return ge.path=function(){var Te=se(Q,ge,ae);return Te.unitsPerEm=Q.unitsPerEm,Te},ge}}};function dt(Q){return Q=Q.length<1240?107:Q.length<33900?1131:32768,Q}function vt(Q,ee,se){var ae,ge=[],Te=[],Ie=ze.getCard16(Q,ee);if(Ie!==0){for(var Ve=ze.getByte(Q,ee+2),Ze=ee+(Ie+1)*Ve+2,Ye=ee+3,it=0;it<Ie+1;it+=1)ge.push(ze.getOffset(Q,Ye,Ve)),Ye+=Ve;ae=Ze+ge[Ie]}else ae=ee+2;for(var ht=0;ht<ge.length-1;ht+=1){var lt=ze.getBytes(Q,Ze+ge[ht],Ze+ge[ht+1]);se&&(lt=se(lt)),Te.push(lt)}return{objects:Te,startOffset:ee,endOffset:ae}}function wt(Q,ee){if(ee===28)return Q.parseByte()<<8|Q.parseByte();if(ee===29)return Q.parseByte()<<24|Q.parseByte()<<16|Q.parseByte()<<8|Q.parseByte();if(ee===30){for(var se=Q,ae="",ge=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Ie=se.parseByte(),Te=Ie>>4,Ie=15&Ie;if(Te==15||(ae+=ge[Te],Ie==15))break;ae+=ge[Ie]}return parseFloat(ae)}if(32<=ee&&ee<=246)return ee-139;if(247<=ee&&ee<=250)return 256*(ee-247)+Q.parseByte()+108;if(251<=ee&&ee<=254)return 256*-(ee-251)-Q.parseByte()-108;throw new Error("Invalid b0 "+ee)}function Nt(Q,ee,se){var ae=new ze.Parser(Q,ee=ee!==void 0?ee:0),ge=[],Te=[];for(se=se!==void 0?se:Q.length;ae.relativeOffset<se;){var Ie=ae.parseByte();Ie<=21?(Ie===12&&(Ie=1200+ae.parseByte()),ge.push([Ie,Te]),Te=[]):Te.push(wt(ae,Ie))}for(var Ve=ge,Ze={},Ye=0;Ye<Ve.length;Ye+=1){var it=Ve[Ye][0],ht=Ve[Ye][1],lt=void 0,lt=ht.length===1?ht[0]:ht;if(Ze.hasOwnProperty(it)&&!isNaN(Ze[it]))throw new Error("Object "+Ze+" already has key "+it);Ze[it]=lt}return Ze}function Ot(Q,ee){return ee=ee<=390?Ee[ee]:Q[ee-391]}function Tt(Q,ee,se){for(var ae,ge={},Te=0;Te<ee.length;Te+=1){var Ie=ee[Te];if(Array.isArray(Ie.type)){var Ve=[];Ve.length=Ie.type.length;for(var Ze=0;Ze<Ie.type.length;Ze++)(ae=Q[Ie.op]!==void 0?Q[Ie.op][Ze]:void 0)===void 0&&(ae=Ie.value!==void 0&&Ie.value[Ze]!==void 0?Ie.value[Ze]:null),Ie.type[Ze]==="SID"&&(ae=Ot(se,ae)),Ve[Ze]=ae;ge[Ie.name]=Ve}else(ae=Q[Ie.op])===void 0&&(ae=Ie.value!==void 0?Ie.value:null),Ie.type==="SID"&&(ae=Ot(se,ae)),ge[Ie.name]=ae}return ge}var It=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Pt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Rt(Q,ee,se,ae){return Tt(Nt(Q,ee,se),Pt,ae)}function Ft(Q,ee,se,ae){for(var ge=[],Te=0;Te<se.length;Te+=1){var Ie=new DataView(new Uint8Array(se[Te]).buffer),Ie=(Ve=ae,Tt(Nt(Ie,0,Ie.byteLength),It,Ve)),Ve=(Ie._subrs=[],Ie._subrsBias=0,Ie.private[0]),Ze=Ie.private[1];Ve!==0&&Ze!==0&&(Ve=Rt(Q,Ze+ee,Ve,ae),Ie._defaultWidthX=Ve.defaultWidthX,Ie._nominalWidthX=Ve.nominalWidthX,Ve.subrs!==0&&(Ze=vt(Q,Ze+Ve.subrs+ee),Ie._subrs=Ze.objects,Ie._subrsBias=dt(Ie._subrs)),Ie._privateDict=Ve),ge.push(Ie)}return ge}function Bt(Q,ee,se){var ae,ge,Te,Ie,Ve,Ze,Ye,it,ht,lt=new J,nt=[],Mt=0,_t=!1,Dt=!1,gt=0,yt=0,Ht=(ht=(Q.isCIDFont?(Ve=Q.tables.cff.topDict._fdSelect[ee.index],Ve=Q.tables.cff.topDict._fdArray[Ve],Ze=Ve._subrs,Ye=Ve._subrsBias,it=Ve._defaultWidthX,Ve):(Ze=Q.tables.cff.topDict._subrs,Ye=Q.tables.cff.topDict._subrsBias,it=Q.tables.cff.topDict._defaultWidthX,Q.tables.cff.topDict))._nominalWidthX,it);function Kt(Wt,en){Dt&&lt.closePath(),lt.moveTo(Wt,en),Dt=!0}function qt(){nt.length%2==0||_t||(Ht=nt.shift()+ht),Mt+=nt.length>>1,nt.length=0,_t=!0}return function Wt(en){for(var gn,An,En,jn,kn,Qn,hn,yn,fn,In,wn,On,vn=0;vn<en.length;){var Nn=en[vn];switch(vn+=1,Nn){case 1:case 3:qt();break;case 4:1<nt.length&&!_t&&(Ht=nt.shift()+ht,_t=!0),yt+=nt.pop(),Kt(gt,yt);break;case 5:for(;0<nt.length;)gt+=nt.shift(),yt+=nt.shift(),lt.lineTo(gt,yt);break;case 6:for(;0<nt.length&&(gt+=nt.shift(),lt.lineTo(gt,yt),nt.length!==0);)yt+=nt.shift(),lt.lineTo(gt,yt);break;case 7:for(;0<nt.length&&(yt+=nt.shift(),lt.lineTo(gt,yt),nt.length!==0);)gt+=nt.shift(),lt.lineTo(gt,yt);break;case 8:for(;0<nt.length;)ae=gt+nt.shift(),ge=yt+nt.shift(),Te=ae+nt.shift(),Ie=ge+nt.shift(),gt=Te+nt.shift(),yt=Ie+nt.shift(),lt.curveTo(ae,ge,Te,Ie,gt,yt);break;case 10:kn=nt.pop()+Ye,(Qn=Ze[kn])&&Wt(Qn);break;case 11:return;case 12:switch(Nn=en[vn],vn+=1,Nn){case 35:ae=gt+nt.shift(),ge=yt+nt.shift(),Te=ae+nt.shift(),Ie=ge+nt.shift(),hn=Te+nt.shift(),yn=Ie+nt.shift(),fn=hn+nt.shift(),In=yn+nt.shift(),wn=fn+nt.shift(),On=In+nt.shift(),gt=wn+nt.shift(),yt=On+nt.shift(),nt.shift(),lt.curveTo(ae,ge,Te,Ie,hn,yn),lt.curveTo(fn,In,wn,On,gt,yt);break;case 34:ae=gt+nt.shift(),ge=yt,Te=ae+nt.shift(),Ie=ge+nt.shift(),hn=Te+nt.shift(),yn=Ie,fn=hn+nt.shift(),In=Ie,wn=fn+nt.shift(),On=yt,gt=wn+nt.shift(),lt.curveTo(ae,ge,Te,Ie,hn,yn),lt.curveTo(fn,In,wn,On,gt,yt);break;case 36:ae=gt+nt.shift(),ge=yt+nt.shift(),Te=ae+nt.shift(),Ie=ge+nt.shift(),hn=Te+nt.shift(),yn=Ie,fn=hn+nt.shift(),In=Ie,wn=fn+nt.shift(),On=In+nt.shift(),gt=wn+nt.shift(),lt.curveTo(ae,ge,Te,Ie,hn,yn),lt.curveTo(fn,In,wn,On,gt,yt);break;case 37:ae=gt+nt.shift(),ge=yt+nt.shift(),Te=ae+nt.shift(),Ie=ge+nt.shift(),hn=Te+nt.shift(),yn=Ie+nt.shift(),fn=hn+nt.shift(),In=yn+nt.shift(),wn=fn+nt.shift(),On=In+nt.shift(),Math.abs(wn-gt)>Math.abs(On-yt)?gt=wn+nt.shift():yt=On+nt.shift(),lt.curveTo(ae,ge,Te,Ie,hn,yn),lt.curveTo(fn,In,wn,On,gt,yt);break;default:console.log("Glyph "+ee.index+": unknown operator 1200"+Nn),nt.length=0}break;case 14:0<nt.length&&!_t&&(Ht=nt.shift()+ht,_t=!0),Dt&&(lt.closePath(),Dt=!1);break;case 18:qt();break;case 19:case 20:qt(),vn+=Mt+7>>3;break;case 21:2<nt.length&&!_t&&(Ht=nt.shift()+ht,_t=!0),yt+=nt.pop(),Kt(gt+=nt.pop(),yt);break;case 22:1<nt.length&&!_t&&(Ht=nt.shift()+ht,_t=!0),Kt(gt+=nt.pop(),yt);break;case 23:qt();break;case 24:for(;2<nt.length;)ae=gt+nt.shift(),ge=yt+nt.shift(),Te=ae+nt.shift(),Ie=ge+nt.shift(),gt=Te+nt.shift(),yt=Ie+nt.shift(),lt.curveTo(ae,ge,Te,Ie,gt,yt);gt+=nt.shift(),yt+=nt.shift(),lt.lineTo(gt,yt);break;case 25:for(;6<nt.length;)gt+=nt.shift(),yt+=nt.shift(),lt.lineTo(gt,yt);ae=gt+nt.shift(),ge=yt+nt.shift(),Te=ae+nt.shift(),Ie=ge+nt.shift(),gt=Te+nt.shift(),yt=Ie+nt.shift(),lt.curveTo(ae,ge,Te,Ie,gt,yt);break;case 26:for(nt.length%2&&(gt+=nt.shift());0<nt.length;)ae=gt,ge=yt+nt.shift(),Te=ae+nt.shift(),Ie=ge+nt.shift(),gt=Te,yt=Ie+nt.shift(),lt.curveTo(ae,ge,Te,Ie,gt,yt);break;case 27:for(nt.length%2&&(yt+=nt.shift());0<nt.length;)ae=gt+nt.shift(),ge=yt,Te=ae+nt.shift(),Ie=ge+nt.shift(),gt=Te+nt.shift(),yt=Ie,lt.curveTo(ae,ge,Te,Ie,gt,yt);break;case 28:gn=en[vn],An=en[vn+1],nt.push((gn<<24|An<<16)>>16),vn+=2;break;case 29:kn=nt.pop()+Q.gsubrsBias,(Qn=Q.gsubrs[kn])&&Wt(Qn);break;case 30:for(;0<nt.length&&(ae=gt,ge=yt+nt.shift(),Te=ae+nt.shift(),Ie=ge+nt.shift(),gt=Te+nt.shift(),yt=Ie+(nt.length===1?nt.shift():0),lt.curveTo(ae,ge,Te,Ie,gt,yt),nt.length!==0);)ae=gt+nt.shift(),ge=yt,Te=ae+nt.shift(),Ie=ge+nt.shift(),yt=Ie+nt.shift(),gt=Te+(nt.length===1?nt.shift():0),lt.curveTo(ae,ge,Te,Ie,gt,yt);break;case 31:for(;0<nt.length&&(ae=gt+nt.shift(),ge=yt,Te=ae+nt.shift(),Ie=ge+nt.shift(),yt=Ie+nt.shift(),gt=Te+(nt.length===1?nt.shift():0),lt.curveTo(ae,ge,Te,Ie,gt,yt),nt.length!==0);)ae=gt,ge=yt+nt.shift(),Te=ae+nt.shift(),Ie=ge+nt.shift(),gt=Te+nt.shift(),yt=Ie+(nt.length===1?nt.shift():0),lt.curveTo(ae,ge,Te,Ie,gt,yt);break;default:Nn<32?console.log("Glyph "+ee.index+": unknown operator "+Nn):Nn<247?nt.push(Nn-139):Nn<251?(gn=en[vn],vn+=1,nt.push(256*(Nn-247)+gn+108)):Nn<255?(gn=en[vn],vn+=1,nt.push(256*-(Nn-251)-gn-108)):(gn=en[vn],An=en[vn+1],En=en[vn+2],jn=en[vn+3],vn+=4,nt.push((gn<<24|An<<16|En<<8|jn)/65536))}}}(se),ee.advanceWidth=Ht,lt}function Ut(Q,ee){var se,ae=Ee.indexOf(Q);return 0<=ae&&(se=ae),0<=(ae=ee.indexOf(Q))?se=ae+Ee.length:(se=Ee.length+ee.length,ee.push(Q)),se}function Xt(Q,ee,se){for(var ae={},ge=0;ge<Q.length;ge+=1){var Te=Q[ge],Ie=ee[Te.name];Ie===void 0||function Ve(Ze,Ye){if(Ze===Ye)return 1;if(Array.isArray(Ze)&&Array.isArray(Ye)&&Ze.length===Ye.length){for(var it=0;it<Ze.length;it+=1)if(!Ve(Ze[it],Ye[it]))return;return 1}}(Ie,Te.value)||(Te.type==="SID"&&(Ie=Ut(Ie,se)),ae[Te.op]={name:Te.name,type:Te.type,value:Ie})}return ae}function Zt(Q,ee){var se=new Pe.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return se.dict=Xt(It,Q,ee),se}function Yt(Q){var ee=new Pe.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return ee.topDicts=[{name:"topDict_0",type:"TABLE",value:Q}],ee}function rn(Q){for(var ee=new Pe.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),se=0;se<Q.length;se+=1){var ae=Q.get(se),ge=function(Te){for(var Ie=[],Ve=Te.path,Ze=(Ie.push({name:"width",type:"NUMBER",value:Te.advanceWidth}),0),Ye=0,it=0;it<Ve.commands.length;it+=1){var ht,lt,nt,Mt,_t=void 0,Dt=void 0,gt=Ve.commands[it];(gt=gt.type==="Q"?{type:"C",x:gt.x,y:gt.y,x1:1/3*Ze+2/3*gt.x1,y1:1/3*Ye+2/3*gt.y1,x2:1/3*gt.x+2/3*gt.x1,y2:1/3*gt.y+2/3*gt.y1}:gt).type==="M"?(_t=Math.round(gt.x-Ze),Dt=Math.round(gt.y-Ye),Ie.push({name:"dx",type:"NUMBER",value:_t}),Ie.push({name:"dy",type:"NUMBER",value:Dt}),Ie.push({name:"rmoveto",type:"OP",value:21}),Ze=Math.round(gt.x),Ye=Math.round(gt.y)):gt.type==="L"?(_t=Math.round(gt.x-Ze),Dt=Math.round(gt.y-Ye),Ie.push({name:"dx",type:"NUMBER",value:_t}),Ie.push({name:"dy",type:"NUMBER",value:Dt}),Ie.push({name:"rlineto",type:"OP",value:5}),Ze=Math.round(gt.x),Ye=Math.round(gt.y)):gt.type==="C"&&(ht=Math.round(gt.x1-Ze),lt=Math.round(gt.y1-Ye),nt=Math.round(gt.x2-gt.x1),Mt=Math.round(gt.y2-gt.y1),_t=Math.round(gt.x-gt.x2),Dt=Math.round(gt.y-gt.y2),Ie.push({name:"dx1",type:"NUMBER",value:ht}),Ie.push({name:"dy1",type:"NUMBER",value:lt}),Ie.push({name:"dx2",type:"NUMBER",value:nt}),Ie.push({name:"dy2",type:"NUMBER",value:Mt}),Ie.push({name:"dx",type:"NUMBER",value:_t}),Ie.push({name:"dy",type:"NUMBER",value:Dt}),Ie.push({name:"rrcurveto",type:"OP",value:8}),Ze=Math.round(gt.x),Ye=Math.round(gt.y))}return Ie.push({name:"endchar",type:"OP",value:14}),Ie}(ae);ee.charStrings.push({name:ae.name,type:"CHARSTRING",value:ge})}return ee}var Gt={parse:function(Q,ee,se){se.tables.cff={},Ve=Q,ae=ee,(ge={}).formatMajor=ze.getCard8(Ve,ae),ge.formatMinor=ze.getCard8(Ve,ae+1),ge.size=ze.getCard8(Ve,ae+2),ge.offsetSize=ze.getCard8(Ve,ae+3),ge.startOffset=ae,ge.endOffset=ae+4;var Ve=vt(Q,ge.endOffset,ze.bytesToString),ae=vt(Q,Ve.endOffset),ge=vt(Q,ae.endOffset,ze.bytesToString),Ve=vt(Q,ge.endOffset);if(se.gsubrs=Ve.objects,se.gsubrsBias=dt(se.gsubrs),(Ve=Ft(Q,ee,ae.objects,ge.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+Ve.length);if(ae=Ve[0],(se.tables.cff.topDict=ae)._privateDict&&(se.defaultWidthX=ae._privateDict.defaultWidthX,se.nominalWidthX=ae._privateDict.nominalWidthX),ae.ros[0]!==void 0&&ae.ros[1]!==void 0&&(se.isCIDFont=!0),se.isCIDFont){var Ve=ae.fdArray,Te=ae.fdSelect;if(Ve===0||Te===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");Ve=Ft(Q,ee,vt(Q,Ve+=ee).objects,ge.objects),ae._fdArray=Ve,ae._fdSelect=function(lt,nt,Mt,_t){var Dt,gt=[],yt=new ze.Parser(lt,nt);if((lt=yt.parseCard8())===0)for(var Ht=0;Ht<Mt;Ht++){if(_t<=(Dt=yt.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Dt+" (FD count "+_t+")");gt.push(Dt)}else{if(lt!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+lt);var Kt,qt=yt.parseCard16(),Wt=yt.parseCard16();if(Wt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Wt);for(var en=0;en<qt;en++){if(Dt=yt.parseCard8(),Kt=yt.parseCard16(),_t<=Dt)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Dt+" (FD count "+_t+")");if(Mt<Kt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Kt);for(;Wt<Kt;Wt++)gt.push(Dt);Wt=Kt}if(Kt!==Mt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Kt)}return gt}(Q,Te+=ee,se.numGlyphs,Ve.length)}var Te=ee+ae.private[1],Ve=Rt(Q,Te,ae.private[0],ge.objects),Ie=(se.defaultWidthX=Ve.defaultWidthX,se.nominalWidthX=Ve.nominalWidthX,Ve.subrs!==0?(Te=vt(Q,Te+Ve.subrs),se.subrs=Te.objects,se.subrsBias=dt(se.subrs)):(se.subrs=[],se.subrsBias=0),vt(Q,ee+ae.charStrings)),Ve=(se.nGlyphs=Ie.objects.length,function(it,ht,lt,nt){var Mt=new ze.Parser(it,ht),_t=(--lt,[".notdef"]);if((it=Mt.parseCard8())===0)for(var Dt=0;Dt<lt;Dt+=1)gt=Mt.parseSID(),_t.push(Ot(nt,gt));else if(it===1)for(;_t.length<=lt;)for(var gt=Mt.parseSID(),yt=Mt.parseCard8(),Ht=0;Ht<=yt;Ht+=1)_t.push(Ot(nt,gt)),gt+=1;else{if(it!==2)throw new Error("Unknown charset format "+it);for(;_t.length<=lt;){gt=Mt.parseSID(),yt=Mt.parseCard16();for(var Kt=0;Kt<=yt;Kt+=1)_t.push(Ot(nt,gt)),gt+=1}}return _t}(Q,ee+ae.charset,se.nGlyphs,ge.objects));ae.encoding===0?se.cffEncoding=new ut(Me,Ve):ae.encoding===1?se.cffEncoding=new ut(me,Ve):se.cffEncoding=function(it,ht,lt){var nt={},Mt=new ze.Parser(it,ht);if((it=Mt.parseCard8())===0)for(var _t=Mt.parseCard8(),Dt=0;Dt<_t;Dt+=1)nt[yt=Mt.parseCard8()]=Dt;else{if(it!==1)throw new Error("Unknown encoding format "+it);for(var gt=Mt.parseCard8(),yt=1,Ht=0;Ht<gt;Ht+=1)for(var Kt=Mt.parseCard8(),qt=Mt.parseCard8(),Wt=Kt;Wt<=Kt+qt;Wt+=1)nt[Wt]=yt,yt+=1}return new ut(nt,lt)}(Q,ee+ae.encoding,Ve),se.encoding=se.encoding||se.cffEncoding,se.glyphs=new Ke.GlyphSet(se);for(var Ze=0;Ze<se.nGlyphs;Ze+=1){var Ye=Ie.objects[Ze];se.glyphs.push(Ze,Ke.cffGlyphLoader(se,Ze,Bt,Ye))}},make:function(Q,it){for(var se,ae=new Pe.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),ge=1/it.unitsPerEm,ge={version:it.version,fullName:it.fullName,familyName:it.familyName,weight:it.weightName,fontBBox:it.fontBBox||[0,0,0,0],fontMatrix:[ge,0,0,ge,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},Te=[],Ie=1;Ie<Q.length;Ie+=1)se=Q.get(Ie),Te.push(se.name);var Ve,Ze,Ye=[],it=(ae.header=new Pe.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),ae.nameIndex=function(lt){var nt=new Pe.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);nt.names=[];for(var Mt=0;Mt<lt.length;Mt+=1)nt.names.push({name:"name_"+Mt,type:"NAME",value:lt[Mt]});return nt}([it.postScriptName]),Zt(ge,Ye)),ht=(ae.topDictIndex=Yt(it),ae.globalSubrIndex=new Pe.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),ae.charsets=function(lt,nt){for(var Mt=new Pe.Record("Charsets",[{name:"format",type:"Card8",value:0}]),_t=0;_t<lt.length;_t+=1){var Dt=Ut(lt[_t],nt);Mt.fields.push({name:"glyph_"+_t,type:"SID",value:Dt})}return Mt}(Te,Ye),ae.charStringsIndex=rn(Q),ae.privateDict=(ht={},Ve=Ye,(Ze=new Pe.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Xt(Pt,ht,Ve),Ze),ae.stringIndex=function(lt){var nt=new Pe.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);nt.strings=[];for(var Mt=0;Mt<lt.length;Mt+=1)nt.strings.push({name:"string_"+Mt,type:"STRING",value:lt[Mt]});return nt}(Ye),ae.header.sizeOf()+ae.nameIndex.sizeOf()+ae.topDictIndex.sizeOf()+ae.stringIndex.sizeOf()+ae.globalSubrIndex.sizeOf());return ge.charset=ht,ge.encoding=0,ge.charStrings=ge.charset+ae.charsets.sizeOf(),ge.private[1]=ge.charStrings+ae.charStringsIndex.sizeOf(),it=Zt(ge,Ye),ae.topDictIndex=Yt(it),ae}},sn={parse:function(ae,ee){var se={},ae=new ze.Parser(ae,ee);return se.version=ae.parseVersion(),se.fontRevision=Math.round(1e3*ae.parseFixed())/1e3,se.checkSumAdjustment=ae.parseULong(),se.magicNumber=ae.parseULong(),W.argument(se.magicNumber===1594834165,"Font header has wrong magic number."),se.flags=ae.parseUShort(),se.unitsPerEm=ae.parseUShort(),se.created=ae.parseLongDateTime(),se.modified=ae.parseLongDateTime(),se.xMin=ae.parseShort(),se.yMin=ae.parseShort(),se.xMax=ae.parseShort(),se.yMax=ae.parseShort(),se.macStyle=ae.parseUShort(),se.lowestRecPPEM=ae.parseUShort(),se.fontDirectionHint=ae.parseShort(),se.indexToLocFormat=ae.parseShort(),se.glyphDataFormat=ae.parseShort(),se},make:function(Q){var ee=Math.round(new Date().getTime()/1e3)+2082844800,se=ee;return Q.createdTimestamp&&(se=Q.createdTimestamp+2082844800),new Pe.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:se},{name:"modified",type:"LONGDATETIME",value:ee},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],Q)}},Je={parse:function(ae,ee){var se={},ae=new ze.Parser(ae,ee);return se.version=ae.parseVersion(),se.ascender=ae.parseShort(),se.descender=ae.parseShort(),se.lineGap=ae.parseShort(),se.advanceWidthMax=ae.parseUShort(),se.minLeftSideBearing=ae.parseShort(),se.minRightSideBearing=ae.parseShort(),se.xMaxExtent=ae.parseShort(),se.caretSlopeRise=ae.parseShort(),se.caretSlopeRun=ae.parseShort(),se.caretOffset=ae.parseShort(),ae.relativeOffset+=8,se.metricDataFormat=ae.parseShort(),se.numberOfHMetrics=ae.parseUShort(),se},make:function(Q){return new Pe.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],Q)}},Ct={parse:function(Q,ee,se,ae,ge){for(var Te,Ie,Ve=new ze.Parser(Q,ee),Ze=0;Ze<ae;Ze+=1){Ze<se&&(Te=Ve.parseUShort(),Ie=Ve.parseShort());var Ye=ge.get(Ze);Ye.advanceWidth=Te,Ye.leftSideBearing=Ie}},make:function(Q){for(var ee=new Pe.Table("hmtx",[]),se=0;se<Q.length;se+=1){var ge=Q.get(se),ae=ge.advanceWidth||0,ge=ge.leftSideBearing||0;ee.fields.push({name:"advanceWidth_"+se,type:"USHORT",value:ae}),ee.fields.push({name:"leftSideBearing_"+se,type:"SHORT",value:ge})}return ee}},_e={make:function(Q){for(var ee=new Pe.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:Q.length}]),se="",ae=12+4*Q.length,ge=0;ge<Q.length;++ge){var Te=se.indexOf(Q[ge]);Te<0&&(Te=se.length,se+=Q[ge]),ee.fields.push({name:"offset "+ge,type:"USHORT",value:ae+Te}),ee.fields.push({name:"length "+ge,type:"USHORT",value:Q[ge].length})}return ee.fields.push({name:"stringPool",type:"CHARARRAY",value:se}),ee},parse:function(Q,ee){for(var se=new ze.Parser(Q,ee),ae=se.parseULong(),ge=(W.argument(ae===1,"Unsupported ltag table version."),se.skip("uLong",1),se.parseULong()),Te=[],Ie=0;Ie<ge;Ie++){for(var Ve="",Ze=ee+se.parseUShort(),Ye=se.parseUShort(),it=Ze;it<Ze+Ye;++it)Ve+=String.fromCharCode(Q.getInt8(it));Te.push(Ve)}return Te}},je={parse:function(ae,ee){var se={},ae=new ze.Parser(ae,ee);return se.version=ae.parseVersion(),se.numGlyphs=ae.parseUShort(),se.version===1&&(se.maxPoints=ae.parseUShort(),se.maxContours=ae.parseUShort(),se.maxCompositePoints=ae.parseUShort(),se.maxCompositeContours=ae.parseUShort(),se.maxZones=ae.parseUShort(),se.maxTwilightPoints=ae.parseUShort(),se.maxStorage=ae.parseUShort(),se.maxFunctionDefs=ae.parseUShort(),se.maxInstructionDefs=ae.parseUShort(),se.maxStackElements=ae.parseUShort(),se.maxSizeOfInstructions=ae.parseUShort(),se.maxComponentElements=ae.parseUShort(),se.maxComponentDepth=ae.parseUShort()),se},make:function(Q){return new Pe.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:Q}])}},Ue=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Be={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},He={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},ke={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Qe="utf-16",et={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},ct={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function st(Q,ee,se){switch(Q){case 0:return Qe;case 1:return ct[se]||et[ee];case 3:if(ee===1||ee===10)return Qe}}function at(Q){var ee,se={};for(ee in Q)se[Q[ee]]=parseInt(ee);return se}function St(Q,ee,se,ae,ge,Te){return new Pe.Record("NameRecord",[{name:"platformID",type:"USHORT",value:Q},{name:"encodingID",type:"USHORT",value:ee},{name:"languageID",type:"USHORT",value:se},{name:"nameID",type:"USHORT",value:ae},{name:"length",type:"USHORT",value:ge},{name:"offset",type:"USHORT",value:Te}])}function jt(Q,ee){if((se=function(Te,Ie){var Ve=Te.length,Ze=Ie.length-Ve+1;e:for(var Ye=0;Ye<Ze;Ye++)for(;Ye<Ze;Ye++){for(var it=0;it<Ve;it++)if(Ie[Ye+it]!==Te[it])continue e;return Ye}return-1}(Q,ee))<0)for(var se=ee.length,ae=0,ge=Q.length;ae<ge;++ae)ee.push(Q[ae]);return se}var zt={parse:function(Q,ee,se){for(var ae={},ge=new ze.Parser(Q,ee),ee=ge.parseUShort(),Te=ge.parseUShort(),Ie=ge.offset+ge.parseUShort(),Ve=0;Ve<Te;Ve++){var Mt=ge.parseUShort(),Ze=ge.parseUShort(),Ye=ge.parseUShort(),it=ge.parseUShort(),it=Ue[it]||it,ht=ge.parseUShort(),lt=ge.parseUShort(),nt=function(Dt,gt,yt){switch(Dt){case 0:if(gt===65535)return"und";if(yt)return yt[gt];break;case 1:return Be[gt];case 3:return ke[gt]}}(Mt,Ye,se),Mt=st(Mt,Ze,Ye);Mt!==void 0&&nt!==void 0&&(Ze=void 0,(Ze=Mt===Qe?Y.UTF16(Q,Ie+lt,ht):Y.MACSTRING(Q,Ie+lt,ht,Mt))&&((Ye=(Ye=ae[it])===void 0?ae[it]={}:Ye)[nt]=Ze))}return ee===1&&ge.parseUShort(),ae},make:function(Q,ee){var se,ae=[],ge={},Te=at(Ue);for(se in Q){var Ie=Te[se];if(Ie===void 0&&(Ie=se),lt=parseInt(Ie),isNaN(lt))throw new Error('Name table entry "'+se+'" does not exist, see nameTableNames for complete list.');ge[lt]=Q[se],ae.push(lt)}for(var Ve=at(Be),Ze=at(ke),Ye=[],it=[],ht=0;ht<ae.length;ht++){var lt,nt,Mt=ge[lt=ae[ht]];for(nt in Mt){var _t=Mt[nt],Kt=1,Dt=Ve[nt],gt=He[Dt],yt=st(Kt,gt,Dt),yt=te.MACSTRING(_t,yt),Ht=(yt===void 0&&(Kt=0,(Dt=ee.indexOf(nt))<0&&(Dt=ee.length,ee.push(nt)),gt=4,yt=te.UTF16(_t)),jt(yt,it)),Kt=(Ye.push(St(Kt,gt,Dt,lt,yt.length,Ht)),Ze[nt]);Kt!==void 0&&(Dt=jt(gt=te.UTF16(_t),it),Ye.push(St(3,1,Kt,lt,gt.length,Dt)))}}Ye.sort(function(en,gn){return en.platformID-gn.platformID||en.encodingID-gn.encodingID||en.languageID-gn.languageID||en.nameID-gn.nameID});for(var qt=new Pe.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:Ye.length},{name:"stringOffset",type:"USHORT",value:6+12*Ye.length}]),Wt=0;Wt<Ye.length;Wt++)qt.fields.push({name:"record_"+Wt,type:"RECORD",value:Ye[Wt]});return qt.fields.push({name:"strings",type:"LITERAL",value:it}),qt}},$t=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Qt={parse:function(Q,ee){var se={},ae=new ze.Parser(Q,ee);se.version=ae.parseUShort(),se.xAvgCharWidth=ae.parseShort(),se.usWeightClass=ae.parseUShort(),se.usWidthClass=ae.parseUShort(),se.fsType=ae.parseUShort(),se.ySubscriptXSize=ae.parseShort(),se.ySubscriptYSize=ae.parseShort(),se.ySubscriptXOffset=ae.parseShort(),se.ySubscriptYOffset=ae.parseShort(),se.ySuperscriptXSize=ae.parseShort(),se.ySuperscriptYSize=ae.parseShort(),se.ySuperscriptXOffset=ae.parseShort(),se.ySuperscriptYOffset=ae.parseShort(),se.yStrikeoutSize=ae.parseShort(),se.yStrikeoutPosition=ae.parseShort(),se.sFamilyClass=ae.parseShort(),se.panose=[];for(var ge=0;ge<10;ge++)se.panose[ge]=ae.parseByte();return se.ulUnicodeRange1=ae.parseULong(),se.ulUnicodeRange2=ae.parseULong(),se.ulUnicodeRange3=ae.parseULong(),se.ulUnicodeRange4=ae.parseULong(),se.achVendID=String.fromCharCode(ae.parseByte(),ae.parseByte(),ae.parseByte(),ae.parseByte()),se.fsSelection=ae.parseUShort(),se.usFirstCharIndex=ae.parseUShort(),se.usLastCharIndex=ae.parseUShort(),se.sTypoAscender=ae.parseShort(),se.sTypoDescender=ae.parseShort(),se.sTypoLineGap=ae.parseShort(),se.usWinAscent=ae.parseUShort(),se.usWinDescent=ae.parseUShort(),1<=se.version&&(se.ulCodePageRange1=ae.parseULong(),se.ulCodePageRange2=ae.parseULong()),2<=se.version&&(se.sxHeight=ae.parseShort(),se.sCapHeight=ae.parseShort(),se.usDefaultChar=ae.parseUShort(),se.usBreakChar=ae.parseUShort(),se.usMaxContent=ae.parseUShort()),se},make:function(Q){return new Pe.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],Q)},unicodeRanges:$t,getUnicodeRange:function(Q){for(var ee=0;ee<$t.length;ee+=1){var se=$t[ee];if(Q>=se.begin&&Q<se.end)return ee}return-1}},tn={parse:function(Q,ee){var se={},ae=new ze.Parser(Q,ee);switch(se.version=ae.parseVersion(),se.italicAngle=ae.parseFixed(),se.underlinePosition=ae.parseShort(),se.underlineThickness=ae.parseShort(),se.isFixedPitch=ae.parseULong(),se.minMemType42=ae.parseULong(),se.maxMemType42=ae.parseULong(),se.minMemType1=ae.parseULong(),se.maxMemType1=ae.parseULong(),se.version){case 1:se.names=Ge.slice();break;case 2:se.numberOfGlyphs=ae.parseUShort(),se.glyphNameIndex=new Array(se.numberOfGlyphs);for(var ge=0;ge<se.numberOfGlyphs;ge++)se.glyphNameIndex[ge]=ae.parseUShort();se.names=[];for(var Te,Ie=0;Ie<se.numberOfGlyphs;Ie++)se.glyphNameIndex[Ie]>=Ge.length&&(Te=ae.parseChar(),se.names.push(ae.parseString(Te)));break;case 2.5:se.numberOfGlyphs=ae.parseUShort(),se.offset=new Array(se.numberOfGlyphs);for(var Ve=0;Ve<se.numberOfGlyphs;Ve++)se.offset[Ve]=ae.parseChar()}return se},make:function(){return new Pe.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},an=new Array(9),un=(an[1]=function(){var Q=this.offset+this.relativeOffset,ee=this.parseUShort();return ee===1?{substFormat:1,coverage:this.parsePointer(Re.coverage),deltaGlyphId:this.parseUShort()}:ee===2?{substFormat:2,coverage:this.parsePointer(Re.coverage),substitute:this.parseOffset16List()}:void W.assert(!1,"0x"+Q.toString(16)+": lookup type 1 format must be 1 or 2.")},an[2]=function(){var Q=this.parseUShort();return W.argument(Q===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:Q,coverage:this.parsePointer(Re.coverage),sequences:this.parseListOfLists()}},an[3]=function(){var Q=this.parseUShort();return W.argument(Q===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:Q,coverage:this.parsePointer(Re.coverage),alternateSets:this.parseListOfLists()}},an[4]=function(){var Q=this.parseUShort();return W.argument(Q===1,"GSUB ligature table identifier-format must be 1"),{substFormat:Q,coverage:this.parsePointer(Re.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Re.uShort,lookupListIndex:Re.uShort});an[5]=function(){var Q,ee,se=this.offset+this.relativeOffset,ae=this.parseUShort();return ae===1?{substFormat:ae,coverage:this.parsePointer(Re.coverage),ruleSets:this.parseListOfLists(function(){var ge=this.parseUShort(),Te=this.parseUShort();return{input:this.parseUShortList(ge-1),lookupRecords:this.parseRecordList(Te,un)}})}:ae===2?{substFormat:ae,coverage:this.parsePointer(Re.coverage),classDef:this.parsePointer(Re.classDef),classSets:this.parseListOfLists(function(){var ge=this.parseUShort(),Te=this.parseUShort();return{classes:this.parseUShortList(ge-1),lookupRecords:this.parseRecordList(Te,un)}})}:ae===3?(Q=this.parseUShort(),ee=this.parseUShort(),{substFormat:ae,coverages:this.parseList(Q,Re.pointer(Re.coverage)),lookupRecords:this.parseRecordList(ee,un)}):void W.assert(!1,"0x"+se.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},an[6]=function(){var Q=this.offset+this.relativeOffset,ee=this.parseUShort();return ee===1?{substFormat:1,coverage:this.parsePointer(Re.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(un)}})}:ee===2?{substFormat:2,coverage:this.parsePointer(Re.coverage),backtrackClassDef:this.parsePointer(Re.classDef),inputClassDef:this.parsePointer(Re.classDef),lookaheadClassDef:this.parsePointer(Re.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(un)}})}:ee===3?{substFormat:3,backtrackCoverage:this.parseList(Re.pointer(Re.coverage)),inputCoverage:this.parseList(Re.pointer(Re.coverage)),lookaheadCoverage:this.parseList(Re.pointer(Re.coverage)),lookupRecords:this.parseRecordList(un)}:void W.assert(!1,"0x"+Q.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},an[7]=function(){var Q=this.parseUShort(),Q=(W.argument(Q===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),ee=new Re(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:Q,extension:an[Q].call(ee)}},an[8]=function(){var Q=this.parseUShort();return W.argument(Q===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:Q,coverage:this.parsePointer(Re.coverage),backtrackCoverage:this.parseList(Re.pointer(Re.coverage)),lookaheadCoverage:this.parseList(Re.pointer(Re.coverage)),substitutes:this.parseUShortList()}};var bn=new Array(9);bn[1]=function(Q){return Q.substFormat===1?new Pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pe.Coverage(Q.coverage)},{name:"deltaGlyphID",type:"USHORT",value:Q.deltaGlyphId}]):new Pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Pe.Coverage(Q.coverage)}].concat(Pe.ushortList("substitute",Q.substitute)))},bn[3]=function(Q){return W.assert(Q.substFormat===1,"Lookup type 3 substFormat must be 1."),new Pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pe.Coverage(Q.coverage)}].concat(Pe.tableList("altSet",Q.alternateSets,function(ee){return new Pe.Table("alternateSetTable",Pe.ushortList("alternate",ee))})))},bn[4]=function(Q){return W.assert(Q.substFormat===1,"Lookup type 4 substFormat must be 1."),new Pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pe.Coverage(Q.coverage)}].concat(Pe.tableList("ligSet",Q.ligatureSets,function(ee){return new Pe.Table("ligatureSetTable",Pe.tableList("ligature",ee,function(se){return new Pe.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:se.ligGlyph}].concat(Pe.ushortList("component",se.components,se.components.length+1)))}))})))};var Un={parse:function(Q,ee){return ee=(Q=new Re(Q,ee=ee||0)).parseVersion(1),W.argument(ee===1||ee===1.1,"Unsupported GSUB table version."),ee===1?{version:ee,scripts:Q.parseScriptList(),features:Q.parseFeatureList(),lookups:Q.parseLookupList(an)}:{version:ee,scripts:Q.parseScriptList(),features:Q.parseFeatureList(),lookups:Q.parseLookupList(an),variations:Q.parseFeatureVariationsList()}},make:function(Q){return new Pe.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Pe.ScriptList(Q.scripts)},{name:"features",type:"TABLE",value:new Pe.FeatureList(Q.features)},{name:"lookups",type:"TABLE",value:new Pe.LookupList(Q.lookups,bn)}])}},tr={parse:function(Q,ee){for(var se=new ze.Parser(Q,ee),ae=se.parseULong(),ge=(W.argument(ae===1,"Unsupported META table version."),se.parseULong(),se.parseULong(),se.parseULong()),Te={},Ie=0;Ie<ge;Ie++){var Ve=se.parseTag(),Ye=se.parseULong(),Ze=se.parseULong(),Ye=Y.UTF8(Q,ee+Ye,Ze);Te[Ve]=Ye}return Te},make:function(Q){var ee,se=Object.keys(Q).length,ae="",ge=16+12*se,Te=new Pe.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:ge},{name:"numTags",type:"ULONG",value:se}]);for(ee in Q){var Ie=ae.length;ae+=Q[ee],Te.fields.push({name:"tag "+ee,type:"TAG",value:ee}),Te.fields.push({name:"offset "+ee,type:"ULONG",value:ge+Ie}),Te.fields.push({name:"length "+ee,type:"ULONG",value:Q[ee].length})}return Te.fields.push({name:"stringPool",type:"CHARARRAY",value:ae}),Te}};function Gn(Q){return Math.log(Q)/Math.log(2)|0}function nr(Q){for(;Q.length%4!=0;)Q.push(0);for(var ee=0,se=0;se<Q.length;se+=4)ee+=(Q[se]<<24)+(Q[se+1]<<16)+(Q[se+2]<<8)+Q[se+3];return ee%=Math.pow(2,32)}function Bn(Q,ee,se,ae){return new Pe.Record("Table Record",[{name:"tag",type:"TAG",value:Q!==void 0?Q:""},{name:"checkSum",type:"ULONG",value:ee!==void 0?ee:0},{name:"offset",type:"ULONG",value:se!==void 0?se:0},{name:"length",type:"ULONG",value:ae!==void 0?ae:0}])}function Vn(Q){for(var ee=new Pe.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),se=(ee.tables=Q,ee.numTables=Q.length,Math.pow(2,Gn(ee.numTables))),ae=(ee.searchRange=16*se,ee.entrySelector=Gn(se),ee.rangeShift=16*ee.numTables-ee.searchRange,[]),ge=[],Te=ee.sizeOf()+Bn().sizeOf()*ee.numTables;Te%4!=0;)Te+=1,ge.push({name:"padding",type:"BYTE",value:0});for(var Ie=0;Ie<Q.length;Ie+=1){var Ve=Q[Ie],Ze=(W.argument(Ve.tableName.length===4,"Table name"+Ve.tableName+" is invalid."),Ve.sizeOf()),Ye=Bn(Ve.tableName,nr(Ve.encode()),Te,Ze);for(ae.push({name:Ye.tag+" Table Record",type:"RECORD",value:Ye}),ge.push({name:Ve.tableName+" table",type:"RECORD",value:Ve}),Te+=Ze,W.argument(!isNaN(Te),"Something went wrong calculating the offset.");Te%4!=0;)Te+=1,ge.push({name:"padding",type:"BYTE",value:0})}return ae.sort(function(it,ht){return it.value.tag>ht.value.tag?1:-1}),ee.fields=ee.fields.concat(ae),ee.fields=ee.fields.concat(ge),ee}function Jn(Q,ee,se){for(var ae=0;ae<ee.length;ae+=1){var ge=Q.charToGlyphIndex(ee[ae]);if(0<ge)return Q.glyphs.get(ge).getMetrics()}return se}var zn={make:Vn,fontToTable:function(Q){for(var ee,se=[],ae=[],ge=[],Te=[],Ie=[],Ve=[],Ze=[],Ye=0,it=0,ht=0,lt=0,nt=0,Mt=0;Mt<Q.glyphs.length;Mt+=1){var _t=Q.glyphs.get(Mt),Dt=0|_t.unicode;if(isNaN(_t.advanceWidth))throw new Error("Glyph "+_t.name+" ("+Mt+"): advanceWidth is not a number.");(Dt<ee||ee===void 0)&&0<Dt&&(ee=Dt),Ye<Dt&&(Ye=Dt);var Dt=Qt.getUnicodeRange(Dt);if(Dt<32)it|=1<<Dt;else if(Dt<64)ht|=1<<Dt-32;else if(Dt<96)lt|=1<<Dt-64;else{if(!(Dt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");nt|=1<<Dt-96}_t.name!==".notdef"&&(Dt=_t.getMetrics(),se.push(Dt.xMin),ae.push(Dt.yMin),ge.push(Dt.xMax),Te.push(Dt.yMax),Ve.push(Dt.leftSideBearing),Ze.push(Dt.rightSideBearing),Ie.push(_t.advanceWidth))}var gt,yt={xMin:Math.min.apply(null,se),yMin:Math.min.apply(null,ae),xMax:Math.max.apply(null,ge),yMax:Math.max.apply(null,Te),advanceWidthMax:Math.max.apply(null,Ie),advanceWidthAvg:function(Nn){for(var Ur=0,br=0;br<Nn.length;br+=1)Ur+=Nn[br];return Ur/Nn.length}(Ie),minLeftSideBearing:Math.min.apply(null,Ve),maxLeftSideBearing:Math.max.apply(null,Ve),minRightSideBearing:Math.min.apply(null,Ze)},Ht=(yt.ascender=Q.ascender,yt.descender=Q.descender,sn.make({flags:3,unitsPerEm:Q.unitsPerEm,xMin:yt.xMin,yMin:yt.yMin,xMax:yt.xMax,yMax:yt.yMax,lowestRecPPEM:3,createdTimestamp:Q.createdTimestamp})),Kt=Je.make({ascender:yt.ascender,descender:yt.descender,advanceWidthMax:yt.advanceWidthMax,minLeftSideBearing:yt.minLeftSideBearing,minRightSideBearing:yt.minRightSideBearing,xMaxExtent:yt.maxLeftSideBearing+(yt.xMax-yt.xMin),numberOfHMetrics:Q.glyphs.length}),qt=je.make(Q.glyphs.length),Wt=Qt.make({xAvgCharWidth:Math.round(yt.advanceWidthAvg),usWeightClass:Q.tables.os2.usWeightClass,usWidthClass:Q.tables.os2.usWidthClass,usFirstCharIndex:ee,usLastCharIndex:Ye,ulUnicodeRange1:it,ulUnicodeRange2:ht,ulUnicodeRange3:lt,ulUnicodeRange4:nt,fsSelection:Q.tables.os2.fsSelection,sTypoAscender:yt.ascender,sTypoDescender:yt.descender,sTypoLineGap:0,usWinAscent:yt.yMax,usWinDescent:Math.abs(yt.yMin),ulCodePageRange1:1,sxHeight:Jn(Q,"xyvw",{yMax:Math.round(yt.ascender/2)}).yMax,sCapHeight:Jn(Q,"HIKLEFJMNTZBDPRAGOQSUVWXY",yt).yMax,usDefaultChar:Q.hasChar(" ")?32:0,usBreakChar:Q.hasChar(" ")?32:0}),en=Ct.make(Q.glyphs),gn=we.make(Q.glyphs),yn=Q.getEnglishName("fontFamily"),fn=Q.getEnglishName("fontSubfamily"),hn=yn+" "+fn,An=(An=Q.getEnglishName("postScriptName"))||yn.replace(/\s/g,"")+"-"+fn,En={};for(gt in Q.names)En[gt]=Q.names[gt];En.uniqueID||(En.uniqueID={en:Q.getEnglishName("manufacturer")+":"+hn}),En.postScriptName||(En.postScriptName={en:An}),En.preferredFamily||(En.preferredFamily=Q.names.fontFamily),En.preferredSubfamily||(En.preferredSubfamily=Q.names.fontSubfamily);var kn=[],jn=zt.make(En,kn),kn=0<kn.length?_e.make(kn):void 0,Qn=tn.make(),hn=Gt.make(Q.glyphs,{version:Q.getEnglishName("version"),fullName:hn,familyName:yn,weightName:fn,postScriptName:An,unitsPerEm:Q.unitsPerEm,fontBBox:[0,yt.yMin,yt.ascender,yt.advanceWidthMax]}),yn=Q.metas&&0<Object.keys(Q.metas).length?tr.make(Q.metas):void 0,fn=[Ht,Kt,qt,Wt,jn,gn,Qn,hn,en];kn&&fn.push(kn),Q.tables.gsub&&fn.push(Un.make(Q.tables.gsub)),yn&&fn.push(yn);for(var In=nr((An=Vn(fn)).encode()),wn=An.fields,On=!1,vn=0;vn<wn.length;vn+=1)if(wn[vn].name==="head table"){wn[vn].value.checkSumAdjustment=2981146554-In,On=!0;break}if(On)return An;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:nr};function dn(Q,ee){for(var se=0,ae=Q.length-1;se<=ae;){var ge=se+ae>>>1,Te=Q[ge].tag;if(Te===ee)return ge;Te<ee?se=1+ge:ae=ge-1}return-se-1}function on(Q,ee){for(var se=0,ae=Q.length-1;se<=ae;){var ge=se+ae>>>1,Te=Q[ge];if(Te===ee)return ge;Te<ee?se=1+ge:ae=ge-1}return-se-1}function _r(Q,ee){for(var se=0,ae=Q.length-1;se<=ae;){var ge,Te=se+ae>>>1,Ie=(ge=Q[Te]).start;if(Ie===ee)return ge;Ie<ee?se=1+Te:ae=Te-1}if(0<se)return ee>(ge=Q[se-1]).end?0:ge}function cr(Q,ee){this.font=Q,this.tableName=ee}function ur(Q){cr.call(this,Q,"gpos")}function Wn(Q){cr.call(this,Q,"gsub")}function zr(Q,ee,se){for(var ae=Q.subtables,ge=0;ge<ae.length;ge++){var Te=ae[ge];if(Te.substFormat===ee)return Te}if(se)return ae.push(se),se}function Gr(Q){for(var ee=new ArrayBuffer(Q.length),se=new Uint8Array(ee),ae=0;ae<Q.length;++ae)se[ae]=Q[ae];return ee}function lr(Q,ee){if(!Q)throw ee}function Tn(Q,ee,se,ae,ge){var Te=0<(ee&ae)?(Te=Q.parseByte(),se+(Te=ee&ge?Te:-Te)):0<(ee&ge)?se:se+Q.parseShort();return Te}function ti(Q,ee,se){var ae,ge=new ze.Parser(ee,se);if(Q.numberOfContours=ge.parseShort(),Q._xMin=ge.parseShort(),Q._yMin=ge.parseShort(),Q._xMax=ge.parseShort(),Q._yMax=ge.parseShort(),0<Q.numberOfContours){for(var Te=Q.endPointIndices=[],Ie=0;Ie<Q.numberOfContours;Ie+=1)Te.push(ge.parseUShort());Q.instructionLength=ge.parseUShort(),Q.instructions=[];for(var Ve=0;Ve<Q.instructionLength;Ve+=1)Q.instructions.push(ge.parseByte());for(var Ze=Te[Te.length-1]+1,Ye=[],it=0;it<Ze;it+=1)if(ae=ge.parseByte(),Ye.push(ae),0<(8&ae))for(var ht=ge.parseByte(),lt=0;lt<ht;lt+=1)Ye.push(ae),it+=1;if(W.argument(Ye.length===Ze,"Bad flags."),0<Te.length){var nt,Mt=[];if(0<Ze){for(var _t=0;_t<Ze;_t+=1)ae=Ye[_t],(nt={}).onCurve=!!(1&ae),nt.lastPointOfContour=0<=Te.indexOf(_t),Mt.push(nt);for(var Dt=0,gt=0;gt<Ze;gt+=1)ae=Ye[gt],(nt=Mt[gt]).x=Tn(ge,ae,Dt,2,16),Dt=nt.x;for(var yt=0,Ht=0;Ht<Ze;Ht+=1)ae=Ye[Ht],(nt=Mt[Ht]).y=Tn(ge,ae,yt,4,32),yt=nt.y}Q.points=Mt}else Q.points=[]}else if(Q.numberOfContours===0)Q.points=[];else{Q.isComposite=!0,Q.points=[],Q.components=[];for(var Kt=!0;Kt;){Ye=ge.parseUShort();var qt={glyphIndex:ge.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&Ye)?0<(2&Ye)?(qt.dx=ge.parseShort(),qt.dy=ge.parseShort()):qt.matchedPoints=[ge.parseUShort(),ge.parseUShort()]:0<(2&Ye)?(qt.dx=ge.parseChar(),qt.dy=ge.parseChar()):qt.matchedPoints=[ge.parseByte(),ge.parseByte()],0<(8&Ye)?qt.xScale=qt.yScale=ge.parseF2Dot14():0<(64&Ye)?(qt.xScale=ge.parseF2Dot14(),qt.yScale=ge.parseF2Dot14()):0<(128&Ye)&&(qt.xScale=ge.parseF2Dot14(),qt.scale01=ge.parseF2Dot14(),qt.scale10=ge.parseF2Dot14(),qt.yScale=ge.parseF2Dot14()),Q.components.push(qt),Kt=!!(32&Ye)}if(256&Ye){Q.instructionLength=ge.parseUShort(),Q.instructions=[];for(var Wt=0;Wt<Q.instructionLength;Wt+=1)Q.instructions.push(ge.parseByte())}}}function Or(Q,ee){for(var se=[],ae=0;ae<Q.length;ae+=1){var ge=Q[ae],ge={x:ee.xScale*ge.x+ee.scale01*ge.y+ee.dx,y:ee.scale10*ge.x+ee.yScale*ge.y+ee.dy,onCurve:ge.onCurve,lastPointOfContour:ge.lastPointOfContour};se.push(ge)}return se}function xr(Q){var ee=new J;if(Q)for(var se=function(ht){for(var lt=[],nt=[],Mt=0;Mt<ht.length;Mt+=1){var _t=ht[Mt];nt.push(_t),_t.lastPointOfContour&&(lt.push(nt),nt=[])}return W.argument(nt.length===0,"There are still points left in the current contour."),lt}(Q),ae=0;ae<se.length;++ae){var ge,Te=se[ae],Ie=Te[Te.length-1],Ve=Te[0];Ie.onCurve?ee.moveTo(Ie.x,Ie.y):Ve.onCurve?ee.moveTo(Ve.x,Ve.y):(ge={x:.5*(Ie.x+Ve.x),y:.5*(Ie.y+Ve.y)},ee.moveTo(ge.x,ge.y));for(var Ze=0;Ze<Te.length;++Ze){var Ye,it=Ie,Ie=Ve,Ve=Te[(Ze+1)%Te.length];Ie.onCurve?ee.lineTo(Ie.x,Ie.y):(Ye=Ve,it.onCurve||(Ie.x,it.x,Ie.y,it.y),Ve.onCurve||(Ye={x:.5*(Ie.x+Ve.x),y:.5*(Ie.y+Ve.y)}),ee.quadraticCurveTo(Ie.x,Ie.y,Ye.x,Ye.y))}ee.closePath()}return ee}function Pn(Q,ee){if(ee.isComposite)for(var se=0;se<ee.components.length;se+=1){var ae=ee.components[se],ge=Q.get(ae.glyphIndex);if(ge.getPath(),ge.points){var Te=void 0;if(ae.matchedPoints===void 0)Te=Or(ge.points,ae);else{if(ae.matchedPoints[0]>ee.points.length-1||ae.matchedPoints[1]>ge.points.length-1)throw Error("Matched points out of range in "+ee.name);var Ie=ee.points[ae.matchedPoints[0]],Ve=ge.points[ae.matchedPoints[1]],ae={xScale:ae.xScale,scale01:ae.scale01,scale10:ae.scale10,yScale:ae.yScale,dx:0,dy:0},Ve=Or([Ve],ae)[0];ae.dx=Ie.x-Ve.x,ae.dy=Ie.y-Ve.y,Te=Or(ge.points,ae)}ee.points=ee.points.concat(Te)}}return xr(ee.points)}(ur.prototype=cr.prototype={searchTag:dn,binSearch:on,getTable:function(Q){var ee=this.font.tables[this.tableName];return ee=!ee&&Q?this.font.tables[this.tableName]=this.createDefaultTable():ee},getScriptNames:function(){var Q=this.getTable();return Q?Q.scripts.map(function(ee){return ee.tag}):[]},getDefaultScriptName:function(){var Q=this.getTable();if(Q){for(var ee=!1,se=0;se<Q.scripts.length;se++){var ae=Q.scripts[se].tag;if(ae==="DFLT")return ae;ae==="latn"&&(ee=!0)}return ee?"latn":void 0}},getScriptTable:function(Q,ee){var se,ae=this.getTable(ee);if(ae)return se=ae.scripts,0<=(ae=dn(ae.scripts,Q=Q||"DFLT"))?se[ae].script:ee?(se.splice(-1-ae,0,ee={tag:Q,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),ee.script):void 0},getLangSysTable:function(ge,ee,se){var ae,ge=this.getScriptTable(ge,se);if(ge)return ee&&ee!=="dflt"&&ee!=="DFLT"?0<=(ae=dn(ge.langSysRecords,ee))?ge.langSysRecords[ae].langSys:se?(ge.langSysRecords.splice(-1-ae,0,se={tag:ee,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),se.langSys):void 0:ge.defaultLangSys},getFeatureTable:function(Q,ee,se,ae){if(Q=this.getLangSysTable(Q,ee,ae),Q){for(var ge,Te=Q.featureIndexes,Ie=this.font.tables[this.tableName].features,Ve=0;Ve<Te.length;Ve++)if((ge=Ie[Te[Ve]]).tag===se)return ge.feature;if(ae)return ee=Ie.length,W.assert(ee===0||se>=Ie[ee-1].tag,"Features must be added in alphabetical order."),Ie.push(ge={tag:se,feature:{params:0,lookupListIndexes:[]}}),Te.push(ee),ge.feature}},getLookupTables:function(Te,ee,se,ae,ge){var Te=this.getFeatureTable(Te,ee,se,ge),Ie=[];if(Te){for(var Ve,Ze=Te.lookupListIndexes,Ye=this.font.tables[this.tableName].lookups,it=0;it<Ze.length;it++)(Ve=Ye[Ze[it]]).lookupType===ae&&Ie.push(Ve);if(Ie.length===0&&ge)return ee=Ye.length,Ye.push(Ve={lookupType:ae,lookupFlag:0,subtables:[],markFilteringSet:void 0}),Ze.push(ee),[Ve]}return Ie},getGlyphClass:function(Q,ee){switch(Q.format){case 1:return Q.startGlyph<=ee&&ee<Q.startGlyph+Q.classes.length?Q.classes[ee-Q.startGlyph]:0;case 2:var se=_r(Q.ranges,ee);return se?se.classId:0}},getCoverageIndex:function(Q,ee){switch(Q.format){case 1:var se=on(Q.glyphs,ee);return 0<=se?se:-1;case 2:return se=_r(Q.ranges,ee),se?se.index+ee-se.start:-1}},expandCoverage:function(Q){if(Q.format===1)return Q.glyphs;for(var ee=[],se=Q.ranges,ae=0;ae<se.length;ae++)for(var ge=se[ae],Te=ge.start,Ie=ge.end,Ve=Te;Ve<=Ie;Ve++)ee.push(Ve);return ee}}).init=function(){var Q=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(Q)},ur.prototype.getKerningValue=function(Q,ee,se){for(var ae=0;ae<Q.length;ae++)for(var ge=Q[ae].subtables,Te=0;Te<ge.length;Te++){var Ie=ge[Te],Ve=this.getCoverageIndex(Ie.coverage,ee);if(!(Ve<0))switch(Ie.posFormat){case 1:for(var Ze=Ie.pairSets[Ve],Ye=0;Ye<Ze.length;Ye++){var it=Ze[Ye];if(it.secondGlyph===se)return it.value1&&it.value1.xAdvance||0}break;case 2:var lt=this.getGlyphClass(Ie.classDef1,ee),ht=this.getGlyphClass(Ie.classDef2,se),lt=Ie.classRecords[lt][ht];return lt.value1&&lt.value1.xAdvance||0}}return 0},ur.prototype.getKerningTables=function(Q,ee){if(this.font.tables.gpos)return this.getLookupTables(Q,ee,"kern",2)},(Wn.prototype=cr.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Wn.prototype.getSingle=function(Q,ee,se){for(var ae=[],ge=this.getLookupTables(ee,se,Q,1),Te=0;Te<ge.length;Te++)for(var Ie=ge[Te].subtables,Ve=0;Ve<Ie.length;Ve++){var Ze=Ie[Ve],Ye=this.expandCoverage(Ze.coverage),it=void 0;if(Ze.substFormat===1)for(var ht=Ze.deltaGlyphId,it=0;it<Ye.length;it++){var lt=Ye[it];ae.push({sub:lt,by:lt+ht})}else{var nt=Ze.substitute;for(it=0;it<Ye.length;it++)ae.push({sub:Ye[it],by:nt[it]})}}return ae},Wn.prototype.getAlternates=function(Q,ee,se){for(var ae=[],ge=this.getLookupTables(ee,se,Q,3),Te=0;Te<ge.length;Te++)for(var Ie=ge[Te].subtables,Ve=0;Ve<Ie.length;Ve++)for(var Ze=Ie[Ve],Ye=this.expandCoverage(Ze.coverage),it=Ze.alternateSets,ht=0;ht<Ye.length;ht++)ae.push({sub:Ye[ht],by:it[ht]});return ae},Wn.prototype.getLigatures=function(Q,ee,se){for(var ae=[],ge=this.getLookupTables(ee,se,Q,4),Te=0;Te<ge.length;Te++)for(var Ie=ge[Te].subtables,Ve=0;Ve<Ie.length;Ve++)for(var Ze=Ie[Ve],Ye=this.expandCoverage(Ze.coverage),it=Ze.ligatureSets,ht=0;ht<Ye.length;ht++)for(var lt=Ye[ht],nt=it[ht],Mt=0;Mt<nt.length;Mt++){var _t=nt[Mt];ae.push({sub:[lt].concat(_t.components),by:_t.ligGlyph})}return ae},Wn.prototype.addSingle=function(Q,ee,se,ae){se=zr(this.getLookupTables(se,ae,Q,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),W.assert(se.coverage.format===1,"Ligature: unable to modify coverage table format "+se.coverage.format),ae=ee.sub,Q=this.binSearch(se.coverage.glyphs,ae),Q<0&&(se.coverage.glyphs.splice(Q=-1-Q,0,ae),se.substitute.splice(Q,0,0)),se.substitute[Q]=ee.by},Wn.prototype.addAlternate=function(Q,ee,se,ae){se=zr(this.getLookupTables(se,ae,Q,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),W.assert(se.coverage.format===1,"Ligature: unable to modify coverage table format "+se.coverage.format),ae=ee.sub,Q=this.binSearch(se.coverage.glyphs,ae),Q<0&&(se.coverage.glyphs.splice(Q=-1-Q,0,ae),se.alternateSets.splice(Q,0,0)),se.alternateSets[Q]=ee.by},Wn.prototype.addLigature=function(Te,Ze,Ve,ge){var Ve=this.getLookupTables(Ve,ge,Te,4,!0)[0],ge=Ve.subtables[0],Te=(ge||(Ve.subtables[0]=ge={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),W.assert(ge.coverage.format===1,"Ligature: unable to modify coverage table format "+ge.coverage.format),Ze.sub[0]),Ie=Ze.sub.slice(1),Ve={ligGlyph:Ze.by,components:Ie},Ze=this.binSearch(ge.coverage.glyphs,Te);if(0<=Ze){for(var Ye=ge.ligatureSets[Ze],it=0;it<Ye.length;it++)if(function(ht,lt){var nt=ht.length;if(nt===lt.length){for(var Mt=0;Mt<nt;Mt++)if(ht[Mt]!==lt[Mt])return;return 1}}(Ye[it].components,Ie))return;Ye.push(Ve)}else ge.coverage.glyphs.splice(Ze=-1-Ze,0,Te),ge.ligatureSets.splice(Ze,0,[Ve])},Wn.prototype.getFeature=function(Q,ee,se){if(/ss\d\d/.test(Q))return this.getSingle(Q,ee,se);switch(Q){case"aalt":case"salt":return this.getSingle(Q,ee,se).concat(this.getAlternates(Q,ee,se));case"dlig":case"liga":case"rlig":return this.getLigatures(Q,ee,se)}},Wn.prototype.add=function(Q,ee,se,ae){if(/ss\d\d/.test(Q))return this.addSingle(Q,ee,se,ae);switch(Q){case"aalt":case"salt":return typeof ee.by=="number"?this.addSingle(Q,ee,se,ae):this.addAlternate(Q,ee,se,ae);case"dlig":case"liga":case"rlig":return this.addLigature(Q,ee,se,ae)}};var hr={getPath:xr,parse:function(Q,ee,se,ae){for(var ge=new Ke.GlyphSet(ae),Te=0;Te<se.length-1;Te+=1){var Ie=se[Te];Ie!==se[Te+1]?ge.push(Te,Ke.ttfGlyphLoader(ae,Te,ti,Q,ee+Ie,Pn)):ge.push(Te,Ke.glyphLoader(ae,Te))}return ge}};function xn(Q){this.font=Q,this.getCommands=function(ee){return hr.getPath(ee).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Pr(Q){return Q}function Vr(Q){return Math.sign(Q)*Math.round(Math.abs(Q))}function Ar(Q){return Math.sign(Q)*Math.round(Math.abs(2*Q))/2}function wr(Q){return Math.sign(Q)*(Math.round(Math.abs(Q)+.5)-.5)}function ni(Q){return Math.sign(Q)*Math.ceil(Math.abs(Q))}function ri(Q){return Math.sign(Q)*Math.floor(Math.abs(Q))}function rr(Q){var ee=this.srPeriod,se=this.srPhase,ae=1;return Q<0&&(Q=-Q,ae=-1),Q+=this.srThreshold-se,Q=Math.trunc(Q/ee)*ee,(Q+=se)<0?se*ae:Q*ae}var Xn={x:1,y:0,axis:"x",distance:function(Q,ee,se,ae){return(se?Q.xo:Q.x)-(ae?ee.xo:ee.x)},interpolate:function(Q,ee,se,ae){var ge,Te,Ie,Ve,Ze,Ye,it;if(!ae||ae===this)return ge=Q.xo-ee.xo,Te=Q.xo-se.xo,Ze=ee.x-ee.xo,Ye=se.x-se.xo,(it=(Ie=Math.abs(ge))+(Ve=Math.abs(Te)))===0?void(Q.x=Q.xo+(Ze+Ye)/2):void(Q.x=Q.xo+(Ze*Ve+Ye*Ie)/it);ge=ae.distance(Q,ee,!0,!0),Te=ae.distance(Q,se,!0,!0),Ze=ae.distance(ee,ee,!1,!0),Ye=ae.distance(se,se,!1,!0),(it=(Ie=Math.abs(ge))+(Ve=Math.abs(Te)))===0?Xn.setRelative(Q,Q,(Ze+Ye)/2,ae,!0):Xn.setRelative(Q,Q,(Ze*Ve+Ye*Ie)/it,ae,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(Q,ee,se,ae,ge){var Te,Ie;ae&&ae!==this?(Te=ge?ee.xo:ee.x,Ie=ge?ee.yo:ee.y,Te+=se*ae.x,Ie+=se*ae.y,Q.x=Te+(Q.y-Ie)/ae.normalSlope):Q.x=(ge?ee.xo:ee.x)+se},slope:0,touch:function(Q){Q.xTouched=!0},touched:function(Q){return Q.xTouched},untouch:function(Q){Q.xTouched=!1}},Yn={x:0,y:1,axis:"y",distance:function(Q,ee,se,ae){return(se?Q.yo:Q.y)-(ae?ee.yo:ee.y)},interpolate:function(Q,ee,se,ae){var ge,Te,Ie,Ve,Ze,Ye,it;if(!ae||ae===this)return ge=Q.yo-ee.yo,Te=Q.yo-se.yo,Ze=ee.y-ee.yo,Ye=se.y-se.yo,(it=(Ie=Math.abs(ge))+(Ve=Math.abs(Te)))===0?void(Q.y=Q.yo+(Ze+Ye)/2):void(Q.y=Q.yo+(Ze*Ve+Ye*Ie)/it);ge=ae.distance(Q,ee,!0,!0),Te=ae.distance(Q,se,!0,!0),Ze=ae.distance(ee,ee,!1,!0),Ye=ae.distance(se,se,!1,!0),(it=(Ie=Math.abs(ge))+(Ve=Math.abs(Te)))===0?Yn.setRelative(Q,Q,(Ze+Ye)/2,ae,!0):Yn.setRelative(Q,Q,(Ze*Ve+Ye*Ie)/it,ae,!0)},normalSlope:0,setRelative:function(Q,ee,se,ae,ge){var Te,Ie;ae&&ae!==this?(Te=ge?ee.xo:ee.x,Ie=ge?ee.yo:ee.y,Te+=se*ae.x,Ie+=se*ae.y,Q.y=Ie+ae.normalSlope*(Q.x-Te)):Q.y=(ge?ee.yo:ee.y)+se},slope:Number.POSITIVE_INFINITY,touch:function(Q){Q.yTouched=!0},touched:function(Q){return Q.yTouched},untouch:function(Q){Q.yTouched=!1}};function Rn(Q,ee){this.x=Q,this.y=ee,this.axis=void 0,this.slope=ee/Q,this.normalSlope=-Q/ee,Object.freeze(this)}function mr(Q,ee){var se=Math.sqrt(Q*Q+ee*ee);return ee/=se,(Q/=se)===1&&ee===0?Xn:Q===0&&ee===1?Yn:new Rn(Q,ee)}function $n(Q,ee,se,ae){this.x=this.xo=Math.round(64*Q)/64,this.y=this.yo=Math.round(64*ee)/64,this.lastPointOfContour=se,this.onCurve=ae,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Xn),Object.freeze(Yn),Rn.prototype.distance=function(Q,ee,se,ae){return this.x*Xn.distance(Q,ee,se,ae)+this.y*Yn.distance(Q,ee,se,ae)},Rn.prototype.interpolate=function(Q,ge,Te,ae){var Ie=ae.distance(Q,ge,!0,!0),Ve=ae.distance(Q,Te,!0,!0),ge=ae.distance(ge,ge,!1,!0),Te=ae.distance(Te,Te,!1,!0),Ie=Math.abs(Ie),Ve=Math.abs(Ve),Ze=Ie+Ve;Ze===0?this.setRelative(Q,Q,(ge+Te)/2,ae,!0):this.setRelative(Q,Q,(ge*Ve+Te*Ie)/Ze,ae,!0)},Rn.prototype.setRelative=function(Q,Te,Ze,Ye,Ve){var Ie=Ve?Te.xo:Te.x,Ve=Ve?Te.yo:Te.y,Te=Ie+Ze*(Ye=Ye||this).x,Ie=Ve+Ze*Ye.y,Ve=Ye.normalSlope,Ze=this.slope,Ye=Q.x,it=Q.y;Q.x=(Ze*Ye-Ve*Te+Ie-it)/(Ze-Ve),Q.y=Ze*(Q.x-Ye)+it},Rn.prototype.touch=function(Q){Q.xTouched=!0,Q.yTouched=!0},$n.prototype.nextTouched=function(Q){for(var ee=this.nextPointOnContour;!Q.touched(ee)&&ee!==this;)ee=ee.nextPointOnContour;return ee},$n.prototype.prevTouched=function(Q){for(var ee=this.prevPointOnContour;!Q.touched(ee)&&ee!==this;)ee=ee.prevPointOnContour;return ee};var ir=Object.freeze(new $n(0,0)),ii={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Zn(Q,ee){switch(this.env=Q,this.stack=[],this.prog=ee,Q){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Xn,this.round=Vr}}function Dr(Q){for(var ee=Q.tZone=new Array(Q.gZone.length),se=0;se<ee.length;se++)ee[se]=new $n(0,0)}function $r(Q,ee){var se,ae=Q.prog,ge=Q.ip,Te=1;do if((se=ae[++ge])===88)Te++;else if(se===89)Te--;else if(se===64)ge+=ae[ge+1]+1;else if(se===65)ge+=2*ae[ge+1]+1;else if(176<=se&&se<=183)ge+=se-176+1;else if(184<=se&&se<=191)ge+=2*(se-184+1);else if(ee&&Te===1&&se===27)break;while(0<Te);Q.ip=ge}function Hr(Q,ee){x.DEBUG&&console.log(ee.step,"SVTCA["+Q.axis+"]"),ee.fv=ee.pv=ee.dpv=Q}function qr(Q,ee){x.DEBUG&&console.log(ee.step,"SPVTCA["+Q.axis+"]"),ee.pv=ee.dpv=Q}function Wr(Q,ee){x.DEBUG&&console.log(ee.step,"SFVTCA["+Q.axis+"]"),ee.fv=Q}function jr(Q,ee){var se,ge=ee.stack,ae=ge.pop(),ge=ge.pop(),Te=ee.z2[ae],Ie=ee.z1[ge];x.DEBUG&&console.log("SPVTL["+Q+"]",ae,ge),ae=Q?(se=Te.y-Ie.y,Ie.x-Te.x):(se=Ie.x-Te.x,Ie.y-Te.y),ee.pv=ee.dpv=mr(se,ae)}function dr(Q,ee){var se,ge=ee.stack,ae=ge.pop(),ge=ge.pop(),Te=ee.z2[ae],Ie=ee.z1[ge];x.DEBUG&&console.log("SFVTL["+Q+"]",ae,ge),ae=Q?(se=Te.y-Ie.y,Ie.x-Te.x):(se=Ie.x-Te.x,Ie.y-Te.y),ee.fv=mr(se,ae)}function Ir(Q){x.DEBUG&&console.log(Q.step,"POP[]"),Q.stack.pop()}function Xr(Q,ee){var se=ee.stack.pop(),ae=ee.z0[se],ge=ee.fv,Te=ee.pv,Ie=(x.DEBUG&&console.log(ee.step,"MDAP["+Q+"]",se),Te.distance(ae,ir));Q&&(Ie=ee.round(Ie)),ge.setRelative(ae,ir,Ie,Te),ge.touch(ae),ee.rp0=ee.rp1=se}function Qr(Q,ee){var se,ae,ge,Te=ee.z2,Ie=Te.length-2;x.DEBUG&&console.log(ee.step,"IUP["+Q.axis+"]");for(var Ve=0;Ve<Ie;Ve++)se=Te[Ve],Q.touched(se)||(ae=se.prevTouched(Q))!==se&&(ae===(ge=se.nextTouched(Q))&&Q.setRelative(se,se,Q.distance(ae,ae,!1,!0),Q,!0),Q.interpolate(se,ae,ge,Q))}function Sr(Q,ee){for(var se=ee.stack,ae=Q?ee.rp1:ee.rp2,ge=(Q?ee.z0:ee.z1)[ae],Te=ee.fv,Ie=ee.pv,Ve=ee.loop,Ze=ee.z2;Ve--;){var Ye=se.pop(),it=Ze[Ye],ht=Ie.distance(ge,ge,!1,!0);Te.setRelative(it,it,ht,Ie),Te.touch(it),x.DEBUG&&console.log(ee.step,(1<ee.loop?"loop "+(ee.loop-Ve)+": ":"")+"SHP["+(Q?"rp1":"rp2")+"]",Ye)}ee.loop=1}function Er(Q,ee){for(var se=ee.stack,Ie=Q?ee.rp1:ee.rp2,ae=(Q?ee.z0:ee.z1)[Ie],ge=ee.fv,Te=ee.pv,Ie=se.pop(),Ve=ee.z2[ee.contours[Ie]],Ze=Ve,Ye=(x.DEBUG&&console.log(ee.step,"SHC["+Q+"]",Ie),Te.distance(ae,ae,!1,!0));Ze!==ae&&ge.setRelative(Ze,Ze,Ye,Te),(Ze=Ze.nextPointOnContour)!==Ve;);}function Yr(Q,ee){var se,ae,Ve=ee.stack,ge=Q?ee.rp1:ee.rp2,ge=(Q?ee.z0:ee.z1)[ge],Te=ee.fv,Ie=ee.pv,Ve=Ve.pop();switch(x.DEBUG&&console.log(ee.step,"SHZ["+Q+"]",Ve),Ve){case 0:se=ee.tZone;break;case 1:se=ee.gZone;break;default:throw new Error("Invalid zone")}for(var Ze=Ie.distance(ge,ge,!1,!0),Ye=se.length-2,it=0;it<Ye;it++)ae=se[it],Te.setRelative(ae,ae,Ze,Ie)}function Cr(Q,ee){var ae=ee.stack,se=ae.pop()/64,ae=ae.pop(),ge=ee.z1[ae],Te=ee.z0[ee.rp0],Ie=ee.fv,Ve=ee.pv;Ie.setRelative(ge,Te,se,Ve),Ie.touch(ge),x.DEBUG&&console.log(ee.step,"MSIRP["+Q+"]",se,ae),ee.rp1=ee.rp0,ee.rp2=ae,Q&&(ee.rp0=ae)}function Zr(Q,ee){var se=ee.stack,Ve=se.pop(),se=se.pop(),ae=ee.z0[se],ge=ee.fv,Te=ee.pv,Ie=ee.cvt[Ve],Ve=(x.DEBUG&&console.log(ee.step,"MIAP["+Q+"]",Ve,"(",Ie,")",se),Te.distance(ae,ir));Q&&(Math.abs(Ve-Ie)<ee.cvCutIn&&(Ve=Ie),Ve=ee.round(Ve)),ge.setRelative(ae,ir,Ve,Te),ee.zp0===0&&(ae.xo=ae.x,ae.yo=ae.y),ge.touch(ae),ee.rp0=ee.rp1=se}function Fr(Q,ee){var se=ee.stack,ae=se.pop(),ge=ee.z2[ae];x.DEBUG&&console.log(ee.step,"GC["+Q+"]",ae),se.push(64*ee.dpv.distance(ge,ir,Q,!1))}function Jr(Q,ee){var ae=ee.stack,se=ae.pop(),ae=ae.pop(),ge=ee.z1[se],Te=ee.z0[ae],Te=ee.dpv.distance(Te,ge,Q,Q);x.DEBUG&&console.log(ee.step,"MD["+Q+"]",se,ae,"->",Te),ee.stack.push(Math.round(64*Te))}function gr(Q,ee){var se=ee.stack,ae=se.pop(),ge=ee.fv,Te=ee.pv,Ie=ee.ppem,Ve=ee.deltaBase+16*(Q-1),Ze=ee.deltaShift,Ye=ee.z0;x.DEBUG&&console.log(ee.step,"DELTAP["+Q+"]",ae,se);for(var it=0;it<ae;it++){var ht=se.pop(),lt=se.pop();Ve+((240&lt)>>4)===Ie&&(0<=(lt=(15&lt)-8)&&lt++,x.DEBUG&&console.log(ee.step,"DELTAPFIX",ht,"by",lt*Ze),ht=Ye[ht],ge.setRelative(ht,ht,lt*Ze,Te))}}function ar(Q,ee){var se=ee.stack,ae=se.pop();x.DEBUG&&console.log(ee.step,"ROUND[]"),se.push(64*ee.round(ae/64))}function Nr(Q,ee){var se=ee.stack,ae=se.pop(),ge=ee.ppem,Te=ee.deltaBase+16*(Q-1),Ie=ee.deltaShift;x.DEBUG&&console.log(ee.step,"DELTAC["+Q+"]",ae,se);for(var Ve=0;Ve<ae;Ve++){var Ze=se.pop(),Ye=se.pop();Te+((240&Ye)>>4)===ge&&(0<=(Ye=(15&Ye)-8)&&Ye++,Ye=Ye*Ie,x.DEBUG&&console.log(ee.step,"DELTACFIX",Ze,"by",Ye),ee.cvt[Ze]+=Ye)}}function Br(Q,ee){var se,ge=ee.stack,ae=ge.pop(),ge=ge.pop(),Te=ee.z2[ae],Ie=ee.z1[ge];x.DEBUG&&console.log(ee.step,"SDPVTL["+Q+"]",ae,ge),ae=Q?(se=Te.y-Ie.y,Ie.x-Te.x):(se=Ie.x-Te.x,Ie.y-Te.y),ee.dpv=mr(se,ae)}function mn(Q,ee){var se=ee.stack,ae=ee.prog,ge=ee.ip;x.DEBUG&&console.log(ee.step,"PUSHB["+Q+"]");for(var Te=0;Te<Q;Te++)se.push(ae[++ge]);ee.ip=ge}function Kn(Q,ee){var se=ee.ip,ae=ee.prog,ge=ee.stack;x.DEBUG&&console.log(ee.ip,"PUSHW["+Q+"]");for(var Te=0;Te<Q;Te++){var Ie=ae[++se]<<8|ae[++se];32768&Ie&&(Ie=-(1+(65535^Ie))),ge.push(Ie)}ee.ip=se}function Vt(Q,ee,se,ae,ge,Te){var Ie,Ve,Ye=Te.stack,Ze=Q&&Ye.pop(),Ye=Ye.pop(),it=Te.rp0,it=Te.z0[it],ht=Te.z1[Ye],lt=Te.minDis,nt=Te.fv,Mt=Te.dpv,_t=Ie=Mt.distance(ht,it,!0,!0),Dt=0<=_t?1:-1;_t=Math.abs(_t),Q&&(Ve=Te.cvt[Ze],ae&&Math.abs(_t-Ve)<Te.cvCutIn&&(_t=Ve)),se&&_t<lt&&(_t=lt),ae&&(_t=Te.round(_t)),nt.setRelative(ht,it,Dt*_t,Mt),nt.touch(ht),x.DEBUG&&console.log(Te.step,(Q?"MIRP[":"MDRP[")+(ee?"M":"m")+(se?">":"_")+(ae?"R":"_")+(ge===0?"Gr":ge===1?"Bl":ge===2?"Wh":"")+"]",Q?Ze+"("+Te.cvt[Ze]+","+Ve+")":"",Ye,"(d =",Ie,"->",Dt*_t,")"),Te.rp1=Te.rp0,Te.rp2=Ye,ee&&(Te.rp0=Ye)}xn.prototype.exec=function(Q,ee){if(typeof ee!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var se=this.font,ae=this._prepState;if(!ae||ae.ppem!==ee){var ge=this._fpgmState;if(!ge){Zn.prototype=ii,(ge=this._fpgmState=new Zn("fpgm",se.tables.fpgm)).funcs=[],ge.font=se,x.DEBUG&&(console.log("---EXEC FPGM---"),ge.step=-1);try{pr(ge)}catch(Ye){return console.log("Hinting error in FPGM:"+Ye),void(this._errorState=3)}}Zn.prototype=ge,(ae=this._prepState=new Zn("prep",se.tables.prep)).ppem=ee;var Te=se.tables.cvt;if(Te)for(var Ie=ae.cvt=new Array(Te.length),Ve=ee/se.unitsPerEm,Ze=0;Ze<Te.length;Ze++)Ie[Ze]=Te[Ze]*Ve;else ae.cvt=[];x.DEBUG&&(console.log("---EXEC PREP---"),ae.step=-1);try{pr(ae)}catch(Ye){this._errorState<2&&console.log("Hinting error in PREP:"+Ye),this._errorState=2}}if(!(1<this._errorState))try{return yr(Q,ae)}catch(Ye){this._errorState<1&&(console.log("Hinting error:"+Ye),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var yr=function(Q,ee){var se=ee.ppem/ee.font.unitsPerEm,ae=se,ge=Q.components;if(Zn.prototype=ee,ge){for(var Te=ee.font,Ie=[],Ve=[],Ze=0;Ze<ge.length;Ze++){var Ye=ge[Ze],it=Te.glyphs.get(Ye.glyphIndex),ht=new Zn("glyf",it.instructions);x.DEBUG&&(console.log("---EXEC COMP "+Ze+"---"),ht.step=-1),Mn(it,ht,se,ae);for(var lt=Math.round(Ye.dx*se),nt=Math.round(Ye.dy*ae),Mt=ht.gZone,_t=ht.contours,Dt=0;Dt<Mt.length;Dt++){var gt=Mt[Dt];gt.xTouched=gt.yTouched=!1,gt.xo=gt.x=gt.x+lt,gt.yo=gt.y=gt.y+nt}var yt=Ie.length;Ie.push.apply(Ie,Mt);for(var Ht=0;Ht<_t.length;Ht++)Ve.push(_t[Ht]+yt)}Q.instructions&&!ht.inhibitGridFit&&((ht=new Zn("glyf",Q.instructions)).gZone=ht.z0=ht.z1=ht.z2=Ie,ht.contours=Ve,Ie.push(new $n(0,0),new $n(Math.round(Q.advanceWidth*se),0)),x.DEBUG&&(console.log("---EXEC COMPOSITE---"),ht.step=-1),pr(ht),Ie.length-=2)}else ht=new Zn("glyf",Q.instructions),x.DEBUG&&(console.log("---EXEC GLYPH---"),ht.step=-1),Mn(Q,ht,se,ae),Ie=ht.gZone;return Ie},Mn=function(Q,ee,se,ae){for(var ge,Te,Ie,Ve=Q.points||[],Ze=Ve.length,Ye=ee.gZone=ee.z0=ee.z1=ee.z2=[],it=ee.contours=[],ht=0;ht<Ze;ht++)ge=Ve[ht],Ye[ht]=new $n(ge.x*se,ge.y*ae,ge.lastPointOfContour,ge.onCurve);for(var lt=0;lt<Ze;lt++)ge=Ye[lt],Te||(Te=ge,it.push(lt)),ge.lastPointOfContour?((ge.nextPointOnContour=Te).prevPointOnContour=ge,Te=void 0):(Ie=Ye[lt+1],(ge.nextPointOnContour=Ie).prevPointOnContour=ge);if(!ee.inhibitGridFit){if(x.DEBUG){console.log("PROCESSING GLYPH",ee.stack);for(var nt=0;nt<Ze;nt++)console.log(nt,Ye[nt].x,Ye[nt].y)}if(Ye.push(new $n(0,0),new $n(Math.round(Q.advanceWidth*se),0)),pr(ee),Ye.length-=2,x.DEBUG){console.log("FINISHED GLYPH",ee.stack);for(var Mt=0;Mt<Ze;Mt++)console.log(Mt,Ye[Mt].x,Ye[Mt].y)}}},pr=function(Q){var ee=Q.prog;if(ee){var se,ae=ee.length;for(Q.ip=0;Q.ip<ae;Q.ip++){if(x.DEBUG&&Q.step++,!(se=Kr[ee[Q.ip]]))throw new Error("unknown instruction: 0x"+Number(ee[Q.ip]).toString(16));se(Q)}}},Kr=[Hr.bind(void 0,Yn),Hr.bind(void 0,Xn),qr.bind(void 0,Yn),qr.bind(void 0,Xn),Wr.bind(void 0,Yn),Wr.bind(void 0,Xn),jr.bind(void 0,0),jr.bind(void 0,1),dr.bind(void 0,0),dr.bind(void 0,1),function(Q){var ee=(se=Q.stack).pop(),se=se.pop();x.DEBUG&&console.log(Q.step,"SPVFS[]",ee,se),Q.pv=Q.dpv=mr(se,ee)},function(Q){var ee=(se=Q.stack).pop(),se=se.pop();x.DEBUG&&console.log(Q.step,"SPVFS[]",ee,se),Q.fv=mr(se,ee)},function(Q){var ee=Q.stack,se=Q.pv;x.DEBUG&&console.log(Q.step,"GPV[]"),ee.push(16384*se.x),ee.push(16384*se.y)},function(Q){var ee=Q.stack,se=Q.fv;x.DEBUG&&console.log(Q.step,"GFV[]"),ee.push(16384*se.x),ee.push(16384*se.y)},function(Q){Q.fv=Q.pv,x.DEBUG&&console.log(Q.step,"SFVTPV[]")},function(ee){var se=(Ie=ee.stack).pop(),ae=Ie.pop(),ge=Ie.pop(),Te=Ie.pop(),Ie=Ie.pop(),Ze=ee.z0,it=ee.z1,Ve=Ze[se],Ze=Ze[ae],Ye=it[ge],it=it[Te],ee=ee.z2[Ie],se=(x.DEBUG&&console.log("ISECT[], ",se,ae,ge,Te,Ie),Ve.x),ae=Ve.y,ge=Ze.x,Te=Ze.y,Ie=Ye.x,Ve=Ye.y,Ze=it.x,Ye=it.y,it=(se-ge)*(Ve-Ye)-(ae-Te)*(Ie-Ze),ht=se*Te-ae*ge,lt=Ie*Ye-Ve*Ze;ee.x=(ht*(Ie-Ze)-lt*(se-ge))/it,ee.y=(ht*(Ve-Ye)-lt*(ae-Te))/it},function(Q){Q.rp0=Q.stack.pop(),x.DEBUG&&console.log(Q.step,"SRP0[]",Q.rp0)},function(Q){Q.rp1=Q.stack.pop(),x.DEBUG&&console.log(Q.step,"SRP1[]",Q.rp1)},function(Q){Q.rp2=Q.stack.pop(),x.DEBUG&&console.log(Q.step,"SRP2[]",Q.rp2)},function(Q){var ee=Q.stack.pop();switch(x.DEBUG&&console.log(Q.step,"SZP0[]",ee),Q.zp0=ee){case 0:Q.tZone||Dr(Q),Q.z0=Q.tZone;break;case 1:Q.z0=Q.gZone;break;default:throw new Error("Invalid zone pointer")}},function(Q){var ee=Q.stack.pop();switch(x.DEBUG&&console.log(Q.step,"SZP1[]",ee),Q.zp1=ee){case 0:Q.tZone||Dr(Q),Q.z1=Q.tZone;break;case 1:Q.z1=Q.gZone;break;default:throw new Error("Invalid zone pointer")}},function(Q){var ee=Q.stack.pop();switch(x.DEBUG&&console.log(Q.step,"SZP2[]",ee),Q.zp2=ee){case 0:Q.tZone||Dr(Q),Q.z2=Q.tZone;break;case 1:Q.z2=Q.gZone;break;default:throw new Error("Invalid zone pointer")}},function(Q){var ee=Q.stack.pop();switch(x.DEBUG&&console.log(Q.step,"SZPS[]",ee),Q.zp0=Q.zp1=Q.zp2=ee){case 0:Q.tZone||Dr(Q),Q.z0=Q.z1=Q.z2=Q.tZone;break;case 1:Q.z0=Q.z1=Q.z2=Q.gZone;break;default:throw new Error("Invalid zone pointer")}},function(Q){Q.loop=Q.stack.pop(),x.DEBUG&&console.log(Q.step,"SLOOP[]",Q.loop)},function(Q){x.DEBUG&&console.log(Q.step,"RTG[]"),Q.round=Vr},function(Q){x.DEBUG&&console.log(Q.step,"RTHG[]"),Q.round=wr},function(Q){var ee=Q.stack.pop();x.DEBUG&&console.log(Q.step,"SMD[]",ee),Q.minDis=ee/64},function(Q){x.DEBUG&&console.log(Q.step,"ELSE[]"),$r(Q,!1)},function(Q){var ee=Q.stack.pop();x.DEBUG&&console.log(Q.step,"JMPR[]",ee),Q.ip+=ee-1},function(Q){var ee=Q.stack.pop();x.DEBUG&&console.log(Q.step,"SCVTCI[]",ee),Q.cvCutIn=ee/64},void 0,void 0,function(Q){var ee=Q.stack;x.DEBUG&&console.log(Q.step,"DUP[]"),ee.push(ee[ee.length-1])},Ir,function(Q){x.DEBUG&&console.log(Q.step,"CLEAR[]"),Q.stack.length=0},function(Q){var ee=Q.stack,se=ee.pop(),ae=ee.pop();x.DEBUG&&console.log(Q.step,"SWAP[]"),ee.push(se),ee.push(ae)},function(Q){var ee=Q.stack;x.DEBUG&&console.log(Q.step,"DEPTH[]"),ee.push(ee.length)},function(Q){var ee=Q.stack,se=ee.pop();x.DEBUG&&console.log(Q.step,"CINDEX[]",se),ee.push(ee[ee.length-se])},function(Q){var ee=Q.stack,se=ee.pop();x.DEBUG&&console.log(Q.step,"MINDEX[]",se),ee.push(ee.splice(ee.length-se,1)[0])},void 0,void 0,void 0,function(Q){var ee=(ae=Q.stack).pop(),se=ae.pop(),ae=(x.DEBUG&&console.log(Q.step,"LOOPCALL[]",ee,se),Q.ip),ge=Q.prog;Q.prog=Q.funcs[ee];for(var Te=0;Te<se;Te++)pr(Q),x.DEBUG&&console.log(++Q.step,Te+1<se?"next loopcall":"done loopcall",Te);Q.ip=ae,Q.prog=ge},function(Q){var ee=Q.stack.pop(),se=(x.DEBUG&&console.log(Q.step,"CALL[]",ee),Q.ip),ae=Q.prog;Q.prog=Q.funcs[ee],pr(Q),Q.ip=se,Q.prog=ae,x.DEBUG&&console.log(++Q.step,"returning from",ee)},function(Q){if(Q.env!=="fpgm")throw new Error("FDEF not allowed here");var ae=Q.stack,ee=Q.prog,se=Q.ip,ae=ae.pop(),ge=se;for(x.DEBUG&&console.log(Q.step,"FDEF[]",ae);ee[++se]!==45;);Q.ip=se,Q.funcs[ae]=ee.slice(ge+1,se)},void 0,Xr.bind(void 0,0),Xr.bind(void 0,1),Qr.bind(void 0,Yn),Qr.bind(void 0,Xn),Sr.bind(void 0,0),Sr.bind(void 0,1),Er.bind(void 0,0),Er.bind(void 0,1),Yr.bind(void 0,0),Yr.bind(void 0,1),function(Q){for(var ee=Q.stack,se=Q.loop,ae=Q.fv,ge=ee.pop()/64,Te=Q.z2;se--;){var Ie=ee.pop(),Ve=Te[Ie];x.DEBUG&&console.log(Q.step,(1<Q.loop?"loop "+(Q.loop-se)+": ":"")+"SHPIX[]",Ie,ge),ae.setRelative(Ve,Ve,ge),ae.touch(Ve)}Q.loop=1},function(Q){for(var ee=Q.stack,se=Q.rp1,ae=Q.rp2,ge=Q.loop,Te=Q.z0[se],Ie=Q.z1[ae],Ve=Q.fv,Ze=Q.dpv,Ye=Q.z2;ge--;){var it=ee.pop(),ht=Ye[it];x.DEBUG&&console.log(Q.step,(1<Q.loop?"loop "+(Q.loop-ge)+": ":"")+"IP[]",it,se,"<->",ae),Ve.interpolate(ht,Te,Ie,Ze),Ve.touch(ht)}Q.loop=1},Cr.bind(void 0,0),Cr.bind(void 0,1),function(Q){for(var ee=Q.stack,se=Q.rp0,ae=Q.z0[se],ge=Q.loop,Te=Q.fv,Ie=Q.pv,Ve=Q.z1;ge--;){var Ze=ee.pop(),Ye=Ve[Ze];x.DEBUG&&console.log(Q.step,(1<Q.loop?"loop "+(Q.loop-ge)+": ":"")+"ALIGNRP[]",Ze),Te.setRelative(Ye,ae,0,Ie),Te.touch(Ye)}Q.loop=1},function(Q){x.DEBUG&&console.log(Q.step,"RTDG[]"),Q.round=Ar},Zr.bind(void 0,0),Zr.bind(void 0,1),function(Q){var ee=Q.prog,se=Q.ip,ae=Q.stack,ge=ee[++se];x.DEBUG&&console.log(Q.step,"NPUSHB[]",ge);for(var Te=0;Te<ge;Te++)ae.push(ee[++se]);Q.ip=se},function(Q){var ee=Q.ip,se=Q.prog,ae=Q.stack,ge=se[++ee];x.DEBUG&&console.log(Q.step,"NPUSHW[]",ge);for(var Te=0;Te<ge;Te++){var Ie=se[++ee]<<8|se[++ee];32768&Ie&&(Ie=-(1+(65535^Ie))),ae.push(Ie)}Q.ip=ee},function(Q){var ae=Q.stack,ee=(ee=Q.store)||(Q.store=[]),se=ae.pop(),ae=ae.pop();x.DEBUG&&console.log(Q.step,"WS",se,ae),ee[ae]=se},function(ge){var ee=ge.stack,se=ge.store,ae=ee.pop(),ge=(x.DEBUG&&console.log(ge.step,"RS",ae),se&&se[ae]||0);ee.push(ge)},function(Q){var ee=(se=Q.stack).pop(),se=se.pop();x.DEBUG&&console.log(Q.step,"WCVTP",ee,se),Q.cvt[se]=ee/64},function(Q){var ee=Q.stack,se=ee.pop();x.DEBUG&&console.log(Q.step,"RCVT",se),ee.push(64*Q.cvt[se])},Fr.bind(void 0,0),Fr.bind(void 0,1),void 0,Jr.bind(void 0,0),Jr.bind(void 0,1),function(Q){x.DEBUG&&console.log(Q.step,"MPPEM[]"),Q.stack.push(Q.ppem)},void 0,function(Q){x.DEBUG&&console.log(Q.step,"FLIPON[]"),Q.autoFlip=!0},void 0,void 0,function(Q){var ee=Q.stack,se=ee.pop(),ae=ee.pop();x.DEBUG&&console.log(Q.step,"LT[]",se,ae),ee.push(ae<se?1:0)},function(Q){var ee=Q.stack,se=ee.pop(),ae=ee.pop();x.DEBUG&&console.log(Q.step,"LTEQ[]",se,ae),ee.push(ae<=se?1:0)},function(Q){var ee=Q.stack,se=ee.pop(),ae=ee.pop();x.DEBUG&&console.log(Q.step,"GT[]",se,ae),ee.push(se<ae?1:0)},function(Q){var ee=Q.stack,se=ee.pop(),ae=ee.pop();x.DEBUG&&console.log(Q.step,"GTEQ[]",se,ae),ee.push(se<=ae?1:0)},function(Q){var ee=Q.stack,se=ee.pop(),ae=ee.pop();x.DEBUG&&console.log(Q.step,"EQ[]",se,ae),ee.push(se===ae?1:0)},function(Q){var ee=Q.stack,se=ee.pop(),ae=ee.pop();x.DEBUG&&console.log(Q.step,"NEQ[]",se,ae),ee.push(se!==ae?1:0)},function(Q){var ee=Q.stack,se=ee.pop();x.DEBUG&&console.log(Q.step,"ODD[]",se),ee.push(Math.trunc(se)%2?1:0)},function(Q){var ee=Q.stack,se=ee.pop();x.DEBUG&&console.log(Q.step,"EVEN[]",se),ee.push(Math.trunc(se)%2?0:1)},function(Q){var ee=Q.stack.pop();x.DEBUG&&console.log(Q.step,"IF[]",ee),ee||($r(Q,!0),x.DEBUG&&console.log(Q.step,"EIF[]"))},function(Q){x.DEBUG&&console.log(Q.step,"EIF[]")},function(Q){var ee=Q.stack,se=ee.pop(),ae=ee.pop();x.DEBUG&&console.log(Q.step,"AND[]",se,ae),ee.push(se&&ae?1:0)},function(Q){var ee=Q.stack,se=ee.pop(),ae=ee.pop();x.DEBUG&&console.log(Q.step,"OR[]",se,ae),ee.push(se||ae?1:0)},function(Q){var ee=Q.stack,se=ee.pop();x.DEBUG&&console.log(Q.step,"NOT[]",se),ee.push(se?0:1)},gr.bind(void 0,1),function(Q){var ee=Q.stack.pop();x.DEBUG&&console.log(Q.step,"SDB[]",ee),Q.deltaBase=ee},function(Q){var ee=Q.stack.pop();x.DEBUG&&console.log(Q.step,"SDS[]",ee),Q.deltaShift=Math.pow(.5,ee)},function(Q){var ee=Q.stack,se=ee.pop(),ae=ee.pop();x.DEBUG&&console.log(Q.step,"ADD[]",se,ae),ee.push(ae+se)},function(Q){var ee=Q.stack,se=ee.pop(),ae=ee.pop();x.DEBUG&&console.log(Q.step,"SUB[]",se,ae),ee.push(ae-se)},function(Q){var ee=Q.stack,se=ee.pop(),ae=ee.pop();x.DEBUG&&console.log(Q.step,"DIV[]",se,ae),ee.push(64*ae/se)},function(Q){var ee=Q.stack,se=ee.pop(),ae=ee.pop();x.DEBUG&&console.log(Q.step,"MUL[]",se,ae),ee.push(ae*se/64)},function(Q){var ee=Q.stack,se=ee.pop();x.DEBUG&&console.log(Q.step,"ABS[]",se),ee.push(Math.abs(se))},function(Q){var ee=Q.stack,se=ee.pop();x.DEBUG&&console.log(Q.step,"NEG[]",se),ee.push(-se)},function(Q){var ee=Q.stack,se=ee.pop();x.DEBUG&&console.log(Q.step,"FLOOR[]",se),ee.push(64*Math.floor(se/64))},function(Q){var ee=Q.stack,se=ee.pop();x.DEBUG&&console.log(Q.step,"CEILING[]",se),ee.push(64*Math.ceil(se/64))},ar.bind(void 0,0),ar.bind(void 0,1),ar.bind(void 0,2),ar.bind(void 0,3),void 0,void 0,void 0,void 0,function(Q){var ee=(se=Q.stack).pop(),se=se.pop();x.DEBUG&&console.log(Q.step,"WCVTF[]",ee,se),Q.cvt[se]=ee*Q.ppem/Q.font.unitsPerEm},gr.bind(void 0,2),gr.bind(void 0,3),Nr.bind(void 0,1),Nr.bind(void 0,2),Nr.bind(void 0,3),function(Q){var ee,se=Q.stack.pop();switch(x.DEBUG&&console.log(Q.step,"SROUND[]",se),Q.round=rr,192&se){case 0:ee=.5;break;case 64:ee=1;break;case 128:ee=2;break;default:throw new Error("invalid SROUND value")}switch(Q.srPeriod=ee,48&se){case 0:Q.srPhase=0;break;case 16:Q.srPhase=.25*ee;break;case 32:Q.srPhase=.5*ee;break;case 48:Q.srPhase=.75*ee;break;default:throw new Error("invalid SROUND value")}Q.srThreshold=(se&=15)===0?0:(se/8-.5)*ee},function(Q){var ee,se=Q.stack.pop();switch(x.DEBUG&&console.log(Q.step,"S45ROUND[]",se),Q.round=rr,192&se){case 0:ee=Math.sqrt(2)/2;break;case 64:ee=Math.sqrt(2);break;case 128:ee=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(Q.srPeriod=ee,48&se){case 0:Q.srPhase=0;break;case 16:Q.srPhase=.25*ee;break;case 32:Q.srPhase=.5*ee;break;case 48:Q.srPhase=.75*ee;break;default:throw new Error("invalid S45ROUND value")}Q.srThreshold=(se&=15)===0?0:(se/8-.5)*ee},void 0,void 0,function(Q){x.DEBUG&&console.log(Q.step,"ROFF[]"),Q.round=Pr},void 0,function(Q){x.DEBUG&&console.log(Q.step,"RUTG[]"),Q.round=ni},function(Q){x.DEBUG&&console.log(Q.step,"RDTG[]"),Q.round=ri},Ir,Ir,void 0,void 0,void 0,void 0,void 0,function(Q){var ee=Q.stack.pop();x.DEBUG&&console.log(Q.step,"SCANCTRL[]",ee)},Br.bind(void 0,0),Br.bind(void 0,1),function(Q){var ee=Q.stack,se=ee.pop(),ae=0;x.DEBUG&&console.log(Q.step,"GETINFO[]",se),1&se&&(ae=35),32&se&&(ae|=4096),ee.push(ae)},void 0,function(Q){var ee=Q.stack,se=ee.pop(),ae=ee.pop(),ge=ee.pop();x.DEBUG&&console.log(Q.step,"ROLL[]"),ee.push(ae),ee.push(se),ee.push(ge)},function(Q){var ee=Q.stack,se=ee.pop(),ae=ee.pop();x.DEBUG&&console.log(Q.step,"MAX[]",se,ae),ee.push(Math.max(ae,se))},function(Q){var ee=Q.stack,se=ee.pop(),ae=ee.pop();x.DEBUG&&console.log(Q.step,"MIN[]",se,ae),ee.push(Math.min(ae,se))},function(Q){var ee=Q.stack.pop();x.DEBUG&&console.log(Q.step,"SCANTYPE[]",ee)},function(Q){var ee=Q.stack.pop(),se=Q.stack.pop();switch(x.DEBUG&&console.log(Q.step,"INSTCTRL[]",ee,se),ee){case 1:return void(Q.inhibitGridFit=!!se);case 2:return void(Q.ignoreCvt=!!se);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,mn.bind(void 0,1),mn.bind(void 0,2),mn.bind(void 0,3),mn.bind(void 0,4),mn.bind(void 0,5),mn.bind(void 0,6),mn.bind(void 0,7),mn.bind(void 0,8),Kn.bind(void 0,1),Kn.bind(void 0,2),Kn.bind(void 0,3),Kn.bind(void 0,4),Kn.bind(void 0,5),Kn.bind(void 0,6),Kn.bind(void 0,7),Kn.bind(void 0,8),Vt.bind(void 0,0,0,0,0,0),Vt.bind(void 0,0,0,0,0,1),Vt.bind(void 0,0,0,0,0,2),Vt.bind(void 0,0,0,0,0,3),Vt.bind(void 0,0,0,0,1,0),Vt.bind(void 0,0,0,0,1,1),Vt.bind(void 0,0,0,0,1,2),Vt.bind(void 0,0,0,0,1,3),Vt.bind(void 0,0,0,1,0,0),Vt.bind(void 0,0,0,1,0,1),Vt.bind(void 0,0,0,1,0,2),Vt.bind(void 0,0,0,1,0,3),Vt.bind(void 0,0,0,1,1,0),Vt.bind(void 0,0,0,1,1,1),Vt.bind(void 0,0,0,1,1,2),Vt.bind(void 0,0,0,1,1,3),Vt.bind(void 0,0,1,0,0,0),Vt.bind(void 0,0,1,0,0,1),Vt.bind(void 0,0,1,0,0,2),Vt.bind(void 0,0,1,0,0,3),Vt.bind(void 0,0,1,0,1,0),Vt.bind(void 0,0,1,0,1,1),Vt.bind(void 0,0,1,0,1,2),Vt.bind(void 0,0,1,0,1,3),Vt.bind(void 0,0,1,1,0,0),Vt.bind(void 0,0,1,1,0,1),Vt.bind(void 0,0,1,1,0,2),Vt.bind(void 0,0,1,1,0,3),Vt.bind(void 0,0,1,1,1,0),Vt.bind(void 0,0,1,1,1,1),Vt.bind(void 0,0,1,1,1,2),Vt.bind(void 0,0,1,1,1,3),Vt.bind(void 0,1,0,0,0,0),Vt.bind(void 0,1,0,0,0,1),Vt.bind(void 0,1,0,0,0,2),Vt.bind(void 0,1,0,0,0,3),Vt.bind(void 0,1,0,0,1,0),Vt.bind(void 0,1,0,0,1,1),Vt.bind(void 0,1,0,0,1,2),Vt.bind(void 0,1,0,0,1,3),Vt.bind(void 0,1,0,1,0,0),Vt.bind(void 0,1,0,1,0,1),Vt.bind(void 0,1,0,1,0,2),Vt.bind(void 0,1,0,1,0,3),Vt.bind(void 0,1,0,1,1,0),Vt.bind(void 0,1,0,1,1,1),Vt.bind(void 0,1,0,1,1,2),Vt.bind(void 0,1,0,1,1,3),Vt.bind(void 0,1,1,0,0,0),Vt.bind(void 0,1,1,0,0,1),Vt.bind(void 0,1,1,0,0,2),Vt.bind(void 0,1,1,0,0,3),Vt.bind(void 0,1,1,0,1,0),Vt.bind(void 0,1,1,0,1,1),Vt.bind(void 0,1,1,0,1,2),Vt.bind(void 0,1,1,0,1,3),Vt.bind(void 0,1,1,1,0,0),Vt.bind(void 0,1,1,1,0,1),Vt.bind(void 0,1,1,1,0,2),Vt.bind(void 0,1,1,1,0,3),Vt.bind(void 0,1,1,1,1,0),Vt.bind(void 0,1,1,1,1,1),Vt.bind(void 0,1,1,1,1,2),Vt.bind(void 0,1,1,1,1,3)],si=Array.from||function(Q){return Q.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function pn(Q){(Q=Q||{}).empty||(lr(Q.familyName,"When creating a new Font object, familyName is required."),lr(Q.styleName,"When creating a new Font object, styleName is required."),lr(Q.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),lr(Q.ascender,"When creating a new Font object, ascender is required."),lr(Q.descender,"When creating a new Font object, descender is required."),lr(Q.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:Q.familyName||" "},fontSubfamily:{en:Q.styleName||" "},fullName:{en:Q.fullName||Q.familyName+" "+Q.styleName},postScriptName:{en:Q.postScriptName||(Q.familyName+Q.styleName).replace(/\s/g,"")},designer:{en:Q.designer||" "},designerURL:{en:Q.designerURL||" "},manufacturer:{en:Q.manufacturer||" "},manufacturerURL:{en:Q.manufacturerURL||" "},license:{en:Q.license||" "},licenseURL:{en:Q.licenseURL||" "},version:{en:Q.version||"Version 0.1"},description:{en:Q.description||" "},copyright:{en:Q.copyright||" "},trademark:{en:Q.trademark||" "}},this.unitsPerEm=Q.unitsPerEm||1e3,this.ascender=Q.ascender,this.descender=Q.descender,this.createdTimestamp=Q.createdTimestamp,this.tables={os2:{usWeightClass:Q.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:Q.widthClass||this.usWidthClasses.MEDIUM,fsSelection:Q.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Ke.GlyphSet(this,Q.glyphs||[]),this.encoding=new Xe(this),this.position=new ur(this),this.substitution=new Wn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new xn(this):void 0)}})}function ei(Q,ee){var se,ae=JSON.stringify(Q),ge=256;for(se in ee){var Te=parseInt(se);if(Te&&!(Te<256)){if(JSON.stringify(ee[se])===ae)return Te;ge<=Te&&(ge=Te+1)}}return ee[ge]=Q,ge}pn.prototype.hasChar=function(Q){return this.encoding.charToGlyphIndex(Q)!==null},pn.prototype.charToGlyphIndex=function(Q){return this.encoding.charToGlyphIndex(Q)},pn.prototype.charToGlyph=function(Q){return Q=this.charToGlyphIndex(Q),this.glyphs.get(Q)||this.glyphs.get(0)},pn.prototype.stringToGlyphs=function(Q,ee){ee=ee||this.defaultRenderOptions;for(var se=si(Q),ae=[],ge=0;ge<se.length;ge+=1){var Te=se[ge];ae.push(this.charToGlyphIndex(Te))}var Ie=ae.length;if(ee.features){var Q=ee.script||this.substitution.getDefaultScriptName(),Ve=[];ee.features.liga&&(Ve=Ve.concat(this.substitution.getFeature("liga",Q,ee.language))),ee.features.rlig&&(Ve=Ve.concat(this.substitution.getFeature("rlig",Q,ee.language)));for(var Ze=0;Ze<Ie;Ze+=1)for(var Ye=0;Ye<Ve.length;Ye++){for(var it=Ve[Ye],ht=it.sub,lt=ht.length,nt=0;nt<lt&&ht[nt]===ae[Ze+nt];)nt++;nt===lt&&(ae.splice(Ze,lt,it.by),Ie=Ie-lt+1)}}for(var Mt=new Array(Ie),_t=this.glyphs.get(0),Dt=0;Dt<Ie;Dt+=1)Mt[Dt]=this.glyphs.get(ae[Dt])||_t;return Mt},pn.prototype.nameToGlyphIndex=function(Q){return this.glyphNames.nameToGlyphIndex(Q)},pn.prototype.nameToGlyph=function(Q){return Q=this.nameToGlyphIndex(Q),this.glyphs.get(Q)||this.glyphs.get(0)},pn.prototype.glyphIndexToName=function(Q){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(Q):""},pn.prototype.getKerningValue=function(Q,ee){Q=Q.index||Q,ee=ee.index||ee;var se=this.position.defaultKerningTables;return se?this.position.getKerningValue(se,Q,ee):this.kerningPairs[Q+","+ee]||0},pn.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},pn.prototype.forEachGlyph=function(Q,ee,se,ae,ge,Te){ee=ee!==void 0?ee:0,se=se!==void 0?se:0,ge=ge||this.defaultRenderOptions;var Ie,Ve=1/this.unitsPerEm*(ae=ae!==void 0?ae:72),Ze=this.stringToGlyphs(Q,ge);ge.kerning&&(Q=ge.script||this.position.getDefaultScriptName(),Ie=this.position.getKerningTables(Q,ge.language));for(var Ye=0;Ye<Ze.length;Ye+=1){var it=Ze[Ye];Te.call(this,it,ee,se,ae,ge),it.advanceWidth&&(ee+=it.advanceWidth*Ve),ge.kerning&&Ye<Ze.length-1&&(ee+=(Ie?this.position.getKerningValue(Ie,it.index,Ze[Ye+1].index):this.getKerningValue(it,Ze[Ye+1]))*Ve),ge.letterSpacing?ee+=ge.letterSpacing*ae:ge.tracking&&(ee+=ge.tracking/1e3*ae)}return ee},pn.prototype.getPath=function(Q,ee,se,ae,ge){var Te=new J;return this.forEachGlyph(Q,ee,se,ae,ge,function(Ie,Ve,Ze,Ye){Ie=Ie.getPath(Ve,Ze,Ye,ge,this),Te.extend(Ie)}),Te},pn.prototype.getPaths=function(Q,ee,se,ae,ge){var Te=[];return this.forEachGlyph(Q,ee,se,ae,ge,function(Ie,Ve,Ze,Ye){Ie=Ie.getPath(Ve,Ze,Ye,ge,this),Te.push(Ie)}),Te},pn.prototype.getAdvanceWidth=function(Q,ee,se){return this.forEachGlyph(Q,0,0,ee,se,function(){})},pn.prototype.draw=function(Q,ee,se,ae,ge,Te){this.getPath(ee,se,ae,ge,Te).draw(Q)},pn.prototype.drawPoints=function(Q,ee,se,ae,ge,Te){this.forEachGlyph(ee,se,ae,ge,Te,function(Ie,Ve,Ze,Ye){Ie.drawPoints(Q,Ve,Ze,Ye)})},pn.prototype.drawMetrics=function(Q,ee,se,ae,ge,Te){this.forEachGlyph(ee,se,ae,ge,Te,function(Ie,Ve,Ze,Ye){Ie.drawMetrics(Q,Ve,Ze,Ye)})},pn.prototype.getEnglishName=function(Q){if(Q=this.names[Q],Q)return Q.en},pn.prototype.validate=function(){var Q=this;function ee(se){se=Q.getEnglishName(se),se&&se.trim().length}ee("fontFamily"),ee("weightName"),ee("manufacturer"),ee("copyright"),ee("version"),this.unitsPerEm},pn.prototype.toTables=function(){return zn.fontToTable(this)},pn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},pn.prototype.toArrayBuffer=function(){for(var Q=this.toTables().encode(),ee=new ArrayBuffer(Q.length),se=new Uint8Array(ee),ae=0;ae<Q.length;ae++)se[ae]=Q[ae];return ee},pn.prototype.download=function(Q){var ee=this.getEnglishName("fontFamily"),se=this.getEnglishName("fontSubfamily"),ae=(Q=Q||ee.replace(/\s/g,"")+"-"+se+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,ae.byteLength,function(ge){ge.root.getFile(Q,{create:!0},function(Te){Te.createWriter(function(Ie){var Ve=new DataView(ae),Ve=new Blob([Ve],{type:"font/opentype"});Ie.write(Ve),Ie.addEventListener("writeend",function(){location.href=Te.toURL()},!1)})})},function(ge){throw new Error(ge.name+": "+ge.message)})):(ee=a("fs"),se=function(ge){for(var Te=new f(ge.byteLength),Ie=new Uint8Array(ge),Ve=0;Ve<Te.length;++Ve)Te[Ve]=Ie[Ve];return Te}(ae),ee.writeFileSync(Q,se))},pn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},pn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},pn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Rr={make:function(Q,ee){var se=new Pe.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:Q.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:Q.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*Q.axes.length}]);se.offsetToData=se.sizeOf();for(var ae,ge,Te,Ie=0;Ie<Q.axes.length;Ie++)se.fields=se.fields.concat((ae=Ie,ge=Q.axes[Ie],Te=ee,Te=ei(ge.name,ee),[{name:"tag_"+ae,type:"TAG",value:ge.tag},{name:"minValue_"+ae,type:"FIXED",value:ge.minValue<<16},{name:"defaultValue_"+ae,type:"FIXED",value:ge.defaultValue<<16},{name:"maxValue_"+ae,type:"FIXED",value:ge.maxValue<<16},{name:"flags_"+ae,type:"USHORT",value:0},{name:"nameID_"+ae,type:"USHORT",value:Te}]));for(var Ve=0;Ve<Q.instances.length;Ve++)se.fields=se.fields.concat(function(Ze,Ye,it,ht){for(var lt=[{name:"nameID_"+Ze,type:"USHORT",value:ei(Ye.name,ht)},{name:"flags_"+Ze,type:"USHORT",value:0}],nt=0;nt<it.length;++nt){var Mt=it[nt].tag;lt.push({name:"axis_"+Ze+" "+Mt,type:"FIXED",value:Ye.coordinates[Mt]<<16})}return lt}(Ve,Q.instances[Ve],Q.axes,ee));return se},parse:function(Q,ee,se){for(var ae,ge,Te,Ie,Ve=new ze.Parser(Q,ee),Ze=Ve.parseULong(),Ye=(W.argument(Ze===65536,"Unsupported fvar table version."),Ve.parseOffset16()),it=(Ve.skip("uShort",1),Ve.parseUShort()),ht=Ve.parseUShort(),lt=Ve.parseUShort(),nt=Ve.parseUShort(),Mt=[],_t=0;_t<it;_t++)Mt.push((ae=Q,ge=ee+Ye+_t*ht,Te=se,Ie={},ae=new ze.Parser(ae,ge),Ie.tag=ae.parseTag(),Ie.minValue=ae.parseFixed(),Ie.defaultValue=ae.parseFixed(),Ie.maxValue=ae.parseFixed(),ae.skip("uShort",1),Ie.name=Te[ae.parseUShort()]||{},Ie));for(var Dt=[],gt=ee+Ye+it*ht,yt=0;yt<lt;yt++)Dt.push(function(Ht,Kt,qt,Wt){var en={},gn=new ze.Parser(Ht,Kt);en.name=Wt[gn.parseUShort()]||{},gn.skip("uShort",1),en.coordinates={};for(var An=0;An<qt.length;++An)en.coordinates[qt[An].tag]=gn.parseFixed();return en}(Q,gt+yt*nt,Mt,se));return{axes:Mt,instances:Dt}}},Ln=new Array(10);Ln[1]=function(){var Q=this.offset+this.relativeOffset,ee=this.parseUShort();return ee===1?{posFormat:1,coverage:this.parsePointer(Re.coverage),value:this.parseValueRecord()}:ee===2?{posFormat:2,coverage:this.parsePointer(Re.coverage),values:this.parseValueRecordList()}:void W.assert(!1,"0x"+Q.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Ln[2]=function(){var Q,ee,se,ae,Te=this.offset+this.relativeOffset,ge=this.parseUShort(),Te=(W.assert(ge===1||ge===2,"0x"+Te.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Re.coverage)),Ie=this.parseUShort(),Ve=this.parseUShort();return ge===1?{posFormat:ge,coverage:Te,valueFormat1:Ie,valueFormat2:Ve,pairSets:this.parseList(Re.pointer(Re.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Ie),value2:this.parseValueRecord(Ve)}})))}:ge===2?(Q=this.parsePointer(Re.classDef),ee=this.parsePointer(Re.classDef),se=this.parseUShort(),ae=this.parseUShort(),{posFormat:ge,coverage:Te,valueFormat1:Ie,valueFormat2:Ve,classDef1:Q,classDef2:ee,class1Count:se,class2Count:ae,classRecords:this.parseList(se,Re.list(ae,function(){return{value1:this.parseValueRecord(Ie),value2:this.parseValueRecord(Ve)}}))}):void 0},Ln[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Ln[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Ln[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Ln[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Ln[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Ln[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Ln[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Sn=new Array(10),ai={parse:function(Q,ee){return ee=(Q=new Re(Q,ee=ee||0)).parseVersion(1),W.argument(ee===1||ee===1.1,"Unsupported GPOS table version "+ee),ee===1?{version:ee,scripts:Q.parseScriptList(),features:Q.parseFeatureList(),lookups:Q.parseLookupList(Ln)}:{version:ee,scripts:Q.parseScriptList(),features:Q.parseFeatureList(),lookups:Q.parseLookupList(Ln),variations:Q.parseFeatureVariationsList()}},make:function(Q){return new Pe.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Pe.ScriptList(Q.scripts)},{name:"features",type:"TABLE",value:new Pe.FeatureList(Q.features)},{name:"lookups",type:"TABLE",value:new Pe.LookupList(Q.lookups,Sn)}])}},Tr={parse:function(Q,ee){if(Q=new ze.Parser(Q,ee),(ee=Q.parseUShort())===0){var se=Q,ae={},ht=(se.skip("uShort"),se.parseUShort()),ge=(W.argument(ht===0,"Unsupported kern sub-table version."),se.skip("uShort",2),se.parseUShort());se.skip("uShort",3);for(var Te=0;Te<ge;Te+=1){var Ie=se.parseUShort(),Ve=se.parseUShort(),Ze=se.parseShort();ae[Ie+","+Ve]=Ze}return ae}if(ee!==1)throw new Error("Unsupported kern table version ("+ee+").");var Ye=Q,it={},ht=(Ye.skip("uShort"),1<Ye.parseULong()&&console.warn("Only the first kern subtable is supported."),Ye.skip("uLong"),255&Ye.parseUShort());if(Ye.skip("uShort"),ht==0){var lt=Ye.parseUShort();Ye.skip("uShort",3);for(var nt=0;nt<lt;nt+=1){var Mt=Ye.parseUShort(),_t=Ye.parseUShort(),Dt=Ye.parseShort();it[Mt+","+_t]=Dt}}return it}},oi={parse:function(Q,ee,se,ae){for(var ge=new ze.Parser(Q,ee),Te=ae?ge.parseUShort:ge.parseULong,Ie=[],Ve=0;Ve<se+1;Ve+=1){var Ze=Te.call(ge);ae&&(Ze*=2),Ie.push(Ze)}return Ie}};function kr(Q,ee){a("fs").readFile(Q,function(se,ae){if(se)return ee(se.message);ee(null,Gr(ae))})}function ci(Q,ee){var se=new XMLHttpRequest;se.open("get",Q,!0),se.responseType="arraybuffer",se.onload=function(){return se.response?ee(null,se.response):ee("Font could not be loaded: "+se.statusText)},se.onerror=function(){ee("Font could not be loaded")},se.send()}function Lr(Q,ee){for(var se=[],ae=12,ge=0;ge<ee;ge+=1){var Te=ze.getTag(Q,ae),Ie=ze.getULong(Q,ae+4),Ve=ze.getULong(Q,ae+8),Ze=ze.getULong(Q,ae+12);se.push({tag:Te,checksum:Ie,offset:Ve,length:Ze,compression:!1}),ae+=16}return se}function _n(se,ee){if(ee.compression!=="WOFF")return{data:se,offset:ee.offset};var se=new Uint8Array(se.buffer,ee.offset+2,ee.compressedLength-2),ae=new Uint8Array(ee.length);if(H(se,ae),ae.byteLength!==ee.length)throw new Error("Decompression error: "+ee.tag+" decompressed length doesn't match recorded length");return{data:new DataView(ae.buffer,0),offset:0}}function vr(yt){var ee,se,ae,ge,Te,Ie,Ve,Ze,Ye,it,ht,lt,nt,Mt,_t=new pn({empty:!0}),Dt=new DataView(yt,0),gt=[],yt=ze.getTag(Dt,0);if(yt===String.fromCharCode(0,1,0,0)||yt==="true"||yt==="typ1")_t.outlinesFormat="truetype",gt=Lr(Dt,ae=ze.getUShort(Dt,4));else if(yt==="OTTO")_t.outlinesFormat="cff",gt=Lr(Dt,ae=ze.getUShort(Dt,4));else{if(yt!=="wOFF")throw new Error("Unsupported OpenType signature "+yt);var Ht=ze.getTag(Dt,4);if(Ht===String.fromCharCode(0,1,0,0))_t.outlinesFormat="truetype";else{if(Ht!=="OTTO")throw new Error("Unsupported OpenType flavor "+yt);_t.outlinesFormat="cff"}gt=function(yn,fn){for(var In=[],wn=44,On=0;On<fn;On+=1){var vn=ze.getTag(yn,wn),Nn=ze.getULong(yn,wn+4),Ur=ze.getULong(yn,wn+8),br=ze.getULong(yn,wn+12),Cn=void 0,Cn=Ur<br&&"WOFF";In.push({tag:vn,offset:Nn,compression:Cn,compressedLength:Ur,length:br}),wn+=20}return In}(Dt,ae=ze.getUShort(Dt,12))}for(var Kt=0;Kt<ae;Kt+=1){var qt=gt[Kt],Wt=void 0;switch(qt.tag){case"cmap":Wt=_n(Dt,qt),_t.tables.cmap=we.parse(Wt.data,Wt.offset),_t.encoding=new rt(_t.tables.cmap);break;case"cvt ":Wt=_n(Dt,qt),Mt=new ze.Parser(Wt.data,Wt.offset),_t.tables.cvt=Mt.parseShortList(qt.length/2);break;case"fvar":Te=qt;break;case"fpgm":Wt=_n(Dt,qt),Mt=new ze.Parser(Wt.data,Wt.offset),_t.tables.fpgm=Mt.parseByteList(qt.length);break;case"head":Wt=_n(Dt,qt),_t.tables.head=sn.parse(Wt.data,Wt.offset),_t.unitsPerEm=_t.tables.head.unitsPerEm,ee=_t.tables.head.indexToLocFormat;break;case"hhea":Wt=_n(Dt,qt),_t.tables.hhea=Je.parse(Wt.data,Wt.offset),_t.ascender=_t.tables.hhea.ascender,_t.descender=_t.tables.hhea.descender,_t.numberOfHMetrics=_t.tables.hhea.numberOfHMetrics;break;case"hmtx":Ye=qt;break;case"ltag":Wt=_n(Dt,qt),se=_e.parse(Wt.data,Wt.offset);break;case"maxp":Wt=_n(Dt,qt),_t.tables.maxp=je.parse(Wt.data,Wt.offset),_t.numGlyphs=_t.tables.maxp.numGlyphs;break;case"name":lt=qt;break;case"OS/2":Wt=_n(Dt,qt),_t.tables.os2=Qt.parse(Wt.data,Wt.offset);break;case"post":Wt=_n(Dt,qt),_t.tables.post=tn.parse(Wt.data,Wt.offset),_t.glyphNames=new ft(_t.tables.post);break;case"prep":Wt=_n(Dt,qt),Mt=new ze.Parser(Wt.data,Wt.offset),_t.tables.prep=Mt.parseByteList(qt.length);break;case"glyf":Ie=qt;break;case"loca":ht=qt;break;case"CFF ":ge=qt;break;case"kern":it=qt;break;case"GPOS":Ve=qt;break;case"GSUB":Ze=qt;break;case"meta":nt=qt}}if(Ht=_n(Dt,lt),_t.tables.name=zt.parse(Ht.data,Ht.offset,se),_t.names=_t.tables.name,Ie&&ht)yt=ee===0,Ht=_n(Dt,ht),Ht=oi.parse(Ht.data,Ht.offset,_t.numGlyphs,yt),yt=_n(Dt,Ie),_t.glyphs=hr.parse(yt.data,yt.offset,Ht,_t);else{if(!ge)throw new Error("Font doesn't contain TrueType or CFF outlines.");yt=_n(Dt,ge),Gt.parse(yt.data,yt.offset,_t)}for(var Ht=_n(Dt,Ye),en=(Ct.parse(Ht.data,Ht.offset,_t.numberOfHMetrics,_t.numGlyphs,_t.glyphs),_t),gn=en.tables.cmap.glyphIndexMap,An=Object.keys(gn),En=0;En<An.length;En+=1){var jn,kn=An[En],Qn=gn[kn];(jn=en.glyphs.get(Qn)).addUnicode(parseInt(kn))}for(var hn=0;hn<en.glyphs.length;hn+=1)jn=en.glyphs.get(hn),en.cffEncoding?en.isCIDFont?jn.name="gid"+hn:jn.name=en.cffEncoding.charset[hn]:en.glyphNames.names&&(jn.name=en.glyphNames.glyphIndexToName(hn));return it?(yt=_n(Dt,it),_t.kerningPairs=Tr.parse(yt.data,yt.offset)):_t.kerningPairs={},Ve&&(Ht=_n(Dt,Ve),_t.tables.gpos=ai.parse(Ht.data,Ht.offset),_t.position.init()),Ze&&(yt=_n(Dt,Ze),_t.tables.gsub=Un.parse(yt.data,yt.offset)),Te&&(Ht=_n(Dt,Te),_t.tables.fvar=Rr.parse(Ht.data,Ht.offset,_t.names)),nt&&(yt=_n(Dt,nt),_t.tables.meta=tr.parse(yt.data,yt.offset),_t.metas=_t.tables.meta),_t}x.Font=pn,x.Glyph=ot,x.Path=J,x.BoundingBox=Z,x._parse=ze,x.parse=vr,x.load=function(Q,ee){(typeof window>"u"?kr:ci)(Q,function(se,ae){if(se)return ee(se);var ge;try{ge=vr(ae)}catch(Te){return ee(Te,null)}return ee(null,ge)})},x.loadSync=function(Q){return vr(Gr(a("fs").readFileSync(Q)))},Object.defineProperty(x,"__esModule",{value:!0})},l(typeof g=="object"&&r!==void 0?g:m.opentype={})}).call(this,a("buffer").Buffer)},{buffer:4,fs:2}],258:[function(a,r,g){(function(f){function m(S,D){for(var h=0,_=S.length-1;0<=_;_--){var o=S[_];o==="."?S.splice(_,1):o===".."?(S.splice(_,1),h++):h&&(S.splice(_,1),h--)}if(D)for(;h--;)S.unshift("..");return S}function l(S,D){if(S.filter)return S.filter(D);for(var h=[],_=0;_<S.length;_++)D(S[_],_,S)&&h.push(S[_]);return h}g.resolve=function(){for(var S="",D=!1,h=arguments.length-1;-1<=h&&!D;h--){var _=0<=h?arguments[h]:f.cwd();if(typeof _!="string")throw new TypeError("Arguments to path.resolve must be strings");_&&(S=_+"/"+S,D=_.charAt(0)==="/")}return(D?"/":"")+(S=m(l(S.split("/"),function(o){return!!o}),!D).join("/"))||"."},g.normalize=function(S){var D=g.isAbsolute(S),h=x(S,-1)==="/";return(S=(S=m(l(S.split("/"),function(_){return!!_}),!D).join("/"))||D?S:".")&&h&&(S+="/"),(D?"/":"")+S},g.isAbsolute=function(S){return S.charAt(0)==="/"},g.join=function(){var S=Array.prototype.slice.call(arguments,0);return g.normalize(l(S,function(D,h){if(typeof D!="string")throw new TypeError("Arguments to path.join must be strings");return D}).join("/"))},g.relative=function(S,D){function h(E){for(var N=0;N<E.length&&E[N]==="";N++);for(var T=E.length-1;0<=T&&E[T]==="";T--);return T<N?[]:E.slice(N,T-N+1)}S=g.resolve(S).substr(1),D=g.resolve(D).substr(1);for(var _=h(S.split("/")),o=h(D.split("/")),p=Math.min(_.length,o.length),b=p,y=0;y<p;y++)if(_[y]!==o[y]){b=y;break}for(var A=[],y=b;y<_.length;y++)A.push("..");return(A=A.concat(o.slice(b))).join("/")},g.sep="/",g.delimiter=":",g.dirname=function(S){if(typeof S!="string"&&(S+=""),S.length===0)return".";for(var D=S.charCodeAt(0)===47,h=-1,_=!0,o=S.length-1;1<=o;--o)if(S.charCodeAt(o)===47){if(!_){h=o;break}}else _=!1;return h===-1?D?"/":".":D&&h===1?"/":S.slice(0,h)},g.basename=function(S,D){return S=function(h){typeof h!="string"&&(h+="");for(var _=0,o=-1,p=!0,b=h.length-1;0<=b;--b)if(h.charCodeAt(b)===47){if(!p){_=b+1;break}}else o===-1&&(p=!1,o=b+1);return o===-1?"":h.slice(_,o)}(S),S=D&&S.substr(-1*D.length)===D?S.substr(0,S.length-D.length):S},g.extname=function(S){typeof S!="string"&&(S+="");for(var D=-1,h=0,_=-1,o=!0,p=0,b=S.length-1;0<=b;--b){var y=S.charCodeAt(b);if(y===47){if(o)continue;h=b+1;break}_===-1&&(o=!1,_=b+1),y===46?D===-1?D=b:p!==1&&(p=1):D!==-1&&(p=-1)}return D===-1||_===-1||p===0||p===1&&D===_-1&&D===h+1?"":S.slice(D,_)};var x="ab".substr(-1)==="b"?function(S,D,h){return S.substr(D,h)}:function(S,D,h){return D<0&&(D=S.length+D),S.substr(D,h)}}).call(this,a("_process"))},{_process:259}],259:[function(a,l,g){var f,m,l=l.exports={};function x(){throw new Error("setTimeout has not been defined")}function S(){throw new Error("clearTimeout has not been defined")}try{f=typeof setTimeout=="function"?setTimeout:x}catch{f=x}try{m=typeof clearTimeout=="function"?clearTimeout:S}catch{m=S}function D(N){if(f===setTimeout)return setTimeout(N,0);if((f===x||!f)&&setTimeout)return(f=setTimeout)(N,0);try{return f(N,0)}catch{try{return f.call(null,N,0)}catch{return f.call(this,N,0)}}}var h,_=[],o=!1,p=-1;function b(){o&&h&&(o=!1,h.length?_=h.concat(_):p=-1,_.length&&y())}function y(){if(!o){for(var N=D(b),T=(o=!0,_.length);T;){for(h=_,_=[];++p<T;)h&&h[p].run();p=-1,T=_.length}h=null,o=!1,function(O){if(m===clearTimeout)return clearTimeout(O);if((m===S||!m)&&clearTimeout)return(m=clearTimeout)(O);try{m(O)}catch{try{return m.call(null,O)}catch{return m.call(this,O)}}}(N)}}function A(N,T){this.fun=N,this.array=T}function E(){}l.nextTick=function(N){var T=new Array(arguments.length-1);if(1<arguments.length)for(var O=1;O<arguments.length;O++)T[O-1]=arguments[O];_.push(new A(N,T)),_.length!==1||o||D(y)},A.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=E,l.addListener=E,l.once=E,l.off=E,l.removeListener=E,l.removeAllListeners=E,l.emit=E,l.prependListener=E,l.prependOnceListener=E,l.listeners=function(N){return[]},l.binding=function(N){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(N){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],260:[function(a,r,g){r=function(f){var m,l=Object.prototype,x=l.hasOwnProperty,j=typeof Symbol=="function"?Symbol:{},S=j.iterator||"@@iterator",D=j.asyncIterator||"@@asyncIterator",h=j.toStringTag||"@@toStringTag";function _(L,Y,X,te){var J,K,$,W,Y=Y&&Y.prototype instanceof N?Y:N,Y=Object.create(Y.prototype),te=new V(te||[]);return Y._invoke=(J=L,K=X,$=te,W=p,function(ce,oe){if(W===y)throw new Error("Generator is already running");if(W===A){if(ce==="throw")throw oe;return U()}for($.method=ce,$.arg=oe;;){var ue=$.delegate;if(ue&&(ue=function Ce(le,ye){var ve=le.iterator[ye.method];if(ve===m){if(ye.delegate=null,ye.method==="throw"){if(le.iterator.return&&(ye.method="return",ye.arg=m,Ce(le,ye),ye.method==="throw"))return E;ye.method="throw",ye.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}if(ve=o(ve,le.iterator,ye.arg),ve.type==="throw")return ye.method="throw",ye.arg=ve.arg,ye.delegate=null,E;if(ve=ve.arg,!ve)return ye.method="throw",ye.arg=new TypeError("iterator result is not an object"),ye.delegate=null,E;{if(!ve.done)return ve;ye[le.resultName]=ve.value,ye.next=le.nextLoc,ye.method!=="return"&&(ye.method="next",ye.arg=m)}return ye.delegate=null,E}(ue,$),ue)){if(ue===E)continue;return ue}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(W===p)throw W=A,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);if(W=y,ue=o(J,K,$),ue.type==="normal"){if(W=$.done?A:b,ue.arg!==E)return{value:ue.arg,done:$.done}}else ue.type==="throw"&&(W=A,$.method="throw",$.arg=ue.arg)}}),Y}function o(L,H,X){try{return{type:"normal",arg:L.call(H,X)}}catch(Z){return{type:"throw",arg:Z}}}f.wrap=_;var p="suspendedStart",b="suspendedYield",y="executing",A="completed",E={};function N(){}function T(){}function O(){}var j={},M=(j[S]=function(){return this},Object.getPrototypeOf),M=M&&M(M(R([]))),F=(M&&M!==l&&x.call(M,S)&&(j=M),O.prototype=N.prototype=Object.create(j));function B(L){["next","throw","return"].forEach(function(H){L[H]=function(X){return this._invoke(H,X)}})}function I(L){var H;this._invoke=function(X,Z){function J(){return new Promise(function(K,$){(function W(Ce,te,ce,oe){var ue,Ce=o(L[Ce],L,te);if(Ce.type!=="throw")return(te=(ue=Ce.arg).value)&&typeof te=="object"&&x.call(te,"__await")?Promise.resolve(te.__await).then(function(le){W("next",le,ce,oe)},function(le){W("throw",le,ce,oe)}):Promise.resolve(te).then(function(le){ue.value=le,ce(ue)},function(le){return W("throw",le,ce,oe)});oe(Ce.arg)})(X,Z,K,$)})}return H=H?H.then(J,J):J()}}function G(L){var H={tryLoc:L[0]};1 in L&&(H.catchLoc=L[1]),2 in L&&(H.finallyLoc=L[2],H.afterLoc=L[3]),this.tryEntries.push(H)}function k(L){var H=L.completion||{};H.type="normal",delete H.arg,L.completion=H}function V(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(G,this),this.reset(!0)}function R(L){if(L){var H,X=L[S];if(X)return X.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length))return H=-1,(X=function Z(){for(;++H<L.length;)if(x.call(L,H))return Z.value=L[H],Z.done=!1,Z;return Z.value=m,Z.done=!0,Z}).next=X}return{next:U}}function U(){return{value:m,done:!0}}return(T.prototype=F.constructor=O).constructor=T,O[h]=T.displayName="GeneratorFunction",f.isGeneratorFunction=function(L){return L=typeof L=="function"&&L.constructor,!!L&&(L===T||(L.displayName||L.name)==="GeneratorFunction")},f.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,O):(L.__proto__=O,h in L||(L[h]="GeneratorFunction")),L.prototype=Object.create(F),L},f.awrap=function(L){return{__await:L}},B(I.prototype),I.prototype[D]=function(){return this},f.AsyncIterator=I,f.async=function(L,H,X,Z){var J=new I(_(L,H,X,Z));return f.isGeneratorFunction(H)?J:J.next().then(function(K){return K.done?K.value:J.next()})},B(F),F[h]="Generator",F[S]=function(){return this},F.toString=function(){return"[object Generator]"},f.keys=function(L){var H,X=[];for(H in L)X.push(H);return X.reverse(),function Z(){for(;X.length;){var J=X.pop();if(J in L)return Z.value=J,Z.done=!1,Z}return Z.done=!0,Z}},f.values=R,V.prototype={constructor:V,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(k),!L)for(var H in this)H.charAt(0)==="t"&&x.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=m)},stop:function(){this.done=!0;var L=this.tryEntries[0].completion;if(L.type==="throw")throw L.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var H=this;function X(Y,te){return K.type="throw",K.arg=L,H.next=Y,te&&(H.method="next",H.arg=m),!!te}for(var Z=this.tryEntries.length-1;0<=Z;--Z){var J=this.tryEntries[Z],K=J.completion;if(J.tryLoc==="root")return X("end");if(J.tryLoc<=this.prev){var $=x.call(J,"catchLoc"),W=x.call(J,"finallyLoc");if($&&W){if(this.prev<J.catchLoc)return X(J.catchLoc,!0);if(this.prev<J.finallyLoc)return X(J.finallyLoc)}else if($){if(this.prev<J.catchLoc)return X(J.catchLoc,!0)}else{if(!W)throw new Error("try statement without catch or finally");if(this.prev<J.finallyLoc)return X(J.finallyLoc)}}}},abrupt:function(L,H){for(var X=this.tryEntries.length-1;0<=X;--X){var Z=this.tryEntries[X];if(Z.tryLoc<=this.prev&&x.call(Z,"finallyLoc")&&this.prev<Z.finallyLoc){var J=Z;break}}var K=(J=J&&(L==="break"||L==="continue")&&J.tryLoc<=H&&H<=J.finallyLoc?null:J)?J.completion:{};return K.type=L,K.arg=H,J?(this.method="next",this.next=J.finallyLoc,E):this.complete(K)},complete:function(L,H){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&H&&(this.next=H),E},finish:function(L){for(var H=this.tryEntries.length-1;0<=H;--H){var X=this.tryEntries[H];if(X.finallyLoc===L)return this.complete(X.completion,X.afterLoc),k(X),E}},catch:function(L){for(var H=this.tryEntries.length-1;0<=H;--H){var X,Z,J=this.tryEntries[H];if(J.tryLoc===L)return(X=J.completion).type==="throw"&&(Z=X.arg,k(J)),Z}throw new Error("illegal catch attempt")},delegateYield:function(L,H,X){return this.delegate={iterator:R(L),resultName:H,nextLoc:X},this.method==="next"&&(this.arg=m),E}},f}(typeof r=="object"?r.exports:{});try{regeneratorRuntime=r}catch{Function("r","regeneratorRuntime = r")(r)}},{}],261:[function(a,r,g){(function(f){var m,l,x,S,D,h,_,o,p,b;function y(k){if(typeof k!="string"&&(k=String(k)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(k))throw new TypeError("Invalid character in header field name");return k.toLowerCase()}function A(k){return k=typeof k!="string"?String(k):k}function E(k){var V={next:function(){var R=k.shift();return{done:R===void 0,value:R}}};return l&&(V[Symbol.iterator]=function(){return V}),V}function N(k){this.map={},k instanceof N?k.forEach(function(V,R){this.append(R,V)},this):Array.isArray(k)?k.forEach(function(V){this.append(V[0],V[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(V){this.append(V,k[V])},this)}function T(k){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}function O(k){return new Promise(function(V,R){k.onload=function(){V(k.result)},k.onerror=function(){R(k.error)}})}function j(k){var V=new FileReader,R=O(V);return V.readAsArrayBuffer(k),R}function M(k){var V;return k.slice?k.slice(0):((V=new Uint8Array(k.byteLength)).set(new Uint8Array(k)),V.buffer)}function F(){return this.bodyUsed=!1,this._initBody=function(k){if(this._bodyInit=k)if(typeof k=="string")this._bodyText=k;else if(x&&Blob.prototype.isPrototypeOf(k))this._bodyBlob=k;else if(S&&FormData.prototype.isPrototypeOf(k))this._bodyFormData=k;else if(m&&URLSearchParams.prototype.isPrototypeOf(k))this._bodyText=k.toString();else if(D&&x&&_(k))this._bodyArrayBuffer=M(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!D||!ArrayBuffer.prototype.isPrototypeOf(k)&&!o(k))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=M(k)}else this._bodyText="";this.headers.get("content-type")||(typeof k=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},x&&(this.blob=function(){var k=T(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(j)}),this.text=function(){var k,V,R=T(this);if(R)return R;if(this._bodyBlob)return R=this._bodyBlob,k=new FileReader,V=O(k),k.readAsText(R),V;if(this._bodyArrayBuffer)return Promise.resolve(function(U){for(var L=new Uint8Array(U),H=new Array(L.length),X=0;X<L.length;X++)H[X]=String.fromCharCode(L[X]);return H.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},S&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}function B(k,V){var R,U=(V=V||{}).body;if(k instanceof B){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,V.headers||(this.headers=new N(k.headers)),this.method=k.method,this.mode=k.mode,U||k._bodyInit==null||(U=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=V.credentials||this.credentials||"omit",!V.headers&&this.headers||(this.headers=new N(V.headers)),this.method=(k=V.method||this.method||"GET",R=k.toUpperCase(),-1<p.indexOf(R)?R:k),this.mode=V.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&U)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(U)}function I(k){var V=new FormData;return k.trim().split("&").forEach(function(R){var U;R&&(U=(R=R.split("=")).shift().replace(/\+/g," "),R=R.join("=").replace(/\+/g," "),V.append(decodeURIComponent(U),decodeURIComponent(R)))}),V}function G(k,V){V=V||{},this.type="default",this.status=V.status===void 0?200:V.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in V?V.statusText:"OK",this.headers=new N(V.headers),this.url=V.url||"",this._initBody(k)}f.fetch||(m="URLSearchParams"in f,l="Symbol"in f&&"iterator"in Symbol,x="FileReader"in f&&"Blob"in f&&function(){try{return new Blob,!0}catch{return!1}}(),S="FormData"in f,(D="ArrayBuffer"in f)&&(h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=function(k){return k&&DataView.prototype.isPrototypeOf(k)},o=ArrayBuffer.isView||function(k){return k&&-1<h.indexOf(Object.prototype.toString.call(k))}),N.prototype.append=function(k,V){k=y(k),V=A(V);var R=this.map[k];this.map[k]=R?R+","+V:V},N.prototype.delete=function(k){delete this.map[y(k)]},N.prototype.get=function(k){return k=y(k),this.has(k)?this.map[k]:null},N.prototype.has=function(k){return this.map.hasOwnProperty(y(k))},N.prototype.set=function(k,V){this.map[y(k)]=A(V)},N.prototype.forEach=function(k,V){for(var R in this.map)this.map.hasOwnProperty(R)&&k.call(V,this.map[R],R,this)},N.prototype.keys=function(){var k=[];return this.forEach(function(V,R){k.push(R)}),E(k)},N.prototype.values=function(){var k=[];return this.forEach(function(V){k.push(V)}),E(k)},N.prototype.entries=function(){var k=[];return this.forEach(function(V,R){k.push([R,V])}),E(k)},l&&(N.prototype[Symbol.iterator]=N.prototype.entries),p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],B.prototype.clone=function(){return new B(this,{body:this._bodyInit})},F.call(B.prototype),F.call(G.prototype),G.prototype.clone=function(){return new G(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new N(this.headers),url:this.url})},G.error=function(){var k=new G(null,{status:0,statusText:""});return k.type="error",k},b=[301,302,303,307,308],G.redirect=function(k,V){if(b.indexOf(V)===-1)throw new RangeError("Invalid status code");return new G(null,{status:V,headers:{location:k}})},f.Headers=N,f.Request=B,f.Response=G,f.fetch=function(k,V){return new Promise(function(R,U){var L=new B(k,V),H=new XMLHttpRequest;H.onload=function(){var X,Z={status:H.status,statusText:H.statusText,headers:(Z=H.getAllResponseHeaders()||"",X=new N,Z.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function($){var $=$.split(":"),W=$.shift().trim();W&&($=$.join(":").trim(),X.append(W,$))}),X)},J=(Z.url="responseURL"in H?H.responseURL:Z.headers.get("X-Request-URL"),"response"in H?H.response:H.responseText);R(new G(J,Z))},H.onerror=function(){U(new TypeError("Network request failed"))},H.ontimeout=function(){U(new TypeError("Network request failed"))},H.open(L.method,L.url,!0),L.credentials==="include"?H.withCredentials=!0:L.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&x&&(H.responseType="blob"),L.headers.forEach(function(X,Z){H.setRequestHeader(Z,X)}),H.send(L._bodyInit===void 0?null:L._bodyInit)})},f.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(a,r,g){a("core-js/modules/es.function.name"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.split"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.split"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f,m=x(a("../core/main")),l=x(a("../color/color_conversion"));function x(h){return h&&h.__esModule?h:{default:h}}var S=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],D=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];m.default.prototype._rgbColorName=function(p){var _,o,p=l.default._rgbaToHSBA(p),b=[(f=p)[0],p[1],p[2]];b[0]!==0&&(b[0]=Math.round(100*b[0]),(p=b[0].toString().split(""))[o=p.length-1]=parseInt(p[o]),p[o]<2.5?p[o]=0:2.5<=p[o]&&p[o]<7.5&&(p[o]=5),p.length===2?(p[0]=parseInt(p[0]),7.5<=p[o]&&(p[o]=0,p[0]=p[0]+1),b[0]=10*p[0]+p[1]):7.5<=p[o]?b[0]=10:b[0]=p[o]),b[2]=b[2]/255;for(var y=b.length-1;1<=y;y--)b[y]<=.25?b[y]=0:.25<b[y]&&b[y]<.75?b[y]=.5:b[y]=1;if(b[0]===0&&b[1]===0&&b[2]===1){for(var A=2;0<=A;A--)f[A]=Math.round(1e4*f[A])/1e4;for(var E=0;E<S.length;E++){if(S[E].h===f[0]&&S[E].s===f[1]&&S[E].b===f[2]){_=S[E].name;break}_="white"}}else for(var N=0;N<D.length;N++)if(D[N].h===b[0]&&D[N].s===b[1]&&D[N].b===b[2]){_=D[N].name;break}return _},a=m.default,g.default=a},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(a,r,g){a("core-js/modules/es.array.concat"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.ends-with"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.ends-with"),a("core-js/modules/es.string.replace"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(a=a("../core/main"))&&a.__esModule?a:{default:a},m="_Description",l="_fallbackDesc",x="_fallbackTable",S="_Label",D="_labelDesc",h="_labelTable";function _(o){if(o==="label"||o==="fallback")throw new Error("description should not be LABEL or FALLBACK");return o.endsWith(".")||o.endsWith(";")||o.endsWith(",")||o.endsWith("?")||o.endsWith("!")||(o+="."),o}f.default.prototype.describe=function(o,p){var b;f.default._validateParameters("describe",arguments),typeof o=="string"&&(b=this.canvas.id,o=_(o),this.dummyDOM||(this.dummyDOM=document.getElementById(b).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==o&&(this.descriptions.fallback.innerHTML=o):this._describeHTML("fallback",o),p===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==o&&(this.descriptions.label.innerHTML=o):this._describeHTML("label",o)))},f.default.prototype.describeElement=function(o,p,b){var y,A;f.default._validateParameters("describeElement",arguments),typeof p=="string"&&typeof o=="string"&&(y=this.canvas.id,p=_(p),A=function(E){if(E==="label"||E==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return E.endsWith(".")||E.endsWith(";")||E.endsWith(",")?E=E.replace(/.$/,":"):E.endsWith(":")||(E+=":"),E}(o),o=o.replace(/[^a-zA-Z0-9]/g,""),A='<th scope="row">'.concat(A,"</th><td>").concat(p,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(y).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[o]?this.descriptions.fallbackElements[o].innerHTML!==A&&(this.descriptions.fallbackElements[o].innerHTML=A):this._describeElementHTML("fallback",o,A),b===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[o]?this.descriptions.labelElements[o].innerHTML!==A&&(this.descriptions.labelElements[o].innerHTML=A):this._describeElementHTML("label",o,A)))},f.default.prototype._describeHTML=function(o,p){var b,y=this.canvas.id;o==="fallback"?(this.dummyDOM.querySelector("#".concat(y+m))?this.dummyDOM.querySelector("#"+y+x).insertAdjacentHTML("beforebegin",'<p id="'.concat(y+l,'"></p>')):(b='<div id="'.concat(y).concat(m,'" role="region" aria-label="Canvas Description"><p id="').concat(y).concat(l,'"></p></div>'),this.dummyDOM.querySelector("#".concat(y,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(y,"accessibleOutput")).insertAdjacentHTML("beforebegin",b):this.dummyDOM.querySelector("#".concat(y)).innerHTML=b),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(y).concat(l)),this.descriptions.fallback.innerHTML=p):o==="label"&&(this.dummyDOM.querySelector("#".concat(y+S))?this.dummyDOM.querySelector("#".concat(y+h))&&this.dummyDOM.querySelector("#".concat(y+h)).insertAdjacentHTML("beforebegin",'<p id="'.concat(y).concat(D,'"></p>')):(b='<div id="'.concat(y).concat(S,'" class="p5Label"><p id="').concat(y).concat(D,'"></p></div>'),this.dummyDOM.querySelector("#".concat(y,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(y,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",b):this.dummyDOM.querySelector("#"+y).insertAdjacentHTML("afterend",b)),this.descriptions.label=this.dummyDOM.querySelector("#"+y+D),this.descriptions.label.innerHTML=p)},f.default.prototype._describeElementHTML=function(o,p,b){var y,A=this.canvas.id;o==="fallback"?(this.dummyDOM.querySelector("#".concat(A+m))?this.dummyDOM.querySelector("#"+A+x)||this.dummyDOM.querySelector("#"+A+l).insertAdjacentHTML("afterend",'<table id="'.concat(A).concat(x,'"><caption>Canvas elements and their descriptions</caption></table>')):(y='<div id="'.concat(A).concat(m,'" role="region" aria-label="Canvas Description"><table id="').concat(A).concat(x,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(A,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(A,"accessibleOutput")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#"+A).innerHTML=y),(y=document.createElement("tr")).id=A+"_fte_"+p,this.dummyDOM.querySelector("#"+A+x).appendChild(y),this.descriptions.fallbackElements[p]=this.dummyDOM.querySelector("#".concat(A).concat("_fte_").concat(p)),this.descriptions.fallbackElements[p].innerHTML=b):o==="label"&&(this.dummyDOM.querySelector("#".concat(A+S))?this.dummyDOM.querySelector("#".concat(A+h))||this.dummyDOM.querySelector("#"+A+D).insertAdjacentHTML("afterend",'<table id="'.concat(A+h,'"></table>')):(y='<div id="'.concat(A).concat(S,'" class="p5Label"><table id="').concat(A).concat(h,'"></table></div>'),this.dummyDOM.querySelector("#".concat(A,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(A,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#"+A).insertAdjacentHTML("afterend",y)),(o=document.createElement("tr")).id=A+"_lte_"+p,this.dummyDOM.querySelector("#"+A+h).appendChild(o),this.descriptions.labelElements[p]=this.dummyDOM.querySelector("#".concat(A).concat("_lte_").concat(p)),this.descriptions.labelElements[p].innerHTML=b)},a=f.default,g.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(a,r,g){a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.map"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.map"),a("core-js/modules/es.string.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a},a.default.prototype._updateGridOutput=function(f){var m,l,x,S;this.dummyDOM.querySelector("#".concat(f,"_summary"))&&(m=this._accessibleOutputs[f],x=function(D,h,_,o){return h="".concat(h," canvas, ").concat(_," by ").concat(o," pixels, contains ").concat(D[0]),h=(D[0]===1?"".concat(h," shape: "):"".concat(h," shapes: ")).concat(D[1]),h}((l=function(D,h){var _,o="",p="",b=0;for(_ in h){var y,A=0;for(y in h[_]){var E='<li id="'.concat(D,"shape").concat(b,'">').concat(h[_][y].color," ").concat(_,",");_==="line"?E+=" location = ".concat(h[_][y].pos,", length = ").concat(h[_][y].length," pixels"):(E+=" location = ".concat(h[_][y].pos),_!=="point"&&(E+=", area = ".concat(h[_][y].area," %")),E+="</li>"),o+=E,A++,b++}p=1<A?"".concat(p," ").concat(A," ").concat(_,"s"):"".concat(p," ").concat(A," ").concat(_)}return{numShapes:[b,p],details:o}}(f,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),S=function(D,h){var _,o,p=0,b="",y=Array.from(Array(10),function(){return Array(10)});for(_ in h)for(var A in h[_]){var E=void 0;E=_!=="line"?'<a href="#'.concat(D,"shape").concat(p,'">').concat(h[_][A].color," ").concat(_,"</a>"):'<a href="#'.concat(D,"shape").concat(p,'">').concat(h[_][A].color," ").concat(_," midpoint</a>"),h[_][A].loc.locY<y.length&&h[_][A].loc.locX<y[h[_][A].loc.locY].length&&(y[h[_][A].loc.locY][h[_][A].loc.locX]?y[h[_][A].loc.locY][h[_][A].loc.locX]=y[h[_][A].loc.locY][h[_][A].loc.locX]+"  "+E:y[h[_][A].loc.locY][h[_][A].loc.locX]=E,p++)}for(o in y){var N,T="<tr>";for(N in y[o])T+="<td>",y[o][N]!==void 0&&(T+=y[o][N]),T+="</td>";b=b+T+"</tr>"}return b}(f,this.ingredients.shapes),x!==m.summary.innerHTML&&(m.summary.innerHTML=x),S!==m.map.innerHTML&&(m.map.innerHTML=S),l.details!==m.shapeDetails.innerHTML&&(m.shapeDetails.innerHTML=l.details),this._accessibleOutputs[f]=m)},a=a.default,g.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(a,r,g){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.number.to-fixed"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.map"),a("core-js/modules/es.number.to-fixed"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(a=a("../core/main"))&&a.__esModule?a:{default:a};function m(x){return function(S){if(Array.isArray(S)){for(var D=0,h=new Array(S.length);D<S.length;D++)h[D]=S[D];return h}}(x)||function(S){if(Symbol.iterator in Object(S)||Object.prototype.toString.call(S)==="[object Arguments]")return Array.from(S)}(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(_,S,D){var h=_[0],_=_[1];return h<0||S<=h||_<0||D<=_?null:((h=Math.floor(h/S*10))===10&&(h-=1),(S=Math.floor(_/D*10))===10&&(S-=1),{locX:h,locY:S})}f.default.prototype.textOutput=function(x){f.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),x===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},f.default.prototype.gridOutput=function(x){f.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),x===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},f.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},f.default.prototype._createOutput=function(x,S){var D,h,_,o=this.canvas.id,p=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(o).parentNode),"");S==="Fallback"?(D=o+x,this.dummyDOM.querySelector("#".concat(h=o+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(o,"_Description"))?this.dummyDOM.querySelector("#".concat(o,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(h,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(o)).innerHTML='<div id="'.concat(h,'" role="region" aria-label="Canvas Outputs"></div>'))):S==="Label"&&(D=o+x+(p=S),this.dummyDOM.querySelector("#".concat(h=o+"accessibleOutput"+S))||(this.dummyDOM.querySelector("#".concat(o,"_Label"))?this.dummyDOM.querySelector("#".concat(o,"_Label")):this.dummyDOM.querySelector("#".concat(o))).insertAdjacentHTML("afterend",'<div id="'.concat(h,'"></div>'))),this._accessibleOutputs[D]={},x==="textOutput"?(p="#".concat(o,"gridOutput").concat(p),_='<div id="'.concat(D,'">Text Output<div id="').concat(D,'Summary" aria-label="text output summary"><p id="').concat(D,'_summary"></p><ul id="').concat(D,'_list"></ul></div><table id="').concat(D,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(p)?this.dummyDOM.querySelector(p).insertAdjacentHTML("beforebegin",_):this.dummyDOM.querySelector("#".concat(h)).innerHTML=_,this._accessibleOutputs[D].list=this.dummyDOM.querySelector("#".concat(D,"_list"))):x==="gridOutput"&&(p="#".concat(o,"textOutput").concat(p),_='<div id="'.concat(D,'">Grid Output<p id="').concat(D,'_summary" aria-label="grid output summary"><table id="').concat(D,'_map" summary="grid output content"></table><ul id="').concat(D,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(p)?this.dummyDOM.querySelector(p).insertAdjacentHTML("afterend",_):this.dummyDOM.querySelector("#".concat(h)).innerHTML=_,this._accessibleOutputs[D].map=this.dummyDOM.querySelector("#".concat(D,"_map"))),this._accessibleOutputs[D].shapeDetails=this.dummyDOM.querySelector("#".concat(D,"_shapeDetails")),this._accessibleOutputs[D].summary=this.dummyDOM.querySelector("#".concat(D,"_summary"))},f.default.prototype._updateAccsOutput=function(){var x=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(x+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(x+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(x+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(x+"gridOutputLabel"))},f.default.prototype._accsBackground=function(x){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==x&&(this.ingredients.colors.backgroundRGBA=x,this.ingredients.colors.background=this._rgbColorName(x))},f.default.prototype._accsCanvasColors=function(x,S){x==="fill"?this.ingredients.colors.fillRGBA!==S&&(this.ingredients.colors.fillRGBA=S,this.ingredients.colors.fill=this._rgbColorName(S)):x==="stroke"&&this.ingredients.colors.strokeRGBA!==S&&(this.ingredients.colors.strokeRGBA=S,this.ingredients.colors.stroke=this._rgbColorName(S))},f.default.prototype._accsOutput=function(x,S){x==="ellipse"&&S[2]===S[3]?x="circle":x==="rectangle"&&S[2]===S[3]&&(x="square");var D,h,_={},o=!0,p=function(y,A){var E;return y=y==="rectangle"||y==="ellipse"||y==="arc"||y==="circle"||y==="square"?(E=Math.round(A[0]+A[2]/2),Math.round(A[1]+A[3]/2)):y==="triangle"?(E=(A[0]+A[2]+A[4])/3,(A[1]+A[3]+A[5])/3):y==="quadrilateral"?(E=(A[0]+A[2]+A[4]+A[6])/4,(A[1]+A[3]+A[5]+A[7])/4):y==="line"?(E=(A[0]+A[2])/2,(A[1]+A[3])/2):(E=A[0],A[1]),[E,y]}(x,S);if(x==="line"?(_.color=this.ingredients.colors.stroke,_.length=Math.round(this.dist(S[0],S[1],S[2],S[3])),D=this._getPos(S[0],[1]),h=this._getPos(S[2],[3]),_.loc=l(p,this.width,this.height),_.pos=D===h?"at ".concat(D):"from ".concat(D," to ").concat(h)):(x==="point"?_.color=this.ingredients.colors.stroke:(_.color=this.ingredients.colors.fill,_.area=this._getArea(x,S)),_.pos=this._getPos.apply(this,m(p)),_.loc=l(p,this.width,this.height)),this.ingredients.shapes[x]){if(this.ingredients.shapes[x]!==[_]){for(var b in this.ingredients.shapes[x])JSON.stringify(this.ingredients.shapes[x][b])===JSON.stringify(_)&&(o=!1);o===!0&&this.ingredients.shapes[x].push(_)}}else this.ingredients.shapes[x]=[_]},f.default.prototype._getPos=function(h,D){var h=new DOMPointReadOnly(h,D),D=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),h=h.matrixTransform(D),D=h.x,h=h.y,_=this.width*this._pixelDensity,o=this.height*this._pixelDensity;return D<.4*_?h<.4*o?"top left":.6*o<h?"bottom left":"mid left":.6*_<D?h<.4*o?"top right":.6*o<h?"bottom right":"mid right":h<.4*o?"top middle":.6*o<h?"bottom middle":"middle"},f.default.prototype._getArea=function(x,S){var D,h,_=0,o=(x==="arc"?(_=(D=((S[5]-S[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*S[2]*S[3]/8,S[6]!=="open"&&S[6]!=="chord"||(h=S[0],A=S[1],o=S[0]+S[2]/2*Math.cos(S[4]).toFixed(2),E=S[1]+S[3]/2*Math.sin(S[4]).toFixed(2),b=S[0]+S[2]/2*Math.cos(S[5]).toFixed(2),p=S[1]+S[3]/2*Math.sin(S[5]).toFixed(2),h=Math.abs(h*(E-p)+o*(p-A)+b*(A-E))/2,D>Math.PI?_+=h:_-=h)):x==="ellipse"||x==="circle"?_=3.14*S[2]/2*S[3]/2:x==="line"||x==="point"?_=0:x==="quadrilateral"?_=Math.abs((S[6]+S[0])*(S[7]-S[1])+(S[0]+S[2])*(S[1]-S[3])+(S[2]+S[4])*(S[3]-S[5])+(S[4]+S[6])*(S[5]-S[7]))/2:x==="rectangle"||x==="square"?_=S[2]*S[3]:x==="triangle"&&(_=Math.abs(S[0]*(S[3]-S[5])+S[2]*(S[5]-S[1])+S[4]*(S[1]-S[3]))/2),this.width*this._pixelDensity),p=this.height*this._pixelDensity,b=[new DOMPoint(0,0),new DOMPoint(o,0),new DOMPoint(o,p),new DOMPoint(0,p)],y=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),A=b.map(function(N){return N.matrixTransform(y)}),E=Math.abs((A[3].x+A[0].x)*(A[3].y-A[0].y)+(A[0].x+A[1].x)*(A[0].y-A[1].y)+(A[1].x+A[2].x)*(A[1].y-A[2].y)+(A[2].x+A[3].x)*(A[2].y-A[3].y))/2;return Math.round(100*_/E)},a=f.default,g.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(a,r,g){a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.concat"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a},a.default.prototype._updateTextOutput=function(f){var m,l,x,S;this.dummyDOM.querySelector("#".concat(f,"_summary"))&&(m=this._accessibleOutputs[f],x=function(D,h,_,o){return _="Your output is a, ".concat(_," by ").concat(o," pixels, ").concat(h," canvas containing the following"),_=D===1?"".concat(_," shape:"):"".concat(_," ").concat(D," shapes:"),_}((l=function(D,h){var _,o="",p=0;for(_ in h)for(var b in h[_]){var y='<li><a href="#'.concat(D,"shape").concat(p,'">').concat(h[_][b].color," ").concat(_,"</a>");_==="line"?y+=", ".concat(h[_][b].pos,", ").concat(h[_][b].length," pixels long.</li>"):(y+=", at ".concat(h[_][b].pos),_!=="point"&&(y+=", covering ".concat(h[_][b].area,"% of the canvas")),y+=".</li>"),o+=y,p++}return{numShapes:p,listShapes:o}}(f,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),S=function(D,h){var _,o="",p=0;for(_ in h)for(var b in h[_]){var y='<tr id="'.concat(D,"shape").concat(p,'"><th>').concat(h[_][b].color," ").concat(_,"</th>");_==="line"?y+="<td>location = ".concat(h[_][b].pos,"</td><td>length = ").concat(h[_][b].length," pixels</td></tr>"):(y+="<td>location = ".concat(h[_][b].pos,"</td>"),_!=="point"&&(y+="<td> area = ".concat(h[_][b].area,"%</td>")),y+="</tr>"),o+=y,p++}return o}(f,this.ingredients.shapes),x!==m.summary.innerHTML&&(m.summary.innerHTML=x),l.listShapes!==m.list.innerHTML&&(m.list.innerHTML=l.listShapes),S!==m.shapeDetails.innerHTML&&(m.shapeDetails.innerHTML=S),this._accessibleOutputs[f]=m)},a=a.default,g.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(a,r,g){var f=(f=a("./core/main"))&&f.__esModule?f:{default:f};a("./core/constants"),a("./core/environment"),a("./core/friendly_errors/stacktrace"),a("./core/friendly_errors/validate_params"),a("./core/friendly_errors/file_errors"),a("./core/friendly_errors/fes_core"),a("./core/friendly_errors/sketch_reader"),a("./core/helpers"),a("./core/legacy"),a("./core/preload"),a("./core/p5.Element"),a("./core/p5.Graphics"),a("./core/p5.Renderer"),a("./core/p5.Renderer2D"),a("./core/rendering"),a("./core/shim"),a("./core/structure"),a("./core/transform"),a("./core/shape/2d_primitives"),a("./core/shape/attributes"),a("./core/shape/curves"),a("./core/shape/vertex"),a("./accessibility/outputs"),a("./accessibility/textOutput"),a("./accessibility/gridOutput"),a("./accessibility/color_namer"),a("./color/color_conversion"),a("./color/creating_reading"),a("./color/p5.Color"),a("./color/setting"),a("./data/p5.TypedDict"),a("./data/local_storage.js"),a("./dom/dom"),a("./accessibility/describe"),a("./events/acceleration"),a("./events/keyboard"),a("./events/mouse"),a("./events/touch"),a("./image/filters"),a("./image/image"),a("./image/loading_displaying"),a("./image/p5.Image"),a("./image/pixels"),a("./io/files"),a("./io/p5.Table"),a("./io/p5.TableRow"),a("./io/p5.XML"),a("./math/calculation"),a("./math/math"),a("./math/noise"),a("./math/p5.Vector"),a("./math/random"),a("./math/trigonometry"),a("./typography/attributes"),a("./typography/loading_displaying"),a("./typography/p5.Font"),a("./utilities/array_functions"),a("./utilities/conversion"),a("./utilities/string_functions"),a("./utilities/time_date"),a("./webgl/3d_primitives"),a("./webgl/interaction"),a("./webgl/light"),a("./webgl/loading"),a("./webgl/material"),a("./webgl/p5.Camera"),a("./webgl/p5.DataArray"),a("./webgl/p5.Geometry"),a("./webgl/p5.Matrix"),a("./webgl/p5.Quat"),a("./webgl/p5.RendererGL.Immediate"),a("./webgl/p5.RendererGL"),a("./webgl/p5.RendererGL.Retained"),a("./webgl/p5.Framebuffer"),a("./webgl/p5.Shader"),a("./webgl/p5.RenderBuffer"),a("./webgl/p5.Texture"),a("./webgl/text"),a("./core/init"),r.exports=f.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(a,r,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a},a.default.ColorConversion={_hsbaToHSLA:function(f){var m=f[0],l=f[1],x=f[2],S=(2-l)*x/2;return S!=0&&(S==1?l=0:S<.5?l/=2-l:l=l*x/(2-2*S)),[m,l,S,f[3]]},_hsbaToRGBA:function(f){var m,l,x,S,D,h=6*f[0],_=f[1],o=f[2];return _===0?[o,o,o,f[3]]:(l=o*(1-_),x=o*(1-_*(h-(m=Math.floor(h)))),_=o*(1-_*(1+m-h)),h=m===1?(S=x,D=o,l):m===2?(S=l,D=o,_):m===3?(S=l,D=x,o):m===4?(S=_,D=l,o):m===5?(S=o,D=l,x):(S=o,D=_,l),[S,D,h,f[3]])},_hslaToHSBA:function(f){var m=f[0],l=f[1],x=f[2],S=x<.5?(1+l)*x:x+l-x*l;return[m,l=2*(S-x)/S,S,f[3]]},_hslaToRGBA:function(f){var m,l=6*f[0],x=f[1],S=f[2];return x===0?[S,S,S,f[3]]:[(m=function(D,h,_){return D<0?D+=6:6<=D&&(D-=6),D<1?h+(_-h)*D:D<3?_:D<4?h+(_-h)*(4-D):h})(2+l,x=2*S-(S=S<.5?(1+x)*S:S+x-S*x),S),m(l,x,S),m(l-2,x,S),f[3]]},_rgbaToHSBA:function(f){var m,l,x=f[0],S=f[1],D=f[2],h=Math.max(x,S,D),_=h-Math.min(x,S,D);return _==0?l=m=0:(l=_/h,x===h?m=(S-D)/_:S===h?m=2+(D-x)/_:D===h&&(m=4+(x-S)/_),m<0?m+=6:6<=m&&(m-=6)),[m/6,l,h,f[3]]},_rgbaToHSLA:function(f){var m,l,x=f[0],S=f[1],D=f[2],h=Math.max(x,S,D),o=Math.min(x,S,D),_=h+o,o=h-o;return o==0?l=m=0:(l=_<1?o/_:o/(2-_),x===h?m=(S-D)/o:S===h?m=2+(D-x)/o:D===h&&(m=4+(x-S)/o),m<0?m+=6:6<=m&&(m-=6)),[m/6,l,_/2,f[3]]}},a=a.default.ColorConversion,g.default=a},{"../core/main":283}],269:[function(a,r,g){function f(h){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}function m(h){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(_){return f(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":f(_)})(h)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.map"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(D=a("../core/main"))&&D.__esModule?D:{default:D},x=function(h){if(h&&h.__esModule)return h;if(h===null||m(h)!=="object"&&typeof h!="function")return{default:h};var _=S();if(_&&_.has(h))return _.get(h);var o,p={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in h){var y;Object.prototype.hasOwnProperty.call(h,o)&&((y=b?Object.getOwnPropertyDescriptor(h,o):null)&&(y.get||y.set)?Object.defineProperty(p,o,y):p[o]=h[o])}return p.default=h,_&&_.set(h,p),p}(a("../core/constants"));function S(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,S=function(){return h},h)}a("./p5.Color"),a("../core/friendly_errors/validate_params"),a("../core/friendly_errors/file_errors"),a("../core/friendly_errors/fes_core"),l.default.prototype.alpha=function(h){return l.default._validateParameters("alpha",arguments),this.color(h)._getAlpha()},l.default.prototype.blue=function(h){return l.default._validateParameters("blue",arguments),this.color(h)._getBlue()},l.default.prototype.brightness=function(h){return l.default._validateParameters("brightness",arguments),this.color(h)._getBrightness()},l.default.prototype.color=function(){for(var h,_=arguments.length,o=new Array(_),p=0;p<_;p++)o[p]=arguments[p];return l.default._validateParameters("color",o),o[0]instanceof l.default.Color?o[0]:(h=Array.isArray(o[0])?o[0]:o,new l.default.Color(this,h))},l.default.prototype.green=function(h){return l.default._validateParameters("green",arguments),this.color(h)._getGreen()},l.default.prototype.hue=function(h){return l.default._validateParameters("hue",arguments),this.color(h)._getHue()},l.default.prototype.lerpColor=function(h,_,o){l.default._validateParameters("lerpColor",arguments),h instanceof l.default.Color||(h=color(h)),_ instanceof l.default.Color||(_=color(_));var p,b,y,A=this._colorMode,E=this._colorMaxes;if(A===x.RGB)b=h.levels.map(function(N){return N/255}),y=_.levels.map(function(N){return N/255});else if(A===x.HSB)h._getBrightness(),_._getBrightness(),b=h.hsba,y=_.hsba;else{if(A!==x.HSL)throw new Error("".concat(A," cannot be used for interpolation."));h._getLightness(),_._getLightness(),b=h.hsla,y=_.hsla}return o=Math.max(Math.min(o,1),0),this.lerp===void 0&&(this.lerp=function(N,T,O){return O*(T-N)+N}),A===x.RGB?p=this.lerp(b[0],y[0],o):(.5<Math.abs(b[0]-y[0])&&(b[0]>y[0]?y[0]+=1:b[0]+=1),1<=(p=this.lerp(b[0],y[0],o))&&--p),h=this.lerp(b[1],y[1],o),_=this.lerp(b[2],y[2],o),b=this.lerp(b[3],y[3],o),p*=E[A][0],h*=E[A][1],_*=E[A][2],b*=E[A][3],this.color(p,h,_,b)},l.default.prototype.paletteLerp=function(h,_){var o=h[0];if(_<o[1])return this.color(o[0]);for(var p=1;p<h.length;p++){var b,y=h[p];if(_<y[1])return b=h[p-1],this.lerpColor(this.color(b[0]),this.color(y[0]),(_-b[1])/(y[1]-b[1]))}return this.color(h[h.length-1][0])},l.default.prototype.lightness=function(h){return l.default._validateParameters("lightness",arguments),this.color(h)._getLightness()},l.default.prototype.red=function(h){return l.default._validateParameters("red",arguments),this.color(h)._getRed()},l.default.prototype.saturation=function(h){return l.default._validateParameters("saturation",arguments),this.color(h)._getSaturation()};var D=l.default;g.default=D},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(p,r,g){function f(N){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(N)}function m(N){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(T){return f(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":f(T)})(N)}p("core-js/modules/es.symbol"),p("core-js/modules/es.symbol.description"),p("core-js/modules/es.symbol.iterator"),p("core-js/modules/es.array.includes"),p("core-js/modules/es.array.iterator"),p("core-js/modules/es.array.join"),p("core-js/modules/es.array.map"),p("core-js/modules/es.array.slice"),p("core-js/modules/es.object.get-own-property-descriptor"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.regexp.constructor"),p("core-js/modules/es.regexp.exec"),p("core-js/modules/es.regexp.to-string"),p("core-js/modules/es.string.includes"),p("core-js/modules/es.string.iterator"),p("core-js/modules/es.string.trim"),p("core-js/modules/es.weak-map"),p("core-js/modules/web.dom-collections.iterator"),p("core-js/modules/es.array.includes"),p("core-js/modules/es.array.join"),p("core-js/modules/es.array.map"),p("core-js/modules/es.array.slice"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.regexp.constructor"),p("core-js/modules/es.regexp.exec"),p("core-js/modules/es.regexp.to-string"),p("core-js/modules/es.string.includes"),p("core-js/modules/es.string.trim"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=h(p("../core/main")),x=function(N){if(N&&N.__esModule)return N;if(N===null||m(N)!=="object"&&typeof N!="function")return{default:N};var T=D();if(T&&T.has(N))return T.get(N);var O,j={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in N){var F;Object.prototype.hasOwnProperty.call(N,O)&&((F=M?Object.getOwnPropertyDescriptor(N,O):null)&&(F.get||F.set)?Object.defineProperty(j,O,F):j[O]=N[O])}return j.default=N,T&&T.set(N,j),j}(p("../core/constants")),S=h(p("./color_conversion"));function D(){var N;return typeof WeakMap!="function"?null:(N=new WeakMap,D=function(){return N},N)}function h(N){return N&&N.__esModule?N:{default:N}}function _(N,T){for(var O=0;O<T.length;O++){var j=T[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(N,j.key,j)}}var o={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},p=/\s*/,E=/(\d{1,3})/,b=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,y=new RegExp("".concat(b.source,"%")),A={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",E.source,",",E.source,",",E.source,"\\)$"].join(p.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",y.source,",",y.source,",",y.source,"\\)$"].join(p.source),"i"),RGBA:new RegExp(["^rgba\\(",E.source,",",E.source,",",E.source,",",b.source,"\\)$"].join(p.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",y.source,",",y.source,",",y.source,",",b.source,"\\)$"].join(p.source),"i"),HSL:new RegExp(["^hsl\\(",E.source,",",y.source,",",y.source,"\\)$"].join(p.source),"i"),HSLA:new RegExp(["^hsla\\(",E.source,",",y.source,",",y.source,",",b.source,"\\)$"].join(p.source),"i"),HSB:new RegExp(["^hsb\\(",E.source,",",y.source,",",y.source,"\\)$"].join(p.source),"i"),HSBA:new RegExp(["^hsba\\(",E.source,",",y.source,",",y.source,",",b.source,"\\)$"].join(p.source),"i")},E=(l.default.Color=function(){function N(M,F){if(!(this instanceof N))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(M._colorMode,M._colorMaxes),![x.RGB,x.HSL,x.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=N._parseInputs.apply(this,F),this._calculateLevels()}var T,O,j;return T=N,j=[{key:"_parseInputs",value:function(M,F,B,I){var G,k=arguments.length,V=this.mode,R=this.maxes[V],U=[];if(3<=k){for(U[0]=M/R[0],U[1]=F/R[1],U[2]=B/R[2],U[3]=typeof I=="number"?I/R[3]:1,G=U.length-1;0<=G;--G){var L=U[G];L<0?U[G]=0:1<L&&(U[G]=1)}return V===x.HSL?S.default._hslaToRGBA(U):V===x.HSB?S.default._hsbaToRGBA(U):U}if(k===1&&typeof M=="string"){if(B=M.trim().toLowerCase(),o[B])return N._parseInputs.call(this,o[B]);if(A.HEX3.test(B))return(U=A.HEX3.exec(B).slice(1).map(function(H){return parseInt(H+H,16)/255}))[3]=1,U;if(A.HEX6.test(B))return(U=A.HEX6.exec(B).slice(1).map(function(H){return parseInt(H,16)/255}))[3]=1,U;if(A.HEX4.test(B))return U=A.HEX4.exec(B).slice(1).map(function(H){return parseInt(H+H,16)/255});if(A.HEX8.test(B))return U=A.HEX8.exec(B).slice(1).map(function(H){return parseInt(H,16)/255});if(A.RGB.test(B))return(U=A.RGB.exec(B).slice(1).map(function(H){return H/255}))[3]=1,U;if(A.RGB_PERCENT.test(B))return(U=A.RGB_PERCENT.exec(B).slice(1).map(function(H){return parseFloat(H)/100}))[3]=1,U;if(A.RGBA.test(B))return U=A.RGBA.exec(B).slice(1).map(function(H,X){return X===3?parseFloat(H):H/255});if(A.RGBA_PERCENT.test(B))return U=A.RGBA_PERCENT.exec(B).slice(1).map(function(H,X){return X===3?parseFloat(H):parseFloat(H)/100});if(A.HSL.test(B)?(U=A.HSL.exec(B).slice(1).map(function(H,X){return X===0?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:A.HSLA.test(B)&&(U=A.HSLA.exec(B).slice(1).map(function(H,X){return X===0?parseInt(H,10)/360:X===3?parseFloat(H):parseInt(H,10)/100})),(U=U.map(function(H){return Math.max(Math.min(H,1),0)})).length)return S.default._hslaToRGBA(U);if(A.HSB.test(B)?(U=A.HSB.exec(B).slice(1).map(function(H,X){return X===0?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:A.HSBA.test(B)&&(U=A.HSBA.exec(B).slice(1).map(function(H,X){return X===0?parseInt(H,10)/360:X===3?parseFloat(H):parseInt(H,10)/100})),U.length){for(G=U.length-1;0<=G;--G)U[G]=Math.max(Math.min(U[G],1),0);return S.default._hsbaToRGBA(U)}U=[1,1,1,1]}else{if(k!==1&&k!==2||typeof M!="number")throw new Error("".concat(arguments,"is not a valid color representation."));U[0]=M/R[2],U[1]=M/R[2],U[2]=M/R[2],U[3]=typeof F=="number"?F/R[3]:1,U=U.map(function(H){return Math.max(Math.min(H,1),0)})}return U}}],(O=[{key:"toString",value:function(M){var F=this.levels,B=this._array,I=B[3];switch(M){case"#rrggbb":return"#".concat(F[0]<16?"0".concat(F[0].toString(16)):F[0].toString(16),F[1]<16?"0".concat(F[1].toString(16)):F[1].toString(16),F[2]<16?"0".concat(F[2].toString(16)):F[2].toString(16));case"#rrggbbaa":return"#".concat(F[0]<16?"0".concat(F[0].toString(16)):F[0].toString(16),F[1]<16?"0".concat(F[1].toString(16)):F[1].toString(16),F[2]<16?"0".concat(F[2].toString(16)):F[2].toString(16),F[3]<16?"0".concat(F[3].toString(16)):F[3].toString(16));case"#rgb":return"#".concat(Math.round(15*B[0]).toString(16),Math.round(15*B[1]).toString(16),Math.round(15*B[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*B[0]).toString(16),Math.round(15*B[1]).toString(16),Math.round(15*B[2]).toString(16),Math.round(15*B[3]).toString(16));case"rgb":return"rgb(".concat(F[0],", ",F[1],", ",F[2],")");case"rgb%":return"rgb(".concat((100*B[0]).toPrecision(3),"%, ",(100*B[1]).toPrecision(3),"%, ",(100*B[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*B[0]).toPrecision(3),"%, ",(100*B[1]).toPrecision(3),"%, ",(100*B[2]).toPrecision(3),"%, ",(100*B[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[x.HSB][0],", ",this.hsba[1]*this.maxes[x.HSB][1],", ",this.hsba[2]*this.maxes[x.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[x.HSB][0],", ",this.hsba[1]*this.maxes[x.HSB][1],", ",this.hsba[2]*this.maxes[x.HSB][2],", ",I,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*I).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[x.HSL][0],", ",this.hsla[1]*this.maxes[x.HSL][1],", ",this.hsla[2]*this.maxes[x.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[x.HSL][0],", ",this.hsla[1]*this.maxes[x.HSL][1],", ",this.hsla[2]*this.maxes[x.HSL][2],", ",I,")");case"hsla%":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*I).toPrecision(3),"%)");default:return"rgba(".concat(F[0],",",F[1],",",F[2],",",I,")")}}},{key:"setRed",value:function(M){this._array[0]=M/this.maxes[x.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(M){this._array[1]=M/this.maxes[x.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(M){this._array[2]=M/this.maxes[x.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(M){this._array[3]=M/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var M=this._array,F=this.levels=new Array(M.length),B=M.length-1;0<=B;--B)F[B]=Math.round(255*M[B]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(M,F){this.mode=M,this.maxes=F}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[x.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[x.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[x.RGB][1]}},{key:"_getHue",value:function(){return this.mode===x.HSB?(this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[x.HSB][0]):(this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[x.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[x.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[x.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===x.HSB?(this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[x.HSB][1]):(this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[x.HSL][1])}}])&&_(T.prototype,O),j&&_(T,j),N}(),l.default.Color);g.default=E},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(a,r,g){function f(h){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}function m(h){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(_){return f(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":f(_)})(h)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.fill"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(D=a("../core/main"))&&D.__esModule?D:{default:D},x=function(h){if(h&&h.__esModule)return h;if(h===null||m(h)!=="object"&&typeof h!="function")return{default:h};var _=S();if(_&&_.has(h))return _.get(h);var o,p={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in h){var y;Object.prototype.hasOwnProperty.call(h,o)&&((y=b?Object.getOwnPropertyDescriptor(h,o):null)&&(y.get||y.set)?Object.defineProperty(p,o,y):p[o]=h[o])}return p.default=h,_&&_.set(h,p),p}(a("../core/constants"));function S(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,S=function(){return h},h)}a("./p5.Color"),l.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},l.default.prototype.endClip=function(){this._renderer.endClip()},l.default.prototype.clip=function(h,_){this._renderer.beginClip(_),h(),this._renderer.endClip(_)},l.default.prototype.background=function(){var h;return(h=this._renderer).background.apply(h,arguments),this},l.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},l.default.prototype.colorMode=function(h,_,o,p,b){return l.default._validateParameters("colorMode",arguments),h!==x.RGB&&h!==x.HSB&&h!==x.HSL||(this._colorMode=h,h=this._colorMaxes[h],arguments.length===2?(h[0]=_,h[1]=_,h[2]=_,h[3]=_):arguments.length===4?(h[0]=_,h[1]=o,h[2]=p):arguments.length===5&&(h[0]=_,h[1]=o,h[2]=p,h[3]=b)),this},l.default.prototype.fill=function(){var h;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(h=this._renderer).fill.apply(h,arguments),this},l.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},l.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},l.default.prototype.stroke=function(){var h;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(h=this._renderer).stroke.apply(h,arguments),this},l.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},l.default.prototype.noErase=function(){return this._renderer.noErase(),this};var D=l.default;g.default=D},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(a,r,g){Object.defineProperty(g,"__esModule",{value:!0}),g.QUADRATIC=g.LINEAR=g._CTX_MIDDLE=g._DEFAULT_LEADMULT=g._DEFAULT_TEXT_FILL=g.WORD=g.CHAR=g.BOLDITALIC=g.BOLD=g.ITALIC=g.NORMAL=g.BLUR=g.ERODE=g.DILATE=g.POSTERIZE=g.INVERT=g.OPAQUE=g.GRAY=g.THRESHOLD=g.BURN=g.DODGE=g.SOFT_LIGHT=g.HARD_LIGHT=g.OVERLAY=g.REPLACE=g.SCREEN=g.MULTIPLY=g.EXCLUSION=g.SUBTRACT=g.DIFFERENCE=g.LIGHTEST=g.DARKEST=g.ADD=g.REMOVE=g.BLEND=g.UP_ARROW=g.TAB=g.SHIFT=g.RIGHT_ARROW=g.RETURN=g.OPTION=g.LEFT_ARROW=g.ESCAPE=g.ENTER=g.DOWN_ARROW=g.DELETE=g.CONTROL=g.BACKSPACE=g.ALT=g.AUTO=g.HSL=g.HSB=g.RGB=g.MITER=g.BEVEL=g.ROUND=g.SQUARE=g.PROJECT=g.PIE=g.CHORD=g.OPEN=g.CLOSE=g.TESS=g.QUAD_STRIP=g.QUADS=g.TRIANGLE_STRIP=g.TRIANGLE_FAN=g.TRIANGLES=g.LINE_LOOP=g.LINE_STRIP=g.LINES=g.POINTS=g.BASELINE=g.BOTTOM=g.TOP=g.CENTER=g.LEFT=g.RIGHT=g.RADIUS=g.CORNERS=g.CORNER=g.RAD_TO_DEG=g.DEG_TO_RAD=g.RADIANS=g.DEGREES=g.TWO_PI=g.TAU=g.QUARTER_PI=g.PI=g.HALF_PI=g.WAIT=g.TEXT=g.MOVE=g.HAND=g.CROSS=g.ARROW=g.WEBGL2=g.WEBGL=g.P2D=g.VERSION=void 0,g.RGBA=g.HALF_FLOAT=g.FLOAT=g.UNSIGNED_INT=g.UNSIGNED_BYTE=g.COVER=g.CONTAIN=g.FALLBACK=g.LABEL=g.AXES=g.GRID=g._DEFAULT_FILL=g._DEFAULT_STROKE=g.PORTRAIT=g.LANDSCAPE=g.SMOOTH=g.FLAT=g.MIRROR=g.CLAMP=g.REPEAT=g.NEAREST=g.IMAGE=g.IMMEDIATE=g.TEXTURE=g.FILL=g.STROKE=g.CURVE=g.BEZIER=void 0;var f=Math.PI,m=(g.VERSION="1.11.5",g.P2D="p2d",g.WEBGL="webgl",g.WEBGL2="webgl2",g.ARROW="default",g.CROSS="crosshair",g.HAND="pointer",g.MOVE="move",g.TEXT="text",g.WAIT="wait",f/2),m=(g.HALF_PI=m,f),m=(g.PI=m,f/4),m=(g.QUARTER_PI=m,2*f),m=(g.TAU=m,2*f),m=(g.TWO_PI=m,g.DEGREES="degrees",g.RADIANS="radians",f/180),m=(g.DEG_TO_RAD=m,180/f);g.RAD_TO_DEG=m,g.CORNER="corner",g.CORNERS="corners",g.RADIUS="radius",g.RIGHT="right",g.LEFT="left",g.CENTER="center",g.TOP="top",g.BOTTOM="bottom",g.BASELINE="alphabetic",g.POINTS=0,g.LINES=1,g.LINE_STRIP=3,g.LINE_LOOP=2,g.TRIANGLES=4,g.TRIANGLE_FAN=6,g.TRIANGLE_STRIP=5,g.QUADS="quads",g.QUAD_STRIP="quad_strip",g.TESS="tess",g.CLOSE="close",g.OPEN="open",g.CHORD="chord",g.PIE="pie",g.PROJECT="square",g.SQUARE="butt",g.ROUND="round",g.BEVEL="bevel",g.MITER="miter",g.RGB="rgb",g.HSB="hsb",g.HSL="hsl",g.AUTO="auto",g.ALT=18,g.BACKSPACE=8,g.CONTROL=17,g.DELETE=46,g.DOWN_ARROW=40,g.ENTER=13,g.ESCAPE=27,g.LEFT_ARROW=37,g.OPTION=18,g.RETURN=13,g.RIGHT_ARROW=39,g.SHIFT=16,g.TAB=9,g.UP_ARROW=38,g.BLEND="source-over",g.REMOVE="destination-out",g.ADD="lighter",g.DARKEST="darken",g.LIGHTEST="lighten",g.DIFFERENCE="difference",g.SUBTRACT="subtract",g.EXCLUSION="exclusion",g.MULTIPLY="multiply",g.SCREEN="screen",g.REPLACE="copy",g.OVERLAY="overlay",g.HARD_LIGHT="hard-light",g.SOFT_LIGHT="soft-light",g.DODGE="color-dodge",g.BURN="color-burn",g.THRESHOLD="threshold",g.GRAY="gray",g.OPAQUE="opaque",g.INVERT="invert",g.POSTERIZE="posterize",g.DILATE="dilate",g.ERODE="erode",g.BLUR="blur",g.NORMAL="normal",g.ITALIC="italic",g.BOLD="bold",g.BOLDITALIC="bold italic",g.CHAR="CHAR",g.WORD="WORD",g._DEFAULT_TEXT_FILL="#000000",g._DEFAULT_LEADMULT=1.25,g._CTX_MIDDLE="middle",g.LINEAR="linear",g.QUADRATIC="quadratic",g.BEZIER="bezier",g.CURVE="curve",g.STROKE="stroke",g.FILL="fill",g.TEXTURE="texture",g.IMMEDIATE="immediate",g.IMAGE="image",g.NEAREST="nearest",g.REPEAT="repeat",g.CLAMP="clamp",g.MIRROR="mirror",g.FLAT="flat",g.SMOOTH="smooth",g.LANDSCAPE="landscape",g.PORTRAIT="portrait",g._DEFAULT_STROKE="#000000",g._DEFAULT_FILL="#FFFFFF",g.GRID="grid",g.AXES="axes",g.LABEL="label",g.FALLBACK="fallback",g.CONTAIN="contain",g.COVER="cover",g.UNSIGNED_BYTE="unsigned-byte",g.UNSIGNED_INT="unsigned-int",g.FLOAT="float",g.HALF_FLOAT="half-float",g.RGBA="rgba"},{}],273:[function(a,r,g){function f(b){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}function m(b){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(y){return f(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":f(y)})(b)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.search"),a("core-js/modules/es.string.split"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.search"),a("core-js/modules/es.string.split"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(x=a("./main"))&&x.__esModule?x:{default:x},x=function(b){if(b&&b.__esModule)return b;if(b===null||m(b)!=="object"&&typeof b!="function")return{default:b};var y=S();if(y&&y.has(b))return y.get(b);var A,E={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(A in b){var T;Object.prototype.hasOwnProperty.call(b,A)&&((T=N?Object.getOwnPropertyDescriptor(b,A):null)&&(T.get||T.set)?Object.defineProperty(E,A,T):E[A]=b[A])}return E.default=b,y&&y.set(b,E),E}(a("./constants"));function S(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,S=function(){return b},b)}var D=[x.ARROW,x.CROSS,x.HAND,x.MOVE,x.TEXT,x.WAIT],h=(l.default.prototype._frameRate=0,l.default.prototype._lastFrameTime=window.performance.now(),l.default.prototype._targetFrameRate=60,window.print),_=!1;function o(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function p(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}l.default.prototype.print=function(){var b;arguments.length?(b=console).log.apply(b,arguments):_||(h(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(_=!0))},l.default.prototype.frameCount=0,l.default.prototype.deltaTime=0,l.default.prototype.focused=document.hasFocus(),l.default.prototype.cursor=function(b,y,A){var E,N="auto",T=this._curElement.elt;D.includes(b)?N=b:typeof b=="string"&&(E="",y&&A&&typeof y=="number"&&typeof A=="number"&&(E="".concat(y," ").concat(A)),N=b.substring(0,7)==="http://"||b.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(b)?"url(".concat(b,") ").concat(E,", auto"):b),T.style.cursor=N},l.default.prototype.frameRate=function(b){return l.default._validateParameters("frameRate",arguments),typeof b!="number"||b<0?this._frameRate:(this._setProperty("_targetFrameRate",b),b===0&&this._setProperty("_frameRate",b),this)},l.default.prototype.getFrameRate=function(){return this.frameRate()},l.default.prototype.setFrameRate=function(b){return this.frameRate(b)},l.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},l.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},l.default.prototype.webglVersion=x.P2D,l.default.prototype.displayWidth=screen.width,l.default.prototype.displayHeight=screen.height,l.default.prototype.windowWidth=0,l.default.prototype.windowHeight=0,l.default.prototype._onresize=function(b){this._setProperty("windowWidth",o()),this._setProperty("windowHeight",p());var y=this._isGlobal?window:this;typeof y.windowResized!="function"||(y=y.windowResized(b))===void 0||y||b.preventDefault()},l.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",o()),this._setProperty("windowHeight",p())},l.default.prototype.width=0,l.default.prototype.height=0,l.default.prototype.fullscreen=function(b){if(l.default._validateParameters("fullscreen",arguments),b===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(b){if(b=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");b.requestFullscreen?b.requestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.webkitRequestFullscreen?b.webkitRequestFullscreen():b.msRequestFullscreen&&b.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},l.default.prototype.pixelDensity=function(b){var y;return l.default._validateParameters("pixelDensity",arguments),typeof b=="number"?(b!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=b),(y=this).resizeCanvas(this.width,this.height,!0)):y=this._pixelDensity,y},l.default.prototype.displayDensity=function(){return window.devicePixelRatio},l.default.prototype.getURL=function(){return location.href},l.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(b){return b!==""})},l.default.prototype.getURLParams=function(){for(var b,y=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,A={};(b=y.exec(location.search))!=null;)b.index===y.lastIndex&&y.lastIndex++,A[b[1]]=b[2];return A},a=l.default,g.default=a},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(a,r,g){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.some"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.get-own-property-names"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.starts-with"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.some"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.get-own-property-names"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.starts-with"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(D=a("../main"))&&D.__esModule?D:{default:D};a("../internationalization");function m(h,_){_=_||console.log.bind(console),l||S(),l.some(function(o){var p;if(h.message&&h.message.match("\\W?".concat(o.name,"\\W"))!==null)return p=o.type==="function"?"".concat(o.name,"()"):o.name,_("Did you just try to use p5.js's ".concat(p," ").concat(o.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(x)),!0})}var l=null,S=null,x=(f.default._friendlyError=f.default._checkForUserDefinedFunctions=f.default._fesErrorMonitor=function(){},l=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),S=function(){function h(o){return Object.getOwnPropertyNames(o).filter(function(p){return p[0]!=="_"&&!(p in _)&&(_[p]=!0)}).map(function(p){var b=typeof o[p]=="function"?"function":p===p.toUpperCase()?"constant":"variable";return{name:p,type:b}})}var _={};(l=[].concat(h(f.default.prototype),h(a("../constants")))).sort(function(o,p){return p.name.length-o.name.length})},D=(f.default.prototype._helpForMisusedAtTopLevelCode=m,document.readyState!=="complete"&&(window.addEventListener("error",m,!1),window.addEventListener("load",function(){window.removeEventListener("error",m,!1)})),f.default);g.default=D},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(a,r,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(f=a("../main"))&&f.__esModule?f:{default:f};a("../internationalization"),f.default._friendlyFileLoadError=function(){},a=f.default,g.default=a},{"../internationalization":281,"../main":283}],276:[function(a,r,g){function f(_){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(_)}function m(_){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(_)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),a("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=D(a("../main"));a("../internationalization"),S(a("../constants"));function x(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,x=function(){return _},_)}function S(_){if(_&&_.__esModule)return _;if(_===null||m(_)!=="object"&&typeof _!="function")return{default:_};var o=x();if(o&&o.has(_))return o.get(_);var p,b,y={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in _)Object.prototype.hasOwnProperty.call(_,p)&&((b=A?Object.getOwnPropertyDescriptor(_,p):null)&&(b.get||b.set)?Object.defineProperty(y,p,b):y[p]=_[p]);return y.default=_,o&&o.set(_,y),y}function D(_){return _&&_.__esModule?_:{default:_}}l.default._fesCodeReader=function(){};var h=l.default;g.default=h},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(a,r,g){a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,a=(a=a("../main"))&&a.__esModule?a:{default:a};function f(){var m=/(^|@)\S+:\d+/,l=/^\s*at .*(\S+:\d+|\(native\))/m,x=/^(eval@)?(\[native code])?$/;return{parse:function(S){return S.stacktrace!==void 0||S["opera#sourceloc"]!==void 0?this.parseOpera(S):S.stack&&S.stack.match(l)?this.parseV8OrIE(S):S.stack?this.parseFFOrSafari(S):void 0},extractLocation:function(S){return S.indexOf(":")===-1?[S]:[(S=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(S.replace(/[()]/g,"")))[1],S[2]||void 0,S[3]||void 0]},parseV8OrIE:function(S){return S.stack.split(`
`).filter(function(D){return!!D.match(l)},this).map(function(D){var h=(D=-1<D.indexOf("(eval ")?D.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):D).replace(/^\s+/,"").replace(/\(eval code/g,"("),_=h.match(/ (\((.+):(\d+):(\d+)\)$)/),h=(h=_?h.replace(_[0],""):h).split(/\s+/).slice(1),_=this.extractLocation(_?_[1]:h.pop());return{functionName:h.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(_[0])?void 0:_[0],lineNumber:_[1],columnNumber:_[2],source:D}},this)},parseFFOrSafari:function(S){return S.stack.split(`
`).filter(function(D){return!D.match(x)},this).map(function(D){var h,_;return(D=-1<D.indexOf(" > eval")?D.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):D).indexOf("@")===-1&&D.indexOf(":")===-1?{functionName:D}:{functionName:(_=D.match(h=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&_[1]?_[1]:void 0,fileName:(_=this.extractLocation(D.replace(h,"")))[0],lineNumber:_[1],columnNumber:_[2],source:D}},this)},parseOpera:function(S){return!S.stacktrace||-1<S.message.indexOf(`
`)&&S.message.split(`
`).length>S.stacktrace.split(`
`).length?this.parseOpera9(S):S.stack?this.parseOpera11(S):this.parseOpera10(S)},parseOpera9:function(S){for(var D=/Line (\d+).*script (?:in )?(\S+)/i,h=S.message.split(`
`),_=[],o=2,p=h.length;o<p;o+=2){var b=D.exec(h[o]);b&&_.push({fileName:b[2],lineNumber:b[1],source:h[o]})}return _},parseOpera10:function(S){for(var D=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,h=S.stacktrace.split(`
`),_=[],o=0,p=h.length;o<p;o+=2){var b=D.exec(h[o]);b&&_.push({functionName:b[3]||void 0,fileName:b[2],lineNumber:b[1],source:h[o]})}return _},parseOpera11:function(S){return S.stack.split(`
`).filter(function(D){return!!D.match(m)&&!D.match(/^Error created at/)},this).map(function(D){var h,o=D.split("@"),_=this.extractLocation(o.pop()),o=o.shift()||"";return{functionName:o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(h=o.match(/\(([^)]*)\)/)?o.replace(/^[^(]+\(([^)]*)\)$/,"$1"):h)===void 0||h==="[arguments not available]"?void 0:h.split(","),fileName:_[0],lineNumber:_[1],columnNumber:_[2],source:D}},this)}}}a.default._getErrorStackParser=function(){return new f},a=a.default,g.default=a},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(a,r,g){function f(S){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(S)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.last-index-of"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.map"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.reflect.construct"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.set"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.split"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.last-index-of"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.set"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.split"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var m=(m=a("../main"))&&m.__esModule?m:{default:m};(function(S){if(!(S&&S.__esModule)&&!(S===null||x(S)!=="object"&&typeof S!="function")){var D=l();if(D&&D.has(S))return D.get(S);var h,_={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in S){var p;Object.prototype.hasOwnProperty.call(S,h)&&((p=o?Object.getOwnPropertyDescriptor(S,h):null)&&(p.get||p.set)?Object.defineProperty(_,h,p):_[h]=S[h])}_.default=S,D&&D.set(S,_)}})(a("../constants")),a("../internationalization");function l(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,l=function(){return S},S)}function x(S){return(x=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(D){return f(D)}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":f(D)})(S)}m.default._validateParameters=m.default._clearValidateParamsCache=function(){},a=m.default,g.default=a},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(a,r,g){function f(S){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(S)}function m(S){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(D){return f(D)}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":f(D)})(S)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=function(S){if(S&&S.__esModule)return S;if(S===null||m(S)!=="object"&&typeof S!="function")return{default:S};var D=x();if(D&&D.has(S))return D.get(S);var h,_={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in S){var p;Object.prototype.hasOwnProperty.call(S,h)&&((p=o?Object.getOwnPropertyDescriptor(S,h):null)&&(p.get||p.set)?Object.defineProperty(_,h,p):_[h]=S[h])}return _.default=S,D&&D.set(S,_),_}(a("./constants"));function x(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,x=function(){return S},S)}g.default={modeAdjust:function(S,D,h,_,o){var p;return o===l.CORNER?p={x:S,y:D,w:Math.abs(h),h:Math.abs(_)}:o===l.CORNERS?p={x:Math.min(S,h),y:Math.min(D,_),w:Math.abs(h-S),h:Math.abs(_-D)}:o===l.RADIUS?p={x:S-(h=Math.abs(h)),y:D-(_=Math.abs(_)),w:2*h,h:2*_}:o===l.CENTER&&(p={x:S-.5*(h=Math.abs(h)),y:D-.5*(_=Math.abs(_)),w:h,h:_}),p}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(a,r,g){a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator");var f=(m=a("../core/main"))&&m.__esModule?m:{default:m};a("./internationalization");var m=Promise.resolve();Promise.all([new Promise(function(l,x){document.readyState==="complete"?l():window.addEventListener("load",l,!1)}),m]).then(function(){var l;window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(l=new Event("p5Ready"),window.dispatchEvent(l),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!f.default.instance&&new f.default)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(a,r,g){a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.split"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.split"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.setTranslatorLanguage=g.currentTranslatorLanguage=g.availableTranslatorLanguages=g.initialize=g.translator=void 0;var f,m,l=S(a("i18next")),x=S(a("i18next-browser-languagedetector"));function S(_){return _&&_.__esModule?_:{default:_}}function D(_,o){for(var p=0;p<o.length;p++){var b=o[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}var h=function(){function _(b,y){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");this.init(b,y)}var o,p;return o=_,(p=[{key:"fetchWithTimeout",value:function(b,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(b,y),new Promise(function(E,N){return setTimeout(function(){return N(new Error("timeout"))},A)})])}},{key:"init",value:function(b){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=b,this.options=y}},{key:"read",value:function(b,y,A){var E=this.options.loadPath;b===this.options.fallback?A(null,f[b][y]):m.includes(b)?(E=this.services.interpolator.interpolate(E,{lng:b,ns:y}),this.loadUrl(E,A)):A("Not found",!1)}},{key:"loadUrl",value:function(b,y){this.fetchWithTimeout(b).then(function(A){if(A.ok)return A.json();throw new Error("failed loading ".concat(b))},function(){throw new Error("failed loading ".concat(b))}).then(function(A){return y(null,A)}).catch(y)}}])&&D(o.prototype,p),_}();h.type="backend",g.translator=function(_,o){console.debug("p5.js translator called before translations were loaded"),l.default.t(_,o)},g.initialize=function(){return l.default.use(x.default).use(h).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:f}).then(function(_){g.translator=_},function(_){return console.debug("Translations failed to load (".concat(_,")"))})},g.availableTranslatorLanguages=function(){return l.default.languages},g.currentTranslatorLanguage=function(_){return l.default.language},g.setTranslatorLanguage=function(_){return l.default.changeLanguage(_||void 0,function(o){return console.debug("Translations failed to load (".concat(o,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(a,r,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,a=(a=a("./main"))&&a.__esModule?a:{default:a},a.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},a.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},a.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},a.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},a=a.default,g.default=a},{"./main":283}],283:[function(a,r,g){function f(_){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(_)}function m(_){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(_)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.get-own-property-names"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.object.get-own-property-names"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,a("./shim");var l=function(_){if(_&&_.__esModule)return _;if(_===null||m(_)!=="object"&&typeof _!="function")return{default:_};var o=x();if(o&&o.has(_))return o.get(_);var p,b={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in _){var A;Object.prototype.hasOwnProperty.call(_,p)&&((A=y?Object.getOwnPropertyDescriptor(_,p):null)&&(A.get||A.set)?Object.defineProperty(b,p,A):b[p]=_[p])}return b.default=_,o&&o.set(_,b),b}(a("./constants"));function x(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,x=function(){return _},_)}function S(_,o){for(var p=0;p<o.length;p++){var b=o[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}var D,h=function(){function _(b,E){var A=this;if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=E,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var E=Object.getOwnPropertyNames(_.prototype._registeredMethods),N=!0,T=!1,O=void 0;try{for(var j,M=E[Symbol.iterator]();!(N=(j=M.next()).done);N=!0){var F=j.value;this._registeredMethods[F]=_.prototype._registeredMethods[F].slice()}}catch(H){T=!0,O=H}finally{try{N||M.return==null||M.return()}finally{if(T)throw O}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),_.prototype.callRegisteredHooksFor=function(H){var X=this||_.prototype,Z=this._isGlobal?window:this;if(X._registeredMethods.hasOwnProperty(H)){var X=X._registeredMethods[H],J=!0,H=!1,K=void 0;try{for(var $,W=X[Symbol.iterator]();!(J=($=W.next()).done);J=!0){var Y=$.value;typeof Y=="function"&&Y.call(Z)}}catch(oe){H=!0,K=oe}finally{try{J||W.return==null||W.return()}finally{if(H)throw K}}}},this._start=function(){A._userNode&&typeof A._userNode=="string"&&(A._userNode=document.getElementById(A._userNode));var H=A._isGlobal?window:A;if(H.preload){A.callRegisteredHooksFor("beforePreload");var X,Z=document.getElementById(A._loadingScreenId),J=(Z||((Z=document.createElement("div")).innerHTML="Loading...",Z.style.position="absolute",Z.id=A._loadingScreenId,(A._userNode||document.body).appendChild(Z)),A._preloadMethods);for(X in J){J[X]=J[X]||_;var K=J[X];K!==_.prototype&&K!==_||(A._isGlobal&&(window[X]=A._wrapPreload(A,X)),K=A),A._registeredPreloadMethods[X]=K[X],K[X]=A._wrapPreload(K,X)}H.preload(),A._runIfPreloadsAreDone()}else A._setup(),A._recording||A._draw()},this._runIfPreloadsAreDone=function(){var H,X=this._isGlobal?window:this;X._preloadCount===0&&((H=document.getElementById(X._loadingScreenId))&&H.parentNode.removeChild(H),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),X._setup(),this._recording||X._draw()))},this._decrementPreload=function(){var H=this._isGlobal?window:this;H._preloadDone||typeof H.preload!="function"||(H._setProperty("_preloadCount",H._preloadCount-1),H._runIfPreloadsAreDone())},this._wrapPreload=function(H,X){var Z=this;return function(){Z._incrementPreload();for(var J=arguments.length,K=new Array(J),$=0;$<J;$++)K[$]=arguments[$];return Z._registeredPreloadMethods[X].apply(H,K)}},this._incrementPreload=function(){var H=this._isGlobal?window:this;H._preloadDone||H._setProperty("_preloadCount",H._preloadCount+1)},this._setup=function(){A.callRegisteredHooksFor("beforeSetup"),A.createCanvas(A._defaultCanvasSize.width,A._defaultCanvasSize.height,"p2d");var H=A._isGlobal?window:A;if(typeof H.preload=="function")for(var X in A._preloadMethods)H[X]=A._preloadMethods[X][X],H[X]&&A&&(H[X]=H[X].bind(A));A._millisStart=window.performance.now(),H._preloadDone=!0,typeof H.setup=="function"&&H.setup();var Z=document.getElementsByTagName("canvas"),J=!0,K=!1,$=void 0;try{for(var W,Y=Z[Symbol.iterator]();!(J=(W=Y.next()).done);J=!0){var te=W.value;te.dataset.hidden==="true"&&(te.style.visibility="",delete te.dataset.hidden)}}catch(ce){K=!0,$=ce}finally{try{J||Y.return==null||Y.return()}finally{if(K)throw $}}A._lastTargetFrameTime=window.performance.now(),A._lastRealFrameTime=window.performance.now(),A._setupDone=!0,(A._accessibleOutputs.grid||A._accessibleOutputs.text)&&A._updateAccsOutput(),A.callRegisteredHooksFor("afterSetup")},this._draw=function(X){var X=X||window.performance.now(),Z=X-A._lastTargetFrameTime,J=1e3/A._targetFrameRate;(!A._loop||J-5<=Z)&&(A.deltaTime=X-A._lastRealFrameTime,A._setProperty("deltaTime",A.deltaTime),A._frameRate=1e3/A.deltaTime,A.redraw(),A._lastTargetFrameTime=Math.max(A._lastTargetFrameTime+J,X),A._lastRealFrameTime=X,A._updateMouseCoords!==void 0&&(A._updateMouseCoords(),A._setProperty("movedX",0),A._setProperty("movedY",0))),A._loop&&(A._requestAnimId=window.requestAnimationFrame(A._draw))},this._setProperty=function(H,X){A[H]=X,A._isGlobal&&(window[H]=X)},this.remove=function(){A._startListener&&window.removeEventListener("load",A._startListener,!1);var H=document.getElementById(A._loadingScreenId);if(H&&(H.parentNode.removeChild(H),A._incrementPreload()),A._curElement){for(var X in A._loop=!1,A._requestAnimId&&window.cancelAnimationFrame(A._requestAnimId),A._events)window.removeEventListener(X,A._events[X]);var Z=!0,H=!1,J=void 0;try{for(var K,$=A._elements[Symbol.iterator]();!(Z=(K=$.next()).done);Z=!0){var W,Y=K.value;for(W in Y.elt&&Y.elt.parentNode&&Y.elt.parentNode.removeChild(Y.elt),Y._events)Y.elt.removeEventListener(W,Y._events[W])}}catch(Ce){H=!0,J=Ce}finally{try{Z||$.return==null||$.return()}finally{if(H)throw J}}var te=A;A._registeredMethods.remove.forEach(function(Ce){Ce!==void 0&&Ce.call(te)})}if(A._isGlobal){for(var ce in _.prototype)try{delete window[ce]}catch{window[ce]=void 0}for(var oe in A)if(A.hasOwnProperty(oe))try{delete window[oe]}catch{window[oe]=void 0}_.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(H){H!==void 0&&H.call(this)},this),this._setupPromisePreloads();var B,I,G=this._createFriendlyGlobalFunctionBinder();if(b)b(this),_._checkForUserDefinedFunctions(this);else{for(var k in this._isGlobal=!0,_.instance=this,_.prototype)typeof _.prototype[k]=="function"?(B=k.substring(2),this._events.hasOwnProperty(B)||(Math.hasOwnProperty(k)&&Math[k]===_.prototype[k]?G(k,_.prototype[k]):G(k,_.prototype[k].bind(this)))):G(k,_.prototype[k]);for(var V in this)this.hasOwnProperty(V)&&G(V,this[V])}for(I in this._events){var R=this["_on".concat(I)];R&&(R=R.bind(this),window.addEventListener(I,R,{passive:!1}),this._events[I]=R)}function U(){A._setProperty("focused",!0)}function L(){A._setProperty("focused",!1)}window.addEventListener("focus",U),window.addEventListener("blur",L),this.registerMethod("remove",function(){window.removeEventListener("focus",U),window.removeEventListener("blur",L)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var o,p;return o=_,(p=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=l.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(b,y){_.prototype._preloadMethods.hasOwnProperty(b)||(_.prototype._preloadMethods[b]=y)}},{key:"registerMethod",value:function(b,y){var A=this||_.prototype;A._registeredMethods.hasOwnProperty(b)||(A._registeredMethods[b]=[]),A._registeredMethods[b].push(y)}},{key:"unregisterMethod",value:function(b,y){var A=this||_.prototype;if(A._registeredMethods.hasOwnProperty(b)){for(var E=A._registeredMethods[b],N=[],T=0;T<E.length;T++)E[T]===y&&N.push(T);for(var O=N.length-1;0<=O;O--)E.splice(N[O],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},y=b.globalObject||window;return b.log||console.log.bind(console),function(A,E){_.disableFriendlyErrors,y[A]=E}}}])&&S(o.prototype,p),_}();for(D in h.instance=null,h.disableFriendlyErrors=!1,l)h.prototype[D]=l[D];h.VERSION=l.VERSION,h.prototype._preloadMethods={loadJSON:h.prototype,loadImage:h.prototype,loadStrings:h.prototype,loadXML:h.prototype,loadBytes:h.prototype,loadTable:h.prototype,loadFont:h.prototype,loadModel:h.prototype,loadShader:h.prototype},h.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},h.prototype._registeredPreloadMethods={},g.default=h},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(a,r,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(a=a("./main"))&&a.__esModule?a:{default:a};function m(l,x){for(var S=0;S<x.length;S++){var D=x[S];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(l,D.key,D)}}f.default.Element=function(){function l(h,_){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.elt=h,this._pInst=this._pixelsState=_,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var x,S,D;return x=l,D=[{key:"_adjustListener",value:function(h,_,o){return _===!1?f.default.Element._detachListener(h,o):f.default.Element._attachListener(h,_,o),this}},{key:"_attachListener",value:function(h,_,o){o._events[h]&&f.default.Element._detachListener(h,o),_=_.bind(o),o.elt.addEventListener(h,_,!1),o._events[h]=_}},{key:"_detachListener",value:function(h,_){var o=_._events[h];_.elt.removeEventListener(h,o,!1),_._events[h]=null}}],(S=[{key:"parent",value:function(h){return h===void 0?this.elt.parentNode:(typeof h=="string"?(h[0]==="#"&&(h=h.substring(1)),h=document.getElementById(h)):h instanceof f.default.Element&&(h=h.elt),h.appendChild(this.elt),this)}},{key:"id",value:function(h){return h===void 0?this.elt.id:(this.elt.id=h,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(h){return h===void 0?this.elt.className:(this.elt.className=h,this)}},{key:"mousePressed",value:function(h){return f.default.Element._adjustListener("mousedown",function(_){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(_),h.call(this,_)},this),this}},{key:"doubleClicked",value:function(h){return f.default.Element._adjustListener("dblclick",h,this),this}},{key:"mouseWheel",value:function(h){return f.default.Element._adjustListener("wheel",h,this),this}},{key:"mouseReleased",value:function(h){return f.default.Element._adjustListener("mouseup",h,this),this}},{key:"mouseClicked",value:function(h){return f.default.Element._adjustListener("click",h,this),this}},{key:"mouseMoved",value:function(h){return f.default.Element._adjustListener("mousemove",h,this),this}},{key:"mouseOver",value:function(h){return f.default.Element._adjustListener("mouseover",h,this),this}},{key:"mouseOut",value:function(h){return f.default.Element._adjustListener("mouseout",h,this),this}},{key:"touchStarted",value:function(h){return f.default.Element._adjustListener("touchstart",h,this),this}},{key:"touchMoved",value:function(h){return f.default.Element._adjustListener("touchmove",h,this),this}},{key:"touchEnded",value:function(h){return f.default.Element._adjustListener("touchend",h,this),this}},{key:"dragOver",value:function(h){return f.default.Element._adjustListener("dragover",h,this),this}},{key:"dragLeave",value:function(h){return f.default.Element._adjustListener("dragleave",h,this),this}},{key:"_setProperty",value:function(h,_){this[h]=_}}])&&m(x.prototype,S),D&&m(x,D),l}(),a=f.default.Element,g.default=a},{"./main":283}],285:[function(a,r,g){function f(A){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(A)}function m(A){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(E){return f(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":f(E)})(A)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.reflect.construct"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(y=a("./main"))&&y.__esModule?y:{default:y},x=function(A){if(A&&A.__esModule)return A;if(A===null||m(A)!=="object"&&typeof A!="function")return{default:A};var E=S();if(E&&E.has(A))return E.get(A);var N,T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in A){var j;Object.prototype.hasOwnProperty.call(A,N)&&((j=O?Object.getOwnPropertyDescriptor(A,N):null)&&(j.get||j.set)?Object.defineProperty(T,N,j):T[N]=A[N])}return T.default=A,E&&E.set(A,T),T}(a("./constants"));function S(){var A;return typeof WeakMap!="function"?null:(A=new WeakMap,S=function(){return A},A)}function D(A,E){for(var N=0;N<E.length;N++){var T=E[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}function h(A,E){return(h=Object.setPrototypeOf||function(N,T){return N.__proto__=T,N})(A,E)}function _(A){return function(){var E,N=b(A);return o(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(E=b(this).constructor,Reflect.construct(N,arguments,E)):N.apply(this,arguments))}}function o(A,E){return!E||m(E)!=="object"&&typeof E!="function"?p(A):E}function p(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function b(A){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(A)}l.default.Graphics=function(A){var E=T;if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),A&&h(E,A);var N=_(T);function T(O,j,V,F,B){var I;if(!(this instanceof T))throw new TypeError("Cannot call a class as a function");k=B||document.createElement("canvas"),(I=N.call(this,k,F)).canvas=k;var G,k=V||x.P2D,V=F._userNode||document.body;for(G in B||V.appendChild(I.canvas),l.default.prototype)I[G]||(typeof l.default.prototype[G]=="function"?I[G]=l.default.prototype[G].bind(p(I)):I[G]=l.default.prototype[G]);return l.default.prototype._initializeInstanceVariables.apply(p(I)),I.width=O,I.height=j,I._pixelDensity=F._pixelDensity,k===x.WEBGL?(I._renderer=new l.default.RendererGL(I.canvas,p(I),!1),O=(B=I._renderer._adjustDimensions(O,j)).adjustedWidth,j=B.adjustedHeight):I._renderer=new l.default.Renderer2D(I.canvas,p(I),!1),F._elements.push(p(I)),Object.defineProperty(p(I),"deltaTime",{get:function(){return this._pInst.deltaTime}}),I._renderer.resize(O,j),I._renderer._applyDefaults(),o(I,p(I))}return E=T,(A=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var O,j=this._pInst._elements.indexOf(this);for(O in j!==-1&&this._pInst._elements.splice(j,1),this._events)this.elt.removeEventListener(O,this._events[O]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(O){return new l.default.Framebuffer(this,O)}}])&&D(E.prototype,A),T}(l.default.Element);var y=l.default.Graphics;g.default=y},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(a,r,g){function f(A){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(A)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.reflect.construct"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var m=(b=a("./main"))&&b.__esModule?b:{default:b},l=function(A){if(A&&A.__esModule)return A;if(A===null||S(A)!=="object"&&typeof A!="function")return{default:A};var E=x();if(E&&E.has(A))return E.get(A);var N,T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in A){var j;Object.prototype.hasOwnProperty.call(A,N)&&((j=O?Object.getOwnPropertyDescriptor(A,N):null)&&(j.get||j.set)?Object.defineProperty(T,N,j):T[N]=A[N])}return T.default=A,E&&E.set(A,T),T}(a("../core/constants"));function x(){var A;return typeof WeakMap!="function"?null:(A=new WeakMap,x=function(){return A},A)}function S(A){return(S=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(E){return f(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":f(E)})(A)}function D(A,E){for(var N=0;N<E.length;N++){var T=E[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}function h(A,E){return(h=Object.setPrototypeOf||function(N,T){return N.__proto__=T,N})(A,E)}function _(A){return function(){var E,N,T=p(A);return E=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(E=p(this).constructor,Reflect.construct(T,arguments,E)):T.apply(this,arguments),T=this,!(N=E)||S(N)!=="object"&&typeof N!="function"?o(T):N}}function o(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function p(A){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(A)}var b=function(A){var E=T;if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),A&&h(E,A);var N=_(T);function T(O,j,M){var F;if(this instanceof T)return(F=N.call(this,O,j)).canvas=O,F._pixelsState=j,M?(F._isMainCanvas=!0,F._pInst._setProperty("_curElement",o(F)),F._pInst._setProperty("canvas",F.canvas),F._pInst._setProperty("width",F.width),F._pInst._setProperty("height",F.height)):(F.canvas.style.display="none",F._styles=[]),F._clipping=!1,F._clipInvert=!1,F._textSize=12,F._textLeading=15,F._textFont="sans-serif",F._textStyle=l.NORMAL,F._textAscent=null,F._textDescent=null,F._textAlign=l.LEFT,F._textBaseline=l.BASELINE,F._textWrap=l.WORD,F._rectMode=l.CORNER,F._ellipseMode=l.CENTER,F._curveTightness=0,F._imageMode=l.CORNER,F._tint=null,F._doStroke=!0,F._doFill=!0,F._strokeSet=!1,F._fillSet=!1,F._leadingSet=!1,F._pushPopDepth=0,F;throw new TypeError("Cannot call a class as a function")}return E=T,(A=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(O){this._pushPopDepth--,O.properties&&Object.assign(this,O.properties)}},{key:"beginClip",value:function(){var O=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=O.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(O,j){this.width=O,this.height=j,this.elt.width=O*this._pInst._pixelDensity,this.elt.height=j*this._pInst._pixelDensity,this.elt.style.width="".concat(O,"px"),this.elt.style.height="".concat(j,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(O,j,M,F){var B=this._pixelsState,I=B._pixelDensity,G=this.canvas;if(O===void 0&&j===void 0)O=j=0,M=B.width,F=B.height;else if(O*=I,j*=I,M===void 0&&F===void 0)return O<0||j<0||O>=G.width||j>=G.height?[0,0,0,0]:this._getPixel(O,j);return B=new m.default.Image(M*I,F*I),B.pixelDensity(I),B.canvas.getContext("2d").drawImage(G,O,j,M*I,F*I,0,0,M*I,F*I),B}},{key:"textLeading",value:function(O){return typeof O=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",O),this._pInst):this._textLeading}},{key:"textStyle",value:function(O){return O?(O!==l.NORMAL&&O!==l.ITALIC&&O!==l.BOLD&&O!==l.BOLDITALIC||this._setProperty("_textStyle",O),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(O,j){return O!==void 0?(this._setProperty("_textAlign",O),j!==void 0&&this._setProperty("_textBaseline",j),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(O){return this._setProperty("_textWrap",O),this._textWrap}},{key:"text",value:function(O,j,M,F,B){var I,G,k,V,R=this._pInst,U=this._textWrap,L=Number.MAX_VALUE,H=M;if((this._doFill||this._doStroke)&&O!==void 0){if(I=(O=(O=typeof O!="string"?O.toString():O).replace(/(\t)/g,"  ")).split(`
`),F!==void 0){switch(this._rectMode===l.CENTER&&(j-=F/2),this._textAlign){case l.CENTER:j+=F/2;break;case l.RIGHT:j+=F}if(B!==void 0){this._rectMode===l.CENTER&&(M-=B/2,H-=B/2);var O=M,X=R.textAscent();switch(this._textBaseline){case l.BOTTOM:V=M+B,M=Math.max(V,M),H+=X;break;case l.CENTER:V=M+B/2,M=Math.max(V,M),H+=X/2}L=M+B-X,this._textBaseline===l.CENTER&&(L=O+B-X/2)}else this._textBaseline!==l.BOTTOM&&this._textBaseline!==l.CENTER||(H=M-(O=R.textSize()*this._textLeading)/2,L=M+O/2);if(U===l.WORD){for(var Z=[],J=0;J<I.length;J++){for(var K="",$=I[J].split(" "),W=0;W<$.length;W++)G="".concat(K+$[W])+" ",K=F<(k=this.textWidth(G))&&0<K.length?(Z.push(K),"".concat($[W])+" "):G;Z.push(K)}var Y=0;this._textBaseline===l.CENTER?Y=(Z.length-1)*R.textLeading()/2:this._textBaseline===l.BOTTOM&&(Y=(Z.length-1)*R.textLeading());for(var te=0;te<I.length;te++){K="",$=I[te].split(" ");for(var ce=0;ce<$.length;ce++)G="".concat(K+$[ce])+" ",F<(k=this.textWidth(G))&&0<K.length?(this._renderText(R,K.trim(),j,M-Y,L,H),K="".concat($[ce])+" ",M+=R.textLeading()):K=G;this._renderText(R,K.trim(),j,M-Y,L,H),M+=R.textLeading()}}else{for(var oe=[],ue=0;ue<I.length;ue++)for(var Ce=I[ue].split(K=""),le=0;le<Ce.length;le++)G="".concat(K+Ce[le]),(k=this.textWidth(G))<=F?K+=Ce[le]:F<k&&0<K.length&&(oe.push(K),K="".concat(Ce[le]));oe.push(K);var ye=0;this._textBaseline===l.CENTER?ye=(oe.length-1)*R.textLeading()/2:this._textBaseline===l.BOTTOM&&(ye=(oe.length-1)*R.textLeading());for(var ve=0;ve<I.length;ve++){Ce=I[ve].split(K="");for(var pe=0;pe<Ce.length;pe++)G="".concat(K+Ce[pe]),(k=this.textWidth(G))<=F?K+=Ce[pe]:F<k&&0<K.length&&(this._renderText(R,K.trim(),j,M-ye,L,H),M+=R.textLeading(),K="".concat(Ce[pe]))}this._renderText(R,K.trim(),j,M-ye,L,H),M+=R.textLeading()}}else{var be=0;this._textBaseline===l.CENTER?be=(I.length-1)*R.textLeading()/2:this._textBaseline===l.BOTTOM&&(be=(I.length-1)*R.textLeading());for(var Ne=0;Ne<I.length;Ne++)this._renderText(R,I[Ne],j,M-be,L,H-be),M+=R.textLeading()}return R}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var O=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return S(O)==="object"&&O.font&&O.font.supported}},{key:"_updateTextMetrics",value:function(){var O,j,M,F,B,I;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((O=document.createElement("span")).style.fontFamily=this._textFont,O.style.fontSize="".concat(this._textSize,"px"),O.innerHTML="ABCjgq|",(I=document.createElement("div")).style.display="inline-block",I.style.width="1px",I.style.height="0px",F=((j=document.createElement("div")).appendChild(O),j.appendChild(I),j.style.height="0px",j.style.overflow="hidden",document.body.appendChild(j),I.style.verticalAlign="baseline",y(I)),B=y(O),M=F[1]-B[1],F=(I.style.verticalAlign="bottom",y(I)),B=y(O),I=F[1]-B[1]-M,document.body.removeChild(j),this._setProperty("_textAscent",M),this._setProperty("_textDescent",I)),this}}])&&D(E.prototype,A),T}(m.default.Element);function y(A){var E=0,N=0;if(A.offsetParent)for(;E+=A.offsetLeft,N+=A.offsetTop,A=A.offsetParent;);else E+=A.offsetLeft,N+=A.offsetTop;return[E,N]}b.prototype.textSize=function(A){return typeof A=="number"?(this._setProperty("_textSize",A),this._leadingSet||this._setProperty("_textLeading",A*l._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},m.default.Renderer=b,a=m.default.Renderer,g.default=a},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(A,r,g){function f(E){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(E)}function m(E){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(N){return f(N)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":f(N)})(E)}A("core-js/modules/es.symbol"),A("core-js/modules/es.symbol.description"),A("core-js/modules/es.symbol.iterator"),A("core-js/modules/es.array.concat"),A("core-js/modules/es.array.fill"),A("core-js/modules/es.array.iterator"),A("core-js/modules/es.array.join"),A("core-js/modules/es.array.slice"),A("core-js/modules/es.function.name"),A("core-js/modules/es.object.get-own-property-descriptor"),A("core-js/modules/es.object.get-prototype-of"),A("core-js/modules/es.object.to-string"),A("core-js/modules/es.reflect.construct"),A("core-js/modules/es.reflect.get"),A("core-js/modules/es.regexp.exec"),A("core-js/modules/es.regexp.to-string"),A("core-js/modules/es.string.iterator"),A("core-js/modules/es.weak-map"),A("core-js/modules/web.dom-collections.iterator"),A("core-js/modules/es.array.concat"),A("core-js/modules/es.array.fill"),A("core-js/modules/es.array.join"),A("core-js/modules/es.array.slice"),A("core-js/modules/es.function.name"),A("core-js/modules/es.object.get-prototype-of"),A("core-js/modules/es.object.to-string"),A("core-js/modules/es.regexp.exec"),A("core-js/modules/es.regexp.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(y=A("./main"))&&y.__esModule?y:{default:y},x=function(E){if(E&&E.__esModule)return E;if(E===null||m(E)!=="object"&&typeof E!="function")return{default:E};var N=S();if(N&&N.has(E))return N.get(E);var T,O={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in E){var M;Object.prototype.hasOwnProperty.call(E,T)&&((M=j?Object.getOwnPropertyDescriptor(E,T):null)&&(M.get||M.set)?Object.defineProperty(O,T,M):O[T]=E[T])}return O.default=E,N&&N.set(E,O),O}(A("./constants"));function S(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,S=function(){return E},E)}function D(E,N){for(var T=0;T<N.length;T++){var O=N[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}function h(E,N,T){return(h=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(F,j,M){var F=function(B,I){for(;!Object.prototype.hasOwnProperty.call(B,I)&&(B=p(B))!==null;);return B}(F,j);if(F)return(F=Object.getOwnPropertyDescriptor(F,j)).get?F.get.call(M):F.value})(E,N,T||E)}function _(E,N){return(_=Object.setPrototypeOf||function(T,O){return T.__proto__=O,T})(E,N)}function o(E){return function(){var N,T=p(E),T=(N=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(N=p(this).constructor,Reflect.construct(T,arguments,N)):T.apply(this,arguments),this);if(!N||m(N)!=="object"&&typeof N!="function"){if(T!==void 0)return T;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return N}}function p(E){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)})(E)}A("./p5.Renderer");var b="rgba(0,0,0,0)",y=function(E){var N=O;if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(E&&E.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),E&&_(N,E);var T=o(O);function O(j,M,F){if(this instanceof O)return(j=T.call(this,j,M,F)).drawingContext=j.canvas.getContext("2d"),j._pInst._setProperty("drawingContext",j.drawingContext),j;throw new TypeError("Cannot call a class as a function")}return N=O,(E=[{key:"getFilterGraphicsLayer",value:function(){var j;return this.filterGraphicsLayer||(j=(this._pInst instanceof l.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new l.default.Graphics(this.width,this.height,x.WEBGL,j)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=x.BLEND,this._setFill(x._DEFAULT_FILL),this._setStroke(x._DEFAULT_STROKE),this.drawingContext.lineCap=x.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(j,M){h(p(O.prototype),"resize",this).call(this,j,M),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var j,M;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof l.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(j=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(j,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(j=this._getFill(),M=(M=this._pInst).color.apply(M,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(M.levels),M=M.toString(),this._setFill(M),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(j),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var j=(j=this._pInst).color.apply(j,arguments);this._setFill(j.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",j.levels)}},{key:"stroke",value:function(){var j=(j=this._pInst).color.apply(j,arguments);this._setStroke(j.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",j.levels)}},{key:"erase",value:function(j,M){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,j=this._pInst.color(255,j).toString(),this.drawingContext.fillStyle=j,this._cachedStrokeStyle=this.drawingContext.strokeStyle,j=this._pInst.color(255,M).toString(),this.drawingContext.strokeStyle=j,M=this._cachedBlendMode,this.blendMode(x.REMOVE),this._cachedBlendMode=M,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},j=(h(p(O.prototype),"beginClip",this).call(this,j),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),j=(this.drawingContext.fillStyle=j,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),j=(this.drawingContext.strokeStyle=j,this._cachedBlendMode);this.blendMode(x.BLEND),this._cachedBlendMode=j,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),h(p(O.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(j,M,F,B,I,G,k,V,R){j.gifProperties&&j._animateGif(this._pInst);try{l.default.MediaElement&&j instanceof l.default.MediaElement&&j._ensureCanvas();var U=(U=this._tint&&j.canvas?this._getTintedImageCanvas(j):U)||j.canvas||j.elt,L=1;j.width&&0<j.width&&(L=U.width/j.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(U,L*M,L*F,L*B,L*I,G,k,V,R),this._isErasing&&this._pInst.erase()}catch(H){if(H.name!=="NS_ERROR_NOT_AVAILABLE")throw H}}},{key:"_getTintedImageCanvas",value:function(j){if(!j.canvas)return j;j.tintCanvas||(j.tintCanvas=document.createElement("canvas")),j.tintCanvas.width!==j.canvas.width&&(j.tintCanvas.width=j.canvas.width),j.tintCanvas.height!==j.canvas.height&&(j.tintCanvas.height=j.canvas.height);var M=j.tintCanvas.getContext("2d");return M.save(),M.clearRect(0,0,j.canvas.width,j.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(M.drawImage(j.canvas,0,0),M.globalCompositeOperation="luminosity",M.drawImage(j.canvas,0,0),M.globalCompositeOperation="color",M.drawImage(j.canvas,0,0),M.globalCompositeOperation="multiply",M.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),M.fillRect(0,0,j.canvas.width,j.canvas.height),M.globalCompositeOperation="destination-in"),M.globalAlpha=this._tint[3]/255,M.drawImage(j.canvas,0,0),M.restore(),j.tintCanvas}},{key:"blendMode",value:function(j){if(j===x.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(j!==x.BLEND&&j!==x.REMOVE&&j!==x.DARKEST&&j!==x.LIGHTEST&&j!==x.DIFFERENCE&&j!==x.MULTIPLY&&j!==x.EXCLUSION&&j!==x.SCREEN&&j!==x.REPLACE&&j!==x.OVERLAY&&j!==x.HARD_LIGHT&&j!==x.SOFT_LIGHT&&j!==x.DODGE&&j!==x.BURN&&j!==x.ADD)throw new Error("Mode ".concat(j," not recognized."));this._cachedBlendMode=j,this.drawingContext.globalCompositeOperation=j}}},{key:"blend",value:function(){for(var j=this.drawingContext.globalCompositeOperation,M=arguments.length,F=new Array(M),B=0;B<M;B++)F[B]=arguments[B];var I=F[F.length-1],G=Array.prototype.slice.call(F,0,F.length-1);this.drawingContext.globalCompositeOperation=I,l.default.prototype.copy.apply(this,G),this.drawingContext.globalCompositeOperation=j}},{key:"_getPixel",value:function(j,M){return j=this.drawingContext.getImageData(j,M,1,1).data,[j[0],j[1],j[2],j[3]]}},{key:"loadPixels",value:function(){var j=this._pixelsState,M=j._pixelDensity,F=this.width*M,M=this.height*M,F=this.drawingContext.getImageData(0,0,F,M);j._setProperty("imageData",F),j._setProperty("pixels",F.data)}},{key:"set",value:function(j,M,F){j=Math.floor(j),M=Math.floor(M);var B=this._pixelsState;if(F instanceof l.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(B._pixelDensity,B._pixelDensity),this.drawingContext.clearRect(j,M,F.width,F.height),this.drawingContext.drawImage(F.canvas,j,M),this.drawingContext.restore();else{var I=0,G=0,k=0,V=0,R=4*(M*B._pixelDensity*(this.width*B._pixelDensity)+j*B._pixelDensity);if(B.imageData||B.loadPixels(),typeof F=="number")R<B.pixels.length&&(k=G=I=F,V=255);else if(Array.isArray(F)){if(F.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");R<B.pixels.length&&(I=F[0],G=F[1],k=F[2],V=F[3])}else F instanceof l.default.Color&&R<B.pixels.length&&(I=F.levels[0],G=F.levels[1],k=F.levels[2],V=F.levels[3]);for(var U=0;U<B._pixelDensity;U++)for(var L=0;L<B._pixelDensity;L++)R=4*((M*B._pixelDensity+L)*this.width*B._pixelDensity+(j*B._pixelDensity+U)),B.pixels[R]=I,B.pixels[R+1]=G,B.pixels[R+2]=k,B.pixels[R+3]=V}}},{key:"updatePixels",value:function(j,M,F,B){var I=this._pixelsState,G=I._pixelDensity;j===void 0&&M===void 0&&F===void 0&&B===void 0&&(M=j=0,F=this.width,B=this.height),j*=G,M*=G,F*=G,B*=G,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=I.imageData),this.drawingContext.putImageData(I.imageData,0,0,j,M,F,B)}},{key:"arc",value:function(R,U,L,H,I,G,k){var V=this.drawingContext,R=R+L/2,U=U+H/2,L=L/2,H=H/2,X=!(k===x.CHORD||k===x.OPEN||(G-I)%x.TWO_PI==0);return this._doFill&&(this._clipping||V.beginPath(),V.ellipse(R,U,L,H,0,I,G),X&&V.lineTo(R,U),V.closePath(),this._clipping||V.fill()),this._doStroke&&(this._clipping||V.beginPath(),V.ellipse(R,U,L,H,0,I,G),k===x.PIE&&X&&V.lineTo(R,U),k!==x.PIE&&k!==x.CHORD||V.closePath(),this._clipping||V.stroke()),this}},{key:"ellipse",value:function(V){var M=this.drawingContext,F=this._doFill,B=this._doStroke,I=parseFloat(V[0]),G=parseFloat(V[1]),k=parseFloat(V[2]),V=parseFloat(V[3]);if(F&&!B){if(this._getFill()===b)return this}else if(!F&&B&&this._getStroke()===b)return this;I+=k/2,G+=V/2,k/=2,V/=2,this._clipping||M.beginPath(),M.ellipse(I,G,k,V,0,0,2*Math.PI),M.closePath(),!this._clipping&&F&&M.fill(),!this._clipping&&B&&M.stroke()}},{key:"line",value:function(j,M,F,B){var I=this.drawingContext;return this._doStroke&&this._getStroke()!==b&&(this._clipping||I.beginPath(),I.moveTo(j,M),I.lineTo(F,B),I.stroke()),this}},{key:"point",value:function(j,M){var F,B,I=this.drawingContext;return!this._doStroke||this._getStroke()===b?this:(F=this._getStroke(),B=this._getFill(),this._clipping||this._setFill(F),this._clipping||I.beginPath(),I.arc(j,M,I.lineWidth/2,0,x.TWO_PI,!1),void(this._clipping||(I.fill(),this._setFill(B))))}},{key:"quad",value:function(j,M,F,B,I,G,k,V){var R=this.drawingContext,U=this._doFill,L=this._doStroke;if(U&&!L){if(this._getFill()===b)return this}else if(!U&&L&&this._getStroke()===b)return this;return this._clipping||R.beginPath(),R.moveTo(j,M),R.lineTo(F,B),R.lineTo(I,G),R.lineTo(k,V),R.closePath(),!this._clipping&&U&&R.fill(),!this._clipping&&L&&R.stroke(),this}},{key:"rect",value:function(L){var M,F,B=L[0],I=L[1],G=L[2],k=L[3],V=L[4],R=L[5],U=L[6],L=L[7],H=this.drawingContext,X=this._doFill,Z=this._doStroke;if(X&&!Z){if(this._getFill()===b)return this}else if(!X&&Z&&this._getStroke()===b)return this;return this._clipping||H.beginPath(),V===void 0?H.rect(B,I,G,k):(R===void 0&&(R=V),U===void 0&&(U=R),L===void 0&&(L=U),Z=(X=Math.abs(G))/2,F=(M=Math.abs(k))/2,H.roundRect(B,I,G,k,[V=M<2*(V=X<2*V?Z:V)?F:V,R=M<2*(R=X<2*R?Z:R)?F:R,U=M<2*(U=X<2*U?Z:U)?F:U,L=M<2*(L=X<2*L?Z:L)?F:L])),!this._clipping&&this._doFill&&H.fill(),!this._clipping&&this._doStroke&&H.stroke(),this}},{key:"triangle",value:function(U){var M=this.drawingContext,F=this._doFill,B=this._doStroke,I=U[0],G=U[1],k=U[2],V=U[3],R=U[4],U=U[5];if(F&&!B){if(this._getFill()===b)return this}else if(!F&&B&&this._getStroke()===b)return this;this._clipping||M.beginPath(),M.moveTo(I,G),M.lineTo(k,V),M.lineTo(R,U),M.closePath(),!this._clipping&&F&&M.fill(),!this._clipping&&B&&M.stroke()}},{key:"endShape",value:function(j,M,F,B,I,G,k){if(M.length!==0&&(this._doStroke||this._doFill)){var V,R,U,L=j===x.CLOSE,H=(L&&!G&&M.push(M[0]),M.length);if(F&&k===null){if(3<H){var X=[],Z=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(M[1][0],M[1][1]),R=1;R+2<H;R++)V=M[R],X[0]=[V[0],V[1]],X[1]=[V[0]+(Z*M[R+1][0]-Z*M[R-1][0])/6,V[1]+(Z*M[R+1][1]-Z*M[R-1][1])/6],X[2]=[M[R+1][0]+(Z*M[R][0]-Z*M[R+2][0])/6,M[R+1][1]+(Z*M[R][1]-Z*M[R+2][1])/6],X[3]=[M[R+1][0],M[R+1][1]],this.drawingContext.bezierCurveTo(X[1][0],X[1][1],X[2][0],X[2][1],X[3][0],X[3][1]);L&&this.drawingContext.lineTo(M[R+1][0],M[R+1][1]),this._doFillStrokeClose(L)}}else if(B&&k===null){for(this._clipping||this.drawingContext.beginPath(),R=0;R<H;R++)M[R].isVert?M[R].moveTo?this.drawingContext.moveTo(M[R][0],M[R][1]):this.drawingContext.lineTo(M[R][0],M[R][1]):this.drawingContext.bezierCurveTo(M[R][0],M[R][1],M[R][2],M[R][3],M[R][4],M[R][5]);this._doFillStrokeClose(L)}else if(I&&k===null){for(this._clipping||this.drawingContext.beginPath(),R=0;R<H;R++)M[R].isVert?M[R].moveTo?this.drawingContext.moveTo(M[R][0],M[R][1]):this.drawingContext.lineTo(M[R][0],M[R][1]):this.drawingContext.quadraticCurveTo(M[R][0],M[R][1],M[R][2],M[R][3]);this._doFillStrokeClose(L)}else if(k===x.POINTS)for(R=0;R<H;R++)V=M[R],this._doStroke&&this._pInst.stroke(V[6]),this._pInst.point(V[0],V[1]);else if(k===x.LINES)for(R=0;R+1<H;R+=2)V=M[R],this._doStroke&&this._pInst.stroke(M[R+1][6]),this._pInst.line(V[0],V[1],M[R+1][0],M[R+1][1]);else if(k===x.TRIANGLES)for(R=0;R+2<H;R+=3)V=M[R],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(V[0],V[1]),this.drawingContext.lineTo(M[R+1][0],M[R+1][1]),this.drawingContext.lineTo(M[R+2][0],M[R+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(M[R+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(M[R+2][6]),this.drawingContext.stroke());else if(k===x.TRIANGLE_STRIP)for(R=0;R+1<H;R++)V=M[R],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(M[R+1][0],M[R+1][1]),this.drawingContext.lineTo(V[0],V[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[R+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(M[R+1][5]),R+2<H&&(this.drawingContext.lineTo(M[R+2][0],M[R+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[R+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(M[R+2][5])),this._doFillStrokeClose(L);else if(k===x.TRIANGLE_FAN){if(2<H){for(this._clipping||this.drawingContext.beginPath(),R=2;R<H;R++)V=M[R],this.drawingContext.moveTo(M[0][0],M[0][1]),this.drawingContext.lineTo(M[R-1][0],M[R-1][1]),this.drawingContext.lineTo(V[0],V[1]),this.drawingContext.lineTo(M[0][0],M[0][1]),R<H-1&&(this._doFill&&V[5]!==M[R+1][5]||this._doStroke&&V[6]!==M[R+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(V[5]),this.drawingContext.fill(),this._pInst.fill(M[R+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(V[6]),this.drawingContext.stroke(),this._pInst.stroke(M[R+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(L)}}else if(k===x.QUADS)for(R=0;R+3<H;R+=4){for(V=M[R],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(V[0],V[1]),U=1;U<4;U++)this.drawingContext.lineTo(M[R+U][0],M[R+U][1]);this.drawingContext.lineTo(V[0],V[1]),!this._clipping&&this._doFill&&this._pInst.fill(M[R+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[R+3][6]),this._doFillStrokeClose(L)}else if(k===x.QUAD_STRIP){if(3<H)for(R=0;R+1<H;R+=2)V=M[R],this._clipping||this.drawingContext.beginPath(),R+3<H?(this.drawingContext.moveTo(M[R+2][0],M[R+2][1]),this.drawingContext.lineTo(V[0],V[1]),this.drawingContext.lineTo(M[R+1][0],M[R+1][1]),this.drawingContext.lineTo(M[R+3][0],M[R+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(M[R+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[R+3][6])):(this.drawingContext.moveTo(V[0],V[1]),this.drawingContext.lineTo(M[R+1][0],M[R+1][1])),this._doFillStrokeClose(L)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(M[0][0],M[0][1]),R=1;R<H;R++)(V=M[R]).isVert&&(V.moveTo?(L&&this.drawingContext.closePath(),this.drawingContext.moveTo(V[0],V[1])):this.drawingContext.lineTo(V[0],V[1]));this._doFillStrokeClose(L),this.drawingContext.closePath()}G=I=B=F=!1,L&&M.pop()}return this}},{key:"strokeCap",value:function(j){return j!==x.ROUND&&j!==x.SQUARE&&j!==x.PROJECT||(this.drawingContext.lineCap=j),this}},{key:"strokeJoin",value:function(j){return j!==x.ROUND&&j!==x.BEVEL&&j!==x.MITER||(this.drawingContext.lineJoin=j),this}},{key:"strokeWeight",value:function(j){return this.drawingContext.lineWidth=j===void 0||j===0?1e-4:j,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(j){j!==this._cachedFillStyle&&(this.drawingContext.fillStyle=j,this._cachedFillStyle=j)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(j){j!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=j,this._cachedStrokeStyle=j)}},{key:"bezier",value:function(j,M,F,B,I,G,k,V){return this._pInst.beginShape(),this._pInst.vertex(j,M),this._pInst.bezierVertex(F,B,I,G,k,V),this._pInst.endShape(),this}},{key:"curve",value:function(j,M,F,B,I,G,k,V){return this._pInst.beginShape(),this._pInst.curveVertex(j,M),this._pInst.curveVertex(F,B),this._pInst.curveVertex(I,G),this._pInst.curveVertex(k,V),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(j){j&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(j,M,F,B,I,G){this.drawingContext.transform(j,M,F,B,I,G)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(j){this.drawingContext.rotate(j)}},{key:"scale",value:function(j,M){return this.drawingContext.scale(j,M),this}},{key:"translate",value:function(j,M){return j instanceof l.default.Vector&&(M=j.y,j=j.x),this.drawingContext.translate(j,M),this}},{key:"_renderText",value:function(j,M,F,B,I,G){if(!(B<G||I<=B))return j.push(),this._isOpenType()?this._textFont._renderPath(M,F,B,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(M,F,B),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(x._DEFAULT_TEXT_FILL),this.drawingContext.fillText(M,F,B))),j.pop(),j}},{key:"textWidth",value:function(j){return this._isOpenType()?this._textFont._textWidth(j,this._textSize):this.drawingContext.measureText(j).width}},{key:"_applyTextProperties",value:function(){var j=this._pInst,M=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),M=this._textFont,this._isOpenType()&&(M=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),M||"sans-serif");return/\s/.exec(M)&&(M='"'.concat(M,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(M),this.drawingContext.textAlign=this._textAlign,this._textBaseline===x.CENTER?this.drawingContext.textBaseline=x._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,j}},{key:"push",value:function(){return this.drawingContext.save(),h(p(O.prototype),"push",this).call(this)}},{key:"pop",value:function(j){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,h(p(O.prototype),"pop",this).call(this,j)}}])&&D(N.prototype,E),O}(l.default.Renderer),A=(y.prototype.text=function(E,N,T,F,j){F!==void 0&&this.drawingContext.textBaseline===x.BASELINE&&(M=!0,this.drawingContext.textBaseline=x.TOP);var M,F=l.default.Renderer.prototype.text.apply(this,arguments);return M&&(this.drawingContext.textBaseline=x.BASELINE),F},l.default.Renderer2D=y,l.default.Renderer2D);g.default=A},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(a,r,g){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator");var f=(a=a("./main"))&&a.__esModule?a:{default:a};f.default.prototype._promisePreloads=[];function m(){return{}}var l=!(f.default.prototype.registerPromisePreload=function(x){f.default.prototype._promisePreloads.push(x)});f.default.prototype._setupPromisePreloads=function(){var x=!0,S=!1,D=void 0;try{for(var h,_=this._promisePreloads[Symbol.iterator]();!(x=(h=_.next()).done);x=!0){var o=h.value,p=this,b=o.method,y=o.addCallbacks,A=o.legacyPreloadSetup,E=o.target||this,N=E[b].bind(E);if(E===f.default.prototype){if(l)continue;p=null,N=E[b]}E[b]=this._wrapPromisePreload(p,N,y),A&&(E[A.method]=this._legacyPreloadGenerator(p,A,E[b]))}}catch(T){S=!0,D=T}finally{try{x||_.return==null||_.return()}finally{if(S)throw D}}l=!0},f.default.prototype._wrapPromisePreload=function(x,S,D){var h=function(){for(var _=this,o=(this._incrementPreload(),null),p=null,b=arguments.length,y=new Array(b),A=0;A<b;A++)y[A]=arguments[A];if(D)for(var E=y.length-1;0<=E&&!p&&typeof y[E]=="function";E--)p=o,o=y.pop();var N=Promise.resolve(S.apply(this,y));return o&&N.then(o),p&&N.catch(p),N.then(function(){return _._decrementPreload()}),N};return h=x?h.bind(x):h},f.default.prototype._legacyPreloadGenerator=function(x,_,D){var h=_.createBaseObject||m,_=function(){var o=this;this._incrementPreload();for(var p=arguments.length,b=new Array(p),y=0;y<p;y++)b[y]=arguments[y];var A=h.apply(this,b);return D.apply(this,b).then(function(E){Object.assign(A,E),o._decrementPreload()}),A};return _=x?_.bind(x):_}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(a,r,g){function f(_){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(_)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var m=(h=a("./main"))&&h.__esModule?h:{default:h},l=function(_){if(_&&_.__esModule)return _;if(_===null||S(_)!=="object"&&typeof _!="function")return{default:_};var o=x();if(o&&o.has(_))return o.get(_);var p,b={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in _){var A;Object.prototype.hasOwnProperty.call(_,p)&&((A=y?Object.getOwnPropertyDescriptor(_,p):null)&&(A.get||A.set)?Object.defineProperty(b,p,A):b[p]=_[p])}return b.default=_,o&&o.set(_,b),b}(a("./constants"));function x(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,x=function(){return _},_)}function S(_){return(S=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(_)}a("./p5.Graphics"),a("./p5.Renderer2D"),a("../webgl/p5.RendererGL");var D="defaultCanvas0",h=(m.default.prototype.createCanvas=function(_,o,p,b){var y,A,E;if(m.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(p=l.P2D,b=arguments[2]):y=p||l.P2D,b)(E=document.getElementById(D))&&E.parentNode.removeChild(E),E=b,this._defaultGraphicsCreated=!1;else{if(y===l.WEBGL)(E=document.getElementById(D))&&(E.parentNode.removeChild(E),A=this._renderer,this._elements=this._elements.filter(function(T){return T!==A})),(E=document.createElement("canvas")).id=D,E.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)E=this.canvas;else{E=b||document.createElement("canvas");for(var N=0;document.getElementById("defaultCanvas".concat(N));)N++;D="defaultCanvas".concat(N),E.id=D,E.classList.add("p5Canvas")}this._setupDone||(E.dataset.hidden=!0,E.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(p=document.createElement("main"),document.body.appendChild(p)),document.getElementsByTagName("main")[0])).appendChild(E)}return y===l.WEBGL?(this._setProperty("_renderer",new m.default.RendererGL(E,this,!0)),this._elements.push(this._renderer),_=(b=this._renderer._adjustDimensions(_,o)).adjustedWidth,o=b.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new m.default.Renderer2D(E,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(_,o),this._renderer._applyDefaults(),this._renderer},m.default.prototype.resizeCanvas=function(_,o,p){if(m.default._validateParameters("resizeCanvas",arguments),this._renderer){var b,y,A,E={};for(b in this.drawingContext){var N=this.drawingContext[b];S(N)!=="object"&&typeof N!="function"&&(E[b]=N)}for(A in this._renderer instanceof m.default.RendererGL&&(_=(y=this._renderer._adjustDimensions(_,o)).adjustedWidth,o=y.adjustedHeight),this.width=_,this.height=o,this._renderer.resize(_,o),E)try{this.drawingContext[A]=E[A]}catch{}p||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},m.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},m.default.prototype.createGraphics=function(_,o){for(var p=arguments.length,b=new Array(2<p?p-2:0),y=2;y<p;y++)b[y-2]=arguments[y];return b[0]instanceof HTMLCanvasElement&&(b[1]=b[0],b[0]=l.P2D),m.default._validateParameters("createGraphics",arguments),new m.default.Graphics(_,o,b[0],this,b[1])},m.default.prototype.createFramebuffer=function(_){return new m.default.Framebuffer(this,_)},m.default.prototype.clearDepth=function(_){this._assert3d("clearDepth"),this._renderer.clearDepth(_)},m.default.prototype.blendMode=function(_){m.default._validateParameters("blendMode",arguments),_===l.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),_=l.BLEND),this._renderer.blendMode(_)},m.default);g.default=h},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(a,r,g){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(o)}function m(o){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(p){return f(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":f(p)})(o)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.slice"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=h(a("../main")),x=function(o){if(o&&o.__esModule)return o;if(o===null||m(o)!=="object"&&typeof o!="function")return{default:o};var p=D();if(p&&p.has(o))return p.get(o);var b,y={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in o){var E;Object.prototype.hasOwnProperty.call(o,b)&&((E=A?Object.getOwnPropertyDescriptor(o,b):null)&&(E.get||E.set)?Object.defineProperty(y,b,E):y[b]=o[b])}return y.default=o,p&&p.set(o,y),y}(a("../constants")),S=h(a("../helpers"));function D(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,D=function(){return o},o)}function h(o){return o&&o.__esModule?o:{default:o}}function _(o){return function(p){if(Array.isArray(p)){for(var b=0,y=new Array(p.length);b<p.length;b++)y[b]=p[b];return y}}(o)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a("../friendly_errors/fes_core"),a("../friendly_errors/file_errors"),a("../friendly_errors/validate_params"),l.default.prototype._normalizeArcAngles=function(o,p,b,y,A){var E;return o-=x.TWO_PI*Math.floor(o/x.TWO_PI),p-=x.TWO_PI*Math.floor(p/x.TWO_PI),E=Math.min(Math.abs(o-p),x.TWO_PI-Math.abs(o-p)),A&&(o=o<=x.HALF_PI?Math.atan(b/y*Math.tan(o)):o>x.HALF_PI&&o<=3*x.HALF_PI?Math.atan(b/y*Math.tan(o))+x.PI:Math.atan(b/y*Math.tan(o))+x.TWO_PI,p=p<=x.HALF_PI?Math.atan(b/y*Math.tan(p)):p>x.HALF_PI&&p<=3*x.HALF_PI?Math.atan(b/y*Math.tan(p))+x.PI:Math.atan(b/y*Math.tan(p))+x.TWO_PI),p<o&&(p+=x.TWO_PI),{start:o,stop:p,correspondToSamePoint:E<1e-5}},l.default.prototype.arc=function(o,p,b,y,A,E,N,T){return l.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&A!==E&&(A=this._toRadians(A),E=this._toRadians(E),o=S.default.modeAdjust(o,p,b,y,this._renderer._ellipseMode),(p=this._normalizeArcAngles(A,E,o.w,o.h,!0)).correspondToSamePoint?this._renderer.ellipse([o.x,o.y,o.w,o.h,T]):(this._renderer.arc(o.x,o.y,o.w,o.h,p.start,p.stop,N,T),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[o.x,o.y,o.w,o.h,p.start,p.stop,N]))),this},l.default.prototype.ellipse=function(o,p,b,y,A){return l.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},l.default.prototype.circle=function(){for(var o=arguments.length,p=new Array(o),b=0;b<o;b++)p[b]=arguments[b];l.default._validateParameters("circle",p);var y=p.slice(0,2);return y.push(p[2],p[2]),this._renderEllipse.apply(this,_(y))},l.default.prototype._renderEllipse=function(o,p,b,y,A){return(this._renderer._doStroke||this._renderer._doFill)&&(o=S.default.modeAdjust(o,p,b,y=y===void 0?b:y,this._renderer._ellipseMode),this._renderer.ellipse([o.x,o.y,o.w,o.h,A]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[o.x,o.y,o.w,o.h])),this},l.default.prototype.line=function(){for(var o,p=arguments.length,b=new Array(p),y=0;y<p;y++)b[y]=arguments[y];return l.default._validateParameters("line",b),this._renderer._doStroke&&(o=this._renderer).line.apply(o,b),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",b),this},l.default.prototype.point=function(){for(var o,p=arguments.length,b=new Array(p),y=0;y<p;y++)b[y]=arguments[y];return l.default._validateParameters("point",b),this._renderer._doStroke&&(b.length===1&&b[0]instanceof l.default.Vector?this._renderer.point.call(this._renderer,b[0].x,b[0].y,b[0].z):((o=this._renderer).point.apply(o,b),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",b))),this},l.default.prototype.quad=function(){for(var o,p=arguments.length,b=new Array(p),y=0;y<p;y++)b[y]=arguments[y];return l.default._validateParameters("quad",b),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&b.length<12?this._renderer.quad.call(this._renderer,b[0],b[1],0,b[2],b[3],0,b[4],b[5],0,b[6],b[7],0,b[8],b[9]):((o=this._renderer).quad.apply(o,b),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",b))),this},l.default.prototype.rect=function(){for(var o=arguments.length,p=new Array(o),b=0;b<o;b++)p[b]=arguments[b];return l.default._validateParameters("rect",p),this._renderRect.apply(this,p)},l.default.prototype.square=function(o,p,b,y,A,E,N){return l.default._validateParameters("square",arguments),this._renderRect.call(this,o,p,b,b,y,A,E,N)},l.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var o=S.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),p=(this._renderer._rectMode===x.CORNER&&(o.w=arguments[2],o.h=arguments[3]),[o.x,o.y,o.w,o.h]),b=4;b<arguments.length;b++)p[b]=arguments[b];this._renderer.rect(p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[o.x,o.y,o.w,o.h])}return this},l.default.prototype.triangle=function(){for(var o=arguments.length,p=new Array(o),b=0;b<o;b++)p[b]=arguments[b];return l.default._validateParameters("triangle",p),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",p),this},a=l.default,g.default=a},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(a,r,g){function f(h){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}function m(h){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(_){return f(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":f(_)})(h)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(D=a("../main"))&&D.__esModule?D:{default:D},x=function(h){if(h&&h.__esModule)return h;if(h===null||m(h)!=="object"&&typeof h!="function")return{default:h};var _=S();if(_&&_.has(h))return _.get(h);var o,p={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in h){var y;Object.prototype.hasOwnProperty.call(h,o)&&((y=b?Object.getOwnPropertyDescriptor(h,o):null)&&(y.get||y.set)?Object.defineProperty(p,o,y):p[o]=h[o])}return p.default=h,_&&_.set(h,p),p}(a("../constants"));function S(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,S=function(){return h},h)}l.default.prototype.ellipseMode=function(h){return l.default._validateParameters("ellipseMode",arguments),h!==x.CORNER&&h!==x.CORNERS&&h!==x.RADIUS&&h!==x.CENTER||(this._renderer._ellipseMode=h),this},l.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},l.default.prototype.rectMode=function(h){return l.default._validateParameters("rectMode",arguments),h!==x.CORNER&&h!==x.CORNERS&&h!==x.RADIUS&&h!==x.CENTER||(this._renderer._rectMode=h),this},l.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},l.default.prototype.strokeCap=function(h){return l.default._validateParameters("strokeCap",arguments),h!==x.ROUND&&h!==x.SQUARE&&h!==x.PROJECT||this._renderer.strokeCap(h),this},l.default.prototype.strokeJoin=function(h){return l.default._validateParameters("strokeJoin",arguments),h!==x.ROUND&&h!==x.BEVEL&&h!==x.MITER||this._renderer.strokeJoin(h),this},l.default.prototype.strokeWeight=function(h){return l.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(h),this};var D=l.default;g.default=D},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(a,r,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(m=a("../main"))&&m.__esModule?m:{default:m};a("../friendly_errors/fes_core"),a("../friendly_errors/file_errors"),a("../friendly_errors/validate_params"),f.default.prototype.bezier=function(){for(var l,x=arguments.length,S=new Array(x),D=0;D<x;D++)S[D]=arguments[D];return f.default._validateParameters("bezier",S),(this._renderer._doStroke||this._renderer._doFill)&&(l=this._renderer).bezier.apply(l,S),this},f.default.prototype.bezierDetail=function(l){return f.default._validateParameters("bezierDetail",arguments),this._bezierDetail=l,this},f.default.prototype.bezierPoint=function(l,x,S,D,h){f.default._validateParameters("bezierPoint",arguments);var _=1-h;return Math.pow(_,3)*l+3*Math.pow(_,2)*h*x+3*_*Math.pow(h,2)*S+Math.pow(h,3)*D},f.default.prototype.bezierTangent=function(l,x,S,D,h){f.default._validateParameters("bezierTangent",arguments);var _=1-h;return 3*D*Math.pow(h,2)-3*S*Math.pow(h,2)+6*S*_*h-6*x*_*h+3*x*Math.pow(_,2)-3*l*Math.pow(_,2)},f.default.prototype.curve=function(){for(var l,x=arguments.length,S=new Array(x),D=0;D<x;D++)S[D]=arguments[D];return f.default._validateParameters("curve",S),this._renderer._doStroke&&(l=this._renderer).curve.apply(l,S),this},f.default.prototype.curveDetail=function(l){return f.default._validateParameters("curveDetail",arguments),this._curveDetail=l<3?3:l,this},f.default.prototype.curveTightness=function(l){return f.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=l,this},f.default.prototype.curvePoint=function(l,x,S,D,h){f.default._validateParameters("curvePoint",arguments);var _=this._renderer._curveTightness,o=h*h*h,p=h*h;return l*((_-1)/2*o+(1-_)*p+(_-1)/2*h)+x*((_+3)/2*o+(-5-_)/2*p+1)+S*((-3-_)/2*o+(_+2)*p+(1-_)/2*h)+D*((1-_)/2*o+(_-1)/2*p)},f.default.prototype.curveTangent=function(l,x,S,D,p){f.default._validateParameters("curveTangent",arguments);var _=this._renderer._curveTightness,o=p*p*3,p=2*p;return l*((_-1)/2*o+(1-_)*p+(_-1)/2)+x*((_+3)/2*o+(-5-_)/2*p)+S*((-3-_)/2*o+(_+2)*p+(1-_)/2)+D*((1-_)/2*o+(_-1)/2*p)};var m=f.default;g.default=m},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(a,r,g){function f(N){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(N)}function m(N){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(T){return f(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":f(T)})(N)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.slice"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(E=a("../main"))&&E.__esModule?E:{default:E},x=function(N){if(N&&N.__esModule)return N;if(N===null||m(N)!=="object"&&typeof N!="function")return{default:N};var T=S();if(T&&T.has(N))return T.get(N);var O,j={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in N){var F;Object.prototype.hasOwnProperty.call(N,O)&&((F=M?Object.getOwnPropertyDescriptor(N,O):null)&&(F.get||F.set)?Object.defineProperty(j,O,F):j[O]=N[O])}return j.default=N,T&&T.set(N,j),j}(a("../constants"));function S(){var N;return typeof WeakMap!="function"?null:(N=new WeakMap,S=function(){return N},N)}var D=null,h=[],_=[],o=!1,p=!1,b=!1,y=!1,A=!0,E=(l.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(_=[],y=!0),this},l.default.prototype.beginShape=function(N){var T;return l.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(T=this._renderer).beginShape.apply(T,arguments):(D=N===x.POINTS||N===x.LINES||N===x.TRIANGLES||N===x.TRIANGLE_FAN||N===x.TRIANGLE_STRIP||N===x.QUADS||N===x.QUAD_STRIP?N:null,h=[],_=[]),this},l.default.prototype.bezierVertex=function(){for(var N,T=arguments.length,O=new Array(T),j=0;j<T;j++)O[j]=arguments[j];if(l.default._validateParameters("bezierVertex",O),this._renderer.isP3D)(N=this._renderer).bezierVertex.apply(N,O);else if(h.length===0)l.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{o=!0;for(var M=[],F=0;F<O.length;F++)M[F]=O[F];M.isVert=!1,(y?_:h).push(M)}return this},l.default.prototype.curveVertex=function(){for(var N,T=arguments.length,O=new Array(T),j=0;j<T;j++)O[j]=arguments[j];return l.default._validateParameters("curveVertex",O),this._renderer.isP3D?(N=this._renderer).curveVertex.apply(N,O):(p=!0,this.vertex(O[0],O[1])),this},l.default.prototype.endContour=function(){if(!this._renderer.isP3D){var N=_[0].slice();N.isVert=_[0].isVert,N.moveTo=!1,_.push(N),A&&(h.push(h[0]),A=!1);for(var T=0;T<_.length;T++)h.push(_[T])}return this},l.default.prototype.endShape=function(N){var T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(l.default._validateParameters("endShape",arguments),T<1&&(console.log("🌸 p5.js says: You can not have less than one instance"),T=1),this._renderer.isP3D)this._renderer.endShape(N,p,o,b,y,D,T);else{if(T!==1&&console.log("🌸 p5.js says: Instancing is only supported in WebGL2 mode"),h.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;T=N===x.CLOSE,T&&!y&&h.push(h[0]),this._renderer.endShape(N,h,p,o,b,y,D),A=!(y=b=o=p=!1),T&&h.pop()}return this},l.default.prototype.quadraticVertex=function(){for(var N,T=arguments.length,O=new Array(T),j=0;j<T;j++)O[j]=arguments[j];if(l.default._validateParameters("quadraticVertex",O),this._renderer.isP3D)(N=this._renderer).quadraticVertex.apply(N,O);else{if(this._contourInited)return(N={}).x=O[0],N.y=O[1],N.x3=O[2],N.y3=O[3],N.type=x.QUADRATIC,this._contourVertices.push(N),this;if(0<h.length){b=!0;for(var M=[],F=0;F<O.length;F++)M[F]=O[F];M.isVert=!1,(y?_:h).push(M)}else l.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},l.default.prototype.vertex=function(N,T,O,j,M){var F;return this._renderer.isP3D?(F=this._renderer).vertex.apply(F,arguments):((F=[]).isVert=!0,F[0]=N,F[1]=T,F[2]=0,F[3]=0,F[4]=0,F[5]=this._renderer._getFill(),F[6]=this._renderer._getStroke(),O&&(F.moveTo=O),(y?(_.length===0&&(F.moveTo=!0),_):h).push(F)),this},l.default.prototype.normal=function(N,T,O){var j;return this._assert3d("normal"),l.default._validateParameters("normal",arguments),(j=this._renderer).normal.apply(j,arguments),this},l.default);g.default=E},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(a,r,g){},{}],295:[function(a,r,g){a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.assign"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,a=(a=a("./main"))&&a.__esModule?a:{default:a},a.default.prototype.noLoop=function(){this._loop=!1},a.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},a.default.prototype.isLooping=function(){return this._loop},a.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},a.default.prototype.pop=function(){var f=this._styles.pop();f?(this._renderer.pop(f.renderer),Object.assign(this,f.props)):console.warn("pop() was called without matching push()")},a.default.prototype.redraw=function(f){if(!this._inUserDraw&&this._setupDone){var m=parseInt(f),l=((isNaN(m)||m<1)&&(m=1),this._isGlobal?window:this);if(typeof l.draw=="function"){l.setup===void 0&&l.scale(l._pixelDensity,l._pixelDensity);for(var x=0;x<m;x++){l.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),l._renderer.isP3D&&l._renderer._update(),l._setProperty("frameCount",l.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{l.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},a=a.default,g.default=a},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(a,r,g){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(a=a("./main"))&&a.__esModule?a:{default:a};function m(l){return function(x){if(Array.isArray(x)){for(var S=0,D=new Array(x.length);S<x.length;S++)D[S]=x[S];return D}}(l)||function(x){if(Symbol.iterator in Object(x)||Object.prototype.toString.call(x)==="[object Arguments]")return Array.from(x)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.applyMatrix=function(){var l=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||l?(l=this._renderer).applyMatrix.apply(l,m(arguments.length<=0?void 0:arguments[0])):(l=this._renderer).applyMatrix.apply(l,arguments),this},f.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},f.default.prototype.rotate=function(l,x){return f.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(l),x),this},f.default.prototype.rotateX=function(l){return this._assert3d("rotateX"),f.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(l)),this},f.default.prototype.rotateY=function(l){return this._assert3d("rotateY"),f.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(l)),this},f.default.prototype.rotateZ=function(l){return this._assert3d("rotateZ"),f.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(l)),this},f.default.prototype.scale=function(l,x,S){var D;return f.default._validateParameters("scale",arguments),l instanceof f.default.Vector?(l=(D=l).x,x=D.y,S=D.z):Array.isArray(l)&&(l=(D=l)[0],x=D[1],S=D[2]||1),isNaN(x)?x=S=l:isNaN(S)&&(S=1),this._renderer.scale(l,x,S),this},f.default.prototype.shearX=function(l){return f.default._validateParameters("shearX",arguments),l=this._toRadians(l),this._renderer.applyMatrix(1,0,Math.tan(l),1,0,0),this},f.default.prototype.shearY=function(l){return f.default._validateParameters("shearY",arguments),l=this._toRadians(l),this._renderer.applyMatrix(1,Math.tan(l),0,1,0,0),this},f.default.prototype.translate=function(l,x,S){return f.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(l,x,S):this._renderer.translate(l,x),this},a=f.default,g.default=a},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(a,r,g){function f(S){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(S)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.ends-with"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.ends-with"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator");var m=(a=a("../core/main"))&&a.__esModule?a:{default:a};function l(S){return function(D){if(Array.isArray(D)){for(var h=0,_=new Array(D.length);h<D.length;h++)_[h]=D[h];return _}}(S)||function(D){if(Symbol.iterator in Object(D)||Object.prototype.toString.call(D)==="[object Arguments]")return Array.from(D)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(S){return(x=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(D){return f(D)}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":f(D)})(S)}m.default.prototype.storeItem=function(S,D){typeof S!="string"&&console.log("The argument that you passed to storeItem() - ".concat(S," is not a string.")),S.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(S," must not end with 'p5TypeID'.")),D===void 0&&console.log("You cannot store undefined variables using storeItem().");var h=x(D);switch(h){case"number":case"boolean":D=D.toString();break;case"object":D instanceof m.default.Color?h="p5.Color":D instanceof m.default.Vector&&(h="p5.Vector",D=[D.x,D.y,D.z]),D=JSON.stringify(D)}localStorage.setItem(S,D),S="".concat(S,"p5TypeID"),localStorage.setItem(S,h)},m.default.prototype.getItem=function(S){var D=localStorage.getItem(S),h=localStorage.getItem("".concat(S,"p5TypeID"));if(h===void 0)console.log("Unable to determine type of item stored under ".concat(S,"in local storage. Did you save the item with something other than setItem()?"));else if(D!==null)switch(h){case"number":D=parseFloat(D);break;case"boolean":D=D==="true";break;case"object":D=JSON.parse(D);break;case"p5.Color":D=JSON.parse(D),D=this.color.apply(this,l(D.levels));break;case"p5.Vector":D=JSON.parse(D),D=this.createVector.apply(this,l(D))}return D},m.default.prototype.clearStorage=function(){var S=this;Object.keys(localStorage).forEach(function(D){D.endsWith("p5TypeID")&&S.removeItem(D.replace("p5TypeID",""))})},m.default.prototype.removeItem=function(S){typeof S!="string"&&console.log("The argument that you passed to removeItem() - ".concat(S," is not a string.")),localStorage.removeItem(S),localStorage.removeItem("".concat(S,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(a,r,g){function f(b){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}function m(b){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(y){return f(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":f(y)})(b)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.reflect.construct"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.object.keys"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(a=a("../core/main"))&&a.__esModule?a:{default:a};function x(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),y&&S(b,y)}function S(b,y){return(S=Object.setPrototypeOf||function(A,E){return A.__proto__=E,A})(b,y)}function D(b){return function(){var y,A=h(b),A=(y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(y=h(this).constructor,Reflect.construct(A,arguments,y)):A.apply(this,arguments),this);if(!y||m(y)!=="object"&&typeof y!="function"){if(A!==void 0)return A;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return y}}function h(b){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(b)}function _(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function o(b,y){for(var A=0;A<y.length;A++){var E=y[A];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}function p(b,y,A){y&&o(b.prototype,y),A&&o(b,A)}l.default.prototype.createStringDict=function(b,y){return l.default._validateParameters("createStringDict",arguments),new l.default.StringDict(b,y)},l.default.prototype.createNumberDict=function(b,y){return l.default._validateParameters("createNumberDict",arguments),new l.default.NumberDict(b,y)},l.default.TypedDict=function(){function b(y,A){return _(this,b),y instanceof Object?this.data=y:(this.data={},this.data[y]=A),this}return p(b,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(y){return this.data.hasOwnProperty(y)}},{key:"get",value:function(y){if(this.data.hasOwnProperty(y))return this.data[y];console.log("".concat(y," does not exist in this Dictionary"))}},{key:"set",value:function(y,A){this._validate(A)?this.data[y]=A:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(y){for(var A in y)this.set(A,y[A])}},{key:"create",value:function(y,A){y instanceof Object&&A===void 0?this._addObj(y):y!==void 0?this.set(y,A):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(y){if(!this.data.hasOwnProperty(y))throw new Error("".concat(y," does not exist in this Dictionary"));delete this.data[y]}},{key:"print",value:function(){for(var y in this.data)console.log("key:".concat(y," value:").concat(this.data[y]))}},{key:"saveTable",value:function(y){var A,E="";for(A in this.data)E+="".concat(A,",").concat(this.data[A],`
`);var N=new Blob([E],{type:"text/csv"});l.default.prototype.downloadFile(N,y||"mycsv","csv")}},{key:"saveJSON",value:function(y,A){l.default.prototype.saveJSON(this.data,y,A)}},{key:"_validate",value:function(y){return!0}}]),b}(),l.default.StringDict=function(){x(y,l.default.TypedDict);var b=D(y);function y(){_(this,y);for(var A=arguments.length,E=new Array(A),N=0;N<A;N++)E[N]=arguments[N];return b.call.apply(b,[this].concat(E))}return p(y,[{key:"_validate",value:function(A){return typeof A=="string"}}]),y}(),l.default.NumberDict=function(){x(y,l.default.TypedDict);var b=D(y);function y(){_(this,y);for(var A=arguments.length,E=new Array(A),N=0;N<A;N++)E[N]=arguments[N];return b.call.apply(b,[this].concat(E))}return p(y,[{key:"_validate",value:function(A){return typeof A=="number"}},{key:"add",value:function(A,E){this.data.hasOwnProperty(A)?this.data[A]+=E:console.log("The key - ".concat(A," does not exist in this dictionary."))}},{key:"sub",value:function(A,E){this.add(A,-E)}},{key:"mult",value:function(A,E){this.data.hasOwnProperty(A)?this.data[A]*=E:console.log("The key - ".concat(A," does not exist in this dictionary."))}},{key:"div",value:function(A,E){this.data.hasOwnProperty(A)?this.data[A]/=E:console.log("The key - ".concat(A," does not exist in this dictionary."))}},{key:"_valueTest",value:function(A){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var E,N=this.data[Object.keys(this.data)[0]];for(E in this.data)this.data[E]*A<N*A&&(N=this.data[E]);return N}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(A){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var E=Object.keys(this.data)[0],N=1;N<Object.keys(this.data).length;N++)Object.keys(this.data)[N]*A<E*A&&(E=Object.keys(this.data)[N]);return E}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),y}(),a=l.default.TypedDict,g.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(a,r,g){function f(N){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(N)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.every"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.reflect.construct"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/web.url"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.every"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/web.url"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var m=(a=a("../core/main"))&&a.__esModule?a:{default:a};function l(N,T){for(var O=0;O<T.length;O++){var j=T[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(N,j.key,j)}}function x(N,T,O){T&&l(N.prototype,T),O&&l(N,O)}function S(N,T){return(S=Object.setPrototypeOf||function(O,j){return O.__proto__=j,O})(N,T)}function D(N){return function(){var T,O,j=_(N);return T=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(T=_(this).constructor,Reflect.construct(j,arguments,T)):j.apply(this,arguments),j=this,!(O=T)||p(O)!=="object"&&typeof O!="function"?h(j):O}}function h(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function _(N){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)})(N)}function o(N,T){if(!(N instanceof T))throw new TypeError("Cannot call a class as a function")}function p(N){return(p=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(T){return f(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":f(T)})(N)}function b(N,T,O){return(T._userNode||document.body).appendChild(N),O=new(O?m.default.MediaElement:m.default.Element)(N,T),T._elements.push(O),O}m.default.prototype.select=function(N,T){return m.default._validateParameters("select",arguments),T=this._getContainer(T).querySelector(N),T?this._wrapElement(T):null},m.default.prototype.selectAll=function(N,T){m.default._validateParameters("selectAll",arguments);var O=[],j=this._getContainer(T).querySelectorAll(N);if(j)for(var M=0;M<j.length;M++){var F=this._wrapElement(j[M]);O.push(F)}return O},m.default.prototype._getContainer=function(N){var T=document;return typeof N=="string"?T=document.querySelector(N)||document:N instanceof m.default.Element?T=N.elt:N instanceof HTMLElement&&(T=N),T},m.default.prototype._wrapElement=function(N){var T,O=Array.prototype.slice.call(N.children);return N.tagName==="INPUT"&&N.type==="checkbox"?((T=new m.default.Element(N,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},T):N.tagName==="VIDEO"||N.tagName==="AUDIO"?new m.default.MediaElement(N,this):N.tagName==="SELECT"?this.createSelect(new m.default.Element(N,this)):0<O.length&&O.every(function(j){return j.tagName==="INPUT"||j.tagName==="LABEL"})&&(N.tagName==="DIV"||N.tagName==="SPAN")?this.createRadio(new m.default.Element(N,this)):new m.default.Element(N,this)},m.default.prototype.removeElements=function(N){m.default._validateParameters("removeElements",arguments),this._elements.filter(function(T){return!(T.elt instanceof HTMLCanvasElement)}).map(function(T){return T.remove()})},m.default.Element.prototype.changed=function(N){return m.default.Element._adjustListener("change",N,this),this},m.default.Element.prototype.input=function(N){return m.default.Element._adjustListener("input",N,this),this},m.default.prototype.createDiv=function(){var N=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",T=document.createElement("div");return T.innerHTML=N,b(T,this)},m.default.prototype.createP=function(){var N=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",T=document.createElement("p");return T.innerHTML=N,b(T,this)},m.default.prototype.createSpan=function(){var N=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",T=document.createElement("span");return T.innerHTML=N,b(T,this)},m.default.prototype.createImg=function(){m.default._validateParameters("createImg",arguments);var N,T=document.createElement("img"),O=arguments;return 1<O.length&&typeof O[1]=="string"&&(T.alt=O[1]),2<O.length&&typeof O[2]=="string"&&(T.crossOrigin=O[2]),T.src=O[0],N=b(T,this),T.addEventListener("load",function(){N.width=T.offsetWidth||T.width,N.height=T.offsetHeight||T.height;var j=O[O.length-1];typeof j=="function"&&j(N)}),N},m.default.prototype.createA=function(N,T,O){m.default._validateParameters("createA",arguments);var j=document.createElement("a");return j.href=N,j.innerHTML=T,O&&(j.target=O),b(j,this)},m.default.prototype.createSlider=function(N,T,O,j){m.default._validateParameters("createSlider",arguments);var M=document.createElement("input");return M.type="range",M.min=N,M.max=T,j===0?M.step=1e-18:j&&(M.step=j),typeof O=="number"&&(M.value=O),b(M,this)},m.default.prototype.createButton=function(N,T){m.default._validateParameters("createButton",arguments);var O=document.createElement("button");return O.innerHTML=N,T&&(O.value=T),b(O,this)},m.default.prototype.createCheckbox=function(){for(var N=arguments.length,T=new Array(N),O=0;O<N;O++)T[O]=arguments[O];m.default._validateParameters("createCheckbox",T);var j=document.createElement("div"),M=document.createElement("input"),F=(M.type="checkbox",document.createElement("label")),B=(F.appendChild(M),j.appendChild(F),b(j,this));return B.checked=function(){var I=B.elt.firstElementChild.getElementsByTagName("input")[0];if(I){if(arguments.length===0)return I.checked;I.checked=!(arguments.length<=0||!arguments[0])}return B},this.value=function(I){return B.value=I,this},T[0]&&(B.value(T[0]),(j=document.createElement("span")).innerHTML=T[0],F.appendChild(j)),T[1]&&(M.checked=!0),B},m.default.prototype.createSelect=function(){for(var N,T=arguments.length,O=new Array(T),j=0;j<T;j++)O[j]=arguments[j];m.default._validateParameters("createSelect",O);var M,F=O[0];return F instanceof m.default.Element&&F.elt instanceof HTMLSelectElement?this.elt=(N=F).elt:F instanceof HTMLSelectElement?(N=b(F,this),this.elt=F):(M=document.createElement("select"),F&&typeof F=="boolean"&&M.setAttribute("multiple","true"),N=b(M,this),this.elt=M),N.option=function(B,I){var G;if(B!==void 0){for(var k,V=0;V<this.elt.length;V+=1)if(this.elt[V].textContent===B){G=V;break}G!==void 0?I===!1?this.elt.remove(G):this.elt[G].value=I:((k=document.createElement("option")).textContent=B,k.value=I===void 0?B:I,this.elt.appendChild(k),this._pInst._elements.push(k))}},N.selected=function(B){if(B!==void 0){for(var I=0;I<this.elt.length;I+=1)this.elt[I].value.toString()===B.toString()&&(this.elt.selectedIndex=I);return this}if(this.elt.getAttribute("multiple")){var G=[],k=!0,V=!1,R=void 0;try{for(var U,L=this.elt.selectedOptions[Symbol.iterator]();!(k=(U=L.next()).done);k=!0){var H=U.value;G.push(H.value)}}catch(X){V=!0,R=X}finally{try{k||L.return==null||L.return()}finally{if(V)throw R}}return G}return this.elt.value},N.disable=function(B){if(typeof B=="string")for(var I=0;I<this.elt.length;I++)this.elt[I].value.toString()===B&&(this.elt[I].disabled=!0,this.elt[I].selected=!1);else this.elt.disabled=!0;return this},N.enable=function(B){if(typeof B=="string")for(var I=0;I<this.elt.length;I++)this.elt[I].value.toString()===B&&(this.elt[I].disabled=!1,this.elt[I].selected=!1);else{this.elt.disabled=!1;for(var G=0;G<this.elt.length;G++)this.elt[G].disabled=!1,this.elt[G].selected=!1}return this},N};var y=0;function A(N,B,O,j){var M=document.createElement(B),F=(typeof(O=O||"")=="string"&&(O=[O]),!0),B=!1,I=void 0;try{for(var G,k=O[Symbol.iterator]();!(F=(G=k.next()).done);F=!0){var V=G.value,R=document.createElement("source");R.setAttribute("src",V),M.appendChild(R)}}catch(L){B=!0,I=L}finally{try{F||k.return==null||k.return()}finally{if(B)throw I}}typeof j=="function"&&M.addEventListener("canplaythrough",function L(){j(),M.removeEventListener("canplaythrough",L)});var U=b(M,N,!0);return U.loadedmetadata=!1,M.addEventListener("loadedmetadata",function(){U.width=M.videoWidth,U.height=M.videoHeight,U.elt.width===0&&(U.elt.width=M.videoWidth),U.elt.height===0&&(U.elt.height=M.videoHeight),U.presetPlaybackRate&&(U.elt.playbackRate=U.presetPlaybackRate,delete U.presetPlaybackRate),U.loadedmetadata=!0}),U}m.default.prototype.createRadio=function(){function N(B){return B instanceof HTMLInputElement&&B.type==="radio"}function T(B){return B instanceof HTMLLabelElement}var O,j,M,F=arguments.length<=0?void 0:arguments[0];return F instanceof m.default.Element&&(F.elt instanceof HTMLDivElement||F.elt instanceof HTMLSpanElement)?(O=F,this.elt=F.elt):F instanceof HTMLDivElement||F instanceof HTMLSpanElement?(O=b(F,this),j=this.elt=F,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(M=arguments.length<=1?void 0:arguments[1])):(typeof F=="string"&&(M=F),j=document.createElement("div"),O=b(j,this),this.elt=j),O._name=M||"radioOption_".concat(y++),O._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(B){return N(B)||T(B)&&N(B.firstElementChild)}).map(function(B){return N(B)?B:B.firstElementChild})},O.option=function(B,I){var G,k,V,R=!0,U=!1,L=void 0;try{for(var H,X=O._getOptionsArray()[Symbol.iterator]();!(R=(H=X.next()).done);R=!0){var Z=H.value;if(Z.value===B){G=Z;break}}}catch(J){U=!0,L=J}finally{try{R||X.return==null||X.return()}finally{if(U)throw L}}return G===void 0&&((G=document.createElement("input")).setAttribute("type","radio"),G.setAttribute("value",B)),G.setAttribute("name",O._name),T(G.parentElement)?k=G.parentElement:(k=document.createElement("label")).insertAdjacentElement("afterbegin",G),k.lastElementChild instanceof HTMLSpanElement?V=k.lastElementChild:(V=document.createElement("span"),G.insertAdjacentElement("afterend",V)),V.innerHTML=I===void 0?B:I,this.elt.appendChild(k),G},O.remove=function(B){var I=!0,G=!1,k=void 0;try{for(var V,R=O._getOptionsArray()[Symbol.iterator]();!(I=(V=R.next()).done);I=!0){var U=V.value;if(U.value===B)return void(T(U.parentElement)?U.parentElement:U).remove()}}catch(L){G=!0,k=L}finally{try{I||R.return==null||R.return()}finally{if(G)throw k}}},O.value=function(){var B="",I=!0,G=!1,k=void 0;try{for(var V,R=O._getOptionsArray()[Symbol.iterator]();!(I=(V=R.next()).done);I=!0){var U=V.value;if(U.checked){B=U.value;break}}}catch(L){G=!0,k=L}finally{try{I||R.return==null||R.return()}finally{if(G)throw k}}return B},O.selected=function(B){var I=null;if(B===void 0){var G=!0,k=!1,V=void 0;try{for(var R,U=O._getOptionsArray()[Symbol.iterator]();!(G=(R=U.next()).done);G=!0){var L=R.value;if(L.checked){I=L;break}}}catch(K){k=!0,V=K}finally{try{G||U.return==null||U.return()}finally{if(k)throw V}}}else{O._getOptionsArray().forEach(function(W){W.checked=!1,W.removeAttribute("checked")});var H=!0,k=!1,V=void 0;try{for(var X,Z=O._getOptionsArray()[Symbol.iterator]();!(H=(X=Z.next()).done);H=!0){var J=X.value;J.value===B&&(J.setAttribute("checked",!0),J.checked=!0,I=J)}}catch(W){k=!0,V=W}finally{try{H||Z.return==null||Z.return()}finally{if(k)throw V}}}return I},O.disable=function(){var B=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],I=!0,G=!1,k=void 0;try{for(var V,R=O._getOptionsArray()[Symbol.iterator]();!(I=(V=R.next()).done);I=!0)V.value.setAttribute("disabled",B)}catch(U){G=!0,k=U}finally{try{I||R.return==null||R.return()}finally{if(G)throw k}}},O},m.default.prototype.createColorPicker=function(N){m.default._validateParameters("createColorPicker",arguments);var T=document.createElement("input");return T.type="color",N?N instanceof m.default.Color?T.value=N.toString("#rrggbb"):(m.default.prototype._colorMode="rgb",m.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},T.value=m.default.prototype.color(N).toString("#rrggbb")):T.value="#000000",(T=b(T,this)).color=function(){return N&&(N.mode&&(m.default.prototype._colorMode=N.mode),N.maxes&&(m.default.prototype._colorMaxes=N.maxes)),m.default.prototype.color(this.elt.value)},T},m.default.prototype.createInput=function(){var N=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",O=(m.default._validateParameters("createInput",arguments),document.createElement("input"));return O.setAttribute("value",N),O.setAttribute("type",T),b(O,this)},m.default.prototype.createFileInput=function(N){var T,O=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(m.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(T=document.createElement("input")).setAttribute("type","file"),O&&T.setAttribute("multiple",!0),T.addEventListener("change",function(j){var M=!0,F=!1,B=void 0;try{for(var I,G=j.target.files[Symbol.iterator]();!(M=(I=G.next()).done);M=!0){var k=I.value;m.default.File._load(k,N)}}catch(V){F=!0,B=V}finally{try{M||G.return==null||G.return()}finally{if(F)throw B}}},!1),b(T,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},m.default.prototype.createVideo=function(N,T){return m.default._validateParameters("createVideo",arguments),A(this,"video",N,T)},m.default.prototype.createAudio=function(N,T){return m.default._validateParameters("createAudio",arguments),A(this,"audio",N,T)},m.default.prototype.VIDEO="video",m.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(N){var T=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return T?new Promise(function(O,j){T.call(navigator,N,O,j)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),m.default.prototype.createCapture=function(){for(var N=arguments.length,T=new Array(N),O=0;O<N;O++)T[O]=arguments[O];if(m.default._validateParameters("createCapture",T),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var j,M=!0,F=!0,B=!1,I=0,G=T;I<G.length;I++){var k=G[I];k===m.default.prototype.VIDEO?F=!1:k===m.default.prototype.AUDIO?M=!1:p(k)==="object"?(k.flipped!==void 0&&(B=k.flipped,delete k.flipped),V=Object.assign({},V,k)):typeof k=="function"&&(j=k)}var V=Object.assign({},{video:M,audio:F},V),R=document.createElement("video"),U=(R.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(V).then(function(L){try{"srcObject"in R?R.srcObject=L:R.src=window.URL.createObjectURL(L)}catch{R.src=L}}).catch(function(L){L.name==="NotFoundError"&&m.default._friendlyError("No webcam found on this device","createCapture"),L.name==="NotAllowedError"&&m.default._friendlyError("Access to the camera was denied","createCapture"),console.error(L)}),b(R,this,!0));return U.loadedmetadata=!1,R.addEventListener("loadedmetadata",function(){R.play(),R.width?(U.width=R.width,U.height=R.height,B&&(U.elt.style.transform="scaleX(-1)")):(U.width=U.elt.width=R.videoWidth,U.height=U.elt.height=R.videoHeight),U.loadedmetadata=!0,j&&j(R.srcObject)}),U.flipped=B,U},m.default.prototype.createElement=function(N,T){return m.default._validateParameters("createElement",arguments),N=document.createElement(N),T!==void 0&&(N.innerHTML=T),b(N,this)},m.default.Element.prototype.addClass=function(N){return this.elt.className?this.hasClass(N)||(this.elt.className=this.elt.className+" "+N):this.elt.className=N,this},m.default.Element.prototype.removeClass=function(N){return this.elt.classList.remove(N),this},m.default.Element.prototype.hasClass=function(N){return this.elt.classList.contains(N)},m.default.Element.prototype.toggleClass=function(N){return this.elt.classList.contains(N)?this.elt.classList.remove(N):this.elt.classList.add(N),this},m.default.Element.prototype.child=function(N){return N===void 0?this.elt.childNodes:(typeof N=="string"?(N[0]==="#"&&(N=N.substring(1)),N=document.getElementById(N)):N instanceof m.default.Element&&(N=N.elt),N instanceof HTMLElement&&this.elt.appendChild(N),this)},m.default.Element.prototype.center=function(N){var T=this.elt.style.display,O=this.elt.style.display==="none",j=this.parent().style.display==="none",M={x:this.elt.offsetLeft,y:this.elt.offsetTop},F=(O&&this.show(),j&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),B=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return N==="both"||N===void 0?this.position(F/2+this.parent().offsetLeft,B/2+this.parent().offsetTop):N==="horizontal"?this.position(F/2+this.parent().offsetLeft,M.y):N==="vertical"&&this.position(M.x,B/2+this.parent().offsetTop),this.style("display",T),O&&this.hide(),j&&this.parent().hide(),this},m.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},m.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},m.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var N="";return this.elt.style.transform&&(N=(N=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=N,this},m.default.Element.prototype._rotate=function(){var N="";return this.elt.style.transform&&(N=(N=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=N,this},m.default.Element.prototype.style=function(N,T){if((T=T instanceof m.default.Color?"rgba("+T.levels[0]+","+T.levels[1]+","+T.levels[2]+","+T.levels[3]/255+")":T)===void 0){if(N.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(N);for(var O=N.split(";"),j=0;j<O.length;j++){var M=O[j].split(":");M[0]&&M[1]&&(this.elt.style[M[0].trim()]=M[1].trim())}}else this.elt.style[N]=T,N!=="width"&&N!=="height"&&N!=="left"&&N!=="top"||(T=window.getComputedStyle(this.elt).getPropertyValue(N).replace(/[^\d.]/g,""),this[N]=Math.round(parseFloat(T,10)));return this},m.default.Element.prototype.attribute=function(N,T){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return T===void 0?this.elt.getAttribute(N):(this.elt.setAttribute(N,T),this);if(T===void 0)return this.elt.firstChild.getAttribute(N);for(var O=0;O<this.elt.childNodes.length;O++)this.elt.childNodes[O].setAttribute(N,T)},m.default.Element.prototype.removeAttribute=function(N){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var T=0;T<this.elt.childNodes.length;T++)this.elt.childNodes[T].removeAttribute(N);return this.elt.removeAttribute(N),this},m.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},m.default.Element.prototype.show=function(){return this.elt.style.display="block",this},m.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},m.default.Element.prototype.size=function(N,T){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var O=N,j=T,M=m.default.prototype.AUTO;if(O!==M||j!==M){if(O===M?O=T*this.width/this.height:j===M&&(j=N*this.height/this.width),this.elt instanceof HTMLCanvasElement){var F,B={},I=this.elt.getContext("2d");for(F in I)B[F]=I[F];for(F in this.elt.setAttribute("width",O*this._pInst._pixelDensity),this.elt.setAttribute("height",j*this._pInst._pixelDensity),this.elt.style.width=O+"px",this.elt.style.height=j+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),B)this.elt.getContext("2d")[F]=B[F]}else this.elt.style.width=O+"px",this.elt.style.height=j+"px",this.elt.width=O,this.elt.height=j;this.width=O,this.height=j,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",O),this._pInst._setProperty("height",j))}return this},m.default.Element.prototype.remove=function(){this instanceof m.default.MediaElement&&(this.stop(),(T=this.elt.srcObject)!==null&&T.getTracks().forEach(function(O){O.stop()}));var N,T=this._pInst._elements.indexOf(this);for(N in T!==-1&&this._pInst._elements.splice(T,1),this._events)this.elt.removeEventListener(N,this._events[N]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},m.default.Element.prototype.drop=function(N,T){var O;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",O=function(j){j.preventDefault()}),this.elt.addEventListener("dragleave",O)),m.default.Element._attachListener("drop",function(M){M.preventDefault(),typeof T=="function"&&T.call(this,M);var M=M.dataTransfer.files,F=!0,B=!1,I=void 0;try{for(var G,k=M[Symbol.iterator]();!(F=(G=k.next()).done);F=!0){var V=G.value;m.default.File._load(V,N)}}catch(R){B=!0,I=R}finally{try{F||k.return==null||k.return()}finally{if(B)throw I}}},this)):console.log("The File APIs are not fully supported in this browser."),this},m.default.Element.prototype.draggable=function(N){var T,O="ontouchstart"in window,j=0,M=0,F=0,B=0,I=O?"touchend":"mouseup",G=O?"touchmove":"mousemove";function k(R){var U;R=R||window.event,B=O?(U=R.changedTouches,j=F-parseInt(U[0].clientX),M=B-parseInt(U[0].clientY),F=parseInt(U[0].clientX),parseInt(U[0].clientY)):(j=F-parseInt(R.clientX),M=B-parseInt(R.clientY),F=parseInt(R.clientX),parseInt(R.clientY)),N.style.left=N.offsetLeft-j+"px",N.style.top=N.offsetTop-M+"px"}function V(){document.removeEventListener(I,V,!1),document.removeEventListener(G,k,!1)}return N===void 0?T=N=this.elt:N!==this.elt&&N.elt!==this.elt&&(N=N.elt,T=this.elt),T.addEventListener(O?"touchstart":"mousedown",function(R){{var U;R=R||window.event,B=O?(U=R.changedTouches,F=parseInt(U[0].clientX),parseInt(U[0].clientY)):(F=parseInt(R.clientX),parseInt(R.clientY))}return document.addEventListener(I,V,!1),document.addEventListener(G,k,!1),!1},!1),T.style.cursor="move",this};function E(N,T,O,j){o(this,E),this.callback=N,this.time=T,this.id=O,this.val=j}a=function(N){var T=j;if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),N&&S(T,N);var O=D(j);function j(M,F){o(this,j);var B=h(F=O.call(this,M,F));return F.elt.crossOrigin="anonymous",F._prevTime=0,F._cueIDCounter=0,F._cues=[],F.pixels=[],F._pixelsState=h(F),F._pixelDensity=1,F._modified=!1,F._frameOnCanvas=-1,Object.defineProperty(B,"src",{get:function(){var I=B.elt.children[0].src,G=B.elt.src===window.location.href?"":B.elt.src;return I===window.location.href?G:I},set:function(I){for(var G=0;G<B.elt.children.length;G++)B.elt.removeChild(B.elt.children[G]);var k=document.createElement("source");k.src=I,M.appendChild(k),B.elt.src=I,B.modified=!0}}),B._onended=function(){},B.elt.onended=function(){B._onended(B)},F}return x(j,[{key:"play",value:function(){var M;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(M=this.elt.play())&&M.catch&&M.catch(function(F){F.name==="NotAllowedError"?console.error(F):console.error("Media play method encountered an unexpected error",F)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var M=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(M)},{passive:!0,once:!0})}},{key:"autoplay",value:function(M){var F=this,B=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",M),M&&!B&&(M=function(){return F._setupAutoplayFailDetection()},this.elt.readyState===4?M():this.elt.addEventListener("canplay",M,{passive:!0,once:!0})),this}},{key:"volume",value:function(M){if(M===void 0)return this.elt.volume;this.elt.volume=M}},{key:"speed",value:function(M){if(M===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=M:this.presetPlaybackRate=M}},{key:"time",value:function(M){return M===void 0?this.elt.currentTime:(this.elt.currentTime=M,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var M=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&M&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var M=arguments.length,F=new Array(M),B=0;B<M;B++)F[B]=arguments[B];return m.default.Renderer2D.prototype.loadPixels.apply(this,F)}},{key:"updatePixels",value:function(M,F,B,I){return this.loadedmetadata&&(this._ensureCanvas(),m.default.Renderer2D.prototype.updatePixels.call(this,M,F,B,I)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var M=arguments.length,F=new Array(M),B=0;B<M;B++)F[B]=arguments[B];return m.default.Renderer2D.prototype.get.apply(this,F)}},{key:"_getPixel",value:function(){this.loadPixels();for(var M=arguments.length,F=new Array(M),B=0;B<M;B++)F[B]=arguments[B];return m.default.Renderer2D.prototype._getPixel.apply(this,F)}},{key:"set",value:function(M,F,B){this.loadedmetadata&&(this._ensureCanvas(),m.default.Renderer2D.prototype.set.call(this,M,F,B),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var M=arguments.length,F=new Array(M),B=0;B<M;B++)F[B]=arguments[B];m.default.prototype.copy.apply(this,F)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var M=arguments.length,F=new Array(M),B=0;B<M;B++)F[B]=arguments[B];m.default.Image.prototype.mask.apply(this,F)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(M){this._modified=M}},{key:"onended",value:function(M){return this._onended=M,this}},{key:"connect",value:function(M){var F,B;if(typeof m.default.prototype.getAudioContext=="function")F=m.default.prototype.getAudioContext(),B=m.default.soundOut.input;else try{B=(F=M.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=F.createMediaElementSource(this.elt),this.audioSourceNode.connect(B)),M?M.input?this.audioSourceNode.connect(M.input):this.audioSourceNode.connect(M):this.audioSourceNode.connect(B)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(M,G,B){var I=this._cueIDCounter++,G=new E(G,M,I,B);return this._cues.push(G),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),I}},{key:"removeCue",value:function(M){for(var F=0;F<this._cues.length;F++)this._cues[F].id===M&&(console.log(M),this._cues.splice(F,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var M=this.time(),F=0;F<this._cues.length;F++){var B=this._cues[F].time,I=this._cues[F].val;this._prevTime<B&&B<=M&&this._cues[F].callback(I)}this._prevTime=M}}]),j}(m.default.Element),m.default.MediaElement=a,a=function(){function N(T,O){o(this,N),this.file=T,this._pInst=O,O=T.type.split("/"),this.type=O[0],this.subtype=O[1],this.name=T.name,this.size=T.size,this.data=void 0}return x(N,null,[{key:"_createLoader",value:function(T,O){var j=new FileReader;return j.onload=function(M){var F,B=new m.default.File(T);B.file.type==="application/json"?B.data=JSON.parse(M.target.result):B.file.type==="text/xml"?(F=new DOMParser().parseFromString(M.target.result,"text/xml"),B.data=new m.default.XML(F.documentElement)):B.data=M.target.result,O(B)},j}},{key:"_load",value:function(T,O){var j;/^text\//.test(T.type)||T.type==="application/json"?m.default.File._createLoader(T,O).readAsText(T):/^(video|audio)\//.test(T.type)?((j=new m.default.File(T)).data=URL.createObjectURL(T),O(j)):m.default.File._createLoader(T,O).readAsDataURL(T)}}]),N}(),m.default.File=a,a=m.default,g.default=a},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(p,r,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(p=p("../core/main"))&&p.__esModule?p:{default:p};f.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",f.default.prototype.accelerationX=0,f.default.prototype.accelerationY=0,f.default.prototype.accelerationZ=0,f.default.prototype.pAccelerationX=0,f.default.prototype.pAccelerationY=0,f.default.prototype.pAccelerationZ=0,f.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},f.default.prototype.rotationX=0,f.default.prototype.rotationY=0,f.default.prototype.rotationZ=0,f.default.prototype.pRotationX=0,f.default.prototype.pRotationY=0;var m=f.default.prototype.pRotationZ=0,l=0,x=0,S="clockwise",D="clockwise",h="clockwise",_=(f.default.prototype.pRotateDirectionX=void 0,f.default.prototype.pRotateDirectionY=void 0,f.default.prototype.pRotateDirectionZ=void 0,f.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},f.default.prototype.turnAxis=void 0,.5),o=30,p=(f.default.prototype.setMoveThreshold=function(b){f.default._validateParameters("setMoveThreshold",arguments),_=b},f.default.prototype.setShakeThreshold=function(b){f.default._validateParameters("setShakeThreshold",arguments),o=b},f.default.prototype._ondeviceorientation=function(b){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(b.beta)),this._setProperty("rotationY",this._fromDegrees(b.gamma)),this._setProperty("rotationZ",this._fromDegrees(b.alpha)),this._handleMotion()},f.default.prototype._ondevicemotion=function(b){this._updatePAccelerations(),this._setProperty("accelerationX",2*b.acceleration.x),this._setProperty("accelerationY",2*b.acceleration.y),this._setProperty("accelerationZ",2*b.acceleration.z),this._handleMotion()},f.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var b,y,A,E,N,T=this._isGlobal?window:this;typeof T.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>_||Math.abs(this.accelerationY-this.pAccelerationY)>_||Math.abs(this.accelerationZ-this.pAccelerationZ)>_)&&T.deviceMoved(),typeof T.deviceTurned=="function"&&(y=this._toDegrees(this.rotationX)+180,A=this._toDegrees(this.pRotationX)+180,b=m+180,0<y-A&&y-A<270||y-A<-270?S="clockwise":(y-A<0||270<y-A)&&(S="counter-clockwise"),S!==this.pRotateDirectionX&&(b=y),90<Math.abs(y-b)&&Math.abs(y-b)<270&&(b=y,this._setProperty("turnAxis","X"),T.deviceTurned()),this.pRotateDirectionX=S,m=b-180,A=this._toDegrees(this.rotationY)+180,y=this._toDegrees(this.pRotationY)+180,b=l+180,0<A-y&&A-y<270||A-y<-270?D="clockwise":(A-y<0||270<A-this.pRotationY)&&(D="counter-clockwise"),D!==this.pRotateDirectionY&&(b=A),90<Math.abs(A-b)&&Math.abs(A-b)<270&&(b=A,this._setProperty("turnAxis","Y"),T.deviceTurned()),this.pRotateDirectionY=D,l=b-180,0<(y=this._toDegrees(this.rotationZ))-(A=this._toDegrees(this.pRotationZ))&&y-A<270||y-A<-270?h="clockwise":(y-A<0||270<y-A)&&(h="counter-clockwise"),h!==this.pRotateDirectionZ&&(x=y),90<Math.abs(y-x)&&Math.abs(y-x)<270&&(x=y,this._setProperty("turnAxis","Z"),T.deviceTurned()),this.pRotateDirectionZ=h,this._setProperty("turnAxis",void 0)),typeof T.deviceShaken=="function"&&(this.pAccelerationX!==null&&(E=Math.abs(this.accelerationX-this.pAccelerationX),N=Math.abs(this.accelerationY-this.pAccelerationY)),o<E+N&&T.deviceShaken())},f.default);g.default=p},{"../core/main":283}],301:[function(a,r,g){a("core-js/modules/es.array.for-each"),a("core-js/modules/es.string.repeat"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.string.repeat"),a("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(a=a("../core/main"))&&a.__esModule?a:{default:a};f.default.prototype.isKeyPressed=!1,f.default.prototype.keyIsPressed=!1,f.default.prototype.key="",f.default.prototype.keyCode=0,f.default.prototype._onkeydown=function(m){var l;m.repeat||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",m.which),this._downKeys[m.which]=!0,this._setProperty("key",m.key||String.fromCharCode(m.which)||m.which),m.metaKey&&(this._metaKeys||(this._metaKeys=[]),this._metaKeys.push(m.which)),typeof(l=this._isGlobal?window:this).keyPressed!="function"||m.charCode||l.keyPressed(m)===!1&&m.preventDefault())},f.default.prototype._onkeyup=function(m){var l=this,x=(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),this._setProperty("_lastKeyCodePressed",this._keyCode),this._downKeys[m.which]=!1,m.key==="Meta"&&this._metaKeys&&(this._metaKeys.forEach(function(S){l._downKeys[S]=!1}),this._metaKeys=[]),this._isGlobal?window:this);typeof x.keyReleased=="function"&&x.keyReleased(m)===!1&&m.preventDefault()},f.default.prototype._onkeypress=function(m){var l;m.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",m.which),this._setProperty("key",m.key||String.fromCharCode(m.which)||m.which),typeof(l=this._isGlobal?window:this).keyTyped=="function"&&l.keyTyped(m)===!1&&m.preventDefault())},f.default.prototype._onblur=function(m){this._downKeys={}},f.default.prototype.keyIsDown=function(m){return f.default._validateParameters("keyIsDown",arguments),this._downKeys[m]||!1},f.default.prototype._areDownKeys=function(){for(var m in this._downKeys)if(this._downKeys.hasOwnProperty(m)&&this._downKeys[m]===!0)return!0;return!1},a=f.default,g.default=a},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.string.repeat":203,"core-js/modules/web.dom-collections.for-each":245}],302:[function(a,r,g){function f(D){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(D)}function m(D){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(h){return f(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":f(h)})(D)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(l=a("../core/main"))&&l.__esModule?l:{default:l},x=function(D){if(D&&D.__esModule)return D;if(D===null||m(D)!=="object"&&typeof D!="function")return{default:D};var h=S();if(h&&h.has(D))return h.get(D);var _,o={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in D){var b;Object.prototype.hasOwnProperty.call(D,_)&&((b=p?Object.getOwnPropertyDescriptor(D,_):null)&&(b.get||b.set)?Object.defineProperty(o,_,b):o[_]=D[_])}return o.default=D,h&&h.set(D,o),o}(a("../core/constants"));function S(){var D;return typeof WeakMap!="function"?null:(D=new WeakMap,S=function(){return D},D)}l.default.prototype.movedX=0,l.default.prototype.movedY=0,l.default.prototype._hasMouseInteracted=!1,l.default.prototype.mouseX=0,l.default.prototype.mouseY=0,l.default.prototype.pmouseX=0,l.default.prototype.pmouseY=0,l.default.prototype.winMouseX=0,l.default.prototype.winMouseY=0,l.default.prototype.pwinMouseX=0,l.default.prototype.pwinMouseY=0,l.default.prototype.mouseButton=0,l.default.prototype.mouseIsPressed=!1,l.default.prototype._updateNextMouseCoords=function(D){var h,_,o,p,b;this._curElement!==null&&(!D.touches||0<D.touches.length)&&(h=this._curElement.elt,_=this.width,o=this.height,(p=D)&&!p.clientX&&(p.touches?p=p.touches[0]:p.changedTouches&&(p=p.changedTouches[0])),b=h.getBoundingClientRect(),_=h.scrollWidth/_||1,h=h.scrollHeight/o||1,o={x:(p.clientX-b.left)/_,y:(p.clientY-b.top)/h,winX:p.clientX,winY:p.clientY,id:p.identifier},this._setProperty("movedX",D.movementX),this._setProperty("movedY",D.movementY),this._setProperty("mouseX",o.x),this._setProperty("mouseY",o.y),this._setProperty("winMouseX",o.winX),this._setProperty("winMouseY",o.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},l.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},l.default.prototype._setMouseButton=function(D){D.button===1?this._setProperty("mouseButton",x.CENTER):D.button===2?this._setProperty("mouseButton",x.RIGHT):this._setProperty("mouseButton",x.LEFT)},l.default.prototype._onmousemove=function(D){var h=this._isGlobal?window:this;this._updateNextMouseCoords(D),this.mouseIsPressed?typeof h.mouseDragged=="function"?h.mouseDragged(D)===!1&&D.preventDefault():typeof h.touchMoved=="function"&&h.touchMoved(D)===!1&&D.preventDefault():typeof h.mouseMoved=="function"&&h.mouseMoved(D)===!1&&D.preventDefault()},l.default.prototype._onmousedown=function(D){var h=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(D),this._updateNextMouseCoords(D),this.touchstart||(typeof h.mousePressed=="function"?h.mousePressed(D)===!1&&D.preventDefault():typeof h.touchStarted=="function"&&h.touchStarted(D)===!1&&D.preventDefault(),this.touchstart=!1)},l.default.prototype._onmouseup=function(D){var h=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof h.mouseReleased=="function"?h.mouseReleased(D)===!1&&D.preventDefault():typeof h.touchEnded=="function"&&h.touchEnded(D)===!1&&D.preventDefault(),this.touchend=!1)},l.default.prototype._ondragend=l.default.prototype._onmouseup,l.default.prototype._ondragover=l.default.prototype._onmousemove,l.default.prototype._onclick=function(D){var h=this._isGlobal?window:this;typeof h.mouseClicked=="function"&&h.mouseClicked(D)===!1&&D.preventDefault()},l.default.prototype._ondblclick=function(D){var h=this._isGlobal?window:this;typeof h.doubleClicked=="function"&&h.doubleClicked(D)===!1&&D.preventDefault()},l.default.prototype._mouseWheelDeltaY=0,l.default.prototype._pmouseWheelDeltaY=0,l.default.prototype._onwheel=function(D){var h=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",D.deltaY),typeof h.mouseWheel=="function"&&(D.delta=D.deltaY,h.mouseWheel(D)===!1&&D.preventDefault())},l.default.prototype.requestPointerLock=function(){var D=this._curElement.elt;return D.requestPointerLock=D.requestPointerLock||D.mozRequestPointerLock,D.requestPointerLock?(D.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},l.default.prototype.exitPointerLock=function(){document.exitPointerLock()},a=l.default,g.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(a,r,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a},a.default.prototype.touches=[],a.default.prototype._updateTouchCoords=function(f){if(this._curElement!==null){for(var m=[],l=0;l<f.touches.length;l++)m[l]=function(b,p,y,h){var _=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=b.getBoundingClientRect(),p=b.scrollWidth/p||1,b=b.scrollHeight/y||1,y=h.touches[_]||h.changedTouches[_];return{x:(y.clientX-o.left)/p,y:(y.clientY-o.top)/b,winX:y.clientX,winY:y.clientY,id:y.identifier}}(this._curElement.elt,this.width,this.height,f,l);this._setProperty("touches",m)}},a.default.prototype._ontouchstart=function(f){var m=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(f),this._updateNextMouseCoords(f),this._updateMouseCoords(),typeof m.touchStarted=="function"&&(m.touchStarted(f)===!1&&f.preventDefault(),this.touchstart=!0)},a.default.prototype._ontouchmove=function(f){var m=this._isGlobal?window:this;this._updateTouchCoords(f),this._updateNextMouseCoords(f),typeof m.touchMoved=="function"?m.touchMoved(f)===!1&&f.preventDefault():typeof m.mouseDragged=="function"&&m.mouseDragged(f)===!1&&f.preventDefault()},a.default.prototype._ontouchend=function(f){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(f),this._updateNextMouseCoords(f);var m=this._isGlobal?window:this;typeof m.touchEnded=="function"&&(m.touchEnded(f)===!1&&f.preventDefault(),this.touchend=!0)},a=a.default,g.default=a},{"../core/main":283}],304:[function(a,r,g){a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.typed-array.int32-array"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.typed-array.int32-array"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f,m,l,x,S={_toPixels:function(D){var h,_;return D instanceof ImageData?D.data:D.getContext("2d")?D.getContext("2d").getImageData(0,0,D.width,D.height).data:D.getContext("webgl")?(_=(h=D.getContext("webgl")).drawingBufferWidth*h.drawingBufferHeight*4,_=new Uint8Array(_),h.readPixels(0,0,D.width,D.height,h.RGBA,h.UNSIGNED_BYTE,_),_):void 0},_getARGB:function(D,h){return h*=4,D[3+h]<<24&4278190080|D[h]<<16&16711680|D[1+h]<<8&65280|255&D[2+h]},_setPixels:function(D,h){for(var _,o=0,p=D.length;o<p;o++)D[0+(_=4*o)]=(16711680&h[o])>>>16,D[1+_]=(65280&h[o])>>>8,D[2+_]=255&h[o],D[3+_]=(4278190080&h[o])>>>24},_toImageData:function(D){return D instanceof ImageData?D:D.getContext("2d").getImageData(0,0,D.width,D.height)},_createImageData:function(D,h){return S._tmpCanvas=document.createElement("canvas"),S._tmpCtx=S._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(D,h)},apply:function(D,b,_){var o=D.getContext("2d"),p=o.getImageData(0,0,D.width,D.height),b=b(p,_);b instanceof ImageData?o.putImageData(b,0,0,0,0,D.width,D.height):o.putImageData(p,0,0,0,0,D.width,D.height)},threshold:function(D){for(var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,_=S._toPixels(D),o=Math.floor(255*h),p=0;p<_.length;p+=4){var b=void 0,b=o<=.2126*_[p]+.7152*_[p+1]+.0722*_[p+2]?255:0;_[p]=_[p+1]=_[p+2]=b}},gray:function(D){for(var h=S._toPixels(D),_=0;_<h.length;_+=4){var o=h[_],p=h[_+1],b=h[_+2];h[_]=h[_+1]=h[_+2]=.2126*o+.7152*p+.0722*b}},opaque:function(D){for(var h=S._toPixels(D),_=0;_<h.length;_+=4)h[_+3]=255;return h},invert:function(D){for(var h=S._toPixels(D),_=0;_<h.length;_+=4)h[_]=255-h[_],h[_+1]=255-h[_+1],h[_+2]=255-h[_+2]},posterize:function(D){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,_=S._toPixels(D);if(h<2||255<h)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var o=h-1,p=0;p<_.length;p+=4){var b=_[p],y=_[p+1],A=_[p+2];_[p]=255*(b*h>>8)/o,_[p+1]=255*(y*h>>8)/o,_[p+2]=255*(A*h>>8)/o}},dilate:function(D){for(var h,_,o,p,b,y,A,E,N,T=S._toPixels(D),O=0,j=T.length?T.length/4:0,M=new Int32Array(j);O<j;)for(_=(h=O)+D.width;O<_;)p=o=S._getARGB(T,O),(N=O-1)<h&&(N=O),_<=(E=O+1)&&(E=O),(b=O-D.width)<0&&(b=0),j<=(y=O+D.width)&&(y=O),b=S._getARGB(T,b),N=S._getARGB(T,N),y=S._getARGB(T,y),(p=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))<(A=77*(N>>16&255)+151*(N>>8&255)+28*(255&N))&&(o=N,p=A),p<(A=77*((N=S._getARGB(T,E))>>16&255)+151*(N>>8&255)+28*(255&N))&&(o=N,p=A),p<(E=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))&&(o=b,p=E),p<(N=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(o=y,p=N),M[O++]=o;S._setPixels(T,M)},erode:function(D){for(var h,_,o,p,b,y,A,E,N,T=S._toPixels(D),O=0,j=T.length?T.length/4:0,M=new Int32Array(j);O<j;)for(_=(h=O)+D.width;O<_;)p=o=S._getARGB(T,O),(N=O-1)<h&&(N=O),_<=(E=O+1)&&(E=O),(b=O-D.width)<0&&(b=0),j<=(y=O+D.width)&&(y=O),b=S._getARGB(T,b),N=S._getARGB(T,N),y=S._getARGB(T,y),(A=77*(N>>16&255)+151*(N>>8&255)+28*(255&N))<(p=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))&&(o=N,p=A),(A=77*((N=S._getARGB(T,E))>>16&255)+151*(N>>8&255)+28*(255&N))<p&&(o=N,p=A),(E=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))<p&&(o=b,p=E),(N=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<p&&(o=y,p=N),M[O++]=o;S._setPixels(T,M)},blur:function(D,h){for(var _,o,p,b,y,A,E,N,T,O,j=S._toPixels(D),M=D.width,F=D.height,B=M*F,I=new Int32Array(B),G=0;G<B;G++)I[G]=S._getARGB(j,G);var k,V,R,U,L,H,X,Z,J=new Int32Array(B),K=new Int32Array(B),$=new Int32Array(B),W=new Int32Array(B),Y=0,te=3.5*h|0;if(f!==(te=te<1?1:te<248?te:248)){m=1+(f=te)<<1,l=new Int32Array(m),x=new Array(m);for(var ce=0;ce<m;ce++)x[ce]=new Int32Array(256);for(var oe=1,ue=te-1;oe<te;oe++){l[te+oe]=l[ue]=H=ue*ue,X=x[te+oe],Z=x[ue--];for(var Ce=0;Ce<256;Ce++)X[Ce]=Z[Ce]=H*Ce}L=l[te]=te*te,X=x[te];for(var le=0;le<256;le++)X[le]=L*le}for(V=0;V<F;V++){for(k=0;k<M;k++){if(b=p=o=y=_=0,(A=k-f)<0)O=-A,A=0;else{if(M<=A)break;O=0}for(R=O;R<m&&!(M<=A);R++){var ye=I[A+Y];U=x[R],y+=U[(-16777216&ye)>>>24],o+=U[(16711680&ye)>>16],p+=U[(65280&ye)>>8],b+=U[255&ye],_+=l[R],A++}J[E=Y+k]=y/_,K[E]=o/_,$[E]=p/_,W[E]=b/_}Y+=M}for(T=(N=-f)*M,V=Y=0;V<F;V++){for(k=0;k<M;k++){if(b=p=o=y=_=0,N<0)O=E=-N,A=k;else{if(F<=N)break;O=0,E=N,A=k+T}for(R=O;R<m&&!(F<=E);R++)U=x[R],y+=U[J[A]],o+=U[K[A]],p+=U[$[A]],b+=U[W[A]],_+=l[R],E++,A+=M;I[k+Y]=y/_<<24|o/_<<16|p/_<<8|b/_}Y+=M,T+=M,N++}S._setPixels(j,I)}};g.default=S},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(a,r,g){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.set"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.uint32-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.set"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.uint32-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=l(a("../core/main")),m=l(a("omggif"));function l(S){return S&&S.__esModule?S:{default:S}}function x(S){return function(D){if(Array.isArray(D)){for(var h=0,_=new Array(D.length);h<D.length;h++)_[h]=D[h];return _}}(S)||function(D){if(Symbol.iterator in Object(D)||Object.prototype.toString.call(D)==="[object Arguments]")return Array.from(D)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.createImage=function(S,D){return f.default._validateParameters("createImage",arguments),new f.default.Image(S,D)},f.default.prototype.saveCanvas=function(){for(var S,D,h,_,o,p,b=arguments.length,y=new Array(b),A=0;A<b;A++)y[A]=arguments[A];switch(f.default._validateParameters("saveCanvas",y),y[0]instanceof HTMLCanvasElement?(S=y[0],y.shift()):y[0]instanceof f.default.Element?(S=y[0].elt,y.shift()):y[0]instanceof f.default.Framebuffer?(_=y[0],(o=this.createGraphics(_.width,_.height)).pixelDensity(pixelDensity()),_.loadPixels(),o.loadPixels(),o.pixels.set(_.pixels),o.updatePixels(),S=o.elt,y.shift()):S=this._curElement&&this._curElement.elt,1<=y.length&&(D=y[0]),h=(h=2<=y.length?y[1]:h)||f.default.prototype._checkFileExtension(D,h)[1]||"png"){default:p="image/png";break;case"webp":p="image/webp";break;case"jpeg":case"jpg":p="image/jpeg"}S.toBlob(function(E){f.default.prototype.downloadFile(E,D,h),o&&o.remove()},p)},f.default.prototype.encodeAndDownloadGif=function(S,D){for(var h=S.gifProperties,_=h.loopLimit,o=(_===1?_=null:_===null&&(_=0),new Uint8Array(S.width*S.height*h.numFrames)),p=[],b={},y=0;y<h.numFrames;y++){for(var A=new Set,E=h.frames[y].image.data,N=E.length,T=new Uint32Array(S.width*S.height),O=0,j=0;O<N;O+=4,j++){var M=E[O+0]<<16|E[O+1]<<8|E[O+2]<<0;A.add(M),T[j]=M}var F=x(A).sort().toString();b[F]===void 0?b[F]={freq:1,frames:[y]}:(b[F].freq+=1,b[F].frames.push(y)),p.push(T)}for(var G=[],B=Object.keys(b).sort(function($,W){return b[W].freq-b[$].freq}),I=B[0].split(",").map(function($){return parseInt($)}),G=G.concat(b[I].frames),k=new Set(I),V=1;V<B.length;V++){var R=B[V].split(",").map(function($){return parseInt($)}).filter(function($){return!k.has($)});if(I.length+R.length<=256){for(var U=0;U<R.length;U++)I.push(R[U]),k.add(R[U]);G=G.concat(b[B[V]].frames)}}G=new Set(G);for(var L={},H=0;H<I.length;H++)L[I[H]]||(L[I[H]]=H);for(var X=1;X<I.length;)X<<=1;I.length=X;for(var _={loop:_,palette:new Uint32Array(I)},Z=new m.default.GifWriter(o,S.width,S.height,_),J={},K=0;K<h.numFrames;K++)(function(W){var Y=!G.has(W),te=Y?[]:I,ce=new Uint8Array(S.width*S.height),oe={},ue=new Set,Ce=(p[W].forEach(function(be,Ne){Y?(oe[be]===void 0&&(oe[be]=te.length,te.push(be)),ce[Ne]=oe[be]):ce[Ne]=L[be],0<W&&p[W-1][Ne]!==be&&ue.add(be)}),{}),le=te.filter(function(be){return!ue.has(be)});if(0<le.length){var le=le[0],ye=(Y?oe:L)[le];if(0<W){for(var ve=0;ve<p[W].length;ve++)p[W-1][ve]===p[W][ve]&&(ce[ve]=ye);Ce.transparent=ye,J.frameOpts.disposal=1}}if(Ce.delay=h.frames[W].delay/10,Y){for(var pe=1;pe<te.length;)pe<<=1;te.length=pe,Ce.palette=new Uint32Array(te)}0<W&&Z.addFrame(0,0,S.width,S.height,J.pixelPaletteIndex,J.frameOpts),J={pixelPaletteIndex:ce,frameOpts:Ce}})(K);J.frameOpts.disposal=1,Z.addFrame(0,0,S.width,S.height,J.pixelPaletteIndex,J.frameOpts),_=new Blob([o.slice(0,Z.end())],{type:"image/gif"}),f.default.prototype.downloadFile(_,D,"gif")},f.default.prototype.saveFrames=function(S,D,h,p,o){f.default._validateParameters("saveFrames",arguments),h=f.default.prototype.constrain(h=h||3,0,15),h*=1e3;var p=f.default.prototype.constrain(p||15,0,22),b=0,y=f.default.prototype._makeFrame,A=this._curElement.elt,E=[],N=setInterval(function(){E.push(y(S+b,D,A)),b++},1e3/p);setTimeout(function(){if(clearInterval(N),o)o(E);else for(var T=0,O=E;T<O.length;T++){var j=O[T];f.default.prototype.downloadFile(j.imageData,j.filename,j.ext)}E=[]},.01+h)},f.default.prototype._makeFrame=function(S,D,o){var _,o=this?this._curElement.elt:o;if(D)switch(D.toLowerCase()){case"png":_="image/png";break;case"jpeg":case"jpg":_="image/jpeg";break;default:_="image/png"}else D="png",_="image/png";var o=(o=o.toDataURL(_)).replace(_,"image/octet-stream"),p={};return p.imageData=o,p.filename=S,p.ext=D,p},a=f.default,g.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(a,r,g){function f(A){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(A)}function m(A){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(E){return f(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":f(E)})(A)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.copy-within"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.uint8-clamped-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.copy-within"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.uint8-clamped-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,a("regenerator-runtime/runtime");var l=o(a("../core/main")),x=o(a("../core/helpers")),S=function(A){if(A&&A.__esModule)return A;if(A===null||m(A)!=="object"&&typeof A!="function")return{default:A};var E=_();if(E&&E.has(A))return E.get(A);var N,T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in A){var j;Object.prototype.hasOwnProperty.call(A,N)&&((j=O?Object.getOwnPropertyDescriptor(A,N):null)&&(j.get||j.set)?Object.defineProperty(T,N,j):T[N]=A[N])}return T.default=A,E&&E.set(A,T),T}(a("../core/constants")),D=o(a("omggif")),h=a("gifenc");function _(){var A;return typeof WeakMap!="function"?null:(A=new WeakMap,_=function(){return A},A)}function o(A){return A&&A.__esModule?A:{default:A}}function p(A,E,N,T,O,j,M){try{var F=A[j](M),B=F.value}catch(I){return void N(I)}F.done?E(B):Promise.resolve(B).then(T,O)}function b(A,E,N,T,O,j,M,F,B,I,G){var k,V,R,U,L,H,X,Z,J;return A===S.COVER&&(k=E,R=N,X=j,Z=M,H=F,J=B,V=I,U=G,L=Math.max(X/V,Z/U),X/=L,Z/=L,L=H,H=J,k===S.CENTER?L+=(V-X)/2:k===S.RIGHT&&(L+=V-X),R===S.CENTER?H+=(U-Z)/2:R===S.BOTTOM&&(H+=U-Z),F=(J={x:L,y:H,w:X,h:Z}).x,B=J.y,I=J.w,G=J.h),A===S.CONTAIN&&(k=E,V=N,R=T,U=O,L=j,H=M,X=I,Z=G,J=Math.max(X/L,Z/H),X/=J,Z/=J,J=R,R=U,k===S.CENTER?J+=(L-X)/2:k===S.RIGHT&&(J+=L-X),V===S.CENTER?R+=(H-Z)/2:V===S.BOTTOM&&(R+=H-Z),T=(A={x:J,y:R,w:X,h:Z}).x,O=A.y,j=A.w,M=A.h),{sx:F,sy:B,sw:I,sh:G,dx:T,dy:O,dw:j,dh:M}}function y(A,E){return 0<A&&A<E?A:E}a("../core/friendly_errors/validate_params"),a("../core/friendly_errors/file_errors"),a("../core/friendly_errors/fes_core"),l.default.prototype.loadImage=function(A,E,N){l.default._validateParameters("loadImage",arguments);var T=new l.default.Image(1,1,this),O=this,j=new Request(A,{method:"GET",mode:"cors"});return fetch(A,j).then(function(M){var F,B=M.headers.get("content-type");B===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),B&&B.includes("image/gif")?M.arrayBuffer().then(function(I){if(I){for(var I=new Uint8Array(I),G=T,k=E,V=N,R=(function(Y){O._decrementPreload()}).bind(O),U=new D.default.GifReader(I),L=(G.width=G.canvas.width=U.width,G.height=G.canvas.height=U.height,[]),H=U.numFrames(),X=new Uint8ClampedArray(G.width*G.height*4),Z=0;Z<H;Z++){var J=U.frameInfo(Z),K=G.drawingContext.getImageData(0,0,G.width,G.height),$=(X=K.data.slice(),function(Y,te){try{te.decodeAndBlitFrameRGBA(Y,X)}catch(ce){l.default._friendlyFileLoadError(8,G.src),typeof V=="function"?V(ce):console.error(ce)}}(Z,U),new ImageData(X,G.width,G.height)),$=(G.drawingContext.putImageData($,0,0),J.delay);$===0&&($=10),L.push({image:G.drawingContext.getImageData(0,0,G.width,G.height),delay:10*$}),J.disposal===2?G.drawingContext.clearRect(J.x,J.y,J.width,J.height):J.disposal===3&&G.drawingContext.putImageData(K,0,0,J.x,J.y,J.width,J.height)}(I=U.loopCount())===null?I=1:I===0&&(I=null),G.drawingContext.putImageData(L[0].image,0,0),1<L.length&&(G.gifProperties={displayIndex:0,loopLimit:I,loopCount:0,frames:L,numFrames:H,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof k=="function"&&k(G),R()}},function(I){typeof N=="function"?(N(I),O._decrementPreload()):console.error(I)}):((F=new Image).onload=function(){T.width=T.canvas.width=F.width,T.height=T.canvas.height=F.height,T.drawingContext.drawImage(F,0,0),T.modified=!0,typeof E=="function"&&E(T),O._decrementPreload()},F.onerror=function(I){l.default._friendlyFileLoadError(0,F.src),typeof N=="function"?(N(I),O._decrementPreload()):console.error(I)},A.indexOf("data:image/")!==0&&(F.crossOrigin="Anonymous"),F.src=A),T.modified=!0}).catch(function(M){l.default._friendlyFileLoadError(0,A),typeof N=="function"?(N(M),O._decrementPreload()):console.error(M)}),T},l.default.prototype.saveGif=function(){A=regeneratorRuntime.mark(function N(T,O){var j,M,F,B,I,G,k,V,R,U,L,H,X,Z,J,K,$,W,Y,te,ce,oe,ue,Ce,le,ye,ve=arguments;return regeneratorRuntime.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(j=2<ve.length&&ve[2]!==void 0?ve[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof T!="string")throw TypeError("fileName parameter must be a string");pe.next=3;break;case 3:if(typeof O!="number")throw TypeError("Duration parameter must be a number");pe.next=5;break;case 5:if(M=j&&j.delay||0,F=j&&j.units||"seconds",B=j&&j.silent||!1,I=j&&j.notificationDuration||0,G=j&&j.notificationID||"progressBar",typeof M!="number")throw TypeError("Delay parameter must be a number");pe.next=12;break;case 12:if(F!=="seconds"&&F!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');pe.next=14;break;case 14:if(typeof B!="boolean")throw TypeError("Silent parameter must be a boolean");pe.next=16;break;case 16:if(typeof I!="number")throw TypeError("Notification duration parameter must be a number");pe.next=18;break;case 18:if(typeof G!="string")throw TypeError("Notification ID parameter must be a string");pe.next=20;break;case 20:return this._recording=!0,U=this._targetFrameRate,k=(k=1/(U=U!==1/0&&U!==void 0&&U!==0?U:60)*1e3)<20?20:k,R=(V=F==="seconds"?O*U:O)+(U=F==="seconds"?M*U:M),U=U,this.frameCount=U,L=this._pixelDensity,this.pixelDensity(1),H=[],document.getElementById(G)!==null&&document.getElementById(G).remove(),B||((X=this.createP("")).id(G),X.style("font-size","16px"),X.style("font-family","Montserrat"),X.style("background-color","#ffffffa0"),X.style("padding","8px"),X.style("border-radius","10px"),X.position(0,0)),this._renderer instanceof l.default.RendererGL&&(J=this.drawingContext,Z=new Uint8Array(J.drawingBufferWidth*J.drawingBufferHeight*4)),this.noLoop(),pe.next=39,Promise.resolve();case 39:if(U<R)return this.redraw(),Ce=void 0,Ce=this._renderer instanceof l.default.RendererGL?(Z=new Uint8Array(J.drawingBufferWidth*J.drawingBufferHeight*4),J.readPixels(0,0,J.drawingBufferWidth,J.drawingBufferHeight,J.RGBA,J.UNSIGNED_BYTE,Z),function(be,Ne,he){for(var ne=parseInt(he/2),re=4*Ne,de=new Uint8Array(4*Ne),xe=0;xe<ne;++xe){var Pe=xe*re,Ae=(he-xe-1)*re;de.set(be.subarray(Pe,Pe+re)),be.copyWithin(Pe,Ae,Ae+re),be.set(de,Ae)}return be}(Z,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,H.push(Ce),U++,B||X.html("Saved frame <b>"+H.length.toString()+"</b> out of "+V.toString()),pe.next=48,new Promise(function(be){return setTimeout(be,0)});pe.next=50;break;case 48:pe.next=39;break;case 50:B||X.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(L),K=(0,h.GIFEncoder)(),$=function(be){for(var Ne=new Uint8Array(be.length*be[0].length),he=0;he<be.length;he++)Ne.set(be[he],he*be[0].length);var ne=(0,h.quantize)(Ne,256,{format:"rgba4444",oneBitAlpha:!0});return ne.length===256?ne[ne.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:ne.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),ne}(H),W={},Y=function(be){for(var Ne=be.length/4,he=new Uint8Array(Ne),ne=0;ne<Ne;ne++){var re=be[4*ne]<<24|be[4*ne+1]<<16|be[4*ne+2]<<8|be[4*ne+3];W[re]===void 0&&(W[re]=(0,h.nearestColorIndex)($,be.slice(4*ne,4*(ne+1)))),he[ne]=W[re]}return he},te=$.length-1,ce=[],oe=0;case 60:if(!(oe<H.length)){pe.next=71;break}if(ue=Y(H[oe]),Ce=ue.slice(),oe===0)K.writeFrame(ue,this.width,this.height,{palette:$,delay:k,dispose:1});else{for(le=0;le<ue.length;le++)ue[le]===ce[le]&&(ue[le]=te);K.writeFrame(ue,this.width,this.height,{delay:k,transparent:!0,transparentIndex:te,dispose:1})}return ce=Ce,B||X.html("Rendered frame <b>"+oe.toString()+"</b> out of "+V.toString()),pe.next=68,new Promise(function(be){return setTimeout(be,0)});case 68:oe++,pe.next=60;break;case 71:K.finish(),ye=K.bytesView(),ye=new Blob([ye],{type:"image/gif"}),H=[],this._recording=!1,this.loop(),B||(X.html("Done. Downloading your gif!🌸"),0<I&&setTimeout(function(){return X.remove()},1e3*I)),l.default.prototype.downloadFile(ye,T,"gif");case 80:case"end":return pe.stop()}},N,this)});var A,E=function(){var N=this,T=arguments;return new Promise(function(O,j){var M=A.apply(N,T);function F(I){p(M,O,j,F,B,"next",I)}function B(I){p(M,O,j,F,B,"throw",I)}F(void 0)})};return function(N,T){return E.apply(this,arguments)}}(),l.default.prototype.image=function(A,E,N,T,U,L,H,X,J,I,G,k){l.default._validateParameters("image",arguments);var Z=A.width,V=A.height,R=(k=k||S.CENTER,G=G||S.CENTER,A.elt&&(Z=Z!==void 0?Z:A.elt.width,V=V!==void 0?V:A.elt.height),A.elt&&A.elt.videoWidth&&!A.canvas&&(Z=Z!==void 0?Z:A.elt.videoWidth,V=V!==void 0?V:A.elt.videoHeight),T||Z),U=U||V,L=L||0,H=H||0,X=y(X!==void 0?X:Z,Z),Z=y(J!==void 0?J:V,V),J=1;A.elt&&!A.canvas&&A.elt.style.width&&(J=A.elt.videoWidth&&!T?A.elt.videoWidth:A.elt.width,J/=parseInt(A.elt.style.width,10)),L*=J,H*=J,Z*=J,X*=J,V=b(I,G,k,(V=x.default.modeAdjust(E,N,R,U,this._renderer._imageMode)).x,V.y,V.w,V.h,L,H,X,Z),this._renderer.image(A,V.sx,V.sy,V.sw,V.sh,V.dx,V.dy,V.dw,V.dh)},l.default.prototype.tint=function(){for(var A=arguments.length,E=new Array(A),N=0;N<A;N++)E[N]=arguments[N];l.default._validateParameters("tint",E);var T=this.color.apply(this,E);this._renderer._tint=T.levels},l.default.prototype.noTint=function(){this._renderer._tint=null},l.default.prototype._getTintedImageCanvas=l.default.Renderer2D.prototype._getTintedImageCanvas,l.default.prototype.imageMode=function(A){l.default._validateParameters("imageMode",arguments),A!==S.CORNER&&A!==S.CORNERS&&A!==S.CENTER||(this._renderer._imageMode=A)},a=l.default,g.default=a},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(a,r,g){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=l(a("../core/main")),m=l(a("./filters"));function l(S){return S&&S.__esModule?S:{default:S}}function x(S,D){for(var h=0;h<D.length;h++){var _=D[h];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(S,_.key,_)}}f.default.Image=function(){function S(_,o){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function");this.width=_,this.height=o,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var D,h;return D=S,(h=[{key:"pixelDensity",value:function(_){return _!==void 0?(_<=0&&(f.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),_=1),this._pixelDensity=_,this.width/=_,this.height/=_,this):this._pixelDensity}},{key:"_animateGif",value:function(b){var o,p=this.gifProperties,b=b._lastRealFrameTime||window.performance.now();p.lastChangeTime===0&&(p.lastChangeTime=b),p.playing&&(p.timeDisplayed=b-p.lastChangeTime,o=p.frames[p.displayIndex].delay,p.timeDisplayed>=o&&(o=Math.floor(p.timeDisplayed/o),p.timeDisplayed=0,p.lastChangeTime=b,p.displayIndex+=o,p.loopCount=Math.floor(p.displayIndex/p.numFrames),p.loopLimit!==null&&p.loopCount>=p.loopLimit?p.playing=!1:(b=p.displayIndex%p.numFrames,this.drawingContext.putImageData(p.frames[b].image,0,0),p.displayIndex=b,this.setModified(!0))))}},{key:"_setProperty",value:function(_,o){this[_]=o,this.setModified(!0)}},{key:"loadPixels",value:function(){f.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(_,o,p,b){f.default.Renderer2D.prototype.updatePixels.call(this,_,o,p,b),this.setModified(!0)}},{key:"get",value:function(_,o,p,b){return f.default._validateParameters("p5.Image.get",arguments),f.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var _=arguments.length,o=new Array(_),p=0;p<_;p++)o[p]=arguments[p];return f.default.Renderer2D.prototype._getPixel.apply(this,o)}},{key:"set",value:function(_,o,p){f.default.Renderer2D.prototype.set.call(this,_,o,p),this.setModified(!0)}},{key:"resize",value:function(_,o){_===0&&o===0?(_=this.canvas.width,o=this.canvas.height):_===0?_=this.canvas.width*o/this.canvas.height:o===0&&(o=this.canvas.height*_/this.canvas.width),_=Math.floor(_),o=Math.floor(o);var p=document.createElement("canvas");if(p.width=_,p.height=o,this.gifProperties)for(var b=this.gifProperties,y=0;y<b.numFrames;y++){for(var A=this.drawingContext.createImageData(_,o),E=(M=M=j=O=T=void 0,b.frames[y].image),N=A,T=0,O=0;O<N.height;O++)for(var j=0;j<N.width;j++){var M=Math.floor(j*E.width/N.width),M=4*(Math.floor(O*E.height/N.height)*E.width+M);N.data[T++]=E.data[M++],N.data[T++]=E.data[M++],N.data[T++]=E.data[M++],N.data[T++]=E.data[+M]}b.frames[y].image=A}p.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,p.width,p.height),this.canvas.width=this.width=_,this.canvas.height=this.height=o,this.drawingContext.drawImage(p,0,0,_,o,0,0,_,o),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var _=arguments.length,o=new Array(_),p=0;p<_;p++)o[p]=arguments[p];f.default.prototype.copy.apply(this,o)}},{key:"mask",value:function(_){var o=this.drawingContext.globalCompositeOperation,p=this._pixelDensity,b=1,y=[_=_===void 0?this:_,0,0,(b=_ instanceof f.default.Renderer?_._pInst._pixelDensity:b)*_.width,b*_.height,0,0,p*this.width,p*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var A=0;A<this.gifProperties.frames.length;A++)this.drawingContext.putImageData(this.gifProperties.frames[A].image,0,0),this.copy.apply(this,y),this.gifProperties.frames[A].image=this.drawingContext.getImageData(0,0,p*this.width,p*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,y);this.drawingContext.globalCompositeOperation=o,this.setModified(!0)}},{key:"filter",value:function(_,o){m.default.apply(this.canvas,m.default[_],o),this.setModified(!0)}},{key:"blend",value:function(){for(var _=arguments.length,o=new Array(_),p=0;p<_;p++)o[p]=arguments[p];f.default._validateParameters("p5.Image.blend",arguments),f.default.prototype.blend.apply(this,o),this.setModified(!0)}},{key:"setModified",value:function(_){this._modified=_}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(_,o){this.gifProperties?f.default.prototype.encodeAndDownloadGif(this,_):f.default.prototype.saveCanvas(this.canvas,_,o)}},{key:"reset",value:function(){var _;this.gifProperties&&((_=this.gifProperties).playing=!0,_.timeSinceStart=0,_.timeDisplayed=0,_.lastChangeTime=0,_.loopCount=0,_.displayIndex=0,this.drawingContext.putImageData(_.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var _;if(this.gifProperties)return(_=this.gifProperties).displayIndex%_.numFrames}},{key:"setFrame",value:function(_){var o;this.gifProperties&&(_<(o=this.gifProperties).numFrames&&0<=_?(o.timeDisplayed=0,o.lastChangeTime=0,o.displayIndex=_,this.drawingContext.putImageData(o.frames[_].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(_,o){if(this.gifProperties){var p=this.gifProperties;if(o<p.numFrames&&0<=o)p.frames[o].delay=_;else{var b=!0,o=!1,y=void 0;try{for(var A,E=p.frames[Symbol.iterator]();!(b=(A=E.next()).done);b=!0)A.value.delay=_}catch(T){o=!0,y=T}finally{try{b||E.return==null||E.return()}finally{if(o)throw y}}}}}}])&&x(D.prototype,h),S}(),a=f.default.Image,g.default=a},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(a,r,g){a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.filter"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=l(a("../core/main")),m=l(a("./filters"));function l(x){return x&&x.__esModule?x:{default:x}}a("../color/p5.Color"),f.default.prototype.pixels=[],f.default.prototype.blend=function(){for(var x,S=arguments.length,D=new Array(S),h=0;h<S;h++)D[h]=arguments[h];f.default._validateParameters("blend",D),this._renderer?(x=this._renderer).blend.apply(x,D):f.default.Renderer2D.prototype.blend.apply(this,D)},f.default.prototype.copy=function(){for(var x,S,D,h,_,o,p,b,y,A=arguments.length,E=new Array(A),N=0;N<A;N++)E[N]=arguments[N];if(f.default._validateParameters("copy",E),E.length===9)x=E[0],S=E[1],D=E[2],h=E[3],_=E[4],o=E[5],p=E[6],b=E[7],y=E[8];else{if(E.length!==8)throw new Error("Signature not supported");x=this,S=E[0],D=E[1],h=E[2],_=E[3],o=E[4],p=E[5],b=E[6],y=E[7]}f.default.prototype._copyHelper(this,x,S,D,h,_,o,p,b,y)},f.default.prototype._copyHelper=function(x,S,D,h,_,o,p,b,y,A){var E=S.canvas.width/S.width,N=0,T=0;S._renderer&&S._renderer.isP3D&&(N=S.width/2,T=S.height/2),x._renderer&&x._renderer.isP3D?(x.push(),x.resetMatrix(),x.noLights(),x.blendMode(x.BLEND),x.imageMode(x.CORNER),f.default.RendererGL.prototype.image.call(x._renderer,S,D+N,h+T,_,o,p,b,y,A),x.pop()):x.drawingContext.drawImage(S.canvas,E*(D+N),E*(h+T),E*_,E*o,p,b,y,A)},f.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},f.default.prototype.filter=function(){for(var x=arguments.length,S=new Array(x),D=0;D<x;D++)S[D]=arguments[D];f.default._validateParameters("filter",S);var p=(function(){var b,y={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof f.default.Shader?y.shader=arguments.length<=0?void 0:arguments[0]:(y.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(y.value=arguments.length<=1?void 0:arguments[1]),((b=arguments.length-1)<0||arguments.length<=b?void 0:arguments[b])===!1&&(y.useWebGL=!1)),y}).apply(void 0,S),h=p.shader,_=p.operation,o=p.value,p=p.useWebGL;this._renderer.isP3D&&h?f.default.RendererGL.prototype.filter.call(this._renderer,h):p||this._renderer.isP3D?(!p&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?f.default.RendererGL.prototype.filter.call(this._renderer,_,o):((h=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),h.filter.apply(h,S),this.copy(h._renderer,0,0,this.width,this.height,0,0,this.width,this.height),h.clear())):this.canvas!==void 0?m.default.apply(this.canvas,m.default[_],o):m.default.apply(this.elt,m.default[_],o)},f.default.prototype.get=function(x,S,D,h){var _;return f.default._validateParameters("get",arguments),(_=this._renderer).get.apply(_,arguments)},f.default.prototype.loadPixels=function(){for(var x=arguments.length,S=new Array(x),D=0;D<x;D++)S[D]=arguments[D];f.default._validateParameters("loadPixels",S),this._renderer.loadPixels()},f.default.prototype.set=function(x,S,D){this._renderer.set(x,S,D)},f.default.prototype.updatePixels=function(x,S,D,h){f.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(x,S,D,h)},a=f.default,g.default=a},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(a,r,g){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(o)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.last-index-of"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.from-entries"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/web.url"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.last-index-of"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.from-entries"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/web.url"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var m=S(a("../core/main")),l=(a("whatwg-fetch"),a("es6-promise/auto"),S(a("fetch-jsonp"))),x=S(a("file-saver"));function S(o){return o&&o.__esModule?o:{default:o}}function D(o){return(D=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(p){return f(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":f(p)})(o)}function h(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function _(o,p){p&&p!==!0&&p!=="true"||(p="");var b="";return(o=o||"untitled")&&o.includes(".")&&(b=o.split(".").pop()),p&&b!==p&&(b=p,o="".concat(o,".").concat(b)),[o,b]}a("../core/friendly_errors/validate_params"),a("../core/friendly_errors/file_errors"),a("../core/friendly_errors/fes_core"),m.default.prototype.loadJSON=function(){for(var o=arguments.length,p=new Array(o),b=0;b<o;b++)p[b]=arguments[b];m.default._validateParameters("loadJSON",p);for(var y,A,E,N=p[0],T={},O="json",j=1;j<p.length;j++){var M=p[j];typeof M=="string"?M!=="jsonp"&&M!=="json"||(O=M):typeof M=="function"?y?A=M:y=M:D(M)==="object"&&(M.hasOwnProperty("jsonpCallback")||M.hasOwnProperty("jsonpCallbackFunction"))&&(O="jsonp",E=M)}var F=this;return this.httpDo(N,"GET",E,O,function(B){for(var I in B)T[I]=B[I];y!==void 0&&y(B),F._decrementPreload()},function(B){if(m.default._friendlyFileLoadError(5,N),!A)throw B;A(B)}),T},m.default.prototype.loadStrings=function(){for(var o=arguments.length,p=new Array(o),b=0;b<o;b++)p[b]=arguments[b];m.default._validateParameters("loadStrings",p);for(var y,A,E=[],N=1;N<p.length;N++){var T=p[N];typeof T=="function"&&(y===void 0?y=T:A===void 0&&(A=T))}var O=this;return m.default.prototype.httpDo.call(this,p[0],"GET","text",function(j){for(var M=j.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),F=0,B=M.length;F<B;F+=32768)Array.prototype.push.apply(E,M.slice(F,Math.min(F+32768,B)));y!==void 0&&y(E),O._decrementPreload()},function(j){if(m.default._friendlyFileLoadError(3,j),!A)throw j;A(j)}),E},m.default.prototype.loadTable=function(o){var p,b,y,A=!1,E=o.substring(o.lastIndexOf(".")+1,o.length);E==="csv"?y=",":E==="ssv"?y=";":E==="tsv"&&(y="	");for(var N=1;N<arguments.length;N++)typeof arguments[N]=="function"?p===void 0?p=arguments[N]:b===void 0&&(b=arguments[N]):typeof arguments[N]=="string"&&(arguments[N]==="header"&&(A=!0),arguments[N]==="csv"?y=",":arguments[N]==="ssv"?y=";":arguments[N]==="tsv"&&(y="	"));var T=new m.default.Table,O=this;return this.httpDo(o,"GET","table",function(j){for(var M,F,B={},I=0,G=[],k=0,V=null,R=function(){B.currentState=I,B.token=""},U=function(){V.push(B.token),R()},L=function(){B.currentState=4,G.push(V),V=null};;){if((M=j[k++])==null){if(B.escaped)throw new Error("Unclosed quote in file.");if(V){U(),L();break}}if(V===null&&(B.escaped=!1,V=[],R()),B.currentState===I){if(M==='"'){B.escaped=!0,B.currentState=1;continue}B.currentState=1}if(B.currentState===1&&B.escaped)if(M==='"')j[k]==='"'?(B.token+='"',k++):(B.escaped=!1,B.currentState=2);else{if(M==="\r")continue;B.token+=M}else M==="\r"?(j[k]===`
`&&k++,U(),L()):M===`
`?(U(),L()):M===y?U():B.currentState===1&&(B.token+=M)}if(A)T.columns=G.shift();else for(var H=0;H<G[0].length;H++)T.columns[H]="null";for(var X=0;X<G.length;X++)(G[X].length!==1||G[X][0]!=="undefined"&&G[X][0]!=="")&&((F=new m.default.TableRow).arr=G[X],F.obj=function(Z,J){if((J=J||[])===void 0)for(var K=0;K<Z.length;K++)J[K.toString()]=K;return Object.fromEntries(J.map(function($,W){return[$,Z[W]]}))}(G[X],T.columns),T.addRow(F));typeof p=="function"&&p(T),O._decrementPreload()},function(j){m.default._friendlyFileLoadError(2,o),b?b(j):console.error(j)}),T},m.default.prototype.loadXML=function(){for(var o=arguments.length,p=new Array(o),b=0;b<o;b++)p[b]=arguments[b];for(var y,A,E=new m.default.XML,N=1;N<p.length;N++){var T=p[N];typeof T=="function"&&(y===void 0?y=T:A===void 0&&(A=T))}var O=this;return this.httpDo(p[0],"GET","xml",function(j){for(var M in j)E[M]=j[M];y!==void 0&&y(E),O._decrementPreload()},function(j){if(m.default._friendlyFileLoadError(1,j),!A)throw j;A(j)}),E},m.default.prototype.loadBytes=function(o,p,b){var y={},A=this;return this.httpDo(o,"GET","arrayBuffer",function(E){y.bytes=new Uint8Array(E),typeof p=="function"&&p(y),A._decrementPreload()},function(E){if(m.default._friendlyFileLoadError(6,o),!b)throw E;b(E)}),y},m.default.prototype.httpGet=function(){for(var o=arguments.length,p=new Array(o),b=0;b<o;b++)p[b]=arguments[b];return m.default._validateParameters("httpGet",p),p.splice(1,0,"GET"),m.default.prototype.httpDo.apply(this,p)},m.default.prototype.httpPost=function(){for(var o=arguments.length,p=new Array(o),b=0;b<o;b++)p[b]=arguments[b];return m.default._validateParameters("httpPost",p),p.splice(1,0,"POST"),m.default.prototype.httpDo.apply(this,p)},m.default.prototype.httpDo=function(){for(var o,p,b,y={},A=0,E="text/plain",N=arguments.length-1;0<N&&typeof(N<0||arguments.length<=N?void 0:arguments[N])=="function";N--)A++;var T=arguments.length-A,O=arguments.length<=0?void 0:arguments[0];if(T==2&&typeof O=="string"&&D(arguments.length<=1?void 0:arguments[1])==="object")G=new Request(O,arguments.length<=1?void 0:arguments[1]),p=arguments.length<=2?void 0:arguments[2],b=arguments.length<=3?void 0:arguments[3];else{for(var j,M="GET",F=1;F<arguments.length;F++){var B=F<0||arguments.length<=F?void 0:arguments[F];if(typeof B=="string")B==="GET"||B==="POST"||B==="PUT"||B==="DELETE"?M=B:B==="json"||B==="jsonp"||B==="binary"||B==="arrayBuffer"||B==="xml"||B==="text"||B==="table"?o=B:j=B;else if(typeof B=="number")j=B.toString();else if(D(B)==="object")if(B.hasOwnProperty("jsonpCallback")||B.hasOwnProperty("jsonpCallbackFunction"))for(var I in B)y[I]=B[I];else E=B instanceof m.default.XML?(j=B.serialize(),"application/xml"):(j=JSON.stringify(B),"application/json");else typeof B=="function"&&(p?b=B:p=B)}var T=M==="GET"?new Headers:new Headers({"Content-Type":E}),G=new Request(O,{method:M,mode:"cors",body:j,headers:T})}return(T=(T=(o=o||(O.includes("json")?"json":O.includes("xml")?"xml":"text"))==="jsonp"?(0,l.default)(O,y):fetch(G)).then(function(k){if(!k.ok)throw(V=new Error(k.body)).status=k.status,V.ok=!1,V;var V=0;switch((V=o!=="jsonp"?k.headers.get("content-length"):V)&&64e6<V&&m.default._friendlyFileLoadError(7,O),o){case"json":case"jsonp":return k.json();case"binary":return k.blob();case"arrayBuffer":return k.arrayBuffer();case"xml":return k.text().then(function(R){return R=new DOMParser().parseFromString(R,"text/xml"),new m.default.XML(R.documentElement)});default:return k.text()}})).then(p||function(){}),T.catch(b||console.error),T},window.URL=window.URL||window.webkitURL,m.default.prototype._pWriters=[],m.default.prototype.createWriter=function(o,p){var b,y;for(y in m.default.prototype._pWriters)if(m.default.prototype._pWriters[y].name===o)return b=new m.default.PrintWriter(o+this.millis(),p),m.default.prototype._pWriters.push(b),b;return b=new m.default.PrintWriter(o,p),m.default.prototype._pWriters.push(b),b},m.default.PrintWriter=function(o,p){var b=this;this.name=o,this.content="",this.write=function(y){this.content+=y},this.print=function(y){this.content+="".concat(y,`
`)},this.clear=function(){this.content=""},this.close=function(){var y,A=[];for(y in A.push(this.content),m.default.prototype.writeFile(A,o,p),m.default.prototype._pWriters)m.default.prototype._pWriters[y].name===this.name&&m.default.prototype._pWriters.splice(y,1);b.clear(),b={}}},m.default.prototype.save=function(o,p,b){var y=arguments,A=(this._curElement||this).elt;if(y.length===0)m.default.prototype.saveCanvas(A);else if(y[0]instanceof m.default.Renderer||y[0]instanceof m.default.Graphics)m.default.prototype.saveCanvas(y[0].elt,y[1],y[2]);else if(y.length===1&&typeof y[0]=="string")m.default.prototype.saveCanvas(A,y[0]);else switch(_(y[1],y[2])[1]){case"json":return void m.default.prototype.saveJSON(y[0],y[1],y[2]);case"txt":return void m.default.prototype.saveStrings(y[0],y[1],y[2]);default:y[0]instanceof Array?m.default.prototype.saveStrings(y[0],y[1],y[2]):y[0]instanceof m.default.Table?m.default.prototype.saveTable(y[0],y[1],y[2]):y[0]instanceof m.default.Image?m.default.prototype.saveCanvas(y[0].canvas,y[1]):y[0]instanceof m.default.SoundFile&&m.default.prototype.saveSound(y[0],y[1],y[2],y[3])}},m.default.prototype.saveJSON=function(o,p,b){m.default._validateParameters("saveJSON",arguments),b=b?JSON.stringify(o):JSON.stringify(o,void 0,2),this.saveStrings(b.split(`
`),p,"json")},m.default.prototype.saveJSONObject=m.default.prototype.saveJSON,m.default.prototype.saveJSONArray=m.default.prototype.saveJSON,m.default.prototype.saveStrings=function(o,p,b,y){m.default._validateParameters("saveStrings",arguments);for(var A=this.createWriter(p,b||"txt"),E=0;E<o.length;E++)y?A.write(o[E]+`\r
`):A.write(o[E]+`
`);A.close(),A.clear()},m.default.prototype.saveTable=function(o,p,b){m.default._validateParameters("saveTable",arguments),y=b===void 0?p.substring(p.lastIndexOf(".")+1,p.length):b;var y,A=this.createWriter(p,y),E=o.columns,N=y==="tsv"?"	":",";if(y!=="html"){if(E[0]!=="0"){for(var T=0;T<E.length;T++)T<E.length-1?A.write(E[T]+N):A.write(E[T]);A.write(`
`)}for(var O=0;O<o.rows.length;O++){for(var j=void 0,j=0;j<o.rows[O].arr.length;j++)j<o.rows[O].arr.length-1?y==="csv"&&String(o.rows[O].arr[j]).includes(",")?A.write('"'+o.rows[O].arr[j]+'"'+N):A.write(o.rows[O].arr[j]+N):y==="csv"&&String(o.rows[O].arr[j]).includes(",")?A.write('"'+o.rows[O].arr[j]+'"'):A.write(o.rows[O].arr[j]);A.write(`
`)}}else{if(A.print("<html>"),A.print("<head>"),A.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),A.print("</head>"),A.print("<body>"),A.print("  <table>"),E[0]!=="0"){A.print("    <tr>");for(var M=0;M<E.length;M++){var F=h(E[M]);A.print("      <td>".concat(F)),A.print("      </td>")}A.print("    </tr>")}for(var B=0;B<o.rows.length;B++){A.print("    <tr>");for(var I=0;I<o.columns.length;I++){var G=h(o.rows[B].getString(I));A.print("      <td>".concat(G)),A.print("      </td>")}A.print("    </tr>")}A.print("  </table>"),A.print("</body>"),A.print("</html>")}A.close(),A.clear()},m.default.prototype.writeFile=function(A,p,b){var y="application/octet-stream",A=(m.default.prototype._isSafari()&&(y="text/plain"),new Blob(A,{type:y}));m.default.prototype.downloadFile(A,p,b)},m.default.prototype.downloadFile=function(o,A,E){var y,A=_(A,E),E=A[0];o instanceof Blob?x.default.saveAs(o,E):((y=document.createElement("a")).href=o,y.download=E,y.onclick=function(N){document.body.removeChild(N.target),N.stopPropagation()},y.style.display="none",document.body.appendChild(y),m.default.prototype._isSafari()&&(o=(o=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(A[1],'"'),alert(o)),y.click())},m.default.prototype._checkFileExtension=_,m.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},a=m.default,g.default=a},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(a,r,g){a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.replace"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(a=a("../core/main"))&&a.__esModule?a:{default:a};function m(l,x){for(var S=0;S<x.length;S++){var D=x[S];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(l,D.key,D)}}f.default.Table=function(){function l(){var D=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],h=this,_=l;if(!(h instanceof _))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=D}var x,S;return x=l,(S=[{key:"addRow",value:function(D){if(D=D||new f.default.TableRow,D.arr===void 0||D.obj===void 0)throw new Error("invalid TableRow: ".concat(D));return(D.table=this).rows.push(D),D}},{key:"removeRow",value:function(D){this.rows[D].table=null,D=this.rows.splice(D+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(D)}},{key:"getRow",value:function(D){return this.rows[D]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(D,h){if(typeof h=="string"){for(var _=0;_<this.rows.length;_++)if(this.rows[_].obj[h]===D)return this.rows[_]}else for(var o=0;o<this.rows.length;o++)if(this.rows[o].arr[h]===D)return this.rows[o];return null}},{key:"findRows",value:function(D,h){var _=[];if(typeof h=="string")for(var o=0;o<this.rows.length;o++)this.rows[o].obj[h]===D&&_.push(this.rows[o]);else for(var p=0;p<this.rows.length;p++)this.rows[p].arr[h]===D&&_.push(this.rows[p]);return _}},{key:"matchRow",value:function(D,h){if(typeof h=="number"){for(var _=0;_<this.rows.length;_++)if(this.rows[_].arr[h].match(D))return this.rows[_]}else for(var o=0;o<this.rows.length;o++)if(this.rows[o].obj[h].match(D))return this.rows[o];return null}},{key:"matchRows",value:function(D,h){var _=[];if(typeof h=="number")for(var o=0;o<this.rows.length;o++)this.rows[o].arr[h].match(D)&&_.push(this.rows[o]);else for(var p=0;p<this.rows.length;p++)this.rows[p].obj[h].match(D)&&_.push(this.rows[p]);return _}},{key:"getColumn",value:function(D){var h=[];if(typeof D=="string")for(var _=0;_<this.rows.length;_++)h.push(this.rows[_].obj[D]);else for(var o=0;o<this.rows.length;o++)h.push(this.rows[o].arr[D]);return h}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(D){this.columns.push(D||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(D,h){for(var _=[],o=0;o<D.length;o++)_.push(D.charAt(o).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var p=new RegExp(_.join("|"),"g");if(h===void 0)for(var b=0;b<this.columns.length;b++)for(var y=0;y<this.rows.length;y++){var A=(A=this.rows[y].arr[b]).replace(p,"");this.rows[y].arr[b]=A,this.rows[y].obj[this.columns[b]]=A}else if(typeof h=="string")for(var E=0;E<this.rows.length;E++){var N=(N=this.rows[E].obj[h]).replace(p,""),T=(this.rows[E].obj[h]=N,this.columns.indexOf(h));this.rows[E].arr[T]=N}else for(var O=0;O<this.rows.length;O++){var j=(j=this.rows[O].arr[h]).replace(p,"");this.rows[O].arr[h]=j,this.rows[O].obj[this.columns[h]]=j}}},{key:"trim",value:function(D){var h=new RegExp(" ","g");if(D===void 0)for(var _=0;_<this.columns.length;_++)for(var o=0;o<this.rows.length;o++){var p=(p=this.rows[o].arr[_]).replace(h,"");this.rows[o].arr[_]=p,this.rows[o].obj[this.columns[_]]=p}else if(typeof D=="string")for(var b=0;b<this.rows.length;b++){var y=(y=this.rows[b].obj[D]).replace(h,""),A=(this.rows[b].obj[D]=y,this.columns.indexOf(D));this.rows[b].arr[A]=y}else for(var E=0;E<this.rows.length;E++){var N=(N=this.rows[E].arr[D]).replace(h,"");this.rows[E].arr[D]=N,this.rows[E].obj[this.columns[D]]=N}}},{key:"removeColumn",value:function(o){typeof o=="string"?_=this.columns.indexOf(h=o):h=this.columns[_=o];var h,_,o=this.columns.splice(_+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(o);for(var p=0;p<this.rows.length;p++){var b=this.rows[p].arr,y=b.splice(_+1,b.length);b.pop(),this.rows[p].arr=b.concat(y),delete this.rows[p].obj[h]}}},{key:"set",value:function(D,h,_){this.rows[D].set(h,_)}},{key:"setNum",value:function(D,h,_){this.rows[D].setNum(h,_)}},{key:"setString",value:function(D,h,_){this.rows[D].setString(h,_)}},{key:"get",value:function(D,h){return this.rows[D].get(h)}},{key:"getNum",value:function(D,h){return this.rows[D].getNum(h)}},{key:"getString",value:function(D,h){return this.rows[D].getString(h)}},{key:"getObject",value:function(D){for(var h,_={},o=0;o<this.rows.length;o++)if(h=this.rows[o].obj,typeof D=="string"){if(!(0<=this.columns.indexOf(D)))throw new Error('This table has no column named "'.concat(D,'"'));_[h[D]]=h}else _[o]=this.rows[o].obj;return _}},{key:"getArray",value:function(){for(var D=[],h=0;h<this.rows.length;h++)D.push(this.rows[h].arr);return D}}])&&m(x.prototype,S),l}(),a=f.default,g.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(a,r,g){a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.from-entries"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.split"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.from-entries"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.split"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a};function f(m,l){for(var x=0;x<l.length;x++){var S=l[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}a.default.TableRow=function(){function m(S,D){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");var h=[];S&&(h=S.split(D=D||",")),this.arr=h,this.obj=Object.fromEntries(h.entries()),this.table=null}var l,x;return l=m,(x=[{key:"set",value:function(S,D){if(typeof S=="string"){var h=this.table.columns.indexOf(S);if(!(0<=h))throw new Error('This table has no column named "'.concat(S,'"'));this.obj[S]=D,this.arr[h]=D}else{if(!(S<this.table.columns.length))throw new Error("Column #".concat(S," is out of the range of this table"));this.arr[S]=D,h=this.table.columns[S],this.obj[h]=D}}},{key:"setNum",value:function(S,D){D=parseFloat(D),this.set(S,D)}},{key:"setString",value:function(S,D){D=D.toString(),this.set(S,D)}},{key:"get",value:function(S){return(typeof S=="string"?this.obj:this.arr)[S]}},{key:"getNum",value:function(S){var D=parseFloat(typeof S=="string"?this.obj[S]:this.arr[S]);if(D.toString()==="NaN")throw"Error: ".concat(this.obj[S]," is NaN (Not a Number)");return D}},{key:"getString",value:function(S){return(typeof S=="string"?this.obj:this.arr)[S].toString()}}])&&f(l.prototype,x),m}(),a=a.default,g.default=a},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(a,r,g){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(a=a("../core/main"))&&a.__esModule?a:{default:a};function m(x,S){for(var D=0;D<S.length;D++){var h=S[D];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(x,h.key,h)}}function l(x){for(var S=[],D=0;D<x.length;D++)S.push(new f.default.XML(x[D]));return S}f.default.XML=function(){function x(h){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");h?this.DOM=h:(h=document.implementation.createDocument(null,"doc"),this.DOM=h.createElement("root"))}var S,D;return S=x,(D=[{key:"getParent",value:function(){return new f.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(h){var _=this.DOM.innerHTML,o=this.DOM.attributes,p=document.implementation.createDocument(null,"default").createElement(h);p.innerHTML=_;for(var b=0;b<o.length;b++)p.setAttribute(o[b].nodeName,o[b].nodeValue);this.DOM=p}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var h=[],_=0;_<this.DOM.childNodes.length;_++)h.push(this.DOM.childNodes[_].nodeName);return h}},{key:"getChildren",value:function(h){return l(h?this.DOM.getElementsByTagName(h):this.DOM.children)}},{key:"getChild",value:function(h){if(typeof h!="string")return new f.default.XML(this.DOM.children[h]);var _=!0,o=!1,p=void 0;try{for(var b,y=this.DOM.children[Symbol.iterator]();!(_=(b=y.next()).done);_=!0){var A=b.value;if(A.tagName===h)return new f.default.XML(A)}}catch(E){o=!0,p=E}finally{try{_||y.return==null||y.return()}finally{if(o)throw p}}}},{key:"addChild",value:function(h){h instanceof f.default.XML&&this.DOM.appendChild(h.DOM)}},{key:"removeChild",value:function(h){var _=-1;if(typeof h=="string"){for(var o=0;o<this.DOM.children.length;o++)if(this.DOM.children[o].tagName===h){_=o;break}}else _=h;_!==-1&&this.DOM.removeChild(this.DOM.children[_])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var h=[],_=!0,o=!1,p=void 0;try{for(var b,y=this.DOM.attributes[Symbol.iterator]();!(_=(b=y.next()).done);_=!0){var A=b.value;h.push(A.nodeName)}}catch(E){o=!0,p=E}finally{try{_||y.return==null||y.return()}finally{if(o)throw p}}return h}},{key:"hasAttribute",value:function(h){var _={},o=!0,p=!1,b=void 0;try{for(var y,A=this.DOM.attributes[Symbol.iterator]();!(o=(y=A.next()).done);o=!0){var E=y.value;_[E.nodeName]=E.nodeValue}}catch(N){p=!0,b=N}finally{try{o||A.return==null||A.return()}finally{if(p)throw b}}return!!_[h]}},{key:"getNum",value:function(h,_){var o={},p=!0,b=!1,y=void 0;try{for(var A,E=this.DOM.attributes[Symbol.iterator]();!(p=(A=E.next()).done);p=!0){var N=A.value;o[N.nodeName]=N.nodeValue}}catch(T){b=!0,y=T}finally{try{p||E.return==null||E.return()}finally{if(b)throw y}}return Number(o[h])||_||0}},{key:"getString",value:function(h,_){var o={},p=!0,b=!1,y=void 0;try{for(var A,E=this.DOM.attributes[Symbol.iterator]();!(p=(A=E.next()).done);p=!0){var N=A.value;o[N.nodeName]=N.nodeValue}}catch(T){b=!0,y=T}finally{try{p||E.return==null||E.return()}finally{if(b)throw y}}return o[h]?String(o[h]):_||null}},{key:"setAttribute",value:function(h,_){this.DOM.setAttribute(h,_)}},{key:"getContent",value:function(h){var _=this.DOM.textContent;return(_=_.replace(/\s\s+/g,","))||h||null}},{key:"setContent",value:function(h){this.DOM.children.length||(this.DOM.textContent=h)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&m(S.prototype,D),x}(),a=f.default,g.default=a},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(a,r,g){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.math.hypot"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.math.hypot"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.string.includes"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(a=a("../core/main"))&&a.__esModule?a:{default:a};function m(l){return function(x){if(Array.isArray(x)){for(var S=0,D=new Array(x.length);S<x.length;S++)D[S]=x[S];return D}}(l)||function(x){if(Symbol.iterator in Object(x)||Object.prototype.toString.call(x)==="[object Arguments]")return Array.from(x)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}f.default.prototype.abs=Math.abs,f.default.prototype.ceil=Math.ceil,f.default.prototype.constrain=function(l,x,S){return f.default._validateParameters("constrain",arguments),Math.max(Math.min(l,S),x)},f.default.prototype.dist=function(){for(var l=arguments.length,x=new Array(l),S=0;S<l;S++)x[S]=arguments[S];return f.default._validateParameters("dist",x),x.length===4?Math.hypot(x[2]-x[0],x[3]-x[1]):x.length===6?Math.hypot(x[3]-x[0],x[4]-x[1],x[5]-x[2]):void 0},f.default.prototype.exp=Math.exp,f.default.prototype.floor=Math.floor,f.default.prototype.lerp=function(l,x,S){return f.default._validateParameters("lerp",arguments),S*(x-l)+l},f.default.prototype.log=Math.log,f.default.prototype.mag=function(l,x){return f.default._validateParameters("mag",arguments),Math.hypot(l,x)},f.default.prototype.map=function(l,x,S,D,h,_){return f.default._validateParameters("map",arguments),l=(l-x)/(S-x)*(h-D)+D,_?D<h?this.constrain(l,D,h):this.constrain(l,h,D):l},f.default.prototype.max=function(){for(var l=function(h){return Math.max.apply(Math,m(h))},x=arguments.length,S=new Array(x),D=0;D<x;D++)S[D]=arguments[D];return Array.isArray(S[0])?l(S[0]):l(S)},f.default.prototype.min=function(){for(var l=function(h){return Math.min.apply(Math,m(h))},x=arguments.length,S=new Array(x),D=0;D<x;D++)S[D]=arguments[D];return Array.isArray(S[0])?l(S[0]):l(S)},f.default.prototype.norm=function(l,x,S){return f.default._validateParameters("norm",arguments),this.map(l,x,S,0,1)},f.default.prototype.pow=Math.pow,f.default.prototype.round=function(l,x){return x?(x=Math.pow(10,x),Math.round(l*x)/x):Math.round(l)},f.default.prototype.sq=function(l){return l*l},f.default.prototype.sqrt=Math.sqrt,f.default.prototype.fract=function(D){f.default._validateParameters("fract",arguments);var x,S=0,D=Number(D);return isNaN(D)||Math.abs(D)===1/0?D:(D<0&&(D=-D,S=1),String(D).includes(".")&&!String(D).includes("e")?(x=String(D),x=+("0"+x.slice(x.indexOf("."))),Math.abs(S-x)):D<1?Math.abs(S-D):0)},a=f.default,g.default=a},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(a,r,g){a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.reflect.construct"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.slice"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(a=a("../core/main"))&&a.__esModule?a:{default:a};function m(x,S,D){return(m=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(h,_,o){var p=[null];return p.push.apply(p,_),_=new(Function.bind.apply(h,p)),o&&l(_,o.prototype),_}).apply(null,arguments)}function l(x,S){return(l=Object.setPrototypeOf||function(D,h){return D.__proto__=h,D})(x,S)}f.default.prototype.createVector=function(x,S,D){return this instanceof f.default?m(f.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new f.default.Vector(x,S,D)},a=f.default,g.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(D,r,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,D=(D=D("../core/main"))&&D.__esModule?D:{default:D};function f(h){return .5*(1-Math.cos(h*Math.PI))}var m,l=4095,x=4,S=.5,D=(D.default.prototype.noise=function(h){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(m==null){m=new Array(4096);for(var p=0;p<4096;p++)m[p]=Math.random()}h<0&&(h=-h),_<0&&(_=-_),o<0&&(o=-o);for(var b,y,A=Math.floor(h),E=Math.floor(_),N=Math.floor(o),T=h-A,O=_-E,j=o-N,M=0,F=.5,B=0;B<x;B++){var I=A+(E<<4)+(N<<8),G=f(T),k=f(O),V=m[I&l];V+=G*(m[I+1&l]-V),b=m[I+16&l],V+=k*((b+=G*(m[I+16+1&l]-b))-V),b=m[(I+=256)&l],b+=G*(m[I+1&l]-b),y=m[I+16&l],b+=k*((y+=G*(m[I+16+1&l]-y))-b),M+=(V+=f(j)*(b-V))*F,F*=S,A<<=1,E<<=1,N<<=1,1<=(T*=2)&&(A++,T--),1<=(O*=2)&&(E++,O--),1<=(j*=2)&&(N++,j--)}return M},D.default.prototype.noiseDetail=function(h,_){0<h&&(x=h),0<_&&(S=_)},D.default.prototype.noiseSeed=function(h){p=4294967296;var _,o,p,b={setSeed:function(A){o=_=(A??Math.random()*p)>>>0},getSeed:function(){return _},rand:function(){return(o=(1664525*o+1013904223)%p)/p}};b.setSeed(h),m=new Array(4096);for(var y=0;y<4096;y++)m[y]=b.rand()},D.default);g.default=D},{"../core/main":283}],316:[function(a,r,g){function f(_){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(_)}function m(_){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(_)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.every"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.some"),a("core-js/modules/es.math.sign"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.number.epsilon"),a("core-js/modules/es.number.is-finite"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.sub"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.every"),a("core-js/modules/es.array.some"),a("core-js/modules/es.math.sign"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.number.epsilon"),a("core-js/modules/es.number.is-finite"),a("core-js/modules/es.string.sub"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(h=a("../core/main"))&&h.__esModule?h:{default:h},x=function(_){if(_&&_.__esModule)return _;if(_===null||m(_)!=="object"&&typeof _!="function")return{default:_};var o=S();if(o&&o.has(_))return o.get(_);var p,b={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in _){var A;Object.prototype.hasOwnProperty.call(_,p)&&((A=y?Object.getOwnPropertyDescriptor(_,p):null)&&(A.get||A.set)?Object.defineProperty(b,p,A):b[p]=_[p])}return b.default=_,o&&o.set(_,b),b}(a("../core/constants"));function S(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,S=function(){return _},_)}function D(_,o){for(var p=0;p<o.length;p++){var b=o[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}l.default.Vector=function(){function _(){var N=this,y=_;if(!(N instanceof y))throw new TypeError("Cannot call a class as a function");var A,E,N=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],A=(arguments.length<=2?void 0:arguments[2])||0,E=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(A=(arguments.length<=0?void 0:arguments[0])||0,E=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=A,this.y=E,this.z=N}var o,p,b;return o=_,b=[{key:"fromAngle",value:function(y){var A=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new l.default.Vector(A*Math.cos(y),A*Math.sin(y),0)}},{key:"fromAngles",value:function(j,T){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,N=Math.cos(T),T=Math.sin(T),O=Math.cos(j),j=Math.sin(j);return new l.default.Vector(E*j*T,-E*O,E*j*N)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*x.TWO_PI)}},{key:"random3D",value:function(){var y=Math.random()*x.TWO_PI,A=2*Math.random()-1,N=Math.sqrt(1-A*A),E=N*Math.cos(y),N=N*Math.sin(y);return new l.default.Vector(E,N,A)}},{key:"copy",value:function(y){return y.copy(y)}},{key:"add",value:function(){for(var y=arguments.length,A=new Array(y),E=0;E<y;E++)A[E]=arguments[E];var N=A[0],T=A[1],O=A[2];return O?O.set(N):(O=N.copy(),A.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),O.add(T),O}},{key:"rem",value:function(y,A){if(y instanceof l.default.Vector&&A instanceof l.default.Vector)return(y=y.copy()).rem(A),y}},{key:"sub",value:function(){for(var y=arguments.length,A=new Array(y),E=0;E<y;E++)A[E]=arguments[E];var N=A[0],T=A[1],O=A[2];return O?O.set(N):(O=N.copy(),A.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),O.sub(T),O}},{key:"mult",value:function(){for(var y=arguments.length,A=new Array(y),E=0;E<y;E++)A[E]=arguments[E];var N=A[0],T=A[1],O=A[2];return O?O.set(N):(O=N.copy(),A.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),O.mult(T),O}},{key:"rotate",value:function(){for(var y=arguments.length,A=new Array(y),E=0;E<y;E++)A[E]=arguments[E];var N=A[0],T=A[1],O=A[2];return A.length===2?O=N.copy():(O instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),O.set(N)),O.rotate(T),O}},{key:"div",value:function(){for(var y=arguments.length,A=new Array(y),E=0;E<y;E++)A[E]=arguments[E];var N=A[0],T=A[1],O=A[2];return O?O.set(N):(O=N.copy(),A.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),O.div(T),O}},{key:"dot",value:function(y,A){return y.dot(A)}},{key:"cross",value:function(y,A){return y.cross(A)}},{key:"dist",value:function(y,A){return y.dist(A)}},{key:"lerp",value:function(){for(var y=arguments.length,A=new Array(y),E=0;E<y;E++)A[E]=arguments[E];var N=A[0],T=A[1],O=A[2],j=A[3];return j?j.set(N):(j=N.copy(),A.length===4&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),j.lerp(T,O),j}},{key:"slerp",value:function(){for(var y=arguments.length,A=new Array(y),E=0;E<y;E++)A[E]=arguments[E];var N=A[0],T=A[1],O=A[2],j=A[3];return j?j.set(N):(j=N.copy(),A.length===4&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),j.slerp(T,O),j}},{key:"mag",value:function(y){return y.mag()}},{key:"magSq",value:function(y){return y.magSq()}},{key:"normalize",value:function(){for(var y=arguments.length,A=new Array(y),E=0;E<y;E++)A[E]=arguments[E];var N=A[0],T=A[1];return A.length<2?T=N.copy():(T instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),T.set(N)),T.normalize()}},{key:"limit",value:function(){for(var y=arguments.length,A=new Array(y),E=0;E<y;E++)A[E]=arguments[E];var N=A[0],T=A[1],O=A[2];return A.length<3?O=N.copy():(O instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),O.set(N)),O.limit(T)}},{key:"setMag",value:function(){for(var y=arguments.length,A=new Array(y),E=0;E<y;E++)A[E]=arguments[E];var N=A[0],T=A[1],O=A[2];return A.length<3?O=N.copy():(O instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),O.set(N)),O.setMag(T)}},{key:"heading",value:function(y){return y.heading()}},{key:"angleBetween",value:function(y,A){return y.angleBetween(A)}},{key:"reflect",value:function(){for(var y=arguments.length,A=new Array(y),E=0;E<y;E++)A[E]=arguments[E];var N=A[0],T=A[1],O=A[2];return A.length<3?O=N.copy():(O instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),O.set(N)),O.reflect(T)}},{key:"array",value:function(y){return y.array()}},{key:"equals",value:function(y,A){var E;return y instanceof l.default.Vector?E=y:Array.isArray(y)?E=new l.default.Vector().set(y):l.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),E.equals(A)}}],(p=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(y,A,E){return y instanceof l.default.Vector?(this.x=y.x||0,this.y=y.y||0,this.z=y.z||0):Array.isArray(y)?(this.x=y[0]||0,this.y=y[1]||0,this.z=y[2]||0):(this.x=y||0,this.y=A||0,this.z=E||0),this}},{key:"copy",value:function(){return this.isPInst?new l.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new l.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(y,A,E){return y instanceof l.default.Vector?(this.x+=y.x||0,this.y+=y.y||0,this.z+=y.z||0):Array.isArray(y)?(this.x+=y[0]||0,this.y+=y[1]||0,this.z+=y[2]||0):(this.x+=y||0,this.y+=A||0,this.z+=E||0),this}},{key:"calculateRemainder2D",value:function(y,A){return y!==0&&(this.x=this.x%y),A!==0&&(this.y=this.y%A),this}},{key:"calculateRemainder3D",value:function(y,A,E){return y!==0&&(this.x=this.x%y),A!==0&&(this.y=this.y%A),E!==0&&(this.z=this.z%E),this}},{key:"rem",value:function(){for(var y=arguments.length,A=new Array(y),E=0;E<y;E++)A[E]=arguments[E];var N,T,O,j=A[0],M=A[1],F=A[2];if(j instanceof l.default.Vector){if([j.x,j.y,j.z].every(Number.isFinite))return N=parseFloat(j.x),T=parseFloat(j.y),O=parseFloat(j.z),this.calculateRemainder3D(N,T,O)}else if(Array.isArray(j)){if(j.every(Number.isFinite))return j.length===2?this.calculateRemainder2D(j[0],j[1]):j.length===3?this.calculateRemainder3D(j[0],j[1],j[2]):void 0}else if(A.length===1){if(Number.isFinite(j)&&j!==0)return this.x=this.x%j,this.y=this.y%j,this.z=this.z%j,this}else if(A.length===2){if(A.every(Number.isFinite))return this.calculateRemainder2D(j,M)}else if(A.length===3&&A.every(Number.isFinite))return this.calculateRemainder3D(j,M,F)}},{key:"sub",value:function(y,A,E){return y instanceof l.default.Vector?(this.x-=y.x||0,this.y-=y.y||0,this.z-=y.z||0):Array.isArray(y)?(this.x-=y[0]||0,this.y-=y[1]||0,this.z-=y[2]||0):(this.x-=y||0,this.y-=A||0,this.z-=E||0),this}},{key:"mult",value:function(){for(var y=arguments.length,A=new Array(y),E=0;E<y;E++)A[E]=arguments[E];var N,T=A[0],O=A[1],j=A[2];return T instanceof l.default.Vector?Number.isFinite(T.x)&&Number.isFinite(T.y)&&Number.isFinite(T.z)&&typeof T.x=="number"&&typeof T.y=="number"&&typeof T.z=="number"?(this.x*=T.x,this.y*=T.y,this.z*=T.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(T)?T.every(function(M){return Number.isFinite(M)})&&T.every(function(M){return typeof M=="number"})?T.length===1?(this.x*=T[0],this.y*=T[0],this.z*=T[0]):T.length===2?(this.x*=T[0],this.y*=T[1]):T.length===3&&(this.x*=T[0],this.y*=T[1],this.z*=T[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(N=A).every(function(M){return Number.isFinite(M)})&&N.every(function(M){return typeof M=="number"})?(A.length===1&&(this.x*=T,this.y*=T,this.z*=T),A.length===2&&(this.x*=T,this.y*=O),A.length===3&&(this.x*=T,this.y*=O,this.z*=j)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var y=arguments.length,A=new Array(y),E=0;E<y;E++)A[E]=arguments[E];var N=A[0],T=A[1],O=A[2];if(N instanceof l.default.Vector)if(Number.isFinite(N.x)&&Number.isFinite(N.y)&&Number.isFinite(N.z)&&typeof N.x=="number"&&typeof N.y=="number"&&typeof N.z=="number"){var j=N.z===0&&this.z===0;if(N.x===0||N.y===0||!j&&N.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=N.x,this.y/=N.y,j||(this.z/=N.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(N))if(N.every(Number.isFinite)&&N.every(function(M){return typeof M=="number"})){if(N.some(function(M){return M===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;N.length===1?(this.x/=N[0],this.y/=N[0],this.z/=N[0]):N.length===2?(this.x/=N[0],this.y/=N[1]):N.length===3&&(this.x/=N[0],this.y/=N[1],this.z/=N[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(A.every(Number.isFinite)&&A.every(function(M){return typeof M=="number"})){if(A.some(function(M){return M===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;A.length===1&&(this.x/=N,this.y/=N,this.z/=N),A.length===2&&(this.x/=N,this.y/=T),A.length===3&&(this.x/=N,this.y/=T,this.z/=O)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var y=this.x,A=this.y,E=this.z;return y*y+A*A+E*E}},{key:"dot",value:function(y,A,E){return y instanceof l.default.Vector?this.dot(y.x,y.y,y.z):this.x*(y||0)+this.y*(A||0)+this.z*(E||0)}},{key:"cross",value:function(N){var A=this.y*N.z-this.z*N.y,E=this.z*N.x-this.x*N.z,N=this.x*N.y-this.y*N.x;return this.isPInst?new l.default.Vector(this._fromRadians,this._toRadians,A,E,N):new l.default.Vector(A,E,N)}},{key:"dist",value:function(y){return y.copy().sub(this).mag()}},{key:"normalize",value:function(){var y=this.mag();return y!==0&&this.mult(1/y),this}},{key:"limit",value:function(y){var A=this.magSq();return y*y<A&&this.div(Math.sqrt(A)).mult(y),this}},{key:"setMag",value:function(y){return this.normalize().mult(y)}},{key:"heading",value:function(){var y=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(y):y}},{key:"setHeading",value:function(y){this.isPInst&&(y=this._toRadians(y));var A=this.mag();return this.x=A*Math.cos(y),this.y=A*Math.sin(y),this}},{key:"rotate",value:function(A){var A=this.heading()+A,E=(this.isPInst&&(A=this._toRadians(A)),this.mag());return this.x=Math.cos(A)*E,this.y=Math.sin(A)*E,this}},{key:"angleBetween",value:function(y){var A;return this.magSq()*y.magSq()==0?NaN:(A=this.cross(y),y=Math.atan2(A.mag(),this.dot(y))*Math.sign(A.z||1),this.isPInst?this._fromRadians(y):y)}},{key:"lerp",value:function(y,A,E,N){return y instanceof l.default.Vector?this.lerp(y.x,y.y,y.z,A):(this.x+=(y-this.x)*N||0,this.y+=(A-this.y)*N||0,this.z+=(E-this.z)*N||0,this)}},{key:"slerp",value:function(y,A){if(A!==0){if(A===1)return this.set(y);var E=this.mag(),N=y.mag();if(E*N==0)this.mult(1-A).add(y.x*A,y.y*A,y.z*A);else{var T=this.cross(y),O=T.mag(),j=Math.atan2(O,this.dot(y));if(0<O)T.x/=O,T.y/=O,T.z/=O;else{if(j<.5*Math.PI)return this.mult(1-A).add(y.x*A,y.y*A,y.z*A),this;this.z===0&&y.z===0?T.set(0,0,1):this.x!==0?T.set(this.y,-this.x,0).normalize():T.set(1,0,0)}O=T.cross(this),y=1-A+A*N/E,T=y*Math.cos(A*j),N=y*Math.sin(A*j),this.x=this.x*T+O.x*N,this.y=this.y*T+O.y*N,this.z=this.z*T+O.z*N}}return this}},{key:"reflect",value:function(y){return y=l.default.Vector.normalize(y),this.sub(y.mult(2*this.dot(y)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(O,A,E){var N,T,O=O instanceof l.default.Vector?(N=O.x||0,T=O.y||0,O.z||0):Array.isArray(O)?(N=O[0]||0,T=O[1]||0,O[2]||0):(N=O||0,T=A||0,E||0);return this.x===N&&this.y===T&&this.z===O}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(y){return Math.abs(+(y||0))<=Number.EPSILON?0:y}}])&&D(o.prototype,p),b&&D(o,b),_}();var h=l.default.Vector;g.default=h},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(S,r,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(S=S("../core/main"))&&S.__esModule?S:{default:S},m="_lcg_random_state",l=4294967296,x=0,S=(f.default.prototype._lcg=function(D){return this[D]=(1664525*this[D]+1013904223)%l,this[D]/l},f.default.prototype._lcgSetSeed=function(D,h){this[D]=(h??Math.random()*l)>>>0},f.default.prototype.randomSeed=function(D){this._lcgSetSeed(m,D),this._gaussian_previous=!1},f.default.prototype.random=function(D,h){var _,o;return f.default._validateParameters("random",arguments),_=this[m]!=null?this._lcg(m):Math.random(),D===void 0?_:h===void 0?Array.isArray(D)?D[Math.floor(_*D.length)]:_*D:(h<D&&(o=D,D=h,h=o),_*(h-D)+D)},f.default.prototype.randomGaussian=function(D){var h,_,o,p,b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)h=x,this._gaussian_previous=!1;else{for(;1<=(p=(_=this.random(2)-1)*_+(o=this.random(2)-1)*o););h=_*(p=Math.sqrt(-2*Math.log(p)/p)),x=o*p,this._gaussian_previous=!0}return h*b+(D||0)},f.default);g.default=S},{"../core/main":283}],318:[function(a,r,g){function f(h){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}function m(h){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(_){return f(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":f(_)})(h)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(D=a("../core/main"))&&D.__esModule?D:{default:D},x=function(h){if(h&&h.__esModule)return h;if(h===null||m(h)!=="object"&&typeof h!="function")return{default:h};var _=S();if(_&&_.has(h))return _.get(h);var o,p={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in h){var y;Object.prototype.hasOwnProperty.call(h,o)&&((y=b?Object.getOwnPropertyDescriptor(h,o):null)&&(y.get||y.set)?Object.defineProperty(p,o,y):p[o]=h[o])}return p.default=h,_&&_.set(h,p),p}(a("../core/constants"));function S(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,S=function(){return h},h)}l.default.prototype._angleMode=x.RADIANS,l.default.prototype.acos=function(h){return this._fromRadians(Math.acos(h))},l.default.prototype.asin=function(h){return this._fromRadians(Math.asin(h))},l.default.prototype.atan=function(h){return this._fromRadians(Math.atan(h))},l.default.prototype.atan2=function(h,_){return this._fromRadians(Math.atan2(h,_))},l.default.prototype.cos=function(h){return Math.cos(this._toRadians(h))},l.default.prototype.sin=function(h){return Math.sin(this._toRadians(h))},l.default.prototype.tan=function(h){return Math.tan(this._toRadians(h))},l.default.prototype.degrees=function(h){return h*x.RAD_TO_DEG},l.default.prototype.radians=function(h){return h*x.DEG_TO_RAD},l.default.prototype.angleMode=function(h){if(l.default._validateParameters("angleMode",arguments),h===void 0)return this._angleMode;h!==x.DEGREES&&h!==x.RADIANS||h!==this._angleMode&&(h===x.RADIANS?(this._setProperty("pRotationX",this.pRotationX*x.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*x.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*x.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*x.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*x.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*x.RAD_TO_DEG)),this._angleMode=h)},l.default.prototype._toRadians=function(h){return this._angleMode===x.DEGREES?h*x.DEG_TO_RAD:h},l.default.prototype._toDegrees=function(h){return this._angleMode===x.RADIANS?h*x.RAD_TO_DEG:h},l.default.prototype._fromRadians=function(h){return this._angleMode===x.DEGREES?h*x.RAD_TO_DEG:h},l.default.prototype._fromDegrees=function(h){return this._angleMode===x.RADIANS?h*x.DEG_TO_RAD:h};var D=l.default;g.default=D},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(a,r,g){a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(a=a("../core/main"))&&a.__esModule?a:{default:a};f.default.prototype.textAlign=function(m,l){var x;return f.default._validateParameters("textAlign",arguments),(x=this._renderer).textAlign.apply(x,arguments)},f.default.prototype.textLeading=function(m){var l;return f.default._validateParameters("textLeading",arguments),(l=this._renderer).textLeading.apply(l,arguments)},f.default.prototype.textSize=function(m){var l;return f.default._validateParameters("textSize",arguments),(l=this._renderer).textSize.apply(l,arguments)},f.default.prototype.textStyle=function(m){var l;return f.default._validateParameters("textStyle",arguments),(l=this._renderer).textStyle.apply(l,arguments)},f.default.prototype.textWidth=function(){for(var m=arguments.length,l=new Array(m),x=0;x<m;x++)l[x]=arguments[x];if(l[0]+="",f.default._validateParameters("textWidth",l),l[0].length===0)return 0;for(var S=l[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),D=[],h=0;h<S.length;h++)D.push(this._renderer.textWidth(S[h]));return Math.max.apply(Math,D)},f.default.prototype.textAscent=function(){for(var m=arguments.length,l=new Array(m),x=0;x<m;x++)l[x]=arguments[x];return f.default._validateParameters("textAscent",l),this._renderer.textAscent()},f.default.prototype.textDescent=function(){for(var m=arguments.length,l=new Array(m),x=0;x<m;x++)l[x]=arguments[x];return f.default._validateParameters("textDescent",l),this._renderer.textDescent()},f.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},f.default.prototype.textWrap=function(m){return f.default._validateParameters("textWrap",[m]),this._renderer.textWrap(m)},a=f.default,g.default=a},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(a,r,g){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(o)}function m(o){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(p){return f(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":f(p)})(o)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.last-index-of"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.split"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.last-index-of"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.split"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(_=a("../core/main"))&&_.__esModule?_:{default:_},x=h(a("../core/constants")),S=h(a("opentype.js"));function D(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,D=function(){return o},o)}function h(o){if(o&&o.__esModule)return o;if(o===null||m(o)!=="object"&&typeof o!="function")return{default:o};var p=D();if(p&&p.has(o))return p.get(o);var b,y,A={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in o)Object.prototype.hasOwnProperty.call(o,b)&&((y=E?Object.getOwnPropertyDescriptor(o,b):null)&&(y.get||y.set)?Object.defineProperty(A,b,y):A[b]=o[b]);return A.default=o,p&&p.set(o,A),A}a("../core/friendly_errors/validate_params"),a("../core/friendly_errors/file_errors"),a("../core/friendly_errors/fes_core"),l.default.prototype.loadFont=function(o,p,b){l.default._validateParameters("loadFont",arguments);var y=new l.default.Font(this),A=this;return S.load(o,function(T,O){if(T)return l.default._friendlyFileLoadError(4,o),b!==void 0?b(T):void console.error(T,o);y.font=O,p!==void 0&&p(y),A._decrementPreload();var T=o.split("\\").pop().split("/").pop(),O=T.lastIndexOf("."),j=O<1?null:T.slice(O+1);["ttf","otf","woff","woff2"].includes(j)&&(j=T.slice(0,O!==-1?O:0),(T=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(j,`;
src: url(`).concat(o,`);
}
`))),document.head.appendChild(T))}),y},l.default.prototype.text=function(o,p,b,y,A){var E;return l.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(E=this._renderer).text.apply(E,arguments):this},l.default.prototype.textFont=function(o,p){if(l.default._validateParameters("textFont",arguments),arguments.length){if(o)return this._renderer._setProperty("_textFont",o),p&&(this._renderer._setProperty("_textSize",p),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",p*x._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var _=l.default;g.default=_},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(a,r,g){function f(M){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(M)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.number.to-fixed"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.number.to-fixed"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var m=(m=a("../core/main"))&&m.__esModule?m:{default:m},l=function(M){if(M&&M.__esModule)return M;if(M===null||S(M)!=="object"&&typeof M!="function")return{default:M};var F=x();if(F&&F.has(M))return F.get(M);var B,I={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(B in M){var k;Object.prototype.hasOwnProperty.call(M,B)&&((k=G?Object.getOwnPropertyDescriptor(M,B):null)&&(k.get||k.set)?Object.defineProperty(I,B,k):I[B]=M[B])}return I.default=M,F&&F.set(M,I),I}(a("../core/constants"));function x(){var M;return typeof WeakMap!="function"?null:(M=new WeakMap,x=function(){return M},M)}function S(M){return(S=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(F){return f(F)}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":f(F)})(M)}function D(M,F){for(var B=0;B<F.length;B++){var I=F[B];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,I.key,I)}}function h(M,F){var B=M.length;return M[F<0?F%B+B:F%B]}function _(M,F,B,I){var G,k,V;return I?(_.tmpPoint1===void 0&&(_.tmpPoint1=[],_.tmpPoint2=[]),k=_.tmpPoint1,V=_.tmpPoint2,k.x=F.x-M.x,k.y=F.y-M.y,V.x=B.x-F.x,V.y=B.y-F.y,G=k.x*V.x+k.y*V.y,k=Math.sqrt(k.x*k.x+k.y*k.y),V=Math.sqrt(V.x*V.x+V.y*V.y),Math.acos(G/(k*V))<I):(F[0]-M[0])*(B[1]-M[1])-(B[0]-M[0])*(F[1]-M[1])==0}function o(W,te,Y,ce,oe,k,V,R,U){var L=1-U,X=Math.pow(L,3),Z=Math.pow(L,2),$=U*U,J=$*U,H=X*W+3*Z*U*Y+3*L*U*U*oe+J*V,X=X*te+3*Z*U*ce+3*L*U*U*k+J*R,Z=W+2*U*(Y-W)+$*(oe-2*Y+W),J=te+2*U*(ce-te)+$*(k-2*ce+te),K=Y+2*U*(oe-Y)+$*(V-2*oe+Y),$=ce+2*U*(k-ce)+$*(R-2*k+ce),W=L*W+U*Y,Y=L*te+U*ce,te=L*oe+U*V,ce=L*k+U*R,oe=90-180*Math.atan2(Z-K,J-$)/Math.PI;return(K<Z||J<$)&&(oe+=180),{x:H,y:X,m:{x:Z,y:J},n:{x:K,y:$},start:{x:W,y:Y},end:{x:te,y:ce},alpha:oe}}function p(M,F,B,I,G,k,V,R,U){return U==null?O(M,F,B,I,G,k,V,R):o(M,F,B,I,G,k,V,R,function(L,H,X,Z,J,K,$,W,Y){if(!(Y<0||O(L,H,X,Z,J,K,$,W)<Y)){var te,ce=.5,oe=1-ce;for(te=O(L,H,X,Z,J,K,$,W,oe);.01<Math.abs(te-Y);)te=O(L,H,X,Z,J,K,$,W,oe+=(te<Y?1:-1)*(ce/=2));return oe}}(M,F,B,I,G,k,V,R,U))}function b(M,F,B){for(var I,G,k,V,R,U=0,L=0,H=(M=function(X,Z){function J(ne,re,de){var xe,Pe;if(!ne)return["C",re.x,re.y,re.x,re.y,re.x,re.y];switch(ne[0]in{T:1,Q:1}||(re.qx=re.qy=null),ne[0]){case"M":re.X=ne[1],re.Y=ne[2];break;case"A":ne=["C"].concat(A.apply(0,[re.x,re.y].concat(ne.slice(1))));break;case"S":Pe=de==="C"||de==="S"?(xe=2*re.x-re.bx,2*re.y-re.by):(xe=re.x,re.y),ne=["C",xe,Pe].concat(ne.slice(1));break;case"T":de==="Q"||de==="T"?(re.qx=2*re.x-re.qx,re.qy=2*re.y-re.qy):(re.qx=re.x,re.qy=re.y),ne=["C"].concat(T(re.x,re.y,re.qx,re.qy,ne[1],ne[2]));break;case"Q":re.qx=ne[1],re.qy=ne[2],ne=["C"].concat(T(re.x,re.y,ne[1],ne[2],ne[3],ne[4]));break;case"L":ne=["C"].concat(N(re.x,re.y,ne[1],ne[2]));break;case"H":ne=["C"].concat(N(re.x,re.y,ne[1],re.y));break;case"V":ne=["C"].concat(N(re.x,re.y,re.x,ne[1]));break;case"Z":ne=["C"].concat(N(re.x,re.y,re.X,re.Y))}return ne}function K(ne,re){if(7<ne[re].length){ne[re].shift();for(var de=ne[re];de.length;)ue[re]="A",te&&(Ce[re]="A"),ne.splice(re++,0,["C"].concat(de.splice(0,6)));ne.splice(re,1),W=Math.max(Y.length,te&&te.length||0)}}function $(ne,re,de,xe,Pe){ne&&re&&ne[Pe][0]==="M"&&re[Pe][0]!=="M"&&(re.splice(Pe,0,["M",xe.x,xe.y]),de.bx=0,de.by=0,de.x=ne[Pe][1],de.y=ne[Pe][2],W=Math.max(Y.length,te&&te.length||0))}var W,Y=y(X),te=Z&&y(Z),ce={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},oe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ue=[],Ce=[],le="",ye="";W=Math.max(Y.length,te&&te.length||0);for(var ve=0;ve<W;ve++){(le=Y[ve]?Y[ve][0]:le)!=="C"&&(ue[ve]=le,ve&&(ye=ue[ve-1])),Y[ve]=J(Y[ve],ce,ye),ue[ve]!=="A"&&le==="C"&&(ue[ve]="C"),K(Y,ve),te&&((le=te[ve]?te[ve][0]:le)!=="C"&&(Ce[ve]=le,ve&&(ye=Ce[ve-1])),te[ve]=J(te[ve],oe,ye),Ce[ve]!=="A"&&le==="C"&&(Ce[ve]="C"),K(te,ve)),$(Y,te,ce,oe,ve),$(te,Y,oe,ce,ve);var pe=Y[ve],be=te&&te[ve],Ne=pe.length,he=te&&be.length;ce.x=pe[Ne-2],ce.y=pe[Ne-1],ce.bx=parseFloat(pe[Ne-4])||ce.x,ce.by=parseFloat(pe[Ne-3])||ce.y,oe.bx=te&&(parseFloat(be[he-4])||oe.x),oe.by=te&&(parseFloat(be[he-3])||oe.y),oe.x=te&&be[he-2],oe.y=te&&be[he-1]}return te?[Y,te]:Y}(M)).length;L<H;L++){if((k=M[L])[0]==="M")I=+k[1],G=+k[2];else{if(F<U+(V=p(I,G,k[1],k[2],k[3],k[4],k[5],k[6]))&&!B)return{x:(R=p(I,G,k[1],k[2],k[3],k[4],k[5],k[6],F-U)).x,y:R.y,alpha:R.alpha};U+=V,I=+k[5],G=+k[6]}k.shift()}return R=(R=B?U:o(I,G,k[0],k[1],k[2],k[3],k[4],k[5],1)).alpha?{x:R.x,y:R.y,alpha:R.alpha}:R}function y(M){var F=[],B=0,I=0,G=0,k=0,V=0;if(M){M[0][0]==="M"&&(G=B=+M[0][1],k=I=+M[0][2],V++,F[0]=["M",B,I]);for(var R,U,L=M.length===3&&M[0][0]==="M"&&M[1][0].toUpperCase()==="R"&&M[2][0].toUpperCase()==="Z",H=V,X=M.length;H<X;H++){if(F.push(R=[]),(U=M[H])[0]!==U[0].toUpperCase())switch(R[0]=U[0].toUpperCase(),R[0]){case"A":R[1]=U[1],R[2]=U[2],R[3]=U[3],R[4]=U[4],R[5]=U[5],R[6]=+(U[6]+B),R[7]=+(U[7]+I);break;case"V":R[1]=+U[1]+I;break;case"H":R[1]=+U[1]+B;break;case"R":for(var Z,J=2,K=(Z=[B,I].concat(U.slice(1))).length;J<K;J++)Z[J]=+Z[J]+B,Z[++J]=+Z[J]+I;F.pop(),F=F.concat(E(Z,L));break;case"M":G=+U[1]+B,k=+U[2]+I;break;default:for(var $=1,W=U.length;$<W;$++)R[$]=+U[$]+($%2?B:I)}else if(U[0]==="R")Z=[B,I].concat(U.slice(1)),F.pop(),F=F.concat(E(Z,L)),R=["R"].concat(U.slice(-2));else for(var Y=0,te=U.length;Y<te;Y++)R[Y]=U[Y];switch(R[0]){case"Z":B=G,I=k;break;case"H":B=R[1];break;case"V":I=R[1];break;case"M":G=R[R.length-2],k=R[R.length-1];break;default:B=R[R.length-2],I=R[R.length-1]}}}return F}function A(M,F,B,I,te,ue,ce,R,U,L){function H(he,ne,re){return{x:he*Math.cos(re)-ne*Math.sin(re),y:he*Math.sin(re)+ne*Math.cos(re)}}var X,W=Math.PI,Y=120*W/180,Z=W/180*(+te||0),J=[],K=(L?(ve=L[0],X=L[1],le=L[2],ye=L[3]):(M=(oe=H(M,F,-Z)).x,F=oe.y,1<(K=($=(M-(R=(oe=H(R,U,-Z)).x))/2)*$/(B*B)+(oe=(F-(U=oe.y))/2)*oe/(I*I))&&(B*=K=Math.sqrt(K),I*=K),K=B*B,Ce=I*I,le=(ue=(ue===ce?-1:1)*Math.sqrt(Math.abs((K*Ce-K*oe*oe-Ce*$*$)/(K*oe*oe+Ce*$*$))))*B*oe/I+(M+R)/2,ye=ue*-I*$/B+(F+U)/2,ve=Math.asin(((F-ye)/I).toFixed(9)),X=Math.asin(((U-ye)/I).toFixed(9)),(ve=M<le?W-ve:ve)<0&&(ve=2*W+ve),(X=R<le?W-X:X)<0&&(X=2*W+X),ce&&X<ve&&(ve-=2*W),!ce&&ve<X&&(X-=2*W)),X-ve),$=(Math.abs(K)>Y&&(Ce=X,oe=R,ue=U,X=ve+Y*(ce&&ve<X?1:-1),J=A(R=le+B*Math.cos(X),U=ye+I*Math.sin(X),B,I,te,0,ce,oe,ue,[X,Ce,le,ye])),K=X-ve,Math.cos(ve)),W=Math.sin(ve),Y=Math.cos(X),te=Math.sin(X),ce=Math.tan(K/4),oe=4/3*B*ce,ue=4/3*I*ce,Ce=[M,F],le=[M+oe*W,F-ue*$],ye=[R+oe*te,U-ue*Y],ve=[R,U];if(le[0]=2*Ce[0]-le[0],le[1]=2*Ce[1]-le[1],L)return[le,ye,ve].concat(J);for(var pe=[],be=0,Ne=(J=[le,ye,ve].concat(J).join().split(",")).length;be<Ne;be++)pe[be]=be%2?H(J[be-1],J[be],Z).y:H(J[be],J[be+1],Z).x;return pe}function E(M,F){for(var B=[],I=0,G=M.length;I<G-2*!F;I+=2){var k=[{x:+M[I-2],y:+M[I-1]},{x:+M[I],y:+M[I+1]},{x:+M[I+2],y:+M[I+3]},{x:+M[I+4],y:+M[I+5]}];F?I?G-4===I?k[3]={x:+M[0],y:+M[1]}:G-2===I&&(k[2]={x:+M[0],y:+M[1]},k[3]={x:+M[2],y:+M[3]}):k[0]={x:+M[G-2],y:+M[G-1]}:G-4===I?k[3]=k[2]:I||(k[0]={x:+M[I],y:+M[I+1]}),B.push(["C",(-k[0].x+6*k[1].x+k[2].x)/6,(-k[0].y+6*k[1].y+k[2].y)/6,(k[1].x+6*k[2].x-k[3].x)/6,(k[1].y+6*k[2].y-k[3].y)/6,k[2].x,k[2].y])}return B}function N(M,F,B,I){return[M,F,B,I,B,I]}function T(M,F,B,I,G,k){return[1/3*M+2/3*B,1/3*F+2/3*I,1/3*G+2/3*B,1/3*k+2/3*I,G,k]}function O(M,F,B,I,G,k,V,R,U){for(var L=(U=1<(U=U??1)?1:U<0?0:U)/2,H=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],X=0,Z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],J=0;J<12;J++){var $=L*H[J]+L,K=j($,M,B,G,V),$=j($,F,I,k,R);X+=Z[J]*Math.sqrt(K*K+$*$)}return L*X}function j(M,F,B,I,G){return M*(M*(-3*F+9*B-9*I+3*G)+6*F-12*B+6*I)-3*F+3*B}m.default.Font=function(){function M(I){if(!(this instanceof M))throw new TypeError("Cannot call a class as a function");this.parent=I,this.cache={},this.font=void 0}var F,B;return F=M,(B=[{key:"textBounds",value:function(I){var G=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,L=3<arguments.length?arguments[3]:void 0,V=4<arguments.length?arguments[4]:void 0,R=V&&V.renderer&&V.renderer._pInst||this.parent,U=R._renderer.drawingContext,L=(U.textAlign||l.LEFT,U.textBaseline||l.BASELINE,L||R._renderer._textSize);if(!oe){for(var H=[],X=[],Z=[],J=(Z[0]=[],[]),K=this._scale(L),$=R._renderer.textLeading(),W=0,Y=(this.font.forEachGlyph(I,G,k,L,V,function(le,ye,ve,pe){var be=le.getMetrics();le.index===0?Z[W+=1]=[]:(Z[W].push(ye+be.xMin*K),Z[W].push(ye+be.xMax*K),J.push(ve+W*$+-be.yMin*K),J.push(ve+W*$+-be.yMax*K))}),0<Z[W].length&&(H[W]=Math.min.apply(null,Z[W]),X[W]=Math.max.apply(null,Z[W])),0),te=0;te<=W;te++){H[te]=Math.min.apply(null,Z[te]),X[te]=Math.max.apply(null,Z[te]);var ce=X[te]-H[te];Y<ce&&(Y=ce)}var U=Math.min.apply(null,H),oe={x:U,y:k=Math.min.apply(null,J),h:Math.max.apply(null,J)-k,w:Y,advance:U-G},L=this._handleAlignment(R._renderer,I,oe.x,oe.y,oe.w+oe.advance);oe.x=L.x,oe.y=L.y}return oe}},{key:"textToPoints",value:function(I,G,k,V,R){var U,L=G,H=[],X=this.parent,Z=I.split(/\r?\n|\r|\n/g);V=V||this.parent._renderer._textSize;for(var J,K,$,W=0;W<Z.length;W++){var Y=0;G=L;for(var te=(te=Z[W]).replace("	","  "),ce=this._getGlyphs(te),oe=0;oe<ce.length;oe++){if(K=te,!(($=ce)[J=oe].name&&$[J].name==="space"||K.length===$.length&&K[J]===" "))for(var ue=function(ve){for(var pe,be=[],Ne=0;Ne<ve.length;Ne++)ve[Ne].type==="M"&&(pe&&be.push(pe),pe=[]),pe.push(function(he){var ne=[he.type];return he.type==="M"||he.type==="L"?ne.push(he.x,he.y):he.type==="C"?ne.push(he.x1,he.y1,he.x2,he.y2,he.x,he.y):he.type==="Q"&&ne.push(he.x1,he.y1,he.x,he.y),ne}(ve[Ne]));return be.push(pe),be}(ce[oe].getPath(G,k,V).commands),Ce=0;Ce<ue.length;Ce++)for(var le=function(ve,pe){for(var pe=function(de,xe){if(S(de)!=="object")de=xe;else for(var Pe in xe)de[Pe]===void 0&&(de[Pe]=xe[Pe]);return de}(pe,{sampleFactor:.1,simplifyThreshold:0}),be=b(ve,0,1),Ne=be/(be*pe.sampleFactor),he=[],ne=0;ne<be;ne+=Ne)he.push(b(ve,ne));return pe.simplifyThreshold&&function(re){for(var de=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,xe=0,Pe=re.length-1;3<re.length&&0<=Pe;--Pe)_(h(re,Pe-1),h(re,Pe),h(re,Pe+1),de)&&(re.splice(Pe%re.length,1),xe++)}(he,pe.simplifyThreshold),he}(ue[Ce],R),ye=0;ye<le.length;ye++)le[ye].x+=Y,U=this._handleAlignment(X._renderer,te,le[ye].x,le[ye].y),le[ye].x=U.x,le[ye].y=U.y,H.push(le[ye]);Y+=ce[oe].advanceWidth*this._scale(V)}k+=this.parent._renderer._textLeading}return H}},{key:"_getGlyphs",value:function(I){return this.font.stringToGlyphs(I)}},{key:"_getPath",value:function(I,U,k,V){var R=(V&&V.renderer&&V.renderer._pInst||this.parent)._renderer,U=this._handleAlignment(R,I,U,k);return this.font.getPath(I,U.x,U.y,R._textSize,V)}},{key:"_getPathData",value:function(I,G,k,V){var R=3;return typeof I=="string"&&2<arguments.length?I=this._getPath(I,G,k,V):S(G)==="object"&&(V=G),V&&typeof V.decimals=="number"&&(R=V.decimals),I.toPathData(R)}},{key:"_getSVG",value:function(I,G,k,V){var R=3;return typeof I=="string"&&2<arguments.length?I=this._getPath(I,G,k,V):S(G)==="object"&&(V=G),V&&(typeof V.decimals=="number"&&(R=V.decimals),typeof V.strokeWidth=="number"&&(I.strokeWidth=V.strokeWidth),V.fill!==void 0&&(I.fill=V.fill),V.stroke!==void 0&&(I.stroke=V.stroke)),I.toSVG(R)}},{key:"_renderPath",value:function(L,X,Z,V){var R=V&&V.renderer||this.parent._renderer,U=R.drawingContext,L=(S(L)==="object"&&L.commands?L:this._getPath(L,X,Z,V)).commands,H=(R._clipping||U.beginPath(),!0),X=!1,Z=void 0;try{for(var J,K=L[Symbol.iterator]();!(H=(J=K.next()).done);H=!0){var $=J.value;$.type==="M"?U.moveTo($.x,$.y):$.type==="L"?U.lineTo($.x,$.y):$.type==="C"?U.bezierCurveTo($.x1,$.y1,$.x2,$.y2,$.x,$.y):$.type==="Q"?U.quadraticCurveTo($.x1,$.y1,$.x,$.y):$.type==="Z"&&U.closePath()}}catch(W){X=!0,Z=W}finally{try{H||K.return==null||K.return()}finally{if(X)throw Z}}return R._doStroke&&R._strokeSet&&!R._clipping&&U.stroke(),R._doFill&&!R._clipping&&(R._fillSet||R._setFill(l._DEFAULT_TEXT_FILL),U.fill()),this}},{key:"_textWidth",value:function(I,G){return this.font.getAdvanceWidth(I,G)}},{key:"_textAscent",value:function(I){return this.font.ascender*this._scale(I)}},{key:"_textDescent",value:function(I){return-this.font.descender*this._scale(I)}},{key:"_scale",value:function(I){return 1/this.font.unitsPerEm*(I||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(I,G,k,V,R){var U=I._textSize;switch(R===void 0&&(R=this._textWidth(G,U)),I._textAlign){case l.CENTER:k-=R/2;break;case l.RIGHT:k-=R}switch(I._textBaseline){case l.TOP:V+=this._textAscent(U);break;case l.CENTER:V+=this._textAscent(U)/2;break;case l.BOTTOM:V-=this._textDescent(U)}return{x:k,y:V}}}])&&D(F.prototype,B),M}(),a=m.default,g.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(a,r,g){a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.array-buffer.constructor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.array-buffer.constructor"),a("core-js/modules/es.object.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a},a.default.prototype.append=function(f,m){return f.push(m),f},a.default.prototype.arrayCopy=function(f,m,l,x,S){var D,h;f=S!==void 0?(h=Math.min(S,f.length),D=x,f.slice(m,h+m)):(h=l!==void 0?(h=l,Math.min(h,f.length)):f.length,l=m,f.slice(D=0,h)),Array.prototype.splice.apply(l,[D,h].concat(f))},a.default.prototype.concat=function(f,m){return f.concat(m)},a.default.prototype.reverse=function(f){return f.reverse()},a.default.prototype.shorten=function(f){return f.pop(),f},a.default.prototype.shuffle=function(f,m){for(var l,x,S=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(f),D=(f=m||S?f:f.slice()).length;1<D;)l=this.random(0,1)*D|0,x=f[--D],f[D]=f[l],f[l]=x;return f},a.default.prototype.sort=function(f,x){var l=x?f.slice(0,Math.min(x,f.length)):f,x=x?f.slice(Math.min(x,f.length)):[];return(l=typeof l[0]=="string"?l.sort():l.sort(function(S,D){return S-D})).concat(x)},a.default.prototype.splice=function(f,m,l){return Array.prototype.splice.apply(f,[l,0].concat(m)),f},a.default.prototype.subset=function(f,m,l){return l!==void 0?f.slice(m,m+l):f.slice(m,f.length)},a=a.default,g.default=a},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(a,r,g){a("core-js/modules/es.array.map"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.repeat"),a("core-js/modules/es.array.map"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.repeat"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(a=a("../core/main"))&&a.__esModule?a:{default:a};f.default.prototype.float=function(m){return m instanceof Array?m.map(parseFloat):parseFloat(m)},f.default.prototype.int=function(m){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return m===1/0||m==="Infinity"?1/0:m===-1/0||m==="-Infinity"?-1/0:typeof m=="string"?parseInt(m,l):typeof m=="number"?0|m:typeof m=="boolean"?m?1:0:m instanceof Array?m.map(function(x){return f.default.prototype.int(x,l)}):void 0},f.default.prototype.str=function(m){return m instanceof Array?m.map(f.default.prototype.str):String(m)},f.default.prototype.boolean=function(m){return typeof m=="number"?m!==0:typeof m=="string"?m.toLowerCase()==="true":typeof m=="boolean"?m:m instanceof Array?m.map(f.default.prototype.boolean):void 0},f.default.prototype.byte=function(m){return m=f.default.prototype.int(m,10),typeof m=="number"?(m+128)%256-128:m instanceof Array?m.map(f.default.prototype.byte):void 0},f.default.prototype.char=function(m){return typeof m!="number"||isNaN(m)?m instanceof Array?m.map(f.default.prototype.char):typeof m=="string"?f.default.prototype.char(parseInt(m,10)):void 0:String.fromCharCode(m)},f.default.prototype.unchar=function(m){return typeof m=="string"&&m.length===1?m.charCodeAt(0):m instanceof Array?m.map(f.default.prototype.unchar):void 0},f.default.prototype.hex=function(m,l){if(l=l??8,m instanceof Array)return m.map(function(S){return f.default.prototype.hex(S,l)});if(m===1/0||m===-1/0)return(m===1/0?"F":"0").repeat(l);if(typeof m=="number"){m<0&&(m=4294967295+m+1);for(var x=Number(m).toString(16).toUpperCase();x.length<l;)x="0".concat(x);return x=x.length>=l?x.substring(x.length-l,x.length):x}},f.default.prototype.unhex=function(m){return m instanceof Array?m.map(f.default.prototype.unhex):parseInt("0x".concat(m),16)},a=f.default,g.default=a},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(a,r,g){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.number.to-fixed"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.pad-start"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.number.to-fixed"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.pad-start"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(h=a("../core/main"))&&h.__esModule?h:{default:h};function m(_,o){return function(p){if(Array.isArray(p))return p}(_)||function(p,b){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]"){var y=[],A=!0,E=!1,N=void 0;try{for(var T,O=p[Symbol.iterator]();!(A=(T=O.next()).done)&&(y.push(T.value),!b||y.length!==b);A=!0);}catch(j){E=!0,N=j}finally{try{A||O.return==null||O.return()}finally{if(E)throw N}}return y}}(_,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(_,o,p){var b,y=_<0,E=m((_=Math.abs(_)).toString().split("."),2),A=E[0],E=E[1];return p===void 0?(A=A.padStart(o,"0"),b=E?A+"."+E:A,y?"-"+b:b):(A=(b=m(_.toFixed(p).toString().split("."),2))[0],E=b[1],A=A.padStart(o,"0"),_=E===void 0?A:A+"."+E,y?"-"+_:_)}function x(y,o){var p=(y=y.toString()).indexOf("."),b=p!==-1?y.substring(p):"",y=(y=p!==-1?y.substring(0,p):y).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(o===0)b="";else if(o!==void 0)if(o>b.length)for(var A=o-(b+=p===-1?".":"").length+1,E=0;E<A;E++)b+="0";else b=b.substring(0,o+1);return y+b}function S(_){return 0<parseFloat(_)?"+".concat(_.toString()):_.toString()}function D(_){return 0<=parseFloat(_)?" ".concat(_.toString()):_.toString()}a("../core/friendly_errors/validate_params"),a("../core/friendly_errors/file_errors"),a("../core/friendly_errors/fes_core"),f.default.prototype.join=function(_,o){return f.default._validateParameters("join",arguments),_.join(o)},f.default.prototype.match=function(_,o){return f.default._validateParameters("match",arguments),_.match(o)},f.default.prototype.matchAll=function(_,o){f.default._validateParameters("matchAll",arguments);for(var p=new RegExp(o,"g"),b=p.exec(_),y=[];b!==null;)y.push(b),b=p.exec(_);return y},f.default.prototype.nf=function(_,o,p){return f.default._validateParameters("nf",arguments),_ instanceof Array?_.map(function(b){return l(b,o,p)}):Object.prototype.toString.call(_)==="[object Arguments]"?_.length===3?this.nf(_[0],_[1],_[2]):_.length===2?this.nf(_[0],_[1]):this.nf(_[0]):l(_,o,p)},f.default.prototype.nfc=function(_,o){return f.default._validateParameters("nfc",arguments),_ instanceof Array?_.map(function(p){return x(p,o)}):x(_,o)},f.default.prototype.nfp=function(){for(var _=arguments.length,o=new Array(_),p=0;p<_;p++)o[p]=arguments[p];f.default._validateParameters("nfp",o);var b=f.default.prototype.nf.apply(this,o);return b instanceof Array?b.map(S):S(b)},f.default.prototype.nfs=function(){for(var _=arguments.length,o=new Array(_),p=0;p<_;p++)o[p]=arguments[p];f.default._validateParameters("nfs",o);var b=f.default.prototype.nf.apply(this,o);return b instanceof Array?b.map(D):D(b)},f.default.prototype.split=function(_,o){return f.default._validateParameters("split",arguments),_.split(o)},f.default.prototype.splitTokens=function(_,o){var p,b;return f.default._validateParameters("splitTokens",arguments),b=o!==void 0?(b=/\]/g.exec(o=o),(p=/\[/g.exec(o))&&b?(o=o.slice(0,b.index)+o.slice(b.index+1),p=/\[/g.exec(o),o=o.slice(0,p.index)+o.slice(p.index+1),new RegExp("[\\[".concat(o,"\\]]"),"g")):b?(o=o.slice(0,b.index)+o.slice(b.index+1),new RegExp("[".concat(o,"\\]]"),"g")):p?(o=o.slice(0,p.index)+o.slice(p.index+1),new RegExp("[".concat(o,"\\[]"),"g")):new RegExp("[".concat(o,"]"),"g")):/\s/g,_.split(b).filter(function(y){return y})},f.default.prototype.trim=function(_){return f.default._validateParameters("trim",arguments),_ instanceof Array?_.map(this.trim):_.trim()};var h=f.default;g.default=h},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(a,r,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a},a.default.prototype.day=function(){return new Date().getDate()},a.default.prototype.hour=function(){return new Date().getHours()},a.default.prototype.minute=function(){return new Date().getMinutes()},a.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},a.default.prototype.month=function(){return new Date().getMonth()+1},a.default.prototype.second=function(){return new Date().getSeconds()},a.default.prototype.year=function(){return new Date().getFullYear()},a=a.default,g.default=a},{"../core/main":283}],326:[function(a,r,g){function f(_){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(_)}function m(_){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(o){return f(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":f(o)})(_)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.math.hypot"),a("core-js/modules/es.math.sign"),a("core-js/modules/es.number.to-fixed"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.math.hypot"),a("core-js/modules/es.math.sign"),a("core-js/modules/es.number.to-fixed"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(h=a("../core/main"))&&h.__esModule?h:{default:h},x=(a("./p5.Geometry"),function(_){if(_&&_.__esModule)return _;if(_===null||m(_)!=="object"&&typeof _!="function")return{default:_};var o=S();if(o&&o.has(_))return o.get(_);var p,b={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in _){var A;Object.prototype.hasOwnProperty.call(_,p)&&((A=y?Object.getOwnPropertyDescriptor(_,p):null)&&(A.get||A.set)?Object.defineProperty(b,p,A):b[p]=_[p])}return b.default=_,o&&o.set(_,b),b}(a("../core/constants")));function S(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,S=function(){return _},_)}l.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},l.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},l.default.prototype.buildGeometry=function(_){return this._renderer.buildGeometry(_)},l.default.prototype.freeGeometry=function(_){this._renderer._freeBuffers(_.gid)},l.default.prototype.plane=function(){var _,o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o,b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,A=(this._assert3d("plane"),l.default._validateParameters("plane",arguments),"plane|".concat(b,"|").concat(y));return this._renderer.geometryInHash(A)||((_=new l.default.Geometry(b,y,function(){for(var E,N,T=0;T<=this.detailY;T++)for(var O=T/this.detailY,j=0;j<=this.detailX;j++)E=j/this.detailX,N=new l.default.Vector(E-.5,O-.5,0),this.vertices.push(N),this.uvs.push(E,O)})).computeFaces().computeNormals(),b<=1&&y<=1?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(A,_)),this._renderer.drawBuffersScaled(A,o,p,1),this},l.default.prototype.box=function(_,o,p,b,y){this._assert3d("box"),l.default._validateParameters("box",arguments),_===void 0&&(_=50),o===void 0&&(o=_),p===void 0&&(p=o);var A,E=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,E=(y===void 0&&(y=E?1:4),"box|".concat(b=b===void 0?E?1:4:b,"|").concat(y));return this._renderer.geometryInHash(E)||((A=new l.default.Geometry(b,y,function(){var N=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(T,O){for(var O=4*O,j=0;j<4;j++){var M=T[j],M=new l.default.Vector((2*(1&M)-1)/2,((2&M)-1)/2,((4&M)/2-1)/2);N.vertices.push(M),N.uvs.push(1&j,(2&j)/2)}N.faces.push([O,1+O,2+O]),N.faces.push([2+O,1+O,3+O])})})).computeNormals(),b<=4&&y<=4?A._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(E,A)),this._renderer.drawBuffersScaled(E,_,o,p),this},l.default.prototype.sphere=function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),l.default._validateParameters("sphere",arguments),this.ellipsoid(_,_,_,o,p),this};function D(_,o,p,b,y,A,E){_=_<=0?1:_,o=o<0?0:o,p=p<=0?_:p,b=b<3?3:b;for(var N,T,O=(A=A===void 0||A)?-2:0,j=(y=y<1?1:y)+((E=E===void 0?o!==0:E)?2:0),M=Math.atan2(_-o,p),F=Math.sin(M),B=Math.cos(M),I=O;I<=j;++I){var G=I/y,k=p*G,V=void 0,V=I<0?(G=k=0,_):y<I?(k=p,G=1,o):_+(o-_)*G;for(I!==-2&&I!==y+2||(V=0),k-=p/2,N=0;N<b;++N){var R=N/(b-1),L=2*Math.PI*R,U=Math.sin(L),L=Math.cos(L),H=(this.vertices.push(new l.default.Vector(U*V,k,L*V)),void 0),H=I<0?new l.default.Vector(0,-1,0):y<I&&o?new l.default.Vector(0,1,0):new l.default.Vector(U*B,F,L*B);this.vertexNormals.push(H),this.uvs.push(R,G)}}var X=0;if(A){for(T=0;T<b;++T)this.faces.push([X+T,X+b+(T+1)%b,X+b+T]);X+=2*b}for(I=0;I<y;++I){for(N=0;N<b;++N){var Z=(N+1)%b;this.faces.push([X+N,X+Z,X+b+Z]),this.faces.push([X+N,X+b+Z,X+b+N])}X+=b}if(E)for(X+=b,N=0;N<b;++N)this.faces.push([X+N,X+(N+1)%b,X+b])}l.default.prototype.cylinder=function(){var _,o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o,b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,A=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],E=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],N=(this._assert3d("cylinder"),l.default._validateParameters("cylinder",arguments),"cylinder|".concat(b,"|").concat(y,"|").concat(A,"|").concat(E));return this._renderer.geometryInHash(N)||(_=new l.default.Geometry(b,y),D.call(_,1,1,1,b,y,A,E),b<=24&&y<=16?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(N,_)),this._renderer.drawBuffersScaled(N,o,p,o),this},l.default.prototype.cone=function(){var _,o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o,b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,A=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],E=(this._assert3d("cone"),l.default._validateParameters("cone",arguments),"cone|".concat(b,"|").concat(y,"|").concat(A));return this._renderer.geometryInHash(E)||(_=new l.default.Geometry(b,y),D.call(_,1,0,1,b,y,A,!1),b<=24&&y<=16?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(E,_)),this._renderer.drawBuffersScaled(E,o,p,o),this},l.default.prototype.ellipsoid=function(){var _,o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o,b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:o,y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,A=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,E=(this._assert3d("ellipsoid"),l.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(y,"|").concat(A));return this._renderer.geometryInHash(E)||((_=new l.default.Geometry(y,A,function(){for(var N=0;N<=this.detailY;N++)for(var T=N/this.detailY,O=Math.PI*T-Math.PI/2,j=Math.cos(O),M=Math.sin(O),F=0;F<=this.detailX;F++){var B=F/this.detailX,G=2*Math.PI*B,I=Math.cos(G),G=Math.sin(G),G=new l.default.Vector(j*G,M,j*I);this.vertices.push(G),this.vertexNormals.push(G),this.uvs.push(B,T)}})).computeFaces(),y<=24&&A<=24?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(E,_)),this._renderer.drawBuffersScaled(E,o,p,b),this},l.default.prototype.torus=function(_,E,p,b){if(this._assert3d("torus"),l.default._validateParameters("torus",arguments),_===void 0)_=50;else if(!_)return;if(E===void 0)E=10;else if(!E)return;p===void 0&&(p=24),b===void 0&&(b=16);var y,A=(E/_).toPrecision(4),E="torus|".concat(A,"|").concat(p,"|").concat(b);return this._renderer.geometryInHash(E)||((y=new l.default.Geometry(p,b,function(){for(var N=0;N<=this.detailY;N++)for(var T=N/this.detailY,O=2*Math.PI*T,j=Math.cos(O),M=Math.sin(O),F=1+A*j,B=0;B<=this.detailX;B++){var I=B/this.detailX,G=2*Math.PI*I,V=Math.cos(G),G=Math.sin(G),k=new l.default.Vector(F*V,F*G,A*M),V=new l.default.Vector(j*V,j*G,M);this.vertices.push(k),this.vertexNormals.push(V),this.uvs.push(I,T)}})).computeFaces(),p<=24&&b<=16?y._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(E,y)),this._renderer.drawBuffersScaled(E,_,_,_),this},l.default.RendererGL.prototype.point=function(_,o){var p=[];return p.push(new l.default.Vector(_,o,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(p,this.immediateMode.buffers.point),this},l.default.RendererGL.prototype.triangle=function(E){var o=E[0],p=E[1],b=E[2],y=E[3],A=E[4],E=E[5],N=(this.geometryInHash("tri")||((N=new l.default.Geometry(1,1,function(){var j=[];j.push(new l.default.Vector(0,0,0)),j.push(new l.default.Vector(1,0,0)),j.push(new l.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=j,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),N.computeNormals(),this.createBuffers("tri",N)),this.uModelMatrix.copy());try{var T=Math.sign(o*y-b*p+b*E-A*y+A*p-o*E),O=new l.default.Matrix([b-o,y-p,0,0,A-o,E-p,0,0,0,0,T,0,o,p,0,1]).mult(this.uModelMatrix);this.uModelMatrix=O,this.drawBuffers("tri")}finally{this.uModelMatrix=N}return this},l.default.RendererGL.prototype.ellipse=function(_){this.arc(_[0],_[1],_[2],_[3],0,x.TWO_PI,x.OPEN,_[4])},l.default.RendererGL.prototype.arc=function(){var _,o=arguments.length<=0?void 0:arguments[0],p=arguments.length<=1?void 0:arguments[1],b=arguments.length<=2?void 0:arguments[2],y=arguments.length<=3?void 0:arguments[3],A=arguments.length<=4?void 0:arguments[4],E=arguments.length<=5?void 0:arguments[5],N=arguments.length<=6?void 0:arguments[6],T=(arguments.length<=7?void 0:arguments[7])||25,O=(Math.abs(E-A)>=x.TWO_PI?"".concat(j="ellipse","|"):"".concat(j="arc","|").concat(A,"|").concat(E,"|").concat(N,"|")).concat(T,"|"),j=(this.geometryInHash(O)||((_=new l.default.Geometry(T,1,function(){if(A.toFixed(10)!==E.toFixed(10)){N!==x.PIE&&N!==void 0||(this.vertices.push(new l.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var M=0;M<=T;M++){var B=(E-A)*(M/T)+A,F=.5+Math.cos(B)/2,B=.5+Math.sin(B)/2;this.vertices.push(new l.default.Vector(F,B,0)),this.uvs.push([F,B]),M<T-1&&(this.faces.push([0,M+1,M+2]),this.edges.push([M+1,M+2]))}switch(N){case x.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case x.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case x.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),T<=50?_._edgesToVertices(_):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(j," with more than 50 detail")),this.createBuffers(O,_)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([o,p,0]),this.uModelMatrix.scale(b,y,1),this.drawBuffers(O)}finally{this.uModelMatrix=j}return this},l.default.RendererGL.prototype.rect=function(_){var o=_[0],p=_[1],b=_[2],y=_[3];if(_[4]===void 0){var N=this._pInst._glAttributes.perPixelLighting,A=_[4]||(N?1:24),E=_[5]||(N?1:16),N="rect|".concat(A,"|").concat(E),T=(this.geometryInHash(N)||((T=new l.default.Geometry(A,E,function(){for(var H=0;H<=this.detailY;H++)for(var X=H/this.detailY,Z=0;Z<=this.detailX;Z++){var J=Z/this.detailX,K=new l.default.Vector(J,X,0);this.vertices.push(K),this.uvs.push(J,X)}0<A&&0<E&&(this.edges=[[0,A],[A,(A+1)*(E+1)-1],[(A+1)*(E+1)-1,(A+1)*E],[(A+1)*E,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(N,T)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([o,p,0]),this.uModelMatrix.scale(b,y,1),this.drawBuffers(N)}finally{this.uModelMatrix=T}}else{var N=_[4],T=_[5]===void 0?N:_[5],O=_[6]===void 0?T:_[6],_=_[7]===void 0?O:_[7],G=b,j=y,B=((G+=o)<o&&(B=o,o=G,G=B),(j+=p)<p&&(B=p,p=j,j=B),Math.min((G-o)/2,(j-p)/2)),M=(B<N&&(N=B),B<T&&(T=B),B<O&&(O=B),B<_&&(_=B),o),F=p,B=G,o=j,I=(this.beginShape(),T!==0?(this.vertex(B-T,F),this.quadraticVertex(B,F,B,F+T)):this.vertex(B,F),O!==0?(this.vertex(B,o-O),this.quadraticVertex(B,o,B-O,o)):this.vertex(B,o),_!==0?(this.vertex(M+_,o),this.quadraticVertex(M,o,M,o-_)):this.vertex(M,o),N!==0?(this.vertex(M,F+N),this.quadraticVertex(M,F,M+N,F)):this.vertex(M,F),!(this.immediateMode.geometry.uvs.length=0)),p=!1,G=void 0;try{for(var k,V=this.immediateMode.geometry.vertices[Symbol.iterator]();!(I=(k=V.next()).done);I=!0){var R=k.value,U=(R.x-M)/b,L=(R.y-F)/y;this.immediateMode.geometry.uvs.push(U,L)}}catch($){p=!0,G=$}finally{try{I||V.return==null||V.return()}finally{if(p)throw G}}this.endShape(x.CLOSE)}return this},l.default.RendererGL.prototype.quad=function(_,o,p,b,y,A,E,N,T,O,j,M){var F=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,B=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,I="quad|".concat(_,"|").concat(o,"|").concat(p,"|").concat(b,"|").concat(y,"|").concat(A,"|").concat(E,"|").concat(N,"|").concat(T,"|").concat(O,"|").concat(j,"|").concat(M,"|").concat(F,"|").concat(B);if(!this.geometryInHash(I)){var G=new l.default.Geometry(F,B,function(){for(var Z=1/(this.detailX-1),J=1/(this.detailY-1),K=0;K<this.detailY;K++)for(var $=0;$<this.detailX;$++){var W=$*Z,Y=K*J;this.vertices.push(new l.default.Vector((1-W)*((1-Y)*_+Y*O)+W*((1-Y)*b+Y*E),(1-W)*((1-Y)*o+Y*j)+W*((1-Y)*y+Y*N),(1-W)*((1-Y)*p+Y*M)+W*((1-Y)*A+Y*T))),this.uvs.push([W,Y])}});G.faces=[];for(var k=0;k<B-1;k++)for(var V=0;V<F-1;V++){var R=V+k*F,U=V+1+(k+1)*F,L=V+(k+1)*F;G.faces.push([R,V+1+k*F,U]),G.faces.push([R,U,L])}G.computeNormals();for(var H=[G.edges.length=0,2,3,1],X=0;X<H.length;X++)G.edges.push([H[X],H[(X+1)%H.length]]);G._edgesToVertices(),this.createBuffers(I,G)}return this.drawBuffers(I),this},l.default.RendererGL.prototype.bezier=function(_,o,p,b,y,A,E,N,T,O,j,M){arguments.length===8&&(j=N,O=E,N=A,E=y,y=b,b=p,p=A=T=M=0);var F=this._pInst._bezierDetail||20;this.beginShape();for(var B=0;B<=F;B++){var I=Math.pow(1-B/F,3),G=B/F*3*Math.pow(1-B/F,2),k=3*Math.pow(B/F,2)*(1-B/F),V=Math.pow(B/F,3);this.vertex(_*I+b*G+E*k+O*V,o*I+y*G+N*k+j*V,p*I+A*G+T*k+M*V)}return this.endShape(),this},l.default.RendererGL.prototype.curve=function(_,o,p,b,y,A,E,N,T,O,j,M){arguments.length===8&&(O=E,j=N,E=y,N=b,y=b=p,p=A=T=M=0);var F=this._pInst._curveDetail;this.beginShape();for(var B=0;B<=F;B++){var I=.5*Math.pow(B/F,3),G=.5*Math.pow(B/F,2),k=B/F*.5;this.vertex(I*(3*b-_-3*E+O)+G*(2*_-5*b+4*E-O)+k*(-_+E)+2*b*.5,I*(3*y-o-3*N+j)+G*(2*o-5*y+4*N-j)+k*(-o+N)+2*y*.5,I*(3*A-p-3*T+M)+G*(2*p-5*A+4*T-M)+k*(-p+T)+2*A*.5)}return this.endShape(),this},l.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(x.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(x.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},l.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var _,o,p,b,y,A,E=[],N=[],T=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var O=1/this._lutBezierDetail,j=O,M=1,F=0;j<1;){if(A=parseFloat(j.toFixed(6)),this._lookUpTableBezier[F]=this._bezierCoefficients(A),M.toFixed(6)===O.toFixed(6)){A=parseFloat(M.toFixed(6))+parseFloat(j.toFixed(6)),++F,this._lookUpTableBezier[F]=this._bezierCoefficients(A);break}j+=O,M-=O,++F}}for(var B=this._lookUpTableBezier.length,I=[],G=0;G<4;G++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[3]=this.curFillColor.slice();var k=[];for(G=0;G<4;G++)k.push([]);if(k[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),k[3]=this.curStrokeColor.slice(),T===6){this.isBezier=!0;var E=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],N=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],V=Math.hypot(E[0]-E[1],N[0]-N[1]),U=Math.hypot(E[1]-E[2],N[1]-N[2]),R=Math.hypot(E[2]-E[3],N[2]-N[3]),U=V+U+R;for(V/=U,R/=U,y=0;y<4;y++)I[1].push(I[0][y]*(1-V)+I[3][y]*V),I[2].push(I[0][y]*R+I[3][y]*(1-R)),k[1].push(k[0][y]*(1-V)+k[3][y]*V),k[2].push(k[0][y]*R+k[3][y]*(1-R));for(b=0;b<B;b++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],G=_=o=0;G<4;G++){for(y=0;y<4;y++)this.curFillColor[y]+=this._lookUpTableBezier[b][G]*I[G][y],this.curStrokeColor[y]+=this._lookUpTableBezier[b][G]*k[G][y];_+=E[G]*this._lookUpTableBezier[b][G],o+=N[G]*this._lookUpTableBezier[b][G]}this.vertex(_,o)}this.curFillColor=I[3],this.curStrokeColor=k[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(T===9){this.isBezier=!0,E=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],N=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var L=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],H=Math.hypot(E[0]-E[1],N[0]-N[1],L[0]-L[1]),U=Math.hypot(E[1]-E[2],N[1]-N[2],L[1]-L[2]),X=Math.hypot(E[2]-E[3],N[2]-N[3],L[2]-L[3]),T=H+U+X;for(H/=T,X/=T,y=0;y<4;y++)I[1].push(I[0][y]*(1-H)+I[3][y]*H),I[2].push(I[0][y]*X+I[3][y]*(1-X)),k[1].push(k[0][y]*(1-H)+k[3][y]*H),k[2].push(k[0][y]*X+k[3][y]*(1-X));for(b=0;b<B;b++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],G=_=o=p=0;G<4;G++){for(y=0;y<4;y++)this.curFillColor[y]+=this._lookUpTableBezier[b][G]*I[G][y],this.curStrokeColor[y]+=this._lookUpTableBezier[b][G]*k[G][y];_+=E[G]*this._lookUpTableBezier[b][G],o+=N[G]*this._lookUpTableBezier[b][G],p+=L[G]*this._lookUpTableBezier[b][G]}this.vertex(_,o,p)}this.curFillColor=I[3],this.curStrokeColor=k[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},l.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var _,o,p,b,y,A,E=[],N=[],T=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var O=1/this._lutQuadraticDetail,j=O,M=1,F=0;j<1;){if(A=parseFloat(j.toFixed(6)),this._lookUpTableQuadratic[F]=this._quadraticCoefficients(A),M.toFixed(6)===O.toFixed(6)){A=parseFloat(M.toFixed(6))+parseFloat(j.toFixed(6)),++F,this._lookUpTableQuadratic[F]=this._quadraticCoefficients(A);break}j+=O,M-=O,++F}}for(var B=this._lookUpTableQuadratic.length,I=[],G=0;G<3;G++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[2]=this.curFillColor.slice();var k=[];for(G=0;G<3;G++)k.push([]);if(k[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),k[2]=this.curStrokeColor.slice(),T===4){this.isQuadratic=!0;var E=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],N=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],V=Math.hypot(E[0]-E[1],N[0]-N[1]);for(V/=V+Math.hypot(E[1]-E[2],N[1]-N[2]),y=0;y<4;y++)I[1].push(I[0][y]*(1-V)+I[2][y]*V),k[1].push(k[0][y]*(1-V)+k[2][y]*V);for(b=0;b<B;b++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],G=_=o=0;G<3;G++){for(y=0;y<4;y++)this.curFillColor[y]+=this._lookUpTableQuadratic[b][G]*I[G][y],this.curStrokeColor[y]+=this._lookUpTableQuadratic[b][G]*k[G][y];_+=E[G]*this._lookUpTableQuadratic[b][G],o+=N[G]*this._lookUpTableQuadratic[b][G]}this.vertex(_,o)}this.curFillColor=I[2],this.curStrokeColor=k[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(T===6){this.isQuadratic=!0,E=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],N=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var R=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],U=Math.hypot(E[0]-E[1],N[0]-N[1],R[0]-R[1]);for(U/=U+Math.hypot(E[1]-E[2],N[1]-N[2],R[1]-R[2]),y=0;y<4;y++)I[1].push(I[0][y]*(1-U)+I[2][y]*U),k[1].push(k[0][y]*(1-U)+k[2][y]*U);for(b=0;b<B;b++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],G=_=o=p=0;G<3;G++){for(y=0;y<4;y++)this.curFillColor[y]+=this._lookUpTableQuadratic[b][G]*I[G][y],this.curStrokeColor[y]+=this._lookUpTableQuadratic[b][G]*k[G][y];_+=E[G]*this._lookUpTableQuadratic[b][G],o+=N[G]*this._lookUpTableQuadratic[b][G],p+=R[G]*this._lookUpTableQuadratic[b][G]}this.vertex(_,o,p)}this.curFillColor=I[2],this.curStrokeColor=k[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},l.default.RendererGL.prototype.curveVertex=function(){var _,o,p,b,y,A,E=[],N=[],T=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var O=1/this._lutBezierDetail,j=O,M=1,F=0;j<1;){if(A=parseFloat(j.toFixed(6)),this._lookUpTableBezier[F]=this._bezierCoefficients(A),M.toFixed(6)===O.toFixed(6)){A=parseFloat(M.toFixed(6))+parseFloat(j.toFixed(6)),++F,this._lookUpTableBezier[F]=this._bezierCoefficients(A);break}j+=O,M-=O,++F}}var B=this._lookUpTableBezier.length;if(T===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,E=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),N=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),y=0;y<B;y++)o=E[0]*this._lookUpTableBezier[y][0]+E[1]*this._lookUpTableBezier[y][1]+E[2]*this._lookUpTableBezier[y][2]+E[3]*this._lookUpTableBezier[y][3],p=N[0]*this._lookUpTableBezier[y][0]+N[1]*this._lookUpTableBezier[y][1]+N[2]*this._lookUpTableBezier[y][2]+N[3]*this._lookUpTableBezier[y][3],this.vertex(o,p);for(y=0;y<T;y++)this.immediateMode._curveVertex.shift()}}else if(T===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,E=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),N=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),_=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),y=0;y<B;y++)o=E[0]*this._lookUpTableBezier[y][0]+E[1]*this._lookUpTableBezier[y][1]+E[2]*this._lookUpTableBezier[y][2]+E[3]*this._lookUpTableBezier[y][3],p=N[0]*this._lookUpTableBezier[y][0]+N[1]*this._lookUpTableBezier[y][1]+N[2]*this._lookUpTableBezier[y][2]+N[3]*this._lookUpTableBezier[y][3],b=_[0]*this._lookUpTableBezier[y][0]+_[1]*this._lookUpTableBezier[y][1]+_[2]*this._lookUpTableBezier[y][2]+_[3]*this._lookUpTableBezier[y][3],this.vertex(o,p,b);for(y=0;y<T;y++)this.immediateMode._curveVertex.shift()}},l.default.RendererGL.prototype.image=function(_,M,p,F,y,A,E,N,T){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(_),this._pInst.textureMode(x.NORMAL);var O=0,j=(M<=_.width&&(O=M/_.width),1),M=(M+F<=_.width&&(j=(M+F)/_.width),0),F=(p<=_.height&&(M=p/_.height),1);p+y<=_.height&&(F=(p+y)/_.height),this.beginShape(),this.vertex(A,E,0,O,M),this.vertex(A+N,E,0,j,M),this.vertex(A+N,E+T,0,j,F),this.vertex(A,E+T,0,O,F),this.endShape(x.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(x.REMOVE)};var h=l.default;g.default=h},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(a,r,g){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(o)}function m(o){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(p){return f(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":f(p)})(o)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.every"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.every"),a("core-js/modules/es.array.map"),a("core-js/modules/es.object.assign"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(_=a("../core/main"))&&_.__esModule?_:{default:_},x=function(o){if(o&&o.__esModule)return o;if(o===null||m(o)!=="object"&&typeof o!="function")return{default:o};var p=S();if(p&&p.has(o))return p.get(o);var b,y={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in o){var E;Object.prototype.hasOwnProperty.call(o,b)&&((E=A?Object.getOwnPropertyDescriptor(o,b):null)&&(E.get||E.set)?Object.defineProperty(y,b,E):y[b]=o[b])}return y.default=o,p&&p.set(o,y),y}(a("../core/constants"));function S(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,S=function(){return o},o)}function D(o){return function(p){if(Array.isArray(p)){for(var b=0,y=new Array(p.length);b<p.length;b++)y[b]=p[b];return y}}(o)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(o,p){for(var b=0;b<p.length;b++){var y=p[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(o,y.key,y)}}var _=function(){function o(y){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");(this.renderer=y)._pInst.push(),this.identityMatrix=new l.default.Matrix,y.uModelMatrix=new l.default.Matrix,this.geometry=new l.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(o.nextGeometryId),o.nextGeometryId++,this.hasTransform=!1}var p,b;return p=o,(b=[{key:"transformVertices",value:function(y){var A=this;return this.hasTransform?y.map(function(E){return A.renderer.uModelMatrix.multiplyPoint(E)}):y}},{key:"transformNormals",value:function(y){var A=this;return this.hasTransform?y.map(function(E){return A.renderer.uNMatrix.multiplyVec3(E)}):y}},{key:"addGeometry",value:function(y){for(var A,E=this,N=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(O,j){return O===E.identityMatrix.mat4[j]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),T=((A=this.geometry.vertices).push.apply(A,D(this.transformVertices(y.vertices))),(A=this.geometry.vertexNormals).push.apply(A,D(this.transformNormals(y.vertexNormals))),(A=this.geometry.uvs).push.apply(A,D(y.uvs)),this.renderer._doFill&&(A=this.geometry.faces).push.apply(A,D(y.faces.map(function(O){return O.map(function(j){return j+N})}))),this.renderer._doStroke&&(A=this.geometry.edges).push.apply(A,D(y.edges.map(function(O){return O.map(function(j){return j+N})}))),D(y.vertexColors));T.length<4*y.vertices.length;)T.push.apply(T,D(this.renderer.curFillColor));(A=this.geometry.vertexColors).push.apply(A,D(T))}},{key:"addImmediate",value:function(){var y=this.renderer.immediateMode.geometry,A=this.renderer.immediateMode.shapeMode,E=[];if(this.renderer._doFill)if(A===x.TRIANGLE_STRIP||A===x.QUAD_STRIP)for(var N=2;N<y.vertices.length;N++)N%2==0?E.push([N,N-1,N-2]):E.push([N,N-2,N-1]);else if(A===x.TRIANGLE_FAN)for(var T=2;T<y.vertices.length;T++)E.push([0,T-1,T]);else for(var O=0;O<y.vertices.length;O+=3)E.push([O,O+1,O+2]);this.addGeometry(Object.assign({},y,{faces:E}))}},{key:"addRetained",value:function(y){this.addGeometry(y.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&h(p.prototype,b),o}();_.nextGeometryId=0,g.default=_},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(a,r,g){function f(h){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.math.hypot"),a("core-js/modules/es.math.sign"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.math.hypot"),a("core-js/modules/es.math.sign"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var m=(D=a("../core/main"))&&D.__esModule?D:{default:D},l=function(h){if(h&&h.__esModule)return h;if(h===null||S(h)!=="object"&&typeof h!="function")return{default:h};var _=x();if(_&&_.has(h))return _.get(h);var o,p={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in h){var y;Object.prototype.hasOwnProperty.call(h,o)&&((y=b?Object.getOwnPropertyDescriptor(h,o):null)&&(y.get||y.set)?Object.defineProperty(p,o,y):p[o]=h[o])}return p.default=h,_&&_.set(h,p),p}(a("../core/constants"));function x(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,x=function(){return h},h)}function S(h){return(S=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(_){return f(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":f(_)})(h)}m.default.prototype.orbitControl=function(h,_,o,T){var b=this,y=(this._assert3d("orbitControl"),m.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);h===void 0&&(h=1),_===void 0&&(_=h),o===void 0&&(o=1),S(T)!=="object"&&(T={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var j=T.disableTouchActions;this.touchActionsDisabled===!0||j!==void 0&&!j||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var A,E,N,j=T.freeRotation,T=j!==void 0&&j,O=[],j=(this.touches.forEach(function(V){b._renderer.prevTouches.forEach(function(R){V.id===R.id&&(R={x:V.x,y:V.y,px:R.x,py:R.y},O.push(R))})}),this._renderer.prevTouches=this.touches,0),M=0,F=0,B=0,I=0,G=this.height<this.width?this.height:this.width,k=!1;return 0<O.length?(k=0<O[0].x&&O[0].x<this.width&&0<O[0].y&&O[0].y<this.height,O.length===1?(M=-h*((A=O[0]).x-A.px)/G,F=_*(A.y-A.py)/G):(A=O[0],E=O[1],j=-(Math.hypot(A.x-E.x,A.y-E.y)-Math.hypot(A.px-E.px,A.py-E.py))*o*4e-4,B=.5*(A.x+E.x)-.5*(A.px+E.px),I=.5*(A.y+E.y)-.5*(A.py+E.py)),0<this.touches.length?k&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(k=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(j=Math.sign(this._mouseWheelDeltaY)*o,j*=.01,this._mouseWheelDeltaY=0,k&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(M=-h*this.movedX/G,F=_*this.movedY/G):this.mouseButton===this.RIGHT&&(B=this.movedX,I=this.movedY*y.yScale),k&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),j!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=j),.001<Math.abs(this._renderer.zoomVelocity)?(T?y._orbitFree(0,0,this._renderer.zoomVelocity):y._orbit(0,0,this._renderer.zoomVelocity),y.projMatrix.mat4[15]!==0&&(y.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),y.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=y.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=y.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,M===0&&F===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*M,.6*F),1e-6<this._renderer.rotateVelocity.magSq()?(T?y._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):y._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),B===0&&I===0||!this._renderer.executeRotateAndMove||(A=2*B/this.width,E=2*-I/this.height,this._renderer.moveVelocity.add(.15*A,.15*E)),1e-6<this._renderer.moveVelocity.magSq()?(o=y._getLocalAxes(),h=y.eyeX-y.centerX,_=y.eyeY-y.centerY,G=y.eyeZ-y.centerZ,k=Math.sqrt(h*h+_*_+G*G),j=new m.default.Vector(y.centerX,y.centerY,y.centerZ),j=y.cameraMatrix.multiplyPoint(j),(j=this._renderer.uPMatrix.multiplyAndNormalizePoint(j)).x-=this._renderer.moveVelocity.x,j.y-=this._renderer.moveVelocity.y,F=(M=this._renderer.uPMatrix.mat4)[15]===0?(N=(M[8]+j.x)/M[0]*k,(M[9]+j.y)/M[5]*k):(N=(j.x-M[12])/M[0],(j.y-M[13])/M[5]),y.setPosition(y.eyeX+N*o.x[0]+F*o.y[0],y.eyeY+N*o.x[1]+F*o.y[1],y.eyeZ+N*o.x[2]+F*o.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},m.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var h=arguments.length,_=new Array(h),o=0;o<h;o++)_[o]=arguments[o];m.default._validateParameters("debugMode",_);for(var p=this._registeredMethods.post.length-1;0<=p;p--)this._registeredMethods.post[p].toString()!==this._grid().toString()&&this._registeredMethods.post[p].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(p,1);_[0]===l.GRID?this.registerMethod("post",this._grid(_[1],_[2],_[3],_[4],_[5])):_[0]===l.AXES?this.registerMethod("post",this._axesIcon(_[1],_[2],_[3],_[4])):(this.registerMethod("post",this._grid(_[0],_[1],_[2],_[3],_[4])),this.registerMethod("post",this._axesIcon(_[5],_[6],_[7],_[8])))},m.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var h=this._registeredMethods.post.length-1;0<=h;h--)this._registeredMethods.post[h].toString()!==this._grid().toString()&&this._registeredMethods.post[h].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(h,1)},m.default.prototype._grid=function(h,_,o,p,b){h===void 0&&(h=this.width/2),_===void 0&&(_=Math.round(h/30)<4?4:Math.round(h/30)),o===void 0&&(o=0),p===void 0&&(p=0),b===void 0&&(b=0);var y=h/_,A=h/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var E=0;E<=_;E++)this.beginShape(this.LINES),this.vertex(-A+o,p,E*y-A+b),this.vertex(A+o,p,E*y-A+b),this.endShape();for(var N=0;N<=_;N++)this.beginShape(this.LINES),this.vertex(N*y-A+o,p,-A+b),this.vertex(N*y-A+o,p,A+b),this.endShape();this.pop()}},m.default.prototype._axesIcon=function(h,_,o,p){return h===void 0&&(h=40<this.width/20?this.width/20:40),_===void 0&&(_=-this.width/4),o===void 0&&(o=_),p===void 0&&(p=_),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(_,o,p),this.vertex(_+h,o,p),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(_,o,p),this.vertex(_,o+h,p),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(_,o,p),this.vertex(_,o,p+h),this.endShape(),this.pop()}};var D=m.default;g.default=D},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(a,r,g){a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.filter"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(a=a("../core/main"))&&a.__esModule?a:{default:a};f.default.prototype.ambientLight=function(m,l,x,S){this._assert3d("ambientLight"),f.default._validateParameters("ambientLight",arguments);var D=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(D._array[0],D._array[1],D._array[2]),this._renderer._enableLighting=!0,this},f.default.prototype.specularColor=function(m,l,x){this._assert3d("specularColor"),f.default._validateParameters("specularColor",arguments);var S=this.color.apply(this,arguments);return this._renderer.specularColors=[S._array[0],S._array[1],S._array[2]],this},f.default.prototype.directionalLight=function(m,b,p,S,D,h){this._assert3d("directionalLight"),f.default._validateParameters("directionalLight",arguments),m=m instanceof f.default.Color?m:this.color(m,b,p);var _,o,b=arguments[arguments.length-1],p=typeof b=="number"?(_=arguments[arguments.length-3],o=arguments[arguments.length-2],arguments[arguments.length-1]):(_=b.x,o=b.y,b.z),b=Math.sqrt(_*_+o*o+p*p);return this._renderer.directionalLightDirections.push(_/b,o/b,p/b),this._renderer.directionalLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},f.default.prototype.pointLight=function(m,p,b,S,D,h){this._assert3d("pointLight"),f.default._validateParameters("pointLight",arguments),m=m instanceof f.default.Color?m:this.color(m,p,b);var _,o,p=arguments[arguments.length-1],b=typeof p=="number"?(_=arguments[arguments.length-3],o=arguments[arguments.length-2],arguments[arguments.length-1]):(_=p.x,o=p.y,p.z);return this._renderer.pointLightPositions.push(_,o,b),this._renderer.pointLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},f.default.prototype.imageLight=function(m){this._renderer.activeImageLight=m,this._renderer._enableLighting=!0},f.default.prototype.panorama=function(m){this.filter(this._renderer._getSphereMapping(m))},f.default.prototype.lights=function(){this._assert3d("lights");var m=this.color("rgb(128,128,128)");return this.ambientLight(m),this.directionalLight(m,0,0,-1),this},f.default.prototype.lightFalloff=function(m,l,x){return this._assert3d("lightFalloff"),f.default._validateParameters("lightFalloff",arguments),m<0&&(m=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),l<0&&(l=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),x<0&&(x=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),m===0&&l===0&&x===0&&(m=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=m,this._renderer.linearAttenuation=l,this._renderer.quadraticAttenuation=x,this},f.default.prototype.spotLight=function(m,l,x,S,D,h,_,o,p,b,y){this._assert3d("spotLight"),f.default._validateParameters("spotLight",arguments);var A,E,N,T=arguments.length;switch(T){case 11:case 10:A=this.color(m,l,x),E=new f.default.Vector(S,D,h),N=new f.default.Vector(_,o,p);break;case 9:m instanceof f.default.Color?(A=m,E=new f.default.Vector(l,x,S),N=new f.default.Vector(D,h,_),b=o,y=p):S instanceof f.default.Vector?(A=this.color(m,l,x),E=S,N=new f.default.Vector(D,h,_),b=o,y=p):_ instanceof f.default.Vector?(A=this.color(m,l,x),E=new f.default.Vector(S,D,h),N=_,b=o,y=p):(A=this.color(m,l,x),E=new f.default.Vector(S,D,h),N=new f.default.Vector(_,o,p));break;case 8:b=(N=m instanceof f.default.Color?(A=m,E=new f.default.Vector(l,x,S),new f.default.Vector(D,h,_)):S instanceof f.default.Vector?(A=this.color(m,l,x),E=S,new f.default.Vector(D,h,_)):(A=this.color(m,l,x),E=new f.default.Vector(S,D,h),_),o);break;case 7:m instanceof f.default.Color&&l instanceof f.default.Vector?(A=m,E=l,N=new f.default.Vector(x,S,D),b=h,y=_):m instanceof f.default.Color&&D instanceof f.default.Vector?(A=m,E=new f.default.Vector(l,x,S),N=D,b=h,y=_):S instanceof f.default.Vector&&D instanceof f.default.Vector?(A=this.color(m,l,x),E=S,N=D,b=h,y=_):N=m instanceof f.default.Color?(A=m,E=new f.default.Vector(l,x,S),new f.default.Vector(D,h,_)):S instanceof f.default.Vector?(A=this.color(m,l,x),E=S,new f.default.Vector(D,h,_)):(A=this.color(m,l,x),E=new f.default.Vector(S,D,h),_);break;case 6:S instanceof f.default.Vector&&D instanceof f.default.Vector?(A=this.color(m,l,x),E=S,N=D,b=h):m instanceof f.default.Color&&D instanceof f.default.Vector?(A=m,E=new f.default.Vector(l,x,S),N=D,b=h):m instanceof f.default.Color&&l instanceof f.default.Vector&&(A=m,E=l,N=new f.default.Vector(x,S,D),b=h);break;case 5:m instanceof f.default.Color&&l instanceof f.default.Vector&&x instanceof f.default.Vector?(A=m,E=l,N=x,b=S,y=D):S instanceof f.default.Vector&&D instanceof f.default.Vector?(A=this.color(m,l,x),E=S,N=D):m instanceof f.default.Color&&D instanceof f.default.Vector?(A=m,E=new f.default.Vector(l,x,S),N=D):m instanceof f.default.Color&&l instanceof f.default.Vector&&(A=m,E=l,N=new f.default.Vector(x,S,D));break;case 4:A=m,E=l,N=x,b=S;break;case 3:A=m,E=l,N=x;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(T<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(A._array[0],A._array[1],A._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(E.x,E.y,E.z),N.normalize(),this._renderer.spotLightDirections.push(N.x,N.y,N.z),b===void 0&&(b=Math.PI/3),y!==void 0&&y<1?(y=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):y===void 0&&(y=100),b=this._renderer._pInst._toRadians(b),this._renderer.spotLightAngle.push(Math.cos(b)),this._renderer.spotLightConc.push(y),this._renderer._enableLighting=!0,this},f.default.prototype.noLights=function(){this._assert3d("noLights");for(var m=arguments.length,l=new Array(m),x=0;x<m;x++)l[x]=arguments[x];return f.default._validateParameters("noLights",l),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},a=f.default,g.default=a},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(a,r,g){function f(b){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.set"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.set"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,a("regenerator-runtime/runtime");var m=(p=a("../core/main"))&&p.__esModule?p:{default:p};function l(b){return function(y){if(Array.isArray(y)){for(var A=0,E=new Array(y.length);A<y.length;A++)E[A]=y[A];return E}}(b)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(b,y,A,E,N,T,O){try{var j=b[T](O),M=j.value}catch(F){return void A(F)}j.done?y(M):Promise.resolve(M).then(E,N)}function S(b){return function(){var y=this,A=arguments;return new Promise(function(E,N){var T=b.apply(y,A);function O(M){x(T,E,N,O,j,"next",M)}function j(M){x(T,E,N,O,j,"throw",M)}O(void 0)})}}function D(b){return(D=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(y){return f(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":f(y)})(b)}function h(b,y,A){for(var E=2<arguments.length&&A!==void 0?A:{},N={v:[],vt:[],vn:[]},T={},O=null,j=new Set,M=!1,F=!1,B=0;B<y.length;++B){var I=y[B].trim().split(/\b\s+/);if(0<I.length){if(I[0]==="usemtl")O=I[1];else if(I[0]==="v"||I[0]==="vn"){var G=new m.default.Vector(parseFloat(I[1]),parseFloat(I[2]),parseFloat(I[3]));N[I[0]].push(G)}else if(I[0]==="vt")G=[parseFloat(I[1]),1-parseFloat(I[2])],N[I[0]].push(G);else if(I[0]==="f")for(var k=3;k<I.length;++k){for(var V=[],R=[1,k-1,k],U=0;U<R.length;++U){for(var L,H=I[R[U]],X=H.split("/"),Z=0;Z<X.length;Z++)X[Z]=parseInt(X[Z])-1;T[H]||(T[H]={}),T[H][O]===void 0?(L=b.vertices.length,b.vertices.push(N.v[X[0]].copy()),b.uvs.push(N.vt[X[1]]?N.vt[X[1]].slice():[0,0]),b.vertexNormals.push(N.vn[X[2]]?N.vn[X[2]].copy():new m.default.Vector),T[H][O]=L,V.push(L),O&&E[O]&&E[O].diffuseColor&&j.add(N.v[X[0]])):V.push(T[H][O])}if(V[0]!==V[1]&&V[0]!==V[2]&&V[1]!==V[2])if(b.faces.push(V),O&&E[O]&&E[O].diffuseColor)for(var M=M=!0,J=E[O].diffuseColor,K=0;K<V.length;K++)b.vertexColors.push(J[0]),b.vertexColors.push(J[1]),b.vertexColors.push(J[2]);else F=!0}}}if(b.vertexNormals.length===0&&b.computeNormals(),M===F)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}function _(b,y){if(function(ve){for(var pe=new DataView(ve),be=[115,111,108,105,100],Ne=0;Ne<5;Ne++)if(function(he,ne,re){for(var de=0,xe=he.length;de<xe;de++)if(he[de]!==ne.getUint8(re+de,!1))return;return 1}(be,pe,Ne))return;return 1}(y)){for(var A,E,N,T,O,j,M,F=b,B=new DataView(y),I=B.getUint32(80,!0),G=!1,k=0;k<70;k++)B.getUint32(k,!1)===1129270351&&B.getUint8(k+4)===82&&B.getUint8(k+5)===61&&(G=!0,T=[],O=B.getUint8(k+6)/255,j=B.getUint8(k+7)/255,M=B.getUint8(k+8)/255);for(var V=0;V<I;V++){for(var R,U=84+50*V,L=B.getFloat32(U,!0),H=B.getFloat32(4+U,!0),X=B.getFloat32(8+U,!0),Z=(G&&(R=B.getUint16(48+U,!0),N=32768&R?(A=O,E=j,M):(A=(31&R)/31,E=(R>>5&31)/31,(R>>10&31)/31)),new m.default.Vector(L,H,X)),J=1;J<=3;J++){var K=U+12*J,K=new m.default.Vector(B.getFloat32(K,!0),B.getFloat32(4+K,!0),B.getFloat32(8+K,!0));F.vertices.push(K),F.vertexNormals.push(Z),G&&T.push(A,E,N)}F.faces.push([3*V,3*V+1,3*V+2]),F.uvs.push([0,0],[0,0],[0,0])}}else if(y=new DataView(y),"TextDecoder"in window)for(var $,W,Y=b,te=new TextDecoder("utf-8").decode(y).split(`
`),ce="",oe=[],ue=0;ue<te.length;++ue){for(var Ce=te[ue].trim(),le=Ce.split(" "),ye=0;ye<le.length;++ye)le[ye]===""&&le.splice(ye,1);if(le.length!==0)switch(ce){case"":if(le[0]!=="solid")return console.error(Ce),void console.error('Invalid state "'.concat(le[0],'", should be "solid"'));ce="solid";break;case"solid":if(le[0]!=="facet"||le[1]!=="normal")return console.error(Ce),void console.error('Invalid state "'.concat(le[0],'", should be "facet normal"'));$=new m.default.Vector(parseFloat(le[2]),parseFloat(le[3]),parseFloat(le[4])),Y.vertexNormals.push($,$,$),ce="facet normal";break;case"facet normal":if(le[0]!=="outer"||le[1]!=="loop")return console.error(Ce),void console.error('Invalid state "'.concat(le[0],'", should be "outer loop"'));ce="vertex";break;case"vertex":if(le[0]==="vertex")W=new m.default.Vector(parseFloat(le[1]),parseFloat(le[2]),parseFloat(le[3])),Y.vertices.push(W),Y.uvs.push([0,0]),oe.push(Y.vertices.indexOf(W));else{if(le[0]!=="endloop")return console.error(Ce),void console.error('Invalid state "'.concat(le[0],'", should be "vertex" or "endloop"'));Y.faces.push(oe),oe=[],ce="endloop"}break;case"endloop":if(le[0]!=="endfacet")return console.error(Ce),void console.error('Invalid state "'.concat(le[0],'", should be "endfacet"'));ce="endfacet";break;case"endfacet":if(le[0]!=="endsolid"){if(le[0]!=="facet"||le[1]!=="normal")return console.error(Ce),void console.error('Invalid state "'.concat(le[0],'", should be "endsolid" or "facet normal"'));$=new m.default.Vector(parseFloat(le[2]),parseFloat(le[3]),parseFloat(le[4])),Y.vertexNormals.push($,$,$),ce="facet normal"}break;default:console.error('Invalid state "'.concat(ce,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)")}a("./p5.Geometry"),m.default.prototype.loadModel=function(b,y){m.default._validateParameters("loadModel",arguments);var A,E,N=!1,T=!1,O=!1,j=b.slice(-4),M=(y&&D(y)==="object"?(N=y.normalize||!1,A=y.successCallback,E=y.failureCallback,j=y.fileType||j,T=y.flipU||!1,O=y.flipV||!1):typeof y=="boolean"?(N=y,A=arguments[2],E=arguments[3],arguments[4]!==void 0&&(j=arguments[4])):(A=typeof y=="function"?y:void 0,E=arguments[2],arguments[3]!==void 0&&(j=arguments[3])),new m.default.Geometry),F=(M.gid="".concat(b,"|").concat(N),this);function B(){return(B=S(regeneratorRuntime.mark(function G(k){var V,R,U,L;return regeneratorRuntime.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:for(V=[],R=0;R<k.length;R++)(U=k[R].match(/^mtllib (.+)/))&&function(){var X="",Z=U[1],J=b.split("/");X=1<J.length?(J.pop(),J.join("/")+"/"+Z):Z,V.push(function(){return I.apply(this,arguments)}(X).then(function(K){return K?($=F,W=X,new Promise(function(Y,te){var ce=null,oe={};$.loadStrings(W,function(ue){for(var Ce=0;Ce<ue.length;++Ce){var le,ye=ue[Ce].trim().split(/\s+/);ye[0]==="newmtl"?(le=ye[1],oe[ce=le]={}):ye[0]==="Kd"?oe[ce].diffuseColor=[parseFloat(ye[1]),parseFloat(ye[2]),parseFloat(ye[3])]:ye[0]==="Ka"?oe[ce].ambientColor=[parseFloat(ye[1]),parseFloat(ye[2]),parseFloat(ye[3])]:ye[0]==="Ks"?oe[ce].specularColor=[parseFloat(ye[1]),parseFloat(ye[2]),parseFloat(ye[3])]:ye[0]==="map_Kd"&&(oe[ce].texturePath=ye[1])}Y(oe)},te)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(X)),{});var $,W}).catch(function(K){return console.warn("Error loading MTL file: ".concat(X),K),{}}))}();return H.prev=2,H.next=5,Promise.all(V);case 5:return L=H.sent,L=Object.assign.apply(Object,[{}].concat(l(L))),H.abrupt("return",L);case 10:return H.prev=10,H.t0=H.catch(2),H.abrupt("return",{});case 13:case"end":return H.stop()}},G,null,[[2,10]])}))).apply(this,arguments)}function I(){return(I=S(regeneratorRuntime.mark(function G(k){var V;return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.prev=0,R.next=3,fetch(k,{method:"HEAD"});case 3:return V=R.sent,R.abrupt("return",V.ok);case 7:return R.prev=7,R.t0=R.catch(0),R.abrupt("return",!1);case 10:case"end":return R.stop()}},G,null,[[0,7]])}))).apply(this,arguments)}return j.match(/\.stl$/i)?this.httpDo(b,"GET","arrayBuffer",function(G){_(M,G),N&&M.normalize(),T&&M.flipU(),O&&M.flipV(),F._decrementPreload(),typeof A=="function"&&A(M)},E):j.match(/\.obj$/i)?this.loadStrings(b,function(){var G=S(regeneratorRuntime.mark(function k(V){var R;return regeneratorRuntime.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.prev=0,U.next=3,function(){return B.apply(this,arguments)}(V);case 3:R=U.sent,h(M,V,R),U.next=11;break;case 7:return U.prev=7,U.t0=U.catch(0),E?E(U.t0):m.default._friendlyError("Error during parsing: "+U.t0.message),U.abrupt("return");case 11:return U.prev=11,N&&M.normalize(),T&&M.flipU(),O&&M.flipV(),M._makeTriangleEdges(),F._decrementPreload(),typeof A=="function"&&A(M),U.finish(11);case 19:case"end":return U.stop()}},k,null,[[0,7,11,19]])}));return function(k){return G.apply(this,arguments)}}(),E):(m.default._friendlyFileLoadError(3,b),E?E():m.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),M},m.default.prototype.model=function(b){this._assert3d("model"),m.default._validateParameters("model",arguments),0<b.vertices.length&&(this._renderer.geometryInHash(b.gid)||(b._edgesToVertices(),this._renderer.createBuffers(b.gid,b)),this._renderer.drawBuffers(b.gid))};var o=0,p=(m.default.prototype.createModel=function(b){var y,A,E=1<arguments.length&&arguments[1]!==void 0?arguments[1]:" ",j=2<arguments.length?arguments[2]:void 0,N=(m.default._validateParameters("createModel",arguments),!1),T=!1,O=!1,j=(j&&D(j)==="object"?(N=j.normalize||!1,y=j.successCallback,A=j.failureCallback,T=j.flipU||!1,O=j.flipV||!1):A=typeof j=="boolean"?(N=j,y=arguments[3],arguments[4]):(y=typeof arguments[2]=="function"?arguments[2]:void 0,arguments[3]),new m.default.Geometry);if(j.gid="".concat(E,"|").concat(N,"|").concat(o++),E.match(/\.stl$/i))try{_(j,new TextEncoder().encode(b).buffer)}catch(M){return void(A?A(M):m.default._friendlyError("Error during parsing: "+M.message))}else if(E.match(/\.obj$/i))try{h(j,b.split(`
`))}catch(M){return void(A?A(M):m.default._friendlyError("Error during parsing: "+M.message))}else m.default._friendlyFileLoadError(3,b),A?A():m.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return N&&j.normalize(),T&&j.flipU(),O&&j.flipV(),j._makeTriangleEdges(),typeof y=="function"&&y(j),j},m.default);g.default=p},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(a,r,g){function f(h){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}function m(h){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(_){return f(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":f(_)})(h)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(D=a("../core/main"))&&D.__esModule?D:{default:D},x=function(h){if(h&&h.__esModule)return h;if(h===null||m(h)!=="object"&&typeof h!="function")return{default:h};var _=S();if(_&&_.has(h))return _.get(h);var o,p={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in h){var y;Object.prototype.hasOwnProperty.call(h,o)&&((y=b?Object.getOwnPropertyDescriptor(h,o):null)&&(y.get||y.set)?Object.defineProperty(p,o,y):p[o]=h[o])}return p.default=h,_&&_.set(h,p),p}(a("../core/constants"));function S(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,S=function(){return h},h)}a("./p5.Texture"),l.default.prototype.loadShader=function(h,_,o,p){l.default._validateParameters("loadShader",arguments),p=p||console.error;function b(){A._decrementPreload(),o&&o(y)}var y=new l.default.Shader,A=this,E=!1,N=!1;return this.loadStrings(h,function(T){y._vertSrc=T.join(`
`),N=!0,E&&b()},p),this.loadStrings(_,function(T){y._fragSrc=T.join(`
`),E=!0,N&&b()},p),y},l.default.prototype.createShader=function(h,_,o){return l.default._validateParameters("createShader",arguments),new l.default.Shader(this._renderer,h,_,o)},l.default.prototype.createFilterShader=function(h){l.default._validateParameters("createFilterShader",arguments);var _=h.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,_=new l.default.Shader(this._renderer,_,h);return this._renderer.GL?_.ensureCompiledOnContext(this):_.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),_},l.default.prototype.shader=function(h){return this._assert3d("shader"),l.default._validateParameters("shader",arguments),h.ensureCompiledOnContext(this),h.isStrokeShader()?this._renderer.userStrokeShader=h:(this._renderer.userFillShader=h,this._renderer._useNormalMaterial=!1),h.setDefaultUniforms(),this},l.default.prototype.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},l.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},l.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},l.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},l.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},l.default.prototype.texture=function(h){return this._assert3d("texture"),l.default._validateParameters("texture",arguments),h.gifProperties&&h._animateGif(this),this._renderer.drawMode=x.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=h,this._renderer._setProperty("_doFill",!0),this},l.default.prototype.textureMode=function(h){h!==x.IMAGE&&h!==x.NORMAL?console.warn("You tried to set ".concat(h," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=h},l.default.prototype.textureWrap=function(h){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:h,o=(this._renderer.textureWrapX=h,this._renderer.textureWrapY=_,!0),p=!1,b=void 0;try{for(var y,A=this._renderer.textures.values()[Symbol.iterator]();!(o=(y=A.next()).done);o=!0)y.value.setWrapMode(h,_)}catch(E){p=!0,b=E}finally{try{o||A.return==null||A.return()}finally{if(p)throw b}}},l.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var h=arguments.length,_=new Array(h),o=0;o<h;o++)_[o]=arguments[o];return l.default._validateParameters("normalMaterial",_),this._renderer.drawMode=x.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},l.default.prototype.ambientMaterial=function(h,_,o){this._assert3d("ambientMaterial"),l.default._validateParameters("ambientMaterial",arguments);var p=l.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=p._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},l.default.prototype.emissiveMaterial=function(h,_,o,p){this._assert3d("emissiveMaterial"),l.default._validateParameters("emissiveMaterial",arguments);var b=l.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=b._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},l.default.prototype.specularMaterial=function(h,_,o,p){this._assert3d("specularMaterial"),l.default._validateParameters("specularMaterial",arguments);var b=l.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=b._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},l.default.prototype.shininess=function(h){return this._assert3d("shininess"),l.default._validateParameters("shininess",arguments),this._renderer._useShininess=h=h<1?1:h,this},l.default.prototype.metalness=function(h){return this._assert3d("metalness"),h=1-Math.exp(-h/100),this._renderer._useMetalness=h,this},l.default.RendererGL.prototype._applyColorBlend=function(h,b){var o=this.GL,p=this.drawMode===x.TEXTURE,b=b||this.userFillShader||this.userStrokeShader||this.userPointShader||p||this.curBlendMode!==x.BLEND||h[h.length-1]<1||this._isErasing;return b!==this._isBlending&&(b||this.curBlendMode!==x.BLEND&&this.curBlendMode!==x.ADD?o.enable(o.BLEND):o.disable(o.BLEND),o.depthMask(!0),this._isBlending=b),this._applyBlendMode(),h},l.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var h=this.GL;switch(this.curBlendMode){case x.BLEND:h.blendEquation(h.FUNC_ADD),h.blendFunc(h.ONE,h.ONE_MINUS_SRC_ALPHA);break;case x.ADD:h.blendEquation(h.FUNC_ADD),h.blendFunc(h.ONE,h.ONE);break;case x.REMOVE:h.blendEquation(h.FUNC_ADD),h.blendFunc(h.ZERO,h.ONE_MINUS_SRC_ALPHA);break;case x.MULTIPLY:h.blendEquation(h.FUNC_ADD),h.blendFunc(h.DST_COLOR,h.ONE_MINUS_SRC_ALPHA);break;case x.SCREEN:h.blendEquation(h.FUNC_ADD),h.blendFunc(h.ONE,h.ONE_MINUS_SRC_COLOR);break;case x.EXCLUSION:h.blendEquationSeparate(h.FUNC_ADD,h.FUNC_ADD),h.blendFuncSeparate(h.ONE_MINUS_DST_COLOR,h.ONE_MINUS_SRC_COLOR,h.ONE,h.ONE);break;case x.REPLACE:h.blendEquation(h.FUNC_ADD),h.blendFunc(h.ONE,h.ZERO);break;case x.SUBTRACT:h.blendEquationSeparate(h.FUNC_REVERSE_SUBTRACT,h.FUNC_ADD),h.blendFuncSeparate(h.ONE,h.ONE,h.ONE,h.ONE_MINUS_SRC_ALPHA);break;case x.DARKEST:this.blendExt?(h.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,h.FUNC_ADD),h.blendFuncSeparate(h.ONE,h.ONE,h.ONE,h.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case x.LIGHTEST:this.blendExt?(h.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,h.FUNC_ADD),h.blendFuncSeparate(h.ONE,h.ONE,h.ONE,h.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var D=l.default;g.default=D},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(a,r,g){a("core-js/modules/es.array.slice"),a("core-js/modules/es.math.hypot"),a("core-js/modules/es.string.sub"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.math.hypot"),a("core-js/modules/es.string.sub"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(a=a("../core/main"))&&a.__esModule?a:{default:a};function m(l,x){for(var S=0;S<x.length;S++){var D=x[S];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(l,D.key,D)}}f.default.prototype.camera=function(){var l;this._assert3d("camera");for(var x=arguments.length,S=new Array(x),D=0;D<x;D++)S[D]=arguments[D];return f.default._validateParameters("camera",S),(l=this._renderer._curCamera).camera.apply(l,S),this},f.default.prototype.perspective=function(){var l;this._assert3d("perspective");for(var x=arguments.length,S=new Array(x),D=0;D<x;D++)S[D]=arguments[D];return f.default._validateParameters("perspective",S),(l=this._renderer._curCamera).perspective.apply(l,S),this},f.default.prototype.linePerspective=function(l){if(f.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof f.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(l===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=l},f.default.prototype.ortho=function(){var l;this._assert3d("ortho");for(var x=arguments.length,S=new Array(x),D=0;D<x;D++)S[D]=arguments[D];return f.default._validateParameters("ortho",S),(l=this._renderer._curCamera).ortho.apply(l,S),this},f.default.prototype.frustum=function(){var l;this._assert3d("frustum");for(var x=arguments.length,S=new Array(x),D=0;D<x;D++)S[D]=arguments[D];return f.default._validateParameters("frustum",S),(l=this._renderer._curCamera).frustum.apply(l,S),this},f.default.prototype.createCamera=function(){this._assert3d("createCamera");var l=new f.default.Camera(this._renderer);return l._computeCameraDefaultSettings(),l._setDefaultCamera(),this._renderer._curCamera=l},f.default.Camera=function(){function l(D){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._renderer=D,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new f.default.Matrix,this.projMatrix=new f.default.Matrix,this.yScale=1}var x,S;return x=l,(S=[{key:"perspective",value:function(p,h,_,o){this.cameraType=0<arguments.length?"custom":"default",p===void 0?(p=this.defaultCameraFOV,this.cameraFOV=p):this.cameraFOV=this._renderer._pInst._toRadians(p),h===void 0&&(h=this.defaultAspectRatio),_===void 0&&(_=this.defaultCameraNear),o===void 0&&(o=this.defaultCameraFar),_<=1e-4&&(_=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),o<_&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=h,this.cameraNear=_,this.cameraFar=o,this.projMatrix=f.default.Matrix.identity();var p=1/Math.tan(this.cameraFOV/2),b=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(p/h,0,0,0,0,-p*this.yScale,0,0,0,0,(o+_)*b,-1,0,0,2*o*_*b,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(j,O,_,o,p,b){var M=this.fbo||this._renderer,M=(j===void 0&&(j=-M.width/2),O===void 0&&(O=+M.width/2),_===void 0&&(_=-M.height/2),o===void 0&&(o=+M.height/2),p===void 0&&(p=0),b===void 0&&(b=Math.max(M.width,M.height)+800),this.cameraNear=p,O-j),y=o-_,A=(this.cameraFar=b)-p,E=2/M,N=2/y*this.yScale,T=-2/A,O=-(O+j)/M,j=-(o+_)/y,M=-(b+p)/A;this.projMatrix=f.default.Matrix.identity(),this.projMatrix.set(E,0,0,0,0,-N,0,0,0,0,T,0,O,j,M,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(j,O,_,o,p,b){j===void 0&&(j=.05*-this._renderer.width),O===void 0&&(O=.05*+this._renderer.width),_===void 0&&(_=.05*+this._renderer.height),o===void 0&&(o=.05*-this._renderer.height),p===void 0&&(p=this.defaultCameraNear),b===void 0&&(b=this.defaultCameraFar),this.cameraNear=p;var M=O-j,y=o-_,A=(this.cameraFar=b)-p,E=2*p/M,N=2*p/y*this.yScale,T=-2*b*p/A,O=(O+j)/M,j=(o+_)/y,M=-(b+p)/A;this.projMatrix=f.default.Matrix.identity(),this.projMatrix.set(E,0,0,0,0,-N,0,0,O,j,M,-1,0,0,T,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(E,N,T,O){var p=this.centerX,b=this.centerY,y=this.centerZ,A=(p-=this.eyeX,b-=this.eyeY,y-=this.eyeZ,f.default.Matrix.identity(this._renderer._pInst)),E=(A.rotate(this._renderer._pInst._toRadians(E),N,T,O),[p*A.mat4[0]+b*A.mat4[4]+y*A.mat4[8],p*A.mat4[1]+b*A.mat4[5]+y*A.mat4[9],p*A.mat4[2]+b*A.mat4[6]+y*A.mat4[10]]),N=(E[0]+=this.eyeX,E[1]+=this.eyeY,E[2]+=this.eyeZ,this.upX*A.mat4[0]+this.upY*A.mat4[4]+this.upZ*A.mat4[8]),T=this.upX*A.mat4[1]+this.upY*A.mat4[5]+this.upZ*A.mat4[9],O=this.upX*A.mat4[2]+this.upY*A.mat4[6]+this.upZ*A.mat4[10];this.camera(this.eyeX,this.eyeY,this.eyeZ,E[0],E[1],E[2],N,T,O)}},{key:"roll",value:function(_){var h=this._getLocalAxes(),_=f.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(_),h.z[0],h.z[1],h.z[2]).rotateVector(new f.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,_.x,_.y,_.z)}},{key:"pan",value:function(D){var h=this._getLocalAxes();this._rotateView(D,h.y[0],h.y[1],h.y[2])}},{key:"tilt",value:function(D){var h=this._getLocalAxes();this._rotateView(D,h.x[0],h.x[1],h.x[2])}},{key:"lookAt",value:function(D,h,_){this.camera(this.eyeX,this.eyeY,this.eyeZ,D,h,_,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(D,h,_,o,p,b,y,A,E){return D===void 0&&(D=this.defaultEyeX,h=this.defaultEyeY,_=this.defaultEyeZ,o=D,p=h,A=1,E=y=b=0),this.eyeX=D,this.eyeY=h,this.eyeZ=_,o!==void 0&&(this.centerX=o,this.centerY=p,this.centerZ=b),y!==void 0&&(this.upX=y,this.upY=A,this.upZ=E),o=this._getLocalAxes(),this.cameraMatrix.set(o.x[0],o.y[0],o.z[0],0,o.x[1],o.y[1],o.z[1],0,o.x[2],o.y[2],o.z[2],0,0,0,0,1),p=-D,this.cameraMatrix.translate([p,-h,-_]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(o,p,_){var b=this._getLocalAxes(),o=[b.x[0]*o,b.x[1]*o,b.x[2]*o],p=[b.y[0]*p,b.y[1]*p,b.y[2]*p],b=[b.z[0]*_,b.z[1]*_,b.z[2]*_];this.camera(this.eyeX+o[0]+p[0]+b[0],this.eyeY+o[1]+p[1]+b[1],this.eyeZ+o[2]+p[2]+b[2],this.centerX+o[0]+p[0]+b[0],this.centerY+o[1]+p[1]+b[1],this.centerZ+o[2]+p[2]+b[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(D,h,_){var o=D-this.eyeX,p=h-this.eyeY,b=_-this.eyeZ;this.camera(D,h,_,this.centerX+o,this.centerY+p,this.centerZ+b,this.upX,this.upY,this.upZ)}},{key:"set",value:function(D){for(var h=0,_=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];h<_.length;h++){var o=_[h];this[o]=D[o]}this.cameraMatrix=D.cameraMatrix.copy(),this.projMatrix=D.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(D,h,_){var o,p,b,y,A,E,N,T,O,j,M,F,B,I,G,k,V,R;_===0?this.set(D):_===1?this.set(h):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=D.projMatrix.mat4[0]*Math.pow(h.projMatrix.mat4[0]/D.projMatrix.mat4[0],_),this.projMatrix.mat4[5]=D.projMatrix.mat4[5]*Math.pow(h.projMatrix.mat4[5]/D.projMatrix.mat4[5],_),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),y=new f.default.Vector(D.eyeX,D.eyeY,D.eyeZ),A=new f.default.Vector(h.eyeX,h.eyeY,h.eyeZ),k=new f.default.Vector(D.centerX,D.centerY,D.centerZ),R=new f.default.Vector(h.centerX,h.centerY,h.centerZ),b=f.default.Vector.dist(y,k),o=f.default.Vector.dist(A,R),o=b*Math.pow(o/b,_),b=f.default.Vector.sub(y,A),p=1,1e-6<(V=(I=y.copy().sub(A).sub(k).add(R)).magSq())&&(p=f.default.Vector.dot(b,I)/V,p=Math.max(0,Math.min(p,1))),b=f.default.Vector.lerp(f.default.Vector.lerp(y,k,p),f.default.Vector.lerp(A,R,p),_),I=D.cameraMatrix.createSubMatrix3x3(),V=h.cameraMatrix.createSubMatrix3x3(),y=I.row(2),k=V.row(2),A=I.row(1),R=V.row(1),D=new f.default.Vector,h=new f.default.Vector,E=new f.default.Vector,N=new f.default.Vector,1-(T=.5*((I=(V=V.mult3x3(I.copy().transpose3x3())).diagonal())[0]+I[1]+I[2]-1))<1e-7?(D.set(f.default.Vector.lerp(y,k,_)).normalize(),E.set(D).mult(p*o).add(b),N.set(D).mult((p-1)*o).add(b),h.set(f.default.Vector.lerp(A,R,_)).normalize()):(k=1/(1-T),R=Math.max(I[0],I[1],I[2]),F=V.mat3[1]+V.mat3[3],B=V.mat3[2]+V.mat3[6],G=V.mat3[5]+V.mat3[7],R=R===I[0]?(j=.5*F*(k/=O=Math.sqrt((I[0]-T)*k)),M=.5*B*k,.5*(V.mat3[7]-V.mat3[5])/O):R===I[1]?(M=.5*G*(k/=j=Math.sqrt((I[1]-T)*k)),O=.5*F*k,.5*(V.mat3[2]-V.mat3[6])/j):(O=.5*B*(k/=M=Math.sqrt((I[2]-T)*k)),j=.5*G*k,.5*(V.mat3[3]-V.mat3[1])/M),F=_*Math.atan2(R,T),B=Math.cos(F),I=Math.sin(F),(R=new f.default.Matrix("mat3",[B+(G=1-B)*O*O,G*(k=O*j)+I*M,G*(V=M*O)-I*j,G*k-I*M,B+G*j*j,G*(_=j*M)+I*O,G*V+I*j,G*_-I*O,B+G*M*M])).multiplyVec3(y,D),E.set(D).mult(p*o).add(b),N.set(D).mult((p-1)*o).add(b),R.multiplyVec3(A,h)),this.camera(E.x,E.y,E.z,N.x,N.y,N.z,h.x,h.y,h.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var D=new f.default.Camera(this._renderer);return D.cameraFOV=this.cameraFOV,D.aspectRatio=this.aspectRatio,D.eyeX=this.eyeX,D.eyeY=this.eyeY,D.eyeZ=this.eyeZ,D.centerX=this.centerX,D.centerY=this.centerY,D.centerZ=this.centerZ,D.upX=this.upX,D.upY=this.upY,D.upZ=this.upZ,D.cameraNear=this.cameraNear,D.cameraFar=this.cameraFar,D.cameraType=this.cameraType,D.useLinePerspective=this.useLinePerspective,D.cameraMatrix=this.cameraMatrix.copy(),D.projMatrix=this.projMatrix.copy(),D.yScale=this.yScale,D}},{key:"_getLocalAxes",value:function(){var D=this.eyeX-this.centerX,h=this.eyeY-this.centerY,_=this.eyeZ-this.centerZ,y=Math.sqrt(D*D+h*h+_*_),y=(y!==0&&(D/=y,h/=y,_/=y),this.upX),o=(A=this.upY)*_-(E=this.upZ)*h,p=-y*_+E*D,b=y*h-A*D,y=h*b-_*p,A=-D*b+_*o,E=D*p-h*o,N=Math.sqrt(o*o+p*p+b*b),N=(N!==0&&(o/=N,p/=N,b/=N),Math.sqrt(y*y+A*A+E*E));return N!==0&&(y/=N,A/=N,E/=N),{x:[o,p,b],y:[y,A,E],z:[D,h,_]}}},{key:"_orbit",value:function(D,N,E){var p=this.eyeX-this.centerX,b=this.eyeY-this.centerY,y=this.eyeZ-this.centerZ,o=Math.hypot(p,b,y),p=new f.default.Vector(p,b,y).normalize(),b=new f.default.Vector(this.upX,this.upY,this.upZ).normalize(),y=f.default.Vector.cross(b,p).normalize(),A=f.default.Vector.cross(y,b),E=((o=(o*=Math.pow(10,E))<this.cameraNear?this.cameraNear:o)>this.cameraFar&&(o=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,f.default.Vector.dot(p,b))))+N),N=D;(E<=0||E>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),b.mult(Math.cos(E)),A.mult(Math.cos(N)*Math.sin(E)),y.mult(Math.sin(N)*Math.sin(E)),p.set(b).add(A).add(y),this.eyeX=o*p.x+this.centerX,this.eyeY=o*p.y+this.centerY,this.eyeZ=o*p.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(E,N,O){var p=this.eyeX-this.centerX,b=this.eyeY-this.centerY,y=this.eyeZ-this.centerZ,o=Math.hypot(p,b,y),p=new f.default.Vector(p,b,y).normalize(),b=new f.default.Vector(this.upX,this.upY,this.upZ),y=f.default.Vector.cross(b,p).normalize(),A=f.default.Vector.cross(p,y),j=Math.atan2(N,E),j=(A.mult(Math.sin(j)),y.mult(Math.cos(j)).add(A),Math.sqrt(E*E+N*N)),A=f.default.Vector.cross(p,y),E=((o=(o*=Math.pow(10,O))<this.cameraNear?this.cameraNear:o)>this.cameraFar&&(o=this.cameraFar),Math.cos(j)),N=Math.sin(j),O=b.dot(p),j=b.dot(y),T=O*E+j*N,O=-O*N+j*E,j=b.dot(A);b.x=T*p.x+O*y.x+j*A.x,b.y=T*p.y+O*y.y+j*A.y,b.z=T*p.z+O*y.z+j*A.z,y.mult(-N),p.mult(E).add(y).mult(o),this.camera(p.x+this.centerX,p.y+this.centerY,p.z+this.centerZ,this.centerX,this.centerY,this.centerZ,b.x,b.y,b.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&m(x.prototype,S),l}(),f.default.prototype.setCamera=function(l){this._renderer._curCamera=l,this._renderer.uPMatrix.set(l.projMatrix),this._renderer.uViewMatrix.set(l.cameraMatrix)},a=f.default.Camera,g.default=a},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(a,r,g){a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.math.log2"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.typed-array.float32-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.math.log2"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.typed-array.float32-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a};function f(m,l){for(var x=0;x<l.length;x++){var S=l[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}a.default.DataArray=function(){function m(){var S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,D=this,h=m;if(!(D instanceof h))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(S),this.initialLength=S}var l,x;return l=m,(x=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var S;this.length<this.data.length/2&&(S=1<<Math.ceil(Math.log2(this.length)),(S=new Float32Array(S)).set(this.data.subarray(0,this.length),0),this.data=S)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var S=arguments.length,D=new Array(S),h=0;h<S;h++)D[h]=arguments[h];this.ensureLength(this.length+D.length),this.data.set(D,this.length),this.length+=D.length}},{key:"slice",value:function(S,D){return this.data.slice(S,Math.min(D,this.length))}},{key:"subArray",value:function(S,D){return this.data.subarray(S,Math.min(D,this.length))}},{key:"ensureLength",value:function(S){for(;this.data.length<S;){var D=new Float32Array(2*this.data.length);D.set(this.data,0),this.data=D}}}])&&f(l.prototype,x),m}(),a=a.default.DataArray,g.default=a},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(F,r,g){function f(B){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(B)}function m(B){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(I){return f(I)}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":f(I)})(B)}F("core-js/modules/es.symbol"),F("core-js/modules/es.symbol.description"),F("core-js/modules/es.symbol.iterator"),F("core-js/modules/es.array.fill"),F("core-js/modules/es.array.includes"),F("core-js/modules/es.array.iterator"),F("core-js/modules/es.object.get-own-property-descriptor"),F("core-js/modules/es.object.get-prototype-of"),F("core-js/modules/es.object.to-string"),F("core-js/modules/es.reflect.construct"),F("core-js/modules/es.reflect.get"),F("core-js/modules/es.regexp.to-string"),F("core-js/modules/es.string.includes"),F("core-js/modules/es.string.iterator"),F("core-js/modules/es.typed-array.float32-array"),F("core-js/modules/es.typed-array.uint8-array"),F("core-js/modules/es.typed-array.uint8-clamped-array"),F("core-js/modules/es.typed-array.copy-within"),F("core-js/modules/es.typed-array.every"),F("core-js/modules/es.typed-array.fill"),F("core-js/modules/es.typed-array.filter"),F("core-js/modules/es.typed-array.find"),F("core-js/modules/es.typed-array.find-index"),F("core-js/modules/es.typed-array.for-each"),F("core-js/modules/es.typed-array.includes"),F("core-js/modules/es.typed-array.index-of"),F("core-js/modules/es.typed-array.iterator"),F("core-js/modules/es.typed-array.join"),F("core-js/modules/es.typed-array.last-index-of"),F("core-js/modules/es.typed-array.map"),F("core-js/modules/es.typed-array.reduce"),F("core-js/modules/es.typed-array.reduce-right"),F("core-js/modules/es.typed-array.reverse"),F("core-js/modules/es.typed-array.set"),F("core-js/modules/es.typed-array.slice"),F("core-js/modules/es.typed-array.some"),F("core-js/modules/es.typed-array.sort"),F("core-js/modules/es.typed-array.subarray"),F("core-js/modules/es.typed-array.to-locale-string"),F("core-js/modules/es.typed-array.to-string"),F("core-js/modules/es.weak-map"),F("core-js/modules/web.dom-collections.iterator"),F("core-js/modules/es.array.fill"),F("core-js/modules/es.array.includes"),F("core-js/modules/es.array.iterator"),F("core-js/modules/es.object.get-prototype-of"),F("core-js/modules/es.object.to-string"),F("core-js/modules/es.string.includes"),F("core-js/modules/es.typed-array.float32-array"),F("core-js/modules/es.typed-array.uint8-array"),F("core-js/modules/es.typed-array.uint8-clamped-array"),F("core-js/modules/es.typed-array.copy-within"),F("core-js/modules/es.typed-array.every"),F("core-js/modules/es.typed-array.fill"),F("core-js/modules/es.typed-array.filter"),F("core-js/modules/es.typed-array.find"),F("core-js/modules/es.typed-array.find-index"),F("core-js/modules/es.typed-array.for-each"),F("core-js/modules/es.typed-array.includes"),F("core-js/modules/es.typed-array.index-of"),F("core-js/modules/es.typed-array.iterator"),F("core-js/modules/es.typed-array.join"),F("core-js/modules/es.typed-array.last-index-of"),F("core-js/modules/es.typed-array.map"),F("core-js/modules/es.typed-array.reduce"),F("core-js/modules/es.typed-array.reduce-right"),F("core-js/modules/es.typed-array.reverse"),F("core-js/modules/es.typed-array.set"),F("core-js/modules/es.typed-array.slice"),F("core-js/modules/es.typed-array.some"),F("core-js/modules/es.typed-array.sort"),F("core-js/modules/es.typed-array.subarray"),F("core-js/modules/es.typed-array.to-locale-string"),F("core-js/modules/es.typed-array.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(M=F("../core/main"))&&M.__esModule?M:{default:M},x=function(B){if(B&&B.__esModule)return B;if(B===null||m(B)!=="object"&&typeof B!="function")return{default:B};var I=h();if(I&&I.has(B))return I.get(B);var G,k={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(G in B){var R;Object.prototype.hasOwnProperty.call(B,G)&&((R=V?Object.getOwnPropertyDescriptor(B,G):null)&&(R.get||R.set)?Object.defineProperty(k,G,R):k[G]=B[G])}return k.default=B,I&&I.set(B,k),k}(F("../core/constants")),S=F("./p5.Texture"),D=F("./p5.RendererGL");function h(){var B;return typeof WeakMap!="function"?null:(B=new WeakMap,h=function(){return B},B)}function _(B,I){return function(G){if(Array.isArray(G))return G}(B)||function(G,k){if(Symbol.iterator in Object(G)||Object.prototype.toString.call(G)==="[object Arguments]"){var V=[],R=!0,U=!1,L=void 0;try{for(var H,X=G[Symbol.iterator]();!(R=(H=X.next()).done)&&(V.push(H.value),!k||V.length!==k);R=!0);}catch(Z){U=!0,L=Z}finally{try{R||X.return==null||X.return()}finally{if(U)throw L}}return V}}(B,I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(B,I,G){return I in B?Object.defineProperty(B,I,{value:G,enumerable:!0,configurable:!0,writable:!0}):B[I]=G,B}function p(B,I){if(!(B instanceof I))throw new TypeError("Cannot call a class as a function")}function b(B,I){for(var G=0;G<I.length;G++){var k=I[G];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(B,k.key,k)}}function y(B,I,G){I&&b(B.prototype,I),G&&b(B,G)}function A(B,I,G){return(A=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(U,V,R){var U=function(L,H){for(;!Object.prototype.hasOwnProperty.call(L,H)&&(L=T(L))!==null;);return L}(U,V);if(U)return(U=Object.getOwnPropertyDescriptor(U,V)).get?U.get.call(R):U.value})(B,I,G||B)}function E(B,I){return(E=Object.setPrototypeOf||function(G,k){return G.__proto__=k,G})(B,I)}function N(B){return function(){var I,G=T(B),G=(I=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(I=T(this).constructor,Reflect.construct(G,arguments,I)):G.apply(this,arguments),this);if(!I||m(I)!=="object"&&typeof I!="function"){if(G!==void 0)return G;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return I}}function T(B){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(B)}var O=function(B){var I=k;if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(B&&B.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),B&&E(I,B);var G=N(k);function k(V){var R;return p(this,k),(R=G.call(this,V.target._renderer)).fbo=V,R.yScale=-1,R}return y(k,[{key:"_computeCameraDefaultSettings",value:function(){A(T(k.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),k}(l.default.Camera),j=(l.default.FramebufferCamera=O,function(){function B(I,G){p(this,B),this.framebuffer=I,this.property=G}return y(B,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),B}()),M=(l.default.FramebufferTexture=j,function(){function B(I){var G=this,k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},V=(p(this,B),this.target=I,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=k.format||x.UNSIGNED_BYTE,this.channels=k.channels||(I._renderer._pInst._glAttributes.alpha?x.RGBA:x.RGB),this.useDepth=k.depth===void 0||k.depth,this.depthFormat=k.depthFormat||x.FLOAT,this.textureFiltering=k.textureFiltering||x.LINEAR,k.antialias===void 0?this.antialiasSamples=I._renderer._pInst._glAttributes.antialias?2:0:typeof k.antialias=="number"?this.antialiasSamples=k.antialias:this.antialiasSamples=k.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&I.webglVersion!==x.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=k.density||I.pixelDensity(),I._renderer.GL);if(this.gl=V,k.width&&k.height?(R=I._renderer._adjustDimensions(k.width,k.height),this.width=R.adjustedWidth,this.height=R.adjustedHeight,this._autoSized=!1):(k.width===void 0!=(k.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=I.width,this.height=I.height,this._autoSized=!0),this._checkIfFormatsAvailable(),k.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(k.stencil===void 0||k.stencil),this.framebuffer=V.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=V.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var R=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=R,this.draw(function(){return G.target.clear()})}return y(B,[{key:"resize",value:function(I,G){this._autoSized=!1;var k=this.target._renderer._adjustDimensions(I,G);I=k.adjustedWidth,G=k.adjustedHeight,this.width=I,this.height=G,this._handleResize()}},{key:"pixelDensity",value:function(I){if(!I)return this.density;this._autoSized=!1,this.density=I,this._handleResize()}},{key:"autoSized",value:function(I){if(I===void 0)return this._autoSized;this._autoSized=I,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var I=this.gl,I=(this.useDepth&&this.target.webglVersion===x.WEBGL&&!I.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===x.WEBGL&&this.depthFormat===x.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=x.UNSIGNED_INT),[x.UNSIGNED_BYTE,x.FLOAT,x.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=x.UNSIGNED_BYTE),this.useDepth&&![x.UNSIGNED_INT,x.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=x.FLOAT),(0,S.checkWebGLCapabilities)(this.target._renderer));I.float||this.format!==x.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=x.UNSIGNED_BYTE),this.useDepth&&!I.float&&this.depthFormat===x.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=x.UNSIGNED_INT),I.halfFloat||this.format!==x.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=x.UNSIGNED_BYTE),this.channels===x.RGB&&[x.FLOAT,x.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=x.RGBA)}},{key:"_recreateTextures",value:function(){var I=this.gl,G=(this._updateSize(),I.getParameter(I.TEXTURE_BINDING_2D)),k=I.getParameter(I.FRAMEBUFFER_BINDING),V=I.createTexture();if(!V)throw new Error("Unable to create color texture");I.bindTexture(I.TEXTURE_2D,V);var R=this._glColorFormat();if(I.texImage2D(I.TEXTURE_2D,0,R.internalFormat,this.width*this.density,this.height*this.density,0,R.format,R.type,null),this.colorTexture=V,I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,V,0),this.useDepth){var V=I.createTexture();if(!V)throw new Error("Unable to create depth texture");var U=this._glDepthFormat();I.bindTexture(I.TEXTURE_2D,V),I.texImage2D(I.TEXTURE_2D,0,U.internalFormat,this.width*this.density,this.height*this.density,0,U.format,U.type,null),I.framebufferTexture2D(I.FRAMEBUFFER,this.useStencil?I.DEPTH_STENCIL_ATTACHMENT:I.DEPTH_ATTACHMENT,I.TEXTURE_2D,V,0),this.depthTexture=V}this.antialias&&(this.colorRenderbuffer=I.createRenderbuffer(),I.bindRenderbuffer(I.RENDERBUFFER,this.colorRenderbuffer),I.renderbufferStorageMultisample(I.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,I.getParameter(I.MAX_SAMPLES))),R.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(U=this._glDepthFormat(),this.depthRenderbuffer=I.createRenderbuffer(),I.bindRenderbuffer(I.RENDERBUFFER,this.depthRenderbuffer),I.renderbufferStorageMultisample(I.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,I.getParameter(I.MAX_SAMPLES))),U.internalFormat,this.width*this.density,this.height*this.density)),I.bindFramebuffer(I.FRAMEBUFFER,this.aaFramebuffer),I.framebufferRenderbuffer(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&I.framebufferRenderbuffer(I.FRAMEBUFFER,this.useStencil?I.DEPTH_STENCIL_ATTACHMENT:I.DEPTH_ATTACHMENT,I.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new j(this,"depthTexture"),V=I.NEAREST,this.depthP5Texture=new l.default.Texture(this.target._renderer,this.depth,{minFilter:V,magFilter:V}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new j(this,"colorTexture"),R=this.textureFiltering===x.LINEAR?I.LINEAR:I.NEAREST,this.colorP5Texture=new l.default.Texture(this.target._renderer,this.color,{minFilter:R,magFilter:R}),this.target._renderer.textures.set(this.color,this.colorP5Texture),I.bindTexture(I.TEXTURE_2D,G),I.bindFramebuffer(I.FRAMEBUFFER,k)}},{key:"_glColorFormat",value:function(){var I,G,k=this.gl,V=this.format===x.FLOAT?k.FLOAT:this.format===x.HALF_FLOAT?this.target.webglVersion===x.WEBGL2?k.HALF_FLOAT:k.getExtension("OES_texture_half_float").HALF_FLOAT_OES:k.UNSIGNED_BYTE,R=this.channels===x.RGBA?k.RGBA:k.RGB;return{internalFormat:this.target.webglVersion===x.WEBGL2?(o(G={},k.FLOAT,o({},k.RGBA,k.RGBA32F)),o(G,k.HALF_FLOAT,o({},k.RGBA,k.RGBA16F)),o(G,k.UNSIGNED_BYTE,(o(I={},k.RGBA,k.RGBA8),o(I,k.RGB,k.RGB8),I)),G[V][R]):this.format===x.HALF_FLOAT?k.RGBA:R,format:R,type:V}}},{key:"_glDepthFormat",value:function(){var k=this.gl,I=this.useStencil?this.depthFormat===x.FLOAT?k.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===x.WEBGL2?k.UNSIGNED_INT_24_8:k.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===x.FLOAT?k.FLOAT:k.UNSIGNED_INT,G=this.useStencil?k.DEPTH_STENCIL:k.DEPTH_COMPONENT,k=this.useStencil?this.depthFormat===x.FLOAT?k.DEPTH32F_STENCIL8:this.target.webglVersion===x.WEBGL2?k.DEPTH24_STENCIL8:k.DEPTH_STENCIL:this.target.webglVersion===x.WEBGL2?this.depthFormat===x.FLOAT?k.DEPTH_COMPONENT32F:k.DEPTH_COMPONENT24:k.DEPTH_COMPONENT;return{internalFormat:k,format:G,type:I}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var V=this.color,I=this.depth,G=this.colorRenderbuffer,k=this.depthRenderbuffer,V=(this._deleteTexture(V),I&&this._deleteTexture(I),this.gl);G&&V.deleteRenderbuffer(G),k&&V.deleteRenderbuffer(k),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var I=new O(this);return I._computeCameraDefaultSettings(),I._setDefaultCamera(),this.target._renderer._curCamera=I}},{key:"_deleteTexture",value:function(I){this.gl.deleteTexture(I.rawTexture()),this.target._renderer.textures.delete(I)}},{key:"remove",value:function(){var I=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),I.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&I.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&I.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&I.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var I=this.gl;I.bindFramebuffer(I.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var I=this.gl,G=(I.bindFramebuffer(I.READ_FRAMEBUFFER,this.aaFramebuffer),I.bindFramebuffer(I.DRAW_FRAMEBUFFER,this.framebuffer),[[I.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&G.push([I.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var k=0,V=G;k<V.length;k++){var U=_(V[k],2),R=U[0],U=U[1];I.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,R,U)}}}},{key:"end",value:function(){var I=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(I.bindFramebuffer(I.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(I){this.begin(),I(),this.end()}},{key:"loadPixels",value:function(){var I=this.gl,G=this.target._renderer.activeFramebuffer(),k=(I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,D.readPixelsWebGL)(this.pixels,I,this.framebuffer,0,0,this.width*this.density,this.height*this.density,k.format,k.type),G?I.bindFramebuffer(I.FRAMEBUFFER,G._framebufferToBind()):I.bindFramebuffer(I.FRAMEBUFFER,null)}},{key:"get",value:function(I,G,k,V){l.default._validateParameters("p5.Framebuffer.get",arguments);var R=this._glColorFormat();if(I===void 0&&G===void 0)G=I=0,k=this.width,V=this.height;else if(k===void 0&&V===void 0)return(I<0||G<0||I>=this.width||G>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),I=this.target.constrain(I,0,this.width-1),G=this.target.constrain(G,0,this.height-1)),(0,D.readPixelWebGL)(this.gl,this.framebuffer,I*this.density,G*this.density,R.format,R.type);I=this.target.constrain(I,0,this.width-1),G=this.target.constrain(G,0,this.height-1),k=this.target.constrain(k,1,this.width-I),V=this.target.constrain(V,1,this.height-G);for(var U=(0,D.readPixelsWebGL)(void 0,this.gl,this.framebuffer,I*this.density,G*this.density,k*this.density,V*this.density,R.format,R.type),L=new Uint8ClampedArray(k*V*this.density*this.density*4),H=(L.fill(255),R.type===this.gl.RGB?3:4),X=0;X<V*this.density;X++)for(var Z=0;Z<k*this.density;Z++)for(var J=0;J<4;J++){var K,$=4*(X*k*this.density+Z)+J;J<H&&(K=H==4?$:(X*k*this.density+Z)*H+J,L[$]=U[K])}return I=new l.default.Image(k*this.density,V*this.density),I.imageData=I.canvas.getContext("2d").createImageData(I.width,I.height),I.imageData.data.set(L),I.pixels=I.imageData.data,I.updatePixels(),this.density!==1&&I.resize(k,V),I}},{key:"updatePixels",value:function(){var I=this.gl,G=(this.colorP5Texture.bindTexture(),this._glColorFormat()),k=G.format===I.RGBA?4:3,k=this.width*this.height*this.density*this.density*k,V=G.type===I.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof V)||this.pixels.length!==k)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");I.texImage2D(I.TEXTURE_2D,0,G.internalFormat,this.width*this.density,this.height*this.density,0,G.format,G.type,this.pixels),this.colorP5Texture.unbindTexture(),V=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(I.clearDepth(1),I.clear(I.DEPTH_BUFFER_BIT)),this.end()):(I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),this.useDepth&&(I.clearDepth(1),I.clear(I.DEPTH_BUFFER_BIT)),V?I.bindFramebuffer(I.FRAMEBUFFER,V._framebufferToBind()):I.bindFramebuffer(I.FRAMEBUFFER,null))}}]),B}()),F=l.default.Framebuffer=M;g.default=F},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(a,r,g){function f(p){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}function m(p){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(b){return f(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":f(b)})(p)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.flat"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.last-index-of"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.unscopables.flat"),a("core-js/modules/es.array-buffer.constructor"),a("core-js/modules/es.map"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.entries"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.set"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.sub"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.flat"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.last-index-of"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.unscopables.flat"),a("core-js/modules/es.array-buffer.constructor"),a("core-js/modules/es.map"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.entries"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.set"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.sub"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(o=a("../core/main"))&&o.__esModule?o:{default:o},x=function(p){if(p&&p.__esModule)return p;if(p===null||m(p)!=="object"&&typeof p!="function")return{default:p};var b=S();if(b&&b.has(p))return b.get(p);var y,A={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in p){var N;Object.prototype.hasOwnProperty.call(p,y)&&((N=E?Object.getOwnPropertyDescriptor(p,y):null)&&(N.get||N.set)?Object.defineProperty(A,y,N):A[y]=p[y])}return A.default=p,b&&b.set(p,A),A}(a("../core/constants"));function S(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,S=function(){return p},p)}function D(p){return function(b){if(Array.isArray(b)){for(var y=0,A=new Array(b.length);y<b.length;y++)A[y]=b[y];return A}}(p)||function(b){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]")return Array.from(b)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(p,b){return function(y){if(Array.isArray(y))return y}(p)||function(y,A){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]"){var E=[],N=!0,T=!1,O=void 0;try{for(var j,M=y[Symbol.iterator]();!(N=(j=M.next()).done)&&(E.push(j.value),!A||E.length!==A);N=!0);}catch(F){T=!0,O=F}finally{try{N||M.return==null||M.return()}finally{if(T)throw O}}return E}}(p,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _(p,b){for(var y=0;y<b.length;y++){var A=b[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(p,A.key,A)}}l.default.Geometry=function(){function p(A,E,N){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new l.default.DataArray,this.lineTangentsIn=new l.default.DataArray,this.lineTangentsOut=new l.default.DataArray,this.lineSides=new l.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new l.default.DataArray,this.detailX=A!==void 0?A:1,this.detailY=E!==void 0?E:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,N instanceof Function&&N.call(this)}var b,y;return b=p,(y=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var A=new l.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),E=new l.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),N=0;N<this.vertices.length;N++){var T=this.vertices[N];A.x=Math.min(A.x,T.x),A.y=Math.min(A.y,T.y),A.z=Math.min(A.z,T.z),E.x=Math.max(E.x,T.x),E.y=Math.max(E.y,T.y),E.z=Math.max(E.z,T.z)}var O=new l.default.Vector(E.x-A.x,E.y-A.y,E.z-A.z),j=new l.default.Vector((A.x+E.x)/2,(A.y+E.y)/2,(A.z+E.z)/2);this.boundingBoxCache={min:A,max:E,size:O,offset:j}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var A=0;A<this.vertexColors.length;A+=4)if(this.vertexColors[A+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var A=0;A<this.lineVertexColors.length;A+=4)if(this.lineVertexColors[A+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var A=this,E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",N="";if(this.vertices.forEach(function(j){N+="v ".concat(j.x," ").concat(j.y," ").concat(j.z,`
`)}),this.uvs&&0<this.uvs.length)for(var T=0;T<this.uvs.length;T+=2)N+="vt ".concat(this.uvs[T]," ").concat(this.uvs[T+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(j){N+="vn ".concat(j.x," ").concat(j.y," ").concat(j.z,`
`)}),this.faces.forEach(function(j){var M="f";j.forEach(function(F){M=M+" "+(F+1),(0<A.vertexNormals.length||0<A.uvs.length)&&(M+="/",0<A.uvs.length&&(M+=F+1),M+="/",0<A.vertexNormals.length&&(M+=F+1))}),N+=M+`
`});var O=new Blob([N],{type:"text/plain"});l.default.prototype.downloadFile(O,E,"obj")}},{key:"saveStl",value:function(){var A=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",E=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,E=E!==void 0&&E,N=A.substring(0,A.lastIndexOf(".")),T=[],O=!0,j=!1,M=void 0;try{for(var F,B=this.faces[Symbol.iterator]();!(O=(F=B.next()).done);O=!0){var I=F.value,G=l.default.Vector.sub(this.vertices[I[1]],this.vertices[I[0]]),k=l.default.Vector.sub(this.vertices[I[2]],this.vertices[I[0]]),V=G.y*k.z-G.z*k.y,R=G.z*k.x-G.x*k.z,U=G.x*k.y-G.y*k.x;T.push(new l.default.Vector(V,R,U).normalize())}}catch(re){j=!0,M=re}finally{try{O||B.return==null||B.return()}finally{if(j)throw M}}if(E){var L,H=80,j=2*this.faces.length+3*this.faces.length*4*4+80+4,M=new ArrayBuffer(j);(L=new DataView(M)).setUint32(H,this.faces.length,!0),H+=4;for(var X=0,Z=Object.entries(this.faces);X<Z.length;X++){var J=h(Z[X],2),$=J[0],J=J[1],$=T[$],K=(L.setFloat32(H,$.x,!0),H+=4,L.setFloat32(H,$.y,!0),H+=4,L.setFloat32(H,$.z,!0),H+=4,!0),$=!1,W=void 0;try{for(var Y,te=J[Symbol.iterator]();!(K=(Y=te.next()).done);K=!0){var ce=Y.value,oe=this.vertices[ce];L.setFloat32(H,oe.x,!0),H+=4,L.setFloat32(H,oe.y,!0),H+=4,L.setFloat32(H,oe.z,!0),H+=4}}catch(xe){$=!0,W=xe}finally{try{K||te.return==null||te.return()}finally{if($)throw W}}L.setUint16(H,0,!0),H+=2}}else{L="solid "+N+`
`;for(var ue=0,Ce=Object.entries(this.faces);ue<Ce.length;ue++){var le=h(Ce[ue],2),ve=le[0],le=le[1],ve=T[ve],ye=(L=L+(" facet norm "+ve.x+" "+ve.y+" "+ve.z+`
`)+`  outer loop
`,!0),ve=!1,pe=void 0;try{for(var be,Ne=le[Symbol.iterator]();!(ye=(be=Ne.next()).done);ye=!0){var he=be.value,ne=this.vertices[he];L+="   vertex "+ne.x+" "+ne.y+" "+ne.z+`
`}}catch(re){ve=!0,pe=re}finally{try{ye||Ne.return==null||Ne.return()}finally{if(ve)throw pe}}L=L+`  endloop
 endfacet
`}L+="endsolid "+N+`
`}E=new Blob([L],{type:"text/plain"}),l.default.prototype.downloadFile(E,A,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(A,E){return E%2==0?1-A:A})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(A,E){return E%2==0?A:1-A})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var A,E,N,T=this.detailX+1,O=0;O<this.detailY;O++)for(var j=0;j<this.detailX;j++)E=(O+1)*T+j+1,this.faces.push([O*T+j,A=O*T+j+1,N=(O+1)*T+j]),this.faces.push([N,A,E]);return this}},{key:"_getFaceNormal",value:function(E){var E=this.faces[E],N=this.vertices[E[0]],O=this.vertices[E[1]],E=this.vertices[E[2]],O=l.default.Vector.sub(O,N),E=l.default.Vector.sub(E,N),N=l.default.Vector.cross(O,E),T=l.default.Vector.mag(N),O=T/(l.default.Vector.mag(O)*l.default.Vector.mag(E));return O===0||isNaN(O)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),N):(1<O&&(O=1),N.mult(Math.asin(O)/T))}},{key:"computeNormals",value:function(){var A,E=this,N=0<arguments.length&&arguments[0]!==void 0?arguments[0]:x.FLAT,T=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,O=this.vertexNormals,j=this.vertices,M=this.faces;if(N===x.SMOOTH){for(var F={},B=[],I=Math.pow(10,T===void 0?3:T),G=function(L){return Math.round(L*I)/I},k=function(L){return"".concat(G(L.x),",").concat(G(L.y),",").concat(G(L.z))},V=0;V<j.length;V++){var R=j[V],U=k(R);F[U]===void 0&&(F[U]=B.length,B.push(R))}M.forEach(function(L){for(var H=0;H<3;++H){var X=L[H],X=j[X],X=k(X);L[H]=F[X]}}),this.edges.forEach(function(L){for(var H=0;H<2;++H){var X=L[H],X=j[X],X=k(X);L[H]=F[X]}}),this.vertices=j=B}for(A=O.length=0;A<j.length;++A)O.push(new l.default.Vector);for(M.forEach(function(L,H){for(var X=E._getFaceNormal(H),Z=0;Z<3;++Z){var J=L[Z];O[J].add(X)}}),A=0;A<j.length;++A)O[A].normalize();return this}},{key:"averageNormals",value:function(){for(var A=0;A<=this.detailY;A++){var E=this.detailX+1,N=l.default.Vector.add(this.vertexNormals[A*E],this.vertexNormals[A*E+this.detailX]),N=l.default.Vector.div(N,2);this.vertexNormals[A*E]=N,this.vertexNormals[A*E+this.detailX]=N}return this}},{key:"averagePoleNormals",value:function(){for(var A=new l.default.Vector(0,0,0),E=0;E<this.detailX;E++)A.add(this.vertexNormals[E]);for(var A=l.default.Vector.div(A,this.detailX),N=0;N<this.detailX;N++)this.vertexNormals[N]=A;A=new l.default.Vector(0,0,0);for(var T=this.vertices.length-1;T>this.vertices.length-1-this.detailX;T--)A.add(this.vertexNormals[T]);A=l.default.Vector.div(A,this.detailX);for(var O=this.vertices.length-1;O>this.vertices.length-1-this.detailX;O--)this.vertexNormals[O]=A;return this}},{key:"_makeTriangleEdges",value:function(){for(var A=this.edges.length=0;A<this.faces.length;A++)this.edges.push([this.faces[A][0],this.faces[A][1]]),this.edges.push([this.faces[A][1],this.faces[A][2]]),this.edges.push([this.faces[A][2],this.faces[A][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var A,E=new Map,N=new Set,T=0;T<this.edges.length;T++){var O,j=this.edges[T-1],M=this.edges[T],F=this.vertices[M[0]],B=this.vertices[M[1]],I=0<this.vertexStrokeColors.length&&j?this.vertexStrokeColors.slice(4*j[1],4*(j[1]+1)):[0,0,0,0],G=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*M[0],4*(M[0]+1)):[0,0,0,0],k=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*M[1],4*(M[1]+1)):[0,0,0,0],V=B.copy().sub(F).normalize(),R=0<V.magSq();R&&this._addSegment(F,B,G,k,V),0<T&&j[1]===M[0]?N.has(M[0])||(N.add(M[0]),E.delete(M[0]),A&&R&&V.dot(A)<1-1e-8&&this._addJoin(F,A,V,G)):(R&&!N.has(M[0])&&((O=E.get(M[0]))?(this._addJoin(F,O.dir,V,G),E.delete(M[0]),N.add(M[0])):E.set(M[0],{point:F,dir:V.copy().mult(-1),color:G})),A&&!N.has(j[1])&&((O=E.get(j[1]))?(this._addJoin(this.vertices[j[1]],A,O.dir.copy().mult(-1),I),E.delete(j[1]),N.add(j[1])):E.set(j[1],{point:this.vertices[j[1]],dir:A,color:I}),A=void 0)),T!==this.edges.length-1||N.has(M[1])||((F=E.get(M[1]))?(this._addJoin(B,V,F.dir.copy().mult(-1),k),E.delete(M[1]),N.add(M[1])):E.set(M[1],{point:B,dir:V,color:k})),R&&(A=V)}var U=!0,L=!1,H=void 0;try{for(var X,Z=E.values()[Symbol.iterator]();!(U=(X=Z.next()).done);U=!0){var J=X.value,K=J.point,$=J.dir,W=J.color;this._addCap(K,$,W)}}catch(Y){L=!0,H=Y}finally{try{U||Z.return==null||Z.return()}finally{if(L)throw H}}return this}},{key:"_addSegment",value:function(j,M,N,T,O){var j=j.array(),M=M.array(),F=O.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var B=0,I=[this.lineTangentsIn,this.lineTangentsOut];B<I.length;B++)for(var G=I[B],k=0;k<6;k++)G.push.apply(G,D(F));return(O=this.lineVertices).push.apply(O,D(j).concat(D(M),D(j),D(M),D(M),D(j))),(O=this.lineVertexColors).push.apply(O,D(N).concat(D(T),D(N),D(T),D(T),D(N))),this}},{key:"_addCap",value:function(A,E,N){for(var T,O=A.array(),j=E.array(),M=[0,0,0],F=0;F<6;F++)(T=this.lineVertices).push.apply(T,D(O)),(T=this.lineTangentsIn).push.apply(T,D(j)),(T=this.lineTangentsOut).push.apply(T,M),(T=this.lineVertexColors).push.apply(T,D(N));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(A,E,N,T){for(var O,j=A.array(),M=E.array(),F=N.array(),B=0;B<12;B++)(O=this.lineVertices).push.apply(O,D(j)),(O=this.lineTangentsIn).push.apply(O,D(M)),(O=this.lineTangentsOut).push.apply(O,D(F)),(O=this.lineVertexColors).push.apply(O,D(T));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var A=this.vertices[0].copy(),E=this.vertices[0].copy(),N=0;N<this.vertices.length;N++)A.x=Math.max(A.x,this.vertices[N].x),E.x=Math.min(E.x,this.vertices[N].x),A.y=Math.max(A.y,this.vertices[N].y),E.y=Math.min(E.y,this.vertices[N].y),A.z=Math.max(A.z,this.vertices[N].z),E.z=Math.min(E.z,this.vertices[N].z);for(var T=l.default.Vector.lerp(A,E,.5),O=l.default.Vector.sub(A,E),j=200/Math.max(Math.max(O.x,O.y),O.z),M=0;M<this.vertices.length;M++)this.vertices[M].sub(T),this.vertices[M].mult(j)}return this}}])&&_(b.prototype,y),p}();var o=l.default.Geometry;g.default=o},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(S,r,g){S("core-js/modules/es.array.iterator"),S("core-js/modules/es.object.to-string"),S("core-js/modules/es.typed-array.float32-array"),S("core-js/modules/es.typed-array.copy-within"),S("core-js/modules/es.typed-array.every"),S("core-js/modules/es.typed-array.fill"),S("core-js/modules/es.typed-array.filter"),S("core-js/modules/es.typed-array.find"),S("core-js/modules/es.typed-array.find-index"),S("core-js/modules/es.typed-array.for-each"),S("core-js/modules/es.typed-array.includes"),S("core-js/modules/es.typed-array.index-of"),S("core-js/modules/es.typed-array.iterator"),S("core-js/modules/es.typed-array.join"),S("core-js/modules/es.typed-array.last-index-of"),S("core-js/modules/es.typed-array.map"),S("core-js/modules/es.typed-array.reduce"),S("core-js/modules/es.typed-array.reduce-right"),S("core-js/modules/es.typed-array.reverse"),S("core-js/modules/es.typed-array.set"),S("core-js/modules/es.typed-array.slice"),S("core-js/modules/es.typed-array.some"),S("core-js/modules/es.typed-array.sort"),S("core-js/modules/es.typed-array.subarray"),S("core-js/modules/es.typed-array.to-locale-string"),S("core-js/modules/es.typed-array.to-string"),S("core-js/modules/es.array.iterator"),S("core-js/modules/es.object.to-string"),S("core-js/modules/es.typed-array.float32-array"),S("core-js/modules/es.typed-array.copy-within"),S("core-js/modules/es.typed-array.every"),S("core-js/modules/es.typed-array.fill"),S("core-js/modules/es.typed-array.filter"),S("core-js/modules/es.typed-array.find"),S("core-js/modules/es.typed-array.find-index"),S("core-js/modules/es.typed-array.for-each"),S("core-js/modules/es.typed-array.includes"),S("core-js/modules/es.typed-array.index-of"),S("core-js/modules/es.typed-array.iterator"),S("core-js/modules/es.typed-array.join"),S("core-js/modules/es.typed-array.last-index-of"),S("core-js/modules/es.typed-array.map"),S("core-js/modules/es.typed-array.reduce"),S("core-js/modules/es.typed-array.reduce-right"),S("core-js/modules/es.typed-array.reverse"),S("core-js/modules/es.typed-array.set"),S("core-js/modules/es.typed-array.slice"),S("core-js/modules/es.typed-array.some"),S("core-js/modules/es.typed-array.sort"),S("core-js/modules/es.typed-array.subarray"),S("core-js/modules/es.typed-array.to-locale-string"),S("core-js/modules/es.typed-array.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(S=S("../core/main"))&&S.__esModule?S:{default:S};function m(D,h){for(var _=0;_<h.length;_++){var o=h[_];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(D,o.key,o)}}var l=Array,x=function(D){return Array.isArray(D)},S=(typeof Float32Array<"u"&&(l=Float32Array,x=function(D){return Array.isArray(D)||D instanceof Float32Array}),f.default.Matrix=function(){function D(){var p=this,b=D;if(p instanceof b)return arguments.length&&((p=arguments.length-1)<0||arguments.length<=p?void 0:arguments[p])instanceof f.default&&(this.p5=(b=arguments.length-1)<0||arguments.length<=b?void 0:arguments[b]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new l([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new l([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var h,_,o;return h=D,o=[{key:"identity",value:function(p){return new f.default.Matrix(p)}}],(_=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(p){var b=arguments;if(p instanceof f.default.Matrix?b=p.mat4:x(p)&&(b=p),b.length!==16)f.default._friendlyError("Expected 16 values but received ".concat(b.length,"."),"p5.Matrix.set");else for(var y=0;y<16;y++)this.mat4[y]=b[y];return this}},{key:"get",value:function(){return new f.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var p;return this.mat3!==void 0?((p=new f.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],p.mat3[1]=this.mat3[1],p.mat3[2]=this.mat3[2],p.mat3[3]=this.mat3[3],p.mat3[4]=this.mat3[4],p.mat3[5]=this.mat3[5],p.mat3[6]=this.mat3[6],p.mat3[7]=this.mat3[7],p.mat3[8]=this.mat3[8]):((p=new f.default.Matrix(this.p5)).mat4[0]=this.mat4[0],p.mat4[1]=this.mat4[1],p.mat4[2]=this.mat4[2],p.mat4[3]=this.mat4[3],p.mat4[4]=this.mat4[4],p.mat4[5]=this.mat4[5],p.mat4[6]=this.mat4[6],p.mat4[7]=this.mat4[7],p.mat4[8]=this.mat4[8],p.mat4[9]=this.mat4[9],p.mat4[10]=this.mat4[10],p.mat4[11]=this.mat4[11],p.mat4[12]=this.mat4[12],p.mat4[13]=this.mat4[13],p.mat4[14]=this.mat4[14],p.mat4[15]=this.mat4[15]),p}},{key:"transpose",value:function(p){var b,y,A,E,N,T;return p instanceof f.default.Matrix?(b=p.mat4[1],y=p.mat4[2],A=p.mat4[3],E=p.mat4[6],N=p.mat4[7],T=p.mat4[11],this.mat4[0]=p.mat4[0],this.mat4[1]=p.mat4[4],this.mat4[2]=p.mat4[8],this.mat4[3]=p.mat4[12],this.mat4[4]=b,this.mat4[5]=p.mat4[5],this.mat4[6]=p.mat4[9],this.mat4[7]=p.mat4[13],this.mat4[8]=y,this.mat4[9]=E,this.mat4[10]=p.mat4[10],this.mat4[11]=p.mat4[14],this.mat4[12]=A,this.mat4[13]=N,this.mat4[14]=T,this.mat4[15]=p.mat4[15]):x(p)&&(b=p[1],y=p[2],A=p[3],E=p[6],N=p[7],T=p[11],this.mat4[0]=p[0],this.mat4[1]=p[4],this.mat4[2]=p[8],this.mat4[3]=p[12],this.mat4[4]=b,this.mat4[5]=p[5],this.mat4[6]=p[9],this.mat4[7]=p[13],this.mat4[8]=y,this.mat4[9]=E,this.mat4[10]=p[10],this.mat4[11]=p[14],this.mat4[12]=A,this.mat4[13]=N,this.mat4[14]=T,this.mat4[15]=p[15]),this}},{key:"invert",value:function(U){U instanceof f.default.Matrix?(b=U.mat4[0],y=U.mat4[1],A=U.mat4[2],E=U.mat4[3],N=U.mat4[4],T=U.mat4[5],O=U.mat4[6],j=U.mat4[7],M=U.mat4[8],F=U.mat4[9],B=U.mat4[10],I=U.mat4[11],G=U.mat4[12],k=U.mat4[13],V=U.mat4[14],R=U.mat4[15]):x(U)&&(b=U[0],y=U[1],A=U[2],E=U[3],N=U[4],T=U[5],O=U[6],j=U[7],M=U[8],F=U[9],B=U[10],I=U[11],G=U[12],k=U[13],V=U[14],R=U[15]);var b,y,A,E,N,T,O,j,M,F,B,I,G,k,V,R,U=b*T-y*N,L=b*O-A*N,H=b*j-E*N,X=y*O-A*T,Z=y*j-E*T,J=A*j-E*O,K=M*k-F*G,$=M*V-B*G,W=M*R-I*G,Y=F*V-B*k,te=F*R-I*k,ce=B*R-I*V,oe=U*ce-L*te+H*Y+X*W-Z*$+J*K;return oe?(this.mat4[0]=(T*ce-O*te+j*Y)*(oe=1/oe),this.mat4[1]=(A*te-y*ce-E*Y)*oe,this.mat4[2]=(k*J-V*Z+R*X)*oe,this.mat4[3]=(B*Z-F*J-I*X)*oe,this.mat4[4]=(O*W-N*ce-j*$)*oe,this.mat4[5]=(b*ce-A*W+E*$)*oe,this.mat4[6]=(V*H-G*J-R*L)*oe,this.mat4[7]=(M*J-B*H+I*L)*oe,this.mat4[8]=(N*te-T*W+j*K)*oe,this.mat4[9]=(y*W-b*te-E*K)*oe,this.mat4[10]=(G*Z-k*H+R*U)*oe,this.mat4[11]=(F*H-M*Z-I*U)*oe,this.mat4[12]=(T*$-N*Y-O*K)*oe,this.mat4[13]=(b*Y-y*$+A*K)*oe,this.mat4[14]=(k*L-G*X-V*U)*oe,this.mat4[15]=(M*X-F*L+B*U)*oe,this):null}},{key:"invert3x3",value:function(){var p=this.mat3[0],b=this.mat3[1],y=this.mat3[2],A=this.mat3[3],E=this.mat3[4],N=this.mat3[5],T=this.mat3[6],O=this.mat3[7],j=this.mat3[8],M=j*E-N*O,F=-j*A+N*T,B=O*A-E*T,I=p*M+b*F+y*B;return I?(this.mat3[0]=M*(I=1/I),this.mat3[1]=(-j*b+y*O)*I,this.mat3[2]=(N*b-y*E)*I,this.mat3[3]=F*I,this.mat3[4]=(j*p-y*T)*I,this.mat3[5]=(-N*p+y*A)*I,this.mat3[6]=B*I,this.mat3[7]=(-O*p+b*T)*I,this.mat3[8]=(E*p-b*A)*I,this):null}},{key:"transpose3x3",value:function(p){var b=(p=p===void 0?this.mat3:p)[1],y=p[2],A=p[5];return this.mat3[0]=p[0],this.mat3[1]=p[3],this.mat3[2]=p[6],this.mat3[3]=b,this.mat3[4]=p[4],this.mat3[5]=p[7],this.mat3[6]=y,this.mat3[7]=A,this.mat3[8]=p[8],this}},{key:"inverseTranspose",value:function(p){if(p=p.mat4,this.mat3===void 0?f.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=p[0],this.mat3[1]=p[1],this.mat3[2]=p[2],this.mat3[3]=p[4],this.mat3[4]=p[5],this.mat3[5]=p[6],this.mat3[6]=p[8],this.mat3[7]=p[9],this.mat3[8]=p[10]),p=this.invert3x3(),p)p.transpose3x3(this.mat3);else for(var b=0;b<9;b++)this.mat3[b]=0;return this}},{key:"determinant",value:function(){var p=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],b=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],y=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],A=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],E=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],N=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],T=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],O=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],j=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],M=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],F=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return p*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-b*F+y*M+A*j-E*O+N*T}},{key:"mult",value:function(y){var b;if(y===this||y===this.mat4)b=this.copy().mat4;else if(y instanceof f.default.Matrix)b=y.mat4;else if(x(y))b=y;else{if(arguments.length!==16)return;b=arguments}var y=this.mat4[0],A=this.mat4[1],E=this.mat4[2],N=this.mat4[3];return this.mat4[0]=y*b[0]+A*b[4]+E*b[8]+N*b[12],this.mat4[1]=y*b[1]+A*b[5]+E*b[9]+N*b[13],this.mat4[2]=y*b[2]+A*b[6]+E*b[10]+N*b[14],this.mat4[3]=y*b[3]+A*b[7]+E*b[11]+N*b[15],y=this.mat4[4],A=this.mat4[5],E=this.mat4[6],N=this.mat4[7],this.mat4[4]=y*b[0]+A*b[4]+E*b[8]+N*b[12],this.mat4[5]=y*b[1]+A*b[5]+E*b[9]+N*b[13],this.mat4[6]=y*b[2]+A*b[6]+E*b[10]+N*b[14],this.mat4[7]=y*b[3]+A*b[7]+E*b[11]+N*b[15],y=this.mat4[8],A=this.mat4[9],E=this.mat4[10],N=this.mat4[11],this.mat4[8]=y*b[0]+A*b[4]+E*b[8]+N*b[12],this.mat4[9]=y*b[1]+A*b[5]+E*b[9]+N*b[13],this.mat4[10]=y*b[2]+A*b[6]+E*b[10]+N*b[14],this.mat4[11]=y*b[3]+A*b[7]+E*b[11]+N*b[15],y=this.mat4[12],A=this.mat4[13],E=this.mat4[14],N=this.mat4[15],this.mat4[12]=y*b[0]+A*b[4]+E*b[8]+N*b[12],this.mat4[13]=y*b[1]+A*b[5]+E*b[9]+N*b[13],this.mat4[14]=y*b[2]+A*b[6]+E*b[10]+N*b[14],this.mat4[15]=y*b[3]+A*b[7]+E*b[11]+N*b[15],this}},{key:"apply",value:function(y){var b;if(y===this||y===this.mat4)b=this.copy().mat4;else if(y instanceof f.default.Matrix)b=y.mat4;else if(x(y))b=y;else{if(arguments.length!==16)return;b=arguments}var y=this.mat4,A=y[0],E=y[4],N=y[8],T=y[12],A=(y[0]=b[0]*A+b[1]*E+b[2]*N+b[3]*T,y[4]=b[4]*A+b[5]*E+b[6]*N+b[7]*T,y[8]=b[8]*A+b[9]*E+b[10]*N+b[11]*T,y[12]=b[12]*A+b[13]*E+b[14]*N+b[15]*T,y[1]),E=y[5],N=y[9],T=y[13],A=(y[1]=b[0]*A+b[1]*E+b[2]*N+b[3]*T,y[5]=b[4]*A+b[5]*E+b[6]*N+b[7]*T,y[9]=b[8]*A+b[9]*E+b[10]*N+b[11]*T,y[13]=b[12]*A+b[13]*E+b[14]*N+b[15]*T,y[2]),E=y[6],N=y[10],T=y[14],A=(y[2]=b[0]*A+b[1]*E+b[2]*N+b[3]*T,y[6]=b[4]*A+b[5]*E+b[6]*N+b[7]*T,y[10]=b[8]*A+b[9]*E+b[10]*N+b[11]*T,y[14]=b[12]*A+b[13]*E+b[14]*N+b[15]*T,y[3]),E=y[7],N=y[11],T=y[15];return y[3]=b[0]*A+b[1]*E+b[2]*N+b[3]*T,y[7]=b[4]*A+b[5]*E+b[6]*N+b[7]*T,y[11]=b[8]*A+b[9]*E+b[10]*N+b[11]*T,y[15]=b[12]*A+b[13]*E+b[14]*N+b[15]*T,this}},{key:"scale",value:function(p,b,y){return p instanceof f.default.Vector?(b=p.y,y=p.z,p=p.x):p instanceof Array&&(b=p[1],y=p[2],p=p[0]),this.mat4[0]*=p,this.mat4[1]*=p,this.mat4[2]*=p,this.mat4[3]*=p,this.mat4[4]*=b,this.mat4[5]*=b,this.mat4[6]*=b,this.mat4[7]*=b,this.mat4[8]*=y,this.mat4[9]*=y,this.mat4[10]*=y,this.mat4[11]*=y,this}},{key:"rotate",value:function(U,te,Y,A){te instanceof f.default.Vector?(Y=te.y,A=te.z,te=te.x):te instanceof Array&&(Y=te[1],A=te[2],te=te[0]);var E=Math.sqrt(te*te+Y*Y+A*A),E=(te*=1/E,Y*=1/E,A*=1/E,this.mat4[0]),N=this.mat4[1],T=this.mat4[2],O=this.mat4[3],j=this.mat4[4],M=this.mat4[5],F=this.mat4[6],B=this.mat4[7],I=this.mat4[8],G=this.mat4[9],k=this.mat4[10],V=this.mat4[11],R=Math.sin(U),U=Math.cos(U),L=1-U,H=te*te*L+U,X=Y*te*L+A*R,Z=A*te*L-Y*R,J=te*Y*L-A*R,K=Y*Y*L+U,$=A*Y*L+te*R,W=te*A*L+Y*R,Y=Y*A*L-te*R,te=A*A*L+U;return this.mat4[0]=E*H+j*X+I*Z,this.mat4[1]=N*H+M*X+G*Z,this.mat4[2]=T*H+F*X+k*Z,this.mat4[3]=O*H+B*X+V*Z,this.mat4[4]=E*J+j*K+I*$,this.mat4[5]=N*J+M*K+G*$,this.mat4[6]=T*J+F*K+k*$,this.mat4[7]=O*J+B*K+V*$,this.mat4[8]=E*W+j*Y+I*te,this.mat4[9]=N*W+M*Y+G*te,this.mat4[10]=T*W+F*Y+k*te,this.mat4[11]=O*W+B*Y+V*te,this}},{key:"translate",value:function(A){var b=A[0],y=A[1],A=A[2]||0;this.mat4[12]+=this.mat4[0]*b+this.mat4[4]*y+this.mat4[8]*A,this.mat4[13]+=this.mat4[1]*b+this.mat4[5]*y+this.mat4[9]*A,this.mat4[14]+=this.mat4[2]*b+this.mat4[6]*y+this.mat4[10]*A,this.mat4[15]+=this.mat4[3]*b+this.mat4[7]*y+this.mat4[11]*A}},{key:"rotateX",value:function(p){this.rotate(p,1,0,0)}},{key:"rotateY",value:function(p){this.rotate(p,0,1,0)}},{key:"rotateZ",value:function(p){this.rotate(p,0,0,1)}},{key:"perspective",value:function(E,b,y,A){var E=1/Math.tan(E/2),N=1/(y-A);return this.mat4[0]=E/b,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=E,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(A+y)*N,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*A*y*N,this.mat4[15]=0,this}},{key:"ortho",value:function(p,b,y,A,E,N){var T=1/(p-b),O=1/(y-A),j=1/(E-N);return this.mat4[0]=-2*T,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*O,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*j,this.mat4[11]=0,this.mat4[12]=(p+b)*T,this.mat4[13]=(A+y)*O,this.mat4[14]=(N+E)*j,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(p,b,y,A){var E=new Array(4),N=this.mat4;return E[0]=N[0]*p+N[4]*b+N[8]*y+N[12]*A,E[1]=N[1]*p+N[5]*b+N[9]*y+N[13]*A,E[2]=N[2]*p+N[6]*b+N[10]*y+N[14]*A,E[3]=N[3]*p+N[7]*b+N[11]*y+N[15]*A,E}},{key:"multiplyPoint",value:function(y){var A=y.x,b=y.y,y=y.z,A=this.multiplyVec4(A,b,y,1);return new f.default.Vector(A[0],A[1],A[2])}},{key:"multiplyAndNormalizePoint",value:function(y){var A=y.x,b=y.y,y=y.z,A=this.multiplyVec4(A,b,y,1);return A[0]/=A[3],A[1]/=A[3],A[2]/=A[3],new f.default.Vector(A[0],A[1],A[2])}},{key:"multiplyDirection",value:function(y){var A=y.x,b=y.y,y=y.z,A=this.multiplyVec4(A,b,y,0);return new f.default.Vector(A[0],A[1],A[2])}},{key:"mult3x3",value:function(y){var b;if(y===this||y===this.mat3)b=this.copy().mat3;else if(y instanceof f.default.Matrix)b=y.mat3;else if(x(y))b=y;else{if(arguments.length!==9)return;b=arguments}var y=this.mat3[0],A=this.mat3[1],E=this.mat3[2];return this.mat3[0]=y*b[0]+A*b[3]+E*b[6],this.mat3[1]=y*b[1]+A*b[4]+E*b[7],this.mat3[2]=y*b[2]+A*b[5]+E*b[8],y=this.mat3[3],A=this.mat3[4],E=this.mat3[5],this.mat3[3]=y*b[0]+A*b[3]+E*b[6],this.mat3[4]=y*b[1]+A*b[4]+E*b[7],this.mat3[5]=y*b[2]+A*b[5]+E*b[8],y=this.mat3[6],A=this.mat3[7],E=this.mat3[8],this.mat3[6]=y*b[0]+A*b[3]+E*b[6],this.mat3[7]=y*b[1]+A*b[4]+E*b[7],this.mat3[8]=y*b[2]+A*b[5]+E*b[8],this}},{key:"column",value:function(p){return new f.default.Vector(this.mat3[3*p],this.mat3[3*p+1],this.mat3[3*p+2])}},{key:"row",value:function(p){return new f.default.Vector(this.mat3[p],this.mat3[p+3],this.mat3[p+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(p,b){return(b=b===void 0?p.copy():b).x=this.row(0).dot(p),b.y=this.row(1).dot(p),b.z=this.row(2).dot(p),b}},{key:"createSubMatrix3x3",value:function(){var p=new f.default.Matrix("mat3");return p.mat3[0]=this.mat4[0],p.mat3[1]=this.mat4[1],p.mat3[2]=this.mat4[2],p.mat3[3]=this.mat4[4],p.mat3[4]=this.mat4[5],p.mat3[5]=this.mat4[6],p.mat3[6]=this.mat4[8],p.mat3[7]=this.mat4[9],p.mat3[8]=this.mat4[10],p}}])&&m(h.prototype,_),o&&m(h,o),D}(),f.default.Matrix);g.default=S},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(a,r,g){Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(a=a("../core/main"))&&a.__esModule?a:{default:a};function m(l,x){for(var S=0;S<x.length;S++){var D=x[S];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(l,D.key,D)}}f.default.Quat=function(){function l(h,_,o,p){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.w=h,this.vec=new f.default.Vector(_,o,p)}var x,S,D;return x=l,D=[{key:"fromAxisAngle",value:function(h,y,o,p){var b=Math.cos(h/2),y=new f.default.Vector(y,o,p).normalize().mult(Math.sin(h/2));return new f.default.Quat(b,y.x,y.y,y.z)}}],(S=[{key:"conjugate",value:function(){return new f.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(h){return new f.default.Quat(this.w*h.w-this.vec.x*h.vec.x-this.vec.y*h.vec.y-this.vec.z-h.vec.z,this.w*h.vec.x+this.vec.x*h.w+this.vec.y*h.vec.z-this.vec.z*h.vec.y,this.w*h.vec.y-this.vec.x*h.vec.z+this.vec.y*h.w+this.vec.z*h.vec.x,this.w*h.vec.z+this.vec.x*h.vec.y-this.vec.y*h.vec.x+this.vec.z*h.w)}},{key:"rotateVector",value:function(h){return new f.default.Vector.mult(h,this.w*this.w-this.vec.dot(this.vec)).add(f.default.Vector.mult(this.vec,2*h.dot(this.vec))).add(f.default.Vector.mult(this.vec,2*this.w).cross(h)).clampToZero()}},{key:"rotateBy",value:function(h){return h.multiply(this).multiply(h.conjugate()).vec.clampToZero()}}])&&m(x.prototype,S),D&&m(x,D),l}(),a=f.default.Quat,g.default=a},{"../core/main":283}],338:[function(a,r,g){a("core-js/modules/es.array.map"),a("core-js/modules/es.array.map"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a};function f(m,l){for(var x=0;x<l.length;x++){var S=l[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}a.default.RenderBuffer=function(){function m(S,D,h,_,o,p){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.size=S,this.src=D,this.dst=h,this.attr=_,this._renderer=o,this.map=p}var l,x;return l=m,(x=[{key:"_prepareBuffer",value:function(S,D){var h,_,o,y=D.attributes,p=this._renderer.GL,b=S.model||S,y=y[this.attr];y&&(h=S[this.dst],0<(_=b[this.src]).length?((o=!h)&&(S[this.dst]=h=p.createBuffer()),p.bindBuffer(p.ARRAY_BUFFER,h),!o&&b.dirtyFlags[this.src]===!1||(o=(S=this.map)?S(_):_,this._renderer._bindBuffer(h,p.ARRAY_BUFFER,o),b.dirtyFlags[this.src]=!1),D.enableAttrib(y,this.size)):(S=y.location)!==-1&&this._renderer.registerEnabled.has(S)&&(p.disableVertexAttribArray(S),this._renderer.registerEnabled.delete(S)))}}])&&f(l.prototype,x),m}(),a=a.default.RenderBuffer,g.default=a},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(a,r,g){function f(o){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(o)}function m(o){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(p){return f(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":f(p)})(o)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.find-index"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.map"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.find-index"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.map"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(_=a("../core/main"))&&_.__esModule?_:{default:_},x=function(o){if(o&&o.__esModule)return o;if(o===null||m(o)!=="object"&&typeof o!="function")return{default:o};var p=S();if(p&&p.has(o))return p.get(o);var b,y={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in o){var E;Object.prototype.hasOwnProperty.call(o,b)&&((E=A?Object.getOwnPropertyDescriptor(o,b):null)&&(E.get||E.set)?Object.defineProperty(y,b,E):y[b]=o[b])}return y.default=o,p&&p.set(o,y),y}(a("../core/constants"));function S(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,S=function(){return o},o)}function D(o){return function(p){if(Array.isArray(p)){for(var b=0,y=new Array(p.length);b<p.length;b++)y[b]=p[b];return y}}(o)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a("./p5.RenderBuffer"),l.default.RendererGL.prototype.beginShape=function(o){return this.immediateMode.shapeMode=o!==void 0?o:x.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var h={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},_=(l.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==x.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},l.default.RendererGL.prototype.vertex=function(o,p){if(this.immediateMode.shapeMode===x.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var b in h){var y=h[b],b=this.immediateMode.geometry[b];b.push.apply(b,D(b.slice(b.length-3*y,b.length-2*y)).concat(D(b.slice(b.length-y,b.length))))}var A,E,N=A=E=0,T=(arguments.length===3?N=arguments[2]:arguments.length===4?(A=arguments[2],E=arguments[3]):arguments.length===5&&(N=arguments[2],A=arguments[3],E=arguments[4]),new l.default.Vector(o,p,N)),T=(this.immediateMode.geometry.vertices.push(T),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),T=(this.immediateMode.geometry.vertexColors.push(T[0],T[1],T[2],T[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(T[0],T[1],T[2],T[3]),this.textureMode!==x.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(A/=this._tex.width,E/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(A,E),this.immediateMode._bezierVertex[0]=o,this.immediateMode._bezierVertex[1]=p,this.immediateMode._bezierVertex[2]=N,this.immediateMode._quadraticVertex[0]=o,this.immediateMode._quadraticVertex[1]=p,this.immediateMode._quadraticVertex[2]=N,this},l.default.RendererGL.prototype.normal=function(o,p,b){return o instanceof l.default.Vector?this._currentNormal=o:this._currentNormal=new l.default.Vector(o,p,b),this},l.default.RendererGL.prototype.endShape=function(o,p,b,y,A,E){var N,T=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===x.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===x.TESS&&(this.immediateMode.shapeMode=x.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),N=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==x.LINE_STRIP&&this.immediateMode.shapeMode!==x.LINES||(this.immediateMode.shapeMode=x.TRIANGLE_FAN,N=!0),this.immediateMode.shapeMode===x.QUADS?this.immediateMode.shapeMode=x.TRIANGLES:this.immediateMode.shapeMode===x.QUAD_STRIP&&(this.immediateMode.shapeMode=x.TRIANGLE_STRIP),this._doFill&&!N&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(T),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},l.default.RendererGL.prototype._processVertices=function(o){var p;this.immediateMode.geometry.vertices.length!==0&&(p=this._doStroke,o=o===x.CLOSE,p&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,o),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),p=this.immediateMode.shapeMode===x.TESS,o=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||p||o)&&this.immediateMode.shapeMode!==x.LINES&&this._tesselateShape())},l.default.RendererGL.prototype._calculateEdges=function(o,p,b){var y=[],A=0,E=this.immediateMode.contourIndices.slice(),N=0;switch(o){case x.TRIANGLE_STRIP:for(A=0;A<p.length-2;A++)y.push([A,A+1]),y.push([A,A+2]);y.push([A,A+1]);break;case x.TRIANGLE_FAN:for(A=1;A<p.length-1;A++)y.push([0,A]),y.push([A,A+1]);y.push([0,p.length-1]);break;case x.TRIANGLES:for(A=0;A<p.length-2;A+=3)y.push([A,A+1]),y.push([A+1,A+2]),y.push([A+2,A]);break;case x.LINES:for(A=0;A<p.length-1;A+=2)y.push([A,A+1]);break;case x.QUADS:for(A=0;A<p.length-5;A+=6)y.push([A,A+1]),y.push([A+1,A+2]),y.push([A+3,A+5]),y.push([A+4,A+5]);break;case x.QUAD_STRIP:for(A=0;A<p.length-2;A+=2)y.push([A,A+1]),y.push([A,A+2]),y.push([A+1,A+3]);y.push([A,A+1]);break;default:for(A=0;A<p.length;A++)A+1<p.length&&A+1!==E[0]?y.push([A,A+1]):((b||N)&&y.push([A,N]),0<E.length&&(N=E.shift()))}return o!==x.TESS&&b&&y.push([p.length-1,0]),y},l.default.RendererGL.prototype._tesselateShape=function(){for(var o=this,p=(this.immediateMode.shapeMode=x.TRIANGLES,[[]]),b=0;b<this.immediateMode.geometry.vertices.length;b++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===b&&(this.immediateMode.contourIndices.shift(),p.push([])),p[p.length-1].push(this.immediateMode.geometry.vertices[b].x,this.immediateMode.geometry.vertices[b].y,this.immediateMode.geometry.vertices[b].z,this.immediateMode.geometry.uvs[2*b],this.immediateMode.geometry.uvs[2*b+1],this.immediateMode.geometry.vertexColors[4*b],this.immediateMode.geometry.vertexColors[4*b+1],this.immediateMode.geometry.vertexColors[4*b+2],this.immediateMode.geometry.vertexColors[4*b+3],this.immediateMode.geometry.vertexNormals[b].x,this.immediateMode.geometry.vertexNormals[b].y,this.immediateMode.geometry.vertexNormals[b].z);for(var y,A=this._triangulate(p),E=this.immediateMode.geometry.vertices,N=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),T=0,O=A.length;T<O;T+=l.default.RendererGL.prototype.tessyVertexSize)N.push.apply(N,D(A.slice(T+5,T+9))),this.normal.apply(this,D(A.slice(T+9,T+12))),this.vertex.apply(this,D(A.slice(T,T+5)));this.geometryBuilder&&(y=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(j){return j.map(function(M){if(!y.has(M)){var F=E[M],B=o.immediateMode.geometry.vertices.findIndex(function(L){return F.x===L.x&&F.y===L.y&&F.z===L.z});if(B===-1){for(var I=1/0,G=0,k=0;k<o.immediateMode.geometry.vertices.length;k++){var R=o.immediateMode.geometry.vertices[k],U=F.x-R.x,V=F.y-R.y,R=F.z-R.z,U=U*U+V*V+R*R;U<I&&(I=U,G=k)}B=G}y.set(M,B)}return y.get(M)})})),this.immediateMode.geometry.vertexColors=N},l.default.RendererGL.prototype._drawImmediateFill=function(){var o,p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,b=this.GL,y=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,o=this._getImmediateFillShader(),this._setFillUniforms(o),!0),A=!1,E=void 0;try{for(var N,T=this.immediateMode.buffers.fill[Symbol.iterator]();!(y=(N=T.next()).done);y=!0)N.value._prepareBuffer(this.immediateMode.geometry,o)}catch(O){A=!0,E=O}finally{try{y||T.return==null||T.return()}finally{if(A)throw E}}if(o.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),p===1)b.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{b.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,p)}catch{console.log("🌸 p5.js says: Instancing is only supported in WebGL2 mode")}o.unbindShader()},l.default.RendererGL.prototype._drawImmediateStroke=function(){var o=this.GL,p=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),b=(this._setStrokeUniforms(p),!0),y=!1,A=void 0;try{for(var E,N=this.immediateMode.buffers.stroke[Symbol.iterator]();!(b=(E=N.next()).done);b=!0)E.value._prepareBuffer(this.immediateMode.geometry,p)}catch(T){y=!0,A=T}finally{try{b||N.return==null||N.return()}finally{if(y)throw A}}p.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),o.drawArrays(o.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),p.unbindShader()},l.default.RendererGL);g.default=_},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(a,r,g){function f(h){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(h)}function m(h){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(_){return f(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":f(_)})(h)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.some"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.typed-array.float32-array"),a("core-js/modules/es.typed-array.uint16-array"),a("core-js/modules/es.typed-array.uint32-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.some"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.typed-array.float32-array"),a("core-js/modules/es.typed-array.uint16-array"),a("core-js/modules/es.typed-array.uint32-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var l=(D=a("../core/main"))&&D.__esModule?D:{default:D},x=(a("./p5.RendererGL"),a("./p5.RenderBuffer"),function(h){if(h&&h.__esModule)return h;if(h===null||m(h)!=="object"&&typeof h!="function")return{default:h};var _=S();if(_&&_.has(h))return _.get(h);var o,p={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in h){var y;Object.prototype.hasOwnProperty.call(h,o)&&((y=b?Object.getOwnPropertyDescriptor(h,o):null)&&(y.get||y.set)?Object.defineProperty(p,o,y):p[o]=h[o])}return p.default=h,_&&_.set(h,p),p}(a("../core/constants")));function S(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,S=function(){return h},h)}l.default.RendererGL.prototype.freeGeometry=function(h){h.gid?this._freeBuffers(h.gid):console.warn("The model you passed to freeGeometry does not have an id!")},l.default.RendererGL.prototype._initBufferDefaults=function(h){var _;return this._freeBuffers(h),1e3<Object.keys(this.retainedMode.geometry).length&&(_=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(_)),this.retainedMode.geometry[h]={}},l.default.RendererGL.prototype._freeBuffers=function(h){var _,o=this.retainedMode.geometry[h];function p(b){var y=!0,A=!1,E=void 0;try{for(var N,T=b[Symbol.iterator]();!(y=(N=T.next()).done);y=!0){var O=N.value;o[O.dst]&&(_.deleteBuffer(o[O.dst]),o[O.dst]=null)}}catch(j){A=!0,E=j}finally{try{y||T.return==null||T.return()}finally{if(A)throw E}}}o&&(delete this.retainedMode.geometry[h],_=this.GL,o.indexBuffer&&_.deleteBuffer(o.indexBuffer),p(this.retainedMode.buffers.stroke),p(this.retainedMode.buffers.fill))},l.default.RendererGL.prototype.createBuffers=function(A,_){var o,p,b,y=this.GL,A=this._initBufferDefaults(A),E=(A.model=_,A.indexBuffer);return _.faces.length?(E=E||(A.indexBuffer=y.createBuffer()),b=(p=(o=l.default.RendererGL.prototype._flatten(_.faces)).some(function(N){return 65535<N}))?Uint32Array:Uint16Array,this._bindBuffer(E,y.ELEMENT_ARRAY_BUFFER,o,b),A.indexBufferType=p?y.UNSIGNED_INT:y.UNSIGNED_SHORT,A.vertexCount=3*_.faces.length):(E&&(y.deleteBuffer(E),A.indexBuffer=null),A.vertexCount=_.vertices?_.vertices.length:0),A.lineVertexCount=_.lineVertices?_.lineVertices.length/3:0,A},l.default.RendererGL.prototype.drawBuffers=function(h){var _=this.GL,o=this.retainedMode.geometry[h];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[h].vertexCount){this._useVertexColor=0<o.model.vertexColors.length;var p=this._getRetainedFillShader(),b=(this._setFillUniforms(p),!0),y=!1,A=void 0;try{for(var E,N=this.retainedMode.buffers.fill[Symbol.iterator]();!(b=(E=N.next()).done);b=!0)E.value._prepareBuffer(o,p)}catch(F){y=!0,A=F}finally{try{b||N.return==null||N.return()}finally{if(y)throw A}}p.disableRemainingAttributes(),o.indexBuffer&&this._bindBuffer(o.indexBuffer,_.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,o.model.hasFillTransparency()),this._drawElements(_.TRIANGLES,h),p.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<o.lineVertexCount){this._useLineColor=0<o.model.vertexStrokeColors.length;var T=this._getRetainedStrokeShader(),O=(this._setStrokeUniforms(T),!0),y=!1,A=void 0;try{for(var j,M=this.retainedMode.buffers.stroke[Symbol.iterator]();!(O=(j=M.next()).done);O=!0)j.value._prepareBuffer(o,T)}catch(I){y=!0,A=I}finally{try{O||M.return==null||M.return()}finally{if(y)throw A}}T.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,o.model.hasStrokeTransparency()),this._drawArrays(_.TRIANGLES,h),T.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(o),this},l.default.RendererGL.prototype.drawBuffersScaled=function(h,_,o,p){var b=this.uModelMatrix.copy();try{this.uModelMatrix.scale(_,o,p),this.drawBuffers(h)}finally{this.uModelMatrix=b}},l.default.RendererGL.prototype._drawArrays=function(h,_){return this.GL.drawArrays(h,0,this.retainedMode.geometry[_].lineVertexCount),this},l.default.RendererGL.prototype._drawElements=function(h,o){var o=this.retainedMode.geometry[o],p=this.GL;if(o.indexBuffer){if(this._pInst.webglVersion!==x.WEBGL2&&o.indexBufferType===p.UNSIGNED_INT&&!p.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");p.drawElements(p.TRIANGLES,o.vertexCount,o.indexBufferType,0)}else p.drawArrays(h||p.TRIANGLES,0,o.vertexCount)},l.default.RendererGL.prototype._drawPoints=function(h,_){var o=this.GL,p=this._getImmediatePointShader();this._setPointUniforms(p),this._bindBuffer(_,o.ARRAY_BUFFER,this._vToNArray(h),Float32Array,o.STATIC_DRAW),p.enableAttrib(p.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),o.drawArrays(o.Points,0,h.length),p.unbindShader()};var D=l.default.RendererGL;g.default=D},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(k,r,g){function f(X){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(X)}function m(X){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(Z){return f(Z)}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":f(Z)})(X)}k("core-js/modules/es.symbol"),k("core-js/modules/es.symbol.description"),k("core-js/modules/es.symbol.iterator"),k("core-js/modules/es.array.concat"),k("core-js/modules/es.array.copy-within"),k("core-js/modules/es.array.every"),k("core-js/modules/es.array.fill"),k("core-js/modules/es.array.flat"),k("core-js/modules/es.array.flat-map"),k("core-js/modules/es.array.from"),k("core-js/modules/es.array.includes"),k("core-js/modules/es.array.iterator"),k("core-js/modules/es.array.map"),k("core-js/modules/es.array.slice"),k("core-js/modules/es.array.some"),k("core-js/modules/es.array.unscopables.flat"),k("core-js/modules/es.array.unscopables.flat-map"),k("core-js/modules/es.map"),k("core-js/modules/es.object.assign"),k("core-js/modules/es.object.get-own-property-descriptor"),k("core-js/modules/es.object.get-prototype-of"),k("core-js/modules/es.object.to-string"),k("core-js/modules/es.reflect.construct"),k("core-js/modules/es.reflect.get"),k("core-js/modules/es.regexp.to-string"),k("core-js/modules/es.set"),k("core-js/modules/es.string.includes"),k("core-js/modules/es.string.iterator"),k("core-js/modules/es.typed-array.float32-array"),k("core-js/modules/es.typed-array.float64-array"),k("core-js/modules/es.typed-array.int16-array"),k("core-js/modules/es.typed-array.uint8-array"),k("core-js/modules/es.typed-array.uint16-array"),k("core-js/modules/es.typed-array.uint32-array"),k("core-js/modules/es.typed-array.copy-within"),k("core-js/modules/es.typed-array.every"),k("core-js/modules/es.typed-array.fill"),k("core-js/modules/es.typed-array.filter"),k("core-js/modules/es.typed-array.find"),k("core-js/modules/es.typed-array.find-index"),k("core-js/modules/es.typed-array.for-each"),k("core-js/modules/es.typed-array.includes"),k("core-js/modules/es.typed-array.index-of"),k("core-js/modules/es.typed-array.iterator"),k("core-js/modules/es.typed-array.join"),k("core-js/modules/es.typed-array.last-index-of"),k("core-js/modules/es.typed-array.map"),k("core-js/modules/es.typed-array.reduce"),k("core-js/modules/es.typed-array.reduce-right"),k("core-js/modules/es.typed-array.reverse"),k("core-js/modules/es.typed-array.set"),k("core-js/modules/es.typed-array.slice"),k("core-js/modules/es.typed-array.some"),k("core-js/modules/es.typed-array.sort"),k("core-js/modules/es.typed-array.subarray"),k("core-js/modules/es.typed-array.to-locale-string"),k("core-js/modules/es.typed-array.to-string"),k("core-js/modules/es.weak-map"),k("core-js/modules/web.dom-collections.iterator"),k("core-js/modules/es.symbol"),k("core-js/modules/es.symbol.description"),k("core-js/modules/es.symbol.iterator"),k("core-js/modules/es.array.concat"),k("core-js/modules/es.array.copy-within"),k("core-js/modules/es.array.every"),k("core-js/modules/es.array.fill"),k("core-js/modules/es.array.flat"),k("core-js/modules/es.array.flat-map"),k("core-js/modules/es.array.from"),k("core-js/modules/es.array.includes"),k("core-js/modules/es.array.iterator"),k("core-js/modules/es.array.map"),k("core-js/modules/es.array.slice"),k("core-js/modules/es.array.some"),k("core-js/modules/es.array.unscopables.flat"),k("core-js/modules/es.array.unscopables.flat-map"),k("core-js/modules/es.map"),k("core-js/modules/es.object.assign"),k("core-js/modules/es.object.to-string"),k("core-js/modules/es.set"),k("core-js/modules/es.string.includes"),k("core-js/modules/es.string.iterator"),k("core-js/modules/es.typed-array.float32-array"),k("core-js/modules/es.typed-array.float64-array"),k("core-js/modules/es.typed-array.int16-array"),k("core-js/modules/es.typed-array.uint8-array"),k("core-js/modules/es.typed-array.uint16-array"),k("core-js/modules/es.typed-array.uint32-array"),k("core-js/modules/es.typed-array.copy-within"),k("core-js/modules/es.typed-array.every"),k("core-js/modules/es.typed-array.fill"),k("core-js/modules/es.typed-array.filter"),k("core-js/modules/es.typed-array.find"),k("core-js/modules/es.typed-array.find-index"),k("core-js/modules/es.typed-array.for-each"),k("core-js/modules/es.typed-array.includes"),k("core-js/modules/es.typed-array.index-of"),k("core-js/modules/es.typed-array.iterator"),k("core-js/modules/es.typed-array.join"),k("core-js/modules/es.typed-array.last-index-of"),k("core-js/modules/es.typed-array.map"),k("core-js/modules/es.typed-array.reduce"),k("core-js/modules/es.typed-array.reduce-right"),k("core-js/modules/es.typed-array.reverse"),k("core-js/modules/es.typed-array.set"),k("core-js/modules/es.typed-array.slice"),k("core-js/modules/es.typed-array.some"),k("core-js/modules/es.typed-array.sort"),k("core-js/modules/es.typed-array.subarray"),k("core-js/modules/es.typed-array.to-locale-string"),k("core-js/modules/es.typed-array.to-string"),k("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.readPixelsWebGL=L,g.readPixelWebGL=H,g.default=void 0;var l=o(k("../core/main")),x=function(X){if(X&&X.__esModule)return X;if(X===null||m(X)!=="object"&&typeof X!="function")return{default:X};var Z=_();if(Z&&Z.has(X))return Z.get(X);var J,K={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(J in X){var W;Object.prototype.hasOwnProperty.call(X,J)&&((W=$?Object.getOwnPropertyDescriptor(X,J):null)&&(W.get||W.set)?Object.defineProperty(K,J,W):K[J]=X[J])}return K.default=X,Z&&Z.set(X,K),K}(k("../core/constants")),S=o(k("./GeometryBuilder")),D=o(k("libtess")),h=(k("./p5.Shader"),k("./p5.Camera"),k("../core/p5.Renderer"),k("./p5.Matrix"),k("./p5.Framebuffer"),k("path"),k("./p5.Texture"));function _(){var X;return typeof WeakMap!="function"?null:(X=new WeakMap,_=function(){return X},X)}function o(X){return X&&X.__esModule?X:{default:X}}function p(X){return function(Z){if(Array.isArray(Z)){for(var J=0,K=new Array(Z.length);J<Z.length;J++)K[J]=Z[J];return K}}(X)||function(Z){if(Symbol.iterator in Object(Z)||Object.prototype.toString.call(Z)==="[object Arguments]")return Array.from(Z)}(X)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(X,Z){for(var J=0;J<Z.length;J++){var K=Z[J];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(X,K.key,K)}}function y(X,Z,J){return(y=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Y,$,W){var Y=function(te,ce){for(;!Object.prototype.hasOwnProperty.call(te,ce)&&(te=T(te))!==null;);return te}(Y,$);if(Y)return(Y=Object.getOwnPropertyDescriptor(Y,$)).get?Y.get.call(W):Y.value})(X,Z,J||X)}function A(X,Z){return(A=Object.setPrototypeOf||function(J,K){return J.__proto__=K,J})(X,Z)}function E(X){return function(){var Z,J,K=T(X);return Z=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(Z=T(this).constructor,Reflect.construct(K,arguments,Z)):K.apply(this,arguments),K=this,!(J=Z)||m(J)!=="object"&&typeof J!="function"?N(K):J}}function N(X){if(X===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}function T(X){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(Z){return Z.__proto__||Object.getPrototypeOf(Z)})(X)}function O(X,Z,J){Z in X?Object.defineProperty(X,Z,{value:J,enumerable:!0,configurable:!0,writable:!0}):X[Z]=J}function j(X,Z){G+="#define STROKE_CAP_".concat(X," ").concat(Z,`
`),B[x[X]]=Z}function M(X,Z){G+="#define STROKE_JOIN_".concat(X," ").concat(Z,`
`),I[x[X]]=Z}var F,B={},I={},G="",k=(j("ROUND",0),j("PROJECT",1),j("SQUARE",2),M("ROUND",0),M("MITER",1),M("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),V={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 positionVec4 = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  gl_Position = uProjectionMatrix * positionVec4;

  vVertexNormal = HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));
  vVertTexCoord = HOOK_getUV(aTexCoord);
  vColor = HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,lightVert:k+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));
  vTexCoord = HOOK_getUV(aTexCoord);

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));
  HOOK_afterVertex();
}
`,phongFrag:k+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  HOOK_afterFragment();
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:G+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  HOOK_beforeVertex();
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 localPosition = vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);
  vec4 posp = vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);
  vec4 posqIn = posp + uModelViewMatrix * vec4(aTangentIn, 0);
  vec4 posqOut = posp + uModelViewMatrix * vec4(aTangentOut, 0);
  float strokeWeight = HOOK_getStrokeWeight(uStrokeWeight);
  vStrokeWeight = strokeWeight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(-0.00045, -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = HOOK_getLineCenter(p.xy);

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * strokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * strokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * strokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * strokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * strokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * strokeWeight / 2.));
    } else {
      vMaxDist = strokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      strokeWeight * 0.5;
    vMaxDist = strokeWeight / 2.;
  }
  vPosition = HOOK_getLinePosition(vCenter + offset);

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,lineFrag:G+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},R=V.sphereMappingFrag;for(F in V)V[F]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+V[F];O(k={},x.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),O(k,x.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),O(k,x.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),O(k,x.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),O(k,x.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),O(k,x.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),O(k,x.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),O(k,x.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var U=k;function L(X,Z,Ce,K,$,W,Y,te,ce,oe){var ue=Z.getParameter(Z.FRAMEBUFFER_BINDING),Ce=(Z.bindFramebuffer(Z.FRAMEBUFFER,Ce),te===Z.RGBA?4:3),le=W*Y*Ce,ye=ce===Z.UNSIGNED_BYTE?Uint8Array:Float32Array;if(X instanceof ye&&X.length===le||(X=new ye(le)),Z.readPixels(K,oe?oe-$-Y:$,W,Y,te,ce,X),Z.bindFramebuffer(Z.FRAMEBUFFER,ue),oe)for(var ve=Math.floor(Y/2),pe=new ye(W*Ce),be=0;be<ve;be++){var Ne=be*W*4,he=(Y-be-1)*W*4;pe.set(X.subarray(Ne,Ne+4*W)),X.copyWithin(Ne,he,he+4*W),X.set(pe,he)}return X}function H(X,ce,J,K,$,W,Y){var te=X.getParameter(X.FRAMEBUFFER_BINDING),ce=(X.bindFramebuffer(X.FRAMEBUFFER,ce),$===X.RGBA?4:3),ce=new(W===X.UNSIGNED_BYTE?Uint8Array:Float32Array)(ce);return X.readPixels(J,Y?Y-K-1:K,1,1,$,W,ce),X.bindFramebuffer(X.FRAMEBUFFER,te),Array.from(ce)}l.default.prototype.setAttributes=function(X,Z){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var J=!0;if(Z!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[X]!==Z&&(this._glAttributes[X]=Z,J=!1)):X instanceof Object&&this._glAttributes!==X&&(this._glAttributes=X,J=!1),this._renderer.isP3D&&!J){if(!this._setupDone){for(var K in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(K))return void l.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},l.default.RendererGL=function(X){var Z=K;if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(X&&X.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),X&&A(Z,X);var J=E(K);function K($,W,Y,te){if(this instanceof K)return($=J.call(this,$,W,Y))._setAttributeDefaults(W),$._initContext(),$.isP3D=!0,$.geometryBuilder=void 0,$.GL=$.drawingContext,$._pInst._setProperty("drawingContext",$.drawingContext),$._isErasing=!1,$._clipDepths=[],$._isClipApplied=!1,$._stencilTestOn=!1,$._enableLighting=!1,$.ambientLightColors=[],$.mixedAmbientLight=[],$.mixedSpecularColor=[],$.specularColors=[1,1,1],$.directionalLightDirections=[],$.directionalLightDiffuseColors=[],$.directionalLightSpecularColors=[],$.pointLightPositions=[],$.pointLightDiffuseColors=[],$.pointLightSpecularColors=[],$.spotLightPositions=[],$.spotLightDirections=[],$.spotLightDiffuseColors=[],$.spotLightSpecularColors=[],$.spotLightAngle=[],$.spotLightConc=[],$.activeImageLight=null,$.diffusedTextures=new Map,$.specularTextures=new Map,$.drawMode=x.FILL,$.curFillColor=$._cachedFillStyle=[1,1,1,1],$.curAmbientColor=$._cachedFillStyle=[1,1,1,1],$.curSpecularColor=$._cachedFillStyle=[0,0,0,0],$.curEmissiveColor=$._cachedFillStyle=[0,0,0,0],$.curStrokeColor=$._cachedStrokeStyle=[0,0,0,1],$.curBlendMode=x.BLEND,$.preEraseBlend=void 0,$._cachedBlendMode=void 0,$.webglVersion===x.WEBGL2?$.blendExt=$.GL:$.blendExt=$.GL.getExtension("EXT_blend_minmax"),$._isBlending=!1,$._hasSetAmbient=!1,$._useSpecularMaterial=!1,$._useEmissiveMaterial=!1,$._useNormalMaterial=!1,$._useShininess=1,$._useMetalness=0,$._useLineColor=!1,$._useVertexColor=!1,$.registerEnabled=new Set,$._tint=[255,255,255,255],$.constantAttenuation=1,$.linearAttenuation=0,$.quadraticAttenuation=0,$.uModelMatrix=new l.default.Matrix,$.uViewMatrix=new l.default.Matrix,$.uMVMatrix=new l.default.Matrix,$.uPMatrix=new l.default.Matrix,$.uNMatrix=new l.default.Matrix("mat3"),$.curMatrix=new l.default.Matrix("mat3"),$._currentNormal=new l.default.Vector(0,0,1),$._curCamera=new l.default.Camera(N($)),$._curCamera._computeCameraDefaultSettings(),$._curCamera._setDefaultCamera(),$.filterCamera=new l.default.Camera(N($)),$.filterCamera._computeCameraDefaultSettings(),$.filterCamera._setDefaultCamera(),$.prevTouches=[],$.zoomVelocity=0,$.rotateVelocity=new l.default.Vector(0,0),$.moveVelocity=new l.default.Vector(0,0),$.executeZoom=!1,$.executeRotateAndMove=!1,$.specularShader=void 0,$.sphereMapping=void 0,$.diffusedShader=void 0,$._defaultLightShader=void 0,$._defaultImmediateModeShader=void 0,$._defaultNormalShader=void 0,$._defaultColorShader=void 0,$._defaultPointShader=void 0,$.userFillShader=void 0,$.userStrokeShader=void 0,$.userPointShader=void 0,$.retainedMode={geometry:{},buffers:{stroke:[new l.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",N($)),new l.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",N($)),new l.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",N($)),new l.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",N($)),new l.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",N($))],fill:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",N($),$._vToNArray),new l.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",N($),$._vToNArray),new l.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",N($)),new l.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",N($)),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",N($),$._flatten)],text:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",N($),$._vToNArray),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",N($),$._flatten)]}},$.immediateMode={geometry:new l.default.Geometry,shapeMode:x.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",N($),$._vToNArray),new l.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",N($),$._vToNArray),new l.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",N($)),new l.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",N($)),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",N($),$._flatten)],stroke:[new l.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",N($)),new l.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",N($)),new l.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",N($)),new l.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",N($)),new l.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",N($))],point:$.GL.createBuffer()}},$.pointSize=5,$.curStrokeWeight=1,$.curStrokeCap=x.ROUND,$.curStrokeJoin=x.ROUND,$.textures=new Map,$.framebuffers=new Set,$.activeFramebuffers=[],$.filterShader=void 0,$.filterLayer=void 0,$.filterLayerTemp=void 0,$.defaultFilterShaders={},$.textureMode=x.IMAGE,$.textureWrapX=x.CLAMP,$.textureWrapY=x.CLAMP,$._tex=null,$._curveTightness=6,$._lookUpTableBezier=[],$._lookUpTableQuadratic=[],$._lutBezierDetail=0,$._lutQuadraticDetail=0,$.isProcessingVertices=!1,$._tessy=$._initTessy(),$.fontInfos={},$._curShader=void 0,$;throw new TypeError("Cannot call a class as a function")}return Z=K,(X=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new S.default(this)}},{key:"endGeometry",value:function(){var $;if(this.geometryBuilder)return $=this.geometryBuilder.finish(),this.geometryBuilder=void 0,$;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function($){return this.beginGeometry(),$(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function($){var W={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};$._glAttributes===null?$._glAttributes=W:$._glAttributes=Object.assign(W,$._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?x.WEBGL2:x.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var $=this.drawingContext;$.enable($.DEPTH_TEST),$.depthFunc($.LEQUAL),$.viewport(0,0,$.drawingBufferWidth,$.drawingBufferHeight),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var $=this.drawingContext;return $.getParameter($.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function($,W){this._maxTextureSize||(this._maxTextureSize=this._getParam());var te=this._maxTextureSize,te=(l.default.prototype._maxAllowedPixelDimensions,Math.floor(te/this.pixelDensity())),Y=Math.min($,te),te=Math.min(W,te);return Y===$&&te===W||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(Y,", height: ").concat(te,".")),{adjustedWidth:Y,adjustedHeight:te}}},{key:"_resetContext",value:function($,W){var Y,te=this.width,ce=this.height,ue=this.canvas.id,oe=this._pInst instanceof l.default.Graphics,ue=(oe?((Y=this._pInst).canvas.parentNode.removeChild(Y.canvas),Y.canvas=document.createElement("canvas"),(Y._pInst._userNode||document.body).appendChild(Y.canvas),l.default.Element.call(Y,Y.canvas,Y._pInst),Y.width=te,Y.height=ce):((Y=this.canvas)&&Y.parentNode.removeChild(Y),(Y=document.createElement("canvas")).id=ue,(this._pInst._userNode||document.body).appendChild(Y),this._pInst.canvas=Y,this.canvas=Y),new l.default.RendererGL(this._pInst.canvas,this._pInst,!oe));this._pInst._setProperty("_renderer",ue),ue.resize(te,ce),ue._applyDefaults(),oe||this._pInst._elements.push(ue),typeof W=="function"&&setTimeout(function(){W.apply(window._renderer,$)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var te=(te=this._pInst).color.apply(te,arguments),$=te.levels[0]/255,W=te.levels[1]/255,Y=te.levels[2]/255,te=te.levels[3]/255;this.clear($,W,Y,te)}},{key:"fill",value:function($,W,Y,te){var ce=l.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=ce._array,this.drawMode=x.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function($,W,Y,te){var ce=l.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=ce._array}},{key:"strokeCap",value:function($){this.curStrokeCap=$}},{key:"strokeJoin",value:function($){this.curStrokeJoin=$}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function($,W){$.width===W.width&&$.height===W.height||$.resize(W.width,W.height),$.pixelDensity()!==W.pixelDensity()&&$.pixelDensity(W.pixelDensity())}},{key:"filter",value:function(){var $,W,Y=this,te=this.getFilterLayer(),ce=void 0,oe=void 0,ue=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(oe=arguments.length<=0?void 0:arguments[0],O($={},x.BLUR,3),O($,x.POSTERIZE,4),O($,x.THRESHOLD,.5),ce=oe in($=$)&&(arguments.length<=1?void 0:arguments[1])===void 0?$[oe]:arguments.length<=1?void 0:arguments[1],oe in this.defaultFilterShaders||(this.defaultFilterShaders[oe]=new l.default.Shader(te._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,U[oe])),this.filterShader=this.defaultFilterShaders[oe]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),Ce=(this.matchSize(te,ue),te.draw(function(){return Y._pInst.clear()}),[1/(ue.width*ue.pixelDensity()),1/(ue.height*ue.pixelDensity())]);oe===x.BLUR?(W=this.getFilterLayerTemp(),this.matchSize(W,ue),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(x.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",Ce),this.filterShader.setUniform("canvasSize",[ue.width,ue.height]),this.filterShader.setUniform("radius",Math.max(1,ce)),W.draw(function(){Y.filterShader.setUniform("direction",[1,0]),Y.filterShader.setUniform("tex0",ue),Y._pInst.clear(),Y._pInst.shader(Y.filterShader),Y._pInst.noLights(),Y._pInst.plane(ue.width,ue.height)}),te.draw(function(){Y.filterShader.setUniform("direction",[0,1]),Y.filterShader.setUniform("tex0",W),Y._pInst.clear(),Y._pInst.shader(Y.filterShader),Y._pInst.noLights(),Y._pInst.plane(ue.width,ue.height)}),this._pInst.pop()):te.draw(function(){Y._pInst.noStroke(),Y._pInst.blendMode(x.BLEND),Y._pInst.shader(Y.filterShader),Y.filterShader.setUniform("tex0",ue),Y.filterShader.setUniform("texelSize",Ce),Y.filterShader.setUniform("canvasSize",[ue.width,ue.height]),Y.filterShader.setUniform("filterParameter",ce),Y._pInst.noLights(),Y._pInst.plane(ue.width,ue.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(x.CORNER),this._pInst.blendMode(x.BLEND),ue.filterCamera._resize(),this._pInst.setCamera(ue.filterCamera),this._pInst.resetMatrix(),this._pInst.image(te,-ue.width/2,-ue.height/2,ue.width,ue.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function($){return $?this._pInst.pixelDensity($):this._pInst.pixelDensity()}},{key:"blendMode",value:function($){$===x.DARKEST||$===x.LIGHTEST||$===x.ADD||$===x.BLEND||$===x.SUBTRACT||$===x.SCREEN||$===x.EXCLUSION||$===x.REPLACE||$===x.MULTIPLY||$===x.REMOVE?this.curBlendMode=$:$!==x.BURN&&$!==x.OVERLAY&&$!==x.HARD_LIGHT&&$!==x.SOFT_LIGHT&&$!==x.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function($,W){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(x.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,$/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,W/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var $=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},$=(y(T(K.prototype),"beginClip",this).call(this,$),this.drawTarget()._isClipApplied=!0,this.GL);$.clearStencil(0),$.clear($.STENCIL_BUFFER_BIT),$.enable($.STENCIL_TEST),this._stencilTestOn=!0,$.stencilFunc($.ALWAYS,1,255),$.stencilOp($.KEEP,$.KEEP,$.REPLACE),$.disable($.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var $=this.GL;$.stencilOp($.KEEP,$.KEEP,$.KEEP),$.stencilFunc(this._clipInvert?$.EQUAL:$.NOTEQUAL,0,255),$.enable($.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),y(T(K.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function($){this.curStrokeWeight!==$&&(this.pointSize=$,this.curStrokeWeight=$)}},{key:"_getPixel",value:function($,W){var Y=this.GL;return H(Y,null,$,W,Y.RGBA,Y.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var $,W,Y=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):($=this._pInst._pixelDensity,W=this.GL,Y._setProperty("pixels",L(Y.pixels,W,null,0,0,this.width*$,this.height*$,W.RGBA,W.UNSIGNED_BYTE,this.height*$)))}},{key:"updatePixels",value:function(){var $=this._getTempFramebuffer();$.pixels=this._pixelsState.pixels,$.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(x.CENTER),this._pInst.image($,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:x.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:x.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function($){return this.retainedMode.geometry[$]!==void 0}},{key:"viewport",value:function($,W){this._viewport=[0,0,$,W],this.GL.viewport(0,0,$,W)}},{key:"resize",value:function(ce,te){l.default.Renderer.prototype.resize.call(this,ce,te),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var ce=this._pixelsState,Y=(ce.pixels!==void 0&&ce._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),te=!1,ce=void 0;try{for(var oe,ue=this.framebuffers[Symbol.iterator]();!(Y=(oe=ue.next()).done);Y=!0)oe.value._canvasSizeChanged()}catch(Ce){te=!0,ce=Ce}finally{try{Y||ue.return==null||ue.return()}finally{if(te)throw ce}}}},{key:"clear",value:function(){var $=(arguments.length<=0?void 0:arguments[0])||0,W=(arguments.length<=1?void 0:arguments[1])||0,Y=(arguments.length<=2?void 0:arguments[2])||0,te=(arguments.length<=3?void 0:arguments[3])||0,ce=this.activeFramebuffer();ce&&ce.format===x.UNSIGNED_BYTE&&!ce.antialias&&te===0&&(te=1e-10),this.GL.clearColor($*te,W*te,Y*te,te),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function($,W,Y,te,ce,oe){arguments.length===16?l.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([$,W,0,0,Y,te,0,0,0,0,1,0,ce,oe,0,1])}},{key:"translate",value:function($,W,Y){return $ instanceof l.default.Vector&&(Y=$.z,W=$.y,$=$.x),this.uModelMatrix.translate([$,W,Y]),this}},{key:"scale",value:function($,W,Y){return this.uModelMatrix.scale($,W,Y),this}},{key:"rotate",value:function($,W){return W===void 0?this.rotateZ($):(l.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function($){return this.rotate($,1,0,0),this}},{key:"rotateY",value:function($){return this.rotate($,0,1,0),this}},{key:"rotateZ",value:function($){return this.rotate($,0,0,1),this}},{key:"push",value:function(){var $=l.default.Renderer.prototype.push.apply(this),W=$.properties;return W.uModelMatrix=this.uModelMatrix.copy(),W.uViewMatrix=this.uViewMatrix.copy(),W.uPMatrix=this.uPMatrix.copy(),W._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),W.ambientLightColors=this.ambientLightColors.slice(),W.specularColors=this.specularColors.slice(),W.directionalLightDirections=this.directionalLightDirections.slice(),W.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),W.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),W.pointLightPositions=this.pointLightPositions.slice(),W.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),W.pointLightSpecularColors=this.pointLightSpecularColors.slice(),W.spotLightPositions=this.spotLightPositions.slice(),W.spotLightDirections=this.spotLightDirections.slice(),W.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),W.spotLightSpecularColors=this.spotLightSpecularColors.slice(),W.spotLightAngle=this.spotLightAngle.slice(),W.spotLightConc=this.spotLightConc.slice(),W.userFillShader=this.userFillShader,W.userStrokeShader=this.userStrokeShader,W.userPointShader=this.userPointShader,W.pointSize=this.pointSize,W.curStrokeWeight=this.curStrokeWeight,W.curStrokeColor=this.curStrokeColor,W.curFillColor=this.curFillColor,W.curAmbientColor=this.curAmbientColor,W.curSpecularColor=this.curSpecularColor,W.curEmissiveColor=this.curEmissiveColor,W._hasSetAmbient=this._hasSetAmbient,W._useSpecularMaterial=this._useSpecularMaterial,W._useEmissiveMaterial=this._useEmissiveMaterial,W._useShininess=this._useShininess,W._useMetalness=this._useMetalness,W.constantAttenuation=this.constantAttenuation,W.linearAttenuation=this.linearAttenuation,W.quadraticAttenuation=this.quadraticAttenuation,W._enableLighting=this._enableLighting,W._useNormalMaterial=this._useNormalMaterial,W._tex=this._tex,W.drawMode=this.drawMode,W._currentNormal=this._currentNormal,W.curBlendMode=this.curBlendMode,W.activeImageLight=this.activeImageLight,W.textureMode=this.textureMode,$}},{key:"pop",value:function(){var $;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var W=arguments.length,Y=new Array(W),te=0;te<W;te++)Y[te]=arguments[te];($=y(T(K.prototype),"pop",this)).call.apply($,[this].concat(Y)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var $=this.drawTarget();$._isClipApplied!==this._stencilTestOn&&($._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var $=this.userStrokeShader;return $&&$.isStrokeShader()?$:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function($){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(R)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",$),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var $=this.userFillShader;if(this._useNormalMaterial&&(!$||!$.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!$||!$.isLightShader())return this._getLightShader()}else if(this._tex){if(!$||!$.isTextureShader())return this._getLightShader()}else if(!$)return this._getImmediateModeShader();return $}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var $=this.userFillShader;if(this._enableLighting){if(!$||!$.isLightShader())return this._getLightShader()}else if(this._tex){if(!$||!$.isTextureShader())return this._getLightShader()}else if(!$)return this._getColorShader();return $}},{key:"_getImmediatePointShader",value:function(){var $=this.userPointShader;return $&&$.isPointShader()?$:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.")}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+V.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+V.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+V.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+V.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===x.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+V.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+V.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function($,W){var Y="";return this.webglVersion===x.WEBGL2&&(Y+=`#version 300 es
#define WEBGL2
`),$==="vert"?Y+=`#define VERTEX_SHADER
`:$==="frag"&&(Y+=`#define FRAGMENT_SHADER
`),W&&(Y+="precision ".concat(W,` float;
`)),Y}},{key:"_getEmptyTexture",value:function(){var $;return this._emptyTexture||(($=new l.default.Image(1,1)).set(0,0,255),this._emptyTexture=new l.default.Texture(this,$)),this._emptyTexture}},{key:"getTexture",value:function($){$ instanceof l.default.Framebuffer&&($=$.color);var W=this.textures.get($);return W||(W=new l.default.Texture(this,$),this.textures.set($,W),W)}},{key:"getDiffusedTexture",value:function($){var W,Y,te=this;return this.diffusedTextures.get($)!=null?this.diffusedTextures.get($):(W=Math.floor($.height/$.width*200),Y=this._pInst.createFramebuffer({width:200,height:W,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(V.imageLightVert,V.imageLightDiffusedFrag)),Y.draw(function(){te._pInst.shader(te.diffusedShader),te.diffusedShader.setUniform("environmentMap",$),te._pInst.noStroke(),te._pInst.rectMode(x.CENTER),te._pInst.noLights(),te._pInst.rect(0,0,200,W)}),this.diffusedTextures.set($,Y),Y)}},{key:"getSpecularTexture",value:function($){var W=this;if(this.specularTextures.get($)!=null)return this.specularTextures.get($);for(var Y,te=[],ce=this._pInst.createFramebuffer({width:512,height:512,density:1}),oe=Math.log(512)/Math.log(2),ue=(this.specularShader||(this.specularShader=this._pInst.createShader(V.imageLightVert,V.imageLightSpecularFrag)),512);1<=ue;ue/=2)(function(Ce){ce.resize(Ce,Ce);var le=1-Math.log(Ce)/Math.log(2)/oe;ce.draw(function(){W._pInst.shader(W.specularShader),W._pInst.clear(),W.specularShader.setUniform("environmentMap",$),W.specularShader.setUniform("roughness",le),W._pInst.noStroke(),W._pInst.noLights(),W._pInst.plane(Ce,Ce)}),te.push(ce.get().drawingContext.getImageData(0,0,Ce,Ce))})(ue);return ce.remove(),Y=new h.MipmapTexture(this,te,{}),this.specularTextures.set($,Y),Y}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function($){return new l.default.Framebuffer(this,$)}},{key:"_setStrokeUniforms",value:function($){$.bindShader(),$.setUniform("uUseLineColor",this._useLineColor),$.setUniform("uMaterialColor",this.curStrokeColor),$.setUniform("uStrokeWeight",this.curStrokeWeight),$.setUniform("uStrokeCap",B[this.curStrokeCap]),$.setUniform("uStrokeJoin",I[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function($){var W=this,Y=($.bindShader(),this.mixedSpecularColor=p(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(te,ce){return W.curFillColor[ce]*W._useMetalness+te*(1-W._useMetalness)})),$.setUniform("uUseVertexColor",this._useVertexColor),$.setUniform("uMaterialColor",this.curFillColor),$.setUniform("isTexture",!!this._tex),this._tex&&$.setUniform("uSampler",this._tex),$.setUniform("uTint",this._tint),$.setUniform("uHasSetAmbient",this._hasSetAmbient),$.setUniform("uAmbientMatColor",this.curAmbientColor),$.setUniform("uSpecularMatColor",this.mixedSpecularColor),$.setUniform("uEmissiveMatColor",this.curEmissiveColor),$.setUniform("uSpecular",this._useSpecularMaterial),$.setUniform("uEmissive",this._useEmissiveMaterial),$.setUniform("uShininess",this._useShininess),$.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms($),$.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),Y=($.setUniform("uPointLightCount",Y),$.setUniform("uPointLightLocation",this.pointLightPositions),$.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),$.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),Y=($.setUniform("uDirectionalLightCount",Y),$.setUniform("uLightingDirection",this.directionalLightDirections),$.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),$.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),Y=(this.mixedAmbientLight=p(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(te){return te-=W._useMetalness,Math.max(0,te)})),$.setUniform("uAmbientLightCount",Y),$.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);$.setUniform("uSpotLightCount",Y),$.setUniform("uSpotLightAngle",this.spotLightAngle),$.setUniform("uSpotLightConc",this.spotLightConc),$.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),$.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),$.setUniform("uSpotLightLocation",this.spotLightPositions),$.setUniform("uSpotLightDirection",this.spotLightDirections),$.setUniform("uConstantAttenuation",this.constantAttenuation),$.setUniform("uLinearAttenuation",this.linearAttenuation),$.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),$.bindTextures()}},{key:"_setImageLightUniforms",value:function($){var W;$.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(W=this.getDiffusedTexture(this.activeImageLight),$.setUniform("environmentMapDiffused",W),W=this.getSpecularTexture(this.activeImageLight),$.setUniform("environmentMapSpecular",W))}},{key:"_setPointUniforms",value:function($){$.bindShader(),$.setUniform("uMaterialColor",this.curStrokeColor),$.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function($,W,Y,te,ce){W=W||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(W,$),Y!==void 0&&(($=Y)instanceof l.default.DataArray?$=Y.dataArray():$ instanceof(te||Float32Array)||($=new(te||Float32Array)($)),this.GL.bufferData(W,$,ce||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function($,W){return $.length===W.length&&$.every(function(Y,te){return Y===W[te]})}},{key:"_isTypedArray",value:function($){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(W){return $ instanceof W})}},{key:"_flatten",value:function($){return $.flat()}},{key:"_vToNArray",value:function($){return $.flatMap(function(W){return[W.x,W.y,W.z]})}},{key:"_bezierCoefficients",value:function($){var W=$*$,Y=1-$,te=Y*Y;return[te*Y,3*te*$,3*Y*W,W*$]}},{key:"_quadraticCoefficients",value:function($){var W=1-$;return[W*W,2*W*$,$*$]}},{key:"_bezierToCatmull",value:function($){return[$[1],$[1]+($[2]-$[0])/this._curveTightness,$[2]-($[3]-$[1])/this._curveTightness,$[2]]}},{key:"_initTessy",value:function(){var $=new D.default.GluTesselator;return $.gluTessCallback(D.default.gluEnum.GLU_TESS_VERTEX_DATA,function(W,Y){var te=!0,ce=!1,oe=void 0;try{for(var ue,Ce=W[Symbol.iterator]();!(te=(ue=Ce.next()).done);te=!0){var le=ue.value;Y.push(le)}}catch(ye){ce=!0,oe=ye}finally{try{te||Ce.return==null||Ce.return()}finally{if(ce)throw oe}}}),$.gluTessCallback(D.default.gluEnum.GLU_TESS_BEGIN,function(W){W!==D.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(W))}),$.gluTessCallback(D.default.gluEnum.GLU_TESS_ERROR,function(W){console.log("error callback"),console.log("error number: ".concat(W))}),$.gluTessCallback(D.default.gluEnum.GLU_TESS_COMBINE,function(W,Y,te){for(var ce=new Array(l.default.RendererGL.prototype.tessyVertexSize).fill(0),oe=0;oe<te.length;oe++)for(var ue=0;ue<ce.length;ue++)te[oe]!==0&&Y[oe]&&(ce[ue]+=Y[oe][ue]*te[oe]);return ce}),$.gluTessCallback(D.default.gluEnum.GLU_TESS_EDGE_FLAG,function(W){}),$.gluTessProperty(D.default.gluEnum.GLU_TESS_WINDING_RULE,D.default.windingRule.GLU_TESS_WINDING_NONZERO),$}},{key:"_triangulate",value:function($){var W=$[0]?$[0][2]:void 0,Y=!0,te=!0,le=!1,ve=void 0;try{for(var ce,oe=$[Symbol.iterator]();!(te=(ce=oe.next()).done);te=!0)for(var ue=ce.value,Ce=0;Ce<ue.length;Ce+=l.default.RendererGL.prototype.tessyVertexSize)if(ue[Ce+2]!==W){Y=!1;break}}catch(de){le=!0,ve=de}finally{try{te||oe.return==null||oe.return()}finally{if(le)throw ve}}Y?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var le=[],ye=(this._tessy.gluTessBeginPolygon(le),!0),ve=!1,pe=void 0;try{for(var be,Ne=$[Symbol.iterator]();!(ye=(be=Ne.next()).done);ye=!0){var he=be.value;this._tessy.gluTessBeginContour();for(var ne=0;ne<he.length;ne+=l.default.RendererGL.prototype.tessyVertexSize){var re=he.slice(ne,ne+l.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(re,re)}this._tessy.gluTessEndContour()}}catch(de){ve=!0,pe=de}finally{try{ye||Ne.return==null||Ne.return()}finally{if(ve)throw pe}}return this._tessy.gluTessEndPolygon(),le}}])&&b(Z.prototype,X),K}(l.default.Renderer),l.default.prototype._assert3d=function(X){if(!this._renderer.isP3D)throw new Error("".concat(X,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},l.default.RendererGL.prototype.tessyVertexSize=12,k=l.default.RendererGL,g.default=k},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(a,r,g){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.some"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.split"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.some"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.split"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var f=(a=a("../core/main"))&&a.__esModule?a:{default:a};function m(x,S){return function(D){if(Array.isArray(D))return D}(x)||function(D,h){if(Symbol.iterator in Object(D)||Object.prototype.toString.call(D)==="[object Arguments]"){var _=[],o=!0,p=!1,b=void 0;try{for(var y,A=D[Symbol.iterator]();!(o=(y=A.next()).done)&&(_.push(y.value),!h||_.length!==h);o=!0);}catch(E){p=!0,b=E}finally{try{o||A.return==null||A.return()}finally{if(p)throw b}}return _}}(x,S)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(x,S){for(var D=0;D<S.length;D++){var h=S[D];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(x,h.key,h)}}f.default.Shader=function(){function x(h,_,o){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},b=this,y=x;if(!(b instanceof y))throw new TypeError("Cannot call a class as a function");this._renderer=h,this._vertSrc=_,this._fragSrc=o,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:p.uniforms||{},declarations:p.declarations,helpers:p.helpers||{},vertex:p.vertex||{},fragment:p.fragment||{},modified:{vertex:p.modified&&p.modified.vertex||{},fragment:p.modified&&p.modified.fragment||{}}}}var S,D;return S=x,(D=[{key:"shaderSrc",value:function(N,_){var o,p,b,y,A,N=m(N.split("void main"),2),E=N[0],N=N[1],T="";for(o in this.hooks.uniforms)T+="uniform ".concat(o,`;
`);for(p in this.hooks.declarations&&(T+=this.hooks.declarations+`
`),this.hooks[_].declarations&&(T+=this.hooks[_].declarations+`
`),this.hooks.helpers)T+="".concat(p).concat(this.hooks.helpers[p],`
`);for(b in this.hooks[_])b!=="declarations"&&(y=(A=m(b.split(" "),2))[0],A=A[1],this.hooks.modified[_][b]&&(T+="#define AUGMENTED_HOOK_"+A+`
`),T+=y+" HOOK_"+A+this.hooks[_][b]+`
`);return E+T+"void main"+N}},{key:"version",value:function(){var h=/#version (.+)$/.exec(this.vertSrc());return h?h[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var h in console.log("==== Vertex shader hooks: ===="),this.hooks.vertex)console.log((this.hooks.modified.vertex[h]?"[MODIFIED] ":"")+h+this.hooks.vertex[h]);for(var _ in console.log(""),console.log("==== Fragment shader hooks: ===="),this.hooks.fragment)console.log((this.hooks.modified.fragment[_]?"[MODIFIED] ":"")+_+this.hooks.fragment[_]);for(var o in console.log(""),console.log("==== Helper functions: ===="),this.hooks.helpers)console.log(o+this.hooks.helpers[o])}},{key:"modify",value:function(h){f.default._validateParameters("p5.Shader.modify",arguments);var _,o={vertex:{},fragment:{},helpers:{}};for(_ in h)_!=="declarations"&&_!=="uniforms"&&(_==="vertexDeclarations"?o.vertex.declarations=(o.vertex.declarations||"")+`
`+h[_]:_==="fragmentDeclarations"?o.fragment.declarations=(o.fragment.declarations||"")+`
`+h[_]:this.hooks.vertex[_]?o.vertex[_]=h[_]:this.hooks.fragment[_]?o.fragment[_]=h[_]:o.helpers[_]=h[_]);var p,b,y=Object.assign({},this.hooks.modified.vertex),A=Object.assign({},this.hooks.modified.fragment);for(p in o.vertex||{})p!=="declarations"&&(y[p]=!0);for(b in o.fragment||{})b!=="declarations"&&(A[b]=!0);return new f.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(h.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,h.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,o.fragment||{}),vertex:Object.assign({},this.hooks.vertex,o.vertex||{}),helpers:Object.assign({},this.hooks.helpers,o.helpers||{}),modified:{vertex:y,fragment:A}})}},{key:"init",value:function(){if(this._glProgram===0){var h,_=this._renderer.GL;if(this._vertShader=_.createShader(_.VERTEX_SHADER),_.shaderSource(this._vertShader,this.vertSrc()),_.compileShader(this._vertShader),!_.getShaderParameter(this._vertShader,_.COMPILE_STATUS))return h=_.getShaderInfoLog(this._vertShader),console.error(h),null;if(this._fragShader=_.createShader(_.FRAGMENT_SHADER),_.shaderSource(this._fragShader,this.fragSrc()),_.compileShader(this._fragShader),!_.getShaderParameter(this._fragShader,_.COMPILE_STATUS))return h=_.getShaderInfoLog(this._fragShader),console.error(h),null;this._glProgram=_.createProgram(),_.attachShader(this._glProgram,this._vertShader),_.attachShader(this._glProgram,this._fragShader),_.linkProgram(this._glProgram),_.getProgramParameter(this._glProgram,_.LINK_STATUS)||f.default._friendlyError("Snap! Error linking shader program: ".concat(_.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var h in this.hooks.uniforms){var _=m(h.split(" "),2)[1],h=this.hooks.uniforms[h],o=void 0;(o=h instanceof Function?h():h)!=null&&this.setUniform(_,o)}}},{key:"copyToContext",value:function(h){var _=new f.default.Shader(h._renderer,this._vertSrc,this._fragSrc);return _.ensureCompiledOnContext(h),_}},{key:"ensureCompiledOnContext",value:function(h){if(this._glProgram!==0&&this._renderer!==h._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=h._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var h=this._renderer.GL,_=h.getProgramParameter(this._glProgram,h.ACTIVE_ATTRIBUTES),o=0;o<_;++o){var p=h.getActiveAttrib(this._glProgram,o),b=p.name,y=h.getAttribLocation(this._glProgram,b),A={};A.name=b,A.location=y,A.index=o,A.type=p.type,A.size=p.size,this.attributes[b]=A}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var h=this._renderer.GL,_=h.getProgramParameter(this._glProgram,h.ACTIVE_UNIFORMS),o=0,p=0;p<_;++p){var b=h.getActiveUniform(this._glProgram,p),y={},A=(y.location=h.getUniformLocation(this._glProgram,b.name),y.size=b.size,b.name);1<b.size&&(A=A.substring(0,A.indexOf("[0]"))),y.name=A,y.type=b.type,y._cachedData=void 0,y.type===h.SAMPLER_2D&&(y.samplerIndex=o,o++,this.samplers.push(y)),y.isArray=1<b.size||y.type===h.FLOAT_MAT3||y.type===h.FLOAT_MAT4||y.type===h.FLOAT_VEC2||y.type===h.FLOAT_VEC3||y.type===h.FLOAT_VEC4||y.type===h.INT_VEC2||y.type===h.INT_VEC4||y.type===h.INT_VEC3,this.uniforms[A]=y}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var h=this._renderer.GL,_=!0,o=!1,p=void 0;try{for(var b,y=this.samplers[Symbol.iterator]();!(_=(b=y.next()).done);_=!0){var A=b.value,E=A.texture;E===void 0&&(E=this._renderer._getEmptyTexture()),h.activeTexture(h.TEXTURE0+A.samplerIndex),E.bindTexture(),E.update(),h.uniform1i(A.location,A.samplerIndex)}}catch(N){o=!0,p=N}finally{try{_||y.return==null||y.return()}finally{if(o)throw p}}}},{key:"updateTextures",value:function(){var h=!0,_=!1,o=void 0;try{for(var p,b=this.samplers[Symbol.iterator]();!(h=(p=b.next()).done);h=!0){var y=p.value.texture;y&&y.update()}}catch(A){_=!0,o=A}finally{try{h||b.return==null||b.return()}finally{if(_)throw o}}}},{key:"unbindTextures",value:function(){var h=!0,_=!1,o=void 0;try{for(var p,b=this.samplers[Symbol.iterator]();!(h=(p=b.next()).done);h=!0){var y=p.value;this.setUniform(y.name,this._renderer._getEmptyTexture())}}catch(A){_=!0,o=A}finally{try{h||b.return==null||b.return()}finally{if(_)throw o}}}},{key:"_setMatrixUniforms",value:function(){var h=this._renderer.uModelMatrix,_=this._renderer.uViewMatrix,o=this._renderer.uPMatrix,p=h.copy().mult(_),b=(this._renderer.uMVMatrix=p).copy();b.mult(o),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",_.mat4),this.setUniform("uProjectionMatrix",o.mat4),this.setUniform("uModelMatrix",h.mat4),this.setUniform("uModelViewMatrix",p.mat4),this.setUniform("uModelViewProjectionMatrix",b.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var h=this._renderer.GL;return this._renderer._curShader!==this&&(h.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(h,_){var o=this.uniforms[h];if(o){var p=this._renderer.GL;if(o.isArray){if(o._cachedData&&this._renderer._arraysEqual(o._cachedData,_))return;o._cachedData=_.slice(0)}else{if(o._cachedData&&o._cachedData===_)return;Array.isArray(_)?o._cachedData=_.slice(0):o._cachedData=_}var b=o.location;switch(this.useProgram(),o.type){case p.BOOL:_===!0?p.uniform1i(b,1):p.uniform1i(b,0);break;case p.INT:1<o.size?_.length&&p.uniform1iv(b,_):p.uniform1i(b,_);break;case p.FLOAT:1<o.size?_.length&&p.uniform1fv(b,_):p.uniform1f(b,_);break;case p.FLOAT_MAT3:p.uniformMatrix3fv(b,!1,_);break;case p.FLOAT_MAT4:p.uniformMatrix4fv(b,!1,_);break;case p.FLOAT_VEC2:1<o.size?_.length&&p.uniform2fv(b,_):p.uniform2f(b,_[0],_[1]);break;case p.FLOAT_VEC3:1<o.size?_.length&&p.uniform3fv(b,_):p.uniform3f(b,_[0],_[1],_[2]);break;case p.FLOAT_VEC4:1<o.size?_.length&&p.uniform4fv(b,_):p.uniform4f(b,_[0],_[1],_[2],_[3]);break;case p.INT_VEC2:1<o.size?_.length&&p.uniform2iv(b,_):p.uniform2i(b,_[0],_[1]);break;case p.INT_VEC3:1<o.size?_.length&&p.uniform3iv(b,_):p.uniform3i(b,_[0],_[1],_[2]);break;case p.INT_VEC4:1<o.size?_.length&&p.uniform4iv(b,_):p.uniform4i(b,_[0],_[1],_[2],_[3]);break;case p.SAMPLER_2D:if(typeof _=="number"){if(_<p.TEXTURE0||_>p.TEXTURE31||_!==Math.ceil(_))return console.log("🌸 p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;p.activeTexture(_),p.uniform1i(b,_)}else p.activeTexture(p.TEXTURE0+o.samplerIndex),o.texture=_ instanceof f.default.Texture?_:this._renderer.getTexture(_),p.uniform1i(b,o.samplerIndex),o.texture.src.gifProperties&&o.texture.src._animateGif(this._renderer._pInst);break;case p.SAMPLER_CUBE:case p.SAMPLER_3D:case p.SAMPLER_2D_SHADOW:case p.SAMPLER_2D_ARRAY:case p.SAMPLER_2D_ARRAY_SHADOW:case p.SAMPLER_CUBE_SHADOW:case p.INT_SAMPLER_2D:case p.INT_SAMPLER_3D:case p.INT_SAMPLER_CUBE:case p.INT_SAMPLER_2D_ARRAY:case p.UNSIGNED_INT_SAMPLER_2D:case p.UNSIGNED_INT_SAMPLER_3D:case p.UNSIGNED_INT_SAMPLER_CUBE:case p.UNSIGNED_INT_SAMPLER_2D_ARRAY:typeof _=="number"&&(_<p.TEXTURE0||_>p.TEXTURE31||_!==Math.ceil(_)?console.log("🌸 p5.js says: You're trying to use a number as the data for a texture.Please use a texture."):(p.activeTexture(_),p.uniform1i(b,_)))}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(h){return h!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(h,_,o,p,b,y){var A;return h&&(h=h.location)!==-1&&(A=this._renderer.GL,this._renderer.registerEnabled.has(h)||(A.enableVertexAttribArray(h),this._renderer.registerEnabled.add(h)),this._renderer.GL.vertexAttribPointer(h,_,o||A.FLOAT,p||!1,b||0,y||0)),this}},{key:"disableRemainingAttributes",value:function(){var h=this,_=!0,o=!1,p=void 0;try{for(var b,y=this._renderer.registerEnabled.values()[Symbol.iterator]();!(_=(b=y.next()).done);_=!0)(function(){var A=b.value;Object.keys(h.attributes).some(function(E){return h.attributes[E].location===A})||(h._renderer.GL.disableVertexAttribArray(A),h._renderer.registerEnabled.delete(A))})()}catch(A){o=!0,p=A}finally{try{_||y.return==null||y.return()}finally{if(o)throw p}}}}])&&l(S.prototype,D),x}(),a=f.default.Shader,g.default=a},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(a,r,g){function f(E){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(E)}function m(E){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(N){return f(N)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":f(N)})(E)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.reflect.construct"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),Object.defineProperty(g,"__esModule",{value:!0}),g.checkWebGLCapabilities=A,g.default=g.MipmapTexture=void 0;var l=(y=a("../core/main"))&&y.__esModule?y:{default:y},x=function(E){if(E&&E.__esModule)return E;if(E===null||m(E)!=="object"&&typeof E!="function")return{default:E};var N=S();if(N&&N.has(E))return N.get(E);var T,O={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in E){var M;Object.prototype.hasOwnProperty.call(E,T)&&((M=j?Object.getOwnPropertyDescriptor(E,T):null)&&(M.get||M.set)?Object.defineProperty(O,T,M):O[T]=E[T])}return O.default=E,N&&N.set(E,O),O}(a("../core/constants"));function S(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,S=function(){return E},E)}function D(E,N){return(D=Object.setPrototypeOf||function(T,O){return T.__proto__=O,T})(E,N)}function h(E){return function(){var N,T=_(E),T=(N=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(N=_(this).constructor,Reflect.construct(T,arguments,N)):T.apply(this,arguments),this);if(!N||m(N)!=="object"&&typeof N!="function"){if(T!==void 0)return T;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return N}}function _(E){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)})(E)}function o(E,N){if(!(E instanceof N))throw new TypeError("Cannot call a class as a function")}function p(E,N){for(var T=0;T<N.length;T++){var O=N[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}function b(E,N,T){N&&p(E.prototype,N),T&&p(E,T)}l.default.Texture=function(){function E(F,T,M){o(this,E),this._renderer=F;var j=this._renderer.GL,M=(M=M||{},this.src=T,this.glTex=void 0,this.glTarget=j.TEXTURE_2D,this.glFormat=M.format||j.RGBA,this.mipmaps=!1,this.glMinFilter=M.minFilter||j.LINEAR,this.glMagFilter=M.magFilter||j.LINEAR,this.glWrapS=M.wrapS||j.CLAMP_TO_EDGE,this.glWrapT=M.wrapT||j.CLAMP_TO_EDGE,this.glDataType=M.dataType||j.UNSIGNED_BYTE,A(F)),F=(this.glFormat!==j.HALF_FLOAT||M.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=j.FLOAT),this.glFormat!==j.HALF_FLOAT||this.glMinFilter!==j.LINEAR&&this.glMagFilter!==j.LINEAR||M.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===j.LINEAR&&(this.glMinFilter=j.NEAREST),this.glMagFilter===j.LINEAR&&(this.glMagFilter=j.NEAREST)),this.glFormat!==j.FLOAT||M.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=j.UNSIGNED_BYTE),this.glFormat!==j.FLOAT||this.glMinFilter!==j.LINEAR&&this.glMagFilter!==j.LINEAR||M.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===j.LINEAR&&(this.glMinFilter=j.NEAREST),this.glMagFilter===j.LINEAR&&(this.glMagFilter=j.NEAREST)),this.isSrcMediaElement=l.default.MediaElement!==void 0&&T instanceof l.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=l.default.Element!==void 0&&T instanceof l.default.Element&&!(T instanceof l.default.Graphics)&&!(T instanceof l.default.Renderer),this.isSrcP5Image=T instanceof l.default.Image,this.isSrcP5Graphics=T instanceof l.default.Graphics,this.isSrcP5Renderer=T instanceof l.default.Renderer,this.isImageData=typeof ImageData<"u"&&T instanceof ImageData,this.isFramebufferTexture=T instanceof l.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=F.width,this.height=F.height,this.init(F),this}return b(E,[{key:"_getTextureDataFromSource",value:function(){var N;return this.isFramebufferTexture?N=this.src.rawTexture():this.isSrcP5Image?N=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),N=this.src.canvas||this.src.elt):this.isImageData&&(N=this.src),N}},{key:"init",value:function(N){var T,O=this._renderer.GL;this.isFramebufferTexture||(this.glTex=O.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,this.glMagFilter),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(T=new Uint8Array([1,1,1,1]),O.texImage2D(this.glTarget,0,O.RGBA,1,1,0,this.glFormat,this.glDataType,T)):O.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,N))}},{key:"update",value:function(){var N,T,O,j=this.src;return j.width!==0&&j.height!==0&&!this.isFramebufferTexture&&(N=this._getTextureDataFromSource(),T=!1,O=this._renderer.GL,N.width!==this.width||N.height!==this.height?(T=!0,this.width=N.width||j.width,this.height=N.height||j.height,this.isSrcP5Image?j.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&j.setModified(!0)):this.isSrcP5Image?j.isModified()&&j.setModified(!(T=!0)):this.isSrcMediaElement?j.isModified()?j.setModified(!(T=!0)):j.loadedmetadata&&this._videoPrevUpdateTime!==j.time()&&(this._videoPrevUpdateTime=j.time(),T=!0):this.isImageData?j._dirty&&(T=!(j._dirty=!1)):T=!0,T&&(this.bindTexture(),O.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,N)),T)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(N,T){var O=this._renderer.GL;this.glMinFilter=this.glFilter(N),this.glMagFilter=this.glFilter(T),this.bindTexture(),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,this.glMinFilter),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(N){var T=this._renderer.GL;return N===x.NEAREST?T.NEAREST:T.LINEAR}},{key:"setWrapMode",value:function(N,T){function O(B){return(B&B-1)==0}var j=this._renderer.GL,F=this._getTextureDataFromSource(),F=F.naturalWidth&&F.naturalHeight?(M=F.naturalWidth,F.naturalHeight):(M=this.width,this.height),M=O(M),F=O(F);N===x.REPEAT?this._renderer.webglVersion===x.WEBGL2||M&&F?this.glWrapS=j.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=j.CLAMP_TO_EDGE):N===x.MIRROR?this._renderer.webglVersion===x.WEBGL2||M&&F?this.glWrapS=j.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=j.CLAMP_TO_EDGE):this.glWrapS=j.CLAMP_TO_EDGE,T===x.REPEAT?this._renderer.webglVersion===x.WEBGL2||M&&F?this.glWrapT=j.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=j.CLAMP_TO_EDGE):T===x.MIRROR?this._renderer.webglVersion===x.WEBGL2||M&&F?this.glWrapT=j.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=j.CLAMP_TO_EDGE):this.glWrapT=j.CLAMP_TO_EDGE,this.bindTexture(),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_S,this.glWrapS),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),E}();var y=function(E){var N=O;if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(E&&E.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),E&&D(N,E);var T=h(O);function O(j,M,F){return o(this,O),M=(j=T.call(this,j,M,F))._renderer.GL,j.glMinFilter===M.LINEAR&&(j.glMinFilter=M.LINEAR_MIPMAP_LINEAR),j}return b(O,[{key:"glFilter",value:function(j){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(j){var M=this._renderer.GL;this.glTex=M.createTexture(),this.bindTexture();for(var F=0;F<j.length;F++)M.texImage2D(this.glTarget,F,this.glFormat,this.glFormat,this.glDataType,j[F]);this.glMinFilter=M.LINEAR_MIPMAP_LINEAR,M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,this.glMagFilter),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),O}(l.default.Texture);function A(j){var N=j.GL,j=j.webglVersion,T=j===x.WEBGL2?N.getExtension("EXT_color_buffer_float")&&N.getExtension("EXT_float_blend"):N.getExtension("OES_texture_float"),O=T&&N.getExtension("OES_texture_float_linear"),j=j===x.WEBGL2?N.getExtension("EXT_color_buffer_float"):N.getExtension("OES_texture_half_float");return{float:T,floatLinear:O,halfFloat:j,halfFloatLinear:j&&N.getExtension("OES_texture_half_float_linear")}}g.MipmapTexture=y,a=l.default.Texture,g.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(a,r,g){function f(E){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(E)}function m(E){return(m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(N){return f(N)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":f(N)})(E)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.sub"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.sub"),a("core-js/modules/web.dom-collections.iterator");var l,x=(l=a("../core/main"))&&l.__esModule?l:{default:l},S=function(E){if(E&&E.__esModule)return E;if(E===null||m(E)!=="object"&&typeof E!="function")return{default:E};var N=D();if(N&&N.has(E))return N.get(E);var T,O={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in E){var M;Object.prototype.hasOwnProperty.call(E,T)&&((M=j?Object.getOwnPropertyDescriptor(E,T):null)&&(M.get||M.set)?Object.defineProperty(O,T,M):O[T]=E[T])}return O.default=E,N&&N.set(E,O),O}(a("../core/constants"));function D(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,D=function(){return E},E)}function h(E,N){if(!(E instanceof N))throw new TypeError("Cannot call a class as a function")}function _(E,N){for(var T=0;T<N.length;T++){var O=N[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}function o(E,N,T){N&&_(E.prototype,N),T&&_(E,T)}a("./p5.Shader"),a("./p5.RendererGL.Retained"),x.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null),this._setProperty("_textDescent",null)},x.default.RendererGL.prototype.textWidth=function(E){return this._isOpenType()?this._textFont._textWidth(E,this._textSize):0};var p=function(){function E(N,T){h(this,E),this.width=N,this.height=T,this.infos=[]}return o(E,[{key:"findImage",value:function(N){var T,O,j=this.width*this.height;if(j<N)throw new Error("font is too complex to render in 3D");for(var M=this.infos.length-1;0<=M;--M){var F=this.infos[M];if(F.index+N<j){O=(T=F).imageData;break}}if(!T){try{O=new ImageData(this.width,this.height)}catch{var B=document.getElementsByTagName("canvas")[0],I=!B,G=(B||((B=document.createElement("canvas")).style.display="none",document.body.appendChild(B)),B.getContext("2d"));G&&(O=G.createImageData(this.width,this.height)),I&&document.body.removeChild(B)}this.infos.push(T={index:0,imageData:O})}return G=T.index,T.index+=N,O._dirty=!0,{imageData:O,index:G}}}]),E}();function b(F,N,T,O,j){var M=F.imageData.data,F=4*F.index++;M[F++]=N,M[F++]=T,M[F++]=O,M[+F]=j}var y=Math.sqrt(3),A=function(){function E(N){h(this,E),this.font=N,this.strokeImageInfos=new p(64,64),this.colDimImageInfos=new p(64,64),this.rowDimImageInfos=new p(64,64),this.colCellImageInfos=new p(64,64),this.rowCellImageInfos=new p(64,64),this.glyphInfos={}}return o(E,[{key:"getGlyphInfo",value:function(N){var T=this.glyphInfos[N.index];if(!T){var O=N.getBoundingBox(),j=O.x1,M=O.y1,F=O.x2-j,B=O.y2-M,I=N.path.commands;if(F==0||B==0||!I.length)return this.glyphInfos[N.index]={};for(var G=[],k=[],V=[],R=8;0<=R;--R)V.push([]);for(R=8;0<=R;--R)k.push([]);var U,L,H,X,Z=function(){function Oe(Se,Fe,$e,Re){h(this,Oe),this.p0=Se,this.c0=Fe,this.c1=$e,this.p1=Re}return o(Oe,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return x.default.Vector.sub(x.default.Vector.sub(this.p1,this.p0),x.default.Vector.mult(x.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(qe){var Fe=x.default.Vector.lerp(this.p0,this.c0,qe),Re=x.default.Vector.lerp(this.c0,this.c1,qe),$e=x.default.Vector.lerp(Fe,Re,qe),Re=(this.c1=x.default.Vector.lerp(this.c1,this.p1,qe),this.c0=x.default.Vector.lerp(Re,this.c1,qe),x.default.Vector.lerp($e,this.c0,qe)),qe=new Oe(this.p0,Fe,$e,Re);return this.p0=Re,qe}},{key:"splitInflections",value:function(){var Se=x.default.Vector.sub(this.c0,this.p0),Fe=x.default.Vector.sub(x.default.Vector.sub(this.c1,this.c0),Se),$e=x.default.Vector.sub(x.default.Vector.sub(x.default.Vector.sub(this.p1,this.c1),Se),x.default.Vector.mult(Fe,2)),Re=[],qe=Fe.x*$e.y-Fe.y*$e.x;return qe!==0&&0<=(Se=($e=Se.x*$e.y-Se.y*$e.x)*$e-4*qe*(Se.x*Fe.y-Se.y*Fe.x))&&(qe<0&&(qe=-qe,$e=-$e),Se=(-$e+(Fe=Math.sqrt(Se)))/(2*qe),0<($e=(-$e-Fe)/(2*qe))&&$e<1&&(Re.push(this.split($e)),Se=1-(1-Se)/(1-$e)),0<Se&&Se<1&&Re.push(this.split(Se))),Re.push(this),Re}}]),Oe}(),J=!0,K=!1,$=void 0;try{for(var W,Y=I[Symbol.iterator]();!(J=(W=Y.next()).done);J=!0){var te=W.value,ce=(te.x-j)/F,oe=(te.y-M)/B;if(!Pe(U,L,ce,oe)){switch(te.type){case"M":H=ce,X=oe;break;case"L":xe(U,L,ce,oe);break;case"Q":var ue=(te.x1-j)/F,Ce=(te.y1-M)/B;re([U,ce,ue],[L,oe,Ce],{x:U,y:L,cx:ue,cy:Ce});break;case"Z":Pe(U,L,H,X)?G.push({x:U,y:L}):(xe(U,L,H,X),G.push({x:H,y:X}));break;case"C":for(var le=function(Ee,Xe,rt,$e,Re,qe,ze,we){var Ee=new Z(new x.default.Vector(Ee,Xe),new x.default.Vector(rt,$e),new x.default.Vector(Re,qe),new x.default.Vector(ze,we)).splitInflections(),Me=[],me=30/y,Ge=!0,Xe=!1,rt=void 0;try{for(var ut,ft=Ee[Symbol.iterator]();!(Ge=(ut=ft.next()).done);Ge=!0){for(var pt=ut.value,ot=[],bt=void 0;!(.125<=(bt=me/pt.quadError()));){var At=Math.pow(bt,.3333333333333333),Ke=pt.split(At),dt=pt.split(1-At/(1-At));Me.push(Ke),ot.push(pt),pt=dt}bt<1&&Me.push(pt.split(.5)),Me.push(pt),Array.prototype.push.apply(Me,ot.reverse())}}catch(vt){Xe=!0,rt=vt}finally{try{Ge||ft.return==null||ft.return()}finally{if(Xe)throw rt}}return Me}(U,L,(te.x1-j)/F,(te.y1-M)/B,(te.x2-j)/F,(te.y2-M)/B,ce,oe),ye=0;ye<le.length;ye++){var ve=le[ye].toQuadratic();re([ve.x,ve.x1,ve.cx],[ve.y,ve.y1,ve.cy],ve)}break;default:throw new Error("unknown command type: ".concat(te.type))}U=ce,L=oe}}}catch(Oe){K=!0,$=Oe}finally{try{J||Y.return==null||Y.return()}finally{if(K)throw $}}for(var pe=G.length,be=this.strokeImageInfos.findImage(pe),Ne=be.index,he=0;he<pe;++he){var ne=G[he];b(be,de(ne.x),de(ne.y),de(ne.cx),de(ne.cy))}(T=this.glyphInfos[N.index]={glyph:N,uGlyphRect:[O.x1,-O.y1,O.x2,-O.y2],strokeImageInfo:be,strokes:G,colInfo:Ae(V,this.colDimImageInfos,this.colCellImageInfos),rowInfo:Ae(k,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[T.colInfo.dimOffset,T.rowInfo.dimOffset]}return T;function re(Oe,Se,Fe){var $e=G.length;function Re(Me,me,Ge){for(var Xe=Me.length;0<Xe--;){var rt=Me[Xe];rt<me&&(me=rt),Ge<rt&&(Ge=rt)}return{min:me,max:Ge}}G.push(Fe);for(var Fe=Re(Oe,1,0),Oe=Math.max(Math.floor(9*Fe.min-.5),0),qe=Math.min(Math.ceil(9*Fe.max+.5),9),ze=Oe;ze<qe;++ze)V[ze].push($e);for(var Fe=Re(Se,1,0),Oe=Math.max(Math.floor(9*Fe.min-.5),0),we=Math.min(Math.ceil(9*Fe.max+.5),9),Ee=Oe;Ee<we;++Ee)k[Ee].push($e)}function de(Oe){return(Oe=(Fe=255)*Oe)<(Se=0)?Se:Fe<Oe?Fe:Oe;var Se,Fe}function xe(Oe,Se,Fe,$e){re([Oe,Fe],[Se,$e],{x:Oe,y:Se,cx:(Oe+Fe)/2,cy:(Se+$e)/2})}function Pe(Oe,Se,Fe,$e){return Math.abs(Fe-Oe)<1e-5&&Math.abs($e-Se)<1e-5}function Ae(Oe,Se,Fe){for(var $e=Oe.length,Re=Se.findImage($e),Se=Re.index,qe=0,ze=0;ze<$e;++ze)qe+=Oe[ze].length;for(var we=Fe.findImage(qe),Ee=0;Ee<$e;++Ee){var Me=Oe[Ee],me=Me.length,Ge=we.index;b(Re,Ge>>7,127&Ge,me>>7,127&me);for(var Xe=0;Xe<me;++Xe){var rt=Me[Xe]+Ne;b(we,rt>>7,127&rt,0,0)}}return{cellImageInfo:we,dimOffset:Se,dimImageInfo:Re}}}}]),E}();x.default.RendererGL.prototype._renderText=function(E,N,T,O,j){if(this._textFont&&typeof this._textFont!="string"){if(!(j<=O)&&this._doFill){if(this._isOpenType()){E.push();var j=this._doStroke,M=this.drawMode,F=(this._doStroke=!1,this.drawMode=S.TEXTURE,this._textFont.font),B=(B=this._textFont._fontInfo)||(this._textFont._fontInfo=new A(F)),T=this._textFont._handleAlignment(this,N,T,O),O=this._textSize/F.unitsPerEm,I=(this.translate(T.x,T.y,0),this.scale(O,O,1),this.GL),T=!this._defaultFontShader,G=this._getFontShader(),k=(G.init(),G.bindShader(),T&&(G.setUniform("uGridImageSize",[64,64]),G.setUniform("uCellsImageSize",[64,64]),G.setUniform("uStrokeImageSize",[64,64]),G.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),V=(k||((O=this._textGeom=new x.default.Geometry(1,1,function(){for(var ye=0;ye<=1;ye++)for(var ve=0;ve<=1;ve++)this.vertices.push(new x.default.Vector(ve,ye,0)),this.uvs.push(ve,ye)})).computeFaces().computeNormals(),k=this.createBuffers("glyph",O)),!0),T=!1,O=void 0;try{for(var R,U=this.retainedMode.buffers.text[Symbol.iterator]();!(V=(R=U.next()).done);V=!0)R.value._prepareBuffer(k,G)}catch(ye){T=!0,O=ye}finally{try{V||U.return==null||U.return()}finally{if(T)throw O}}this._bindBuffer(k.indexBuffer,I.ELEMENT_ARRAY_BUFFER),G.setUniform("uMaterialColor",this.curFillColor),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var L=0,H=null,X=F.stringToGlyphs(N),Z=!0,J=!1,K=void 0;try{for(var $,W=X[Symbol.iterator]();!(Z=($=W.next()).done);Z=!0){var Y,te,ce=$.value,oe=(H&&(L+=F.getKerningValue(H,ce)),B.getGlyphInfo(ce));oe.uGlyphRect&&(Y=oe.rowInfo,te=oe.colInfo,G.setUniform("uSamplerStrokes",oe.strokeImageInfo.imageData),G.setUniform("uSamplerRowStrokes",Y.cellImageInfo.imageData),G.setUniform("uSamplerRows",Y.dimImageInfo.imageData),G.setUniform("uSamplerColStrokes",te.cellImageInfo.imageData),G.setUniform("uSamplerCols",te.dimImageInfo.imageData),G.setUniform("uGridOffset",oe.uGridOffset),G.setUniform("uGlyphRect",oe.uGlyphRect),G.setUniform("uGlyphOffset",L),G.bindTextures(),I.drawElements(I.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),L+=ce.advanceWidth,H=ce}}catch(ye){J=!0,K=ye}finally{try{Z||W.return==null||W.return()}finally{if(J)throw K}}}finally{G.unbindShader(),this._doStroke=j,this.drawMode=M,I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),E.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return E}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})})(p5_min$2);var p5_minExports=p5_min$2.exports;const p5_min=getDefaultExportFromCjs(p5_minExports),p5_min$1=_mergeNamespaces({__proto__:null,default:p5_min},[p5_minExports]),Visuals_svelte_svelte_type_style_lang="";function create_fragment$9(C){let u,n,a,r,g;return n=new P5({props:{sketch:C[2]}}),n.$on("instance",C[3]),{c(){u=element("div"),create_component(n.$$.fragment),this.h()},l(f){u=claim_element(f,"DIV",{class:!0});var m=children(u);claim_component(n.$$.fragment,m),m.forEach(detach),this.h()},h(){attr(u,"class","visuals svelte-1lnm1ti")},m(f,m){insert_hydration(f,u,m),mount_component(n,u,null),C[5](u),a=!0,r||(g=listen(window,"resize",C[4]),r=!0)},p:noop,i(f){a||(transition_in(n.$$.fragment,f),a=!0)},o(f){transition_out(n.$$.fragment,f),a=!1},d(f){f&&detach(u),destroy_component(n),C[5](null),r=!1,g()}}}function instance$9(C,u,n){let a,r,g,f=16,m=D=>{let h=100,_=h*.4;const o=()=>{if(!a)return;const T=a.getBoundingClientRect();h=min(T.width,T.height),_=h*.4},p=()=>{D.push(),D.noFill(),D.stroke(185,185,185),D.strokeWeight(1/2),D.sphere(_*.85,20,20),D.pop()},b=()=>{D.push(),D.noFill(),D.stroke(255,255,255),D.strokeWeight(1/2);const T=h/f*.9,O=f*T;for(let j=0;j<f;j++)for(let M=0;M<f;M++)D.rect(j*T-O/2,M*T-O/2,T,T);D.pop()},y=()=>{o(),D.resizeCanvas(h,h)};D.setup=()=>{o(),D.createCanvas(h,h,D.WEBGL),D.smooth(),D.noLoop(),get_store_value(visualsType)==="sphere"?p():b(),n(1,r=y),g=D.draw};const A=T=>{p(),T.forEach(O=>{const{x:j,y:M,z:F,colour:B}=O,I=Math.abs(1-F),G=p5_minExports.Vector.fromAngles(D.radians(M*180),D.radians(j*360),_*I);D.push(),D.noFill(),D.stroke(B),D.strokeWeight(3),D.rotateY(D.radians(90)),D.rotateY(D.radians(j*360)),D.circle(0,0,_*I*2),D.pop(),D.push(),D.noFill(),D.stroke(B),D.strokeWeight(3),D.rotateX(D.radians(90)),D.translate(0,0,-G.y),D.circle(0,0,D.sin(D.radians(M*180))*(_*I*2)),D.pop(),D.push(),D.translate(G.x,G.y,G.z),D.stroke(B),D.strokeWeight(O.weight*30),D.circle(0,0,1),D.pop()})},E=T=>{b();const O=h/f*.9,j=f*O;T.forEach(M=>{const{x:F,y:B,colour:I}=M,G=Math.floor(F%1*f)*O-j/2,k=Math.floor(B%1*f)*O-j/2;D.push(),D.fill(I),D.noStroke(),D.rect(G,k,O,O),D.pop()})},N=T=>{const{width:O,height:j}=Array.isArray(T[0])?{width:T[0].length,height:T.length}:calculateRectHeightAndWidth(T.length),M=h/Math.max(O,j)*.9,F=O*M,B=j*M,I=Array.isArray(T[0])?T.flat():T;for(let G=0;G<j;G++)for(let k=0;k<O;k++){const V=G*O+k;if(V>=I.length)break;const R=I[V],U=k*M-F/2,L=G*M-B/2;D.push(),D.fill(Math.floor((1-R)*256)),D.noStroke(),D.rect(U,L,M,M),D.pop()}};D.draw=()=>{D.clear(),f=get_store_value(s);const T=get_store_value(gridData);if(get_store_value(visualsType)==="sphere")return A(get_store_value(visualsData));T&&T.length?N(T):E(get_store_value(visualsData))}};const l=D=>{D.detail};onMount(()=>{const D=visualsType.subscribe(async()=>{await tick(),r&&r(),g&&g()}),h=showCircuit.subscribe(async()=>{await tick(),r&&r(),g&&g()}),_=visualsData.subscribe(async o=>{await tick(),g&&g()});return()=>{D(),h(),_()}});const x=()=>r&&r();function S(D){binding_callbacks[D?"unshift":"push"](()=>{a=D,n(0,a)})}return[a,r,m,l,x,S]}class Visuals extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$9,create_fragment$9,safe_not_equal,{})}}const Circuit_svelte_svelte_type_style_lang="";function get_each_context$3(C,u,n){const a=C.slice();return a[6]=u[n],a[8]=n,a}function create_if_block$3(C){let u,n,a,r,g,f=C[3][C[8]]+"",m,l,x,S,D,h,_,o,p,b=C[4][C[8]]+"",y,A,E;return{c(){u=element("div"),n=element("div"),a=element("p"),r=element("span"),g=text("|"),m=text(f),l=text("⟩"),x=space(),S=element("div"),D=space(),h=element("div"),_=element("p"),o=element("span"),p=text("|"),y=text(b),A=text("⟩"),E=space(),this.h()},l(N){u=claim_element(N,"DIV",{class:!0});var T=children(u);n=claim_element(T,"DIV",{class:!0});var O=children(n);a=claim_element(O,"P",{class:!0});var j=children(a);r=claim_element(j,"SPAN",{class:!0});var M=children(r);g=claim_text(M,"|"),m=claim_text(M,f),l=claim_text(M,"⟩"),M.forEach(detach),j.forEach(detach),O.forEach(detach),x=claim_space(T),S=claim_element(T,"DIV",{class:!0}),children(S).forEach(detach),D=claim_space(T),h=claim_element(T,"DIV",{class:!0});var F=children(h);_=claim_element(F,"P",{class:!0});var B=children(_);o=claim_element(B,"SPAN",{class:!0});var I=children(o);p=claim_text(I,"|"),y=claim_text(I,b),A=claim_text(I,"⟩"),I.forEach(detach),B.forEach(detach),F.forEach(detach),E=claim_space(T),T.forEach(detach),this.h()},h(){attr(r,"class","label__state"),attr(a,"class","label svelte-15i7j1x"),attr(n,"class","col col--first"),attr(S,"class","row__wire svelte-15i7j1x"),attr(o,"class","label__output"),attr(_,"class","label svelte-15i7j1x"),attr(h,"class","col col--last"),attr(u,"class","row svelte-15i7j1x")},m(N,T){insert_hydration(N,u,T),append_hydration(u,n),append_hydration(n,a),append_hydration(a,r),append_hydration(r,g),append_hydration(r,m),append_hydration(r,l),append_hydration(u,x),append_hydration(u,S),append_hydration(u,D),append_hydration(u,h),append_hydration(h,_),append_hydration(_,o),append_hydration(o,p),append_hydration(o,y),append_hydration(o,A),append_hydration(u,E)},p(N,T){T&8&&f!==(f=N[3][N[8]]+"")&&set_data(m,f),T&16&&b!==(b=N[4][N[8]]+"")&&set_data(y,b)},d(N){N&&detach(u)}}}function create_each_block$3(C){let u,n=C[3][C[8]]!==void 0&&C[4][C[8]]!==void 0&&create_if_block$3(C);return{c(){n&&n.c(),u=empty()},l(a){n&&n.l(a),u=empty()},m(a,r){n&&n.m(a,r),insert_hydration(a,u,r)},p(a,r){a[3][a[8]]!==void 0&&a[4][a[8]]!==void 0?n?n.p(a,r):(n=create_if_block$3(a),n.c(),n.m(u.parentNode,u)):n&&(n.d(1),n=null)},d(a){n&&n.d(a),a&&detach(u)}}}function create_fragment$8(C){let u,n,a,r,g=C[2],f=[];for(let m=0;m<g.length;m+=1)f[m]=create_each_block$3(get_each_context$3(C,g,m));return{c(){u=element("div"),n=element("div");for(let m=0;m<f.length;m+=1)f[m].c();a=space(),r=element("div"),this.h()},l(m){u=claim_element(m,"DIV",{class:!0});var l=children(u);n=claim_element(l,"DIV",{class:!0});var x=children(n);for(let D=0;D<f.length;D+=1)f[D].l(x);x.forEach(detach),a=claim_space(l),r=claim_element(l,"DIV",{class:!0});var S=children(r);S.forEach(detach),l.forEach(detach),this.h()},h(){attr(n,"class","circuit__wires svelte-15i7j1x"),attr(r,"class","circuit__svg svelte-15i7j1x"),attr(u,"class","circuit svelte-15i7j1x")},m(m,l){insert_hydration(m,u,l),append_hydration(u,n);for(let x=0;x<f.length;x+=1)f[x]&&f[x].m(n,null);append_hydration(u,a),append_hydration(u,r),r.innerHTML=C[0],C[5](r)},p(m,[l]){if(l&28){g=m[2];let x;for(x=0;x<g.length;x+=1){const S=get_each_context$3(m,g,x);f[x]?f[x].p(S,l):(f[x]=create_each_block$3(S),f[x].c(),f[x].m(n,null))}for(;x<f.length;x+=1)f[x].d(1);f.length=g.length}l&1&&(r.innerHTML=m[0])},i:noop,o:noop,d(m){m&&detach(u),destroy_each(f,m),C[5](null)}}}function instance$8(C,u,n){let a,r,g;component_subscribe(C,gates,x=>n(2,a=x)),component_subscribe(C,inputs,x=>n(3,r=x)),component_subscribe(C,measurements$1,x=>n(4,g=x));let f="",m;onMount(()=>{const x=code.subscribe(()=>{n(0,f=circuit.gates.flat().length>0?circuit.exportSVG():"")});return()=>{x()}});function l(x){binding_callbacks[x?"unshift":"push"](()=>{m=x,n(1,m)})}return[f,m,a,r,g,l]}class Circuit extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$8,create_fragment$8,safe_not_equal,{})}}const Data_svelte_svelte_type_style_lang="";function create_fragment$7(C){let u,n,a,r,g,f,m,l,x,S,D,h,_,o,p,b,y,A,E,N;return{c(){u=element("div"),n=element("div"),a=text("t: "),r=element("span"),g=text(C[0]),f=space(),m=element("div"),l=text("c: "),x=element("span"),S=text(C[1]),D=space(),h=element("div"),_=text("q: "),o=element("span"),p=text(C[2]),b=space(),y=element("div"),A=text("s: "),E=element("span"),N=text(C[3]),this.h()},l(T){u=claim_element(T,"DIV",{class:!0});var O=children(u);n=claim_element(O,"DIV",{class:!0});var j=children(n);a=claim_text(j,"t: "),r=claim_element(j,"SPAN",{class:!0});var M=children(r);g=claim_text(M,C[0]),M.forEach(detach),j.forEach(detach),f=claim_space(O),m=claim_element(O,"DIV",{class:!0});var F=children(m);l=claim_text(F,"c: "),x=claim_element(F,"SPAN",{class:!0});var B=children(x);S=claim_text(B,C[1]),B.forEach(detach),F.forEach(detach),D=claim_space(O),h=claim_element(O,"DIV",{class:!0});var I=children(h);_=claim_text(I,"q: "),o=claim_element(I,"SPAN",{class:!0});var G=children(o);p=claim_text(G,C[2]),G.forEach(detach),I.forEach(detach),b=claim_space(O),y=claim_element(O,"DIV",{class:!0});var k=children(y);A=claim_text(k,"s: "),E=claim_element(k,"SPAN",{class:!0});var V=children(E);N=claim_text(V,C[3]),V.forEach(detach),k.forEach(detach),O.forEach(detach),this.h()},h(){attr(r,"class","svelte-pqg1w9"),attr(n,"class","svelte-pqg1w9"),attr(x,"class","svelte-pqg1w9"),attr(m,"class","svelte-pqg1w9"),attr(o,"class","svelte-pqg1w9"),attr(h,"class","svelte-pqg1w9"),attr(E,"class","svelte-pqg1w9"),attr(y,"class","svelte-pqg1w9"),attr(u,"class","data svelte-pqg1w9")},m(T,O){insert_hydration(T,u,O),append_hydration(u,n),append_hydration(n,a),append_hydration(n,r),append_hydration(r,g),append_hydration(u,f),append_hydration(u,m),append_hydration(m,l),append_hydration(m,x),append_hydration(x,S),append_hydration(u,D),append_hydration(u,h),append_hydration(h,_),append_hydration(h,o),append_hydration(o,p),append_hydration(u,b),append_hydration(u,y),append_hydration(y,A),append_hydration(y,E),append_hydration(E,N)},p(T,[O]){O&1&&set_data(g,T[0]),O&2&&set_data(S,T[1]),O&4&&set_data(p,T[2]),O&8&&set_data(N,T[3])},i:noop,o:noop,d(T){T&&detach(u)}}}function instance$7(C,u,n){let a,r,g,f;return component_subscribe(C,t,m=>n(0,a=m)),component_subscribe(C,c,m=>n(1,r=m)),component_subscribe(C,q,m=>n(2,g=m)),component_subscribe(C,s,m=>n(3,f=m)),[a,r,g,f]}class Data extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$7,create_fragment$7,safe_not_equal,{})}}const Dialog_svelte_svelte_type_style_lang="";function create_fragment$6(C){let u,n,a,r,g;const f=C[2].default,m=create_slot(f,C,C[1],null);return{c(){u=element("dialog"),n=element("div"),m&&m.c(),this.h()},l(l){u=claim_element(l,"DIALOG",{class:!0});var x=children(u);n=claim_element(x,"DIV",{});var S=children(n);m&&m.l(S),S.forEach(detach),x.forEach(detach),this.h()},h(){attr(u,"class","svelte-h3v73y")},m(l,x){insert_hydration(l,u,x),append_hydration(u,n),m&&m.m(n,null),C[5](u),a=!0,r||(g=[listen(n,"click",stop_propagation(C[4])),listen(u,"click",C[6]),listen(u,"keydown",C[7]),listen(u,"close",C[3])],r=!0)},p(l,[x]){m&&m.p&&(!a||x&2)&&update_slot_base(m,f,l,l[1],a?get_slot_changes(f,l[1],x,null):get_all_dirty_from_scope(l[1]),null)},i(l){a||(transition_in(m,l),a=!0)},o(l){transition_out(m,l),a=!1},d(l){l&&detach(u),m&&m.d(l),C[5](null),r=!1,run_all(g)}}}function instance$6(C,u,n){let{$$slots:a={},$$scope:r}=u,{dialog:g}=u;function f(D){bubble.call(this,C,D)}function m(D){bubble.call(this,C,D)}function l(D){binding_callbacks[D?"unshift":"push"](()=>{g=D,n(0,g)})}const x=()=>g==null?void 0:g.close(),S=D=>{D.key==="Enter"&&D.preventDefault(),D.key==="Escape"&&(g==null||g.close())};return C.$$set=D=>{"dialog"in D&&n(0,g=D.dialog),"$$scope"in D&&n(1,r=D.$$scope)},[g,r,a,f,m,l,x,S]}class Dialog extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$6,create_fragment$6,safe_not_equal,{dialog:0})}}const Input_svelte_svelte_type_style_lang="";function create_fragment$5(C){let u,n,a;return{c(){u=element("input"),this.h()},l(r){u=claim_element(r,"INPUT",{id:!0,placeholder:!0,class:!0}),this.h()},h(){attr(u,"id",C[1]),attr(u,"placeholder",C[2]),attr(u,"class","svelte-12tjjht")},m(r,g){insert_hydration(r,u,g),set_input_value(u,C[0]),n||(a=[listen(u,"input",C[4]),listen(u,"change",C[5]),listen(u,"keydown",C[6])],n=!0)},p(r,[g]){g&2&&attr(u,"id",r[1]),g&4&&attr(u,"placeholder",r[2]),g&1&&u.value!==r[0]&&set_input_value(u,r[0])},i:noop,o:noop,d(r){r&&detach(u),n=!1,run_all(a)}}}function instance$5(C,u,n){const a=createEventDispatcher();let{id:r=""}=u,{placeholder:g=""}=u,{value:f=""}=u;function m(){f=this.value,n(0,f)}const l=()=>a("change",f),x=S=>S.key==="Enter"&&f!==""&&a("enter",f)&&n(0,f="");return C.$$set=S=>{"id"in S&&n(1,r=S.id),"placeholder"in S&&n(2,g=S.placeholder),"value"in S&&n(0,f=S.value)},[f,r,g,a,m,l,x]}class Input extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$5,create_fragment$5,safe_not_equal,{id:1,placeholder:2,value:0})}}const Save_svelte_svelte_type_style_lang="";function get_each_context$2(C,u,n){const a=C.slice();return a[10]=u[n],a}function create_each_block$2(C){let u,n,a=C[10]+"",r,g,f;function m(){return C[9](C[10])}return{c(){u=element("li"),n=element("button"),r=text(a),this.h()},l(l){u=claim_element(l,"LI",{class:!0});var x=children(u);n=claim_element(x,"BUTTON",{class:!0});var S=children(n);r=claim_text(S,a),S.forEach(detach),x.forEach(detach),this.h()},h(){attr(n,"class","svelte-21h0xr"),attr(u,"class","svelte-21h0xr"),toggle_class(u,"active",C[10]===C[1][C[0]])},m(l,x){insert_hydration(l,u,x),append_hydration(u,n),append_hydration(n,r),g||(f=listen(n,"click",m),g=!0)},p(l,x){C=l,x&4&&a!==(a=C[10]+"")&&set_data(r,a),x&7&&toggle_class(u,"active",C[10]===C[1][C[0]])},d(l){l&&detach(u),g=!1,f()}}}function create_fragment$4(C){let u,n,a,r,g,f,m,l,x,S;g=new Input({props:{id:"save",placeholder:"name",value:C[1][C[0]]||""}}),g.$on("enter",C[8]);let D=C[2],h=[];for(let _=0;_<D.length;_+=1)h[_]=create_each_block$2(get_each_context$2(C,D,_));return{c(){u=element("div"),n=element("label"),a=text("Save as"),r=space(),create_component(g.$$.fragment),f=space(),m=element("ul");for(let _=0;_<h.length;_+=1)h[_].c();this.h()},l(_){u=claim_element(_,"DIV",{});var o=children(u);n=claim_element(o,"LABEL",{class:!0});var p=children(n);a=claim_text(p,"Save as"),p.forEach(detach),r=claim_space(o),claim_component(g.$$.fragment,o),f=claim_space(o),m=claim_element(o,"UL",{class:!0});var b=children(m);for(let y=0;y<h.length;y+=1)h[y].l(b);b.forEach(detach),o.forEach(detach),this.h()},h(){attr(n,"class","svelte-21h0xr"),attr(m,"class","svelte-21h0xr")},m(_,o){insert_hydration(_,u,o),append_hydration(u,n),append_hydration(n,a),append_hydration(u,r),mount_component(g,u,null),append_hydration(u,f),append_hydration(u,m);for(let p=0;p<h.length;p+=1)h[p]&&h[p].m(m,null);l=!0,x||(S=listen(u,"keydown",C[4]),x=!0)},p(_,[o]){const p={};if(o&3&&(p.value=_[1][_[0]]||""),g.$set(p),o&15){D=_[2];let b;for(b=0;b<D.length;b+=1){const y=get_each_context$2(_,D,b);h[b]?h[b].p(y,o):(h[b]=create_each_block$2(y),h[b].c(),h[b].m(m,null))}for(;b<h.length;b+=1)h[b].d(1);h.length=D.length}},i(_){l||(transition_in(g.$$.fragment,_),l=!0)},o(_){transition_out(g.$$.fragment,_),l=!1},d(_){_&&detach(u),destroy_component(g),destroy_each(h,_),x=!1,S()}}}function instance$4(C,u,n){let a,r,g,f,m,l;component_subscribe(C,presetKeys,_=>n(1,m=_)),component_subscribe(C,activePreset,_=>n(7,l=_));const x=createEventDispatcher();function S(_){switch(_.key){case"ArrowDown":n(0,a=Math.min(a+1,m.length-1));break;case"ArrowUp":_.preventDefault(),n(0,a=Math.max(a-1,-1));break}}const D=({detail:_})=>{x("save"),savePreset(_)},h=_=>{x("save"),savePreset(_)};return C.$$.update=()=>{C.$$.dirty&130&&n(0,a=m.indexOf(l)),C.$$.dirty&1&&n(6,r=a<5?0:a-4),C.$$.dirty&64&&n(5,g=r+5),C.$$.dirty&98&&n(2,f=m.slice(r,g))},[a,m,f,x,S,g,r,l,D,h]}class Save extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$4,create_fragment$4,safe_not_equal,{})}}const Load_svelte_svelte_type_style_lang="";function get_each_context$1(C,u,n){const a=C.slice();return a[8]=u[n],a[10]=n,a}function create_else_block(C){let u,n,a,r,g=C[2],f=[];for(let m=0;m<g.length;m+=1)f[m]=create_each_block$1(get_each_context$1(C,g,m));return{c(){u=element("label"),n=text("Load"),a=space(),r=element("ul");for(let m=0;m<f.length;m+=1)f[m].c();this.h()},l(m){u=claim_element(m,"LABEL",{class:!0});var l=children(u);n=claim_text(l,"Load"),l.forEach(detach),a=claim_space(m),r=claim_element(m,"UL",{class:!0});var x=children(r);for(let S=0;S<f.length;S+=1)f[S].l(x);x.forEach(detach),this.h()},h(){attr(u,"class","svelte-1n1owal"),attr(r,"class","svelte-1n1owal")},m(m,l){insert_hydration(m,u,l),append_hydration(u,n),insert_hydration(m,a,l),insert_hydration(m,r,l);for(let x=0;x<f.length;x+=1)f[x]&&f[x].m(r,null)},p(m,l){if(l&15){g=m[2];let x;for(x=0;x<g.length;x+=1){const S=get_each_context$1(m,g,x);f[x]?f[x].p(S,l):(f[x]=create_each_block$1(S),f[x].c(),f[x].m(r,null))}for(;x<f.length;x+=1)f[x].d(1);f.length=g.length}},d(m){m&&detach(u),m&&detach(a),m&&detach(r),destroy_each(f,m)}}}function create_if_block$2(C){let u,n;return{c(){u=element("p"),n=text("No presets saved"),this.h()},l(a){u=claim_element(a,"P",{class:!0});var r=children(u);n=claim_text(r,"No presets saved"),r.forEach(detach),this.h()},h(){attr(u,"class","svelte-1n1owal")},m(a,r){insert_hydration(a,u,r),append_hydration(u,n)},p:noop,d(a){a&&detach(u)}}}function create_each_block$1(C){let u,n,a=C[8]+"",r,g,f,m;function l(){return C[7](C[8])}return{c(){u=element("li"),n=element("button"),r=text(a),g=space(),this.h()},l(x){u=claim_element(x,"LI",{class:!0});var S=children(u);n=claim_element(S,"BUTTON",{class:!0});var D=children(n);r=claim_text(D,a),D.forEach(detach),g=claim_space(S),S.forEach(detach),this.h()},h(){attr(n,"class","svelte-1n1owal"),attr(u,"class","svelte-1n1owal"),toggle_class(u,"active",C[1][C[0]]===C[8])},m(x,S){insert_hydration(x,u,S),append_hydration(u,n),append_hydration(n,r),append_hydration(u,g),f||(m=listen(n,"click",l),f=!0)},p(x,S){C=x,S&4&&a!==(a=C[8]+"")&&set_data(r,a),S&7&&toggle_class(u,"active",C[1][C[0]]===C[8])},d(x){x&&detach(u),f=!1,m()}}}function create_fragment$3(C){let u,n,a;function r(m,l){return m[1].length===0?create_if_block$2:create_else_block}let g=r(C),f=g(C);return{c(){u=element("div"),f.c(),this.h()},l(m){u=claim_element(m,"DIV",{class:!0});var l=children(u);f.l(l),l.forEach(detach),this.h()},h(){attr(u,"class","presets svelte-1n1owal")},m(m,l){insert_hydration(m,u,l),f.m(u,null),n||(a=listen(u,"keydown",C[4]),n=!0)},p(m,[l]){g===(g=r(m))&&f?f.p(m,l):(f.d(1),f=g(m),f&&(f.c(),f.m(u,null)))},i:noop,o:noop,d(m){m&&detach(u),f.d(),n=!1,a()}}}function instance$3(C,u,n){let a,r,g,f;component_subscribe(C,presetKeys,D=>n(1,f=D));const m=createEventDispatcher();let l=0;function x(D){const h=f[l];if(console.log(h),!isNaN(Number(D.key))){D.preventDefault();const _=Number(D.key);n(0,l=_%f.length),activePreset.set(f[l]),m("load");return}switch(D.key){case"ArrowDown":n(0,l=Math.min(l+1,f.length-1));break;case"ArrowUp":n(0,l=Math.max(l-1,0));break;case"Enter":D.preventDefault(),activePreset.set(h),m("load");break;case"Backspace":D.preventDefault(),deletePreset(h);break}}const S=D=>{activePreset.set(D),m("load")};return C.$$.update=()=>{C.$$.dirty&1&&n(6,a=l<5?0:l-4),C.$$.dirty&64&&n(5,r=a+5),C.$$.dirty&98&&n(2,g=f.slice(a,r))},[l,f,g,m,x,r,a,S]}class Load extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$3,create_fragment$3,safe_not_equal,{})}}const Tools_svelte_svelte_type_style_lang="";function create_if_block$1(C){let u,n,a,r,g,f,m,l;return n=new Icon({props:{data:faFloppyDisk}}),g=new Icon({props:{data:faCode}}),{c(){u=element("button"),create_component(n.$$.fragment),a=space(),r=element("button"),create_component(g.$$.fragment),this.h()},l(x){u=claim_element(x,"BUTTON",{class:!0});var S=children(u);claim_component(n.$$.fragment,S),S.forEach(detach),a=claim_space(x),r=claim_element(x,"BUTTON",{class:!0});var D=children(r);claim_component(g.$$.fragment,D),D.forEach(detach),this.h()},h(){attr(u,"class","svelte-o669w"),toggle_class(u,"active",!1),attr(r,"class","svelte-o669w"),toggle_class(r,"active",!1)},m(x,S){insert_hydration(x,u,S),mount_component(n,u,null),insert_hydration(x,a,S),insert_hydration(x,r,S),mount_component(g,r,null),f=!0,m||(l=[listen(u,"click",C[8]),listen(r,"click",C[9])],m=!0)},p:noop,i(x){f||(transition_in(n.$$.fragment,x),transition_in(g.$$.fragment,x),f=!0)},o(x){transition_out(n.$$.fragment,x),transition_out(g.$$.fragment,x),f=!1},d(x){x&&detach(u),destroy_component(n),x&&detach(a),x&&detach(r),destroy_component(g),m=!1,run_all(l)}}}function create_default_slot_1(C){let u,n;return u=new Save({}),u.$on("save",C[10]),{c(){create_component(u.$$.fragment)},l(a){claim_component(u.$$.fragment,a)},m(a,r){mount_component(u,a,r),n=!0},p:noop,i(a){n||(transition_in(u.$$.fragment,a),n=!0)},o(a){transition_out(u.$$.fragment,a),n=!1},d(a){destroy_component(u,a)}}}function create_default_slot(C){let u,n;return u=new Load({}),u.$on("load",C[13]),{c(){create_component(u.$$.fragment)},l(a){claim_component(u.$$.fragment,a)},m(a,r){mount_component(u,a,r),n=!0},p:noop,i(a){n||(transition_in(u.$$.fragment,a),n=!0)},o(a){transition_out(u.$$.fragment,a),n=!1},d(a){destroy_component(u,a)}}}function create_fragment$2(C){let u,n,a,r,g=!isApp(),f,m,l,x,S,D,h,_,o,p,b,y,A,E,N;a=new Icon({props:{data:C[2]?faStop:faPlay}});let T=g&&create_if_block$1(C);l=new Icon({props:{data:C[5][C[3]]||C[5].grid}}),D=new Icon({props:{data:faBars}});function O(B){C[11](B)}let j={$$slots:{default:[create_default_slot_1]},$$scope:{ctx:C}};C[0]!==void 0&&(j.dialog=C[0]),_=new Dialog({props:j}),binding_callbacks.push(()=>bind(_,"dialog",O)),_.$on("close",C[12]);function M(B){C[14](B)}let F={$$slots:{default:[create_default_slot]},$$scope:{ctx:C}};return C[1]!==void 0&&(F.dialog=C[1]),b=new Dialog({props:F}),binding_callbacks.push(()=>bind(b,"dialog",M)),b.$on("close",C[15]),{c(){u=element("div"),n=element("button"),create_component(a.$$.fragment),r=space(),T&&T.c(),f=space(),m=element("button"),create_component(l.$$.fragment),x=space(),S=element("button"),create_component(D.$$.fragment),h=space(),create_component(_.$$.fragment),p=space(),create_component(b.$$.fragment),this.h()},l(B){u=claim_element(B,"DIV",{class:!0});var I=children(u);n=claim_element(I,"BUTTON",{class:!0});var G=children(n);claim_component(a.$$.fragment,G),G.forEach(detach),r=claim_space(I),T&&T.l(I),f=claim_space(I),m=claim_element(I,"BUTTON",{class:!0});var k=children(m);claim_component(l.$$.fragment,k),k.forEach(detach),x=claim_space(I),S=claim_element(I,"BUTTON",{class:!0});var V=children(S);claim_component(D.$$.fragment,V),V.forEach(detach),I.forEach(detach),h=claim_space(B),claim_component(_.$$.fragment,B),p=claim_space(B),claim_component(b.$$.fragment,B),this.h()},h(){attr(n,"class","svelte-o669w"),attr(m,"class","tools__visuals svelte-o669w"),toggle_class(m,"active",C[3]!=="none"),attr(S,"class","tools__circuit svelte-o669w"),toggle_class(S,"active",C[4]),attr(u,"class","tools svelte-o669w")},m(B,I){insert_hydration(B,u,I),append_hydration(u,n),mount_component(a,n,null),append_hydration(u,r),T&&T.m(u,null),append_hydration(u,f),append_hydration(u,m),mount_component(l,m,null),append_hydration(u,x),append_hydration(u,S),mount_component(D,S,null),insert_hydration(B,h,I),mount_component(_,B,I),insert_hydration(B,p,I),mount_component(b,B,I),A=!0,E||(N=[listen(window,"keydown",C[6]),listen(n,"click",C[7]),listen(m,"click",toggleVisuals),listen(S,"click",toggleCircuit)],E=!0)},p(B,[I]){const G={};I&4&&(G.data=B[2]?faStop:faPlay),a.$set(G),g&&T.p(B,I);const k={};I&8&&(k.data=B[5][B[3]]||B[5].grid),l.$set(k),(!A||I&8)&&toggle_class(m,"active",B[3]!=="none"),(!A||I&16)&&toggle_class(S,"active",B[4]);const V={};I&65537&&(V.$$scope={dirty:I,ctx:B}),!o&&I&1&&(o=!0,V.dialog=B[0],add_flush_callback(()=>o=!1)),_.$set(V);const R={};I&65538&&(R.$$scope={dirty:I,ctx:B}),!y&&I&2&&(y=!0,R.dialog=B[1],add_flush_callback(()=>y=!1)),b.$set(R)},i(B){A||(transition_in(a.$$.fragment,B),transition_in(T),transition_in(l.$$.fragment,B),transition_in(D.$$.fragment,B),transition_in(_.$$.fragment,B),transition_in(b.$$.fragment,B),A=!0)},o(B){transition_out(a.$$.fragment,B),transition_out(T),transition_out(l.$$.fragment,B),transition_out(D.$$.fragment,B),transition_out(_.$$.fragment,B),transition_out(b.$$.fragment,B),A=!1},d(B){B&&detach(u),destroy_component(a),T&&T.d(),destroy_component(l),destroy_component(D),B&&detach(h),destroy_component(_,B),B&&detach(p),destroy_component(b,B),E=!1,run_all(N)}}}function instance$2(C,u,n){let a,r,g;component_subscribe(C,isPlaying,E=>n(2,a=E)),component_subscribe(C,visualsType,E=>n(3,r=E)),component_subscribe(C,showCircuit,E=>n(4,g=E));const f={grid:faChessBoard,sphere:faGlobe,none:faToggleOff};let m,l;const x=E=>{isApp()||!E.metaKey||!["s","o"].includes(E.key)||(E.preventDefault(),E.key==="s"&&m.showModal(),E.key==="o"&&l.showModal())},S=()=>{isPlaying.set(!a)},D=()=>m.showModal(),h=()=>l.showModal(),_=()=>m.close();function o(E){m=E,n(0,m)}const p=()=>m.close(),b=()=>l.close();function y(E){l=E,n(1,l)}return[m,l,a,r,g,f,x,S,D,h,_,o,p,b,y,()=>l.close()]}class Tools extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$2,create_fragment$2,safe_not_equal,{})}}const Console_svelte_svelte_type_style_lang="";function get_each_context(C,u,n){const a=C.slice();return a[3]=u[n].type,a[4]=u[n].message,a}function get_each_context_1(C,u,n){const a=C.slice();return a[7]=u[n],a}function create_each_block_1(C){let u,n=C[7]+"",a,r;return{c(){u=element("li"),a=text(n),this.h()},l(g){u=claim_element(g,"LI",{class:!0});var f=children(u);a=claim_text(f,n),f.forEach(detach),this.h()},h(){attr(u,"class",r=null_to_empty(C[3])+" svelte-1l5uop1")},m(g,f){insert_hydration(g,u,f),append_hydration(u,a)},p(g,f){f&2&&n!==(n=g[7]+"")&&set_data(a,n),f&2&&r!==(r=null_to_empty(g[3])+" svelte-1l5uop1")&&attr(u,"class",r)},d(g){g&&detach(u)}}}function create_each_block(C){let u,n=C[4].split(`
`),a=[];for(let r=0;r<n.length;r+=1)a[r]=create_each_block_1(get_each_context_1(C,n,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();u=empty()},l(r){for(let g=0;g<a.length;g+=1)a[g].l(r);u=empty()},m(r,g){for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(r,g);insert_hydration(r,u,g)},p(r,g){if(g&2){n=r[4].split(`
`);let f;for(f=0;f<n.length;f+=1){const m=get_each_context_1(r,n,f);a[f]?a[f].p(m,g):(a[f]=create_each_block_1(m),a[f].c(),a[f].m(u.parentNode,u))}for(;f<a.length;f+=1)a[f].d(1);a.length=n.length}},d(r){destroy_each(a,r),r&&detach(u)}}}function create_fragment$1(C){let u,n,a=C[1],r=[];for(let g=0;g<a.length;g+=1)r[g]=create_each_block(get_each_context(C,a,g));return{c(){u=element("div"),n=element("ul");for(let g=0;g<r.length;g+=1)r[g].c();this.h()},l(g){u=claim_element(g,"DIV",{class:!0});var f=children(u);n=claim_element(f,"UL",{class:!0});var m=children(n);for(let l=0;l<r.length;l+=1)r[l].l(m);m.forEach(detach),f.forEach(detach),this.h()},h(){attr(n,"class","svelte-1l5uop1"),attr(u,"class","console svelte-1l5uop1")},m(g,f){insert_hydration(g,u,f),append_hydration(u,n);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(n,null);C[2](n)},p(g,[f]){if(f&2){a=g[1];let m;for(m=0;m<a.length;m+=1){const l=get_each_context(g,a,m);r[m]?r[m].p(l,f):(r[m]=create_each_block(l),r[m].c(),r[m].m(n,null))}for(;m<r.length;m+=1)r[m].d(1);r.length=a.length}},i:noop,o:noop,d(g){g&&detach(u),destroy_each(r,g),C[2](null)}}}function instance$1(C,u,n){let a;component_subscribe(C,messages,f=>n(1,a=f));let r;onMount(()=>{messages.subscribe(()=>{r&&Promise.resolve().then(()=>{n(0,r.scrollTop=r.scrollHeight,r)})})});function g(f){binding_callbacks[f?"unshift":"push"](()=>{r=f,n(0,r)})}return[r,a,g]}class Console extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$1,create_fragment$1,safe_not_equal,{})}}const _page_svelte_svelte_type_style_lang="";function create_if_block_1(C){let u,n,a;return n=new Circuit({}),{c(){u=element("div"),create_component(n.$$.fragment),this.h()},l(r){u=claim_element(r,"DIV",{class:!0});var g=children(u);claim_component(n.$$.fragment,g),g.forEach(detach),this.h()},h(){attr(u,"class","circuit svelte-tsli7s"),toggle_class(u,"circuit--fullHeight",!C[1])},m(r,g){insert_hydration(r,u,g),mount_component(n,u,null),a=!0},p(r,g){(!a||g&2)&&toggle_class(u,"circuit--fullHeight",!r[1])},i(r){a||(transition_in(n.$$.fragment,r),a=!0)},o(r){transition_out(n.$$.fragment,r),a=!1},d(r){r&&detach(u),destroy_component(n)}}}function create_if_block(C){let u,n,a;return n=new Visuals({}),{c(){u=element("div"),create_component(n.$$.fragment),this.h()},l(r){u=claim_element(r,"DIV",{class:!0});var g=children(u);claim_component(n.$$.fragment,g),g.forEach(detach),this.h()},h(){attr(u,"class","visuals svelte-tsli7s"),toggle_class(u,"visuals--withCircuit",C[0])},m(r,g){insert_hydration(r,u,g),mount_component(n,u,null),a=!0},p(r,g){(!a||g&1)&&toggle_class(u,"visuals--withCircuit",r[0])},i(r){a||(transition_in(n.$$.fragment,r),a=!0)},o(r){transition_out(n.$$.fragment,r),a=!1},d(r){r&&detach(u),destroy_component(n)}}}function create_fragment(C){let u,n,a,r,g,f,m,l,x,S,D,h,_,o,p,b,y,A,E;g=new Editor({}),l=new Console({}),D=new Tools({});let N=C[0]&&create_if_block_1(C),T=C[1]&&create_if_block(C);return b=new Data({}),{c(){u=element("meta"),n=space(),a=element("section"),r=element("div"),create_component(g.$$.fragment),f=space(),m=element("div"),create_component(l.$$.fragment),x=space(),S=element("div"),create_component(D.$$.fragment),h=space(),N&&N.c(),_=space(),T&&T.c(),o=space(),p=element("div"),create_component(b.$$.fragment),this.h()},l(O){const j=head_selector("svelte-k5c2ig",document.head);u=claim_element(j,"META",{name:!0,content:!0}),j.forEach(detach),n=claim_space(O),a=claim_element(O,"SECTION",{class:!0});var M=children(a);r=claim_element(M,"DIV",{class:!0});var F=children(r);claim_component(g.$$.fragment,F),F.forEach(detach),f=claim_space(M),m=claim_element(M,"DIV",{class:!0});var B=children(m);claim_component(l.$$.fragment,B),B.forEach(detach),x=claim_space(M),S=claim_element(M,"DIV",{class:!0});var I=children(S);claim_component(D.$$.fragment,I),I.forEach(detach),h=claim_space(M),N&&N.l(M),_=claim_space(M),T&&T.l(M),o=claim_space(M),p=claim_element(M,"DIV",{class:!0});var G=children(p);claim_component(b.$$.fragment,G),G.forEach(detach),M.forEach(detach),this.h()},h(){document.title="Zen",attr(u,"name","description"),attr(u,"content","A musical live coding language that runs in your browser"),attr(r,"class","editor svelte-tsli7s"),toggle_class(r,"editor--large",!C[0]&&!C[1]),attr(m,"class","console svelte-tsli7s"),toggle_class(m,"console--large",!C[0]&&!C[1]),attr(S,"class","tools svelte-tsli7s"),attr(p,"class","data svelte-tsli7s"),attr(a,"class","zen svelte-tsli7s")},m(O,j){append_hydration(document.head,u),insert_hydration(O,n,j),insert_hydration(O,a,j),append_hydration(a,r),mount_component(g,r,null),append_hydration(a,f),append_hydration(a,m),mount_component(l,m,null),append_hydration(a,x),append_hydration(a,S),mount_component(D,S,null),append_hydration(a,h),N&&N.m(a,null),append_hydration(a,_),T&&T.m(a,null),append_hydration(a,o),append_hydration(a,p),mount_component(b,p,null),y=!0,A||(E=[listen(window,"click",startAudio),listen(window,"touchstart",startAudio),listen(window,"keydown",startAudio)],A=!0)},p(O,[j]){(!y||j&3)&&toggle_class(r,"editor--large",!O[0]&&!O[1]),(!y||j&3)&&toggle_class(m,"console--large",!O[0]&&!O[1]),O[0]?N?(N.p(O,j),j&1&&transition_in(N,1)):(N=create_if_block_1(O),N.c(),transition_in(N,1),N.m(a,_)):N&&(group_outros(),transition_out(N,1,1,()=>{N=null}),check_outros()),O[1]?T?(T.p(O,j),j&2&&transition_in(T,1)):(T=create_if_block(O),T.c(),transition_in(T,1),T.m(a,o)):T&&(group_outros(),transition_out(T,1,1,()=>{T=null}),check_outros())},i(O){y||(transition_in(g.$$.fragment,O),transition_in(l.$$.fragment,O),transition_in(D.$$.fragment,O),transition_in(N),transition_in(T),transition_in(b.$$.fragment,O),y=!0)},o(O){transition_out(g.$$.fragment,O),transition_out(l.$$.fragment,O),transition_out(D.$$.fragment,O),transition_out(N),transition_out(T),transition_out(b.$$.fragment,O),y=!1},d(O){detach(u),O&&detach(n),O&&detach(a),destroy_component(g),destroy_component(l),destroy_component(D),N&&N.d(),T&&T.d(),destroy_component(b),A=!1,run_all(E)}}}function instance(C,u,n){let a,r;return component_subscribe(C,showCircuit,g=>n(0,a=g)),component_subscribe(C,showVisuals,g=>n(1,r=g)),onMount(()=>{isApp()&&initElectronAPI()}),[a,r]}class Page extends SvelteComponent{constructor(u){super(),init$1(this,u,instance,create_fragment,safe_not_equal,{})}}export{Page as component,_page as universal};
