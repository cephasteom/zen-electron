var Ts=Object.defineProperty;var Ms=(N,u,n)=>u in N?Ts(N,u,{enumerable:!0,configurable:!0,writable:!0,value:n}):N[u]=n;var Bt=(N,u,n)=>(Ms(N,typeof u!="symbol"?u+"":u,n),n);import{O as get_store_value,S as SvelteComponent,i as init$1,s as safe_not_equal,k as element,a as space,q as text,l as claim_element,m as children,h as detach,c as claim_space,r as claim_text,n as attr,C as null_to_empty,P as toggle_class,b as insert_hydration,D as append_hydration,E as listen,u as set_data,J as noop,G as component_subscribe,o as onMount,Q as onDestroy,H as globals,w as binding_callbacks,R as action_destroyer,T as createEventDispatcher,y as create_component,z as claim_component,A as mount_component,g as transition_in,d as transition_out,B as destroy_component,t as tick,U as destroy_each,e as empty,K as create_slot,V as stop_propagation,L as update_slot_base,M as get_all_dirty_from_scope,N as get_slot_changes,F as run_all,W as bubble,X as set_input_value,Y as bind,Z as add_flush_callback,_ as head_selector,f as check_outros,v as group_outros}from"../chunks/index.618ef35a.js";import{c as commonjsGlobal,g as getAugmentedNamespace,a as getDefaultExportFromCjs}from"../chunks/_commonjsHelpers.23102255.js";import{w as writable$1,d as derived}from"../chunks/index.61b7dc69.js";import{_ as __vitePreload}from"../chunks/preload-helper.a4192956.js";import{I as Icon,b as faStop,c as faPlay,a as faBars,d as faFloppyDisk,e as faCode,g as faChessBoard,h as faGlobe,i as faToggleOff}from"../chunks/index.36fe6009.js";import{i as isApp,a as initElectronAPI}from"../chunks/index.0f31ef84.js";function _mergeNamespaces(N,u){for(var n=0;n<u.length;n++){const a=u[n];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in N)){const b=Object.getOwnPropertyDescriptor(a,r);b&&Object.defineProperty(N,r,b.get?b:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}))}const prerender=!0,_page=Object.freeze(Object.defineProperty({__proto__:null,prerender},Symbol.toStringTag,{value:"Module"}));function _defineProperty$1(N,u,n){return u in N?Object.defineProperty(N,u,{value:n,enumerable:!0,configurable:!0,writable:!0}):N[u]=n,N}function ownKeys$1(N,u){var n=Object.keys(N);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(N);u&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(N,r).enumerable})),n.push.apply(n,a)}return n}function _objectSpread2$1(N){for(var u=1;u<arguments.length;u++){var n=arguments[u]!=null?arguments[u]:{};u%2?ownKeys$1(Object(n),!0).forEach(function(a){_defineProperty$1(N,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(a){Object.defineProperty(N,a,Object.getOwnPropertyDescriptor(n,a))})}return N}function _objectWithoutPropertiesLoose(N,u){if(N==null)return{};var n={},a=Object.keys(N),r,b;for(b=0;b<a.length;b++)r=a[b],!(u.indexOf(r)>=0)&&(n[r]=N[r]);return n}function _objectWithoutProperties(N,u){if(N==null)return{};var n=_objectWithoutPropertiesLoose(N,u),a,r;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(N);for(r=0;r<b.length;r++)a=b[r],!(u.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(N,a)&&(n[a]=N[a])}return n}function _slicedToArray(N,u){return _arrayWithHoles(N)||_iterableToArrayLimit(N,u)||_unsupportedIterableToArray(N,u)||_nonIterableRest()}function _arrayWithHoles(N){if(Array.isArray(N))return N}function _iterableToArrayLimit(N,u){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(N)))){var n=[],a=!0,r=!1,b=void 0;try{for(var h=N[Symbol.iterator](),m;!(a=(m=h.next()).done)&&(n.push(m.value),!(u&&n.length===u));a=!0);}catch(p){r=!0,b=p}finally{try{!a&&h.return!=null&&h.return()}finally{if(r)throw b}}return n}}function _unsupportedIterableToArray(N,u){if(N){if(typeof N=="string")return _arrayLikeToArray(N,u);var n=Object.prototype.toString.call(N).slice(8,-1);if(n==="Object"&&N.constructor&&(n=N.constructor.name),n==="Map"||n==="Set")return Array.from(N);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(N,u)}}function _arrayLikeToArray(N,u){(u==null||u>N.length)&&(u=N.length);for(var n=0,a=new Array(u);n<u;n++)a[n]=N[n];return a}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _defineProperty(N,u,n){return u in N?Object.defineProperty(N,u,{value:n,enumerable:!0,configurable:!0,writable:!0}):N[u]=n,N}function ownKeys(N,u){var n=Object.keys(N);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(N);u&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(N,r).enumerable})),n.push.apply(n,a)}return n}function _objectSpread2(N){for(var u=1;u<arguments.length;u++){var n=arguments[u]!=null?arguments[u]:{};u%2?ownKeys(Object(n),!0).forEach(function(a){_defineProperty(N,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(a){Object.defineProperty(N,a,Object.getOwnPropertyDescriptor(n,a))})}return N}function compose$1(){for(var N=arguments.length,u=new Array(N),n=0;n<N;n++)u[n]=arguments[n];return function(a){return u.reduceRight(function(r,b){return b(r)},a)}}function curry$1(N){return function u(){for(var n=this,a=arguments.length,r=new Array(a),b=0;b<a;b++)r[b]=arguments[b];return r.length>=N.length?N.apply(this,r):function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];return u.apply(n,[].concat(r,m))}}}function isObject$3(N){return{}.toString.call(N).includes("Object")}function isEmpty(N){return!Object.keys(N).length}function isFunction$2(N){return typeof N=="function"}function hasOwnProperty$1(N,u){return Object.prototype.hasOwnProperty.call(N,u)}function validateChanges(N,u){return isObject$3(u)||errorHandler$1("changeType"),Object.keys(u).some(function(n){return!hasOwnProperty$1(N,n)})&&errorHandler$1("changeField"),u}function validateSelector(N){isFunction$2(N)||errorHandler$1("selectorType")}function validateHandler(N){isFunction$2(N)||isObject$3(N)||errorHandler$1("handlerType"),isObject$3(N)&&Object.values(N).some(function(u){return!isFunction$2(u)})&&errorHandler$1("handlersType")}function validateInitial(N){N||errorHandler$1("initialIsRequired"),isObject$3(N)||errorHandler$1("initialType"),isEmpty(N)&&errorHandler$1("initialContent")}function throwError$1(N,u){throw new Error(N[u]||N.default)}var errorMessages$1={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},errorHandler$1=curry$1(throwError$1)(errorMessages$1),validators$1={changes:validateChanges,selector:validateSelector,handler:validateHandler,initial:validateInitial};function create$1(N){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};validators$1.initial(N),validators$1.handler(u);var n={current:N},a=curry$1(didStateUpdate)(n,u),r=curry$1(updateState)(n),b=curry$1(validators$1.changes)(N),h=curry$1(extractChanges)(n);function m(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(S){return S};return validators$1.selector(A),A(n.current)}function p(A){compose$1(a,r,b,h)(A)}return[m,p]}function extractChanges(N,u){return isFunction$2(u)?u(N.current):u}function updateState(N,u){return N.current=_objectSpread2(_objectSpread2({},N.current),u),u}function didStateUpdate(N,u,n){return isFunction$2(u)?u(N.current):Object.keys(n).forEach(function(a){var r;return(r=u[a])===null||r===void 0?void 0:r.call(u,N.current[a])}),n}var index={create:create$1},config$3={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.36.1/min/vs"}};function curry(N){return function u(){for(var n=this,a=arguments.length,r=new Array(a),b=0;b<a;b++)r[b]=arguments[b];return r.length>=N.length?N.apply(this,r):function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];return u.apply(n,[].concat(r,m))}}}function isObject$2(N){return{}.toString.call(N).includes("Object")}function validateConfig(N){return N||errorHandler("configIsRequired"),isObject$2(N)||errorHandler("configType"),N.urls?(informAboutDeprecation(),{paths:{vs:N.urls.monacoBase}}):N}function informAboutDeprecation(){console.warn(errorMessages.deprecation)}function throwError(N,u){throw new Error(N[u]||N.default)}var errorMessages={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},errorHandler=curry(throwError)(errorMessages),validators={config:validateConfig},compose=function(){for(var u=arguments.length,n=new Array(u),a=0;a<u;a++)n[a]=arguments[a];return function(r){return n.reduceRight(function(b,h){return h(b)},r)}};function merge(N,u){return Object.keys(u).forEach(function(n){u[n]instanceof Object&&N[n]&&Object.assign(u[n],merge(N[n],u[n]))}),_objectSpread2$1(_objectSpread2$1({},N),u)}var CANCELATION_MESSAGE={type:"cancelation",msg:"operation is manually canceled"};function makeCancelable(N){var u=!1,n=new Promise(function(a,r){N.then(function(b){return u?r(CANCELATION_MESSAGE):a(b)}),N.catch(r)});return n.cancel=function(){return u=!0},n}var _state$create=index.create({config:config$3,isInitialized:!1,resolve:null,reject:null,monaco:null}),_state$create2=_slicedToArray(_state$create,2),getState=_state$create2[0],setState=_state$create2[1];function config$2(N){var u=validators.config(N),n=u.monaco,a=_objectWithoutProperties(u,["monaco"]);setState(function(r){return{config:merge(r.config,a),monaco:n}})}function init(){var N=getState(function(u){var n=u.monaco,a=u.isInitialized,r=u.resolve;return{monaco:n,isInitialized:a,resolve:r}});if(!N.isInitialized){if(setState({isInitialized:!0}),N.monaco)return N.resolve(N.monaco),makeCancelable(wrapperPromise);if(window.monaco&&window.monaco.editor)return storeMonacoInstance(window.monaco),N.resolve(window.monaco),makeCancelable(wrapperPromise);compose(injectScripts,getMonacoLoaderScript)(configureLoader)}return makeCancelable(wrapperPromise)}function injectScripts(N){return document.body.appendChild(N)}function createScript(N){var u=document.createElement("script");return N&&(u.src=N),u}function getMonacoLoaderScript(N){var u=getState(function(a){var r=a.config,b=a.reject;return{config:r,reject:b}}),n=createScript("".concat(u.config.paths.vs,"/loader.js"));return n.onload=function(){return N()},n.onerror=u.reject,n}function configureLoader(){var N=getState(function(n){var a=n.config,r=n.resolve,b=n.reject;return{config:a,resolve:r,reject:b}}),u=window.require;u.config(N.config),u(["vs/editor/editor.main"],function(n){storeMonacoInstance(n),N.resolve(n)},function(n){N.reject(n)})}function storeMonacoInstance(N){getState().monaco||setState({monaco:N})}function __getMonacoInstance(){return getState(function(N){var u=N.monaco;return u})}var wrapperPromise=new Promise(function(N,u){return setState({resolve:N,reject:u})}),loader={config:config$2,init,__getMonacoInstance};const version="14.7.77",createExtendedExponentialRampToValueAutomationEvent=(N,u,n)=>({endTime:u,insertTime:n,type:"exponentialRampToValue",value:N}),createExtendedLinearRampToValueAutomationEvent=(N,u,n)=>({endTime:u,insertTime:n,type:"linearRampToValue",value:N}),createSetValueAutomationEvent=(N,u)=>({startTime:u,type:"setValue",value:N}),createSetValueCurveAutomationEvent=(N,u,n)=>({duration:n,startTime:u,type:"setValueCurve",values:N}),getTargetValueAtTime=(N,u,{startTime:n,target:a,timeConstant:r})=>a+(u-a)*Math.exp((n-N)/r),isExponentialRampToValueAutomationEvent=N=>N.type==="exponentialRampToValue",isLinearRampToValueAutomationEvent=N=>N.type==="linearRampToValue",isAnyRampToValueAutomationEvent=N=>isExponentialRampToValueAutomationEvent(N)||isLinearRampToValueAutomationEvent(N),isSetValueAutomationEvent=N=>N.type==="setValue",isSetValueCurveAutomationEvent=N=>N.type==="setValueCurve",getValueOfAutomationEventAtIndexAtTime=(N,u,n,a)=>{const r=N[u];return r===void 0?a:isAnyRampToValueAutomationEvent(r)||isSetValueAutomationEvent(r)?r.value:isSetValueCurveAutomationEvent(r)?r.values[r.values.length-1]:getTargetValueAtTime(n,getValueOfAutomationEventAtIndexAtTime(N,u-1,r.startTime,a),r)},getEndTimeAndValueOfPreviousAutomationEvent=(N,u,n,a,r)=>n===void 0?[a.insertTime,r]:isAnyRampToValueAutomationEvent(n)?[n.endTime,n.value]:isSetValueAutomationEvent(n)?[n.startTime,n.value]:isSetValueCurveAutomationEvent(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,getValueOfAutomationEventAtIndexAtTime(N,u-1,n.startTime,r)],isCancelAndHoldAutomationEvent=N=>N.type==="cancelAndHold",isCancelScheduledValuesAutomationEvent=N=>N.type==="cancelScheduledValues",getEventTime=N=>isCancelAndHoldAutomationEvent(N)||isCancelScheduledValuesAutomationEvent(N)?N.cancelTime:isExponentialRampToValueAutomationEvent(N)||isLinearRampToValueAutomationEvent(N)?N.endTime:N.startTime,getExponentialRampValueAtTime=(N,u,n,{endTime:a,value:r})=>n===r?r:0<n&&0<r||n<0&&r<0?n*(r/n)**((N-u)/(a-u)):0,getLinearRampValueAtTime=(N,u,n,{endTime:a,value:r})=>n+(N-u)/(a-u)*(r-n),interpolateValue=(N,u)=>{const n=Math.floor(u),a=Math.ceil(u);return n===a?N[n]:(1-(u-n))*N[n]+(1-(a-u))*N[a]},getValueCurveValueAtTime=(N,{duration:u,startTime:n,values:a})=>{const r=(N-n)/u*(a.length-1);return interpolateValue(a,r)},isSetTargetAutomationEvent=N=>N.type==="setTarget";class AutomationEventList{constructor(u){this._automationEvents=[],this._currenTime=0,this._defaultValue=u}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(u){const n=getEventTime(u);if(isCancelAndHoldAutomationEvent(u)||isCancelScheduledValuesAutomationEvent(u)){const a=this._automationEvents.findIndex(b=>isCancelScheduledValuesAutomationEvent(u)&&isSetValueCurveAutomationEvent(b)?b.startTime+b.duration>=n:getEventTime(b)>=n),r=this._automationEvents[a];if(a!==-1&&(this._automationEvents=this._automationEvents.slice(0,a)),isCancelAndHoldAutomationEvent(u)){const b=this._automationEvents[this._automationEvents.length-1];if(r!==void 0&&isAnyRampToValueAutomationEvent(r)){if(b!==void 0&&isSetTargetAutomationEvent(b))throw new Error("The internal list is malformed.");const h=b===void 0?r.insertTime:isSetValueCurveAutomationEvent(b)?b.startTime+b.duration:getEventTime(b),m=b===void 0?this._defaultValue:isSetValueCurveAutomationEvent(b)?b.values[b.values.length-1]:b.value,p=isExponentialRampToValueAutomationEvent(r)?getExponentialRampValueAtTime(n,h,m,r):getLinearRampValueAtTime(n,h,m,r),A=isExponentialRampToValueAutomationEvent(r)?createExtendedExponentialRampToValueAutomationEvent(p,n,this._currenTime):createExtendedLinearRampToValueAutomationEvent(p,n,this._currenTime);this._automationEvents.push(A)}if(b!==void 0&&isSetTargetAutomationEvent(b)&&this._automationEvents.push(createSetValueAutomationEvent(this.getValue(n),n)),b!==void 0&&isSetValueCurveAutomationEvent(b)&&b.startTime+b.duration>n){const h=n-b.startTime,m=(b.values.length-1)/b.duration,p=Math.max(2,1+Math.ceil(h*m)),A=h/(p-1)*m,S=b.values.slice(0,p);if(A<1)for(let _=1;_<p;_+=1){const l=A*_%1;S[_]=b.values[_-1]*(1-l)+b.values[_]*l}this._automationEvents[this._automationEvents.length-1]=createSetValueCurveAutomationEvent(S,b.startTime,h)}}}else{const a=this._automationEvents.findIndex(h=>getEventTime(h)>n),r=a===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[a-1];if(r!==void 0&&isSetValueCurveAutomationEvent(r)&&getEventTime(r)+r.duration>n)return!1;const b=isExponentialRampToValueAutomationEvent(u)?createExtendedExponentialRampToValueAutomationEvent(u.value,u.endTime,this._currenTime):isLinearRampToValueAutomationEvent(u)?createExtendedLinearRampToValueAutomationEvent(u.value,n,this._currenTime):u;if(a===-1)this._automationEvents.push(b);else{if(isSetValueCurveAutomationEvent(u)&&n+u.duration>getEventTime(this._automationEvents[a]))return!1;this._automationEvents.splice(a,0,b)}}return!0}flush(u){const n=this._automationEvents.findIndex(a=>getEventTime(a)>u);if(n>1){const a=this._automationEvents.slice(n-1),r=a[0];isSetTargetAutomationEvent(r)&&a.unshift(createSetValueAutomationEvent(getValueOfAutomationEventAtIndexAtTime(this._automationEvents,n-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=a}}getValue(u){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(h=>getEventTime(h)>u),a=this._automationEvents[n],r=(n===-1?this._automationEvents.length:n)-1,b=this._automationEvents[r];if(b!==void 0&&isSetTargetAutomationEvent(b)&&(a===void 0||!isAnyRampToValueAutomationEvent(a)||a.insertTime>u))return getTargetValueAtTime(u,getValueOfAutomationEventAtIndexAtTime(this._automationEvents,r-1,b.startTime,this._defaultValue),b);if(b!==void 0&&isSetValueAutomationEvent(b)&&(a===void 0||!isAnyRampToValueAutomationEvent(a)))return b.value;if(b!==void 0&&isSetValueCurveAutomationEvent(b)&&(a===void 0||!isAnyRampToValueAutomationEvent(a)||b.startTime+b.duration>u))return u<b.startTime+b.duration?getValueCurveValueAtTime(u,b):b.values[b.values.length-1];if(b!==void 0&&isAnyRampToValueAutomationEvent(b)&&(a===void 0||!isAnyRampToValueAutomationEvent(a)))return b.value;if(a!==void 0&&isExponentialRampToValueAutomationEvent(a)){const[h,m]=getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents,r,b,a,this._defaultValue);return getExponentialRampValueAtTime(u,h,m,a)}if(a!==void 0&&isLinearRampToValueAutomationEvent(a)){const[h,m]=getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents,r,b,a,this._defaultValue);return getLinearRampValueAtTime(u,h,m,a)}return this._defaultValue}}const createCancelAndHoldAutomationEvent=N=>({cancelTime:N,type:"cancelAndHold"}),createCancelScheduledValuesAutomationEvent=N=>({cancelTime:N,type:"cancelScheduledValues"}),createExponentialRampToValueAutomationEvent=(N,u)=>({endTime:u,type:"exponentialRampToValue",value:N}),createLinearRampToValueAutomationEvent=(N,u)=>({endTime:u,type:"linearRampToValue",value:N}),createSetTargetAutomationEvent=(N,u,n)=>({startTime:u,target:N,timeConstant:n,type:"setTarget"}),createAbortError=()=>new DOMException("","AbortError"),createAddActiveInputConnectionToAudioNode=N=>(u,n,[a,r,b],h)=>{N(u[r],[n,a,b],m=>m[0]===n&&m[1]===a,h)},createAddAudioNodeConnections=N=>(u,n,a)=>{const r=[];for(let b=0;b<a.numberOfInputs;b+=1)r.push(new Set);N.set(u,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},createAddAudioParamConnections=N=>(u,n)=>{N.set(u,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},ACTIVE_AUDIO_NODE_STORE=new WeakSet,AUDIO_NODE_CONNECTIONS_STORE=new WeakMap,AUDIO_NODE_STORE=new WeakMap,AUDIO_PARAM_CONNECTIONS_STORE=new WeakMap,AUDIO_PARAM_STORE=new WeakMap,CONTEXT_STORE=new WeakMap,EVENT_LISTENERS=new WeakMap,CYCLE_COUNTERS=new WeakMap,NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS=new WeakMap,NODE_TO_PROCESSOR_MAPS=new WeakMap,handler={construct(){return handler}},isConstructible=N=>{try{const u=new Proxy(N,handler);new u}catch{return!1}return!0},IMPORT_STATEMENT_REGEX=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,splitImportStatements=(N,u)=>{const n=[];let a=N.replace(/^[\s]+/,""),r=a.match(IMPORT_STATEMENT_REGEX);for(;r!==null;){const b=r[1].slice(1,-1),h=r[0].replace(/([\s]+)?;?$/,"").replace(b,new URL(b,u).toString());n.push(h),a=a.slice(r[0].length).replace(/^[\s]+/,""),r=a.match(IMPORT_STATEMENT_REGEX)}return[n.join(";"),a]},verifyParameterDescriptors=N=>{if(N!==void 0&&!Array.isArray(N))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},verifyProcessorCtor=N=>{if(!isConstructible(N))throw new TypeError("The given value for processorCtor should be a constructor.");if(N.prototype===null||typeof N.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},createAddAudioWorkletModule=(N,u,n,a,r,b,h,m,p,A,S,_,l)=>{let y=0;return(o,f,x={credentials:"omit"})=>{const g=S.get(o);if(g!==void 0&&g.has(f))return Promise.resolve();const D=A.get(o);if(D!==void 0){const T=D.get(f);if(T!==void 0)return T}const E=b(o),C=E.audioWorklet===void 0?r(f).then(([T,O])=>{const[I,M]=splitImportStatements(T,O),F=`${I};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${M}
})})(window,'_AWGS')`;return n(F)}).then(()=>{const T=l._AWGS.pop();if(T===void 0)throw new SyntaxError;a(E.currentTime,E.sampleRate,()=>T(class{},void 0,(O,I)=>{if(O.trim()==="")throw u();const M=NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(E);if(M!==void 0){if(M.has(O))throw u();verifyProcessorCtor(I),verifyParameterDescriptors(I.parameterDescriptors),M.set(O,I)}else verifyProcessorCtor(I),verifyParameterDescriptors(I.parameterDescriptors),NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.set(E,new Map([[O,I]]))},E.sampleRate,void 0,void 0))}):Promise.all([r(f),Promise.resolve(N(_,_))]).then(([[T,O],I])=>{const M=y+1;y=M;const[F,B]=splitImportStatements(T,O),V=`${F};((AudioWorkletProcessor,registerProcessor)=>{${B}
})(${I?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${I?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${I?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${M}',class extends AudioWorkletProcessor{process(){return !1}})`,k=new Blob([V],{type:"application/javascript; charset=utf-8"}),U=URL.createObjectURL(k);return E.audioWorklet.addModule(U,x).then(()=>{if(m(E))return E;const G=h(E);return G.audioWorklet.addModule(U,x).then(()=>G)}).then(G=>{if(p===null)throw new SyntaxError;try{new p(G,`__sac${M}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(U))});return D===void 0?A.set(o,new Map([[f,C]])):D.set(f,C),C.then(()=>{const T=S.get(o);T===void 0?S.set(o,new Set([f])):T.add(f)}).finally(()=>{const T=A.get(o);T!==void 0&&T.delete(f)}),C}},getValueForKey=(N,u)=>{const n=N.get(u);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},pickElementFromSet=(N,u)=>{const n=Array.from(N).filter(u);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[a]=n;return N.delete(a),a},deletePassiveInputConnectionToAudioNode=(N,u,n,a)=>{const r=getValueForKey(N,u),b=pickElementFromSet(r,h=>h[0]===n&&h[1]===a);return r.size===0&&N.delete(u),b},getEventListenersOfAudioNode=N=>getValueForKey(EVENT_LISTENERS,N),setInternalStateToActive=N=>{if(ACTIVE_AUDIO_NODE_STORE.has(N))throw new Error("The AudioNode is already stored.");ACTIVE_AUDIO_NODE_STORE.add(N),getEventListenersOfAudioNode(N).forEach(u=>u(!0))},isAudioWorkletNode=N=>"port"in N,setInternalStateToPassive=N=>{if(!ACTIVE_AUDIO_NODE_STORE.has(N))throw new Error("The AudioNode is not stored.");ACTIVE_AUDIO_NODE_STORE.delete(N),getEventListenersOfAudioNode(N).forEach(u=>u(!1))},setInternalStateToPassiveWhenNecessary=(N,u)=>{!isAudioWorkletNode(N)&&u.every(n=>n.size===0)&&setInternalStateToPassive(N)},createAddConnectionToAudioNode=(N,u,n,a,r,b,h,m,p,A,S,_,l)=>{const y=new WeakMap;return(o,f,x,g,D)=>{const{activeInputs:E,passiveInputs:C}=b(f),{outputs:T}=b(o),O=m(o),I=M=>{const F=p(f),B=p(o);if(M){const j=deletePassiveInputConnectionToAudioNode(C,o,x,g);N(E,o,j,!1),!D&&!_(o)&&n(B,F,x,g),l(f)&&setInternalStateToActive(f)}else{const j=a(E,o,x,g);u(C,g,j,!1),!D&&!_(o)&&r(B,F,x,g);const L=h(f);if(L===0)S(f)&&setInternalStateToPassiveWhenNecessary(f,E);else{const R=y.get(f);R!==void 0&&clearTimeout(R),y.set(f,setTimeout(()=>{S(f)&&setInternalStateToPassiveWhenNecessary(f,E)},L*1e3))}}};return A(T,[f,x,g],M=>M[0]===f&&M[1]===x&&M[2]===g,!0)?(O.add(I),S(o)?N(E,o,[x,g,I],!0):u(C,g,[o,x,I],!0),!0):!1}},createAddPassiveInputConnectionToAudioNode=N=>(u,n,[a,r,b],h)=>{const m=u.get(a);m===void 0?u.set(a,new Set([[r,n,b]])):N(m,[r,n,b],p=>p[0]===r&&p[1]===n,h)},createAddSilentConnection=N=>(u,n)=>{const a=N(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(a).connect(u.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(a),a.disconnect()};n.addEventListener("ended",r)},createAddUnrenderedAudioWorkletNode=N=>(u,n)=>{N(u).add(n)},DEFAULT_OPTIONS$j={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},createAnalyserNodeConstructor=(N,u,n,a,r,b)=>class extends N{constructor(m,p){const A=r(m),S={...DEFAULT_OPTIONS$j,...p},_=a(A,S),l=b(A)?u():null;super(m,!1,_,l),this._nativeAnalyserNode=_}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(m){this._nativeAnalyserNode.fftSize=m}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(m){const p=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=m,!(m>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=p,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(m){const p=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=m,!(this._nativeAnalyserNode.maxDecibels>m))throw this._nativeAnalyserNode.minDecibels=p,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(m){this._nativeAnalyserNode.smoothingTimeConstant=m}getByteFrequencyData(m){this._nativeAnalyserNode.getByteFrequencyData(m)}getByteTimeDomainData(m){this._nativeAnalyserNode.getByteTimeDomainData(m)}getFloatFrequencyData(m){this._nativeAnalyserNode.getFloatFrequencyData(m)}getFloatTimeDomainData(m){this._nativeAnalyserNode.getFloatTimeDomainData(m)}},isOwnedByContext=(N,u)=>N.context===u,createAnalyserNodeRendererFactory=(N,u,n)=>()=>{const a=new WeakMap,r=async(b,h)=>{let m=u(b);if(!isOwnedByContext(m,h)){const A={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,fftSize:m.fftSize,maxDecibels:m.maxDecibels,minDecibels:m.minDecibels,smoothingTimeConstant:m.smoothingTimeConstant};m=N(h,A)}return a.set(h,m),await n(b,h,m),m};return{render(b,h){const m=a.get(h);return m!==void 0?Promise.resolve(m):r(b,h)}}},testAudioBufferCopyChannelMethodsOutOfBoundsSupport=N=>{try{N.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},createIndexSizeError=()=>new DOMException("","IndexSizeError"),wrapAudioBufferGetChannelDataMethod=N=>{N.getChannelData=(u=>n=>{try{return u.call(N,n)}catch(a){throw a.code===12?createIndexSizeError():a}})(N.getChannelData)},DEFAULT_OPTIONS$i={numberOfChannels:1},createAudioBufferConstructor=(N,u,n,a,r,b,h,m)=>{let p=null;return class ka{constructor(S){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:_,numberOfChannels:l,sampleRate:y}={...DEFAULT_OPTIONS$i,...S};p===null&&(p=new r(1,1,44100));const o=a!==null&&u(b,b)?new a({length:_,numberOfChannels:l,sampleRate:y}):p.createBuffer(l,_,y);if(o.numberOfChannels===0)throw n();return typeof o.copyFromChannel!="function"?(h(o),wrapAudioBufferGetChannelDataMethod(o)):u(testAudioBufferCopyChannelMethodsOutOfBoundsSupport,()=>testAudioBufferCopyChannelMethodsOutOfBoundsSupport(o))||m(o),N.add(o),o}static[Symbol.hasInstance](S){return S!==null&&typeof S=="object"&&Object.getPrototypeOf(S)===ka.prototype||N.has(S)}}},MOST_NEGATIVE_SINGLE_FLOAT=-34028234663852886e22,MOST_POSITIVE_SINGLE_FLOAT=-MOST_NEGATIVE_SINGLE_FLOAT,isActiveAudioNode=N=>ACTIVE_AUDIO_NODE_STORE.has(N),DEFAULT_OPTIONS$h={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},createAudioBufferSourceNodeConstructor=(N,u,n,a,r,b,h,m)=>class extends N{constructor(A,S){const _=b(A),l={...DEFAULT_OPTIONS$h,...S},y=r(_,l),o=h(_),f=o?u():null;super(A,!1,y,f),this._audioBufferSourceNodeRenderer=f,this._isBufferNullified=!1,this._isBufferSet=l.buffer!==null,this._nativeAudioBufferSourceNode=y,this._onended=null,this._playbackRate=n(this,o,y.playbackRate,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(A){if(this._nativeAudioBufferSourceNode.buffer=A,A!==null){if(this._isBufferSet)throw a();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(A){this._nativeAudioBufferSourceNode.loop=A}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(A){this._nativeAudioBufferSourceNode.loopEnd=A}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(A){this._nativeAudioBufferSourceNode.loopStart=A}get onended(){return this._onended}set onended(A){const S=typeof A=="function"?m(this,A):null;this._nativeAudioBufferSourceNode.onended=S;const _=this._nativeAudioBufferSourceNode.onended;this._onended=_!==null&&_===S?A:_}get playbackRate(){return this._playbackRate}start(A=0,S=0,_){if(this._nativeAudioBufferSourceNode.start(A,S,_),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=_===void 0?[A,S]:[A,S,_]),this.context.state!=="closed"){setInternalStateToActive(this);const l=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",l),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",l)}}stop(A=0){this._nativeAudioBufferSourceNode.stop(A),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=A)}},createAudioBufferSourceNodeRendererFactory=(N,u,n,a,r)=>()=>{const b=new WeakMap;let h=null,m=null;const p=async(A,S)=>{let _=n(A);const l=isOwnedByContext(_,S);if(!l){const y={buffer:_.buffer,channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,loop:_.loop,loopEnd:_.loopEnd,loopStart:_.loopStart,playbackRate:_.playbackRate.value};_=u(S,y),h!==null&&_.start(...h),m!==null&&_.stop(m)}return b.set(S,_),l?await N(S,A.playbackRate,_.playbackRate):await a(S,A.playbackRate,_.playbackRate),await r(A,S,_),_};return{set start(A){h=A},set stop(A){m=A},render(A,S){const _=b.get(S);return _!==void 0?Promise.resolve(_):p(A,S)}}},isAudioBufferSourceNode=N=>"playbackRate"in N,isBiquadFilterNode=N=>"frequency"in N&&"gain"in N,isConstantSourceNode=N=>"offset"in N,isGainNode=N=>!("frequency"in N)&&"gain"in N,isOscillatorNode=N=>"detune"in N&&"frequency"in N,isStereoPannerNode=N=>"pan"in N,getAudioNodeConnections=N=>getValueForKey(AUDIO_NODE_CONNECTIONS_STORE,N),getAudioParamConnections=N=>getValueForKey(AUDIO_PARAM_CONNECTIONS_STORE,N),deactivateActiveAudioNodeInputConnections=(N,u)=>{const{activeInputs:n}=getAudioNodeConnections(N);n.forEach(r=>r.forEach(([b])=>{u.includes(N)||deactivateActiveAudioNodeInputConnections(b,[...u,N])}));const a=isAudioBufferSourceNode(N)?[N.playbackRate]:isAudioWorkletNode(N)?Array.from(N.parameters.values()):isBiquadFilterNode(N)?[N.Q,N.detune,N.frequency,N.gain]:isConstantSourceNode(N)?[N.offset]:isGainNode(N)?[N.gain]:isOscillatorNode(N)?[N.detune,N.frequency]:isStereoPannerNode(N)?[N.pan]:[];for(const r of a){const b=getAudioParamConnections(r);b!==void 0&&b.activeInputs.forEach(([h])=>deactivateActiveAudioNodeInputConnections(h,u))}isActiveAudioNode(N)&&setInternalStateToPassive(N)},deactivateAudioGraph=N=>{deactivateActiveAudioNodeInputConnections(N.destination,[])},isValidLatencyHint=N=>N===void 0||typeof N=="number"||typeof N=="string"&&(N==="balanced"||N==="interactive"||N==="playback"),createAudioContextConstructor=(N,u,n,a,r,b,h,m,p)=>class extends N{constructor(S={}){if(p===null)throw new Error("Missing the native AudioContext constructor.");let _;try{_=new p(S)}catch(o){throw o.code===12&&o.message==="sampleRate is not in range"?n():o}if(_===null)throw a();if(!isValidLatencyHint(S.latencyHint))throw new TypeError(`The provided value '${S.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(S.sampleRate!==void 0&&_.sampleRate!==S.sampleRate)throw n();super(_,2);const{latencyHint:l}=S,{sampleRate:y}=_;if(this._baseLatency=typeof _.baseLatency=="number"?_.baseLatency:l==="balanced"?512/y:l==="interactive"||l===void 0?256/y:l==="playback"?1024/y:Math.max(2,Math.min(128,Math.round(l*y/128)))*128/y,this._nativeAudioContext=_,p.name==="webkitAudioContext"?(this._nativeGainNode=_.createGain(),this._nativeOscillatorNode=_.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(_.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,_.state==="running"){this._state="suspended";const o=()=>{this._state==="suspended"&&(this._state=null),_.removeEventListener("statechange",o)};_.addEventListener("statechange",o)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw u()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),deactivateAudioGraph(this)}))}createMediaElementSource(S){return new r(this,{mediaElement:S})}createMediaStreamDestination(){return new b(this)}createMediaStreamSource(S){return new h(this,{mediaStream:S})}createMediaStreamTrackSource(S){return new m(this,{mediaStreamTrack:S})}resume(){return this._state==="suspended"?new Promise((S,_)=>{const l=()=>{this._nativeAudioContext.removeEventListener("statechange",l),this._nativeAudioContext.state==="running"?S():this.resume().then(S,_)};this._nativeAudioContext.addEventListener("statechange",l)}):this._nativeAudioContext.resume().catch(S=>{throw S===void 0||S.code===15?u():S})}suspend(){return this._nativeAudioContext.suspend().catch(S=>{throw S===void 0?u():S})}},createAudioDestinationNodeConstructor=(N,u,n,a,r,b,h,m)=>class extends N{constructor(A,S){const _=b(A),l=h(_),y=r(_,S,l),o=l?u(m):null;super(A,!1,y,o),this._isNodeOfNativeOfflineAudioContext=l,this._nativeAudioDestinationNode=y}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(A){if(this._isNodeOfNativeOfflineAudioContext)throw a();if(A>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=A}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(A){if(this._isNodeOfNativeOfflineAudioContext)throw a();this._nativeAudioDestinationNode.channelCountMode=A}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},createAudioDestinationNodeRenderer=N=>{const u=new WeakMap,n=async(a,r)=>{const b=r.destination;return u.set(r,b),await N(a,r,b),b};return{render(a,r){const b=u.get(r);return b!==void 0?Promise.resolve(b):n(a,r)}}},createAudioListenerFactory=(N,u,n,a,r,b,h,m)=>(p,A)=>{const S=A.listener,_=()=>{const T=new Float32Array(1),O=u(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),I=h(A);let M=!1,F=[0,0,-1,0,1,0],B=[0,0,0];const j=()=>{if(M)return;M=!0;const k=a(A,256,9,0);k.onaudioprocess=({inputBuffer:U})=>{const G=[b(U,T,0),b(U,T,1),b(U,T,2),b(U,T,3),b(U,T,4),b(U,T,5)];G.some((X,Z)=>X!==F[Z])&&(S.setOrientation(...G),F=G);const H=[b(U,T,6),b(U,T,7),b(U,T,8)];H.some((X,Z)=>X!==B[Z])&&(S.setPosition(...H),B=H)},O.connect(k)},L=k=>U=>{U!==F[k]&&(F[k]=U,S.setOrientation(...F))},R=k=>U=>{U!==B[k]&&(B[k]=U,S.setPosition(...B))},V=(k,U,G)=>{const H=n(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:U});H.connect(O,0,k),H.start(),Object.defineProperty(H.offset,"defaultValue",{get(){return U}});const X=N({context:p},I,H.offset,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT);return m(X,"value",Z=>()=>Z.call(X),Z=>J=>{try{Z.call(X,J)}catch(ee){if(ee.code!==9)throw ee}j(),I&&G(J)}),X.cancelAndHoldAtTime=(Z=>I?()=>{throw r()}:(...J)=>{const ee=Z.apply(X,J);return j(),ee})(X.cancelAndHoldAtTime),X.cancelScheduledValues=(Z=>I?()=>{throw r()}:(...J)=>{const ee=Z.apply(X,J);return j(),ee})(X.cancelScheduledValues),X.exponentialRampToValueAtTime=(Z=>I?()=>{throw r()}:(...J)=>{const ee=Z.apply(X,J);return j(),ee})(X.exponentialRampToValueAtTime),X.linearRampToValueAtTime=(Z=>I?()=>{throw r()}:(...J)=>{const ee=Z.apply(X,J);return j(),ee})(X.linearRampToValueAtTime),X.setTargetAtTime=(Z=>I?()=>{throw r()}:(...J)=>{const ee=Z.apply(X,J);return j(),ee})(X.setTargetAtTime),X.setValueAtTime=(Z=>I?()=>{throw r()}:(...J)=>{const ee=Z.apply(X,J);return j(),ee})(X.setValueAtTime),X.setValueCurveAtTime=(Z=>I?()=>{throw r()}:(...J)=>{const ee=Z.apply(X,J);return j(),ee})(X.setValueCurveAtTime),X};return{forwardX:V(0,0,L(0)),forwardY:V(1,0,L(1)),forwardZ:V(2,-1,L(2)),positionX:V(6,0,R(0)),positionY:V(7,0,R(1)),positionZ:V(8,0,R(2)),upX:V(3,0,L(3)),upY:V(4,1,L(4)),upZ:V(5,0,L(5))}},{forwardX:l,forwardY:y,forwardZ:o,positionX:f,positionY:x,positionZ:g,upX:D,upY:E,upZ:C}=S.forwardX===void 0?_():S;return{get forwardX(){return l},get forwardY(){return y},get forwardZ(){return o},get positionX(){return f},get positionY(){return x},get positionZ(){return g},get upX(){return D},get upY(){return E},get upZ(){return C}}},isAudioNode$1=N=>"context"in N,isAudioNodeOutputConnection=N=>isAudioNode$1(N[0]),insertElementInSet=(N,u,n,a)=>{for(const r of N)if(n(r)){if(a)return!1;throw Error("The set contains at least one similar element.")}return N.add(u),!0},addActiveInputConnectionToAudioParam=(N,u,[n,a],r)=>{insertElementInSet(N,[u,n,a],b=>b[0]===u&&b[1]===n,r)},addPassiveInputConnectionToAudioParam=(N,[u,n,a],r)=>{const b=N.get(u);b===void 0?N.set(u,new Set([[n,a]])):insertElementInSet(b,[n,a],h=>h[0]===n,r)},isNativeAudioNodeFaker=N=>"inputs"in N,connectNativeAudioNodeToNativeAudioNode=(N,u,n,a)=>{if(isNativeAudioNodeFaker(u)){const r=u.inputs[a];return N.connect(r,n,0),[r,n,0]}return N.connect(u,n,a),[u,n,a]},deleteActiveInputConnection=(N,u,n)=>{for(const a of N)if(a[0]===u&&a[1]===n)return N.delete(a),a;return null},deleteActiveInputConnectionToAudioParam=(N,u,n)=>pickElementFromSet(N,a=>a[0]===u&&a[1]===n),deleteEventListenerOfAudioNode=(N,u)=>{if(!getEventListenersOfAudioNode(N).delete(u))throw new Error("Missing the expected event listener.")},deletePassiveInputConnectionToAudioParam=(N,u,n)=>{const a=getValueForKey(N,u),r=pickElementFromSet(a,b=>b[0]===n);return a.size===0&&N.delete(u),r},disconnectNativeAudioNodeFromNativeAudioNode=(N,u,n,a)=>{isNativeAudioNodeFaker(u)?N.disconnect(u.inputs[a],n,0):N.disconnect(u,n,a)},getNativeAudioNode=N=>getValueForKey(AUDIO_NODE_STORE,N),getNativeAudioParam=N=>getValueForKey(AUDIO_PARAM_STORE,N),isPartOfACycle=N=>CYCLE_COUNTERS.has(N),isPassiveAudioNode=N=>!ACTIVE_AUDIO_NODE_STORE.has(N),testAudioNodeDisconnectMethodSupport=(N,u)=>new Promise(n=>{if(u!==null)n(!0);else{const a=N.createScriptProcessor(256,1,1),r=N.createGain(),b=N.createBuffer(1,2,44100),h=b.getChannelData(0);h[0]=1,h[1]=1;const m=N.createBufferSource();m.buffer=b,m.loop=!0,m.connect(a).connect(N.destination),m.connect(r),m.disconnect(r),a.onaudioprocess=p=>{const A=p.inputBuffer.getChannelData(0);Array.prototype.some.call(A,S=>S===1)?n(!0):n(!1),m.stop(),a.onaudioprocess=null,m.disconnect(a),a.disconnect(N.destination)},m.start()}}),visitEachAudioNodeOnce=(N,u)=>{const n=new Map;for(const a of N)for(const r of a){const b=n.get(r);n.set(r,b===void 0?1:b+1)}n.forEach((a,r)=>u(r,a))},isNativeAudioNode$1=N=>"context"in N,wrapAudioNodeDisconnectMethod=N=>{const u=new Map;N.connect=(n=>(a,r=0,b=0)=>{const h=isNativeAudioNode$1(a)?n(a,r,b):n(a,r),m=u.get(a);return m===void 0?u.set(a,[{input:b,output:r}]):m.every(p=>p.input!==b||p.output!==r)&&m.push({input:b,output:r}),h})(N.connect.bind(N)),N.disconnect=(n=>(a,r,b)=>{if(n.apply(N),a===void 0)u.clear();else if(typeof a=="number")for(const[h,m]of u){const p=m.filter(A=>A.output!==a);p.length===0?u.delete(h):u.set(h,p)}else if(u.has(a))if(r===void 0)u.delete(a);else{const h=u.get(a);if(h!==void 0){const m=h.filter(p=>p.output!==r&&(p.input!==b||b===void 0));m.length===0?u.delete(a):u.set(a,m)}}for(const[h,m]of u)m.forEach(p=>{isNativeAudioNode$1(h)?N.connect(h,p.output,p.input):N.connect(h,p.output)})})(N.disconnect)},addConnectionToAudioParamOfAudioContext=(N,u,n,a)=>{const{activeInputs:r,passiveInputs:b}=getAudioParamConnections(u),{outputs:h}=getAudioNodeConnections(N),m=getEventListenersOfAudioNode(N),p=A=>{const S=getNativeAudioNode(N),_=getNativeAudioParam(u);if(A){const l=deletePassiveInputConnectionToAudioParam(b,N,n);addActiveInputConnectionToAudioParam(r,N,l,!1),!a&&!isPartOfACycle(N)&&S.connect(_,n)}else{const l=deleteActiveInputConnectionToAudioParam(r,N,n);addPassiveInputConnectionToAudioParam(b,l,!1),!a&&!isPartOfACycle(N)&&S.disconnect(_,n)}};return insertElementInSet(h,[u,n],A=>A[0]===u&&A[1]===n,!0)?(m.add(p),isActiveAudioNode(N)?addActiveInputConnectionToAudioParam(r,N,[n,p],!0):addPassiveInputConnectionToAudioParam(b,[N,n,p],!0),!0):!1},deleteInputConnectionOfAudioNode=(N,u,n,a)=>{const{activeInputs:r,passiveInputs:b}=getAudioNodeConnections(u),h=deleteActiveInputConnection(r[a],N,n);return h===null?[deletePassiveInputConnectionToAudioNode(b,N,n,a)[2],!1]:[h[2],!0]},deleteInputConnectionOfAudioParam=(N,u,n)=>{const{activeInputs:a,passiveInputs:r}=getAudioParamConnections(u),b=deleteActiveInputConnection(a,N,n);return b===null?[deletePassiveInputConnectionToAudioParam(r,N,n)[1],!1]:[b[2],!0]},deleteInputsOfAudioNode=(N,u,n,a,r)=>{const[b,h]=deleteInputConnectionOfAudioNode(N,n,a,r);if(b!==null&&(deleteEventListenerOfAudioNode(N,b),h&&!u&&!isPartOfACycle(N)&&disconnectNativeAudioNodeFromNativeAudioNode(getNativeAudioNode(N),getNativeAudioNode(n),a,r)),isActiveAudioNode(n)){const{activeInputs:m}=getAudioNodeConnections(n);setInternalStateToPassiveWhenNecessary(n,m)}},deleteInputsOfAudioParam=(N,u,n,a)=>{const[r,b]=deleteInputConnectionOfAudioParam(N,n,a);r!==null&&(deleteEventListenerOfAudioNode(N,r),b&&!u&&!isPartOfACycle(N)&&getNativeAudioNode(N).disconnect(getNativeAudioParam(n),a))},deleteAnyConnection=(N,u)=>{const n=getAudioNodeConnections(N),a=[];for(const r of n.outputs)isAudioNodeOutputConnection(r)?deleteInputsOfAudioNode(N,u,...r):deleteInputsOfAudioParam(N,u,...r),a.push(r[0]);return n.outputs.clear(),a},deleteConnectionAtOutput=(N,u,n)=>{const a=getAudioNodeConnections(N),r=[];for(const b of a.outputs)b[1]===n&&(isAudioNodeOutputConnection(b)?deleteInputsOfAudioNode(N,u,...b):deleteInputsOfAudioParam(N,u,...b),r.push(b[0]),a.outputs.delete(b));return r},deleteConnectionToDestination=(N,u,n,a,r)=>{const b=getAudioNodeConnections(N);return Array.from(b.outputs).filter(h=>h[0]===n&&(a===void 0||h[1]===a)&&(r===void 0||h[2]===r)).map(h=>(isAudioNodeOutputConnection(h)?deleteInputsOfAudioNode(N,u,...h):deleteInputsOfAudioParam(N,u,...h),b.outputs.delete(h),h[0]))},createAudioNodeConstructor=(N,u,n,a,r,b,h,m,p,A,S,_,l,y,o,f)=>class extends A{constructor(g,D,E,C){super(E),this._context=g,this._nativeAudioNode=E;const T=S(g);_(T)&&n(testAudioNodeDisconnectMethodSupport,()=>testAudioNodeDisconnectMethodSupport(T,f))!==!0&&wrapAudioNodeDisconnectMethod(E),AUDIO_NODE_STORE.set(this,E),EVENT_LISTENERS.set(this,new Set),g.state!=="closed"&&D&&setInternalStateToActive(this),N(this,C,E)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(g){this._nativeAudioNode.channelCount=g}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(g){this._nativeAudioNode.channelCountMode=g}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(g){this._nativeAudioNode.channelInterpretation=g}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(g,D=0,E=0){if(D<0||D>=this._nativeAudioNode.numberOfOutputs)throw r();const C=S(this._context),T=o(C);if(l(g)||y(g))throw b();if(isAudioNode$1(g)){const M=getNativeAudioNode(g);try{const B=connectNativeAudioNodeToNativeAudioNode(this._nativeAudioNode,M,D,E),j=isPassiveAudioNode(this);(T||j)&&this._nativeAudioNode.disconnect(...B),this.context.state!=="closed"&&!j&&isPassiveAudioNode(g)&&setInternalStateToActive(g)}catch(B){throw B.code===12?b():B}if(u(this,g,D,E,T)){const B=p([this],g);visitEachAudioNodeOnce(B,a(T))}return g}const O=getNativeAudioParam(g);if(O.name==="playbackRate"&&O.maxValue===1024)throw h();try{this._nativeAudioNode.connect(O,D),(T||isPassiveAudioNode(this))&&this._nativeAudioNode.disconnect(O,D)}catch(M){throw M.code===12?b():M}if(addConnectionToAudioParamOfAudioContext(this,g,D,T)){const M=p([this],g);visitEachAudioNodeOnce(M,a(T))}}disconnect(g,D,E){let C;const T=S(this._context),O=o(T);if(g===void 0)C=deleteAnyConnection(this,O);else if(typeof g=="number"){if(g<0||g>=this.numberOfOutputs)throw r();C=deleteConnectionAtOutput(this,O,g)}else{if(D!==void 0&&(D<0||D>=this.numberOfOutputs)||isAudioNode$1(g)&&E!==void 0&&(E<0||E>=g.numberOfInputs))throw r();if(C=deleteConnectionToDestination(this,O,g,D,E),C.length===0)throw b()}for(const I of C){const M=p([this],I);visitEachAudioNodeOnce(M,m)}}},createAudioParamFactory=(N,u,n,a,r,b,h,m,p,A,S,_,l)=>(y,o,f,x=null,g=null)=>{const D=f.value,E=new AutomationEventList(D),C=o?a(E):null,T={get defaultValue(){return D},get maxValue(){return x===null?f.maxValue:x},get minValue(){return g===null?f.minValue:g},get value(){return f.value},set value(O){f.value=O,T.setValueAtTime(O,y.context.currentTime)},cancelAndHoldAtTime(O){if(typeof f.cancelAndHoldAtTime=="function")C===null&&E.flush(y.context.currentTime),E.add(r(O)),f.cancelAndHoldAtTime(O);else{const I=Array.from(E).pop();C===null&&E.flush(y.context.currentTime),E.add(r(O));const M=Array.from(E).pop();f.cancelScheduledValues(O),I!==M&&M!==void 0&&(M.type==="exponentialRampToValue"?f.exponentialRampToValueAtTime(M.value,M.endTime):M.type==="linearRampToValue"?f.linearRampToValueAtTime(M.value,M.endTime):M.type==="setValue"?f.setValueAtTime(M.value,M.startTime):M.type==="setValueCurve"&&f.setValueCurveAtTime(M.values,M.startTime,M.duration))}return T},cancelScheduledValues(O){return C===null&&E.flush(y.context.currentTime),E.add(b(O)),f.cancelScheduledValues(O),T},exponentialRampToValueAtTime(O,I){if(O===0)throw new RangeError;if(!Number.isFinite(I)||I<0)throw new RangeError;const M=y.context.currentTime;return C===null&&E.flush(M),Array.from(E).length===0&&(E.add(A(D,M)),f.setValueAtTime(D,M)),E.add(h(O,I)),f.exponentialRampToValueAtTime(O,I),T},linearRampToValueAtTime(O,I){const M=y.context.currentTime;return C===null&&E.flush(M),Array.from(E).length===0&&(E.add(A(D,M)),f.setValueAtTime(D,M)),E.add(m(O,I)),f.linearRampToValueAtTime(O,I),T},setTargetAtTime(O,I,M){return C===null&&E.flush(y.context.currentTime),E.add(p(O,I,M)),f.setTargetAtTime(O,I,M),T},setValueAtTime(O,I){return C===null&&E.flush(y.context.currentTime),E.add(A(O,I)),f.setValueAtTime(O,I),T},setValueCurveAtTime(O,I,M){const F=O instanceof Float32Array?O:new Float32Array(O);if(_!==null&&_.name==="webkitAudioContext"){const B=I+M,j=y.context.sampleRate,L=Math.ceil(I*j),R=Math.floor(B*j),V=R-L,k=new Float32Array(V);for(let G=0;G<V;G+=1){const H=(F.length-1)/M*((L+G)/j-I),X=Math.floor(H),Z=Math.ceil(H);k[G]=X===Z?F[X]:(1-(H-X))*F[X]+(1-(Z-H))*F[Z]}C===null&&E.flush(y.context.currentTime),E.add(S(k,I,M)),f.setValueCurveAtTime(k,I,M);const U=R/j;U<B&&l(T,k[k.length-1],U),l(T,F[F.length-1],B)}else C===null&&E.flush(y.context.currentTime),E.add(S(F,I,M)),f.setValueCurveAtTime(F,I,M);return T}};return n.set(T,f),u.set(T,y),N(T,C),T},createAudioParamRenderer=N=>({replay(u){for(const n of N)if(n.type==="exponentialRampToValue"){const{endTime:a,value:r}=n;u.exponentialRampToValueAtTime(r,a)}else if(n.type==="linearRampToValue"){const{endTime:a,value:r}=n;u.linearRampToValueAtTime(r,a)}else if(n.type==="setTarget"){const{startTime:a,target:r,timeConstant:b}=n;u.setTargetAtTime(r,a,b)}else if(n.type==="setValue"){const{startTime:a,value:r}=n;u.setValueAtTime(r,a)}else if(n.type==="setValueCurve"){const{duration:a,startTime:r,values:b}=n;u.setValueCurveAtTime(b,r,a)}else throw new Error("Can't apply an unknown automation.")}});class ReadOnlyMap{constructor(u){this._map=new Map(u)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(u,n=null){return this._map.forEach((a,r)=>u.call(n,a,r,this))}get(u){return this._map.get(u)}has(u){return this._map.has(u)}keys(){return this._map.keys()}values(){return this._map.values()}}const DEFAULT_OPTIONS$g={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},createAudioWorkletNodeConstructor=(N,u,n,a,r,b,h,m,p,A,S,_,l,y)=>class extends u{constructor(f,x,g){var D;const E=m(f),C=p(E),T=S({...DEFAULT_OPTIONS$g,...g});l(T);const O=NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(E),I=O==null?void 0:O.get(x),M=C||E.state!=="closed"?E:(D=h(E))!==null&&D!==void 0?D:E,F=r(M,C?null:f.baseLatency,A,x,I,T),B=C?a(x,T,I):null;super(f,!0,F,B);const j=[];F.parameters.forEach((R,V)=>{const k=n(this,C,R);j.push([V,k])}),this._nativeAudioWorkletNode=F,this._onprocessorerror=null,this._parameters=new ReadOnlyMap(j),C&&N(E,this);const{activeInputs:L}=b(this);_(F,L)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(f){const x=typeof f=="function"?y(this,f):null;this._nativeAudioWorkletNode.onprocessorerror=x;const g=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=g!==null&&g===x?f:g}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function copyFromChannel(N,u,n,a,r){if(typeof N.copyFromChannel=="function")u[n].byteLength===0&&(u[n]=new Float32Array(128)),N.copyFromChannel(u[n],a,r);else{const b=N.getChannelData(a);if(u[n].byteLength===0)u[n]=b.slice(r,r+128);else{const h=new Float32Array(b.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);u[n].set(h)}}}const copyToChannel=(N,u,n,a,r)=>{typeof N.copyToChannel=="function"?u[n].byteLength!==0&&N.copyToChannel(u[n],a,r):u[n].byteLength!==0&&N.getChannelData(a).set(u[n],r)},createNestedArrays=(N,u)=>{const n=[];for(let a=0;a<N;a+=1){const r=[],b=typeof u=="number"?u:u[a];for(let h=0;h<b;h+=1)r.push(new Float32Array(128));n.push(r)}return n},getAudioWorkletProcessor=(N,u)=>{const n=getValueForKey(NODE_TO_PROCESSOR_MAPS,N),a=getNativeAudioNode(u);return getValueForKey(n,a)},processBuffer=async(N,u,n,a,r,b,h)=>{const m=u===null?Math.ceil(N.context.length/128)*128:u.length,p=a.channelCount*a.numberOfInputs,A=r.reduce((x,g)=>x+g,0),S=A===0?null:n.createBuffer(A,m,n.sampleRate);if(b===void 0)throw new Error("Missing the processor constructor.");const _=getAudioNodeConnections(N),l=await getAudioWorkletProcessor(n,N),y=createNestedArrays(a.numberOfInputs,a.channelCount),o=createNestedArrays(a.numberOfOutputs,r),f=Array.from(N.parameters.keys()).reduce((x,g)=>({...x,[g]:new Float32Array(128)}),{});for(let x=0;x<m;x+=128){if(a.numberOfInputs>0&&u!==null)for(let g=0;g<a.numberOfInputs;g+=1)for(let D=0;D<a.channelCount;D+=1)copyFromChannel(u,y[g],D,D,x);b.parameterDescriptors!==void 0&&u!==null&&b.parameterDescriptors.forEach(({name:g},D)=>{copyFromChannel(u,f,g,p+D,x)});for(let g=0;g<a.numberOfInputs;g+=1)for(let D=0;D<r[g];D+=1)o[g][D].byteLength===0&&(o[g][D]=new Float32Array(128));try{const g=y.map((E,C)=>_.activeInputs[C].size===0?[]:E),D=h(x/n.sampleRate,n.sampleRate,()=>l.process(g,o,f));if(S!==null)for(let E=0,C=0;E<a.numberOfOutputs;E+=1){for(let T=0;T<r[E];T+=1)copyToChannel(S,o[E],T,C+T,x);C+=r[E]}if(!D)break}catch(g){N.dispatchEvent(new ErrorEvent("processorerror",{colno:g.colno,filename:g.filename,lineno:g.lineno,message:g.message}));break}}return S},createAudioWorkletNodeRendererFactory=(N,u,n,a,r,b,h,m,p,A,S,_,l,y,o,f)=>(x,g,D)=>{const E=new WeakMap;let C=null;const T=async(O,I)=>{let M=S(O),F=null;const B=isOwnedByContext(M,I),j=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(_===null){const L=j.reduce((U,G)=>U+G,0),R=r(I,{channelCount:Math.max(1,L),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,L)}),V=[];for(let U=0;U<O.numberOfOutputs;U+=1)V.push(a(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:j[U]}));const k=h(I,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1});k.connect=u.bind(null,V),k.disconnect=p.bind(null,V),F=[R,V,k]}else B||(M=new _(I,x));if(E.set(I,F===null?M:F[2]),F!==null){if(C===null){if(D===void 0)throw new Error("Missing the processor constructor.");if(l===null)throw new Error("Missing the native OfflineAudioContext constructor.");const G=O.channelCount*O.numberOfInputs,H=D.parameterDescriptors===void 0?0:D.parameterDescriptors.length,X=G+H;C=processBuffer(O,X===0?null:await(async()=>{const J=new l(X,Math.ceil(O.context.length/128)*128,I.sampleRate),ee=[],$=[];for(let te=0;te<g.numberOfInputs;te+=1)ee.push(h(J,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),$.push(r(J,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const W=await Promise.all(Array.from(O.parameters.values()).map(async te=>{const ce=b(J,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:te.value});return await y(J,te,ce.offset),ce})),Q=a(J,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,G+H)});for(let te=0;te<g.numberOfInputs;te+=1){ee[te].connect($[te]);for(let ce=0;ce<g.channelCount;ce+=1)$[te].connect(Q,ce,te*g.channelCount+ce)}for(const[te,ce]of W.entries())ce.connect(Q,0,G+te),ce.start(0);return Q.connect(J.destination),await Promise.all(ee.map(te=>o(O,J,te))),f(J)})(),I,g,j,D,A)}const L=await C,R=n(I,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[V,k,U]=F;L!==null&&(R.buffer=L,R.start(0)),R.connect(V);for(let G=0,H=0;G<O.numberOfOutputs;G+=1){const X=k[G];for(let Z=0;Z<j[G];Z+=1)V.connect(X,H+Z,Z);H+=j[G]}return U}if(B)for(const[L,R]of O.parameters.entries())await N(I,R,M.parameters.get(L));else for(const[L,R]of O.parameters.entries())await y(I,R,M.parameters.get(L));return await o(O,I,M),M};return{render(O,I){m(I,O);const M=E.get(I);return M!==void 0?Promise.resolve(M):T(O,I)}}},createBaseAudioContextConstructor=(N,u,n,a,r,b,h,m,p,A,S,_,l,y,o,f,x,g,D,E)=>class extends o{constructor(T,O){super(T,O),this._nativeContext=T,this._audioWorklet=N===void 0?void 0:{addModule:(I,M)=>N(this,I,M)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new u(this)}createBiquadFilter(){return new r(this)}createBuffer(T,O,I){return new n({length:O,numberOfChannels:T,sampleRate:I})}createBufferSource(){return new a(this)}createChannelMerger(T=6){return new b(this,{numberOfInputs:T})}createChannelSplitter(T=6){return new h(this,{numberOfOutputs:T})}createConstantSource(){return new m(this)}createConvolver(){return new p(this)}createDelay(T=1){return new S(this,{maxDelayTime:T})}createDynamicsCompressor(){return new _(this)}createGain(){return new l(this)}createIIRFilter(T,O){return new y(this,{feedback:O,feedforward:T})}createOscillator(){return new f(this)}createPanner(){return new x(this)}createPeriodicWave(T,O,I={disableNormalization:!1}){return new g(this,{...I,imag:O,real:T})}createStereoPanner(){return new D(this)}createWaveShaper(){return new E(this)}decodeAudioData(T,O,I){return A(this._nativeContext,T).then(M=>(typeof O=="function"&&O(M),M),M=>{throw typeof I=="function"&&I(M),M})}},DEFAULT_OPTIONS$f={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},createBiquadFilterNodeConstructor=(N,u,n,a,r,b,h,m)=>class extends N{constructor(A,S){const _=b(A),l={...DEFAULT_OPTIONS$f,...S},y=r(_,l),o=h(_),f=o?n():null;super(A,!1,y,f),this._Q=u(this,o,y.Q,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._detune=u(this,o,y.detune,1200*Math.log2(MOST_POSITIVE_SINGLE_FLOAT),-1200*Math.log2(MOST_POSITIVE_SINGLE_FLOAT)),this._frequency=u(this,o,y.frequency,A.sampleRate/2,0),this._gain=u(this,o,y.gain,40*Math.log10(MOST_POSITIVE_SINGLE_FLOAT),MOST_NEGATIVE_SINGLE_FLOAT),this._nativeBiquadFilterNode=y,m(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(A){this._nativeBiquadFilterNode.type=A}getFrequencyResponse(A,S,_){try{this._nativeBiquadFilterNode.getFrequencyResponse(A,S,_)}catch(l){throw l.code===11?a():l}if(A.length!==S.length||S.length!==_.length)throw a()}},createBiquadFilterNodeRendererFactory=(N,u,n,a,r)=>()=>{const b=new WeakMap,h=async(m,p)=>{let A=n(m);const S=isOwnedByContext(A,p);if(!S){const _={Q:A.Q.value,channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation,detune:A.detune.value,frequency:A.frequency.value,gain:A.gain.value,type:A.type};A=u(p,_)}return b.set(p,A),S?(await N(p,m.Q,A.Q),await N(p,m.detune,A.detune),await N(p,m.frequency,A.frequency),await N(p,m.gain,A.gain)):(await a(p,m.Q,A.Q),await a(p,m.detune,A.detune),await a(p,m.frequency,A.frequency),await a(p,m.gain,A.gain)),await r(m,p,A),A};return{render(m,p){const A=b.get(p);return A!==void 0?Promise.resolve(A):h(m,p)}}},createCacheTestResult=(N,u)=>(n,a)=>{const r=u.get(n);if(r!==void 0)return r;const b=N.get(n);if(b!==void 0)return b;try{const h=a();return h instanceof Promise?(N.set(n,h),h.catch(()=>!1).then(m=>(N.delete(n),u.set(n,m),m))):(u.set(n,h),h)}catch{return u.set(n,!1),!1}},DEFAULT_OPTIONS$e={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},createChannelMergerNodeConstructor=(N,u,n,a,r)=>class extends N{constructor(h,m){const p=a(h),A={...DEFAULT_OPTIONS$e,...m},S=n(p,A),_=r(p)?u():null;super(h,!1,S,_)}},createChannelMergerNodeRendererFactory=(N,u,n)=>()=>{const a=new WeakMap,r=async(b,h)=>{let m=u(b);if(!isOwnedByContext(m,h)){const A={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,numberOfInputs:m.numberOfInputs};m=N(h,A)}return a.set(h,m),await n(b,h,m),m};return{render(b,h){const m=a.get(h);return m!==void 0?Promise.resolve(m):r(b,h)}}},DEFAULT_OPTIONS$d={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},createChannelSplitterNodeConstructor=(N,u,n,a,r,b)=>class extends N{constructor(m,p){const A=a(m),S=b({...DEFAULT_OPTIONS$d,...p}),_=n(A,S),l=r(A)?u():null;super(m,!1,_,l)}},createChannelSplitterNodeRendererFactory=(N,u,n)=>()=>{const a=new WeakMap,r=async(b,h)=>{let m=u(b);if(!isOwnedByContext(m,h)){const A={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,numberOfOutputs:m.numberOfOutputs};m=N(h,A)}return a.set(h,m),await n(b,h,m),m};return{render(b,h){const m=a.get(h);return m!==void 0?Promise.resolve(m):r(b,h)}}},createConnectAudioParam=N=>(u,n,a)=>N(n,u,a),createConnectMultipleOutputs=N=>(u,n,a=0,r=0)=>{const b=u[a];if(b===void 0)throw N();return isNativeAudioNode$1(n)?b.connect(n,0,r):b.connect(n,0)},createConnectedNativeAudioBufferSourceNodeFactory=N=>(u,n)=>{const a=N(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=u.createBuffer(1,2,44100);return a.buffer=r,a.loop=!0,a.connect(n),a.start(),()=>{a.stop(),a.disconnect(n)}},DEFAULT_OPTIONS$c={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},createConstantSourceNodeConstructor=(N,u,n,a,r,b,h)=>class extends N{constructor(p,A){const S=r(p),_={...DEFAULT_OPTIONS$c,...A},l=a(S,_),y=b(S),o=y?n():null;super(p,!1,l,o),this._constantSourceNodeRenderer=o,this._nativeConstantSourceNode=l,this._offset=u(this,y,l.offset,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(p){const A=typeof p=="function"?h(this,p):null;this._nativeConstantSourceNode.onended=A;const S=this._nativeConstantSourceNode.onended;this._onended=S!==null&&S===A?p:S}start(p=0){if(this._nativeConstantSourceNode.start(p),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=p),this.context.state!=="closed"){setInternalStateToActive(this);const A=()=>{this._nativeConstantSourceNode.removeEventListener("ended",A),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeConstantSourceNode.addEventListener("ended",A)}}stop(p=0){this._nativeConstantSourceNode.stop(p),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=p)}},createConstantSourceNodeRendererFactory=(N,u,n,a,r)=>()=>{const b=new WeakMap;let h=null,m=null;const p=async(A,S)=>{let _=n(A);const l=isOwnedByContext(_,S);if(!l){const y={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,offset:_.offset.value};_=u(S,y),h!==null&&_.start(h),m!==null&&_.stop(m)}return b.set(S,_),l?await N(S,A.offset,_.offset):await a(S,A.offset,_.offset),await r(A,S,_),_};return{set start(A){h=A},set stop(A){m=A},render(A,S){const _=b.get(S);return _!==void 0?Promise.resolve(_):p(A,S)}}},createConvertNumberToUnsignedLong=N=>u=>(N[0]=u,N[0]),DEFAULT_OPTIONS$b={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},createConvolverNodeConstructor=(N,u,n,a,r,b)=>class extends N{constructor(m,p){const A=a(m),S={...DEFAULT_OPTIONS$b,...p},_=n(A,S),y=r(A)?u():null;super(m,!1,_,y),this._isBufferNullified=!1,this._nativeConvolverNode=_,S.buffer!==null&&b(this,S.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(m){if(this._nativeConvolverNode.buffer=m,m===null&&this._nativeConvolverNode.buffer!==null){const p=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=p.createBuffer(1,1,p.sampleRate),this._isBufferNullified=!0,b(this,0)}else this._isBufferNullified=!1,b(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(m){this._nativeConvolverNode.normalize=m}},createConvolverNodeRendererFactory=(N,u,n)=>()=>{const a=new WeakMap,r=async(b,h)=>{let m=u(b);if(!isOwnedByContext(m,h)){const A={buffer:m.buffer,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,disableNormalization:!m.normalize};m=N(h,A)}return a.set(h,m),isNativeAudioNodeFaker(m)?await n(b,h,m.inputs[0]):await n(b,h,m),m};return{render(b,h){const m=a.get(h);return m!==void 0?Promise.resolve(m):r(b,h)}}},createCreateNativeOfflineAudioContext=(N,u)=>(n,a,r)=>{if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new u(n,a,r)}catch(b){throw b.name==="SyntaxError"?N():b}},createDataCloneError=()=>new DOMException("","DataCloneError"),detachArrayBuffer=N=>{const{port1:u,port2:n}=new MessageChannel;return new Promise(a=>{const r=()=>{n.onmessage=null,u.close(),n.close(),a()};n.onmessage=()=>r();try{u.postMessage(N,[N])}catch{}finally{r()}})},createDecodeAudioData=(N,u,n,a,r,b,h,m,p,A,S)=>(_,l)=>{const y=h(_)?_:b(_);if(r.has(l)){const o=n();return Promise.reject(o)}try{r.add(l)}catch{}return u(p,()=>p(y))?y.decodeAudioData(l).then(o=>(detachArrayBuffer(l).catch(()=>{}),u(m,()=>m(o))||S(o),N.add(o),o)):new Promise((o,f)=>{const x=async()=>{try{await detachArrayBuffer(l)}catch{}},g=D=>{f(D),x()};try{y.decodeAudioData(l,D=>{typeof D.copyFromChannel!="function"&&(A(D),wrapAudioBufferGetChannelDataMethod(D)),N.add(D),x().then(()=>o(D))},D=>{g(D===null?a():D)})}catch(D){g(D)}})},createDecrementCycleCounter=(N,u,n,a,r,b,h,m)=>(p,A)=>{const S=u.get(p);if(S===void 0)throw new Error("Missing the expected cycle count.");const _=b(p.context),l=m(_);if(S===A){if(u.delete(p),!l&&h(p)){const y=a(p),{outputs:o}=n(p);for(const f of o)if(isAudioNodeOutputConnection(f)){const x=a(f[0]);N(y,x,f[1],f[2])}else{const x=r(f[0]);y.connect(x,f[1])}}}else u.set(p,S-A)},DEFAULT_OPTIONS$a={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},createDelayNodeConstructor=(N,u,n,a,r,b,h)=>class extends N{constructor(p,A){const S=r(p),_={...DEFAULT_OPTIONS$a,...A},l=a(S,_),y=b(S),o=y?n(_.maxDelayTime):null;super(p,!1,l,o),this._delayTime=u(this,y,l.delayTime),h(this,_.maxDelayTime)}get delayTime(){return this._delayTime}},createDelayNodeRendererFactory=(N,u,n,a,r)=>b=>{const h=new WeakMap,m=async(p,A)=>{let S=n(p);const _=isOwnedByContext(S,A);if(!_){const l={channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,delayTime:S.delayTime.value,maxDelayTime:b};S=u(A,l)}return h.set(A,S),_?await N(A,p.delayTime,S.delayTime):await a(A,p.delayTime,S.delayTime),await r(p,A,S),S};return{render(p,A){const S=h.get(A);return S!==void 0?Promise.resolve(S):m(p,A)}}},createDeleteActiveInputConnectionToAudioNode=N=>(u,n,a,r)=>N(u[r],b=>b[0]===n&&b[1]===a),createDeleteUnrenderedAudioWorkletNode=N=>(u,n)=>{N(u).delete(n)},isDelayNode=N=>"delayTime"in N,createDetectCycles=(N,u,n)=>function a(r,b){const h=isAudioNode$1(b)?b:n(N,b);if(isDelayNode(h))return[];if(r[0]===h)return[r];if(r.includes(h))return[];const{outputs:m}=u(h);return Array.from(m).map(p=>a([...r,h],p[0])).reduce((p,A)=>p.concat(A),[])},getOutputAudioNodeAtIndex=(N,u,n)=>{const a=u[n];if(a===void 0)throw N();return a},createDisconnectMultipleOutputs=N=>(u,n=void 0,a=void 0,r=0)=>n===void 0?u.forEach(b=>b.disconnect()):typeof n=="number"?getOutputAudioNodeAtIndex(N,u,n).disconnect():isNativeAudioNode$1(n)?a===void 0?u.forEach(b=>b.disconnect(n)):r===void 0?getOutputAudioNodeAtIndex(N,u,a).disconnect(n,0):getOutputAudioNodeAtIndex(N,u,a).disconnect(n,0,r):a===void 0?u.forEach(b=>b.disconnect(n)):getOutputAudioNodeAtIndex(N,u,a).disconnect(n,0),DEFAULT_OPTIONS$9={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},createDynamicsCompressorNodeConstructor=(N,u,n,a,r,b,h,m)=>class extends N{constructor(A,S){const _=b(A),l={...DEFAULT_OPTIONS$9,...S},y=a(_,l),o=h(_),f=o?n():null;super(A,!1,y,f),this._attack=u(this,o,y.attack),this._knee=u(this,o,y.knee),this._nativeDynamicsCompressorNode=y,this._ratio=u(this,o,y.ratio),this._release=u(this,o,y.release),this._threshold=u(this,o,y.threshold),m(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(A){const S=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=A,A>2)throw this._nativeDynamicsCompressorNode.channelCount=S,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(A){const S=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=A,A==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=S,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},createDynamicsCompressorNodeRendererFactory=(N,u,n,a,r)=>()=>{const b=new WeakMap,h=async(m,p)=>{let A=n(m);const S=isOwnedByContext(A,p);if(!S){const _={attack:A.attack.value,channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation,knee:A.knee.value,ratio:A.ratio.value,release:A.release.value,threshold:A.threshold.value};A=u(p,_)}return b.set(p,A),S?(await N(p,m.attack,A.attack),await N(p,m.knee,A.knee),await N(p,m.ratio,A.ratio),await N(p,m.release,A.release),await N(p,m.threshold,A.threshold)):(await a(p,m.attack,A.attack),await a(p,m.knee,A.knee),await a(p,m.ratio,A.ratio),await a(p,m.release,A.release),await a(p,m.threshold,A.threshold)),await r(m,p,A),A};return{render(m,p){const A=b.get(p);return A!==void 0?Promise.resolve(A):h(m,p)}}},createEncodingError=()=>new DOMException("","EncodingError"),createEvaluateSource=N=>u=>new Promise((n,a)=>{if(N===null){a(new SyntaxError);return}const r=N.document.head;if(r===null)a(new SyntaxError);else{const b=N.document.createElement("script"),h=new Blob([u],{type:"application/javascript"}),m=URL.createObjectURL(h),p=N.onerror,A=()=>{N.onerror=p,URL.revokeObjectURL(m)};N.onerror=(S,_,l,y,o)=>{if(_===m||_===N.location.href&&l===1&&y===1)return A(),a(o),!1;if(p!==null)return p(S,_,l,y,o)},b.onerror=()=>{A(),a(new SyntaxError)},b.onload=()=>{A(),n()},b.src=m,b.type="module",r.appendChild(b)}}),createEventTargetConstructor=N=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,a,r){if(a!==null){let b=this._listeners.get(a);b===void 0&&(b=N(this,a),typeof a=="function"&&this._listeners.set(a,b)),this._nativeEventTarget.addEventListener(n,b,r)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,a,r){const b=a===null?void 0:this._listeners.get(a);this._nativeEventTarget.removeEventListener(n,b===void 0?null:b,r)}},createExposeCurrentFrameAndCurrentTime=N=>(u,n,a)=>{Object.defineProperties(N,{currentFrame:{configurable:!0,get(){return Math.round(u*n)}},currentTime:{configurable:!0,get(){return u}}});try{return a()}finally{N!==null&&(delete N.currentFrame,delete N.currentTime)}},createFetchSource=N=>async u=>{try{const n=await fetch(u);if(n.ok)return[await n.text(),n.url]}catch{}throw N()},DEFAULT_OPTIONS$8={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},createGainNodeConstructor=(N,u,n,a,r,b)=>class extends N{constructor(m,p){const A=r(m),S={...DEFAULT_OPTIONS$8,...p},_=a(A,S),l=b(A),y=l?n():null;super(m,!1,_,y),this._gain=u(this,l,_.gain,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT)}get gain(){return this._gain}},createGainNodeRendererFactory=(N,u,n,a,r)=>()=>{const b=new WeakMap,h=async(m,p)=>{let A=n(m);const S=isOwnedByContext(A,p);if(!S){const _={channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation,gain:A.gain.value};A=u(p,_)}return b.set(p,A),S?await N(p,m.gain,A.gain):await a(p,m.gain,A.gain),await r(m,p,A),A};return{render(m,p){const A=b.get(p);return A!==void 0?Promise.resolve(A):h(m,p)}}},createGetActiveAudioWorkletNodeInputs=(N,u)=>n=>u(N,n),createGetAudioNodeRenderer=N=>u=>{const n=N(u);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},createGetAudioNodeTailTime=N=>u=>{var n;return(n=N.get(u))!==null&&n!==void 0?n:0},createGetAudioParamRenderer=N=>u=>{const n=N(u);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},createGetBackupOfflineAudioContext=N=>u=>N.get(u),createInvalidStateError=()=>new DOMException("","InvalidStateError"),createGetNativeContext=N=>u=>{const n=N.get(u);if(n===void 0)throw createInvalidStateError();return n},createGetOrCreateBackupOfflineAudioContext=(N,u)=>n=>{let a=N.get(n);if(a!==void 0)return a;if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");return a=new u(1,1,44100),N.set(n,a),a},createGetUnrenderedAudioWorkletNodes=N=>u=>{const n=N.get(u);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},createInvalidAccessError=()=>new DOMException("","InvalidAccessError"),wrapIIRFilterNodeGetFrequencyResponseMethod=N=>{N.getFrequencyResponse=(u=>(n,a,r)=>{if(n.length!==a.length||a.length!==r.length)throw createInvalidAccessError();return u.call(N,n,a,r)})(N.getFrequencyResponse)},DEFAULT_OPTIONS$7={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},createIIRFilterNodeConstructor=(N,u,n,a,r,b)=>class extends N{constructor(m,p){const A=a(m),S=r(A),_={...DEFAULT_OPTIONS$7,...p},l=u(A,S?null:m.baseLatency,_),y=S?n(_.feedback,_.feedforward):null;super(m,!1,l,y),wrapIIRFilterNodeGetFrequencyResponseMethod(l),this._nativeIIRFilterNode=l,b(this,1)}getFrequencyResponse(m,p,A){return this._nativeIIRFilterNode.getFrequencyResponse(m,p,A)}},filterBuffer=(N,u,n,a,r,b,h,m,p,A,S)=>{const _=A.length;let l=m;for(let y=0;y<_;y+=1){let o=n[0]*A[y];for(let f=1;f<r;f+=1){const x=l-f&p-1;o+=n[f]*b[x],o-=N[f]*h[x]}for(let f=r;f<a;f+=1)o+=n[f]*b[l-f&p-1];for(let f=r;f<u;f+=1)o-=N[f]*h[l-f&p-1];b[l]=A[y],h[l]=o,l=l+1&p-1,S[y]=o}return l},filterFullBuffer=(N,u,n,a)=>{const r=n instanceof Float64Array?n:new Float64Array(n),b=a instanceof Float64Array?a:new Float64Array(a),h=r.length,m=b.length,p=Math.min(h,m);if(r[0]!==1){for(let o=0;o<h;o+=1)b[o]/=r[0];for(let o=1;o<m;o+=1)r[o]/=r[0]}const A=32,S=new Float32Array(A),_=new Float32Array(A),l=u.createBuffer(N.numberOfChannels,N.length,N.sampleRate),y=N.numberOfChannels;for(let o=0;o<y;o+=1){const f=N.getChannelData(o),x=l.getChannelData(o);S.fill(0),_.fill(0),filterBuffer(r,h,b,m,p,S,_,0,A,f,x)}return l},createIIRFilterNodeRendererFactory=(N,u,n,a,r)=>(b,h)=>{const m=new WeakMap;let p=null;const A=async(S,_)=>{let l=null,y=u(S);const o=isOwnedByContext(y,_);if(_.createIIRFilter===void 0?l=N(_,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):o||(y=_.createIIRFilter(h,b)),m.set(_,l===null?y:l),l!==null){if(p===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const x=new n(S.context.destination.channelCount,S.context.length,_.sampleRate);p=(async()=>{await a(S,x,x.destination);const g=await r(x);return filterFullBuffer(g,_,b,h)})()}const f=await p;return l.buffer=f,l.start(0),l}return await a(S,_,y),y};return{render(S,_){const l=m.get(_);return l!==void 0?Promise.resolve(l):A(S,_)}}},createIncrementCycleCounterFactory=(N,u,n,a,r,b)=>h=>(m,p)=>{const A=N.get(m);if(A===void 0){if(!h&&b(m)){const S=a(m),{outputs:_}=n(m);for(const l of _)if(isAudioNodeOutputConnection(l)){const y=a(l[0]);u(S,y,l[1],l[2])}else{const y=r(l[0]);S.disconnect(y,l[1])}}N.set(m,p)}else N.set(m,A+p)},createIsAnyAudioContext=(N,u)=>n=>{const a=N.get(n);return u(a)||u(n)},createIsAnyAudioNode=(N,u)=>n=>N.has(n)||u(n),createIsAnyAudioParam=(N,u)=>n=>N.has(n)||u(n),createIsAnyOfflineAudioContext=(N,u)=>n=>{const a=N.get(n);return u(a)||u(n)},createIsNativeAudioContext=N=>u=>N!==null&&u instanceof N,createIsNativeAudioNode=N=>u=>N!==null&&typeof N.AudioNode=="function"&&u instanceof N.AudioNode,createIsNativeAudioParam=N=>u=>N!==null&&typeof N.AudioParam=="function"&&u instanceof N.AudioParam,createIsNativeContext=(N,u)=>n=>N(n)||u(n),createIsNativeOfflineAudioContext=N=>u=>N!==null&&u instanceof N,createIsSecureContext=N=>N!==null&&N.isSecureContext,createMediaElementAudioSourceNodeConstructor=(N,u,n,a)=>class extends N{constructor(b,h){const m=n(b),p=u(m,h);if(a(m))throw TypeError();super(b,!0,p,null),this._nativeMediaElementAudioSourceNode=p}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},DEFAULT_OPTIONS$6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},createMediaStreamAudioDestinationNodeConstructor=(N,u,n,a)=>class extends N{constructor(b,h){const m=n(b);if(a(m))throw new TypeError;const p={...DEFAULT_OPTIONS$6,...h},A=u(m,p);super(b,!1,A,null),this._nativeMediaStreamAudioDestinationNode=A}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},createMediaStreamAudioSourceNodeConstructor=(N,u,n,a)=>class extends N{constructor(b,h){const m=n(b),p=u(m,h);if(a(m))throw new TypeError;super(b,!0,p,null),this._nativeMediaStreamAudioSourceNode=p}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},createMediaStreamTrackAudioSourceNodeConstructor=(N,u,n)=>class extends N{constructor(r,b){const h=n(r),m=u(h,b);super(r,!0,m,null)}},createMinimalBaseAudioContextConstructor=(N,u,n,a,r,b)=>class extends n{constructor(m,p){super(m),this._nativeContext=m,CONTEXT_STORE.set(this,m),a(m)&&r.set(m,new Set),this._destination=new N(this,p),this._listener=u(this,m),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(m){const p=typeof m=="function"?b(this,m):null;this._nativeContext.onstatechange=p;const A=this._nativeContext.onstatechange;this._onstatechange=A!==null&&A===p?m:A}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},testPromiseSupport=N=>{const u=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=N.decodeAudioData(u.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},createMonitorConnections=(N,u)=>(n,a,r)=>{const b=new Set;return n.connect=(h=>(m,p=0,A=0)=>{const S=b.size===0;if(u(m))return h.call(n,m,p,A),N(b,[m,p,A],_=>_[0]===m&&_[1]===p&&_[2]===A,!0),S&&a(),m;h.call(n,m,p),N(b,[m,p],_=>_[0]===m&&_[1]===p,!0),S&&a()})(n.connect),n.disconnect=(h=>(m,p,A)=>{const S=b.size>0;if(m===void 0)h.apply(n),b.clear();else if(typeof m=="number"){h.call(n,m);for(const l of b)l[1]===m&&b.delete(l)}else{u(m)?h.call(n,m,p,A):h.call(n,m,p);for(const l of b)l[0]===m&&(p===void 0||l[1]===p)&&(A===void 0||l[2]===A)&&b.delete(l)}const _=b.size===0;S&&_&&r()})(n.disconnect),n},assignNativeAudioNodeOption=(N,u,n)=>{const a=u[n];a!==void 0&&a!==N[n]&&(N[n]=a)},assignNativeAudioNodeOptions=(N,u)=>{assignNativeAudioNodeOption(N,u,"channelCount"),assignNativeAudioNodeOption(N,u,"channelCountMode"),assignNativeAudioNodeOption(N,u,"channelInterpretation")},testAnalyserNodeGetFloatTimeDomainDataMethodSupport=N=>typeof N.getFloatTimeDomainData=="function",wrapAnalyserNodeGetFloatTimeDomainDataMethod=N=>{N.getFloatTimeDomainData=u=>{const n=new Uint8Array(u.length);N.getByteTimeDomainData(n);const a=Math.max(n.length,N.fftSize);for(let r=0;r<a;r+=1)u[r]=(n[r]-128)*.0078125;return u}},createNativeAnalyserNodeFactory=(N,u)=>(n,a)=>{const r=n.createAnalyser();if(assignNativeAudioNodeOptions(r,a),!(a.maxDecibels>a.minDecibels))throw u();return assignNativeAudioNodeOption(r,a,"fftSize"),assignNativeAudioNodeOption(r,a,"maxDecibels"),assignNativeAudioNodeOption(r,a,"minDecibels"),assignNativeAudioNodeOption(r,a,"smoothingTimeConstant"),N(testAnalyserNodeGetFloatTimeDomainDataMethodSupport,()=>testAnalyserNodeGetFloatTimeDomainDataMethodSupport(r))||wrapAnalyserNodeGetFloatTimeDomainDataMethod(r),r},createNativeAudioBufferConstructor=N=>N===null?null:N.hasOwnProperty("AudioBuffer")?N.AudioBuffer:null,assignNativeAudioNodeAudioParamValue=(N,u,n)=>{const a=u[n];a!==void 0&&a!==N[n].value&&(N[n].value=a)},wrapAudioBufferSourceNodeStartMethodConsecutiveCalls=N=>{N.start=(u=>{let n=!1;return(a=0,r=0,b)=>{if(n)throw createInvalidStateError();u.call(N,a,r,b),n=!0}})(N.start)},wrapAudioScheduledSourceNodeStartMethodNegativeParameters=N=>{N.start=(u=>(n=0,a=0,r)=>{if(typeof r=="number"&&r<0||a<0||n<0)throw new RangeError("The parameters can't be negative.");u.call(N,n,a,r)})(N.start)},wrapAudioScheduledSourceNodeStopMethodNegativeParameters=N=>{N.stop=(u=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");u.call(N,n)})(N.stop)},createNativeAudioBufferSourceNodeFactory=(N,u,n,a,r,b,h,m,p,A,S)=>(_,l)=>{const y=_.createBufferSource();return assignNativeAudioNodeOptions(y,l),assignNativeAudioNodeAudioParamValue(y,l,"playbackRate"),assignNativeAudioNodeOption(y,l,"buffer"),assignNativeAudioNodeOption(y,l,"loop"),assignNativeAudioNodeOption(y,l,"loopEnd"),assignNativeAudioNodeOption(y,l,"loopStart"),u(n,()=>n(_))||wrapAudioBufferSourceNodeStartMethodConsecutiveCalls(y),u(a,()=>a(_))||p(y),u(r,()=>r(_))||A(y,_),u(b,()=>b(_))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(y),u(h,()=>h(_))||S(y,_),u(m,()=>m(_))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(y),N(_,y),y},createNativeAudioContextConstructor=N=>N===null?null:N.hasOwnProperty("AudioContext")?N.AudioContext:N.hasOwnProperty("webkitAudioContext")?N.webkitAudioContext:null,createNativeAudioDestinationNodeFactory=(N,u)=>(n,a,r)=>{const b=n.destination;if(b.channelCount!==a)try{b.channelCount=a}catch{}r&&b.channelCountMode!=="explicit"&&(b.channelCountMode="explicit"),b.maxChannelCount===0&&Object.defineProperty(b,"maxChannelCount",{value:a});const h=N(n,{channelCount:a,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1});return u(h,"channelCount",m=>()=>m.call(h),m=>p=>{m.call(h,p);try{b.channelCount=p}catch(A){if(p>b.maxChannelCount)throw A}}),u(h,"channelCountMode",m=>()=>m.call(h),m=>p=>{m.call(h,p),b.channelCountMode=p}),u(h,"channelInterpretation",m=>()=>m.call(h),m=>p=>{m.call(h,p),b.channelInterpretation=p}),Object.defineProperty(h,"maxChannelCount",{get:()=>b.maxChannelCount}),h.connect(b),h},createNativeAudioWorkletNodeConstructor=N=>N===null?null:N.hasOwnProperty("AudioWorkletNode")?N.AudioWorkletNode:null,testClonabilityOfAudioWorkletNodeOptions=N=>{const{port1:u}=new MessageChannel;try{u.postMessage(N)}finally{u.close()}},createNativeAudioWorkletNodeFactory=(N,u,n,a,r)=>(b,h,m,p,A,S)=>{if(m!==null)try{const _=new m(b,p,S),l=new Map;let y=null;if(Object.defineProperties(_,{channelCount:{get:()=>S.channelCount,set:()=>{throw N()}},channelCountMode:{get:()=>"explicit",set:()=>{throw N()}},onprocessorerror:{get:()=>y,set:o=>{typeof y=="function"&&_.removeEventListener("processorerror",y),y=typeof o=="function"?o:null,typeof y=="function"&&_.addEventListener("processorerror",y)}}}),_.addEventListener=(o=>(...f)=>{if(f[0]==="processorerror"){const x=typeof f[1]=="function"?f[1]:typeof f[1]=="object"&&f[1]!==null&&typeof f[1].handleEvent=="function"?f[1].handleEvent:null;if(x!==null){const g=l.get(f[1]);g!==void 0?f[1]=g:(f[1]=D=>{D.type==="error"?(Object.defineProperties(D,{type:{value:"processorerror"}}),x(D)):x(new ErrorEvent(f[0],{...D}))},l.set(x,f[1]))}}return o.call(_,"error",f[1],f[2]),o.call(_,...f)})(_.addEventListener),_.removeEventListener=(o=>(...f)=>{if(f[0]==="processorerror"){const x=l.get(f[1]);x!==void 0&&(l.delete(f[1]),f[1]=x)}return o.call(_,"error",f[1],f[2]),o.call(_,f[0],f[1],f[2])})(_.removeEventListener),S.numberOfOutputs!==0){const o=n(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return _.connect(o).connect(b.destination),r(_,()=>o.disconnect(),()=>o.connect(b.destination))}return _}catch(_){throw _.code===11?a():_}if(A===void 0)throw a();return testClonabilityOfAudioWorkletNodeOptions(S),u(b,h,A,S)},computeBufferSize=(N,u)=>N===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(N*u))))),cloneAudioWorkletNodeOptions=N=>new Promise((u,n)=>{const{port1:a,port2:r}=new MessageChannel;a.onmessage=({data:b})=>{a.close(),r.close(),u(b)},a.onmessageerror=({data:b})=>{a.close(),r.close(),n(b)},r.postMessage(N)}),createAudioWorkletProcessorPromise=async(N,u)=>{const n=await cloneAudioWorkletNodeOptions(u);return new N(n)},createAudioWorkletProcessor=(N,u,n,a)=>{let r=NODE_TO_PROCESSOR_MAPS.get(N);r===void 0&&(r=new WeakMap,NODE_TO_PROCESSOR_MAPS.set(N,r));const b=createAudioWorkletProcessorPromise(n,a);return r.set(u,b),b},createNativeAudioWorkletNodeFakerFactory=(N,u,n,a,r,b,h,m,p,A,S,_,l)=>(y,o,f,x)=>{if(x.numberOfInputs===0&&x.numberOfOutputs===0)throw p();const g=Array.isArray(x.outputChannelCount)?x.outputChannelCount:Array.from(x.outputChannelCount);if(g.some(ye=>ye<1))throw p();if(g.length!==x.numberOfOutputs)throw u();if(x.channelCountMode!=="explicit")throw p();const D=x.channelCount*x.numberOfInputs,E=g.reduce((ye,Ae)=>ye+Ae,0),C=f.parameterDescriptors===void 0?0:f.parameterDescriptors.length;if(D+C>6||E>6)throw p();const T=new MessageChannel,O=[],I=[];for(let ye=0;ye<x.numberOfInputs;ye+=1)O.push(h(y,{channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:1})),I.push(r(y,{channelCount:x.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:x.channelCount}));const M=[];if(f.parameterDescriptors!==void 0)for(const{defaultValue:ye,maxValue:Ae,minValue:be,name:ne}of f.parameterDescriptors){const re=b(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:x.parameterData[ne]!==void 0?x.parameterData[ne]:ye===void 0?0:ye});Object.defineProperties(re.offset,{defaultValue:{get:()=>ye===void 0?0:ye},maxValue:{get:()=>Ae===void 0?MOST_POSITIVE_SINGLE_FLOAT:Ae},minValue:{get:()=>be===void 0?MOST_NEGATIVE_SINGLE_FLOAT:be}}),M.push(re)}const F=a(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,D+C)}),B=computeBufferSize(o,y.sampleRate),j=m(y,B,D+C,Math.max(1,E)),L=r(y,{channelCount:Math.max(1,E),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,E)}),R=[];for(let ye=0;ye<x.numberOfOutputs;ye+=1)R.push(a(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:g[ye]}));for(let ye=0;ye<x.numberOfInputs;ye+=1){O[ye].connect(I[ye]);for(let Ae=0;Ae<x.channelCount;Ae+=1)I[ye].connect(F,Ae,ye*x.channelCount+Ae)}const V=new ReadOnlyMap(f.parameterDescriptors===void 0?[]:f.parameterDescriptors.map(({name:ye},Ae)=>{const be=M[Ae];return be.connect(F,0,D+Ae),be.start(0),[ye,be.offset]}));F.connect(j);let k=x.channelInterpretation,U=null;const G=x.numberOfOutputs===0?[j]:R,H={get bufferSize(){return B},get channelCount(){return x.channelCount},set channelCount(ye){throw n()},get channelCountMode(){return x.channelCountMode},set channelCountMode(ye){throw n()},get channelInterpretation(){return k},set channelInterpretation(ye){for(const Ae of O)Ae.channelInterpretation=ye;k=ye},get context(){return j.context},get inputs(){return O},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get onprocessorerror(){return U},set onprocessorerror(ye){typeof U=="function"&&H.removeEventListener("processorerror",U),U=typeof ye=="function"?ye:null,typeof U=="function"&&H.addEventListener("processorerror",U)},get parameters(){return V},get port(){return T.port2},addEventListener(...ye){return j.addEventListener(ye[0],ye[1],ye[2])},connect:N.bind(null,G),disconnect:A.bind(null,G),dispatchEvent(...ye){return j.dispatchEvent(ye[0])},removeEventListener(...ye){return j.removeEventListener(ye[0],ye[1],ye[2])}},X=new Map;T.port1.addEventListener=(ye=>(...Ae)=>{if(Ae[0]==="message"){const be=typeof Ae[1]=="function"?Ae[1]:typeof Ae[1]=="object"&&Ae[1]!==null&&typeof Ae[1].handleEvent=="function"?Ae[1].handleEvent:null;if(be!==null){const ne=X.get(Ae[1]);ne!==void 0?Ae[1]=ne:(Ae[1]=re=>{S(y.currentTime,y.sampleRate,()=>be(re))},X.set(be,Ae[1]))}}return ye.call(T.port1,Ae[0],Ae[1],Ae[2])})(T.port1.addEventListener),T.port1.removeEventListener=(ye=>(...Ae)=>{if(Ae[0]==="message"){const be=X.get(Ae[1]);be!==void 0&&(X.delete(Ae[1]),Ae[1]=be)}return ye.call(T.port1,Ae[0],Ae[1],Ae[2])})(T.port1.removeEventListener);let Z=null;Object.defineProperty(T.port1,"onmessage",{get:()=>Z,set:ye=>{typeof Z=="function"&&T.port1.removeEventListener("message",Z),Z=typeof ye=="function"?ye:null,typeof Z=="function"&&(T.port1.addEventListener("message",Z),T.port1.start())}}),f.prototype.port=T.port1;let J=null;createAudioWorkletProcessor(y,H,f,x).then(ye=>J=ye);const $=createNestedArrays(x.numberOfInputs,x.channelCount),W=createNestedArrays(x.numberOfOutputs,g),Q=f.parameterDescriptors===void 0?[]:f.parameterDescriptors.reduce((ye,{name:Ae})=>({...ye,[Ae]:new Float32Array(128)}),{});let te=!0;const ce=()=>{x.numberOfOutputs>0&&j.disconnect(L);for(let ye=0,Ae=0;ye<x.numberOfOutputs;ye+=1){const be=R[ye];for(let ne=0;ne<g[ye];ne+=1)L.disconnect(be,Ae+ne,ne);Ae+=g[ye]}},oe=new Map;j.onaudioprocess=({inputBuffer:ye,outputBuffer:Ae})=>{if(J!==null){const be=_(H);for(let ne=0;ne<B;ne+=128){for(let re=0;re<x.numberOfInputs;re+=1)for(let de=0;de<x.channelCount;de+=1)copyFromChannel(ye,$[re],de,de,ne);f.parameterDescriptors!==void 0&&f.parameterDescriptors.forEach(({name:re},de)=>{copyFromChannel(ye,Q,re,D+de,ne)});for(let re=0;re<x.numberOfInputs;re+=1)for(let de=0;de<g[re];de+=1)W[re][de].byteLength===0&&(W[re][de]=new Float32Array(128));try{const re=$.map((Ce,je)=>{if(be[je].size>0)return oe.set(je,B/128),Ce;const Ie=oe.get(je);return Ie===void 0?[]:(Ce.every(Ne=>Ne.every(Be=>Be===0))&&(Ie===1?oe.delete(je):oe.set(je,Ie-1)),Ce)});te=S(y.currentTime+ne/y.sampleRate,y.sampleRate,()=>J.process(re,W,Q));for(let Ce=0,je=0;Ce<x.numberOfOutputs;Ce+=1){for(let xe=0;xe<g[Ce];xe+=1)copyToChannel(Ae,W[Ce],xe,je+xe,ne);je+=g[Ce]}}catch(re){te=!1,H.dispatchEvent(new ErrorEvent("processorerror",{colno:re.colno,filename:re.filename,lineno:re.lineno,message:re.message}))}if(!te){for(let re=0;re<x.numberOfInputs;re+=1){O[re].disconnect(I[re]);for(let de=0;de<x.channelCount;de+=1)I[ne].disconnect(F,de,re*x.channelCount+de)}if(f.parameterDescriptors!==void 0){const re=f.parameterDescriptors.length;for(let de=0;de<re;de+=1){const Ce=M[de];Ce.disconnect(F,0,D+de),Ce.stop()}}F.disconnect(j),j.onaudioprocess=null,ue?ce():fe();break}}}};let ue=!1;const we=h(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),le=()=>j.connect(we).connect(y.destination),fe=()=>{j.disconnect(we),we.disconnect()},ve=()=>{if(te){fe(),x.numberOfOutputs>0&&j.connect(L);for(let ye=0,Ae=0;ye<x.numberOfOutputs;ye+=1){const be=R[ye];for(let ne=0;ne<g[ye];ne+=1)L.connect(be,Ae+ne,ne);Ae+=g[ye]}}ue=!0},pe=()=>{te&&(le(),ce()),ue=!1};return le(),l(H,ve,pe)},createNativeBiquadFilterNode=(N,u)=>{const n=N.createBiquadFilter();return assignNativeAudioNodeOptions(n,u),assignNativeAudioNodeAudioParamValue(n,u,"Q"),assignNativeAudioNodeAudioParamValue(n,u,"detune"),assignNativeAudioNodeAudioParamValue(n,u,"frequency"),assignNativeAudioNodeAudioParamValue(n,u,"gain"),assignNativeAudioNodeOption(n,u,"type"),n},createNativeChannelMergerNodeFactory=(N,u)=>(n,a)=>{const r=n.createChannelMerger(a.numberOfInputs);return N!==null&&N.name==="webkitAudioContext"&&u(n,r),assignNativeAudioNodeOptions(r,a),r},wrapChannelSplitterNode=N=>{const u=N.numberOfOutputs;Object.defineProperty(N,"channelCount",{get:()=>u,set:n=>{if(n!==u)throw createInvalidStateError()}}),Object.defineProperty(N,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw createInvalidStateError()}}),Object.defineProperty(N,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw createInvalidStateError()}})},createNativeChannelSplitterNode=(N,u)=>{const n=N.createChannelSplitter(u.numberOfOutputs);return assignNativeAudioNodeOptions(n,u),wrapChannelSplitterNode(n),n},createNativeConstantSourceNodeFactory=(N,u,n,a,r)=>(b,h)=>{if(b.createConstantSource===void 0)return n(b,h);const m=b.createConstantSource();return assignNativeAudioNodeOptions(m,h),assignNativeAudioNodeAudioParamValue(m,h,"offset"),u(a,()=>a(b))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(m),u(r,()=>r(b))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(m),N(b,m),m},interceptConnections=(N,u)=>(N.connect=u.connect.bind(u),N.disconnect=u.disconnect.bind(u),N),createNativeConstantSourceNodeFakerFactory=(N,u,n,a)=>(r,{offset:b,...h})=>{const m=r.createBuffer(1,2,44100),p=u(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),A=n(r,{...h,gain:b}),S=m.getChannelData(0);S[0]=1,S[1]=1,p.buffer=m,p.loop=!0;const _={get bufferSize(){},get channelCount(){return A.channelCount},set channelCount(o){A.channelCount=o},get channelCountMode(){return A.channelCountMode},set channelCountMode(o){A.channelCountMode=o},get channelInterpretation(){return A.channelInterpretation},set channelInterpretation(o){A.channelInterpretation=o},get context(){return A.context},get inputs(){return[]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get offset(){return A.gain},get onended(){return p.onended},set onended(o){p.onended=o},addEventListener(...o){return p.addEventListener(o[0],o[1],o[2])},dispatchEvent(...o){return p.dispatchEvent(o[0])},removeEventListener(...o){return p.removeEventListener(o[0],o[1],o[2])},start(o=0){p.start.call(p,o)},stop(o=0){p.stop.call(p,o)}},l=()=>p.connect(A),y=()=>p.disconnect(A);return N(r,p),a(interceptConnections(_,A),l,y)},createNativeConvolverNodeFactory=(N,u)=>(n,a)=>{const r=n.createConvolver();if(assignNativeAudioNodeOptions(r,a),a.disableNormalization===r.normalize&&(r.normalize=!a.disableNormalization),assignNativeAudioNodeOption(r,a,"buffer"),a.channelCount>2||(u(r,"channelCount",b=>()=>b.call(r),b=>h=>{if(h>2)throw N();return b.call(r,h)}),a.channelCountMode==="max"))throw N();return u(r,"channelCountMode",b=>()=>b.call(r),b=>h=>{if(h==="max")throw N();return b.call(r,h)}),r},createNativeDelayNode=(N,u)=>{const n=N.createDelay(u.maxDelayTime);return assignNativeAudioNodeOptions(n,u),assignNativeAudioNodeAudioParamValue(n,u,"delayTime"),n},createNativeDynamicsCompressorNodeFactory=N=>(u,n)=>{const a=u.createDynamicsCompressor();if(assignNativeAudioNodeOptions(a,n),n.channelCount>2||n.channelCountMode==="max")throw N();return assignNativeAudioNodeAudioParamValue(a,n,"attack"),assignNativeAudioNodeAudioParamValue(a,n,"knee"),assignNativeAudioNodeAudioParamValue(a,n,"ratio"),assignNativeAudioNodeAudioParamValue(a,n,"release"),assignNativeAudioNodeAudioParamValue(a,n,"threshold"),a},createNativeGainNode=(N,u)=>{const n=N.createGain();return assignNativeAudioNodeOptions(n,u),assignNativeAudioNodeAudioParamValue(n,u,"gain"),n},createNativeIIRFilterNodeFactory=N=>(u,n,a)=>{if(u.createIIRFilter===void 0)return N(u,n,a);const r=u.createIIRFilter(a.feedforward,a.feedback);return assignNativeAudioNodeOptions(r,a),r};function divide$1(N,u){const n=u[0]*u[0]+u[1]*u[1];return[(N[0]*u[0]+N[1]*u[1])/n,(N[1]*u[0]-N[0]*u[1])/n]}function multiply$1(N,u){return[N[0]*u[0]-N[1]*u[1],N[0]*u[1]+N[1]*u[0]]}function evaluatePolynomial(N,u){let n=[0,0];for(let a=N.length-1;a>=0;a-=1)n=multiply$1(n,u),n[0]+=N[a];return n}const createNativeIIRFilterNodeFakerFactory=(N,u,n,a)=>(r,b,{channelCount:h,channelCountMode:m,channelInterpretation:p,feedback:A,feedforward:S})=>{const _=computeBufferSize(b,r.sampleRate),l=A instanceof Float64Array?A:new Float64Array(A),y=S instanceof Float64Array?S:new Float64Array(S),o=l.length,f=y.length,x=Math.min(o,f);if(o===0||o>20)throw a();if(l[0]===0)throw u();if(f===0||f>20)throw a();if(y[0]===0)throw u();if(l[0]!==1){for(let M=0;M<f;M+=1)y[M]/=l[0];for(let M=1;M<o;M+=1)l[M]/=l[0]}const g=n(r,_,h,h);g.channelCount=h,g.channelCountMode=m,g.channelInterpretation=p;const D=32,E=[],C=[],T=[];for(let M=0;M<h;M+=1){E.push(0);const F=new Float32Array(D),B=new Float32Array(D);F.fill(0),B.fill(0),C.push(F),T.push(B)}g.onaudioprocess=M=>{const F=M.inputBuffer,B=M.outputBuffer,j=F.numberOfChannels;for(let L=0;L<j;L+=1){const R=F.getChannelData(L),V=B.getChannelData(L);E[L]=filterBuffer(l,o,y,f,x,C[L],T[L],E[L],D,R,V)}};const O=r.sampleRate/2;return interceptConnections({get bufferSize(){return _},get channelCount(){return g.channelCount},set channelCount(M){g.channelCount=M},get channelCountMode(){return g.channelCountMode},set channelCountMode(M){g.channelCountMode=M},get channelInterpretation(){return g.channelInterpretation},set channelInterpretation(M){g.channelInterpretation=M},get context(){return g.context},get inputs(){return[g]},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},addEventListener(...M){return g.addEventListener(M[0],M[1],M[2])},dispatchEvent(...M){return g.dispatchEvent(M[0])},getFrequencyResponse(M,F,B){if(M.length!==F.length||F.length!==B.length)throw N();const j=M.length;for(let L=0;L<j;L+=1){const R=-Math.PI*(M[L]/O),V=[Math.cos(R),Math.sin(R)],k=evaluatePolynomial(y,V),U=evaluatePolynomial(l,V),G=divide$1(k,U);F[L]=Math.sqrt(G[0]*G[0]+G[1]*G[1]),B[L]=Math.atan2(G[1],G[0])}},removeEventListener(...M){return g.removeEventListener(M[0],M[1],M[2])}},g)},createNativeMediaElementAudioSourceNode=(N,u)=>N.createMediaElementSource(u.mediaElement),createNativeMediaStreamAudioDestinationNode=(N,u)=>{const n=N.createMediaStreamDestination();return assignNativeAudioNodeOptions(n,u),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},createNativeMediaStreamAudioSourceNode=(N,{mediaStream:u})=>{const n=u.getAudioTracks();n.sort((b,h)=>b.id<h.id?-1:b.id>h.id?1:0);const a=n.slice(0,1),r=N.createMediaStreamSource(new MediaStream(a));return Object.defineProperty(r,"mediaStream",{value:u}),r},createNativeMediaStreamTrackAudioSourceNodeFactory=(N,u)=>(n,{mediaStreamTrack:a})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(a);const r=new MediaStream([a]),b=n.createMediaStreamSource(r);if(a.kind!=="audio")throw N();if(u(n))throw new TypeError;return b},createNativeOfflineAudioContextConstructor=N=>N===null?null:N.hasOwnProperty("OfflineAudioContext")?N.OfflineAudioContext:N.hasOwnProperty("webkitOfflineAudioContext")?N.webkitOfflineAudioContext:null,createNativeOscillatorNodeFactory=(N,u,n,a,r,b)=>(h,m)=>{const p=h.createOscillator();return assignNativeAudioNodeOptions(p,m),assignNativeAudioNodeAudioParamValue(p,m,"detune"),assignNativeAudioNodeAudioParamValue(p,m,"frequency"),m.periodicWave!==void 0?p.setPeriodicWave(m.periodicWave):assignNativeAudioNodeOption(p,m,"type"),u(n,()=>n(h))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(p),u(a,()=>a(h))||b(p,h),u(r,()=>r(h))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(p),N(h,p),p},createNativePannerNodeFactory=N=>(u,n)=>{const a=u.createPanner();return a.orientationX===void 0?N(u,n):(assignNativeAudioNodeOptions(a,n),assignNativeAudioNodeAudioParamValue(a,n,"orientationX"),assignNativeAudioNodeAudioParamValue(a,n,"orientationY"),assignNativeAudioNodeAudioParamValue(a,n,"orientationZ"),assignNativeAudioNodeAudioParamValue(a,n,"positionX"),assignNativeAudioNodeAudioParamValue(a,n,"positionY"),assignNativeAudioNodeAudioParamValue(a,n,"positionZ"),assignNativeAudioNodeOption(a,n,"coneInnerAngle"),assignNativeAudioNodeOption(a,n,"coneOuterAngle"),assignNativeAudioNodeOption(a,n,"coneOuterGain"),assignNativeAudioNodeOption(a,n,"distanceModel"),assignNativeAudioNodeOption(a,n,"maxDistance"),assignNativeAudioNodeOption(a,n,"panningModel"),assignNativeAudioNodeOption(a,n,"refDistance"),assignNativeAudioNodeOption(a,n,"rolloffFactor"),a)},createNativePannerNodeFakerFactory=(N,u,n,a,r,b,h,m,p,A)=>(S,{coneInnerAngle:_,coneOuterAngle:l,coneOuterGain:y,distanceModel:o,maxDistance:f,orientationX:x,orientationY:g,orientationZ:D,panningModel:E,positionX:C,positionY:T,positionZ:O,refDistance:I,rolloffFactor:M,...F})=>{const B=S.createPanner();if(F.channelCount>2||F.channelCountMode==="max")throw h();assignNativeAudioNodeOptions(B,F);const j={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},L=n(S,{...j,channelInterpretation:"speakers",numberOfInputs:6}),R=a(S,{...F,gain:1}),V=a(S,{...j,gain:1}),k=a(S,{...j,gain:0}),U=a(S,{...j,gain:0}),G=a(S,{...j,gain:0}),H=a(S,{...j,gain:0}),X=a(S,{...j,gain:0}),Z=r(S,256,6,1),J=b(S,{...j,curve:new Float32Array([1,1]),oversample:"none"});let ee=[x,g,D],$=[C,T,O];const W=new Float32Array(1);Z.onaudioprocess=({inputBuffer:oe})=>{const ue=[p(oe,W,0),p(oe,W,1),p(oe,W,2)];ue.some((le,fe)=>le!==ee[fe])&&(B.setOrientation(...ue),ee=ue);const we=[p(oe,W,3),p(oe,W,4),p(oe,W,5)];we.some((le,fe)=>le!==$[fe])&&(B.setPosition(...we),$=we)},Object.defineProperty(k.gain,"defaultValue",{get:()=>0}),Object.defineProperty(U.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(H.gain,"defaultValue",{get:()=>0}),Object.defineProperty(X.gain,"defaultValue",{get:()=>0});const Q={get bufferSize(){},get channelCount(){return B.channelCount},set channelCount(oe){if(oe>2)throw h();R.channelCount=oe,B.channelCount=oe},get channelCountMode(){return B.channelCountMode},set channelCountMode(oe){if(oe==="max")throw h();R.channelCountMode=oe,B.channelCountMode=oe},get channelInterpretation(){return B.channelInterpretation},set channelInterpretation(oe){R.channelInterpretation=oe,B.channelInterpretation=oe},get coneInnerAngle(){return B.coneInnerAngle},set coneInnerAngle(oe){B.coneInnerAngle=oe},get coneOuterAngle(){return B.coneOuterAngle},set coneOuterAngle(oe){B.coneOuterAngle=oe},get coneOuterGain(){return B.coneOuterGain},set coneOuterGain(oe){if(oe<0||oe>1)throw u();B.coneOuterGain=oe},get context(){return B.context},get distanceModel(){return B.distanceModel},set distanceModel(oe){B.distanceModel=oe},get inputs(){return[R]},get maxDistance(){return B.maxDistance},set maxDistance(oe){if(oe<0)throw new RangeError;B.maxDistance=oe},get numberOfInputs(){return B.numberOfInputs},get numberOfOutputs(){return B.numberOfOutputs},get orientationX(){return V.gain},get orientationY(){return k.gain},get orientationZ(){return U.gain},get panningModel(){return B.panningModel},set panningModel(oe){B.panningModel=oe},get positionX(){return G.gain},get positionY(){return H.gain},get positionZ(){return X.gain},get refDistance(){return B.refDistance},set refDistance(oe){if(oe<0)throw new RangeError;B.refDistance=oe},get rolloffFactor(){return B.rolloffFactor},set rolloffFactor(oe){if(oe<0)throw new RangeError;B.rolloffFactor=oe},addEventListener(...oe){return R.addEventListener(oe[0],oe[1],oe[2])},dispatchEvent(...oe){return R.dispatchEvent(oe[0])},removeEventListener(...oe){return R.removeEventListener(oe[0],oe[1],oe[2])}};_!==Q.coneInnerAngle&&(Q.coneInnerAngle=_),l!==Q.coneOuterAngle&&(Q.coneOuterAngle=l),y!==Q.coneOuterGain&&(Q.coneOuterGain=y),o!==Q.distanceModel&&(Q.distanceModel=o),f!==Q.maxDistance&&(Q.maxDistance=f),x!==Q.orientationX.value&&(Q.orientationX.value=x),g!==Q.orientationY.value&&(Q.orientationY.value=g),D!==Q.orientationZ.value&&(Q.orientationZ.value=D),E!==Q.panningModel&&(Q.panningModel=E),C!==Q.positionX.value&&(Q.positionX.value=C),T!==Q.positionY.value&&(Q.positionY.value=T),O!==Q.positionZ.value&&(Q.positionZ.value=O),I!==Q.refDistance&&(Q.refDistance=I),M!==Q.rolloffFactor&&(Q.rolloffFactor=M),(ee[0]!==1||ee[1]!==0||ee[2]!==0)&&B.setOrientation(...ee),($[0]!==0||$[1]!==0||$[2]!==0)&&B.setPosition(...$);const te=()=>{R.connect(B),N(R,J,0,0),J.connect(V).connect(L,0,0),J.connect(k).connect(L,0,1),J.connect(U).connect(L,0,2),J.connect(G).connect(L,0,3),J.connect(H).connect(L,0,4),J.connect(X).connect(L,0,5),L.connect(Z).connect(S.destination)},ce=()=>{R.disconnect(B),m(R,J,0,0),J.disconnect(V),V.disconnect(L),J.disconnect(k),k.disconnect(L),J.disconnect(U),U.disconnect(L),J.disconnect(G),G.disconnect(L),J.disconnect(H),H.disconnect(L),J.disconnect(X),X.disconnect(L),L.disconnect(Z),Z.disconnect(S.destination)};return A(interceptConnections(Q,B),te,ce)},createNativePeriodicWaveFactory=N=>(u,{disableNormalization:n,imag:a,real:r})=>{const b=a instanceof Float32Array?a:new Float32Array(a),h=r instanceof Float32Array?r:new Float32Array(r),m=u.createPeriodicWave(h,b,{disableNormalization:n});if(Array.from(a).length<2)throw N();return m},createNativeScriptProcessorNode=(N,u,n,a)=>N.createScriptProcessor(u,n,a),createNativeStereoPannerNodeFactory=(N,u)=>(n,a)=>{const r=a.channelCountMode;if(r==="clamped-max")throw u();if(n.createStereoPanner===void 0)return N(n,a);const b=n.createStereoPanner();return assignNativeAudioNodeOptions(b,a),assignNativeAudioNodeAudioParamValue(b,a,"pan"),Object.defineProperty(b,"channelCountMode",{get:()=>r,set:h=>{if(h!==r)throw u()}}),b},createNativeStereoPannerNodeFakerFactory=(N,u,n,a,r,b)=>{const m=new Float32Array([1,1]),p=Math.PI/2,A={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},S={...A,oversample:"none"},_=(o,f,x,g)=>{const D=new Float32Array(16385),E=new Float32Array(16385);for(let F=0;F<16385;F+=1){const B=F/16384*p;D[F]=Math.cos(B),E[F]=Math.sin(B)}const C=n(o,{...A,gain:0}),T=a(o,{...S,curve:D}),O=a(o,{...S,curve:m}),I=n(o,{...A,gain:0}),M=a(o,{...S,curve:E});return{connectGraph(){f.connect(C),f.connect(O.inputs===void 0?O:O.inputs[0]),f.connect(I),O.connect(x),x.connect(T.inputs===void 0?T:T.inputs[0]),x.connect(M.inputs===void 0?M:M.inputs[0]),T.connect(C.gain),M.connect(I.gain),C.connect(g,0,0),I.connect(g,0,1)},disconnectGraph(){f.disconnect(C),f.disconnect(O.inputs===void 0?O:O.inputs[0]),f.disconnect(I),O.disconnect(x),x.disconnect(T.inputs===void 0?T:T.inputs[0]),x.disconnect(M.inputs===void 0?M:M.inputs[0]),T.disconnect(C.gain),M.disconnect(I.gain),C.disconnect(g,0,0),I.disconnect(g,0,1)}}},l=(o,f,x,g)=>{const D=new Float32Array(16385),E=new Float32Array(16385),C=new Float32Array(16385),T=new Float32Array(16385),O=Math.floor(16385/2);for(let G=0;G<16385;G+=1)if(G>O){const H=(G-O)/(16384-O)*p;D[G]=Math.cos(H),E[G]=Math.sin(H),C[G]=0,T[G]=1}else{const H=G/(16384-O)*p;D[G]=1,E[G]=0,C[G]=Math.cos(H),T[G]=Math.sin(H)}const I=u(o,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),M=n(o,{...A,gain:0}),F=a(o,{...S,curve:D}),B=n(o,{...A,gain:0}),j=a(o,{...S,curve:E}),L=a(o,{...S,curve:m}),R=n(o,{...A,gain:0}),V=a(o,{...S,curve:C}),k=n(o,{...A,gain:0}),U=a(o,{...S,curve:T});return{connectGraph(){f.connect(I),f.connect(L.inputs===void 0?L:L.inputs[0]),I.connect(M,0),I.connect(B,0),I.connect(R,1),I.connect(k,1),L.connect(x),x.connect(F.inputs===void 0?F:F.inputs[0]),x.connect(j.inputs===void 0?j:j.inputs[0]),x.connect(V.inputs===void 0?V:V.inputs[0]),x.connect(U.inputs===void 0?U:U.inputs[0]),F.connect(M.gain),j.connect(B.gain),V.connect(R.gain),U.connect(k.gain),M.connect(g,0,0),R.connect(g,0,0),B.connect(g,0,1),k.connect(g,0,1)},disconnectGraph(){f.disconnect(I),f.disconnect(L.inputs===void 0?L:L.inputs[0]),I.disconnect(M,0),I.disconnect(B,0),I.disconnect(R,1),I.disconnect(k,1),L.disconnect(x),x.disconnect(F.inputs===void 0?F:F.inputs[0]),x.disconnect(j.inputs===void 0?j:j.inputs[0]),x.disconnect(V.inputs===void 0?V:V.inputs[0]),x.disconnect(U.inputs===void 0?U:U.inputs[0]),F.disconnect(M.gain),j.disconnect(B.gain),V.disconnect(R.gain),U.disconnect(k.gain),M.disconnect(g,0,0),R.disconnect(g,0,0),B.disconnect(g,0,1),k.disconnect(g,0,1)}}},y=(o,f,x,g,D)=>{if(f===1)return _(o,x,g,D);if(f===2)return l(o,x,g,D);throw r()};return(o,{channelCount:f,channelCountMode:x,pan:g,...D})=>{if(x==="max")throw r();const E=N(o,{...D,channelCount:1,channelCountMode:x,numberOfInputs:2}),C=n(o,{...D,channelCount:f,channelCountMode:x,gain:1}),T=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:g});let{connectGraph:O,disconnectGraph:I}=y(o,f,C,T,E);Object.defineProperty(T.gain,"defaultValue",{get:()=>0}),Object.defineProperty(T.gain,"maxValue",{get:()=>1}),Object.defineProperty(T.gain,"minValue",{get:()=>-1});const M={get bufferSize(){},get channelCount(){return C.channelCount},set channelCount(L){C.channelCount!==L&&(F&&I(),{connectGraph:O,disconnectGraph:I}=y(o,L,C,T,E),F&&O()),C.channelCount=L},get channelCountMode(){return C.channelCountMode},set channelCountMode(L){if(L==="clamped-max"||L==="max")throw r();C.channelCountMode=L},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(L){C.channelInterpretation=L},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},get pan(){return T.gain},addEventListener(...L){return C.addEventListener(L[0],L[1],L[2])},dispatchEvent(...L){return C.dispatchEvent(L[0])},removeEventListener(...L){return C.removeEventListener(L[0],L[1],L[2])}};let F=!1;const B=()=>{O(),F=!0},j=()=>{I(),F=!1};return b(interceptConnections(M,E),B,j)}},createNativeWaveShaperNodeFactory=(N,u,n,a,r,b,h)=>(m,p)=>{const A=m.createWaveShaper();if(b!==null&&b.name==="webkitAudioContext"&&m.createGain().gain.automationRate===void 0)return n(m,p);assignNativeAudioNodeOptions(A,p);const S=p.curve===null||p.curve instanceof Float32Array?p.curve:new Float32Array(p.curve);if(S!==null&&S.length<2)throw u();assignNativeAudioNodeOption(A,{curve:S},"curve"),assignNativeAudioNodeOption(A,p,"oversample");let _=null,l=!1;return h(A,"curve",f=>()=>f.call(A),f=>x=>(f.call(A,x),l&&(a(x)&&_===null?_=N(m,A):!a(x)&&_!==null&&(_(),_=null)),x)),r(A,()=>{l=!0,a(A.curve)&&(_=N(m,A))},()=>{l=!1,_!==null&&(_(),_=null)})},createNativeWaveShaperNodeFakerFactory=(N,u,n,a,r)=>(b,{curve:h,oversample:m,...p})=>{const A=b.createWaveShaper(),S=b.createWaveShaper();assignNativeAudioNodeOptions(A,p),assignNativeAudioNodeOptions(S,p);const _=n(b,{...p,gain:1}),l=n(b,{...p,gain:-1}),y=n(b,{...p,gain:1}),o=n(b,{...p,gain:-1});let f=null,x=!1,g=null;const D={get bufferSize(){},get channelCount(){return A.channelCount},set channelCount(T){_.channelCount=T,l.channelCount=T,A.channelCount=T,y.channelCount=T,S.channelCount=T,o.channelCount=T},get channelCountMode(){return A.channelCountMode},set channelCountMode(T){_.channelCountMode=T,l.channelCountMode=T,A.channelCountMode=T,y.channelCountMode=T,S.channelCountMode=T,o.channelCountMode=T},get channelInterpretation(){return A.channelInterpretation},set channelInterpretation(T){_.channelInterpretation=T,l.channelInterpretation=T,A.channelInterpretation=T,y.channelInterpretation=T,S.channelInterpretation=T,o.channelInterpretation=T},get context(){return A.context},get curve(){return g},set curve(T){if(T!==null&&T.length<2)throw u();if(T===null)A.curve=T,S.curve=T;else{const O=T.length,I=new Float32Array(O+2-O%2),M=new Float32Array(O+2-O%2);I[0]=T[0],M[0]=-T[O-1];const F=Math.ceil((O+1)/2),B=(O+1)/2-1;for(let j=1;j<F;j+=1){const L=j/F*B,R=Math.floor(L),V=Math.ceil(L);I[j]=R===V?T[R]:(1-(L-R))*T[R]+(1-(V-L))*T[V],M[j]=R===V?-T[O-1-R]:-((1-(L-R))*T[O-1-R])-(1-(V-L))*T[O-1-V]}I[F]=O%2===1?T[F-1]:(T[F-2]+T[F-1])/2,A.curve=I,S.curve=M}g=T,x&&(a(g)&&f===null?f=N(b,_):f!==null&&(f(),f=null))},get inputs(){return[_]},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get oversample(){return A.oversample},set oversample(T){A.oversample=T,S.oversample=T},addEventListener(...T){return _.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return _.dispatchEvent(T[0])},removeEventListener(...T){return _.removeEventListener(T[0],T[1],T[2])}};h!==null&&(D.curve=h instanceof Float32Array?h:new Float32Array(h)),m!==D.oversample&&(D.oversample=m);const E=()=>{_.connect(A).connect(y),_.connect(l).connect(S).connect(o).connect(y),x=!0,a(g)&&(f=N(b,_))},C=()=>{_.disconnect(A),A.disconnect(y),_.disconnect(l),l.disconnect(S),S.disconnect(o),o.disconnect(y),x=!1,f!==null&&(f(),f=null)};return r(interceptConnections(D,y),E,C)},createNotSupportedError=()=>new DOMException("","NotSupportedError"),DEFAULT_OPTIONS$5={numberOfChannels:1},createOfflineAudioContextConstructor=(N,u,n,a,r)=>class extends N{constructor(h,m,p){let A;if(typeof h=="number"&&m!==void 0&&p!==void 0)A={length:m,numberOfChannels:h,sampleRate:p};else if(typeof h=="object")A=h;else throw new Error("The given parameters are not valid.");const{length:S,numberOfChannels:_,sampleRate:l}={...DEFAULT_OPTIONS$5,...A},y=a(_,S,l);u(testPromiseSupport,()=>testPromiseSupport(y))||y.addEventListener("statechange",(()=>{let o=0;const f=x=>{this._state==="running"&&(o>0?(y.removeEventListener("statechange",f),x.stopImmediatePropagation(),this._waitForThePromiseToSettle(x)):o+=1)};return f})()),super(y,_),this._length=S,this._nativeOfflineAudioContext=y,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,deactivateAudioGraph(this)}))}_waitForThePromiseToSettle(h){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(h):setTimeout(()=>this._waitForThePromiseToSettle(h))}},DEFAULT_OPTIONS$4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},createOscillatorNodeConstructor=(N,u,n,a,r,b,h)=>class extends N{constructor(p,A){const S=r(p),_={...DEFAULT_OPTIONS$4,...A},l=n(S,_),y=b(S),o=y?a():null,f=p.sampleRate/2;super(p,!1,l,o),this._detune=u(this,y,l.detune,153600,-153600),this._frequency=u(this,y,l.frequency,f,-f),this._nativeOscillatorNode=l,this._onended=null,this._oscillatorNodeRenderer=o,this._oscillatorNodeRenderer!==null&&_.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=_.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(p){const A=typeof p=="function"?h(this,p):null;this._nativeOscillatorNode.onended=A;const S=this._nativeOscillatorNode.onended;this._onended=S!==null&&S===A?p:S}get type(){return this._nativeOscillatorNode.type}set type(p){this._nativeOscillatorNode.type=p,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(p){this._nativeOscillatorNode.setPeriodicWave(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=p)}start(p=0){if(this._nativeOscillatorNode.start(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=p),this.context.state!=="closed"){setInternalStateToActive(this);const A=()=>{this._nativeOscillatorNode.removeEventListener("ended",A),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeOscillatorNode.addEventListener("ended",A)}}stop(p=0){this._nativeOscillatorNode.stop(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=p)}},createOscillatorNodeRendererFactory=(N,u,n,a,r)=>()=>{const b=new WeakMap;let h=null,m=null,p=null;const A=async(S,_)=>{let l=n(S);const y=isOwnedByContext(l,_);if(!y){const o={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,periodicWave:h===null?void 0:h,type:l.type};l=u(_,o),m!==null&&l.start(m),p!==null&&l.stop(p)}return b.set(_,l),y?(await N(_,S.detune,l.detune),await N(_,S.frequency,l.frequency)):(await a(_,S.detune,l.detune),await a(_,S.frequency,l.frequency)),await r(S,_,l),l};return{set periodicWave(S){h=S},set start(S){m=S},set stop(S){p=S},render(S,_){const l=b.get(_);return l!==void 0?Promise.resolve(l):A(S,_)}}},DEFAULT_OPTIONS$3={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},createPannerNodeConstructor=(N,u,n,a,r,b,h)=>class extends N{constructor(p,A){const S=r(p),_={...DEFAULT_OPTIONS$3,...A},l=n(S,_),y=b(S),o=y?a():null;super(p,!1,l,o),this._nativePannerNode=l,this._orientationX=u(this,y,l.orientationX,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._orientationY=u(this,y,l.orientationY,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._orientationZ=u(this,y,l.orientationZ,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionX=u(this,y,l.positionX,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionY=u(this,y,l.positionY,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionZ=u(this,y,l.positionZ,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),h(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(p){this._nativePannerNode.coneInnerAngle=p}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(p){this._nativePannerNode.coneOuterAngle=p}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(p){this._nativePannerNode.coneOuterGain=p}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(p){this._nativePannerNode.distanceModel=p}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(p){this._nativePannerNode.maxDistance=p}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(p){this._nativePannerNode.panningModel=p}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(p){this._nativePannerNode.refDistance=p}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(p){this._nativePannerNode.rolloffFactor=p}},createPannerNodeRendererFactory=(N,u,n,a,r,b,h,m,p,A)=>()=>{const S=new WeakMap;let _=null;const l=async(y,o)=>{let f=null,x=b(y);const g={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation},D={...g,coneInnerAngle:x.coneInnerAngle,coneOuterAngle:x.coneOuterAngle,coneOuterGain:x.coneOuterGain,distanceModel:x.distanceModel,maxDistance:x.maxDistance,panningModel:x.panningModel,refDistance:x.refDistance,rolloffFactor:x.rolloffFactor},E=isOwnedByContext(x,o);if("bufferSize"in x)f=a(o,{...g,gain:1});else if(!E){const C={...D,orientationX:x.orientationX.value,orientationY:x.orientationY.value,orientationZ:x.orientationZ.value,positionX:x.positionX.value,positionY:x.positionY.value,positionZ:x.positionZ.value};x=r(o,C)}if(S.set(o,f===null?x:f),f!==null){if(_===null){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const j=new h(6,y.context.length,o.sampleRate),L=u(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});L.connect(j.destination),_=(async()=>{const R=await Promise.all([y.orientationX,y.orientationY,y.orientationZ,y.positionX,y.positionY,y.positionZ].map(async(V,k)=>{const U=n(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:k===0?1:0});return await m(j,V,U.offset),U}));for(let V=0;V<6;V+=1)R[V].connect(L,0,V),R[V].start(0);return A(j)})()}const C=await _,T=a(o,{...g,gain:1});await p(y,o,T);const O=[];for(let j=0;j<C.numberOfChannels;j+=1)O.push(C.getChannelData(j));let I=[O[0][0],O[1][0],O[2][0]],M=[O[3][0],O[4][0],O[5][0]],F=a(o,{...g,gain:1}),B=r(o,{...D,orientationX:I[0],orientationY:I[1],orientationZ:I[2],positionX:M[0],positionY:M[1],positionZ:M[2]});T.connect(F).connect(B.inputs[0]),B.connect(f);for(let j=128;j<C.length;j+=128){const L=[O[0][j],O[1][j],O[2][j]],R=[O[3][j],O[4][j],O[5][j]];if(L.some((V,k)=>V!==I[k])||R.some((V,k)=>V!==M[k])){I=L,M=R;const V=j/o.sampleRate;F.gain.setValueAtTime(0,V),F=a(o,{...g,gain:0}),B=r(o,{...D,orientationX:I[0],orientationY:I[1],orientationZ:I[2],positionX:M[0],positionY:M[1],positionZ:M[2]}),F.gain.setValueAtTime(1,V),T.connect(F).connect(B.inputs[0]),B.connect(f)}}return f}return E?(await N(o,y.orientationX,x.orientationX),await N(o,y.orientationY,x.orientationY),await N(o,y.orientationZ,x.orientationZ),await N(o,y.positionX,x.positionX),await N(o,y.positionY,x.positionY),await N(o,y.positionZ,x.positionZ)):(await m(o,y.orientationX,x.orientationX),await m(o,y.orientationY,x.orientationY),await m(o,y.orientationZ,x.orientationZ),await m(o,y.positionX,x.positionX),await m(o,y.positionY,x.positionY),await m(o,y.positionZ,x.positionZ)),isNativeAudioNodeFaker(x)?await p(y,o,x.inputs[0]):await p(y,o,x),x};return{render(y,o){const f=S.get(o);return f!==void 0?Promise.resolve(f):l(y,o)}}},DEFAULT_OPTIONS$2={disableNormalization:!1},createPeriodicWaveConstructor=(N,u,n,a)=>class La{constructor(b,h){const m=u(b),p=a({...DEFAULT_OPTIONS$2,...h}),A=N(m,p);return n.add(A),A}static[Symbol.hasInstance](b){return b!==null&&typeof b=="object"&&Object.getPrototypeOf(b)===La.prototype||n.has(b)}},createRenderAutomation=(N,u)=>(n,a,r)=>(N(a).replay(r),u(a,n,r)),createRenderInputsOfAudioNode=(N,u,n)=>async(a,r,b)=>{const h=N(a);await Promise.all(h.activeInputs.map((m,p)=>Array.from(m).map(async([A,S])=>{const l=await u(A).render(A,r),y=a.context.destination;!n(A)&&(a!==y||!n(a))&&l.connect(b,S,p)})).reduce((m,p)=>[...m,...p],[]))},createRenderInputsOfAudioParam=(N,u,n)=>async(a,r,b)=>{const h=u(a);await Promise.all(Array.from(h.activeInputs).map(async([m,p])=>{const S=await N(m).render(m,r);n(m)||S.connect(b,p)}))},createRenderNativeOfflineAudioContext=(N,u,n,a)=>r=>N(testPromiseSupport,()=>testPromiseSupport(r))?Promise.resolve(N(a,a)).then(b=>{if(!b){const h=n(r,512,0,1);r.oncomplete=()=>{h.onaudioprocess=null,h.disconnect()},h.onaudioprocess=()=>r.currentTime,h.connect(r.destination)}return r.startRendering()}):new Promise(b=>{const h=u(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=m=>{h.disconnect(),b(m.renderedBuffer)},h.connect(r.destination),r.startRendering()}),createSetActiveAudioWorkletNodeInputs=N=>(u,n)=>{N.set(u,n)},createSetAudioNodeTailTime=N=>(u,n)=>N.set(u,n),createStartRendering=(N,u,n,a,r,b,h,m)=>(p,A)=>n(p).render(p,A).then(()=>Promise.all(Array.from(a(A)).map(S=>n(S).render(S,A)))).then(()=>r(A)).then(S=>(typeof S.copyFromChannel!="function"?(h(S),wrapAudioBufferGetChannelDataMethod(S)):u(b,()=>b(S))||m(S),N.add(S),S)),DEFAULT_OPTIONS$1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},createStereoPannerNodeConstructor=(N,u,n,a,r,b)=>class extends N{constructor(m,p){const A=r(m),S={...DEFAULT_OPTIONS$1,...p},_=n(A,S),l=b(A),y=l?a():null;super(m,!1,_,y),this._pan=u(this,l,_.pan)}get pan(){return this._pan}},createStereoPannerNodeRendererFactory=(N,u,n,a,r)=>()=>{const b=new WeakMap,h=async(m,p)=>{let A=n(m);const S=isOwnedByContext(A,p);if(!S){const _={channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation,pan:A.pan.value};A=u(p,_)}return b.set(p,A),S?await N(p,m.pan,A.pan):await a(p,m.pan,A.pan),isNativeAudioNodeFaker(A)?await r(m,p,A.inputs[0]):await r(m,p,A),A};return{render(m,p){const A=b.get(p);return A!==void 0?Promise.resolve(A):h(m,p)}}},createTestAudioBufferConstructorSupport=N=>()=>{if(N===null)return!1;try{new N({length:1,sampleRate:44100})}catch{return!1}return!0},createTestAudioWorkletProcessorPostMessageSupport=(N,u)=>async()=>{if(N===null)return!0;if(u===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),a=new u(1,128,44100),r=URL.createObjectURL(n);let b=!1,h=!1;try{await a.audioWorklet.addModule(r);const m=new N(a,"a",{numberOfOutputs:0}),p=a.createOscillator();m.port.onmessage=()=>b=!0,m.onprocessorerror=()=>h=!0,p.connect(m),p.start(0),await a.startRendering(),await new Promise(A=>setTimeout(A))}catch{}finally{URL.revokeObjectURL(r)}return b&&!h},createTestOfflineAudioContextCurrentTimeSupport=(N,u)=>()=>{if(u===null)return Promise.resolve(!1);const n=new u(1,1,44100),a=N(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{n.oncomplete=()=>{a.disconnect(),r(n.currentTime!==0)},n.startRendering()})},createUnknownError=()=>new DOMException("","UnknownError"),DEFAULT_OPTIONS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},createWaveShaperNodeConstructor=(N,u,n,a,r,b,h)=>class extends N{constructor(p,A){const S=r(p),_={...DEFAULT_OPTIONS,...A},l=n(S,_),o=b(S)?a():null;super(p,!0,l,o),this._isCurveNullified=!1,this._nativeWaveShaperNode=l,h(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(p){if(p===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(p.length<2)throw u();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=p}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(p){this._nativeWaveShaperNode.oversample=p}},createWaveShaperNodeRendererFactory=(N,u,n)=>()=>{const a=new WeakMap,r=async(b,h)=>{let m=u(b);if(!isOwnedByContext(m,h)){const A={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,curve:m.curve,oversample:m.oversample};m=N(h,A)}return a.set(h,m),isNativeAudioNodeFaker(m)?await n(b,h,m.inputs[0]):await n(b,h,m),m};return{render(b,h){const m=a.get(h);return m!==void 0?Promise.resolve(m):r(b,h)}}},createWindow=()=>typeof window>"u"?null:window,createWrapAudioBufferCopyChannelMethods=(N,u)=>n=>{n.copyFromChannel=(a,r,b=0)=>{const h=N(b),m=N(r);if(m>=n.numberOfChannels)throw u();const p=n.length,A=n.getChannelData(m),S=a.length;for(let _=h<0?-h:0;_+h<p&&_<S;_+=1)a[_]=A[_+h]},n.copyToChannel=(a,r,b=0)=>{const h=N(b),m=N(r);if(m>=n.numberOfChannels)throw u();const p=n.length,A=n.getChannelData(m),S=a.length;for(let _=h<0?-h:0;_+h<p&&_<S;_+=1)A[_+h]=a[_]}},createWrapAudioBufferCopyChannelMethodsOutOfBounds=N=>u=>{u.copyFromChannel=(n=>(a,r,b=0)=>{const h=N(b),m=N(r);if(h<u.length)return n.call(u,a,m,h)})(u.copyFromChannel),u.copyToChannel=(n=>(a,r,b=0)=>{const h=N(b),m=N(r);if(h<u.length)return n.call(u,a,m,h)})(u.copyToChannel)},createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer=N=>(u,n)=>{const a=n.createBuffer(1,1,44100);u.buffer===null&&(u.buffer=a),N(u,"buffer",r=>()=>{const b=r.call(u);return b===a?null:b},r=>b=>r.call(u,b===null?a:b))},createWrapChannelMergerNode=(N,u)=>(n,a)=>{a.channelCount=1,a.channelCountMode="explicit",Object.defineProperty(a,"channelCount",{get:()=>1,set:()=>{throw N()}}),Object.defineProperty(a,"channelCountMode",{get:()=>"explicit",set:()=>{throw N()}});const r=n.createBufferSource();u(a,()=>{const m=a.numberOfInputs;for(let p=0;p<m;p+=1)r.connect(a,0,p)},()=>r.disconnect(a))},getFirstSample=(N,u,n)=>N.copyFromChannel===void 0?N.getChannelData(n)[0]:(N.copyFromChannel(u,n),u[0]),isDCCurve=N=>{if(N===null)return!1;const u=N.length;return u%2!==0?N[Math.floor(u/2)]!==0:N[u/2-1]+N[u/2]!==0},overwriteAccessors=(N,u,n,a)=>{let r=N;for(;!r.hasOwnProperty(u);)r=Object.getPrototypeOf(r);const{get:b,set:h}=Object.getOwnPropertyDescriptor(r,u);Object.defineProperty(N,u,{get:n(b),set:a(h)})},sanitizeAudioWorkletNodeOptions=N=>({...N,outputChannelCount:N.outputChannelCount!==void 0?N.outputChannelCount:N.numberOfInputs===1&&N.numberOfOutputs===1?[N.channelCount]:Array.from({length:N.numberOfOutputs},()=>1)}),sanitizeChannelSplitterOptions=N=>({...N,channelCount:N.numberOfOutputs}),sanitizePeriodicWaveOptions=N=>{const{imag:u,real:n}=N;return u===void 0?n===void 0?{...N,imag:[0,0],real:[0,0]}:{...N,imag:Array.from(n,()=>0),real:n}:n===void 0?{...N,imag:u,real:Array.from(u,()=>0)}:{...N,imag:u,real:n}},setValueAtTimeUntilPossible=(N,u,n)=>{try{N.setValueAtTime(u,n)}catch(a){if(a.code!==9)throw a;setValueAtTimeUntilPossible(N,u,n+1e-7)}},testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport=N=>{const u=N.createBufferSource();u.start();try{u.start()}catch{return!0}return!1},testAudioBufferSourceNodeStartMethodOffsetClampingSupport=N=>{const u=N.createBufferSource(),n=N.createBuffer(1,1,44100);u.buffer=n;try{u.start(0,1)}catch{return!1}return!0},testAudioBufferSourceNodeStopMethodNullifiedBufferSupport=N=>{const u=N.createBufferSource();u.start();try{u.stop()}catch{return!1}return!0},testAudioScheduledSourceNodeStartMethodNegativeParametersSupport=N=>{const u=N.createOscillator();try{u.start(-1)}catch(n){return n instanceof RangeError}return!1},testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport=N=>{const u=N.createBuffer(1,1,44100),n=N.createBufferSource();n.buffer=u,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},testAudioScheduledSourceNodeStopMethodNegativeParametersSupport=N=>{const u=N.createOscillator();try{u.stop(-1)}catch(n){return n instanceof RangeError}return!1},testAudioWorkletNodeOptionsClonability=N=>{const{port1:u,port2:n}=new MessageChannel;try{u.postMessage(N)}finally{u.close(),n.close()}},wrapAudioBufferSourceNodeStartMethodOffsetClamping=N=>{N.start=(u=>(n=0,a=0,r)=>{const b=N.buffer,h=b===null?a:Math.min(b.duration,a);b!==null&&h>b.duration-.5/N.context.sampleRate?u.call(N,n,0,0):u.call(N,n,h,r)})(N.start)},wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls=(N,u)=>{const n=u.createGain();N.connect(n);const a=(r=>()=>{r.call(N,n),N.removeEventListener("ended",a)})(N.disconnect);N.addEventListener("ended",a),interceptConnections(N,n),N.stop=(r=>{let b=!1;return(h=0)=>{if(b)try{r.call(N,h)}catch{n.gain.setValueAtTime(0,h)}else r.call(N,h),b=!0}})(N.stop)},wrapEventListener=(N,u)=>n=>{const a={value:N};return Object.defineProperties(n,{currentTarget:a,target:a}),typeof u=="function"?u.call(N,n):u.handleEvent.call(N,n)},addActiveInputConnectionToAudioNode=createAddActiveInputConnectionToAudioNode(insertElementInSet),addPassiveInputConnectionToAudioNode=createAddPassiveInputConnectionToAudioNode(insertElementInSet),deleteActiveInputConnectionToAudioNode=createDeleteActiveInputConnectionToAudioNode(pickElementFromSet),audioNodeTailTimeStore=new WeakMap,getAudioNodeTailTime=createGetAudioNodeTailTime(audioNodeTailTimeStore),cacheTestResult=createCacheTestResult(new Map,new WeakMap),window$1=createWindow(),createNativeAnalyserNode=createNativeAnalyserNodeFactory(cacheTestResult,createIndexSizeError),getAudioNodeRenderer=createGetAudioNodeRenderer(getAudioNodeConnections),renderInputsOfAudioNode=createRenderInputsOfAudioNode(getAudioNodeConnections,getAudioNodeRenderer,isPartOfACycle),createAnalyserNodeRenderer=createAnalyserNodeRendererFactory(createNativeAnalyserNode,getNativeAudioNode,renderInputsOfAudioNode),getNativeContext=createGetNativeContext(CONTEXT_STORE),nativeOfflineAudioContextConstructor=createNativeOfflineAudioContextConstructor(window$1),isNativeOfflineAudioContext=createIsNativeOfflineAudioContext(nativeOfflineAudioContextConstructor),audioParamAudioNodeStore=new WeakMap,eventTargetConstructor=createEventTargetConstructor(wrapEventListener),nativeAudioContextConstructor=createNativeAudioContextConstructor(window$1),isNativeAudioContext=createIsNativeAudioContext(nativeAudioContextConstructor),isNativeAudioNode=createIsNativeAudioNode(window$1),isNativeAudioParam=createIsNativeAudioParam(window$1),nativeAudioWorkletNodeConstructor=createNativeAudioWorkletNodeConstructor(window$1),audioNodeConstructor=createAudioNodeConstructor(createAddAudioNodeConnections(AUDIO_NODE_CONNECTIONS_STORE),createAddConnectionToAudioNode(addActiveInputConnectionToAudioNode,addPassiveInputConnectionToAudioNode,connectNativeAudioNodeToNativeAudioNode,deleteActiveInputConnectionToAudioNode,disconnectNativeAudioNodeFromNativeAudioNode,getAudioNodeConnections,getAudioNodeTailTime,getEventListenersOfAudioNode,getNativeAudioNode,insertElementInSet,isActiveAudioNode,isPartOfACycle,isPassiveAudioNode),cacheTestResult,createIncrementCycleCounterFactory(CYCLE_COUNTERS,disconnectNativeAudioNodeFromNativeAudioNode,getAudioNodeConnections,getNativeAudioNode,getNativeAudioParam,isActiveAudioNode),createIndexSizeError,createInvalidAccessError,createNotSupportedError,createDecrementCycleCounter(connectNativeAudioNodeToNativeAudioNode,CYCLE_COUNTERS,getAudioNodeConnections,getNativeAudioNode,getNativeAudioParam,getNativeContext,isActiveAudioNode,isNativeOfflineAudioContext),createDetectCycles(audioParamAudioNodeStore,getAudioNodeConnections,getValueForKey),eventTargetConstructor,getNativeContext,isNativeAudioContext,isNativeAudioNode,isNativeAudioParam,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor),analyserNodeConstructor=createAnalyserNodeConstructor(audioNodeConstructor,createAnalyserNodeRenderer,createIndexSizeError,createNativeAnalyserNode,getNativeContext,isNativeOfflineAudioContext),audioBufferStore=new WeakSet,nativeAudioBufferConstructor=createNativeAudioBufferConstructor(window$1),convertNumberToUnsignedLong=createConvertNumberToUnsignedLong(new Uint32Array(1)),wrapAudioBufferCopyChannelMethods=createWrapAudioBufferCopyChannelMethods(convertNumberToUnsignedLong,createIndexSizeError),wrapAudioBufferCopyChannelMethodsOutOfBounds=createWrapAudioBufferCopyChannelMethodsOutOfBounds(convertNumberToUnsignedLong),audioBufferConstructor=createAudioBufferConstructor(audioBufferStore,cacheTestResult,createNotSupportedError,nativeAudioBufferConstructor,nativeOfflineAudioContextConstructor,createTestAudioBufferConstructorSupport(nativeAudioBufferConstructor),wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),addSilentConnection=createAddSilentConnection(createNativeGainNode),renderInputsOfAudioParam=createRenderInputsOfAudioParam(getAudioNodeRenderer,getAudioParamConnections,isPartOfACycle),connectAudioParam=createConnectAudioParam(renderInputsOfAudioParam),createNativeAudioBufferSourceNode=createNativeAudioBufferSourceNodeFactory(addSilentConnection,cacheTestResult,testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport,testAudioBufferSourceNodeStartMethodOffsetClampingSupport,testAudioBufferSourceNodeStopMethodNullifiedBufferSupport,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,wrapAudioBufferSourceNodeStartMethodOffsetClamping,createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer(overwriteAccessors),wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls),renderAutomation=createRenderAutomation(createGetAudioParamRenderer(getAudioParamConnections),renderInputsOfAudioParam),createAudioBufferSourceNodeRenderer=createAudioBufferSourceNodeRendererFactory(connectAudioParam,createNativeAudioBufferSourceNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),createAudioParam=createAudioParamFactory(createAddAudioParamConnections(AUDIO_PARAM_CONNECTIONS_STORE),audioParamAudioNodeStore,AUDIO_PARAM_STORE,createAudioParamRenderer,createCancelAndHoldAutomationEvent,createCancelScheduledValuesAutomationEvent,createExponentialRampToValueAutomationEvent,createLinearRampToValueAutomationEvent,createSetTargetAutomationEvent,createSetValueAutomationEvent,createSetValueCurveAutomationEvent,nativeAudioContextConstructor,setValueAtTimeUntilPossible),audioBufferSourceNodeConstructor=createAudioBufferSourceNodeConstructor(audioNodeConstructor,createAudioBufferSourceNodeRenderer,createAudioParam,createInvalidStateError,createNativeAudioBufferSourceNode,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),audioDestinationNodeConstructor=createAudioDestinationNodeConstructor(audioNodeConstructor,createAudioDestinationNodeRenderer,createIndexSizeError,createInvalidStateError,createNativeAudioDestinationNodeFactory(createNativeGainNode,overwriteAccessors),getNativeContext,isNativeOfflineAudioContext,renderInputsOfAudioNode),createBiquadFilterNodeRenderer=createBiquadFilterNodeRendererFactory(connectAudioParam,createNativeBiquadFilterNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),setAudioNodeTailTime=createSetAudioNodeTailTime(audioNodeTailTimeStore),biquadFilterNodeConstructor=createBiquadFilterNodeConstructor(audioNodeConstructor,createAudioParam,createBiquadFilterNodeRenderer,createInvalidAccessError,createNativeBiquadFilterNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),monitorConnections=createMonitorConnections(insertElementInSet,isNativeAudioNode),wrapChannelMergerNode=createWrapChannelMergerNode(createInvalidStateError,monitorConnections),createNativeChannelMergerNode=createNativeChannelMergerNodeFactory(nativeAudioContextConstructor,wrapChannelMergerNode),createChannelMergerNodeRenderer=createChannelMergerNodeRendererFactory(createNativeChannelMergerNode,getNativeAudioNode,renderInputsOfAudioNode),channelMergerNodeConstructor=createChannelMergerNodeConstructor(audioNodeConstructor,createChannelMergerNodeRenderer,createNativeChannelMergerNode,getNativeContext,isNativeOfflineAudioContext),createChannelSplitterNodeRenderer=createChannelSplitterNodeRendererFactory(createNativeChannelSplitterNode,getNativeAudioNode,renderInputsOfAudioNode),channelSplitterNodeConstructor=createChannelSplitterNodeConstructor(audioNodeConstructor,createChannelSplitterNodeRenderer,createNativeChannelSplitterNode,getNativeContext,isNativeOfflineAudioContext,sanitizeChannelSplitterOptions),createNativeConstantSourceNodeFaker=createNativeConstantSourceNodeFakerFactory(addSilentConnection,createNativeAudioBufferSourceNode,createNativeGainNode,monitorConnections),createNativeConstantSourceNode=createNativeConstantSourceNodeFactory(addSilentConnection,cacheTestResult,createNativeConstantSourceNodeFaker,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport),createConstantSourceNodeRenderer=createConstantSourceNodeRendererFactory(connectAudioParam,createNativeConstantSourceNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),constantSourceNodeConstructor=createConstantSourceNodeConstructor(audioNodeConstructor,createAudioParam,createConstantSourceNodeRenderer,createNativeConstantSourceNode,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),createNativeConvolverNode=createNativeConvolverNodeFactory(createNotSupportedError,overwriteAccessors),createConvolverNodeRenderer=createConvolverNodeRendererFactory(createNativeConvolverNode,getNativeAudioNode,renderInputsOfAudioNode),convolverNodeConstructor=createConvolverNodeConstructor(audioNodeConstructor,createConvolverNodeRenderer,createNativeConvolverNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createDelayNodeRenderer=createDelayNodeRendererFactory(connectAudioParam,createNativeDelayNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),delayNodeConstructor=createDelayNodeConstructor(audioNodeConstructor,createAudioParam,createDelayNodeRenderer,createNativeDelayNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createNativeDynamicsCompressorNode=createNativeDynamicsCompressorNodeFactory(createNotSupportedError),createDynamicsCompressorNodeRenderer=createDynamicsCompressorNodeRendererFactory(connectAudioParam,createNativeDynamicsCompressorNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),dynamicsCompressorNodeConstructor=createDynamicsCompressorNodeConstructor(audioNodeConstructor,createAudioParam,createDynamicsCompressorNodeRenderer,createNativeDynamicsCompressorNode,createNotSupportedError,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createGainNodeRenderer=createGainNodeRendererFactory(connectAudioParam,createNativeGainNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),gainNodeConstructor=createGainNodeConstructor(audioNodeConstructor,createAudioParam,createGainNodeRenderer,createNativeGainNode,getNativeContext,isNativeOfflineAudioContext),createNativeIIRFilterNodeFaker=createNativeIIRFilterNodeFakerFactory(createInvalidAccessError,createInvalidStateError,createNativeScriptProcessorNode,createNotSupportedError),renderNativeOfflineAudioContext=createRenderNativeOfflineAudioContext(cacheTestResult,createNativeGainNode,createNativeScriptProcessorNode,createTestOfflineAudioContextCurrentTimeSupport(createNativeGainNode,nativeOfflineAudioContextConstructor)),createIIRFilterNodeRenderer=createIIRFilterNodeRendererFactory(createNativeAudioBufferSourceNode,getNativeAudioNode,nativeOfflineAudioContextConstructor,renderInputsOfAudioNode,renderNativeOfflineAudioContext),createNativeIIRFilterNode=createNativeIIRFilterNodeFactory(createNativeIIRFilterNodeFaker),iIRFilterNodeConstructor=createIIRFilterNodeConstructor(audioNodeConstructor,createNativeIIRFilterNode,createIIRFilterNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createAudioListener=createAudioListenerFactory(createAudioParam,createNativeChannelMergerNode,createNativeConstantSourceNode,createNativeScriptProcessorNode,createNotSupportedError,getFirstSample,isNativeOfflineAudioContext,overwriteAccessors),unrenderedAudioWorkletNodeStore=new WeakMap,minimalBaseAudioContextConstructor=createMinimalBaseAudioContextConstructor(audioDestinationNodeConstructor,createAudioListener,eventTargetConstructor,isNativeOfflineAudioContext,unrenderedAudioWorkletNodeStore,wrapEventListener),createNativeOscillatorNode=createNativeOscillatorNodeFactory(addSilentConnection,cacheTestResult,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls),createOscillatorNodeRenderer=createOscillatorNodeRendererFactory(connectAudioParam,createNativeOscillatorNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),oscillatorNodeConstructor=createOscillatorNodeConstructor(audioNodeConstructor,createAudioParam,createNativeOscillatorNode,createOscillatorNodeRenderer,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),createConnectedNativeAudioBufferSourceNode=createConnectedNativeAudioBufferSourceNodeFactory(createNativeAudioBufferSourceNode),createNativeWaveShaperNodeFaker=createNativeWaveShaperNodeFakerFactory(createConnectedNativeAudioBufferSourceNode,createInvalidStateError,createNativeGainNode,isDCCurve,monitorConnections),createNativeWaveShaperNode=createNativeWaveShaperNodeFactory(createConnectedNativeAudioBufferSourceNode,createInvalidStateError,createNativeWaveShaperNodeFaker,isDCCurve,monitorConnections,nativeAudioContextConstructor,overwriteAccessors),createNativePannerNodeFaker=createNativePannerNodeFakerFactory(connectNativeAudioNodeToNativeAudioNode,createInvalidStateError,createNativeChannelMergerNode,createNativeGainNode,createNativeScriptProcessorNode,createNativeWaveShaperNode,createNotSupportedError,disconnectNativeAudioNodeFromNativeAudioNode,getFirstSample,monitorConnections),createNativePannerNode=createNativePannerNodeFactory(createNativePannerNodeFaker),createPannerNodeRenderer=createPannerNodeRendererFactory(connectAudioParam,createNativeChannelMergerNode,createNativeConstantSourceNode,createNativeGainNode,createNativePannerNode,getNativeAudioNode,nativeOfflineAudioContextConstructor,renderAutomation,renderInputsOfAudioNode,renderNativeOfflineAudioContext),pannerNodeConstructor=createPannerNodeConstructor(audioNodeConstructor,createAudioParam,createNativePannerNode,createPannerNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createNativePeriodicWave=createNativePeriodicWaveFactory(createIndexSizeError),periodicWaveConstructor=createPeriodicWaveConstructor(createNativePeriodicWave,getNativeContext,new WeakSet,sanitizePeriodicWaveOptions),nativeStereoPannerNodeFakerFactory=createNativeStereoPannerNodeFakerFactory(createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeGainNode,createNativeWaveShaperNode,createNotSupportedError,monitorConnections),createNativeStereoPannerNode=createNativeStereoPannerNodeFactory(nativeStereoPannerNodeFakerFactory,createNotSupportedError),createStereoPannerNodeRenderer=createStereoPannerNodeRendererFactory(connectAudioParam,createNativeStereoPannerNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),stereoPannerNodeConstructor=createStereoPannerNodeConstructor(audioNodeConstructor,createAudioParam,createNativeStereoPannerNode,createStereoPannerNodeRenderer,getNativeContext,isNativeOfflineAudioContext),createWaveShaperNodeRenderer=createWaveShaperNodeRendererFactory(createNativeWaveShaperNode,getNativeAudioNode,renderInputsOfAudioNode),waveShaperNodeConstructor=createWaveShaperNodeConstructor(audioNodeConstructor,createInvalidStateError,createNativeWaveShaperNode,createWaveShaperNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),isSecureContext$1=createIsSecureContext(window$1),exposeCurrentFrameAndCurrentTime=createExposeCurrentFrameAndCurrentTime(window$1),backupOfflineAudioContextStore=new WeakMap,getOrCreateBackupOfflineAudioContext=createGetOrCreateBackupOfflineAudioContext(backupOfflineAudioContextStore,nativeOfflineAudioContextConstructor),addAudioWorkletModule=isSecureContext$1?createAddAudioWorkletModule(cacheTestResult,createNotSupportedError,createEvaluateSource(window$1),exposeCurrentFrameAndCurrentTime,createFetchSource(createAbortError),getNativeContext,getOrCreateBackupOfflineAudioContext,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor,new WeakMap,new WeakMap,createTestAudioWorkletProcessorPostMessageSupport(nativeAudioWorkletNodeConstructor,nativeOfflineAudioContextConstructor),window$1):void 0,isNativeContext=createIsNativeContext(isNativeAudioContext,isNativeOfflineAudioContext),decodeAudioData=createDecodeAudioData(audioBufferStore,cacheTestResult,createDataCloneError,createEncodingError,new WeakSet,getNativeContext,isNativeContext,testAudioBufferCopyChannelMethodsOutOfBoundsSupport,testPromiseSupport,wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),baseAudioContextConstructor=createBaseAudioContextConstructor(addAudioWorkletModule,analyserNodeConstructor,audioBufferConstructor,audioBufferSourceNodeConstructor,biquadFilterNodeConstructor,channelMergerNodeConstructor,channelSplitterNodeConstructor,constantSourceNodeConstructor,convolverNodeConstructor,decodeAudioData,delayNodeConstructor,dynamicsCompressorNodeConstructor,gainNodeConstructor,iIRFilterNodeConstructor,minimalBaseAudioContextConstructor,oscillatorNodeConstructor,pannerNodeConstructor,periodicWaveConstructor,stereoPannerNodeConstructor,waveShaperNodeConstructor),mediaElementAudioSourceNodeConstructor=createMediaElementAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaElementAudioSourceNode,getNativeContext,isNativeOfflineAudioContext),mediaStreamAudioDestinationNodeConstructor=createMediaStreamAudioDestinationNodeConstructor(audioNodeConstructor,createNativeMediaStreamAudioDestinationNode,getNativeContext,isNativeOfflineAudioContext),mediaStreamAudioSourceNodeConstructor=createMediaStreamAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaStreamAudioSourceNode,getNativeContext,isNativeOfflineAudioContext),createNativeMediaStreamTrackAudioSourceNode=createNativeMediaStreamTrackAudioSourceNodeFactory(createInvalidStateError,isNativeOfflineAudioContext),mediaStreamTrackAudioSourceNodeConstructor=createMediaStreamTrackAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaStreamTrackAudioSourceNode,getNativeContext),audioContextConstructor=createAudioContextConstructor(baseAudioContextConstructor,createInvalidStateError,createNotSupportedError,createUnknownError,mediaElementAudioSourceNodeConstructor,mediaStreamAudioDestinationNodeConstructor,mediaStreamAudioSourceNodeConstructor,mediaStreamTrackAudioSourceNodeConstructor,nativeAudioContextConstructor),getUnrenderedAudioWorkletNodes=createGetUnrenderedAudioWorkletNodes(unrenderedAudioWorkletNodeStore),addUnrenderedAudioWorkletNode=createAddUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes),connectMultipleOutputs=createConnectMultipleOutputs(createIndexSizeError),deleteUnrenderedAudioWorkletNode=createDeleteUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes),disconnectMultipleOutputs=createDisconnectMultipleOutputs(createIndexSizeError),activeAudioWorkletNodeInputsStore=new WeakMap,getActiveAudioWorkletNodeInputs=createGetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore,getValueForKey),createNativeAudioWorkletNodeFaker=createNativeAudioWorkletNodeFakerFactory(connectMultipleOutputs,createIndexSizeError,createInvalidStateError,createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeConstantSourceNode,createNativeGainNode,createNativeScriptProcessorNode,createNotSupportedError,disconnectMultipleOutputs,exposeCurrentFrameAndCurrentTime,getActiveAudioWorkletNodeInputs,monitorConnections),createNativeAudioWorkletNode=createNativeAudioWorkletNodeFactory(createInvalidStateError,createNativeAudioWorkletNodeFaker,createNativeGainNode,createNotSupportedError,monitorConnections),createAudioWorkletNodeRenderer=createAudioWorkletNodeRendererFactory(connectAudioParam,connectMultipleOutputs,createNativeAudioBufferSourceNode,createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeConstantSourceNode,createNativeGainNode,deleteUnrenderedAudioWorkletNode,disconnectMultipleOutputs,exposeCurrentFrameAndCurrentTime,getNativeAudioNode,nativeAudioWorkletNodeConstructor,nativeOfflineAudioContextConstructor,renderAutomation,renderInputsOfAudioNode,renderNativeOfflineAudioContext),getBackupOfflineAudioContext=createGetBackupOfflineAudioContext(backupOfflineAudioContextStore),setActiveAudioWorkletNodeInputs=createSetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore),audioWorkletNodeConstructor=isSecureContext$1?createAudioWorkletNodeConstructor(addUnrenderedAudioWorkletNode,audioNodeConstructor,createAudioParam,createAudioWorkletNodeRenderer,createNativeAudioWorkletNode,getAudioNodeConnections,getBackupOfflineAudioContext,getNativeContext,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor,sanitizeAudioWorkletNodeOptions,setActiveAudioWorkletNodeInputs,testAudioWorkletNodeOptionsClonability,wrapEventListener):void 0,createNativeOfflineAudioContext=createCreateNativeOfflineAudioContext(createNotSupportedError,nativeOfflineAudioContextConstructor),startRendering=createStartRendering(audioBufferStore,cacheTestResult,getAudioNodeRenderer,getUnrenderedAudioWorkletNodes,renderNativeOfflineAudioContext,testAudioBufferCopyChannelMethodsOutOfBoundsSupport,wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),offlineAudioContextConstructor=createOfflineAudioContextConstructor(baseAudioContextConstructor,cacheTestResult,createInvalidStateError,createNativeOfflineAudioContext,startRendering),isAnyAudioContext=createIsAnyAudioContext(CONTEXT_STORE,isNativeAudioContext),isAnyAudioNode=createIsAnyAudioNode(AUDIO_NODE_STORE,isNativeAudioNode),isAnyAudioParam=createIsAnyAudioParam(AUDIO_PARAM_STORE,isNativeAudioParam),isAnyOfflineAudioContext=createIsAnyOfflineAudioContext(CONTEXT_STORE,isNativeOfflineAudioContext);function assert(N,u){if(!N)throw new Error(u)}function assertRange(N,u,n=1/0){if(!(u<=N&&N<=n))throw new RangeError(`Value must be within [${u}, ${n}], got: ${N}`)}function assertContextRunning(N){!N.isOffline&&N.state!=="running"&&warn('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let defaultLogger=console;function log$1(...N){defaultLogger.log(...N)}function warn(...N){defaultLogger.warn(...N)}function isUndef(N){return typeof N>"u"}function isDefined(N){return!isUndef(N)}function isFunction$1(N){return typeof N=="function"}function isNumber$1(N){return typeof N=="number"}function isObject$1(N){return Object.prototype.toString.call(N)==="[object Object]"&&N.constructor===Object}function isBoolean$1(N){return typeof N=="boolean"}function isArray$1(N){return Array.isArray(N)}function isString$1(N){return typeof N=="string"}function isNote(N){return isString$1(N)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(N)}function createAudioContext(N){return new audioContextConstructor(N)}function createOfflineAudioContext(N,u,n){return new offlineAudioContextConstructor(N,u,n)}const theWindow=typeof self=="object"?self:null,hasAudioContext=theWindow&&(theWindow.hasOwnProperty("AudioContext")||theWindow.hasOwnProperty("webkitAudioContext"));function createAudioWorkletNode(N,u,n){return assert(isDefined(audioWorkletNodeConstructor),"This node only works in a secure context (https or localhost)"),new audioWorkletNodeConstructor(N,u,n)}function __decorate(N,u,n,a){var r=arguments.length,b=r<3?u:a===null?a=Object.getOwnPropertyDescriptor(u,n):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(N,u,n,a);else for(var m=N.length-1;m>=0;m--)(h=N[m])&&(b=(r<3?h(b):r>3?h(u,n,b):h(u,n))||b);return r>3&&b&&Object.defineProperty(u,n,b),b}function __awaiter(N,u,n,a){function r(b){return b instanceof n?b:new n(function(h){h(b)})}return new(n||(n=Promise))(function(b,h){function m(S){try{A(a.next(S))}catch(_){h(_)}}function p(S){try{A(a.throw(S))}catch(_){h(_)}}function A(S){S.done?b(S.value):r(S.value).then(m,p)}A((a=a.apply(N,u||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class Ticker{constructor(u,n,a){this._callback=u,this._type=n,this._updateInterval=a,this._createClock()}_createWorker(){const u=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(u),a=new Worker(n);a.onmessage=this._callback.bind(this),this._worker=a}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(u){this._updateInterval=Math.max(u,128/44100),this._type==="worker"&&this._worker.postMessage(Math.max(u*1e3,1))}get type(){return this._type}set type(u){this._disposeClock(),this._type=u,this._createClock()}dispose(){this._disposeClock()}}function isAudioParam(N){return isAnyAudioParam(N)}function isAudioNode(N){return isAnyAudioNode(N)}function isOfflineAudioContext(N){return isAnyOfflineAudioContext(N)}function isAudioContext(N){return isAnyAudioContext(N)}function isAudioBuffer(N){return N instanceof AudioBuffer}function noCopy(N,u){return N==="value"||isAudioParam(u)||isAudioNode(u)||isAudioBuffer(u)}function deepMerge(N,...u){if(!u.length)return N;const n=u.shift();if(isObject$1(N)&&isObject$1(n))for(const a in n)noCopy(a,n[a])?N[a]=n[a]:isObject$1(n[a])?(N[a]||Object.assign(N,{[a]:{}}),deepMerge(N[a],n[a])):Object.assign(N,{[a]:n[a]});return deepMerge(N,...u)}function deepEquals(N,u){return N.length===u.length&&N.every((n,a)=>u[a]===n)}function optionsFromArguments(N,u,n=[],a){const r={},b=Array.from(u);if(isObject$1(b[0])&&a&&!Reflect.has(b[0],a)&&(Object.keys(b[0]).some(m=>Reflect.has(N,m))||(deepMerge(r,{[a]:b[0]}),n.splice(n.indexOf(a),1),b.shift())),b.length===1&&isObject$1(b[0]))deepMerge(r,b[0]);else for(let h=0;h<n.length;h++)isDefined(b[h])&&(r[n[h]]=b[h]);return deepMerge(N,r)}function getDefaultsFromInstance(N){return N.constructor.getDefaults()}function defaultArg(N,u){return isUndef(N)?u:N}function omitFromObject(N,u){return u.forEach(n=>{Reflect.has(N,n)&&delete N[n]}),N}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Tone{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...u){(this.debug||theWindow&&this.toString()===theWindow.TONE_DEBUG_CLASS)&&log$1(this,...u)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Tone.version=version;const EPSILON=1e-6;function GT(N,u){return N>u+EPSILON}function GTE(N,u){return GT(N,u)||EQ(N,u)}function LT(N,u){return N+EPSILON<u}function EQ(N,u){return Math.abs(N-u)<EPSILON}function clamp$4(N,u,n){return Math.max(Math.min(N,n),u)}class Timeline extends Tone{constructor(){super(),this.name="Timeline",this._timeline=[];const u=optionsFromArguments(Timeline.getDefaults(),arguments,["memory"]);this.memory=u.memory,this.increasing=u.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(u){if(assert(Reflect.has(u,"time"),"Timeline: events must have a time attribute"),u.time=u.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];assert(GTE(u.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(u)}else{const n=this._search(u.time);this._timeline.splice(n+1,0,u)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(u){const n=this._timeline.indexOf(u);return n!==-1&&this._timeline.splice(n,1),this}get(u,n="time"){const a=this._search(u,n);return a!==-1?this._timeline[a]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(u,n="time"){const a=this._search(u,n);return a+1<this._timeline.length?this._timeline[a+1]:null}getBefore(u){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<u)return this._timeline[n-1];const a=this._search(u);return a-1>=0?this._timeline[a-1]:null}cancel(u){if(this._timeline.length>1){let n=this._search(u);if(n>=0)if(EQ(this._timeline[n].time,u)){for(let a=n;a>=0&&EQ(this._timeline[a].time,u);a--)n=a;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&GTE(this._timeline[0].time,u)&&(this._timeline=[]);return this}cancelBefore(u){const n=this._search(u);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(u){const n=this._timeline.indexOf(u);return n>0?this._timeline[n-1]:null}_search(u,n="time"){if(this._timeline.length===0)return-1;let a=0;const r=this._timeline.length;let b=r;if(r>0&&this._timeline[r-1][n]<=u)return r-1;for(;a<b;){let h=Math.floor(a+(b-a)/2);const m=this._timeline[h],p=this._timeline[h+1];if(EQ(m[n],u)){for(let A=h;A<this._timeline.length;A++){const S=this._timeline[A];if(EQ(S[n],u))h=A;else break}return h}else{if(LT(m[n],u)&&GT(p[n],u))return h;GT(m[n],u)?b=h:a=h+1}}return-1}_iterate(u,n=0,a=this._timeline.length-1){this._timeline.slice(n,a+1).forEach(u)}forEach(u){return this._iterate(u),this}forEachBefore(u,n){const a=this._search(u);return a!==-1&&this._iterate(n,0,a),this}forEachAfter(u,n){const a=this._search(u);return this._iterate(n,a+1),this}forEachBetween(u,n,a){let r=this._search(u),b=this._search(n);return r!==-1&&b!==-1?(this._timeline[r].time!==u&&(r+=1),this._timeline[b].time===n&&(b-=1),this._iterate(a,r,b)):r===-1&&this._iterate(a,0,b),this}forEachFrom(u,n){let a=this._search(u);for(;a>=0&&this._timeline[a].time>=u;)a--;return this._iterate(n,a+1),this}forEachAtTime(u,n){const a=this._search(u);if(a!==-1&&EQ(this._timeline[a].time,u)){let r=a;for(let b=a;b>=0&&EQ(this._timeline[b].time,u);b--)r=b;this._iterate(b=>{n(b)},r,a)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const notifyNewContext=[];function onContextInit(N){notifyNewContext.push(N)}function initializeContext(N){notifyNewContext.forEach(u=>u(N))}const notifyCloseContext=[];function onContextClose(N){notifyCloseContext.push(N)}function closeContext(N){notifyCloseContext.forEach(u=>u(N))}class Emitter extends Tone{constructor(){super(...arguments),this.name="Emitter"}on(u,n){return u.split(/\W+/).forEach(r=>{isUndef(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(n)}),this}once(u,n){const a=(...r)=>{n(...r),this.off(u,a)};return this.on(u,a),this}off(u,n){return u.split(/\W+/).forEach(r=>{if(isUndef(this._events)&&(this._events={}),this._events.hasOwnProperty(u))if(isUndef(n))this._events[u]=[];else{const b=this._events[u];for(let h=b.length-1;h>=0;h--)b[h]===n&&b.splice(h,1)}}),this}emit(u,...n){if(this._events&&this._events.hasOwnProperty(u)){const a=this._events[u].slice(0);for(let r=0,b=a.length;r<b;r++)a[r].apply(this,n)}return this}static mixin(u){["on","once","off","emit"].forEach(n=>{const a=Object.getOwnPropertyDescriptor(Emitter.prototype,n);Object.defineProperty(u.prototype,n,a)})}dispose(){return super.dispose(),this._events=void 0,this}}class BaseContext extends Emitter{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Context extends BaseContext{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Timeline,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const u=optionsFromArguments(Context.getDefaults(),arguments,["context"]);u.context?this._context=u.context:this._context=createAudioContext({latencyHint:u.latencyHint}),this._ticker=new Ticker(this.emit.bind(this,"tick"),u.clockSource,u.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(u.latencyHint),this.lookAhead=u.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(initializeContext(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(u,n,a){return this._context.createBuffer(u,n,a)}createChannelMerger(u){return this._context.createChannelMerger(u)}createChannelSplitter(u){return this._context.createChannelSplitter(u)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(u){return this._context.createDelay(u)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(u,n){return this._context.createIIRFilter(u,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(u,n,a){return this._context.createPeriodicWave(u,n,a)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(u){return assert(isAudioContext(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(u)}createMediaElementSource(u){return assert(isAudioContext(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(u)}createMediaStreamDestination(){return assert(isAudioContext(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(u){return this._context.decodeAudioData(u)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(u){assert(!this._initialized,"The listener cannot be set after initialization."),this._listener=u}get transport(){return this.initialize(),this._transport}set transport(u){assert(!this._initialized,"The transport cannot be set after initialization."),this._transport=u}get draw(){return this.initialize(),this._draw}set draw(u){assert(!this._initialized,"Draw cannot be set after initialization."),this._draw=u}get destination(){return this.initialize(),this._destination}set destination(u){assert(!this._initialized,"The destination cannot be set after initialization."),this._destination=u}createAudioWorkletNode(u,n){return createAudioWorkletNode(this.rawContext,u,n)}addAudioWorkletModule(u,n){return __awaiter(this,void 0,void 0,function*(){assert(isDefined(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(n)||this._workletModules.set(n,this.rawContext.audioWorklet.addModule(u)),yield this._workletModules.get(n)})}workletsAreReady(){return __awaiter(this,void 0,void 0,function*(){const u=[];this._workletModules.forEach(n=>u.push(n)),yield Promise.all(u)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(u){this._ticker.updateInterval=u}get clockSource(){return this._ticker.type}set clockSource(u){this._ticker.type=u}get latencyHint(){return this._latencyHint}_setLatencyHint(u){let n=0;if(this._latencyHint=u,isString$1(u))switch(u){case"interactive":n=.1;break;case"playback":n=.5;break;case"balanced":n=.25;break}this.lookAhead=n,this.updateInterval=n/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return isAudioContext(this._context)?this._context.resume():Promise.resolve()}close(){return __awaiter(this,void 0,void 0,function*(){isAudioContext(this._context)&&(yield this._context.close()),this._initialized&&closeContext(this)})}getConstant(u){if(this._constants.has(u))return this._constants.get(u);{const n=this._context.createBuffer(1,128,this._context.sampleRate),a=n.getChannelData(0);for(let b=0;b<a.length;b++)a[b]=u;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=n,r.loop=!0,r.start(0),this._constants.set(u,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(u=>this._constants[u].disconnect()),this}_timeoutLoop(){const u=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=u;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(u,n){this._timeoutIds++;const a=this.now();return this._timeouts.add({callback:u,id:this._timeoutIds,time:a+n}),this._timeoutIds}clearTimeout(u){return this._timeouts.forEach(n=>{n.id===u&&this._timeouts.remove(n)}),this}clearInterval(u){return this.clearTimeout(u)}setInterval(u,n){const a=++this._timeoutIds,r=()=>{const b=this.now();this._timeouts.add({callback:()=>{u(),r()},id:a,time:b+n})};return r(),a}}class DummyContext extends BaseContext{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(u,n,a){return{}}createChannelMerger(u){return{}}createChannelSplitter(u){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(u){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(u,n){return{}}createPanner(){return{}}createPeriodicWave(u,n,a){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(u){return{}}createMediaElementSource(u){return{}}createMediaStreamDestination(){return{}}decodeAudioData(u){return Promise.resolve({})}createAudioWorkletNode(u,n){return{}}get rawContext(){return{}}addAudioWorkletModule(u,n){return __awaiter(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(u,n){return 0}clearTimeout(u){return this}setInterval(u,n){return 0}clearInterval(u){return this}getConstant(u){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(u){}get destination(){return{}}set destination(u){}now(){return 0}immediate(){return 0}}function readOnly(N,u){isArray$1(u)?u.forEach(n=>readOnly(N,n)):Object.defineProperty(N,u,{enumerable:!0,writable:!1})}function writable(N,u){isArray$1(u)?u.forEach(n=>writable(N,n)):Object.defineProperty(N,u,{writable:!0})}const noOp=()=>{};class ToneAudioBuffer extends Tone{constructor(){super(),this.name="ToneAudioBuffer",this.onload=noOp;const u=optionsFromArguments(ToneAudioBuffer.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=u.reverse,this.onload=u.onload,u.url&&isAudioBuffer(u.url)||u.url instanceof ToneAudioBuffer?this.set(u.url):isString$1(u.url)&&this.load(u.url).catch(u.onerror)}static getDefaults(){return{onerror:noOp,onload:noOp,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:getContext().sampleRate}set(u){return u instanceof ToneAudioBuffer?u.loaded?this._buffer=u.get():u.onload=()=>{this.set(u),this.onload(this)}:this._buffer=u,this._reversed&&this._reverse(),this}get(){return this._buffer}load(u){return __awaiter(this,void 0,void 0,function*(){const n=ToneAudioBuffer.load(u).then(a=>{this.set(a),this.onload(this)});ToneAudioBuffer.downloads.push(n);try{yield n}finally{const a=ToneAudioBuffer.downloads.indexOf(n);ToneAudioBuffer.downloads.splice(a,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(u){const n=isArray$1(u)&&u[0].length>0,a=n?u.length:1,r=n?u[0].length:u.length,b=getContext(),h=b.createBuffer(a,r,b.sampleRate),m=!n&&a===1?[u]:u;for(let p=0;p<a;p++)h.copyToChannel(m[p],p);return this._buffer=h,this}toMono(u){if(isNumber$1(u))this.fromArray(this.toArray(u));else{let n=new Float32Array(this.length);const a=this.numberOfChannels;for(let r=0;r<a;r++){const b=this.toArray(r);for(let h=0;h<b.length;h++)n[h]+=b[h]}n=n.map(r=>r/a),this.fromArray(n)}return this}toArray(u){if(isNumber$1(u))return this.getChannelData(u);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let a=0;a<this.numberOfChannels;a++)n[a]=this.getChannelData(a);return n}}getChannelData(u){return this._buffer?this._buffer.getChannelData(u):new Float32Array(0)}slice(u,n=this.duration){const a=Math.floor(u*this.sampleRate),r=Math.floor(n*this.sampleRate);assert(a<r,"The start time must be less than the end time");const b=r-a,h=getContext().createBuffer(this.numberOfChannels,b,this.sampleRate);for(let m=0;m<this.numberOfChannels;m++)h.copyToChannel(this.getChannelData(m).subarray(a,r),m);return new ToneAudioBuffer(h)}_reverse(){if(this.loaded)for(let u=0;u<this.numberOfChannels;u++)this.getChannelData(u).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(u){this._reversed!==u&&(this._reversed=u,this._reverse())}static fromArray(u){return new ToneAudioBuffer().fromArray(u)}static fromUrl(u){return __awaiter(this,void 0,void 0,function*(){return yield new ToneAudioBuffer().load(u)})}static load(u){return __awaiter(this,void 0,void 0,function*(){const n=u.match(/\[([^\]\[]+\|.+)\]$/);if(n){const m=n[1].split("|");let p=m[0];for(const A of m)if(ToneAudioBuffer.supportsType(A)){p=A;break}u=u.replace(n[0],p)}const a=ToneAudioBuffer.baseUrl===""||ToneAudioBuffer.baseUrl.endsWith("/")?ToneAudioBuffer.baseUrl:ToneAudioBuffer.baseUrl+"/",r=yield fetch(a+u);if(!r.ok)throw new Error(`could not load url: ${u}`);const b=yield r.arrayBuffer();return yield getContext().decodeAudioData(b)})}static supportsType(u){const n=u.split("."),a=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+a)!==""}static loaded(){return __awaiter(this,void 0,void 0,function*(){for(yield Promise.resolve();ToneAudioBuffer.downloads.length;)yield ToneAudioBuffer.downloads[0]})}}ToneAudioBuffer.baseUrl="";ToneAudioBuffer.downloads=[];class OfflineContext extends Context{constructor(){super({clockSource:"offline",context:isOfflineAudioContext(arguments[0])?arguments[0]:createOfflineAudioContext(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:isOfflineAudioContext(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=isOfflineAudioContext(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(u){return __awaiter(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const a=Math.floor(this.sampleRate/128);u&&n%a===0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(u=!0){return __awaiter(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(u);const n=yield this._context.startRendering();return new ToneAudioBuffer(n)})}close(){return Promise.resolve()}}const dummyContext=new DummyContext;let globalContext=dummyContext;function getContext(){return globalContext===dummyContext&&hasAudioContext&&setContext(new Context),globalContext}function setContext(N){isAudioContext(N)?globalContext=new Context(N):isOfflineAudioContext(N)?globalContext=new OfflineContext(N):globalContext=N}function start(){return globalContext.resume()}if(theWindow&&!theWindow.TONE_SILENCE_LOGGING){const u=` * Tone.js v${version} * `;console.log(`%c${u}`,"background: #000; color: #fff")}function dbToGain(N){return Math.pow(10,N/20)}function gainToDb(N){return 20*(Math.log(N)/Math.LN10)}function intervalToFrequencyRatio(N){return Math.pow(2,N/12)}let A4=440;function getA4(){return A4}function setA4(N){A4=N}function ftom(N){return Math.round(ftomf(N))}function ftomf(N){return 69+12*Math.log2(N/A4)}function mtof(N){return A4*Math.pow(2,(N-69)/12)}class TimeBaseClass extends Tone{constructor(u,n,a){super(),this.defaultUnits="s",this._val=n,this._units=a,this.context=u,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:u=>this._frequencyToUnits(parseFloat(u)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:u=>this._ticksToUnits(parseInt(u,10)),regexp:/^(\d+)i$/i},m:{method:u=>this._beatsToUnits(parseInt(u,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(u,n)=>{const a=parseInt(u,10),r=n==="."?1.5:1;return a===1?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/a)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:u=>this._expressions[this.defaultUnits].method.call(this,u),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:u=>this._secondsToUnits(parseFloat(u)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:u=>parseInt(u,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:u=>{const n=parseInt(u,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(u,n,a)=>{let r=0;return u&&u!=="0"&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(u))),n&&n!=="0"&&(r+=this._beatsToUnits(parseFloat(n))),a&&a!=="0"&&(r+=this._beatsToUnits(parseFloat(a)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof TimeBaseClass&&this.fromType(this._val),isUndef(this._val))return this._noArg();if(isString$1(this._val)&&isUndef(this._units)){for(const u in this._expressions)if(this._expressions[u].regexp.test(this._val.trim())){this._units=u;break}}else if(isObject$1(this._val)){let u=0;for(const n in this._val)if(isDefined(this._val[n])){const a=this._val[n],r=new this.constructor(this.context,n).valueOf()*a;u+=r}return u}if(isDefined(this._units)){const u=this._expressions[this._units],n=this._val.toString().trim().match(u.regexp);return n?u.method.apply(this,n.slice(1)):u.method.call(this,this._val)}else return isString$1(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(u){return 1/u}_beatsToUnits(u){return 60/this._getBpm()*u}_secondsToUnits(u){return u}_ticksToUnits(u){return u*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(u){switch(this._units=void 0,this.defaultUnits){case"s":this._val=u.toSeconds();break;case"i":this._val=u.toTicks();break;case"hz":this._val=u.toFrequency();break;case"midi":this._val=u.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class TimeClass extends TimeBaseClass{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:u=>this._now()+new this.constructor(this.context,u).valueOf(),regexp:/^\+(.+)/},quantize:{method:u=>{const n=new TimeClass(this.context,u).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(u,n=1){const a=new this.constructor(this.context,u).valueOf(),r=this.valueOf(),m=Math.round(r/a)*a-r;return r+m*n}toNotation(){const u=this.toSeconds(),n=["1m"];for(let b=1;b<9;b++){const h=Math.pow(2,b);n.push(h+"n."),n.push(h+"n"),n.push(h+"t")}n.push("0");let a=n[0],r=new TimeClass(this.context,n[0]).toSeconds();return n.forEach(b=>{const h=new TimeClass(this.context,b).toSeconds();Math.abs(h-u)<Math.abs(r-u)&&(a=b,r=h)}),a}toBarsBeatsSixteenths(){const u=this._beatsToUnits(1);let n=this.valueOf()/u;n=parseFloat(n.toFixed(4));const a=Math.floor(n/this._getTimeSignature());let r=n%1*4;n=Math.floor(n)%this._getTimeSignature();const b=r.toString();return b.length>3&&(r=parseFloat(parseFloat(b).toFixed(3))),[a,n,r].join(":")}toTicks(){const u=this._beatsToUnits(1),n=this.valueOf()/u;return Math.round(n*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return ftom(this.toFrequency())}_now(){return this.context.now()}}class FrequencyClass extends TimeClass{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return getA4()}static set A4(u){setA4(u)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(u){return this.defaultUnits==="midi"?u:FrequencyClass.mtof(u)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(u,n){const r=noteToScaleIndex[u.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?r:FrequencyClass.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(u,n,a){let r=1;return u&&u!=="0"&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(u))),n&&n!=="0"&&(r*=this._beatsToUnits(parseFloat(n))),a&&a!=="0"&&(r*=this._beatsToUnits(parseFloat(a)/4)),r}}})}transpose(u){return new FrequencyClass(this.context,this.valueOf()*intervalToFrequencyRatio(u))}harmonize(u){return u.map(n=>this.transpose(n))}toMidi(){return ftom(this.valueOf())}toNote(){const u=this.toFrequency(),n=Math.log2(u/FrequencyClass.A4);let a=Math.round(12*n)+57;const r=Math.floor(a/12);return r<0&&(a+=-12*r),scaleIndexToNote[a%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const u=this._beatsToUnits(1),n=this.valueOf()/u;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(u){return u}_ticksToUnits(u){return 1/(u*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(u){return 1/super._beatsToUnits(u)}_secondsToUnits(u){return 1/u}static mtof(u){return mtof(u)}static ftom(u){return ftom(u)}}const noteToScaleIndex={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},scaleIndexToNote=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class TransportTimeClass extends TimeClass{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class ToneWithContext extends Tone{constructor(){super();const u=optionsFromArguments(ToneWithContext.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=u.context}static getDefaults(){return{context:getContext()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(u){return new TimeClass(this.context,u).toSeconds()}toFrequency(u){return new FrequencyClass(this.context,u).toFrequency()}toTicks(u){return new TransportTimeClass(this.context,u).toTicks()}_getPartialProperties(u){const n=this.get();return Object.keys(n).forEach(a=>{isUndef(u[a])&&delete n[a]}),n}get(){const u=getDefaultsFromInstance(this);return Object.keys(u).forEach(n=>{if(Reflect.has(this,n)){const a=this[n];isDefined(a)&&isDefined(a.value)&&isDefined(a.setValueAtTime)?u[n]=a.value:a instanceof ToneWithContext?u[n]=a._getPartialProperties(u[n]):isArray$1(a)||isNumber$1(a)||isString$1(a)||isBoolean$1(a)?u[n]=a:delete u[n]}}),u}set(u){return Object.keys(u).forEach(n=>{Reflect.has(this,n)&&isDefined(this[n])&&(this[n]&&isDefined(this[n].value)&&isDefined(this[n].setValueAtTime)?this[n].value!==u[n]&&(this[n].value=u[n]):this[n]instanceof ToneWithContext?this[n].set(u[n]):this[n]=u[n])}),this}}class StateTimeline extends Timeline{constructor(u="stopped"){super(),this.name="StateTimeline",this._initial=u,this.setStateAtTime(this._initial,0)}getValueAtTime(u){const n=this.get(u);return n!==null?n.state:this._initial}setStateAtTime(u,n,a){return assertRange(n,0),this.add(Object.assign({},a,{state:u,time:n})),this}getLastState(u,n){const a=this._search(n);for(let r=a;r>=0;r--){const b=this._timeline[r];if(b.state===u)return b}}getNextState(u,n){const a=this._search(n);if(a!==-1)for(let r=a;r<this._timeline.length;r++){const b=this._timeline[r];if(b.state===u)return b}}}class Param extends ToneWithContext{constructor(){super(optionsFromArguments(Param.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const u=optionsFromArguments(Param.getDefaults(),arguments,["param","units","convert"]);for(assert(isDefined(u.param)&&(isAudioParam(u.param)||u.param instanceof Param),"param must be an AudioParam");!isAudioParam(u.param);)u.param=u.param._param;this._swappable=isDefined(u.swappable)?u.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=u.param,this.input.connect(this._param)):this._param=this.input=u.param,this._events=new Timeline(1e3),this._initialValue=this._param.defaultValue,this.units=u.units,this.convert=u.convert,this._minValue=u.minValue,this._maxValue=u.maxValue,isDefined(u.value)&&u.value!==this._toType(this._initialValue)&&this.setValueAtTime(u.value,0)}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{convert:!0,units:"number"})}get value(){const u=this.now();return this.getValueAtTime(u)}set value(u){this.cancelScheduledValues(this.now()),this.setValueAtTime(u,this.now())}get minValue(){return isDefined(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return isDefined(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(u,n){return this.units===n}_assertRange(u){return isDefined(this.maxValue)&&isDefined(this.minValue)&&assertRange(u,this._fromType(this.minValue),this._fromType(this.maxValue)),u}_fromType(u){return this.convert&&!this.overridden?this._is(u,"time")?this.toSeconds(u):this._is(u,"decibels")?dbToGain(u):this._is(u,"frequency")?this.toFrequency(u):u:this.overridden?0:u}_toType(u){return this.convert&&this.units==="decibels"?gainToDb(u):u}setValueAtTime(u,n){const a=this.toSeconds(n),r=this._fromType(u);return assert(isFinite(r)&&isFinite(a),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(u)}, ${JSON.stringify(n)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",u,a),this._events.add({time:a,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,a),this}getValueAtTime(u){const n=Math.max(this.toSeconds(u),0),a=this._events.getAfter(n),r=this._events.get(n);let b=this._initialValue;if(r===null)b=this._initialValue;else if(r.type==="setTargetAtTime"&&(a===null||a.type==="setValueAtTime")){const h=this._events.getBefore(r.time);let m;h===null?m=this._initialValue:m=h.value,r.type==="setTargetAtTime"&&(b=this._exponentialApproach(r.time,m,r.value,r.constant,n))}else if(a===null)b=r.value;else if(a.type==="linearRampToValueAtTime"||a.type==="exponentialRampToValueAtTime"){let h=r.value;if(r.type==="setTargetAtTime"){const m=this._events.getBefore(r.time);m===null?h=this._initialValue:h=m.value}a.type==="linearRampToValueAtTime"?b=this._linearInterpolate(r.time,h,a.time,a.value,n):b=this._exponentialInterpolate(r.time,h,a.time,a.value,n)}else b=r.value;return this._toType(b)}setRampPoint(u){u=this.toSeconds(u);let n=this.getValueAtTime(u);return this.cancelAndHoldAtTime(u),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,u),this}linearRampToValueAtTime(u,n){const a=this._fromType(u),r=this.toSeconds(n);return assert(isFinite(a)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(u)}, ${JSON.stringify(n)}`),this._assertRange(a),this._events.add({time:r,type:"linearRampToValueAtTime",value:a}),this.log(this.units,"linearRampToValueAtTime",u,r),this._param.linearRampToValueAtTime(a,r),this}exponentialRampToValueAtTime(u,n){let a=this._fromType(u);a=EQ(a,0)?this._minOutput:a,this._assertRange(a);const r=this.toSeconds(n);return assert(isFinite(a)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(u)}, ${JSON.stringify(n)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:a}),this.log(this.units,"exponentialRampToValueAtTime",u,r),this._param.exponentialRampToValueAtTime(a,r),this}exponentialRampTo(u,n,a){return a=this.toSeconds(a),this.setRampPoint(a),this.exponentialRampToValueAtTime(u,a+this.toSeconds(n)),this}linearRampTo(u,n,a){return a=this.toSeconds(a),this.setRampPoint(a),this.linearRampToValueAtTime(u,a+this.toSeconds(n)),this}targetRampTo(u,n,a){return a=this.toSeconds(a),this.setRampPoint(a),this.exponentialApproachValueAtTime(u,a,n),this}exponentialApproachValueAtTime(u,n,a){n=this.toSeconds(n),a=this.toSeconds(a);const r=Math.log(a+1)/Math.log(200);return this.setTargetAtTime(u,n,r),this.cancelAndHoldAtTime(n+a*.9),this.linearRampToValueAtTime(u,n+a),this}setTargetAtTime(u,n,a){const r=this._fromType(u);assert(isFinite(a)&&a>0,"timeConstant must be a number greater than 0");const b=this.toSeconds(n);return this._assertRange(r),assert(isFinite(r)&&isFinite(b),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(u)}, ${JSON.stringify(n)}`),this._events.add({constant:a,time:b,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",u,b,a),this._param.setTargetAtTime(r,b,a),this}setValueCurveAtTime(u,n,a,r=1){a=this.toSeconds(a),n=this.toSeconds(n);const b=this._fromType(u[0])*r;this.setValueAtTime(this._toType(b),n);const h=a/(u.length-1);for(let m=1;m<u.length;m++){const p=this._fromType(u[m])*r;this.linearRampToValueAtTime(this._toType(p),n+m*h)}return this}cancelScheduledValues(u){const n=this.toSeconds(u);return assert(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(u)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(u){const n=this.toSeconds(u),a=this._fromType(this.getValueAtTime(n));assert(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(u)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+a);const r=this._events.get(n),b=this._events.getAfter(n);return r&&EQ(r.time,n)?b?(this._param.cancelScheduledValues(b.time),this._events.cancel(b.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):b&&(this._param.cancelScheduledValues(b.time),this._events.cancel(b.time),b.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(a),n):b.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(a),n)),this._events.add({time:n,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,n),this}rampTo(u,n=.1,a){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(u,n,a):this.linearRampTo(u,n,a),this}apply(u){const n=this.context.currentTime;u.setValueAtTime(this.getValueAtTime(n),n);const a=this._events.get(n);if(a&&a.type==="setTargetAtTime"){const r=this._events.getAfter(a.time),b=r?r.time:n+2,h=(b-n)/10;for(let m=n;m<b;m+=h)u.linearRampToValueAtTime(this.getValueAtTime(m),m)}return this._events.forEachAfter(this.context.currentTime,r=>{r.type==="cancelScheduledValues"?u.cancelScheduledValues(r.time):r.type==="setTargetAtTime"?u.setTargetAtTime(r.value,r.time,r.constant):u[r.type](r.value,r.time)}),this}setParam(u){assert(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(u),this._param=u,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(u,n,a,r,b){return a+(n-a)*Math.exp(-(b-u)/r)}_linearInterpolate(u,n,a,r,b){return n+(r-n)*((b-u)/(a-u))}_exponentialInterpolate(u,n,a,r,b){return n*Math.pow(r/n,(b-u)/(a-u))}}class ToneAudioNode extends ToneWithContext{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return isDefined(this.input)?isAudioParam(this.input)||this.input instanceof Param?1:this.input.numberOfInputs:0}get numberOfOutputs(){return isDefined(this.output)?this.output.numberOfOutputs:0}_isAudioNode(u){return isDefined(u)&&(u instanceof ToneAudioNode||isAudioNode(u))}_getInternalNodes(){const u=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&u.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&u.push(this.output),u}_setChannelProperties(u){this._getInternalNodes().forEach(a=>{a.channelCount=u.channelCount,a.channelCountMode=u.channelCountMode,a.channelInterpretation=u.channelInterpretation})}_getChannelProperties(){const u=this._getInternalNodes();assert(u.length>0,"ToneAudioNode does not have any internal nodes");const n=u[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(u){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:u}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(u){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:u}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(u){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:u}))}connect(u,n=0,a=0){return connect$1(this,u,n,a),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return warn("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(u,n=0,a=0){return disconnect(this,u,n,a),this}chain(...u){return connectSeries(this,...u),this}fan(...u){return u.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),isDefined(this.input)&&(this.input instanceof ToneAudioNode?this.input.dispose():isAudioNode(this.input)&&this.input.disconnect()),isDefined(this.output)&&(this.output instanceof ToneAudioNode?this.output.dispose():isAudioNode(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function connectSeries(...N){const u=N.shift();N.reduce((n,a)=>(n instanceof ToneAudioNode?n.connect(a):isAudioNode(n)&&connect$1(n,a),a),u)}function connect$1(N,u,n=0,a=0){for(assert(isDefined(N),"Cannot connect from undefined node"),assert(isDefined(u),"Cannot connect to undefined node"),(u instanceof ToneAudioNode||isAudioNode(u))&&assert(u.numberOfInputs>0,"Cannot connect to node with no inputs"),assert(N.numberOfOutputs>0,"Cannot connect from node with no outputs");u instanceof ToneAudioNode||u instanceof Param;)isDefined(u.input)&&(u=u.input);for(;N instanceof ToneAudioNode;)isDefined(N.output)&&(N=N.output);isAudioParam(u)?N.connect(u,n):N.connect(u,n,a)}function disconnect(N,u,n=0,a=0){if(isDefined(u))for(;u instanceof ToneAudioNode;)u=u.input;for(;!isAudioNode(N);)isDefined(N.output)&&(N=N.output);isAudioParam(u)?N.disconnect(u,n):isAudioNode(u)?N.disconnect(u,n,a):N.disconnect()}class Gain extends ToneAudioNode{constructor(){super(optionsFromArguments(Gain.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const u=optionsFromArguments(Gain.getDefaults(),arguments,["gain","units"]);this.gain=new Param({context:this.context,convert:u.convert,param:this._gainNode.gain,units:u.units,value:u.gain,minValue:u.minValue,maxValue:u.maxValue}),readOnly(this,"gain")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class OneShotSource extends ToneAudioNode{constructor(u){super(u),this.onended=noOp,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Gain({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const a=this.toSeconds(n);return this._startTime!==-1&&a>=this._startTime&&(this._stopTime===-1||a<=this._stopTime)?"started":"stopped"},this._fadeIn=u.fadeIn,this._fadeOut=u.fadeOut,this._curve=u.curve,this.onended=u.onended}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:noOp})}_startGain(u,n=1){assert(this._startTime===-1,"Source cannot be started more than once");const a=this.toSeconds(this._fadeIn);return this._startTime=u+a,this._startTime=Math.max(this._startTime,this.context.currentTime),a>0?(this._gainNode.gain.setValueAtTime(0,u),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,u+a):this._gainNode.gain.exponentialApproachValueAtTime(n,u,a)):this._gainNode.gain.setValueAtTime(n,u),this}stop(u){return this.log("stop",u),this._stopGain(this.toSeconds(u)),this}_stopGain(u){assert(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(u)+n,this._stopTime=Math.max(this._stopTime,this.context.currentTime),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,u):this._gainNode.gain.targetRampTo(0,n,u):(this._gainNode.gain.cancelAndHoldAtTime(u),this._gainNode.gain.setValueAtTime(0,u)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const a=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+a),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==noOp&&(this.onended(this),this.onended=noOp,!this.context.isOffline)){const u=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(u):setTimeout(u,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),assert(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class ToneConstantSource extends OneShotSource{constructor(){super(optionsFromArguments(ToneConstantSource.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const u=optionsFromArguments(ToneConstantSource.getDefaults(),arguments,["offset"]);connect$1(this._source,this._gainNode),this.offset=new Param({context:this.context,convert:u.convert,param:this._source.offset,units:u.units,value:u.offset,minValue:u.minValue,maxValue:u.maxValue})}static getDefaults(){return Object.assign(OneShotSource.getDefaults(),{convert:!0,offset:1,units:"number"})}start(u){const n=this.toSeconds(u);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(u){this._source.stop(u)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Signal extends ToneAudioNode{constructor(){super(optionsFromArguments(Signal.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const u=optionsFromArguments(Signal.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new ToneConstantSource({context:this.context,convert:u.convert,offset:u.value,units:u.units,minValue:u.minValue,maxValue:u.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{convert:!0,units:"number",value:0})}connect(u,n=0,a=0){return connectSignal(this,u,n,a),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(u,n){return this._param.setValueAtTime(u,n),this}getValueAtTime(u){return this._param.getValueAtTime(u)}setRampPoint(u){return this._param.setRampPoint(u),this}linearRampToValueAtTime(u,n){return this._param.linearRampToValueAtTime(u,n),this}exponentialRampToValueAtTime(u,n){return this._param.exponentialRampToValueAtTime(u,n),this}exponentialRampTo(u,n,a){return this._param.exponentialRampTo(u,n,a),this}linearRampTo(u,n,a){return this._param.linearRampTo(u,n,a),this}targetRampTo(u,n,a){return this._param.targetRampTo(u,n,a),this}exponentialApproachValueAtTime(u,n,a){return this._param.exponentialApproachValueAtTime(u,n,a),this}setTargetAtTime(u,n,a){return this._param.setTargetAtTime(u,n,a),this}setValueCurveAtTime(u,n,a,r){return this._param.setValueCurveAtTime(u,n,a,r),this}cancelScheduledValues(u){return this._param.cancelScheduledValues(u),this}cancelAndHoldAtTime(u){return this._param.cancelAndHoldAtTime(u),this}rampTo(u,n,a){return this._param.rampTo(u,n,a),this}get value(){return this._param.value}set value(u){this._param.value=u}get convert(){return this._param.convert}set convert(u){this._param.convert=u}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(u){this._param.overridden=u}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(u){return this._param.apply(u),this}}function connectSignal(N,u,n,a){(u instanceof Param||isAudioParam(u)||u instanceof Signal&&u.override)&&(u.cancelScheduledValues(0),u.setValueAtTime(0,0),u instanceof Signal&&(u.overridden=!0)),connect$1(N,u,n,a)}class TickParam extends Param{constructor(){super(optionsFromArguments(TickParam.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Timeline(1/0),this._multiplier=1;const u=optionsFromArguments(TickParam.getDefaults(),arguments,["value"]);this._multiplier=u.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(u.value)}),this.setValueAtTime(u.value,0)}static getDefaults(){return Object.assign(Param.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(u,n,a){n=this.toSeconds(n),this.setRampPoint(n);const r=this._fromType(u),b=this._events.get(n),h=Math.round(Math.max(1/a,1));for(let m=0;m<=h;m++){const p=a*m+n,A=this._exponentialApproach(b.time,b.value,r,a,p);this.linearRampToValueAtTime(this._toType(A),p)}return this}setValueAtTime(u,n){const a=this.toSeconds(n);super.setValueAtTime(u,n);const r=this._events.get(a),b=this._events.previousEvent(r),h=this._getTicksUntilEvent(b,a);return r.ticks=Math.max(h,0),this}linearRampToValueAtTime(u,n){const a=this.toSeconds(n);super.linearRampToValueAtTime(u,n);const r=this._events.get(a),b=this._events.previousEvent(r),h=this._getTicksUntilEvent(b,a);return r.ticks=Math.max(h,0),this}exponentialRampToValueAtTime(u,n){n=this.toSeconds(n);const a=this._fromType(u),r=this._events.get(n),b=Math.round(Math.max((n-r.time)*10,1)),h=(n-r.time)/b;for(let m=0;m<=b;m++){const p=h*m+r.time,A=this._exponentialInterpolate(r.time,r.value,n,a,p);this.linearRampToValueAtTime(this._toType(A),p)}return this}_getTicksUntilEvent(u,n){if(u===null)u={ticks:0,time:0,type:"setValueAtTime",value:0};else if(isUndef(u.ticks)){const h=this._events.previousEvent(u);u.ticks=this._getTicksUntilEvent(h,u.time)}const a=this._fromType(this.getValueAtTime(u.time));let r=this._fromType(this.getValueAtTime(n));const b=this._events.get(n);return b&&b.time===n&&b.type==="setValueAtTime"&&(r=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-u.time)*(a+r)+u.ticks}getTicksAtTime(u){const n=this.toSeconds(u),a=this._events.get(n);return Math.max(this._getTicksUntilEvent(a,n),0)}getDurationOfTicks(u,n){const a=this.toSeconds(n),r=this.getTicksAtTime(n);return this.getTimeOfTick(r+u)-a}getTimeOfTick(u){const n=this._events.get(u,"ticks"),a=this._events.getAfter(u,"ticks");if(n&&n.ticks===u)return n.time;if(n&&a&&a.type==="linearRampToValueAtTime"&&n.value!==a.value){const r=this._fromType(this.getValueAtTime(n.time)),h=(this._fromType(this.getValueAtTime(a.time))-r)/(a.time-n.time),m=Math.sqrt(Math.pow(r,2)-2*h*(n.ticks-u)),p=(-r+m)/h,A=(-r-m)/h;return(p>0?p:A)+n.time}else return n?n.value===0?1/0:n.time+(u-n.ticks)/n.value:u/this._initialValue}ticksToTime(u,n){return this.getDurationOfTicks(u,n)}timeToTicks(u,n){const a=this.toSeconds(n),r=this.toSeconds(u),b=this.getTicksAtTime(a);return this.getTicksAtTime(a+r)-b}_fromType(u){return this.units==="bpm"&&this.multiplier?1/(60/u/this.multiplier):super._fromType(u)}_toType(u){return this.units==="bpm"&&this.multiplier?u/this.multiplier*60:super._toType(u)}get multiplier(){return this._multiplier}set multiplier(u){const n=this.value;this._multiplier=u,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class TickSignal extends Signal{constructor(){super(optionsFromArguments(TickSignal.getDefaults(),arguments,["value"])),this.name="TickSignal";const u=optionsFromArguments(TickSignal.getDefaults(),arguments,["value"]);this.input=this._param=new TickParam({context:this.context,convert:u.convert,multiplier:u.multiplier,param:this._constantSource.offset,units:u.units,value:u.value})}static getDefaults(){return Object.assign(Signal.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(u,n){return this._param.ticksToTime(u,n)}timeToTicks(u,n){return this._param.timeToTicks(u,n)}getTimeOfTick(u){return this._param.getTimeOfTick(u)}getDurationOfTicks(u,n){return this._param.getDurationOfTicks(u,n)}getTicksAtTime(u){return this._param.getTicksAtTime(u)}get multiplier(){return this._param.multiplier}set multiplier(u){this._param.multiplier=u}dispose(){return super.dispose(),this._param.dispose(),this}}class TickSource extends ToneWithContext{constructor(){super(optionsFromArguments(TickSource.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new StateTimeline,this._tickOffset=new Timeline;const u=optionsFromArguments(TickSource.getDefaults(),arguments,["frequency"]);this.frequency=new TickSignal({context:this.context,units:u.units,value:u.frequency}),readOnly(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},ToneWithContext.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(u,n){const a=this.toSeconds(u);return this._state.getValueAtTime(a)!=="started"&&(this._state.setStateAtTime("started",a),isDefined(n)&&this.setTicksAtTime(n,a)),this}stop(u){const n=this.toSeconds(u);if(this._state.getValueAtTime(n)==="stopped"){const a=this._state.get(n);a&&a.time>0&&(this._tickOffset.cancel(a.time),this._state.cancel(a.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this}pause(u){const n=this.toSeconds(u);return this._state.getValueAtTime(n)==="started"&&this._state.setStateAtTime("paused",n),this}cancel(u){return u=this.toSeconds(u),this._state.cancel(u),this._tickOffset.cancel(u),this}getTicksAtTime(u){const n=this.toSeconds(u),a=this._state.getLastState("stopped",n),r={state:"paused",time:n};this._state.add(r);let b=a,h=0;return this._state.forEachBetween(a.time,n+this.sampleTime,m=>{let p=b.time;const A=this._tickOffset.get(m.time);A&&A.time>=b.time&&(h=A.ticks,p=A.time),b.state==="started"&&m.state!=="started"&&(h+=this.frequency.getTicksAtTime(m.time)-this.frequency.getTicksAtTime(p)),b=m}),this._state.remove(r),h}get ticks(){return this.getTicksAtTime(this.now())}set ticks(u){this.setTicksAtTime(u,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(u){const n=this.now(),a=this.frequency.timeToTicks(u,n);this.setTicksAtTime(a,n)}getSecondsAtTime(u){u=this.toSeconds(u);const n=this._state.getLastState("stopped",u),a={state:"paused",time:u};this._state.add(a);let r=n,b=0;return this._state.forEachBetween(n.time,u+this.sampleTime,h=>{let m=r.time;const p=this._tickOffset.get(h.time);p&&p.time>=r.time&&(b=p.seconds,m=p.time),r.state==="started"&&h.state!=="started"&&(b+=h.time-m),r=h}),this._state.remove(a),b}setTicksAtTime(u,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(u,n),ticks:u,time:n}),this}getStateAtTime(u){return u=this.toSeconds(u),this._state.getValueAtTime(u)}getTimeOfTick(u,n=this.now()){const a=this._tickOffset.get(n),r=this._state.get(n),b=Math.max(a.time,r.time),h=this.frequency.getTicksAtTime(b)+u-a.ticks;return this.frequency.getTimeOfTick(h)}forEachTickBetween(u,n,a){let r=this._state.get(u);this._state.forEachBetween(u,n,h=>{r&&r.state==="started"&&h.state!=="started"&&this.forEachTickBetween(Math.max(r.time,u),h.time-this.sampleTime,a),r=h});let b=null;if(r&&r.state==="started"){const h=Math.max(r.time,u),m=this.frequency.getTicksAtTime(h),p=this.frequency.getTicksAtTime(r.time),A=m-p;let S=Math.ceil(A)-A;S=EQ(S,1)?0:S;let _=this.frequency.getTimeOfTick(m+S);for(;_<n;){try{a(_,Math.round(this.getTicksAtTime(_)))}catch(l){b=l;break}_+=this.frequency.getDurationOfTicks(1,_)}}if(b)throw b;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class Clock extends ToneWithContext{constructor(){super(optionsFromArguments(Clock.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=noOp,this._lastUpdate=0,this._state=new StateTimeline("stopped"),this._boundLoop=this._loop.bind(this);const u=optionsFromArguments(Clock.getDefaults(),arguments,["callback","frequency"]);this.callback=u.callback,this._tickSource=new TickSource({context:this.context,frequency:u.frequency,units:u.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,readOnly(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{callback:noOp,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(u,n){assertContextRunning(this.context);const a=this.toSeconds(u);return this.log("start",a),this._state.getValueAtTime(a)!=="started"&&(this._state.setStateAtTime("started",a),this._tickSource.start(a,n),a<this._lastUpdate&&this.emit("start",a,n)),this}stop(u){const n=this.toSeconds(u);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(u){const n=this.toSeconds(u);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(u){this._tickSource.ticks=u}get seconds(){return this._tickSource.seconds}set seconds(u){this._tickSource.seconds=u}getSecondsAtTime(u){return this._tickSource.getSecondsAtTime(u)}setTicksAtTime(u,n){return this._tickSource.setTicksAtTime(u,n),this}getTimeOfTick(u,n=this.now()){return this._tickSource.getTimeOfTick(u,n)}getTicksAtTime(u){return this._tickSource.getTicksAtTime(u)}nextTickTime(u,n){const a=this.toSeconds(n),r=this.getTicksAtTime(a);return this._tickSource.getTimeOfTick(r+u,a)}_loop(){const u=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",u,n),u!==n&&(this._state.forEachBetween(u,n,a=>{switch(a.state){case"started":const r=this._tickSource.getTicksAtTime(a.time);this.emit("start",a.time,r);break;case"stopped":a.time!==0&&this.emit("stop",a.time);break;case"paused":this.emit("pause",a.time);break}}),this._tickSource.forEachTickBetween(u,n,(a,r)=>{this.callback(a,r)}))}getStateAtTime(u){const n=this.toSeconds(u);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Emitter.mixin(Clock);class ToneAudioBuffers extends Tone{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const u=optionsFromArguments(ToneAudioBuffers.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=u.baseUrl,Object.keys(u.urls).forEach(n=>{this._loadingCount++;const a=u.urls[n];this.add(n,a,this._bufferLoaded.bind(this,u.onload),u.onerror)})}static getDefaults(){return{baseUrl:"",onerror:noOp,onload:noOp,urls:{}}}has(u){return this._buffers.has(u.toString())}get(u){return assert(this.has(u),`ToneAudioBuffers has no buffer named: ${u}`),this._buffers.get(u.toString())}_bufferLoaded(u){this._loadingCount--,this._loadingCount===0&&u&&u()}get loaded(){return Array.from(this._buffers).every(([u,n])=>n.loaded)}add(u,n,a=noOp,r=noOp){return isString$1(n)?this._buffers.set(u.toString(),new ToneAudioBuffer(this.baseUrl+n,a,r)):this._buffers.set(u.toString(),new ToneAudioBuffer(n,a,r)),this}dispose(){return super.dispose(),this._buffers.forEach(u=>u.dispose()),this._buffers.clear(),this}}class TicksClass extends TransportTimeClass{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(u){return this._getPPQ()*u}_secondsToUnits(u){return Math.floor(u/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(u){return u}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Draw extends ToneWithContext{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Timeline,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(u,n){return this._events.add({callback:u,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(u){return this._events.cancel(this.toSeconds(u)),this}_drawLoop(){const u=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=u;){const n=this._events.shift();n&&u-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}onContextInit(N=>{N.draw=new Draw({context:N})});onContextClose(N=>{N.draw.dispose()});class IntervalTimeline extends Tone{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(u){assert(isDefined(u.time),"Events must have a time property"),assert(isDefined(u.duration),"Events must have a duration parameter"),u.time=u.time.valueOf();let n=new IntervalNode(u.time,u.time+u.duration,u);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(u){if(this._root!==null){const n=[];this._root.search(u.time,n);for(const a of n)if(a.event===u){this._removeNode(a),this._length--;break}}return this}get length(){return this._length}cancel(u){return this.forEachFrom(u,n=>this.remove(n)),this}_setRoot(u){this._root=u,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(u,n){u.parent!==null?(u.isLeftChild()?u.parent.left=n:u.parent.right=n,this._rebalance(u.parent)):this._setRoot(n)}_removeNode(u){if(u.left===null&&u.right===null)this._replaceNodeInParent(u,null);else if(u.right===null)this._replaceNodeInParent(u,u.left);else if(u.left===null)this._replaceNodeInParent(u,u.right);else{const n=u.getBalance();let a,r=null;if(n>0)if(u.left.right===null)a=u.left,a.right=u.right,r=a;else{for(a=u.left.right;a.right!==null;)a=a.right;a.parent&&(a.parent.right=a.left,r=a.parent,a.left=u.left,a.right=u.right)}else if(u.right.left===null)a=u.right,a.left=u.left,r=a;else{for(a=u.right.left;a.left!==null;)a=a.left;a.parent&&(a.parent.left=a.right,r=a.parent,a.left=u.left,a.right=u.right)}u.parent!==null?u.isLeftChild()?u.parent.left=a:u.parent.right=a:this._setRoot(a),r&&this._rebalance(r)}u.dispose()}_rotateLeft(u){const n=u.parent,a=u.isLeftChild(),r=u.right;r&&(u.right=r.left,r.left=u),n!==null?a?n.left=r:n.right=r:this._setRoot(r)}_rotateRight(u){const n=u.parent,a=u.isLeftChild(),r=u.left;r&&(u.left=r.right,r.right=u),n!==null?a?n.left=r:n.right=r:this._setRoot(r)}_rebalance(u){const n=u.getBalance();n>1&&u.left?u.left.getBalance()<0?this._rotateLeft(u.left):this._rotateRight(u):n<-1&&u.right&&(u.right.getBalance()>0?this._rotateRight(u.right):this._rotateLeft(u))}get(u){if(this._root!==null){const n=[];if(this._root.search(u,n),n.length>0){let a=n[0];for(let r=1;r<n.length;r++)n[r].low>a.low&&(a=n[r]);return a.event}}return null}forEach(u){if(this._root!==null){const n=[];this._root.traverse(a=>n.push(a)),n.forEach(a=>{a.event&&u(a.event)})}return this}forEachAtTime(u,n){if(this._root!==null){const a=[];this._root.search(u,a),a.forEach(r=>{r.event&&n(r.event)})}return this}forEachFrom(u,n){if(this._root!==null){const a=[];this._root.searchAfter(u,a),a.forEach(r=>{r.event&&n(r.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(u=>u.dispose()),this._root=null,this}}class IntervalNode{constructor(u,n,a){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=a,this.low=u,this.high=n,this.max=this.high}insert(u){u.low<=this.low?this.left===null?this.left=u:this.left.insert(u):this.right===null?this.right=u:this.right.insert(u)}search(u,n){u>this.max||(this.left!==null&&this.left.search(u,n),this.low<=u&&this.high>u&&n.push(this),!(this.low>u)&&this.right!==null&&this.right.search(u,n))}searchAfter(u,n){this.low>=u&&(n.push(this),this.left!==null&&this.left.searchAfter(u,n)),this.right!==null&&this.right.searchAfter(u,n)}traverse(u){u(this),this.left!==null&&this.left.traverse(u),this.right!==null&&this.right.traverse(u)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let u=0;return this.left!==null&&this.right!==null?u=this.left.height-this.right.height:this.left!==null?u=this.left.height+1:this.right!==null&&(u=-(this.right.height+1)),u}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(u){this._left=u,u!==null&&(u.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(u){this._right=u,u!==null&&(u.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Volume extends ToneAudioNode{constructor(){super(optionsFromArguments(Volume.getDefaults(),arguments,["volume"])),this.name="Volume";const u=optionsFromArguments(Volume.getDefaults(),arguments,["volume"]);this.input=this.output=new Gain({context:this.context,gain:u.volume,units:"decibels"}),this.volume=this.output.gain,readOnly(this,"volume"),this._unmutedVolume=u.volume,this.mute=u.mute}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(u){!this.mute&&u?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!u&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Destination extends ToneAudioNode{constructor(){super(optionsFromArguments(Destination.getDefaults(),arguments)),this.name="Destination",this.input=new Volume({context:this.context}),this.output=new Gain({context:this.context}),this.volume=this.input.volume;const u=optionsFromArguments(Destination.getDefaults(),arguments);connectSeries(this.input,this.output,this.context.rawContext.destination),this.mute=u.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(u){this.input.mute=u}chain(...u){return this.input.disconnect(),u.unshift(this.input),u.push(this.output),connectSeries(...u),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}onContextInit(N=>{N.destination=new Destination({context:N})});onContextClose(N=>{N.destination.dispose()});class TimelineValue extends Tone{constructor(u){super(),this.name="TimelineValue",this._timeline=new Timeline({memory:10}),this._initialValue=u}set(u,n){return this._timeline.add({value:u,time:n}),this}get(u){const n=this._timeline.get(u);return n?n.value:this._initialValue}}class TransportEvent{constructor(u,n){this.id=TransportEvent._eventId++;const a=Object.assign(TransportEvent.getDefaults(),n);this.transport=u,this.callback=a.callback,this._once=a.once,this.time=a.time}static getDefaults(){return{callback:noOp,once:!1,time:0}}invoke(u){this.callback&&(this.callback(u),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}TransportEvent._eventId=0;class TransportRepeatEvent extends TransportEvent{constructor(u,n){super(u,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const a=Object.assign(TransportRepeatEvent.getDefaults(),n);this.duration=new TicksClass(u.context,a.duration).valueOf(),this._interval=new TicksClass(u.context,a.interval).valueOf(),this._nextTick=a.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},TransportEvent.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(u){this._createEvents(u),super.invoke(u)}_createEvents(u){const n=this.transport.getTicksAtTime(u);n>=this.time&&n>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new TicksClass(this.context,this._nextTick).toSeconds()))}_restart(u){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const n=this.transport.getTicksAtTime(u);n>this.time&&(this._nextTick=this.time+Math.ceil((n-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new TicksClass(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new TicksClass(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}let Transport$1=class Oa extends ToneWithContext{constructor(){super(optionsFromArguments(Oa.getDefaults(),arguments)),this.name="Transport",this._loop=new TimelineValue(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Timeline,this._repeatedEvents=new IntervalTimeline,this._syncedSignals=[],this._swingAmount=0;const u=optionsFromArguments(Oa.getDefaults(),arguments);this._ppq=u.ppq,this._clock=new Clock({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=u.ppq,this.bpm.setValueAtTime(u.bpm,0),readOnly(this,"bpm"),this._timeSignature=u.timeSignature,this._swingTicks=u.ppq/2}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(u,n){if(this._loop.get(u)&&n>=this._loopEnd&&(this.emit("loopEnd",u),this._clock.setTicksAtTime(this._loopStart,u),n=this._loopStart,this.emit("loopStart",u,this._clock.getSecondsAtTime(u)),this.emit("loop",u)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const a=n%(this._swingTicks*2)/(this._swingTicks*2),r=Math.sin(a*Math.PI)*this._swingAmount;u+=new TicksClass(this.context,this._swingTicks*2/3).toSeconds()*r}this._timeline.forEachAtTime(n,a=>a.invoke(u))}schedule(u,n){const a=new TransportEvent(this,{callback:u,time:new TransportTimeClass(this.context,n).toTicks()});return this._addEvent(a,this._timeline)}scheduleRepeat(u,n,a,r=1/0){const b=new TransportRepeatEvent(this,{callback:u,duration:new TimeClass(this.context,r).toTicks(),interval:new TimeClass(this.context,n).toTicks(),time:new TransportTimeClass(this.context,a).toTicks()});return this._addEvent(b,this._repeatedEvents)}scheduleOnce(u,n){const a=new TransportEvent(this,{callback:u,once:!0,time:new TransportTimeClass(this.context,n).toTicks()});return this._addEvent(a,this._timeline)}clear(u){if(this._scheduledEvents.hasOwnProperty(u)){const n=this._scheduledEvents[u.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[u.toString()]}return this}_addEvent(u,n){return this._scheduledEvents[u.id.toString()]={event:u,timeline:n},n.add(u),u.id}cancel(u=0){const n=this.toTicks(u);return this._timeline.forEachFrom(n,a=>this.clear(a.id)),this._repeatedEvents.forEachFrom(n,a=>this.clear(a.id)),this}_bindClockEvents(){this._clock.on("start",(u,n)=>{n=new TicksClass(this.context,n).toSeconds(),this.emit("start",u,n)}),this._clock.on("stop",u=>{this.emit("stop",u)}),this._clock.on("pause",u=>{this.emit("pause",u)})}get state(){return this._clock.getStateAtTime(this.now())}start(u,n){let a;return isDefined(n)&&(a=this.toTicks(n)),this._clock.start(u,a),this}stop(u){return this._clock.stop(u),this}pause(u){return this._clock.pause(u),this}toggle(u){return u=this.toSeconds(u),this._clock.getStateAtTime(u)!=="started"?this.start(u):this.stop(u),this}get timeSignature(){return this._timeSignature}set timeSignature(u){isArray$1(u)&&(u=u[0]/u[1]*4),this._timeSignature=u}get loopStart(){return new TimeClass(this.context,this._loopStart,"i").toSeconds()}set loopStart(u){this._loopStart=this.toTicks(u)}get loopEnd(){return new TimeClass(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(u){this._loopEnd=this.toTicks(u)}get loop(){return this._loop.get(this.now())}set loop(u){this._loop.set(u,this.now())}setLoopPoints(u,n){return this.loopStart=u,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(u){this._swingAmount=u}get swingSubdivision(){return new TicksClass(this.context,this._swingTicks).toNotation()}set swingSubdivision(u){this._swingTicks=this.toTicks(u)}get position(){const u=this.now(),n=this._clock.getTicksAtTime(u);return new TicksClass(this.context,n).toBarsBeatsSixteenths()}set position(u){const n=this.toTicks(u);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(u){const n=this.now(),a=this._clock.frequency.timeToTicks(u,n);this.ticks=a}get progress(){if(this.loop){const u=this.now();return(this._clock.getTicksAtTime(u)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(u){if(this._clock.ticks!==u){const n=this.now();if(this.state==="started"){const a=this._clock.getTicksAtTime(n),r=this._clock.frequency.getDurationOfTicks(Math.ceil(a)-a,n),b=n+r;this.emit("stop",b),this._clock.setTicksAtTime(u,b),this.emit("start",b,this._clock.getSecondsAtTime(b))}else this._clock.setTicksAtTime(u,n)}}getTicksAtTime(u){return Math.round(this._clock.getTicksAtTime(u))}getSecondsAtTime(u){return this._clock.getSecondsAtTime(u)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(u){this._clock.frequency.multiplier=u}nextSubdivision(u){if(u=this.toTicks(u),this.state!=="started")return 0;{const n=this.now(),a=this.getTicksAtTime(n),r=u-a%u;return this._clock.nextTickTime(r,n)}}syncSignal(u,n){if(!n){const r=this.now();if(u.getValueAtTime(r)!==0){const h=1/(60/this.bpm.getValueAtTime(r)/this.PPQ);n=u.getValueAtTime(r)/h}else n=0}const a=new Gain(n);return this.bpm.connect(a),a.connect(u._param),this._syncedSignals.push({initial:u.value,ratio:a,signal:u}),u.value=0,this}unsyncSignal(u){for(let n=this._syncedSignals.length-1;n>=0;n--){const a=this._syncedSignals[n];a.signal===u&&(a.ratio.dispose(),a.signal.value=a.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),writable(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}};Emitter.mixin(Transport$1);onContextInit(N=>{N.transport=new Transport$1({context:N})});onContextClose(N=>{N.transport.dispose()});class Source extends ToneAudioNode{constructor(u){super(u),this.input=void 0,this._state=new StateTimeline("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=noOp,this._syncedStop=noOp,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Volume({context:this.context,mute:u.mute,volume:u.volume}),this.volume=this._volume.volume,readOnly(this,"volume"),this.onstop=u.onstop}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,onstop:noOp,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(u){this._volume.mute=u}_clampToCurrentTime(u){return this._synced?u:Math.max(u,this.context.currentTime)}start(u,n,a){let r=isUndef(u)&&this._synced?this.context.transport.seconds:this.toSeconds(u);if(r=this._clampToCurrentTime(r),!this._synced&&this._state.getValueAtTime(r)==="started")assert(GT(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,n,a);else if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const b=this._state.get(r);b&&(b.offset=this.toSeconds(defaultArg(n,0)),b.duration=a?this.toSeconds(a):void 0);const h=this.context.transport.schedule(m=>{this._start(m,n,a)},r);this._scheduled.push(h),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else assertContextRunning(this.context),this._start(r,n,a);return this}stop(u){let n=isUndef(u)&&this._synced?this.context.transport.seconds:this.toSeconds(u);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||isDefined(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const a=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(a)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(u,n,a){return u=this.toSeconds(u),this._state.getValueAtTime(u)==="started"&&(this._state.cancel(u),this._restart(u,n,a)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(u,n)=>{if(n>0){const a=this._state.get(n);if(a&&a.state==="started"&&a.time!==n){const r=n-this.toSeconds(a.time);let b;a.duration&&(b=this.toSeconds(a.duration)-r),this._start(u,this.toSeconds(a.offset)+r,b)}}},this._syncedStop=u=>{const n=this.context.transport.getSecondsAtTime(Math.max(u-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(u)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(u=>this.context.transport.clear(u)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=noOp,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class ToneBufferSource extends OneShotSource{constructor(){super(optionsFromArguments(ToneBufferSource.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const u=optionsFromArguments(ToneBufferSource.getDefaults(),arguments,["url","onload"]);connect$1(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Param({context:this.context,param:this._source.playbackRate,units:"positive",value:u.playbackRate}),this.loop=u.loop,this.loopStart=u.loopStart,this.loopEnd=u.loopEnd,this._buffer=new ToneAudioBuffer(u.url,u.onload,u.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(OneShotSource.getDefaults(),{url:new ToneAudioBuffer,loop:!1,loopEnd:0,loopStart:0,onload:noOp,onerror:noOp,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(u){this._fadeIn=u}get fadeOut(){return this._fadeOut}set fadeOut(u){this._fadeOut=u}get curve(){return this._curve}set curve(u){this._curve=u}start(u,n,a,r=1){assert(this.buffer.loaded,"buffer is either not set or not loaded");const b=this.toSeconds(u);this._startGain(b,r),this.loop?n=defaultArg(n,this.loopStart):n=defaultArg(n,0);let h=Math.max(this.toSeconds(n),0);if(this.loop){const m=this.toSeconds(this.loopEnd)||this.buffer.duration,p=this.toSeconds(this.loopStart),A=m-p;GTE(h,m)&&(h=(h-p)%A+p),EQ(h,this.buffer.duration)&&(h=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,LT(h,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(b,h)),isDefined(a)){let m=this.toSeconds(a);m=Math.max(m,0),this.stop(b+m)}return this}_stopSource(u){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(u)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(u){this._source.loopStart=this.toSeconds(u)}get loopEnd(){return this._source.loopEnd}set loopEnd(u){this._source.loopEnd=this.toSeconds(u)}get buffer(){return this._buffer}set buffer(u){this._buffer.set(u)}get loop(){return this._source.loop}set loop(u){this._source.loop=u,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function generateWaveform(N,u){return __awaiter(this,void 0,void 0,function*(){const n=u/N.context.sampleRate,a=new OfflineContext(1,n,N.context.sampleRate);return new N.constructor(Object.assign(N.get(),{frequency:2/n,detune:0,context:a})).toDestination().start(0),(yield a.render()).getChannelData(0)})}class ToneOscillatorNode extends OneShotSource{constructor(){super(optionsFromArguments(ToneOscillatorNode.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const u=optionsFromArguments(ToneOscillatorNode.getDefaults(),arguments,["frequency","type"]);connect$1(this._oscillator,this._gainNode),this.type=u.type,this.frequency=new Param({context:this.context,param:this._oscillator.frequency,units:"frequency",value:u.frequency}),this.detune=new Param({context:this.context,param:this._oscillator.detune,units:"cents",value:u.detune}),readOnly(this,["frequency","detune"])}static getDefaults(){return Object.assign(OneShotSource.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(u){const n=this.toSeconds(u);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(u){this._oscillator.stop(u)}setPeriodicWave(u){return this._oscillator.setPeriodicWave(u),this}get type(){return this._oscillator.type}set type(u){this._oscillator.type=u}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Oscillator extends Source{constructor(){super(optionsFromArguments(Oscillator.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const u=optionsFromArguments(Oscillator.getDefaults(),arguments,["frequency","type"]);this.frequency=new Signal({context:this.context,units:"frequency",value:u.frequency}),readOnly(this,"frequency"),this.detune=new Signal({context:this.context,units:"cents",value:u.detune}),readOnly(this,"detune"),this._partials=u.partials,this._partialCount=u.partialCount,this._type=u.type,u.partialCount&&u.type!=="custom"&&(this._type=this.baseType+u.partialCount.toString()),this.phase=u.phase}static getDefaults(){return Object.assign(Source.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(u){const n=this.toSeconds(u),a=new ToneOscillatorNode({context:this.context,onended:()=>this.onstop(this)});this._oscillator=a,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(u){const n=this.toSeconds(u);this._oscillator&&this._oscillator.stop(n)}_restart(u){const n=this.toSeconds(u);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Oscillator._periodicWaveCache.find(n=>n.phase===this._phase&&deepEquals(n.partials,this._partials));{const u=Oscillator._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=u?u.partialCount:this._partialCount,u}}get type(){return this._type}set type(u){this._type=u;const n=["sine","square","sawtooth","triangle"].indexOf(u)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=u);else{const a=this._getCachedPeriodicWave();if(isDefined(a)){const{partials:r,wave:b}=a;this._wave=b,this._partials=r,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[r,b]=this._getRealImaginary(u,this._phase),h=this.context.createPeriodicWave(r,b);this._wave=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Oscillator._periodicWaveCache.push({imag:b,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:r,type:this._type,wave:this._wave}),Oscillator._periodicWaveCache.length>100&&Oscillator._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(u){this.partialCount&&this._type!=="custom"&&u!=="custom"?this.type=u+this.partialCount:this.type=u}get partialCount(){return this._partialCount}set partialCount(u){assertRange(u,0);let n=this._type;const a=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(a&&(n=a[1]),this._type!=="custom")u===0?this.type=n:this.type=n+u.toString();else{const r=new Float32Array(u);this._partials.forEach((b,h)=>r[h]=b),this._partials=Array.from(r),this.type=this._type}}_getRealImaginary(u,n){let r=2048;const b=new Float32Array(r),h=new Float32Array(r);let m=1;if(u==="custom"){if(m=this._partials.length+1,this._partialCount=this._partials.length,r=m,this._partials.length===0)return[b,h]}else{const p=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(u);p?(m=parseInt(p[2],10)+1,this._partialCount=parseInt(p[2],10),u=p[1],m=Math.max(m,2),r=m):this._partialCount=0,this._partials=[]}for(let p=1;p<r;++p){const A=2/(p*Math.PI);let S;switch(u){case"sine":S=p<=m?1:0,this._partials[p-1]=S;break;case"square":S=p&1?2*A:0,this._partials[p-1]=S;break;case"sawtooth":S=A*(p&1?1:-1),this._partials[p-1]=S;break;case"triangle":p&1?S=2*(A*A)*(p-1>>1&1?-1:1):S=0,this._partials[p-1]=S;break;case"custom":S=this._partials[p-1];break;default:throw new TypeError("Oscillator: invalid type: "+u)}S!==0?(b[p]=-S*Math.sin(n*p),h[p]=S*Math.cos(n*p)):(b[p]=0,h[p]=0)}return[b,h]}_inverseFFT(u,n,a){let r=0;const b=u.length;for(let h=0;h<b;h++)r+=u[h]*Math.cos(h*a)+n[h]*Math.sin(h*a);return r}getInitialValue(){const[u,n]=this._getRealImaginary(this._type,0);let a=0;const r=Math.PI*2,b=32;for(let h=0;h<b;h++)a=Math.max(this._inverseFFT(u,n,h/b*r),a);return clamp$4(-this._inverseFFT(u,n,this._phase)/a,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(u){this._partials=u,this._partialCount=this._partials.length,u.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(u){this._phase=u*Math.PI/180,this.type=this._type}asArray(u=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,u)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Oscillator._periodicWaveCache=[];class SignalOperator extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(SignalOperator.getDefaults(),arguments,["context"])))}connect(u,n=0,a=0){return connectSignal(this,u,n,a),this}}class WaveShaper extends SignalOperator{constructor(){super(Object.assign(optionsFromArguments(WaveShaper.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const u=optionsFromArguments(WaveShaper.getDefaults(),arguments,["mapping","length"]);isArray$1(u.mapping)||u.mapping instanceof Float32Array?this.curve=Float32Array.from(u.mapping):isFunction$1(u.mapping)&&this.setMap(u.mapping,u.length)}static getDefaults(){return Object.assign(Signal.getDefaults(),{length:1024})}setMap(u,n=1024){const a=new Float32Array(n);for(let r=0,b=n;r<b;r++){const h=r/(b-1)*2-1;a[r]=u(h,r)}return this.curve=a,this}get curve(){return this._shaper.curve}set curve(u){this._shaper.curve=u}get oversample(){return this._shaper.oversample}set oversample(u){const n=["none","2x","4x"].some(a=>a.includes(u));assert(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=u}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class AudioToGain extends SignalOperator{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new WaveShaper({context:this.context,mapping:u=>(u+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Multiply extends Signal{constructor(){super(Object.assign(optionsFromArguments(Multiply.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const u=optionsFromArguments(Multiply.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Gain({context:this.context,minValue:u.minValue,maxValue:u.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(u.value,0)}static getDefaults(){return Object.assign(Signal.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class AMOscillator extends Source{constructor(){super(optionsFromArguments(AMOscillator.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new AudioToGain({context:this.context}),this._modulationNode=new Gain({context:this.context});const u=optionsFromArguments(AMOscillator.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Oscillator({context:this.context,detune:u.detune,frequency:u.frequency,onstop:()=>this.onstop(this),phase:u.phase,type:u.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Oscillator({context:this.context,phase:u.phase,type:u.modulationType}),this.harmonicity=new Multiply({context:this.context,units:"positive",value:u.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),readOnly(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Oscillator.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(u){this._modulator.start(u),this._carrier.start(u)}_stop(u){this._modulator.stop(u),this._carrier.stop(u)}_restart(u){this._modulator.restart(u),this._carrier.restart(u)}get type(){return this._carrier.type}set type(u){this._carrier.type=u}get baseType(){return this._carrier.baseType}set baseType(u){this._carrier.baseType=u}get partialCount(){return this._carrier.partialCount}set partialCount(u){this._carrier.partialCount=u}get modulationType(){return this._modulator.type}set modulationType(u){this._modulator.type=u}get phase(){return this._carrier.phase}set phase(u){this._carrier.phase=u,this._modulator.phase=u}get partials(){return this._carrier.partials}set partials(u){this._carrier.partials=u}asArray(u=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,u)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class FMOscillator extends Source{constructor(){super(optionsFromArguments(FMOscillator.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Gain({context:this.context,gain:0});const u=optionsFromArguments(FMOscillator.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Oscillator({context:this.context,detune:u.detune,frequency:0,onstop:()=>this.onstop(this),phase:u.phase,type:u.type}),this.detune=this._carrier.detune,this.frequency=new Signal({context:this.context,units:"frequency",value:u.frequency}),this._modulator=new Oscillator({context:this.context,phase:u.phase,type:u.modulationType}),this.harmonicity=new Multiply({context:this.context,units:"positive",value:u.harmonicity}),this.modulationIndex=new Multiply({context:this.context,units:"positive",value:u.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),readOnly(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Oscillator.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(u){this._modulator.start(u),this._carrier.start(u)}_stop(u){this._modulator.stop(u),this._carrier.stop(u)}_restart(u){return this._modulator.restart(u),this._carrier.restart(u),this}get type(){return this._carrier.type}set type(u){this._carrier.type=u}get baseType(){return this._carrier.baseType}set baseType(u){this._carrier.baseType=u}get partialCount(){return this._carrier.partialCount}set partialCount(u){this._carrier.partialCount=u}get modulationType(){return this._modulator.type}set modulationType(u){this._modulator.type=u}get phase(){return this._carrier.phase}set phase(u){this._carrier.phase=u,this._modulator.phase=u}get partials(){return this._carrier.partials}set partials(u){this._carrier.partials=u}asArray(u=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,u)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class PulseOscillator extends Source{constructor(){super(optionsFromArguments(PulseOscillator.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Gain({context:this.context,gain:0}),this._thresh=new WaveShaper({context:this.context,mapping:n=>n<=0?-1:1});const u=optionsFromArguments(PulseOscillator.getDefaults(),arguments,["frequency","width"]);this.width=new Signal({context:this.context,units:"audioRange",value:u.width}),this._triangle=new Oscillator({context:this.context,detune:u.detune,frequency:u.frequency,onstop:()=>this.onstop(this),phase:u.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),readOnly(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Source.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(u){u=this.toSeconds(u),this._triangle.start(u),this._widthGate.gain.setValueAtTime(1,u)}_stop(u){u=this.toSeconds(u),this._triangle.stop(u),this._widthGate.gain.cancelScheduledValues(u),this._widthGate.gain.setValueAtTime(0,u)}_restart(u){this._triangle.restart(u),this._widthGate.gain.cancelScheduledValues(u),this._widthGate.gain.setValueAtTime(1,u)}get phase(){return this._triangle.phase}set phase(u){this._triangle.phase=u}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(u){this._triangle.type=u}asArray(u=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,u)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class FatOscillator extends Source{constructor(){super(optionsFromArguments(FatOscillator.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const u=optionsFromArguments(FatOscillator.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Signal({context:this.context,units:"frequency",value:u.frequency}),this.detune=new Signal({context:this.context,units:"cents",value:u.detune}),this._spread=u.spread,this._type=u.type,this._phase=u.phase,this._partials=u.partials,this._partialCount=u.partialCount,this.count=u.count,readOnly(this,["frequency","detune"])}static getDefaults(){return Object.assign(Oscillator.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(u){u=this.toSeconds(u),this._forEach(n=>n.start(u))}_stop(u){u=this.toSeconds(u),this._forEach(n=>n.stop(u))}_restart(u){this._forEach(n=>n.restart(u))}_forEach(u){for(let n=0;n<this._oscillators.length;n++)u(this._oscillators[n],n)}get type(){return this._type}set type(u){this._type=u,this._forEach(n=>n.type=u)}get spread(){return this._spread}set spread(u){if(this._spread=u,this._oscillators.length>1){const n=-u/2,a=u/(this._oscillators.length-1);this._forEach((r,b)=>r.detune.value=n+a*b)}}get count(){return this._oscillators.length}set count(u){if(assertRange(u,1),this._oscillators.length!==u){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<u;n++){const a=new Oscillator({context:this.context,volume:-6-u*1.1,type:this._type,phase:this._phase+n/u*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):noOp});this.type==="custom"&&(a.partials=this._partials),this.frequency.connect(a.frequency),this.detune.connect(a.detune),a.detune.overridden=!1,a.connect(this.output),this._oscillators[n]=a}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(u){this._phase=u,this._forEach((n,a)=>n.phase=this._phase+a/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(u){this._forEach(n=>n.baseType=u),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(u){this._partials=u,this._partialCount=this._partials.length,u.length&&(this._type="custom",this._forEach(n=>n.partials=u))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(u){this._partialCount=u,this._forEach(n=>n.partialCount=u),this._type=this._oscillators[0].type}asArray(u=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,u)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(u=>u.dispose()),this}}class PWMOscillator extends Source{constructor(){super(optionsFromArguments(PWMOscillator.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Multiply({context:this.context,value:2});const u=optionsFromArguments(PWMOscillator.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new PulseOscillator({context:this.context,frequency:u.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Oscillator({context:this.context,detune:u.detune,frequency:u.frequency,onstop:()=>this.onstop(this),phase:u.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),readOnly(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Source.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(u){u=this.toSeconds(u),this._modulator.start(u),this._pulse.start(u)}_stop(u){u=this.toSeconds(u),this._modulator.stop(u),this._pulse.stop(u)}_restart(u){this._modulator.restart(u),this._pulse.restart(u)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(u){this._modulator.phase=u}asArray(u=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,u)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const OmniOscillatorSourceMap={am:AMOscillator,fat:FatOscillator,fm:FMOscillator,oscillator:Oscillator,pulse:PulseOscillator,pwm:PWMOscillator};class OmniOscillator extends Source{constructor(){super(optionsFromArguments(OmniOscillator.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const u=optionsFromArguments(OmniOscillator.getDefaults(),arguments,["frequency","type"]);this.frequency=new Signal({context:this.context,units:"frequency",value:u.frequency}),this.detune=new Signal({context:this.context,units:"cents",value:u.detune}),readOnly(this,["frequency","detune"]),this.set(u)}static getDefaults(){return Object.assign(Oscillator.getDefaults(),FMOscillator.getDefaults(),AMOscillator.getDefaults(),FatOscillator.getDefaults(),PulseOscillator.getDefaults(),PWMOscillator.getDefaults())}_start(u){this._oscillator.start(u)}_stop(u){this._oscillator.stop(u)}_restart(u){return this._oscillator.restart(u),this}get type(){let u="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(u=this._sourceType),u+this._oscillator.type}set type(u){u.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=u.substr(2)):u.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=u.substr(2)):u.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=u.substr(3)):u==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):u==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=u)}get partials(){return this._oscillator.partials}set partials(u){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=u)}get partialCount(){return this._oscillator.partialCount}set partialCount(u){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=u)}set(u){return Reflect.has(u,"type")&&u.type&&(this.type=u.type),super.set(u),this}_createNewOscillator(u){if(u!==this._sourceType){this._sourceType=u;const n=OmniOscillatorSourceMap[u],a=this.now();if(this._oscillator){const r=this._oscillator;r.stop(a),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(a)}}get phase(){return this._oscillator.phase}set phase(u){this._oscillator.phase=u}get sourceType(){return this._sourceType}set sourceType(u){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),u==="fm"?this.type="fm"+n:u==="am"?this.type="am"+n:u==="fat"?this.type="fat"+n:u==="oscillator"?this.type=n:u==="pulse"?this.type="pulse":u==="pwm"&&(this.type="pwm")}_getOscType(u,n){return u instanceof OmniOscillatorSourceMap[n]}get baseType(){return this._oscillator.baseType}set baseType(u){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&u!=="pulse"&&u!=="pwm"&&(this._oscillator.baseType=u)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(u){this._getOscType(this._oscillator,"fat")&&isNumber$1(u)&&(this._oscillator.count=u)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(u){this._getOscType(this._oscillator,"fat")&&isNumber$1(u)&&(this._oscillator.spread=u)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(u){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&isString$1(u)&&(this._oscillator.modulationType=u)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(u=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,u)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function range(N,u=1/0){const n=new WeakMap;return function(a,r){Reflect.defineProperty(a,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(b){assertRange(b,N,u),n.set(this,b)}})}}function timeRange(N,u=1/0){const n=new WeakMap;return function(a,r){Reflect.defineProperty(a,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(b){assertRange(this.toSeconds(b),N,u),n.set(this,b)}})}}class Player extends Source{constructor(){super(optionsFromArguments(Player.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const u=optionsFromArguments(Player.getDefaults(),arguments,["url","onload"]);this._buffer=new ToneAudioBuffer({onload:this._onload.bind(this,u.onload),onerror:u.onerror,reverse:u.reverse,url:u.url}),this.autostart=u.autostart,this._loop=u.loop,this._loopStart=u.loopStart,this._loopEnd=u.loopEnd,this._playbackRate=u.playbackRate,this.fadeIn=u.fadeIn,this.fadeOut=u.fadeOut}static getDefaults(){return Object.assign(Source.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:noOp,onerror:noOp,playbackRate:1,reverse:!1})}load(u){return __awaiter(this,void 0,void 0,function*(){return yield this._buffer.load(u),this._onload(),this})}_onload(u=noOp){u(),this.autostart&&this.start()}_onSourceEnd(u){this.onstop(this),this._activeSources.delete(u),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(u,n,a){return super.start(u,n,a),this}_start(u,n,a){this._loop?n=defaultArg(n,this._loopStart):n=defaultArg(n,0);const r=this.toSeconds(n),b=a;a=defaultArg(a,Math.max(this._buffer.duration-r,0));let h=this.toSeconds(a);h=h/this._playbackRate,u=this.toSeconds(u);const m=new ToneBufferSource({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(u+h),this._state.setStateAtTime("stopped",u+h,{implicitEnd:!0})),this._activeSources.add(m),this._loop&&isUndef(b)?m.start(u,r):m.start(u,r,h-this.toSeconds(this.fadeOut))}_stop(u){const n=this.toSeconds(u);this._activeSources.forEach(a=>a.stop(n))}restart(u,n,a){return super.restart(u,n,a),this}_restart(u,n,a){this._stop(u),this._start(u,n,a)}seek(u,n){const a=this.toSeconds(n);if(this._state.getValueAtTime(a)==="started"){const r=this.toSeconds(u);this._stop(a),this._start(a,r)}return this}setLoopPoints(u,n){return this.loopStart=u,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(u){this._loopStart=u,this.buffer.loaded&&assertRange(this.toSeconds(u),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=u})}get loopEnd(){return this._loopEnd}set loopEnd(u){this._loopEnd=u,this.buffer.loaded&&assertRange(this.toSeconds(u),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=u})}get buffer(){return this._buffer}set buffer(u){this._buffer.set(u)}get loop(){return this._loop}set loop(u){if(this._loop!==u&&(this._loop=u,this._activeSources.forEach(n=>{n.loop=u}),u)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(u){this._playbackRate=u;const n=this.now(),a=this._state.getNextState("stopped",n);a&&a.implicitEnd&&(this._state.cancel(a.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(u,n)})}get reverse(){return this._buffer.reverse}set reverse(u){this._buffer.reverse=u}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(u=>u.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}__decorate([timeRange(0)],Player.prototype,"fadeIn",void 0);__decorate([timeRange(0)],Player.prototype,"fadeOut",void 0);class Envelope extends ToneAudioNode{constructor(){super(optionsFromArguments(Envelope.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Signal({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const u=optionsFromArguments(Envelope.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=u.attack,this.decay=u.decay,this.sustain=u.sustain,this.release=u.release,this.attackCurve=u.attackCurve,this.releaseCurve=u.releaseCurve,this.decayCurve=u.decayCurve}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(u,n){if(isString$1(u))return u;{let a;for(a in EnvelopeCurves)if(EnvelopeCurves[a][n]===u)return a;return u}}_setCurve(u,n,a){if(isString$1(a)&&Reflect.has(EnvelopeCurves,a)){const r=EnvelopeCurves[a];isObject$1(r)?u!=="_decayCurve"&&(this[u]=r[n]):this[u]=r}else if(isArray$1(a)&&u!=="_decayCurve")this[u]=a;else throw new Error("Envelope: invalid curve: "+a)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(u){this._setCurve("_attackCurve","In",u)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(u){this._setCurve("_releaseCurve","Out",u)}get decayCurve(){return this._decayCurve}set decayCurve(u){assert(["linear","exponential"].some(n=>n===u),`Invalid envelope curve: ${u}`),this._decayCurve=u}triggerAttack(u,n=1){this.log("triggerAttack",u,n),u=this.toSeconds(u);let r=this.toSeconds(this.attack);const b=this.toSeconds(this.decay),h=this.getValueAtTime(u);if(h>0){const m=1/r;r=(1-h)/m}if(r<this.sampleTime)this._sig.cancelScheduledValues(u),this._sig.setValueAtTime(n,u);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,r,u);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,r,u);else{this._sig.cancelAndHoldAtTime(u);let m=this._attackCurve;for(let p=1;p<m.length;p++)if(m[p-1]<=h&&h<=m[p]){m=this._attackCurve.slice(p),m[0]=h;break}this._sig.setValueCurveAtTime(m,u,r,n)}if(b&&this.sustain<1){const m=n*this.sustain,p=u+r;this.log("decay",p),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(m,b+p):this._sig.exponentialApproachValueAtTime(m,p,b)}return this}triggerRelease(u){this.log("triggerRelease",u),u=this.toSeconds(u);const n=this.getValueAtTime(u);if(n>0){const a=this.toSeconds(this.release);a<this.sampleTime?this._sig.setValueAtTime(0,u):this._releaseCurve==="linear"?this._sig.linearRampTo(0,a,u):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,a,u):(assert(isArray$1(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(u),this._sig.setValueCurveAtTime(this._releaseCurve,u,a,n))}return this}getValueAtTime(u){return this._sig.getValueAtTime(u)}triggerAttackRelease(u,n,a=1){return n=this.toSeconds(n),this.triggerAttack(n,a),this.triggerRelease(n+this.toSeconds(u)),this}cancel(u){return this._sig.cancelScheduledValues(this.toSeconds(u)),this}connect(u,n=0,a=0){return connectSignal(this,u,n,a),this}asArray(u=1024){return __awaiter(this,void 0,void 0,function*(){const n=u/this.context.sampleRate,a=new OfflineContext(1,n,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),b=r+this.toSeconds(this.release),h=b*.1,m=b+h,p=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/m,decay:n*this.toSeconds(this.decay)/m,release:n*this.toSeconds(this.release)/m,context:a}));return p._sig.toDestination(),p.triggerAttackRelease(n*(r+h)/m,0),(yield a.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}__decorate([timeRange(0)],Envelope.prototype,"attack",void 0);__decorate([timeRange(0)],Envelope.prototype,"decay",void 0);__decorate([range(0,1)],Envelope.prototype,"sustain",void 0);__decorate([timeRange(0)],Envelope.prototype,"release",void 0);const EnvelopeCurves=(()=>{let u,n;const a=[];for(u=0;u<128;u++)a[u]=Math.sin(u/(128-1)*(Math.PI/2));const r=[],b=6.4;for(u=0;u<128-1;u++){n=u/(128-1);const l=Math.sin(n*(Math.PI*2)*b-Math.PI/2)+1;r[u]=l/10+n*.83}r[128-1]=1;const h=[],m=5;for(u=0;u<128;u++)h[u]=Math.ceil(u/(128-1)*m)/m;const p=[];for(u=0;u<128;u++)n=u/(128-1),p[u]=.5*(1-Math.cos(Math.PI*n));const A=[];for(u=0;u<128;u++){n=u/(128-1);const l=Math.pow(n,3)*4+.2,y=Math.cos(l*Math.PI*2*n);A[u]=Math.abs(y*(1-n))}function S(l){const y=new Array(l.length);for(let o=0;o<l.length;o++)y[o]=1-l[o];return y}function _(l){return l.slice(0).reverse()}return{bounce:{In:S(A),Out:A},cosine:{In:a,Out:_(a)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:S(r)},sine:{In:p,Out:S(p)},step:{In:h,Out:S(h)}}})();let Instrument$2=class ja extends ToneAudioNode{constructor(){super(optionsFromArguments(ja.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const u=optionsFromArguments(ja.getDefaults(),arguments);this._volume=this.output=new Volume({context:this.context,volume:u.volume}),this.volume=this._volume.volume,readOnly(this,"volume")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let u=!1;return this._synced||(this._synced=!0,u=!0),u}_syncMethod(u,n){const a=this["_original_"+u]=this[u];this[u]=(...r)=>{const b=r[n],h=this.context.transport.schedule(m=>{r[n]=m,a.apply(this,r)},b);this._scheduledEvents.push(h)}}unsync(){return this._scheduledEvents.forEach(u=>this.context.transport.clear(u)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(u,n,a,r){const b=this.toSeconds(a),h=this.toSeconds(n);return this.triggerAttack(u,b,r),this.triggerRelease(b+h),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}};class Monophonic extends Instrument$2{constructor(){super(optionsFromArguments(Monophonic.getDefaults(),arguments));const u=optionsFromArguments(Monophonic.getDefaults(),arguments);this.portamento=u.portamento,this.onsilence=u.onsilence}static getDefaults(){return Object.assign(Instrument$2.getDefaults(),{detune:0,onsilence:noOp,portamento:0})}triggerAttack(u,n,a=1){this.log("triggerAttack",u,n,a);const r=this.toSeconds(n);return this._triggerEnvelopeAttack(r,a),this.setNote(u,r),this}triggerRelease(u){this.log("triggerRelease",u);const n=this.toSeconds(u);return this._triggerEnvelopeRelease(n),this}setNote(u,n){const a=this.toSeconds(n),r=u instanceof FrequencyClass?u.toFrequency():u;if(this.portamento>0&&this.getLevelAtTime(a)>.05){const b=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,b,a)}else this.frequency.setValueAtTime(r,a);return this}}__decorate([timeRange(0)],Monophonic.prototype,"portamento",void 0);class AmplitudeEnvelope extends Envelope{constructor(){super(optionsFromArguments(AmplitudeEnvelope.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Gain({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}let Synth$3=class Pa extends Monophonic{constructor(){super(optionsFromArguments(Pa.getDefaults(),arguments)),this.name="Synth";const u=optionsFromArguments(Pa.getDefaults(),arguments);this.oscillator=new OmniOscillator(Object.assign({context:this.context,detune:u.detune,onstop:()=>this.onsilence(this)},u.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new AmplitudeEnvelope(Object.assign({context:this.context},u.envelope)),this.oscillator.chain(this.envelope,this.output),readOnly(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Monophonic.getDefaults(),{envelope:Object.assign(omitFromObject(Envelope.getDefaults(),Object.keys(ToneAudioNode.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(omitFromObject(OmniOscillator.getDefaults(),[...Object.keys(Source.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(u,n){if(this.envelope.triggerAttack(u,n),this.oscillator.start(u),this.envelope.sustain===0){const a=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(u+a+r)}}_triggerEnvelopeRelease(u){this.envelope.triggerRelease(u),this.oscillator.stop(u+this.toSeconds(this.envelope.release))}getLevelAtTime(u){return u=this.toSeconds(u),this.envelope.getValueAtTime(u)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}};class MembraneSynth extends Synth$3{constructor(){super(optionsFromArguments(MembraneSynth.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const u=optionsFromArguments(MembraneSynth.getDefaults(),arguments);this.pitchDecay=u.pitchDecay,this.octaves=u.octaves,readOnly(this,["oscillator","envelope"])}static getDefaults(){return deepMerge(Monophonic.getDefaults(),Synth$3.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(u,n){const a=this.toSeconds(n),r=this.toFrequency(u instanceof FrequencyClass?u.toFrequency():u),b=r*this.octaves;return this.oscillator.frequency.setValueAtTime(b,a),this.oscillator.frequency.exponentialRampToValueAtTime(r,a+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}__decorate([range(0)],MembraneSynth.prototype,"octaves",void 0);__decorate([timeRange(0)],MembraneSynth.prototype,"pitchDecay",void 0);const workletContext=new Set;function addToWorklet(N){workletContext.add(N)}function registerProcessor(N,u){const n=`registerProcessor("${N}", ${u})`;workletContext.add(n)}const toneAudioWorkletProcessor=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;addToWorklet(toneAudioWorkletProcessor);const singleIOProcess=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;addToWorklet(singleIOProcess);const delayLine=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;addToWorklet(delayLine);const workletName$1="feedback-comb-filter",feedbackCombFilter=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;registerProcessor(workletName$1,feedbackCombFilter);let Sampler$1=class Ia extends Instrument$2{constructor(){super(optionsFromArguments(Ia.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const u=optionsFromArguments(Ia.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(u.urls).forEach(a=>{const r=parseInt(a,10);if(assert(isNote(a)||isNumber$1(r)&&isFinite(r),`url key is neither a note or midi pitch: ${a}`),isNote(a)){const b=new FrequencyClass(this.context,a).toMidi();n[b]=u.urls[a]}else isNumber$1(r)&&isFinite(r)&&(n[r]=u.urls[r])}),this._buffers=new ToneAudioBuffers({urls:n,onload:u.onload,baseUrl:u.baseUrl,onerror:u.onerror}),this.attack=u.attack,this.release=u.release,this.curve=u.curve,this._buffers.loaded&&Promise.resolve().then(u.onload)}static getDefaults(){return Object.assign(Instrument$2.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:noOp,onerror:noOp,release:.1,urls:{}})}_findClosest(u){let a=0;for(;a<96;){if(this._buffers.has(u+a))return-a;if(this._buffers.has(u-a))return a;a++}throw new Error(`No available buffers for note: ${u}`)}triggerAttack(u,n,a=1){return this.log("triggerAttack",u,n,a),Array.isArray(u)||(u=[u]),u.forEach(r=>{const b=ftomf(new FrequencyClass(this.context,r).toFrequency()),h=Math.round(b),m=b-h,p=this._findClosest(h),A=h-p,S=this._buffers.get(A),_=intervalToFrequencyRatio(p+m),l=new ToneBufferSource({url:S,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:_}).connect(this.output);l.start(n,0,S.duration/_,a),isArray$1(this._activeSources.get(h))||this._activeSources.set(h,[]),this._activeSources.get(h).push(l),l.onended=()=>{if(this._activeSources&&this._activeSources.has(h)){const y=this._activeSources.get(h),o=y.indexOf(l);o!==-1&&y.splice(o,1)}}}),this}triggerRelease(u,n){return this.log("triggerRelease",u,n),Array.isArray(u)||(u=[u]),u.forEach(a=>{const r=new FrequencyClass(this.context,a).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const b=this._activeSources.get(r);n=this.toSeconds(n),b.forEach(h=>{h.stop(n)}),this._activeSources.set(r,[])}}),this}releaseAll(u){const n=this.toSeconds(u);return this._activeSources.forEach(a=>{for(;a.length;)a.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(u,n,a,r=1){const b=this.toSeconds(a);return this.triggerAttack(u,b,r),isArray$1(n)?(assert(isArray$1(u),"notes must be an array when duration is array"),u.forEach((h,m)=>{const p=n[Math.min(m,n.length-1)];this.triggerRelease(h,b+this.toSeconds(p))})):this.triggerRelease(u,b+this.toSeconds(n)),this}add(u,n,a){if(assert(isNote(u)||isFinite(u),`note must be a pitch or midi: ${u}`),isNote(u)){const r=new FrequencyClass(this.context,u).toMidi();this._buffers.add(r,n,a)}else this._buffers.add(u,n,a);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(u=>{u.forEach(n=>n.dispose())}),this._activeSources.clear(),this}};__decorate([timeRange(0)],Sampler$1.prototype,"attack",void 0);__decorate([timeRange(0)],Sampler$1.prototype,"release",void 0);class ToneEvent extends ToneWithContext{constructor(){super(optionsFromArguments(ToneEvent.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new StateTimeline("stopped"),this._startOffset=0;const u=optionsFromArguments(ToneEvent.getDefaults(),arguments,["callback","value"]);this._loop=u.loop,this.callback=u.callback,this.value=u.value,this._loopStart=this.toTicks(u.loopStart),this._loopEnd=this.toTicks(u.loopEnd),this._playbackRate=u.playbackRate,this._probability=u.probability,this._humanize=u.humanize,this.mute=u.mute,this._playbackRate=u.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{callback:noOp,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(u=-1){this._state.forEachFrom(u,n=>{let a;if(n.state==="started"){n.id!==-1&&this.context.transport.clear(n.id);const r=n.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||isNumber$1(this._loop)&&this._loop>1){a=1/0,isNumber$1(this._loop)&&(a=this._loop*this._getLoopDuration());const b=this._state.getAfter(r);b!==null&&(a=Math.min(a,b.time-r)),a!==1/0&&(this._state.setStateAtTime("stopped",r+a+1,{id:-1}),a=new TicksClass(this.context,a));const h=new TicksClass(this.context,this._getLoopDuration());n.id=this.context.transport.scheduleRepeat(this._tick.bind(this),h,new TicksClass(this.context,r),a)}else n.id=this.context.transport.schedule(this._tick.bind(this),new TicksClass(this.context,r))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(u){this._startOffset=u}get probability(){return this._probability}set probability(u){this._probability=u}get humanize(){return this._humanize}set humanize(u){this._humanize=u}start(u){const n=this.toTicks(u);return this._state.getValueAtTime(n)==="stopped"&&(this._state.add({id:-1,state:"started",time:n}),this._rescheduleEvents(n)),this}stop(u){this.cancel(u);const n=this.toTicks(u);if(this._state.getValueAtTime(n)==="started"){this._state.setStateAtTime("stopped",n,{id:-1});const a=this._state.getBefore(n);let r=n;a!==null&&(r=a.time),this._rescheduleEvents(r)}return this}cancel(u){u=defaultArg(u,-1/0);const n=this.toTicks(u);return this._state.forEachFrom(n,a=>{this.context.transport.clear(a.id)}),this._state.cancel(n),this}_tick(u){const n=this.context.transport.getTicksAtTime(u);if(!this.mute&&this._state.getValueAtTime(n)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let a=.02;isBoolean$1(this.humanize)||(a=this.toSeconds(this.humanize)),u+=(Math.random()*2-1)*a}this.callback(u,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(u){this._loop=u,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(u){this._playbackRate=u,this._rescheduleEvents()}get loopEnd(){return new TicksClass(this.context,this._loopEnd).toSeconds()}set loopEnd(u){this._loopEnd=this.toTicks(u),this._loop&&this._rescheduleEvents()}get loopStart(){return new TicksClass(this.context,this._loopStart).toSeconds()}set loopStart(u){this._loopStart=this.toTicks(u),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const u=this.context.transport.ticks,n=this._state.get(u);if(n!==null&&n.state==="started"){const a=this._getLoopDuration();return(u-n.time)%a/a}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Loop extends ToneWithContext{constructor(){super(optionsFromArguments(Loop.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const u=optionsFromArguments(Loop.getDefaults(),arguments,["callback","interval"]);this._event=new ToneEvent({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:u.interval,playbackRate:u.playbackRate,probability:u.probability}),this.callback=u.callback,this.iterations=u.iterations}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{interval:"4n",callback:noOp,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(u){return this._event.start(u),this}stop(u){return this._event.stop(u),this}cancel(u){return this._event.cancel(u),this}_tick(u){this.callback(u)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(u){this._event.loopEnd=u}get playbackRate(){return this._event.playbackRate}set playbackRate(u){this._event.playbackRate=u}get humanize(){return this._event.humanize}set humanize(u){this._event.humanize=u}get probability(){return this._event.probability}set probability(u){this._event.probability=u}get mute(){return this._event.mute}set mute(u){this._event.mute=u}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(u){u===1/0?this._event.loop=!0:this._event.loop=u}dispose(){return super.dispose(),this._event.dispose(),this}}class Panner extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(Panner.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const u=optionsFromArguments(Panner.getDefaults(),arguments,["pan"]);this.pan=new Param({context:this.context,param:this._panner.pan,value:u.pan,minValue:-1,maxValue:1}),this._panner.channelCount=u.channelCount,this._panner.channelCountMode="explicit",readOnly(this,"pan")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const workletName="bit-crusher",bitCrusherWorklet=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;registerProcessor(workletName,bitCrusherWorklet);class Split extends ToneAudioNode{constructor(){super(optionsFromArguments(Split.getDefaults(),arguments,["channels"])),this.name="Split";const u=optionsFromArguments(Split.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(u.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Merge extends ToneAudioNode{constructor(){super(optionsFromArguments(Merge.getDefaults(),arguments,["channels"])),this.name="Merge";const u=optionsFromArguments(Merge.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(u.channels)}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class Solo extends ToneAudioNode{constructor(){super(optionsFromArguments(Solo.getDefaults(),arguments,["solo"])),this.name="Solo";const u=optionsFromArguments(Solo.getDefaults(),arguments,["solo"]);this.input=this.output=new Gain({context:this.context}),Solo._allSolos.has(this.context)||Solo._allSolos.set(this.context,new Set),Solo._allSolos.get(this.context).add(this),this.solo=u.solo}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(u){u?this._addSolo():this._removeSolo(),Solo._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Solo._soloed.has(this.context)||Solo._soloed.set(this.context,new Set),Solo._soloed.get(this.context).add(this)}_removeSolo(){Solo._soloed.has(this.context)&&Solo._soloed.get(this.context).delete(this)}_isSoloed(){return Solo._soloed.has(this.context)&&Solo._soloed.get(this.context).has(this)}_noSolos(){return!Solo._soloed.has(this.context)||Solo._soloed.has(this.context)&&Solo._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Solo._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Solo._allSolos=new Map;Solo._soloed=new Map;class PanVol extends ToneAudioNode{constructor(){super(optionsFromArguments(PanVol.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const u=optionsFromArguments(PanVol.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Panner({context:this.context,pan:u.pan,channelCount:u.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Volume({context:this.context,volume:u.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=u.mute,readOnly(this,["pan","volume"])}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(u){this._volume.mute=u}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}let Channel$1=class Pi extends ToneAudioNode{constructor(){super(optionsFromArguments(Pi.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const u=optionsFromArguments(Pi.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Solo({solo:u.solo,context:this.context}),this._panVol=this.output=new PanVol({context:this.context,pan:u.pan,volume:u.volume,mute:u.mute,channelCount:u.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),readOnly(this,["pan","volume"])}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(u){this._solo.solo=u}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(u){this._panVol.mute=u}_getBus(u){return Pi.buses.has(u)||Pi.buses.set(u,new Gain({context:this.context})),Pi.buses.get(u)}send(u,n=0){const a=this._getBus(u),r=new Gain({context:this.context,units:"decibels",gain:n});return this.connect(r),r.connect(a),r}receive(u){return this._getBus(u).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}};Channel$1.buses=new Map;let Listener$1=class extends ToneAudioNode{constructor(){super(...arguments),this.name="Listener",this.positionX=new Param({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Param({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Param({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Param({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Param({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Param({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Param({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Param({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Param({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}};onContextInit(N=>{N.listener=new Listener$1({context:N})});onContextClose(N=>{N.listener.dispose()});class Compressor extends ToneAudioNode{constructor(){super(optionsFromArguments(Compressor.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const u=optionsFromArguments(Compressor.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new Param({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:u.threshold}),this.attack=new Param({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:u.attack}),this.release=new Param({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:u.release}),this.knee=new Param({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:u.knee}),this.ratio=new Param({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:u.ratio}),readOnly(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Limiter extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(Limiter.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const u=optionsFromArguments(Limiter.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new Compressor({context:this.context,ratio:20,attack:.003,release:.01,threshold:u.threshold}),this.threshold=this._compressor.threshold,readOnly(this,"threshold")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}function immediate(){return getContext().immediate()}const Transport=getContext().transport;getContext().destination;getContext().destination;function getDestination(){return getContext().destination}getContext().listener;getContext().draw;const context=getContext();class EventEmitter{constructor(u=!1){this.eventMap={},this.eventsSuspended=u==!0}addListener(u,n,a={}){if(typeof u=="string"&&u.length<1||u instanceof String&&u.length<1||typeof u!="string"&&!(u instanceof String)&&u!==EventEmitter.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(typeof n!="function")throw new TypeError("The callback must be a function.");const r=new Listener(u,this,n,a);return this.eventMap[u]||(this.eventMap[u]=[]),a.prepend?this.eventMap[u].unshift(r):this.eventMap[u].push(r),r}addOneTimeListener(u,n,a={}){a.remaining=1,this.addListener(u,n,a)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(u,n){return u===void 0?this.eventMap[EventEmitter.ANY_EVENT]&&this.eventMap[EventEmitter.ANY_EVENT].length>0?!0:Object.entries(this.eventMap).some(([,a])=>a.length>0):this.eventMap[u]&&this.eventMap[u].length>0?n instanceof Listener?this.eventMap[u].filter(r=>r===n).length>0:typeof n=="function"?this.eventMap[u].filter(r=>r.callback===n).length>0:n==null:!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(u){return this.eventMap[u]||[]}suspendEvent(u){this.getListeners(u).forEach(n=>{n.suspended=!0})}unsuspendEvent(u){this.getListeners(u).forEach(n=>{n.suspended=!1})}getListenerCount(u){return this.getListeners(u).length}emit(u,...n){if(typeof u!="string"&&!(u instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let a=[],r=this.eventMap[EventEmitter.ANY_EVENT]||[];return this.eventMap[u]&&(r=r.concat(this.eventMap[u])),r.forEach(b=>{if(b.suspended)return;let h=[...n];Array.isArray(b.arguments)&&(h=h.concat(b.arguments)),b.remaining>0&&(a.push(b.callback.apply(b.context,h)),b.count++),--b.remaining<1&&b.remove()}),a}removeListener(u,n,a={}){if(u===void 0){this.eventMap={};return}else if(!this.eventMap[u])return;let r=this.eventMap[u].filter(b=>n&&b.callback!==n||a.remaining&&a.remaining!==b.remaining||a.context&&a.context!==b.context);r.length?this.eventMap[u]=r:delete this.eventMap[u]}async waitFor(u,n={}){return n.duration=parseInt(n.duration),(isNaN(n.duration)||n.duration<=0)&&(n.duration=1/0),new Promise((a,r)=>{let b,h=this.addListener(u,()=>{clearTimeout(b),a()},{remaining:1});n.duration!==1/0&&(b=setTimeout(()=>{h.remove(),r("The duration expired before the event was emitted.")},n.duration))})}get eventCount(){return Object.keys(this.eventMap).length}}class Listener{constructor(u,n,a,r={}){if(typeof u!="string"&&!(u instanceof String)&&u!==EventEmitter.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!n)throw new ReferenceError("The 'target' parameter is mandatory.");if(typeof a!="function")throw new TypeError("The 'callback' must be a function.");r.arguments!==void 0&&!Array.isArray(r.arguments)&&(r.arguments=[r.arguments]),r=Object.assign({context:n,remaining:1/0,arguments:void 0,duration:1/0},r),r.duration!==1/0&&setTimeout(()=>this.remove(),r.duration),this.arguments=r.arguments,this.callback=a,this.context=r.context,this.count=0,this.event=u,this.remaining=parseInt(r.remaining)>=1?parseInt(r.remaining):1/0,this.suspended=!1,this.target=n}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All its properties are static and should be referenced using the class name. For
 * example: `Enumerations.CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Enumerations{static get MIDI_CHANNEL_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MESSAGES enum instead."),Enumerations.CHANNEL_MESSAGES}static get CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_NUMBERS(){return this.validation&&console.warn("The MIDI_CHANNEL_NUMBERS array has been deprecated. Use the Enumerations.CHANNEL_NUMBERS array instead."),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MODE_MESSAGES enum instead."),Enumerations.CHANNEL_MODE_MESSAGES}static get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been deprecated. Use the Enumerations.CONTROL_CHANGE_MESSAGES array instead."),{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get CONTROL_CHANGE_MESSAGES(){return[{number:0,name:"bankselectcoarse",description:"Bank Select (Coarse)",position:"msb"},{number:1,name:"modulationwheelcoarse",description:"Modulation Wheel (Coarse)",position:"msb"},{number:2,name:"breathcontrollercoarse",description:"Breath Controller (Coarse)",position:"msb"},{number:3,name:"controller3",description:"Undefined",position:"msb"},{number:4,name:"footcontrollercoarse",description:"Foot Controller (Coarse)",position:"msb"},{number:5,name:"portamentotimecoarse",description:"Portamento Time (Coarse)",position:"msb"},{number:6,name:"dataentrycoarse",description:"Data Entry (Coarse)",position:"msb"},{number:7,name:"volumecoarse",description:"Channel Volume (Coarse)",position:"msb"},{number:8,name:"balancecoarse",description:"Balance (Coarse)",position:"msb"},{number:9,name:"controller9",description:"Controller 9 (Coarse)",position:"msb"},{number:10,name:"pancoarse",description:"Pan (Coarse)",position:"msb"},{number:11,name:"expressioncoarse",description:"Expression Controller (Coarse)",position:"msb"},{number:12,name:"effectcontrol1coarse",description:"Effect Control 1 (Coarse)",position:"msb"},{number:13,name:"effectcontrol2coarse",description:"Effect Control 2 (Coarse)",position:"msb"},{number:14,name:"controller14",description:"Undefined",position:"msb"},{number:15,name:"controller15",description:"Undefined",position:"msb"},{number:16,name:"generalpurposecontroller1",description:"General Purpose Controller 1 (Coarse)",position:"msb"},{number:17,name:"generalpurposecontroller2",description:"General Purpose Controller 2 (Coarse)",position:"msb"},{number:18,name:"generalpurposecontroller3",description:"General Purpose Controller 3 (Coarse)",position:"msb"},{number:19,name:"generalpurposecontroller4",description:"General Purpose Controller 4 (Coarse)",position:"msb"},{number:20,name:"controller20",description:"Undefined",position:"msb"},{number:21,name:"controller21",description:"Undefined",position:"msb"},{number:22,name:"controller22",description:"Undefined",position:"msb"},{number:23,name:"controller23",description:"Undefined",position:"msb"},{number:24,name:"controller24",description:"Undefined",position:"msb"},{number:25,name:"controller25",description:"Undefined",position:"msb"},{number:26,name:"controller26",description:"Undefined",position:"msb"},{number:27,name:"controller27",description:"Undefined",position:"msb"},{number:28,name:"controller28",description:"Undefined",position:"msb"},{number:29,name:"controller29",description:"Undefined",position:"msb"},{number:30,name:"controller30",description:"Undefined",position:"msb"},{number:31,name:"controller31",description:"Undefined",position:"msb"},{number:32,name:"bankselectfine",description:"Bank Select (Fine)",position:"lsb"},{number:33,name:"modulationwheelfine",description:"Modulation Wheel (Fine)",position:"lsb"},{number:34,name:"breathcontrollerfine",description:"Breath Controller (Fine)",position:"lsb"},{number:35,name:"controller35",description:"Undefined",position:"lsb"},{number:36,name:"footcontrollerfine",description:"Foot Controller (Fine)",position:"lsb"},{number:37,name:"portamentotimefine",description:"Portamento Time (Fine)",position:"lsb"},{number:38,name:"dataentryfine",description:"Data Entry (Fine)",position:"lsb"},{number:39,name:"channelvolumefine",description:"Channel Volume (Fine)",position:"lsb"},{number:40,name:"balancefine",description:"Balance (Fine)",position:"lsb"},{number:41,name:"controller41",description:"Undefined",position:"lsb"},{number:42,name:"panfine",description:"Pan (Fine)",position:"lsb"},{number:43,name:"expressionfine",description:"Expression Controller (Fine)",position:"lsb"},{number:44,name:"effectcontrol1fine",description:"Effect control 1 (Fine)",position:"lsb"},{number:45,name:"effectcontrol2fine",description:"Effect control 2 (Fine)",position:"lsb"},{number:46,name:"controller46",description:"Undefined",position:"lsb"},{number:47,name:"controller47",description:"Undefined",position:"lsb"},{number:48,name:"controller48",description:"General Purpose Controller 1 (Fine)",position:"lsb"},{number:49,name:"controller49",description:"General Purpose Controller 2 (Fine)",position:"lsb"},{number:50,name:"controller50",description:"General Purpose Controller 3 (Fine)",position:"lsb"},{number:51,name:"controller51",description:"General Purpose Controller 4 (Fine)",position:"lsb"},{number:52,name:"controller52",description:"Undefined",position:"lsb"},{number:53,name:"controller53",description:"Undefined",position:"lsb"},{number:54,name:"controller54",description:"Undefined",position:"lsb"},{number:55,name:"controller55",description:"Undefined",position:"lsb"},{number:56,name:"controller56",description:"Undefined",position:"lsb"},{number:57,name:"controller57",description:"Undefined",position:"lsb"},{number:58,name:"controller58",description:"Undefined",position:"lsb"},{number:59,name:"controller59",description:"Undefined",position:"lsb"},{number:60,name:"controller60",description:"Undefined",position:"lsb"},{number:61,name:"controller61",description:"Undefined",position:"lsb"},{number:62,name:"controller62",description:"Undefined",position:"lsb"},{number:63,name:"controller63",description:"Undefined",position:"lsb"},{number:64,name:"damperpedal",description:"Damper Pedal On/Off"},{number:65,name:"portamento",description:"Portamento On/Off"},{number:66,name:"sostenuto",description:"Sostenuto On/Off"},{number:67,name:"softpedal",description:"Soft Pedal On/Off"},{number:68,name:"legatopedal",description:"Legato Pedal On/Off"},{number:69,name:"hold2",description:"Hold 2 On/Off"},{number:70,name:"soundvariation",description:"Sound Variation",position:"lsb"},{number:71,name:"resonance",description:"Resonance",position:"lsb"},{number:72,name:"releasetime",description:"Release Time",position:"lsb"},{number:73,name:"attacktime",description:"Attack Time",position:"lsb"},{number:74,name:"brightness",description:"Brightness",position:"lsb"},{number:75,name:"decaytime",description:"Decay Time",position:"lsb"},{number:76,name:"vibratorate",description:"Vibrato Rate",position:"lsb"},{number:77,name:"vibratodepth",description:"Vibrato Depth",position:"lsb"},{number:78,name:"vibratodelay",description:"Vibrato Delay",position:"lsb"},{number:79,name:"controller79",description:"Undefined",position:"lsb"},{number:80,name:"generalpurposecontroller5",description:"General Purpose Controller 5",position:"lsb"},{number:81,name:"generalpurposecontroller6",description:"General Purpose Controller 6",position:"lsb"},{number:82,name:"generalpurposecontroller7",description:"General Purpose Controller 7",position:"lsb"},{number:83,name:"generalpurposecontroller8",description:"General Purpose Controller 8",position:"lsb"},{number:84,name:"portamentocontrol",description:"Portamento Control",position:"lsb"},{number:85,name:"controller85",description:"Undefined"},{number:86,name:"controller86",description:"Undefined"},{number:87,name:"controller87",description:"Undefined"},{number:88,name:"highresolutionvelocityprefix",description:"High Resolution Velocity Prefix",position:"lsb"},{number:89,name:"controller89",description:"Undefined"},{number:90,name:"controller90",description:"Undefined"},{number:91,name:"effect1depth",description:"Effects 1 Depth (Reverb Send Level)"},{number:92,name:"effect2depth",description:"Effects 2 Depth"},{number:93,name:"effect3depth",description:"Effects 3 Depth (Chorus Send Level)"},{number:94,name:"effect4depth",description:"Effects 4 Depth"},{number:95,name:"effect5depth",description:"Effects 5 Depth"},{number:96,name:"dataincrement",description:"Data Increment"},{number:97,name:"datadecrement",description:"Data Decrement"},{number:98,name:"nonregisteredparameterfine",description:"Non-Registered Parameter Number (Fine)",position:"lsb"},{number:99,name:"nonregisteredparametercoarse",description:"Non-Registered Parameter Number (Coarse)",position:"msb"},{number:100,name:"registeredparameterfine",description:"Registered Parameter Number (Fine)",position:"lsb"},{number:101,name:"registeredparametercoarse",description:"Registered Parameter Number (Coarse)",position:"msb"},{number:102,name:"controller102",description:"Undefined"},{number:103,name:"controller103",description:"Undefined"},{number:104,name:"controller104",description:"Undefined"},{number:105,name:"controller105",description:"Undefined"},{number:106,name:"controller106",description:"Undefined"},{number:107,name:"controller107",description:"Undefined"},{number:108,name:"controller108",description:"Undefined"},{number:109,name:"controller109",description:"Undefined"},{number:110,name:"controller110",description:"Undefined"},{number:111,name:"controller111",description:"Undefined"},{number:112,name:"controller112",description:"Undefined"},{number:113,name:"controller113",description:"Undefined"},{number:114,name:"controller114",description:"Undefined"},{number:115,name:"controller115",description:"Undefined"},{number:116,name:"controller116",description:"Undefined"},{number:117,name:"controller117",description:"Undefined"},{number:118,name:"controller118",description:"Undefined"},{number:119,name:"controller119",description:"Undefined"},{number:120,name:"allsoundoff",description:"All Sound Off"},{number:121,name:"resetallcontrollers",description:"Reset All Controllers"},{number:122,name:"localcontrol",description:"Local Control On/Off"},{number:123,name:"allnotesoff",description:"All Notes Off"},{number:124,name:"omnimodeoff",description:"Omni Mode Off"},{number:125,name:"omnimodeon",description:"Omni Mode On"},{number:126,name:"monomodeon",description:"Mono Mode On"},{number:127,name:"polymodeon",description:"Poly Mode On"}]}static get REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_REGISTERED_PARAMETERS(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETERS enum has been deprecated. Use the Enumerations.REGISTERED_PARAMETERS enum instead."),Enumerations.MIDI_REGISTERED_PARAMETERS}static get SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been deprecated. Use the Enumerations.SYSTEM_MESSAGES enum instead."),Enumerations.SYSTEM_MESSAGES}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-dataincrement","nrpn-datadecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-dataincrement","rpn-datadecrement","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn-databuttonincrement","rpn-databuttondecrement"]}}/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */let Note$2=class{constructor(u,n={}){this.duration=wm.defaults.note.duration,this.attack=wm.defaults.note.attack,this.release=wm.defaults.note.release,n.duration!=null&&(this.duration=n.duration),n.attack!=null&&(this.attack=n.attack),n.rawAttack!=null&&(this.attack=Utilities.from7bitToFloat(n.rawAttack)),n.release!=null&&(this.release=n.release),n.rawRelease!=null&&(this.release=Utilities.from7bitToFloat(n.rawRelease)),Number.isInteger(u)?this.identifier=Utilities.toNoteIdentifier(u):this.identifier=u}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(u){const n=Utilities.getNoteDetails(u);if(wm.validation&&!u)throw new Error("Invalid note identifier");this._name=n.name,this._accidental=n.accidental,this._octave=n.octave}get name(){return this._name}set name(u){if(wm.validation&&(u=u.toUpperCase(),!["C","D","E","F","G","A","B"].includes(u)))throw new Error("Invalid name value");this._name=u}get accidental(){return this._accidental}set accidental(u){if(wm.validation&&(u=u.toLowerCase(),!["#","##","b","bb"].includes(u)))throw new Error("Invalid accidental value");this._accidental=u}get octave(){return this._octave}set octave(u){if(wm.validation&&(u=parseInt(u),isNaN(u)))throw new Error("Invalid octave value");this._octave=u}get duration(){return this._duration}set duration(u){if(wm.validation&&(u=parseFloat(u),isNaN(u)||u===null||u<0))throw new RangeError("Invalid duration value.");this._duration=u}get attack(){return this._attack}set attack(u){if(wm.validation&&(u=parseFloat(u),isNaN(u)||!(u>=0&&u<=1)))throw new RangeError("Invalid attack value.");this._attack=u}get release(){return this._release}set release(u){if(wm.validation&&(u=parseFloat(u),isNaN(u)||!(u>=0&&u<=1)))throw new RangeError("Invalid release value.");this._release=u}get rawAttack(){return Utilities.fromFloatTo7Bit(this._attack)}set rawAttack(u){this._attack=Utilities.from7bitToFloat(u)}get rawRelease(){return Utilities.fromFloatTo7Bit(this._release)}set rawRelease(u){this._release=Utilities.from7bitToFloat(u)}get number(){return Utilities.toNoteNumber(this.identifier)}getOffsetNumber(u=0,n=0){return wm.validation&&(u=parseInt(u)||0,n=parseInt(n)||0),Math.min(Math.max(this.number+u*12+n,0),127)}};/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Utilities{static toNoteNumber(u,n=0){if(n=n==null?0:parseInt(n),isNaN(n))throw new RangeError("Invalid 'octaveOffset' value");typeof u!="string"&&(u="");const a=this.getNoteDetails(u);if(!a)throw new TypeError("Invalid note identifier");const r={C:0,D:2,E:4,F:5,G:7,A:9,B:11};let b=(a.octave+1+n)*12;if(b+=r[a.name],a.accidental&&(a.accidental.startsWith("b")?b-=a.accidental.length:b+=a.accidental.length),b<0||b>127)throw new RangeError("Invalid octaveOffset value");return b}static getNoteDetails(u){Number.isInteger(u)&&(u=this.toNoteIdentifier(u));const n=u.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!n)throw new TypeError("Invalid note identifier");const a=n[1].toUpperCase(),r=parseInt(n[3]);let b=n[2].toLowerCase();return b=b===""?void 0:b,{accidental:b,identifier:a+(b||"")+r,name:a,octave:r}}static sanitizeChannels(u){let n;if(wm.validation){if(u==="all")n=["all"];else if(u==="none")return[]}return Array.isArray(u)?n=u:n=[u],n.indexOf("all")>-1&&(n=Enumerations.MIDI_CHANNEL_NUMBERS),n.map(function(a){return parseInt(a)}).filter(function(a){return a>=1&&a<=16})}static toTimestamp(u){let n=!1;const a=parseFloat(u);return isNaN(a)?!1:(typeof u=="string"&&u.substring(0,1)==="+"?a>=0&&(n=wm.time+a):a>=0&&(n=a),n)}static guessNoteNumber(u,n){n=parseInt(n)||0;let a=!1;if(Number.isInteger(u)&&u>=0&&u<=127)a=parseInt(u);else if(parseInt(u)>=0&&parseInt(u)<=127)a=parseInt(u);else if(typeof u=="string"||u instanceof String)try{a=this.toNoteNumber(u.trim(),n)}catch{return!1}return a}static toNoteIdentifier(u,n){if(u=parseInt(u),isNaN(u)||u<0||u>127)throw new RangeError("Invalid note number");if(n=n==null?0:parseInt(n),isNaN(n))throw new RangeError("Invalid octaveOffset value");const a=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],r=Math.floor(u/12-1)+n;return a[u%12]+r.toString()}static buildNote(u,n={}){if(n.octaveOffset=parseInt(n.octaveOffset)||0,u instanceof Note$2)return u;let a=this.guessNoteNumber(u,n.octaveOffset);if(a===!1)throw new TypeError(`The input could not be parsed as a note (${u})`);return n.octaveOffset=void 0,new Note$2(a,n)}static buildNoteArray(u,n={}){let a=[];return Array.isArray(u)||(u=[u]),u.forEach(r=>{a.push(this.buildNote(r,n))}),a}static from7bitToFloat(u){return u===1/0&&(u=127),u=parseInt(u)||0,Math.min(Math.max(u/127,0),1)}static fromFloatTo7Bit(u){return u===1/0&&(u=1),u=parseFloat(u)||0,Math.min(Math.max(Math.round(u*127),0),127)}static fromMsbLsbToFloat(u,n=0){wm.validation&&(u=Math.min(Math.max(parseInt(u)||0,0),127),n=Math.min(Math.max(parseInt(n)||0,0),127));const a=((u<<7)+n)/16383;return Math.min(Math.max(a,0),1)}static fromFloatToMsbLsb(u){wm.validation&&(u=Math.min(Math.max(parseFloat(u)||0,0),1));const n=Math.round(u*16383);return{msb:n>>7,lsb:n&127}}static offsetNumber(u,n=0,a=0){if(wm.validation){if(u=parseInt(u),isNaN(u))throw new Error("Invalid note number");n=parseInt(n)||0,a=parseInt(a)||0}return Math.min(Math.max(u+n*12+a,0),127)}static getPropertyByValue(u,n){return Object.keys(u).find(a=>u[a]===n)}static getCcNameByNumber(u){if(!(wm.validation&&(u=parseInt(u),!(u>=0&&u<=127))))return Enumerations.CONTROL_CHANGE_MESSAGES[u].name}static getCcNumberByName(u){let n=Enumerations.CONTROL_CHANGE_MESSAGES.find(a=>a.name===u);return n?n.number:Enumerations.MIDI_CONTROL_CHANGE_MESSAGES[u]}static getChannelModeByNumber(u){if(!(u>=120&&u<=127))return!1;for(let n in Enumerations.CHANNEL_MODE_MESSAGES)if(Enumerations.CHANNEL_MODE_MESSAGES.hasOwnProperty(n)&&u===Enumerations.CHANNEL_MODE_MESSAGES[n])return n;return!1}static get isNode(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}static get isBrowser(){return typeof window<"u"&&typeof window.document<"u"}}/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class OutputChannel extends EventEmitter{constructor(u,n){super(),this._output=u,this._number=n,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(u,n={time:0}){return this.output.send(u,n),this}sendKeyAftertouch(u,n,a={}){if(wm.validation){if(a.useRawValue&&(a.rawValue=a.useRawValue),isNaN(parseFloat(n)))throw new RangeError("Invalid key aftertouch value.");if(a.rawValue){if(!(n>=0&&n<=127&&Number.isInteger(n)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(n>=0&&n<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}a.rawValue||(n=Utilities.fromFloatTo7Bit(n));const r=wm.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(u)||(u=[u]),Utilities.buildNoteArray(u).forEach(b=>{this.send([(Enumerations.CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),b.getOffsetNumber(r),n],{time:Utilities.toTimestamp(a.time)})}),this}sendControlChange(u,n,a={}){if(typeof u=="string"&&(u=Utilities.getCcNumberByName(u)),Array.isArray(n)||(n=[n]),wm.validation){if(u===void 0)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(u)||!(u>=0&&u<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if(n=n.map(r=>{const b=Math.min(Math.max(parseInt(r),0),127);if(isNaN(b))throw new TypeError("Values must be integers between 0 and 127");return b}),n.length===2&&u>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return n.forEach((r,b)=>{this.send([(Enumerations.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),u+b*32,n[b]],{time:Utilities.toTimestamp(a.time)})}),this}_selectNonRegisteredParameter(u,n={}){return this.sendControlChange(99,u[0],n),this.sendControlChange(98,u[1],n),this}_deselectRegisteredParameter(u={}){return this.sendControlChange(101,127,u),this.sendControlChange(100,127,u),this}_deselectNonRegisteredParameter(u={}){return this.sendControlChange(101,127,u),this.sendControlChange(100,127,u),this}_selectRegisteredParameter(u,n={}){return this.sendControlChange(101,u[0],n),this.sendControlChange(100,u[1],n),this}_setCurrentParameter(u,n={}){return u=[].concat(u),this.sendControlChange(6,u[0],n),u.length<2?this:(this.sendControlChange(38,u[1],n),this)}sendRpnDecrement(u,n={}){if(Array.isArray(u)||(u=Enumerations.REGISTERED_PARAMETERS[u]),wm.validation){if(u===void 0)throw new TypeError("The specified registered parameter is invalid.");let a=!1;if(Object.getOwnPropertyNames(Enumerations.REGISTERED_PARAMETERS).forEach(r=>{Enumerations.REGISTERED_PARAMETERS[r][0]===u[0]&&Enumerations.REGISTERED_PARAMETERS[r][1]===u[1]&&(a=!0)}),!a)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(u,n),this.sendControlChange(97,0,n),this._deselectRegisteredParameter(n),this}sendRpnIncrement(u,n={}){if(Array.isArray(u)||(u=Enumerations.REGISTERED_PARAMETERS[u]),wm.validation){if(u===void 0)throw new TypeError("The specified registered parameter is invalid.");let a=!1;if(Object.getOwnPropertyNames(Enumerations.REGISTERED_PARAMETERS).forEach(r=>{Enumerations.REGISTERED_PARAMETERS[r][0]===u[0]&&Enumerations.REGISTERED_PARAMETERS[r][1]===u[1]&&(a=!0)}),!a)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(u,n),this.sendControlChange(96,0,n),this._deselectRegisteredParameter(n),this}playNote(u,n={}){this.sendNoteOn(u,n);const a=Array.isArray(u)?u:[u];for(let r of a)if(parseInt(r.duration)>0){const b={time:(Utilities.toTimestamp(n.time)||wm.time)+parseInt(r.duration),release:r.release,rawRelease:r.rawRelease};this.sendNoteOff(r,b)}else if(parseInt(n.duration)>0){const b={time:(Utilities.toTimestamp(n.time)||wm.time)+parseInt(n.duration),release:n.release,rawRelease:n.rawRelease};this.sendNoteOff(r,b)}return this}sendNoteOff(u,n={}){if(wm.validation){if(n.rawRelease!=null&&!(n.rawRelease>=0&&n.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(n.release!=null&&!(n.release>=0&&n.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");n.rawVelocity&&(n.rawRelease=n.velocity,console.warn("The 'rawVelocity' option is deprecated. Use 'rawRelease' instead.")),n.velocity&&(n.release=n.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let a=64;n.rawRelease!=null?a=n.rawRelease:isNaN(n.release)||(a=Math.round(n.release*127));const r=wm.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Utilities.buildNoteArray(u,{rawRelease:parseInt(a)}).forEach(b=>{this.send([(Enumerations.CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),b.getOffsetNumber(r),b.rawRelease],{time:Utilities.toTimestamp(n.time)})}),this}stopNote(u,n={}){return this.sendNoteOff(u,n)}sendNoteOn(u,n={}){if(wm.validation){if(n.rawAttack!=null&&!(n.rawAttack>=0&&n.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(n.attack!=null&&!(n.attack>=0&&n.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");n.rawVelocity&&(n.rawAttack=n.velocity,n.rawRelease=n.release,console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' or 'rawRelease'.")),n.velocity&&(n.attack=n.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let a=64;n.rawAttack!=null?a=n.rawAttack:isNaN(n.attack)||(a=Math.round(n.attack*127));const r=wm.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Utilities.buildNoteArray(u,{rawAttack:a}).forEach(b=>{this.send([(Enumerations.CHANNEL_MESSAGES.noteon<<4)+(this.number-1),b.getOffsetNumber(r),b.rawAttack],{time:Utilities.toTimestamp(n.time)})}),this}sendChannelMode(u,n=0,a={}){if(typeof u=="string"&&(u=Enumerations.CHANNEL_MODE_MESSAGES[u]),wm.validation){if(u===void 0)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(u)||!(u>=120&&u<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(n))||n<0||n>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(Enumerations.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),u,n],{time:Utilities.toTimestamp(a.time)}),this}sendOmniMode(u,n={}){return u===void 0||u?this.sendChannelMode("omnimodeon",0,n):this.sendChannelMode("omnimodeoff",0,n),this}sendChannelAftertouch(u,n={}){if(wm.validation){if(isNaN(parseFloat(u)))throw new RangeError("Invalid channel aftertouch value.");if(n.rawValue){if(!(u>=0&&u<=127&&Number.isInteger(u)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(u>=0&&u<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return this.send([(Enumerations.CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(u*127)],{time:Utilities.toTimestamp(n.time)}),this}sendMasterTuning(u,n={}){if(u=parseFloat(u)||0,wm.validation&&!(u>-65&&u<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let a=Math.floor(u)+64,r=u-Math.floor(u);r=Math.round((r+1)/2*16383);let b=r>>7&127,h=r&127;return this.sendRpnValue("channelcoarsetuning",a,n),this.sendRpnValue("channelfinetuning",[b,h],n),this}sendModulationRange(u,n,a={}){if(wm.validation){if(!Number.isInteger(u)||!(u>=0&&u<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(n!=null&&(!Number.isInteger(n)||!(n>=0&&n<=127)))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return n>=0&&n<=127||(n=0),this.sendRpnValue("modulationrange",[u,n],a),this}sendNrpnValue(u,n,a={}){if(n=[].concat(n),wm.validation){if(!Array.isArray(u)||!Number.isInteger(u[0])||!Number.isInteger(u[1]))throw new TypeError("The specified NRPN is invalid.");if(!(u[0]>=0&&u[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(u[1]>=0&&u[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");n.forEach(r=>{if(!(r>=0&&r<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")})}return this._selectNonRegisteredParameter(u,a),this._setCurrentParameter(n,a),this._deselectNonRegisteredParameter(a),this}sendPitchBend(u,n={}){if(wm.validation)if(n.rawValue&&Array.isArray(u)){if(!(u[0]>=0&&u[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(u[1]>=0&&u[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(n.rawValue&&!Array.isArray(u)){if(!(u>=0&&u<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(u)||u===null)throw new RangeError("Invalid pitch bend value.");if(!(u>=-1&&u<=1))throw new RangeError("The pitch bend value must be a float between -1 and 1.")}let a=0,r=0;if(n.rawValue&&Array.isArray(u))a=u[0],r=u[1];else if(n.rawValue&&!Array.isArray(u))a=u;else{const b=Utilities.fromFloatToMsbLsb((u+1)/2);a=b.msb,r=b.lsb}return this.send([(Enumerations.CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),r,a],{time:Utilities.toTimestamp(n.time)}),this}sendPitchBendRange(u,n,a={}){if(wm.validation){if(!Number.isInteger(u)||!(u>=0&&u<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(n)||!(n>=0&&n<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[u,n],a),this}sendProgramChange(u,n={}){if(u=parseInt(u)||0,wm.validation&&!(u>=0&&u<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(Enumerations.CHANNEL_MESSAGES.programchange<<4)+(this.number-1),u],{time:Utilities.toTimestamp(n.time)}),this}sendRpnValue(u,n,a={}){if(Array.isArray(u)||(u=Enumerations.REGISTERED_PARAMETERS[u]),wm.validation){if(!Number.isInteger(u[0])||!Number.isInteger(u[1]))throw new TypeError("The specified NRPN is invalid.");if(!(u[0]>=0&&u[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(u[1]>=0&&u[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(n).forEach(r=>{if(!(r>=0&&r<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")})}return this._selectRegisteredParameter(u,a),this._setCurrentParameter(n,a),this._deselectRegisteredParameter(a),this}sendTuningBank(u,n={}){if(wm.validation&&(!Number.isInteger(u)||!(u>=0&&u<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",u,n),this}sendTuningProgram(u,n={}){if(wm.validation&&(!Number.isInteger(u)||!(u>=0&&u<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",u,n),this}sendLocalControl(u,n={}){return u?this.sendChannelMode("localcontrol",127,n):this.sendChannelMode("localcontrol",0,n)}sendAllNotesOff(u={}){return this.sendChannelMode("allnotesoff",0,u)}sendAllSoundOff(u={}){return this.sendChannelMode("allsoundoff",0,u)}sendResetAllControllers(u={}){return this.sendChannelMode("resetallcontrollers",0,u)}sendPolyphonicMode(u,n={}){return u==="mono"?this.sendChannelMode("monomodeon",0,n):this.sendChannelMode("polymodeon",0,n)}get octaveOffset(){return this._octaveOffset}set octaveOffset(u){if(this.validation&&(u=parseInt(u),isNaN(u)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=u}get output(){return this._output}get number(){return this._number}}/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class Output extends EventEmitter{constructor(u){super(),this._midiOutput=u,this._octaveOffset=0,this.channels=[];for(let n=1;n<=16;n++)this.channels[n]=new OutputChannel(this,n);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(u=>u.destroy()),this.channels=[],this._midiOutput&&(this._midiOutput.onstatechange=null),await this.close(),this._midiOutput=null}_onStateChange(u){let n={timestamp:wm.time};u.port.connection==="open"?(n.type="opened",n.target=this,n.port=n.target,this.emit("opened",n)):u.port.connection==="closed"&&u.port.state==="connected"?(n.type="closed",n.target=this,n.port=n.target,this.emit("closed",n)):u.port.connection==="closed"&&u.port.state==="disconnected"?(n.type="disconnected",n.port={connection:u.port.connection,id:u.port.id,manufacturer:u.port.manufacturer,name:u.port.name,state:u.port.state,type:u.port.type},this.emit("disconnected",n)):u.port.connection==="pending"&&u.port.state==="disconnected"||console.warn("This statechange event was not caught:",u.port.connection,u.port.state)}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(u){return Promise.reject(u)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}send(u,n={time:0},a=0){if(u instanceof Message&&(u=Utilities.isNode?u.data:u.rawData),u instanceof Uint8Array&&Utilities.isNode&&(u=Array.from(u)),wm.validation){if(!Array.isArray(u)&&!(u instanceof Uint8Array)&&(u=[u],Array.isArray(n)&&(u=u.concat(n)),n=isNaN(a)?{time:0}:{time:a}),!(parseInt(u[0])>=128&&parseInt(u[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");u.slice(1).forEach(r=>{if(r=parseInt(r),!(r>=0&&r<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")}),n||(n={time:0})}return this._midiOutput.send(u,Utilities.toTimestamp(n.time)),this}sendSysex(u,n=[],a={}){if(u=[].concat(u),n instanceof Uint8Array){const r=new Uint8Array(1+u.length+n.length+1);r[0]=Enumerations.SYSTEM_MESSAGES.sysex,r.set(Uint8Array.from(u),1),r.set(n,1+u.length),r[r.length-1]=Enumerations.SYSTEM_MESSAGES.sysexend,this.send(r,{time:a.time})}else{const r=u.concat(n,Enumerations.SYSTEM_MESSAGES.sysexend);this.send([Enumerations.SYSTEM_MESSAGES.sysex].concat(r),{time:a.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():wm.validation&&console.warn("The 'clear()' method has not yet been implemented in your environment."),this}sendTimecodeQuarterFrame(u,n={}){if(wm.validation&&(u=parseInt(u),isNaN(u)||!(u>=0&&u<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([Enumerations.SYSTEM_MESSAGES.timecode,u],{time:n.time}),this}sendSongPosition(u=0,n={}){u=Math.floor(u)||0;var a=u>>7&127,r=u&127;return this.send([Enumerations.SYSTEM_MESSAGES.songposition,a,r],{time:n.time}),this}sendSongSelect(u=0,n={}){if(wm.validation&&(u=parseInt(u),isNaN(u)||!(u>=0&&u<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([Enumerations.SYSTEM_MESSAGES.songselect,u],{time:n.time}),this}sendTuneRequest(u={}){return this.send([Enumerations.SYSTEM_MESSAGES.tunerequest],{time:u.time}),this}sendClock(u={}){return this.send([Enumerations.SYSTEM_MESSAGES.clock],{time:u.time}),this}sendStart(u={}){return this.send([Enumerations.SYSTEM_MESSAGES.start],{time:u.time}),this}sendContinue(u={}){return this.send([Enumerations.SYSTEM_MESSAGES.continue],{time:u.time}),this}sendStop(u={}){return this.send([Enumerations.SYSTEM_MESSAGES.stop],{time:u.time}),this}sendActiveSensing(u={}){return this.send([Enumerations.SYSTEM_MESSAGES.activesensing],{time:u.time}),this}sendReset(u={}){return this.send([Enumerations.SYSTEM_MESSAGES.reset],{time:u.time}),this}sendTuningRequest(u={}){return wm.validation&&console.warn("The sendTuningRequest() method has been deprecated. Use sendTuningRequest() instead."),this.sendTuneRequest(u)}sendKeyAftertouch(u,n,a={}){return a.channels==null&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].sendKeyAftertouch(u,n,a)}),this}sendControlChange(u,n,a={},r={}){if(wm.validation&&(Array.isArray(a)||Number.isInteger(a)||a==="all")){const b=a;a=r,a.channels=b,a.channels==="all"&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return a.channels==null&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(a.channels).forEach(b=>{this.channels[b].sendControlChange(u,n,a)}),this}sendPitchBendRange(u=0,n=0,a={}){return a.channels==null&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].sendPitchBendRange(u,n,a)}),this}setPitchBendRange(u=0,n=0,a="all",r={}){return wm.validation&&(console.warn("The setPitchBendRange() method is deprecated. Use sendPitchBendRange() instead."),r.channels=a,r.channels==="all"&&(r.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(u,n,r)}sendRpnValue(u,n,a={}){return a.channels==null&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].sendRpnValue(u,n,a)}),this}setRegisteredParameter(u,n=[],a="all",r={}){return wm.validation&&(console.warn("The setRegisteredParameter() method is deprecated. Use sendRpnValue() instead."),r.channels=a,r.channels==="all"&&(r.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(u,n,r)}sendChannelAftertouch(u,n={},a={}){if(wm.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendChannelAftertouch(u,n)}),this}sendPitchBend(u,n={},a={}){if(wm.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendPitchBend(u,n)}),this}sendProgramChange(u=0,n={},a={}){if(wm.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendProgramChange(u,n)}),this}sendModulationRange(u,n,a={}){return a.channels==null&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].sendModulationRange(u,n,a)}),this}setModulationRange(u=0,n=0,a="all",r={}){return wm.validation&&(console.warn("The setModulationRange() method is deprecated. Use sendModulationRange() instead."),r.channels=a,r.channels==="all"&&(r.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(u,n,r)}sendMasterTuning(u,n={}){return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendMasterTuning(u,n)}),this}setMasterTuning(u,n={},a={}){return wm.validation&&(console.warn("The setMasterTuning() method is deprecated. Use sendMasterTuning() instead."),a.channels=n,a.channels==="all"&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(u,a)}sendTuningProgram(u,n={}){return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendTuningProgram(u,n)}),this}setTuningProgram(u,n="all",a={}){return wm.validation&&(console.warn("The setTuningProgram() method is deprecated. Use sendTuningProgram() instead."),a.channels=n,a.channels==="all"&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(u,a)}sendTuningBank(u=0,n={}){return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendTuningBank(u,n)}),this}setTuningBank(u,n="all",a={}){return wm.validation&&(console.warn("The setTuningBank() method is deprecated. Use sendTuningBank() instead."),a.channels=n,a.channels==="all"&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(u,a)}sendChannelMode(u,n=0,a={},r={}){if(wm.validation&&(Array.isArray(a)||Number.isInteger(a)||a==="all")){const b=a;a=r,a.channels=b,a.channels==="all"&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return a.channels==null&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(a.channels).forEach(b=>{this.channels[b].sendChannelMode(u,n,a)}),this}sendAllSoundOff(u={}){return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(n=>{this.channels[n].sendAllSoundOff(u)}),this}sendAllNotesOff(u={}){return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(n=>{this.channels[n].sendAllNotesOff(u)}),this}sendResetAllControllers(u={},n={}){if(wm.validation&&(Array.isArray(u)||Number.isInteger(u)||u==="all")){const a=u;u=n,u.channels=a,u.channels==="all"&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(a=>{this.channels[a].sendResetAllControllers(u)}),this}sendPolyphonicMode(u,n={},a={}){if(wm.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendPolyphonicMode(u,n)}),this}sendLocalControl(u,n={},a={}){if(wm.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendLocalControl(u,n)}),this}sendOmniMode(u,n={},a={}){if(wm.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendOmniMode(u,n)}),this}sendNrpnValue(u,n,a={}){return a.channels==null&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].sendNrpnValue(u,n,a)}),this}setNonRegisteredParameter(u,n=[],a="all",r={}){return wm.validation&&(console.warn("The setNonRegisteredParameter() method is deprecated. Use sendNrpnValue() instead."),r.channels=a,r.channels==="all"&&(r.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(u,n,r)}sendRpnIncrement(u,n={}){return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendRpnIncrement(u,n)}),this}incrementRegisteredParameter(u,n="all",a={}){return wm.validation&&(console.warn("The incrementRegisteredParameter() method is deprecated. Use sendRpnIncrement() instead."),a.channels=n,a.channels==="all"&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(u,a)}sendRpnDecrement(u,n={}){return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendRpnDecrement(u,n)}),this}decrementRegisteredParameter(u,n="all",a={}){return wm.validation&&(console.warn("The decrementRegisteredParameter() method is deprecated. Use sendRpnDecrement() instead."),a.channels=n,a.channels==="all"&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(u,a)}sendNoteOff(u,n={},a={}){if(wm.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendNoteOff(u,n)}),this}stopNote(u,n){return this.sendNoteOff(u,n)}playNote(u,n={},a={}){if(wm.validation&&(n.rawVelocity&&console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' instead."),n.velocity&&console.warn("The 'velocity' option is deprecated. Use 'velocity' instead."),Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].playNote(u,n)}),this}sendNoteOn(u,n={},a={}){if(wm.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const r=n;n=a,n.channels=r,n.channels==="all"&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendNoteOn(u,n)}),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(u){if(this.validation&&(u=parseInt(u),isNaN(u)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=u}}/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Forwarder{constructor(u=[],n={}){this.destinations=[],this.types=[...Object.keys(Enumerations.SYSTEM_MESSAGES),...Object.keys(Enumerations.CHANNEL_MESSAGES)],this.channels=Enumerations.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(u)||(u=[u]),n.types&&!Array.isArray(n.types)&&(n.types=[n.types]),n.channels&&!Array.isArray(n.channels)&&(n.channels=[n.channels]),wm.validation&&(u.forEach(a=>{if(!(a instanceof Output))throw new TypeError("Destinations must be of type 'Output'.")}),n.types!==void 0&&n.types.forEach(a=>{if(!Enumerations.SYSTEM_MESSAGES.hasOwnProperty(a)&&!Enumerations.CHANNEL_MESSAGES.hasOwnProperty(a))throw new TypeError("Type must be a valid message type.")}),n.channels!==void 0&&n.channels.forEach(a=>{if(!Enumerations.MIDI_CHANNEL_NUMBERS.includes(a))throw new TypeError("MIDI channel must be between 1 and 16.")})),this.destinations=u,n.types&&(this.types=n.types),n.channels&&(this.channels=n.channels)}forward(u){this.suspended||this.types.includes(u.type)&&(u.channel&&!this.channels.includes(u.channel)||this.destinations.forEach(n=>{wm.validation&&!(n instanceof Output)||n.send(u)}))}}/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-dataincrement
 * @fires InputChannel#event:nrpn-datadecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-dataincrement
 * @fires InputChannel#event:rpn-datadecrement
 *
 * @fires InputChannel#controlchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#event:controlchange-bankselectcoarse
 * @fires InputChannel#event:controlchange-modulationwheelcoarse
 * @fires InputChannel#event:controlchange-breathcontrollercoarse
 * @fires InputChannel#event:controlchange-footcontrollercoarse
 * @fires InputChannel#event:controlchange-portamentotimecoarse
 * @fires InputChannel#event:controlchange-dataentrycoarse
 * @fires InputChannel#event:controlchange-volumecoarse
 * @fires InputChannel#event:controlchange-balancecoarse
 * @fires InputChannel#event:controlchange-pancoarse
 * @fires InputChannel#event:controlchange-expressioncoarse
 * @fires InputChannel#event:controlchange-effectcontrol1coarse
 * @fires InputChannel#event:controlchange-effectcontrol2coarse
 * @fires InputChannel#event:controlchange-generalpurposecontroller1
 * @fires InputChannel#event:controlchange-generalpurposecontroller2
 * @fires InputChannel#event:controlchange-generalpurposecontroller3
 * @fires InputChannel#event:controlchange-generalpurposecontroller4
 * @fires InputChannel#event:controlchange-bankselectfine
 * @fires InputChannel#event:controlchange-modulationwheelfine
 * @fires InputChannel#event:controlchange-breathcontrollerfine
 * @fires InputChannel#event:controlchange-footcontrollerfine
 * @fires InputChannel#event:controlchange-portamentotimefine
 * @fires InputChannel#event:controlchange-dataentryfine
 * @fires InputChannel#event:controlchange-channelvolumefine
 * @fires InputChannel#event:controlchange-balancefine
 * @fires InputChannel#event:controlchange-panfine
 * @fires InputChannel#event:controlchange-expressionfine
 * @fires InputChannel#event:controlchange-effectcontrol1fine
 * @fires InputChannel#event:controlchange-effectcontrol2fine
 * @fires InputChannel#event:controlchange-damperpedal
 * @fires InputChannel#event:controlchange-portamento
 * @fires InputChannel#event:controlchange-sostenuto
 * @fires InputChannel#event:controlchange-softpedal
 * @fires InputChannel#event:controlchange-legatopedal
 * @fires InputChannel#event:controlchange-hold2
 * @fires InputChannel#event:controlchange-soundvariation
 * @fires InputChannel#event:controlchange-resonance
 * @fires InputChannel#event:controlchange-releasetime
 * @fires InputChannel#event:controlchange-attacktime
 * @fires InputChannel#event:controlchange-brightness
 * @fires InputChannel#event:controlchange-decaytime
 * @fires InputChannel#event:controlchange-vibratorate
 * @fires InputChannel#event:controlchange-vibratodepth
 * @fires InputChannel#event:controlchange-vibratodelay
 * @fires InputChannel#event:controlchange-generalpurposecontroller5
 * @fires InputChannel#event:controlchange-generalpurposecontroller6
 * @fires InputChannel#event:controlchange-generalpurposecontroller7
 * @fires InputChannel#event:controlchange-generalpurposecontroller8
 * @fires InputChannel#event:controlchange-portamentocontrol
 * @fires InputChannel#event:controlchange-highresolutionvelocityprefix
 * @fires InputChannel#event:controlchange-effect1depth
 * @fires InputChannel#event:controlchange-effect2depth
 * @fires InputChannel#event:controlchange-effect3depth
 * @fires InputChannel#event:controlchange-effect4depth
 * @fires InputChannel#event:controlchange-effect5depth
 * @fires InputChannel#event:controlchange-dataincrement
 * @fires InputChannel#event:controlchange-datadecrement
 * @fires InputChannel#event:controlchange-nonregisteredparameterfine
 * @fires InputChannel#event:controlchange-nonregisteredparametercoarse
 * @fires InputChannel#event:controlchange-registeredparameterfine
 * @fires InputChannel#event:controlchange-registeredparametercoarse
 * @fires InputChannel#event:controlchange-allsoundoff
 * @fires InputChannel#event:controlchange-resetallcontrollers
 * @fires InputChannel#event:controlchange-localcontrol
 * @fires InputChannel#event:controlchange-allnotesoff
 * @fires InputChannel#event:controlchange-omnimodeoff
 * @fires InputChannel#event:controlchange-omnimodeon
 * @fires InputChannel#event:controlchange-monomodeon
 * @fires InputChannel#event:controlchange-polymodeon
 * @fires InputChannel#event:
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class InputChannel extends EventEmitter{constructor(u,n){super(),this._input=u,this._number=n,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(u){const n=Object.assign({},u);n.port=this.input,n.target=this,n.type="midimessage",this.emit(n.type,n),this._parseEventForStandardMessages(n)}_parseEventForStandardMessages(u){const n=Object.assign({},u);n.type=n.message.type||"unknownmessage";const a=u.message.dataBytes[0],r=u.message.dataBytes[1];if(n.type==="noteoff"||n.type==="noteon"&&r===0)this.notesState[a]=!1,n.type="noteoff",n.note=new Note$2(Utilities.offsetNumber(a,this.octaveOffset+this.input.octaveOffset+wm.octaveOffset),{rawAttack:0,rawRelease:r}),n.value=Utilities.from7bitToFloat(r),n.rawValue=r,n.velocity=n.note.release,n.rawVelocity=n.note.rawRelease;else if(n.type==="noteon")this.notesState[a]=!0,n.note=new Note$2(Utilities.offsetNumber(a,this.octaveOffset+this.input.octaveOffset+wm.octaveOffset),{rawAttack:r}),n.value=Utilities.from7bitToFloat(r),n.rawValue=r,n.velocity=n.note.attack,n.rawVelocity=n.note.rawAttack;else if(n.type==="keyaftertouch")n.note=new Note$2(Utilities.offsetNumber(a,this.octaveOffset+this.input.octaveOffset+wm.octaveOffset)),n.value=Utilities.from7bitToFloat(r),n.rawValue=r,n.identifier=n.note.identifier,n.key=n.note.number,n.rawKey=a;else if(n.type==="controlchange"){n.controller={number:a,name:Enumerations.CONTROL_CHANGE_MESSAGES[a].name,description:Enumerations.CONTROL_CHANGE_MESSAGES[a].description,position:Enumerations.CONTROL_CHANGE_MESSAGES[a].position},n.subtype=n.controller.name||"controller"+a,n.value=Utilities.from7bitToFloat(r),n.rawValue=r;const b=Object.assign({},n);b.type=`${n.type}-controller${a}`,delete b.subtype,this.emit(b.type,b);const h=Object.assign({},n);h.type=`${n.type}-`+Enumerations.CONTROL_CHANGE_MESSAGES[a].name,delete h.subtype,h.type.indexOf("controller")!==0&&this.emit(h.type,h),n.message.dataBytes[0]>=120&&this._parseChannelModeMessage(n),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(n.message.dataBytes[0])&&this._parseEventForParameterNumber(n)}else n.type==="programchange"?(n.value=a,n.rawValue=n.value):n.type==="channelaftertouch"?(n.value=Utilities.from7bitToFloat(a),n.rawValue=a):n.type==="pitchbend"?(n.value=((r<<7)+a-8192)/8192,n.rawValue=(r<<7)+a):n.type="unknownmessage";this.emit(n.type,n)}_parseChannelModeMessage(u){const n=Object.assign({},u);n.type=n.controller.name,n.type==="localcontrol"&&(n.value=n.message.data[2]===127,n.rawValue=n.message.data[2]),n.type==="omnimodeon"?(n.type="omnimode",n.value=!0,n.rawValue=n.message.data[2]):n.type==="omnimodeoff"&&(n.type="omnimode",n.value=!1,n.rawValue=n.message.data[2]),n.type==="monomodeon"?(n.type="monomode",n.value=!0,n.rawValue=n.message.data[2]):n.type==="polymodeon"&&(n.type="monomode",n.value=!1,n.rawValue=n.message.data[2]),this.emit(n.type,n)}_parseEventForParameterNumber(u){const n=u.message.dataBytes[0],a=u.message.dataBytes[1];n===99||n===101?(this._nrpnBuffer=[],this._rpnBuffer=[],n===99?this._nrpnBuffer=[u.message]:a!==127&&(this._rpnBuffer=[u.message])):n===98||n===100?n===98?(this._rpnBuffer=[],this._nrpnBuffer.length===1?this._nrpnBuffer.push(u.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],this._rpnBuffer.length===1&&a!==127?this._rpnBuffer.push(u.message):this._rpnBuffer=[]):(n===6||n===38||n===96||n===97)&&(this._rpnBuffer.length===2?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],u):this._nrpnBuffer.length===2?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],u):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(u){return u===6||u===38||u===96||u===97||u===98||u===99||u===100||u===101}_dispatchParameterNumberEvent(u,n,a,r){u=u==="nrpn"?"nrpn":"rpn";const b={target:r.target,timestamp:r.timestamp,message:r.message,parameterMsb:n,parameterLsb:a,value:Utilities.from7bitToFloat(r.message.dataBytes[1]),rawValue:r.message.dataBytes[1]};u==="rpn"?b.parameter=Object.keys(Enumerations.REGISTERED_PARAMETERS).find(p=>Enumerations.REGISTERED_PARAMETERS[p][0]===n&&Enumerations.REGISTERED_PARAMETERS[p][1]===a):b.parameter=(n<<7)+a;const h=Enumerations.CONTROL_CHANGE_MESSAGES[r.message.dataBytes[0]].name;b.type=`${u}-${h}`,this.emit(b.type,b);const m=Object.assign({},b);m.type==="nrpn-dataincrement"?m.type="nrpn-databuttonincrement":m.type==="nrpn-datadecrement"?m.type="nrpn-databuttondecrement":m.type==="rpn-dataincrement"?m.type="rpn-databuttonincrement":m.type==="rpn-datadecrement"&&(m.type="rpn-databuttondecrement"),this.emit(m.type,m),b.type=u,b.subtype=h,this.emit(b.type,b)}getChannelModeByNumber(u){return wm.validation&&(console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class."),u=Math.floor(u)),Utilities.getChannelModeByNumber(u)}getCcNameByNumber(u){if(wm.validation&&(console.warn("The 'getCcNameByNumber()' method has been moved to the 'Utilities' class."),u=parseInt(u),!(u>=0&&u<=127)))throw new RangeError("Invalid control change number.");return Utilities.getCcNameByNumber(u)}getNoteState(u){u instanceof Note$2&&(u=u.identifier);const n=Utilities.guessNoteNumber(u,wm.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[n]}get octaveOffset(){return this._octaveOffset}set octaveOffset(u){if(this.validation&&(u=parseInt(u),isNaN(u)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=u}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(u){this.validation&&(u=!!u),this.parameterNumberEventsEnabled=u}}/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Message{constructor(u){this.rawData=u,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=(this.statusByte&15)+1):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=Utilities.getPropertyByValue(Enumerations.CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=Utilities.getPropertyByValue(Enumerations.SYSTEM_MESSAGES,this.command)),this.statusByte===Enumerations.SYSTEM_MESSAGES.sysex&&(this.dataBytes[0]===0?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */let Input$1=class extends EventEmitter{constructor(u){super(),this._midiInput=u,this._octaveOffset=0,this.channels=[];for(let n=1;n<=16;n++)this.channels[n]=new InputChannel(this,n);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(u=>u.destroy()),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(u){let n={timestamp:wm.time,target:this,port:this};u.port.connection==="open"?(n.type="opened",this.emit("opened",n)):u.port.connection==="closed"&&u.port.state==="connected"?(n.type="closed",this.emit("closed",n)):u.port.connection==="closed"&&u.port.state==="disconnected"?(n.type="disconnected",n.port={connection:u.port.connection,id:u.port.id,manufacturer:u.port.manufacturer,name:u.port.name,state:u.port.state,type:u.port.type},this.emit("disconnected",n)):u.port.connection==="pending"&&u.port.state==="disconnected"||console.warn("This statechange event was not caught: ",u.port.connection,u.port.state)}_onMidiMessage(u){const n=new Message(u.data),a={port:this,target:this,message:n,timestamp:u.timeStamp,type:"midimessage",data:n.data,rawData:n.data,statusByte:n.data[0],dataBytes:n.dataBytes};this.emit("midimessage",a),n.isSystemMessage?this._parseEvent(a):n.isChannelMessage&&this.channels[n.channel]._processMidiMessageEvent(a),this._forwarders.forEach(r=>r.forward(n))}_parseEvent(u){const n=Object.assign({},u);n.type=n.message.type||"unknownmidimessage",n.type==="songselect"&&(n.song=u.data[1]+1,n.value=u.data[1],n.rawValue=n.value),this.emit(n.type,n)}async open(){try{await this._midiInput.open()}catch(u){return Promise.reject(u)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(u){return Promise.reject(u)}return Promise.resolve(this)}getChannelModeByNumber(){wm.validation&&console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class.")}addListener(u,n,a={}){if(wm.validation&&typeof a=="function"){let r=n!=null?[].concat(n):void 0;n=a,a={channels:r}}if(Enumerations.CHANNEL_EVENTS.includes(u)){a.channels===void 0&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS);let r=[];return Utilities.sanitizeChannels(a.channels).forEach(b=>{r.push(this.channels[b].addListener(u,n,a))}),r}else return super.addListener(u,n,a)}addOneTimeListener(u,n,a={}){return a.remaining=1,this.addListener(u,n,a)}on(u,n,a,r){return this.addListener(u,n,a,r)}hasListener(u,n,a={}){if(wm.validation&&typeof a=="function"){let r=[].concat(n);n=a,a={channels:r}}return Enumerations.CHANNEL_EVENTS.includes(u)?(a.channels===void 0&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(a.channels).every(r=>this.channels[r].hasListener(u,n))):super.hasListener(u,n)}removeListener(u,n,a={}){if(wm.validation&&typeof a=="function"){let r=[].concat(n);n=a,a={channels:r}}if(a.channels===void 0&&(a.channels=Enumerations.MIDI_CHANNEL_NUMBERS),u==null)return Utilities.sanitizeChannels(a.channels).forEach(r=>{this.channels[r]&&this.channels[r].removeListener()}),super.removeListener();Enumerations.CHANNEL_EVENTS.includes(u)?Utilities.sanitizeChannels(a.channels).forEach(r=>{this.channels[r].removeListener(u,n,a)}):super.removeListener(u,n,a)}addForwarder(u,n={}){let a;return u instanceof Forwarder?a=u:a=new Forwarder(u,n),this._forwarders.push(a),a}removeForwarder(u){this._forwarders=this._forwarders.filter(n=>n!==u)}hasForwarder(u){return this._forwarders.includes(u)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(u){if(this.validation&&(u=parseInt(u),isNaN(u)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=u}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return wm.validation&&console.warn("The 'nrpnEventsEnabled' property has been moved to the 'InputChannel' class."),!1}};/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class WebMidi extends EventEmitter{constructor(){super(),this.defaults={note:{attack:Utilities.from7bitToFloat(64),release:Utilities.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(u={},n=!1){if(Utilities.isNode){try{window.navigator}catch{global.navigator=await Object.getPrototypeOf(async function(){}).constructor(`
        let jzz = await import("jzz");
        return jzz.default;
        `)()}try{}catch{global.performance=await Object.getPrototypeOf(async function(){}).constructor(`
        let perf_hooks = await import("perf_hooks");
        return perf_hooks.performance;
        `)()}}if(this.validation=u.validation!==!1,this.validation&&(typeof u=="function"&&(u={callback:u,sysex:n}),n&&(u.sysex=!0)),this.enabled)return typeof u.callback=="function"&&u.callback(),Promise.resolve();const a={timestamp:this.time,target:this,type:"error",error:void 0},r={timestamp:this.time,target:this,type:"midiaccessgranted"},b={timestamp:this.time,target:this,type:"enabled"};try{typeof u.requestMIDIAccessFunction=="function"?this.interface=await u.requestMIDIAccessFunction({sysex:u.sysex,software:u.software}):this.interface=await navigator.requestMIDIAccess({sysex:u.sysex,software:u.software})}catch(h){return a.error=h,this.emit("error",a),typeof u.callback=="function"&&u.callback(h),Promise.reject(h)}this.emit("midiaccessgranted",r),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(h){return a.error=h,this.emit("error",a),typeof u.callback=="function"&&u.callback(h),Promise.reject(h)}return this.emit("enabled",b),typeof u.callback=="function"&&u.callback(),Promise.resolve(this)}async disable(){return this.interface&&(this.interface.onstatechange=void 0),this._destroyInputsAndOutputs().then(()=>{navigator&&typeof navigator.close=="function"&&navigator.close(),this.interface=null;let u={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",u),this.removeListener()})}getInputById(u,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!u)return}if(n.disconnected){for(let a=0;a<this._disconnectedInputs.length;a++)if(this._disconnectedInputs[a].id===u.toString())return this._disconnectedInputs[a]}else for(let a=0;a<this.inputs.length;a++)if(this.inputs[a].id===u.toString())return this.inputs[a]}getInputByName(u,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!u)return;u=u.toString()}if(n.disconnected){for(let a=0;a<this._disconnectedInputs.length;a++)if(~this._disconnectedInputs[a].name.indexOf(u))return this._disconnectedInputs[a]}else for(let a=0;a<this.inputs.length;a++)if(~this.inputs[a].name.indexOf(u))return this.inputs[a]}getOutputByName(u,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!u)return;u=u.toString()}if(n.disconnected){for(let a=0;a<this._disconnectedOutputs.length;a++)if(~this._disconnectedOutputs[a].name.indexOf(u))return this._disconnectedOutputs[a]}else for(let a=0;a<this.outputs.length;a++)if(~this.outputs[a].name.indexOf(u))return this.outputs[a]}getOutputById(u,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!u)return}if(n.disconnected){for(let a=0;a<this._disconnectedOutputs.length;a++)if(this._disconnectedOutputs[a].id===u.toString())return this._disconnectedOutputs[a]}else for(let a=0;a<this.outputs.length;a++)if(this.outputs[a].id===u.toString())return this.outputs[a]}noteNameToNumber(u){return this.validation&&console.warn("The noteNameToNumber() method is deprecated. Use Utilities.toNoteNumber() instead."),Utilities.toNoteNumber(u,this.octaveOffset)}getOctave(u){return this.validation&&(console.warn("The getOctave()is deprecated. Use Utilities.getNoteDetails() instead"),u=parseInt(u)),!isNaN(u)&&u>=0&&u<=127?Utilities.getNoteDetails(Utilities.offsetNumber(u,this.octaveOffset)).octave:!1}sanitizeChannels(u){return this.validation&&console.warn("The sanitizeChannels() method has been moved to the utilities class."),Utilities.sanitizeChannels(u)}toMIDIChannels(u){return this.validation&&console.warn("The toMIDIChannels() method has been deprecated. Use Utilities.sanitizeChannels() instead."),Utilities.sanitizeChannels(u)}guessNoteNumber(u){return this.validation&&console.warn("The guessNoteNumber() method has been deprecated. Use Utilities.guessNoteNumber() instead."),Utilities.guessNoteNumber(u,this.octaveOffset)}getValidNoteArray(u,n={}){return this.validation&&console.warn("The getValidNoteArray() method has been moved to the Utilities.buildNoteArray()"),Utilities.buildNoteArray(u,n)}convertToTimestamp(u){return this.validation&&console.warn("The convertToTimestamp() method has been moved to Utilities.toTimestamp()."),Utilities.toTimestamp(u)}async _destroyInputsAndOutputs(){let u=[];return this.inputs.forEach(n=>u.push(n.destroy())),this.outputs.forEach(n=>u.push(n.destroy())),Promise.all(u).then(()=>{this._inputs=[],this._outputs=[]})}_onInterfaceStateChange(u){this._updateInputsAndOutputs();let n={timestamp:u.timeStamp,type:u.port.state,target:this};if(u.port.state==="connected"&&u.port.connection==="open"){u.port.type==="output"?n.port=this.getOutputById(u.port.id):u.port.type==="input"&&(n.port=this.getInputById(u.port.id)),this.emit(u.port.state,n);const a=Object.assign({},n);a.type="portschanged",this.emit(a.type,a)}else if(u.port.state==="disconnected"&&u.port.connection==="pending"){u.port.type==="input"?n.port=this.getInputById(u.port.id,{disconnected:!0}):u.port.type==="output"&&(n.port=this.getOutputById(u.port.id,{disconnected:!0})),this.emit(u.port.state,n);const a=Object.assign({},n);a.type="portschanged",this.emit(a.type,a)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let n=this._inputs.length-1;n>=0;n--){const a=this._inputs[n];Array.from(this.interface.inputs.values()).find(b=>b===a._midiInput)||(this._disconnectedInputs.push(a),this._inputs.splice(n,1))}let u=[];return this.interface.inputs.forEach(n=>{if(!this._inputs.find(a=>a._midiInput===n)){let a=this._disconnectedInputs.find(r=>r._midiInput===n);a||(a=new Input$1(n)),this._inputs.push(a),u.push(a.open())}}),Promise.all(u)}async _updateOutputs(){if(!this.interface)return;for(let n=this._outputs.length-1;n>=0;n--){const a=this._outputs[n];Array.from(this.interface.outputs.values()).find(b=>b===a._midiOutput)||(this._disconnectedOutputs.push(a),this._outputs.splice(n,1))}let u=[];return this.interface.outputs.forEach(n=>{if(!this._outputs.find(a=>a._midiOutput===n)){let a=this._disconnectedOutputs.find(r=>r._midiOutput===n);a||(a=new Output(n)),this._outputs.push(a),u.push(a.open())}}),Promise.all(u)}get enabled(){return this.interface!==null}get inputs(){return this._inputs}get isNode(){return this.validation&&console.warn("WebMidi.isNode has been deprecated. Use Utilities.isNode instead."),Utilities.isNode}get isBrowser(){return this.validation&&console.warn("WebMidi.isBrowser has been deprecated. Use Utilities.isBrowser instead."),Utilities.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(u){if(this.validation&&(u=parseInt(u),isNaN(u)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=u}get outputs(){return this._outputs}get supported(){return typeof navigator<"u"&&navigator.requestMIDIAccess}get sysexEnabled(){return!!(this.interface&&this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.1.6"}get flavour(){return"esm"}get CHANNEL_EVENTS(){return this.validation&&console.warn("The CHANNEL_EVENTS enum has been moved to Enumerations.CHANNEL_EVENTS."),Enumerations.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been moved to Enumerations.SYSTEM_MESSAGES."),Enumerations.SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been moved to Enumerations.CHANNEL_MODE_MESSAGES."),Enumerations.CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been replaced by the Enumerations.CONTROL_CHANGE_MESSAGES array."),Enumerations.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETER enum has been moved to Enumerations.REGISTERED_PARAMETERS."),Enumerations.REGISTERED_PARAMETERS}get NOTES(){return this.validation&&console.warn("The NOTES enum has been deprecated."),["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}}const wm=new WebMidi;wm.constructor=null;var alea$1={exports:{}};alea$1.exports;(function(N){(function(u,n,a){function r(p){var A=this,S=m();A.next=function(){var _=2091639*A.s0+A.c*23283064365386963e-26;return A.s0=A.s1,A.s1=A.s2,A.s2=_-(A.c=_|0)},A.c=1,A.s0=S(" "),A.s1=S(" "),A.s2=S(" "),A.s0-=S(p),A.s0<0&&(A.s0+=1),A.s1-=S(p),A.s1<0&&(A.s1+=1),A.s2-=S(p),A.s2<0&&(A.s2+=1),S=null}function b(p,A){return A.c=p.c,A.s0=p.s0,A.s1=p.s1,A.s2=p.s2,A}function h(p,A){var S=new r(p),_=A&&A.state,l=S.next;return l.int32=function(){return S.next()*4294967296|0},l.double=function(){return l()+(l()*2097152|0)*11102230246251565e-32},l.quick=l,_&&(typeof _=="object"&&b(_,S),l.state=function(){return b(S,{})}),l}function m(){var p=4022871197,A=function(S){S=String(S);for(var _=0;_<S.length;_++){p+=S.charCodeAt(_);var l=.02519603282416938*p;p=l>>>0,l-=p,l*=p,p=l>>>0,l-=p,p+=l*4294967296}return(p>>>0)*23283064365386963e-26};return A}n&&n.exports?n.exports=h:a&&a.amd?a(function(){return h}):this.alea=h})(commonjsGlobal,N,!1)})(alea$1);var aleaExports=alea$1.exports,xor128$1={exports:{}};xor128$1.exports;(function(N){(function(u,n,a){function r(m){var p=this,A="";p.x=0,p.y=0,p.z=0,p.w=0,p.next=function(){var _=p.x^p.x<<11;return p.x=p.y,p.y=p.z,p.z=p.w,p.w^=p.w>>>19^_^_>>>8},m===(m|0)?p.x=m:A+=m;for(var S=0;S<A.length+64;S++)p.x^=A.charCodeAt(S)|0,p.next()}function b(m,p){return p.x=m.x,p.y=m.y,p.z=m.z,p.w=m.w,p}function h(m,p){var A=new r(m),S=p&&p.state,_=function(){return(A.next()>>>0)/4294967296};return _.double=function(){do var l=A.next()>>>11,y=(A.next()>>>0)/4294967296,o=(l+y)/(1<<21);while(o===0);return o},_.int32=A.next,_.quick=_,S&&(typeof S=="object"&&b(S,A),_.state=function(){return b(A,{})}),_}n&&n.exports?n.exports=h:a&&a.amd?a(function(){return h}):this.xor128=h})(commonjsGlobal,N,!1)})(xor128$1);var xor128Exports=xor128$1.exports,xorwow$1={exports:{}};xorwow$1.exports;(function(N){(function(u,n,a){function r(m){var p=this,A="";p.next=function(){var _=p.x^p.x>>>2;return p.x=p.y,p.y=p.z,p.z=p.w,p.w=p.v,(p.d=p.d+362437|0)+(p.v=p.v^p.v<<4^(_^_<<1))|0},p.x=0,p.y=0,p.z=0,p.w=0,p.v=0,m===(m|0)?p.x=m:A+=m;for(var S=0;S<A.length+64;S++)p.x^=A.charCodeAt(S)|0,S==A.length&&(p.d=p.x<<10^p.x>>>4),p.next()}function b(m,p){return p.x=m.x,p.y=m.y,p.z=m.z,p.w=m.w,p.v=m.v,p.d=m.d,p}function h(m,p){var A=new r(m),S=p&&p.state,_=function(){return(A.next()>>>0)/4294967296};return _.double=function(){do var l=A.next()>>>11,y=(A.next()>>>0)/4294967296,o=(l+y)/(1<<21);while(o===0);return o},_.int32=A.next,_.quick=_,S&&(typeof S=="object"&&b(S,A),_.state=function(){return b(A,{})}),_}n&&n.exports?n.exports=h:a&&a.amd?a(function(){return h}):this.xorwow=h})(commonjsGlobal,N,!1)})(xorwow$1);var xorwowExports=xorwow$1.exports,xorshift7$1={exports:{}};xorshift7$1.exports;(function(N){(function(u,n,a){function r(m){var p=this;p.next=function(){var S=p.x,_=p.i,l,y;return l=S[_],l^=l>>>7,y=l^l<<24,l=S[_+1&7],y^=l^l>>>10,l=S[_+3&7],y^=l^l>>>3,l=S[_+4&7],y^=l^l<<7,l=S[_+7&7],l=l^l<<13,y^=l^l<<9,S[_]=y,p.i=_+1&7,y};function A(S,_){var l,y=[];if(_===(_|0))y[0]=_;else for(_=""+_,l=0;l<_.length;++l)y[l&7]=y[l&7]<<15^_.charCodeAt(l)+y[l+1&7]<<13;for(;y.length<8;)y.push(0);for(l=0;l<8&&y[l]===0;++l);for(l==8?y[7]=-1:y[l],S.x=y,S.i=0,l=256;l>0;--l)S.next()}A(p,m)}function b(m,p){return p.x=m.x.slice(),p.i=m.i,p}function h(m,p){m==null&&(m=+new Date);var A=new r(m),S=p&&p.state,_=function(){return(A.next()>>>0)/4294967296};return _.double=function(){do var l=A.next()>>>11,y=(A.next()>>>0)/4294967296,o=(l+y)/(1<<21);while(o===0);return o},_.int32=A.next,_.quick=_,S&&(S.x&&b(S,A),_.state=function(){return b(A,{})}),_}n&&n.exports?n.exports=h:a&&a.amd?a(function(){return h}):this.xorshift7=h})(commonjsGlobal,N,!1)})(xorshift7$1);var xorshift7Exports=xorshift7$1.exports,xor4096$1={exports:{}};xor4096$1.exports;(function(N){(function(u,n,a){function r(m){var p=this;p.next=function(){var S=p.w,_=p.X,l=p.i,y,o;return p.w=S=S+1640531527|0,o=_[l+34&127],y=_[l=l+1&127],o^=o<<13,y^=y<<17,o^=o>>>15,y^=y>>>12,o=_[l]=o^y,p.i=l,o+(S^S>>>16)|0};function A(S,_){var l,y,o,f,x,g=[],D=128;for(_===(_|0)?(y=_,_=null):(_=_+"\0",y=0,D=Math.max(D,_.length)),o=0,f=-32;f<D;++f)_&&(y^=_.charCodeAt((f+32)%_.length)),f===0&&(x=y),y^=y<<10,y^=y>>>15,y^=y<<4,y^=y>>>13,f>=0&&(x=x+1640531527|0,l=g[f&127]^=y+x,o=l==0?o+1:0);for(o>=128&&(g[(_&&_.length||0)&127]=-1),o=127,f=4*128;f>0;--f)y=g[o+34&127],l=g[o=o+1&127],y^=y<<13,l^=l<<17,y^=y>>>15,l^=l>>>12,g[o]=y^l;S.w=x,S.X=g,S.i=o}A(p,m)}function b(m,p){return p.i=m.i,p.w=m.w,p.X=m.X.slice(),p}function h(m,p){m==null&&(m=+new Date);var A=new r(m),S=p&&p.state,_=function(){return(A.next()>>>0)/4294967296};return _.double=function(){do var l=A.next()>>>11,y=(A.next()>>>0)/4294967296,o=(l+y)/(1<<21);while(o===0);return o},_.int32=A.next,_.quick=_,S&&(S.X&&b(S,A),_.state=function(){return b(A,{})}),_}n&&n.exports?n.exports=h:a&&a.amd?a(function(){return h}):this.xor4096=h})(commonjsGlobal,N,!1)})(xor4096$1);var xor4096Exports=xor4096$1.exports,tychei$1={exports:{}};tychei$1.exports;(function(N){(function(u,n,a){function r(m){var p=this,A="";p.next=function(){var _=p.b,l=p.c,y=p.d,o=p.a;return _=_<<25^_>>>7^l,l=l-y|0,y=y<<24^y>>>8^o,o=o-_|0,p.b=_=_<<20^_>>>12^l,p.c=l=l-y|0,p.d=y<<16^l>>>16^o,p.a=o-_|0},p.a=0,p.b=0,p.c=-1640531527,p.d=1367130551,m===Math.floor(m)?(p.a=m/4294967296|0,p.b=m|0):A+=m;for(var S=0;S<A.length+20;S++)p.b^=A.charCodeAt(S)|0,p.next()}function b(m,p){return p.a=m.a,p.b=m.b,p.c=m.c,p.d=m.d,p}function h(m,p){var A=new r(m),S=p&&p.state,_=function(){return(A.next()>>>0)/4294967296};return _.double=function(){do var l=A.next()>>>11,y=(A.next()>>>0)/4294967296,o=(l+y)/(1<<21);while(o===0);return o},_.int32=A.next,_.quick=_,S&&(typeof S=="object"&&b(S,A),_.state=function(){return b(A,{})}),_}n&&n.exports?n.exports=h:a&&a.amd?a(function(){return h}):this.tychei=h})(commonjsGlobal,N,!1)})(tychei$1);var tycheiExports=tychei$1.exports,seedrandom$2={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);(function(N){(function(u,n,a){var r=256,b=6,h=52,m="random",p=a.pow(r,b),A=a.pow(2,h),S=A*2,_=r-1,l;function y(C,T,O){var I=[];T=T==!0?{entropy:!0}:T||{};var M=g(x(T.entropy?[C,E(n)]:C??D(),3),I),F=new o(I),B=function(){for(var j=F.g(b),L=p,R=0;j<A;)j=(j+R)*r,L*=r,R=F.g(1);for(;j>=S;)j/=2,L/=2,R>>>=1;return(j+R)/L};return B.int32=function(){return F.g(4)|0},B.quick=function(){return F.g(4)/4294967296},B.double=B,g(E(F.S),n),(T.pass||O||function(j,L,R,V){return V&&(V.S&&f(V,F),j.state=function(){return f(F,{})}),R?(a[m]=j,L):j})(B,M,"global"in T?T.global:this==a,T.state)}function o(C){var T,O=C.length,I=this,M=0,F=I.i=I.j=0,B=I.S=[];for(O||(C=[O++]);M<r;)B[M]=M++;for(M=0;M<r;M++)B[M]=B[F=_&F+C[M%O]+(T=B[M])],B[F]=T;(I.g=function(j){for(var L,R=0,V=I.i,k=I.j,U=I.S;j--;)L=U[V=_&V+1],R=R*r+U[_&(U[V]=U[k=_&k+L])+(U[k]=L)];return I.i=V,I.j=k,R})(r)}function f(C,T){return T.i=C.i,T.j=C.j,T.S=C.S.slice(),T}function x(C,T){var O=[],I=typeof C,M;if(T&&I=="object")for(M in C)try{O.push(x(C[M],T-1))}catch{}return O.length?O:I=="string"?C:C+"\0"}function g(C,T){for(var O=C+"",I,M=0;M<O.length;)T[_&M]=_&(I^=T[_&M]*19)+O.charCodeAt(M++);return E(T)}function D(){try{var C;return l&&(C=l.randomBytes)?C=C(r):(C=new Uint8Array(r),(u.crypto||u.msCrypto).getRandomValues(C)),E(C)}catch{var T=u.navigator,O=T&&T.plugins;return[+new Date,u,O,u.screen,E(n)]}}function E(C){return String.fromCharCode.apply(0,C)}if(g(a.random(),n),N.exports){N.exports=y;try{l=require$$0}catch{}}else a["seed"+m]=y})(typeof self<"u"?self:commonjsGlobal,[],Math)})(seedrandom$2);var seedrandomExports=seedrandom$2.exports,alea=aleaExports,xor128=xor128Exports,xorwow=xorwowExports,xorshift7=xorshift7Exports,xor4096=xor4096Exports,tychei=tycheiExports,sr=seedrandomExports;sr.alea=alea;sr.xor128=xor128;sr.xorwow=xorwow;sr.xorshift7=xorshift7;sr.xor4096=xor4096;sr.tychei=tychei;var seedrandom=sr;const seedrandom$1=getDefaultExportFromCjs(seedrandom);var noisejs={exports:{}};(function(N){(function(u){function n(A){function S(_,l,y){this.x=_,this.y=l,this.z=y}S.prototype.dot2=function(_,l){return this.x*_+this.y*l},S.prototype.dot3=function(_,l,y){return this.x*_+this.y*l+this.z*y},this.grad3=[new S(1,1,0),new S(-1,1,0),new S(1,-1,0),new S(-1,-1,0),new S(1,0,1),new S(-1,0,1),new S(1,0,-1),new S(-1,0,-1),new S(0,1,1),new S(0,-1,1),new S(0,1,-1),new S(0,-1,-1)],this.p=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this.perm=new Array(512),this.gradP=new Array(512),this.seed(A||0)}n.prototype.seed=function(A){A>0&&A<1&&(A*=65536),A=Math.floor(A),A<256&&(A|=A<<8);for(var S=this.p,_=0;_<256;_++){var l;_&1?l=S[_]^A&255:l=S[_]^A>>8&255;var y=this.perm,o=this.gradP;y[_]=y[_+256]=l,o[_]=o[_+256]=this.grad3[l%12]}};var a=.5*(Math.sqrt(3)-1),r=(3-Math.sqrt(3))/6,b=1/3,h=1/6;n.prototype.simplex2=function(A,S){var _,l,y,o=(A+S)*a,f=Math.floor(A+o),x=Math.floor(S+o),g=(f+x)*r,D=A-f+g,E=S-x+g,C,T;D>E?(C=1,T=0):(C=0,T=1);var O=D-C+r,I=E-T+r,M=D-1+2*r,F=E-1+2*r;f&=255,x&=255;var B=this.perm,j=this.gradP,L=j[f+B[x]],R=j[f+C+B[x+T]],V=j[f+1+B[x+1]],k=.5-D*D-E*E;k<0?_=0:(k*=k,_=k*k*L.dot2(D,E));var U=.5-O*O-I*I;U<0?l=0:(U*=U,l=U*U*R.dot2(O,I));var G=.5-M*M-F*F;return G<0?y=0:(G*=G,y=G*G*V.dot2(M,F)),70*(_+l+y)},n.prototype.simplex3=function(A,S,_){var l,y,o,f,x=(A+S+_)*b,g=Math.floor(A+x),D=Math.floor(S+x),E=Math.floor(_+x),C=(g+D+E)*h,T=A-g+C,O=S-D+C,I=_-E+C,M,F,B,j,L,R;T>=O?O>=I?(M=1,F=0,B=0,j=1,L=1,R=0):T>=I?(M=1,F=0,B=0,j=1,L=0,R=1):(M=0,F=0,B=1,j=1,L=0,R=1):O<I?(M=0,F=0,B=1,j=0,L=1,R=1):T<I?(M=0,F=1,B=0,j=0,L=1,R=1):(M=0,F=1,B=0,j=1,L=1,R=0);var V=T-M+h,k=O-F+h,U=I-B+h,G=T-j+2*h,H=O-L+2*h,X=I-R+2*h,Z=T-1+3*h,J=O-1+3*h,ee=I-1+3*h;g&=255,D&=255,E&=255;var $=this.perm,W=this.gradP,Q=W[g+$[D+$[E]]],te=W[g+M+$[D+F+$[E+B]]],ce=W[g+j+$[D+L+$[E+R]]],oe=W[g+1+$[D+1+$[E+1]]],ue=.5-T*T-O*O-I*I;ue<0?l=0:(ue*=ue,l=ue*ue*Q.dot3(T,O,I));var we=.5-V*V-k*k-U*U;we<0?y=0:(we*=we,y=we*we*te.dot3(V,k,U));var le=.5-G*G-H*H-X*X;le<0?o=0:(le*=le,o=le*le*ce.dot3(G,H,X));var fe=.5-Z*Z-J*J-ee*ee;return fe<0?f=0:(fe*=fe,f=fe*fe*oe.dot3(Z,J,ee)),32*(l+y+o+f)};function m(A){return A*A*A*(A*(A*6-15)+10)}function p(A,S,_){return(1-_)*A+_*S}n.prototype.perlin2=function(A,S){var _=Math.floor(A),l=Math.floor(S);A=A-_,S=S-l,_=_&255,l=l&255;var y=this.perm,o=this.gradP,f=o[_+y[l]].dot2(A,S),x=o[_+y[l+1]].dot2(A,S-1),g=o[_+1+y[l]].dot2(A-1,S),D=o[_+1+y[l+1]].dot2(A-1,S-1),E=m(A);return p(p(f,g,E),p(x,D,E),m(S))},n.prototype.perlin3=function(A,S,_){var l=Math.floor(A),y=Math.floor(S),o=Math.floor(_);A=A-l,S=S-y,_=_-o,l=l&255,y=y&255,o=o&255;var f=this.perm,x=this.gradP,g=x[l+f[y+f[o]]].dot3(A,S,_),D=x[l+f[y+f[o+1]]].dot3(A,S,_-1),E=x[l+f[y+1+f[o]]].dot3(A,S-1,_),C=x[l+f[y+1+f[o+1]]].dot3(A,S-1,_-1),T=x[l+1+f[y+f[o]]].dot3(A-1,S,_),O=x[l+1+f[y+f[o+1]]].dot3(A-1,S,_-1),I=x[l+1+f[y+1+f[o]]].dot3(A-1,S-1,_),M=x[l+1+f[y+1+f[o+1]]].dot3(A-1,S-1,_-1),F=m(A),B=m(S),j=m(_);return p(p(p(g,T,F),p(D,O,F),j),p(p(E,I,F),p(C,M,F),j),B)},u.Noise=n})(N.exports)})(noisejs);var noisejsExports=noisejs.exports;const nStreams=writable$1(32),seedValue=writable$1(""),noise=writable$1(new noisejsExports.Noise(Math.random())),seed$1=N=>{seedValue.set(N)},randomSequence=writable$1([]);seedValue.subscribe(N=>{if(!N)return;const u=seedrandom$1(N),n=Array(256).fill(0).map(a=>u());randomSequence.set(n),noise.set(new noisejsExports.Noise(u()))});const bpm=writable$1(120),getBpm=()=>get_store_value(bpm),q$1=writable$1(16),getQ=()=>get_store_value(q$1),setQ=N=>q$1.set(N),t$1=writable$1(0),getT=()=>get_store_value(t$1),setT=N=>t$1.set(N),clockSource=writable$1("internal"),midiClockDevice=writable$1(0),activeMidiClock=writable$1(!1),midiClockConfig=writable$1({srcBpm:120,relativeBpm:!1}),getClockSource=()=>get_store_value(clockSource),getMidiClockDevice=()=>get_store_value(midiClockDevice),getActiveMidiClock=()=>get_store_value(activeMidiClock),getMidiClockConfig=()=>get_store_value(midiClockConfig),mode=writable$1("division"),midiTriggerDevice=writable$1(0),getMode=()=>get_store_value(mode),getMidiTriggerDevice=()=>get_store_value(midiTriggerDevice);function _extends(){return _extends=Object.assign?Object.assign.bind():function(N){for(var u=1;u<arguments.length;u++){var n=arguments[u];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(N[a]=n[a])}return N},_extends.apply(this,arguments)}var DEFAULT_CONFIG={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function isNumber(N){return typeof N=="number"}function isBigNumber(N){return!N||typeof N!="object"||typeof N.constructor!="function"?!1:N.isBigNumber===!0&&typeof N.constructor.prototype=="object"&&N.constructor.prototype.isBigNumber===!0||typeof N.constructor.isDecimal=="function"&&N.constructor.isDecimal(N)===!0}function isComplex(N){return N&&typeof N=="object"&&Object.getPrototypeOf(N).isComplex===!0||!1}function isFraction(N){return N&&typeof N=="object"&&Object.getPrototypeOf(N).isFraction===!0||!1}function isUnit(N){return N&&N.constructor.prototype.isUnit===!0||!1}function isString(N){return typeof N=="string"}var isArray=Array.isArray;function isMatrix(N){return N&&N.constructor.prototype.isMatrix===!0||!1}function isCollection(N){return Array.isArray(N)||isMatrix(N)}function isDenseMatrix(N){return N&&N.isDenseMatrix&&N.constructor.prototype.isMatrix===!0||!1}function isSparseMatrix(N){return N&&N.isSparseMatrix&&N.constructor.prototype.isMatrix===!0||!1}function isRange(N){return N&&N.constructor.prototype.isRange===!0||!1}function isIndex(N){return N&&N.constructor.prototype.isIndex===!0||!1}function isBoolean(N){return typeof N=="boolean"}function isResultSet(N){return N&&N.constructor.prototype.isResultSet===!0||!1}function isHelp(N){return N&&N.constructor.prototype.isHelp===!0||!1}function isFunction(N){return typeof N=="function"}function isDate(N){return N instanceof Date}function isRegExp(N){return N instanceof RegExp}function isObject(N){return!!(N&&typeof N=="object"&&N.constructor===Object&&!isComplex(N)&&!isFraction(N))}function isNull(N){return N===null}function isUndefined(N){return N===void 0}function isAccessorNode(N){return N&&N.isAccessorNode===!0&&N.constructor.prototype.isNode===!0||!1}function isArrayNode(N){return N&&N.isArrayNode===!0&&N.constructor.prototype.isNode===!0||!1}function isAssignmentNode(N){return N&&N.isAssignmentNode===!0&&N.constructor.prototype.isNode===!0||!1}function isBlockNode(N){return N&&N.isBlockNode===!0&&N.constructor.prototype.isNode===!0||!1}function isConditionalNode(N){return N&&N.isConditionalNode===!0&&N.constructor.prototype.isNode===!0||!1}function isConstantNode(N){return N&&N.isConstantNode===!0&&N.constructor.prototype.isNode===!0||!1}function isFunctionAssignmentNode(N){return N&&N.isFunctionAssignmentNode===!0&&N.constructor.prototype.isNode===!0||!1}function isFunctionNode(N){return N&&N.isFunctionNode===!0&&N.constructor.prototype.isNode===!0||!1}function isIndexNode(N){return N&&N.isIndexNode===!0&&N.constructor.prototype.isNode===!0||!1}function isNode(N){return N&&N.isNode===!0&&N.constructor.prototype.isNode===!0||!1}function isObjectNode(N){return N&&N.isObjectNode===!0&&N.constructor.prototype.isNode===!0||!1}function isOperatorNode(N){return N&&N.isOperatorNode===!0&&N.constructor.prototype.isNode===!0||!1}function isParenthesisNode(N){return N&&N.isParenthesisNode===!0&&N.constructor.prototype.isNode===!0||!1}function isRangeNode(N){return N&&N.isRangeNode===!0&&N.constructor.prototype.isNode===!0||!1}function isRelationalNode(N){return N&&N.isRelationalNode===!0&&N.constructor.prototype.isNode===!0||!1}function isSymbolNode(N){return N&&N.isSymbolNode===!0&&N.constructor.prototype.isNode===!0||!1}function isChain(N){return N&&N.constructor.prototype.isChain===!0||!1}function typeOf(N){var u=typeof N;return u==="object"?N===null?"null":isBigNumber(N)?"BigNumber":N.constructor&&N.constructor.name?N.constructor.name:"Object":u}function clone$2(N){var u=typeof N;if(u==="number"||u==="string"||u==="boolean"||N===null||N===void 0)return N;if(typeof N.clone=="function")return N.clone();if(Array.isArray(N))return N.map(function(n){return clone$2(n)});if(N instanceof Date)return new Date(N.valueOf());if(isBigNumber(N))return N;if(isObject(N))return mapObject(N,clone$2);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(N,")"))}function mapObject(N,u){var n={};for(var a in N)hasOwnProperty(N,a)&&(n[a]=u(N[a]));return n}function deepStrictEqual(N,u){var n,a,r;if(Array.isArray(N)){if(!Array.isArray(u)||N.length!==u.length)return!1;for(a=0,r=N.length;a<r;a++)if(!deepStrictEqual(N[a],u[a]))return!1;return!0}else{if(typeof N=="function")return N===u;if(N instanceof Object){if(Array.isArray(u)||!(u instanceof Object))return!1;for(n in N)if(!(n in u)||!deepStrictEqual(N[n],u[n]))return!1;for(n in u)if(!(n in N))return!1;return!0}else return N===u}}function hasOwnProperty(N,u){return N&&Object.hasOwnProperty.call(N,u)}function pickShallow(N,u){for(var n={},a=0;a<u.length;a++){var r=u[a],b=N[r];b!==void 0&&(n[r]=b)}return n}var MATRIX_OPTIONS=["Matrix","Array"],NUMBER_OPTIONS=["number","BigNumber","Fraction"],config$1=function(u){if(u)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(DEFAULT_CONFIG)};_extends(config$1,DEFAULT_CONFIG,{MATRIX_OPTIONS,NUMBER_OPTIONS});function ok(){return!0}function notOk(){return!1}function undef(){}const NOT_TYPED_FUNCTION="Argument is not a typed-function.";function create(){function N(xe){return typeof xe=="object"&&xe!==null&&xe.constructor===Object}const u=[{name:"number",test:function(xe){return typeof xe=="number"}},{name:"string",test:function(xe){return typeof xe=="string"}},{name:"boolean",test:function(xe){return typeof xe=="boolean"}},{name:"Function",test:function(xe){return typeof xe=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(xe){return xe instanceof Date}},{name:"RegExp",test:function(xe){return xe instanceof RegExp}},{name:"Object",test:N},{name:"null",test:function(xe){return xe===null}},{name:"undefined",test:function(xe){return xe===void 0}}],n={name:"any",test:ok,isAny:!0};let a,r,b=0,h={createCount:0};function m(xe){const Ie=a.get(xe);if(Ie)return Ie;let Ne='Unknown type "'+xe+'"';const Be=xe.toLowerCase();let $e;for($e of r)if($e.toLowerCase()===Be){Ne+='. Did you mean "'+$e+'" ?';break}throw new TypeError(Ne)}function p(xe){let Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const Ne=Ie?m(Ie).index:r.length,Be=[];for(let Le=0;Le<xe.length;++Le){if(!xe[Le]||typeof xe[Le].name!="string"||typeof xe[Le].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const qe=xe[Le].name;if(a.has(qe))throw new TypeError('Duplicate type name "'+qe+'"');Be.push(qe),a.set(qe,{name:qe,test:xe[Le].test,isAny:xe[Le].isAny,index:Ne+Le,conversionsTo:[]})}const $e=r.slice(Ne);r=r.slice(0,Ne).concat(Be).concat($e);for(let Le=Ne+Be.length;Le<r.length;++Le)a.get(r[Le]).index=Le}function A(){a=new Map,r=[],b=0,p([n],!1)}A(),p(u);function S(){let xe;for(xe of r)a.get(xe).conversionsTo=[];b=0}function _(xe){const Ie=r.filter(Ne=>{const Be=a.get(Ne);return!Be.isAny&&Be.test(xe)});return Ie.length?Ie:["any"]}function l(xe){return xe&&typeof xe=="function"&&"_typedFunctionData"in xe}function y(xe,Ie,Ne){if(!l(xe))throw new TypeError(NOT_TYPED_FUNCTION);const Be=Ne&&Ne.exact,$e=Array.isArray(Ie)?Ie.join(","):Ie,Le=C($e),qe=x(Le);if(!Be||qe in xe.signatures){const Me=xe._typedFunctionData.signatureMap.get(qe);if(Me)return Me}const ze=Le.length;let Ee;if(Be){Ee=[];let Me;for(Me in xe.signatures)Ee.push(xe._typedFunctionData.signatureMap.get(Me))}else Ee=xe._typedFunctionData.signatures;for(let Me=0;Me<ze;++Me){const me=Le[Me],Ve=[];let Xe;for(Xe of Ee){const rt=M(Xe.params,Me);if(!(!rt||me.restParam&&!rt.restParam)){if(!rt.hasAny){const lt=E(rt);if(me.types.some(nt=>!lt.has(nt.name)))continue}Ve.push(Xe)}}if(Ee=Ve,Ee.length===0)break}let Se;for(Se of Ee)if(Se.params.length<=ze)return Se;throw new TypeError("Signature not found (signature: "+(xe.name||"unnamed")+"("+x(Le,", ")+"))")}function o(xe,Ie,Ne){return y(xe,Ie,Ne).implementation}function f(xe,Ie){const Ne=m(Ie);if(Ne.test(xe))return xe;const Be=Ne.conversionsTo;if(Be.length===0)throw new Error("There are no conversions to "+Ie+" defined.");for(let $e=0;$e<Be.length;$e++)if(m(Be[$e].from).test(xe))return Be[$e].convert(xe);throw new Error("Cannot convert "+xe+" to "+Ie)}function x(xe){let Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return xe.map(Ne=>Ne.name).join(Ie)}function g(xe){const Ie=xe.indexOf("...")===0,Be=(Ie?xe.length>3?xe.slice(3):"any":xe).split("|").map(ze=>m(ze.trim()));let $e=!1,Le=Ie?"...":"";return{types:Be.map(function(ze){return $e=ze.isAny||$e,Le+=ze.name+"|",{name:ze.name,typeIndex:ze.index,test:ze.test,isAny:ze.isAny,conversion:null,conversionIndex:-1}}),name:Le.slice(0,-1),hasAny:$e,hasConversion:!1,restParam:Ie}}function D(xe){const Ie=xe.types.map(qe=>qe.name),Ne=G(Ie);let Be=xe.hasAny,$e=xe.name;const Le=Ne.map(function(qe){const ze=m(qe.from);return Be=ze.isAny||Be,$e+="|"+qe.from,{name:qe.from,typeIndex:ze.index,test:ze.test,isAny:ze.isAny,conversion:qe,conversionIndex:qe.index}});return{types:xe.types.concat(Le),name:$e,hasAny:Be,hasConversion:Le.length>0,restParam:xe.restParam}}function E(xe){return xe.typeSet||(xe.typeSet=new Set,xe.types.forEach(Ie=>xe.typeSet.add(Ie.name))),xe.typeSet}function C(xe){const Ie=[];if(typeof xe!="string")throw new TypeError("Signatures must be strings");const Ne=xe.trim();if(Ne==="")return Ie;const Be=Ne.split(",");for(let $e=0;$e<Be.length;++$e){const Le=g(Be[$e].trim());if(Le.restParam&&$e!==Be.length-1)throw new SyntaxError('Unexpected rest parameter "'+Be[$e]+'": only allowed for the last parameter');if(Le.types.length===0)return null;Ie.push(Le)}return Ie}function T(xe){const Ie=ue(xe);return Ie?Ie.restParam:!1}function O(xe){if(!xe||xe.types.length===0)return ok;if(xe.types.length===1)return m(xe.types[0].name).test;if(xe.types.length===2){const Ie=m(xe.types[0].name).test,Ne=m(xe.types[1].name).test;return function($e){return Ie($e)||Ne($e)}}else{const Ie=xe.types.map(function(Ne){return m(Ne.name).test});return function(Be){for(let $e=0;$e<Ie.length;$e++)if(Ie[$e](Be))return!0;return!1}}}function I(xe){let Ie,Ne,Be;if(T(xe)){Ie=oe(xe).map(O);const $e=Ie.length,Le=O(ue(xe)),qe=function(ze){for(let Ee=$e;Ee<ze.length;Ee++)if(!Le(ze[Ee]))return!1;return!0};return function(Ee){for(let Se=0;Se<Ie.length;Se++)if(!Ie[Se](Ee[Se]))return!1;return qe(Ee)&&Ee.length>=$e+1}}else return xe.length===0?function(Le){return Le.length===0}:xe.length===1?(Ne=O(xe[0]),function(Le){return Ne(Le[0])&&Le.length===1}):xe.length===2?(Ne=O(xe[0]),Be=O(xe[1]),function(Le){return Ne(Le[0])&&Be(Le[1])&&Le.length===2}):(Ie=xe.map(O),function(Le){for(let qe=0;qe<Ie.length;qe++)if(!Ie[qe](Le[qe]))return!1;return Le.length===Ie.length})}function M(xe,Ie){return Ie<xe.length?xe[Ie]:T(xe)?ue(xe):null}function F(xe,Ie){const Ne=M(xe,Ie);return Ne?E(Ne):new Set}function B(xe){return xe.conversion===null||xe.conversion===void 0}function j(xe,Ie){const Ne=new Set;return xe.forEach(Be=>{const $e=F(Be.params,Ie);let Le;for(Le of $e)Ne.add(Le)}),Ne.has("any")?["any"]:Array.from(Ne)}function L(xe,Ie,Ne){let Be,$e;const Le=xe||"unnamed";let qe=Ne,ze;for(ze=0;ze<Ie.length;ze++){const me=[];if(qe.forEach(Ve=>{const Xe=M(Ve.params,ze),rt=O(Xe);(ze<Ve.params.length||T(Ve.params))&&rt(Ie[ze])&&me.push(Ve)}),me.length===0){if($e=j(qe,ze),$e.length>0){const Ve=_(Ie[ze]);return Be=new TypeError("Unexpected type of argument in function "+Le+" (expected: "+$e.join(" or ")+", actual: "+Ve.join(" | ")+", index: "+ze+")"),Be.data={category:"wrongType",fn:Le,index:ze,actual:Ve,expected:$e},Be}}else qe=me}const Ee=qe.map(function(me){return T(me.params)?1/0:me.params.length});if(Ie.length<Math.min.apply(null,Ee))return $e=j(qe,ze),Be=new TypeError("Too few arguments in function "+Le+" (expected: "+$e.join(" or ")+", index: "+Ie.length+")"),Be.data={category:"tooFewArgs",fn:Le,index:Ie.length,expected:$e},Be;const Se=Math.max.apply(null,Ee);if(Ie.length>Se)return Be=new TypeError("Too many arguments in function "+Le+" (expected: "+Se+", actual: "+Ie.length+")"),Be.data={category:"tooManyArgs",fn:Le,index:Ie.length,expectedLength:Se},Be;const Me=[];for(let me=0;me<Ie.length;++me)Me.push(_(Ie[me]).join("|"));return Be=new TypeError('Arguments of type "'+Me.join(", ")+'" do not match any of the defined signatures of function '+Le+"."),Be.data={category:"mismatch",actual:Me},Be}function R(xe){let Ie=r.length+1;for(let Ne=0;Ne<xe.types.length;Ne++)B(xe.types[Ne])&&(Ie=Math.min(Ie,xe.types[Ne].typeIndex));return Ie}function V(xe){let Ie=b+1;for(let Ne=0;Ne<xe.types.length;Ne++)B(xe.types[Ne])||(Ie=Math.min(Ie,xe.types[Ne].conversionIndex));return Ie}function k(xe,Ie){if(xe.hasAny){if(!Ie.hasAny)return 1}else if(Ie.hasAny)return-1;if(xe.restParam){if(!Ie.restParam)return 1}else if(Ie.restParam)return-1;if(xe.hasConversion){if(!Ie.hasConversion)return 1}else if(Ie.hasConversion)return-1;const Ne=R(xe)-R(Ie);if(Ne<0)return-1;if(Ne>0)return 1;const Be=V(xe)-V(Ie);return Be<0?-1:Be>0?1:0}function U(xe,Ie){const Ne=xe.params,Be=Ie.params,$e=ue(Ne),Le=ue(Be),qe=T(Ne),ze=T(Be);if(qe&&$e.hasAny){if(!ze||!Le.hasAny)return 1}else if(ze&&Le.hasAny)return-1;let Ee=0,Se=0,Me;for(Me of Ne)Me.hasAny&&++Ee,Me.hasConversion&&++Se;let me=0,Ve=0;for(Me of Be)Me.hasAny&&++me,Me.hasConversion&&++Ve;if(Ee!==me)return Ee-me;if(qe&&$e.hasConversion){if(!ze||!Le.hasConversion)return 1}else if(ze&&Le.hasConversion)return-1;if(Se!==Ve)return Se-Ve;if(qe){if(!ze)return 1}else if(ze)return-1;const Xe=(Ne.length-Be.length)*(qe?-1:1);if(Xe!==0)return Xe;const rt=[];let lt=0;for(let it=0;it<Ne.length;++it){const dt=k(Ne[it],Be[it]);rt.push(dt),lt+=dt}if(lt!==0)return lt;let nt;for(nt of rt)if(nt!==0)return nt;return 0}function G(xe){if(xe.length===0)return[];const Ie=xe.map(m);xe.length>1&&Ie.sort(($e,Le)=>$e.index-Le.index);let Ne=Ie[0].conversionsTo;if(xe.length===1)return Ne;Ne=Ne.concat([]);const Be=new Set(xe);for(let $e=1;$e<Ie.length;++$e){let Le;for(Le of Ie[$e].conversionsTo)Be.has(Le.from)||(Ne.push(Le),Be.add(Le.from))}return Ne}function H(xe,Ie){let Ne=Ie;if(xe.some($e=>$e.hasConversion)){const $e=T(xe),Le=xe.map(X);Ne=function(){const ze=[],Ee=$e?arguments.length-1:arguments.length;for(let Se=0;Se<Ee;Se++)ze[Se]=Le[Se](arguments[Se]);return $e&&(ze[Ee]=arguments[Ee].map(Le[Ee])),Ie.apply(this,ze)}}let Be=Ne;if(T(xe)){const $e=xe.length-1;Be=function(){return Ne.apply(this,we(arguments,0,$e).concat([we(arguments,$e)]))}}return Be}function X(xe){let Ie,Ne,Be,$e;const Le=[],qe=[];switch(xe.types.forEach(function(ze){ze.conversion&&(Le.push(m(ze.conversion.from).test),qe.push(ze.conversion.convert))}),qe.length){case 0:return function(Ee){return Ee};case 1:return Ie=Le[0],Be=qe[0],function(Ee){return Ie(Ee)?Be(Ee):Ee};case 2:return Ie=Le[0],Ne=Le[1],Be=qe[0],$e=qe[1],function(Ee){return Ie(Ee)?Be(Ee):Ne(Ee)?$e(Ee):Ee};default:return function(Ee){for(let Se=0;Se<qe.length;Se++)if(Le[Se](Ee))return qe[Se](Ee);return Ee}}}function Z(xe){function Ie(Ne,Be,$e){if(Be<Ne.length){const Le=Ne[Be];let qe=[];if(Le.restParam){const ze=Le.types.filter(B);ze.length<Le.types.length&&qe.push({types:ze,name:"..."+ze.map(Ee=>Ee.name).join("|"),hasAny:ze.some(Ee=>Ee.isAny),hasConversion:!1,restParam:!0}),qe.push(Le)}else qe=Le.types.map(function(ze){return{types:[ze],name:ze.name,hasAny:ze.isAny,hasConversion:ze.conversion,restParam:!1}});return fe(qe,function(ze){return Ie(Ne,Be+1,$e.concat([ze]))})}else return[$e]}return Ie(xe,0,[])}function J(xe,Ie){const Ne=Math.max(xe.length,Ie.length);for(let ze=0;ze<Ne;ze++){const Ee=F(xe,ze),Se=F(Ie,ze);let Me=!1,me;for(me of Se)if(Ee.has(me)){Me=!0;break}if(!Me)return!1}const Be=xe.length,$e=Ie.length,Le=T(xe),qe=T(Ie);return Le?qe?Be===$e:$e>=Be:qe?Be>=$e:Be===$e}function ee(xe){return xe.map(Ie=>be(Ie)?ye(Ie.referToSelf.callback):Ae(Ie)?pe(Ie.referTo.references,Ie.referTo.callback):Ie)}function $(xe,Ie,Ne){const Be=[];let $e;for($e of xe){let Le=Ne[$e];if(typeof Le!="number")throw new TypeError('No definition for referenced signature "'+$e+'"');if(Le=Ie[Le],typeof Le!="function")return!1;Be.push(Le)}return Be}function W(xe,Ie,Ne){const Be=ee(xe),$e=new Array(Be.length).fill(!1);let Le=!0;for(;Le;){Le=!1;let qe=!0;for(let ze=0;ze<Be.length;++ze){if($e[ze])continue;const Ee=Be[ze];if(be(Ee))Be[ze]=Ee.referToSelf.callback(Ne),Be[ze].referToSelf=Ee.referToSelf,$e[ze]=!0,qe=!1;else if(Ae(Ee)){const Se=$(Ee.referTo.references,Be,Ie);Se?(Be[ze]=Ee.referTo.callback.apply(this,Se),Be[ze].referTo=Ee.referTo,$e[ze]=!0,qe=!1):Le=!0}}if(qe&&Le)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Be}function Q(xe){const Ie=/\bthis(\(|\.signatures\b)/;Object.keys(xe).forEach(Ne=>{const Be=xe[Ne];if(Ie.test(Be.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function te(xe,Ie){if(h.createCount++,Object.keys(Ie).length===0)throw new SyntaxError("No signatures provided");h.warnAgainstDeprecatedThis&&Q(Ie);const Ne=[],Be=[],$e={},Le=[];let qe;for(qe in Ie){if(!Object.prototype.hasOwnProperty.call(Ie,qe))continue;const Ye=C(qe);if(!Ye)continue;Ne.forEach(function(ot){if(J(ot,Ye))throw new TypeError('Conflicting signatures "'+x(ot)+'" and "'+x(Ye)+'".')}),Ne.push(Ye);const tt=Be.length;Be.push(Ie[qe]);const ct=Ye.map(D);let st;for(st of Z(ct)){const ot=x(st);Le.push({params:st,name:ot,fn:tt}),st.every(Dt=>!Dt.hasConversion)&&($e[ot]=tt)}}Le.sort(U);const ze=W(Be,$e,Re);let Ee;for(Ee in $e)Object.prototype.hasOwnProperty.call($e,Ee)&&($e[Ee]=ze[$e[Ee]]);const Se=[],Me=new Map;for(Ee of Le)Me.has(Ee.name)||(Ee.fn=ze[Ee.fn],Se.push(Ee),Me.set(Ee.name,Ee));const me=Se[0]&&Se[0].params.length<=2&&!T(Se[0].params),Ve=Se[1]&&Se[1].params.length<=2&&!T(Se[1].params),Xe=Se[2]&&Se[2].params.length<=2&&!T(Se[2].params),rt=Se[3]&&Se[3].params.length<=2&&!T(Se[3].params),lt=Se[4]&&Se[4].params.length<=2&&!T(Se[4].params),nt=Se[5]&&Se[5].params.length<=2&&!T(Se[5].params),it=me&&Ve&&Xe&&rt&&lt&&nt;for(let Ye=0;Ye<Se.length;++Ye)Se[Ye].test=I(Se[Ye].params);const dt=me?O(Se[0].params[0]):notOk,ft=Ve?O(Se[1].params[0]):notOk,yt=Xe?O(Se[2].params[0]):notOk,bt=rt?O(Se[3].params[0]):notOk,wt=lt?O(Se[4].params[0]):notOk,xt=nt?O(Se[5].params[0]):notOk,Tt=me?O(Se[0].params[1]):notOk,kt=Ve?O(Se[1].params[1]):notOk,Mt=Xe?O(Se[2].params[1]):notOk,Ot=rt?O(Se[3].params[1]):notOk,Lt=lt?O(Se[4].params[1]):notOk,Ft=nt?O(Se[5].params[1]):notOk;for(let Ye=0;Ye<Se.length;++Ye)Se[Ye].implementation=H(Se[Ye].params,Se[Ye].fn);const Pt=me?Se[0].implementation:undef,It=Ve?Se[1].implementation:undef,Rt=Xe?Se[2].implementation:undef,Ht=rt?Se[3].implementation:undef,rn=lt?Se[4].implementation:undef,Zt=nt?Se[5].implementation:undef,Jt=me?Se[0].params.length:-1,an=Ve?Se[1].params.length:-1,Wt=Xe?Se[2].params.length:-1,nn=rt?Se[3].params.length:-1,Je=lt?Se[4].params.length:-1,Et=nt?Se[5].params.length:-1,_e=it?6:0,Oe=Se.length,Ue=Se.map(Ye=>Ye.test),Fe=Se.map(Ye=>Ye.implementation),He=function(){for(let tt=_e;tt<Oe;tt++)if(Ue[tt](arguments))return Fe[tt].apply(this,arguments);return h.onMismatch(xe,arguments,Se)};function Re(Ye,tt){return arguments.length===Jt&&dt(Ye)&&Tt(tt)?Pt.apply(this,arguments):arguments.length===an&&ft(Ye)&&kt(tt)?It.apply(this,arguments):arguments.length===Wt&&yt(Ye)&&Mt(tt)?Rt.apply(this,arguments):arguments.length===nn&&bt(Ye)&&Ot(tt)?Ht.apply(this,arguments):arguments.length===Je&&wt(Ye)&&Lt(tt)?rn.apply(this,arguments):arguments.length===Et&&xt(Ye)&&Ft(tt)?Zt.apply(this,arguments):He.apply(this,arguments)}try{Object.defineProperty(Re,"name",{value:xe})}catch{}return Re.signatures=$e,Re._typedFunctionData={signatures:Se,signatureMap:Me},Re}function ce(xe,Ie,Ne){throw L(xe,Ie,Ne)}function oe(xe){return we(xe,0,xe.length-1)}function ue(xe){return xe[xe.length-1]}function we(xe,Ie,Ne){return Array.prototype.slice.call(xe,Ie,Ne)}function le(xe,Ie){for(let Ne=0;Ne<xe.length;Ne++)if(Ie(xe[Ne]))return xe[Ne]}function fe(xe,Ie){return Array.prototype.concat.apply([],xe.map(Ie))}function ve(){const xe=oe(arguments).map(Ne=>x(C(Ne))),Ie=ue(arguments);if(typeof Ie!="function")throw new TypeError("Callback function expected as last argument");return pe(xe,Ie)}function pe(xe,Ie){return{referTo:{references:xe,callback:Ie}}}function ye(xe){if(typeof xe!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:xe}}}function Ae(xe){return xe&&typeof xe.referTo=="object"&&Array.isArray(xe.referTo.references)&&typeof xe.referTo.callback=="function"}function be(xe){return xe&&typeof xe.referToSelf=="object"&&typeof xe.referToSelf.callback=="function"}function ne(xe,Ie){if(!xe)return Ie;if(Ie&&Ie!==xe){const Ne=new Error("Function names do not match (expected: "+xe+", actual: "+Ie+")");throw Ne.data={actual:Ie,expected:xe},Ne}return xe}function re(xe){let Ie;for(const Ne in xe)Object.prototype.hasOwnProperty.call(xe,Ne)&&(l(xe[Ne])||typeof xe[Ne].signature=="string")&&(Ie=ne(Ie,xe[Ne].name));return Ie}function de(xe,Ie){let Ne;for(Ne in Ie)if(Object.prototype.hasOwnProperty.call(Ie,Ne)){if(Ne in xe&&Ie[Ne]!==xe[Ne]){const Be=new Error('Signature "'+Ne+'" is defined twice');throw Be.data={signature:Ne,sourceFunction:Ie[Ne],destFunction:xe[Ne]},Be}xe[Ne]=Ie[Ne]}}const Ce=h;h=function(xe){const Ie=typeof xe=="string",Ne=Ie?1:0;let Be=Ie?xe:"";const $e={};for(let Le=Ne;Le<arguments.length;++Le){const qe=arguments[Le];let ze={},Ee;if(typeof qe=="function"?(Ee=qe.name,typeof qe.signature=="string"?ze[qe.signature]=qe:l(qe)&&(ze=qe.signatures)):N(qe)&&(ze=qe,Ie||(Ee=re(qe))),Object.keys(ze).length===0){const Se=new TypeError("Argument to 'typed' at index "+Le+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Se.data={index:Le,argument:qe},Se}Ie||(Be=ne(Be,Ee)),de($e,ze)}return te(Be||"",$e)},h.create=create,h.createCount=Ce.createCount,h.onMismatch=ce,h.throwMismatchError=ce,h.createError=L,h.clear=A,h.clearConversions=S,h.addTypes=p,h._findType=m,h.referTo=ve,h.referToSelf=ye,h.convert=f,h.findSignature=y,h.find=o,h.isTypedFunction=l,h.warnAgainstDeprecatedThis=!0,h.addType=function(xe,Ie){let Ne="any";Ie!==!1&&a.has("Object")&&(Ne="Object"),h.addTypes([xe],Ne)};function je(xe){if(!xe||typeof xe.from!="string"||typeof xe.to!="string"||typeof xe.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(xe.to===xe.from)throw new SyntaxError('Illegal to define conversion from "'+xe.from+'" to itself.')}return h.addConversion=function(xe){je(xe);const Ie=m(xe.to);if(Ie.conversionsTo.every(function(Ne){return Ne.from!==xe.from}))Ie.conversionsTo.push({from:xe.from,convert:xe.convert,index:b++});else throw new Error('There is already a conversion from "'+xe.from+'" to "'+Ie.name+'"')},h.addConversions=function(xe){xe.forEach(h.addConversion)},h.removeConversion=function(xe){je(xe);const Ie=m(xe.to),Ne=le(Ie.conversionsTo,$e=>$e.from===xe.from);if(!Ne)throw new Error("Attempt to remove nonexistent conversion from "+xe.from+" to "+xe.to);if(Ne.convert!==xe.convert)throw new Error("Conversion to remove does not match existing conversion");const Be=Ie.conversionsTo.indexOf(Ne);Ie.conversionsTo.splice(Be,1)},h.resolve=function(xe,Ie){if(!l(xe))throw new TypeError(NOT_TYPED_FUNCTION);const Ne=xe._typedFunctionData.signatures;for(let Be=0;Be<Ne.length;++Be)if(Ne[Be].test(Ie))return Ne[Be];return null},h}const typedFunction=create();function isInteger(N){return typeof N=="boolean"?!0:isFinite(N)?N===Math.round(N):!1}function formatNumberToBase(N,u,n){var a={2:"0b",8:"0o",16:"0x"},r=a[u],b="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!isInteger(n))throw new Error("size must be an integer");if(N>2**(n-1)-1||N<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!isInteger(N))throw new Error("Value must be an integer");N<0&&(N=N+2**n),b="i".concat(n)}var h="";return N<0&&(N=-N,h="-"),"".concat(h).concat(r).concat(N.toString(u)).concat(b)}function format$2(N,u){if(typeof u=="function")return u(N);if(N===1/0)return"Infinity";if(N===-1/0)return"-Infinity";if(isNaN(N))return"NaN";var{notation:n,precision:a,wordSize:r}=normalizeFormatOptions(u);switch(n){case"fixed":return toFixed$1(N,a);case"exponential":return toExponential$1(N,a);case"engineering":return toEngineering$1(N,a);case"bin":return formatNumberToBase(N,2,r);case"oct":return formatNumberToBase(N,8,r);case"hex":return formatNumberToBase(N,16,r);case"auto":return toPrecision(N,a,u).replace(/((\.\d*?)(0+))($|e)/,function(){var b=arguments[2],h=arguments[4];return b!=="."?b+h:h});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function normalizeFormatOptions(N){var u="auto",n,a;if(N!==void 0)if(isNumber(N))n=N;else if(isBigNumber(N))n=N.toNumber();else if(isObject(N))N.precision!==void 0&&(n=_toNumberOrThrow(N.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),N.wordSize!==void 0&&(a=_toNumberOrThrow(N.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),N.notation&&(u=N.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:u,precision:n,wordSize:a}}function splitNumber(N){var u=String(N).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!u)throw new SyntaxError("Invalid number "+N);var n=u[1],a=u[2],r=parseFloat(u[4]||"0"),b=a.indexOf(".");r+=b!==-1?b-1:a.length-1;var h=a.replace(".","").replace(/^0*/,function(m){return r-=m.length,""}).replace(/0*$/,"").split("").map(function(m){return parseInt(m)});return h.length===0&&(h.push(0),r++),{sign:n,coefficients:h,exponent:r}}function toEngineering$1(N,u){if(isNaN(N)||!isFinite(N))return String(N);var n=splitNumber(N),a=roundDigits(n,u),r=a.exponent,b=a.coefficients,h=r%3===0?r:r<0?r-3-r%3:r-r%3;if(isNumber(u))for(;u>b.length||r-h+1>b.length;)b.push(0);else for(var m=Math.abs(r-h)-(b.length-1),p=0;p<m;p++)b.push(0);for(var A=Math.abs(r-h),S=1;A>0;)S++,A--;var _=b.slice(S).join(""),l=isNumber(u)&&_.length||_.match(/[1-9]/)?"."+_:"",y=b.slice(0,S).join("")+l+"e"+(r>=0?"+":"")+h.toString();return a.sign+y}function toFixed$1(N,u){if(isNaN(N)||!isFinite(N))return String(N);var n=splitNumber(N),a=typeof u=="number"?roundDigits(n,n.exponent+1+u):n,r=a.coefficients,b=a.exponent+1,h=b+(u||0);return r.length<h&&(r=r.concat(zeros$1(h-r.length))),b<0&&(r=zeros$1(-b+1).concat(r),b=1),b<r.length&&r.splice(b,0,b===0?"0.":"."),a.sign+r.join("")}function toExponential$1(N,u){if(isNaN(N)||!isFinite(N))return String(N);var n=splitNumber(N),a=u?roundDigits(n,u):n,r=a.coefficients,b=a.exponent;r.length<u&&(r=r.concat(zeros$1(u-r.length)));var h=r.shift();return a.sign+h+(r.length>0?"."+r.join(""):"")+"e"+(b>=0?"+":"")+b}function toPrecision(N,u,n){if(isNaN(N)||!isFinite(N))return String(N);var a=_toNumberOrDefault$1(n==null?void 0:n.lowerExp,-3),r=_toNumberOrDefault$1(n==null?void 0:n.upperExp,5),b=splitNumber(N),h=u?roundDigits(b,u):b;if(h.exponent<a||h.exponent>=r)return toExponential$1(N,u);var m=h.coefficients,p=h.exponent;m.length<u&&(m=m.concat(zeros$1(u-m.length))),m=m.concat(zeros$1(p-m.length+1+(m.length<u?u-m.length:0))),m=zeros$1(-p).concat(m);var A=p>0?p:0;return A<m.length-1&&m.splice(A+1,0,"."),h.sign+m.join("")}function roundDigits(N,u){for(var n={sign:N.sign,coefficients:N.coefficients,exponent:N.exponent},a=n.coefficients;u<=0;)a.unshift(0),n.exponent++,u++;if(a.length>u){var r=a.splice(u,a.length-u);if(r[0]>=5){var b=u-1;for(a[b]++;a[b]===10;)a.pop(),b===0&&(a.unshift(0),n.exponent++,b++),b--,a[b]++}}return n}function zeros$1(N){for(var u=[],n=0;n<N;n++)u.push(0);return u}function digits(N){return N.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var DBL_EPSILON=Number.EPSILON||2220446049250313e-31;function nearlyEqual$1(N,u,n){if(n==null)return N===u;if(N===u)return!0;if(isNaN(N)||isNaN(u))return!1;if(isFinite(N)&&isFinite(u)){var a=Math.abs(N-u);return a<=DBL_EPSILON?!0:a<=Math.max(Math.abs(N),Math.abs(u))*n}return!1}function _toNumberOrThrow(N,u){if(isNumber(N))return N;if(isBigNumber(N))return N.toNumber();u()}function _toNumberOrDefault$1(N,u){return isNumber(N)?N:isBigNumber(N)?N.toNumber():u}function formatBigNumberToBase(N,u,n){var a=N.constructor,r=new a(2),b="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!isInteger(n))throw new Error("size must be an integer");if(N.greaterThan(r.pow(n-1).sub(1))||N.lessThan(r.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!N.isInteger())throw new Error("Value must be an integer");N.lessThan(0)&&(N=N.add(r.pow(n))),b="i".concat(n)}switch(u){case 2:return"".concat(N.toBinary()).concat(b);case 8:return"".concat(N.toOctal()).concat(b);case 16:return"".concat(N.toHexadecimal()).concat(b);default:throw new Error("Base ".concat(u," not supported "))}}function format$1(N,u){if(typeof u=="function")return u(N);if(!N.isFinite())return N.isNaN()?"NaN":N.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:a,wordSize:r}=normalizeFormatOptions(u);switch(n){case"fixed":return toFixed(N,a);case"exponential":return toExponential(N,a);case"engineering":return toEngineering(N,a);case"bin":return formatBigNumberToBase(N,2,r);case"oct":return formatBigNumberToBase(N,8,r);case"hex":return formatBigNumberToBase(N,16,r);case"auto":{var b=_toNumberOrDefault(u==null?void 0:u.lowerExp,-3),h=_toNumberOrDefault(u==null?void 0:u.upperExp,5);if(N.isZero())return"0";var m,p=N.toSignificantDigits(a),A=p.e;return A>=b&&A<h?m=p.toFixed():m=toExponential(N,a),m.replace(/((\.\d*?)(0+))($|e)/,function(){var S=arguments[2],_=arguments[4];return S!=="."?S+_:_})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function toEngineering(N,u){var n=N.e,a=n%3===0?n:n<0?n-3-n%3:n-n%3,r=N.mul(Math.pow(10,-a)),b=r.toPrecision(u);if(b.indexOf("e")!==-1){var h=N.constructor;b=new h(b).toFixed()}return b+"e"+(n>=0?"+":"")+a.toString()}function toExponential(N,u){return u!==void 0?N.toExponential(u-1):N.toExponential()}function toFixed(N,u){return N.toFixed(u)}function _toNumberOrDefault(N,u){return isNumber(N)?N:isBigNumber(N)?N.toNumber():u}function format(N,u){var n=_format(N,u);return u&&typeof u=="object"&&"truncate"in u&&n.length>u.truncate?n.substring(0,u.truncate-3)+"...":n}function _format(N,u){if(typeof N=="number")return format$2(N,u);if(isBigNumber(N))return format$1(N,u);if(looksLikeFraction(N))return!u||u.fraction!=="decimal"?N.s*N.n+"/"+N.d:N.toString();if(Array.isArray(N))return formatArray(N,u);if(isString(N))return stringify(N);if(typeof N=="function")return N.syntax?String(N.syntax):"function";if(N&&typeof N=="object"){if(typeof N.format=="function")return N.format(u);if(N&&N.toString(u)!=={}.toString())return N.toString(u);var n=Object.keys(N).map(a=>stringify(a)+": "+format(N[a],u));return"{"+n.join(", ")+"}"}return String(N)}function stringify(N){for(var u=String(N),n="",a=0;a<u.length;){var r=u.charAt(a);n+=r in controlCharacters?controlCharacters[r]:r,a++}return'"'+n+'"'}var controlCharacters={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function formatArray(N,u){if(Array.isArray(N)){for(var n="[",a=N.length,r=0;r<a;r++)r!==0&&(n+=", "),n+=formatArray(N[r],u);return n+="]",n}else return format(N,u)}function looksLikeFraction(N){return N&&typeof N=="object"&&typeof N.s=="number"&&typeof N.n=="number"&&typeof N.d=="number"||!1}function DimensionError(N,u,n){if(!(this instanceof DimensionError))throw new SyntaxError("Constructor must be called with the new operator");this.actual=N,this.expected=u,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(N)?"["+N.join(", ")+"]":N)+" "+(this.relation||"!=")+" "+(Array.isArray(u)?"["+u.join(", ")+"]":u)+")",this.stack=new Error().stack}DimensionError.prototype=new RangeError;DimensionError.prototype.constructor=RangeError;DimensionError.prototype.name="DimensionError";DimensionError.prototype.isDimensionError=!0;function IndexError(N,u,n){if(!(this instanceof IndexError))throw new SyntaxError("Constructor must be called with the new operator");this.index=N,arguments.length<3?(this.min=0,this.max=u):(this.min=u,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}IndexError.prototype=new RangeError;IndexError.prototype.constructor=RangeError;IndexError.prototype.name="IndexError";IndexError.prototype.isIndexError=!0;function arraySize(N){for(var u=[];Array.isArray(N);)u.push(N.length),N=N[0];return u}function _validate(N,u,n){var a,r=N.length;if(r!==u[n])throw new DimensionError(r,u[n]);if(n<u.length-1){var b=n+1;for(a=0;a<r;a++){var h=N[a];if(!Array.isArray(h))throw new DimensionError(u.length-1,u.length,"<");_validate(N[a],u,b)}}else for(a=0;a<r;a++)if(Array.isArray(N[a]))throw new DimensionError(u.length+1,u.length,">")}function validate(N,u){var n=u.length===0;if(n){if(Array.isArray(N))throw new DimensionError(N.length,0)}else _validate(N,u,0)}function validateIndex(N,u){if(N!==void 0){if(!isNumber(N)||!isInteger(N))throw new TypeError("Index must be an integer (value: "+N+")");if(N<0||typeof u=="number"&&N>=u)throw new IndexError(N,u)}}function resize(N,u,n){if(!Array.isArray(u))throw new TypeError("Array expected");if(u.length===0)throw new Error("Resizing to scalar is not supported");u.forEach(function(r){if(!isNumber(r)||!isInteger(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format(u)+")")}),(isNumber(N)||isBigNumber(N))&&(N=[N]);var a=n!==void 0?n:0;return _resize(N,u,0,a),N}function _resize(N,u,n,a){var r,b,h=N.length,m=u[n],p=Math.min(h,m);if(N.length=m,n<u.length-1){var A=n+1;for(r=0;r<p;r++)b=N[r],Array.isArray(b)||(b=[b],N[r]=b),_resize(b,u,A,a);for(r=p;r<m;r++)b=[],N[r]=b,_resize(b,u,A,a)}else{for(r=0;r<p;r++)for(;Array.isArray(N[r]);)N[r]=N[r][0];for(r=p;r<m;r++)N[r]=a}}function reshape(N,u){var n=flatten$1(N),a=n.length;if(!Array.isArray(N)||!Array.isArray(u))throw new TypeError("Array expected");if(u.length===0)throw new DimensionError(0,a,"!=");u=processSizesWildcard(u,a);var r=product(u);if(a!==r)throw new DimensionError(r,a,"!=");try{return _reshape(n,u)}catch(b){throw b instanceof DimensionError?new DimensionError(r,a,"!="):b}}function processSizesWildcard(N,u){var n=product(N),a=N.slice(),r=-1,b=N.indexOf(r),h=N.indexOf(r,b+1)>=0;if(h)throw new Error("More than one wildcard in sizes");var m=b>=0,p=u%n===0;if(m)if(p)a[b]=-u/n;else throw new Error("Could not replace wildcard, since "+u+" is no multiple of "+-n);return a}function product(N){return N.reduce((u,n)=>u*n,1)}function _reshape(N,u){for(var n=N,a,r=u.length-1;r>0;r--){var b=u[r];a=[];for(var h=n.length/b,m=0;m<h;m++)a.push(n.slice(m*b,(m+1)*b));n=a}return n}function unsqueeze(N,u,n,a){var r=a||arraySize(N);if(n)for(var b=0;b<n;b++)N=[N],r.unshift(1);for(N=_unsqueeze(N,u,0);r.length<u;)r.push(1);return N}function _unsqueeze(N,u,n){var a,r;if(Array.isArray(N)){var b=n+1;for(a=0,r=N.length;a<r;a++)N[a]=_unsqueeze(N[a],u,b)}else for(var h=n;h<u;h++)N=[N];return N}function flatten$1(N){if(!Array.isArray(N))return N;var u=[];return N.forEach(function n(a){Array.isArray(a)?a.forEach(n):u.push(a)}),u}function getArrayDataType(N,u){for(var n,a=0,r=0;r<N.length;r++){var b=N[r],h=Array.isArray(b);if(r===0&&h&&(a=b.length),h&&b.length!==a)return;var m=h?getArrayDataType(b,u):u(b);if(n===void 0)n=m;else if(n!==m)return"mixed"}return n}function concatRecursive(N,u,n,a){if(a<n){if(N.length!==u.length)throw new DimensionError(N.length,u.length);for(var r=[],b=0;b<N.length;b++)r[b]=concatRecursive(N[b],u[b],n,a+1);return r}else return N.concat(u)}function concat(){var N=Array.prototype.slice.call(arguments,0,-1),u=Array.prototype.slice.call(arguments,-1);if(N.length===1)return N[0];if(N.length>1)return N.slice(1).reduce(function(n,a){return concatRecursive(n,a,u,0)},N[0]);throw new Error("Wrong number of arguments in function concat")}function broadcastSizes(){for(var N=arguments.length,u=new Array(N),n=0;n<N;n++)u[n]=arguments[n];for(var a=u.map(l=>l.length),r=Math.max(...a),b=new Array(r).fill(null),h=0;h<u.length;h++)for(var m=u[h],p=a[h],A=0;A<p;A++){var S=r-p+A;m[A]>b[S]&&(b[S]=m[A])}for(var _=0;_<u.length;_++)checkBroadcastingRules(u[_],b);return b}function checkBroadcastingRules(N,u){for(var n=u.length,a=N.length,r=0;r<a;r++){var b=n-a+r;if(N[r]<u[b]&&N[r]>1||N[r]>u[b])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(N,") not possible to broadcast dimension ").concat(a," with size ").concat(N[r]," to size ").concat(u[b]))}}function broadcastTo(N,u){var n=arraySize(N);if(deepStrictEqual(n,u))return N;checkBroadcastingRules(n,u);var a=broadcastSizes(n,u),r=a.length,b=[...Array(r-n.length).fill(1),...n],h=clone$1(N);n.length<r&&(h=reshape(h,b),n=arraySize(h));for(var m=0;m<r;m++)n[m]<a[m]&&(h=stretch(h,a[m],m),n=arraySize(h));return h}function stretch(N,u,n){return concat(...Array(u).fill(N),n)}function clone$1(N){return _extends([],N)}function factory(N,u,n,a){function r(b){var h=pickShallow(b,u.map(stripOptionalNotation));return assertDependencies(N,u,b),n(h)}return r.isFactory=!0,r.fn=N,r.dependencies=u.slice().sort(),a&&(r.meta=a),r}function assertDependencies(N,u,n){var a=u.filter(b=>!isOptionalDependency(b)).every(b=>n[b]!==void 0);if(!a){var r=u.filter(b=>n[b]===void 0);throw new Error('Cannot create function "'.concat(N,'", ')+"some dependencies are missing: ".concat(r.map(b=>'"'.concat(b,'"')).join(", "),"."))}}function isOptionalDependency(N){return N&&N[0]==="?"}function stripOptionalNotation(N){return N&&N[0]==="?"?N.slice(1):N}function getSafeProperty(N,u){if(isPlainObject(N)&&isSafeProperty(N,u))return N[u];throw typeof N[u]=="function"&&isSafeMethod(N,u)?new Error('Cannot access method "'+u+'" as a property'):new Error('No access to property "'+u+'"')}function setSafeProperty(N,u,n){if(isPlainObject(N)&&isSafeProperty(N,u))return N[u]=n,n;throw new Error('No access to property "'+u+'"')}function hasSafeProperty(N,u){return u in N}function isSafeProperty(N,u){return!N||typeof N!="object"?!1:hasOwnProperty(safeNativeProperties,u)?!0:!(u in Object.prototype||u in Function.prototype)}function isSafeMethod(N,u){return N==null||typeof N[u]!="function"||hasOwnProperty(N,u)&&Object.getPrototypeOf&&u in Object.getPrototypeOf(N)?!1:hasOwnProperty(safeNativeMethods,u)?!0:!(u in Object.prototype||u in Function.prototype)}function isPlainObject(N){return typeof N=="object"&&N&&N.constructor===Object}var safeNativeProperties={length:!0,name:!0},safeNativeMethods={toString:!0,valueOf:!0,toLocaleString:!0};class ObjectWrappingMap{constructor(u){this.wrappedObject=u,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(u){return getSafeProperty(this.wrappedObject,u)}set(u,n){return setSafeProperty(this.wrappedObject,u,n),this}has(u){return hasSafeProperty(this.wrappedObject,u)}entries(){return mapIterator(this.keys(),u=>[u,this.get(u)])}forEach(u){for(var n of this.keys())u(this.get(n),n,this)}delete(u){delete this.wrappedObject[u]}clear(){for(var u of this.keys())this.delete(u)}get size(){return Object.keys(this.wrappedObject).length}}function mapIterator(N,u){return{next:()=>{var n=N.next();return n.done?n:{value:u(n.value),done:!1}}}}function isMap(N){return N?N instanceof Map||N instanceof ObjectWrappingMap||typeof N.set=="function"&&typeof N.get=="function"&&typeof N.keys=="function"&&typeof N.has=="function":!1}var _createTyped2=function(){return _createTyped2=typedFunction.create,typedFunction},dependencies$x=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],createTyped=factory("typed",dependencies$x,function(u){var{BigNumber:n,Complex:a,DenseMatrix:r,Fraction:b}=u,h=_createTyped2();return h.clear(),h.addTypes([{name:"number",test:isNumber},{name:"Complex",test:isComplex},{name:"BigNumber",test:isBigNumber},{name:"Fraction",test:isFraction},{name:"Unit",test:isUnit},{name:"identifier",test:m=>isString&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(m)},{name:"string",test:isString},{name:"Chain",test:isChain},{name:"Array",test:isArray},{name:"Matrix",test:isMatrix},{name:"DenseMatrix",test:isDenseMatrix},{name:"SparseMatrix",test:isSparseMatrix},{name:"Range",test:isRange},{name:"Index",test:isIndex},{name:"boolean",test:isBoolean},{name:"ResultSet",test:isResultSet},{name:"Help",test:isHelp},{name:"function",test:isFunction},{name:"Date",test:isDate},{name:"RegExp",test:isRegExp},{name:"null",test:isNull},{name:"undefined",test:isUndefined},{name:"AccessorNode",test:isAccessorNode},{name:"ArrayNode",test:isArrayNode},{name:"AssignmentNode",test:isAssignmentNode},{name:"BlockNode",test:isBlockNode},{name:"ConditionalNode",test:isConditionalNode},{name:"ConstantNode",test:isConstantNode},{name:"FunctionNode",test:isFunctionNode},{name:"FunctionAssignmentNode",test:isFunctionAssignmentNode},{name:"IndexNode",test:isIndexNode},{name:"Node",test:isNode},{name:"ObjectNode",test:isObjectNode},{name:"OperatorNode",test:isOperatorNode},{name:"ParenthesisNode",test:isParenthesisNode},{name:"RangeNode",test:isRangeNode},{name:"RelationalNode",test:isRelationalNode},{name:"SymbolNode",test:isSymbolNode},{name:"Map",test:isMap},{name:"Object",test:isObject}]),h.addConversions([{from:"number",to:"BigNumber",convert:function(p){if(n||throwNoBignumber(p),digits(p)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+p+"). Use function bignumber(x) to convert to BigNumber.");return new n(p)}},{from:"number",to:"Complex",convert:function(p){return a||throwNoComplex(p),new a(p,0)}},{from:"BigNumber",to:"Complex",convert:function(p){return a||throwNoComplex(p),new a(p.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(p){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(p){return a||throwNoComplex(p),new a(p.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(p){b||throwNoFraction(p);var A=new b(p);if(A.valueOf()!==p)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+p+"). Use function fraction(x) to convert to Fraction.");return A}},{from:"string",to:"number",convert:function(p){var A=Number(p);if(isNaN(A))throw new Error('Cannot convert "'+p+'" to a number');return A}},{from:"string",to:"BigNumber",convert:function(p){n||throwNoBignumber(p);try{return new n(p)}catch{throw new Error('Cannot convert "'+p+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(p){b||throwNoFraction(p);try{return new b(p)}catch{throw new Error('Cannot convert "'+p+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(p){a||throwNoComplex(p);try{return new a(p)}catch{throw new Error('Cannot convert "'+p+'" to Complex')}}},{from:"boolean",to:"number",convert:function(p){return+p}},{from:"boolean",to:"BigNumber",convert:function(p){return n||throwNoBignumber(p),new n(+p)}},{from:"boolean",to:"Fraction",convert:function(p){return b||throwNoFraction(p),new b(+p)}},{from:"boolean",to:"string",convert:function(p){return String(p)}},{from:"Array",to:"Matrix",convert:function(p){return r||throwNoMatrix(),new r(p)}},{from:"Matrix",to:"Array",convert:function(p){return p.valueOf()}}]),h.onMismatch=(m,p,A)=>{var S=h.createError(m,p,A);if(["wrongType","mismatch"].includes(S.data.category)&&p.length===1&&isCollection(p[0])&&A.some(l=>!l.params.includes(","))){var _=new TypeError("Function '".concat(m,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(m,")'."));throw _.data=S.data,_}throw S},h.onMismatch=(m,p,A)=>{var S=h.createError(m,p,A);if(["wrongType","mismatch"].includes(S.data.category)&&p.length===1&&isCollection(p[0])&&A.some(l=>!l.params.includes(","))){var _=new TypeError("Function '".concat(m,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(m,")'."));throw _.data=S.data,_}throw S},h});function throwNoBignumber(N){throw new Error("Cannot convert value ".concat(N," into a BigNumber: no class 'BigNumber' provided"))}function throwNoComplex(N){throw new Error("Cannot convert value ".concat(N," into a Complex number: no class 'Complex' provided"))}function throwNoMatrix(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function throwNoFraction(N){throw new Error("Cannot convert value ".concat(N," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT,maxE:EXP_LIMIT,crypto:!1},inexact,quadrant,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",tag="[object Decimal]",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P={toStringTag:tag};P.absoluteValue=P.abs=function(){var N=new this.constructor(this);return N.s<0&&(N.s=1),finalise(N)};P.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)};P.clampedTo=P.clamp=function(N,u){var n,a=this,r=a.constructor;if(N=new r(N),u=new r(u),!N.s||!u.s)return new r(NaN);if(N.gt(u))throw Error(invalidArgument+u);return n=a.cmp(N),n<0?N:a.cmp(u)>0?u:new r(a)};P.comparedTo=P.cmp=function(N){var u,n,a,r,b=this,h=b.d,m=(N=new b.constructor(N)).d,p=b.s,A=N.s;if(!h||!m)return!p||!A?NaN:p!==A?p:h===m?0:!h^p<0?1:-1;if(!h[0]||!m[0])return h[0]?p:m[0]?-A:0;if(p!==A)return p;if(b.e!==N.e)return b.e>N.e^p<0?1:-1;for(a=h.length,r=m.length,u=0,n=a<r?a:r;u<n;++u)if(h[u]!==m[u])return h[u]>m[u]^p<0?1:-1;return a===r?0:a>r^p<0?1:-1};P.cosine=P.cos=function(){var N,u,n=this,a=n.constructor;return n.d?n.d[0]?(N=a.precision,u=a.rounding,a.precision=N+Math.max(n.e,n.sd())+LOG_BASE,a.rounding=1,n=cosine(a,toLessThanHalfPi(a,n)),a.precision=N,a.rounding=u,finalise(quadrant==2||quadrant==3?n.neg():n,N,u,!0)):new a(1):new a(NaN)};P.cubeRoot=P.cbrt=function(){var N,u,n,a,r,b,h,m,p,A,S=this,_=S.constructor;if(!S.isFinite()||S.isZero())return new _(S);for(external=!1,b=S.s*mathpow(S.s*S,1/3),!b||Math.abs(b)==1/0?(n=digitsToString(S.d),N=S.e,(b=(N-n.length+1)%3)&&(n+=b==1||b==-2?"0":"00"),b=mathpow(n,1/3),N=mathfloor((N+1)/3)-(N%3==(N<0?-1:2)),b==1/0?n="5e"+N:(n=b.toExponential(),n=n.slice(0,n.indexOf("e")+1)+N),a=new _(n),a.s=S.s):a=new _(b.toString()),h=(N=_.precision)+3;;)if(m=a,p=m.times(m).times(m),A=p.plus(S),a=divide(A.plus(S).times(m),A.plus(p),h+2,1),digitsToString(m.d).slice(0,h)===(n=digitsToString(a.d)).slice(0,h))if(n=n.slice(h-3,h+1),n=="9999"||!r&&n=="4999"){if(!r&&(finalise(m,N+1,0),m.times(m).times(m).eq(S))){a=m;break}h+=4,r=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(finalise(a,N+1,1),u=!a.times(a).times(a).eq(S));break}return external=!0,finalise(a,N,_.rounding,u)};P.decimalPlaces=P.dp=function(){var N,u=this.d,n=NaN;if(u){if(N=u.length-1,n=(N-mathfloor(this.e/LOG_BASE))*LOG_BASE,N=u[N],N)for(;N%10==0;N/=10)n--;n<0&&(n=0)}return n};P.dividedBy=P.div=function(N){return divide(this,new this.constructor(N))};P.dividedToIntegerBy=P.divToInt=function(N){var u=this,n=u.constructor;return finalise(divide(u,new n(N),0,1,1),n.precision,n.rounding)};P.equals=P.eq=function(N){return this.cmp(N)===0};P.floor=function(){return finalise(new this.constructor(this),this.e+1,3)};P.greaterThan=P.gt=function(N){return this.cmp(N)>0};P.greaterThanOrEqualTo=P.gte=function(N){var u=this.cmp(N);return u==1||u===0};P.hyperbolicCosine=P.cosh=function(){var N,u,n,a,r,b=this,h=b.constructor,m=new h(1);if(!b.isFinite())return new h(b.s?1/0:NaN);if(b.isZero())return m;n=h.precision,a=h.rounding,h.precision=n+Math.max(b.e,b.sd())+4,h.rounding=1,r=b.d.length,r<32?(N=Math.ceil(r/3),u=(1/tinyPow(4,N)).toString()):(N=16,u="2.3283064365386962890625e-10"),b=taylorSeries(h,1,b.times(u),new h(1),!0);for(var p,A=N,S=new h(8);A--;)p=b.times(b),b=m.minus(p.times(S.minus(p.times(S))));return finalise(b,h.precision=n,h.rounding=a,!0)};P.hyperbolicSine=P.sinh=function(){var N,u,n,a,r=this,b=r.constructor;if(!r.isFinite()||r.isZero())return new b(r);if(u=b.precision,n=b.rounding,b.precision=u+Math.max(r.e,r.sd())+4,b.rounding=1,a=r.d.length,a<3)r=taylorSeries(b,2,r,r,!0);else{N=1.4*Math.sqrt(a),N=N>16?16:N|0,r=r.times(1/tinyPow(5,N)),r=taylorSeries(b,2,r,r,!0);for(var h,m=new b(5),p=new b(16),A=new b(20);N--;)h=r.times(r),r=r.times(m.plus(h.times(p.times(h).plus(A))))}return b.precision=u,b.rounding=n,finalise(r,u,n,!0)};P.hyperbolicTangent=P.tanh=function(){var N,u,n=this,a=n.constructor;return n.isFinite()?n.isZero()?new a(n):(N=a.precision,u=a.rounding,a.precision=N+7,a.rounding=1,divide(n.sinh(),n.cosh(),a.precision=N,a.rounding=u)):new a(n.s)};P.inverseCosine=P.acos=function(){var N,u=this,n=u.constructor,a=u.abs().cmp(1),r=n.precision,b=n.rounding;return a!==-1?a===0?u.isNeg()?getPi(n,r,b):new n(0):new n(NaN):u.isZero()?getPi(n,r+4,b).times(.5):(n.precision=r+6,n.rounding=1,u=u.asin(),N=getPi(n,r+4,b).times(.5),n.precision=r,n.rounding=b,N.minus(u))};P.inverseHyperbolicCosine=P.acosh=function(){var N,u,n=this,a=n.constructor;return n.lte(1)?new a(n.eq(1)?0:NaN):n.isFinite()?(N=a.precision,u=a.rounding,a.precision=N+Math.max(Math.abs(n.e),n.sd())+4,a.rounding=1,external=!1,n=n.times(n).minus(1).sqrt().plus(n),external=!0,a.precision=N,a.rounding=u,n.ln()):new a(n)};P.inverseHyperbolicSine=P.asinh=function(){var N,u,n=this,a=n.constructor;return!n.isFinite()||n.isZero()?new a(n):(N=a.precision,u=a.rounding,a.precision=N+2*Math.max(Math.abs(n.e),n.sd())+6,a.rounding=1,external=!1,n=n.times(n).plus(1).sqrt().plus(n),external=!0,a.precision=N,a.rounding=u,n.ln())};P.inverseHyperbolicTangent=P.atanh=function(){var N,u,n,a,r=this,b=r.constructor;return r.isFinite()?r.e>=0?new b(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(N=b.precision,u=b.rounding,a=r.sd(),Math.max(a,N)<2*-r.e-1?finalise(new b(r),N,u,!0):(b.precision=n=a-r.e,r=divide(r.plus(1),new b(1).minus(r),n+N,1),b.precision=N+4,b.rounding=1,r=r.ln(),b.precision=N,b.rounding=u,r.times(.5))):new b(NaN)};P.inverseSine=P.asin=function(){var N,u,n,a,r=this,b=r.constructor;return r.isZero()?new b(r):(u=r.abs().cmp(1),n=b.precision,a=b.rounding,u!==-1?u===0?(N=getPi(b,n+4,a).times(.5),N.s=r.s,N):new b(NaN):(b.precision=n+6,b.rounding=1,r=r.div(new b(1).minus(r.times(r)).sqrt().plus(1)).atan(),b.precision=n,b.rounding=a,r.times(2)))};P.inverseTangent=P.atan=function(){var N,u,n,a,r,b,h,m,p,A=this,S=A.constructor,_=S.precision,l=S.rounding;if(A.isFinite()){if(A.isZero())return new S(A);if(A.abs().eq(1)&&_+4<=PI_PRECISION)return h=getPi(S,_+4,l).times(.25),h.s=A.s,h}else{if(!A.s)return new S(NaN);if(_+4<=PI_PRECISION)return h=getPi(S,_+4,l).times(.5),h.s=A.s,h}for(S.precision=m=_+10,S.rounding=1,n=Math.min(28,m/LOG_BASE+2|0),N=n;N;--N)A=A.div(A.times(A).plus(1).sqrt().plus(1));for(external=!1,u=Math.ceil(m/LOG_BASE),a=1,p=A.times(A),h=new S(A),r=A;N!==-1;)if(r=r.times(p),b=h.minus(r.div(a+=2)),r=r.times(p),h=b.plus(r.div(a+=2)),h.d[u]!==void 0)for(N=u;h.d[N]===b.d[N]&&N--;);return n&&(h=h.times(2<<n-1)),external=!0,finalise(h,S.precision=_,S.rounding=l,!0)};P.isFinite=function(){return!!this.d};P.isInteger=P.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2};P.isNaN=function(){return!this.s};P.isNegative=P.isNeg=function(){return this.s<0};P.isPositive=P.isPos=function(){return this.s>0};P.isZero=function(){return!!this.d&&this.d[0]===0};P.lessThan=P.lt=function(N){return this.cmp(N)<0};P.lessThanOrEqualTo=P.lte=function(N){return this.cmp(N)<1};P.logarithm=P.log=function(N){var u,n,a,r,b,h,m,p,A=this,S=A.constructor,_=S.precision,l=S.rounding,y=5;if(N==null)N=new S(10),u=!0;else{if(N=new S(N),n=N.d,N.s<0||!n||!n[0]||N.eq(1))return new S(NaN);u=N.eq(10)}if(n=A.d,A.s<0||!n||!n[0]||A.eq(1))return new S(n&&!n[0]?-1/0:A.s!=1?NaN:n?0:1/0);if(u)if(n.length>1)b=!0;else{for(r=n[0];r%10===0;)r/=10;b=r!==1}if(external=!1,m=_+y,h=naturalLogarithm(A,m),a=u?getLn10(S,m+10):naturalLogarithm(N,m),p=divide(h,a,m,1),checkRoundingDigits(p.d,r=_,l))do if(m+=10,h=naturalLogarithm(A,m),a=u?getLn10(S,m+10):naturalLogarithm(N,m),p=divide(h,a,m,1),!b){+digitsToString(p.d).slice(r+1,r+15)+1==1e14&&(p=finalise(p,_+1,0));break}while(checkRoundingDigits(p.d,r+=10,l));return external=!0,finalise(p,_,l)};P.minus=P.sub=function(N){var u,n,a,r,b,h,m,p,A,S,_,l,y=this,o=y.constructor;if(N=new o(N),!y.d||!N.d)return!y.s||!N.s?N=new o(NaN):y.d?N.s=-N.s:N=new o(N.d||y.s!==N.s?y:NaN),N;if(y.s!=N.s)return N.s=-N.s,y.plus(N);if(A=y.d,l=N.d,m=o.precision,p=o.rounding,!A[0]||!l[0]){if(l[0])N.s=-N.s;else if(A[0])N=new o(y);else return new o(p===3?-0:0);return external?finalise(N,m,p):N}if(n=mathfloor(N.e/LOG_BASE),S=mathfloor(y.e/LOG_BASE),A=A.slice(),b=S-n,b){for(_=b<0,_?(u=A,b=-b,h=l.length):(u=l,n=S,h=A.length),a=Math.max(Math.ceil(m/LOG_BASE),h)+2,b>a&&(b=a,u.length=1),u.reverse(),a=b;a--;)u.push(0);u.reverse()}else{for(a=A.length,h=l.length,_=a<h,_&&(h=a),a=0;a<h;a++)if(A[a]!=l[a]){_=A[a]<l[a];break}b=0}for(_&&(u=A,A=l,l=u,N.s=-N.s),h=A.length,a=l.length-h;a>0;--a)A[h++]=0;for(a=l.length;a>b;){if(A[--a]<l[a]){for(r=a;r&&A[--r]===0;)A[r]=BASE-1;--A[r],A[a]+=BASE}A[a]-=l[a]}for(;A[--h]===0;)A.pop();for(;A[0]===0;A.shift())--n;return A[0]?(N.d=A,N.e=getBase10Exponent(A,n),external?finalise(N,m,p):N):new o(p===3?-0:0)};P.modulo=P.mod=function(N){var u,n=this,a=n.constructor;return N=new a(N),!n.d||!N.s||N.d&&!N.d[0]?new a(NaN):!N.d||n.d&&!n.d[0]?finalise(new a(n),a.precision,a.rounding):(external=!1,a.modulo==9?(u=divide(n,N.abs(),0,3,1),u.s*=N.s):u=divide(n,N,0,a.modulo,1),u=u.times(N),external=!0,n.minus(u))};P.naturalExponential=P.exp=function(){return naturalExponential(this)};P.naturalLogarithm=P.ln=function(){return naturalLogarithm(this)};P.negated=P.neg=function(){var N=new this.constructor(this);return N.s=-N.s,finalise(N)};P.plus=P.add=function(N){var u,n,a,r,b,h,m,p,A,S,_=this,l=_.constructor;if(N=new l(N),!_.d||!N.d)return!_.s||!N.s?N=new l(NaN):_.d||(N=new l(N.d||_.s===N.s?_:NaN)),N;if(_.s!=N.s)return N.s=-N.s,_.minus(N);if(A=_.d,S=N.d,m=l.precision,p=l.rounding,!A[0]||!S[0])return S[0]||(N=new l(_)),external?finalise(N,m,p):N;if(b=mathfloor(_.e/LOG_BASE),a=mathfloor(N.e/LOG_BASE),A=A.slice(),r=b-a,r){for(r<0?(n=A,r=-r,h=S.length):(n=S,a=b,h=A.length),b=Math.ceil(m/LOG_BASE),h=b>h?b+1:h+1,r>h&&(r=h,n.length=1),n.reverse();r--;)n.push(0);n.reverse()}for(h=A.length,r=S.length,h-r<0&&(r=h,n=S,S=A,A=n),u=0;r;)u=(A[--r]=A[r]+S[r]+u)/BASE|0,A[r]%=BASE;for(u&&(A.unshift(u),++a),h=A.length;A[--h]==0;)A.pop();return N.d=A,N.e=getBase10Exponent(A,a),external?finalise(N,m,p):N};P.precision=P.sd=function(N){var u,n=this;if(N!==void 0&&N!==!!N&&N!==1&&N!==0)throw Error(invalidArgument+N);return n.d?(u=getPrecision(n.d),N&&n.e+1>u&&(u=n.e+1)):u=NaN,u};P.round=function(){var N=this,u=N.constructor;return finalise(new u(N),N.e+1,u.rounding)};P.sine=P.sin=function(){var N,u,n=this,a=n.constructor;return n.isFinite()?n.isZero()?new a(n):(N=a.precision,u=a.rounding,a.precision=N+Math.max(n.e,n.sd())+LOG_BASE,a.rounding=1,n=sine(a,toLessThanHalfPi(a,n)),a.precision=N,a.rounding=u,finalise(quadrant>2?n.neg():n,N,u,!0)):new a(NaN)};P.squareRoot=P.sqrt=function(){var N,u,n,a,r,b,h=this,m=h.d,p=h.e,A=h.s,S=h.constructor;if(A!==1||!m||!m[0])return new S(!A||A<0&&(!m||m[0])?NaN:m?h:1/0);for(external=!1,A=Math.sqrt(+h),A==0||A==1/0?(u=digitsToString(m),(u.length+p)%2==0&&(u+="0"),A=Math.sqrt(u),p=mathfloor((p+1)/2)-(p<0||p%2),A==1/0?u="5e"+p:(u=A.toExponential(),u=u.slice(0,u.indexOf("e")+1)+p),a=new S(u)):a=new S(A.toString()),n=(p=S.precision)+3;;)if(b=a,a=b.plus(divide(h,b,n+2,1)).times(.5),digitsToString(b.d).slice(0,n)===(u=digitsToString(a.d)).slice(0,n))if(u=u.slice(n-3,n+1),u=="9999"||!r&&u=="4999"){if(!r&&(finalise(b,p+1,0),b.times(b).eq(h))){a=b;break}n+=4,r=1}else{(!+u||!+u.slice(1)&&u.charAt(0)=="5")&&(finalise(a,p+1,1),N=!a.times(a).eq(h));break}return external=!0,finalise(a,p,S.rounding,N)};P.tangent=P.tan=function(){var N,u,n=this,a=n.constructor;return n.isFinite()?n.isZero()?new a(n):(N=a.precision,u=a.rounding,a.precision=N+10,a.rounding=1,n=n.sin(),n.s=1,n=divide(n,new a(1).minus(n.times(n)).sqrt(),N+10,0),a.precision=N,a.rounding=u,finalise(quadrant==2||quadrant==4?n.neg():n,N,u,!0)):new a(NaN)};P.times=P.mul=function(N){var u,n,a,r,b,h,m,p,A,S=this,_=S.constructor,l=S.d,y=(N=new _(N)).d;if(N.s*=S.s,!l||!l[0]||!y||!y[0])return new _(!N.s||l&&!l[0]&&!y||y&&!y[0]&&!l?NaN:!l||!y?N.s/0:N.s*0);for(n=mathfloor(S.e/LOG_BASE)+mathfloor(N.e/LOG_BASE),p=l.length,A=y.length,p<A&&(b=l,l=y,y=b,h=p,p=A,A=h),b=[],h=p+A,a=h;a--;)b.push(0);for(a=A;--a>=0;){for(u=0,r=p+a;r>a;)m=b[r]+y[a]*l[r-a-1]+u,b[r--]=m%BASE|0,u=m/BASE|0;b[r]=(b[r]+u)%BASE|0}for(;!b[--h];)b.pop();return u?++n:b.shift(),N.d=b,N.e=getBase10Exponent(b,n),external?finalise(N,_.precision,_.rounding):N};P.toBinary=function(N,u){return toStringBinary(this,2,N,u)};P.toDecimalPlaces=P.toDP=function(N,u){var n=this,a=n.constructor;return n=new a(n),N===void 0?n:(checkInt32(N,0,MAX_DIGITS),u===void 0?u=a.rounding:checkInt32(u,0,8),finalise(n,N+n.e+1,u))};P.toExponential=function(N,u){var n,a=this,r=a.constructor;return N===void 0?n=finiteToString(a,!0):(checkInt32(N,0,MAX_DIGITS),u===void 0?u=r.rounding:checkInt32(u,0,8),a=finalise(new r(a),N+1,u),n=finiteToString(a,!0,N+1)),a.isNeg()&&!a.isZero()?"-"+n:n};P.toFixed=function(N,u){var n,a,r=this,b=r.constructor;return N===void 0?n=finiteToString(r):(checkInt32(N,0,MAX_DIGITS),u===void 0?u=b.rounding:checkInt32(u,0,8),a=finalise(new b(r),N+r.e+1,u),n=finiteToString(a,!1,N+a.e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};P.toFraction=function(N){var u,n,a,r,b,h,m,p,A,S,_,l,y=this,o=y.d,f=y.constructor;if(!o)return new f(y);if(A=n=new f(1),a=p=new f(0),u=new f(a),b=u.e=getPrecision(o)-y.e-1,h=b%LOG_BASE,u.d[0]=mathpow(10,h<0?LOG_BASE+h:h),N==null)N=b>0?u:A;else{if(m=new f(N),!m.isInt()||m.lt(A))throw Error(invalidArgument+m);N=m.gt(u)?b>0?u:A:m}for(external=!1,m=new f(digitsToString(o)),S=f.precision,f.precision=b=o.length*LOG_BASE*2;_=divide(m,u,0,1,1),r=n.plus(_.times(a)),r.cmp(N)!=1;)n=a,a=r,r=A,A=p.plus(_.times(r)),p=r,r=u,u=m.minus(_.times(r)),m=r;return r=divide(N.minus(n),a,0,1,1),p=p.plus(r.times(A)),n=n.plus(r.times(a)),p.s=A.s=y.s,l=divide(A,a,b,1).minus(y).abs().cmp(divide(p,n,b,1).minus(y).abs())<1?[A,a]:[p,n],f.precision=S,external=!0,l};P.toHexadecimal=P.toHex=function(N,u){return toStringBinary(this,16,N,u)};P.toNearest=function(N,u){var n=this,a=n.constructor;if(n=new a(n),N==null){if(!n.d)return n;N=new a(1),u=a.rounding}else{if(N=new a(N),u===void 0?u=a.rounding:checkInt32(u,0,8),!n.d)return N.s?n:N;if(!N.d)return N.s&&(N.s=n.s),N}return N.d[0]?(external=!1,n=divide(n,N,0,u,1).times(N),external=!0,finalise(n)):(N.s=n.s,n=N),n};P.toNumber=function(){return+this};P.toOctal=function(N,u){return toStringBinary(this,8,N,u)};P.toPower=P.pow=function(N){var u,n,a,r,b,h,m=this,p=m.constructor,A=+(N=new p(N));if(!m.d||!N.d||!m.d[0]||!N.d[0])return new p(mathpow(+m,A));if(m=new p(m),m.eq(1))return m;if(a=p.precision,b=p.rounding,N.eq(1))return finalise(m,a,b);if(u=mathfloor(N.e/LOG_BASE),u>=N.d.length-1&&(n=A<0?-A:A)<=MAX_SAFE_INTEGER)return r=intPow(p,m,n,a),N.s<0?new p(1).div(r):finalise(r,a,b);if(h=m.s,h<0){if(u<N.d.length-1)return new p(NaN);if(N.d[u]&1||(h=1),m.e==0&&m.d[0]==1&&m.d.length==1)return m.s=h,m}return n=mathpow(+m,A),u=n==0||!isFinite(n)?mathfloor(A*(Math.log("0."+digitsToString(m.d))/Math.LN10+m.e+1)):new p(n+"").e,u>p.maxE+1||u<p.minE-1?new p(u>0?h/0:0):(external=!1,p.rounding=m.s=1,n=Math.min(12,(u+"").length),r=naturalExponential(N.times(naturalLogarithm(m,a+n)),a),r.d&&(r=finalise(r,a+5,1),checkRoundingDigits(r.d,a,b)&&(u=a+10,r=finalise(naturalExponential(N.times(naturalLogarithm(m,u+n)),u),u+5,1),+digitsToString(r.d).slice(a+1,a+15)+1==1e14&&(r=finalise(r,a+1,0)))),r.s=h,external=!0,p.rounding=b,finalise(r,a,b))};P.toPrecision=function(N,u){var n,a=this,r=a.constructor;return N===void 0?n=finiteToString(a,a.e<=r.toExpNeg||a.e>=r.toExpPos):(checkInt32(N,1,MAX_DIGITS),u===void 0?u=r.rounding:checkInt32(u,0,8),a=finalise(new r(a),N,u),n=finiteToString(a,N<=a.e||a.e<=r.toExpNeg,N)),a.isNeg()&&!a.isZero()?"-"+n:n};P.toSignificantDigits=P.toSD=function(N,u){var n=this,a=n.constructor;return N===void 0?(N=a.precision,u=a.rounding):(checkInt32(N,1,MAX_DIGITS),u===void 0?u=a.rounding:checkInt32(u,0,8)),finalise(new a(n),N,u)};P.toString=function(){var N=this,u=N.constructor,n=finiteToString(N,N.e<=u.toExpNeg||N.e>=u.toExpPos);return N.isNeg()&&!N.isZero()?"-"+n:n};P.truncated=P.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)};P.valueOf=P.toJSON=function(){var N=this,u=N.constructor,n=finiteToString(N,N.e<=u.toExpNeg||N.e>=u.toExpPos);return N.isNeg()?"-"+n:n};function digitsToString(N){var u,n,a,r=N.length-1,b="",h=N[0];if(r>0){for(b+=h,u=1;u<r;u++)a=N[u]+"",n=LOG_BASE-a.length,n&&(b+=getZeroString(n)),b+=a;h=N[u],a=h+"",n=LOG_BASE-a.length,n&&(b+=getZeroString(n))}else if(h===0)return"0";for(;h%10===0;)h/=10;return b+h}function checkInt32(N,u,n){if(N!==~~N||N<u||N>n)throw Error(invalidArgument+N)}function checkRoundingDigits(N,u,n,a){var r,b,h,m;for(b=N[0];b>=10;b/=10)--u;return--u<0?(u+=LOG_BASE,r=0):(r=Math.ceil((u+1)/LOG_BASE),u%=LOG_BASE),b=mathpow(10,LOG_BASE-u),m=N[r]%b|0,a==null?u<3?(u==0?m=m/100|0:u==1&&(m=m/10|0),h=n<4&&m==99999||n>3&&m==49999||m==5e4||m==0):h=(n<4&&m+1==b||n>3&&m+1==b/2)&&(N[r+1]/b/100|0)==mathpow(10,u-2)-1||(m==b/2||m==0)&&(N[r+1]/b/100|0)==0:u<4?(u==0?m=m/1e3|0:u==1?m=m/100|0:u==2&&(m=m/10|0),h=(a||n<4)&&m==9999||!a&&n>3&&m==4999):h=((a||n<4)&&m+1==b||!a&&n>3&&m+1==b/2)&&(N[r+1]/b/1e3|0)==mathpow(10,u-3)-1,h}function convertBase(N,u,n){for(var a,r=[0],b,h=0,m=N.length;h<m;){for(b=r.length;b--;)r[b]*=u;for(r[0]+=NUMERALS.indexOf(N.charAt(h++)),a=0;a<r.length;a++)r[a]>n-1&&(r[a+1]===void 0&&(r[a+1]=0),r[a+1]+=r[a]/n|0,r[a]%=n)}return r.reverse()}function cosine(N,u){var n,a,r;if(u.isZero())return u;a=u.d.length,a<32?(n=Math.ceil(a/3),r=(1/tinyPow(4,n)).toString()):(n=16,r="2.3283064365386962890625e-10"),N.precision+=n,u=taylorSeries(N,1,u.times(r),new N(1));for(var b=n;b--;){var h=u.times(u);u=h.times(h).minus(h).times(8).plus(1)}return N.precision-=n,u}var divide=function(){function N(a,r,b){var h,m=0,p=a.length;for(a=a.slice();p--;)h=a[p]*r+m,a[p]=h%b|0,m=h/b|0;return m&&a.unshift(m),a}function u(a,r,b,h){var m,p;if(b!=h)p=b>h?1:-1;else for(m=p=0;m<b;m++)if(a[m]!=r[m]){p=a[m]>r[m]?1:-1;break}return p}function n(a,r,b,h){for(var m=0;b--;)a[b]-=m,m=a[b]<r[b]?1:0,a[b]=m*h+a[b]-r[b];for(;!a[0]&&a.length>1;)a.shift()}return function(a,r,b,h,m,p){var A,S,_,l,y,o,f,x,g,D,E,C,T,O,I,M,F,B,j,L,R=a.constructor,V=a.s==r.s?1:-1,k=a.d,U=r.d;if(!k||!k[0]||!U||!U[0])return new R(!a.s||!r.s||(k?U&&k[0]==U[0]:!U)?NaN:k&&k[0]==0||!U?V*0:V/0);for(p?(y=1,S=a.e-r.e):(p=BASE,y=LOG_BASE,S=mathfloor(a.e/y)-mathfloor(r.e/y)),j=U.length,F=k.length,g=new R(V),D=g.d=[],_=0;U[_]==(k[_]||0);_++);if(U[_]>(k[_]||0)&&S--,b==null?(O=b=R.precision,h=R.rounding):m?O=b+(a.e-r.e)+1:O=b,O<0)D.push(1),o=!0;else{if(O=O/y+2|0,_=0,j==1){for(l=0,U=U[0],O++;(_<F||l)&&O--;_++)I=l*p+(k[_]||0),D[_]=I/U|0,l=I%U|0;o=l||_<F}else{for(l=p/(U[0]+1)|0,l>1&&(U=N(U,l,p),k=N(k,l,p),j=U.length,F=k.length),M=j,E=k.slice(0,j),C=E.length;C<j;)E[C++]=0;L=U.slice(),L.unshift(0),B=U[0],U[1]>=p/2&&++B;do l=0,A=u(U,E,j,C),A<0?(T=E[0],j!=C&&(T=T*p+(E[1]||0)),l=T/B|0,l>1?(l>=p&&(l=p-1),f=N(U,l,p),x=f.length,C=E.length,A=u(f,E,x,C),A==1&&(l--,n(f,j<x?L:U,x,p))):(l==0&&(A=l=1),f=U.slice()),x=f.length,x<C&&f.unshift(0),n(E,f,C,p),A==-1&&(C=E.length,A=u(U,E,j,C),A<1&&(l++,n(E,j<C?L:U,C,p))),C=E.length):A===0&&(l++,E=[0]),D[_++]=l,A&&E[0]?E[C++]=k[M]||0:(E=[k[M]],C=1);while((M++<F||E[0]!==void 0)&&O--);o=E[0]!==void 0}D[0]||D.shift()}if(y==1)g.e=S,inexact=o;else{for(_=1,l=D[0];l>=10;l/=10)_++;g.e=_+S*y-1,finalise(g,m?b+g.e+1:b,h,o)}return g}}();function finalise(N,u,n,a){var r,b,h,m,p,A,S,_,l,y=N.constructor;e:if(u!=null){if(_=N.d,!_)return N;for(r=1,m=_[0];m>=10;m/=10)r++;if(b=u-r,b<0)b+=LOG_BASE,h=u,S=_[l=0],p=S/mathpow(10,r-h-1)%10|0;else if(l=Math.ceil((b+1)/LOG_BASE),m=_.length,l>=m)if(a){for(;m++<=l;)_.push(0);S=p=0,r=1,b%=LOG_BASE,h=b-LOG_BASE+1}else break e;else{for(S=m=_[l],r=1;m>=10;m/=10)r++;b%=LOG_BASE,h=b-LOG_BASE+r,p=h<0?0:S/mathpow(10,r-h-1)%10|0}if(a=a||u<0||_[l+1]!==void 0||(h<0?S:S%mathpow(10,r-h-1)),A=n<4?(p||a)&&(n==0||n==(N.s<0?3:2)):p>5||p==5&&(n==4||a||n==6&&(b>0?h>0?S/mathpow(10,r-h):0:_[l-1])%10&1||n==(N.s<0?8:7)),u<1||!_[0])return _.length=0,A?(u-=N.e+1,_[0]=mathpow(10,(LOG_BASE-u%LOG_BASE)%LOG_BASE),N.e=-u||0):_[0]=N.e=0,N;if(b==0?(_.length=l,m=1,l--):(_.length=l+1,m=mathpow(10,LOG_BASE-b),_[l]=h>0?(S/mathpow(10,r-h)%mathpow(10,h)|0)*m:0),A)for(;;)if(l==0){for(b=1,h=_[0];h>=10;h/=10)b++;for(h=_[0]+=m,m=1;h>=10;h/=10)m++;b!=m&&(N.e++,_[0]==BASE&&(_[0]=1));break}else{if(_[l]+=m,_[l]!=BASE)break;_[l--]=0,m=1}for(b=_.length;_[--b]===0;)_.pop()}return external&&(N.e>y.maxE?(N.d=null,N.e=NaN):N.e<y.minE&&(N.e=0,N.d=[0])),N}function finiteToString(N,u,n){if(!N.isFinite())return nonFiniteToString(N);var a,r=N.e,b=digitsToString(N.d),h=b.length;return u?(n&&(a=n-h)>0?b=b.charAt(0)+"."+b.slice(1)+getZeroString(a):h>1&&(b=b.charAt(0)+"."+b.slice(1)),b=b+(N.e<0?"e":"e+")+N.e):r<0?(b="0."+getZeroString(-r-1)+b,n&&(a=n-h)>0&&(b+=getZeroString(a))):r>=h?(b+=getZeroString(r+1-h),n&&(a=n-r-1)>0&&(b=b+"."+getZeroString(a))):((a=r+1)<h&&(b=b.slice(0,a)+"."+b.slice(a)),n&&(a=n-h)>0&&(r+1===h&&(b+="."),b+=getZeroString(a))),b}function getBase10Exponent(N,u){var n=N[0];for(u*=LOG_BASE;n>=10;n/=10)u++;return u}function getLn10(N,u,n){if(u>LN10_PRECISION)throw external=!0,n&&(N.precision=n),Error(precisionLimitExceeded);return finalise(new N(LN10),u,1,!0)}function getPi(N,u,n){if(u>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new N(PI),u,n,!0)}function getPrecision(N){var u=N.length-1,n=u*LOG_BASE+1;if(u=N[u],u){for(;u%10==0;u/=10)n--;for(u=N[0];u>=10;u/=10)n++}return n}function getZeroString(N){for(var u="";N--;)u+="0";return u}function intPow(N,u,n,a){var r,b=new N(1),h=Math.ceil(a/LOG_BASE+4);for(external=!1;;){if(n%2&&(b=b.times(u),truncate(b.d,h)&&(r=!0)),n=mathfloor(n/2),n===0){n=b.d.length-1,r&&b.d[n]===0&&++b.d[n];break}u=u.times(u),truncate(u.d,h)}return external=!0,b}function isOdd(N){return N.d[N.d.length-1]&1}function maxOrMin(N,u,n){for(var a,r=new N(u[0]),b=0;++b<u.length;)if(a=new N(u[b]),a.s)r[n](a)&&(r=a);else{r=a;break}return r}function naturalExponential(N,u){var n,a,r,b,h,m,p,A=0,S=0,_=0,l=N.constructor,y=l.rounding,o=l.precision;if(!N.d||!N.d[0]||N.e>17)return new l(N.d?N.d[0]?N.s<0?0:1/0:1:N.s?N.s<0?0:N:0/0);for(u==null?(external=!1,p=o):p=u,m=new l(.03125);N.e>-2;)N=N.times(m),_+=5;for(a=Math.log(mathpow(2,_))/Math.LN10*2+5|0,p+=a,n=b=h=new l(1),l.precision=p;;){if(b=finalise(b.times(N),p,1),n=n.times(++S),m=h.plus(divide(b,n,p,1)),digitsToString(m.d).slice(0,p)===digitsToString(h.d).slice(0,p)){for(r=_;r--;)h=finalise(h.times(h),p,1);if(u==null)if(A<3&&checkRoundingDigits(h.d,p-a,y,A))l.precision=p+=10,n=b=m=new l(1),S=0,A++;else return finalise(h,l.precision=o,y,external=!0);else return l.precision=o,h}h=m}}function naturalLogarithm(N,u){var n,a,r,b,h,m,p,A,S,_,l,y=1,o=10,f=N,x=f.d,g=f.constructor,D=g.rounding,E=g.precision;if(f.s<0||!x||!x[0]||!f.e&&x[0]==1&&x.length==1)return new g(x&&!x[0]?-1/0:f.s!=1?NaN:x?0:f);if(u==null?(external=!1,S=E):S=u,g.precision=S+=o,n=digitsToString(x),a=n.charAt(0),Math.abs(b=f.e)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)f=f.times(N),n=digitsToString(f.d),a=n.charAt(0),y++;b=f.e,a>1?(f=new g("0."+n),b++):f=new g(a+"."+n.slice(1))}else return A=getLn10(g,S+2,E).times(b+""),f=naturalLogarithm(new g(a+"."+n.slice(1)),S-o).plus(A),g.precision=E,u==null?finalise(f,E,D,external=!0):f;for(_=f,p=h=f=divide(f.minus(1),f.plus(1),S,1),l=finalise(f.times(f),S,1),r=3;;){if(h=finalise(h.times(l),S,1),A=p.plus(divide(h,new g(r),S,1)),digitsToString(A.d).slice(0,S)===digitsToString(p.d).slice(0,S))if(p=p.times(2),b!==0&&(p=p.plus(getLn10(g,S+2,E).times(b+""))),p=divide(p,new g(y),S,1),u==null)if(checkRoundingDigits(p.d,S-o,D,m))g.precision=S+=o,A=h=f=divide(_.minus(1),_.plus(1),S,1),l=finalise(f.times(f),S,1),r=m=1;else return finalise(p,g.precision=E,D,external=!0);else return g.precision=E,p;p=A,r+=2}}function nonFiniteToString(N){return String(N.s*N.s/0)}function parseDecimal(N,u){var n,a,r;for((n=u.indexOf("."))>-1&&(u=u.replace(".","")),(a=u.search(/e/i))>0?(n<0&&(n=a),n+=+u.slice(a+1),u=u.substring(0,a)):n<0&&(n=u.length),a=0;u.charCodeAt(a)===48;a++);for(r=u.length;u.charCodeAt(r-1)===48;--r);if(u=u.slice(a,r),u){if(r-=a,N.e=n=n-a-1,N.d=[],a=(n+1)%LOG_BASE,n<0&&(a+=LOG_BASE),a<r){for(a&&N.d.push(+u.slice(0,a)),r-=LOG_BASE;a<r;)N.d.push(+u.slice(a,a+=LOG_BASE));u=u.slice(a),a=LOG_BASE-u.length}else a-=r;for(;a--;)u+="0";N.d.push(+u),external&&(N.e>N.constructor.maxE?(N.d=null,N.e=NaN):N.e<N.constructor.minE&&(N.e=0,N.d=[0]))}else N.e=0,N.d=[0];return N}function parseOther(N,u){var n,a,r,b,h,m,p,A,S;if(u.indexOf("_")>-1){if(u=u.replace(/(\d)_(?=\d)/g,"$1"),isDecimal.test(u))return parseDecimal(N,u)}else if(u==="Infinity"||u==="NaN")return+u||(N.s=NaN),N.e=NaN,N.d=null,N;if(isHex.test(u))n=16,u=u.toLowerCase();else if(isBinary.test(u))n=2;else if(isOctal.test(u))n=8;else throw Error(invalidArgument+u);for(b=u.search(/p/i),b>0?(p=+u.slice(b+1),u=u.substring(2,b)):u=u.slice(2),b=u.indexOf("."),h=b>=0,a=N.constructor,h&&(u=u.replace(".",""),m=u.length,b=m-b,r=intPow(a,new a(n),b,b*2)),A=convertBase(u,n,BASE),S=A.length-1,b=S;A[b]===0;--b)A.pop();return b<0?new a(N.s*0):(N.e=getBase10Exponent(A,S),N.d=A,external=!1,h&&(N=divide(N,r,m*4)),p&&(N=N.times(Math.abs(p)<54?mathpow(2,p):Decimal.pow(2,p))),external=!0,N)}function sine(N,u){var n,a=u.d.length;if(a<3)return u.isZero()?u:taylorSeries(N,2,u,u);n=1.4*Math.sqrt(a),n=n>16?16:n|0,u=u.times(1/tinyPow(5,n)),u=taylorSeries(N,2,u,u);for(var r,b=new N(5),h=new N(16),m=new N(20);n--;)r=u.times(u),u=u.times(b.plus(r.times(h.times(r).minus(m))));return u}function taylorSeries(N,u,n,a,r){var b,h,m,p,A=N.precision,S=Math.ceil(A/LOG_BASE);for(external=!1,p=n.times(n),m=new N(a);;){if(h=divide(m.times(p),new N(u++*u++),A,1),m=r?a.plus(h):a.minus(h),a=divide(h.times(p),new N(u++*u++),A,1),h=m.plus(a),h.d[S]!==void 0){for(b=S;h.d[b]===m.d[b]&&b--;);if(b==-1)break}b=m,m=a,a=h,h=b}return external=!0,h.d.length=S+1,h}function tinyPow(N,u){for(var n=N;--u;)n*=N;return n}function toLessThanHalfPi(N,u){var n,a=u.s<0,r=getPi(N,N.precision,1),b=r.times(.5);if(u=u.abs(),u.lte(b))return quadrant=a?4:1,u;if(n=u.divToInt(r),n.isZero())quadrant=a?3:2;else{if(u=u.minus(n.times(r)),u.lte(b))return quadrant=isOdd(n)?a?2:3:a?4:1,u;quadrant=isOdd(n)?a?1:4:a?3:2}return u.minus(r).abs()}function toStringBinary(N,u,n,a){var r,b,h,m,p,A,S,_,l,y=N.constructor,o=n!==void 0;if(o?(checkInt32(n,1,MAX_DIGITS),a===void 0?a=y.rounding:checkInt32(a,0,8)):(n=y.precision,a=y.rounding),!N.isFinite())S=nonFiniteToString(N);else{for(S=finiteToString(N),h=S.indexOf("."),o?(r=2,u==16?n=n*4-3:u==8&&(n=n*3-2)):r=u,h>=0&&(S=S.replace(".",""),l=new y(1),l.e=S.length-h,l.d=convertBase(finiteToString(l),10,r),l.e=l.d.length),_=convertBase(S,10,r),b=p=_.length;_[--p]==0;)_.pop();if(!_[0])S=o?"0p+0":"0";else{if(h<0?b--:(N=new y(N),N.d=_,N.e=b,N=divide(N,l,n,a,0,r),_=N.d,b=N.e,A=inexact),h=_[n],m=r/2,A=A||_[n+1]!==void 0,A=a<4?(h!==void 0||A)&&(a===0||a===(N.s<0?3:2)):h>m||h===m&&(a===4||A||a===6&&_[n-1]&1||a===(N.s<0?8:7)),_.length=n,A)for(;++_[--n]>r-1;)_[n]=0,n||(++b,_.unshift(1));for(p=_.length;!_[p-1];--p);for(h=0,S="";h<p;h++)S+=NUMERALS.charAt(_[h]);if(o){if(p>1)if(u==16||u==8){for(h=u==16?4:3,--p;p%h;p++)S+="0";for(_=convertBase(S,r,u),p=_.length;!_[p-1];--p);for(h=1,S="1.";h<p;h++)S+=NUMERALS.charAt(_[h])}else S=S.charAt(0)+"."+S.slice(1);S=S+(b<0?"p":"p+")+b}else if(b<0){for(;++b;)S="0"+S;S="0."+S}else if(++b>p)for(b-=p;b--;)S+="0";else b<p&&(S=S.slice(0,b)+"."+S.slice(b))}S=(u==16?"0x":u==2?"0b":u==8?"0o":"")+S}return N.s<0?"-"+S:S}function truncate(N,u){if(N.length>u)return N.length=u,!0}function abs$1(N){return new this(N).abs()}function acos(N){return new this(N).acos()}function acosh(N){return new this(N).acosh()}function add(N,u){return new this(N).plus(u)}function asin(N){return new this(N).asin()}function asinh(N){return new this(N).asinh()}function atan(N){return new this(N).atan()}function atanh(N){return new this(N).atanh()}function atan2(N,u){N=new this(N),u=new this(u);var n,a=this.precision,r=this.rounding,b=a+4;return!N.s||!u.s?n=new this(NaN):!N.d&&!u.d?(n=getPi(this,b,1).times(u.s>0?.25:.75),n.s=N.s):!u.d||N.isZero()?(n=u.s<0?getPi(this,a,r):new this(0),n.s=N.s):!N.d||u.isZero()?(n=getPi(this,b,1).times(.5),n.s=N.s):u.s<0?(this.precision=b,this.rounding=1,n=this.atan(divide(N,u,b,1)),u=getPi(this,b,1),this.precision=a,this.rounding=r,n=N.s<0?n.minus(u):n.plus(u)):n=this.atan(divide(N,u,b,1)),n}function cbrt(N){return new this(N).cbrt()}function ceil(N){return finalise(N=new this(N),N.e+1,2)}function clamp$3(N,u,n){return new this(N).clamp(u,n)}function config(N){if(!N||typeof N!="object")throw Error(decimalError+"Object expected");var u,n,a,r=N.defaults===!0,b=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-EXP_LIMIT,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-EXP_LIMIT,0,"modulo",0,9];for(u=0;u<b.length;u+=3)if(n=b[u],r&&(this[n]=DEFAULTS[n]),(a=N[n])!==void 0)if(mathfloor(a)===a&&a>=b[u+1]&&a<=b[u+2])this[n]=a;else throw Error(invalidArgument+n+": "+a);if(n="crypto",r&&(this[n]=DEFAULTS[n]),(a=N[n])!==void 0)if(a===!0||a===!1||a===0||a===1)if(a)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(cryptoUnavailable);else this[n]=!1;else throw Error(invalidArgument+n+": "+a);return this}function cos(N){return new this(N).cos()}function cosh(N){return new this(N).cosh()}function clone(N){var u,n,a;function r(b){var h,m,p,A=this;if(!(A instanceof r))return new r(b);if(A.constructor=r,isDecimalInstance(b)){A.s=b.s,external?!b.d||b.e>r.maxE?(A.e=NaN,A.d=null):b.e<r.minE?(A.e=0,A.d=[0]):(A.e=b.e,A.d=b.d.slice()):(A.e=b.e,A.d=b.d?b.d.slice():b.d);return}if(p=typeof b,p==="number"){if(b===0){A.s=1/b<0?-1:1,A.e=0,A.d=[0];return}if(b<0?(b=-b,A.s=-1):A.s=1,b===~~b&&b<1e7){for(h=0,m=b;m>=10;m/=10)h++;external?h>r.maxE?(A.e=NaN,A.d=null):h<r.minE?(A.e=0,A.d=[0]):(A.e=h,A.d=[b]):(A.e=h,A.d=[b]);return}else if(b*0!==0){b||(A.s=NaN),A.e=NaN,A.d=null;return}return parseDecimal(A,b.toString())}else if(p!=="string")throw Error(invalidArgument+b);return(m=b.charCodeAt(0))===45?(b=b.slice(1),A.s=-1):(m===43&&(b=b.slice(1)),A.s=1),isDecimal.test(b)?parseDecimal(A,b):parseOther(A,b)}if(r.prototype=P,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=config,r.clone=clone,r.isDecimal=isDecimalInstance,r.abs=abs$1,r.acos=acos,r.acosh=acosh,r.add=add,r.asin=asin,r.asinh=asinh,r.atan=atan,r.atanh=atanh,r.atan2=atan2,r.cbrt=cbrt,r.ceil=ceil,r.clamp=clamp$3,r.cos=cos,r.cosh=cosh,r.div=div,r.exp=exp,r.floor=floor,r.hypot=hypot,r.ln=ln,r.log=log,r.log10=log10,r.log2=log2,r.max=max,r.min=min$1,r.mod=mod$1,r.mul=mul,r.pow=pow$1,r.random=random,r.round=round$1,r.sign=sign,r.sin=sin,r.sinh=sinh,r.sqrt=sqrt,r.sub=sub,r.sum=sum,r.tan=tan,r.tanh=tanh,r.trunc=trunc,N===void 0&&(N={}),N&&N.defaults!==!0)for(a=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],u=0;u<a.length;)N.hasOwnProperty(n=a[u++])||(N[n]=this[n]);return r.config(N),r}function div(N,u){return new this(N).div(u)}function exp(N){return new this(N).exp()}function floor(N){return finalise(N=new this(N),N.e+1,3)}function hypot(){var N,u,n=new this(0);for(external=!1,N=0;N<arguments.length;)if(u=new this(arguments[N++]),u.d)n.d&&(n=n.plus(u.times(u)));else{if(u.s)return external=!0,new this(1/0);n=u}return external=!0,n.sqrt()}function isDecimalInstance(N){return N instanceof Decimal||N&&N.toStringTag===tag||!1}function ln(N){return new this(N).ln()}function log(N,u){return new this(N).log(u)}function log2(N){return new this(N).log(2)}function log10(N){return new this(N).log(10)}function max(){return maxOrMin(this,arguments,"lt")}function min$1(){return maxOrMin(this,arguments,"gt")}function mod$1(N,u){return new this(N).mod(u)}function mul(N,u){return new this(N).mul(u)}function pow$1(N,u){return new this(N).pow(u)}function random(N){var u,n,a,r,b=0,h=new this(1),m=[];if(N===void 0?N=this.precision:checkInt32(N,1,MAX_DIGITS),a=Math.ceil(N/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(u=crypto.getRandomValues(new Uint32Array(a));b<a;)r=u[b],r>=429e7?u[b]=crypto.getRandomValues(new Uint32Array(1))[0]:m[b++]=r%1e7;else if(crypto.randomBytes){for(u=crypto.randomBytes(a*=4);b<a;)r=u[b]+(u[b+1]<<8)+(u[b+2]<<16)+((u[b+3]&127)<<24),r>=214e7?crypto.randomBytes(4).copy(u,b):(m.push(r%1e7),b+=4);b=a/4}else throw Error(cryptoUnavailable);else for(;b<a;)m[b++]=Math.random()*1e7|0;for(a=m[--b],N%=LOG_BASE,a&&N&&(r=mathpow(10,LOG_BASE-N),m[b]=(a/r|0)*r);m[b]===0;b--)m.pop();if(b<0)n=0,m=[0];else{for(n=-1;m[0]===0;n-=LOG_BASE)m.shift();for(a=1,r=m[0];r>=10;r/=10)a++;a<LOG_BASE&&(n-=LOG_BASE-a)}return h.e=n,h.d=m,h}function round$1(N){return finalise(N=new this(N),N.e+1,this.rounding)}function sign(N){return N=new this(N),N.d?N.d[0]?N.s:0*N.s:N.s||NaN}function sin(N){return new this(N).sin()}function sinh(N){return new this(N).sinh()}function sqrt(N){return new this(N).sqrt()}function sub(N,u){return new this(N).sub(u)}function sum(){var N=0,u=arguments,n=new this(u[N]);for(external=!1;n.s&&++N<u.length;)n=n.plus(u[N]);return external=!0,finalise(n,this.precision,this.rounding)}function tan(N){return new this(N).tan()}function tanh(N){return new this(N).tanh()}function trunc(N){return finalise(N=new this(N),N.e+1,1)}P[Symbol.for("nodejs.util.inspect.custom")]=P.toString;P[Symbol.toStringTag]="Decimal";var Decimal=P.constructor=clone(DEFAULTS);LN10=new Decimal(LN10);PI=new Decimal(PI);var name$w="BigNumber",dependencies$w=["?on","config"],createBigNumberClass=factory(name$w,dependencies$w,N=>{var{on:u,config:n}=N,a=Decimal.clone({precision:n.precision,modulo:Decimal.EUCLID});return a.prototype=Object.create(a.prototype),a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(r){return new a(r.value)},u&&u("config",function(r,b){r.precision!==b.precision&&a.config({precision:r.precision})}),a},{isClass:!0}),complex$1={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(N,u){(function(n){var a=Math.cosh||function(_){return Math.abs(_)<1e-9?1-_:(Math.exp(_)+Math.exp(-_))*.5},r=Math.sinh||function(_){return Math.abs(_)<1e-9?_:(Math.exp(_)-Math.exp(-_))*.5},b=function(_){var l=Math.PI/4;if(-l>_||_>l)return Math.cos(_)-1;var y=_*_;return y*(y*(y*(y*(y*(y*(y*(y/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},h=function(_,l){var y=Math.abs(_),o=Math.abs(l);return y<3e3&&o<3e3?Math.sqrt(y*y+o*o):(y<o?(y=o,o=_/l):o=l/_,y*Math.sqrt(1+o*o))},m=function(){throw SyntaxError("Invalid Param")};function p(_,l){var y=Math.abs(_),o=Math.abs(l);return _===0?Math.log(o):l===0?Math.log(y):y<3e3&&o<3e3?Math.log(_*_+l*l)*.5:(_=_/2,l=l/2,.5*Math.log(_*_+l*l)+Math.LN2)}var A=function(_,l){var y={re:0,im:0};if(_==null)y.re=y.im=0;else if(l!==void 0)y.re=_,y.im=l;else switch(typeof _){case"object":if("im"in _&&"re"in _)y.re=_.re,y.im=_.im;else if("abs"in _&&"arg"in _){if(!Number.isFinite(_.abs)&&Number.isFinite(_.arg))return S.INFINITY;y.re=_.abs*Math.cos(_.arg),y.im=_.abs*Math.sin(_.arg)}else if("r"in _&&"phi"in _){if(!Number.isFinite(_.r)&&Number.isFinite(_.phi))return S.INFINITY;y.re=_.r*Math.cos(_.phi),y.im=_.r*Math.sin(_.phi)}else _.length===2?(y.re=_[0],y.im=_[1]):m();break;case"string":y.im=y.re=0;var o=_.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),f=1,x=0;o===null&&m();for(var g=0;g<o.length;g++){var D=o[g];D===" "||D==="	"||D===`
`||(D==="+"?f++:D==="-"?x++:D==="i"||D==="I"?(f+x===0&&m(),o[g+1]!==" "&&!isNaN(o[g+1])?(y.im+=parseFloat((x%2?"-":"")+o[g+1]),g++):y.im+=parseFloat((x%2?"-":"")+"1"),f=x=0):((f+x===0||isNaN(D))&&m(),o[g+1]==="i"||o[g+1]==="I"?(y.im+=parseFloat((x%2?"-":"")+D),g++):y.re+=parseFloat((x%2?"-":"")+D),f=x=0))}f+x>0&&m();break;case"number":y.im=0,y.re=_;break;default:m()}return isNaN(y.re)||isNaN(y.im),y};function S(_,l){if(!(this instanceof S))return new S(_,l);var y=A(_,l);this.re=y.re,this.im=y.im}S.prototype={re:0,im:0,sign:function(){var _=this.abs();return new S(this.re/_,this.im/_)},add:function(_,l){var y=new S(_,l);return this.isInfinite()&&y.isInfinite()?S.NAN:this.isInfinite()||y.isInfinite()?S.INFINITY:new S(this.re+y.re,this.im+y.im)},sub:function(_,l){var y=new S(_,l);return this.isInfinite()&&y.isInfinite()?S.NAN:this.isInfinite()||y.isInfinite()?S.INFINITY:new S(this.re-y.re,this.im-y.im)},mul:function(_,l){var y=new S(_,l);return this.isInfinite()&&y.isZero()||this.isZero()&&y.isInfinite()?S.NAN:this.isInfinite()||y.isInfinite()?S.INFINITY:y.im===0&&this.im===0?new S(this.re*y.re,0):new S(this.re*y.re-this.im*y.im,this.re*y.im+this.im*y.re)},div:function(_,l){var y=new S(_,l);if(this.isZero()&&y.isZero()||this.isInfinite()&&y.isInfinite())return S.NAN;if(this.isInfinite()||y.isZero())return S.INFINITY;if(this.isZero()||y.isInfinite())return S.ZERO;_=this.re,l=this.im;var o=y.re,f=y.im,x,g;return f===0?new S(_/o,l/o):Math.abs(o)<Math.abs(f)?(g=o/f,x=o*g+f,new S((_*g+l)/x,(l*g-_)/x)):(g=f/o,x=f*g+o,new S((_+l*g)/x,(l-_*g)/x))},pow:function(_,l){var y=new S(_,l);if(_=this.re,l=this.im,y.isZero())return S.ONE;if(y.im===0){if(l===0&&_>0)return new S(Math.pow(_,y.re),0);if(_===0)switch((y.re%4+4)%4){case 0:return new S(Math.pow(l,y.re),0);case 1:return new S(0,Math.pow(l,y.re));case 2:return new S(-Math.pow(l,y.re),0);case 3:return new S(0,-Math.pow(l,y.re))}}if(_===0&&l===0&&y.re>0&&y.im>=0)return S.ZERO;var o=Math.atan2(l,_),f=p(_,l);return _=Math.exp(y.re*f-y.im*o),l=y.im*f+y.re*o,new S(_*Math.cos(l),_*Math.sin(l))},sqrt:function(){var _=this.re,l=this.im,y=this.abs(),o,f;if(_>=0){if(l===0)return new S(Math.sqrt(_),0);o=.5*Math.sqrt(2*(y+_))}else o=Math.abs(l)/Math.sqrt(2*(y-_));return _<=0?f=.5*Math.sqrt(2*(y-_)):f=Math.abs(l)/Math.sqrt(2*(y+_)),new S(o,l<0?-f:f)},exp:function(){var _=Math.exp(this.re);return this.im,new S(_*Math.cos(this.im),_*Math.sin(this.im))},expm1:function(){var _=this.re,l=this.im;return new S(Math.expm1(_)*Math.cos(l)+b(l),Math.exp(_)*Math.sin(l))},log:function(){var _=this.re,l=this.im;return new S(p(_,l),Math.atan2(l,_))},abs:function(){return h(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var _=this.re,l=this.im;return new S(Math.sin(_)*a(l),Math.cos(_)*r(l))},cos:function(){var _=this.re,l=this.im;return new S(Math.cos(_)*a(l),-Math.sin(_)*r(l))},tan:function(){var _=2*this.re,l=2*this.im,y=Math.cos(_)+a(l);return new S(Math.sin(_)/y,r(l)/y)},cot:function(){var _=2*this.re,l=2*this.im,y=Math.cos(_)-a(l);return new S(-Math.sin(_)/y,r(l)/y)},sec:function(){var _=this.re,l=this.im,y=.5*a(2*l)+.5*Math.cos(2*_);return new S(Math.cos(_)*a(l)/y,Math.sin(_)*r(l)/y)},csc:function(){var _=this.re,l=this.im,y=.5*a(2*l)-.5*Math.cos(2*_);return new S(Math.sin(_)*a(l)/y,-Math.cos(_)*r(l)/y)},asin:function(){var _=this.re,l=this.im,y=new S(l*l-_*_+1,-2*_*l).sqrt(),o=new S(y.re-l,y.im+_).log();return new S(o.im,-o.re)},acos:function(){var _=this.re,l=this.im,y=new S(l*l-_*_+1,-2*_*l).sqrt(),o=new S(y.re-l,y.im+_).log();return new S(Math.PI/2-o.im,o.re)},atan:function(){var _=this.re,l=this.im;if(_===0){if(l===1)return new S(0,1/0);if(l===-1)return new S(0,-1/0)}var y=_*_+(1-l)*(1-l),o=new S((1-l*l-_*_)/y,-2*_/y).log();return new S(-.5*o.im,.5*o.re)},acot:function(){var _=this.re,l=this.im;if(l===0)return new S(Math.atan2(1,_),0);var y=_*_+l*l;return y!==0?new S(_/y,-l/y).atan():new S(_!==0?_/0:0,l!==0?-l/0:0).atan()},asec:function(){var _=this.re,l=this.im;if(_===0&&l===0)return new S(0,1/0);var y=_*_+l*l;return y!==0?new S(_/y,-l/y).acos():new S(_!==0?_/0:0,l!==0?-l/0:0).acos()},acsc:function(){var _=this.re,l=this.im;if(_===0&&l===0)return new S(Math.PI/2,1/0);var y=_*_+l*l;return y!==0?new S(_/y,-l/y).asin():new S(_!==0?_/0:0,l!==0?-l/0:0).asin()},sinh:function(){var _=this.re,l=this.im;return new S(r(_)*Math.cos(l),a(_)*Math.sin(l))},cosh:function(){var _=this.re,l=this.im;return new S(a(_)*Math.cos(l),r(_)*Math.sin(l))},tanh:function(){var _=2*this.re,l=2*this.im,y=a(_)+Math.cos(l);return new S(r(_)/y,Math.sin(l)/y)},coth:function(){var _=2*this.re,l=2*this.im,y=a(_)-Math.cos(l);return new S(r(_)/y,-Math.sin(l)/y)},csch:function(){var _=this.re,l=this.im,y=Math.cos(2*l)-a(2*_);return new S(-2*r(_)*Math.cos(l)/y,2*a(_)*Math.sin(l)/y)},sech:function(){var _=this.re,l=this.im,y=Math.cos(2*l)+a(2*_);return new S(2*a(_)*Math.cos(l)/y,-2*r(_)*Math.sin(l)/y)},asinh:function(){var _=this.im;this.im=-this.re,this.re=_;var l=this.asin();return this.re=-this.im,this.im=_,_=l.re,l.re=-l.im,l.im=_,l},acosh:function(){var _=this.acos();if(_.im<=0){var l=_.re;_.re=-_.im,_.im=l}else{var l=_.im;_.im=-_.re,_.re=l}return _},atanh:function(){var _=this.re,l=this.im,y=_>1&&l===0,o=1-_,f=1+_,x=o*o+l*l,g=x!==0?new S((f*o-l*l)/x,(l*o+f*l)/x):new S(_!==-1?_/0:0,l!==0?l/0:0),D=g.re;return g.re=p(g.re,g.im)/2,g.im=Math.atan2(g.im,D)/2,y&&(g.im=-g.im),g},acoth:function(){var _=this.re,l=this.im;if(_===0&&l===0)return new S(0,Math.PI/2);var y=_*_+l*l;return y!==0?new S(_/y,-l/y).atanh():new S(_!==0?_/0:0,l!==0?-l/0:0).atanh()},acsch:function(){var _=this.re,l=this.im;if(l===0)return new S(_!==0?Math.log(_+Math.sqrt(_*_+1)):1/0,0);var y=_*_+l*l;return y!==0?new S(_/y,-l/y).asinh():new S(_!==0?_/0:0,l!==0?-l/0:0).asinh()},asech:function(){var _=this.re,l=this.im;if(this.isZero())return S.INFINITY;var y=_*_+l*l;return y!==0?new S(_/y,-l/y).acosh():new S(_!==0?_/0:0,l!==0?-l/0:0).acosh()},inverse:function(){if(this.isZero())return S.INFINITY;if(this.isInfinite())return S.ZERO;var _=this.re,l=this.im,y=_*_+l*l;return new S(_/y,-l/y)},conjugate:function(){return new S(this.re,-this.im)},neg:function(){return new S(-this.re,-this.im)},ceil:function(_){return _=Math.pow(10,_||0),new S(Math.ceil(this.re*_)/_,Math.ceil(this.im*_)/_)},floor:function(_){return _=Math.pow(10,_||0),new S(Math.floor(this.re*_)/_,Math.floor(this.im*_)/_)},round:function(_){return _=Math.pow(10,_||0),new S(Math.round(this.re*_)/_,Math.round(this.im*_)/_)},equals:function(_,l){var y=new S(_,l);return Math.abs(y.re-this.re)<=S.EPSILON&&Math.abs(y.im-this.im)<=S.EPSILON},clone:function(){return new S(this.re,this.im)},toString:function(){var _=this.re,l=this.im,y="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(_)<S.EPSILON&&(_=0),Math.abs(l)<S.EPSILON&&(l=0),l===0?y+_:(_!==0?(y+=_,y+=" ",l<0?(l=-l,y+="-"):y+="+",y+=" "):l<0&&(l=-l,y+="-"),l!==1&&(y+=l),y+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},S.ZERO=new S(0,0),S.ONE=new S(1,0),S.I=new S(0,1),S.PI=new S(Math.PI,0),S.E=new S(Math.E,0),S.INFINITY=new S(1/0,1/0),S.NAN=new S(NaN,NaN),S.EPSILON=1e-15,Object.defineProperty(S,"__esModule",{value:!0}),S.default=S,S.Complex=S,N.exports=S})()})(complex$1);var complexExports=complex$1.exports;const Complex$1=getDefaultExportFromCjs(complexExports);var name$v="Complex",dependencies$v=[],createComplexClass=factory(name$v,dependencies$v,()=>(Object.defineProperty(Complex$1,"name",{value:"Complex"}),Complex$1.prototype.constructor=Complex$1,Complex$1.prototype.type="Complex",Complex$1.prototype.isComplex=!0,Complex$1.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Complex$1.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Complex$1.prototype.format=function(N){var u="",n=this.im,a=this.re,r=format$2(this.re,N),b=format$2(this.im,N),h=isNumber(N)?N:N?N.precision:null;if(h!==null){var m=Math.pow(10,-h);Math.abs(a/n)<m&&(a=0),Math.abs(n/a)<m&&(n=0)}return n===0?u=r:a===0?n===1?u="i":n===-1?u="-i":u=b+"i":n<0?n===-1?u=r+" - i":u=r+" - "+b.substring(1)+"i":n===1?u=r+" + i":u=r+" + "+b+"i",u},Complex$1.fromPolar=function(N){switch(arguments.length){case 1:{var u=arguments[0];if(typeof u=="object")return Complex$1(u);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],a=arguments[1];if(isNumber(n)){if(isUnit(a)&&a.hasBase("ANGLE")&&(a=a.toNumber("rad")),isNumber(a))return new Complex$1({r:n,phi:a});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Complex$1.prototype.valueOf=Complex$1.prototype.toString,Complex$1.fromJSON=function(N){return new Complex$1(N)},Complex$1.compare=function(N,u){return N.re>u.re?1:N.re<u.re?-1:N.im>u.im?1:N.im<u.im?-1:0},Complex$1),{isClass:!0}),fraction$1={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(N,u){(function(n){var a=2e3,r={s:1,n:0,d:1};function b(g,D){if(isNaN(g=parseInt(g,10)))throw f();return g*D}function h(g,D){if(D===0)throw o();var E=Object.create(y.prototype);E.s=g<0?-1:1,g=g<0?-g:g;var C=l(g,D);return E.n=g/C,E.d=D/C,E}function m(g){for(var D={},E=g,C=2,T=4;T<=E;){for(;E%C===0;)E/=C,D[C]=(D[C]||0)+1;T+=1+2*C++}return E!==g?E>1&&(D[E]=(D[E]||0)+1):D[g]=(D[g]||0)+1,D}var p=function(g,D){var E=0,C=1,T=1,O=0,I=0,M=0,F=1,B=1,j=0,L=1,R=1,V=1,k=1e7,U;if(g!=null)if(D!==void 0){if(E=g,C=D,T=E*C,E%1!==0||C%1!==0)throw x()}else switch(typeof g){case"object":{if("d"in g&&"n"in g)E=g.n,C=g.d,"s"in g&&(E*=g.s);else if(0 in g)E=g[0],1 in g&&(C=g[1]);else throw f();T=E*C;break}case"number":{if(g<0&&(T=g,g=-g),g%1===0)E=g;else if(g>0){for(g>=1&&(B=Math.pow(10,Math.floor(1+Math.log(g)/Math.LN10)),g/=B);L<=k&&V<=k;)if(U=(j+R)/(L+V),g===U){L+V<=k?(E=j+R,C=L+V):V>L?(E=R,C=V):(E=j,C=L);break}else g>U?(j+=R,L+=V):(R+=j,V+=L),L>k?(E=R,C=V):(E=j,C=L);E*=B}else(isNaN(g)||isNaN(D))&&(C=E=NaN);break}case"string":{if(L=g.match(/\d+|./g),L===null)throw f();if(L[j]==="-"?(T=-1,j++):L[j]==="+"&&j++,L.length===j+1?I=b(L[j++],T):L[j+1]==="."||L[j]==="."?(L[j]!=="."&&(O=b(L[j++],T)),j++,(j+1===L.length||L[j+1]==="("&&L[j+3]===")"||L[j+1]==="'"&&L[j+3]==="'")&&(I=b(L[j],T),F=Math.pow(10,L[j].length),j++),(L[j]==="("&&L[j+2]===")"||L[j]==="'"&&L[j+2]==="'")&&(M=b(L[j+1],T),B=Math.pow(10,L[j+1].length)-1,j+=3)):L[j+1]==="/"||L[j+1]===":"?(I=b(L[j],T),F=b(L[j+2],1),j+=3):L[j+3]==="/"&&L[j+1]===" "&&(O=b(L[j],T),I=b(L[j+2],T),F=b(L[j+4],1),j+=5),L.length<=j){C=F*B,T=E=M+C*O+B*I;break}}default:throw f()}if(C===0)throw o();r.s=T<0?-1:1,r.n=Math.abs(E),r.d=Math.abs(C)};function A(g,D,E){for(var C=1;D>0;g=g*g%E,D>>=1)D&1&&(C=C*g%E);return C}function S(g,D){for(;D%2===0;D/=2);for(;D%5===0;D/=5);if(D===1)return 0;for(var E=10%D,C=1;E!==1;C++)if(E=E*10%D,C>a)return 0;return C}function _(g,D,E){for(var C=1,T=A(10,E,D),O=0;O<300;O++){if(C===T)return O;C=C*10%D,T=T*10%D}return 0}function l(g,D){if(!g)return D;if(!D)return g;for(;;){if(g%=D,!g)return D;if(D%=g,!D)return g}}function y(g,D){if(p(g,D),this instanceof y)g=l(r.d,r.n),this.s=r.s,this.n=r.n/g,this.d=r.d/g;else return h(r.s*r.n,r.d)}var o=function(){return new Error("Division by Zero")},f=function(){return new Error("Invalid argument")},x=function(){return new Error("Parameters must be integer")};y.prototype={s:1,n:0,d:1,abs:function(){return h(this.n,this.d)},neg:function(){return h(-this.s*this.n,this.d)},add:function(g,D){return p(g,D),h(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(g,D){return p(g,D),h(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(g,D){return p(g,D),h(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(g,D){return p(g,D),h(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return h(this.s*this.n,this.d)},mod:function(g,D){if(isNaN(this.n)||isNaN(this.d))return new y(NaN);if(g===void 0)return h(this.s*this.n%this.d,1);if(p(g,D),r.n===0&&this.d===0)throw o();return h(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d)},gcd:function(g,D){return p(g,D),h(l(r.n,this.n)*l(r.d,this.d),r.d*this.d)},lcm:function(g,D){return p(g,D),r.n===0&&this.n===0?h(0,1):h(r.n*this.n,l(r.n,this.n)*l(r.d,this.d))},ceil:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new y(NaN):h(Math.ceil(g*this.s*this.n/this.d),g)},floor:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new y(NaN):h(Math.floor(g*this.s*this.n/this.d),g)},round:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new y(NaN):h(Math.round(g*this.s*this.n/this.d),g)},inverse:function(){return h(this.s*this.d,this.n)},pow:function(g,D){if(p(g,D),r.d===1)return r.s<0?h(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):h(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var E=m(this.n),C=m(this.d),T=1,O=1;for(var I in E)if(I!=="1"){if(I==="0"){T=0;break}if(E[I]*=r.n,E[I]%r.d===0)E[I]/=r.d;else return null;T*=Math.pow(I,E[I])}for(var I in C)if(I!=="1"){if(C[I]*=r.n,C[I]%r.d===0)C[I]/=r.d;else return null;O*=Math.pow(I,C[I])}return r.s<0?h(O,T):h(T,O)},equals:function(g,D){return p(g,D),this.s*this.n*r.d===r.s*r.n*this.d},compare:function(g,D){p(g,D);var E=this.s*this.n*r.d-r.s*r.n*this.d;return(0<E)-(E<0)},simplify:function(g){if(isNaN(this.n)||isNaN(this.d))return this;g=g||.001;for(var D=this.abs(),E=D.toContinued(),C=1;C<E.length;C++){for(var T=h(E[C-1],1),O=C-2;O>=0;O--)T=T.inverse().add(E[O]);if(Math.abs(T.sub(D).valueOf())<g)return T.mul(this.s)}return this},divisible:function(g,D){return p(g,D),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(g){var D,E="",C=this.n,T=this.d;return this.s<0&&(E+="-"),T===1?E+=C:(g&&(D=Math.floor(C/T))>0&&(E+=D,E+=" ",C%=T),E+=C,E+="/",E+=T),E},toLatex:function(g){var D,E="",C=this.n,T=this.d;return this.s<0&&(E+="-"),T===1?E+=C:(g&&(D=Math.floor(C/T))>0&&(E+=D,C%=T),E+="\\frac{",E+=C,E+="}{",E+=T,E+="}"),E},toContinued:function(){var g,D=this.n,E=this.d,C=[];if(isNaN(D)||isNaN(E))return C;do C.push(Math.floor(D/E)),g=D%E,D=E,E=g;while(D!==1);return C},toString:function(g){var D=this.n,E=this.d;if(isNaN(D)||isNaN(E))return"NaN";g=g||15;var C=S(D,E),T=_(D,E,C),O=this.s<0?"-":"";if(O+=D/E|0,D%=E,D*=10,D&&(O+="."),C){for(var I=T;I--;)O+=D/E|0,D%=E,D*=10;O+="(";for(var I=C;I--;)O+=D/E|0,D%=E,D*=10;O+=")"}else for(var I=g;D&&I--;)O+=D/E|0,D%=E,D*=10;return O}},Object.defineProperty(y,"__esModule",{value:!0}),y.default=y,y.Fraction=y,N.exports=y})()})(fraction$1);var fractionExports=fraction$1.exports;const Fraction$1=getDefaultExportFromCjs(fractionExports);var name$u="Fraction",dependencies$u=[],createFractionClass=factory(name$u,dependencies$u,()=>(Object.defineProperty(Fraction$1,"name",{value:"Fraction"}),Fraction$1.prototype.constructor=Fraction$1,Fraction$1.prototype.type="Fraction",Fraction$1.prototype.isFraction=!0,Fraction$1.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Fraction$1.fromJSON=function(N){return new Fraction$1(N)},Fraction$1),{isClass:!0}),name$t="Matrix",dependencies$t=[],createMatrixClass=factory(name$t,dependencies$t,()=>{function N(){if(!(this instanceof N))throw new SyntaxError("Constructor must be called with the new operator")}return N.prototype.type="Matrix",N.prototype.isMatrix=!0,N.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},N.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},N.prototype.create=function(u,n){throw new Error("Cannot invoke create on a Matrix interface")},N.prototype.subset=function(u,n,a){throw new Error("Cannot invoke subset on a Matrix interface")},N.prototype.get=function(u){throw new Error("Cannot invoke get on a Matrix interface")},N.prototype.set=function(u,n,a){throw new Error("Cannot invoke set on a Matrix interface")},N.prototype.resize=function(u,n){throw new Error("Cannot invoke resize on a Matrix interface")},N.prototype.reshape=function(u,n){throw new Error("Cannot invoke reshape on a Matrix interface")},N.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},N.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},N.prototype.map=function(u,n){throw new Error("Cannot invoke map on a Matrix interface")},N.prototype.forEach=function(u){throw new Error("Cannot invoke forEach on a Matrix interface")},N.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},N.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},N.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},N.prototype.format=function(u){throw new Error("Cannot invoke format on a Matrix interface")},N.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},N},{isClass:!0});function maxArgumentCount(N){return Object.keys(N.signatures||{}).reduce(function(u,n){var a=(n.match(/,/g)||[]).length+1;return Math.max(u,a)},-1)}var name$s="DenseMatrix",dependencies$s=["Matrix"],createDenseMatrixClass=factory(name$s,dependencies$s,N=>{var{Matrix:u}=N;function n(S,_){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(_&&!isString(_))throw new Error("Invalid datatype: "+_);if(isMatrix(S))S.type==="DenseMatrix"?(this._data=clone$2(S._data),this._size=clone$2(S._size),this._datatype=_||S._datatype):(this._data=S.toArray(),this._size=S.size(),this._datatype=_||S._datatype);else if(S&&isArray(S.data)&&isArray(S.size))this._data=S.data,this._size=S.size,validate(this._data,this._size),this._datatype=_||S.datatype;else if(isArray(S))this._data=A(S),this._size=arraySize(this._data),validate(this._data,this._size),this._datatype=_;else{if(S)throw new TypeError("Unsupported type of data ("+typeOf(S)+")");this._data=[],this._size=[0],this._datatype=_}}n.prototype=new u,n.prototype.createDenseMatrix=function(S,_){return new n(S,_)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return getArrayDataType(this._data,typeOf)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(S,_){return new n(S,_)},n.prototype.subset=function(S,_,l){switch(arguments.length){case 1:return a(this,S);case 2:case 3:return b(this,S,_,l);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(S){if(!isArray(S))throw new TypeError("Array expected");if(S.length!==this._size.length)throw new DimensionError(S.length,this._size.length);for(var _=0;_<S.length;_++)validateIndex(S[_],this._size[_]);for(var l=this._data,y=0,o=S.length;y<o;y++){var f=S[y];validateIndex(f,l.length),l=l[f]}return l},n.prototype.set=function(S,_,l){if(!isArray(S))throw new TypeError("Array expected");if(S.length<this._size.length)throw new DimensionError(S.length,this._size.length,"<");var y,o,f,x=S.map(function(D){return D+1});p(this,x,l);var g=this._data;for(y=0,o=S.length-1;y<o;y++)f=S[y],validateIndex(f,g.length),g=g[f];return f=S[S.length-1],validateIndex(f,g.length),g[f]=_,this};function a(S,_){if(!isIndex(_))throw new TypeError("Invalid index");var l=_.isScalar();if(l)return S.get(_.min());var y=_.size();if(y.length!==S._size.length)throw new DimensionError(y.length,S._size.length);for(var o=_.min(),f=_.max(),x=0,g=S._size.length;x<g;x++)validateIndex(o[x],S._size[x]),validateIndex(f[x],S._size[x]);return new n(r(S._data,_,y.length,0),S._datatype)}function r(S,_,l,y){var o=y===l-1,f=_.dimension(y);return o?f.map(function(x){return validateIndex(x,S.length),S[x]}).valueOf():f.map(function(x){validateIndex(x,S.length);var g=S[x];return r(g,_,l,y+1)}).valueOf()}function b(S,_,l,y){if(!_||_.isIndex!==!0)throw new TypeError("Invalid index");var o=_.size(),f=_.isScalar(),x;if(isMatrix(l)?(x=l.size(),l=l.valueOf()):x=arraySize(l),f){if(x.length!==0)throw new TypeError("Scalar expected");S.set(_.min(),l,y)}else{if(!deepStrictEqual(x,o))try{x.length===0?l=broadcastTo([l],o):l=broadcastTo(l,o),x=arraySize(l)}catch{}if(o.length<S._size.length)throw new DimensionError(o.length,S._size.length,"<");if(x.length<o.length){for(var g=0,D=0;o[g]===1&&x[g]===1;)g++;for(;o[g]===1;)D++,g++;l=unsqueeze(l,o.length,D,x)}if(!deepStrictEqual(o,x))throw new DimensionError(o,x,">");var E=_.max().map(function(O){return O+1});p(S,E,y);var C=o.length,T=0;h(S._data,_,l,C,T)}return S}function h(S,_,l,y,o){var f=o===y-1,x=_.dimension(o);f?x.forEach(function(g,D){validateIndex(g),S[g]=l[D[0]]}):x.forEach(function(g,D){validateIndex(g),h(S[g],_,l[D[0]],y,o+1)})}n.prototype.resize=function(S,_,l){if(!isCollection(S))throw new TypeError("Array or Matrix expected");var y=S.valueOf().map(f=>Array.isArray(f)&&f.length===1?f[0]:f),o=l?this.clone():this;return m(o,y,_)};function m(S,_,l){if(_.length===0){for(var y=S._data;isArray(y);)y=y[0];return y}return S._size=_.slice(0),S._data=resize(S._data,S._size,l),S}n.prototype.reshape=function(S,_){var l=_?this.clone():this;l._data=reshape(l._data,S);var y=l._size.reduce((o,f)=>o*f);return l._size=processSizesWildcard(S,y),l};function p(S,_,l){for(var y=S._size.slice(0),o=!1;y.length<_.length;)y.push(0),o=!0;for(var f=0,x=_.length;f<x;f++)_[f]>y[f]&&(y[f]=_[f],o=!0);o&&m(S,y,l)}n.prototype.clone=function(){var S=new n({data:clone$2(this._data),size:clone$2(this._size),datatype:this._datatype});return S},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(S){var _=this,l=maxArgumentCount(S),y=function x(g,D){return isArray(g)?g.map(function(E,C){return x(E,D.concat(C))}):l===1?S(g):l===2?S(g,D):S(g,D,_)},o=y(this._data,[]),f=this._datatype!==void 0?getArrayDataType(o,typeOf):void 0;return new n(o,f)},n.prototype.forEach=function(S){var _=this,l=function y(o,f){isArray(o)?o.forEach(function(x,g){y(x,f.concat(g))}):S(o,f,_)};l(this._data,[])},n.prototype[Symbol.iterator]=function*(){var S=function*_(l,y){if(isArray(l))for(var o=0;o<l.length;o++)yield*_(l[o],y.concat(o));else yield{value:l,index:y}};yield*S(this._data,[])},n.prototype.rows=function(){var S=[],_=this.size();if(_.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var l=this._data;for(var y of l)S.push(new n([y],this._datatype));return S},n.prototype.columns=function(){var S=this,_=[],l=this.size();if(l.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var y=this._data,o=function(g){var D=y.map(E=>[E[g]]);_.push(new n(D,S._datatype))},f=0;f<l[1];f++)o(f);return _},n.prototype.toArray=function(){return clone$2(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(S){return format(this._data,S)},n.prototype.toString=function(){return format(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(S){if(S){if(isBigNumber(S)&&(S=S.toNumber()),!isNumber(S)||!isInteger(S))throw new TypeError("The parameter k must be an integer number")}else S=0;for(var _=S>0?S:0,l=S<0?-S:0,y=this._size[0],o=this._size[1],f=Math.min(y-l,o-_),x=[],g=0;g<f;g++)x[g]=this._data[g+l][g+_];return new n({data:x,size:[f],datatype:this._datatype})},n.diagonal=function(S,_,l,y){if(!isArray(S))throw new TypeError("Array expected, size parameter");if(S.length!==2)throw new Error("Only two dimensions matrix are supported");if(S=S.map(function(I){if(isBigNumber(I)&&(I=I.toNumber()),!isNumber(I)||!isInteger(I)||I<1)throw new Error("Size values must be positive integers");return I}),l){if(isBigNumber(l)&&(l=l.toNumber()),!isNumber(l)||!isInteger(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var o=l>0?l:0,f=l<0?-l:0,x=S[0],g=S[1],D=Math.min(x-f,g-o),E;if(isArray(_)){if(_.length!==D)throw new Error("Invalid value array length");E=function(M){return _[M]}}else if(isMatrix(_)){var C=_.size();if(C.length!==1||C[0]!==D)throw new Error("Invalid matrix length");E=function(M){return _.get([M])}}else E=function(){return _};y||(y=isBigNumber(E(0))?E(0).mul(0):0);var T=[];if(S.length>0){T=resize(T,S,y);for(var O=0;O<D;O++)T[O+f][O+o]=E(O)}return new n({data:T,size:[x,g]})},n.fromJSON=function(S){return new n(S)},n.prototype.swapRows=function(S,_){if(!isNumber(S)||!isInteger(S)||!isNumber(_)||!isInteger(_))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return validateIndex(S,this._size[0]),validateIndex(_,this._size[0]),n._swapRows(S,_,this._data),this},n._swapRows=function(S,_,l){var y=l[S];l[S]=l[_],l[_]=y};function A(S){return isMatrix(S)?A(S.valueOf()):isArray(S)?S.map(A):S}return n},{isClass:!0});function deepMap(N,u,n){return N&&typeof N.map=="function"?N.map(function(a){return deepMap(a,u)}):u(N)}var n1$1="number",n2="number, number";function absNumber(N){return Math.abs(N)}absNumber.signature=n1$1;function addNumber(N,u){return N+u}addNumber.signature=n2;function subtractNumber(N,u){return N-u}subtractNumber.signature=n2;function multiplyNumber(N,u){return N*u}multiplyNumber.signature=n2;function unaryMinusNumber(N){return-N}unaryMinusNumber.signature=n1$1;function powNumber(N,u){return N*N<1&&u===1/0||N*N>1&&u===-1/0?0:Math.pow(N,u)}powNumber.signature=n2;function roundNumber(N){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!isInteger(u)||u<0||u>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(toFixed$1(N,u))}var n1="number";function isZeroNumber(N){return N===0}isZeroNumber.signature=n1;var name$r="isZero",dependencies$r=["typed"],createIsZero=factory(name$r,dependencies$r,N=>{var{typed:u}=N;return u(name$r,{number:isZeroNumber,BigNumber:function(a){return a.isZero()},Complex:function(a){return a.re===0&&a.im===0},Fraction:function(a){return a.d===1&&a.n===0},Unit:u.referToSelf(n=>a=>u.find(n,a.valueType())(a.value)),"Array | Matrix":u.referToSelf(n=>a=>deepMap(a,n))})});function nearlyEqual(N,u,n){if(n==null)return N.eq(u);if(N.eq(u))return!0;if(N.isNaN()||u.isNaN())return!1;if(N.isFinite()&&u.isFinite()){var a=N.minus(u).abs();if(a.isZero())return!0;var r=N.constructor.max(N.abs(),u.abs());return a.lte(r.times(n))}return!1}function complexEquals(N,u,n){return nearlyEqual$1(N.re,u.re,n)&&nearlyEqual$1(N.im,u.im,n)}var createCompareUnits=factory("compareUnits",["typed"],N=>{var{typed:u}=N;return{"Unit, Unit":u.referToSelf(n=>(a,r)=>{if(!a.equalBase(r))throw new Error("Cannot compare units with different base");return u.find(n,[a.valueType(),r.valueType()])(a.value,r.value)})}}),name$q="equalScalar",dependencies$q=["typed","config"],createEqualScalar=factory(name$q,dependencies$q,N=>{var{typed:u,config:n}=N,a=createCompareUnits({typed:u});return u(name$q,{"boolean, boolean":function(b,h){return b===h},"number, number":function(b,h){return nearlyEqual$1(b,h,n.epsilon)},"BigNumber, BigNumber":function(b,h){return b.eq(h)||nearlyEqual(b,h,n.epsilon)},"Fraction, Fraction":function(b,h){return b.equals(h)},"Complex, Complex":function(b,h){return complexEquals(b,h,n.epsilon)}},a)});factory(name$q,["typed","config"],N=>{var{typed:u,config:n}=N;return u(name$q,{"number, number":function(r,b){return nearlyEqual$1(r,b,n.epsilon)}})});var name$p="SparseMatrix",dependencies$p=["typed","equalScalar","Matrix"],createSparseMatrixClass=factory(name$p,dependencies$p,N=>{var{typed:u,equalScalar:n,Matrix:a}=N;function r(f,x){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(x&&!isString(x))throw new Error("Invalid datatype: "+x);if(isMatrix(f))b(this,f,x);else if(f&&isArray(f.index)&&isArray(f.ptr)&&isArray(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=x||f.datatype;else if(isArray(f))h(this,f,x);else{if(f)throw new TypeError("Unsupported type of data ("+typeOf(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=x}}function b(f,x,g){x.type==="SparseMatrix"?(f._values=x._values?clone$2(x._values):void 0,f._index=clone$2(x._index),f._ptr=clone$2(x._ptr),f._size=clone$2(x._size),f._datatype=g||x._datatype):h(f,x.valueOf(),g||x._datatype)}function h(f,x,g){f._values=[],f._index=[],f._ptr=[],f._datatype=g;var D=x.length,E=0,C=n,T=0;if(isString(g)&&(C=u.find(n,[g,g])||n,T=u.convert(0,g)),D>0){var O=0;do{f._ptr.push(f._index.length);for(var I=0;I<D;I++){var M=x[I];if(isArray(M)){if(O===0&&E<M.length&&(E=M.length),O<M.length){var F=M[O];C(F,T)||(f._values.push(F),f._index.push(I))}}else O===0&&E<1&&(E=1),C(M,T)||(f._values.push(M),f._index.push(I))}O++}while(O<E)}f._ptr.push(f._index.length),f._size=[D,E]}r.prototype=new a,r.prototype.createSparseMatrix=function(f,x){return new r(f,x)},Object.defineProperty(r,"name",{value:"SparseMatrix"}),r.prototype.constructor=r,r.prototype.type="SparseMatrix",r.prototype.isSparseMatrix=!0,r.prototype.getDataType=function(){return getArrayDataType(this._values,typeOf)},r.prototype.storage=function(){return"sparse"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(f,x){return new r(f,x)},r.prototype.density=function(){var f=this._size[0],x=this._size[1];return f!==0&&x!==0?this._index.length/(f*x):0},r.prototype.subset=function(f,x,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return m(this,f);case 2:case 3:return p(this,f,x,g);default:throw new SyntaxError("Wrong number of arguments")}};function m(f,x){if(!isIndex(x))throw new TypeError("Invalid index");var g=x.isScalar();if(g)return f.get(x.min());var D=x.size();if(D.length!==f._size.length)throw new DimensionError(D.length,f._size.length);var E,C,T,O,I=x.min(),M=x.max();for(E=0,C=f._size.length;E<C;E++)validateIndex(I[E],f._size[E]),validateIndex(M[E],f._size[E]);var F=f._values,B=f._index,j=f._ptr,L=x.dimension(0),R=x.dimension(1),V=[],k=[];L.forEach(function(X,Z){k[X]=Z[0],V[X]=!0});var U=F?[]:void 0,G=[],H=[];return R.forEach(function(X){for(H.push(G.length),T=j[X],O=j[X+1];T<O;T++)E=B[T],V[E]===!0&&(G.push(k[E]),U&&U.push(F[T]))}),H.push(G.length),new r({values:U,index:G,ptr:H,size:D,datatype:f._datatype})}function p(f,x,g,D){if(!x||x.isIndex!==!0)throw new TypeError("Invalid index");var E=x.size(),C=x.isScalar(),T;if(isMatrix(g)?(T=g.size(),g=g.toArray()):T=arraySize(g),C){if(T.length!==0)throw new TypeError("Scalar expected");f.set(x.min(),g,D)}else{if(E.length!==1&&E.length!==2)throw new DimensionError(E.length,f._size.length,"<");if(T.length<E.length){for(var O=0,I=0;E[O]===1&&T[O]===1;)O++;for(;E[O]===1;)I++,O++;g=unsqueeze(g,E.length,I,T)}if(!deepStrictEqual(E,T))throw new DimensionError(E,T,">");if(E.length===1){var M=x.dimension(0);M.forEach(function(j,L){validateIndex(j),f.set([j,0],g[L[0]],D)})}else{var F=x.dimension(0),B=x.dimension(1);F.forEach(function(j,L){validateIndex(j),B.forEach(function(R,V){validateIndex(R),f.set([j,R],g[L[0]][V[0]],D)})})}}return f}r.prototype.get=function(f){if(!isArray(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new DimensionError(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var x=f[0],g=f[1];validateIndex(x,this._size[0]),validateIndex(g,this._size[1]);var D=A(x,this._ptr[g],this._ptr[g+1],this._index);return D<this._ptr[g+1]&&this._index[D]===x?this._values[D]:0},r.prototype.set=function(f,x,g){if(!isArray(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new DimensionError(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var D=f[0],E=f[1],C=this._size[0],T=this._size[1],O=n,I=0;isString(this._datatype)&&(O=u.find(n,[this._datatype,this._datatype])||n,I=u.convert(0,this._datatype)),(D>C-1||E>T-1)&&(l(this,Math.max(D+1,C),Math.max(E+1,T),g),C=this._size[0],T=this._size[1]),validateIndex(D,C),validateIndex(E,T);var M=A(D,this._ptr[E],this._ptr[E+1],this._index);return M<this._ptr[E+1]&&this._index[M]===D?O(x,I)?S(M,E,this._values,this._index,this._ptr):this._values[M]=x:O(x,I)||_(M,D,E,x,this._values,this._index,this._ptr),this};function A(f,x,g,D){if(g-x===0)return g;for(var E=x;E<g;E++)if(D[E]===f)return E;return x}function S(f,x,g,D,E){g.splice(f,1),D.splice(f,1);for(var C=x+1;C<E.length;C++)E[C]--}function _(f,x,g,D,E,C,T){E.splice(f,0,D),C.splice(f,0,x);for(var O=g+1;O<T.length;O++)T[O]++}r.prototype.resize=function(f,x,g){if(!isCollection(f))throw new TypeError("Array or Matrix expected");var D=f.valueOf().map(C=>Array.isArray(C)&&C.length===1?C[0]:C);if(D.length!==2)throw new Error("Only two dimensions matrix are supported");D.forEach(function(C){if(!isNumber(C)||!isInteger(C)||C<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format(D)+")")});var E=g?this.clone():this;return l(E,D[0],D[1],x)};function l(f,x,g,D){var E=D||0,C=n,T=0;isString(f._datatype)&&(C=u.find(n,[f._datatype,f._datatype])||n,T=u.convert(0,f._datatype),E=u.convert(E,f._datatype));var O=!C(E,T),I=f._size[0],M=f._size[1],F,B,j;if(g>M){for(B=M;B<g;B++)if(f._ptr[B]=f._values.length,O)for(F=0;F<I;F++)f._values.push(E),f._index.push(F);f._ptr[g]=f._values.length}else g<M&&(f._ptr.splice(g+1,M-g),f._values.splice(f._ptr[g],f._values.length),f._index.splice(f._ptr[g],f._index.length));if(M=g,x>I){if(O){var L=0;for(B=0;B<M;B++){f._ptr[B]=f._ptr[B]+L,j=f._ptr[B+1]+L;var R=0;for(F=I;F<x;F++,R++)f._values.splice(j+R,0,E),f._index.splice(j+R,0,F),L++}f._ptr[M]=f._values.length}}else if(x<I){var V=0;for(B=0;B<M;B++){f._ptr[B]=f._ptr[B]-V;var k=f._ptr[B],U=f._ptr[B+1]-V;for(j=k;j<U;j++)F=f._index[j],F>x-1&&(f._values.splice(j,1),f._index.splice(j,1),V++)}f._ptr[B]=f._values.length}return f._size[0]=x,f._size[1]=g,f}r.prototype.reshape=function(f,x){if(!isArray(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(X){if(!isNumber(X)||!isInteger(X)||X<=-2||X===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+format(f)+")")});var g=this._size[0]*this._size[1];f=processSizesWildcard(f,g);var D=f[0]*f[1];if(g!==D)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var E=x?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return E;for(var C=[],T=0;T<E._ptr.length;T++)for(var O=0;O<E._ptr[T+1]-E._ptr[T];O++)C.push(T);for(var I=E._values.slice(),M=E._index.slice(),F=0;F<E._index.length;F++){var B=M[F],j=C[F],L=B*E._size[1]+j;C[F]=L%f[1],M[F]=Math.floor(L/f[1])}E._values.length=0,E._index.length=0,E._ptr.length=f[1]+1,E._size=f.slice();for(var R=0;R<E._ptr.length;R++)E._ptr[R]=0;for(var V=0;V<I.length;V++){var k=M[V],U=C[V],G=I[V],H=A(k,E._ptr[U],E._ptr[U+1],E._index);_(H,k,U,G,E._values,E._index,E._ptr)}return E},r.prototype.clone=function(){var f=new r({values:this._values?clone$2(this._values):void 0,index:clone$2(this._index),ptr:clone$2(this._ptr),size:clone$2(this._size),datatype:this._datatype});return f},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(f,x){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,D=this._size[0],E=this._size[1],C=maxArgumentCount(f),T=function(I,M,F){return C===1?f(I):C===2?f(I,[M,F]):f(I,[M,F],g)};return y(this,0,D-1,0,E-1,T,x)};function y(f,x,g,D,E,C,T){var O=[],I=[],M=[],F=n,B=0;isString(f._datatype)&&(F=u.find(n,[f._datatype,f._datatype])||n,B=u.convert(0,f._datatype));for(var j=function($,W,Q){$=C($,W,Q),F($,B)||(O.push($),I.push(W))},L=D;L<=E;L++){M.push(O.length);var R=f._ptr[L],V=f._ptr[L+1];if(T)for(var k=R;k<V;k++){var U=f._index[k];U>=x&&U<=g&&j(f._values[k],U-x,L-D)}else{for(var G={},H=R;H<V;H++){var X=f._index[H];G[X]=f._values[H]}for(var Z=x;Z<=g;Z++){var J=Z in G?G[Z]:0;j(J,Z-x,L-D)}}}return M.push(O.length),new r({values:O,index:I,ptr:M,size:[g-x+1,E-D+1]})}r.prototype.forEach=function(f,x){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,D=this._size[0],E=this._size[1],C=0;C<E;C++){var T=this._ptr[C],O=this._ptr[C+1];if(x)for(var I=T;I<O;I++){var M=this._index[I];f(this._values[I],[M,C],g)}else{for(var F={},B=T;B<O;B++){var j=this._index[B];F[j]=this._values[B]}for(var L=0;L<D;L++){var R=L in F?F[L]:0;f(R,[L,C],g)}}}},r.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],x=0;x<f;x++)for(var g=this._ptr[x],D=this._ptr[x+1],E=g;E<D;E++){var C=this._index[E];yield{value:this._values[E],index:[C,x]}}},r.prototype.toArray=function(){return o(this._values,this._index,this._ptr,this._size,!0)},r.prototype.valueOf=function(){return o(this._values,this._index,this._ptr,this._size,!1)};function o(f,x,g,D,E){var C=D[0],T=D[1],O=[],I,M;for(I=0;I<C;I++)for(O[I]=[],M=0;M<T;M++)O[I][M]=0;for(M=0;M<T;M++)for(var F=g[M],B=g[M+1],j=F;j<B;j++)I=x[j],O[I][M]=f?E?clone$2(f[j]):f[j]:1;return O}return r.prototype.format=function(f){for(var x=this._size[0],g=this._size[1],D=this.density(),E="Sparse Matrix ["+format(x,f)+" x "+format(g,f)+"] density: "+format(D,f)+`
`,C=0;C<g;C++)for(var T=this._ptr[C],O=this._ptr[C+1],I=T;I<O;I++){var M=this._index[I];E+=`
    (`+format(M,f)+", "+format(C,f)+") ==> "+(this._values?format(this._values[I],f):"X")}return E},r.prototype.toString=function(){return format(this.toArray())},r.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(f){if(f){if(isBigNumber(f)&&(f=f.toNumber()),!isNumber(f)||!isInteger(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var x=f>0?f:0,g=f<0?-f:0,D=this._size[0],E=this._size[1],C=Math.min(D-g,E-x),T=[],O=[],I=[];I[0]=0;for(var M=x;M<E&&T.length<C;M++)for(var F=this._ptr[M],B=this._ptr[M+1],j=F;j<B;j++){var L=this._index[j];if(L===M-x+g){T.push(this._values[j]),O[T.length-1]=L-g;break}}return I.push(T.length),new r({values:T,index:O,ptr:I,size:[C,1]})},r.fromJSON=function(f){return new r(f)},r.diagonal=function(f,x,g,D,E){if(!isArray(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(X){if(isBigNumber(X)&&(X=X.toNumber()),!isNumber(X)||!isInteger(X)||X<1)throw new Error("Size values must be positive integers");return X}),g){if(isBigNumber(g)&&(g=g.toNumber()),!isNumber(g)||!isInteger(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var C=n,T=0;isString(E)&&(C=u.find(n,[E,E])||n,T=u.convert(0,E));var O=g>0?g:0,I=g<0?-g:0,M=f[0],F=f[1],B=Math.min(M-I,F-O),j;if(isArray(x)){if(x.length!==B)throw new Error("Invalid value array length");j=function(Z){return x[Z]}}else if(isMatrix(x)){var L=x.size();if(L.length!==1||L[0]!==B)throw new Error("Invalid matrix length");j=function(Z){return x.get([Z])}}else j=function(){return x};for(var R=[],V=[],k=[],U=0;U<F;U++){k.push(R.length);var G=U-O;if(G>=0&&G<B){var H=j(G);C(H,T)||(V.push(G+I),R.push(H))}}return k.push(R.length),new r({values:R,index:V,ptr:k,size:[M,F]})},r.prototype.swapRows=function(f,x){if(!isNumber(f)||!isInteger(f)||!isNumber(x)||!isInteger(x))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return validateIndex(f,this._size[0]),validateIndex(x,this._size[0]),r._swapRows(f,x,this._size[1],this._values,this._index,this._ptr),this},r._forEachRow=function(f,x,g,D,E){for(var C=D[f],T=D[f+1],O=C;O<T;O++)E(g[O],x[O])},r._swapRows=function(f,x,g,D,E,C){for(var T=0;T<g;T++){var O=C[T],I=C[T+1],M=A(f,O,I,E),F=A(x,O,I,E);if(M<I&&F<I&&E[M]===f&&E[F]===x){if(D){var B=D[M];D[M]=D[F],D[F]=B}continue}if(M<I&&E[M]===f&&(F>=I||E[F]!==x)){var j=D?D[M]:void 0;E.splice(F,0,x),D&&D.splice(F,0,j),E.splice(F<=M?M+1:M,1),D&&D.splice(F<=M?M+1:M,1);continue}if(F<I&&E[F]===x&&(M>=I||E[M]!==f)){var L=D?D[F]:void 0;E.splice(M,0,f),D&&D.splice(M,0,L),E.splice(M<=F?F+1:F,1),D&&D.splice(M<=F?F+1:F,1)}}},r},{isClass:!0}),name$o="number",dependencies$o=["typed"];function getNonDecimalNumberParts(N){var u=N.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(u){var n={"0b":2,"0o":8,"0x":16}[u[1]],a=u[2],r=u[3];return{input:N,radix:n,integerPart:a,fractionalPart:r}}else return null}function makeNumberFromNonDecimalParts(N){for(var u=parseInt(N.integerPart,N.radix),n=0,a=0;a<N.fractionalPart.length;a++){var r=parseInt(N.fractionalPart[a],N.radix);n+=r/Math.pow(N.radix,a+1)}var b=u+n;if(isNaN(b))throw new SyntaxError('String "'+N.input+'" is not a valid number');return b}var createNumber=factory(name$o,dependencies$o,N=>{var{typed:u}=N,n=u("number",{"":function(){return 0},number:function(r){return r},string:function(r){if(r==="NaN")return NaN;var b=getNonDecimalNumberParts(r);if(b)return makeNumberFromNonDecimalParts(b);var h=0,m=r.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);m&&(h=Number(m[2]),r=m[1]);var p=Number(r);if(isNaN(p))throw new SyntaxError('String "'+r+'" is not a valid number');if(m){if(p>2**h-1)throw new SyntaxError('String "'.concat(r,'" is out of range'));p>=2**(h-1)&&(p=p-2**h)}return p},BigNumber:function(r){return r.toNumber()},Fraction:function(r){return r.valueOf()},Unit:u.referToSelf(a=>r=>{var b=r.clone();return b.value=a(r.value),b}),null:function(r){return 0},"Unit, string | Unit":function(r,b){return r.toNumber(b)},"Array | Matrix":u.referToSelf(a=>r=>deepMap(r,a))});return n.fromJSON=function(a){return parseFloat(a.value)},n}),name$n="bignumber",dependencies$n=["typed","BigNumber"],createBignumber=factory(name$n,dependencies$n,N=>{var{typed:u,BigNumber:n}=N;return u("bignumber",{"":function(){return new n(0)},number:function(r){return new n(r+"")},string:function(r){var b=r.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(b){var h=b[2],m=n(b[1]),p=new n(2).pow(Number(h));if(m.gt(p.sub(1)))throw new SyntaxError('String "'.concat(r,'" is out of range'));var A=new n(2).pow(Number(h)-1);return m.gte(A)?m.sub(p):m}return new n(r)},BigNumber:function(r){return r},Unit:u.referToSelf(a=>r=>{var b=r.clone();return b.value=a(r.value),b}),Fraction:function(r){return new n(r.n).div(r.d).times(r.s)},null:function(r){return new n(0)},"Array | Matrix":u.referToSelf(a=>r=>deepMap(r,a))})}),name$m="complex",dependencies$m=["typed","Complex"],createComplex=factory(name$m,dependencies$m,N=>{var{typed:u,Complex:n}=N;return u("complex",{"":function(){return n.ZERO},number:function(r){return new n(r,0)},"number, number":function(r,b){return new n(r,b)},"BigNumber, BigNumber":function(r,b){return new n(r.toNumber(),b.toNumber())},Fraction:function(r){return new n(r.valueOf(),0)},Complex:function(r){return r.clone()},string:function(r){return n(r)},null:function(r){return n(0)},Object:function(r){if("re"in r&&"im"in r)return new n(r.re,r.im);if("r"in r&&"phi"in r||"abs"in r&&"arg"in r)return new n(r);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":u.referToSelf(a=>r=>deepMap(r,a))})}),name$l="fraction",dependencies$l=["typed","Fraction"],createFraction=factory(name$l,dependencies$l,N=>{var{typed:u,Fraction:n}=N;return u("fraction",{number:function(r){if(!isFinite(r)||isNaN(r))throw new Error(r+" cannot be represented as a fraction");return new n(r)},string:function(r){return new n(r)},"number, number":function(r,b){return new n(r,b)},null:function(r){return new n(0)},BigNumber:function(r){return new n(r.toString())},Fraction:function(r){return r},Unit:u.referToSelf(a=>r=>{var b=r.clone();return b.value=a(r.value),b}),Object:function(r){return new n(r)},"Array | Matrix":u.referToSelf(a=>r=>deepMap(r,a))})}),name$k="matrix",dependencies$k=["typed","Matrix","DenseMatrix","SparseMatrix"],createMatrix=factory(name$k,dependencies$k,N=>{var{typed:u,Matrix:n,DenseMatrix:a,SparseMatrix:r}=N;return u(name$k,{"":function(){return b([])},string:function(m){return b([],m)},"string, string":function(m,p){return b([],m,p)},Array:function(m){return b(m)},Matrix:function(m){return b(m,m.storage())},"Array | Matrix, string":b,"Array | Matrix, string, string":b});function b(h,m,p){if(m==="dense"||m==="default"||m===void 0)return new a(h,p);if(m==="sparse")return new r(h,p);throw new TypeError("Unknown matrix type "+JSON.stringify(m)+".")}}),name$j="unaryMinus",dependencies$j=["typed"],createUnaryMinus=factory(name$j,dependencies$j,N=>{var{typed:u}=N;return u(name$j,{number:unaryMinusNumber,"Complex | BigNumber | Fraction":n=>n.neg(),Unit:u.referToSelf(n=>a=>{var r=a.clone();return r.value=u.find(n,r.valueType())(a.value),r}),"Array | Matrix":u.referToSelf(n=>a=>deepMap(a,n))})}),name$i="abs",dependencies$i=["typed"],createAbs=factory(name$i,dependencies$i,N=>{var{typed:u}=N;return u(name$i,{number:absNumber,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),"Array | Matrix":u.referToSelf(n=>a=>deepMap(a,n))})}),name$h="addScalar",dependencies$h=["typed"],createAddScalar=factory(name$h,dependencies$h,N=>{var{typed:u}=N;return u(name$h,{"number, number":addNumber,"Complex, Complex":function(a,r){return a.add(r)},"BigNumber, BigNumber":function(a,r){return a.plus(r)},"Fraction, Fraction":function(a,r){return a.add(r)},"Unit, Unit":u.referToSelf(n=>(a,r)=>{if(a.value===null||a.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(r.value===null||r.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(r))throw new Error("Units do not match");var b=a.clone();return b.value=u.find(n,[b.valueType(),r.valueType()])(b.value,r.value),b.fixPrefix=!1,b})})}),name$g="subtractScalar",dependencies$g=["typed"],createSubtractScalar=factory(name$g,dependencies$g,N=>{var{typed:u}=N;return u(name$g,{"number, number":subtractNumber,"Complex, Complex":function(a,r){return a.sub(r)},"BigNumber, BigNumber":function(a,r){return a.minus(r)},"Fraction, Fraction":function(a,r){return a.sub(r)},"Unit, Unit":u.referToSelf(n=>(a,r)=>{if(a.value===null||a.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(r.value===null||r.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(r))throw new Error("Units do not match");var b=a.clone();return b.value=u.find(n,[b.valueType(),r.valueType()])(b.value,r.value),b.fixPrefix=!1,b})})}),name$f="matAlgo11xS0s",dependencies$f=["typed","equalScalar"],createMatAlgo11xS0s=factory(name$f,dependencies$f,N=>{var{typed:u,equalScalar:n}=N;return function(r,b,h,m){var p=r._values,A=r._index,S=r._ptr,_=r._size,l=r._datatype;if(!p)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var y=_[0],o=_[1],f,x=n,g=0,D=h;typeof l=="string"&&(f=l,x=u.find(n,[f,f]),g=u.convert(0,f),b=u.convert(b,f),D=u.find(h,[f,f]));for(var E=[],C=[],T=[],O=0;O<o;O++){T[O]=C.length;for(var I=S[O],M=S[O+1],F=I;F<M;F++){var B=A[F],j=m?D(b,p[F]):D(p[F],b);x(j,g)||(C.push(B),E.push(j))}}return T[o]=C.length,r.createSparseMatrix({values:E,index:C,ptr:T,size:[y,o],datatype:f})}}),name$e="matAlgo12xSfs",dependencies$e=["typed","DenseMatrix"],createMatAlgo12xSfs=factory(name$e,dependencies$e,N=>{var{typed:u,DenseMatrix:n}=N;return function(r,b,h,m){var p=r._values,A=r._index,S=r._ptr,_=r._size,l=r._datatype;if(!p)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var y=_[0],o=_[1],f,x=h;typeof l=="string"&&(f=l,b=u.convert(b,f),x=u.find(h,[f,f]));for(var g=[],D=[],E=[],C=0;C<o;C++){for(var T=C+1,O=S[C],I=S[C+1],M=O;M<I;M++){var F=A[M];D[F]=p[M],E[F]=T}for(var B=0;B<y;B++)C===0&&(g[B]=[]),E[B]===T?g[B][C]=m?x(b,D[B]):x(D[B],b):g[B][C]=m?x(b,0):x(0,b)}return new n({data:g,size:[y,o],datatype:f})}}),name$d="matAlgo14xDs",dependencies$d=["typed"],createMatAlgo14xDs=factory(name$d,dependencies$d,N=>{var{typed:u}=N;return function(r,b,h,m){var p=r._data,A=r._size,S=r._datatype,_,l=h;typeof S=="string"&&(_=S,b=u.convert(b,_),l=u.find(h,[_,_]));var y=A.length>0?n(l,0,A,A[0],p,b,m):[];return r.createDenseMatrix({data:y,size:clone$2(A),datatype:_})};function n(a,r,b,h,m,p,A){var S=[];if(r===b.length-1)for(var _=0;_<h;_++)S[_]=A?a(p,m[_]):a(m[_],p);else for(var l=0;l<h;l++)S[l]=n(a,r+1,b,b[r+1],m[l],p,A);return S}}),name$c="multiplyScalar",dependencies$c=["typed"],createMultiplyScalar=factory(name$c,dependencies$c,N=>{var{typed:u}=N;return u("multiplyScalar",{"number, number":multiplyNumber,"Complex, Complex":function(a,r){return a.mul(r)},"BigNumber, BigNumber":function(a,r){return a.times(r)},"Fraction, Fraction":function(a,r){return a.mul(r)},"number | Fraction | BigNumber | Complex, Unit":(n,a)=>a.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,a)=>n.multiply(a)})}),name$b="multiply",dependencies$b=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],createMultiply=factory(name$b,dependencies$b,N=>{var{typed:u,matrix:n,addScalar:a,multiplyScalar:r,equalScalar:b,dot:h}=N,m=createMatAlgo11xS0s({typed:u,equalScalar:b}),p=createMatAlgo14xDs({typed:u});function A(T,O){switch(T.length){case 1:switch(O.length){case 1:if(T[0]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(T[0]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+T[0]+") must match Matrix rows ("+O[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+O.length+" dimensions)")}break;case 2:switch(O.length){case 1:if(T[1]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+T[1]+") must match Vector length ("+O[0]+")");break;case 2:if(T[1]!==O[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+T[1]+") must match Matrix B rows ("+O[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+O.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+T.length+" dimensions)")}}function S(T,O,I){if(I===0)throw new Error("Cannot multiply two empty vectors");return h(T,O)}function _(T,O){if(O.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return l(T,O)}function l(T,O){var I=T._data,M=T._size,F=T._datatype||T.getDataType(),B=O._data,j=O._size,L=O._datatype||O.getDataType(),R=M[0],V=j[1],k,U=a,G=r;F&&L&&F===L&&typeof F=="string"&&F!=="mixed"&&(k=F,U=u.find(a,[k,k]),G=u.find(r,[k,k]));for(var H=[],X=0;X<V;X++){for(var Z=G(I[0],B[0][X]),J=1;J<R;J++)Z=U(Z,G(I[J],B[J][X]));H[X]=Z}return T.createDenseMatrix({data:H,size:[V],datatype:F===T._datatype&&L===O._datatype?k:void 0})}var y=u("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":D}),o=u("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":x,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":E,"SparseMatrix, SparseMatrix":C});function f(T,O){var I=T._data,M=T._size,F=T._datatype||T.getDataType(),B=O._data,j=O._datatype||O.getDataType(),L=M[0],R=M[1],V,k=a,U=r;F&&j&&F===j&&typeof F=="string"&&F!=="mixed"&&(V=F,k=u.find(a,[V,V]),U=u.find(r,[V,V]));for(var G=[],H=0;H<L;H++){for(var X=I[H],Z=U(X[0],B[0]),J=1;J<R;J++)Z=k(Z,U(X[J],B[J]));G[H]=Z}return T.createDenseMatrix({data:G,size:[L],datatype:F===T._datatype&&j===O._datatype?V:void 0})}function x(T,O){var I=T._data,M=T._size,F=T._datatype||T.getDataType(),B=O._data,j=O._size,L=O._datatype||O.getDataType(),R=M[0],V=M[1],k=j[1],U,G=a,H=r;F&&L&&F===L&&typeof F=="string"&&F!=="mixed"&&F!=="mixed"&&(U=F,G=u.find(a,[U,U]),H=u.find(r,[U,U]));for(var X=[],Z=0;Z<R;Z++){var J=I[Z];X[Z]=[];for(var ee=0;ee<k;ee++){for(var $=H(J[0],B[0][ee]),W=1;W<V;W++)$=G($,H(J[W],B[W][ee]));X[Z][ee]=$}}return T.createDenseMatrix({data:X,size:[R,k],datatype:F===T._datatype&&L===O._datatype?U:void 0})}function g(T,O){var I=T._data,M=T._size,F=T._datatype||T.getDataType(),B=O._values,j=O._index,L=O._ptr,R=O._size,V=O._datatype||O._data===void 0?O._datatype:O.getDataType();if(!B)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var k=M[0],U=R[1],G,H=a,X=r,Z=b,J=0;F&&V&&F===V&&typeof F=="string"&&F!=="mixed"&&(G=F,H=u.find(a,[G,G]),X=u.find(r,[G,G]),Z=u.find(b,[G,G]),J=u.convert(0,G));for(var ee=[],$=[],W=[],Q=O.createSparseMatrix({values:ee,index:$,ptr:W,size:[k,U],datatype:F===T._datatype&&V===O._datatype?G:void 0}),te=0;te<U;te++){W[te]=$.length;var ce=L[te],oe=L[te+1];if(oe>ce)for(var ue=0,we=0;we<k;we++){for(var le=we+1,fe=void 0,ve=ce;ve<oe;ve++){var pe=j[ve];ue!==le?(fe=X(I[we][pe],B[ve]),ue=le):fe=H(fe,X(I[we][pe],B[ve]))}ue===le&&!Z(fe,J)&&($.push(we),ee.push(fe))}}return W[U]=$.length,Q}function D(T,O){var I=T._values,M=T._index,F=T._ptr,B=T._datatype||T._data===void 0?T._datatype:T.getDataType();if(!I)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var j=O._data,L=O._datatype||O.getDataType(),R=T._size[0],V=O._size[0],k=[],U=[],G=[],H,X=a,Z=r,J=b,ee=0;B&&L&&B===L&&typeof B=="string"&&B!=="mixed"&&(H=B,X=u.find(a,[H,H]),Z=u.find(r,[H,H]),J=u.find(b,[H,H]),ee=u.convert(0,H));var $=[],W=[];G[0]=0;for(var Q=0;Q<V;Q++){var te=j[Q];if(!J(te,ee))for(var ce=F[Q],oe=F[Q+1],ue=ce;ue<oe;ue++){var we=M[ue];W[we]?$[we]=X($[we],Z(te,I[ue])):(W[we]=!0,U.push(we),$[we]=Z(te,I[ue]))}}for(var le=U.length,fe=0;fe<le;fe++){var ve=U[fe];k[fe]=$[ve]}return G[1]=U.length,T.createSparseMatrix({values:k,index:U,ptr:G,size:[R,1],datatype:B===T._datatype&&L===O._datatype?H:void 0})}function E(T,O){var I=T._values,M=T._index,F=T._ptr,B=T._datatype||T._data===void 0?T._datatype:T.getDataType();if(!I)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var j=O._data,L=O._datatype||O.getDataType(),R=T._size[0],V=O._size[0],k=O._size[1],U,G=a,H=r,X=b,Z=0;B&&L&&B===L&&typeof B=="string"&&B!=="mixed"&&(U=B,G=u.find(a,[U,U]),H=u.find(r,[U,U]),X=u.find(b,[U,U]),Z=u.convert(0,U));for(var J=[],ee=[],$=[],W=T.createSparseMatrix({values:J,index:ee,ptr:$,size:[R,k],datatype:B===T._datatype&&L===O._datatype?U:void 0}),Q=[],te=[],ce=0;ce<k;ce++){$[ce]=ee.length;for(var oe=ce+1,ue=0;ue<V;ue++){var we=j[ue][ce];if(!X(we,Z))for(var le=F[ue],fe=F[ue+1],ve=le;ve<fe;ve++){var pe=M[ve];te[pe]!==oe?(te[pe]=oe,ee.push(pe),Q[pe]=H(we,I[ve])):Q[pe]=G(Q[pe],H(we,I[ve]))}}for(var ye=$[ce],Ae=ee.length,be=ye;be<Ae;be++){var ne=ee[be];J[be]=Q[ne]}}return $[k]=ee.length,W}function C(T,O){var I=T._values,M=T._index,F=T._ptr,B=T._datatype||T._data===void 0?T._datatype:T.getDataType(),j=O._values,L=O._index,R=O._ptr,V=O._datatype||O._data===void 0?O._datatype:O.getDataType(),k=T._size[0],U=O._size[1],G=I&&j,H,X=a,Z=r;B&&V&&B===V&&typeof B=="string"&&B!=="mixed"&&(H=B,X=u.find(a,[H,H]),Z=u.find(r,[H,H]));for(var J=G?[]:void 0,ee=[],$=[],W=T.createSparseMatrix({values:J,index:ee,ptr:$,size:[k,U],datatype:B===T._datatype&&V===O._datatype?H:void 0}),Q=G?[]:void 0,te=[],ce,oe,ue,we,le,fe,ve,pe,ye=0;ye<U;ye++){$[ye]=ee.length;var Ae=ye+1;for(le=R[ye],fe=R[ye+1],we=le;we<fe;we++)if(pe=L[we],G)for(oe=F[pe],ue=F[pe+1],ce=oe;ce<ue;ce++)ve=M[ce],te[ve]!==Ae?(te[ve]=Ae,ee.push(ve),Q[ve]=Z(j[we],I[ce])):Q[ve]=X(Q[ve],Z(j[we],I[ce]));else for(oe=F[pe],ue=F[pe+1],ce=oe;ce<ue;ce++)ve=M[ce],te[ve]!==Ae&&(te[ve]=Ae,ee.push(ve));if(G)for(var be=$[ye],ne=ee.length,re=be;re<ne;re++){var de=ee[re];J[re]=Q[de]}}return $[U]=ee.length,W}return u(name$b,r,{"Array, Array":u.referTo("Matrix, Matrix",T=>(O,I)=>{A(arraySize(O),arraySize(I));var M=T(n(O),n(I));return isMatrix(M)?M.valueOf():M}),"Matrix, Matrix":function(O,I){var M=O.size(),F=I.size();return A(M,F),M.length===1?F.length===1?S(O,I,M[0]):_(O,I):F.length===1?y(O,I):o(O,I)},"Matrix, Array":u.referTo("Matrix,Matrix",T=>(O,I)=>T(O,n(I))),"Array, Matrix":u.referToSelf(T=>(O,I)=>T(n(O,I.storage()),I)),"SparseMatrix, any":function(O,I){return m(O,I,r,!1)},"DenseMatrix, any":function(O,I){return p(O,I,r,!1)},"any, SparseMatrix":function(O,I){return m(I,O,r,!0)},"any, DenseMatrix":function(O,I){return p(I,O,r,!0)},"Array, any":function(O,I){return p(n(O),I,r,!1).valueOf()},"any, Array":function(O,I){return p(n(I),O,r,!0).valueOf()},"any, any":r,"any, any, ...any":u.referToSelf(T=>(O,I,M)=>{for(var F=T(O,I),B=0;B<M.length;B++)F=T(F,M[B]);return F})})}),name$a="conj",dependencies$a=["typed"],createConj=factory(name$a,dependencies$a,N=>{var{typed:u}=N;return u(name$a,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":u.referToSelf(n=>a=>deepMap(a,n))})}),name$9="identity",dependencies$9=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],createIdentity=factory(name$9,dependencies$9,N=>{var{typed:u,config:n,matrix:a,BigNumber:r,DenseMatrix:b,SparseMatrix:h}=N;return u(name$9,{"":function(){return n.matrix==="Matrix"?a([]):[]},string:function(S){return a(S)},"number | BigNumber":function(S){return p(S,S,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(S,_){return p(S,S,_)},"number | BigNumber, number | BigNumber":function(S,_){return p(S,_,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(S,_,l){return p(S,_,l)},Array:function(S){return m(S)},"Array, string":function(S,_){return m(S,_)},Matrix:function(S){return m(S.valueOf(),S.storage())},"Matrix, string":function(S,_){return m(S.valueOf(),_)}});function m(A,S){switch(A.length){case 0:return S?a(S):[];case 1:return p(A[0],A[0],S);case 2:return p(A[0],A[1],S);default:throw new Error("Vector containing two values expected")}}function p(A,S,_){var l=isBigNumber(A)||isBigNumber(S)?r:null;if(isBigNumber(A)&&(A=A.toNumber()),isBigNumber(S)&&(S=S.toNumber()),!isInteger(A)||A<1)throw new Error("Parameters in function identity must be positive integers");if(!isInteger(S)||S<1)throw new Error("Parameters in function identity must be positive integers");var y=l?new r(1):1,o=l?new l(0):0,f=[A,S];if(_){if(_==="sparse")return h.diagonal(f,y,0,o);if(_==="dense")return b.diagonal(f,y,0,o);throw new TypeError('Unknown matrix type "'.concat(_,'"'))}for(var x=resize([],f,o),g=A<S?A:S,D=0;D<g;D++)x[D][D]=y;return x}});function noBignumber(){throw new Error('No "bignumber" implementation available')}function noFraction(){throw new Error('No "fraction" implementation available')}function noMatrix(){throw new Error('No "matrix" implementation available')}var name$8="size",dependencies$8=["typed","config","?matrix"],createSize=factory(name$8,dependencies$8,N=>{var{typed:u,config:n,matrix:a}=N;return u(name$8,{Matrix:function(b){return b.create(b.size())},Array:arraySize,string:function(b){return n.matrix==="Array"?[b.length]:a([b.length])},"number | Complex | BigNumber | Unit | boolean | null":function(b){return n.matrix==="Array"?[]:a?a([]):noMatrix()}})}),name$7="zeros",dependencies$7=["typed","config","matrix","BigNumber"],createZeros=factory(name$7,dependencies$7,N=>{var{typed:u,config:n,matrix:a,BigNumber:r}=N;return u(name$7,{"":function(){return n.matrix==="Array"?b([]):b([],"default")},"...number | BigNumber | string":function(A){var S=A[A.length-1];if(typeof S=="string"){var _=A.pop();return b(A,_)}else return n.matrix==="Array"?b(A):b(A,"default")},Array:b,Matrix:function(A){var S=A.storage();return b(A.valueOf(),S)},"Array | Matrix, string":function(A,S){return b(A.valueOf(),S)}});function b(p,A){var S=h(p),_=S?new r(0):0;if(m(p),A){var l=a(A);return p.length>0?l.resize(p,_):l}else{var y=[];return p.length>0?resize(y,p,_):y}}function h(p){var A=!1;return p.forEach(function(S,_,l){isBigNumber(S)&&(A=!0,l[_]=S.toNumber())}),A}function m(p){p.forEach(function(A){if(typeof A!="number"||!isInteger(A)||A<0)throw new Error("Parameters in function zeros must be positive integers")})}}),name$6="numeric",dependencies$6=["number","?bignumber","?fraction"],createNumeric=factory(name$6,dependencies$6,N=>{var{number:u,bignumber:n,fraction:a}=N,r={string:!0,number:!0,BigNumber:!0,Fraction:!0},b={number:h=>u(h),BigNumber:n?h=>n(h):noBignumber,Fraction:a?h=>a(h):noFraction};return function(m){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",A=arguments.length>2?arguments[2]:void 0;if(A!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var S=typeOf(m);if(!(S in r))throw new TypeError("Cannot convert "+m+' of type "'+S+'"; valid input types are '+Object.keys(r).join(", "));if(!(p in b))throw new TypeError("Cannot convert "+m+' to type "'+p+'"; valid output types are '+Object.keys(b).join(", "));return p===S?m:b[p](m)}}),name$5="divideScalar",dependencies$5=["typed","numeric"],createDivideScalar=factory(name$5,dependencies$5,N=>{var{typed:u,numeric:n}=N;return u(name$5,{"number, number":function(r,b){return r/b},"Complex, Complex":function(r,b){return r.div(b)},"BigNumber, BigNumber":function(r,b){return r.div(b)},"Fraction, Fraction":function(r,b){return r.div(b)},"Unit, number | Complex | Fraction | BigNumber | Unit":(a,r)=>a.divide(r),"number | Fraction | Complex | BigNumber, Unit":(a,r)=>r.divideInto(a)})}),name$4="pow",dependencies$4=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],createPow=factory(name$4,dependencies$4,N=>{var{typed:u,config:n,identity:a,multiply:r,matrix:b,inv:h,number:m,fraction:p,Complex:A}=N;return u(name$4,{"number, number":S,"Complex, Complex":function(o,f){return o.pow(f)},"BigNumber, BigNumber":function(o,f){return f.isInteger()||o>=0||n.predictable?o.pow(f):new A(o.toNumber(),0).pow(f.toNumber(),0)},"Fraction, Fraction":function(o,f){var x=o.pow(f);if(x!=null)return x;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return S(o.valueOf(),f.valueOf())},"Array, number":_,"Array, BigNumber":function(o,f){return _(o,f.toNumber())},"Matrix, number":l,"Matrix, BigNumber":function(o,f){return l(o,f.toNumber())},"Unit, number | BigNumber":function(o,f){return o.pow(f)}});function S(y,o){if(n.predictable&&!isInteger(o)&&y<0)try{var f=p(o),x=m(f);if((o===x||Math.abs((o-x)/o)<1e-14)&&f.d%2===1)return(f.n%2===0?1:-1)*Math.pow(-y,o)}catch{}return n.predictable&&(y<-1&&o===1/0||y>-1&&y<0&&o===-1/0)?NaN:isInteger(o)||y>=0||n.predictable?powNumber(y,o):y*y<1&&o===1/0||y*y>1&&o===-1/0?0:new A(y,0).pow(o,0)}function _(y,o){if(!isInteger(o))throw new TypeError("For A^b, b must be an integer (value is "+o+")");var f=arraySize(y);if(f.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+f.length+" dimensions)");if(f[0]!==f[1])throw new Error("For A^b, A must be square (size is "+f[0]+"x"+f[1]+")");if(o<0)try{return _(h(y),-o)}catch(D){throw D.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+o+")"):D}for(var x=a(f[0]).valueOf(),g=y;o>=1;)(o&1)===1&&(x=r(g,x)),o>>=1,g=r(g,g);return x}function l(y,o){return b(_(y.valueOf(),o))}}),NO_INT="Number of decimals in function round must be an integer",name$3="round",dependencies$3=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],createRound=factory(name$3,dependencies$3,N=>{var{typed:u,config:n,matrix:a,equalScalar:r,zeros:b,BigNumber:h,DenseMatrix:m}=N,p=createMatAlgo11xS0s({typed:u,equalScalar:r}),A=createMatAlgo12xSfs({typed:u,DenseMatrix:m}),S=createMatAlgo14xDs({typed:u});function _(l){return Math.abs(splitNumber(l).exponent)}return u(name$3,{number:function(y){var o=roundNumber(y,_(n.epsilon)),f=nearlyEqual$1(y,o,n.epsilon)?o:y;return roundNumber(f)},"number, number":function(y,o){var f=_(n.epsilon);if(o>=f)return roundNumber(y,o);var x=roundNumber(y,f),g=nearlyEqual$1(y,x,n.epsilon)?x:y;return roundNumber(g,o)},"number, BigNumber":function(y,o){if(!o.isInteger())throw new TypeError(NO_INT);return new h(y).toDecimalPlaces(o.toNumber())},Complex:function(y){return y.round()},"Complex, number":function(y,o){if(o%1)throw new TypeError(NO_INT);return y.round(o)},"Complex, BigNumber":function(y,o){if(!o.isInteger())throw new TypeError(NO_INT);var f=o.toNumber();return y.round(f)},BigNumber:function(y){var o=new h(y).toDecimalPlaces(_(n.epsilon)),f=nearlyEqual(y,o,n.epsilon)?o:y;return f.toDecimalPlaces(0)},"BigNumber, BigNumber":function(y,o){if(!o.isInteger())throw new TypeError(NO_INT);var f=_(n.epsilon);if(o>=f)return y.toDecimalPlaces(o.toNumber());var x=y.toDecimalPlaces(f),g=nearlyEqual(y,x,n.epsilon)?x:y;return g.toDecimalPlaces(o.toNumber())},Fraction:function(y){return y.round()},"Fraction, number":function(y,o){if(o%1)throw new TypeError(NO_INT);return y.round(o)},"Fraction, BigNumber":function(y,o){if(!o.isInteger())throw new TypeError(NO_INT);return y.round(o.toNumber())},"Unit, number, Unit":u.referToSelf(l=>function(y,o,f){var x=y.toNumeric(f);return f.multiply(l(x,o))}),"Unit, BigNumber, Unit":u.referToSelf(l=>(y,o,f)=>l(y,o.toNumber(),f)),"Unit, Unit":u.referToSelf(l=>(y,o)=>l(y,0,o)),"Array | Matrix, number, Unit":u.referToSelf(l=>(y,o,f)=>deepMap(y,x=>l(x,o,f))),"Array | Matrix, BigNumber, Unit":u.referToSelf(l=>(y,o,f)=>l(y,o.toNumber(),f)),"Array | Matrix, Unit":u.referToSelf(l=>(y,o)=>l(y,0,o)),"Array | Matrix":u.referToSelf(l=>y=>deepMap(y,l)),"SparseMatrix, number | BigNumber":u.referToSelf(l=>(y,o)=>p(y,o,l,!1)),"DenseMatrix, number | BigNumber":u.referToSelf(l=>(y,o)=>S(y,o,l,!1)),"Array, number | BigNumber":u.referToSelf(l=>(y,o)=>S(a(y),o,l,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":u.referToSelf(l=>(y,o)=>r(y,0)?b(o.size(),o.storage()):A(o,y,l,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":u.referToSelf(l=>(y,o)=>r(y,0)?b(o.size(),o.storage()):S(o,y,l,!0)),"number | Complex | BigNumber | Fraction, Array":u.referToSelf(l=>(y,o)=>S(a(o),y,l,!0).valueOf())})}),name$2="dot",dependencies$2=["typed","addScalar","multiplyScalar","conj","size"],createDot=factory(name$2,dependencies$2,N=>{var{typed:u,addScalar:n,multiplyScalar:a,conj:r,size:b}=N;return u(name$2,{"Array | DenseMatrix, Array | DenseMatrix":m,"SparseMatrix, SparseMatrix":p});function h(S,_){var l=A(S),y=A(_),o,f;if(l.length===1)o=l[0];else if(l.length===2&&l[1]===1)o=l[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+l.join(", ")+")");if(y.length===1)f=y[0];else if(y.length===2&&y[1]===1)f=y[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+y.join(", ")+")");if(o!==f)throw new RangeError("Vectors must have equal length ("+o+" != "+f+")");if(o===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return o}function m(S,_){var l=h(S,_),y=isMatrix(S)?S._data:S,o=isMatrix(S)?S._datatype||S.getDataType():void 0,f=isMatrix(_)?_._data:_,x=isMatrix(_)?_._datatype||_.getDataType():void 0,g=A(S).length===2,D=A(_).length===2,E=n,C=a;if(o&&x&&o===x&&typeof o=="string"&&o!=="mixed"){var T=o;E=u.find(n,[T,T]),C=u.find(a,[T,T])}if(!g&&!D){for(var O=C(r(y[0]),f[0]),I=1;I<l;I++)O=E(O,C(r(y[I]),f[I]));return O}if(!g&&D){for(var M=C(r(y[0]),f[0][0]),F=1;F<l;F++)M=E(M,C(r(y[F]),f[F][0]));return M}if(g&&!D){for(var B=C(r(y[0][0]),f[0]),j=1;j<l;j++)B=E(B,C(r(y[j][0]),f[j]));return B}if(g&&D){for(var L=C(r(y[0][0]),f[0][0]),R=1;R<l;R++)L=E(L,C(r(y[R][0]),f[R][0]));return L}}function p(S,_){h(S,_);for(var l=S._index,y=S._values,o=_._index,f=_._values,x=0,g=n,D=a,E=0,C=0;E<l.length&&C<o.length;){var T=l[E],O=o[C];if(T<O){E++;continue}if(T>O){C++;continue}T===O&&(x=g(x,D(y[E],f[C])),E++,C++)}return x}function A(S){return isMatrix(S)?S.size():b(S)}}),name$1="det",dependencies$1=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],createDet=factory(name$1,dependencies$1,N=>{var{typed:u,matrix:n,subtractScalar:a,multiply:r,divideScalar:b,isZero:h,unaryMinus:m}=N;return u(name$1,{any:function(S){return clone$2(S)},"Array | Matrix":function(S){var _;switch(isMatrix(S)?_=S.size():Array.isArray(S)?(S=n(S),_=S.size()):_=[],_.length){case 0:return clone$2(S);case 1:if(_[0]===1)return clone$2(S.valueOf()[0]);if(_[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+format(_)+")");case 2:{var l=_[0],y=_[1];if(l===y)return p(S.clone().valueOf(),l);if(y===0)return 1;throw new RangeError("Matrix must be square (size: "+format(_)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+format(_)+")")}}});function p(A,S,_){if(S===1)return clone$2(A[0][0]);if(S===2)return a(r(A[0][0],A[1][1]),r(A[1][0],A[0][1]));for(var l=!1,y=new Array(S).fill(0).map((I,M)=>M),o=0;o<S;o++){var f=y[o];if(h(A[f][o])){var x=void 0;for(x=o+1;x<S;x++)if(!h(A[y[x]][o])){f=y[x],y[x]=y[o],y[o]=f,l=!l;break}if(x===S)return A[f][o]}for(var g=A[f][o],D=o===0?1:A[y[o-1]][o-1],E=o+1;E<S;E++)for(var C=y[E],T=o+1;T<S;T++)A[C][T]=b(a(r(A[C][T],g),r(A[C][o],A[f][T])),D)}var O=A[y[S-1]][S-1];return l?m(O):O}}),name="inv",dependencies=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],createInv=factory(name,dependencies,N=>{var{typed:u,matrix:n,divideScalar:a,addScalar:r,multiply:b,unaryMinus:h,det:m,identity:p,abs:A}=N;return u(name,{"Array | Matrix":function(l){var y=isMatrix(l)?l.size():arraySize(l);switch(y.length){case 1:if(y[0]===1)return isMatrix(l)?n([a(1,l.valueOf()[0])]):[a(1,l[0])];throw new RangeError("Matrix must be square (size: "+format(y)+")");case 2:{var o=y[0],f=y[1];if(o===f)return isMatrix(l)?n(S(l.valueOf(),o,f),l.storage()):S(l,o,f);throw new RangeError("Matrix must be square (size: "+format(y)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+format(y)+")")}},any:function(l){return a(1,l)}});function S(_,l,y){var o,f,x,g,D;if(l===1){if(g=_[0][0],g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(1,g)]]}else if(l===2){var E=m(_);if(E===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(_[1][1],E),a(h(_[0][1]),E)],[a(h(_[1][0]),E),a(_[0][0],E)]]}else{var C=_.concat();for(o=0;o<l;o++)C[o]=C[o].concat();for(var T=p(l).valueOf(),O=0;O<y;O++){var I=A(C[O][O]),M=O;for(o=O+1;o<l;)A(C[o][O])>I&&(I=A(C[o][O]),M=o),o++;if(I===0)throw Error("Cannot calculate inverse, determinant is zero");o=M,o!==O&&(D=C[O],C[O]=C[o],C[o]=D,D=T[O],T[O]=T[o],T[o]=D);var F=C[O],B=T[O];for(o=0;o<l;o++){var j=C[o],L=T[o];if(o!==O){if(j[O]!==0){for(x=a(h(j[O]),F[O]),f=O;f<y;f++)j[f]=r(j[f],b(x,F[f]));for(f=0;f<y;f++)L[f]=r(L[f],b(x,B[f]))}}else{for(x=F[O],f=O;f<y;f++)j[f]=a(j[f],x);for(f=0;f<y;f++)L[f]=a(L[f],x)}}}return T}}}),BigNumber=createBigNumberClass({config:config$1}),Complex=createComplexClass({}),Fraction=createFractionClass({}),Matrix=createMatrixClass({}),DenseMatrix=createDenseMatrixClass({Matrix}),typed=createTyped({BigNumber,Complex,DenseMatrix,Fraction}),abs=createAbs({typed}),addScalar=createAddScalar({typed}),bignumber=createBignumber({BigNumber,typed}),complex=createComplex({Complex,typed}),conj=createConj({typed}),equalScalar=createEqualScalar({config:config$1,typed}),isZero=createIsZero({typed}),multiplyScalar=createMultiplyScalar({typed}),number=createNumber({typed}),SparseMatrix=createSparseMatrixClass({Matrix,equalScalar,typed}),subtractScalar=createSubtractScalar({typed}),unaryMinus=createUnaryMinus({typed}),fraction=createFraction({Fraction,typed}),matrix$1=createMatrix({DenseMatrix,Matrix,SparseMatrix,typed}),numeric=createNumeric({bignumber,fraction,number}),size=createSize({matrix:matrix$1,config:config$1,typed}),zeros=createZeros({BigNumber,config:config$1,matrix:matrix$1,typed}),divideScalar=createDivideScalar({numeric,typed}),identity=createIdentity({BigNumber,DenseMatrix,SparseMatrix,config:config$1,matrix:matrix$1,typed}),round=createRound({BigNumber,DenseMatrix,config:config$1,equalScalar,matrix:matrix$1,typed,zeros}),dot=createDot({addScalar,conj,multiplyScalar,size,typed}),multiply=createMultiply({addScalar,dot,equalScalar,matrix:matrix$1,multiplyScalar,typed}),det=createDet({divideScalar,isZero,matrix:matrix$1,multiply,subtractScalar,typed,unaryMinus}),inv=createInv({abs,addScalar,det,divideScalar,identity,matrix:matrix$1,multiply,typed,unaryMinus}),pow=createPow({Complex,config:config$1,fraction,identity,inv,matrix:matrix$1,multiply,number,typed});let nanoid=(N=21)=>crypto.getRandomValues(new Uint8Array(N)).reduce((u,n)=>(n&=63,n<36?u+=n.toString(36):n<62?u+=(n-26).toString(36).toUpperCase():n>62?u+="-":u+="_",u),"");var arrays$9={range:function(N,u){var n=u-N,a=new Array(n),r,b;for(r=0,b=N;r<n;r++,b++)a[r]=b;return a},find:function(N,u){var n=N.length,a;if(typeof u=="function"){for(a=0;a<n;a++)if(u(N[a]))return N[a]}else for(a=0;a<n;a++)if(N[a]===u)return N[a]},indexOf:function(N,u){var n=N.length,a;if(typeof u=="function"){for(a=0;a<n;a++)if(u(N[a]))return a}else for(a=0;a<n;a++)if(N[a]===u)return a;return-1},contains:function(N,u){return arrays$9.indexOf(N,u)!==-1},each:function(N,u){var n=N.length,a;for(a=0;a<n;a++)u(N[a],a)},map:function(N,u){var n=N.length,a=new Array(n),r;for(r=0;r<n;r++)a[r]=u(N[r],r);return a},pluck:function(N,u){return arrays$9.map(N,function(n){return n[u]})},every:function(N,u){var n=N.length,a;for(a=0;a<n;a++)if(!u(N[a]))return!1;return!0},some:function(N,u){var n=N.length,a;for(a=0;a<n;a++)if(u(N[a]))return!0;return!1}},arrays_1=arrays$9,objects$6={keys:function(N){var u=[],n;for(n in N)N.hasOwnProperty(n)&&u.push(n);return u},values:function(N){var u=[],n;for(n in N)N.hasOwnProperty(n)&&u.push(N[n]);return u},clone:function(N){var u={},n;for(n in N)N.hasOwnProperty(n)&&(u[n]=N[n]);return u},defaults:function(N,u){var n;for(n in u)u.hasOwnProperty(n)&&(n in N||(N[n]=u[n]))}},objects_1=objects$6,classes$1={subclass:function(N,u){function n(){this.constructor=N}n.prototype=u.prototype,N.prototype=new n}},classes_1=classes$1,classes=classes_1;function GrammarError$5(N,u){this.name="GrammarError",this.message=N,this.location=u,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,GrammarError$5)}classes.subclass(GrammarError$5,Error);var grammarError=GrammarError$5;function peg$subclass(N,u){function n(){this.constructor=N}n.prototype=u.prototype,N.prototype=new n}function peg$SyntaxError(N,u,n,a){this.message=N,this.expected=u,this.found=n,this.location=a,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,peg$SyntaxError)}peg$subclass(peg$SyntaxError,Error);peg$SyntaxError.buildMessage=function(N,u){var n={literal:function(A){return'"'+r(A.text)+'"'},class:function(A){var S="",_;for(_=0;_<A.parts.length;_++)S+=A.parts[_]instanceof Array?b(A.parts[_][0])+"-"+b(A.parts[_][1]):b(A.parts[_]);return"["+(A.inverted?"^":"")+S+"]"},any:function(A){return"any character"},end:function(A){return"end of input"},other:function(A){return A.description}};function a(A){return A.charCodeAt(0).toString(16).toUpperCase()}function r(A){return A.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(S){return"\\x0"+a(S)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(S){return"\\x"+a(S)})}function b(A){return A.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(S){return"\\x0"+a(S)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(S){return"\\x"+a(S)})}function h(A){return n[A.type](A)}function m(A){var S=new Array(A.length),_,l;for(_=0;_<A.length;_++)S[_]=h(A[_]);if(S.sort(),S.length>0){for(_=1,l=1;_<S.length;_++)S[_-1]!==S[_]&&(S[l]=S[_],l++);S.length=l}switch(S.length){case 1:return S[0];case 2:return S[0]+" or "+S[1];default:return S.slice(0,-1).join(", ")+", or "+S[S.length-1]}}function p(A){return A?'"'+r(A)+'"':"end of input"}return"Expected "+m(N)+" but "+p(u)+" found."};function peg$parse(N,u){u=u!==void 0?u:{};var n={},a={Grammar:wi},r=wi,b=function(ie,De){return{type:"grammar",initializer:Ns(ie,0),rules:Ba(De,0),location:Hn()}},h=function(ie){return{type:"initializer",code:ie,location:Hn()}},m="=",p=jt("=",!1),A=function(ie,De,ke){return{type:"rule",name:ie,expression:De!==null?{type:"named",name:De[0],expression:ke,location:Hn()}:ke,location:Hn()}},S="/",_=jt("/",!1),l=function(ie,De){return De.length>0?{type:"choice",alternatives:Ra(ie,De,3),location:Hn()}:ie},y=function(ie,De){return De!==null?{type:"action",expression:ie,code:De[1],location:Hn()}:ie},o=function(ie,De){return De.length>0?{type:"sequence",elements:Ra(ie,De,1),location:Hn()}:ie},f=":",x=jt(":",!1),g=function(ie,De){return{type:"labeled",label:ie,expression:De,location:Hn()}},D=function(ie,De){return{type:Ds[ie],expression:De,location:Hn()}},E="$",C=jt("$",!1),T="&",O=jt("&",!1),I="!",M=jt("!",!1),F=function(ie,De){return{type:Ss[De],expression:ie,location:Hn()}},B="?",j=jt("?",!1),L="*",R=jt("*",!1),V="+",k=jt("+",!1),U="(",G=jt("(",!1),H=")",X=jt(")",!1),Z=function(ie){return ie.type==="labeled"||ie.type==="sequence"?{type:"group",expression:ie}:ie},J=function(ie){return{type:"rule_ref",name:ie,location:Hn()}},ee=function(ie,De){return{type:Es[ie],code:De,location:Hn()}},$=vi(),W=Mr("whitespace"),Q="	",te=jt("	",!1),ce="\v",oe=jt("\v",!1),ue="\f",we=jt("\f",!1),le=" ",fe=jt(" ",!1),ve="",pe=jt("",!1),ye="\uFEFF",Ae=jt("\uFEFF",!1),be=/^[\n\r\u2028\u2029]/,ne=qn([`
`,"\r","\u2028","\u2029"],!1,!1),re=Mr("end of line"),de=`
`,Ce=jt(`
`,!1),je=`\r
`,xe=jt(`\r
`,!1),Ie="\r",Ne=jt("\r",!1),Be="\u2028",$e=jt("\u2028",!1),Le="\u2029",qe=jt("\u2029",!1),ze=Mr("comment"),Ee="/*",Se=jt("/*",!1),Me="*/",me=jt("*/",!1),Ve="//",Xe=jt("//",!1),rt=function(ie){return ie},lt=Mr("identifier"),nt=function(ie,De){return ie+De.join("")},it="_",dt=jt("_",!1),ft="\\",yt=jt("\\",!1),bt=function(ie){return ie},wt="",xt=jt("",!1),Tt="",kt=jt("",!1),Mt=Mr("literal"),Ot="i",Lt=jt("i",!1),Ft=function(ie,De){return{type:"literal",value:ie,ignoreCase:De!==null,location:Hn()}},Pt=Mr("string"),It='"',Rt=jt('"',!1),Ht=function(ie){return ie.join("")},rn="'",Zt=jt("'",!1),Jt=function(){return hi()},an=Mr("character class"),Wt="[",nn=jt("[",!1),Je="^",Et=jt("^",!1),_e="]",Oe=jt("]",!1),Ue=function(ie,De,ke){return{type:"class",parts:Cs(De),inverted:ie!==null,ignoreCase:ke!==null,location:Hn()}},Fe="-",He=jt("-",!1),Re=function(ie,De){return ie.charCodeAt(0)>De.charCodeAt(0)&&yi("Invalid character range: "+hi()+"."),[ie,De]},Ye=function(){return""},tt="0",ct=jt("0",!1),st=function(){return"\0"},ot="b",Dt=jt("b",!1),Nt=function(){return"\b"},Ut="f",Gt=jt("f",!1),Xt=function(){return"\f"},en="n",sn=jt("n",!1),un=function(){return`
`},bn="r",Un=jt("r",!1),tr=function(){return"\r"},Gn="t",nr=jt("t",!1),Bn=function(){return"	"},Vn="v",Jn=jt("v",!1),zn=function(){return"\v"},dn="x",on=jt("x",!1),_r="u",cr=jt("u",!1),ur=function(ie){return String.fromCharCode(parseInt(ie,16))},Wn=/^[0-9]/,zr=qn([["0","9"]],!1,!1),Gr=/^[0-9a-f]/i,lr=qn([["0","9"],["a","f"]],!1,!0),Tn=".",ti=jt(".",!1),Or=function(){return{type:"any",location:Hn()}},xr=Mr("code block"),jn="{",hr=jt("{",!1),xn="}",jr=jt("}",!1),Vr=function(ie){return ie},Ar=/^[{}]/,wr=qn(["{","}"],!1,!1),ni=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,ri=qn([["a","z"],"",["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","",["",""],"","",["",""],"","","","","",["",""],"","","","",["",""],["",""],"","","","","","","","","","",["",""],"","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"",["",""],"","","","","",["",""],["",""],"","","",["",""],"",["",""],["",""],["",""],"","","","","","","","","","","",["",""],"","",["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"","","","",["",""],["",""],"","",["",""],"",["",""],"","","","",["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","",["",""],"","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],["",""]],!1,!1),rr=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C-\uA69D\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3-\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E-\uFF9F]/,Xn=qn([["",""],["",""],["",""],"","","","","","",["",""],["",""],"","","","","","","","","","","",["",""],["",""],"",["",""],"","",["",""],["",""],"","","",["",""],"",["",""],["",""],"",["",""],"","",["",""],["",""],"","",["",""],"","","","",["",""],["",""],"",["",""]],!1,!1),Qn=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,Rn=qn(["","","",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],"","",["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],"","",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],"","",["",""],["",""],["",""],"",["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],["",""],"","",["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],!1,!1),mr=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,$n=qn(["","","","",["",""],["",""],["",""],"","",""],!1,!1),ir=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]/,ii=qn([["A","Z"],["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"","",["",""],["",""],"",["",""],"","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],"",["",""],"","","","","","","","","",["",""],"",["",""],["",""],["",""],"",["",""],"","","","","","","","","","","","","","",["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],"","","","",["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],"",["",""],"","","",["",""],["",""],["",""],"","",["",""],"",["",""],"","","",["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","",["",""],["",""],"",["",""]],!1,!1),Zn=/^[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0982-\u0983\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09D7\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0B02-\u0B03\u0B3E\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD7\u0C01-\u0C03\u0C41-\u0C44\u0C82-\u0C83\u0CBE\u0CC0-\u0CC4\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D57\u0D82-\u0D83\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DF2-\u0DF3\u0F3E-\u0F3F\u0F7F\u102B-\u102C\u1031\u1038\u103B-\u103C\u1056-\u1057\u1062-\u1064\u1067-\u106D\u1083-\u1084\u1087-\u108C\u108F\u109A-\u109C\u17B6\u17BE-\u17C5\u17C7-\u17C8\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u1A19-\u1A1A\u1A55\u1A57\u1A61\u1A63-\u1A64\u1A6D-\u1A72\u1B04\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B82\u1BA1\u1BA6-\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1C24-\u1C2B\u1C34-\u1C35\u1CE1\u1CF2-\u1CF3\u302E-\u302F\uA823-\uA824\uA827\uA880-\uA881\uA8B4-\uA8C3\uA952-\uA953\uA983\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uAA2F-\uAA30\uAA33-\uAA34\uAA4D\uAA7B\uAA7D\uAAEB\uAAEE-\uAAEF\uAAF5\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEC]/,Dr=qn(["","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"",["",""],"",["",""],["",""],"","",["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","","",["",""],["",""],"","","",["",""],["",""],"","",["",""],"","",["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],"","","","",["",""],"",["",""],["",""],["",""],""],!1,!1),$r=/^[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62-\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC-\u0CCD\u0CE2-\u0CE3\u0D01\u0D41-\u0D44\u0D4D\u0D62-\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099-\u309A\uA66F\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/,Hr=qn([["",""],["",""],["",""],"",["",""],["",""],"",["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"",["",""],["",""],"","",["",""],"",["",""],["",""],"",["",""],["",""],["",""],"",["",""],"",["",""],"",["",""],["",""],"",["",""],"","","",["",""],"","",["",""],"","","","",["",""],["",""],["",""],["",""],["",""],"","","","",["",""],["",""],"",["",""],"",["",""],"",["",""],"","",["",""],["",""],"",["",""],["",""],["",""],["",""],"","","",["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],"",["",""],["",""],"",["",""],["",""],"","",["",""],"","",["",""],["",""],"",["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],"",["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],"","","",["",""],"",["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],"","","","",["",""],["",""],["",""],"",["",""],"","","","","",["",""],["",""]],!1,!1),qr=/^[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]/,Wr=qn([["0","9"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],!1,!1),Pr=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,dr=qn([["",""],["",""],["",""],"",["",""],["",""],["",""]],!1,!1),Ir=/^[_\u203F-\u2040\u2054\uFE33-\uFE34\uFE4D-\uFE4F\uFF3F]/,Xr=qn(["_",["",""],"",["",""],["",""],""],!1,!1),Yr=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Sr=qn([" ","","",["",""],"","",""],!1,!1),Er="break",Qr=jt("break",!1),Cr="case",Zr=jt("case",!1),Fr="catch",Jr=jt("catch",!1),gr="class",ar=jt("class",!1),Nr="const",Br=jt("const",!1),mn="continue",Kn=jt("continue",!1),zt="debugger",yr=jt("debugger",!1),Mn="default",pr=jt("default",!1),Kr="delete",ai=jt("delete",!1),pn="do",ei=jt("do",!1),Rr="else",Ln=jt("else",!1),Sn="enum",si=jt("enum",!1),Tr="export",oi=jt("export",!1),kr="extends",ci=jt("extends",!1),Lr="false",_n=jt("false",!1),vr="finally",Y=jt("finally",!1),K="for",ae=jt("for",!1),se="function",ge=jt("function",!1),Te="if",Pe=jt("if",!1),Ge="import",Ze=jt("import",!1),Qe="instanceof",at=jt("instanceof",!1),pt="in",ut=jt("in",!1),et="new",Ct=jt("new",!1),vt="null",At=jt("null",!1),mt="return",gt=jt("return",!1),Vt="super",Qt=jt("super",!1),$t="switch",qt=jt("switch",!1),Kt="this",gn=jt("this",!1),An="throw",En=jt("throw",!1),Pn="true",kn=jt("true",!1),Yn="try",hn=jt("try",!1),yn="typeof",fn=jt("typeof",!1),In="var",wn=jt("var",!1),On="void",vn=jt("void",!1),Nn="while",Ur=jt("while",!1),br="with",Cn=jt("with",!1),Yt=";",fi=jt(";",!1),he=0,tn=0,ui=[{line:1,column:1}],fr=0,pi=[],Ke=0,li;if("startRule"in u){if(!(u.startRule in a))throw new Error(`Can't start parsing from rule "`+u.startRule+'".');r=a[u.startRule]}function hi(){return N.substring(tn,he)}function Hn(){return mi(tn,he)}function yi(ie,De){throw De=De!==void 0?De:mi(tn,he),Ii(ie,De)}function jt(ie,De){return{type:"literal",text:ie,ignoreCase:De}}function qn(ie,De,ke){return{type:"class",parts:ie,inverted:De,ignoreCase:ke}}function vi(){return{type:"any"}}function bi(){return{type:"end"}}function Mr(ie){return{type:"other",description:ie}}function Ai(ie){var De=ui[ie],ke;if(De)return De;for(ke=ie-1;!ui[ke];)ke--;for(De=ui[ke],De={line:De.line,column:De.column};ke<ie;)N.charCodeAt(ke)===10?(De.line++,De.column=1):De.column++,ke++;return ui[ie]=De,De}function mi(ie,De){var ke=Ai(ie),We=Ai(De);return{start:{offset:ie,line:ke.line,column:ke.column},end:{offset:De,line:We.line,column:We.column}}}function _t(ie){he<fr||(he>fr&&(fr=he,pi=[]),pi.push(ie))}function Ii(ie,De){return new peg$SyntaxError(ie,null,null,De)}function Fi(ie,De,ke){return new peg$SyntaxError(peg$SyntaxError.buildMessage(ie,De),ie,De,ke)}function wi(){var ie,De,ke,We,ht,St,Dn;if(ie=he,De=Fn(),De!==n)if(ke=he,We=Bi(),We!==n?(ht=Fn(),ht!==n?(We=[We,ht],ke=We):(he=ke,ke=n)):(he=ke,ke=n),ke===n&&(ke=null),ke!==n){if(We=[],ht=he,St=Di(),St!==n?(Dn=Fn(),Dn!==n?(St=[St,Dn],ht=St):(he=ht,ht=n)):(he=ht,ht=n),ht!==n)for(;ht!==n;)We.push(ht),ht=he,St=Di(),St!==n?(Dn=Fn(),Dn!==n?(St=[St,Dn],ht=St):(he=ht,ht=n)):(he=ht,ht=n);else We=n;We!==n?(tn=ie,De=b(ke,We),ie=De):(he=ie,ie=n)}else he=ie,ie=n;else he=ie,ie=n;return ie}function Bi(){var ie,De,ke;return ie=he,De=qi(),De!==n?(ke=Fa(),ke!==n?(tn=ie,De=h(De),ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Di(){var ie,De,ke,We,ht,St,Dn,or;return ie=he,De=Gi(),De!==n?(ke=Fn(),ke!==n?(We=he,ht=Vi(),ht!==n?(St=Fn(),St!==n?(ht=[ht,St],We=ht):(he=We,We=n)):(he=We,We=n),We===n&&(We=null),We!==n?(N.charCodeAt(he)===61?(ht=m,he++):(ht=n,Ke===0&&_t(p)),ht!==n?(St=Fn(),St!==n?(Dn=Si(),Dn!==n?(or=Fa(),or!==n?(tn=ie,De=A(De,We,Dn),ie=De):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n),ie}function Si(){var ie,De,ke,We,ht,St,Dn,or;if(ie=he,De=_i(),De!==n){for(ke=[],We=he,ht=Fn(),ht!==n?(N.charCodeAt(he)===47?(St=S,he++):(St=n,Ke===0&&_t(_)),St!==n?(Dn=Fn(),Dn!==n?(or=_i(),or!==n?(ht=[ht,St,Dn,or],We=ht):(he=We,We=n)):(he=We,We=n)):(he=We,We=n)):(he=We,We=n);We!==n;)ke.push(We),We=he,ht=Fn(),ht!==n?(N.charCodeAt(he)===47?(St=S,he++):(St=n,Ke===0&&_t(_)),St!==n?(Dn=Fn(),Dn!==n?(or=_i(),or!==n?(ht=[ht,St,Dn,or],We=ht):(he=We,We=n)):(he=We,We=n)):(he=We,We=n)):(he=We,We=n);ke!==n?(tn=ie,De=l(De,ke),ie=De):(he=ie,ie=n)}else he=ie,ie=n;return ie}function _i(){var ie,De,ke,We,ht;return ie=he,De=Ri(),De!==n?(ke=he,We=Fn(),We!==n?(ht=qi(),ht!==n?(We=[We,ht],ke=We):(he=ke,ke=n)):(he=ke,ke=n),ke===n&&(ke=null),ke!==n?(tn=ie,De=y(De,ke),ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Ri(){var ie,De,ke,We,ht,St;if(ie=he,De=xi(),De!==n){for(ke=[],We=he,ht=Fn(),ht!==n?(St=xi(),St!==n?(ht=[ht,St],We=ht):(he=We,We=n)):(he=We,We=n);We!==n;)ke.push(We),We=he,ht=Fn(),ht!==n?(St=xi(),St!==n?(ht=[ht,St],We=ht):(he=We,We=n)):(he=We,We=n);ke!==n?(tn=ie,De=o(De,ke),ie=De):(he=ie,ie=n)}else he=ie,ie=n;return ie}function xi(){var ie,De,ke,We,ht,St;return ie=he,De=aa(),De!==n?(ke=Fn(),ke!==n?(N.charCodeAt(he)===58?(We=f,he++):(We=n,Ke===0&&_t(x)),We!==n?(ht=Fn(),ht!==n?(St=Ei(),St!==n?(tn=ie,De=g(De,St),ie=De):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n),ie===n&&(ie=Ei()),ie}function Ei(){var ie,De,ke,We;return ie=he,De=Ci(),De!==n?(ke=Fn(),ke!==n?(We=Ni(),We!==n?(tn=ie,De=D(De,We),ie=De):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n),ie===n&&(ie=Ni()),ie}function Ci(){var ie;return N.charCodeAt(he)===36?(ie=E,he++):(ie=n,Ke===0&&_t(C)),ie===n&&(N.charCodeAt(he)===38?(ie=T,he++):(ie=n,Ke===0&&_t(O)),ie===n&&(N.charCodeAt(he)===33?(ie=I,he++):(ie=n,Ke===0&&_t(M)))),ie}function Ni(){var ie,De,ke,We;return ie=he,De=Ti(),De!==n?(ke=Fn(),ke!==n?(We=ki(),We!==n?(tn=ie,De=F(De,We),ie=De):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n),ie===n&&(ie=Ti()),ie}function ki(){var ie;return N.charCodeAt(he)===63?(ie=B,he++):(ie=n,Ke===0&&_t(j)),ie===n&&(N.charCodeAt(he)===42?(ie=L,he++):(ie=n,Ke===0&&_t(R)),ie===n&&(N.charCodeAt(he)===43?(ie=V,he++):(ie=n,Ke===0&&_t(k)))),ie}function Ti(){var ie,De,ke,We,ht,St;return ie=pa(),ie===n&&(ie=fa(),ie===n&&(ie=va(),ie===n&&(ie=Li(),ie===n&&(ie=Ui(),ie===n&&(ie=he,N.charCodeAt(he)===40?(De=U,he++):(De=n,Ke===0&&_t(G)),De!==n?(ke=Fn(),ke!==n?(We=Si(),We!==n?(ht=Fn(),ht!==n?(N.charCodeAt(he)===41?(St=H,he++):(St=n,Ke===0&&_t(X)),St!==n?(tn=ie,De=Z(We),ie=De):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n)))))),ie}function Li(){var ie,De,ke,We,ht,St,Dn,or;return ie=he,De=Gi(),De!==n?(ke=he,Ke++,We=he,ht=Fn(),ht!==n?(St=he,Dn=Vi(),Dn!==n?(or=Fn(),or!==n?(Dn=[Dn,or],St=Dn):(he=St,St=n)):(he=St,St=n),St===n&&(St=null),St!==n?(N.charCodeAt(he)===61?(Dn=m,he++):(Dn=n,Ke===0&&_t(p)),Dn!==n?(ht=[ht,St,Dn],We=ht):(he=We,We=n)):(he=We,We=n)):(he=We,We=n),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(tn=ie,De=J(De),ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Ui(){var ie,De,ke,We;return ie=he,De=zi(),De!==n?(ke=Fn(),ke!==n?(We=qi(),We!==n?(tn=ie,De=ee(De,We),ie=De):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n),ie}function zi(){var ie;return N.charCodeAt(he)===38?(ie=T,he++):(ie=n,Ke===0&&_t(O)),ie===n&&(N.charCodeAt(he)===33?(ie=I,he++):(ie=n,Ke===0&&_t(M))),ie}function er(){var ie;return N.length>he?(ie=N.charAt(he),he++):(ie=n,Ke===0&&_t($)),ie}function Mi(){var ie;return Ke++,N.charCodeAt(he)===9?(ie=Q,he++):(ie=n,Ke===0&&_t(te)),ie===n&&(N.charCodeAt(he)===11?(ie=ce,he++):(ie=n,Ke===0&&_t(oe)),ie===n&&(N.charCodeAt(he)===12?(ie=ue,he++):(ie=n,Ke===0&&_t(we)),ie===n&&(N.charCodeAt(he)===32?(ie=le,he++):(ie=n,Ke===0&&_t(fe)),ie===n&&(N.charCodeAt(he)===160?(ie=ve,he++):(ie=n,Ke===0&&_t(pe)),ie===n&&(N.charCodeAt(he)===65279?(ie=ye,he++):(ie=n,Ke===0&&_t(Ae)),ie===n&&(ie=Ta())))))),Ke--,ie===n&&Ke===0&&_t(W),ie}function di(){var ie;return be.test(N.charAt(he))?(ie=N.charAt(he),he++):(ie=n,Ke===0&&_t(ne)),ie}function Oi(){var ie;return Ke++,N.charCodeAt(he)===10?(ie=de,he++):(ie=n,Ke===0&&_t(Ce)),ie===n&&(N.substr(he,2)===je?(ie=je,he+=2):(ie=n,Ke===0&&_t(xe)),ie===n&&(N.charCodeAt(he)===13?(ie=Ie,he++):(ie=n,Ke===0&&_t(Ne)),ie===n&&(N.charCodeAt(he)===8232?(ie=Be,he++):(ie=n,Ke===0&&_t($e)),ie===n&&(N.charCodeAt(he)===8233?(ie=Le,he++):(ie=n,Ke===0&&_t(qe)))))),Ke--,ie===n&&Ke===0&&_t(re),ie}function Xi(){var ie;return Ke++,ie=ia(),ie===n&&(ie=Qi()),Ke--,ie===n&&Ke===0&&_t(ze),ie}function ia(){var ie,De,ke,We,ht,St;if(ie=he,N.substr(he,2)===Ee?(De=Ee,he+=2):(De=n,Ke===0&&_t(Se)),De!==n){for(ke=[],We=he,ht=he,Ke++,N.substr(he,2)===Me?(St=Me,he+=2):(St=n,Ke===0&&_t(me)),Ke--,St===n?ht=void 0:(he=ht,ht=n),ht!==n?(St=er(),St!==n?(ht=[ht,St],We=ht):(he=We,We=n)):(he=We,We=n);We!==n;)ke.push(We),We=he,ht=he,Ke++,N.substr(he,2)===Me?(St=Me,he+=2):(St=n,Ke===0&&_t(me)),Ke--,St===n?ht=void 0:(he=ht,ht=n),ht!==n?(St=er(),St!==n?(ht=[ht,St],We=ht):(he=We,We=n)):(he=We,We=n);ke!==n?(N.substr(he,2)===Me?(We=Me,he+=2):(We=n,Ke===0&&_t(me)),We!==n?(De=[De,ke,We],ie=De):(he=ie,ie=n)):(he=ie,ie=n)}else he=ie,ie=n;return ie}function Yi(){var ie,De,ke,We,ht,St;if(ie=he,N.substr(he,2)===Ee?(De=Ee,he+=2):(De=n,Ke===0&&_t(Se)),De!==n){for(ke=[],We=he,ht=he,Ke++,N.substr(he,2)===Me?(St=Me,he+=2):(St=n,Ke===0&&_t(me)),St===n&&(St=di()),Ke--,St===n?ht=void 0:(he=ht,ht=n),ht!==n?(St=er(),St!==n?(ht=[ht,St],We=ht):(he=We,We=n)):(he=We,We=n);We!==n;)ke.push(We),We=he,ht=he,Ke++,N.substr(he,2)===Me?(St=Me,he+=2):(St=n,Ke===0&&_t(me)),St===n&&(St=di()),Ke--,St===n?ht=void 0:(he=ht,ht=n),ht!==n?(St=er(),St!==n?(ht=[ht,St],We=ht):(he=We,We=n)):(he=We,We=n);ke!==n?(N.substr(he,2)===Me?(We=Me,he+=2):(We=n,Ke===0&&_t(me)),We!==n?(De=[De,ke,We],ie=De):(he=ie,ie=n)):(he=ie,ie=n)}else he=ie,ie=n;return ie}function Qi(){var ie,De,ke,We,ht,St;if(ie=he,N.substr(he,2)===Ve?(De=Ve,he+=2):(De=n,Ke===0&&_t(Xe)),De!==n){for(ke=[],We=he,ht=he,Ke++,St=di(),Ke--,St===n?ht=void 0:(he=ht,ht=n),ht!==n?(St=er(),St!==n?(ht=[ht,St],We=ht):(he=We,We=n)):(he=We,We=n);We!==n;)ke.push(We),We=he,ht=he,Ke++,St=di(),Ke--,St===n?ht=void 0:(he=ht,ht=n),ht!==n?(St=er(),St!==n?(ht=[ht,St],We=ht):(he=We,We=n)):(he=We,We=n);ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)}else he=ie,ie=n;return ie}function aa(){var ie,De,ke;return ie=he,De=he,Ke++,ke=ca(),Ke--,ke===n?De=void 0:(he=De,De=n),De!==n?(ke=Gi(),ke!==n?(tn=ie,De=rt(ke),ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Gi(){var ie,De,ke,We;if(Ke++,ie=he,De=Zi(),De!==n){for(ke=[],We=cn();We!==n;)ke.push(We),We=cn();ke!==n?(tn=ie,De=nt(De,ke),ie=De):(he=ie,ie=n)}else he=ie,ie=n;return Ke--,ie===n&&(De=n,Ke===0&&_t(lt)),ie}function Zi(){var ie,De,ke;return ie=sa(),ie===n&&(N.charCodeAt(he)===36?(ie=E,he++):(ie=n,Ke===0&&_t(C)),ie===n&&(N.charCodeAt(he)===95?(ie=it,he++):(ie=n,Ke===0&&_t(dt)),ie===n&&(ie=he,N.charCodeAt(he)===92?(De=ft,he++):(De=n,Ke===0&&_t(yt)),De!==n?(ke=na(),ke!==n?(tn=ie,De=bt(ke),ie=De):(he=ie,ie=n)):(he=ie,ie=n)))),ie}function cn(){var ie;return ie=Zi(),ie===n&&(ie=oa(),ie===n&&(ie=Ea(),ie===n&&(ie=Na(),ie===n&&(N.charCodeAt(he)===8204?(ie=wt,he++):(ie=n,Ke===0&&_t(xt)),ie===n&&(N.charCodeAt(he)===8205?(ie=Tt,he++):(ie=n,Ke===0&&_t(kt))))))),ie}function sa(){var ie;return ie=wa(),ie===n&&(ie=ba(),ie===n&&(ie=Aa(),ie===n&&(ie=_a(),ie===n&&(ie=xa(),ie===n&&(ie=Ca()))))),ie}function oa(){var ie;return ie=Sa(),ie===n&&(ie=Da()),ie}function ca(){var ie;return ie=ua(),ie===n&&(ie=la(),ie===n&&(ie=cs(),ie===n&&(ie=da()))),ie}function ua(){var ie;return ie=Ma(),ie===n&&(ie=Ua(),ie===n&&(ie=za(),ie===n&&(ie=$a(),ie===n&&(ie=Ha(),ie===n&&(ie=qa(),ie===n&&(ie=Wa(),ie===n&&(ie=Xa(),ie===n&&(ie=Ya(),ie===n&&(ie=es(),ie===n&&(ie=ts(),ie===n&&(ie=ns(),ie===n&&(ie=rs(),ie===n&&(ie=as(),ie===n&&(ie=ss(),ie===n&&(ie=os(),ie===n&&(ie=us(),ie===n&&(ie=ds(),ie===n&&(ie=ps(),ie===n&&(ie=fs(),ie===n&&(ie=gs(),ie===n&&(ie=ys(),ie===n&&(ie=vs(),ie===n&&(ie=bs(),ie===n&&(ie=_s(),ie===n&&(ie=xs()))))))))))))))))))))))))),ie}function la(){var ie;return ie=Ga(),ie===n&&(ie=Va(),ie===n&&(ie=Qa(),ie===n&&(ie=Za(),ie===n&&(ie=Ja(),ie===n&&(ie=is(),ie===n&&(ie=ls())))))),ie}function da(){var ie;return ie=hs(),ie===n&&(ie=Ka()),ie}function pa(){var ie,De,ke;return Ke++,ie=he,De=Vi(),De!==n?(N.charCodeAt(he)===105?(ke=Ot,he++):(ke=n,Ke===0&&_t(Lt)),ke===n&&(ke=null),ke!==n?(tn=ie,De=Ft(De,ke),ie=De):(he=ie,ie=n)):(he=ie,ie=n),Ke--,ie===n&&(De=n,Ke===0&&_t(Mt)),ie}function Vi(){var ie,De,ke,We;if(Ke++,ie=he,N.charCodeAt(he)===34?(De=It,he++):(De=n,Ke===0&&_t(Rt)),De!==n){for(ke=[],We=Ji();We!==n;)ke.push(We),We=Ji();ke!==n?(N.charCodeAt(he)===34?(We=It,he++):(We=n,Ke===0&&_t(Rt)),We!==n?(tn=ie,De=Ht(ke),ie=De):(he=ie,ie=n)):(he=ie,ie=n)}else he=ie,ie=n;if(ie===n)if(ie=he,N.charCodeAt(he)===39?(De=rn,he++):(De=n,Ke===0&&_t(Zt)),De!==n){for(ke=[],We=Ki();We!==n;)ke.push(We),We=Ki();ke!==n?(N.charCodeAt(he)===39?(We=rn,he++):(We=n,Ke===0&&_t(Zt)),We!==n?(tn=ie,De=Ht(ke),ie=De):(he=ie,ie=n)):(he=ie,ie=n)}else he=ie,ie=n;return Ke--,ie===n&&(De=n,Ke===0&&_t(Pt)),ie}function Ji(){var ie,De,ke;return ie=he,De=he,Ke++,N.charCodeAt(he)===34?(ke=It,he++):(ke=n,Ke===0&&_t(Rt)),ke===n&&(N.charCodeAt(he)===92?(ke=ft,he++):(ke=n,Ke===0&&_t(yt)),ke===n&&(ke=di())),Ke--,ke===n?De=void 0:(he=De,De=n),De!==n?(ke=er(),ke!==n?(tn=ie,De=Jt(),ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie===n&&(ie=he,N.charCodeAt(he)===92?(De=ft,he++):(De=n,Ke===0&&_t(yt)),De!==n?(ke=Hi(),ke!==n?(tn=ie,De=bt(ke),ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie===n&&(ie=$i())),ie}function Ki(){var ie,De,ke;return ie=he,De=he,Ke++,N.charCodeAt(he)===39?(ke=rn,he++):(ke=n,Ke===0&&_t(Zt)),ke===n&&(N.charCodeAt(he)===92?(ke=ft,he++):(ke=n,Ke===0&&_t(yt)),ke===n&&(ke=di())),Ke--,ke===n?De=void 0:(he=De,De=n),De!==n?(ke=er(),ke!==n?(tn=ie,De=Jt(),ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie===n&&(ie=he,N.charCodeAt(he)===92?(De=ft,he++):(De=n,Ke===0&&_t(yt)),De!==n?(ke=Hi(),ke!==n?(tn=ie,De=bt(ke),ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie===n&&(ie=$i())),ie}function fa(){var ie,De,ke,We,ht,St;if(Ke++,ie=he,N.charCodeAt(he)===91?(De=Wt,he++):(De=n,Ke===0&&_t(nn)),De!==n)if(N.charCodeAt(he)===94?(ke=Je,he++):(ke=n,Ke===0&&_t(Et)),ke===n&&(ke=null),ke!==n){for(We=[],ht=ea(),ht===n&&(ht=ji());ht!==n;)We.push(ht),ht=ea(),ht===n&&(ht=ji());We!==n?(N.charCodeAt(he)===93?(ht=_e,he++):(ht=n,Ke===0&&_t(Oe)),ht!==n?(N.charCodeAt(he)===105?(St=Ot,he++):(St=n,Ke===0&&_t(Lt)),St===n&&(St=null),St!==n?(tn=ie,De=Ue(ke,We,St),ie=De):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n)}else he=ie,ie=n;else he=ie,ie=n;return Ke--,ie===n&&(De=n,Ke===0&&_t(an)),ie}function ea(){var ie,De,ke,We;return ie=he,De=ji(),De!==n?(N.charCodeAt(he)===45?(ke=Fe,he++):(ke=n,Ke===0&&_t(He)),ke!==n?(We=ji(),We!==n?(tn=ie,De=Re(De,We),ie=De):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n),ie}function ji(){var ie,De,ke;return ie=he,De=he,Ke++,N.charCodeAt(he)===93?(ke=_e,he++):(ke=n,Ke===0&&_t(Oe)),ke===n&&(N.charCodeAt(he)===92?(ke=ft,he++):(ke=n,Ke===0&&_t(yt)),ke===n&&(ke=di())),Ke--,ke===n?De=void 0:(he=De,De=n),De!==n?(ke=er(),ke!==n?(tn=ie,De=Jt(),ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie===n&&(ie=he,N.charCodeAt(he)===92?(De=ft,he++):(De=n,Ke===0&&_t(yt)),De!==n?(ke=Hi(),ke!==n?(tn=ie,De=bt(ke),ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie===n&&(ie=$i())),ie}function $i(){var ie,De,ke;return ie=he,N.charCodeAt(he)===92?(De=ft,he++):(De=n,Ke===0&&_t(yt)),De!==n?(ke=Oi(),ke!==n?(tn=ie,De=Ye(),ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Hi(){var ie,De,ke,We;return ie=ha(),ie===n&&(ie=he,N.charCodeAt(he)===48?(De=tt,he++):(De=n,Ke===0&&_t(ct)),De!==n?(ke=he,Ke++,We=ra(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(tn=ie,De=st(),ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie===n&&(ie=ya(),ie===n&&(ie=na()))),ie}function ha(){var ie;return ie=ta(),ie===n&&(ie=ma()),ie}function ta(){var ie,De;return N.charCodeAt(he)===39?(ie=rn,he++):(ie=n,Ke===0&&_t(Zt)),ie===n&&(N.charCodeAt(he)===34?(ie=It,he++):(ie=n,Ke===0&&_t(Rt)),ie===n&&(N.charCodeAt(he)===92?(ie=ft,he++):(ie=n,Ke===0&&_t(yt)),ie===n&&(ie=he,N.charCodeAt(he)===98?(De=ot,he++):(De=n,Ke===0&&_t(Dt)),De!==n&&(tn=ie,De=Nt()),ie=De,ie===n&&(ie=he,N.charCodeAt(he)===102?(De=Ut,he++):(De=n,Ke===0&&_t(Gt)),De!==n&&(tn=ie,De=Xt()),ie=De,ie===n&&(ie=he,N.charCodeAt(he)===110?(De=en,he++):(De=n,Ke===0&&_t(sn)),De!==n&&(tn=ie,De=un()),ie=De,ie===n&&(ie=he,N.charCodeAt(he)===114?(De=bn,he++):(De=n,Ke===0&&_t(Un)),De!==n&&(tn=ie,De=tr()),ie=De,ie===n&&(ie=he,N.charCodeAt(he)===116?(De=Gn,he++):(De=n,Ke===0&&_t(nr)),De!==n&&(tn=ie,De=Bn()),ie=De,ie===n&&(ie=he,N.charCodeAt(he)===118?(De=Vn,he++):(De=n,Ke===0&&_t(Jn)),De!==n&&(tn=ie,De=zn()),ie=De)))))))),ie}function ma(){var ie,De,ke;return ie=he,De=he,Ke++,ke=ga(),ke===n&&(ke=di()),Ke--,ke===n?De=void 0:(he=De,De=n),De!==n?(ke=er(),ke!==n?(tn=ie,De=Jt(),ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function ga(){var ie;return ie=ta(),ie===n&&(ie=ra(),ie===n&&(N.charCodeAt(he)===120?(ie=dn,he++):(ie=n,Ke===0&&_t(on)),ie===n&&(N.charCodeAt(he)===117?(ie=_r,he++):(ie=n,Ke===0&&_t(cr))))),ie}function ya(){var ie,De,ke,We,ht,St;return ie=he,N.charCodeAt(he)===120?(De=dn,he++):(De=n,Ke===0&&_t(on)),De!==n?(ke=he,We=he,ht=gi(),ht!==n?(St=gi(),St!==n?(ht=[ht,St],We=ht):(he=We,We=n)):(he=We,We=n),We!==n?ke=N.substring(ke,he):ke=We,ke!==n?(tn=ie,De=ur(ke),ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function na(){var ie,De,ke,We,ht,St,Dn,or;return ie=he,N.charCodeAt(he)===117?(De=_r,he++):(De=n,Ke===0&&_t(cr)),De!==n?(ke=he,We=he,ht=gi(),ht!==n?(St=gi(),St!==n?(Dn=gi(),Dn!==n?(or=gi(),or!==n?(ht=[ht,St,Dn,or],We=ht):(he=We,We=n)):(he=We,We=n)):(he=We,We=n)):(he=We,We=n),We!==n?ke=N.substring(ke,he):ke=We,ke!==n?(tn=ie,De=ur(ke),ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function ra(){var ie;return Wn.test(N.charAt(he))?(ie=N.charAt(he),he++):(ie=n,Ke===0&&_t(zr)),ie}function gi(){var ie;return Gr.test(N.charAt(he))?(ie=N.charAt(he),he++):(ie=n,Ke===0&&_t(lr)),ie}function va(){var ie,De;return ie=he,N.charCodeAt(he)===46?(De=Tn,he++):(De=n,Ke===0&&_t(ti)),De!==n&&(tn=ie,De=Or()),ie=De,ie}function qi(){var ie,De,ke,We;return Ke++,ie=he,N.charCodeAt(he)===123?(De=jn,he++):(De=n,Ke===0&&_t(hr)),De!==n?(ke=Wi(),ke!==n?(N.charCodeAt(he)===125?(We=xn,he++):(We=n,Ke===0&&_t(jr)),We!==n?(tn=ie,De=Vr(ke),ie=De):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n),Ke--,ie===n&&(De=n,Ke===0&&_t(xr)),ie}function Wi(){var ie,De,ke,We,ht,St;if(ie=he,De=[],ke=[],We=he,ht=he,Ke++,Ar.test(N.charAt(he))?(St=N.charAt(he),he++):(St=n,Ke===0&&_t(wr)),Ke--,St===n?ht=void 0:(he=ht,ht=n),ht!==n?(St=er(),St!==n?(ht=[ht,St],We=ht):(he=We,We=n)):(he=We,We=n),We!==n)for(;We!==n;)ke.push(We),We=he,ht=he,Ke++,Ar.test(N.charAt(he))?(St=N.charAt(he),he++):(St=n,Ke===0&&_t(wr)),Ke--,St===n?ht=void 0:(he=ht,ht=n),ht!==n?(St=er(),St!==n?(ht=[ht,St],We=ht):(he=We,We=n)):(he=We,We=n);else ke=n;for(ke===n&&(ke=he,N.charCodeAt(he)===123?(We=jn,he++):(We=n,Ke===0&&_t(hr)),We!==n?(ht=Wi(),ht!==n?(N.charCodeAt(he)===125?(St=xn,he++):(St=n,Ke===0&&_t(jr)),St!==n?(We=[We,ht,St],ke=We):(he=ke,ke=n)):(he=ke,ke=n)):(he=ke,ke=n));ke!==n;){if(De.push(ke),ke=[],We=he,ht=he,Ke++,Ar.test(N.charAt(he))?(St=N.charAt(he),he++):(St=n,Ke===0&&_t(wr)),Ke--,St===n?ht=void 0:(he=ht,ht=n),ht!==n?(St=er(),St!==n?(ht=[ht,St],We=ht):(he=We,We=n)):(he=We,We=n),We!==n)for(;We!==n;)ke.push(We),We=he,ht=he,Ke++,Ar.test(N.charAt(he))?(St=N.charAt(he),he++):(St=n,Ke===0&&_t(wr)),Ke--,St===n?ht=void 0:(he=ht,ht=n),ht!==n?(St=er(),St!==n?(ht=[ht,St],We=ht):(he=We,We=n)):(he=We,We=n);else ke=n;ke===n&&(ke=he,N.charCodeAt(he)===123?(We=jn,he++):(We=n,Ke===0&&_t(hr)),We!==n?(ht=Wi(),ht!==n?(N.charCodeAt(he)===125?(St=xn,he++):(St=n,Ke===0&&_t(jr)),St!==n?(We=[We,ht,St],ke=We):(he=ke,ke=n)):(he=ke,ke=n)):(he=ke,ke=n))}return De!==n?ie=N.substring(ie,he):ie=De,ie}function ba(){var ie;return ni.test(N.charAt(he))?(ie=N.charAt(he),he++):(ie=n,Ke===0&&_t(ri)),ie}function _a(){var ie;return rr.test(N.charAt(he))?(ie=N.charAt(he),he++):(ie=n,Ke===0&&_t(Xn)),ie}function xa(){var ie;return Qn.test(N.charAt(he))?(ie=N.charAt(he),he++):(ie=n,Ke===0&&_t(Rn)),ie}function Aa(){var ie;return mr.test(N.charAt(he))?(ie=N.charAt(he),he++):(ie=n,Ke===0&&_t($n)),ie}function wa(){var ie;return ir.test(N.charAt(he))?(ie=N.charAt(he),he++):(ie=n,Ke===0&&_t(ii)),ie}function Da(){var ie;return Zn.test(N.charAt(he))?(ie=N.charAt(he),he++):(ie=n,Ke===0&&_t(Dr)),ie}function Sa(){var ie;return $r.test(N.charAt(he))?(ie=N.charAt(he),he++):(ie=n,Ke===0&&_t(Hr)),ie}function Ea(){var ie;return qr.test(N.charAt(he))?(ie=N.charAt(he),he++):(ie=n,Ke===0&&_t(Wr)),ie}function Ca(){var ie;return Pr.test(N.charAt(he))?(ie=N.charAt(he),he++):(ie=n,Ke===0&&_t(dr)),ie}function Na(){var ie;return Ir.test(N.charAt(he))?(ie=N.charAt(he),he++):(ie=n,Ke===0&&_t(Xr)),ie}function Ta(){var ie;return Yr.test(N.charAt(he))?(ie=N.charAt(he),he++):(ie=n,Ke===0&&_t(Sr)),ie}function Ma(){var ie,De,ke,We;return ie=he,N.substr(he,5)===Er?(De=Er,he+=5):(De=n,Ke===0&&_t(Qr)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Ua(){var ie,De,ke,We;return ie=he,N.substr(he,4)===Cr?(De=Cr,he+=4):(De=n,Ke===0&&_t(Zr)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function za(){var ie,De,ke,We;return ie=he,N.substr(he,5)===Fr?(De=Fr,he+=5):(De=n,Ke===0&&_t(Jr)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Ga(){var ie,De,ke,We;return ie=he,N.substr(he,5)===gr?(De=gr,he+=5):(De=n,Ke===0&&_t(ar)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Va(){var ie,De,ke,We;return ie=he,N.substr(he,5)===Nr?(De=Nr,he+=5):(De=n,Ke===0&&_t(Br)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function $a(){var ie,De,ke,We;return ie=he,N.substr(he,8)===mn?(De=mn,he+=8):(De=n,Ke===0&&_t(Kn)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Ha(){var ie,De,ke,We;return ie=he,N.substr(he,8)===zt?(De=zt,he+=8):(De=n,Ke===0&&_t(yr)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function qa(){var ie,De,ke,We;return ie=he,N.substr(he,7)===Mn?(De=Mn,he+=7):(De=n,Ke===0&&_t(pr)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Wa(){var ie,De,ke,We;return ie=he,N.substr(he,6)===Kr?(De=Kr,he+=6):(De=n,Ke===0&&_t(ai)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Xa(){var ie,De,ke,We;return ie=he,N.substr(he,2)===pn?(De=pn,he+=2):(De=n,Ke===0&&_t(ei)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Ya(){var ie,De,ke,We;return ie=he,N.substr(he,4)===Rr?(De=Rr,he+=4):(De=n,Ke===0&&_t(Ln)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Qa(){var ie,De,ke,We;return ie=he,N.substr(he,4)===Sn?(De=Sn,he+=4):(De=n,Ke===0&&_t(si)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Za(){var ie,De,ke,We;return ie=he,N.substr(he,6)===Tr?(De=Tr,he+=6):(De=n,Ke===0&&_t(oi)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Ja(){var ie,De,ke,We;return ie=he,N.substr(he,7)===kr?(De=kr,he+=7):(De=n,Ke===0&&_t(ci)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Ka(){var ie,De,ke,We;return ie=he,N.substr(he,5)===Lr?(De=Lr,he+=5):(De=n,Ke===0&&_t(_n)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function es(){var ie,De,ke,We;return ie=he,N.substr(he,7)===vr?(De=vr,he+=7):(De=n,Ke===0&&_t(Y)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function ts(){var ie,De,ke,We;return ie=he,N.substr(he,3)===K?(De=K,he+=3):(De=n,Ke===0&&_t(ae)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function ns(){var ie,De,ke,We;return ie=he,N.substr(he,8)===se?(De=se,he+=8):(De=n,Ke===0&&_t(ge)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function rs(){var ie,De,ke,We;return ie=he,N.substr(he,2)===Te?(De=Te,he+=2):(De=n,Ke===0&&_t(Pe)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function is(){var ie,De,ke,We;return ie=he,N.substr(he,6)===Ge?(De=Ge,he+=6):(De=n,Ke===0&&_t(Ze)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function as(){var ie,De,ke,We;return ie=he,N.substr(he,10)===Qe?(De=Qe,he+=10):(De=n,Ke===0&&_t(at)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function ss(){var ie,De,ke,We;return ie=he,N.substr(he,2)===pt?(De=pt,he+=2):(De=n,Ke===0&&_t(ut)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function os(){var ie,De,ke,We;return ie=he,N.substr(he,3)===et?(De=et,he+=3):(De=n,Ke===0&&_t(Ct)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function cs(){var ie,De,ke,We;return ie=he,N.substr(he,4)===vt?(De=vt,he+=4):(De=n,Ke===0&&_t(At)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function us(){var ie,De,ke,We;return ie=he,N.substr(he,6)===mt?(De=mt,he+=6):(De=n,Ke===0&&_t(gt)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function ls(){var ie,De,ke,We;return ie=he,N.substr(he,5)===Vt?(De=Vt,he+=5):(De=n,Ke===0&&_t(Qt)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function ds(){var ie,De,ke,We;return ie=he,N.substr(he,6)===$t?(De=$t,he+=6):(De=n,Ke===0&&_t(qt)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function ps(){var ie,De,ke,We;return ie=he,N.substr(he,4)===Kt?(De=Kt,he+=4):(De=n,Ke===0&&_t(gn)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function fs(){var ie,De,ke,We;return ie=he,N.substr(he,5)===An?(De=An,he+=5):(De=n,Ke===0&&_t(En)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function hs(){var ie,De,ke,We;return ie=he,N.substr(he,4)===Pn?(De=Pn,he+=4):(De=n,Ke===0&&_t(kn)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function gs(){var ie,De,ke,We;return ie=he,N.substr(he,3)===Yn?(De=Yn,he+=3):(De=n,Ke===0&&_t(hn)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function ys(){var ie,De,ke,We;return ie=he,N.substr(he,6)===yn?(De=yn,he+=6):(De=n,Ke===0&&_t(fn)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function vs(){var ie,De,ke,We;return ie=he,N.substr(he,3)===In?(De=In,he+=3):(De=n,Ke===0&&_t(wn)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function bs(){var ie,De,ke,We;return ie=he,N.substr(he,4)===On?(De=On,he+=4):(De=n,Ke===0&&_t(vn)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function _s(){var ie,De,ke,We;return ie=he,N.substr(he,5)===Nn?(De=Nn,he+=5):(De=n,Ke===0&&_t(Ur)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function xs(){var ie,De,ke,We;return ie=he,N.substr(he,4)===br?(De=br,he+=4):(De=n,Ke===0&&_t(Cn)),De!==n?(ke=he,Ke++,We=cn(),Ke--,We===n?ke=void 0:(he=ke,ke=n),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie}function Fn(){var ie,De;for(ie=[],De=Mi(),De===n&&(De=Oi(),De===n&&(De=Xi()));De!==n;)ie.push(De),De=Mi(),De===n&&(De=Oi(),De===n&&(De=Xi()));return ie}function As(){var ie,De;for(ie=[],De=Mi(),De===n&&(De=Yi());De!==n;)ie.push(De),De=Mi(),De===n&&(De=Yi());return ie}function Fa(){var ie,De,ke,We;return ie=he,De=Fn(),De!==n?(N.charCodeAt(he)===59?(ke=Yt,he++):(ke=n,Ke===0&&_t(fi)),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n),ie===n&&(ie=he,De=As(),De!==n?(ke=Qi(),ke===n&&(ke=null),ke!==n?(We=Oi(),We!==n?(De=[De,ke,We],ie=De):(he=ie,ie=n)):(he=ie,ie=n)):(he=ie,ie=n),ie===n&&(ie=he,De=Fn(),De!==n?(ke=ws(),ke!==n?(De=[De,ke],ie=De):(he=ie,ie=n)):(he=ie,ie=n))),ie}function ws(){var ie,De;return ie=he,Ke++,N.length>he?(De=N.charAt(he),he++):(De=n,Ke===0&&_t($)),Ke--,De===n?ie=void 0:(he=ie,ie=n),ie}var Ds={$:"text","&":"simple_and","!":"simple_not"},Ss={"?":"optional","*":"zero_or_more","+":"one_or_more"},Es={"&":"semantic_and","!":"semantic_not"};function Cs(ie){var De=[],ke;for(ke=0;ke<ie.length;ke++)ie[ke]!==""&&De.push(ie[ke]);return De}function Ns(ie,De){return ie?ie[De]:null}function Ba(ie,De){var ke=new Array(ie.length),We;for(We=0;We<ie.length;We++)ke[We]=ie[We][De];return ke}function Ra(ie,De,ke){return[ie].concat(Ba(De,ke))}if(li=r(),li!==n&&he===N.length)return li;throw li!==n&&he<N.length&&_t(bi()),Fi(pi,fr<N.length?N.charAt(fr):null,fr<N.length?mi(fr,fr+1):mi(fr,fr))}var parser$1={SyntaxError:peg$SyntaxError,parse:peg$parse},objects$5=objects_1,arrays$8=arrays_1,visitor$8={build:function(N){function u(h){return N[h.type].apply(null,arguments)}function n(){}function a(h){var m=Array.prototype.slice.call(arguments,1);u.apply(null,[h.expression].concat(m))}function r(h){return function(m){var p=Array.prototype.slice.call(arguments,1);arrays$8.each(m[h],function(A){u.apply(null,[A].concat(p))})}}var b={grammar:function(h){var m=Array.prototype.slice.call(arguments,1);h.initializer&&u.apply(null,[h.initializer].concat(m)),arrays$8.each(h.rules,function(p){u.apply(null,[p].concat(m))})},initializer:n,rule:a,named:a,choice:r("alternatives"),action:a,sequence:r("elements"),labeled:a,text:a,simple_and:a,simple_not:a,optional:a,zero_or_more:a,one_or_more:a,group:a,semantic_and:n,semantic_not:n,rule_ref:n,literal:n,class:n,any:n};return objects$5.defaults(N,b),u}},visitor_1=visitor$8,arrays$7=arrays_1,visitor$7=visitor_1,asts$5={findRule:function(N,u){return arrays$7.find(N.rules,function(n){return n.name===u})},indexOfRule:function(N,u){return arrays$7.indexOf(N.rules,function(n){return n.name===u})},alwaysConsumesOnSuccess:function(N,u){function n(){return!0}function a(){return!1}function r(h){return b(h.expression)}var b=visitor$7.build({rule:r,named:r,choice:function(h){return arrays$7.every(h.alternatives,b)},action:r,sequence:function(h){return arrays$7.some(h.elements,b)},labeled:r,text:r,simple_and:a,simple_not:a,optional:a,zero_or_more:a,one_or_more:r,group:r,semantic_and:a,semantic_not:a,rule_ref:function(h){return b(asts$5.findRule(N,h.name))},literal:function(h){return h.value!==""},class:n,any:n});return b(u)}},asts_1=asts$5,GrammarError$4=grammarError,asts$4=asts_1,visitor$6=visitor_1;function reportUndefinedRules(N){var u=visitor$6.build({rule_ref:function(n){if(!asts$4.findRule(N,n.name))throw new GrammarError$4('Rule "'+n.name+'" is not defined.',n.location)}});u(N)}var reportUndefinedRules_1=reportUndefinedRules,GrammarError$3=grammarError,visitor$5=visitor_1;function reportDuplicateRules(N){var u={},n=visitor$5.build({rule:function(a){if(u.hasOwnProperty(a.name))throw new GrammarError$3('Rule "'+a.name+'" is already defined at line '+u[a.name].start.line+", column "+u[a.name].start.column+".",a.location);u[a.name]=a.location}});n(N)}var reportDuplicateRules_1=reportDuplicateRules,GrammarError$2=grammarError,arrays$6=arrays_1,objects$4=objects_1,visitor$4=visitor_1;function reportDuplicateLabels(N){function u(a,r){n(a.expression,objects$4.clone(r))}var n=visitor$4.build({rule:function(a){n(a.expression,{})},choice:function(a,r){arrays$6.each(a.alternatives,function(b){n(b,objects$4.clone(r))})},action:u,labeled:function(a,r){if(r.hasOwnProperty(a.label))throw new GrammarError$2('Label "'+a.label+'" is already defined at line '+r[a.label].start.line+", column "+r[a.label].start.column+".",a.location);n(a.expression,r),r[a.label]=a.location},text:u,simple_and:u,simple_not:u,optional:u,zero_or_more:u,one_or_more:u,group:u});n(N)}var reportDuplicateLabels_1=reportDuplicateLabels,arrays$5=arrays_1,GrammarError$1=grammarError,asts$3=asts_1,visitor$3=visitor_1;function reportInfiniteRecursion(N){var u=[],n=visitor$3.build({rule:function(a){u.push(a.name),n(a.expression),u.pop(a.name)},sequence:function(a){arrays$5.every(a.elements,function(r){return n(r),!asts$3.alwaysConsumesOnSuccess(N,r)})},rule_ref:function(a){if(arrays$5.contains(u,a.name))throw u.push(a.name),new GrammarError$1("Possible infinite loop when parsing (left recursion: "+u.join(" -> ")+").",a.location);n(asts$3.findRule(N,a.name))}});n(N)}var reportInfiniteRecursion_1=reportInfiniteRecursion,GrammarError=grammarError,asts$2=asts_1,visitor$2=visitor_1;function reportInfiniteRepetition(N){var u=visitor$2.build({zero_or_more:function(n){if(!asts$2.alwaysConsumesOnSuccess(N,n.expression))throw new GrammarError("Possible infinite loop when parsing (repetition used with an expression that may not consume any input).",n.location)},one_or_more:function(n){if(!asts$2.alwaysConsumesOnSuccess(N,n.expression))throw new GrammarError("Possible infinite loop when parsing (repetition used with an expression that may not consume any input).",n.location)}});u(N)}var reportInfiniteRepetition_1=reportInfiniteRepetition,arrays$4=arrays_1,visitor$1=visitor_1;function removeProxyRules(N,u){function n(b){return b.type==="rule"&&b.expression.type==="rule_ref"}function a(b,h,m){var p=visitor$1.build({rule_ref:function(A){A.name===h&&(A.name=m)}});p(b)}var r=[];arrays$4.each(N.rules,function(b,h){n(b)&&(a(N,b.name,b.expression.name),arrays$4.contains(u.allowedStartRules,b.name)||r.push(h))}),r.reverse(),arrays$4.each(r,function(b){N.rules.splice(b,1)})}var removeProxyRules_1=removeProxyRules,opcodes={PUSH:0,PUSH_UNDEFINED:1,PUSH_NULL:2,PUSH_FAILED:3,PUSH_EMPTY_ARRAY:4,PUSH_CURR_POS:5,POP:6,POP_CURR_POS:7,POP_N:8,NIP:9,APPEND:10,WRAP:11,TEXT:12,IF:13,IF_ERROR:14,IF_NOT_ERROR:15,WHILE_NOT_ERROR:16,MATCH_ANY:17,MATCH_STRING:18,MATCH_STRING_IC:19,MATCH_REGEXP:20,ACCEPT_N:21,ACCEPT_STRING:22,FAIL:23,LOAD_SAVED_POS:24,UPDATE_SAVED_POS:25,CALL:26,RULE:27,SILENT_FAILS_ON:28,SILENT_FAILS_OFF:29},opcodes_1=opcodes;function hex(N){return N.charCodeAt(0).toString(16).toUpperCase()}var js$2={stringEscape:function(N){return N.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+hex(u)}).replace(/[\x10-\x1F\x7F-\xFF]/g,function(u){return"\\x"+hex(u)}).replace(/[\u0100-\u0FFF]/g,function(u){return"\\u0"+hex(u)}).replace(/[\u1000-\uFFFF]/g,function(u){return"\\u"+hex(u)})},regexpClassEscape:function(N){return N.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\v/g,"\\x0B").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+hex(u)}).replace(/[\x10-\x1F\x7F-\xFF]/g,function(u){return"\\x"+hex(u)}).replace(/[\u0100-\u0FFF]/g,function(u){return"\\u0"+hex(u)}).replace(/[\u1000-\uFFFF]/g,function(u){return"\\u"+hex(u)})}},js_1=js$2,arrays$3=arrays_1,objects$3=objects_1,asts$1=asts_1,visitor=visitor_1,op$1=opcodes_1,js$1=js_1;function generateBytecode(N){var u=[];function n(l){var y=arrays$3.indexOf(u,l);return y===-1?u.push(l)-1:y}function a(l,y){return n("function("+l.join(", ")+") {"+y+"}")}function r(){return Array.prototype.concat.apply([],arguments)}function b(l,y,o){return l.concat([y.length,o.length],y,o)}function h(l,y){return l.concat([y.length],y)}function m(l,y,o,f){var x=arrays$3.map(objects$3.values(o),function(g){return f-g});return[op$1.CALL,l,y,x.length].concat(x)}function p(l,y,o){return r([op$1.PUSH_CURR_POS],[op$1.SILENT_FAILS_ON],_(l,{sp:o.sp+1,env:objects$3.clone(o.env),action:null}),[op$1.SILENT_FAILS_OFF],b([y?op$1.IF_ERROR:op$1.IF_NOT_ERROR],r([op$1.POP],[y?op$1.POP:op$1.POP_CURR_POS],[op$1.PUSH_UNDEFINED]),r([op$1.POP],[y?op$1.POP_CURR_POS:op$1.POP],[op$1.PUSH_FAILED])))}function A(l,y,o){var f=a(objects$3.keys(o.env),l);return r([op$1.UPDATE_SAVED_POS],m(f,0,o.env,o.sp),b([op$1.IF],r([op$1.POP],y?[op$1.PUSH_FAILED]:[op$1.PUSH_UNDEFINED]),r([op$1.POP],y?[op$1.PUSH_UNDEFINED]:[op$1.PUSH_FAILED])))}function S(l){return h([op$1.WHILE_NOT_ERROR],r([op$1.APPEND],l))}var _=visitor.build({grammar:function(l){arrays$3.each(l.rules,_),l.consts=u},rule:function(l){l.bytecode=_(l.expression,{sp:-1,env:{},action:null})},named:function(l,y){var o=n('peg$otherExpectation("'+js$1.stringEscape(l.name)+'")');return r([op$1.SILENT_FAILS_ON],_(l.expression,y),[op$1.SILENT_FAILS_OFF],b([op$1.IF_ERROR],[op$1.FAIL,o],[]))},choice:function(l,y){function o(f,x){return r(_(f[0],{sp:x.sp,env:objects$3.clone(x.env),action:null}),f.length>1?b([op$1.IF_ERROR],r([op$1.POP],o(f.slice(1),x)),[]):[])}return o(l.alternatives,y)},action:function(l,y){var o=objects$3.clone(y.env),f=l.expression.type!=="sequence"||l.expression.elements.length===0,x=_(l.expression,{sp:y.sp+(f?1:0),env:o,action:l}),g=a(objects$3.keys(o),l.code);return f?r([op$1.PUSH_CURR_POS],x,b([op$1.IF_NOT_ERROR],r([op$1.LOAD_SAVED_POS,1],m(g,1,o,y.sp+2)),[]),[op$1.NIP]):x},sequence:function(l,y){function o(f,x){var g,D;return f.length>0?(g=l.elements.length-f.slice(1).length,r(_(f[0],{sp:x.sp,env:x.env,action:null}),b([op$1.IF_NOT_ERROR],o(f.slice(1),{sp:x.sp+1,env:x.env,action:x.action}),r(g>1?[op$1.POP_N,g]:[op$1.POP],[op$1.POP_CURR_POS],[op$1.PUSH_FAILED])))):x.action?(D=a(objects$3.keys(x.env),x.action.code),r([op$1.LOAD_SAVED_POS,l.elements.length],m(D,l.elements.length,x.env,x.sp),[op$1.NIP])):r([op$1.WRAP,l.elements.length],[op$1.NIP])}return r([op$1.PUSH_CURR_POS],o(l.elements,{sp:y.sp+1,env:y.env,action:y.action}))},labeled:function(l,y){var o=objects$3.clone(y.env);return y.env[l.label]=y.sp+1,_(l.expression,{sp:y.sp,env:o,action:null})},text:function(l,y){return r([op$1.PUSH_CURR_POS],_(l.expression,{sp:y.sp+1,env:objects$3.clone(y.env),action:null}),b([op$1.IF_NOT_ERROR],r([op$1.POP],[op$1.TEXT]),[op$1.NIP]))},simple_and:function(l,y){return p(l.expression,!1,y)},simple_not:function(l,y){return p(l.expression,!0,y)},optional:function(l,y){return r(_(l.expression,{sp:y.sp,env:objects$3.clone(y.env),action:null}),b([op$1.IF_ERROR],r([op$1.POP],[op$1.PUSH_NULL]),[]))},zero_or_more:function(l,y){var o=_(l.expression,{sp:y.sp+1,env:objects$3.clone(y.env),action:null});return r([op$1.PUSH_EMPTY_ARRAY],o,S(o),[op$1.POP])},one_or_more:function(l,y){var o=_(l.expression,{sp:y.sp+1,env:objects$3.clone(y.env),action:null});return r([op$1.PUSH_EMPTY_ARRAY],o,b([op$1.IF_NOT_ERROR],r(S(o),[op$1.POP]),r([op$1.POP],[op$1.POP],[op$1.PUSH_FAILED])))},group:function(l,y){return _(l.expression,{sp:y.sp,env:objects$3.clone(y.env),action:null})},semantic_and:function(l,y){return A(l.code,!1,y)},semantic_not:function(l,y){return A(l.code,!0,y)},rule_ref:function(l){return[op$1.RULE,asts$1.indexOfRule(N,l.name)]},literal:function(l){var y,o;return l.value.length>0?(y=n('"'+js$1.stringEscape(l.ignoreCase?l.value.toLowerCase():l.value)+'"'),o=n('peg$literalExpectation("'+js$1.stringEscape(l.value)+'", '+l.ignoreCase+")"),b(l.ignoreCase?[op$1.MATCH_STRING_IC,y]:[op$1.MATCH_STRING,y],l.ignoreCase?[op$1.ACCEPT_N,l.value.length]:[op$1.ACCEPT_STRING,y],[op$1.FAIL,o])):(y=n('""'),[op$1.PUSH,y])},class:function(l){var y,o,f,x;return l.parts.length>0?y="/^["+(l.inverted?"^":"")+arrays$3.map(l.parts,function(g){return g instanceof Array?js$1.regexpClassEscape(g[0])+"-"+js$1.regexpClassEscape(g[1]):js$1.regexpClassEscape(g)}).join("")+"]/"+(l.ignoreCase?"i":""):y=l.inverted?"/^[\\S\\s]/":"/^(?!)/",o="["+arrays$3.map(l.parts,function(g){return g instanceof Array?'["'+js$1.stringEscape(g[0])+'", "'+js$1.stringEscape(g[1])+'"]':'"'+js$1.stringEscape(g)+'"'}).join(", ")+"]",f=n(y),x=n("peg$classExpectation("+o+", "+l.inverted+", "+l.ignoreCase+")"),b([op$1.MATCH_REGEXP,f],[op$1.ACCEPT_N,1],[op$1.FAIL,x])},any:function(){var l=n("peg$anyExpectation()");return b([op$1.MATCH_ANY],[op$1.ACCEPT_N,1],[op$1.FAIL,l])}});_(N)}var generateBytecode_1=generateBytecode,arrays$2=arrays_1,objects$2=objects_1,asts=asts_1,op=opcodes_1,js=js_1;function generateJS(ast,options){function indent2(N){return N.replace(/^(.+)$/gm,"  $1")}function indent6(N){return N.replace(/^(.+)$/gm,"      $1")}function indent10(N){return N.replace(/^(.+)$/gm,"          $1")}function generateTables(){return options.optimize==="size"?["peg$consts = [",indent2(ast.consts.join(`,
`)),"],","","peg$bytecode = [",indent2(arrays$2.map(ast.rules,function(N){return'peg$decode("'+js.stringEscape(arrays$2.map(N.bytecode,function(u){return String.fromCharCode(u+32)}).join(""))+'")'}).join(`,
`)),"],"].join(`
`):arrays$2.map(ast.consts,function(N,u){return"peg$c"+u+" = "+N+","}).join(`
`)}function generateRuleHeader(N,u){var n=[];return n.push(""),options.trace&&n.push(["peg$tracer.trace({",'  type:     "rule.enter",',"  rule:     "+N+",","  location: peg$computeLocation(startPos, startPos)","});",""].join(`
`)),options.cache&&(n.push(["var key    = peg$currPos * "+ast.rules.length+" + "+u+",","    cached = peg$resultsCache[key];","","if (cached) {","  peg$currPos = cached.nextPos;",""].join(`
`)),options.trace&&n.push(["if (cached.result !== peg$FAILED) {","  peg$tracer.trace({",'    type:   "rule.match",',"    rule:   "+N+",","    result: cached.result,","    location: peg$computeLocation(startPos, peg$currPos)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+N+",","    location: peg$computeLocation(startPos, startPos)","  });","}",""].join(`
`)),n.push(["  return cached.result;","}",""].join(`
`))),n.join(`
`)}function generateRuleFooter(N,u){var n=[];return options.cache&&n.push(["","peg$resultsCache[key] = { nextPos: peg$currPos, result: "+u+" };"].join(`
`)),options.trace&&n.push(["","if ("+u+" !== peg$FAILED) {","  peg$tracer.trace({",'    type:   "rule.match",',"    rule:   "+N+",","    result: "+u+",","    location: peg$computeLocation(startPos, peg$currPos)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+N+",","    location: peg$computeLocation(startPos, startPos)","  });","}"].join(`
`)),n.push(["","return "+u+";"].join(`
`)),n.join(`
`)}function generateInterpreter(){var N=[];function u(r,b){var h=b+3,m="bc[ip + "+(h-2)+"]",p="bc[ip + "+(h-1)+"]";return["ends.push(end);","ips.push(ip + "+h+" + "+m+" + "+p+");","","if ("+r+") {","  end = ip + "+h+" + "+m+";","  ip += "+h+";","} else {","  end = ip + "+h+" + "+m+" + "+p+";","  ip += "+h+" + "+m+";","}","","break;"].join(`
`)}function n(r){var b=2,h="bc[ip + "+(b-1)+"]";return["if ("+r+") {","  ends.push(end);","  ips.push(ip);","","  end = ip + "+b+" + "+h+";","  ip += "+b+";","} else {","  ip += "+b+" + "+h+";","}","","break;"].join(`
`)}function a(){var r=4,b="bc[ip + "+(r-1)+"]";return["params = bc.slice(ip + "+r+", ip + "+r+" + "+b+");","for (i = 0; i < "+b+"; i++) {","  params[i] = stack[stack.length - 1 - params[i]];","}","","stack.splice(","  stack.length - bc[ip + 2],","  bc[ip + 2],","  peg$consts[bc[ip + 1]].apply(null, params)",");","","ip += "+r+" + "+b+";","break;"].join(`
`)}return N.push(["function peg$decode(s) {","  var bc = new Array(s.length), i;","","  for (i = 0; i < s.length; i++) {","    bc[i] = s.charCodeAt(i) - 32;","  }","","  return bc;","}","","function peg$parseRule(index) {"].join(`
`)),options.trace?N.push(["  var bc       = peg$bytecode[index],","      ip       = 0,","      ips      = [],","      end      = bc.length,","      ends     = [],","      stack    = [],","      startPos = peg$currPos,","      params, i;"].join(`
`)):N.push(["  var bc    = peg$bytecode[index],","      ip    = 0,","      ips   = [],","      end   = bc.length,","      ends  = [],","      stack = [],","      params, i;"].join(`
`)),N.push(indent2(generateRuleHeader("peg$ruleNames[index]","index"))),N.push(["  while (true) {","    while (ip < end) {","      switch (bc[ip]) {","        case "+op.PUSH+":","          stack.push(peg$consts[bc[ip + 1]]);","          ip += 2;","          break;","","        case "+op.PUSH_UNDEFINED+":","          stack.push(void 0);","          ip++;","          break;","","        case "+op.PUSH_NULL+":","          stack.push(null);","          ip++;","          break;","","        case "+op.PUSH_FAILED+":","          stack.push(peg$FAILED);","          ip++;","          break;","","        case "+op.PUSH_EMPTY_ARRAY+":","          stack.push([]);","          ip++;","          break;","","        case "+op.PUSH_CURR_POS+":","          stack.push(peg$currPos);","          ip++;","          break;","","        case "+op.POP+":","          stack.pop();","          ip++;","          break;","","        case "+op.POP_CURR_POS+":","          peg$currPos = stack.pop();","          ip++;","          break;","","        case "+op.POP_N+":","          stack.length -= bc[ip + 1];","          ip += 2;","          break;","","        case "+op.NIP+":","          stack.splice(-2, 1);","          ip++;","          break;","","        case "+op.APPEND+":","          stack[stack.length - 2].push(stack.pop());","          ip++;","          break;","","        case "+op.WRAP+":","          stack.push(stack.splice(stack.length - bc[ip + 1], bc[ip + 1]));","          ip += 2;","          break;","","        case "+op.TEXT+":","          stack.push(input.substring(stack.pop(), peg$currPos));","          ip++;","          break;","","        case "+op.IF+":",indent10(u("stack[stack.length - 1]",0)),"","        case "+op.IF_ERROR+":",indent10(u("stack[stack.length - 1] === peg$FAILED",0)),"","        case "+op.IF_NOT_ERROR+":",indent10(u("stack[stack.length - 1] !== peg$FAILED",0)),"","        case "+op.WHILE_NOT_ERROR+":",indent10(n("stack[stack.length - 1] !== peg$FAILED")),"","        case "+op.MATCH_ANY+":",indent10(u("input.length > peg$currPos",0)),"","        case "+op.MATCH_STRING+":",indent10(u("input.substr(peg$currPos, peg$consts[bc[ip + 1]].length) === peg$consts[bc[ip + 1]]",1)),"","        case "+op.MATCH_STRING_IC+":",indent10(u("input.substr(peg$currPos, peg$consts[bc[ip + 1]].length).toLowerCase() === peg$consts[bc[ip + 1]]",1)),"","        case "+op.MATCH_REGEXP+":",indent10(u("peg$consts[bc[ip + 1]].test(input.charAt(peg$currPos))",1)),"","        case "+op.ACCEPT_N+":","          stack.push(input.substr(peg$currPos, bc[ip + 1]));","          peg$currPos += bc[ip + 1];","          ip += 2;","          break;","","        case "+op.ACCEPT_STRING+":","          stack.push(peg$consts[bc[ip + 1]]);","          peg$currPos += peg$consts[bc[ip + 1]].length;","          ip += 2;","          break;","","        case "+op.FAIL+":","          stack.push(peg$FAILED);","          if (peg$silentFails === 0) {","            peg$fail(peg$consts[bc[ip + 1]]);","          }","          ip += 2;","          break;","","        case "+op.LOAD_SAVED_POS+":","          peg$savedPos = stack[stack.length - 1 - bc[ip + 1]];","          ip += 2;","          break;","","        case "+op.UPDATE_SAVED_POS+":","          peg$savedPos = peg$currPos;","          ip++;","          break;","","        case "+op.CALL+":",indent10(a()),"","        case "+op.RULE+":","          stack.push(peg$parseRule(bc[ip + 1]));","          ip += 2;","          break;","","        case "+op.SILENT_FAILS_ON+":","          peg$silentFails++;","          ip++;","          break;","","        case "+op.SILENT_FAILS_OFF+":","          peg$silentFails--;","          ip++;","          break;","","        default:",'          throw new Error("Invalid opcode: " + bc[ip] + ".");',"      }","    }","","    if (ends.length > 0) {","      end = ends.pop();","      ip = ips.pop();","    } else {","      break;","    }","  }"].join(`
`)),N.push(indent2(generateRuleFooter("peg$ruleNames[index]","stack[0]"))),N.push("}"),N.join(`
`)}function generateRuleFunction(rule){var parts=[],code;function c(N){return"peg$c"+N}function s(N){return"s"+N}var stack={sp:-1,maxSp:-1,push:function(N){var u=s(++this.sp)+" = "+N+";";return this.sp>this.maxSp&&(this.maxSp=this.sp),u},pop:function(N){var u;return N===void 0?s(this.sp--):(u=arrays$2.map(arrays$2.range(this.sp-N+1,this.sp+1),s),this.sp-=N,u)},top:function(){return s(this.sp)},index:function(N){return s(this.sp-N)}};function compile(bc){var ip=0,end=bc.length,parts=[],value;function compileCondition(N,u){var n=u+3,a=bc[ip+n-2],r=bc[ip+n-1],b=stack.sp,h,m,p,A;if(ip+=n,h=compile(bc.slice(ip,ip+a)),p=stack.sp,ip+=a,r>0&&(stack.sp=b,m=compile(bc.slice(ip,ip+r)),A=stack.sp,ip+=r,p!==A))throw new Error("Branches of a condition must move the stack pointer in the same way.");parts.push("if ("+N+") {"),parts.push(indent2(h)),r>0&&(parts.push("} else {"),parts.push(indent2(m))),parts.push("}")}function compileLoop(N){var u=2,n=bc[ip+u-1],a=stack.sp,r,b;if(ip+=u,r=compile(bc.slice(ip,ip+n)),b=stack.sp,ip+=n,b!==a)throw new Error("Body of a loop can't move the stack pointer.");parts.push("while ("+N+") {"),parts.push(indent2(r)),parts.push("}")}function compileCall(){var N=4,u=bc[ip+N-1],n=c(bc[ip+1])+"("+arrays$2.map(bc.slice(ip+N,ip+N+u),function(a){return stack.index(a)}).join(", ")+")";stack.pop(bc[ip+2]),parts.push(stack.push(n)),ip+=N+u}for(;ip<end;)switch(bc[ip]){case op.PUSH:parts.push(stack.push(c(bc[ip+1]))),ip+=2;break;case op.PUSH_CURR_POS:parts.push(stack.push("peg$currPos")),ip++;break;case op.PUSH_UNDEFINED:parts.push(stack.push("void 0")),ip++;break;case op.PUSH_NULL:parts.push(stack.push("null")),ip++;break;case op.PUSH_FAILED:parts.push(stack.push("peg$FAILED")),ip++;break;case op.PUSH_EMPTY_ARRAY:parts.push(stack.push("[]")),ip++;break;case op.POP:stack.pop(),ip++;break;case op.POP_CURR_POS:parts.push("peg$currPos = "+stack.pop()+";"),ip++;break;case op.POP_N:stack.pop(bc[ip+1]),ip+=2;break;case op.NIP:value=stack.pop(),stack.pop(),parts.push(stack.push(value)),ip++;break;case op.APPEND:value=stack.pop(),parts.push(stack.top()+".push("+value+");"),ip++;break;case op.WRAP:parts.push(stack.push("["+stack.pop(bc[ip+1]).join(", ")+"]")),ip+=2;break;case op.TEXT:parts.push(stack.push("input.substring("+stack.pop()+", peg$currPos)")),ip++;break;case op.IF:compileCondition(stack.top(),0);break;case op.IF_ERROR:compileCondition(stack.top()+" === peg$FAILED",0);break;case op.IF_NOT_ERROR:compileCondition(stack.top()+" !== peg$FAILED",0);break;case op.WHILE_NOT_ERROR:compileLoop(stack.top()+" !== peg$FAILED");break;case op.MATCH_ANY:compileCondition("input.length > peg$currPos",0);break;case op.MATCH_STRING:compileCondition(eval(ast.consts[bc[ip+1]]).length>1?"input.substr(peg$currPos, "+eval(ast.consts[bc[ip+1]]).length+") === "+c(bc[ip+1]):"input.charCodeAt(peg$currPos) === "+eval(ast.consts[bc[ip+1]]).charCodeAt(0),1);break;case op.MATCH_STRING_IC:compileCondition("input.substr(peg$currPos, "+eval(ast.consts[bc[ip+1]]).length+").toLowerCase() === "+c(bc[ip+1]),1);break;case op.MATCH_REGEXP:compileCondition(c(bc[ip+1])+".test(input.charAt(peg$currPos))",1);break;case op.ACCEPT_N:parts.push(stack.push(bc[ip+1]>1?"input.substr(peg$currPos, "+bc[ip+1]+")":"input.charAt(peg$currPos)")),parts.push(bc[ip+1]>1?"peg$currPos += "+bc[ip+1]+";":"peg$currPos++;"),ip+=2;break;case op.ACCEPT_STRING:parts.push(stack.push(c(bc[ip+1]))),parts.push(eval(ast.consts[bc[ip+1]]).length>1?"peg$currPos += "+eval(ast.consts[bc[ip+1]]).length+";":"peg$currPos++;"),ip+=2;break;case op.FAIL:parts.push(stack.push("peg$FAILED")),parts.push("if (peg$silentFails === 0) { peg$fail("+c(bc[ip+1])+"); }"),ip+=2;break;case op.LOAD_SAVED_POS:parts.push("peg$savedPos = "+stack.index(bc[ip+1])+";"),ip+=2;break;case op.UPDATE_SAVED_POS:parts.push("peg$savedPos = peg$currPos;"),ip++;break;case op.CALL:compileCall();break;case op.RULE:parts.push(stack.push("peg$parse"+ast.rules[bc[ip+1]].name+"()")),ip+=2;break;case op.SILENT_FAILS_ON:parts.push("peg$silentFails++;"),ip++;break;case op.SILENT_FAILS_OFF:parts.push("peg$silentFails--;"),ip++;break;default:throw new Error("Invalid opcode: "+bc[ip]+".")}return parts.join(`
`)}return code=compile(rule.bytecode),parts.push("function peg$parse"+rule.name+"() {"),options.trace?parts.push(["  var "+arrays$2.map(arrays$2.range(0,stack.maxSp+1),s).join(", ")+",","      startPos = peg$currPos;"].join(`
`)):parts.push("  var "+arrays$2.map(arrays$2.range(0,stack.maxSp+1),s).join(", ")+";"),parts.push(indent2(generateRuleHeader('"'+js.stringEscape(rule.name)+'"',asts.indexOfRule(ast,rule.name)))),parts.push(indent2(code)),parts.push(indent2(generateRuleFooter('"'+js.stringEscape(rule.name)+'"',s(0)))),parts.push("}"),parts.join(`
`)}function generateToplevel(){var N=[],u,n,a,r,b;return N.push(["function peg$subclass(child, parent) {","  function ctor() { this.constructor = child; }","  ctor.prototype = parent.prototype;","  child.prototype = new ctor();","}","","function peg$SyntaxError(message, expected, found, location) {","  this.message  = message;","  this.expected = expected;","  this.found    = found;","  this.location = location;",'  this.name     = "SyntaxError";',"",'  if (typeof Error.captureStackTrace === "function") {',"    Error.captureStackTrace(this, peg$SyntaxError);","  }","}","","peg$subclass(peg$SyntaxError, Error);","","peg$SyntaxError.buildMessage = function(expected, found) {","  var DESCRIBE_EXPECTATION_FNS = {","        literal: function(expectation) {",'          return "\\"" + literalEscape(expectation.text) + "\\"";',"        },","",'        "class": function(expectation) {','          var escapedParts = "",',"              i;","","          for (i = 0; i < expectation.parts.length; i++) {","            escapedParts += expectation.parts[i] instanceof Array",'              ? classEscape(expectation.parts[i][0]) + "-" + classEscape(expectation.parts[i][1])',"              : classEscape(expectation.parts[i]);","          }","",'          return "[" + (expectation.inverted ? "^" : "") + escapedParts + "]";',"        },","","        any: function(expectation) {",'          return "any character";',"        },","","        end: function(expectation) {",'          return "end of input";',"        },","","        other: function(expectation) {","          return expectation.description;","        }","      };","","  function hex(ch) {","    return ch.charCodeAt(0).toString(16).toUpperCase();","  }","","  function literalEscape(s) {","    return s","      .replace(/\\\\/g, '\\\\\\\\')",`      .replace(/"/g,  '\\\\"')`,"      .replace(/\\0/g, '\\\\0')","      .replace(/\\t/g, '\\\\t')","      .replace(/\\n/g, '\\\\n')","      .replace(/\\r/g, '\\\\r')","      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })","      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });","  }","","  function classEscape(s) {","    return s","      .replace(/\\\\/g, '\\\\\\\\')","      .replace(/\\]/g, '\\\\]')","      .replace(/\\^/g, '\\\\^')","      .replace(/-/g,  '\\\\-')","      .replace(/\\0/g, '\\\\0')","      .replace(/\\t/g, '\\\\t')","      .replace(/\\n/g, '\\\\n')","      .replace(/\\r/g, '\\\\r')","      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })","      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });","  }","","  function describeExpectation(expectation) {","    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);","  }","","  function describeExpected(expected) {","    var descriptions = new Array(expected.length),","        i, j;","","    for (i = 0; i < expected.length; i++) {","      descriptions[i] = describeExpectation(expected[i]);","    }","","    descriptions.sort();","","    if (descriptions.length > 0) {","      for (i = 1, j = 1; i < descriptions.length; i++) {","        if (descriptions[i - 1] !== descriptions[i]) {","          descriptions[j] = descriptions[i];","          j++;","        }","      }","      descriptions.length = j;","    }","","    switch (descriptions.length) {","      case 1:","        return descriptions[0];","","      case 2:",'        return descriptions[0] + " or " + descriptions[1];',"","      default:",'        return descriptions.slice(0, -1).join(", ")','          + ", or "',"          + descriptions[descriptions.length - 1];","    }","  }","","  function describeFound(found) {",'    return found ? "\\"" + literalEscape(found) + "\\"" : "end of input";',"  }","",'  return "Expected " + describeExpected(expected) + " but " + describeFound(found) + " found.";',"};",""].join(`
`)),options.trace&&N.push(["function peg$DefaultTracer() {","  this.indentLevel = 0;","}","","peg$DefaultTracer.prototype.trace = function(event) {","  var that = this;","","  function log(event) {","    function repeat(string, n) {",'       var result = "", i;',"","       for (i = 0; i < n; i++) {","         result += string;","       }","","       return result;","    }","","    function pad(string, length) {",'      return string + repeat(" ", length - string.length);',"    }","",'    if (typeof console === "object") {',"      console.log(",'        event.location.start.line + ":" + event.location.start.column + "-"','          + event.location.end.line + ":" + event.location.end.column + " "','          + pad(event.type, 10) + " "','          + repeat("  ", that.indentLevel) + event.rule',"      );","    }","  }","","  switch (event.type) {",'    case "rule.enter":',"      log(event);","      this.indentLevel++;","      break;","",'    case "rule.match":',"      this.indentLevel--;","      log(event);","      break;","",'    case "rule.fail":',"      this.indentLevel--;","      log(event);","      break;","","    default:",'      throw new Error("Invalid event type: " + event.type + ".");',"  }","};",""].join(`
`)),N.push(["function peg$parse(input, options) {","  options = options !== void 0 ? options : {};","","  var peg$FAILED = {},",""].join(`
`)),options.optimize==="size"?(u="{ "+arrays$2.map(options.allowedStartRules,function(h){return h+": "+asts.indexOfRule(ast,h)}).join(", ")+" }",n=asts.indexOfRule(ast,options.allowedStartRules[0]),N.push(["      peg$startRuleIndices = "+u+",","      peg$startRuleIndex   = "+n+","].join(`
`))):(a="{ "+arrays$2.map(options.allowedStartRules,function(h){return h+": peg$parse"+h}).join(", ")+" }",r="peg$parse"+options.allowedStartRules[0],N.push(["      peg$startRuleFunctions = "+a+",","      peg$startRuleFunction  = "+r+","].join(`
`))),N.push(""),N.push(indent6(generateTables())),N.push(["","      peg$currPos          = 0,","      peg$savedPos         = 0,","      peg$posDetailsCache  = [{ line: 1, column: 1 }],","      peg$maxFailPos       = 0,","      peg$maxFailExpected  = [],","      peg$silentFails      = 0,",""].join(`
`)),options.cache&&N.push(["      peg$resultsCache = {},",""].join(`
`)),options.trace&&(options.optimize==="size"&&(b="["+arrays$2.map(ast.rules,function(h){return'"'+js.stringEscape(h.name)+'"'}).join(", ")+"]",N.push(["      peg$ruleNames = "+b+",",""].join(`
`))),N.push(['      peg$tracer = "tracer" in options ? options.tracer : new peg$DefaultTracer(),',""].join(`
`))),N.push(["      peg$result;",""].join(`
`)),options.optimize==="size"?N.push(['  if ("startRule" in options) {',"    if (!(options.startRule in peg$startRuleIndices)) {",`      throw new Error("Can't start parsing from rule \\"" + options.startRule + "\\".");`,"    }","","    peg$startRuleIndex = peg$startRuleIndices[options.startRule];","  }"].join(`
`)):N.push(['  if ("startRule" in options) {',"    if (!(options.startRule in peg$startRuleFunctions)) {",`      throw new Error("Can't start parsing from rule \\"" + options.startRule + "\\".");`,"    }","","    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];","  }"].join(`
`)),N.push(["","  function text() {","    return input.substring(peg$savedPos, peg$currPos);","  }","","  function location() {","    return peg$computeLocation(peg$savedPos, peg$currPos);","  }","","  function expected(description, location) {","    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)","","    throw peg$buildStructuredError(","      [peg$otherExpectation(description)],","      input.substring(peg$savedPos, peg$currPos),","      location","    );","  }","","  function error(message, location) {","    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)","","    throw peg$buildSimpleError(message, location);","  }","","  function peg$literalExpectation(text, ignoreCase) {",'    return { type: "literal", text: text, ignoreCase: ignoreCase };',"  }","","  function peg$classExpectation(parts, inverted, ignoreCase) {",'    return { type: "class", parts: parts, inverted: inverted, ignoreCase: ignoreCase };',"  }","","  function peg$anyExpectation() {",'    return { type: "any" };',"  }","","  function peg$endExpectation() {",'    return { type: "end" };',"  }","","  function peg$otherExpectation(description) {",'    return { type: "other", description: description };',"  }","","  function peg$computePosDetails(pos) {","    var details = peg$posDetailsCache[pos], p;","","    if (details) {","      return details;","    } else {","      p = pos - 1;","      while (!peg$posDetailsCache[p]) {","        p--;","      }","","      details = peg$posDetailsCache[p];","      details = {","        line:   details.line,","        column: details.column","      };","","      while (p < pos) {","        if (input.charCodeAt(p) === 10) {","          details.line++;","          details.column = 1;","        } else {","          details.column++;","        }","","        p++;","      }","","      peg$posDetailsCache[pos] = details;","      return details;","    }","  }","","  function peg$computeLocation(startPos, endPos) {","    var startPosDetails = peg$computePosDetails(startPos),","        endPosDetails   = peg$computePosDetails(endPos);","","    return {","      start: {","        offset: startPos,","        line:   startPosDetails.line,","        column: startPosDetails.column","      },","      end: {","        offset: endPos,","        line:   endPosDetails.line,","        column: endPosDetails.column","      }","    };","  }","","  function peg$fail(expected) {","    if (peg$currPos < peg$maxFailPos) { return; }","","    if (peg$currPos > peg$maxFailPos) {","      peg$maxFailPos = peg$currPos;","      peg$maxFailExpected = [];","    }","","    peg$maxFailExpected.push(expected);","  }","","  function peg$buildSimpleError(message, location) {","    return new peg$SyntaxError(message, null, null, location);","  }","","  function peg$buildStructuredError(expected, found, location) {","    return new peg$SyntaxError(","      peg$SyntaxError.buildMessage(expected, found),","      expected,","      found,","      location","    );","  }",""].join(`
`)),options.optimize==="size"?(N.push(indent2(generateInterpreter())),N.push("")):arrays$2.each(ast.rules,function(h){N.push(indent2(generateRuleFunction(h))),N.push("")}),ast.initializer&&(N.push(indent2(ast.initializer.code)),N.push("")),options.optimize==="size"?N.push("  peg$result = peg$parseRule(peg$startRuleIndex);"):N.push("  peg$result = peg$startRuleFunction();"),N.push(["","  if (peg$result !== peg$FAILED && peg$currPos === input.length) {","    return peg$result;","  } else {","    if (peg$result !== peg$FAILED && peg$currPos < input.length) {","      peg$fail(peg$endExpectation());","    }","","    throw peg$buildStructuredError(","      peg$maxFailExpected,","      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,","      peg$maxFailPos < input.length","        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)","        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)","    );","  }","}"].join(`
`)),N.join(`
`)}function generateWrapper(N){function u(){return["/*"," * Generated by PEG.js 0.10.0."," *"," * http://pegjs.org/"," */"].join(`
`)}function n(){return options.trace?["{","  SyntaxError:   peg$SyntaxError,","  DefaultTracer: peg$DefaultTracer,","  parse:         peg$parse","}"].join(`
`):["{","  SyntaxError: peg$SyntaxError,","  parse:       peg$parse","}"].join(`
`)}var a={bare:function(){return[u(),"(function() {",'  "use strict";',"",indent2(N),"",indent2("return "+n()+";"),"})()"].join(`
`)},commonjs:function(){var r=[],b=objects$2.keys(options.dependencies),h=arrays$2.map(b,function(m){return m+' = require("'+js.stringEscape(options.dependencies[m])+'")'});return r.push([u(),"",'"use strict";',""].join(`
`)),h.length>0&&(r.push("var "+h.join(", ")+";"),r.push("")),r.push([N,"","module.exports = "+n()+";",""].join(`
`)),r.join(`
`)},amd:function(){var r=objects$2.values(options.dependencies),b=objects$2.keys(options.dependencies),h="["+arrays$2.map(r,function(p){return'"'+js.stringEscape(p)+'"'}).join(", ")+"]",m=b.join(", ");return[u(),"define("+h+", function("+m+") {",'  "use strict";',"",indent2(N),"",indent2("return "+n()+";"),"});",""].join(`
`)},globals:function(){return[u(),"(function(root) {",'  "use strict";',"",indent2(N),"",indent2("root."+options.exportVar+" = "+n()+";"),"})(this);",""].join(`
`)},umd:function(){var r=[],b=objects$2.values(options.dependencies),h=objects$2.keys(options.dependencies),m="["+arrays$2.map(b,function(S){return'"'+js.stringEscape(S)+'"'}).join(", ")+"]",p=arrays$2.map(b,function(S){return'require("'+js.stringEscape(S)+'")'}).join(", "),A=h.join(", ");return r.push([u(),"(function(root, factory) {",'  if (typeof define === "function" && define.amd) {',"    define("+m+", factory);",'  } else if (typeof module === "object" && module.exports) {',"    module.exports = factory("+p+");"].join(`
`)),options.exportVar!==null&&r.push(["  } else {","    root."+options.exportVar+" = factory();"].join(`
`)),r.push(["  }","})(this, function("+A+") {",'  "use strict";',"",indent2(N),"",indent2("return "+n()+";"),"});",""].join(`
`)),r.join(`
`)}};return a[options.format]()}ast.code=generateWrapper(generateToplevel())}var generateJs=generateJS,arrays$1=arrays_1,objects$1=objects_1,compiler={visitor:visitor_1,passes:{check:{reportUndefinedRules:reportUndefinedRules_1,reportDuplicateRules:reportDuplicateRules_1,reportDuplicateLabels:reportDuplicateLabels_1,reportInfiniteRecursion:reportInfiniteRecursion_1,reportInfiniteRepetition:reportInfiniteRepetition_1},transform:{removeProxyRules:removeProxyRules_1},generate:{generateBytecode:generateBytecode_1,generateJS:generateJs}},compile:function(ast,passes,options){options=options!==void 0?options:{};var stage;options=objects$1.clone(options),objects$1.defaults(options,{allowedStartRules:[ast.rules[0].name],cache:!1,dependencies:{},exportVar:null,format:"bare",optimize:"speed",output:"parser",trace:!1});for(stage in passes)passes.hasOwnProperty(stage)&&arrays$1.each(passes[stage],function(N){N(ast,options)});switch(options.output){case"parser":return eval(ast.code);case"source":return ast.code}}},compiler_1=compiler,arrays=arrays_1,objects=objects_1,peg={VERSION:"0.10.0",GrammarError:grammarError,parser:parser$1,compiler:compiler_1,generate:function(N,u){u=u!==void 0?u:{};function n(b){var h={},m;for(m in b)b.hasOwnProperty(m)&&(h[m]=objects.values(b[m]));return h}u=objects.clone(u);var a="plugins"in u?u.plugins:[],r={parser:peg.parser,passes:n(peg.compiler.passes)};return arrays.each(a,function(b){b.use(r,u)}),peg.compiler.compile(r.parser.parse(N),r.passes,u)}},peg_1=peg;const peg$1=getDefaultExportFromCjs(peg_1),aliases$1={mpent:"minpent",pent:"majpent",rit:"ritusen",egy:"egyptian",kum:"kumai",hir:"hirajoshi",iwa:"iwato",chi:"chinese",ind:"indian",pel:"pelog",pro:"prometheus",scr:"scriabin",gon:"gong",sha:"shang",jia:"jiao",zhi:"zhi",yu:"yu",who:"whole",aug:"augmented",aug2:"augmented2",hexmaj7:"hexmajor7",hexdor:"hexdorian",hexphr:"hexphrygian",hexsus:"hexsus",hexmaj6:"hexmajor6",hexaeo:"hexaeolian",maj:"major",ion:"ionian",dor:"dorian",phr:"phrygian",lyd:"lydian",mix:"mixolydian",aeo:"aeolian",min:"minor",loc:"locrian",har:"harmonicminor",harmaj:"harmonicmajor",mel:"melodicminor",melmin:"melodicminordesc",melmaj:"melodicmajor",tod:"todi",pur:"purvi",mar:"marva",bha:"bhairav",ahi:"ahirbhairav",sup:"superlocrian",rom:"romanianminor",hun:"hungarianminor",nepmin:"neapolitanminor",eni:"enigmatic",spa:"spanish",lea:"leadingwhole",lydmin:"lydianminor",neamaj:"neapolitanmajor",locmaj:"locrianmajor",dim:"diminished",dim2:"diminished2",mes3:"messiaen3",mes4:"messiaen4",mes5:"messiaen5",mes6:"messiaen6",mes7:"messiaen7",bay:"bayati",hij:"hijaz",sik:"sikah",ras:"rast",ira:"iraq",sab:"saba",chr:"chromatic"},list={minpent:[0,3,5,7,10],majpent:[0,2,4,7,9],ritusen:[0,2,5,7,9],egyptian:[0,2,5,7,10],kumai:[0,2,3,7,9],hirajoshi:[0,2,3,7,8],iwato:[0,1,5,6,10],chinese:[0,4,6,7,11],indian:[0,4,5,7,10],pelog:[0,1,3,7,8],prometheus:[0,2,4,6,11],scriabin:[0,1,4,7,9],gong:[0,2,4,7,9],shang:[0,2,5,7,10],jiao:[0,3,5,8,10],zhi:[0,2,5,7,9],yu:[0,3,5,7,10],whole:[0,2,4,6,8,10],augmented:[0,3,4,7,8,11],augmented2:[0,1,4,5,8,9],hexmajor7:[0,2,4,7,9,11],hexdorian:[0,2,3,5,7,10],hexphrygian:[0,1,3,5,8,10],hexsus:[0,2,5,7,9,10],hexmajor6:[0,2,4,5,7,9],hexaeolian:[0,3,5,7,8,10],major:[0,2,4,5,7,9,11],ionian:[0,2,4,5,7,9,11],dorian:[0,2,3,5,7,9,10],phrygian:[0,1,3,5,7,8,10],lydian:[0,2,4,6,7,9,11],mixolydian:[0,2,4,5,7,9,10],aeolian:[0,2,3,5,7,8,10],minor:[0,2,3,5,7,8,10],locrian:[0,1,3,5,6,8,10],harmonicminor:[0,2,3,5,7,8,11],harmonicmajor:[0,2,4,5,7,8,11],melodicminor:[0,2,3,5,7,9,11],melodicminordesc:[0,2,3,5,7,8,10],melodicmajor:[0,2,4,5,7,8,10],todi:[0,1,3,6,7,8,11],purvi:[0,1,4,6,7,8,11],marva:[0,1,4,6,7,9,11],bhairav:[0,1,4,5,7,8,11],ahirbhairav:[0,1,4,5,7,9,10],superlocrian:[0,1,3,4,6,8,10],romanianminor:[0,2,3,6,7,9,10],hungarianminor:[0,2,3,6,7,8,11],neapolitanminor:[0,1,3,5,7,8,11],enigmatic:[0,1,4,6,8,10,11],spanish:[0,1,4,5,7,8,10],leadingwhole:[0,2,4,6,8,10,11],lydianminor:[0,2,4,6,7,8,10],neapolitanmajor:[0,1,3,5,7,9,11],locrianmajor:[0,2,4,5,6,8,10],diminished:[0,1,3,4,6,7,9,10],diminished2:[0,2,3,5,6,8,9,11],messiaen3:[0,2,3,4,6,7,8,10,11],messiaen4:[0,1,2,5,6,7,8,11],messiaen5:[0,1,5,6,7,11],messiaen6:[0,2,4,5,6,8,10,11],messiaen7:[0,1,2,3,5,6,7,8,9,11],bayati:[0,1.5,3,5,7,8,10],hijaz:[0,1,4,5,7,8.5,10],sikah:[0,1.5,3.5,5.5,7,8.5,10.5],rast:[0,2,3.5,5,7,9,10.5],iraq:[0,1.5,3.5,5,6.5,8.5,10.5],saba:[0,1.5,3,4,6,8,10],chromatic:[0,1,2,3,4,5,6,7,8,9,10,11]};({...list,...Object.entries(aliases$1).reduce((N,[u,n])=>({...N,[u]:list[n]}),{})});const modes={...Object.entries(aliases$1).reduce((N,[u,n])=>({...N,[u]:list[n]}),{})},triads={mi:[0,3,7],ma:[0,4,7],di:[0,3,6],su:[0,5,7],au:[0,4,8]};function letterToInteger(N){return{cf:-1,c:0,cs:1,df:1,d:2,ds:3,ef:3,e:4,es:5,f:5,fs:6,gf:6,g:7,gs:8,af:8,a:9,as:10,bf:10,b:11,bs:12}[N]||0}function ntom(N,u=4){return letterToInteger(N)+ +u*12}function repeatScale(N,u){const n=Math.ceil(u/N.length);return Array(n).fill(N).map((a,r)=>a.map(b=>b+r*12)).flat().slice(0,u)}function stretchBar(N,u){const n=N.length,a=n*u,r=new Array(a).fill(0).map((b,h)=>N[Math.floor(h/u)]);return new Array(u).fill(0).map((b,h)=>r.slice(h*n,(h+1)*n))}let time=0;function rng(){return get_store_value(randomSequence)[time++]||Math.random()}[euclidean,loopArray,ntom,repeatScale,stretchBar,rng].forEach(N=>window[N.name]=N);const scaleTypes=Object.entries(modes).reduce((N,[u,n],a,r)=>N+`"${u}" { return [${n.join()}]; } `+(a===r.length-1?"":"/ "),""),chordTypes=Object.entries(triads).reduce((N,[u,n],a,r)=>N+`"${u}" { return [${n.join()}]; } `+(a===r.length-1?"":"/ "),""),parser=peg$1.generate(`
    // PARSING
    result 
        = bs:bars args:args? {
            const patternLength = args?.bars || bs.length || 1

            return loopArray(bs, patternLength).map(bar => bar
                .map(s => Array.isArray(s) ? s.map(s => !isNaN(+s) ? +s : s) : !isNaN(+s) ? +s : s)
            )
    }

    args
        = space* ";"? space* bars:("b:" number)? space* ";"? space* { return {
            bars: bars && (bars[1])
        }; }

    bars 
        = bars:bar+ { 
            const format = ({val, dur, type, repeats}) => {
                if (type === 'group') return new Array(repeats).fill(0).map(() => val.map(format).flat()).flat()
                if (type === 'choices') return new Array(dur).fill(0).map((_,i) => val[Math.floor(rng() * val.length)])
                if (type === 'alternatives') return new Array(dur).fill(0).map((_, i) => val[i % val.length])
                if (type === 'single') return new Array(dur).fill(0).map(() => val)
                
                return val
            }

            return bars.map(({bar, repeats, stretch}) => {
                return new Array(repeats).fill(0)
                    .map(() => bar.map(format).flat())
                    .map(bar => stretch ? stretchBar(bar, stretch) : [bar]).flat()
            })
            .flat()
        }
    
    bar 
        = space* values:(group+ / event+) divider? repeats:duration? stretch:stretch? space* { return {bar: values, repeats: repeats || 1, stretch: stretch || 1}; }    
    
    // GROUPING
    group
        = "(" space* val:event+ space* ")" repeats:duration? space* { return {val, repeats: repeats || 1, type: 'group'}; }

    // COMPLEX TYPES
    event 
        = scale / absolute_chord / single  / euclidean / sequence / choices / alternatives

    choices 
        = arr:choice+ dur:duration space* { return {val: arr, dur: dur || 1, type: 'choices'}; }

    choice
        = !alternate val:value !alternate choose? { return val }

    alternatives
        = arr:alternative+ dur:duration space* { return {val: arr, dur: dur || 1, type: 'alternatives'}; }

    alternative
        = !choose val:value !choose alternate? { return val }

    single
        = !choose !alternate !seq !"^" !":" val:value dur:duration? !choose !alternate !seq !"^" !":" space* { return {val, dur: dur || 1, type: 'single'}; }
        
    sequence
        = start:$[0-9]+ seq end:$[0-9]+ type:(choose?) dur:duration? space* { 
        let step = +start < +end ? 1 : -1
        let size = Math.abs(+end - +start + step)
        return {
            val: new Array(size).fill(0).map((_, i) => +start + i * step), 
            dur: dur || 1, 
            type: type === '?' ? 'choices' : 'alternatives'
        }
    }

    euclidean
        = pulses:$[0-9]+ ":" steps:$[0-9]+ dur:duration? space* { 
            const val = euclidean(+pulses, +steps).map(v => ({val: v, dur: 1, type: 'single'}))
            return {
                val,
                repeats: dur || 1,
                type: 'group'
            }
        }
    
    // TIME
    stretch
        = "^" val:number { return val; }

    duration
        = count:(ticks / tick) { return count }

    ticks 
        = "*" t:$[0-9]+ { return parseInt(t); }

    tick 
        = "-"* { return text().length; }

    // HARMONY
    absolute_chord = base:note chord:chord_extended l:length? seq:seq? type:(choose?) dur:duration? space*  {
        const arr = repeatScale(chord.map(n => n + base), l || chord.length)
        return seq ? 
        {
            val: arr, 
            dur: dur || 1, 
            type: type === '?' ? 'choices' : 'alternatives'
        }
        : {
            val: arr, 
            dur: dur || 1, 
            type: 'single'
        }
    }
    
    chord_extended = chord:chord variants:chord_variant* {
        const root = chord[0]
        for (var v of variants) {
            chord.push(root + v);
        }
        return chord;
    }
    
    chord_variant 
        = "6" { return 9; }
        / "7" { return 10; }
        / "#7" { return 11; }
        / "b9" { return 13; }
        / "9" { return 14; }
        / "11" { return 17; }
        / "#11" { return 18; }
        / "13" { return 21; }
        / "#13" { return 22; } 
    
    chord
        = `+chordTypes+`

    scale
        = base:note scale:scale_type l:length? seq:seq? type:(choose?) dur:duration? space* { 
            const arr = repeatScale(scale.map(n => n + base), l || scale.length)
            return seq ? 
            {
                val: arr, 
                dur: dur || 1, 
                type: type === '?' ? 'choices' : 'alternatives'
            }
            : {
                val: arr, 
                dur: dur || 1, 
                type: 'single'
            }
        }

    scale_type
        = `+scaleTypes+`
    
    note = c:chroma a1:accidental a2:accidental o:octave { return c + a1 + a2 + o; }
    
    // notes/chords roots are always capitalised, to distinguish them from sample names
    chroma = c:[A-G] { 
        // return MIDI note offset from C:
        switch(c) {
            case "C": return 0; 
            case "D": return 2; 
            case "E": return 4; 
            case "F": return 5; 
            case "G": return 7; 
            case "A": return 9; 
            case "B": return 11; 
        }
    }
    
    // sharps and flats
    accidental = a:[#b]? {
        // return MIDI note offset:
        switch(a) {
            case "#": return +1;
            case "b": return -1;
            default: return 0;
        }
    }
    
    octave = n:$("-"? [0-9]+)? { 
        return n 
            ? 12 + (+n) * 12
            : 60; // default to middle C
    }

    // BASIC TYPES
    value 
        = note / string / $number+ / array 

    array 
        = "[" val:$(space* v:value space* ","?)+ "]" { return val.split(',').map(s => s.trim()) }

    number 
        = "-"? (([0-9]+ !seq "." [0-9]*) / ("."? [0-9]+)) { return +text() }

    // must start with a letter, can contain numbers, ., -, _
    string
        = [a-zA-Z]+ [a-zA-Z0-9._-]* { return text(); }
        
    // SYMBOLS
    length
        = "%" l:number { return l; }
    seq
        = ".." { return text(); }

    choose
        = "?" { return text(); }

    alternate
        = "," { return text(); }

    divider 
        = "|" 

    space 
        = " "
`);let parse$1=memoize((N,u)=>parser.parse(N));seedValue.subscribe(()=>parse$1=memoize((N,u)=>parser.parse(N)));const parsePattern=(N,u,n,a,r=!0)=>{time=0;const b=parse$1(N,a);let h=calculateNormalisedPosition(u,n,1,b.length),m=Math.trunc(h),p=Number((h%1*b[m].length).toFixed(3));return p=r?Math.floor(p):p,b[m][p]||0};var Midi$1={},midiFile={};function parseMidi(N){var u=new Parser(N),n=u.readChunk();if(n.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+n.id+"'";for(var a=parseHeader(n.data),r=[],b=0;!u.eof()&&b<a.numTracks;b++){var h=u.readChunk();if(h.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+h.id+"'";var m=parseTrack(h.data);r.push(m)}return{header:a,tracks:r}}function parseHeader(N){var u=new Parser(N),n=u.readUInt16(),a=u.readUInt16(),r={format:n,numTracks:a},b=u.readUInt16();return b&32768?(r.framesPerSecond=256-(b>>8),r.ticksPerFrame=b&255):r.ticksPerBeat=b,r}function parseTrack(N){for(var u=new Parser(N),n=[];!u.eof();){var a=b();n.push(a)}return n;var r;function b(){var h={};h.deltaTime=u.readVarInt();var m=u.readUInt8();if((m&240)===240)if(m===255){h.meta=!0;var p=u.readUInt8(),A=u.readVarInt();switch(p){case 0:if(h.type="sequenceNumber",A!==2)throw"Expected length for sequenceNumber event is 2, got "+A;return h.number=u.readUInt16(),h;case 1:return h.type="text",h.text=u.readString(A),h;case 2:return h.type="copyrightNotice",h.text=u.readString(A),h;case 3:return h.type="trackName",h.text=u.readString(A),h;case 4:return h.type="instrumentName",h.text=u.readString(A),h;case 5:return h.type="lyrics",h.text=u.readString(A),h;case 6:return h.type="marker",h.text=u.readString(A),h;case 7:return h.type="cuePoint",h.text=u.readString(A),h;case 32:if(h.type="channelPrefix",A!=1)throw"Expected length for channelPrefix event is 1, got "+A;return h.channel=u.readUInt8(),h;case 33:if(h.type="portPrefix",A!=1)throw"Expected length for portPrefix event is 1, got "+A;return h.port=u.readUInt8(),h;case 47:if(h.type="endOfTrack",A!=0)throw"Expected length for endOfTrack event is 0, got "+A;return h;case 81:if(h.type="setTempo",A!=3)throw"Expected length for setTempo event is 3, got "+A;return h.microsecondsPerBeat=u.readUInt24(),h;case 84:if(h.type="smpteOffset",A!=5)throw"Expected length for smpteOffset event is 5, got "+A;var S=u.readUInt8(),_={0:24,32:25,64:29,96:30};return h.frameRate=_[S&96],h.hour=S&31,h.min=u.readUInt8(),h.sec=u.readUInt8(),h.frame=u.readUInt8(),h.subFrame=u.readUInt8(),h;case 88:if(h.type="timeSignature",A!=2&&A!=4)throw"Expected length for timeSignature event is 4 or 2, got "+A;return h.numerator=u.readUInt8(),h.denominator=1<<u.readUInt8(),A===4?(h.metronome=u.readUInt8(),h.thirtyseconds=u.readUInt8()):(h.metronome=36,h.thirtyseconds=8),h;case 89:if(h.type="keySignature",A!=2)throw"Expected length for keySignature event is 2, got "+A;return h.key=u.readInt8(),h.scale=u.readUInt8(),h;case 127:return h.type="sequencerSpecific",h.data=u.readBytes(A),h;default:return h.type="unknownMeta",h.data=u.readBytes(A),h.metatypeByte=p,h}}else if(m==240){h.type="sysEx";var A=u.readVarInt();return h.data=u.readBytes(A),h}else if(m==247){h.type="endSysEx";var A=u.readVarInt();return h.data=u.readBytes(A),h}else throw"Unrecognised MIDI event type byte: "+m;else{var l;if(m&128)l=u.readUInt8(),r=m;else{if(r===null)throw"Running status byte encountered before status byte";l=m,m=r,h.running=!0}var y=m>>4;switch(h.channel=m&15,y){case 8:return h.type="noteOff",h.noteNumber=l,h.velocity=u.readUInt8(),h;case 9:var o=u.readUInt8();return h.type=o===0?"noteOff":"noteOn",h.noteNumber=l,h.velocity=o,o===0&&(h.byte9=!0),h;case 10:return h.type="noteAftertouch",h.noteNumber=l,h.amount=u.readUInt8(),h;case 11:return h.type="controller",h.controllerType=l,h.value=u.readUInt8(),h;case 12:return h.type="programChange",h.programNumber=l,h;case 13:return h.type="channelAftertouch",h.amount=l,h;case 14:return h.type="pitchBend",h.value=l+(u.readUInt8()<<7)-8192,h;default:throw"Unrecognised MIDI event type: "+y}}}}function Parser(N){this.buffer=N,this.bufferLen=this.buffer.length,this.pos=0}Parser.prototype.eof=function(){return this.pos>=this.bufferLen};Parser.prototype.readUInt8=function(){var N=this.buffer[this.pos];return this.pos+=1,N};Parser.prototype.readInt8=function(){var N=this.readUInt8();return N&128?N-256:N};Parser.prototype.readUInt16=function(){var N=this.readUInt8(),u=this.readUInt8();return(N<<8)+u};Parser.prototype.readInt16=function(){var N=this.readUInt16();return N&32768?N-65536:N};Parser.prototype.readUInt24=function(){var N=this.readUInt8(),u=this.readUInt8(),n=this.readUInt8();return(N<<16)+(u<<8)+n};Parser.prototype.readInt24=function(){var N=this.readUInt24();return N&8388608?N-16777216:N};Parser.prototype.readUInt32=function(){var N=this.readUInt8(),u=this.readUInt8(),n=this.readUInt8(),a=this.readUInt8();return(N<<24)+(u<<16)+(n<<8)+a};Parser.prototype.readBytes=function(N){var u=this.buffer.slice(this.pos,this.pos+N);return this.pos+=N,u};Parser.prototype.readString=function(N){var u=this.readBytes(N);return String.fromCharCode.apply(null,u)};Parser.prototype.readVarInt=function(){for(var N=0;!this.eof();){var u=this.readUInt8();if(u&128)N+=u&127,N<<=7;else return N+u}return N};Parser.prototype.readChunk=function(){var N=this.readString(4),u=this.readUInt32(),n=this.readBytes(u);return{id:N,length:u,data:n}};var midiParser=parseMidi;function writeMidi(N,u){if(typeof N!="object")throw"Invalid MIDI data";u=u||{};var n=N.header||{},a=N.tracks||[],r,b=a.length,h=new Writer;for(writeHeader(h,n,b),r=0;r<b;r++)writeTrack(h,a[r],u);return h.buffer}function writeHeader(N,u,n){var a=u.format==null?1:u.format,r=128;u.timeDivision?r=u.timeDivision:u.ticksPerFrame&&u.framesPerSecond?r=-(u.framesPerSecond&255)<<8|u.ticksPerFrame&255:u.ticksPerBeat&&(r=u.ticksPerBeat&32767);var b=new Writer;b.writeUInt16(a),b.writeUInt16(n),b.writeUInt16(r),N.writeChunk("MThd",b.buffer)}function writeTrack(N,u,n){var a=new Writer,r,b=u.length,h=null;for(r=0;r<b;r++)(n.running===!1||!n.running&&!u[r].running)&&(h=null),h=writeEvent(a,u[r],h,n.useByte9ForNoteOff);N.writeChunk("MTrk",a.buffer)}function writeEvent(N,u,n,a){var r=u.type,b=u.deltaTime,h=u.text||"",m=u.data||[],p=null;switch(N.writeVarInt(b),r){case"sequenceNumber":N.writeUInt8(255),N.writeUInt8(0),N.writeVarInt(2),N.writeUInt16(u.number);break;case"text":N.writeUInt8(255),N.writeUInt8(1),N.writeVarInt(h.length),N.writeString(h);break;case"copyrightNotice":N.writeUInt8(255),N.writeUInt8(2),N.writeVarInt(h.length),N.writeString(h);break;case"trackName":N.writeUInt8(255),N.writeUInt8(3),N.writeVarInt(h.length),N.writeString(h);break;case"instrumentName":N.writeUInt8(255),N.writeUInt8(4),N.writeVarInt(h.length),N.writeString(h);break;case"lyrics":N.writeUInt8(255),N.writeUInt8(5),N.writeVarInt(h.length),N.writeString(h);break;case"marker":N.writeUInt8(255),N.writeUInt8(6),N.writeVarInt(h.length),N.writeString(h);break;case"cuePoint":N.writeUInt8(255),N.writeUInt8(7),N.writeVarInt(h.length),N.writeString(h);break;case"channelPrefix":N.writeUInt8(255),N.writeUInt8(32),N.writeVarInt(1),N.writeUInt8(u.channel);break;case"portPrefix":N.writeUInt8(255),N.writeUInt8(33),N.writeVarInt(1),N.writeUInt8(u.port);break;case"endOfTrack":N.writeUInt8(255),N.writeUInt8(47),N.writeVarInt(0);break;case"setTempo":N.writeUInt8(255),N.writeUInt8(81),N.writeVarInt(3),N.writeUInt24(u.microsecondsPerBeat);break;case"smpteOffset":N.writeUInt8(255),N.writeUInt8(84),N.writeVarInt(5);var A={24:0,25:32,29:64,30:96},S=u.hour&31|A[u.frameRate];N.writeUInt8(S),N.writeUInt8(u.min),N.writeUInt8(u.sec),N.writeUInt8(u.frame),N.writeUInt8(u.subFrame);break;case"timeSignature":N.writeUInt8(255),N.writeUInt8(88),N.writeVarInt(4),N.writeUInt8(u.numerator);var _=Math.floor(Math.log(u.denominator)/Math.LN2)&255;N.writeUInt8(_),N.writeUInt8(u.metronome),N.writeUInt8(u.thirtyseconds||8);break;case"keySignature":N.writeUInt8(255),N.writeUInt8(89),N.writeVarInt(2),N.writeInt8(u.key),N.writeUInt8(u.scale);break;case"sequencerSpecific":N.writeUInt8(255),N.writeUInt8(127),N.writeVarInt(m.length),N.writeBytes(m);break;case"unknownMeta":u.metatypeByte!=null&&(N.writeUInt8(255),N.writeUInt8(u.metatypeByte),N.writeVarInt(m.length),N.writeBytes(m));break;case"sysEx":N.writeUInt8(240),N.writeVarInt(m.length),N.writeBytes(m);break;case"endSysEx":N.writeUInt8(247),N.writeVarInt(m.length),N.writeBytes(m);break;case"noteOff":var l=a!==!1&&u.byte9||a&&u.velocity==0?144:128;p=l|u.channel,p!==n&&N.writeUInt8(p),N.writeUInt8(u.noteNumber),N.writeUInt8(u.velocity);break;case"noteOn":p=144|u.channel,p!==n&&N.writeUInt8(p),N.writeUInt8(u.noteNumber),N.writeUInt8(u.velocity);break;case"noteAftertouch":p=160|u.channel,p!==n&&N.writeUInt8(p),N.writeUInt8(u.noteNumber),N.writeUInt8(u.amount);break;case"controller":p=176|u.channel,p!==n&&N.writeUInt8(p),N.writeUInt8(u.controllerType),N.writeUInt8(u.value);break;case"programChange":p=192|u.channel,p!==n&&N.writeUInt8(p),N.writeUInt8(u.programNumber);break;case"channelAftertouch":p=208|u.channel,p!==n&&N.writeUInt8(p),N.writeUInt8(u.amount);break;case"pitchBend":p=224|u.channel,p!==n&&N.writeUInt8(p);var y=8192+u.value,o=y&127,f=y>>7&127;N.writeUInt8(o),N.writeUInt8(f);break;default:throw"Unrecognized event type: "+r}return p}function Writer(){this.buffer=[]}Writer.prototype.writeUInt8=function(N){this.buffer.push(N&255)};Writer.prototype.writeInt8=Writer.prototype.writeUInt8;Writer.prototype.writeUInt16=function(N){var u=N>>8&255,n=N&255;this.writeUInt8(u),this.writeUInt8(n)};Writer.prototype.writeInt16=Writer.prototype.writeUInt16;Writer.prototype.writeUInt24=function(N){var u=N>>16&255,n=N>>8&255,a=N&255;this.writeUInt8(u),this.writeUInt8(n),this.writeUInt8(a)};Writer.prototype.writeInt24=Writer.prototype.writeUInt24;Writer.prototype.writeUInt32=function(N){var u=N>>24&255,n=N>>16&255,a=N>>8&255,r=N&255;this.writeUInt8(u),this.writeUInt8(n),this.writeUInt8(a),this.writeUInt8(r)};Writer.prototype.writeInt32=Writer.prototype.writeUInt32;Writer.prototype.writeBytes=function(N){this.buffer=this.buffer.concat(Array.prototype.slice.call(N,0))};Writer.prototype.writeString=function(N){var u,n=N.length,a=[];for(u=0;u<n;u++)a.push(N.codePointAt(u));this.writeBytes(a)};Writer.prototype.writeVarInt=function(N){if(N<0)throw"Cannot write negative variable-length integer";if(N<=127)this.writeUInt8(N);else{var u=N,n=[];for(n.push(u&127),u>>=7;u;){var a=u&127|128;n.push(a),u>>=7}this.writeBytes(n.reverse())}};Writer.prototype.writeChunk=function(N,u){this.writeString(N),this.writeUInt32(u.length),this.writeBytes(u)};var midiWriter=writeMidi;midiFile.parseMidi=midiParser;midiFile.writeMidi=midiWriter;var Header={},BinarySearch={};Object.defineProperty(BinarySearch,"__esModule",{value:!0});BinarySearch.insert=BinarySearch.search=void 0;function search(N,u,n){n===void 0&&(n="ticks");var a=0,r=N.length,b=r;if(r>0&&N[r-1][n]<=u)return r-1;for(;a<b;){var h=Math.floor(a+(b-a)/2),m=N[h],p=N[h+1];if(m[n]===u){for(var A=h;A<N.length;A++){var S=N[A];S[n]===u&&(h=A)}return h}else{if(m[n]<u&&p[n]>u)return h;m[n]>u?b=h:m[n]<u&&(a=h+1)}}return-1}BinarySearch.search=search;function insert(N,u,n){if(n===void 0&&(n="ticks"),N.length){var a=search(N,u[n],n);N.splice(a+1,0,u)}else N.push(u)}BinarySearch.insert=insert;(function(N){Object.defineProperty(N,"__esModule",{value:!0}),N.Header=N.keySignatureKeys=void 0;var u=BinarySearch,n=new WeakMap;N.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var a=function(){function r(b){var h=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",n.set(this,480),b){n.set(this,b.header.ticksPerBeat),b.tracks.forEach(function(p){p.forEach(function(A){A.meta&&(A.type==="timeSignature"?h.timeSignatures.push({ticks:A.absoluteTime,timeSignature:[A.numerator,A.denominator]}):A.type==="setTempo"?h.tempos.push({bpm:6e7/A.microsecondsPerBeat,ticks:A.absoluteTime}):A.type==="keySignature"&&h.keySignatures.push({key:N.keySignatureKeys[A.key+7],scale:A.scale===0?"major":"minor",ticks:A.absoluteTime}))})});var m=0;b.tracks[0].forEach(function(p){m+=p.deltaTime,p.meta&&(p.type==="trackName"?h.name=p.text:(p.type==="text"||p.type==="cuePoint"||p.type==="marker"||p.type==="lyrics")&&h.meta.push({text:p.text,ticks:m,type:p.type}))}),this.update()}}return r.prototype.update=function(){var b=this,h=0,m=0;this.tempos.sort(function(p,A){return p.ticks-A.ticks}),this.tempos.forEach(function(p,A){var S=A>0?b.tempos[A-1].bpm:b.tempos[0].bpm,_=p.ticks/b.ppq-m,l=60/S*_;p.time=l+h,h=p.time,m+=_}),this.timeSignatures.sort(function(p,A){return p.ticks-A.ticks}),this.timeSignatures.forEach(function(p,A){var S=A>0?b.timeSignatures[A-1]:b.timeSignatures[0],_=(p.ticks-S.ticks)/b.ppq,l=_/S.timeSignature[0]/(S.timeSignature[1]/4);S.measures=S.measures||0,p.measures=l+S.measures})},r.prototype.ticksToSeconds=function(b){var h=(0,u.search)(this.tempos,b);if(h!==-1){var m=this.tempos[h],p=m.time,A=(b-m.ticks)/this.ppq;return p+60/m.bpm*A}else{var S=b/this.ppq;return 60/120*S}},r.prototype.ticksToMeasures=function(b){var h=(0,u.search)(this.timeSignatures,b);if(h!==-1){var m=this.timeSignatures[h],p=(b-m.ticks)/this.ppq;return m.measures+p/(m.timeSignature[0]/m.timeSignature[1])/4}else return b/this.ppq/4},Object.defineProperty(r.prototype,"ppq",{get:function(){return n.get(this)},enumerable:!1,configurable:!0}),r.prototype.secondsToTicks=function(b){var h=(0,u.search)(this.tempos,b,"time");if(h!==-1){var m=this.tempos[h],p=m.time,A=b-p,S=A/(60/m.bpm);return Math.round(m.ticks+S*this.ppq)}else{var _=b/.5;return Math.round(_*this.ppq)}},r.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(b){return{bpm:b.bpm,ticks:b.ticks}}),timeSignatures:this.timeSignatures}},r.prototype.fromJSON=function(b){this.name=b.name,this.tempos=b.tempos.map(function(h){return Object.assign({},h)}),this.timeSignatures=b.timeSignatures.map(function(h){return Object.assign({},h)}),this.keySignatures=b.keySignatures.map(function(h){return Object.assign({},h)}),this.meta=b.meta.map(function(h){return Object.assign({},h)}),n.set(this,b.ppq),this.update()},r.prototype.setTempo=function(b){this.tempos=[{bpm:b,ticks:0}],this.update()},r}();N.Header=a})(Header);var Track$1={},ControlChange={};(function(N){Object.defineProperty(N,"__esModule",{value:!0}),N.ControlChange=N.controlChangeIds=N.controlChangeNames=void 0,N.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},N.controlChangeIds=Object.keys(N.controlChangeNames).reduce(function(r,b){return r[N.controlChangeNames[b]]=b,r},{});var u=new WeakMap,n=new WeakMap,a=function(){function r(b,h){u.set(this,h),n.set(this,b.controllerType),this.ticks=b.absoluteTime,this.value=b.value}return Object.defineProperty(r.prototype,"number",{get:function(){return n.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return N.controlChangeNames[this.number]?N.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"time",{get:function(){var b=u.get(this);return b.ticksToSeconds(this.ticks)},set:function(b){var h=u.get(this);this.ticks=h.secondsToTicks(b)},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},r}();N.ControlChange=a})(ControlChange);var ControlChanges={};Object.defineProperty(ControlChanges,"__esModule",{value:!0});ControlChanges.createControlChanges=void 0;var ControlChange_1$1=ControlChange;function createControlChanges(){return new Proxy({},{get:function(N,u){if(N[u])return N[u];if(ControlChange_1$1.controlChangeIds.hasOwnProperty(u))return N[ControlChange_1$1.controlChangeIds[u]]},set:function(N,u,n){return ControlChange_1$1.controlChangeIds.hasOwnProperty(u)?N[ControlChange_1$1.controlChangeIds[u]]=n:N[u]=n,!0}})}ControlChanges.createControlChanges=createControlChanges;var PitchBend$1={};Object.defineProperty(PitchBend$1,"__esModule",{value:!0});PitchBend$1.PitchBend=void 0;var privateHeaderMap$2=new WeakMap,PitchBend=function(){function N(u,n){privateHeaderMap$2.set(this,n),this.ticks=u.absoluteTime,this.value=u.value}return Object.defineProperty(N.prototype,"time",{get:function(){var u=privateHeaderMap$2.get(this);return u.ticksToSeconds(this.ticks)},set:function(u){var n=privateHeaderMap$2.get(this);this.ticks=n.secondsToTicks(u)},enumerable:!1,configurable:!0}),N.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},N}();PitchBend$1.PitchBend=PitchBend;var Instrument$1={},InstrumentMaps={};Object.defineProperty(InstrumentMaps,"__esModule",{value:!0});InstrumentMaps.DrumKitByPatchID=InstrumentMaps.InstrumentFamilyByID=InstrumentMaps.instrumentByPatchID=void 0;InstrumentMaps.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"];InstrumentMaps.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"];InstrumentMaps.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"};Object.defineProperty(Instrument$1,"__esModule",{value:!0});Instrument$1.Instrument=void 0;var InstrumentMaps_1=InstrumentMaps,privateTrackMap=new WeakMap,Instrument=function(){function N(u,n){if(this.number=0,privateTrackMap.set(this,n),this.number=0,u){var a=u.find(function(r){return r.type==="programChange"});a&&(this.number=a.programNumber)}}return Object.defineProperty(N.prototype,"name",{get:function(){return this.percussion?InstrumentMaps_1.DrumKitByPatchID[this.number]:InstrumentMaps_1.instrumentByPatchID[this.number]},set:function(u){var n=InstrumentMaps_1.instrumentByPatchID.indexOf(u);n!==-1&&(this.number=n)},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"family",{get:function(){return this.percussion?"drums":InstrumentMaps_1.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"percussion",{get:function(){var u=privateTrackMap.get(this);return u.channel===9},enumerable:!1,configurable:!0}),N.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},N.prototype.fromJSON=function(u){this.number=u.number},N}();Instrument$1.Instrument=Instrument;var Note$1={};Object.defineProperty(Note$1,"__esModule",{value:!0});Note$1.Note=void 0;function midiToPitch(N){var u=Math.floor(N/12)-1;return midiToPitchClass(N)+u.toString()}function midiToPitchClass(N){var u=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n=N%12;return u[n]}function pitchClassToMidi(N){var u=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return u.indexOf(N)}var pitchToMidi=function(){var N=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,u={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(n){var a=N.exec(n),r=a[1],b=a[2],h=u[r.toLowerCase()];return h+(parseInt(b,10)+1)*12}}(),privateHeaderMap$1=new WeakMap,Note=function(){function N(u,n,a){privateHeaderMap$1.set(this,a),this.midi=u.midi,this.velocity=u.velocity,this.noteOffVelocity=n.velocity,this.ticks=u.ticks,this.durationTicks=n.ticks-u.ticks}return Object.defineProperty(N.prototype,"name",{get:function(){return midiToPitch(this.midi)},set:function(u){this.midi=pitchToMidi(u)},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(u){var n=u-this.octave;this.midi+=n*12},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"pitch",{get:function(){return midiToPitchClass(this.midi)},set:function(u){this.midi=12*(this.octave+1)+pitchClassToMidi(u)},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"duration",{get:function(){var u=privateHeaderMap$1.get(this);return u.ticksToSeconds(this.ticks+this.durationTicks)-u.ticksToSeconds(this.ticks)},set:function(u){var n=privateHeaderMap$1.get(this),a=n.secondsToTicks(this.time+u);this.durationTicks=a-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"time",{get:function(){var u=privateHeaderMap$1.get(this);return u.ticksToSeconds(this.ticks)},set:function(u){var n=privateHeaderMap$1.get(this);this.ticks=n.secondsToTicks(u)},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"bars",{get:function(){var u=privateHeaderMap$1.get(this);return u.ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),N.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},N}();Note$1.Note=Note;Object.defineProperty(Track$1,"__esModule",{value:!0});Track$1.Track=void 0;var BinarySearch_1=BinarySearch,ControlChange_1=ControlChange,ControlChanges_1=ControlChanges,PitchBend_1=PitchBend$1,Instrument_1=Instrument$1,Note_1=Note$1,privateHeaderMap=new WeakMap,Track=function(){function N(u,n){var a=this;if(this.name="",this.notes=[],this.controlChanges=(0,ControlChanges_1.createControlChanges)(),this.pitchBends=[],privateHeaderMap.set(this,n),u){var r=u.find(function(l){return l.type==="trackName"});this.name=r?r.text:""}if(this.instrument=new Instrument_1.Instrument(u,this),this.channel=0,u){for(var b=u.filter(function(l){return l.type==="noteOn"}),h=u.filter(function(l){return l.type==="noteOff"}),m=function(){var l=b.shift();p.channel=l.channel;var y=h.findIndex(function(f){return f.noteNumber===l.noteNumber&&f.absoluteTime>=l.absoluteTime});if(y!==-1){var o=h.splice(y,1)[0];p.addNote({durationTicks:o.absoluteTime-l.absoluteTime,midi:l.noteNumber,noteOffVelocity:o.velocity/127,ticks:l.absoluteTime,velocity:l.velocity/127})}},p=this;b.length;)m();var A=u.filter(function(l){return l.type==="controller"});A.forEach(function(l){a.addCC({number:l.controllerType,ticks:l.absoluteTime,value:l.value/127})});var S=u.filter(function(l){return l.type==="pitchBend"});S.forEach(function(l){a.addPitchBend({ticks:l.absoluteTime,value:l.value/Math.pow(2,13)})});var _=u.find(function(l){return l.type==="endOfTrack"});this.endOfTrackTicks=_!==void 0?_.absoluteTime:void 0}}return N.prototype.addNote=function(u){var n=privateHeaderMap.get(this),a=new Note_1.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},n);return Object.assign(a,u),(0,BinarySearch_1.insert)(this.notes,a,"ticks"),this},N.prototype.addCC=function(u){var n=privateHeaderMap.get(this),a=new ControlChange_1.ControlChange({controllerType:u.number},n);return delete u.number,Object.assign(a,u),Array.isArray(this.controlChanges[a.number])||(this.controlChanges[a.number]=[]),(0,BinarySearch_1.insert)(this.controlChanges[a.number],a,"ticks"),this},N.prototype.addPitchBend=function(u){var n=privateHeaderMap.get(this),a=new PitchBend_1.PitchBend({},n);return Object.assign(a,u),(0,BinarySearch_1.insert)(this.pitchBends,a,"ticks"),this},Object.defineProperty(N.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var u=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,n=0;n<this.notes.length-1;n++){var a=this.notes[n].time+this.notes[n].duration;u<a&&(u=a)}return u},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var u=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,n=0;n<this.notes.length-1;n++){var a=this.notes[n].ticks+this.notes[n].durationTicks;u<a&&(u=a)}return u},enumerable:!1,configurable:!0}),N.prototype.fromJSON=function(u){var n=this;this.name=u.name,this.channel=u.channel,this.instrument=new Instrument_1.Instrument(void 0,this),this.instrument.fromJSON(u.instrument),u.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=u.endOfTrackTicks);for(var a in u.controlChanges)u.controlChanges[a]&&u.controlChanges[a].forEach(function(r){n.addCC({number:r.number,ticks:r.ticks,value:r.value})});u.notes.forEach(function(r){n.addNote({durationTicks:r.durationTicks,midi:r.midi,ticks:r.ticks,velocity:r.velocity})})},N.prototype.toJSON=function(){for(var u={},n=0;n<127;n++)this.controlChanges.hasOwnProperty(n)&&(u[n]=this.controlChanges[n].map(function(r){return r.toJSON()}));var a={channel:this.channel,controlChanges:u,pitchBends:this.pitchBends.map(function(r){return r.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(r){return r.toJSON()})};return this.endOfTrackTicks!==void 0&&(a.endOfTrackTicks=this.endOfTrackTicks),a},N}();Track$1.Track=Track;var Encode={};function flatten(N){var u=[];return $flatten(N,u),u}function $flatten(N,u){for(var n=0;n<N.length;n++){var a=N[n];Array.isArray(a)?$flatten(a,u):u.push(a)}}const dist_es2015=Object.freeze(Object.defineProperty({__proto__:null,flatten},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(dist_es2015);var __spreadArray=commonjsGlobal&&commonjsGlobal.__spreadArray||function(N,u,n){if(n||arguments.length===2)for(var a=0,r=u.length,b;a<r;a++)(b||!(a in u))&&(b||(b=Array.prototype.slice.call(u,0,a)),b[a]=u[a]);return N.concat(b||Array.prototype.slice.call(u))};Object.defineProperty(Encode,"__esModule",{value:!0});Encode.encode=void 0;var midi_file_1=midiFile,Header_1=Header,array_flatten_1=require$$2;function encodeNote(N,u){return[{absoluteTime:N.ticks,channel:u,deltaTime:0,noteNumber:N.midi,type:"noteOn",velocity:Math.floor(N.velocity*127)},{absoluteTime:N.ticks+N.durationTicks,channel:u,deltaTime:0,noteNumber:N.midi,type:"noteOff",velocity:Math.floor(N.noteOffVelocity*127)}]}function encodeNotes(N){return(0,array_flatten_1.flatten)(N.notes.map(function(u){return encodeNote(u,N.channel)}))}function encodeControlChange(N,u){return{absoluteTime:N.ticks,channel:u,controllerType:N.number,deltaTime:0,type:"controller",value:Math.floor(N.value*127)}}function encodeControlChanges(N){for(var u=[],n=0;n<127;n++)N.controlChanges.hasOwnProperty(n)&&N.controlChanges[n].forEach(function(a){u.push(encodeControlChange(a,N.channel))});return u}function encodePitchBend(N,u){return{absoluteTime:N.ticks,channel:u,deltaTime:0,type:"pitchBend",value:N.value}}function encodePitchBends(N){var u=[];return N.pitchBends.forEach(function(n){u.push(encodePitchBend(n,N.channel))}),u}function encodeInstrument(N){return{absoluteTime:0,channel:N.channel,deltaTime:0,programNumber:N.instrument.number,type:"programChange"}}function encodeTrackName(N){return{absoluteTime:0,deltaTime:0,meta:!0,text:N,type:"trackName"}}function encodeTempo(N){return{absoluteTime:N.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/N.bpm),type:"setTempo"}}function encodeTimeSignature(N){return{absoluteTime:N.ticks,deltaTime:0,denominator:N.timeSignature[1],meta:!0,metronome:24,numerator:N.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}function encodeKeySignature(N){var u=Header_1.keySignatureKeys.indexOf(N.key);return{absoluteTime:N.ticks,deltaTime:0,key:u+7,meta:!0,scale:N.scale==="major"?0:1,type:"keySignature"}}function encodeText(N){return{absoluteTime:N.ticks,deltaTime:0,meta:!0,text:N.text,type:N.type}}function encode(N){var u={header:{format:1,numTracks:N.tracks.length+1,ticksPerBeat:N.header.ppq},tracks:__spreadArray([__spreadArray(__spreadArray(__spreadArray(__spreadArray([{absoluteTime:0,deltaTime:0,meta:!0,text:N.header.name,type:"trackName"}],N.header.keySignatures.map(function(n){return encodeKeySignature(n)}),!0),N.header.meta.map(function(n){return encodeText(n)}),!0),N.header.tempos.map(function(n){return encodeTempo(n)}),!0),N.header.timeSignatures.map(function(n){return encodeTimeSignature(n)}),!0)],N.tracks.map(function(n){return __spreadArray(__spreadArray(__spreadArray([encodeTrackName(n.name),encodeInstrument(n)],encodeNotes(n),!0),encodeControlChanges(n),!0),encodePitchBends(n),!0)}),!0)};return u.tracks=u.tracks.map(function(n){n=n.sort(function(r,b){return r.absoluteTime-b.absoluteTime});var a=0;return n.forEach(function(r){r.deltaTime=r.absoluteTime-a,a=r.absoluteTime,delete r.absoluteTime}),n.push({deltaTime:0,meta:!0,type:"endOfTrack"}),n}),new Uint8Array((0,midi_file_1.writeMidi)(u))}Encode.encode=encode;(function(N){var u=commonjsGlobal&&commonjsGlobal.__awaiter||function(_,l,y,o){function f(x){return x instanceof y?x:new y(function(g){g(x)})}return new(y||(y=Promise))(function(x,g){function D(T){try{C(o.next(T))}catch(O){g(O)}}function E(T){try{C(o.throw(T))}catch(O){g(O)}}function C(T){T.done?x(T.value):f(T.value).then(D,E)}C((o=o.apply(_,l||[])).next())})},n=commonjsGlobal&&commonjsGlobal.__generator||function(_,l){var y={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},o,f,x,g;return g={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function D(C){return function(T){return E([C,T])}}function E(C){if(o)throw new TypeError("Generator is already executing.");for(;y;)try{if(o=1,f&&(x=C[0]&2?f.return:C[0]?f.throw||((x=f.return)&&x.call(f),0):f.next)&&!(x=x.call(f,C[1])).done)return x;switch(f=0,x&&(C=[C[0]&2,x.value]),C[0]){case 0:case 1:x=C;break;case 4:return y.label++,{value:C[1],done:!1};case 5:y.label++,f=C[1],C=[0];continue;case 7:C=y.ops.pop(),y.trys.pop();continue;default:if(x=y.trys,!(x=x.length>0&&x[x.length-1])&&(C[0]===6||C[0]===2)){y=0;continue}if(C[0]===3&&(!x||C[1]>x[0]&&C[1]<x[3])){y.label=C[1];break}if(C[0]===6&&y.label<x[1]){y.label=x[1],x=C;break}if(x&&y.label<x[2]){y.label=x[2],y.ops.push(C);break}x[2]&&y.ops.pop(),y.trys.pop();continue}C=l.call(_,y)}catch(T){C=[6,T],f=0}finally{o=x=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}};Object.defineProperty(N,"__esModule",{value:!0}),N.Header=N.Track=N.Midi=void 0;var a=midiFile,r=Header,b=Track$1,h=Encode,m=function(){function _(l){var y=this,o=null;if(l){var f=l instanceof ArrayBuffer?new Uint8Array(l):l;o=(0,a.parseMidi)(f),o.tracks.forEach(function(x){var g=0;x.forEach(function(D){g+=D.deltaTime,D.absoluteTime=g})}),o.tracks=S(o.tracks)}this.header=new r.Header(o),this.tracks=[],l&&(this.tracks=o.tracks.map(function(x){return new b.Track(x,y.header)}),o.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return _.fromUrl=function(l){return u(this,void 0,void 0,function(){var y,o;return n(this,function(f){switch(f.label){case 0:return[4,fetch(l)];case 1:return y=f.sent(),y.ok?[4,y.arrayBuffer()]:[3,3];case 2:return o=f.sent(),[2,new _(o)];case 3:throw new Error("Could not load '".concat(l,"'"))}})})},Object.defineProperty(_.prototype,"name",{get:function(){return this.header.name},set:function(l){this.header.name=l},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"duration",{get:function(){var l=this.tracks.map(function(y){return y.duration});return Math.max.apply(Math,l)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"durationTicks",{get:function(){var l=this.tracks.map(function(y){return y.durationTicks});return Math.max.apply(Math,l)},enumerable:!1,configurable:!0}),_.prototype.addTrack=function(){var l=new b.Track(void 0,this.header);return this.tracks.push(l),l},_.prototype.toArray=function(){return(0,h.encode)(this)},_.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(l){return l.toJSON()})}},_.prototype.fromJSON=function(l){var y=this;this.header=new r.Header,this.header.fromJSON(l.header),this.tracks=l.tracks.map(function(o){var f=new b.Track(void 0,y.header);return f.fromJSON(o),f})},_.prototype.clone=function(){var l=new _;return l.fromJSON(this.toJSON()),l},_}();N.Midi=m;var p=Track$1;Object.defineProperty(N,"Track",{enumerable:!0,get:function(){return p.Track}});var A=Header;Object.defineProperty(N,"Header",{enumerable:!0,get:function(){return A.Header}});function S(_){for(var l=[],y=0;y<_.length;y++)for(var o=l.length,f=new Map,x=Array(16).fill(0),g=0,D=_[y];g<D.length;g++){var E=D[g],C=o,T=E.channel;if(T!==void 0){E.type==="programChange"&&(x[T]=E.programNumber);var O=x[T],I="".concat(O," ").concat(T);f.has(I)?C=f.get(I):(C=o+f.size,f.set(I,C))}l[C]||l.push([]),l[C].push(E)}return l}})(Midi$1);async function parse(N,u){var S;const n=await Midi$1.Midi.fromUrl(N)||[],a=((S=n.header.timeSignatures[0])==null?void 0:S.timeSignature[0])||4,r=Math.floor(n.tracks[0].endOfTrackTicks/480/a)*a*480,b=480/(u/4),h=r/480/a,m=(n.tracks[0].notes||[]).reduce((_,l)=>({..._,[l.ticks/b]:[..._[l.ticks/b]||[],l.midi].sort((y,o)=>y.midi<o.midi)}),{}),p=(n.tracks[0].notes||[]).reduce((_,l)=>({..._,[l.ticks/b]:Math.max(_[l.ticks/b]||0,Math.floor(l.durationTicks/b)/a)}),{}),A=Object.keys(m).map(_=>+_);return{bars:h,notes:m,events:A,durs:p}}const parseMidiFile=memoize(parse),inputs$1=writable$1([]),CCsIn=writable$1({}),notes=writable$1({});inputs$1.subscribe(N=>{CCsIn.set(N.reduce((u,n)=>({...u,[n]:{}}),{})),notes.set(N.reduce((u,n)=>({...u,[n]:[]}),{}))});const getCC=(N,u=0)=>{var a;const n=get_store_value(inputs$1)[u]||get_store_value(inputs$1)[0];return(a=get_store_value(CCsIn)[n])==null?void 0:a[N]},getNotes=(N=0)=>{const u=get_store_value(inputs$1)[N]||get_store_value(inputs$1)[0];return get_store_value(notes)[u]||[]};wm.enable().then(()=>{inputs$1.set(wm.inputs.map(N=>N.name)),wm.inputs.forEach(N=>{const u=debounce(n=>{CCsIn.update(a=>({...a,[N.name]:{...a[N.name],[n.controller.number]:n.value}}))},10);N.addListener("controlchange",u),N.addListener("noteon",n=>{notes.update(a=>({...a,[N.name]:[...a[N.name],n.note.number]}))}),N.addListener("noteoff",n=>{notes.update(a=>({...a,[N.name]:a[N.name].filter(r=>r!==n.note.number)}))})})});function commonjsRequire(N){throw new Error('Could not dynamically require "'+N+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var quantumCircuit_min={exports:{}};(function(N,u){(function(n){N.exports=n()})(function(){return function n(a,r,b){function h(A,S){if(!r[A]){if(!a[A]){var _=typeof commonjsRequire=="function"&&commonjsRequire;if(!S&&_)return _(A,!0);if(m)return m(A,!0);var l=new Error("Cannot find module '"+A+"'");throw l.code="MODULE_NOT_FOUND",l}var y=r[A]={exports:{}};a[A][0].call(y.exports,function(o){return h(a[A][1][o]||o)},y,y.exports,n,a,r,b)}return r[A].exports}for(var m=typeof commonjsRequire=="function"&&commonjsRequire,p=0;p<b.length;p++)h(b[p]);return h}({1:[function(n,a,r){function b(_){return h.error.ErrorListener.call(this),this.errors=_,this}var h=n("antlr4/index"),m=n("./QASMLexer"),p=n("./QASMParser"),A=n("./QASMListener").QASMListener;((b.prototype=Object.create(h.error.ErrorListener.prototype)).constructor=b).prototype.syntaxError=function(_,l,y,o,f,x){this.errors.push({line:y,col:o,msg:f})};function S(_,l){return this.circuit=_,this.qregMap={},this.condition={},this.compatibilityMode=l,A.call(this),this}((S.prototype=Object.create(A.prototype)).constructor=S).prototype.numQbit=function(){var _=0;for(var l in this.qregMap)_+=this.qregMap[l];return _},S.prototype.qregBase=function(_){var l=0;for(var y in this.qregMap){if(y==_)return l;l+=this.qregMap[y]}return l},S.prototype.qregLen=function(_){return this.qregMap[_]||0},S.prototype.enterMainprog=function(_){},S.prototype.exitMainprog=function(_){},S.prototype.enterStatement=function(_){var l,y,o,f,x,g,D,E=this;(_.getChildCount()?_.getChild(0).getText():"")=="if"&&(this.condition={creg:_.ID().getText(),value:parseInt(_.INT().getText())}),_.gatedecl()&&(y=[],o=[],2<(f=(l=_.gatedecl()).getChildCount())&&l.getChild(2).ID?y=l.getChild(2).ID():(3<f&&l.getChild(3).ID&&(o=l.getChild(3).ID()),5<f&&l.getChild(5).ID&&(y=l.getChild(5).ID())),x=new(Object.getPrototypeOf(this.circuit)).constructor(y.length),g=l.ID().getText(),D=[],y.map(function(C){D.push(C.getText())}),o.map(function(C){var T=C.getText();x.params.push(T)}),_.goplist()&&_.goplist().uop().map(function(C){var T=C.ID()?C.ID().getText():"";if(T){var O=C.anylist()?C.anylist().idlist():null,I=(C.anylist()&&C.anylist().mixedlist(),C.explist());switch(T){case"CX":T="cx";break;case"U":T="u3"}if(!E.circuit.basicGates[T]&&!E.circuit.customGates[T])for(var M in E.circuit.basicGates){var F=E.circuit.basicGates[M];if(F.exportInfo&&F.exportInfo.qasm&&F.exportInfo.qasm.name&&F.exportInfo.qasm.name==T){T=M;break}if(F.exportInfo&&F.exportInfo.qiskit&&F.exportInfo.qiskit.name&&F.exportInfo.qiskit.name==T){T=M;break}}var B,j,L,R={};I&&I.exp()&&(L=(L=E.circuit.basicGates[T])||E.circuit.customGates[T])&&(B=I.exp(),j=L.params||[],B.map(function(X,Z){var J=X.getText(),ee=Z<=j.length?j[Z]:"";ee&&(R[ee]=J)}));var V={params:R},k=[];if(O)for(var U=O.ID().length,G=0;G<U;G++)k.push(D.indexOf(O.ID()[G].getText()));var H=E.circuit.customGates[T];H&&x.registerGate(T,JSON.parse(JSON.stringify(H))),x.addGate(T,-1,k,V)}}),this.circuit.registerGate(g,x.save(!1)))},S.prototype.exitStatement=function(_){},S.prototype.enterVersion=function(_){},S.prototype.exitVersion=function(_){},S.prototype.enterDecl=function(_){switch(_.getChild(0).getText()){case"qreg":this.qregMap[_.getChild(1).getText()]=parseInt(_.getChild(3).getText());break;case"creg":this.circuit.createCreg(_.getChild(1).getText(),parseInt(_.getChild(3).getText()))}},S.prototype.exitDecl=function(_){},S.prototype.enterGatedecl=function(_){},S.prototype.exitGatedecl=function(_){},S.prototype.enterGoplist=function(_){},S.prototype.exitGoplist=function(_){},S.prototype.enterQop=function(_){var l=this,y=JSON.parse(JSON.stringify(this.condition));this.condition={};var o=_.getChildCount()?_.getChild(0).getText():"";if(o=="reset"){for(var f="",x=-1,g=_.argument().length,D=0;D<g;D++){var E=_.argument()[D];D==0&&(f=E.ID().getText(),x=E.INT()?parseInt(E.INT().getText()):-1)}if(f){var C=l.qregLen(f);if(x<0)for(var T=0;T<C;T++)l.circuit.addGate("reset",-1,T+l.qregBase(f),{condition:y||{}});else l.circuit.addGate("reset",-1,x+l.qregBase(f),{condition:y||{}})}}if(o=="measure"){for(var f="",x=-1,O="",I=-1,g=_.argument().length,D=0;D<g;D++)E=_.argument()[D],D==0&&(f=E.ID().getText(),x=E.INT()?parseInt(E.INT().getText()):-1),D==1&&(O=E.ID().getText(),I=E.INT()?parseInt(E.INT().getText()):-1);if(f&&O)if(C=l.qregLen(f),x<0&&I<0)for(T=0;T<C;T++)l.circuit.addGate("measure",-1,T+l.qregBase(f),{creg:{name:O,bit:T},condition:y||{}});else if(0<=x&&0<=I)l.circuit.addGate("measure",-1,x+l.qregBase(f),{creg:{name:O,bit:I},condition:y||{}});else if(0<=x&&I<0)for(T=0;T<C;T++)l.circuit.addGate("measure",-1,x+l.qregBase(f),{creg:{name:O,bit:T},condition:y||{}});else for(T=0;T<C;T++)l.circuit.addGate("measure",-1,T+l.qregBase(f),{creg:{name:O,bit:I},condition:y||{}})}var M=_.uop();if(M&&M.ID()){var F=M.ID().getText(),B=M.anylist()?M.anylist().idlist():null,j=M.anylist()?M.anylist().mixedlist():null,L=M.explist();switch(F){case"CX":F="cx";break;case"U":F="u3"}if(!l.circuit.basicGates[F]&&!l.circuit.customGates[F])for(var R in l.circuit.basicGates){var V=l.circuit.basicGates[R];if(V.exportInfo&&V.exportInfo.qasm&&V.exportInfo.qasm.name&&V.exportInfo.qasm.name==F){F=R;break}if(V.exportInfo&&V.exportInfo.qiskit&&V.exportInfo.qiskit.name&&V.exportInfo.qiskit.name==F){F=R;break}}var k,U,G,H={};L&&L.exp()&&(G=(G=l.circuit.basicGates[F])||l.circuit.customGates[F])&&(k=L.exp(),U=G.params||[],k.map(function(ee,$){var W=ee.getText(),Q=$<=U.length?U[$]:"";Q&&(H[Q]=W)}));var X={params:H,condition:y||{}};if(B)for(C=l.qregLen(B.ID()[0].getText()),T=0;T<C;T++){for(var Z=[],g=B.ID().length,D=0;D<g;D++)Z.push({reg:B.ID()[D].getText(),bit:T});var J=[];Z.map(function(ee){J.push(ee.bit+l.qregBase(ee.reg))}),l.circuit.addGate(F,-1,J,X)}if(j&&j.ID().length==j.INT().length){for(Z=[],g=j.ID().length,D=0;D<g;D++)Z.push({reg:j.ID()[D].getText(),bit:parseInt(j.INT()[D].getText())});J=[],Z.map(function(ee){J.push(ee.bit+l.qregBase(ee.reg))}),l.circuit.addGate(F,-1,J,X)}}},S.prototype.exitQop=function(_){},S.prototype.enterUop=function(_){},S.prototype.exitUop=function(_){},S.prototype.enterAnylist=function(_){},S.prototype.exitAnylist=function(_){},S.prototype.enterIdlist=function(_){},S.prototype.exitIdlist=function(_){},S.prototype.enterMixedlist=function(_){},S.prototype.exitMixedlist=function(_){},S.prototype.enterArgument=function(_){},S.prototype.exitArgument=function(_){},S.prototype.enterExplist=function(_){},S.prototype.exitExplist=function(_){},S.prototype.enterExp=function(_){},S.prototype.exitExp=function(_){},S.prototype.enterUnaryop=function(_){},S.prototype.exitUnaryop=function(_){},a.exports=function(_,l,y,o){var f=new h.InputStream(l),x=new m.QASMLexer(f),g=new h.CommonTokenStream(x),D=new p.QASMParser(g);D.buildParseTrees=!0,D.removeErrorListeners();var E=[],C=new b(E);D.addErrorListener(C);var T=D.mainprog(),O=new S(_,o);h.tree.ParseTreeWalker.DEFAULT.walk(O,T),y&&y(E)}},{"./QASMLexer":2,"./QASMListener":3,"./QASMParser":4,"antlr4/index":47}],2:[function(n,a,r){var b=n("antlr4/index"),h=["","-\b		","			\x07	",`\x07\b	\b			
	
\v	\v`,"\f	\f\r	\r		","				","			","				","\x1B	\x1B		",'		 	 !	!"	"#',"	#$	$%	%&	&'	'(	()	)","*	*+	+,	,","","\x07","\x07\x07\b\b\b		",`						


`,`





\v\v`,"\v\v\v\v\v\v","\f\f\f\f\f\r\r","","","","","","","","\x1B\x1B",""," ",'   !!!""""','"###$$$$$',`$$$
$%%%%
%\r%`,`%&&&&
&\r&&'`,`'
'\r''((\x07(
(\f`,`((\v())
)\r)))`,`)***
*\r****`,`++++\x07+
+\f++\v+`,"+++++,,,,\x07",`,
,\f,,\v,,,-`,"\x07	\v\x07\r\b	",`
\v\f\r\x1B`,"!#%')+-/1",`3\x1B579;= ?!A"C#E$G%I&K'M(O)Q*S+U,W-`,`
2;GGgg--//c`,'|2;C\\aac|\v\f""\x07',"/02;C\\aac|\f\f","\x07","	\v","\r","","","\x1B","","!#","%'",")+","-/","135","79",";=","?A","CE","GIK","MO","QS","UW","Y[\x07","b	d\vf","\rhk","nv","","\x1B","!","#%","')","+-","/1","35","79;","=?","AC","EG","IK","MOQ","SU","WYZ\x07","Z[\\\x07q\\]\x07","r]^\x07c^_\x07s_`\x07w","`a\x07gabc\x07=",`c\bde\x07*e
`,"fg\x07+g\fh","i\x07kij\x07hj","kl\x07?lm\x07?m","no\x07dop\x07cpq\x07t","qr\x07trs\x07kst\x07gtu\x07","tuvw\x07Qwx","\x07Rxy\x07Gyz\x07Pz{\x07","S{|\x07C|}\x07U}~\x07O","~\x07k","\x07p\x07e","\x07n\x07w","\x07f\x07g","\x07s\x07","t\x07g\x07i","\x07]","\x07_","\x07e","\x07t\x07g","\x07i","\x07i\x07c","\x07v\x07g ",'\x07}"',"\x07o\x07g","\x07c\x07u","\x07w\x07t","\x07g$","\x07/\x07@&","\x07t\x07g","\x07u\x07g","\x07v(","\x07W*","\x07E\x07Z,","\x07..","\x07`0","\x07,2","\x0714","\x07-6\x07","/8\x07u","\x07k\x07p",":\x07e","\x07q\x07u<","\x07v\x07","c\x07p>","\x07g\x07z","\x07r@","\x07n\x07pB","\x07u\x07","s\x07t\x07v","D\x07r","\x07kF","I%K&","M'K&","I%","","H","M'\x070	","","","J	","		","","","L	","","N","	","	","","P","	\x07","","","\b)R","\x07$	\b","","","\x07$","T\x071","\x07,","\v","","","\x07,","\x071","\b+V\x07","1\x071",`
	`,"","","\b,","X\f","\b"].join(""),m=new b.atn.ATNDeserializer().deserialize(h),p=m.decisionToState.map(function(S,_){return new b.dfa.DFA(S,_)});function A(S){return b.Lexer.call(this,S),this._interp=new b.atn.LexerATNSimulator(this,m,p,new b.PredictionContextCache),this}(A.prototype=Object.create(b.Lexer.prototype)).constructor=A,Object.defineProperty(A.prototype,"atn",{get:function(){return m}}),A.EOF=b.Token.EOF,A.T__0=1,A.T__1=2,A.T__2=3,A.T__3=4,A.T__4=5,A.T__5=6,A.T__6=7,A.T__7=8,A.T__8=9,A.T__9=10,A.T__10=11,A.T__11=12,A.T__12=13,A.T__13=14,A.T__14=15,A.T__15=16,A.T__16=17,A.T__17=18,A.T__18=19,A.T__19=20,A.T__20=21,A.T__21=22,A.T__22=23,A.T__23=24,A.T__24=25,A.T__25=26,A.T__26=27,A.T__27=28,A.T__28=29,A.T__29=30,A.T__30=31,A.T__31=32,A.T__32=33,A.PI=34,A.REAL=35,A.SUBREAL=36,A.EXPREAL=37,A.INT=38,A.ID=39,A.WS=40,A.FILENAME=41,A.COMMENT=42,A.LINE_COMMENT=43,A.prototype.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],A.prototype.modeNames=["DEFAULT_MODE"],A.prototype.literalNames=[null,"'}'","'opaque'","';'","'('","')'","'if'","'=='","'barrier'","'OPENQASM'","'include'","'qreg'","'['","']'","'creg'","'gate'","'{'","'measure'","'->'","'reset'","'U'","'CX'","','","'^'","'*'","'/'","'+'","'-'","'sin'","'cos'","'tan'","'exp'","'ln'","'sqrt'","'pi'"],A.prototype.symbolicNames=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"PI","REAL","SUBREAL","EXPREAL","INT","ID","WS","FILENAME","COMMENT","LINE_COMMENT"],A.prototype.ruleNames=["T__0","T__1","T__2","T__3","T__4","T__5","T__6","T__7","T__8","T__9","T__10","T__11","T__12","T__13","T__14","T__15","T__16","T__17","T__18","T__19","T__20","T__21","T__22","T__23","T__24","T__25","T__26","T__27","T__28","T__29","T__30","T__31","T__32","PI","REAL","SUBREAL","EXPREAL","INT","ID","WS","FILENAME","COMMENT","LINE_COMMENT"],A.prototype.grammarFileName="QASM.g4",r.QASMLexer=A},{"antlr4/index":47}],3:[function(n,a,r){var b=n("antlr4/index");function h(){return b.tree.ParseTreeListener.call(this),this}((h.prototype=Object.create(b.tree.ParseTreeListener.prototype)).constructor=h).prototype.enterMainprog=function(m){},h.prototype.exitMainprog=function(m){},h.prototype.enterStatement=function(m){},h.prototype.exitStatement=function(m){},h.prototype.enterVersion=function(m){},h.prototype.exitVersion=function(m){},h.prototype.enterInclude=function(m){},h.prototype.exitInclude=function(m){},h.prototype.enterFilename=function(m){},h.prototype.exitFilename=function(m){},h.prototype.enterDecl=function(m){},h.prototype.exitDecl=function(m){},h.prototype.enterGatedecl=function(m){},h.prototype.exitGatedecl=function(m){},h.prototype.enterGoplist=function(m){},h.prototype.exitGoplist=function(m){},h.prototype.enterQop=function(m){},h.prototype.exitQop=function(m){},h.prototype.enterUop=function(m){},h.prototype.exitUop=function(m){},h.prototype.enterAnylist=function(m){},h.prototype.exitAnylist=function(m){},h.prototype.enterIdlist=function(m){},h.prototype.exitIdlist=function(m){},h.prototype.enterMixedlist=function(m){},h.prototype.exitMixedlist=function(m){},h.prototype.enterArgument=function(m){},h.prototype.exitArgument=function(m){},h.prototype.enterExplist=function(m){},h.prototype.exitExplist=function(m){},h.prototype.enterExp=function(m){},h.prototype.exitExp=function(m){},h.prototype.enterAtom=function(m){},h.prototype.exitAtom=function(m){},h.prototype.enterUnaryop=function(m){},h.prototype.exitUnaryop=function(m){},r.QASMListener=h},{"antlr4/index":47}],4:[function(n,a,r){var b=n("antlr4/index"),h=n("./QASMListener").QASMListener,m=["","-			","		\x07	\x07",`\b	\b			
	
\v	\v\f	\f`,"\r	\r			","			",`\x07)
\f,\v`,"","","","","","",`W
`,"","\x07\x07","\x07\x07\x07\x07\x07\x07",`\x07\x07\x07\x07\x07o
\x07`,"\b\b\b\b\b\b\b\b","\b\b\b\b\b\b\b\b\b",`\b\b\b\b
\b				`,`		
	\r		


`,`







`,`


\v\v\v\v\v`,"\v\v\v\v\v\v","\v\v\v\v\v\v","\v\v\v\v\v\v","\v\v\v\v\v\v",`\v\v
\v\f\f\f`,`
\f\r\r\x07\r
\r\f\r\r\v\r`,"\r\r",`\x07
\f\v`,"\x07",`
\f\v`,"\x07",`
\f\v`,`\x07
\f\v`,`
`,"",`
\x07`,`
\f\v`,`
`,`
`,"",`

`,"",`\x07
\f`,"\v",` \b
\f`,' "$',"\x1B$%()","#&V","X\b\\","\n`\fn","","","","",' "',"$&*","')('),","*(*++",",*-W\f\x07","./\b/0	01\x07","1W23\b34\x07","4W56\x0767\x07)","78\r89\x079W",":;\x07;<\x07)<=","\x07=>\x07\x07>?\r","?@\x07@WAB\x07","BC\x07)CD\x07DE","\rEF\x07\x07FG\rGH\x07",`HWIW
JK\x07`,"\bKL\x07LM\x07)MN\x07","	NO\x07(OP\x07\x07PW",`
QR\x07
RS\fST\x07`,"TWUW\bV-","V.V2","V5V:VA","VIVJVQ","VUW","XY\x07\vYZ\x07%Z[\x07","[\x07\\]\x07\f]^",`
^_\x07_	`,"`a\x07+a\vbc\x07\r","cd\x07)de\x07ef\x07(","fg\x07go\x07hi\x07","ij\x07)jk\x07kl\x07","(lm\x07mo\x07nb","nho\r","pq\x07qr\x07)rs","\rst\x07tuv","\x07vw\x07)wx\x07","xy\x07\x07yz\rz{\x07","{|}\x07}~\x07",")~\x07","\r\x07\x07","\r\x07","pu","|",`\v\x07
`,"\r\x07","","","","\v","\x07","\x07","\x07","\x07","\x07","","","\x07\x07","\x07\x07","\x07","\x07","\x07","\x07","\x07)","\f\x07","\x07)","\x07\x07\x07","\f\x07","\x07)","\x07","\x07\x07\f","\x07","","","","\r","","\x07)","\x07","","","\x07)","\x07)","\x07\x07(","\x07\x07","","","","\x07)\x07)","\x07\x07(","\x07\x07","","","","\x07)\x07","\x07(\x07","\x07)\x07","","","","\x07)\x07","","","","\x07)\x07","\x07(\x07","","\x1B","\x07)\x07)","\x07\x07(","\x07",""," \x07","","",""," ","\b","	","","\x07 ","\x07\x07","	","","$\x07"," \x07\x07","	","",'"',"","","\f\b\x07"," 	\f\x07	"," \b\f","	 \x07","","","","!","	#","	%*Vn","",""].join(""),p=new b.atn.ATNDeserializer().deserialize(m),A=p.decisionToState.map(function(G,H){return new b.dfa.DFA(G,H)}),S=new b.PredictionContextCache,_=[null,"'}'","'opaque'","';'","'('","')'","'if'","'=='","'barrier'","'OPENQASM'","'include'","'qreg'","'['","']'","'creg'","'gate'","'{'","'measure'","'->'","'reset'","'U'","'CX'","','","'^'","'*'","'/'","'+'","'-'","'sin'","'cos'","'tan'","'exp'","'ln'","'sqrt'","'pi'"],l=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"PI","REAL","SUBREAL","EXPREAL","INT","ID","WS","FILENAME","COMMENT","LINE_COMMENT"],y=["mainprog","statement","version","include","filename","decl","gatedecl","goplist","qop","uop","anylist","idlist","mixedlist","argument","explist","exp","atom","unaryop"];function o(G){return b.Parser.call(this,G),this._interp=new b.atn.ParserATNSimulator(this,p,A,S),this.ruleNames=y,this.literalNames=_,this.symbolicNames=l,this}function f(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_mainprog,this}function x(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_statement,this}function g(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_version,this}function D(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_include,this}function E(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_filename,this}function C(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_decl,this}function T(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_gatedecl,this}function O(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_goplist,this}function I(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_qop,this}function M(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_uop,this}function F(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_anylist,this}function B(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_idlist,this}function j(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_mixedlist,this}function L(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_argument,this}function R(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_explist,this}function V(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_exp,this}function k(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_atom,this}function U(G,H,X){return H===void 0&&(H=null),X==null&&(X=-1),b.ParserRuleContext.call(this,H,X),this.parser=G,this.ruleIndex=o.RULE_unaryop,this}(o.prototype=Object.create(b.Parser.prototype)).constructor=o,Object.defineProperty(o.prototype,"atn",{get:function(){return p}}),o.EOF=b.Token.EOF,o.T__0=1,o.T__1=2,o.T__2=3,o.T__3=4,o.T__4=5,o.T__5=6,o.T__6=7,o.T__7=8,o.T__8=9,o.T__9=10,o.T__10=11,o.T__11=12,o.T__12=13,o.T__13=14,o.T__14=15,o.T__15=16,o.T__16=17,o.T__17=18,o.T__18=19,o.T__19=20,o.T__20=21,o.T__21=22,o.T__22=23,o.T__23=24,o.T__24=25,o.T__25=26,o.T__26=27,o.T__27=28,o.T__28=29,o.T__29=30,o.T__30=31,o.T__31=32,o.T__32=33,o.PI=34,o.REAL=35,o.SUBREAL=36,o.EXPREAL=37,o.INT=38,o.ID=39,o.WS=40,o.FILENAME=41,o.COMMENT=42,o.LINE_COMMENT=43,o.RULE_mainprog=0,o.RULE_statement=1,o.RULE_version=2,o.RULE_include=3,o.RULE_filename=4,o.RULE_decl=5,o.RULE_gatedecl=6,o.RULE_goplist=7,o.RULE_qop=8,o.RULE_uop=9,o.RULE_anylist=10,o.RULE_idlist=11,o.RULE_mixedlist=12,o.RULE_argument=13,o.RULE_explist=14,o.RULE_exp=15,o.RULE_atom=16,o.RULE_unaryop=17,((f.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=f).prototype.version=function(){return this.getTypedRuleContext(g,0)},f.prototype.statement=function(G){return G===void 0&&(G=null),G===null?this.getTypedRuleContexts(x):this.getTypedRuleContext(x,G)},f.prototype.enterRule=function(G){G instanceof h&&G.enterMainprog(this)},f.prototype.exitRule=function(G){G instanceof h&&G.exitMainprog(this)},o.MainprogContext=f,o.prototype.mainprog=function(){var G=new f(this,this._ctx,this.state);this.enterRule(G,0,o.RULE_mainprog);var H=0;try{for(this.enterOuterAlt(G,1),this.state=36,this.version(),this.state=40,this._errHandler.sync(this),H=this._input.LA(1);!(-32&H)&&1<<H&(1<<o.T__1|1<<o.T__5|1<<o.T__7|1<<o.T__9|1<<o.T__10|1<<o.T__13|1<<o.T__14|1<<o.T__16|1<<o.T__18|1<<o.T__19|1<<o.T__20)||H===o.ID;)this.state=37,this.statement(),this.state=42,this._errHandler.sync(this),H=this._input.LA(1)}catch(X){if(!(X instanceof b.error.RecognitionException))throw X;G.exception=X,this._errHandler.reportError(this,X),this._errHandler.recover(this,X)}finally{this.exitRule()}return G},((x.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=x).prototype.decl=function(){return this.getTypedRuleContext(C,0)},x.prototype.gatedecl=function(){return this.getTypedRuleContext(T,0)},x.prototype.goplist=function(){return this.getTypedRuleContext(O,0)},x.prototype.ID=function(){return this.getToken(o.ID,0)},x.prototype.idlist=function(G){return G===void 0&&(G=null),G===null?this.getTypedRuleContexts(B):this.getTypedRuleContext(B,G)},x.prototype.qop=function(){return this.getTypedRuleContext(I,0)},x.prototype.INT=function(){return this.getToken(o.INT,0)},x.prototype.anylist=function(){return this.getTypedRuleContext(F,0)},x.prototype.include=function(){return this.getTypedRuleContext(D,0)},x.prototype.enterRule=function(G){G instanceof h&&G.enterStatement(this)},x.prototype.exitRule=function(G){G instanceof h&&G.exitStatement(this)},o.StatementContext=x,o.prototype.statement=function(){var G=new x(this,this._ctx,this.state);this.enterRule(G,2,o.RULE_statement);try{switch(this.state=84,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,1,this._ctx)){case 1:this.enterOuterAlt(G,1),this.state=43,this.decl();break;case 2:this.enterOuterAlt(G,2),this.state=44,this.gatedecl(),this.state=45,this.goplist(),this.state=46,this.match(o.T__0);break;case 3:this.enterOuterAlt(G,3),this.state=48,this.gatedecl(),this.state=49,this.match(o.T__0);break;case 4:this.enterOuterAlt(G,4),this.state=51,this.match(o.T__1),this.state=52,this.match(o.ID),this.state=53,this.idlist(),this.state=54,this.match(o.T__2);break;case 5:this.enterOuterAlt(G,5),this.state=56,this.match(o.T__1),this.state=57,this.match(o.ID),this.state=58,this.match(o.T__3),this.state=59,this.match(o.T__4),this.state=60,this.idlist(),this.state=61,this.match(o.T__2);break;case 6:this.enterOuterAlt(G,6),this.state=63,this.match(o.T__1),this.state=64,this.match(o.ID),this.state=65,this.match(o.T__3),this.state=66,this.idlist(),this.state=67,this.match(o.T__4),this.state=68,this.idlist(),this.state=69,this.match(o.T__2);break;case 7:this.enterOuterAlt(G,7),this.state=71,this.qop();break;case 8:this.enterOuterAlt(G,8),this.state=72,this.match(o.T__5),this.state=73,this.match(o.T__3),this.state=74,this.match(o.ID),this.state=75,this.match(o.T__6),this.state=76,this.match(o.INT),this.state=77,this.match(o.T__4),this.state=78,this.qop();break;case 9:this.enterOuterAlt(G,9),this.state=79,this.match(o.T__7),this.state=80,this.anylist(),this.state=81,this.match(o.T__2);break;case 10:this.enterOuterAlt(G,10),this.state=83,this.include()}}catch(H){if(!(H instanceof b.error.RecognitionException))throw H;G.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return G},((g.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=g).prototype.REAL=function(){return this.getToken(o.REAL,0)},g.prototype.enterRule=function(G){G instanceof h&&G.enterVersion(this)},g.prototype.exitRule=function(G){G instanceof h&&G.exitVersion(this)},o.VersionContext=g,o.prototype.version=function(){var G=new g(this,this._ctx,this.state);this.enterRule(G,4,o.RULE_version);try{this.enterOuterAlt(G,1),this.state=86,this.match(o.T__8),this.state=87,this.match(o.REAL),this.state=88,this.match(o.T__2)}catch(H){if(!(H instanceof b.error.RecognitionException))throw H;G.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return G},((D.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=D).prototype.filename=function(){return this.getTypedRuleContext(E,0)},D.prototype.enterRule=function(G){G instanceof h&&G.enterInclude(this)},D.prototype.exitRule=function(G){G instanceof h&&G.exitInclude(this)},o.IncludeContext=D,o.prototype.include=function(){var G=new D(this,this._ctx,this.state);this.enterRule(G,6,o.RULE_include);try{this.enterOuterAlt(G,1),this.state=90,this.match(o.T__9),this.state=91,this.filename(),this.state=92,this.match(o.T__2)}catch(H){if(!(H instanceof b.error.RecognitionException))throw H;G.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return G},((E.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=E).prototype.FILENAME=function(){return this.getToken(o.FILENAME,0)},E.prototype.enterRule=function(G){G instanceof h&&G.enterFilename(this)},E.prototype.exitRule=function(G){G instanceof h&&G.exitFilename(this)},o.FilenameContext=E,o.prototype.filename=function(){var G=new E(this,this._ctx,this.state);this.enterRule(G,8,o.RULE_filename);try{this.enterOuterAlt(G,1),this.state=94,this.match(o.FILENAME)}catch(H){if(!(H instanceof b.error.RecognitionException))throw H;G.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return G},((C.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=C).prototype.ID=function(){return this.getToken(o.ID,0)},C.prototype.INT=function(){return this.getToken(o.INT,0)},C.prototype.enterRule=function(G){G instanceof h&&G.enterDecl(this)},C.prototype.exitRule=function(G){G instanceof h&&G.exitDecl(this)},o.DeclContext=C,o.prototype.decl=function(){var G=new C(this,this._ctx,this.state);this.enterRule(G,10,o.RULE_decl);try{switch(this.state=108,this._errHandler.sync(this),this._input.LA(1)){case o.T__10:this.enterOuterAlt(G,1),this.state=96,this.match(o.T__10),this.state=97,this.match(o.ID),this.state=98,this.match(o.T__11),this.state=99,this.match(o.INT),this.state=100,this.match(o.T__12),this.state=101,this.match(o.T__2);break;case o.T__13:this.enterOuterAlt(G,2),this.state=102,this.match(o.T__13),this.state=103,this.match(o.ID),this.state=104,this.match(o.T__11),this.state=105,this.match(o.INT),this.state=106,this.match(o.T__12),this.state=107,this.match(o.T__2);break;default:throw new b.error.NoViableAltException(this)}}catch(H){if(!(H instanceof b.error.RecognitionException))throw H;G.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return G},((T.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=T).prototype.ID=function(){return this.getToken(o.ID,0)},T.prototype.idlist=function(G){return G===void 0&&(G=null),G===null?this.getTypedRuleContexts(B):this.getTypedRuleContext(B,G)},T.prototype.enterRule=function(G){G instanceof h&&G.enterGatedecl(this)},T.prototype.exitRule=function(G){G instanceof h&&G.exitGatedecl(this)},o.GatedeclContext=T,o.prototype.gatedecl=function(){var G=new T(this,this._ctx,this.state);this.enterRule(G,12,o.RULE_gatedecl);try{switch(this.state=130,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,3,this._ctx)){case 1:this.enterOuterAlt(G,1),this.state=110,this.match(o.T__14),this.state=111,this.match(o.ID),this.state=112,this.idlist(),this.state=113,this.match(o.T__15);break;case 2:this.enterOuterAlt(G,2),this.state=115,this.match(o.T__14),this.state=116,this.match(o.ID),this.state=117,this.match(o.T__3),this.state=118,this.match(o.T__4),this.state=119,this.idlist(),this.state=120,this.match(o.T__15);break;case 3:this.enterOuterAlt(G,3),this.state=122,this.match(o.T__14),this.state=123,this.match(o.ID),this.state=124,this.match(o.T__3),this.state=125,this.idlist(),this.state=126,this.match(o.T__4),this.state=127,this.idlist(),this.state=128,this.match(o.T__15)}}catch(H){if(!(H instanceof b.error.RecognitionException))throw H;G.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return G},((O.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=O).prototype.uop=function(G){return G===void 0&&(G=null),G===null?this.getTypedRuleContexts(M):this.getTypedRuleContext(M,G)},O.prototype.idlist=function(G){return G===void 0&&(G=null),G===null?this.getTypedRuleContexts(B):this.getTypedRuleContext(B,G)},O.prototype.enterRule=function(G){G instanceof h&&G.enterGoplist(this)},O.prototype.exitRule=function(G){G instanceof h&&G.exitGoplist(this)},o.GoplistContext=O,o.prototype.goplist=function(){var G=new O(this,this._ctx,this.state);this.enterRule(G,14,o.RULE_goplist);var H;try{this.enterOuterAlt(G,1),this.state=137,this._errHandler.sync(this),this._input.LA(1);do{switch(this.state=137,this._errHandler.sync(this),this._input.LA(1)){case o.T__19:case o.T__20:case o.ID:this.state=132,this.uop();break;case o.T__7:this.state=133,this.match(o.T__7),this.state=134,this.idlist(),this.state=135,this.match(o.T__2);break;default:throw new b.error.NoViableAltException(this)}this.state=139,this._errHandler.sync(this),H=this._input.LA(1)}while(!(H-8&-32)&&1<<H-8&(1<<o.T__7-8|1<<o.T__19-8|1<<o.T__20-8|1<<o.ID-8))}catch(X){if(!(X instanceof b.error.RecognitionException))throw X;G.exception=X,this._errHandler.reportError(this,X),this._errHandler.recover(this,X)}finally{this.exitRule()}return G},((I.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=I).prototype.uop=function(){return this.getTypedRuleContext(M,0)},I.prototype.argument=function(G){return G===void 0&&(G=null),G===null?this.getTypedRuleContexts(L):this.getTypedRuleContext(L,G)},I.prototype.enterRule=function(G){G instanceof h&&G.enterQop(this)},I.prototype.exitRule=function(G){G instanceof h&&G.exitQop(this)},o.QopContext=I,o.prototype.qop=function(){var G=new I(this,this._ctx,this.state);this.enterRule(G,16,o.RULE_qop);try{switch(this.state=152,this._errHandler.sync(this),this._input.LA(1)){case o.T__19:case o.T__20:case o.ID:this.enterOuterAlt(G,1),this.state=141,this.uop();break;case o.T__16:this.enterOuterAlt(G,2),this.state=142,this.match(o.T__16),this.state=143,this.argument(),this.state=144,this.match(o.T__17),this.state=145,this.argument(),this.state=146,this.match(o.T__2);break;case o.T__18:this.enterOuterAlt(G,3),this.state=148,this.match(o.T__18),this.state=149,this.argument(),this.state=150,this.match(o.T__2);break;default:throw new b.error.NoViableAltException(this)}}catch(H){if(!(H instanceof b.error.RecognitionException))throw H;G.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return G},((M.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=M).prototype.explist=function(){return this.getTypedRuleContext(R,0)},M.prototype.argument=function(G){return G===void 0&&(G=null),G===null?this.getTypedRuleContexts(L):this.getTypedRuleContext(L,G)},M.prototype.ID=function(){return this.getToken(o.ID,0)},M.prototype.anylist=function(){return this.getTypedRuleContext(F,0)},M.prototype.enterRule=function(G){G instanceof h&&G.enterUop(this)},M.prototype.exitRule=function(G){G instanceof h&&G.exitUop(this)},o.UopContext=M,o.prototype.uop=function(){var G=new M(this,this._ctx,this.state);this.enterRule(G,18,o.RULE_uop);try{switch(this.state=184,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,7,this._ctx)){case 1:this.enterOuterAlt(G,1),this.state=154,this.match(o.T__19),this.state=155,this.match(o.T__3),this.state=156,this.explist(),this.state=157,this.match(o.T__4),this.state=158,this.argument(),this.state=159,this.match(o.T__2);break;case 2:this.enterOuterAlt(G,2),this.state=161,this.match(o.T__20),this.state=162,this.argument(),this.state=163,this.match(o.T__21),this.state=164,this.argument(),this.state=165,this.match(o.T__2);break;case 3:this.enterOuterAlt(G,3),this.state=167,this.match(o.ID),this.state=168,this.anylist(),this.state=169,this.match(o.T__2);break;case 4:this.enterOuterAlt(G,4),this.state=171,this.match(o.ID),this.state=172,this.match(o.T__3),this.state=173,this.match(o.T__4),this.state=174,this.anylist(),this.state=175,this.match(o.T__2);break;case 5:this.enterOuterAlt(G,5),this.state=177,this.match(o.ID),this.state=178,this.match(o.T__3),this.state=179,this.explist(),this.state=180,this.match(o.T__4),this.state=181,this.anylist(),this.state=182,this.match(o.T__2)}}catch(H){if(!(H instanceof b.error.RecognitionException))throw H;G.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return G},((F.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=F).prototype.idlist=function(){return this.getTypedRuleContext(B,0)},F.prototype.mixedlist=function(){return this.getTypedRuleContext(j,0)},F.prototype.enterRule=function(G){G instanceof h&&G.enterAnylist(this)},F.prototype.exitRule=function(G){G instanceof h&&G.exitAnylist(this)},o.AnylistContext=F,o.prototype.anylist=function(){var G=new F(this,this._ctx,this.state);this.enterRule(G,20,o.RULE_anylist);try{switch(this.state=188,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,8,this._ctx)){case 1:this.enterOuterAlt(G,1),this.state=186,this.idlist();break;case 2:this.enterOuterAlt(G,2),this.state=187,this.mixedlist()}}catch(H){if(!(H instanceof b.error.RecognitionException))throw H;G.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return G},((B.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=B).prototype.ID=function(G){return G===void 0&&(G=null),G===null?this.getTokens(o.ID):this.getToken(o.ID,G)},B.prototype.enterRule=function(G){G instanceof h&&G.enterIdlist(this)},B.prototype.exitRule=function(G){G instanceof h&&G.exitIdlist(this)},o.IdlistContext=B,o.prototype.idlist=function(){var G=new B(this,this._ctx,this.state);this.enterRule(G,22,o.RULE_idlist);try{this.enterOuterAlt(G,1),this.state=194,this._errHandler.sync(this);for(var H=this._interp.adaptivePredict(this._input,9,this._ctx);H!=2&&H!=b.atn.ATN.INVALID_ALT_NUMBER;)H===1&&(this.state=190,this.match(o.ID),this.state=191,this.match(o.T__21)),this.state=196,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,9,this._ctx);this.state=197,this.match(o.ID)}catch(X){if(!(X instanceof b.error.RecognitionException))throw X;G.exception=X,this._errHandler.reportError(this,X),this._errHandler.recover(this,X)}finally{this.exitRule()}return G},((j.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=j).prototype.ID=function(G){return G===void 0&&(G=null),G===null?this.getTokens(o.ID):this.getToken(o.ID,G)},j.prototype.INT=function(G){return G===void 0&&(G=null),G===null?this.getTokens(o.INT):this.getToken(o.INT,G)},j.prototype.enterRule=function(G){G instanceof h&&G.enterMixedlist(this)},j.prototype.exitRule=function(G){G instanceof h&&G.exitMixedlist(this)},o.MixedlistContext=j,o.prototype.mixedlist=function(){var G=new j(this,this._ctx,this.state);this.enterRule(G,24,o.RULE_mixedlist);try{switch(this.state=242,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,14,this._ctx)){case 1:this.enterOuterAlt(G,1),this.state=206,this._errHandler.sync(this);for(var H=this._interp.adaptivePredict(this._input,10,this._ctx);H!=2&&H!=b.atn.ATN.INVALID_ALT_NUMBER;)H===1&&(this.state=199,this.match(o.ID),this.state=200,this.match(o.T__11),this.state=201,this.match(o.INT),this.state=202,this.match(o.T__12),this.state=203,this.match(o.T__21)),this.state=208,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,10,this._ctx);this.state=209,this.match(o.ID);break;case 2:for(this.enterOuterAlt(G,2),this.state=217,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,11,this._ctx);H!=2&&H!=b.atn.ATN.INVALID_ALT_NUMBER;)H===1&&(this.state=210,this.match(o.ID),this.state=211,this.match(o.T__11),this.state=212,this.match(o.INT),this.state=213,this.match(o.T__12),this.state=214,this.match(o.T__21)),this.state=219,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,11,this._ctx);this.state=220,this.match(o.ID),this.state=221,this.match(o.T__11),this.state=222,this.match(o.INT),this.state=223,this.match(o.T__12);break;case 3:for(this.enterOuterAlt(G,3),this.state=235,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,13,this._ctx);H!=2&&H!=b.atn.ATN.INVALID_ALT_NUMBER;){if(H===1){for(this.state=228,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,12,this._ctx);H!=2&&H!=b.atn.ATN.INVALID_ALT_NUMBER;)H===1&&(this.state=224,this.match(o.ID),this.state=225,this.match(o.T__21)),this.state=230,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,12,this._ctx);this.state=231,this.match(o.ID),this.state=232,this.match(o.T__21)}this.state=237,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,13,this._ctx)}this.state=238,this.match(o.ID),this.state=239,this.match(o.T__11),this.state=240,this.match(o.INT),this.state=241,this.match(o.T__12)}}catch(X){if(!(X instanceof b.error.RecognitionException))throw X;G.exception=X,this._errHandler.reportError(this,X),this._errHandler.recover(this,X)}finally{this.exitRule()}return G},((L.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=L).prototype.ID=function(){return this.getToken(o.ID,0)},L.prototype.INT=function(){return this.getToken(o.INT,0)},L.prototype.enterRule=function(G){G instanceof h&&G.enterArgument(this)},L.prototype.exitRule=function(G){G instanceof h&&G.exitArgument(this)},o.ArgumentContext=L,o.prototype.argument=function(){var G=new L(this,this._ctx,this.state);this.enterRule(G,26,o.RULE_argument);try{switch(this.state=249,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,15,this._ctx)){case 1:this.enterOuterAlt(G,1),this.state=244,this.match(o.ID);break;case 2:this.enterOuterAlt(G,2),this.state=245,this.match(o.ID),this.state=246,this.match(o.T__11),this.state=247,this.match(o.INT),this.state=248,this.match(o.T__12)}}catch(H){if(!(H instanceof b.error.RecognitionException))throw H;G.exception=H,this._errHandler.reportError(this,H),this._errHandler.recover(this,H)}finally{this.exitRule()}return G},((R.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=R).prototype.exp=function(G){return G===void 0&&(G=null),G===null?this.getTypedRuleContexts(V):this.getTypedRuleContext(V,G)},R.prototype.enterRule=function(G){G instanceof h&&G.enterExplist(this)},R.prototype.exitRule=function(G){G instanceof h&&G.exitExplist(this)},o.ExplistContext=R,o.prototype.explist=function(){var G=new R(this,this._ctx,this.state);this.enterRule(G,28,o.RULE_explist);try{this.enterOuterAlt(G,1),this.state=256,this._errHandler.sync(this);for(var H=this._interp.adaptivePredict(this._input,16,this._ctx);H!=2&&H!=b.atn.ATN.INVALID_ALT_NUMBER;)H===1&&(this.state=251,this.exp(0),this.state=252,this.match(o.T__21)),this.state=258,this._errHandler.sync(this),H=this._interp.adaptivePredict(this._input,16,this._ctx);this.state=259,this.exp(0)}catch(X){if(!(X instanceof b.error.RecognitionException))throw X;G.exception=X,this._errHandler.reportError(this,X),this._errHandler.recover(this,X)}finally{this.exitRule()}return G},((V.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=V).prototype.exp=function(G){return G===void 0&&(G=null),G===null?this.getTypedRuleContexts(V):this.getTypedRuleContext(V,G)},V.prototype.unaryop=function(){return this.getTypedRuleContext(U,0)},V.prototype.atom=function(){return this.getTypedRuleContext(k,0)},V.prototype.enterRule=function(G){G instanceof h&&G.enterExp(this)},V.prototype.exitRule=function(G){G instanceof h&&G.exitExp(this)},o.prototype.exp=function(G){G===void 0&&(G=0);var H=this._ctx,X=this.state,Z=new V(this,this._ctx,X);this.enterRecursionRule(Z,30,o.RULE_exp,G);var J=0;try{this.enterOuterAlt(Z,1),this.state=281,this._errHandler.sync(this);var ee=this._interp.adaptivePredict(this._input,20,this._ctx);switch(ee){case 1:this.state=263,this._errHandler.sync(this),(J=this._input.LA(1))!==o.T__25&&J!==o.T__26||(this.state=262,(J=this._input.LA(1))!==o.T__25&&J!==o.T__26?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())),this.state=265,this.match(o.T__3),this.state=266,this.exp(0),this.state=267,this.match(o.T__4);break;case 2:this.state=270,this._errHandler.sync(this),(J=this._input.LA(1))!==o.T__25&&J!==o.T__26||(this.state=269,(J=this._input.LA(1))!==o.T__25&&J!==o.T__26?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())),this.state=272,this.unaryop(),this.state=273,this.match(o.T__3),this.state=274,this.exp(0),this.state=275,this.match(o.T__4);break;case 3:this.state=278,this._errHandler.sync(this),(J=this._input.LA(1))!==o.T__25&&J!==o.T__26||(this.state=277,(J=this._input.LA(1))!==o.T__25&&J!==o.T__26?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())),this.state=280,this.atom()}this._ctx.stop=this._input.LT(-1),this.state=294,this._errHandler.sync(this);for(var $=this._interp.adaptivePredict(this._input,22,this._ctx);$!=2&&$!=b.atn.ATN.INVALID_ALT_NUMBER;){if($===1)switch(this._parseListeners!==null&&this.triggerExitRuleEvent(),this.state=292,this._errHandler.sync(this),ee=this._interp.adaptivePredict(this._input,21,this._ctx)){case 1:if(Z=new V(this,H,X),this.pushNewRecursionContext(Z,30,o.RULE_exp),this.state=283,!this.precpred(this._ctx,6))throw new b.error.FailedPredicateException(this,"this.precpred(this._ctx, 6)");this.state=284,this.match(o.T__22),this.state=285,this.exp(7);break;case 2:if(Z=new V(this,H,X),this.pushNewRecursionContext(Z,30,o.RULE_exp),this.state=286,!this.precpred(this._ctx,5))throw new b.error.FailedPredicateException(this,"this.precpred(this._ctx, 5)");this.state=287,(J=this._input.LA(1))!==o.T__23&&J!==o.T__24?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=288,this.exp(6);break;case 3:if(Z=new V(this,H,X),this.pushNewRecursionContext(Z,30,o.RULE_exp),this.state=289,!this.precpred(this._ctx,4))throw new b.error.FailedPredicateException(this,"this.precpred(this._ctx, 4)");this.state=290,(J=this._input.LA(1))!==o.T__25&&J!==o.T__26?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=291,this.exp(5)}this.state=296,this._errHandler.sync(this),$=this._interp.adaptivePredict(this._input,22,this._ctx)}}catch(W){if(!(W instanceof b.error.RecognitionException))throw W;Z.exception=W,this._errHandler.reportError(this,W),this._errHandler.recover(this,W)}finally{this.unrollRecursionContexts(H)}return Z},((k.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=k).prototype.INT=function(){return this.getToken(o.INT,0)},k.prototype.REAL=function(){return this.getToken(o.REAL,0)},k.prototype.PI=function(){return this.getToken(o.PI,0)},k.prototype.ID=function(){return this.getToken(o.ID,0)},k.prototype.enterRule=function(G){G instanceof h&&G.enterAtom(this)},k.prototype.exitRule=function(G){G instanceof h&&G.exitAtom(this)},o.AtomContext=k,o.prototype.atom=function(){var G=new k(this,this._ctx,this.state);this.enterRule(G,32,o.RULE_atom);var H;try{this.enterOuterAlt(G,1),this.state=297,(H=this._input.LA(1))-34&-32||!(1<<H-34&(1<<o.PI-34|1<<o.REAL-34|1<<o.INT-34|1<<o.ID-34))?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(X){if(!(X instanceof b.error.RecognitionException))throw X;G.exception=X,this._errHandler.reportError(this,X),this._errHandler.recover(this,X)}finally{this.exitRule()}return G},((U.prototype=Object.create(b.ParserRuleContext.prototype)).constructor=U).prototype.enterRule=function(G){G instanceof h&&G.enterUnaryop(this)},U.prototype.exitRule=function(G){G instanceof h&&G.exitUnaryop(this)},o.UnaryopContext=U,o.prototype.unaryop=function(){var G=new U(this,this._ctx,this.state);this.enterRule(G,34,o.RULE_unaryop);var H;try{this.enterOuterAlt(G,1),this.state=299,(H=this._input.LA(1))-28&-32||!(1<<H-28&(1<<o.T__27-28|1<<o.T__28-28|1<<o.T__29-28|1<<o.T__30-28|1<<o.T__31-28|1<<o.T__32-28))?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(X){if(!(X instanceof b.error.RecognitionException))throw X;G.exception=X,this._errHandler.reportError(this,X),this._errHandler.recover(this,X)}finally{this.exitRule()}return G},o.prototype.sempred=function(G,H,X){switch(H){case 15:return this.exp_sempred(G,X);default:throw"No predicate with index:"+H}},o.prototype.exp_sempred=function(G,H){switch(H){case 0:return this.precpred(this._ctx,6);case 1:return this.precpred(this._ctx,5);case 2:return this.precpred(this._ctx,4);default:throw"No predicate with index:"+H}},r.QASMParser=o},{"./QASMListener":3,"antlr4/index":47}],5:[function(n,a,r){function b(o,f,x){var g=S(o,x=x||{}),D=JSON.parse(JSON.stringify(x));return D.plusChar="+",g+S(f,D)+(x.iotaChar?x.iotaChar:"i")}function h(o,f){maxN=f||o+1,0<maxN&&--maxN,maxLen=maxN.toString(26).length;for(var x=o.toString(26);x.length<maxLen;)x="0"+x;for(var g="",D=0;D<x.length;D++){var E=x.charCodeAt(D);g+=String.fromCharCode(E<97?E+49:E+10)}return g}function m(o){this.basicGates={id:{description:"Single qubit identity gate",matrix:[[1,0],[0,1]],params:[],drawingInfo:{connectors:["box"],label:"ID"},exportInfo:{quil:{name:"I"},cirq:{name:"I",notTfqSupported:!0},quest:{name:"compactUnitary",params:{alpha:"(Complex) { .real = 1, .imag = 0 }",beta:"(Complex) {.real = 0, .imag = 0}"}},qsharp:{name:"I"},qiskit:{name:"id"},braket:{name:"i"},aqasm:{name:"I"}}},x:{description:'Pauli X (PI rotation over X-axis) aka "NOT" gate',matrix:[[0,1],[1,0]],params:[],drawingInfo:{connectors:["box"],label:"X"},exportInfo:{quil:{name:"X"},cirq:{name:"X"},quest:{name:"pauliX"},qsharp:{name:"X"},quirk:{name:"X"},braket:{name:"x"},aqasm:{name:"X"},ionq:{names:["x","not"]}}},y:{description:"Pauli Y (PI rotation over Y-axis)",matrix:[[0,"-i"],["i",0]],params:[],drawingInfo:{connectors:["box"],label:"Y"},exportInfo:{quil:{name:"Y"},cirq:{name:"Y"},quest:{name:"pauliY"},qsharp:{name:"Y"},quirk:{name:"Y"},braket:{name:"y"},aqasm:{name:"Y"},ionq:{name:"y"}}},z:{description:"Pauli Z (PI rotation over Z-axis)",matrix:[[1,0],[0,-1]],params:[],drawingInfo:{connectors:["box"],label:"Z"},exportInfo:{quil:{name:"Z"},cirq:{name:"Z"},quest:{name:"pauliZ"},qsharp:{name:"Z"},quirk:{name:"Z"},braket:{name:"z"},aqasm:{name:"Z"},ionq:{name:"z"}}},h:{description:"Hadamard gate",matrix:[["1 / sqrt(2)","1 / sqrt(2)"],["1 / sqrt(2)","-1 / sqrt(2)"]],params:[],drawingInfo:{connectors:["box"],label:"H"},exportInfo:{quil:{name:"H"},cirq:{name:"H"},quest:{name:"hadamard"},qsharp:{name:"H"},quirk:{name:"H"},braket:{name:"h"},aqasm:{name:"H"},ionq:{name:"h"}}},srn:{description:"Square root of NOT",matrix:[["0.5+0.5i","0.5-0.5i"],["0.5-0.5i","0.5+0.5i"]],params:[],drawingInfo:{connectors:["box"],label:"&#x221A;X"},exportInfo:{quil:{name:"srn",defgate:`DEFGATE srn:
    0.5+0.5i, 0.5-0.5i
    0.5-0.5i, 0.5+0.5i`},pyquil:{name:"srn",array:"[[0.5+0.5j, 0.5-0.5j], [0.5-0.5j, 0.5+0.5j]]"},cirq:{name:"X**(1/2)"},quest:{name:"unitary",matrix:[[["0.5","0.5"],["0.5","-0.5"]],[["0.5","-0.5"],["0.5","0.5"]]]},qasm:{name:"sx"},qiskit:{name:"sx"},braket:{name:"v"},aqasm:{matrix:[["0.5+0.5i","0.5-0.5i"],["0.5-0.5i","0.5+0.5i"]],array:"[[0.5+0.5j, 0.5-0.5j], [0.5-0.5j, 0.5+0.5j]]"},ionq:{name:"v"}}},srndg:{description:"Inverse square root of NOT",matrix:[["0.5-0.5i","0.5+0.5i"],["0.5+0.5i","0.5-0.5i"]],params:[],drawingInfo:{connectors:["box"],label:"&#x221A;X&#8224;"},exportInfo:{quil:{name:"srndg",defgate:`DEFGATE srndg:
    0.5-0.5i, 0.5+0.5i
    0.5+0.5i, 0.5-0.5i`},pyquil:{name:"srndg",array:"[[0.5-0.5j, 0.5+0.5j], [0.5+0.5j, 0.5-0.5j]]"},cirq:{name:"X**(-1/2)"},quest:{name:"unitary",matrix:[[["0.5","-0.5"],["0.5","0.5"]],[["0.5","0.5"],["0.5","-0.5"]]]},qasm:{name:"sxdg"},qiskit:{name:"sxdg"},braket:{name:"vi"},aqasm:{matrix:[["0.5-0.5i","0.5+0.5i"],["0.5+0.5i","0.5-0.5i"]],array:"[[0.5-0.5j, 0.5+0.5j], [0.5+0.5j, 0.5-0.5j]]"},ionq:{name:"vi"}}},r2:{description:'PI/2 rotation over Z-axis aka "Phase PI/2"',matrix:[[1,0],[0,"exp(i * pi / 2)"]],params:[],drawingInfo:{connectors:["box"],label:"Z&#x1D6D1;/2"},exportInfo:{quil:{replacement:{name:"s"}},cirq:{replacement:{name:"s"}},quest:{name:"sGate"},qsharp:{replacement:{name:"s"}},qasm:{replacement:[{name:"s",params:{}}]},qiskit:{replacement:[{name:"s",params:{}}]},quirk:{name:"Z^"},braket:{name:"s"},aqasm:{name:"S"}}},r4:{description:'PI/4 rotation over Z-axis aka "Phase PI/4"',matrix:[[1,0],[0,"exp(i * pi / 4)"]],params:[],drawingInfo:{connectors:["box"],label:"Z&#x1D6D1;/4"},exportInfo:{quil:{replacement:{name:"t"}},cirq:{replacement:{name:"t"}},quest:{name:"tGate"},qsharp:{replacement:{name:"t"}},qasm:{replacement:[{name:"t",params:{}}]},qiskit:{replacement:[{name:"t",params:{}}]},quirk:{name:"Z^"},braket:{name:"t"},aqasm:{name:"T"}}},r8:{description:'PI/8 rotation over Z-axis aka "Phase PI/8"',matrix:[[1,0],[0,"exp(i * pi / 8)"]],params:[],drawingInfo:{connectors:["box"],label:"Z&#x1D6D1;/8"},exportInfo:{quil:{replacement:{name:"u1",params:{lambda:"pi/8"}}},cirq:{replacement:{name:"u1",params:{lambda:"pi/8"}}},quest:{name:"phaseShift",params:{theta:"M_PI/8"}},qsharp:{replacement:{name:"u1",params:{lambda:"pi/8"}}},qasm:{replacement:[{name:"u1",params:{lambda:"pi/8"}}]},qiskit:{replacement:[{name:"u1",params:{lambda:"pi/8"}}]},quirk:{name:"Z^"},braket:{name:"phaseshift",params:{theta:"pi/8"}},aqasm:{matrix:[[1,0],[0,"exp(i * pi / 8)"]],array:"[[1,0],[0,np.exp(1j * np.pi / 8)]]"}}},rx:{description:"Rotation around the X-axis by given angle",matrix:[["cos(theta / 2)","-i * sin(theta / 2)"],["-i * sin(theta / 2)","cos(theta / 2)"]],params:["theta"],drawingInfo:{connectors:["box"],label:"RX"},exportInfo:{quil:{name:"RX",params:["theta"]},cirq:{name:"rx",params:["theta"]},quest:{name:"rotateX",params:["theta"]},qsharp:{name:"Rx",params:["theta"]},braket:{name:"rx",params:["theta"]},aqasm:{name:"RX"},ionq:{name:"rx",paramsKey:"rotation"}}},ry:{description:"Rotation around the Y-axis by given angle",matrix:[["cos(theta / 2)","-1 * sin(theta / 2)"],["sin(theta / 2)","cos(theta / 2)"]],params:["theta"],drawingInfo:{connectors:["box"],label:"RY"},exportInfo:{quil:{name:"RY",params:["theta"]},cirq:{name:"ry",params:["theta"]},quest:{name:"rotateY",params:["theta"]},qsharp:{name:"Ry",params:["theta"]},braket:{name:"ry",params:["theta"]},aqasm:{name:"RY"},ionq:{name:"ry",paramsKey:"rotation"}}},rz:{description:"Rotation around the Z-axis by given angle",matrix:[["cos(phi / 2) - i * sin(phi / 2)",0],[0,"cos(phi / 2) + i * sin(phi / 2)"]],params:["phi"],drawingInfo:{connectors:["box"],label:"RZ"},exportInfo:{quil:{name:"RZ",params:["phi"]},cirq:{name:"rz",params:["theta"]},qsharp:{name:"Rz",params:["theta"]},braket:{name:"rz",params:["phi"]},aqasm:{name:"RZ"},ionq:{name:"rz",paramsKey:"rotation"}}},u1:{description:"Single-qubit rotation about the Z axis",matrix:[[1,0],[0,"exp(i * lambda)"]],params:["lambda"],drawingInfo:{connectors:["box"],label:"U1"},exportInfo:{quil:{name:"PHASE",params:["lambda"]},cirq:{name:"u1",params:["lambda"],array:"[[1, 0], [0, np.exp(1j*p_lambda)]]",notTfqSupported:!0},quest:{name:"phaseShift",params:["lambda"]},braket:{name:"phaseshift",params:["lambda"]},qiskit:{name:"p"},aqasm:{name:"PH"}}},u2:{description:"Single-qubit rotation about the X+Z axis",matrix:[["1 / sqrt(2)","-exp(i * lambda) * 1 / sqrt(2)"],["exp(i * phi) * 1 / sqrt(2)","exp(i * lambda + i * phi) * 1 / sqrt(2)"]],params:["phi","lambda"],drawingInfo:{connectors:["box"],label:"U2"},exportInfo:{quil:{name:"u2",params:["phi","lambda"],defgate:`DEFGATE u2(%phi, %lambda):
    1/SQRT(2), -1*EXP(i*%lambda)*1/SQRT(2)
    EXP(i*%phi)*1/SQRT(2), EXP(i*%lambda + i*%phi)*1/SQRT(2)`},pyquil:{name:"u2",params:["phi","lambda"],array:"[[1/quil_sqrt(2),-quil_exp(1j*p_lambda)*1/quil_sqrt(2)],[quil_exp(1j*p_phi)*1/quil_sqrt(2),quil_exp(1j*p_lambda+1j*p_phi)*1/quil_sqrt(2)]]"},cirq:{name:"u2",params:["phi","lambda"],array:"[[1/np.sqrt(2), -np.exp(1j*p_lambda)*1/np.sqrt(2)], [np.exp(1j*p_phi)*1/np.sqrt(2), np.exp(1j*p_lambda+1j*p_phi)*1/np.sqrt(2)]]",notTfqSupported:!0},quest:{name:"unitary",params:["phi","lambda"],matrix:[[["1/sqrt(2)","0"],["-cos(lambda)/sqrt(2)","-sin(lambda)/sqrt(2)"]],[["cos(phi)/sqrt(2)","sin(phi)/sqrt(2)"],["cos(lambda+phi)/sqrt(2)","sin(lambda+phi)/sqrt(2)"]]]},braket:{name:"unitary",params:["phi","lambda"],array:"[[1/np.sqrt(2), -np.exp(1j*p_lambda)*1/np.sqrt(2)], [np.exp(1j*p_phi)*1/np.sqrt(2), np.exp(1j*p_lambda+1j*p_phi)*1/np.sqrt(2)]]"},aqasm:{matrix:[["1 / sqrt(2)","-exp(i * lambda) * 1 / sqrt(2)"],["exp(i * phi) * 1 / sqrt(2)","exp(i * lambda + i * phi) * 1 / sqrt(2)"]],array:"[[1/np.sqrt(2), -np.exp(1j*p_lambda)*1/np.sqrt(2)], [np.exp(1j*p_phi)*1/np.sqrt(2), np.exp(1j*p_lambda+1j*p_phi)*1/np.sqrt(2)]]",params:["phi","lambda"]},qiskit:{replacement:[{name:"u3",params:{theta:"pi/2",phi:"phi",lambda:"lambda"}}]}}},u3:{description:"Generic single-qubit rotation gate with 3 Euler angles",matrix:[["cos(theta/2)","-exp(i * lambda) * sin(theta / 2)"],["exp(i * phi) * sin(theta / 2)","exp(i * lambda + i * phi) * cos(theta / 2)"]],params:["theta","phi","lambda"],drawingInfo:{connectors:["box"],label:"U3"},exportInfo:{quil:{name:"u3",params:["theta","phi","lambda"],defgate:`DEFGATE u3(%theta, %phi, %lambda):
    COS(%theta/2), -1*EXP(i*%lambda)*SIN(%theta/2)
    EXP(i*%phi)*SIN(%theta/2), EXP(i*%lambda + i*%phi)*COS(%theta/2)`},pyquil:{name:"u3",params:["theta","phi","lambda"],array:"[[quil_cos(p_theta/2),-quil_exp(1j*p_lambda)*quil_sin(p_theta/2)],[quil_exp(1j*p_phi)*quil_sin(p_theta/2),quil_exp(1j*p_lambda+1j*p_phi)*quil_cos(p_theta/2)]]"},cirq:{name:"u3",params:["theta","phi","lambda"],array:"[[np.cos(p_theta/2), -np.exp(1j*p_lambda)*np.sin(p_theta/2)], [np.exp(1j*p_phi)*np.sin(p_theta/2), np.exp(1j*p_lambda+1j*p_phi)*np.cos(p_theta/2)]]",notTfqSupported:!0},quest:{name:"unitary",params:["theta","phi","lambda"],matrix:[[["cos(theta/2)","0"],["-cos(lambda)*sin(theta/2)","-sin(lambda)*sin(theta/2)"]],[["cos(phi)*sin(theta/2)","sin(phi)*sin(theta/2)"],["cos(lambda+phi)*cos(theta/2)","sin(lambda+phi)*cos(theta/2)"]]]},braket:{name:"unitary",params:["theta","phi","lambda"],array:"[[np.cos(p_theta/2), -np.exp(1j*p_lambda)*np.sin(p_theta/2)], [np.exp(1j*p_phi)*np.sin(p_theta/2), np.exp(1j*p_lambda+1j*p_phi)*np.cos(p_theta/2)]]"},qiskit:{name:"u"},aqasm:{matrix:[["cos(theta/2)","-exp(i * lambda) * sin(theta / 2)"],["exp(i * phi) * sin(theta / 2)","exp(i * lambda + i * phi) * cos(theta / 2)"]],array:"[[np.cos(p_theta/2), -np.exp(1j*p_lambda)*np.sin(p_theta/2)], [np.exp(1j*p_phi)*np.sin(p_theta/2), np.exp(1j*p_lambda+1j*p_phi)*np.cos(p_theta/2)]]",params:["theta","phi","lambda"]}}},s:{description:"PI/2 rotation over Z-axis (synonym for `r2`)",matrix:[[1,0],[0,"exp(i * pi / 2)"]],params:[],drawingInfo:{connectors:["box"],label:"S"},exportInfo:{quil:{name:"S"},cirq:{name:"S"},quest:{name:"sGate"},qsharp:{name:"S"},quirk:{name:"Z^"},braket:{name:"s"},aqasm:{name:"S"},ionq:{name:"s"}}},t:{description:"PI/4 rotation over Z-axis (synonym for `r4`)",matrix:[[1,0],[0,"exp(i * pi / 4)"]],params:[],drawingInfo:{connectors:["box"],label:"T"},exportInfo:{quil:{name:"T"},cirq:{name:"T"},quest:{name:"tGate"},qsharp:{name:"T"},quirk:{name:"Z^"},braket:{name:"t"},aqasm:{name:"T"},ionq:{name:"t"}}},sdg:{description:"(-PI/2) rotation over Z-axis",matrix:[[1,0],[0,"exp(-i * pi / 2)"]],params:[],drawingInfo:{connectors:["box"],label:"S&#8224;"},exportInfo:{quil:{replacement:{name:"u1",params:{lambda:"-pi/2"}}},cirq:{replacement:{name:"u1",params:{lambda:"-pi/2"}}},quest:{name:"phaseShift",params:{theta:"-M_PI/2"}},qsharp:{replacement:{name:"u1",params:{lambda:"-pi/2"}}},quirk:{name:"Z^-"},braket:{name:"si"},aqasm:{name:"S",dagger:!0},ionq:{name:"si"}}},tdg:{description:"(-PI/4) rotation over Z-axis",matrix:[[1,0],[0,"exp(-i * pi / 4)"]],params:[],drawingInfo:{connectors:["box"],label:"T&#8224;"},exportInfo:{quil:{replacement:{name:"u1",params:{lambda:"-pi/4"}}},cirq:{replacement:{name:"u1",params:{lambda:"-pi/4"}}},quest:{name:"phaseShift",params:{theta:"-M_PI/4"}},qsharp:{replacement:{name:"u1",params:{lambda:"-pi/4"}}},quirk:{name:"Z^-"},braket:{name:"ti"},aqasm:{name:"T",dagger:!0},ionq:{name:"ti"}}},gpi:{description:"GPi gate",matrix:[[0,"exp(-i*phi)"],["exp(i*phi)",0]],params:["phi"],drawingInfo:{connectors:["box"],label:"GPi"},exportInfo:{quil:{name:"gpi",params:["phi"],defgate:`DEFGATE gpi(%phi):
    0, EXP(-i * %phi)
    EXP(i * %phi), 0`},pyquil:{name:"gpi",params:["phi"],array:"[ [ 0, quil_exp(-1j*p_phi) ], [ quil_exp(1j*p_phi), 0 ] ]"},cirq:{name:"gpi"},quest:{name:"gpi",func:"TODO"},qasm:{equivalent:[{name:"u3",params:{theta:"pi",phi:"phi",lambda:"pi-phi"},wires:[0]}]},qiskit:{equivalent:[{name:"u3",params:{theta:"pi",phi:"phi",lambda:"pi-phi"},wires:[0]}]},braket:{name:"unitary",params:["phi"],array:"[ [ 0, np.exp(-1j*p_phi) ], [ np.exp(1j*p_phi), 0 ] ]"},aqasm:{matrix:[[0,"exp(-i*phi)"],["exp(i*phi)",0]],array:"[ [ 0, np.exp(-1j*p_phi) ], [ np.exp(1j*p_phi), 0 ] ]",params:["phi"]},ionq:{name:"gpi",paramsKey:"phase"}}},gpi2:{description:"GPi2 gate",matrix:[["1/sqrt(2)","(-i*exp(-i*phi))/sqrt(2)"],["(-i*exp(i*phi))/sqrt(2)","1/sqrt(2)"]],params:["phi"],drawingInfo:{connectors:["box"],label:"GPi2"},exportInfo:{quil:{name:"gpi2",params:["phi"],defgate:`DEFGATE gpi2(%phi):
    1/SQRT(2), (-i*EXP(-i * %phi)) / SQRT(2)
    (-i*EXP(i * %phi)) / SQRT(2), 1/SQRT(2)`},pyquil:{name:"gpi2",params:["phi"],array:"[ [ 1/quil_sqrt(2), (-1j*quil_exp(-1j*p_phi))/quil_sqrt(2) ], [ (-1j*quil_exp(1j*p_phi))/quil_sqrt(2), 1/quil_sqrt(2) ] ]"},cirq:{name:"gpi2"},quest:{name:"gpi2",func:"TODO"},qasm:{equivalent:[{name:"u3",params:{theta:"pi/2",phi:"phi-(pi/2)",lambda:"(pi/2)-phi"},wires:[0]}]},qiskit:{equivalent:[{name:"u3",params:{theta:"pi/2",phi:"phi-(pi/2)",lambda:"(pi/2)-phi"},wires:[0]}]},braket:{name:"unitary",params:["phi"],array:"[ [ 1/np.sqrt(2), (-1j*np.exp(-1j*p_phi))/np.sqrt(2) ], [ (-1j*np.exp(1j*p_phi))/np.sqrt(2), 1/np.sqrt(2) ] ]"},aqasm:{matrix:[["1/sqrt(2)","(-i*exp(-i*phi))/sqrt(2)"],["(-i*exp(i*phi))/sqrt(2)","1/sqrt(2)"]],array:"[ [ 1/np.sqrt(2), (-1j*np.exp(-1j*p_phi))/np.sqrt(2) ], [ (-1j*np.exp(1j*p_phi))/np.sqrt(2), 1/np.sqrt(2) ] ]",params:["phi"]},ionq:{name:"gpi2",paramsKey:"phase"}}},vz:{description:"VirtualZ gate",matrix:[["exp(-i*theta/2)",0],[0,"exp(i*theta/2)"]],params:["theta"],drawingInfo:{connectors:["box"],label:"VrtZ"},exportInfo:{quil:{name:"vz",params:["theta"],defgate:`DEFGATE vz(%theta):
    EXP(-i * %theta/2), 0
    0, EXP(-i * %theta/2)`},pyquil:{name:"vz",params:["theta"],array:"[ [ quil_exp(-1j*p_theta/2), 0 ], [ 0, quil_exp(1j*p_theta/2) ] ]"},cirq:{name:"vz"},quest:{name:"vz",func:"TODO"},qasm:{equivalent:[{name:"rz",params:{phi:"theta"},wires:[0]}]},qiskit:{equivalent:[{name:"rz",params:{phi:"theta"},wires:[0]}]},braket:{name:"unitary",params:["theta"],array:"[ [ np.exp(-1j*p_theta/2), 0 ], [ 0, np.exp(1j*p_theta/2) ] ]"},aqasm:{matrix:[["exp(-i*theta/2)",0],[0,"exp(i*theta/2)"]],array:"[ [ np.exp(-1j*p_theta/2), 0 ], [ 0, np.exp(1j*p_theta/2) ] ]",params:["theta"]},ionq:{name:"vz",paramsKey:"phase"}}},cx:{description:"Controlled NOT (CNOT) gate",matrix:[[1,0,0,0],[0,1,0,0],[0,0,0,1],[0,0,1,0]],numTargetQubits:1,numControlQubits:1,params:[],drawingInfo:{connectors:["dot","not"],label:"X",root:"x"},exportInfo:{quil:{name:"CNOT"},cirq:{name:"CNOT"},quest:{name:"controlledNot"},qsharp:{name:"CNOT"},quirk:{name:"X",controlled:!0},braket:{name:"cnot"},aqasm:{name:"CNOT"},ionq:{name:"cnot"}}},cy:{description:"Controlled Y gate (controlled rotation over Y-axis by PI)",matrix:[[1,0,0,0],[0,1,0,0],[0,0,0,"-i"],[0,0,"i",0]],numTargetQubits:1,numControlQubits:1,params:[],drawingInfo:{connectors:["dot","box"],label:"Y",root:"y"},exportInfo:{quest:{name:"controlledPauliY"},cirq:{replacement:{name:"y",type:"controlled",notTfqSupported:!0}},quil:{name:"cy",defgate:`DEFGATE cy:
    1, 0, 0, 0
    0, 1, 0, 0
    0, 0, 0, -i
    0, 0, i, 0`},pyquil:{name:"cy",array:"[[1,0,0,0],[0,1,0,0],[0,0,0,-1j],[0,0,1j,0]]"},qsharp:{name:"Controlled Y"},quirk:{name:"Y",controlled:!0},braket:{name:"cy"},aqasm:{name:"Y",controlled:!0}}},cz:{description:"Controlled Z gate (controlled rotation over Z-axis by PI)",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,-1]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["dot","dot"],label:"Z",root:"z"},exportInfo:{quil:{name:"CZ"},cirq:{name:"CZ"},quest:{name:"controlledPhaseFlip"},qsharp:{name:"Controlled Z"},quirk:{name:"Z",controlled:!0},braket:{name:"cz"},aqasm:{name:"CSIGN"}}},ch:{description:"Controlled Hadamard gate",matrix:[[1,0,0,0],[0,1,0,0],[0,0,"1 / sqrt(2)","1 / sqrt(2)"],[0,0,"1 / sqrt(2)","-1 / sqrt(2)"]],numTargetQubits:1,numControlQubits:1,params:[],drawingInfo:{connectors:["dot","box"],label:"H",root:"h"},exportInfo:{quest:{name:"controlledUnitary",matrix:[[["1/sqrt(2)","0"],["1/sqrt(2)","0"]],[["1/sqrt(2)","0"],["-1/sqrt(2)","0"]]]},cirq:{replacement:{name:"h",type:"controlled",notTfqSupported:!0}},quil:{name:"ch",defgate:`DEFGATE ch:
    1, 0, 0, 0
    0, 1, 0, 0
    0, 0, 0.7071067811865475, 0.7071067811865475
    0, 0, 0.7071067811865475, -0.7071067811865475`},pyquil:{name:"ch",array:"[[1,0,0,0],[0,1,0,0],[0,0,1/np.sqrt(2),1/np.sqrt(2)],[0,0,1/np.sqrt(2),-1/np.sqrt(2)]]"},qsharp:{name:"Controlled H"},quirk:{name:"H",controlled:!0},braket:{name:"unitary",array:"[[1,0,0,0],[0,1,0,0],[0,0,1/np.sqrt(2),1/np.sqrt(2)],[0,0,1/np.sqrt(2),-1/np.sqrt(2)]]"},aqasm:{name:"H",controlled:!0}}},csrn:{description:"Controlled square root of NOT",matrix:[[1,0,0,0],[0,1,0,0],[0,0,"0.5+0.5i","0.5-0.5i"],[0,0,"0.5-0.5i","0.5+0.5i"]],numTargetQubits:1,numControlQubits:1,params:[],drawingInfo:{connectors:["dot","box"],label:"&#x221A;X",root:"srn"},exportInfo:{quest:{name:"controlledUnitary",matrix:[[["-1/sqrt(2)","0"],["-1/sqrt(2)","0"]],[["-1/sqrt(2)","0"],["1/sqrt(2)","0"]]]},cirq:{replacement:{name:"srn",type:"controlled",notTfqSupported:!0}},quil:{name:"csrn",defgate:`DEFGATE csrn:
    1, 0, 0, 0
    0, 1, 0, 0
    0, 0, 0.5+0.5i, 0.5-0.5i
    0, 0, 0.5-0.5i, 0.5+0.5i`},qasm:{name:"csx"},qiskit:{name:"csx"},pyquil:{name:"csrn",array:"[[1,0,0,0],[0,1,0,0],[0,0,0.5+0.5j,0.5-0.5j],[0,0,0.5-0.5j,0.5+0.5j]]"},braket:{name:"unitary",array:"[[1,0,0,0],[0,1,0,0],[0,0,0.5+0.5j,0.5-0.5j],[0,0,0.5-0.5j,0.5+0.5j]]"},aqasm:{matrix:[[1,0,0,0],[0,1,0,0],[0,0,"0.5+0.5i","0.5-0.5i"],[0,0,"0.5-0.5i","0.5+0.5i"]],array:"[[1,0,0,0],[0,1,0,0],[0,0,0.5+0.5j,0.5-0.5j],[0,0,0.5-0.5j,0.5+0.5j]]"}}},swap:{description:"Swaps the state of two qubits.",matrix:[[1,0,0,0],[0,0,1,0],[0,1,0,0],[0,0,0,1]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["x","x"],label:"SWP"},exportInfo:{quil:{name:"SWAP"},cirq:{name:"SWAP"},quest:{name:"swap",func:`void swap(Qureg qubits, const int q1, const int q2) {
    controlledNot(qubits, q1, q2);
    controlledNot(qubits, q2, q1);
    controlledNot(qubits, q1, q2);
}`},qsharp:{name:"SWAP"},quirk:{name:"Swap"},braket:{name:"swap"},aqasm:{name:"SWAP"},ionq:{name:"swap"}}},srswap:{description:"Square root of swap",matrix:[[1,0,0,0],[0,"0.5 * (1 + i)","0.5 * (1 - i)",0],[0,"0.5 * (1 - i)","0.5 * (1 + i)",0],[0,0,0,1]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["box","box"],label:"&#x221A;SWP"},exportInfo:{quil:{name:"srswap",defgate:`DEFGATE srswap:
    1, 0, 0, 0
    0, 0.5+0.5i, 0.5-0.5i, 0
    0, 0.5-0.5i, 0.5+0.5i, 0
    0, 0, 0, 1`},cirq:{name:"SWAP**(1/2)"},pyquil:{name:"srswap",array:"[[1,0,0,0],[0,0.5 * (1 + 1j),0.5 * (1 - 1j),0],[0,0.5 * (1 - 1j),0.5 * (1 + 1j),0],[0,0,0,1]]"},quest:{name:"srswap",func:`void srswap(Qureg qubits, const int q1, const int q2) {
    controlledNot(qubits, q2, q1);
    rotateY(qubits, q2, M_PI/2);
    rotateZ(qubits, q2, M_PI/16);
    controlledNot(qubits, q1, q2);
    rotateZ(qubits, q1, M_PI/8);
    rotateZ(qubits, q2, -M_PI/8);
    controlledNot(qubits, q1, q2);
    rotateZ(qubits, q2, M_PI/16);
    rotateY(qubits, q2, -M_PI/2);
    controlledNot(qubits, q2, q1);
}`},qasm:{equivalent:[{name:"u3",params:{theta:"pi/2",phi:"pi/2",lambda:"-1*pi"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"-1*pi/2",lambda:"pi"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/4",phi:"-1*pi/2",lambda:"-1*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"7*pi/4"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/4",phi:"-1*pi",lambda:"-1*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"pi",lambda:"pi/2"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"-3*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"pi/2",lambda:"0"},wires:[1]}]},qiskit:{equivalent:[{name:"u3",params:{theta:"pi/2",phi:"pi/2",lambda:"-1*pi"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"-1*pi/2",lambda:"pi"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/4",phi:"-1*pi/2",lambda:"-1*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"7*pi/4"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/4",phi:"-1*pi",lambda:"-1*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"pi",lambda:"pi/2"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"-3*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"pi/2",lambda:"0"},wires:[1]}]},braket:{name:"unitary",array:"[[1,0,0,0],[0,0.5 * (1 + 1j),0.5 * (1 - 1j),0],[0,0.5 * (1 - 1j),0.5 * (1 + 1j),0],[0,0,0,1]]"},aqasm:{name:"SQRTSWAP"}}},iswap:{description:"Swaps the state of two qubits, applying a -i phase to q1 when it is in the 1 state and a -i phase to q2 when it is in the 0 state",matrix:[[1,0,0,0],[0,0,"0+i",0],[0,"0+i",0,0],[0,0,0,1]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["box","box"],label:"iSWP"},exportInfo:{quil:{name:"ISWAP"},cirq:{name:"ISWAP"},qasm:{equivalent:[{name:"u3",params:{theta:"pi/2",phi:"-1*pi/2",lambda:"-1*pi"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"-1*pi/2",lambda:"pi"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"3*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"3*pi/2",lambda:"0"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"0"},wires:[0]},{name:"u3",params:{theta:"pi",phi:"pi/4",lambda:"-1*pi/4"},wires:[1]}]},qiskit:{equivalent:[{name:"u3",params:{theta:"pi/2",phi:"-1*pi/2",lambda:"-1*pi"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"-1*pi/2",lambda:"pi"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"3*pi/2"},wires:[0]},{name:"u3",params:{theta:"pi/2",phi:"3*pi/2",lambda:"0"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"pi/2",phi:"0",lambda:"0"},wires:[0]},{name:"u3",params:{theta:"pi",phi:"pi/4",lambda:"-1*pi/4"},wires:[1]}]},braket:{name:"iswap"},aqasm:{name:"ISWAP"}}},xx:{description:"XX gate",matrix:[["cos(theta)",0,0,"-i*sin(theta)"],[0,"cos(theta)","-i*sin(theta)",0],[0,"-i*sin(theta)","cos(theta)",0],["-i*sin(theta)",0,0,"cos(theta)"]],numTargetQubits:2,numControlQubits:0,params:["theta"],drawingInfo:{connectors:["box","box"],label:"XX"},exportInfo:{quil:{name:"xx",params:["theta"],defgate:`DEFGATE xx(%theta):
    COS(%theta), 0, 0, -i*SIN(%theta)
    0, COS(%theta), -i*SIN(%theta), 0
    0, -i*SIN(%theta), COS(%theta), 0
    -i*SIN(%theta), 0, 0, COS(%theta)`},pyquil:{name:"xx",params:["theta"],array:"[ [quil_cos(p_theta), 0, 0, -1j*quil_sin(p_theta)], [0, quil_cos(p_theta), -1j*quil_sin(p_theta), 0], [0, -1j*quil_sin(p_theta), quil_cos(p_theta), 0], [-1j*quil_sin(p_theta), 0, 0, quil_cos(p_theta)] ]"},cirq:{name:"xx"},quest:{name:"xx",func:"TODO"},qasm:{name:"rxx"},qiskit:{name:"rxx"},braket:{name:"unitary",params:["theta"],array:"[[np.cos(p_theta), 0, 0, -1j*np.sin(p_theta)], [0, np.cos(p_theta), -1j*np.sin(p_theta), 0], [0, -1j*np.sin(p_theta), np.cos(p_theta), 0], [-1j*np.sin(p_theta), 0, 0, np.cos(p_theta)] ]"},aqasm:{matrix:[["cos(theta)",0,0,"-i*sin(theta)"],[0,"cos(theta)","-i*sin(theta)",0],[0,"-i*sin(theta)","cos(theta)",0],["-i*sin(theta)",0,0,"cos(theta)"]],array:"[[np.cos(p_theta), 0, 0, -1j*np.sin(p_theta)], [0, np.cos(p_theta), -1j*np.sin(p_theta), 0], [0, -1j*np.sin(p_theta), np.cos(p_theta), 0], [-1j*np.sin(p_theta), 0, 0, np.cos(p_theta)] ]",params:["theta"]},ionq:{name:"xx",paramsKey:"phase"}}},yy:{description:"YY gate",matrix:[["cos(theta)",0,0,"i*sin(theta)"],[0,"cos(theta)","-i*sin(theta)",0],[0,"-i*sin(theta)","cos(theta)",0],["i*sin(theta)",0,0,"cos(theta)"]],numTargetQubits:2,numControlQubits:0,params:["theta"],drawingInfo:{connectors:["box","box"],label:"YY"},exportInfo:{quil:{name:"yy",params:["theta"],defgate:`DEFGATE yy(%theta):
    COS(%theta), 0, 0, i*SIN(%theta)
    0, COS(%theta), -i*SIN(%theta), 0
    0, -i*SIN(%theta), COS(%theta), 0
    i*SIN(%theta), 0, 0, COS(%theta)`},cirq:{name:"YY"},pyquil:{name:"yy",params:["theta"],array:"[ [quil_cos(p_theta), 0, 0, 1j*quil_sin(p_theta)], [0, quil_cos(p_theta), -1j*quil_sin(p_theta), 0], [0, -1j*quil_sin(p_theta), quil_cos(p_theta), 0], [1j*quil_sin(p_theta), 0, 0, quil_cos(p_theta)] ]"},quest:{name:"yy",func:"TODO"},braket:{name:"yy",params:["theta"]},aqasm:{matrix:[["cos(theta)",0,0,"i*sin(theta)"],[0,"cos(theta)","-i*sin(theta)",0],[0,"-i*sin(theta)","cos(theta)",0],["i*sin(theta)",0,0,"cos(theta)"]],array:"[[np.cos(p_theta), 0, 0, 1j*np.sin(p_theta)], [0, np.cos(p_theta), -1j*np.sin(p_theta), 0], [0, -1j*np.sin(p_theta), np.cos(p_theta), 0], [1j*np.sin(p_theta), 0, 0, np.cos(p_theta)] ]",params:["theta"]},qasm:{name:"ryy"},qiskit:{name:"ryy"},ionq:{name:"yy",paramsKey:"phase"}}},zz:{description:"Parametric 2-qubit rotation about ZZ",matrix:[["exp(-i * theta / 2)",0,0,0],[0,"exp(i * theta / 2)",0,0],[0,0,"exp(i * theta / 2)",0],[0,0,0,"exp(-i * theta / 2)"]],numTargetQubits:2,numControlQubits:0,params:["theta"],drawingInfo:{connectors:["box","box"],label:"ZZ"},exportInfo:{quil:{name:"zz",params:["theta"],defgate:`DEFGATE zz(%theta):
    EXP(-i * %theta / 2), 0, 0, 0
    0, EXP(i * %theta / 2), 0, 0
    0, 0, EXP(i * %theta / 2), 0
    0, 0, 0, EXP(-i * %theta / 2)`},pyquil:{name:"zz",params:["theta"],array:"[ [ quil_exp(-1j * p_theta / 2), 0, 0, 0 ], [ 0, quil_exp(1j * p_theta / 2), 0, 0], [ 0, 0, quil_exp(1j * p_theta / 2), 0 ], [ 0, 0, 0, quil_exp(-1j * p_theta / 2) ] ]"},qasm:{name:"rzz"},qiskit:{name:"rzz"},ionq:{name:"zz",paramsKey:"phase"}}},xy:{description:"XY gate",matrix:[[1,0,0,0],[0,"cos(phi / 2)","i * sin(phi / 2)",0],[0,"i * sin(phi / 2)","cos(phi / 2)",0],[0,0,0,1]],numTargetQubits:2,numControlQubits:0,params:["phi"],drawingInfo:{connectors:["box","box"],label:"XY"},exportInfo:{quil:{name:"XY",params:["phi"]},qasm:{equivalent:[{name:"rz",params:{phi:"3*pi/4"},wires:[0]},{name:"rx",params:{theta:"pi/2"},wires:[0]},{name:"rz",params:{phi:"-3*pi/4"},wires:[1]},{name:"rx",params:{theta:"pi/2"},wires:[1]},{name:"cz",wires:[1,0]},{name:"rz",params:{phi:"-1*pi/2"},wires:[0]},{name:"rx",params:{theta:"pi/2"},wires:[0]},{name:"rz",params:{phi:"phi/2"},wires:[0]},{name:"rx",params:{theta:"-1*pi/2"},wires:[0]},{name:"rz",params:{phi:"pi/2"},wires:[1]},{name:"rx",params:{theta:"pi/2"},wires:[1]},{name:"rz",params:{phi:"phi/2"},wires:[1]},{name:"rx",params:{theta:"-1*pi/2"},wires:[1]},{name:"cz",wires:[1,0]},{name:"rz",params:{phi:"-1*pi/2"},wires:[0]},{name:"rx",params:{theta:"pi/2"},wires:[0]},{name:"rz",params:{phi:"pi/4"},wires:[0]},{name:"rz",params:{phi:"-1*pi/2"},wires:[1]},{name:"rx",params:{theta:"-1*pi/2"},wires:[1]},{name:"rz",params:{phi:"3*pi/4"},wires:[1]}]},qiskit:{equivalent:[{name:"rz",params:{phi:"3*pi/4"},wires:[0]},{name:"rx",params:{theta:"pi/2"},wires:[0]},{name:"rz",params:{phi:"-3*pi/4"},wires:[1]},{name:"rx",params:{theta:"pi/2"},wires:[1]},{name:"cz",wires:[1,0]},{name:"rz",params:{phi:"-1*pi/2"},wires:[0]},{name:"rx",params:{theta:"pi/2"},wires:[0]},{name:"rz",params:{phi:"phi/2"},wires:[0]},{name:"rx",params:{theta:"-1*pi/2"},wires:[0]},{name:"rz",params:{phi:"pi/2"},wires:[1]},{name:"rx",params:{theta:"pi/2"},wires:[1]},{name:"rz",params:{phi:"phi/2"},wires:[1]},{name:"rx",params:{theta:"-1*pi/2"},wires:[1]},{name:"cz",wires:[1,0]},{name:"rz",params:{phi:"-1*pi/2"},wires:[0]},{name:"rx",params:{theta:"pi/2"},wires:[0]},{name:"rz",params:{phi:"pi/4"},wires:[0]},{name:"rz",params:{phi:"-1*pi/2"},wires:[1]},{name:"rx",params:{theta:"-1*pi/2"},wires:[1]},{name:"rz",params:{phi:"3*pi/4"},wires:[1]}]},cirq:{name:"xy",params:["phi"],array:"[[1, 0, 0, 0], [0, np.cos(p_phi/2), 1j*np.sin(p_phi/2), 0], [0, 1j*np.sin(p_phi/2), np.cos(p_phi/2), 0], [0, 0, 0, 1]]",notTfqSupported:!0},braket:{name:"xy",params:["phi"]},aqasm:{matrix:[[1,0,0,0],[0,"cos(phi / 2)","i * sin(phi / 2)",0],[0,"i * sin(phi / 2)","cos(phi / 2)",0],[0,0,0,1]],array:"[[1, 0, 0, 0], [0, np.cos(p_phi/2), 1j*np.sin(p_phi/2), 0], [0, 1j*np.sin(p_phi/2), np.cos(p_phi/2), 0], [0, 0, 0, 1]]",params:["phi"]}}},ms:{description:"Mlmer-Srensen gate",matrix:[["1/sqrt(2)",0,0,"(-i*exp(-i*(phi0+phi1)))/sqrt(2)"],[0,"1/sqrt(2)","(-i*exp(-i*(phi0-phi1)))/sqrt(2)",0],[0,"(-i*exp(i*(phi0-phi1)))/sqrt(2)","1/sqrt(2)",0],["(-i*exp(i*(phi0+phi1)))/sqrt(2)",0,0,"1/sqrt(2)"]],numTargetQubits:2,numControlQubits:0,params:["phi0","phi1"],drawingInfo:{connectors:["box","box"],label:"MS"},exportInfo:{quil:{name:"ms",params:["phi0","phi1"],defgate:`DEFGATE ms(%phi0, %phi1):
    1/SQRT(2), 0, 0, (-i*EXP(-i*(%phi0+%phi1)))/SQRT(2)
    0, 1/SQRT(2), (-i*EXP(-i*(%phi0-%phi1)))/SQRT(2), 0
    0, (-i*EXP(i*(%phi0-%phi1)))/SQRT(2), 1/SQRT(2), 0
    (-i*EXP(i*(%phi0+%phi1)))/SQRT(2), 0, 0, 1/SQRT(2)`},pyquil:{name:"ms",params:["phi0","phi1"],array:"[ [ 1/quil_sqrt(2), 0, 0, (-1j*quil_exp(-1j*(p_phi0+p_phi1)))/quil_sqrt(2) ], [ 0, 1/quil_sqrt(2), (-1j*quil_exp(-1j*(p_phi0-p_phi1)))/quil_sqrt(2), 0 ], [ 0, (-1j*quil_exp(1j*(p_phi0-p_phi1)))/quil_sqrt(2), 1/quil_sqrt(2), 0 ], [ (-1j*quil_exp(1j*(p_phi0+p_phi1)))/quil_sqrt(2), 0, 0, 1/quil_sqrt(2) ] ]"},cirq:{name:"ms"},quest:{name:"ms",func:"TODO"},qasm:{name:"ms"},qiskit:{name:"ms"},braket:{name:"unitary",params:["phi0","phi1"],array:"[ [ 1/np.sqrt(2), 0, 0, (-1j*np.exp(-1j*(p_phi0+p_phi1)))/np.sqrt(2) ], [ 0, 1/np.sqrt(2), (-1j*np.exp(-1j*(p_phi0-p_phi1)))/np.sqrt(2), 0 ], [ 0, (-1j*np.exp(1j*(p_phi0-p_phi1)))/np.sqrt(2), 1/np.sqrt(2), 0 ], [ (-1j*np.exp(1j*(p_phi0+p_phi1)))/np.sqrt(2), 0, 0, 1/np.sqrt(2) ] ]"},aqasm:{matrix:[["1/sqrt(2)",0,0,"(-1i*exp(-1i*(phi0+phi1)))/sqrt(2)"],[0,"1/sqrt(2)","(-1i*exp(-1i*(phi0-phi1)))/sqrt(2)",0],[0,"(-1i*exp(1i*(phi0-phi1)))/sqrt(2)","1/sqrt(2)",0],["(-1i*exp(1i*(phi0+phi1)))/sqrt(2)",0,0,"1/sqrt(2)"]],array:"[ [ 1/np.sqrt(2), 0, 0, (-1j*np.exp(-1j*(p_phi0+p_phi1)))/np.sqrt(2) ], [ 0, 1/np.sqrt(2), (-1j*np.exp(-1j*(p_phi0-p_phi1)))/np.sqrt(2), 0 ], [ 0, (-1j*np.exp(1j*(p_phi0-p_phi1)))/np.sqrt(2), 1/np.sqrt(2), 0 ], [ (-1j*np.exp(1j*(p_phi0+p_phi1)))/np.sqrt(2), 0, 0, 1/np.sqrt(2) ] ]",params:["phi0","phi1"]},ionq:{name:"ms",paramsKey:"phases"}}},cr2:{description:"Controlled PI/2 rotation over Z-axis",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"exp(i * pi / 2)"]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["dot","box"],label:"Z&#x1D6D1;/2",root:"r2"},exportInfo:{quil:{replacement:{name:"cu1",params:{lambda:"pi/2"}}},cirq:{replacement:{name:"cu1",params:{lambda:"pi/2"}}},quest:{name:"controlledPhaseShift",params:{theta:"M_PI/2"}},qsharp:{replacement:{name:"cu1",params:{lambda:"pi/2"}}},qasm:{replacement:[{name:"cu1",params:{lambda:"pi/2"}}]},qiskit:{replacement:[{name:"cu1",params:{lambda:"pi/2"}}]},quirk:{name:"Z^",controlled:!0},braket:{name:"unitary",array:"[[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, np.exp(1j * np.pi / 2)] ]"},aqasm:{name:"S",controlled:!0}}},cr4:{description:"Controlled PI/4 rotation over Z-axis",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"exp(i * pi / 4)"]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["dot","box"],label:"Z&#x1D6D1;/4",root:"r4"},exportInfo:{quil:{replacement:{name:"cu1",params:{lambda:"pi/4"}}},cirq:{replacement:{name:"cu1",params:{lambda:"pi/4"}}},quest:{name:"controlledPhaseShift",params:{theta:"M_PI/4"}},qsharp:{replacement:{name:"cu1",params:{lambda:"pi/4"}}},qasm:{replacement:[{name:"cu1",params:{lambda:"pi/4"}}]},qiskit:{replacement:[{name:"cu1",params:{lambda:"pi/4"}}]},quirk:{name:"Z^",controlled:!0},braket:{name:"unitary",array:"[[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, np.exp(1j * np.pi / 4)] ]"},aqasm:{name:"T",controlled:!0}}},cr8:{description:"Controlled PI/8 rotation over Z-axis",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"exp(i * pi / 8)"]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["dot","box"],label:"Z&#x1D6D1;/8",root:"r8"},exportInfo:{quil:{replacement:{name:"cu1",params:{lambda:"pi/8"}}},cirq:{replacement:{name:"cu1",params:{lambda:"pi/8"}}},quest:{name:"controlledPhaseShift",params:{theta:"M_PI/8"}},qsharp:{replacement:{name:"cu1",params:{lambda:"pi/8"}}},qasm:{replacement:[{name:"cu1",params:{lambda:"pi/8"}}]},qiskit:{replacement:[{name:"cu1",params:{lambda:"pi/8"}}]},quirk:{name:"Z^",controlled:!0},braket:{name:"unitary",array:"[[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, np.exp(1j * np.pi / 8)] ]"},aqasm:{matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"exp(i * pi / 8)"]],array:"[[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, np.exp(1j * np.pi / 8)] ]"}}},crx:{description:"Controlled rotation around the X-axis by given angle",matrix:[[1,0,0,0],[0,1,0,0],[0,0,"cos(theta / 2)","-i * sin(theta / 2)"],[0,0,"-i * sin(theta / 2)","cos(theta / 2)"]],numTargetQubits:1,numControlQubits:1,params:["theta"],drawingInfo:{connectors:["dot","box"],label:"RX",root:"rx"},exportInfo:{quil:{name:"crx",params:["theta"],defgate:`DEFGATE crx(%theta):
    1, 0, 0, 0
    0, 1, 0, 0
    0, 0, COS(%theta/2), -i*SIN(%theta/2)
    0, 0, -i*SIN(%theta/2), COS(%theta/2)`},cirq:{replacement:{name:"rx",params:{theta:"theta"},type:"controlled",notTfqSupported:!0}},pyquil:{name:"crx",params:["theta"],array:"[[ 1, 0, 0, 0 ], [ 0, 1, 0, 0 ], [ 0, 0, quil_cos(p_theta / 2), -1j*quil_sin(p_theta / 2) ], [ 0, 0, -1j*quil_sin(p_theta / 2), quil_cos(p_theta / 2) ]]"},quest:{name:"controlledUnitary",params:["theta"],matrix:[[["cos(theta/2)","0"],["0","-sin(theta/2)"]],[["0","-sin(theta/2)"],["cos(theta/2)","0"]]]},qsharp:{name:"Controlled Rx",params:["theta"]},qasm:{replacement:[{name:"cu3",params:{theta:"theta",phi:"-1*pi/2",lambda:"pi/2"}}]},qiskit:{replacement:[{name:"cu3",params:{theta:"theta",phi:"-1*pi/2",lambda:"pi/2"}}]},braket:{name:"unitary",params:["theta"],array:"[[ 1, 0, 0, 0 ], [ 0, 1, 0, 0 ], [ 0, 0, np.cos(p_theta / 2), -1j*np.sin(p_theta / 2) ], [ 0, 0, -1j*np.sin(p_theta / 2), np.cos(p_theta / 2) ]]"},aqasm:{name:"RX",controlled:!0}}},cry:{description:"Controlled rotation around the Y-axis by given angle",matrix:[[1,0,0,0],[0,1,0,0],[0,0,"cos(theta / 2)","-1 * sin(theta / 2)"],[0,0,"sin(theta / 2)","cos(theta / 2)"]],numTargetQubits:1,numControlQubits:1,params:["theta"],drawingInfo:{connectors:["dot","box"],label:"RY",root:"ry"},exportInfo:{quil:{name:"cry",params:["theta"],defgate:`DEFGATE cry(%theta):
    1, 0, 0, 0
    0, 1, 0, 0
    0, 0, COS(%theta/2), -1*SIN(%theta/2)
    0, 0, SIN(%theta/2), COS(%theta/2)`},cirq:{replacement:{name:"ry",params:{theta:"theta"},type:"controlled",notTfqSupported:!0}},pyquil:{name:"cry",params:["theta"],array:"[[ 1, 0, 0, 0 ],[ 0, 1, 0, 0 ],[ 0, 0, quil_cos(p_theta / 2), -1*quil_sin(p_theta / 2) ],[ 0, 0, quil_sin(p_theta / 2), quil_cos(p_theta / 2) ]]"},quest:{name:"controlledUnitary",params:["theta"],matrix:[[["cos(theta/2)","0"],["-sin(theta/2)","0"]],[["sin(theta/2)","0"],["cos(theta/2)","0"]]]},qsharp:{name:"Controlled Ry",params:["theta"]},qasm:{equivalent:[{name:"u3",params:{theta:"theta/2",phi:"0",lambda:"0"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"-1*theta / 2",phi:"0",lambda:"0"},wires:[1]},{name:"cx",wires:[0,1]}]},qiskit:{equivalent:[{name:"u3",params:{theta:"theta/2",phi:"0",lambda:"0"},wires:[1]},{name:"cx",wires:[0,1]},{name:"u3",params:{theta:"-1*theta / 2",phi:"0",lambda:"0"},wires:[1]},{name:"cx",wires:[0,1]}]},braket:{name:"unitary",params:["theta"],array:"[[ 1, 0, 0, 0 ],[ 0, 1, 0, 0 ],[ 0, 0, np.cos(p_theta / 2), -1*np.sin(p_theta / 2) ],[ 0, 0, np.sin(p_theta / 2), np.cos(p_theta / 2) ]]"},aqasm:{name:"RY",controlled:!0}}},crz:{description:"Controlled rotation around the Z-axis by given angle",matrix:[[1,0,0,0],[0,1,0,0],[0,0,"cos(phi / 2) - i * sin(phi / 2)",0],[0,0,0,"cos(phi / 2) + i * sin(phi / 2)"]],numTargetQubits:1,numControlQubits:1,params:["phi"],drawingInfo:{connectors:["dot","dot"],label:"RZ",root:"rz"},exportInfo:{quil:{name:"crz",params:["phi"],defgate:`DEFGATE crz(%phi):
    1, 0, 0, 0
    0, 1, 0, 0
    0, 0, COS(%phi / 2) - i * SIN(%phi / 2), 0
    0, 0, 0, COS(%phi / 2) + i * SIN(%phi / 2)`},pyquil:{name:"crz",params:["phi"],array:"[[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, quil_cos(p_phi / 2) - 1j * quil_sin(p_phi / 2), 0], [0, 0, 0, quil_cos(p_phi / 2) + 1j * quil_sin(p_phi / 2)]]"},cirq:{replacement:{name:"rz",params:{phi:"phi"},type:"controlled"}},quest:{name:"controlledRotateZ",params:["theta"]},qsharp:{name:"Controlled Rz",params:["phi"]},braket:{name:"unitary",params:["phi"],array:"[[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, np.cos(p_phi / 2) - 1j * np.sin(p_phi / 2), 0], [0, 0, 0, np.cos(p_phi / 2) + 1j * np.sin(p_phi / 2)]]"},aqasm:{name:"RZ",controlled:!0}}},cu1:{description:"Controlled rotation about the Z axis",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"exp(i * lambda)"]],numTargetQubits:2,numControlQubits:0,params:["lambda"],drawingInfo:{connectors:["dot","box"],label:"CU1",root:"u1"},exportInfo:{quil:{name:"CPHASE",params:["lambda"]},cirq:{name:"cu1",params:["lambda"],array:"[[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, np.exp(1j*p_lambda)]]",notTfqSupported:!0},quest:{name:"controlledPhaseShift",params:["theta"]},braket:{name:"unitary",params:["lambda"],array:"[[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, np.exp(1j*p_lambda)]]"},aqasm:{name:"PH",controlled:!0},qiskit:{name:"cp"}}},cu2:{description:"Controlled rotation about the X+Z axis",matrix:[[1,0,0,0],[0,1,0,0],[0,0,"1 / sqrt(2)","-exp(i * lambda) * 1 / sqrt(2)"],[0,0,"exp(i * phi) * 1 / sqrt(2)","exp(i * lambda + i * phi) * 1 / sqrt(2)"]],numTargetQubits:1,numControlQubits:1,params:["phi","lambda"],drawingInfo:{connectors:["dot","box"],label:"CU2",root:"u2"},exportInfo:{quil:{name:"cu2",params:["phi","lambda"],defgate:`DEFGATE cu2(%phi, %lambda):
    1, 0, 0, 0
    0, 1, 0, 0
    0, 0, 1/SQRT(2), -1*EXP(i*%lambda)*1/SQRT(2)
    0, 0, EXP(i*%phi)*1/SQRT(2), EXP(i*%lambda + i*%phi)*1/SQRT(2)`},pyquil:{name:"cu2",params:["phi","lambda"],array:"[[1,0,0,0],[0,1,0,0],[0, 0, 1/quil_sqrt(2), -quil_exp(1j*p_lambda)*1/quil_sqrt(2)],[0, 0, quil_exp(1j*p_phi)*1/quil_sqrt(2), quil_exp(1j*p_lambda+1j*p_phi)*1/quil_sqrt(2)]]"},cirq:{name:"cu2",params:["phi","lambda"],array:"[[1,0,0,0],[0,1,0,0],[0, 0, 1/np.sqrt(2), -np.exp(1j*p_lambda)*1/np.sqrt(2)],[0, 0, np.exp(1j*p_phi)*1/np.sqrt(2), np.exp(1j*p_lambda+1j*p_phi)*1/np.sqrt(2)]]",notTfqSupported:!0},quest:{name:"controlledUnitary",params:["phi","lambda"],matrix:[[["1/sqrt(2)","0"],["-cos(lambda)/sqrt(2)","-sin(lambda)/sqrt(2)"]],[["cos(phi)/sqrt(2)","sin(phi)/sqrt(2)"],["cos(lambda+phi)/sqrt(2)","sin(lambda+phi)/sqrt(2)"]]]},qasm:{replacement:[{name:"cu3",params:{theta:"pi/2",phi:"phi",lambda:"lambda"}}]},qiskit:{replacement:[{name:"cu3",params:{theta:"pi/2",phi:"phi",lambda:"lambda"}}]},braket:{name:"unitary",params:["phi","lambda"],array:"[[1,0,0,0],[0,1,0,0],[0, 0, 1/np.sqrt(2), -np.exp(1j*p_lambda)*1/np.sqrt(2)],[0, 0, np.exp(1j*p_phi)*1/np.sqrt(2), np.exp(1j*p_lambda+1j*p_phi)*1/np.sqrt(2)]]"},aqasm:{matrix:[[1,0,0,0],[0,1,0,0],[0,0,"1 / sqrt(2)","-exp(i * lambda) * 1 / sqrt(2)"],[0,0,"exp(i * phi) * 1 / sqrt(2)","exp(i * lambda + i * phi) * 1 / sqrt(2)"]],array:"[[1,0,0,0],[0,1,0,0],[0, 0, 1/np.sqrt(2), -np.exp(1j*p_lambda)*1/np.sqrt(2)],[0, 0, np.exp(1j*p_phi)*1/np.sqrt(2), np.exp(1j*p_lambda+1j*p_phi)*1/np.sqrt(2)]]",params:["phi","lambda"]}}},cu3:{description:"Controlled rotation gate with 3 Euler angles",matrix:[[1,0,0,0],[0,1,0,0],[0,0,"cos(theta/2)","-exp(i * lambda) * sin(theta / 2)"],[0,0,"exp(i * phi) * sin(theta / 2)","exp(i * lambda + i * phi) * cos(theta / 2)"]],numTargetQubits:1,numControlQubits:1,params:["theta","phi","lambda"],drawingInfo:{connectors:["dot","box"],label:"CU3",root:"u3"},exportInfo:{quil:{name:"cu3",params:["theta","phi","lambda"],defgate:`DEFGATE cu3(%theta, %phi, %lambda):
    1, 0, 0, 0
    0, 1, 0, 0
    0, 0, COS(%theta/2), -1*EXP(i*%lambda)*SIN(%theta/2)
    0, 0, EXP(i*%phi)*SIN(%theta/2), EXP(i*%lambda + i*%phi)*COS(%theta/2)`},pyquil:{name:"cu3",params:["theta","phi","lambda"],array:"[[1,0,0,0],[0,1,0,0],[0, 0, quil_cos(p_theta/2),-quil_exp(1j*p_lambda)*quil_sin(p_theta/2)],[0, 0, quil_exp(1j*p_phi)*quil_sin(p_theta/2),quil_exp(1j*p_lambda+1j*p_phi)*quil_cos(p_theta/2)]]"},cirq:{name:"cu3",params:["theta","phi","lambda"],array:"[[1,0,0,0],[0,1,0,0],[0, 0, np.cos(p_theta/2),-np.exp(1j*p_lambda)*np.sin(p_theta/2)],[0, 0, np.exp(1j*p_phi)*np.sin(p_theta/2),np.exp(1j*p_lambda+1j*p_phi)*np.cos(p_theta/2)]]",notTfqSupported:!0},quest:{name:"controlledUnitary",params:["theta","phi","lambda"],matrix:[[["cos(theta/2)","0"],["-cos(lambda)*sin(theta/2)","-sin(lambda)*sin(theta/2)"]],[["cos(phi)*sin(theta/2)","sin(phi)*sin(theta/2)"],["cos(lambda+phi)*cos(theta/2)","sin(lambda+phi)*cos(theta/2)"]]]},braket:{name:"unitary",params:["theta","phi","lambda"],array:"[[1,0,0,0],[0,1,0,0],[0, 0, np.cos(p_theta/2),-np.exp(1j*p_lambda)*np.sin(p_theta/2)],[0, 0, np.exp(1j*p_phi)*np.sin(p_theta/2),np.exp(1j*p_lambda+1j*p_phi)*np.cos(p_theta/2)]]"},aqasm:{matrix:[[1,0,0,0],[0,1,0,0],[0,0,"cos(theta/2)","-exp(i * lambda) * sin(theta / 2)"],[0,0,"exp(i * phi) * sin(theta / 2)","exp(i * lambda + i * phi) * cos(theta / 2)"]],array:"[[1,0,0,0],[0,1,0,0],[0, 0, np.cos(p_theta/2),-np.exp(1j*p_lambda)*np.sin(p_theta/2)],[0, 0, np.exp(1j*p_phi)*np.sin(p_theta/2),np.exp(1j*p_lambda+1j*p_phi)*np.cos(p_theta/2)]]",params:["theta","phi","lambda"]},qiskit:{name:"cu"}}},cs:{description:"Controlled PI/2 rotation over Z-axis (synonym for `cr2`)",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"exp(i * pi / 2)"]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["dot","box"],label:"S",root:"s"},exportInfo:{quil:{replacement:{name:"cu1",params:{lambda:"pi/2"}}},cirq:{replacement:{name:"cu1",params:{lambda:"pi/2"}}},quest:{name:"controlledPhaseShift",params:{theta:"M_PI/2"}},qsharp:{replacement:{name:"cu1",params:{lambda:"pi/2"}}},qasm:{replacement:[{name:"cu1",params:{lambda:"pi/2"}}]},qiskit:{replacement:[{name:"cu1",params:{lambda:"pi/2"}}]},quirk:{name:"Z^",controlled:!0},braket:{name:"unitary",array:"[[1,0,0,0],[0,1,0,0],[0, 0, 1, 0],[0, 0, 0, np.exp(1j * np.pi / 2)]]"},aqasm:{name:"S",controlled:!0}}},ct:{description:"Controlled PI/4 rotation over Z-axis (synonym for `cr4`)",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"exp(i * pi / 4)"]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["dot","box"],label:"T",root:"t"},exportInfo:{quil:{replacement:{name:"cu1",params:{lambda:"pi/4"}}},cirq:{replacement:{name:"cu1",params:{lambda:"pi/4"}}},quest:{name:"controlledPhaseShift",params:{theta:"M_PI/4"}},qsharp:{replacement:{name:"cu1",params:{lambda:"pi/4"}}},qasm:{replacement:[{name:"cu1",params:{lambda:"pi/4"}}]},qiskit:{replacement:[{name:"cu1",params:{lambda:"pi/4"}}]},quirk:{name:"Z^",controlled:!0},braket:{name:"unitary",array:"[[1,0,0,0],[0,1,0,0],[0, 0, 1, 0],[0, 0, 0, np.exp(1j * np.pi / 4)]]"},aqasm:{name:"T",controlled:!0}}},csdg:{description:"Controlled (-PI/2) rotation over Z-axis",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"exp(-i * pi / 2)"]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["dot","box"],label:"S&#8224;",root:"sdg"},exportInfo:{quil:{replacement:{name:"cu1",params:{lambda:"-pi/2"}}},cirq:{replacement:{name:"cu1",params:{lambda:"-pi/2"}}},quest:{name:"controlledPhaseShift",params:{theta:"-M_PI/2"}},qsharp:{replacement:{name:"cu1",params:{lambda:"-pi/2"}}},qasm:{replacement:[{name:"cu1",params:{lambda:"-1*pi/2"}}]},qiskit:{replacement:[{name:"cu1",params:{lambda:"-1*pi/2"}}]},quirk:{name:"Z^-",controlled:!0},braket:{name:"unitary",array:"[[1,0,0,0],[0,1,0,0],[0, 0, 1, 0],[0, 0, 0, np.exp(-1j * np.pi / 2)]]"},aqasm:{name:"S",controlled:!0,dagger:!0}}},ctdg:{description:"Controlled (-PI/4) rotation over Z-axis",matrix:[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,"exp(-i * pi / 4)"]],numTargetQubits:2,numControlQubits:0,params:[],drawingInfo:{connectors:["dot","box"],label:"T&#8224;",root:"tdg"},exportInfo:{quil:{replacement:{name:"cu1",params:{lambda:"-pi/4"}}},cirq:{replacement:{name:"cu1",params:{lambda:"-pi/4"}}},quest:{name:"controlledPhaseShift",params:{theta:"-M_PI/4"}},qsharp:{replacement:{name:"cu1",params:{lambda:"-pi/4"}}},qasm:{replacement:[{name:"cu1",params:{lambda:"-1*pi/4"}}]},qiskit:{replacement:[{name:"cu1",params:{lambda:"-1*pi/4"}}]},quirk:{name:"Z^-",controlled:!0},braket:{name:"unitary",array:"[[1,0,0,0],[0,1,0,0],[0, 0, 1, 0],[0, 0, 0, np.exp(-1j * np.pi / 4)]]"},aqasm:{name:"T",controlled:!0,dagger:!0}}},ccx:{description:'Toffoli aka "CCNOT" gate',matrix:[[1,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,0]],numTargetQubits:1,numControlQubits:2,params:[],drawingInfo:{connectors:["dot","dot","not"],label:"CCNOT",root:"x"},exportInfo:{quil:{name:"CCNOT"},cirq:{name:"CCX",notTfqSupported:!0},quest:{name:"ccx",func:`void ccx(Qureg qubits, const int q1, const int q2, const int q3) {
    hadamard(qubits, q3);
    controlledNot(qubits, q2, q3);
    phaseShift(qubits, q3, -M_PI/4);
    controlledNot(qubits, q1, q3);
    tGate(qubits, q3);
    controlledNot(qubits, q2, q3);
    phaseShift(qubits, q3, -M_PI/4);
    controlledNot(qubits, q1, q3);
    tGate(qubits, q2);
    tGate(qubits, q3);
    controlledNot(qubits, q1, q2);
    hadamard(qubits, q3);
    tGate(qubits, q1);
    phaseShift(qubits, q2, -M_PI/4);
    controlledNot(qubits, q1, q2);
}`},qsharp:{name:"CCNOT"},quirk:{name:"X",controlled:!0},braket:{name:"ccnot"},aqasm:{name:"CCNOT"}}},cswap:{description:'Controlled swap aka "Fredkin" gate',matrix:[[1,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1]],numTargetQubits:2,numControlQubits:1,params:[],drawingInfo:{connectors:["dot","x","x"],label:"SWP",root:"swap"},exportInfo:{cirq:{name:"CSWAP"},quest:{name:"cswap",func:`void cswap(Qureg qubits, const int q1, const int q2, const int q3) {
    controlledNot(qubits, q3, q2);
    hadamard(qubits, q3);
    controlledNot(qubits, q2, q3);
    phaseShift(qubits, q3, -M_PI/4);
    controlledNot(qubits, q1, q3);
    tGate(qubits, q3);
    controlledNot(qubits, q2, q3);
    phaseShift(qubits, q3, -M_PI/4);
    controlledNot(qubits, q1, q3);
    tGate(qubits, q2);
    tGate(qubits, q3);
    hadamard(qubits, q3);
    controlledNot(qubits, q1, q2);
    tGate(qubits, q1);
    phaseShift(qubits, q2, -M_PI/4);
    controlledNot(qubits, q2, q3);
    controlledNot(qubits, q3, q2);
}`},qsharp:{name:"Controlled SWAP"},quil:{name:"CSWAP"},pyquil:{name:"CSWAP"},quirk:{name:"Swap",controlled:!0},braket:{name:"unitary",array:"[[1,0,0,0,0,0,0,0], [0,1,0,0,0,0,0,0], [0,0,1,0,0,0,0,0], [0,0,0,1,0,0,0,0], [0,0,0,0,1,0,0,0], [0,0,0,0,0,0,1,0], [0,0,0,0,0,1,0,0], [0,0,0,0,0,0,0,1]]"},aqasm:{name:"SWAP",controlled:!0}}},csrswap:{description:"Controlled square root of swap",matrix:[[1,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,"0.5 * (1 + i)","0.5 * (1 - i)",0],[0,0,0,0,0,"0.5 * (1 - i)","0.5 * (1 + i)",0],[0,0,0,0,0,0,0,1]],numTargetQubits:2,numControlQubits:1,params:[],drawingInfo:{connectors:["dot","box","box"],label:"&#x221A;SWP",root:"srswap"},exportInfo:{quest:{name:"csrswap",func:"TODO"},cirq:{replacement:{name:"srswap",type:"controlled",notTfqSupported:!0}},quil:{name:"csrswap",defgate:`DEFGATE csrswap:
    1, 0, 0, 0, 0, 0, 0, 0
    0, 1, 0, 0, 0, 0, 0, 0
    0, 0, 1, 0, 0, 0, 0, 0
    0, 0, 0, 1, 0, 0, 0, 0
    0, 0, 0, 0, 1, 0, 0, 0
    0, 0, 0, 0, 0, 0.5+0.5i, 0.5-0.5i, 0
    0, 0, 0, 0, 0, 0.5-0.5i, 0.5+0.5i, 0
    0, 0, 0, 0, 0, 0, 0, 1`},pyquil:{name:"csrswap",array:"[[1,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,0.5 * (1 + 1j),0.5 * (1 - 1j),0],[0,0,0,0,0,0.5 * (1 - 1j),0.5 * (1 + 1j),0],[0,0,0,0,0,0,0,1]]"},braket:{name:"unitary",array:"[[1,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,0.5 * (1 + 1j),0.5 * (1 - 1j),0],[0,0,0,0,0,0.5 * (1 - 1j),0.5 * (1 + 1j),0],[0,0,0,0,0,0,0,1]]"},aqasm:{name:"SQRTSWAP",controlled:!0}}},reset:{description:"Resets qubit",matrix:[],params:[],drawingInfo:{connectors:["box"],label:"RST"},exportInfo:{quil:{name:"RESET"},cirq:{name:"reset",notTfqSupported:!0},quest:{name:"reset",func:"TODO"},qsharp:{name:"Reset"}}},measure:{description:"Measures qubit and stores chance (0 or 1) into classical bit",matrix:[],params:[],drawingInfo:{connectors:["gauge"],label:""},exportInfo:{quil:{name:"MEASURE"},cirq:{name:"measure"},quest:{name:"measure"},qsharp:{name:"M"}}}},this.init(o)}var p=n("mathjs"),A=n("./qasm_import/QASMImport.js"),S=function(o,f){(f=f||{}).decimalPlaces&&(o=p.round(o,f.decimalPlaces));var x=o+"";f.fixedWidth&&(x=o.toFixed(f.decimalPlaces||14));var g=f.plusChar;return f.fixedWidth&&!g&&(g=" "),g&&0<=o&&(x=g+x),x};function _(o,f){for(var x=o.toString(2);x.length<f;)x="0"+x;return x}function l(o,f){return parseInt(_(o,f).split("").reverse().join(""),2)}m.prototype.defaultHybridOptions=function(){return{optimizer:"Powell",tolerance:.001,costFunction:{python:"",javascript:""}}},m.prototype.init=function(o,f){f=f||{},this.numQubits=o||1,this.gates=[],this.partitionMap=[],this.partitionCount=0,this.partitionInfo={},this.params=[],this.options={params:{},hybrid:!1,hybridOptions:this.defaultHybridOptions()},f.keepCustomGates||(this.customGates={}),this.cregs={},this.collapsed=[],this.prob=[],this.measureResetsQubit=!1,this.reverseBitOrder=!1,this.clear()},m.prototype.clearGates=function(){this.gates=[];for(var o=0;o<this.numQubits;o++)this.gates.push([])},m.prototype.clear=function(){this.clearGates(),this.initState()},m.prototype.resetState=function(){for(var o in this.state={},this.stateBits=0,this.partitionCache={},this.cregs){var f=this.cregs[o].length||0;this.cregs[o]=[];for(var x=0;x<f;x++)this.cregs[o].push(0)}this.collapsed=[],this.prob=[],this.stats={duration:0}},m.prototype.initState=function(){this.resetState(),this.state[0]=p.complex(1,0)},m.prototype.formatComplex=function(o,f){return b(o.re,o.im,f)},m.prototype.multiplySquareMatrices=function(o,f){for(var x=o.length,g=x,D=x,E=x,C=[];g--;)for(C[g]=[],D=x;D--;)for(C[g][D]=0,E=x;E--;)o[g][E]&&f[E][D]&&(C[g][D]?C[g][D]=p.add(C[g][D],p.multiply(o[g][E],f[E][D])):C[g][D]=p.multiply(o[g][E],f[E][D]));return C},m.prototype.isIdentityMatrix=function(o,f){f===void 0&&(f=14);for(var x=0;x<o.length;x++)for(var g=0;g<o.length;g++)if(p.round(o[x][g],f)!=(x==g?1:0))return!1;return!0},m.prototype.isUnitaryMatrix=function(o,f){return this.isIdentityMatrix(p.multiply(o,p.ctranspose(o)),f)},m.prototype.isHermitianMatrix=function(o,f){return this.matrixDiff(o,p.ctranspose(o))<=p.pow(10,-1*(f||14))},m.prototype.matrixDiff=function(o,f){for(var x=0,g=0,D=0;D<o.length;D++)for(var E=o[D],C=f[D],T=0;T<E.length;T++){var O=E[T],I=C[T],M=typeof O=="object"?O:p.complex(O),F=typeof I=="object"?I:p.complex(I);x+=p.abs(p.subtract(M,F)),g++}return g?x/g:0},m.prototype.parseMathString=function(o){var f=[],x=p.parse(o.replace(/[\t\n\r]/gm,""));return{expression:x.toString({handler:function(g,D){if(g.isSymbolNode){if(g.name=="j")return"i";f.indexOf(g.name)<0&&f.push(g.name)}}}),variables:f,node:x}},m.prototype.evalMathString=function(o,f){f=f||{};var x=this.parseMathString(o),g=p.evaluate(x.expression,f);return g instanceof p.Matrix?g.toArray():g},m.prototype.parseMatrix=function(o,f){var x=this,g=null,g=typeof o=="string"?x.evalMathString(o,f):o,D=[];return g.map(function(E,C){Array.isArray(E)?(D.push([]),E.map(function(T,O){typeof T=="string"?D[C].push(x.evalMathString(T,f)):D[C].push(T)})):typeof E=="string"?D.push(x.evalMathString(E,f)):D.push(E)}),D},m.prototype.matrixHasComplexElement=function(o){for(var f=0;f<o.length;f++){var x=o[f];if(x instanceof Array)for(var g=0;g<x.length;g++){var D=x[g];if(D instanceof p.Complex||typeof D=="object"&&(D.mathjs&&D.mathjs=="Complex"||D.type&&D.type=="Complex"))return!0}else if(x instanceof p.Complex||typeof x=="object"&&(x.mathjs&&x.mathjs=="Complex"||x.type&&x.type=="Complex"))return!0}return!1},m.prototype.matrixZeroImagToReal=function(o){for(var f=0;f<o.length;f++){var x=o[f];if(x instanceof Array)for(var g=0;g<x.length;g++){var D=x[g];(D instanceof p.Complex||typeof D=="object"&&(D.mathjs&&D.mathjs=="Complex"||D.type&&D.type=="Complex"))&&p.im(D)==0&&(o[f][g]=p.re(D))}else(x instanceof p.Complex||typeof x=="object"&&(x.mathjs&&x.mathjs=="Complex"||x.type&&x.type=="Complex"))&&p.im(x)==0&&(o[f]=p.re(x))}return o},m.prototype.stringifyMatrix=function(o,f){var x=this,g=o.toArray?o.toArray():o,D=!1;(f=f||{}).fixedWidth&&(D=this.matrixHasComplexElement(g));var E="";return E+="[",g.map(function(C,T){0<T&&(E+=","),f.minify?E+=" ":E+=`
  `,C instanceof Array?(E+="[",C.map(function(O,I){0<I&&(E+=", "),O instanceof p.Complex?E+=x.formatComplex(O,f):typeof O=="object"&&(O.mathjs&&O.mathjs=="Complex"||O.type&&O.type=="Complex")?E+=b(O.re,O.im,f):E+=typeof O=="string"?O:D?b(O,0,f):S(O,f)}),E+="]"):C instanceof p.Complex?E+=x.formatComplex(C,f):typeof C=="object"&&(C.mathjs&&C.mathjs=="Complex"||C.type&&C.type=="Complex")?E+=b(el.re,el.im,f):E+=typeof C=="string"?C:D?b(C,0,f):S(C,f)}),g.length&&(f.minify?E+=" ":E+=`
`),E+="]"},m.prototype.matrixRe=function(o){for(var f=[],x=0;x<o.length;x++){var g=o[x];if(Array.isArray(g)){for(var D=[],E=0;E<g.length;E++)typeof g[E]=="object"?D.push(g[E].re):D.push(g[E]);f.push(D)}else typeof g=="object"?D.push(g.re):D.push(g)}return f},m.prototype.matrixIm=function(o){for(var f=[],x=0;x<o.length;x++){var g=o[x];if(Array.isArray(g)){for(var D=[],E=0;E<g.length;E++)typeof g[E]=="object"?D.push(g[E].im):D.push(0);f.push(D)}else typeof g=="object"?D.push(g.im):D.push(0)}return f},m.prototype.matrixAbs=function(o){for(var f=[],x=0;x<o.length;x++){var g=o[x];if(Array.isArray(g)){for(var D=[],E=0;E<g.length;E++)D.push(p.abs(g[E]));f.push(D)}else f.push(p.abs(g))}return f},m.prototype.matrixArg=function(o){for(var f=[],x=0;x<o.length;x++){var g=o[x];if(Array.isArray(g)){for(var D=[],E=0;E<g.length;E++)D.push(p.arg(g[E]));f.push(D)}else f.push(p.arg(g))}return f},m.prototype.setCombinedState=function(o){for(var f={},x=0,g=0,D=0;D<o.length;D++)(C=o[D]).wires.map(function(V){g<V+1&&(g=V+1)});for(var E=[],D=0;D<o.length;D++){var C=o[D],T=[];C.wires.map(function(k,U){T.push({and:1<<g-1-k,or:1<<C.circuit.numQubits-1-U})}),E.push(T)}for(var O=1<<g,I=0;I<O;I++){for(var M=null,D=0;D<o.length;D++){for(var F=E[D],B=0,j=0;j<F.length;j++)I&F[j].and&&(B|=F[j].or);var L=(C=o[D]).circuit.state[B],M=L?M==null?L:p.multiply(L,M):p.complex(0,0)}M&&(M.re||M.im)&&(f[I]=M,x|=I)}if(this.resetState(),this.numQubits<g){for(this.numQubits=g;this.gates.length<this.numQubits;)this.gates.push([]);for(var R=this.numCols(),j=0;j<this.gates.length;j++)for(;this.gates[j].length<R;)this.gates[j].push(null)}this.state=f,this.stateBits=x,this.stateBits==0&&Object.keys(this.state).length==0&&(this.state[0]=p.complex(1,0))},m.prototype._setCombinedState=function(o,f,x){x=x||{};var g=o.numQubits,D=f.numQubits;if(!x.wireMap){x.wireMap={c1:[],c2:[]};for(var E=0;E<g;E++)x.wireMap.c1.push(E);for(E=0;E<D;E++)x.wireMap.c2.push(E+g)}var C=0;x.wireMap.c1.map(function(H){C<H+1&&(C=H+1)}),x.wireMap.c2.map(function(H){C<H+1&&(C=H+1)});var T=[];x.wireMap.c1.map(function(H,X){T.push({and:1<<C-1-H,or:1<<g-1-X})});var O=[];x.wireMap.c2.map(function(H,X){O.push({and:1<<C-1-H,or:1<<D-1-X})});for(var I=0,E=0;E<C;E++)x.wireMap.c1.indexOf(E)<0&&x.wireMap.c2.indexOf(E)<0&&(I|=1<<C-1-E);for(var M={},F=0,B=1<<C,j=0;j<B;j++)if(!(j&I)){for(var L=0,E=0;E<T.length;E++)j&T[E].and&&(L|=T[E].or);for(var R=0,E=0;E<O.length;E++)j&O[E].and&&(R|=O[E].or);var V,k,U=o.state[L];U&&(!(V=f.state[R])||((k=p.multiply(U,V)).re||k.im)&&(M[j]=k,F|=j))}if(this.resetState(),this.numQubits<C){for(this.numQubits=C;this.gates.length<this.numQubits;)this.gates.push([]);for(var G=this.numCols(),E=0;E<this.gates.length;E++)for(;this.gates[E].length<G;)this.gates[E].push(null)}this.state=M,this.stateBits=F,this.stateBits==0&&Object.keys(this.state).length==0&&(this.state[0]=p.complex(1,0))},m.prototype.appendQubits=function(o){var f=new m(o);this._setCombinedState(this,f)},m.prototype.numAmplitudes=function(o){if(o){var f=0;for(var x in this.state){var g=p.round(this.state[x],14);(g.re||g.im)&&f++}return f}return p.pow(2,this.numQubits)},m.prototype.numCols=function(){return this.gates.length?this.gates[0].length:0},m.prototype.numGates=function(o){var f=null;o?(f=new m).load(this.save(!0)):f=this;for(var x=0,g=f.numCols(),D=0;D<g;D++)for(var E=0;E<f.numQubits;E++){var C=f.getGateAt(D,E);C&&C.connector==0&&x++}return x},m.prototype.isEmptyCell=function(o,f){if(this.gates[f]&&this.gates[f][o])return!1;for(var x=0;x<this.numQubits;x++){var g=this.getGateAt(o,x);if(g&&(g.name=="measure"||g.options&&g.options.condition&&g.options.condition.creg||Math.min.apply(null,g.wires)<f&&Math.max.apply(null,g.wires)>f))return!1}return!0},m.prototype.isEmptyPlace=function(o,f,x){var g,D=Math.min.apply(null,f),E=Math.max.apply(null,f);!x||E<(g=this.numQubits-1)&&(E=g);for(var C=!0,T=D;T<=E;T++)if(!this.isEmptyCell(o,T)){C=!1;break}return C},m.prototype.lastNonEmptyPlace=function(o,f){var x,g=this.numCols(),D=!0,E=Math.min.apply(null,o),C=Math.max.apply(null,o);for(!f||C<(x=this.numQubits-1)&&(C=x);D&&g--;)for(var T=E;T<=C;T++)if(!this.isEmptyCell(g,T)){D=!1;break}return g},m.prototype.insertColumn=function(o){for(var f=0;f<this.numQubits;f++)this.gates[f].splice(o||0,0,null)},m.prototype.randomString=function(o){o=o||17;var f="",x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";f+=x.charAt(Math.floor(Math.random()*x.length)),x+="0123456789";for(var g=0;g<o;g++)f+=x.charAt(Math.floor(Math.random()*x.length));return f},m.prototype.addGate=function(o,f,x,g){var D=[];if(Array.isArray(x))for(var E=0;E<x.length;E++)D.push(x[E]);else D.push(x);f<0&&(f=this.lastNonEmptyPlace(D,o=="measure"||g&&g.condition&&g.condition.creg)+1);for(var C=D.length,T=this.randomString(),O=0;O<C;O++){var I=D[O];for(I+1>this.numQubits&&(this.numQubits=I+1);this.gates.length<this.numQubits;)this.gates.push([]);var M=this.numCols();for(M<f+1&&(M=f+1),E=0;E<this.gates.length;E++)for(;this.gates[E].length<M;)this.gates[E].push(null);var F,B,j,L={id:T,name:o,connector:O,options:{}};g&&(L.options=g).creg&&g.creg.name&&g.creg.bit!==void 0&&(F=parseInt(g.creg.bit||0),isNaN(F)&&(F=0),j=F<(B=this.cregs[g.creg.name]||[]).length?B[g.creg.bit]:0,this.setCregBit(g.creg.name,F,j)),this.gates[I][f]=L}return T},m.prototype.appendGate=function(o,f,x){return this.addGate(o,-1,f,x)},m.prototype.insertGate=function(o,f,x,g){var D=[];if(Array.isArray(x))for(var E=0;E<x.length;E++)D.push(x[E]);else D.push(x);f<0&&(f=this.lastNonEmptyPlace(D,!!o&&o=="measure"||g&&g.condition&&g.condition.creg)+1);for(var C=D.length,T=0;T<C;T++){var O=D[T];for(O+1>this.numQubits&&(this.numQubits=O+1);this.gates.length<this.numQubits;)this.gates.push([]);var I=this.numCols();for(I<f+1&&(I=f+1),E=0;E<this.gates.length;E++)for(;this.gates[E].length<I;)this.gates[E].push(null)}this.isEmptyPlace(f,D,!!o&&o=="measure"||g&&g.condition&&g.condition.creg)||this.insertColumn(f);var M=null;return o&&(M=this.addGate(o,f,D,g)),M},m.prototype.insertSpace=function(o,f){return this.insertGate(null,o,f,null)},m.prototype.removeGateAt=function(o,f){if(this.gates[f]){var x=this.gates[f][o];if(x)for(var g=x.id,D=this.gates.length,E=0;E<D;E++){var C=this.gates[E][o];C&&C.id==g&&(this.gates[E][o]=null)}}},m.prototype.removeGate=function(o){var f=this.getGatePosById(o);!f||f.col<0||!f.wires.length||this.removeGateAt(f.col,f.wires[0])},m.prototype.addMeasure=function(o,f,x){this.addGate("measure",-1,o,{creg:{name:f,bit:x}})},m.prototype.appendCircuit=function(o,f){for(var x=this.numCols(),g=o.numCols(),D=0;D<g;D++)for(var E=0;E<o.numQubits;E++){var C=o.getGateAt(D,E);C&&C.connector==0&&(!this.basicGates[C.name]&&o.customGates[C.name]&&this.registerGate(C.name,o.customGates[C.name]),this.addGate(C.name,D+x,C.wires,C.options))}},m.prototype.removeTrailingColumns=function(){for(var o=this.numCols()-1;0<=o;o--){for(var f=!0,x=0;x<this.numQubits;x++)if(this.gates[x][o]){f=!1;break}if(!f)return;for(x=0;x<this.numQubits;x++)this.gates[x].pop()}},m.prototype.removeLeadingColumns=function(){for(var o=0,f=this.numCols(),x=0;x<f;x++){for(var g=!0,D=0;D<this.numQubits;D++)if(this.gates[D][x]){g=!1;break}if(!g)break;o++}for(var E=0;E<o;E++)for(D=0;D<this.numQubits;D++)this.gates[D].shift()},m.prototype.removeTrailingRows=function(){for(var o=this.numCols(),f=this.numQubits-1;0<=f;f--){for(var x=!0,g=0;g<o;g++)if(this.gates[f][g]){x=!1;break}if(!x)return;this.gates.pop(),this.numQubits--}},m.prototype.removeQubit=function(o){if(this.gates[o]){this.resetState();for(var f=this.numCols(),x=0;x<f;x++)this.removeGateAt(x,o);for(var g=o+1;g<this.numQubits;g++)for(x=0;x<f;x++)this.gates[g-1][x]=this.gates[g][x];this.gates.pop(),this.numQubits--}},m.prototype.flipVertically=function(){this.resetState();for(var o=this.numCols(),f=this.numQubits-1,x=0;x<this.numQubits/2;x++)for(var g=0;g<o;g++){var D=this.gates[x][g];this.gates[x][g]=this.gates[f-x][g],this.gates[f-x][g]=D}},m.prototype.flipHorizontally=function(){this.resetState();for(var o=this.numCols(),f=o-1,x=0;x<this.numQubits;x++)for(var g=0;g<o/2;g++){var D=this.gates[x][g];this.gates[x][g]=this.gates[x][f-g],this.gates[x][f-g]=D}},m.prototype.applyTransform=function(o,f){var x={},g=0;if(f=f.slice(0),this.reverseBitOrder)for(var D=0;D<f.length;D++)f[D]=this.numQubits-1-f[D];f.reverse();for(var E=[],D=0;D<this.numQubits;D++)f.indexOf(D)<0&&E.push(D);var C=1<<E.length;function T(Z){var J=0;return f.map(function(ee,$){Z&1<<$&&(J|=1<<ee)}),J}for(var O=p.complex(0,0),I=0;I<o.length;I++)for(var M=T(I),F=0;F<o[I].length;F++){var B=T(F);if((this.stateBits&B)==B){var j=o[I][F];if(j)for(var L,R=B,V=C,k=T(0),U=function(){var Z=0;return f.map(function(J,ee){Z|=1<<J}),Z+1}(),G=function(){var Z=0;return E.map(function(J,ee){Z|=1<<J}),Z}(),H=k;V--;){var X=this.state[R];X&&(x[L=H|M]=j==1?p.add(x[L]||O,X):p.add(x[L]||O,p.multiply(j,X)),g|=L),R=(H=H+U&G)|B}}}this.state=x,this.stateBits=g,this.stateBits==0&&Object.keys(this.state).length==0&&(this.state[0]=p.complex(1,0))},m.prototype.transformMatrix=function(o,f,x,g){if(x=x.slice(0),g?g=="big":!this.reverseBitOrder)for(var D=0;D<x.length;D++)x[D]=o-1-x[D];x.reverse();for(var E=[],D=0;D<o;D++)x.indexOf(D)<0&&E.push(D);var C=1<<E.length;function T(H){var X=0;return x.map(function(Z,J){H&1<<J&&(X|=1<<Z)}),X}for(var O=p.zeros([1<<o,1<<o]),I=0;I<f.length;I++)for(var M=T(I),F=0;F<f[I].length;F++){var B=T(F),j=f[I][F];if(j)for(var L=B,R=C,V=T(0),k=function(){var H=0;return x.map(function(X,Z){H|=1<<X}),H+1}(),U=function(){var H=0;return E.map(function(X,Z){H|=1<<X}),H}(),G=V;R--;)O[G|M][L]=j,L=(G=G+k&U)|B}return O},m.prototype.circuitMatrix=function(o){var f=new m;if(f.load(this.save(!0)),f.gotClassicalControl())return[];for(var x=[],g=f.numCols()-1;0<=g;g--)for(var D=f.numQubits-1;0<=D;D--){var E=f.getGateAt(g,D);if(E&&E.connector==0){var C,T,O=f.basicGates[E.name];if(!O)throw new Error('Unknown gate "'+E.name+'"');O.matrix&&O.matrix.length&&(C=f.getRawGate(O,E.options),T=f.transformMatrix(f.numQubits,C,E.wires,o),x=x&&x.length?this.multiplySquareMatrices(x,T):T)}}return x},m.prototype.eigenvalues2x2=function(o){var f=this.parseMatrix(o),x=[0,0],g=p.add(f[0][0],f[1][1]);return x[0]=p.divide(p.add(g,p.sqrt(p.add(p.multiply(p.multiply(4,f[0][1]),f[1][0]),p.pow(p.subtract(f[0][0],f[1][1]),2)))),2),x[1]=p.divide(p.subtract(g,p.sqrt(p.add(p.multiply(p.multiply(4,f[0][1]),f[1][0]),p.pow(p.subtract(f[0][0],f[1][1]),2)))),2),x},m.prototype.getBipartiteState=function(o,f){var x,g,D,E={},C=0;for(var T in this.state){var O=parseInt(T),I=0;I|=O&1<<o?1:0,E[I|=O&1<<f?2:0]!==void 0?E[I]=(x=E[I],g=this.state[T],D=void 0,D=p.add(x,g).arg(),p.complex({abs:p.sqrt(p.pow(p.abs(x),2)+p.pow(p.abs(g),2)),arg:D})):E[I]=this.state[T],C++}return C||(E[0]=p.complex(1,0)),E},m.prototype.chanceMap=function(){for(var o={},f=0;f<this.numQubits;f++)for(var x=0;x<this.numQubits;x++)o[f]||(o[f]={}),o[f][x]=x==f?null:{};for(f=0;f<this.numQubits;f++)for(x=f+1;x<this.numQubits;x++){var g=this.getBipartiteState(f,x),D=new m(2);D.state=g;var E=p.abs(D.angles()[0].radius),C=p.round(1-p.pow(E,2),7);o[f][x].entangled=0<C,o[f][x].concurence=C,o[f][x].concurencePercent=p.round(100*C,2),o[x][f].entangled=0<C,o[x][f].concurence=C,o[x][f].concurencePercent=p.round(100*C,2)}return o},m.prototype.resetQubit=function(o,f){var x=[[0,0],[0,0]],g=null,g=this.reverseBitOrder?p.pow(2,this.numQubits-1-o):p.pow(2,o),D=0;for(var E in this.state){var C=parseInt(E);(f?C&g:!(C&g))&&(D+=p.pow(p.abs(this.state[E]),2))}(D=p.round(D,14))!=1&&(f?D==0?x[1][0]=1:x[1][1]=p.sqrt(1/D):D==0?x[0][1]=1:x[0][0]=p.sqrt(1/D),this.collapsed=[],this.prob=[],this.applyTransform(x,[o]))},m.prototype.applyGate=function(o,f,x,g){if(o!="measure"){var D,E;o!="reset"?(D=this.basicGates[o])?(E=this.getRawGate(D,g),this.collapsed=[],this.prob=[],this.applyTransform(E,x)):console.log('Unknown gate "'+o+'".'):this.resetQubit(x[0],0)}else{if(!g.creg)throw'Error: "measure" gate requires destination.';var C=this.measure(x[0],g.creg.name,g.creg.bit),T=this.measureResetsQubit;if(!T)for(var O=f;O<this.numCols();O++){for(var I=O==f?x[0]:0;I<this.numQubits;I++){var M=this.gates[I][O];if(M&&M.name!="measure"){T=!0;break}}if(T)break}T&&this.resetQubit(x[0],C)}},m.prototype.getRawGate=function(o,f,x){var g=x&&x.params?x.params:this.options&&this.options.params?this.options.params:{},g=JSON.parse(JSON.stringify(g));for(var D in g)g[D]=p.evaluate(g[D]);var E=[];return o.matrix.map(function(C){var T=[];C.map(function(O){var I,M,F;typeof O=="string"?(I=f&&f.params||{},M={},o.params.map(function(B,j){Array.isArray(I)?M[B]=j<I.length?p.evaluate(I[j],g):null:M[B]=p.evaluate(I[B],g)}),F=p.evaluate(O,M),T.push(F)):T.push(O)}),E.push(T)}),E},m.prototype.countParameterizedGates=function(){for(var o=0,f=this.numCols(),x=0;x<f;x++)for(var g=0;g<this.numQubits;g++){var D=this.getGateAt(x,g);if(D&&D.connector==0&&D.options&&D.options.params){var E=0;for(paramName in D.options.params)E++;0<E&&o++}}return o},m.prototype.findGlobalParams=function(){for(var o={globalParams:[],cells:[]},f=this.numCols(),x=0;x<f;x++)for(var g=0;g<this.numQubits;g++){var D=this.getGateAt(x,g);if(D&&D.connector==0&&D.options&&D.options.params){var E=!1;for(var C in D.options.params){var T=D.options.params[C];if(typeof T=="string"){var O=function(F){var B=[];return p.parse(F).toString({handler:function(j,L){!j.isSymbolNode||j.isFunctionNode||p[j.name]||B.push(j.name)}}),B}(T);if(O.length){for(var I,M=0;M<O.length;M++)o.globalParams.indexOf(O[M])<0&&o.globalParams.push(O[M]);E||(I=Math.max.apply(null,D.wires),o.cells.push([x,I]),E=!0)}}}}}return o},m.prototype.getGlobalParams=function(){return this.findGlobalParams().globalParams},m.prototype.gotGlobalParams=function(){return 0<this.getGlobalParams().length},m.prototype.updateGlobalParams=function(){this.params=this.getGlobalParams(),this.options=this.options||{},this.options.params=this.options.params||{};for(var o=0;o<this.params.length;o++){var f=this.params[o];this.options.params[f]===void 0&&(this.options.params[f]=0)}for(var f in this.options.params)this.params.indexOf(f)<0&&delete this.options.params[f];return this.params},m.prototype.makeAllParamsGlobal=function(){for(var o=this.getGlobalParams(),f=this.numCols(),x=0;x<f;x++)for(var g=0;g<this.numQubits;g++){var D=this.getGateAt(x,g);if(D&&D.connector==0&&D.options&&D.options.params)for(var E in D.options.params){var C=D.options.params[E],T=!1;if(typeof C=="string"&&function(F){var B=[];return p.parse(F).toString({handler:function(j,L){!j.isSymbolNode||j.isFunctionNode||p[j.name]||B.push(j.name)}}),B}(C).length&&(T=!0),!T){for(var O=0;0<=o.indexOf("var"+O);)O++;var I="var"+O;o.push(I);for(var M=0;M<D.wires.length;M++)this.gates[D.wires[M]][x].options.params[E]=I;this.params.push(I),this.options.params[I]=C}}}},m.prototype.decompose=function(o){if(!o.gates.length)return o;function f(H,X,Z){return H.slice(0,Z).concat(X).concat(H.slice(Z))}this.updateGlobalParams();for(var x=0;x<o.gates[0].length;x++)for(var g=0;g<o.numQubits;g++){var D=o.gates[g][x];if(D&&D.connector==0&&!this.basicGates[D.name]){var E=new m,C=o.customGates[D.name];if(C){if(E.load(C),E.params.length&&D.options&&D.options.params){for(var T=D.options.params,O=0;O<E.gates[0].length;O++)for(var I=0;I<E.numQubits;I++)if((B=E.gates[I][O])&&B.connector==0&&B.options&&B.options.params)for(var M in B.options.params){var F=p.parse(B.options.params[M]).transform(function(H,X,Z){return H.isSymbolNode&&T.hasOwnProperty(H.name)?p.parse("("+T[H.name]+")"):H});B.options.params[M]=F.toString()}}if(D.options&&D.options.condition)for(O=0;O<E.gates[0].length;O++)for(var B,I=0;I<E.numQubits;I++)(B=E.gates[I][O])&&(B.options=B.options||{},B.options.condition=D.options.condition);var j=E.save(!0);if(!j.gates[0].length)for(var L=0;L<j.gates.length;L++)j.gates[L].push(null);for(var R=[],V=0;V<j.gates[0].length-1;V++)R.push(null);for(var k=0;k<o.numQubits;k++){var U=o.gates[k][x];if(U&&U.id==D.id){o.gates[k].splice(x,1);for(var G=JSON.parse(JSON.stringify(j.gates[U.connector])),L=0;L<G.length;L++)G[L]&&(G[L].id=G[L].id+"_"+D.id);o.gates[k]=f(o.gates[k],G,x)}else o.gates[k]=f(o.gates[k],R,x+1)}}}}return o.customGates={},o},m.prototype.decomposeGateAt=function(o,f){var x=this,g=this.getGateAt(o,f);if(g&&this.customGates[g.name]){var D=new m;D.load(this.save());for(var E=0;E<D.gates[0].length;E++)for(var C=0;C<D.numQubits;C++){var T=D.gates[C][E];T&&T.id!=g.id&&D.removeGateAt(E,C)}var O=new m;O.load(D.save(!0)),O.removeLeadingColumns(),O.removeTrailingColumns();for(var I=0;I<O.gates[0].length-1;I++)this.insertSpace(o+I,g.wires);this.removeGate(g.id);for(var M=o,E=0;E<O.gates[0].length;E++)O.getGatesAtColumn(E).map(function(B){x.addGate(B.name,M,B.wires,B.options)}),M++;return O}},m.prototype.removeMeasurementAndClassicalControl=function(){for(var o=this.numCols(),f=0;f<o;f++)for(var x=0;x<this.numQubits;x++){var g=this.gates[x][f];g&&g.name=="measure"&&(g=this.gates[x][f]=null),g&&g.options&&g.options.condition&&delete this.gates[x][f].options.condition}this.cregs={},this.options&&(this.options.hybrid=!1,this.options.hybridOptions&&delete this.options.hybridOptions)},m.prototype.convertToCustomGate=function(o,f,x){for(var g=this.numCols(),D=0;D<g;D++)for(var E=0;E<this.numQubits;E++){var C=this.gates[E][D];C&&C.name=="measure"&&(C=this.gates[E][D]=null),C&&C.options&&C.options.condition&&delete this.gates[E][D].options.condition}this.cregs={};var T=this.save(f);if(T.options&&(T.options.hybrid=!1,T.options.hybridOptions&&delete T.options.hybridOptions),this.clear(),this.customGates[o]=T,x){for(var O=[],I=0;I<this.numQubits;I++)O.push(I);var M=JSON.parse(JSON.stringify(this.customGates[o].options));this.addGate(o,-1,O,M)}else this.removeTrailingRows()},m.prototype.validCustomGateName=function(o){o=(o||"sub")+"";var f=[];if(this.customGates){if(!this.basicGates[o]&&!this.customGates[o])return o;for(var x in this.basicGates)f.push(x);for(var x in this.customGates)f.push(x)}for(var g=0,D="";D=o+ ++g,0<=f.indexOf(D););return D},m.prototype.splitIntoBlocks=function(o,f){f=f||{};var x=[],g="{}",D=!0,E=null,C=new m;C.load(this.save(!0));for(var T=C.numCols(),O=0;O<T;O++)for(var I=0;I<C.numQubits;I++)if((oe=C.getGateAt(O,I))&&oe.connector==0&&!oe.addedToBlock){var M=this.basicGates[oe.name],F=oe.options&&oe.options.condition?JSON.stringify(oe.options.condition):"{}",B=M&&!(!M.matrix||!M.matrix.length),j=JSON.parse(JSON.stringify(E?E.wires:[]));if(oe.wires.map(function(ve){j.indexOf(ve)<0&&j.push(ve)}),x.length&&F==g&&B&&D&&j.length<=o?(E.wires=j,E.gates.push(oe)):(E={wires:oe.wires,gates:[oe]},x.push(E),oe.options&&oe.options.condition&&(E.condition=oe.options.condition)),oe.wires.map(function(ve){C.gates[ve][O].addedToBlock=!0}),g=F,D=B,!f.verticalOnly){var L=O+1,R=JSON.parse(JSON.stringify(E.wires));for(R.sort();L<T&&R.length;){for(extWire=R[0];R.length&&extWire<=R[R.length-1];){var V=C.getGateAt(L,extWire);if(V&&!V.addedToBlock){var k=this.basicGates[V.name],U=V.options&&V.options.condition?JSON.stringify(V.options.condition):"{}",G=k&&!(!k.matrix||!k.matrix.length)&&U==F;if(G){for(var H=0;H<V.wires.length;H++)if(R.indexOf(V.wires[H])<0){G=!1;break}}if(G)E.gates.push(V),V.wires.map(function(ve){C.gates[ve][L].addedToBlock=!0});else{for(var X=[],H=0;H<R.length;H++){var Z=R[H];V.wires.indexOf(Z)<0&&X.push(Z)}R=X}}if(R.length){for(var J=R[R.length-1]+1,H=R.length-1;0<=H;H--)(Z=R[H])>extWire&&(J=Z);extWire=J}}L++}}}for(var ee=new m,$=0,W=0;W<x.length;W++){var Q=x[W],te=!1;if(Q.wires.length<=o||f.flexibleBlockSize)for(var ce=0;ce<Q.gates.length;ce++){var oe=Q.gates[ce];(M=this.basicGates[oe.name]).matrix&&M.matrix.length&&(te=!0)}if(te){$++;for(var ue=new m,ce=0;ce<Q.gates.length;ce++){(oe=Q.gates[ce]).options.condition&&delete oe.options.condition;var we=[];oe.wires.map(function(pe){we.push(Q.wires.indexOf(pe))}),oe.wires=we,ue.appendGate(oe.name,we,oe.options)}var le="block"+$;ee.registerGate(le,ue);var fe={};Q.condition&&(fe.condition=Q.condition),ee.appendGate(le,Q.wires,fe)}else Q.gates.map(function(ve){ee.appendGate(ve.name,ve.wires,ve.options)})}this.load(ee.save(!1))},m.prototype.usedGates=function(o){o=o||{};var f=new m;f.load(this.save(!0));for(var x=[],g=0;g<f.numQubits;g++)for(var D=0;D<f.numCols();D++){var E,C,T=f.gates[g][D];T&&x.indexOf(T.name)<0&&(E=!1,o.unitariesOnly&&((C=f.basicGates[T.name])&&C.matrix&&C.matrix.length||(E=!0)),E||x.push(T.name))}if(!o.noCustomGates)for(var O in this.customGates)this.customGates[O],x.indexOf(O)<0&&x.push(O);return x},m.prototype.countOps=function(o,f){(f=f||{}).shallow=f.shallow||!1,o=o||this;for(var x={},g=0;g<o.gates.length;g++)for(var D=0;D<o.gates[g].length;D++){var E=o.gates[g][D];if(E&&E.connector==0)if(this.basicGates[E.name])x[E.name]?x[E.name]++:x[E.name]=1;else{var C=this.customGates[E.name];if(C&&(x[E.name]?x[E.name]++:x[E.name]=1,!f.shallow)){var T=this.countOps(C,f);for(subName in T)x[subName]?x[subName]+=T[subName]:x[subName]=T[subName]}}}return x},m.prototype.getCouplingMap=function(o){o=o||{};var f="",x=new m;x.load(this.save(!0));for(var g=0;g<x.numQubits;g++)for(var D=0;D<x.numCols();D++){var E,C,T,O=x.getGateAt(D,g);O&&O.connector==0&&(E=!1,o.unitariesOnly&&((C=x.basicGates[O.name])&&C.matrix&&C.matrix.length||(E=!0)),E||(T=JSON.stringify(O.wires),f.indexOf(T)<0&&(f&&(f+=","),f+=T)))}return JSON.parse("["+f+"]")},m.prototype.getGateDef=function(o){return this.basicGates[o]||this.customGates[o]},m.prototype.importRaw=function(o,f){var x=o&&o.qubits||0;if(this.init(x),!o){if(!f)return;f([])}if(o.cregs)for(var g=0;g<o.cregs.length;g++){var D=o.cregs[g];if(!D.name){var E="Classical register "+g+` doesn't have a "name".`;if(f)return void f([{msg:E,line:0,col:0}]);throw new Error(E)}this.createCreg(D.name,D.len||0)}if(o.program)for(g=0;g<o.program.length;g++){var C=o.program[g];if(!C.name){if(E="Gate "+g+` doesn't have a "name". Name is optional and this is OK for QubitToaster but we cannot import gate from matrix. Not implemented yet.`,f)return void f([{msg:E,line:0,col:0}]);throw new Error(E)}var T=this.basicGates[C.name];if(!T){if(E='Unknown gate "'+C.name+'". Name is optional and this is OK for QubitToaster but we cannot import gate from matrix. We can import only gates by name from set of known gates.',f)return void f([{msg:E,line:0,col:0}]);throw new Error(E)}var O=JSON.parse(JSON.stringify(C.wires||[])),I=JSON.parse(JSON.stringify(C.options||{})),M=T.matrix&&T.matrix.length?p.log2(T.matrix.length):1;if(O.length!=M){if(E='Gate "'+C.name+'" has '+O.length+" wires but should have "+M+" wires.",f)return void f([{msg:E,line:0,col:0}]);throw new Error(E)}if(T.params&&T.params.length){if(!I.params){if(E='Missing parameters for gate "'+C.name+'". Expecting '+T.params.length+" parameters.",f)return void f([{msg:E,line:0,col:0}]);throw new Error(E)}for(var F=0;F<T.params.length;F++){var B=T.params[F];if(I.params[B]===void 0){if(E='Missing parameter "'+B+'" for gate "'+C.name+'".',f)return void f([{msg:E,line:0,col:0}]);throw new Error(E)}}}this.appendGate(C.name,O,I)}f&&f([])},m.prototype.exportRaw=function(){var o=this.options&&this.options.params?this.options.params:{},o=JSON.parse(JSON.stringify(o));for(var f in o)o[f]=p.evaluate(o[f]);var x=new m;x.load(this.save(!0));for(var g=x.numCols(),D=[],E=0;E<g;E++)for(var C=0;C<x.numQubits;C++){var T=x.getGateAt(E,C);if(T&&T.connector==0){var O=x.basicGates[T.name];if(!O)return void console.log('Unknown gate "'+T.name+'".');var I=x.getRawGate(O,T.options),M=[];I.map(function(R){var V=[];R.map(function(k){typeof(k=JSON.parse(JSON.stringify(k)))=="object"&&k.mathjs&&typeof k.mathjs=="string"&&(k.type=k.mathjs.toLowerCase(),delete k.mathjs),V.push(k)}),M.push(V)});var F={};if(T.options&&(F=JSON.parse(JSON.stringify(T.options))),F.params)for(var B in F.params)F.params[B]=p.evaluate(F.params[B],o);D.push({name:T.name,matrix:M,wires:T.wires,options:F})}}var j=[];for(var L in x.cregs)j.push({name:L,len:x.cregs[L].length||0});return{qubits:x.numQubits,cregs:j,program:D}},m.prototype.exportToGenerator=function(o){o=o||{};var f=this.exportQASM(null,!1,null,!1,!0),x=this.usedGates({noCustomGates:!0,unitariesOnly:!0}),g=this.getCouplingMap({unitariesOnly:!0}),D={source:{circuit:{qasm:f}},problem:[],type:"circuit",settings:{allowed_gates:x.join(","),coupling_map:g}},E=new m;if(E.load(this.save(!0)),o.fromMatrix){var C=E.circuitMatrix(),T=[];return C.map(function(j){j.map(function(L){typeof L=="object"?T.push([L.re,L.im]):T.push(L)})}),D.problem.push({unitary:T}),D}if(o.noVectors)return D;for(var O=new m,I=o.numSamples||(this.numQubits<3?8:this.numQubits<5?1+(1<<this.numQubits):this.numQubits<9?4*this.numQubits:this.numQubits),M=0;M<I+1;M++){var F={input:[],output:[]},B=[],B=0<M?(O.randomCircuit(this.numQubits,20,{useGates:o.useGates||["u3","cx"],noClassicControl:!0,noMeasure:!0,noReset:!0}),O.run(),O.stateAsArray().map(function(j){F.input.push([j.amplitude.re,j.amplitude.im])}),O.state):(E.initState(),E.stateAsArray().map(function(j){F.input.push([j.amplitude.re,j.amplitude.im])}),E.state);E.run(null,{initialState:B}),E.stateAsArray().map(function(j){F.output.push([j.amplitude.re,j.amplitude.im])}),D.problem.push(F)}return D},m.prototype.save=function(o,f){this.updateGlobalParams();var x={numQubits:this.numQubits,params:JSON.parse(JSON.stringify(this.params)),options:JSON.parse(JSON.stringify(this.options)),gates:JSON.parse(JSON.stringify(this.gates)),customGates:JSON.parse(JSON.stringify(this.customGates)),cregs:JSON.parse(JSON.stringify(this.cregs))},g=null,g=o?this.decompose(x):x;if(f&&(g.gates&&g.gates.map(function(C){C&&C.map(function(T){T&&T.id&&delete T.id})}),g.customGates))for(var D in g.customGates){var E=g.customGates[D];E&&E.gates&&E.gates.map(function(C){C&&C.map(function(T){T&&T.id&&delete T.id})})}return g},m.prototype.load=function(o){this.numQubits=o.numQubits||1,this.clear(),this.params=JSON.parse(JSON.stringify(o.params||[])),this.options=JSON.parse(JSON.stringify(o.options||{})),this.gates=JSON.parse(JSON.stringify(o.gates||[])),this.customGates=JSON.parse(JSON.stringify(o.customGates||{})),this.cregs=JSON.parse(JSON.stringify(o.cregs||{})),this.options.params=this.options.params||{},this.options.hybrid=this.options.hybrid||!1,this.options.hybridOptions||(this.options.hybridOptions=this.defaultHybridOptions())};function y(o){if(o<=0)throw new Error("Cannot generate the gray code for less than 1 bit.");var f=[0];for(i=0;i<o;i++)[].concat(f).reverse().map(function(g){f.push(g+p.pow(2,i))});var x=[];return f.map(function(g){x.push(_(g,o))}),x}m.prototype.grayCodeChain=function(o,f,x){for(var g=[],D=0;D<o;D++)g.push(D);var E=o,C=y(o),T=null,O=[];return C.map(function(I){var M=I.indexOf("1");if(0<=M){var F=function(V,k){for(var U=[],G=0;G<V.length;G++)U.push(V[G]!=k[G]);return U}(I,T=T||I).indexOf(!0);if(0<=F)if(F!=M)O.push({gateName:"cx",wires:[g[F],g[M]],options:null});else for(var B=function(V,k){for(var U=[],G=0;G<V.length;G++)V[G]==k&&U.push(G);return U}(I,"1"),j=1;j<B.length;j++)O.push({gateName:"cx",wires:[g[B[j]],g[M]],options:null});if(function(V,k){for(var U=0,G=0;G<V.length;G++)V[G]==k&&U++;return U}(I,"1")%2)O.push({gateName:f,wires:[g[M],E],options:x});else{var L=null;if(x&&(L=JSON.parse(JSON.stringify(x))).params)for(key in L.params){var R=typeof(R=L.params[key])=="number"?0-R:"-("+R+")";L.params[key]=R}O.push({gateName:f,wires:[g[M],E],options:L})}T=I}}),O},m.prototype.MCU1Circuit=function(o){var f=0,x=[];if(typeof o=="number")f=o;else{f=o.length||0;for(var g=0;g<f;g++)(!o[g]||typeof o[g]=="number"&&o[g]<0)&&x.push(g)}if(f==0)throw new Error("Cannot create multi-controlled gate with zero control qubits.");function D(T,O){O.map(function(I){T.appendGate("x",I)})}var E={params:{lambda:"lambda / "+p.pow(2,f-1)}},C=new m;return f==1?(D(C,x),C.appendGate("cu1",[0,1],E)):(D(C,x),this.grayCodeChain(f,"cu1",E).map(function(T){C.appendGate(T.gateName,T.wires,T.options)})),D(C,x),C},m.prototype.MCXCircuit=function(o){var f=0,x=[];if(typeof o=="number")f=o;else{f=o.length||0;for(var g=0;g<f;g++)(!o[g]||typeof o[g]=="number"&&o[g]<0)&&x.push(g)}var D=new m;if(f==0)throw new Error("Cannot create multi-controlled gate with zero control qubits.");function E(I,M){M.map(function(F){I.appendGate("x",F)})}if(f==1)return E(D,x),D.appendGate("cx",[0,1]),E(D,x),D;if(f==2)return E(D,x),D.appendGate("ccx",[0,1,2]),E(D,x),D;for(var C=D.MCU1Circuit(f),T="mcu1_"+f,O=[],g=0;g<f+1;g++)O.push(g);return D.registerGate(T,C),E(D,x),D.appendGate("h",f),D.appendGate(T,O,{params:{lambda:"pi"}}),E(D,x),D.appendGate("h",f),D},m.prototype.registerGate=function(o,f){if(this.customGates[o]=f instanceof m?f.save():f,this.isMultiControlledGate(o)){var x=this.decodeMultiControlledGateName(o);if(x.numCtrlQubits!=this.customGates[o].numQubits-1){x.numCtrlQubits=this.customGates[o].numQubits-1;for(var g=[],D=0;D<x.numCtrlQubits;D++)g.push(x.ctrlQubits[D]===void 0||x.ctrlQubits[D]);x.ctrlQubits=g}var E,C=this.basicGates[x.rootName];C&&C.drawingInfo&&C.drawingInfo.connectors&&(this.customGates[o].drawingInfo||(this.customGates[o].drawingInfo={}),E=[],x.ctrlQubits.map(function(T){T?E.push("dot"):E.push("ndot")}),E.push(C.drawingInfo.connectors[C.drawingInfo.connectors.length-1]),this.customGates[o].drawingInfo.connectors=E,this.customGates[o].drawingInfo.root=C.drawingInfo.root)}},m.prototype.registerMCXGate=function(o){var f=this.multiControlledGateName("mcx",o);return this.registerGate(f,this.MCXCircuit(o).save(!0)),f},m.prototype.registerMCU1Gate=function(o){var f=this.multiControlledGateName("mcu1",o);return this.registerGate(f,this.MCU1Circuit(o).save(!0)),f},m.prototype.registerMultiControlledGate=function(o,f){switch(o){case"cx":return this.registerMCXGate(f);case"cu1":return this.registerMCU1Gate(f)}return""},m.prototype.getOrRegisterMultiControlledEquivalent=function(o,f){var x=this.basicGates[o];if(x){if(x.drawingInfo&&(o=="x"||o=="u1"||x.drawingInfo.root=="x"||x.drawingInfo.root=="u1")){if(this.basicGates["c"+o]&&!f)return"c"+o;for(var g="c"+(x.drawingInfo.root||o),D=p.log2(x.matrix.length),E=[],C=0;C<D-1;C++)E.push(!0);return E.unshift(!f),this.registerMultiControlledGate(g,E)}for(var T in this.basicGates){var O=this.basicGates[T];if(O&&O.drawingInfo&&O.drawingInfo.root&&O.drawingInfo.root==o&&!f)return T}return null}if(this.customGates[o]){var I=this.decodeMultiControlledGateName(o);return I&&I.numCtrlQubits&&(I.rootName=="cx"||I.rootName=="cu1")?(I.ctrlQubits.unshift(!f),this.registerMultiControlledGate(I.rootName,I.ctrlQubits)):null}return null},m.prototype.removeUnusedMultiControlledGates=function(){var o=this.countOps(null,{shallow:!1});for(gateName in this.customGates)o[gateName]||this.isMultiControlledGate(gateName)&&delete this.customGates[gateName]},m.prototype.decodeMultiControlledGateName=function(o){if(!o)return null;var f,x={},g=o.split("_");if(0<g.length&&(x.name=g[0],x.rootName=x.name.substring(1)),1<g.length&&(f=parseInt(g[1]),isNaN(f)||(x.numCtrlQubits=f)),x.numCtrlQubits){var D=[];if(2<g.length)for(var E=0;E<g[2].length;E++)g[2][E]=="0"&&D.push(!1),g[2][E]=="1"&&D.push(!0);if(!D.length)for(E=0;E<f;E++)D.push(!0);x.ctrlQubits=D}return x},m.prototype.multiControlledGateName=function(o,f){var x,g=o+"_";return typeof f=="number"?g+=f:(g+=f.length||0,x="",f.map(function(D){x+=!D||typeof D=="number"&&D<0?"0":"1"}),x.indexOf("0")<0&&(x=""),x&&(g+="_"+x)),g},m.prototype.isMultiControlledGate=function(o){var f=this.decodeMultiControlledGateName(o);return!!this.customGates[o]&&!!f&&!!f.numCtrlQubits},m.prototype.isControllableGate=function(o){var f=this.basicGates[o];if(f){if(f.drawingInfo&&(f.drawingInfo.root=="x"||f.drawingInfo.root=="u1"))return!0;for(var x in this.basicGates)if((f=this.basicGates[x])&&f.drawingInfo&&f.drawingInfo.root&&f.drawingInfo.root==o)return!0}return this.isMultiControlledGate(o)},m.prototype.getGatePosById=function(o){for(var f=this.numCols(),x=0;x<f;x++)for(var g=0;g<this.numQubits;g++){var D=this.getGateAt(x,g);if(D&&D.id==o)return{wires:D.wires,col:x}}return{wires:[],col:-1}},m.prototype.getGateById=function(o){for(var f=this.numCols(),x=0;x<f;x++)for(var g=0;g<this.numQubits;g++){var D=this.getGateAt(x,g);if(D&&D.id==o)return D}return null},m.prototype.getGateBefore=function(o,f){for(var x=null,g=o-1;0<=g&&!x;)x=this.getGateAt(g,f),g--;return x},m.prototype.getGateAt=function(o,f){if(!this.gates[f]||!this.gates[f][o])return null;var x=JSON.parse(JSON.stringify(this.gates[f][o]));if(!x)return null;x.column=o,x.wires=[];for(var g=x.id,D=this.gates.length,f=0;f<D;f++){var E=this.gates[f][o];E&&E.id==g&&(x.wires[E.connector]=f)}return x},m.prototype.getGatesAtColumn=function(o){for(var f=[],x=this.gates.length,g=0;g<x;g++){var D=this.getGateAt(o,g);D&&D.connector==0&&f.push(D)}return f},m.prototype.getControllableGatesAtColumn=function(o){for(var f=this.getGatesAtColumn(o),x=[],g=0;g<f.length;g++){var D=f[g];this.isControllableGate(D.name)&&x.push(D)}return x},m.prototype.exportJavaScript=function(o,f,x,g){var D=this,E=null;f?(E=new m).load(this.save(!0)):E=this;var C="";o&&(o||"").split(`
`).map(function(J){2<=J.length&&J[0]!="/"&&J[1]!="/"&&(C+="// "),C+=J,C+=`
`});var T,O,I="",M="";x?(C+="const "+x+` = function() {
`,C+=(I="    ")+"const "+(M="circ")+" = new QuantumCircuit("+E.numQubits+`);

`,E.params&&E.params.length&&(C+=I+M+".params = "+JSON.stringify(E.params)+`

`)):(C+=(I="")+`const QuantumCircuit = require("quantum-circuit");

`,C+=I+"const "+(M="circuit")+" = new QuantumCircuit("+E.numQubits+`);

`,T=E.usedGates(),f||(O=[],T.map(function(J){var ee,$;E.basicGates[J]||(ee=D.customGates[J])&&(($=new m).load(ee),C+=$.exportJavaScript("",!0,J),O.push(J))}),O.map(function(J){C+=I+M+'.registerGate("'+J+'", '+J+`());
`}),0<O.length&&(C+=`
`)));var F=0;for(var B in this.cregs)C+=I+M+'.createCreg("'+B+'", '+(this.cregs[B].length||1)+`);
`,F++;0<F&&(C+=`
`);for(var j=E.numCols(),L=0;L<j;L++)for(var R=0;R<this.numQubits;R++){var V=E.getGateAt(L,R);if(V&&V.connector==0)if(V.name=="measure"&&V.options&&V.options.creg)C+=I+M+".addMeasure("+R+', "'+V.options.creg.name+'", '+V.options.creg.bit+`);
`;else{if(C+=I+M+'.appendGate("'+V.name+'"',V.wires.length==1)C+=", ",C+=V.wires[0];else{C+=", [";for(var k=0;k<V.wires.length;k++)0<k&&(C+=","),C+=V.wires[k];C+="]"}if(V.options){var U,G,H={};for(var X in V.options)V.options[X]&&(G=!1,typeof(U=V.options[X])=="object"&&Object.keys(U).length===0&&U.constructor===Object&&(G=!0),G||(H[X]=U));C+=", "+JSON.stringify(H)}C+=`);
`}}if(x?(C+=`
`,C+=I+"return "+M+`;
`,C+=`};

`):(C+=`
`,C+=I+M+`.run();

`,C+=I+`console.log("Probabilities:");
`,C+=I+`console.log(JSON.stringify(circuit.probabilities()));

`,C+=I+`console.log("Measure all:");
`,C+=I+`console.log(JSON.stringify(circuit.measureAll()));

`,E.cregCount()&&(C+=I+`console.log("Classical registers:");
`,C+=I+`console.log(circuit.cregsAsString());

`)),g){var Z={metadata:{kernelspec:{display_name:"Javascript (Node.js)",language:"javascript",name:"javascript"},language_info:{file_extension:".js",mimetype:"application/javascript",name:"javascript"}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:C,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(Z)}return C},m.prototype.exportQiskit=function(o,f,x,g,D,E,C,T,O,I,M){var F={comment:o,decompose:f,versionStr:g,providerName:D,backendName:E,asJupyter:C,shots:T,hybrid:M};return this.exportToQiskit(F,x,O,I)},m.prototype.exportQuEST=function(o,f,x,g){var D={comment:o,decompose:f};return this.exportToQuEST(D,x,g)},m.prototype.exportQASM=function(o,f,x,g,D,E){var C={comment:o,decompose:f,compatibilityMode:D};return this.exportToQASM(C,x,g,E)},m.prototype.importQASM=function(o,f,x){this.init(),A(this,o,f,x)},m.prototype.exportPyquil=function(o,f,x,g,D,E,C,T,O){var I={comment:o,decompose:f,versionStr:g,lattice:D,asQVM:E,asJupyter:C,shots:T,hybrid:O};return this.exportToPyquil(I,x)},m.prototype.exportQuil=function(o,f,x,g){var D={comment:o,decompose:f,versionStr:g};return this.exportToQuil(D,x)},m.prototype.importQuil=function(o,f,x,g,D,E){var C=this;x=x||{},C.init(),D=D||{},E=E||0;var T=o.split(`
`),O=[],I=!1;T.map(function(we,le){var fe,ve;(we=we.split("#")[0]).length?we=we.trim():I=!1,I?(ve=we.split(";")).map(function(pe){pe.trim().length&&O[O.length-1].body.push(pe.trim())}):we.length&&(fe=we.split(";"),ve=[],fe.map(function(pe){pe.trim().length&&ve.push(pe.trim())}),ve.map(function(pe){var ye=pe.split(" "),Ae=ye[ye.length-1];if(Ae.length&&(Ae[Ae.length-1]==":"&&(I=!0,Ae=Ae.substring(0,Ae.length-1),ye[ye.length-1]=Ae),ye.length)){var be="GATE";ye[0]!="DEFGATE"&&ye[0]!="DEFCIRCUIT"||(be=ye[0],ye.splice(0,1));var ne,re=ye.join(" "),de=[],Ce=re.indexOf("(");0<=Ce?Ce<(ne=re.indexOf(")"))&&((de=re.substring(Ce+1,ne).split(",")).map(function(Be,$e){for(Be=Be.trim();Be.length&&Be[0]=="%";)Be=Be.slice(1);de[$e]=Be}),ne+1<=re.length?(tok=re.substring(ne+1,re.length).split(" "),ye=[],tok.map(function(Be){(Be=Be.trim()).length&&ye.push(Be)})):ye=[],re=re.substring(0,Ce).trim()):re=ye.splice(0,1)[0].trim();for(var je=[],xe=0;xe<ye.length;xe++){var Ie,Ne=ye[xe];g&&0<=(Ie=g.indexOf(Ne))?je.push(Ie):je.push(Ne)}O.push({type:be,name:re,params:de,args:je,body:[],line:le,col:0})}}))});for(var M=O.length,F=0;F<M;F++){var B,j=O[F];switch(D[j.name]&&(j.name=D[j.name]),j.type){case"DEFGATE":j.name==j.name.toUpperCase()&&(B=j.name.toLowerCase(),D[j.name]=B,j.name=B);break;case"DEFCIRCUIT":j.name==j.name.toUpperCase()&&(B=j.name.toLowerCase(),D[j.name]=B,j.name=B);var L=j.body.join(`
`),R=j.args,V=new m;V.importQuil(L,f,x,R,D,j.line+1),V.params=JSON.parse(JSON.stringify(j.params)),C.registerGate(j.name,V.save());break;case"GATE":switch(j.name){case"DECLARE":case"HALT":case"PRAGMA":break;default:var k=function(we){if(C.customGates&&C.customGates[we])return{name:we,customGate:C.customGates[we]};for(var le in C.basicGates){var fe=C.basicGates[le];if(fe.exportInfo){if(fe.exportInfo.quil&&fe.exportInfo.quil.name==we)return{name:le,gateDef:fe,quilDef:fe.exportInfo.quil};if(fe.exportInfo.pyquil&&fe.exportInfo.pyquil.name==we)return{name:le,gateDef:fe,quilDef:fe.exportInfo.pyquil}}}return null}(j.name);if(!k){var U='Cannot recognize "'+j.name+'".';if(f)return void f([{msg:U,line:E+j.line,col:j.col}]);throw new Error(U)}var G={};if(k.gateDef){var H=k.gateDef,X=k.quilDef;if((X.params||[]).length!=(j.params||[]).length){if(U="Invalid number of params. Expected "+(X.params||[]).length+" got "+(j.params||[]).length+".",f)return void f([{msg:U,line:E+j.line,col:j.col}]);throw new Error(U)}for(var Z=0;Z<H.params.length;Z++){var J=H.params[Z],ee=X.params.indexOf(J);if(ee<0||ee>=j.params.length){if(U='Internal error: QUIL definition for gate "'+j.name+" is invalid.",f)return void f([{msg:U,line:E+j.line,col:j.col}]);throw new Error(U)}G[J]=j.params[ee]}}else{if(((H=k.customGate).params||[]).length!=(j.params||[]).length){if(U="Invalid number of params. Expected "+(H.params||[]).length+" got "+(j.params||[]).length+".",f)return void f([{msg:U,line:E+j.line,col:j.col}]);throw new Error(U)}for(Z=0;Z<H.params.length;Z++)G[J=H.params[Z]]=j.params[Z]}if(j.name=="MEASURE"){if(j.args.length!=2){if(U="Expecting 2 arguments (qubit and target register) but found "+j.args.length+".",f)return void f([{msg:U,line:E+j.line,col:j.col}]);throw new Error(U)}}else{var $=1;if(H.numQubits?$=H.numQubits:H.matrix&&H.matrix.length&&($=p.log2(H.matrix.length)),j.args.length!=$){if(U="Expecting "+$+" arguments but found "+j.args.length+".",f)return void f([{msg:U,line:E+j.line,col:j.col}]);throw new Error(U)}}for(var W=[],Q={},Z=0;Z<j.args.length;Z++){var te=j.args[Z];if(j.name=="MEASURE"){var ce=te.indexOf("[");if(0<=ce){var oe=te.indexOf("]");ce<oe&&(cregBit=te.substring(ce+1,oe),cregName=te.substring(0,ce),Q={bit:cregBit,name:cregName})}else{var ue=parseInt(te);if(isNaN(ue)){if(!(0<Z)){if(U='Invalid argument "'+te+'"',f)return void f([{msg:U,line:E+j.line,col:j.col}]);throw new Error(U)}W.push(te)}W.push(ue)}}else{if(ue=parseInt(te),isNaN(ue)){if(U='Invalid argument "'+te+'"',f)return void f([{msg:U,line:E+j.line,col:j.col}]);throw new Error(U)}W.push(ue)}}C.appendGate(k.name,W,{params:G,creg:Q})}}}f&&f([])},m.prototype.importIonq=function(o,f){var x=this,g=o.qubits||1;if(x.init(g),!o.circuit){if(f)return void f([{msg:"Invalid file format.",line:-1,col:-1}]);throw new Error("Invalid file format.")}o.circuit.map(function(D){var E=function(B){if(x.customGates&&x.customGates[B])return{name:B,customGate:x.customGates[B]};for(var j in x.basicGates){var L=x.basicGates[j];if(L.exportInfo&&L.exportInfo.ionq&&(L.exportInfo.ionq.name&&L.exportInfo.ionq.name==B||L.exportInfo.ionq.names&&0<=L.exportInfo.ionq.names.indexOf(B)))return{name:j,gateDef:L}}return null}(D.gate);if(!E){var C='Unknown gate "'+D.gate+'"';if(f)return void f([{msg:C,line:-1,col:-1}]);throw new Error(C)}var T=[];D.control!==void 0&&T.push(D.control),D.controls!==void 0&&(T=T.concat(D.controls)),D.target!==void 0&&T.push(D.target),D.targets!==void 0&&(T=T.concat(D.targets));var O=[];D.rotation!==void 0&&O.push(D.rotation),D.phase!==void 0&&O.push(D.phase),D.phases!==void 0&&(O=O.concat(D.phases));var I=E.gateDef?E.gateDef.matrix?p.log2(E.gateDef.matrix.length):1:E.customGate.numQubits||1,M=E.gateDef?E.gateDef.params||[]:E.customGate.params||[];if(T.length!=I){if(C='Gate "'+D.gate+'": invalid number of qubits. Expected '+I+" but got "+T.length+".",f)return void f([{msg:C,line:-1,col:-1}]);throw new Error(C)}if(O.length!=M.length){if(C='Gate "'+D.gate+'": invalid number of params. Expected '+M.length+" but got "+O.length+".",f)return void f([{msg:C,line:-1,col:-1}]);throw new Error(C)}var F={};O.length&&(F.params={},M.map(function(B,j){F.params[B]=D.rotation?O[j]:2*p.pi*O[j]})),x.appendGate(E.name,T,F)}),f&&f([])},m.prototype.exportToIonq=function(o,f){var x=this.options&&this.options.params?this.options.params:{},x=JSON.parse(JSON.stringify(x));for(var g in x)x[g]=p.evaluate(x[g]);var D=new m;D.load(this.save(!0));for(var E={qubits:D.numQubits,circuit:[]},C=D.numCols(),T=0;T<C;T++)for(var O=0;O<D.numQubits;O++){var I,M,F=D.getGateAt(T,O);F&&F.connector==0&&((I=D.getGateDef(F.name)).exportInfo&&I.exportInfo.ionq&&(I.exportInfo.ionq.name||I.exportInfo.ionq.names)?(M={gate:I.exportInfo.ionq.name||I.exportInfo.ionq.names[0]},I.params&&I.params.length&&(M[I.exportInfo.ionq.paramsKey]=[],I.params.map(function(B){var j=p.evaluate(F.options.params[B],x);I.exportInfo.ionq.paramsKey!="rotation"&&(j/=2*p.pi),M[I.exportInfo.ionq.paramsKey].push(j)}))):M={gate:'Export gate "'+F.name+'" to IONQ not supported yet. Comming soon.'},E.circuit.push(M))}return E},m.prototype.exportQuirk=function(o){var f=this,g=null,x=this.save(!0),g=new m,D=new m;g.load(x),D.load(x);var E={cols:[],gates:[]},C=this.options&&this.options.params?this.options.params:{},T=new m,O={};gateKeys=Object.keys(O);for(var I=0;I<gateKeys.length;I++)if(gateKey=gateKeys[I],O[gateKey].isDecomposeCustomCircuit)for(var M=O[gateKey].info.length-1;0<=M;M--){var F=O[gateKey].info[M],B=F.gateInCustomCircuit;g.insertGate(B.name,F.column,B.wires,B.options)}for(var j=null,L=null,R=0;R<k;R++)for(var V=0;V<g.numQubits;V++)(U=g.getGateAt(R,V))&&(L&&L.name!=U.name&&L.connector!=0&&j==R&&(g.removeGate(U.id),g.insertGate(U.name,U.column+1,U.wires,U.options)),L=U,j=R);for(var k=g.numCols(),R=0;R<k;R++){for(var U,G=[],H=[],X=!1,V=0;V<g.numQubits;V++)if((U=g.getGateAt(R,V))&&U.name!="measure"&&U.name!="reset"){var Z=g.basicGates[U.name],J=p.max(U.wires),ee=p.min(U.wires),$=U.wires.slice(),H=function(be){for(var ne=[],re=0;re<be;re++)ne.push(re);return ne}(J);if(Z){var W="",Q=!1,X=!0;if(Z.exportInfo&&Z.exportInfo.quirk&&(W=Z.exportInfo.quirk.name,Q=Z.exportInfo.quirk.controlled),Z.matrix.length==4&&(W&&U.name=="swap"&&U.connector<U.wires.length-2&&Q||U.name!="swap"&&U.connector<U.wires.length-1&&Q)&&(W=""),Z.matrix.length==8&&(W&&U.name=="cswap"&&U.connector<U.wires.length-2&&Q||U.name!="cswap"&&U.connector<U.wires.length-1&&Q)&&(W=""),W&&G.push(W),!W){W="~"+U.name,Z.params.length&&U.options.params&&Z.params.map(function(ne){angle=p.round(p.evaluate(U.options.params[ne],C),7),W+="_"+angle});var te="";te+="{";var ce=f.getRawGate(Z,U.options),oe=$.sort(),ue=[];if(U.wires.map(function(ne){ue.push(oe.indexOf(ne))}),(J-ee+1>U.wires.length||U.wires[0]>U.wires[1]?g.transformMatrix(J-ee+1,ce,ue):ce).map(function(ne,re){0<re&&(te+=","),te+="{",ne.map(function(de,Ce){0<Ce&&(te+=","),de=typeof de!="object"?p.complex(de).toString():de.toString(),te+=de}),te+="}"}),te+="}",U.connector==0){E.gates.find(function(ne){return ne.id==W})||E.gates.push({id:W,matrix:te});for(var we=!1,le=0;le<G.length;le++)G[le]==W&&(we=!0);we?G.push(1):G.push(W)}else if(V<U.wires[0]){for(E.gates.push({id:W,matrix:te}),E.gates.find(function(ne){return ne.id==W})||E.gates.push({id:W,matrix:te}),we=!1,le=0;le<G.length;le++)G[le]==W&&(we=!0);we?G.push(1):G.push(W)}}}else{var fe,ve=[];X=!1,U.connector==0?(T.gates.find(function(be){return be&&be[0]&&be[0].name==U.name})||(fe=U.wires[0],U.wires.map(function(be){ve.push(be-fe)}),T.registerGate(U.name,f.customGates[U.name]),T.appendGate(U.name,ve)),G.push("~"+U.name)):G.push(1)}}else!X&&function(Ae,be){return-1<be.indexOf(Ae)}(V,H)||G.push(1);E.cols.push(G)}return E},m.prototype.exportCirq=function(o,f,x,g,D,E,C){var T={comment:o,decompose:f,versionStr:g,asJupyter:D,shots:E,exportTfq:C};return this.exportToCirq(T,x)},m.prototype.exportQSharp=function(o,f,x,g,D,E,C){var T={comment:o,decompose:f,versionStr:g,asJupyter:D,circuitName:E,indentDepth:C};return this.exportToQSharp(T,x)},m.prototype.exportQobj=function(o,f,x,g){var D={circuitName:o,experimentName:f,numShots:x};return this.exportToQobj(D,g)},m.prototype.importQobj=function(o,f){var x=this;if(this.init(),o&&o.experiments&&o.experiments.length){var g=o.experiments[0],D=g.header||{};this.init(parseInt(D.n_qubits||0));var E={};if(D.creg_sizes&&D.creg_sizes.length)for(var C=0,T=0;T<D.creg_sizes.length;T++){var O,I,M,F=D.creg_sizes[T];1<F.length&&(O=F[0]+"",I=parseInt(F[1]),this.createCreg(O,I),M=(1<<C+I)-(1<<C),E[O]={mask:M,offset:C},C+=I)}g.instructions;for(var B={},j=0;j<g.instructions.length;j++){var L=g.instructions[j];switch(L.name){case"bfunc":if(!(X=function($,W){for(var Q in E){var te=E[Q];if(te.mask==$)return{creg:Q,value:W>>te.offset}}}(parseInt(L.mask),parseInt(L.val)))){var R="Invalid classical condition.";if(f)return void f([{msg:R}]);throw new Error(R)}B[L.register]=X;break;case"measure":for(var V=0;V<L.qubits.length;V++){var k=L.qubits[V],U=function(W){var Q=0;for(var te in x.cregs){var ce=x.cregs[te];if(Q+ce.length>W)return{name:te,bit:W-Q};Q+=ce.length}return null}(L.memory[V]);if(!U){if(R="Invalid measurement destination.",f)return void f([{msg:R}]);throw new Error(R)}var G={creg:U};this.appendGate("measure",k,G)}break;case"barrier":break;default:var G={params:{},condition:{}},H=L.name;switch(H){case"iden":H="id"}var X,Z=this.basicGates[H];if(!Z){if(R='Unknown gate "'+L.name+'".',f)return void f([{msg:R}]);throw new Error(R)}if(Z.params&&Z.params.length){if(!L.params||!L.params.length||L.params.length!=Z.params.length){if(R='Invalid number of params for gate "'+L.name+'".',f)return void f([{msg:R}]);throw new Error(R)}for(var J=0;J<Z.params.length;J++){var ee=Z.params[J];G.params[ee]=L.params[J]}}if(L.conditional!==void 0){if(!(X=B[L.conditional])){if(R="Invalid classical condition.",f)return void f([{msg:R}]);throw new Error(R)}G.condition=X}this.appendGate(H,L.qubits,G)}}f&&f([])}else f&&f([{msg:"Invalid input file: no experiments found."}])},m.prototype.exportTFQ=function(o,f,x,g,D,E){var C={comment:o,decompose:f,versionStr:g,asJupyter:D,shots:E};return this.exportToTFQ(C,x)},m.prototype.exportBraket=function(o,f,x,g,D,E,C,T){var O={comment:o,decompose:f,versionStr:g,asJupyter:D,shots:E,hybrid:C,indentDepth:T};return this.exportToBraket(O,x)},m.prototype.exportSVG=function(o,f){var x=f||{};return x.embedded=!!o,this.exportToSVG(x)},m.prototype.exportToSVG=function(o){var f=this;(o=o||{}).embedded=o.embedded||!1,o.cellWidth=o.cellWidth||40,o.cellHeight=o.cellHeight||40,o.hSpacing=o.hSpacing||28,o.vSpacing=o.vSpacing||34,o.blackboxPaddingX=o.blackboxPaddingX||2,o.blackboxPaddingY=o.blackboxPaddingY||2,o.blackboxLineColor=o.blackboxLineColor||"black",o.blackboxSelectedLineColor=o.blackboxSelectedLineColor||"black",o.wireColor=o.wireColor||"black",o.gateLineColor=o.gateLineColor||"black",o.gateSelectedLineColor=o.gateSelectedLineColor||"black",o.cWireColor=o.cWireColor||"silver",o.cWireSelectedColor=o.cWireSelectedColor||"silver",o.cArrowSize=o.cArrowSize||10,o.hWireColor=o.hWireColor||"black",o.wireWidth=o.wireWidth||1,o.wireTextHeight=o.wireTextHeight||8,o.wireTextDown=o.wireTextDown||16,o.wireMargin=o.wireMargin||20,o.wireLabelWidth=o.wireLabelWidth||40,o.dotRadius=o.dotRadius||5,o.paramTextHeight=o.paramTextHeight||6,o.selectionPaddingX=o.selectionPaddingX||4,o.selectionPaddingY=o.selectionPaddingY||4,o.selectionLineColor=o.selectionLineColor||"#2185D0",o.drawBlochSpheres=o.drawBlochSpheres||!1,o.drawHybrid===void 0&&(o.drawHybrid=!!this.options&&!!this.options.hybrid);var x=function(nt){return o.wireLabelWidth+(o.cellWidth+o.hSpacing)*nt+o.hSpacing},g=function(nt){return(o.cellHeight+o.vSpacing)*nt+o.vSpacing},D=this.numQubits,E=this.numCols(),C=this.cregCount(),T=E;o.drawBlochSpheres&&T++;var O=T;o.drawHybrid&&(T+=2);var I=x(T),M=x(O),F=(o.cellHeight+o.vSpacing)*(D+C+(o.drawHybrid?1:0))+o.vSpacing,B=(o.cellHeight,o.vSpacing,o.vSpacing,(o.cellHeight+o.vSpacing)*(D+C)+(o.vSpacing+o.cellHeight/2));function j(nt,it,dt,ft){var yt=(ft-90)*Math.PI/180;return{x:nt+dt*Math.cos(yt),y:it+dt*Math.sin(yt)}}var L=function(nt){return(o.cellHeight+o.vSpacing)*nt+(o.vSpacing+o.cellHeight/2)},R=function(nt){return(o.cellHeight+o.vSpacing)*nt+o.vSpacing},V=function(nt){return(o.cellHeight+o.vSpacing)*(D+function(it){var dt=0;for(var ft in f.cregs){if(ft==it)return dt;dt++}return dt}(nt))+(o.vSpacing+o.cellHeight/2)};function k(nt,it,dt,ft,yt){var bt=o.cellWidth,wt=o.cellHeight,xt="";return xt+='<rect class="qc-gate-box" x="'+nt+'" y="'+it+'" width="'+bt+'" height="'+wt+'" stroke="'+(yt?o.gateSelectedLineColor:o.gateLineColor)+'" fill="white" stroke-width="1" />',ft&&(xt+='<text class="qc-gate-label" x="'+(nt+bt/2)+'" y="'+(it+wt/2)+'" dominant-baseline="middle" text-anchor="middle" fill="'+(yt?o.gateSelectedLineColor:o.gateLineColor)+'">'+ft+"</text>"),xt}function U(nt,it,dt,ft,yt){var bt=nt+o.cellWidth/2,wt=it+o.cellHeight/2,xt=.8*o.cellWidth,Tt=.8*o.cellHeight,kt=nt+(o.cellWidth-xt)/2,Mt=it+(o.cellHeight-Tt)/2,Ot="";return Ot+='<ellipse class="qc-gate-not" cx="'+bt+'" cy="'+wt+'" rx="'+xt/2+'" ry="'+Tt/2+'" stroke="'+(yt?o.gateSelectedLineColor:o.gateLineColor)+'" fill="white" stroke-width="1" />',ft&&(Ot+='<text class="qc-gate-label" x="'+(kt+xt/2)+'" y="'+(Mt+Tt/2)+'" dominant-baseline="middle" text-anchor="middle">'+ft+"</text>"),Ot}function G(nt,it,dt,ft){var yt=nt+o.cellWidth/2,bt=it+o.cellHeight/2,wt=.8*o.cellWidth,xt=.8*o.cellHeight,Tt=nt+(o.cellWidth-wt)/2,kt=it+(o.cellHeight-xt)/2,Mt="";return Mt+='<ellipse class="qc-gate-not" cx="'+yt+'" cy="'+bt+'" rx="'+wt/2+'" ry="'+xt/2+'" stroke="'+(ft?o.gateSelectedLineColor:o.gateLineColor)+'" fill="white" stroke-width="1" />',Mt+='<line class="qc-gate-not-line" x1="'+yt+'" x2="'+yt+'" y1="'+kt+'" y2="'+(kt+xt)+'" stroke="'+(ft?o.gateSelectedLineColor:o.gateLineColor)+'" stroke-width="1" />',Mt+='<line class="qc-gate-not-line" x1="'+Tt+'" x2="'+(Tt+wt)+'" y1="'+bt+'" y2="'+bt+'" stroke="'+(ft?o.gateSelectedLineColor:o.gateLineColor)+'" stroke-width="1" />'}function H(nt,it,dt,ft){var yt,bt,wt,xt,Tt,kt,Mt,Ot,Lt=o.cellWidth,Ft=o.cellHeight,Pt=nt+Lt/2,It=it+Ft/2,Rt=Ft/5,Ht="";return Ht+='<rect class="qc-gate-box" x="'+nt+'" y="'+it+'" width="'+Lt+'" height="'+Ft+'" stroke="'+(ft?o.gateSelectedLineColor:o.gateLineColor)+'" fill="white" stroke-width="1" />',Ht+='<path class="gc-gate-gauge-arc" d="'+(xt=300,kt=j(yt=Pt,bt=It+Rt,wt=Lt/2.3,Tt=60),Mt=j(yt,bt,wt,xt),Ot=Tt-xt<=180?"0":"1",["M",kt.x,kt.y,"A",wt,wt,0,Ot,0,Mt.x,Mt.y].join(" "))+'" stroke="'+(ft?o.gateSelectedLineColor:o.gateLineColor)+'" fill="none" stroke-width="1" />',Ht+='<line class="qc-gate-gauge-scale" x1="'+Pt+'" x2="'+(nt+Lt-Rt)+'" y1="'+(It+Rt)+'" y2="'+(it+Rt)+'" stroke="'+(ft?o.gateSelectedLineColor:o.gateLineColor)+'" stroke-width="1" />'}function X(nt,it,dt,ft){var yt=.4*o.cellWidth,bt=.4*o.cellHeight,wt=nt+(o.cellWidth-yt)/2,xt=it+(o.cellHeight-bt)/2,Tt="";return Tt+='<line class="qc-gate-x" x1="'+wt+'" x2="'+(wt+yt)+'" y1="'+xt+'" y2="'+(xt+bt)+'" stroke="'+(ft?o.gateSelectedLineColor:o.gateLineColor)+'" stroke-width="1" />',Tt+='<line class="qc-gate-x" x1="'+wt+'" x2="'+(wt+yt)+'" y1="'+(xt+bt)+'" y2="'+xt+'" stroke="'+(ft?o.gateSelectedLineColor:o.gateLineColor)+'" stroke-width="1" />'}function Z(nt,it,dt,ft){var yt="";return yt+='<circle class="qc-gate-dot" cx="'+(nt+o.cellWidth/2)+'" cy="'+(it+o.cellHeight/2)+'" r="'+o.dotRadius+'" stroke="'+(ft?o.gateSelectedLineColor:o.wireColor)+'" fill="'+(ft?o.gateSelectedLineColor:o.wireColor)+'" stroke-width="1" />'}function J(nt,it,dt,ft){var yt="";return yt+='<circle class="qc-gate-ndot" cx="'+(nt+o.cellWidth/2)+'" cy="'+(it+o.cellHeight/2)+'" r="'+o.dotRadius+'" stroke="'+(ft?o.gateSelectedLineColor:o.wireColor)+'" fill="white" stroke-width="1" />'}function ee(nt,it,dt,ft,yt,bt,wt){var xt="";switch(yt!="box"&&bt&&(xt+=k(nt,it,0,"",wt)),yt){case"box":xt+=k(nt,it,0,ft,wt);break;case"rect":xt+=function(Tt,kt,Mt,Ot){var Lt=2*o.cellWidth,Ft=o.cellHeight,Pt="";return Pt+='<rect class="qc-gate-rect" x="'+Tt+'" y="'+kt+'" width="'+Lt+'" height="'+Ft+'" stroke="'+(Ot?o.gateSelectedLineColor:o.gateLineColor)+'" fill="white" stroke-width="1" />',Mt&&(Pt+='<text class="qc-gate-label" x="'+(Tt+Lt/2)+'" y="'+(kt+Ft/2)+'" dominant-baseline="middle" text-anchor="middle">'+Mt+"</text>"),Pt}(nt,it,ft,wt);break;case"circle":xt+=U(nt,it,0,ft,wt);break;case"not":xt+=G(nt,it,0,wt);break;case"x":xt+=X(nt,it,0,wt);break;case"dot":xt+=Z(nt,it,0,wt);break;case"ndot":xt+=J(nt,it,0,wt);break;case"gauge":xt+=H(nt,it,0,wt)}return xt}function $(nt){return nt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}if(o.gateGallery||o.gateGalleryRaw||o.customGateGallery){var W=[];if(o.gateGallery||o.gateGalleryRaw){var Q=[];for(var te in this.basicGates){var ce,oe,ue,we=this.basicGates[te],le=JSON.parse(JSON.stringify(we.drawingInfo||{connectors:["box"]}));le.connectors&&(ce=le.label||te,oe=le.connectors?le.connectors[le.connectors.length-1]:"box",o.gateGallery&&(oe!="x"&&oe!="dot"||(oe="box")),ue=ce+"|"+oe,Q.indexOf(ue)<0&&te!="ccx"&&(Q.push(ue),pe="",o.embedded||(pe+='<?xml version="1.0"?>',pe+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'),pe+='<svg class="qc-gate-gallery-item" data-gate="'+$(te)+'" data-content="'+$(we.description)+'" width="'+o.cellWidth+'" height="'+o.cellHeight+'" version="1.1" xmlns="http://www.w3.org/2000/svg">',pe+=ee(0,0,0,ce,oe,!!o.gateGallery,!1),pe+="</svg>",o.gateGallery?W.push(pe):W.push({name:te,svg:pe})))}var fe="";o.embedded||(fe+='<?xml version="1.0"?>',fe+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'),fe+='<svg class="qc-gate-gallery-item" data-gate="dot" data-content="Control" width="'+o.cellWidth+'" height="'+o.cellHeight+'" version="1.1" xmlns="http://www.w3.org/2000/svg">',fe+=ee(0,0,0,"dot","dot",!!o.gateGallery,!1),fe+="</svg>",o.gateGallery?W.push(fe):W.push({name:"dot",svg:fe});var ve="";o.embedded||(ve+='<?xml version="1.0"?>',ve+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'),ve+='<svg class="qc-gate-gallery-item" data-gate="ndot" data-content="Control" width="'+o.cellWidth+'" height="'+o.cellHeight+'" version="1.1" xmlns="http://www.w3.org/2000/svg">',ve+=ee(0,0,0,"ndot","ndot",!!o.gateGallery,!1),ve+="</svg>",o.gateGallery?W.push(ve):W.push({name:"dot",svg:ve})}if(o.customGateGallery)for(var te in this.customGates){var pe="";o.embedded||(pe+='<?xml version="1.0"?>',pe+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'),pe+='<svg class="qc-custom-gate-gallery-item" data-gate="'+te+'" width="'+2*o.cellWidth+'" height="'+o.cellHeight+'" version="1.1" xmlns="http://www.w3.org/2000/svg">',pe+=ee(0,0,0,te,"rect",!1,!1),pe+="</svg>",W.push(pe)}return W}if(pe="",o.embedded||(pe+='<?xml version="1.0"?>',pe+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'),pe+='<svg class="qc-circuit" width="'+I+'" height="'+F+'" version="1.1" xmlns="http://www.w3.org/2000/svg">',o.placeholders)for(var ye=0;ye<=E;ye++)for(var Ae=0;Ae<=this.numQubits;Ae++)pe+=function(nt,it){var dt="",ft=o.cellWidth+o.hSpacing,yt=o.cellHeight+o.vSpacing,bt=x(nt)-o.hSpacing,wt=g(it)-o.vSpacing;return it==D&&(yt=o.vSpacing),nt==E&&(ft=o.hSpacing),dt+='<rect class="qc-gate-placeholder" data-row="'+it+'" data-col="'+nt+'" x="'+bt+'" y="'+wt+'" width="'+ft+'" height="'+yt+'" stroke="none" fill="transparent" stroke-width="0" />'}(ye,Ae);for(Ae=0;Ae<D;Ae++){var be=L(Ae),ne="0";o.customGate&&(ne=h(Ae,D)),pe+='<text class="qc-wire-init" x="0" y="'+be+'" dominant-baseline="middle" text-anchor="start">|'+ne+"&#x27E9;</text>",pe+='<line class="qc-wire" x1="'+o.wireMargin+'" x2="'+M+'" y1="'+be+'" y2="'+be+'" stroke="'+o.wireColor+'" stroke-width="'+o.wireWidth+'" />',pe+='<text class="qc-wire-label" x="'+o.wireMargin+'" y="'+(be-2*o.wireTextHeight)+'" dominant-baseline="hanging" text-anchor="start" font-size="75%">q'+Ae+"</text>"}for(var re in this.cregs)pe+='<text class="qc-wire-init" x="0" y="'+(be=V(re))+'" dominant-baseline="middle" text-anchor="start">0</text>',pe+='<line class="qc-wire-c" x1="'+o.wireMargin+'" x2="'+M+'" y1="'+be+'" y2="'+be+'" stroke="'+o.cWireColor+'" stroke-width="'+o.wireWidth+'" />',pe+='<text class="qc-wire-label" x="'+o.wireMargin+'" y="'+(be-2*o.wireTextHeight)+'" dominant-baseline="hanging" text-anchor="start" font-size="75%">'+re+"</text>";for(ye=0;ye<E;ye++)for(Ae=0;Ae<this.numQubits;Ae++)(we=this.getGateAt(ye,Ae))&&we.connector==0&&(pe+=function(nt,it){var dt=(dt=f.basicGates[nt.name]?f.basicGates[nt.name].drawingInfo:null)||(f.customGates[nt.name]?f.customGates[nt.name].drawingInfo:null),ft=!1,yt=o&&o.selection&&0<=o.selection.indexOf(nt.id);for(dt||(nt.wires.length==1?dt={connectors:["box"]}:(dt={connectors:[]},ft=!0));dt.connectors.length<nt.wires.length;)dt.connectors.push("box");var bt,wt,xt,Tt,kt=Math.min.apply(null,nt.wires),Mt=Math.max.apply(null,nt.wires),Ot=V(Mt),Lt="";Lt+='<g class="qc-gate-group" data-id="'+nt.id+'" data-gate="'+nt.name+'">',ft&&(bt=x(it)-o.blackboxPaddingX,wt=R(kt)-o.blackboxPaddingY,xt=o.cellWidth+2*o.blackboxPaddingX,Ot=wt+(Tt=R(Mt)+o.cellHeight-wt+o.blackboxPaddingY),Lt+='<text class="qc-blackbox-label" x="'+(bt+xt/2)+'" y="'+(wt-o.wireTextHeight-2*o.blackboxPaddingY)+'" dominant-baseline="hanging" text-anchor="middle" font-size="75%">'+(dt.label||nt.name)+"</text>",Lt+='<rect class="qc-gate-blackbox" x="'+bt+'" y="'+wt+'" width="'+xt+'" height="'+Tt+'" stroke="'+(yt?o.blackboxSelectedLineColor:o.blackboxLineColor)+'" fill="transparent" stroke-width="1" />'),yt&&(bt=x(it)-o.selectionPaddingX,wt=R(kt)-o.selectionPaddingY,xt=o.cellWidth+2*o.selectionPaddingX,Tt=R(Mt)+o.cellHeight-wt+o.selectionPaddingY,Ot=wt+Tt,Lt+='<rect class="qc-gate-selection" x="'+bt+'" y="'+wt+'" width="'+xt+'" height="'+Tt+'" stroke="'+o.selectionLineColor+'" fill="transparent" stroke-dasharray="4" stroke-width="1" />'),kt==Mt||ft||(Ft=x(it)+o.cellWidth/2,Pt=g(kt)+o.cellHeight/2,It=g(Mt)+o.cellHeight/2,Lt+='<line class="qc-gate-link" x1="'+Ft+'" x2="'+Ft+'" y1="'+Pt+'" y2="'+It+'" stroke="'+(yt?o.gateSelectedLineColor:o.wireColor)+'" stroke-width="1" />');var Ft,Pt,It,Rt=Math.max.apply(null,nt.wires);return nt.wires.map(function(Ht,rn){switch(dt.connectors[rn]){case"box":var Zt=x(it),Jt=g(Ht);Lt+=k(Zt,Jt,nt.name,ft?h(rn,D):dt.label||nt.name,yt),ft||Ht!=Mt||(Ot=Jt+o.cellHeight);break;case"circle":Zt=x(it),Jt=g(Ht),Lt+=U(Zt,Jt,nt.name,ft?h(rn,D):dt.label||nt.name,yt),ft||Ht!=Mt||(an=.8*o.cellHeight,Ot=Jt+an+(o.cellHeight-an)/2);break;case"not":var an,Wt=x(it),nn=g(Ht);Lt+=G(Wt,nn,nt.name,yt),ft||Ht!=Mt||(an=.8*o.cellHeight,Ot=nn+an+(o.cellHeight-an)/2);break;case"x":Wt=x(it),nn=g(Ht),Lt+=X(Wt,nn,nt.name,yt),ft||Ht!=Mt||(Ot=L(Mt));break;case"dot":Wt=x(it),nn=g(Ht),Lt+=Z(Wt,nn,nt.name,yt),ft||Ht!=Mt||(Ot=L(Mt)+o.dotRadius);break;case"ndot":Wt=x(it),nn=g(Ht),Lt+=J(Wt,nn,nt.name,yt),ft||Ht!=Mt||(Ot=L(Mt)+o.dotRadius);break;case"gauge":Zt=x(it),Jt=g(Ht),Lt+=H(Zt,Jt,nt.name,yt),ft||Ht!=Mt||(Ot=Jt+o.cellHeight)}if(nt.options&&nt.options.params&&Ht==Rt){var Zt=x(it),Jt=g(Ht),Je=Zt+o.cellWidth/2,Et="",_e=0;for(var Oe in nt.options.params){Et&&(Et+=", ");var Ue=nt.options.params[Oe];typeof Ue=="string"&&Ue.match(/^[\+\-]?\d*\.?\d+(?:[Ee][\+\-]?\d+)?$/)&&(Ue=parseFloat(Ue)),typeof Ue=="number"&&(Ue=p.round(Ue,3)),Et+=Ue,_e++}26<Et.length&&(Et="("+_e+" params)"),Lt+='<text class="qc-gate-params" x="'+Je+'" y="'+(Jt+o.cellHeight+o.paramTextHeight)+'" dominant-baseline="hanging" text-anchor="middle" font-size="75%">'+Et+"</text>"}}),nt.name=="measure"&&nt.options&&nt.options.creg&&nt.options.creg.name&&(Ft=x(it)+o.cellWidth/2,Pt=Ot,It=V(nt.options.creg.name),Lt+='<line class="qc-gate-link-c" x1="'+Ft+'" x2="'+Ft+'" y1="'+Pt+'" y2="'+It+'" stroke="'+(yt?o.cWireSelectedColor:o.cWireColor)+'" stroke-width="1" />',Lt+='<line class="qc-gate-link-c" x2="'+Ft+'" x1="'+(Ft-o.cArrowSize/2)+'" y1="'+(It-o.cArrowSize)+'" y2="'+It+'" stroke="'+(yt?o.cWireSelectedColor:o.cWireColor)+'" stroke-width="1" />',Lt+='<line class="qc-gate-link-c" x2="'+Ft+'" x1="'+(Ft+o.cArrowSize/2)+'" y1="'+(It-o.cArrowSize)+'" y2="'+It+'" stroke="'+(yt?o.cWireSelectedColor:o.cWireColor)+'" stroke-width="1" />',Lt+='<text class="qc-wire-label" x="'+Ft+'" y="'+(It+o.wireTextHeight)+'" dominant-baseline="hanging" text-anchor="middle" font-size="75%">'+nt.options.creg.bit+"</text>"),nt.options&&nt.options.condition&&nt.options.condition.creg&&(Ft=x(it)+o.cellWidth/2,Pt=Ot,It=V(nt.options.condition.creg),Lt+='<line class="qc-gate-link-c" x1="'+Ft+'" x2="'+Ft+'" y1="'+Pt+'" y2="'+It+'" stroke="'+(yt?o.cWireSelectedColor:o.cWireColor)+'" stroke-width="1" />',Lt+='<circle class="qc-gate-dot-c" cx="'+Ft+'" cy="'+It+'" r="'+o.dotRadius+'" stroke="'+(yt?o.cWireSelectedColor:o.cWireColor)+'" fill="'+(yt?o.cWireSelectedColor:o.cWireColor)+'" stroke-width="1" />',Lt+='<text class="qc-wire-label" x="'+Ft+'" y="'+(It+o.wireTextHeight)+'" dominant-baseline="hanging" text-anchor="middle" font-size="75%">== '+nt.options.condition.value+"</text>"),Lt+="</g>"}(we,ye));for(ye=0;ye<E;ye++)for(Ae=0;Ae<this.numQubits;Ae++)(we=this.getGateAt(ye,Ae))&&o.placeholders&&(pe+=function(nt,it,dt){var ft="",yt=o.cellWidth,bt=o.cellHeight,wt=x(it),xt=g(dt);return ft+='<rect class="qc-gate-handle" data-id="'+nt.id+'" data-gate="'+nt.name+'" data-row="'+dt+'" data-col="'+it+'" x="'+wt+'" y="'+xt+'" width="'+yt+'" height="'+bt+'" stroke="none" fill="transparent" stroke-width="0" />'}(we,ye,Ae));if(o.drawBlochSpheres){var de=T-1;for(o.drawHybrid&&(de-=2),Ae=0;Ae<this.numQubits;Ae++)pe+=function(nt,it,dt,ft){var yt="",bt=o.cellWidth,wt=o.cellHeight,xt=x(nt),Tt=g(it);return yt+='<g class="'+(dt||"qc-canvas-group")+'" data-row="'+it+'">',yt+='<rect class="qc-canvas-box" x="'+xt+'" y="'+Tt+'" width="'+bt+'" height="'+wt+'" stroke="transparent" fill="white" stroke-width="1" />',yt+='<foreignObject class="qc-canvas-object" x="'+xt+'" y="'+Tt+'" width="'+bt+'" height="'+wt+'">',yt+='<div style="position:relative;">',yt+='<canvas id="'+ft+"-"+it+'" class="'+ft+'" width="'+bt+'" height="'+wt+'">',yt+="</canvas>",yt+="</div>",yt+="</foreignObject>",yt+="</g>"}(de,Ae,"qc-bloch-group","qc-bloch-canvas")}if(o.drawHybrid){var Ce=de=T-2,je=x(Ce)+o.blackboxPaddingX,xe=R(0)+o.blackboxPaddingY,Ie=o.cellWidth-2*o.blackboxPaddingX,Ne=R(D+C-1)+o.cellHeight-xe-o.blackboxPaddingY,Be=je+Ie/2,$e=xe+Ne/2;cLinkTopY=xe+Ne,pe+='<rect class="qc-cost-h" x="'+je+'" y="'+xe+'" width="'+Ie+'" height="'+Ne+'" stroke="'+o.hWireColor+'" fill="white" stroke-width="1" rx="8" />',pe+='<text class="qc-label-h" x="'+Be+'" y="'+$e+'" dominant-baseline="middle" text-anchor="middle" fill="'+o.hWireColor+'" transform="rotate(-90, '+Be+", "+$e+')">Cost</text>';var Le=x(Ce+1)+o.blackboxPaddingX,qe=Le+Ie/2;pe+='<marker id="qc-arrow-head" orient="auto" markerWidth="8" markerHeight="10" refX="8" refY="5"><path d="M0,0 V10 L8,5 Z" fill="'+o.hWireColor+'"/></marker>',pe+='<line class="qc-link-h" x1="'+(je+Ie)+'" x2="'+Le+'" y1="'+$e+'" y2="'+$e+'" stroke="'+o.hWireColor+'" stroke-width="'+o.wireWidth+'" marker-end="url(#qc-arrow-head)" />',pe+='<rect class="qc-optimizer-h" x="'+Le+'" y="'+xe+'" width="'+Ie+'" height="'+Ne+'" stroke="'+o.hWireColor+'" fill="white" stroke-width="1" rx="8" />',pe+='<text class="qc-label-h" x="'+qe+'" y="'+$e+'" dominant-baseline="middle" text-anchor="middle" fill="'+o.hWireColor+'" transform="rotate(-90, '+qe+", "+$e+')">Optimizer</text>',pe+='<line class="qc-wire-h" x1="'+qe+'" x2="'+qe+'" y1="'+cLinkTopY+'" y2="'+B+'" stroke="'+o.hWireColor+'" stroke-dasharray="4" stroke-width="1" />';var ze=0,Ee=this.findGlobalParams();if(Ee.globalParams.length){ze=x(Ee.cells[0][0])+o.cellWidth+o.hSpacing/2;for(var Se=0;Se<Ee.cells.length;Se++){var Me=Ee.cells[Se],me=x(Me[0])+o.cellWidth+o.hSpacing/2,Ve=g(Me[1])+o.cellHeight+o.vSpacing-o.paramTextHeight/2,Xe=B,rt=x(Me[0])+o.cellWidth,lt=g(Me[1])+o.cellHeight+2*o.paramTextHeight+4;pe+='<line class="qc-wire-h" x1="'+me+'" x2="'+me+'" y1="'+Xe+'" y2="'+Ve+'" stroke="'+o.hWireColor+'" stroke-dasharray="4" stroke-width="1" />',pe+='<line class="qc-wire-h" x1="'+me+'" x2="'+rt+'" y1="'+Ve+'" y2="'+lt+'" stroke="'+o.hWireColor+'" stroke-dasharray="4" stroke-width="1" marker-end="url(#qc-arrow-head)" />'}pe+='<line class="qc-wire-h" x1="'+ze+'" x2="'+qe+'" y1="'+(be=B)+'" y2="'+be+'" stroke="'+o.hWireColor+'" stroke-dasharray="4" stroke-width="'+o.wireWidth+'" />'}else pe+='<line class="qc-wire-h" x1="'+qe+'" x2="'+(ze=x(O+1))+'" y1="'+(be=B)+'" y2="'+be+'" stroke="'+o.hWireColor+'" stroke-dasharray="4" stroke-width="'+o.wireWidth+'"  marker-end="url(#qc-arrow-head)" />',pe+='<text class="qc-warning-params-h" x="'+(ze-5)+'" y="'+be+'" dominant-baseline="middle" text-anchor="end">(no global params)</text>'}return pe+="</svg>"},m.prototype.exportToQiskit=function(o,f,x,g){var D=(o=o||{}).comment,E=o.decompose,C=o.versionStr,T=o.providerName,j=o.backendName,O=o.asJupyter,I=o.shots,M=o.hybrid;M===void 0&&(M=!!this.options&&!!this.options.hybrid);var F=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"",B=this,j=j||"";(T=T||"Aer")=="Aer"&&((j=j||(M&&0<=F.indexOf("state")?"statevector_simulator":"qasm_simulator"))=="aer_simulator"&&(j="qasm_simulator"),j=="aer_simulator_statevector"&&(j="statevector_simulator")),T=="IONQ"&&(j=j||"ionq_simulator"),I=I||1024;var L=new m;L.load(this.save(E));var R="";D&&(D||"").split(`
`).map(function(qe){1<=qe.length&&qe[0]!="#"&&(R+="# "),R+=qe,R+=`
`});function V(qe,ze){if(qe.isSymbolNode){if(0<=["pi","sin","cos","tan","asin","acos","atan"].indexOf(qe.name))return"np."+qe.name;var Ee=qe.name;if(ze.replaceVars&&ze.replaceVars[Ee]!==void 0)return Ee=ze.replaceVars[Ee],0<=B.params.indexOf(Ee)&&M?"params["+B.params.indexOf(Ee)+"]":Ee;if(0<=B.params.indexOf(qe.name)&&M)return"params["+B.params.indexOf(qe.name)+"]"}}function k(qe,ze){var Ee="",Se=qe.split(`
`),Me=-1;Se.map(function(Xe){var rt=Xe.search(/\S/);0<=rt&&(Me<0||rt<Me)&&(Me=rt)}),Me<0&&(Me=0);var me="";if(Me<ze.length)for(var Ve=0;Ve<ze.length-Me;Ve++)me+=" ";return Se.map(function(Xe){Ee+=me+Xe+`
`}),Ee}if(f){if(R+="def "+f+"(qc",L.params&&L.params.length)for(var U=0;U<L.params.length;U++)R+=", ",R+=L.params[U];for(var G=0;G<L.numQubits;G++)R+=", ",R+=h(G,L.numQubits);R+=`):
`}else if(!x){var H=L.usedGates();R+=`from qiskit import QuantumCircuit, QuantumRegister, ClassicalRegister
`;var X=!1,Z=!1;switch(T){case"Aer":R+="from qiskit import execute, "+T+`
`,M&&0<=F.indexOf("state")&&j!="statevector_simulator"&&(R+=`from qiskit_experiments.library import StateTomography
`);break;case"IBMQ":R+="from qiskit import execute, "+T+`
from qiskit.providers.ibmq import least_busy
`,M&&0<=F.indexOf("state")&&(R+=`from qiskit_experiments.library import StateTomography
`);break;case"IONQ":X=!0,R+=`from qiskit_ionq import IonQProvider
`,M&&0<=F.indexOf("state")&&(R+=`from qiskit_experiments.library import StateTomography
`)}(0<=H.indexOf("ms")||0<=H.indexOf("gpi")||0<=H.indexOf("gpi2"))&&(X=!0,R+=`from qiskit_ionq import GPIGate, GPI2Gate, MSGate
`),X&&(R+=`from qiskit import transpile
`),M&&(R+=`from scipy.optimize import minimize
`,R+=`from collections import Counter
`),R+=`import numpy as np
`,R+=`
`;var J="";switch(T){case"Aer":R+=J+"backend = Aer.get_backend('"+j+`')
`,R+=`
`;break;case"IBMQ":R+=J+`IBMQ.load_account()
`,R+=J+`provider = IBMQ.get_provider(hub="ibm-q", group="open", project="main")
`,j?R+=J+'backend = provider.get_backend("'+j+`")
`:(R+=J+`backends = provider.backends()
`,R+=J+`backend = least_busy(backends)
`),R+=`
`;break;case"IONQ":var ee=["measure","delay","barrier","reset","snapshot","ms","gpi2","gpi"],Z=!0;H.map(function(ze){ee.indexOf(ze)<0&&(Z=!1)}),R+=J+`# Requires QISKIT_IONQ_API_TOKEN environment variable to be set
`,R+=J+`provider = IonQProvider()
`,R+=J+'backend = provider.get_backend("'+j+'"',Z&&(R+=', gateset="native"'),R+=`)

`}I&&(R+="shots = "+I+`
`,R+=`
`);var $=this.options&&this.options.params?this.options.params:{};if(this.params.length){for(G=0;G<this.params.length;G++){var W=this.params[G],Q=p.parse($[W]).toString({handler:V});R+=W+" = "+Q+`
`}R+=`
`}for(var te in M&&(R+="tolerance = "+(this.options&&this.options.hybridOptions&&this.options.hybridOptions.tolerance&&this.options.hybridOptions.tolerance||"0.001")+`
`,R+=`
`),E||H.map(function(qe){var ze,Ee,Se;L.basicGates[qe]||(ze=B.customGates[qe])&&((Ee=new m).load(ze),Se={comment:"",decompose:!0,versionStr:C,providerName:"",backendName:!1,asJupyter:!1,shots:!1,hybrid:null},R+=Ee.exportToQiskit(Se,qe,x,g))}),M&&(J="  ",R+=`def objective_function(params):
`),R+=J+`qc = QuantumCircuit()
`,R+=`
`,R+=J+"q = QuantumRegister("+L.numQubits+`, 'q')
`,this.cregs)R+=J+te+" = ClassicalRegister("+(this.cregs[te].length||1)+", '"+te+`')
`;for(var te in R+=`
`,R+=J+`qc.add_register(q)
`,this.cregs)R+=J+"qc.add_register("+te+`)
`;R+=`
`}for(var ce,oe,ue=L.numCols(),we=0;we<ue;we++)for(var le=0;le<this.numQubits;le++){var fe=L.getGateAt(we,le),ve=null,pe=null;if(fe&&fe.connector==0){var ye=fe.options&&fe.options.condition&&fe.options.condition.creg?fe.options.condition:null;if((de=L.getGateDef(fe.name))&&de.exportInfo&&!Z&&(de.exportInfo.qiskit&&de.exportInfo.qiskit.replacement?(ve=de.exportInfo.qiskit.replacement).map(function(qe){var ze,Ee,Se=new m;fe.options&&fe.options.params&&(ze=Object.keys(fe.options.params),Ee=Object.keys(qe.params),ze.map(function(Me){-1<Ee.indexOf(Me)&&(qe.params[Me]=fe.options.params[Me])})),Se.addGate(qe.name,we,fe.wires,{params:qe.params,condition:ye}),R+=k(Se.exportToQiskit({comment:"",decompose:!1,versionStr:!1,providerName:!1,backendName:!1,asJupyter:!1,shots:!1,hybrid:null},!1,!0,!!f||g),J)}):de.exportInfo.qiskit&&de.exportInfo.qiskit.equivalent&&(pe=de.exportInfo.qiskit.equivalent).map(function(qe){var ze=new m,Ee=1<qe.wires.length?fe.wires:fe.wires[qe.wires[0]],Se={};if(qe.params){var Me={};if(fe.options&&fe.options.params)for(var me in fe.options.params){var Ve=p.parse(fe.options.params[me]).toString({handler:V});Me[me]=Ve}for(var Xe in qe.params)Ve=p.parse(qe.params[Xe]).toString({handler:V,replaceVars:Me}),Se[Xe]=Ve}ze.addGate(qe.name,we,Ee,{params:Se,condition:ye}),R+=k(ze.exportToQiskit({comment:"",decompose:!1,versionStr:!1,providerName:!1,backendName:!1,asJupyter:!1,shots:!1,hybrid:null},!1,!0,!!f||g),J)})),ve||pe||(f||g||M)&&(R+="  "),!ve&&!pe){var Ae=fe.name,be=fe.options&&fe.options.params?fe.options.params:{};j=="statevector_simulator"&&Ae=="measure"&&M&&(R+="# "),this.basicGates[Ae]&&(R+="qc.");var ne=!1,re=!1;(Ae=de&&de.exportInfo&&de.exportInfo.qiskit&&de.exportInfo.qiskit.name?de.exportInfo.qiskit.name:fe.name)=="ms"&&(re=ne=!0,Ae="MSGate"),Ae=="gpi"&&Z&&(re=ne=!0,Ae="GPIGate"),Ae=="gpi2"&&Z&&(re=ne=!0,Ae="GPI2Gate"),ne&&(R+="append("),R+=Ae+"(";var de,Ce=0;if(be&&((de=this.basicGates[fe.name])||(de=this.customGates[fe.name],R+="qc",Ce++),de)){var je=de.params||[],xe=je.length;if(xe){for(var Ie=0;Ie<xe;Ie++){0<Ce&&(R+=", ");var Ne,Be=je[Ie];(be[Be]||be[Be].toString())&&(Ne=p.parse(be[Be]).toString({handler:V}),re&&(Ne="("+Ne+") / (2*np.pi)"),R+=Ne),Ce++}Ae!="cu"||be.gamma||(R+=", 0",Ce++)}}if(ne){Ce&&(R+="), "),R+="[";for(var $e=0;$e<fe.wires.length;$e++)0<$e&&(R+=", "),R+=f||g?h(fe.wires[$e],L.numQubits):fe.wires[$e],Ce++;R+="]"}else for($e=0;$e<fe.wires.length;$e++)0<Ce&&(R+=", "),R+=f||g?h(fe.wires[$e],L.numQubits):"q["+fe.wires[$e]+"]",Ce++;Ae=="measure"&&fe.options&&fe.options.creg&&(0<Ce&&(R+=", "),R+=fe.options.creg.name+"["+fe.options.creg.bit+"]",Ce++),R+=")",fe.options&&fe.options.condition&&fe.options.condition.creg&&(R+=".c_if("+fe.options.condition.creg+", "+fe.options.condition.value+")"),R+=`
`}}}if(!x&&(f?R+=`
`:(R+=`
`,X&&(R+=J+`qc = transpile(qc, backend)
`),J=M?"  ":"",T=="Aer"&&(ce="",ce+=J+"job = execute(qc, backend=backend",I&&(ce+=", shots=shots"),ce+=`)
`,ce+=J+`job_result = job.result()
`,M?(j=="statevector_simulator"?(R+=ce,R+=J+`state = job_result.get_statevector(qc).data
`,R+=`
`):0<=F.indexOf("state")?(R+=J+`qst = StateTomography(qc)
`,R+=J+`qst_analysis = qst.run(backend).block_for_results()
`,R+=J+`density = qst_analysis.analysis_results("state").value
`,R+=J+`state = np.diag(density)
`):(R+=ce,R+=J+`counts = Counter(job_result.get_counts(qc))
`,R+=`
`),F.trim()||(F=`# CALCULATE COST HERE
cost = 0`),R+=k(F,J),R+=`
`,R+=J+`return cost
`):(R+=ce,R+=J+`print(job_result.get_counts(qc))
`)),T=="IBMQ"&&(ce="",ce+=J+"job = execute(qc, backend=backend",I&&(ce+=", shots=shots"),ce+=`)
`,ce+=J+`job_result = job.result()
`,M?(0<=F.indexOf("state")?(R+=J+`qst = StateTomography(qc)
`,R+=J+`qst_analysis = qst.run(backend).block_for_results()
`,R+=J+`density = qst_analysis.analysis_results("state").value
`,R+=J+`state = np.diag(density)
`):(R+=ce,R+=J+`counts = Counter(job_result.get_counts(qc))
`),R+=`
`,F.trim()||(F=`# CALCULATE COST HERE
cost = 0`),R+=k(F,J),R+=`
`,R+=J+`return cost
`):(R+=ce,R+=J+`print(job_result.get_counts(qc))
`)),T=="IONQ"&&(ce="",ce+=J+"job = backend.run(qc",I&&(ce+=", shots=shots"),ce+=`)
`,ce+=J+`job_result = job.result()
`,M?(0<=F.indexOf("state")?(R+=J+`qst = StateTomography(qc)
`,R+=J+`qst_analysis = qst.run(backend).block_for_results()
`,R+=J+`density = qst_analysis.analysis_results("state").value
`,R+=J+`state = np.diag(density)
`):(R+=ce,R+=J+`counts = Counter(job.get_counts())
`,R+=`
`),F.trim()||(F=`# CALCULATE COST HERE
cost = 0`),R+=k(F,J),R+=`
`,R+=J+`return cost
`):(R+=ce,R+=J+`print(job.get_counts())
`)),M&&(oe="",this.params.map(function(qe,ze){0<ze&&(oe+=", "),oe+=qe}),R+=`
`,R+="params = np.array(["+oe+`])
`,R+=`
`,R+='minimum = minimize(objective_function, params, method="'+(this.options&&this.options.hybridOptions&&this.options.hybridOptions.optimizer?this.options.hybridOptions.optimizer:"Powell")+`", tol=tolerance)
`,R+=`print("cost:", minimum.fun, "params:", minimum.x)
`)),O)){var Le={metadata:{kernelspec:{display_name:"Python 3",language:"python",name:"python3"}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:R,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(Le)}return R},m.prototype.exportToQuEST=function(o,f,x){var g=(o=o||{}).comment,D=o.decompose,E=this;x=x||[];var C=null,T=["unitary","controlledUnitary"];(C=new m).load(this.save(D));var O="";g&&(g||"").split(`
`).map(function(Q){2<=Q.length&&Q[0]!="/"&&Q[1]!="/"&&(O+="// "),O+=Q,O+=`
`});for(var I=0;I<this.numQubits;I++)for(var M=this.gates[I],F=0;F<M.length;F++)if((G=M[F])&&this.basicGates[G.name]&&this.basicGates[G.name].exportInfo&&this.basicGates[G.name].exportInfo.quest){var B=this.basicGates[G.name].exportInfo.quest.name;if(x.includes(G.name))continue;(T.includes(B)||this.basicGates[G.name].exportInfo.quest.func)&&x.push(G.name)}if(f){for(O+="Qureg "+f+"(Qureg qubits",I=0;I<C.numQubits;I++)O+=", const int q",O+=I;if(C.params&&C.params.length)for(I=0;I<C.params.length;I++)O+=", double "+C.params[I];O+=`) {
`}else{O+=`#include <math.h>
#include "QuEST.h"

`,O+=`#ifndef M_PI
#define M_PI 3.14159265
#endif

`;var j=[],L=C.usedGates();for(D||L.map(function(Q){var te,ce;C.basicGates[Q]||(te=E.customGates[Q])&&((ce=new m).load(te),j.push(ce.exportToQuEST({comment:"",decompose:!1},Q,x)))}),I=0;I<x.length;I++){var R=x[I];switch(B=this.basicGates[R].exportInfo.quest.name){case"unitary":case"controlledUnitary":matrix=this.basicGates[R].exportInfo.quest.matrix;var V=this.basicGates[R].exportInfo.quest.params;if(O+="void "+R+"(Qureg qubits, const int q",B=="controlledUnitary"&&(O+="1, const int q2"),V)for(F=0;F<V.length;F++)O+=", double "+V[F];O+=`) {
`,O+=`    ComplexMatrix2 u;
`,O+="    u.r0c0 = (Complex) {.real="+matrix[0][0][0]+", .imag= "+matrix[0][0][1]+`};
`,O+="    u.r0c1 = (Complex) {.real="+matrix[0][1][0]+", .imag= "+matrix[0][1][1]+`};
`,O+="    u.r1c0 = (Complex) {.real="+matrix[1][0][0]+", .imag= "+matrix[1][0][1]+`};
`,O+="    u.r1c1 = (Complex) {.real="+matrix[1][1][0]+", .imag= "+matrix[1][1][1]+`};
`,O+="    "+B+"(qubits, q",B=="controlledUnitary"&&(O+="1, q2"),O+=`, u);
}

`;break;default:O+=this.basicGates[R].exportInfo.quest.func+`

`}}for(I=0;I<j.length;I++)O+=j[I];O+=`int main(int argc, char *argv[]) {
`,O+=`    QuESTEnv env = createQuESTEnv();
`,O+="    Qureg qubits = createQureg("+C.numQubits+`, env);
`,O+="    int measured["+C.numQubits+`];

`}O+=`
`;for(var k=C.numCols(),U=0;U<k;U++)for(var G,H=0;H<this.numQubits;H++)if((G=C.getGateAt(U,H))&&G.connector==0){G.options&&G.options.condition&&G.options.condition.creg&&(O+="if("+G.options.condition.creg+"=="+G.options.condition.value+`) {
`);var R=G.name,X=G.options&&G.options.params?G.options.params:{},Z=this.basicGates[R];if(R=="measure")O+="    measured["+G.wires[0]+"] = measure(qubits, "+G.wires[0];else if(Z){B=Z.exportInfo.quest.name,V=Z.exportInfo.quest.params,T.includes(B)?O+="    "+R+"(qubits":O+="    "+B+"(qubits";for(var J=0;J<G.wires.length;J++)O+=f?", q"+G.wires[J]:", "+G.wires[J];if(V)switch(B){case"compactUnitary":O+=", "+V.alpha,O+=", "+V.beta;break;case"phaseShift":case"controlledPhaseShift":V.theta&&(O+=", "+V.theta)}}else for(Z=this.customGates[R],O+="    qubits = "+R+"(qubits",J=0;J<G.wires.length;J++)O+=", "+G.wires[J];if(X&&(Z=(Z=this.basicGates[R])||this.customGates[R])){var ee=Z.params||[],$=ee.length;if($)for(var W=0;W<$;W++)O+=", "+X[ee[W]]}O+=`);
`,G.options&&G.options.condition&&G.options.condition.creg&&(O+=`}
`)}return f?O+=`
    return qubits;
}

`:(O+=`
    destroyQureg(qubits, env);
`,O+=`    destroyQuESTEnv(env);
`,O+=`    return 0;
}
`),O},m.prototype.exportToQASM=function(o,f,x,g){function D(we,le){if(we.isSymbolNode){var fe=we.name;if(le.replaceVars&&le.replaceVars[fe]!==void 0)return fe=le.replaceVars[fe],!T&&0<=O.params.indexOf(fe)?"("+I[fe]+")":"("+fe+")";if(!T&&0<=O.params.indexOf(we.name))return I[we.name]}}var E=(o=o||{}).comment,C=o.decompose,T=o.compatibilityMode,O=this,I=this.options&&this.options.params?this.options.params:{},M=null;(M=new m).load(this.save(C));var F="";if(E&&(E||"").split(`
`).map(function(we){2<=we.length&&we[0]!="/"&&we[1]!="/"&&(F+="// "),F+=we,F+=`
`}),f){if(F+="gate "+f,M.params&&M.params.length){F+="(";for(var B=0;B<M.params.length;B++)0<B&&(F+=", "),F+=M.params[B];F+=")"}for(var j=0;j<M.numQubits;j++)j==0&&(F+=" "),0<j&&(F+=", "),F+=h(j,M.numQubits);F+=`
{
`}else if(!x){for(var L in F+=`OPENQASM 2.0;
`,F+=`include "qelib1.inc";
`,F+="qreg q["+M.numQubits+`];
`,M.cregs)F+="creg "+L+"["+(M.cregs[L].length||1)+`];
`;var R=M.usedGates();C||R.map(function(we){var le,fe,ve;M.basicGates[we]||(le=O.customGates[we])&&((fe=new m).load(le),ve={comment:"",decompose:!1,compatibilityMode:T},F+=fe.exportToQASM(ve,we,!1,!1))})}for(var V=M.numCols(),k=0;k<V;k++)for(var U=0;U<M.numQubits;U++){var G=M.getGateAt(k,U),H=null,X=null;if(G&&G.connector==0){var Z=G.name;if(T||(J=M.getGateDef(G.name))&&J.exportInfo&&(J.exportInfo.qasm&&J.exportInfo.qasm.name?Z=J.exportInfo.qasm.name:J.exportInfo.qasm&&J.exportInfo.qasm.replacement?(H=J.exportInfo.qasm.replacement).map(function(we){var le,fe,ve=new m;ve.cregs=JSON.parse(JSON.stringify(O.cregs)),G.options&&G.options.params&&(le=Object.keys(G.options.params),fe=Object.keys(we.params),le.map(function(Ae){0<=fe.indexOf(Ae)&&(we.params[Ae]=G.options.params[Ae])}));var pe=G.options&&G.options.condition?G.options.condition:{};ve.addGate(we.name,k,G.wires,{params:we.params,condition:pe});var ye={comment:"",decompose:!1,compatibilityMode:T};F+=ve.exportToQASM(ye,!1,!0,!!f||g)}):J.exportInfo.qasm&&J.exportInfo.qasm.equivalent&&(X=J.exportInfo.qasm.equivalent).map(function(we){var le=new m;le.cregs=JSON.parse(JSON.stringify(O.cregs));var fe=1<we.wires.length?G.wires:G.wires[we.wires[0]],ve={};if(we.params){var pe={};if(G.options&&G.options.params)for(var ye in G.options.params){var Ae=p.parse(G.options.params[ye]).toString({handler:D});pe[ye]=Ae}for(var be in we.params)Ae=p.parse(we.params[be]).toString({handler:D,replaceVars:pe}),ve[be]=Ae}var ne=G.options&&G.options.condition?G.options.condition:{};le.addGate(we.name,k,fe,{params:ve,condition:ne});var re={comment:"",decompose:!1,compatibilityMode:T};F+=le.exportToQASM(re,"",!0,!!f||g)})),H||X||((f||g)&&(F+="  "),G.options&&G.options.condition&&G.options.condition.creg&&(F+="if("+G.options.condition.creg+"=="+G.options.condition.value+") ")),!H&&!X||T){var J,ee=G.name,$=G.options&&G.options.params?G.options.params:{};if(F+=T?G.name:Z,$&&(J=(J=M.basicGates[ee])||M.customGates[ee])){var W=J.params||[],Q=W.length;if(Q){F+=" (";for(var te=0;te<Q;te++){0<te&&(F+=", ");var ce=W[te],oe=$[ce];f||g||T||(oe=p.parse($[ce]).toString({handler:D})),F+=oe}F+=")"}}for(var ue=0;ue<G.wires.length;ue++)0<ue&&(F+=","),F+=f||g?" "+h(G.wires[ue],M.numQubits):" q["+G.wires[ue]+"]";ee=="measure"&&G.options&&G.options.creg&&(F+=" -> ",F+=G.options.creg.name+"["+G.options.creg.bit+"]"),F+=`;
`}}}return f&&(F+=`}

`),F},m.prototype.exportToPyquil=function(o,f){var x=(o=o||{}).comment,g=o.decompose,D=o.versionStr,E=o.lattice,C=o.asQVM,T=o.asJupyter,O=o.shots,I=o.hybrid,M=this,F=parseFloat(D||"2.12");isNaN(F)&&(F=2.1),O=O||1024,I===void 0&&(I=!!this.options&&!!this.options.hybrid);var B=new m;B.load(this.save(g));function j(it,dt){if(it.isSymbolNode){if(0<=["pi","sin","cos","tan","asin","acos","atan"].indexOf(it.name))return"np."+it.name;if(0<=M.params.indexOf(it.name)&&I)return"params["+M.params.indexOf(it.name)+"]"}}function L(it,dt){var ft="",yt=it.split(`
`),bt=-1;yt.map(function(Tt){var kt=Tt.search(/\S/);0<=kt&&(bt<0||kt<bt)&&(bt=kt)}),bt<0&&(bt=0);var wt="";if(bt<dt.length)for(var xt=0;xt<dt.length-bt;xt++)wt+=" ";return yt.map(function(Tt){ft+=wt+Tt+`
`}),ft}var R="",V=[],k="",U="",G="",H=B.usedGates(),X=B.gotMeasurement(),Z=[],J=[];H.map(function(it){var dt,ft,yt,bt,wt=B.basicGates[it];wt&&(wt.exportInfo&&wt.exportInfo.pyquil?(ft=wt.exportInfo.pyquil).array?(dt="",ft.params&&(dt+=", [",ft.params.map(function(xt,Tt){0<Tt&&(dt+=", "),dt+="p_"+xt;var kt="p_"+xt+" = Parameter('"+xt+"')";V.indexOf(kt)<0&&V.push(kt)}),dt+="]"),U+="p.inst("+ft.name+`_defgate)
`,G+=ft.name+"_array = np.array("+ft.array+`)
`,k+=ft.name+"_defgate = DefGate('"+ft.name+"', "+ft.name+"_array"+dt+`)
`,k+=ft.name+" = "+ft.name+`_defgate.get_constructor()
`,Z.push(ft.name)):(yt="",ft.replacement?(bt=B.basicGates[ft.replacement.name])&&bt.exportInfo&&(bt.exportInfo.pyquil?yt=bt.exportInfo.pyquil.name:bt.exportInfo.quil&&(yt=bt.exportInfo.quil.name)):yt=ft.name,yt&&(R&&(R+=", "),R+=yt)):wt.exportInfo&&wt.exportInfo.quil&&((ft=wt.exportInfo.quil).defgate||(yt="",ft.replacement?(bt=B.basicGates[ft.replacement.name])&&bt.exportInfo&&(bt.exportInfo.pyquil?yt=bt.exportInfo.pyquil.name:bt.exportInfo.quil&&(yt=bt.exportInfo.quil.name)):yt=ft.name,yt&&(R&&(R+=", "),R+=yt))))});var ee=B.gotClassicalControl();ee&&(R&&(R+=", "),R+=F<2?"FALSE, NOT, OR, AND":"MOVE, NOT, IOR, AND");var $="";k&&($=F<2.12?`from pyquil.parameters import Parameter, quil_sin, quil_cos, quil_sqrt, quil_exp, quil_cis
from pyquil.quilbase import DefGate`:`from pyquil.quilatom import Parameter, quil_sin, quil_cos, quil_sqrt, quil_exp, quil_cis
from pyquil.quilbase import DefGate`);var W="";x&&(x||"").split(`
`).map(function(it){1<=it.length&&it[0]!="#"&&(W+="# "),W+=it,W+=`
`});var Q,te="";if(f){for(var ce="",oe=0,ue=0;ue<B.params.length;ue++)0<oe&&(ce+=", "),ce+=B.params[ue],oe++;for(ue=0;ue<B.numQubits;ue++)0<oe&&(ce+=", "),ce+="q"+ue,oe++;W+="def "+f+(ce?"("+ce+")":"")+`:
`,te="  "}else{F<2?(W+=`from pyquil.api import QVMConnection
`,W+=`from pyquil.quil import Program
`):W+=`from pyquil import Program, get_qc
`,R&&(W+="from pyquil.gates import "+R+`
`),$&&(W+=$+`
`),W+=`from functools import reduce
`,I&&(W+=`from scipy.optimize import minimize
`,W+=`from collections import Counter
`),W+=`import numpy as np
`,O&&(W+=`
`,W+="shots = "+O+`
`);var we=this.options&&this.options.params?this.options.params:{};if(this.params.length){for(W+=`
`,ue=0;ue<this.params.length;ue++){var le=this.params[ue],fe=(Xe=p.parse(we[le])).toString({handler:j});W+=le+" = "+fe+`
`}W+=`
`}I&&(W+="tolerance = "+(this.options&&this.options.hybridOptions&&this.options.hybridOptions.tolerance&&this.options.hybridOptions.tolerance||"0.001")+`
`,W+=`
`),k&&(V.map(function(it,dt){dt==0&&(W+=`
`),W+=it+`
`}),W+=`
`,W+=G+`
`,W+=`
`,W+=k+`
`),W+=`
`,H=B.usedGates(),g||H.map(function(it){var dt,ft,yt;B.basicGates[it]||(dt=M.customGates[it])&&((ft=new m).load(dt),yt={comment:"",decompose:!1,versionStr:D},W+=ft.exportToPyquil(yt,it),J.push(it))})}I&&(te+="  ",W+=`def objective_function(params):
`),2<=F&&!f?(W+=C||E?te+`p = Program('PRAGMA INITIAL_REWIRING "PARTIAL"')

`:te+`p = Program()

`,Q=B.cregTotalBits(),ee&&(Q+=1),Q&&(W+=te+"ro = p.declare('ro', memory_type='BIT', memory_size="+Q+`)
`,W+=`
`)):W+=te+`p = Program()

`,W+=U?te+U+`
`:"";for(var ve,pe,ye,Ae=0;Ae<B.numCols();Ae++)for(var be=0;be<B.numQubits;be++){var ne=B.getGateAt(Ae,be);if(ne&&ne.connector==0){var re=B.getGateDef(ne.name),de=ne.options&&ne.options.params?ne.options.params:{},Ce=null;if(re){re.exportInfo&&(re.exportInfo.pyquil&&re.exportInfo.pyquil.replacement?(re.exportInfo.pyquil.replacement.params&&(de=re.exportInfo.pyquil.replacement.params),re=B.getGateDef(re.exportInfo.pyquil.replacement.name)):re.exportInfo.quil&&re.exportInfo.quil.replacement&&(re.exportInfo.quil.replacement.params&&(de=re.exportInfo.quil.replacement.params),re=B.getGateDef(re.exportInfo.quil.replacement.name)),re&&re.exportInfo&&(re.exportInfo.pyquil?Ce=re.exportInfo.pyquil:re.exportInfo.quil&&(Ce=re.exportInfo.quil)));var je=!1,xe=(Ce?(je=0<=Z.indexOf(Ce.name),J.indexOf(Ce.name)):(je=0<=Z.indexOf(ne.name),J.indexOf(ne.name)),!1);if(ne.options&&ne.options.condition&&ne.options.condition.creg){xe=!0,W+=`
`;var Ie=M.cregTotalBits(),Ne=ne.options.condition,Be=Ne.value||0,$e=M.cregBase(Ne.creg);if(Be==0){var Le=M.cregs[Ne.creg].length;if(F<2){W+=te+"p.inst(FALSE("+Ie+`))
`;for(var qe=0;qe<Le;qe++)W+=te+"p.inst(OR("+(qe+$e)+", "+Ie+`))
`;W+=te+"p.inst(NOT("+Ie+`))
`,W+=te+"p.if_then("+Ie+", Program("}else{for(W+=te+"p.inst(MOVE(ro["+Ie+`], 0))
`,qe=0;qe<Le;qe++)W+=te+"p.inst(IOR(ro["+Ie+"], ro["+(qe+$e)+`]))
`;W+=te+"p.inst(NOT(ro["+Ie+`]))
`,W+=te+"p.if_then(ro["+Ie+"], Program("}}else{var ze,Ee=Be.toString(2).split("").reverse(),Se=0,Me=0;Ee.map(function(it,dt){var ft=parseInt(it);(Ee[dt]=ft)&&(Se++,Me=dt)}),Se==1?W+=F<2?te+"p.if_then("+(Me+$e)+", Program(":te+"p.if_then(ro["+(Me+$e)+"], Program(":F<2?(W+=te+"p.inst(FALSE("+Ie+`))
`,ze=!0,Ee.map(function(it,dt){it&&(ze?(ze=!1,W+=te+"p.inst(OR("+(dt+$e)+", "+Ie+`))
`):W+=te+"p.inst(AND("+(dt+$e)+", "+Ie+`))
`)}),W+=te+"p.if_then("+Ie+", Program("):(W+=te+"p.inst(MOVE(ro["+Ie+`], 0))
`,ze=!0,Ee.map(function(it,dt){it&&(ze?(ze=!1,W+=te+"p.inst(IOR(ro["+Ie+"], ro["+(dt+$e)+`]))
`):W+=te+"p.inst(AND(ro["+Ie+"], ro["+(dt+$e)+`]))
`)}),W+=te+"p.if_then(ro["+Ie+"], Program(")}}else W+=te+"p.inst(";W+=Ce?Ce.name:ne.name;var me=!1;if(Ce&&Ce.params&&Ce.params.length){oe=0,W+="(",me=!0;for(var Ve=0;Ve<Ce.params.length;Ve++)0<oe&&(W+=", "),de[Ce.params[Ve]]!==void 0&&(Xe=p.parse(de[Ce.params[Ve]]),W+=Xe.toString({handler:j})),oe++;W+=F<2||je?")":", "}else if(re&&re.params&&re.params.length){oe=0,W+="(",me=!0;for(var Xe,Ve=0;Ve<re.params.length;Ve++)0<oe&&(W+=", "),de[re.params[Ve]]!==void 0&&(Xe=p.parse(de[re.params[Ve]]),W+=Xe.toString({handler:j})),oe++;W+=F<2||je?")":", "}if(ne.wires.length){oe=0,(F<2||!me||je)&&(W+="(",me=!0);for(var rt,lt=0;lt<ne.wires.length;lt++)0<oe&&(W+=", "),W+=f?"q"+ne.wires[lt]:""+ne.wires[lt],oe++;ne.name=="measure"&&ne.options&&ne.options.creg&&(rt=parseInt(ne.options.creg.bit)||0,isNaN(rt)&&(rt=0),0<oe&&(W+=", "),W+=F<2?rt+M.cregBase(ne.options.creg.name):"ro["+(rt+M.cregBase(ne.options.creg.name))+"]",oe++),W+=")"}W+=")",xe&&(W+=`)
`),W+=`
`}else W+=te+'# Export to pyquil WARNING: unknown gate "'+ne.name+'".'}}if(f?(W+=te+`return p
`,W+=`
`):(W+=`
`,F<2?(W+=te+`qvm = QVMConnection()
`,I?(W+=`
`,W+=te+`# CALCULATE COST HERE
`,(ve=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"").trim()||(ve="cost = 0"),W+=L(ve,te),W+=`
`,W+=te+`return cost
`):W+=te+`print(qvm.run(p))
`):(O&&(W+=te+`p.wrap_in_numshots_loop(shots)
`,W+=`
`),pe=(pe=E)||(F<2.1?this.numQubits+"q-generic-qvm":this.numQubits+"q-qvm"),W+=te+"qc = get_qc('"+pe+"'"+(E?", as_qvm="+(C?"True":"False"):"")+`)
`,E?(W+=te+`ep = qc.compile(p)
`,X?(W+=te+`results_list = qc.run(ep).readout_data.get("ro")
`,W+=te+`results = list(map(lambda arr: reduce(lambda x, y: str(x) + str(y), arr[::-1], ""), results_list))
`,I?(W+=te+`counts = Counter(dict(zip(results,[results.count(i) for i in results])))
`,W+=`
`,W+=te+`# CALCULATE COST HERE
`,(ve=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"").trim()||(ve="cost = 0"),W+=L(ve,te),W+=`
`,W+=te+`return cost
`):(W+=te+`counts = dict(zip(results,[results.count(i) for i in results]))
`,W+=te+`print(counts)
`)):I?(W+=te+`counts = Counter(dict(zip(results,[results.count(i) for i in results])))
`,W+=`
`,W+=te+`# CALCULATE COST HERE
`,(ve=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"").trim()||(ve="cost = 0"),W+=L(ve,te),W+=`
`,W+=te+`return cost
`):W+=te+`print(qc.run(ep).readout_data.get("ro"))
`):X?(W+=te+`results_list = qc.run(p).readout_data.get("ro")
`,W+=te+`results = list(map(lambda arr: reduce(lambda x, y: str(x) + str(y), arr[::-1], ""), results_list))
`,I?(W+=te+`counts = Counter(dict(zip(results,[results.count(i) for i in results])))
`,W+=`
`,W+=te+`# CALCULATE COST HERE
`,(ve=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"").trim()||(ve="cost = 0"),W+=L(ve,te),W+=`
`,W+=te+`return cost
`):(W+=te+`counts = dict(zip(results,[results.count(i) for i in results]))
`,W+=te+`print(counts)
`)):(W+=te+`results_list = qc.run(p).readout_data.get("ro")
`,W+=te+`results = list(map(lambda arr: reduce(lambda x, y: str(x) + str(y), arr[::-1], ""), results_list))
`,I?(W+=te+`counts = Counter(dict(zip(results,[results.count(i) for i in results])))
`,W+=`
`,W+=te+`# CALCULATE COST HERE
`,(ve=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"").trim()||(ve="cost = 0"),W+=L(ve,te),W+=`
`,W+=te+`return cost
`):W+=te+`print(results)
`)),I&&(ye="",this.params.map(function(it,dt){0<dt&&(ye+=", "),ye+=it}),W+=`
`,W+="params = np.array(["+ye+`])
`,W+=`
`,W+='minimum = minimize(objective_function, params, method="'+(this.options&&this.options.hybridOptions&&this.options.hybridOptions.optimizer?this.options.hybridOptions.optimizer:"Powell")+`", tol=tolerance)
`,W+=`print("cost:", minimum.fun, "params:", minimum.x)
`)),T){var nt={metadata:{kernelspec:{display_name:"Python 3",language:"python",name:"python3"}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:W,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(nt)}return W},m.prototype.exportToQuil=function(o,f){var x=(o=o||{}).comment,g=o.versionStr,D=this,E=parseFloat(g||"2.0");isNaN(E)&&(E=2);var C=new m;C.load(this.save(!0));var T="";x&&(x||"").split(`
`).map(function(ne){1<=ne.length&&ne[0]!="#"&&(T+="# "),T+=ne,T+=`
`}),C.usedGates().map(function(ne){var re=C.basicGates[ne];re&&re.exportInfo&&re.exportInfo.quil&&re.exportInfo.quil.defgate&&(T+=re.exportInfo.quil.defgate,T+=`

`)});var O,I=this.gotClassicalControl(),M="";if(f){var F="";if(C.params.length){F+="(";for(var B=0;B<C.params.length;B++)0<B&&(F+=", "),F+="%"+C.params[B];F+=")"}for(var j="",B=0;B<C.numQubits;B++)0<B&&(j+=" "),j+="q"+B;T+="DEFCIRCUIT "+f+(F?" "+F:"")+(j?" "+j:"")+`:
`,M="    "}else{T+=`
`,2<=E&&(O=C.cregTotalBits(),I&&(O+=1),O&&(T+="DECLARE ro BIT["+O+`]
`));var L=this.options&&this.options.params?this.options.params:{};if(this.params.length){for(T+=`
`,B=0;B<this.params.length;B++){var R=this.params[B];(ye=p.parse(L[R])).toString({handler:V}),T+="DECLARE "+R+` REAL[1]
`}T+=`
`}C.usedGates()}for(var V=function(ne,re){if(ne.isSymbolNode&&0<=C.params.indexOf(ne.name))return"%"+ne.name},k=1,U=0;U<C.numCols();U++)for(var G=0;G<C.numQubits;G++){var H=C.getGateAt(U,G);if(H&&H.connector==0){var X=C.getGateDef(H.name),Z=H.options&&H.options.params?H.options.params:{},J=null;if(X){X.exportInfo&&(X.exportInfo.quil&&X.exportInfo.quil.replacement&&(X.exportInfo.quil.replacement.params&&(Z=X.exportInfo.quil.replacement.params),X=C.getGateDef(X.exportInfo.quil.replacement.name)),J=X&&X.exportInfo&&X.exportInfo.quil?X.exportInfo.quil:null);var ee=!1;if(H.options&&H.options.condition&&H.options.condition.creg){ee=!0,T+=`
`;var $=D.cregTotalBits(),W=H.options.condition,Q=W.value||0,te=D.cregBase(W.creg);if(Q==0){var ce=D.cregs[W.creg].length;if(E<2){T+=M+"FALSE ["+$+`]
`;for(var oe=0;oe<ce;oe++)T+=M+"OR ["+(oe+te)+"] ["+$+`]
`;T+=M+"NOT ["+$+`]
`,T+="JUMP-WHEN @THEN"+k+" ["+$+`]
`,T+="JUMP @END"+(k+1)+`
`,T+="LABEL @THEN"+k+`
`}else{for(T+=M+"FALSE ro["+$+`]
`,oe=0;oe<ce;oe++)T+=M+"OR ro["+(oe+te)+"] ro["+$+`]
`;T+=M+"NOT ro["+$+`]
`,T+="JUMP-WHEN @THEN"+k+" ro["+$+`]
`,T+="JUMP @END"+(k+1)+`
`,T+="LABEL @THEN"+k+`
`}}else{var ue,we=Q.toString(2).split("").reverse(),le=0,fe=0;we.map(function(ne,re){var de=parseInt(ne);(we[re]=de)&&(le++,fe=re)}),le==1?T+=E<2?"JUMP-WHEN @THEN"+k+" ["+(fe+te)+`]
`:"JUMP-WHEN @THEN"+k+" ro["+(fe+te)+`]
`:E<2?(T+=M+"FALSE ["+$+`]
`,ue=!0,we.map(function(ne,re){ne&&(ue?(ue=!1,T+=M+"OR ["+(re+te)+"] ["+$+`]
`):T+=M+"AND ["+(re+te)+"] ["+$+`]
`)}),T+="JUMP-WHEN @THEN"+k+" ["+$+`]
`):(T+=M+"FALSE ro["+$+`]
`,ue=!0,we.map(function(ne,re){ne&&(ue?(ue=!1,T+=M+"OR ro["+(re+te)+"] ro["+$+`]
`):T+=M+"AND ro["+(re+te)+"] ro["+$+`]
`)}),T+="JUMP-WHEN @THEN"+k+" ro["+$+`]
`),T+="JUMP @END"+(k+1)+`
`,T+="LABEL @THEN"+k+`
`}}T+=J?M+J.name:M+H.name,T+=" ";var ve=0;if(J&&J.params&&J.params.length){T+="(";for(var pe=0;pe<J.params.length;pe++)0<ve&&(T+=", "),Z[J.params[pe]]!==void 0&&(ye=p.parse(Z[J.params[pe]]),T+=ye.toString({handler:V})),ve++;T+=")"}else if(X&&X.params&&X.params.length){T+="(";for(var ye,pe=0;pe<X.params.length;pe++)0<ve&&(T+=", "),Z[X.params[pe]]!==void 0&&(ye=p.parse(Z[X.params[pe]]),T+=ye.toString({handler:V})),ve++;T+=")"}for(var Ae,be=0;be<H.wires.length;be++)0<ve&&(T+=" "),T+=f?"q"+H.wires[be]:""+H.wires[be],ve++;H.name=="measure"&&H.options&&H.options.creg&&(Ae=parseInt(H.options.creg.bit)||0,isNaN(Ae)&&(Ae=0),0<ve&&(T+=" "),T+=E<2?"["+(Ae+D.cregBase(H.options.creg.name))+"]":"ro["+(Ae+D.cregBase(H.options.creg.name))+"]",ve++),T+=`
`,ee&&(T+="LABEL @END"+(k+1)+`
`,T+=`
`,k+=2)}else console.log("unknown gate",H.name)}}return f&&(T+=`
`),T},m.prototype.exportToAQASM=function(o,f,x,g){var D=this,E=(o=o||{},o.decompose),C=o.asJupyter,O=o.shots,T=!!f&&o.hybrid,M=null,F=null,O=O||1024;T===void 0&&(T=!!this.options&&!!this.options.hybrid);var I=this.save(!!E),M=new m,F=new m;M.load(I),F.load(I);function B(Ie,Ne){if(Ie.isSymbolNode){if(0<=["pi"].indexOf(Ie.name))return"np."+Ie.name;var Be=Ie.name;if(Ne.replaceVars&&Ne.replaceVars[Be]!==void 0)return Be=Ne.replaceVars[Be],0<=D.params.indexOf(Be)?"("+oe[Be]+")":"("+Be+")";if(0<=D.params.indexOf(Ie.name))return oe[Ie.name]}}function j(Ie){for(var Ne="",Be=0;Be<Ie;Be++)Ne+="    ";return Ne}g=g||0;var L=[];if(!f){if(!E){for(var R=F.numCols()-1;0<=R;R--)for(var V=0;V<F.numQubits;V++)if((ye=F.gates[V][R])&&ye.connector==0&&!F.basicGates[ye.name]){customDecomposedCircuit=F.decomposeGateAt(R,V);for(var k=0;k<customDecomposedCircuit.numCols();k++)for(var U=0;U<customDecomposedCircuit.numQubits;U++){var G=customDecomposedCircuit.getGateAt(k,U);G&&G.connector==0&&L.push(G),M.gates.map(function(Ie,Ne){Ie.map(function(Be){Be&&Be.name==ye.name&&M.removeGate(Be.id)})})}}}L.map(function(Ie){Ie&&M.insertGate(Ie.name,Ie.column,Ie.wires,Ie.options)})}var H="",X=j(g),Z=M.usedGates(),J=M.numQubits;if(f)if(x){for(var ee="",$=0,W=0;W<M.params.length;W++)0<$&&(ee+=", "),ee+=M.params[W],$++;for(W=0;W<M.numQubits;W++)0<$&&(ee+=", "),ee+=h(W,M.numQubits),$++}else{H+=X+`from qat.lang.AQASM import *
`,H+=X+`from qat.qpus import get_default_qpu
`,H+=X+`from collections import Counter
`,T&&(H+=X+`from scipy.optimize import minimize
`),H+=X+`import numpy as np
`,H+=`
`;var Q="",te=0;for(var ce in Z.map(function(Ie){var Ne,Be=M.basicGates[Ie];if(Be){if(!E&&M.basicGates[Ie].exportInfo.aqasm&&M.basicGates[Ie].exportInfo.aqasm.array){unsupportedAqasmInfo=M.basicGates[Ie].exportInfo.aqasm,gateUnitary=Ie+"_gate",H+=X+"def "+gateUnitary+"(",unsupportedAqasmInfo.params&&unsupportedAqasmInfo.params.length&&(Ne=0,unsupportedAqasmInfo.params.map(function(Ee){0<Ne&&(H+=", "),H+=X+"p_"+Ee,Ne++})),H+=`):
`,H+=j(g+1)+"return np.array("+unsupportedAqasmInfo.array+`)

`,Q+=Ie+' = AbstractGate("'+Ie+'", [';var $e=0;if(unsupportedAqasmInfo.params)for(var Le=0;Le<unsupportedAqasmInfo.params.length;Le++)0<$e&&(Q+=", "),Q+="float",$e++;Be.matrix&&(arity=p.log2(Be.matrix.length)),Q+="], matrix_generator="+gateUnitary+", arity="+arity+`)
`}}else{var qe,ze=D.customGates[Ie];ze&&((qe=new m).load(ze),H+=qe.exportToAQASM({comment:"",decompose:!0,asJupyter:!1,shots:null,hybrid:!1},f,Ie,g),te++)}}),H+=Q,H+=`
`,O&&(H+=X+"shots = "+O+`
`,H+=`
`),H+=X+`program = Program()
`,H+=X+"qubits_reg = program.qalloc("+M.numQubits+`)
`,M.cregs)H+=X+ce+" = program.calloc("+M.cregs[ce].length+`)
`;H+=`
`;var oe=this.options&&this.options.params?this.options.params:{};if(this.params.length){for(W=0;W<this.params.length;W++){var ue=this.params[W],we=p.parse(oe[ue]).toString({handler:B});H+=ue+" = "+we+`
`}H+=`
`}T&&(H+=X+"tolerance = "+(this.options&&this.options.hybridOptions&&this.options.hybridOptions.tolerance&&this.options.hybridOptions.tolerance||"0.001")+`
`,H+=`
`)}else if(H+=X+`BEGIN
`,H+=X+"qubits "+J+`
`,M.cregs){var le=0;for(var fe in M.cregs)le+=M.cregs[fe].length;H+=X+"cbits "+le+`
`}x?(H+="def "+x+(ee?"("+ee+")":"")+`:
`,X=j(++g),H+=X+`circuit = QRoutine()
`):T&&(H+=`def objective_function(params):
`,X=j(++g)),x||te&&(H+=`
`,Z.map(function(Ie){!M.basicGates[Ie]&&M.customGates[Ie]&&(H+=X+Ie+"(")}));for(var ve,pe,R=0;R<M.numCols();R++)for(var ye,V=0;V<M.numQubits;V++)if((ye=M.getGateAt(R,V))&&ye.connector==0){var Ae=M.getGateDef(ye.name),be="";if(ye.options&&ye.options.params&&(gateParams=ye.options.params),ye.name=="measure"&&(be+=f?"program.measure":"MEAS"),ye.name=="reset"&&(be+=f?"program.reset":"RESET"),Ae&&Ae.exportInfo){if(Ae.exportInfo.aqasm){var ne=Ae.exportInfo.aqasm,re="";if(ne.name)Ae.params.length?Ae.params.map(function(Be){var $e=p.parse(gateParams[Be]).toString({handler:B});re=ne.name,re+=f?"("+$e+")":"["+$e+"]"}):re+=ne.name,ne.controlled&&ne.dagger?be+=f?re+".dag().ctrl()":"CTRL(DAG("+re+"))":ne.controlled?be+=f?re+".ctrl()":"CTRL("+re+")":ne.dagger?be+=f?re+".dag()":"DAG("+re+")":be+=re;else if(ne.matrix)if(f){be+=ye.name+"(";var de=0;Ae.params.map(function(Be){0<de&&(be+=", ");var $e=p.parse(gateParams[Be]).toString({handler:B});be+=$e,de++}),be+=")"}else{be="[";for(var Ce=0;Ce<ne.matrix.length;Ce++){for(row=ne.matrix[Ce],be+="[",W=0;W<row.length;W++)be+="(",row_element=row[W],ne.params&&ne.params.map(function(Be){var $e=gateParams[Be];0<row_element.toString().indexOf(Be)&&(row_element=row_element.replace(Be,$e))}),evaluated_expression=p.evaluate(row_element,D.options.params),matrix_element=p.complex(evaluated_expression),matrix_element_real=matrix_element.re,matrix_element_im=matrix_element.im,be+=matrix_element_real+", "+matrix_element_im+")",W<row.length-1&&(be+=" ");be+="]",Ce<ne.matrix.length-1&&(be+=" ")}be+="]"}}H+=X+be,H+=f?"(":" "}for(var $=0,je=0;je<ye.wires.length;je++)0<$&&(H+=", "),H+=f?x?h(ye.wires[je],M.numQubits):"qubits_reg["+ye.wires[je]+"]":"q["+ye.wires[je]+"]",$+=1;ye.options&&ye.options.creg&&(H+=", "+ye.options.creg.name+"["+ye.options.creg.bit+"]"),f&&(H+=")"),H+=`
`}if(x&&(H+=X+`return circuit

`),f?x||(H+=X+`
`,H+=X+`circuit = program.to_circ()
`,H+=X+`job = circuit.to_job(nbshots=shots, aggregate_data=False)
`,H+=X+`qpu = get_default_qpu()
`,H+=X+`job_result = qpu.submit(job)
`,H+=X+`counts = Counter()

`,H+=X+`for state in job_result:
`,H+=X+`    string_state = str(state.state)
`,H+=X+`    string_state = string_state[string_state.find('|') + 1: string_state.find('>')]
`,H+=X+`    string_state = string_state[::-1]
`,H+=X+`    counts[string_state] += 1

`,T?(H+=X+`# CALCULATE COST HERE
`,(ve=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"").trim()||(ve="cost = 0"),H+=function(Ie,Ne){var Be="",$e=Ie.split(`
`),Le=-1;$e.map(function(Ee){var Se=Ee.search(/\S/);0<=Se&&(Le<0||Se<Le)&&(Le=Se)}),Le<0&&(Le=0);var qe="";if(Le<Ne.length)for(var ze=0;ze<Ne.length-Le;ze++)qe+=" ";return $e.map(function(Ee){Be+=qe+Ee+`
`}),Be}(ve,X),H+=`
`,H+=X+`return cost
`,X=j(--g),T&&(pe="",this.params.map(function(Ie,Ne){0<Ne&&(pe+=", "),pe+=Ie}),H+=`
`,H+="params = np.array(["+pe+`])
`,H+=`
`,H+='minimum = minimize(objective_function, params, method="'+(this.options&&this.options.hybridOptions&&this.options.hybridOptions.optimizer?this.options.hybridOptions.optimizer:"Powell")+`", tol=tolerance)
`,H+=`print("cost:", minimum.fun, "params:", minimum.x)
`)):H+=X+"print(counts)"):H+="END",C&&f){var xe={metadata:{kernelspec:{display_name:"Python 3",language:"python",name:"python3"}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:H,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(xe)}return H},m.prototype.exportAQASM=function(o,f,x,g,D,E,C,T){var O={comment:o,decompose:f,asJupyter:D,shots:E,hybrid:C};return this.exportToAQASM(O,x,g,T)},m.prototype.exportToPyAQASM=function(o,f){return this.exportToAQASM(o,!0,f)},m.prototype.exportPyAQASM=function(o,f,x,g,D,E){var C={comment:o,decompose:f,asJupyter:g,shots:D,hybrid:E};return this.exportToPyAQASM(C,x)},m.prototype.exportToCirq=function(o,f){var x=(o=o||{}).comment,g=o.decompose,D=o.versionStr,E=o.asJupyter,C=o.shots,T=o.exportTfq,O=this,I="",I=T?"TFQ":"cirq",M=parseFloat(D||"0.7");isNaN(M)&&(M=.7),C===void 0&&(C=1024);var F=new m;F.load(this.save(g));var B="",j="";x&&(x||"").split(`
`).map(function(Ie){1<=Ie.length&&Ie[0]!="#"&&(B+="# "),B+=Ie,B+=`
`});function L(Ie,Ne){if(Ie.isSymbolNode&&0<=["pi","sin","cos","tan","asin","acos","atan"].indexOf(Ie.name))return"np."+Ie.name}if(f){for(var R="",V=0,k=0;k<F.params.length;k++)0<V&&(R+=", "),R+=F.params[k],V++;for(k=0;k<F.numQubits;k++)0<V&&(R+=", "),R+=h(k,F.numQubits),V++;B+="def "+f+(R?"("+R+")":"")+`:
`,B+=`    return [
`,j="        "}else{T&&(B+=`import tensorflow_quantum as tfq
`),B+=`import cirq
`,B+=`import numpy as np
`,B+=`from functools import reduce
`,B+=`
`;var U=this.options&&this.options.params?this.options.params:{};if(this.params.length){for(k=0;k<this.params.length;k++){var G=this.params[k],H=(re=p.parse(U[G])).toString({handler:L});B+=G+" = "+H+`
`}B+=`
`}var X=F.usedGates();g||X.map(function(Ie){var Ne,Be,$e;F.basicGates[Ie]||(Ne=O.customGates[Ie])&&((Be=new m).load(Ne),$e={comment:"",decompose:!0,versionStr:D},B+=Be.exportToCirq($e,f))});var Z="";(X=F.usedGates()).map(function(Ie){var Ne=F.basicGates[Ie];if(Ne&&Ne.exportInfo&&Ne.exportInfo.cirq){var Be=Ne.exportInfo.cirq,$e=!1;if(Be.replacement&&(Be=F.getGateDef(Be.replacement.name).exportInfo.cirq,$e=!0),Be.array&&!T){var Le=$e?Be.name:Ie;if(Z.indexOf(Le)<0){if(Z+="def "+Le+"(",Be.params&&Be.params.map(function(qe,ze){0<ze&&(Z+=", "),Z+="p_"+qe}),Z+=`):
`,Ne.matrix&&Ne.matrix.length)if(M<.7)switch(Ne.matrix.length){case 2:Z+="    return cirq.SingleQubitMatrixGate(np.array("+Be.array+`))
`;break;case 4:Z+="    return cirq.TwoQubitMatrixGate(np.array("+Be.array+`))
`;break;default:Z+="    # Export to "+I+" WARNING: Cannot define "+Ne.matrix.length+" x "+Ne.matrix.length+` matrix gate
`}else Z+="    return cirq.MatrixGate(np.array("+Be.array+`))
`;Z+=`
`}}}}),B+=Z,B+=T?"q = cirq.GridQubit.rect(1, "+F.numQubits+`)
`:"q = [cirq.NamedQubit('q' + str(i)) for i in range("+F.numQubits+`)]
`,B+=`
`,B+=M<.7?`circuit = cirq.Circuit.from_ops(
`:`circuit = cirq.Circuit(
`,j="    "}for(var J=F.numCols(),ee=0,$="",W=!1,Q=0;Q<J;Q++)for(var te=0;te<this.numQubits;te++){var ce=F.getGateAt(Q,te);if(ce&&ce.connector==0){0<ee&&(B+=",",T&&W&&(B+=j+"# Export to TFQ WARNING: Gate not yet supported by Tensorflow Quantum"),B+=`
`);var oe=F.getGateDef(ce.name),ue=ce.options&&ce.options.params?ce.options.params:{},we=null,le=!1,fe=!!F.basicGates[ce.name];if(oe){oe.exportInfo&&(W=!!oe.exportInfo.cirq.notTfqSupported,oe.exportInfo.cirq&&oe.exportInfo.cirq.replacement&&(oe.exportInfo.cirq.replacement.params&&(ue=oe.exportInfo.cirq.replacement.params),le=!(!oe.exportInfo.cirq.replacement.type||oe.exportInfo.cirq.replacement.type!="controlled"),W=!!oe.exportInfo.cirq.replacement.notTfqSupported,oe=F.getGateDef(oe.exportInfo.cirq.replacement.name)),we=oe&&oe.exportInfo&&oe.exportInfo.cirq?oe.exportInfo.cirq:null),ee++,ce.options&&ce.options.condition&&ce.options.condition.creg&&(B+=j+"# Export to "+I+` WARNING: classical control not implemented yet.
`);var ve,pe=0,ye="";if(ue){var Ae=oe.params||[];ce.name=="yy"&&(Ae=[]);var be=Ae.length;if(be)for(var ne=0;ne<be;ne++){pe==0&&(ye+="("),0<pe&&(ye+=", ");var re,de=Ae[ne];if(ue[de]){if(!(re=p.parse(ue[de])).args)for(var Ce in ce.options.params)re=p.parse(ce.options.params[Ce]);ye+=re.toString({handler:L})}pe==be-1&&(ye+=fe?")":", "),pe++}}we?(ve=0<=we.name.indexOf("**"),B+=j,ve&&(B+="("),we.array||(B+="cirq."),T&&we.tfqReplacement&&we.tfqReplacement.name?B+="cirq."+we.tfqReplacement.name:B+=we.name,ve&&(B+=")")):B+=j+ce.name,B+=ye,le?B+=".controlled().on(":fe&&(B+="(");for(var V=0,je=0;je<ce.wires.length;je++)0<V&&(B+=", "),B+=f?h(ce.wires[je],F.numQubits):"q["+ce.wires[je]+"]",V++;ce.name=="measure"&&ce.options&&ce.options.creg&&(0<V&&(B+=", key="),B+="'"+ce.options.creg.name+ce.options.creg.bit+"'",Q==J-1&&te==this.numQubits-1?$+="'"+ce.options.creg.name+ce.options.creg.bit+"'":$+="'"+ce.options.creg.name+ce.options.creg.bit+"', ",V++),B+=")"}else B+=j+"# Export to "+I+' WARNING: unknown gate "'+ce.name+'".'}}if(T&&W&&(B+=j+"# Export to TFQ WARNING: Gate not yet supported by Tensorflow Quantu"),f?(B+=`
    ]
`,B+=`
`):(B+=`
)
`,B+=`
`,T||(B+=`simulator = cirq.Simulator()
`,B+="result = simulator.run(circuit, repetitions="+C+`)
`,B+="result_dict = dict(result.multi_measurement_histogram(keys=["+$+`]))
`,B+=`keys = list(map(lambda arr: reduce(lambda x, y: str(x) + str(y), arr[::-1]), result_dict.keys()))
`,B+=`counts = dict(zip(keys,[value for value in result_dict.values()]))
`,B+="print(counts)")),E){var xe={metadata:{kernelspec:{display_name:"Python 3",language:"python",name:"python3"}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:B,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(xe)}return B},m.prototype.exportToTFQ=function(o,f){var x=(o=o||{}).comment,g=o.decompose,D=o.versionStr,E=o.asJupyter,C=o.shots;C===void 0&&(C=1024);var T=new m;T.load(this.save(g));var O="";x&&(x||"").split(`
`).map(function(F){1<=F.length&&F[0]!="#"&&(cirq+="# "),cirq+=F,cirq+=`
`});var I={comment:x,decompose:g,versionStr:D,asJupyter:!1,shots:C,exportTfq:!0};if(O+=T.exportToCirq(I,f),O+="results_list = tfq.layers.Sample()(circuit, repetitions="+C+`).to_list()[0]
`,O+=`results = list(map(lambda arr: reduce(lambda x, y: str(x) + str(y), arr[::-1]), results_list))
`,O+=`counts = dict(zip(results,[results.count(i) for i in results]))
`,O+="print(counts)",E){var M={metadata:{kernelspec:{display_name:"Python 3",language:"python",name:"python3"}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:O,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(M)}return O},m.prototype.exportToQSharp=function(o,f){o=o||{};function x(ye,Ae){if(ye.isSymbolNode){var be={pi:"PI()"};if(be[ye.name])return be[ye.name]}if(ye.isConstantNode&&Number.isInteger(ye.value))return ye.value.toFixed(1)}var g=o.decompose,D=o.versionStr,E=o.asJupyter,C=o.circuitName,T=o.indentDepth,O=this,I=C||"Circuit";function M(ye){for(var Ae="",be=0;be<ye;be++)Ae+="    ";return Ae}T=T||0;var F=new m;F.load(this.save(g));var B="",j=M(T);if(f||(E||(B+=`namespace Quantum {
`,j=M(++T)),B+=j+`open Microsoft.Quantum.Intrinsic;
`,B+=j+`open Microsoft.Quantum.Canon;
`,B+=j+`open Microsoft.Quantum.Math;
`,B+=j+`open Microsoft.Quantum.Convert;
`,B+=`
`,B+=j+`function SetBitValue(reg: Int, bit: Int, value: Bool): Int {
`,B+=j+`    if(value) {
`,B+=j+`        return reg ||| (1 <<< bit);
`,B+=j+`    } else {
`,B+=j+`        return reg &&& ~~~(1 <<< bit);
`,B+=j+`    }
`,B+=j+`}
`,B+=j+`
`),f){for(var L="",R=0,V=0;V<F.params.length;V++)0<R&&(L+=", "),L+=F.params[V],R++;for(V=0;V<F.numQubits;V++)0<R&&(L+=", "),L+=h(V,F.numQubits)+": Qubit",R++;B+=j+"operation "+f+(L?"("+L+")":"")}else{var k=F.usedGates();g||k.map(function(ye){var Ae,be,ne;F.basicGates[ye]||(Ae=O.customGates[ye])&&((be=new m).load(Ae),ne={comment:"",decompose:!0,versionStr:D,asJupyter:!1,circuitName:null,indentDepth:T},B+=be.exportToQSharp(ne,f))}),B+=j+"operation "+I+"()"}j=M(++T);var U=0;for(cregName in F.cregs)U++;var G="";if(U){for(cregName in B+=" : (",F.cregs)G&&(B+=", ",G+=", "),B+="Int",G+=cregName;B+=")"}else B+=" : Unit";if(B+=` {
`,U)for(cregName in F.cregs)B+=j+"mutable "+cregName+` = 0;
`;qreg_name="qubits",f||(B+=j+"using(",B+=qreg_name+" = Qubit["+F.numQubits+"]",B+=`) {
`,j=M(++T));for(var k=F.usedGates(),H=F.numCols(),X=0;X<H;X++)for(var Z=0;Z<F.numQubits;Z++){var J=F.getGateAt(X,Z);if(J&&J.connector==0){var ee=(ee=F.getGateDef(J.name))||F.customGates[J.name],$=J.options&&J.options.params?J.options.params:{},W=null,Q=!1,te=0;if(ee){ee.exportInfo&&(ee.exportInfo.qsharp&&ee.exportInfo.qsharp.replacement&&(ee.exportInfo.qsharp.replacement.params&&($=ee.exportInfo.qsharp.replacement.params),ee=F.getGateDef(ee.exportInfo.qsharp.replacement.name)),W=ee&&ee.exportInfo&&ee.exportInfo.qsharp?ee.exportInfo.qsharp:null),ee.drawingInfo&&ee.drawingInfo.root&&J.name!="cx"&&J.name!="ccx"&&(Q=!0);var ce=0,oe="";if($){var ue=ee.params||[],we=ue.length;if(we)for(var le=0;le<we;le++){0<ce&&(oe+=", ");var fe=ue[le];$[fe]&&(oe+=p.parse($[fe]).toString({handler:x})),ce++}}if(J.name=="measure")J.options&&J.options.creg?(B+=j+"set "+J.options.creg.name+" = SetBitValue("+J.options.creg.name+", "+J.options.creg.bit+", ResultAsBool(M(",B+=f?h(J.wires[0],F.numQubits)+`)));
`:qreg_name+"["+J.wires[0]+`])));
`):B+=j+`// Export to qsharp WARNING: missing destination register
`;else{B+=j,J.options&&J.options.condition&&J.options.condition.creg&&(B+="if("+J.options.condition.creg+" == "+J.options.condition.value+`) {
`,j=M(++T),B+=j),B+=W?W.name+"(":J.name+"(",te=Q?(B+=f?"["+h(J.wires[0],F.numQubits)+"], (":"["+qreg_name+"["+J.wires[0]+"]], (",1):0,oe&&(B+=oe+", ");for(var R=0,ve=te;ve<J.wires.length;ve++)0<R&&(B+=", "),B+=f?h(J.wires[ve],F.numQubits):qreg_name+"["+J.wires[ve]+"]",R++;Q&&(B+=")"),B+=`);
`,J.options&&J.options.condition&&J.options.condition.creg&&(j=M(--T),B+=j+`}
`)}}}}if(f||(B+=j+"ResetAll("+qreg_name+`);
`,j=M(--T),B+=j+`}
`),U&&(B+=j+"return ("+G+`);
`),j=M(--T),B+=j+`}
`,f?B+=`
`:E||(B+=`}
`),E){var pe={metadata:{kernelspec:{display_name:"Q#",language:"qsharp",name:"iqsharp"},language_info:{name:""}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:B,metadata:{},outputs:[],execution_count:null},{cell_type:"code",source:"%simulate "+I,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(pe)}return B},m.prototype.exportToBraket=function(o,f){o=o||{};var x=o.decompose,g=o.versionStr,D=o.asJupyter,O=o.shots,E=o.hybrid,C=o.indentDepth,T=this,O=O||1024;E===void 0&&(E=!!this.options&&!!this.options.hybrid);var I=new m;I.load(this.save(x));function M(re,de){if(re.isSymbolNode){if(0<=["pi","sin","cos","tan","asin","acos","atan"].indexOf(re.name))return"np."+re.name;if(0<=T.params.indexOf(re.name)&&E)return"params["+T.params.indexOf(re.name)+"]"}}function F(re){for(var de="",Ce=0;Ce<re;Ce++)de+="    ";return de}var B="",j=F(C=C||0),L=I.usedGates();L.map(function(re){I.basicGates[re]});var R="",V=0;if(f){for(var k=0;k<I.numQubits;k++)0<V&&(R+=", "),R+=h(k,I.numQubits),V++;for(k=0;k<I.params.length;k++)0<V&&(R+=", "),R+=I.params[k],V++}else{B+=j+`import numpy as np
`,B+=j+`from braket.devices import LocalSimulator
`,B+=j+`from braket.circuits import Circuit
`,B+=j+`from collections import Counter
`,E&&(B+=j+`from scipy.optimize import minimize
`),B+=`
`,O&&(B+=j+"shots = "+O+`
`,B+=`
`);var U=this.options&&this.options.params?this.options.params:{};if(this.params.length){for(k=0;k<this.params.length;k++){var G=this.params[k],H=p.parse(U[G]).toString({handler:M});B+=G+" = "+H+`
`}B+=`
`}E&&(B+=j+"tolerance = "+(this.options&&this.options.hybridOptions&&this.options.hybridOptions.tolerance&&this.options.hybridOptions.tolerance||"0.001")+`
`,B+=`
`)}var X=null,Z=0;L.map(function(re){var de,Ce,je;I.basicGates[re]?x||I.basicGates[re].exportInfo.braket&&I.basicGates[re].exportInfo.braket.array&&((X=I.basicGates[re].exportInfo.braket).name=="unitary"&&(B+=j+"def "+(re+"_unitary")+"("),X.params&&X.params.length&&(de=0,X.params.map(function(xe){0<de&&(B+=", "),B+=j+"p_"+xe,de++})),B+=`):
`,B+=F(C+1)+"return np.array("+X.array+`);

`):(Ce=T.customGates[re])&&((je=new m).load(Ce),B+=je.exportBraket("",!0,re,g,!1,null,!1,C),Z++)}),f?(B+="def "+f+(R?"("+R+")":"")+`:
`,j=F(++C)):E&&(B+=`def objective_function(params):
`,j=F(++C)),B+=j+`circuit = Circuit()
`,f||Z&&(B+=`
`,L.map(function(re){!I.basicGates[re]&&I.customGates[re]&&(B+=j+"circuit.register_subroutine("+re+`)
`)}),B+=`
`);for(var J,ee,$=I.numCols(),W=0;W<$;W++)for(var Q=0;Q<I.numQubits;Q++){var te=I.getGateAt(W,Q);if(te&&te.connector==0){var ce=I.getGateDef(te.name),oe=te.options&&te.options.params?te.options.params:{},ue=ce.params||[],we=null,le=te.name,fe="",ve=!1;if(ce&&ce.exportInfo&&ce.exportInfo.braket&&((we=ce.exportInfo.braket).params&&(ue=Array.isArray(we.params)?we.params:(oe=we.params,Object.keys(oe))),we.name=="unitary"?ve=!0:le=we.name),we||I.customGates[te.name]){var pe=0;if(oe){var ye=ue.length;if(ye)for(var Ae=0;Ae<ye;Ae++){0<pe&&(fe+=", ");var be=ue[Ae];oe[be]!==void 0&&(fe+=p.parse(oe[be]).toString({handler:M})),pe++}}for(B+=j+"circuit.",B+=ve?"unitary(matrix="+le+"_unitary("+fe+"), targets=[":le+"(",V=0,w=0;w<te.wires.length;w++)0<V&&(B+=", "),B+=f?h(te.wires[w],I.numQubits):te.wires[w],V++;ve?B+="]":fe&&(B+=", ",B+=fe),B+=")",B+=`
`}else B+=j+'# Unsupported gate "'+te.name+`".
`}}if(f&&(B+=j+"return circuit"),B+=`

`,f||(B+=j+`local_sim = LocalSimulator()
`,B+=j+`result = local_sim.run(circuit, shots=shots).result()
`,B+=j+`counts = Counter({ "".join(reversed(k)): v for k, v in result.measurement_counts.items() })
`,B+=`
`,E?(B+=j+`# CALCULATE COST HERE
`,(J=this.options&&this.options.hybridOptions&&this.options.hybridOptions.costFunction&&this.options.hybridOptions.costFunction.python||"").trim()||(J="cost = 0"),B+=function(re,de){var Ce="",je=re.split(`
`),xe=-1;je.map(function(Be){var $e=Be.search(/\S/);0<=$e&&(xe<0||$e<xe)&&(xe=$e)}),xe<0&&(xe=0);var Ie="";if(xe<de.length)for(var Ne=0;Ne<de.length-xe;Ne++)Ie+=" ";return je.map(function(Be){Ce+=Ie+Be+`
`}),Ce}(J,j),B+=`
`,B+=j+`return cost
`,j=F(--C),E&&(ee="",this.params.map(function(re,de){0<de&&(ee+=", "),ee+=re}),B+=`
`,B+="params = np.array(["+ee+`])
`,B+=`
`,B+='minimum = minimize(objective_function, params, method="'+(this.options&&this.options.hybridOptions&&this.options.hybridOptions.optimizer?this.options.hybridOptions.optimizer:"Powell")+`", tol=tolerance)
`,B+=`print("cost:", minimum.fun, "params:", minimum.x)
`)):B+=j+"print(counts)"),D){var ne={metadata:{kernelspec:{display_name:"Python 3",language:"python",name:"python3"}},nbformat:4,nbformat_minor:0,cells:[{cell_type:"code",source:B,metadata:{},outputs:[],execution_count:null}]};return JSON.stringify(ne)}return B},m.prototype.exportToQobj=function(o,f){var x=(o=o||{}).circuitName,g=o.experimentName,D=o.numShots,E=this,C=this.options&&this.options.params?this.options.params:{},C=JSON.parse(JSON.stringify(C));for(var T in C)C[T]=p.evaluate(C[T]);x=x||"",g=g||"",D=D||1;var O=new m;O.load(this.save(!0));function I(be,ne){if(be.isSymbolNode){var re=be.name;if(ne.replaceVars&&ne.replaceVars[re]!==void 0)return re=ne.replaceVars[re],0<=E.params.indexOf(re)?"("+C[re]+")":"("+re+")";if(0<=E.params.indexOf(be.name))return C[be.name]}}var M={qobj_id:"qobj_"+this.randomString(),type:"QASM",schema_version:"1.0",experiments:[],header:{description:x},config:{shots:D,memory_slots:0}},F={header:{memory_slots:0,n_qubits:0,qreg_sizes:[],qubit_labels:[],creg_sizes:[],clbit_labels:[],name:"circuit0"},config:{n_qubits:0,memory_slots:0},instructions:[]},B=Object.keys(O.cregs);if(!f){for(cregName in g&&(F.header.description=g),O.cregs){var j=O.cregs[cregName].length;M.config.memory_slots+=j,F.header.creg_sizes.push([cregName,j]);for(var L=0;L<j;L++)F.header.clbit_labels.push([cregName,L])}F.header.memory_slots=M.config.memory_slots,F.header.n_qubits=O.numQubits,F.config.memory_slots=M.config.memory_slots,F.config.n_qubits=O.numQubits,F.header.qreg_sizes.push(["q",O.numQubits])}var R=M.config.memory_slots;O.usedGates().map(function(be){var ne,re;O.basicGates[be]||(ne=E.customGates[be])&&(customCircuit=new m,customCircuit.load(ne),re={circuitName:x,experimentName:g,numShots:D},M+=customCircuit.exportToQobj(re,!1))});for(var V=O.numCols(),k=0;k<V;k++)for(var U=0;U<O.numQubits;U++){var G=O.getGateAt(k,U),H={name:"",qubits:[]},X=null,Z=null;if(k==0&&F.header.qubit_labels.push(["q",U]),G&&G.connector==0){var J=O.getGateDef(G.name);if(J&&J.exportInfo&&(J.exportInfo.qasm&&J.exportInfo.qasm.replacement?(X=J.exportInfo.qasm.replacement).map(function(be){var ne,re,de=new m;de.cregs=JSON.parse(JSON.stringify(E.cregs)),G.options&&G.options.params&&(ne=Object.keys(G.options.params),re=Object.keys(be.params),ne.map(function(je){-1<re.indexOf(je)&&(be.params[je]=G.options.params[je])}));var Ce=G.options&&G.options.condition?G.options.condition:{};de.addGate(be.name,k,G.wires,{params:be.params,condition:Ce}),F.instructions=F.instructions.concat(de.exportToQobj({circuitName:"",experimentName:"",numShots:""},!0))}):J.exportInfo.qasm&&J.exportInfo.qasm.equivalent&&(Z=J.exportInfo.qasm.equivalent).map(function(be){var ne=new m;ne.cregs=JSON.parse(JSON.stringify(E.cregs));var re=1<be.wires.length?G.wires:G.wires[be.wires[0]],de={};if(be.params){var Ce={};if(G.options&&G.options.params)for(var je in G.options.params){var xe=p.parse(G.options.params[je]).toString({handler:I});Ce[je]=xe}for(var Ie in be.params)xe=p.parse(be.params[Ie]).toString({handler:I,replaceVars:Ce}),de[Ie]=xe}var Ne=G.options&&G.options.condition?G.options.condition:{};ne.addGate(be.name,k,re,{params:de,condition:Ne}),F.instructions=F.instructions.concat(ne.exportToQobj({circuitName:"",experimentName:"",numShots:""},!0))})),!X&&!Z){var ee=G.name,$=G.options&&G.options.params?G.options.params:{};if(this.basicGates[ee]){switch(ee){case"id":ee="iden"}if(H.name=ee,H.qubits=G.wires,G.options&&G.options.condition&&G.options.condition.creg){for(var W={name:"",register:R,relation:"==",mask:"",val:""},Q=O.cregs[G.options.condition.creg].length,te=0,ce=0,oe="",ue=B.indexOf(G.options.condition.creg),L=0;L<ue;L++)te+=O.cregs[B[L]].length;var we="0x"+(G.options.condition.value%Math.pow(2,Q)*Math.pow(2,te)).toString(16).toUpperCase();if(0<te){for(var le=Math.pow(2,te),fe=0;fe<Q;fe++)ce+=le,le*=2;oe="0x"+ce.toString(16).toUpperCase()}else oe="0x"+(Math.pow(2,Q)-1).toString(16).toUpperCase();W.name="bfunc",H.conditional=R,W.mask=oe,W.val=we,F.instructions.push(W),R+=1}if(ee=="measure"&&G.options&&G.options.creg){H.memory=[],H.register=[];for(var ve=0,ue=B.indexOf(G.options.creg.name),L=0;L<ue;L++)ve+=O.cregs[B[L]].length;var pe=ve+G.options.creg.bit;H.memory.push(pe),H.register.push(pe)}if($&&(J=(J=this.basicGates[ee])||this.customGates[ee])&&(paramDef=J.params||[],paramCount=paramDef.length,paramCount)){H.params=[];for(var ye,Ae=0;Ae<paramCount;Ae++)paramName=paramDef[Ae],($[paramName]||$[paramName].toString())&&(ye=p.evaluate($[paramName],C),H.params.push(ye))}F.instructions.push(H)}}}}return f?F.instructions:(F.instructions.length&&M.experiments.push(F),M)},m.prototype.clearPartitions=function(){this.partitionMap=[],this.partitionCount=0,this.partitionInfo={};for(var o=this.numCols(),f=0;f<this.numQubits;f++){this.partitionMap.push([]);for(var x=0;x<o;x++)this.partitionMap[f].push(-1)}},m.prototype.createPartitions=function(){this.clearPartitions();for(var o=[],f=0;f<this.numQubits;f++)o.push(-1);for(var x=0,g=this.numCols(),D=0;D<g;D++){for(var E=0;E<this.numQubits;E++){var C=this.getGateAt(D,E);if(C&&C.wires){for(var T=[],O=0;O<C.wires.length;O++){var I=o[F=C.wires[O]];T.indexOf(I)<0&&T.push(I)}var M=-1;for(M=T.length!=1||T[0]==-1?x++:T[0],O=0;O<C.wires.length;O++){var F=C.wires[O];if(oldPartition=o[F],oldPartition==-1)o[F]=M;else for(f=0;f<this.numQubits;f++)o[f]==oldPartition&&(o[f]=M)}}}for(E=0;E<this.numQubits;E++)this.partitionMap[E][D]=o[E]}for(this.partitionCount=x,M=0;M<x;M++)this.partitionInfo[M]=this.partitionBounds(M)},m.prototype.printPartitions=function(){for(var o=this.numCols(),f=0;f<this.numQubits;f++){for(var x="",g=0;g<o;g++){var D=this.partitionMap[f][g];for(D==-1&&(D=" "),this.getGateAt(g,f)?D+="*":D+=" ";D.length<4;)D=" "+D;x+=D}for(var E=f+"";E.length<2;)E="0"+E;x="q"+E+x,console.log(x)}},m.prototype.partitionBounds=function(o){for(var f={wire:{top:-1,bottom:-1},column:{left:-1,right:-1},wireMap:{},parents:{}},x=!1,g=this.numCols(),D=0;D<g;D++)for(var E=0;E<this.numQubits;E++)this.partitionMap[E][D]==o&&(x=!0,f.wire.top<0&&(f.wire.top=E),f.wire.bottom<E&&(f.wire.bottom=E),f.column.left<0&&(f.column.left=D),f.column.right<D&&(f.column.right=D));if(!x)return null;for(var C=0,E=f.wire.top;E<=f.wire.bottom;E++)this.partitionMap[E][f.column.left]==o&&(f.wireMap[E]=C,C++);if(f.numQubits=C,0<f.column.left)for(var E in f.wireMap){var T=this.partitionMap[E][f.column.left-1];if(0<=T){f.parents[T]||(f.parents[T]={},f.parents[T].links=[]);var O=this.partitionInfo[T];for(var I in O.wireMap)I==E&&f.parents[T].links.push(f.wireMap[E])}}return f},m.prototype.partitionCircuit=function(o){var f=this.partitionInfo[o];if(!f)return null;var x=[],g=[];for(var D in f.parents)(E={}).circuit=this.partitionCache[D],E.wires=[],E.wires=f.parents[D].links,g=g.concat(E.wires),x.push(E);var E,C=new m;if(0<x.length){if(f.numQubits>g.length){(E={}).circuit=new m(f.numQubits-g.length),E.wires=[];for(var T=0;T<f.numQubits;T++)g.indexOf(T)<0&&E.wires.push(T);x.push(E)}C.setCombinedState(x)}for(var O=f.column.left;O<=f.column.right;O++)for(var I=f.wire.top;I<=f.wire.bottom;I++)if(this.partitionMap[I][O]==o){var M=this.getGateAt(O,I);if(M&&M.connector==0){for(var F=[],B=0;B<M.wires.length;B++){var j=M.wires[B];F.push(f.wireMap[j])}C.addGate(M.name,O-f.column.left,F,M.options)}}return C},m.prototype.run=function(o,f){if(f=f||{},this.measureResetsQubit=!!f.strictMode,f.continue||(this.initState(),this.stats.duration=0),f.initialState){if(Array.isArray(f.initialState)){this.state={};for(var x=0;x<f.initialState.length;x++){var g=f.initialState[x];Array.isArray(g)&&g.length==2&&(g=p.complex(g[0],g[1])),typeof g=="string"&&(g=this.evalMathString(g)),typeof g=="number"&&(g=p.complex(g,0)),this.state[x+""]=g}}else this.state=f.initialState;for(var D in this.stateBits=0,this.state)this.stateBits|=parseInt(D)}this.stats.start=new Date;var E=new m;if(E.load(this.save(!0)),o){E.insertColumn(0);for(var C=0;C<E.numQubits;C++)o[C]&&E.addGate("x",0,C,{})}var T=f.partitioning;T&&E.createPartitions();for(var O=E.numCols(),I=0,M=0;M<O;M++){for(C=0;C<E.numQubits;C++){var F,B,j,L,R,V=E.getGateAt(M,C);V&&V.connector==0&&(I++,F=!0,V.options&&V.options.condition&&V.options.condition.creg&&(F=this.getCregValue(V.options.condition.creg)===V.options.condition.value),F&&(T?(k=E.partitionMap[C][M],E.partitionCache[k]||(E.partitionCache[k]=E.partitionCircuit(k)),B=E.partitionCache[k],L=M-(j=E.partitionInfo[k]).column.left,R=B.getGateAt(L,j.wireMap[C]),B.cregs=JSON.parse(JSON.stringify(this.cregs)),B.applyGate(R.name,L,R.wires,R.options),this.cregs=JSON.parse(JSON.stringify(B.cregs))):this.applyGate(V.name,M,V.wires,V.options)),f&&f.onGate&&f.onGate(M,C,I))}f&&f.onColumn&&f.onColumn(M)}if(T){for(var k,U=[],C=0;C<E.numQubits;C++)0<=(k=E.partitionMap[C][O-1])&&U.indexOf(k)<0&&U.push(k);if(U.length)if(U.length==1)this.state=E.partitionCache[U[0]].state,this.stateBits=E.partitionCache[U[0]].stateBits;else{for(var G=this.stats.start,H=[],X=0;X<U.length;X++){var Z=U[X],J={};J.circuit=E.partitionCache[Z],J.wires=[];var ee=E.partitionInfo[Z];for(var C in ee.wireMap)J.wires.push(parseInt(C));H.push(J)}this.setCombinedState(H),this.stats.start=G}}this.stats.end=new Date,this.stats.duration+=this.stats.end-this.stats.start},m.prototype.continue=function(){this.run(null,{continue:!0})},m.prototype.stateAsArray=function(o,f,x,g){var D=[],E=this.numAmplitudes();f=f||0,x=x||(o?this.numAmplitudes(o):E);for(var C=0,T=0;T<E;T++){var O=T;g&&(O=l(T,this.numQubits));var I=p.round(this.state[O]||p.complex(0,0),14);if(!o||I.re||I.im){if(f<=C){for(var M=T.toString(2);M.length<this.numQubits;)M="0"+M;var F=this.formatComplex(I,{fixedWidth:!0,decimalPlaces:8,iotaChar:"i"}),B=p.pow(p.abs(I),2),j=100*B,L=j.toFixed(5),R=p.arg(I),V=R.toFixed(5);D.push({index:T,indexBinStr:M,amplitude:I,amplitudeStr:F,magnitude:B,chance:j,chanceStr:L,phase:R,phaseStr:V})}if(C++,D.length==x)return D}}return D},m.prototype.stateAsSimpleArray=function(o){var f=this.numAmplitudes();if(!this.state)return[];for(var x=[],g=0;g<f;g++){var D=g;o&&(D=l(g,this.numQubits)),x.push(p.round(this.state[D]||p.complex(0,0),14))}return x},m.prototype.stateAsString=function(o){var f=this.numAmplitudes();if(!this.state)return"Error: circuit is not initialized. Please call initState() or run() method.";for(var x="",g=0;g<f;g++){var D=p.round(this.state[g]||p.complex(0,0),14);if(!o||D.re||D.im){for(var E=100*p.pow(p.abs(D),2),C=g.toString(2);C.length<this.numQubits;)C="0"+C;for(var T=E.toFixed(5);T.length<9;)T=" "+T;x+=this.formatComplex(D,{fixedWidth:!0,decimalPlaces:8,iotaChar:"i"})+"|"+C+">	"+T+`%
`}}return x},m.prototype.print=function(o){console.log(this.stateAsString(o))},m.prototype.gotClassicalControl=function(){for(var o=0;o<this.numCols();o++)for(var f=0;f<this.numQubits;f++){var x=this.getGateAt(o,f);if(x&&x.connector==0&&x.options&&x.options.condition&&x.options.condition.creg)return!0}return!1},m.prototype.gotMeasurement=function(){for(var o=0;o<this.numCols();o++)for(var f=0;f<this.numQubits;f++){var x=this.getGateAt(o,f);if(x&&x.connector==0&&x.name=="measure")return!0}return!1},m.prototype.cregCount=function(){var o=0;for(var f in this.cregs)o++;return o},m.prototype.getCregs=function(){var o={};for(var f in this.cregs)o[f]=this.getCregValue(f);return o},m.prototype.cregsAsString=function(){var o=`reg	bin	dec
`;for(var f in this.cregs){for(var x=this.getCregValue(f),g=x.toString(2),D=this.cregs[f]&&this.cregs[f].length||1;g.length<D;)g="0"+g;o+=f+"	"+g+"	"+x+`
`}return o},m.prototype.createCreg=function(o,f){for(this.cregs[o]=[];this.cregs[o].length<(f||1);)this.cregs[o].push(0)},m.prototype.removeCreg=function(o){for(var f=this.numCols(),x=[],g=0;g<f;g++)for(var D=0;D<this.numQubits;D++){var E=this.gates[D][g];E&&E.options&&(E.options.creg&&E.options.creg.name&&E.options.creg.name==o&&x.indexOf(E.id)<0&&x.push(E.id),E.options.condition&&E.options.condition.creg&&E.options.condition.creg==o&&delete E.options.condition)}delete this.cregs[o];for(var C=0;C<x.length;C++)this.removeGate(x[C])},m.prototype.renameCreg=function(o,f){for(var x=this.numCols(),g=0;g<x;g++)for(var D=0;D<this.numQubits;D++){var E=this.gates[D][g];E&&E.options&&(E.options.creg&&E.options.creg.name&&E.options.creg.name==o&&(E.options.creg.name=f),E.options.condition&&E.options.condition.creg&&E.options.condition.creg==o&&(E.options.condition.creg=f))}this.cregs[f]=JSON.parse(JSON.stringify(this.cregs[o])),delete this.cregs[o]},m.prototype.minCregSize=function(o){for(var f=0,x=this.numCols(),g=0;g<x;g++)for(var D=0;D<this.numQubits;D++){var E,C,T=this.gates[D][g];T&&T.options&&(T.options.creg&&T.options.creg.name&&T.options.creg.name==o&&(E=parseInt(T.options.creg.bit||0),isNaN(E)&&(E=0),f<E&&(f=E)),T.options.condition&&T.options.condition.creg&&T.options.condition.creg==o&&f<(C=Math.floor(Math.log2(T.options.condition.value)))&&(f=C))}return f+1},m.prototype.resizeCreg=function(o,f){if(!(f<this.minCregSize(o))){for(;this.cregs[o].length<f;)this.cregs[o].push(0);for(;this.cregs[o].length>f;)this.cregs[o].pop()}},m.prototype.getCreg=function(o){return this.cregs[o]},m.prototype.setCregBit=function(o,f,x){var g=parseInt(f);if(isNaN(g))throw'Error: invalid "cbit" argument to "setCregBit" method: expected "integer" got "'+typeof f+'".';for(this.cregs[o]||(this.cregs[o]=[]);g>=this.cregs[o].length;)this.cregs[o].push(0);this.cregs[o][g]=x?1:0},m.prototype.getCregBit=function(o,f){if(!this.cregs[o])throw'Error: "getCregBit": unknown register "'+o+'".';var x=parseInt(f);if(isNaN(x)||x>=this.cregs[o].length)throw'Error: "getCregBit": bit "'+f+'" not found.';return this.cregs[o][x]},m.prototype.cregBase=function(o){if(!this.cregs[o])throw'Error: "getCregBit": unknown register "'+o+'".';var f=0;for(var x in this.cregs){if(x==o)return f;f+=this.cregs[x].length}},m.prototype.cregTotalBits=function(){var o=0;for(var f in this.cregs)o+=this.cregs[f].length;return o},m.prototype.getCregValue=function(o){if(!this.cregs[o])throw'Error: "getCregBit": unknown register "'+o+'".';for(var f=this.cregs[o].length,x=0,g=0;g<f;g++)this.cregs[o][g]&&(x+=p.pow(2,g));return x},m.prototype.measureAll=function(o){if(this.collapsed&&this.collapsed.length==this.numQubits&&!o)return this.collapsed;this.collapsed=[];var f=Math.random();for(var x in this.state){var g=p.round(this.state[x],14);if((g.re||g.im)&&(f-=p.round(p.pow(p.abs(g),2),14))<=0){var D=parseInt(x);if(this.reverseBitOrder)for(var E=this.numQubits-1;0<=E;E--)this.collapsed.push(1<<E&D?1:0);else for(E=0;E<this.numQubits;E++)this.collapsed.push(1<<E&D?1:0);return this.collapsed}}if(!this.collapsed.length)for(;this.collapsed.length<this.numQubits;)this.collapsed.push(0);return this.collapsed},m.prototype.measureAllMultishot=function(o){o=o||1;for(var f={},x=[],g=0;g<o;g++)x.push(Math.random());var D=0;do for(var E in this.state){var C=p.round(this.state[E],14);if(C.re||C.im){for(var T=p.round(p.pow(p.abs(C),2),14),O=0;O<o;O++)if(0<x[O]&&(x[O]-=T,x[O]<=0)){for(var I=parseInt(E).toString(2);I.length<this.numQubits;)I="0"+I;if(f[I]?f[I]++:f[I]=1,++D==o)return f}}}while(D<o)},m.prototype.measure=function(o,f,x,g){!g&&this.collapsed&&this.collapsed.length==this.numQubits||this.measureAll(g);var D=this.collapsed[o];return f&&x!==void 0&&this.setCregBit(f,x,D),D},m.prototype.probabilities=function(){this.prob=[];for(var o=0;o<this.numQubits;o++)this.prob.push(0);for(var f in this.state)for(var x=parseInt(f),o=0;o<this.numQubits;o++){var g;x&(this.reverseBitOrder?p.pow(2,this.numQubits-1-o):p.pow(2,o))&&((g=this.state[f]).re||g.im)&&(this.prob[o]+=p.pow(p.abs(g),2))}for(o=0;o<this.numQubits;o++)this.prob[o]=p.round(this.prob[o],14);return this.prob},m.prototype.probability=function(o){return this.prob&&this.prob.length==this.numQubits||this.probabilities(),this.prob[o]},m.prototype.densityMatrix=function(){var o=[],f=this.numAmplitudes();for(row=0;row<f;row++){for(var x=[],g=this.state[row]||p.complex(0,0),D=0;D<f;D++){var E=this.state[D]||p.complex(0,0);(E.re||E.im)&&(E=p.conj(E)),x.push(p.multiply(g,E))}o.push(x)}return o},m.prototype.partialTrace=function(o){function f(M,F,B){var j=1<<F,L=(L=M<<1)^(L^M)&(2<<F)-1|j;return B||(L^=j),L}for(var x=[],g=this.numQubits-1,D=p.pow(2,g),E=null,E=this.reverseBitOrder?this.numQubits-1-o:o,C=0;C<4;C++){x.push(p.complex(0,0));for(var T=D;T--;){var O,I=f(T,E,2&C?1:0);this.state[I]&&(O=f(T,E,1&C?1:0),this.state[O]&&(x[C]=p.add(x[C],p.multiply(this.state[I],p.conj(this.state[O])))))}}return[[x[0],x[1]],[x[2],x[3]]]},m.prototype.angles=function(){for(var o=[],f=0;f<this.numQubits;f++)o.push({theta:0,phi:0});for(f=0;f<this.numQubits;f++){var x=this.partialTrace(f),g=p.round(p.sqrt(x[0][0]),12),D=p.round(p.multiply(x[1][0],p.sqrt(2)),12),E=p.round(p.abs(p.sqrt(2*p.abs(p.trace(p.pow(x,2)))-1)),12),C=p.multiply(2,p.acos(g)),T=0;p.round(D.re,8)==0&&p.round(D.im,8)==0||(T=p.multiply(p.complex(0,-1),p.log(p.multiply(D,p.csc(p.divide(C,2))))).re,isNaN(T)&&(T=0)),o[f].theta=p.round(p.abs(C),12),o[f].phi=p.round(T,12),o[f].thetaDeg=p.round(p.multiply(p.abs(C),180/p.pi),7),o[f].phiDeg=p.round(p.multiply(T,180/p.pi),7),o[f].radius=p.round(E,7)}return o},m.prototype.randomCircuit=function(o,f,x){this.init(o);var g=(x=x||{}).useGates&&x.useGates.length?x.useGates:Object.keys(this.basicGates);x.noMeasure&&0<=g.indexOf("measure")&&g.splice(g.indexOf("measure"),1),x.noReset&&0<=g.indexOf("reset")&&g.splice(g.indexOf("reset"),1);for(var D=0;D<f;){var E=g[Math.floor(Math.random()*g.length)],C=this.basicGates[E];if(C){var T=C.matrix&&C.matrix.length?p.log2(C.matrix.length):1;if(T<=o){for(var O=[];O.length<T;){for(var I=-1;I=Math.floor(Math.random()*o),0<=O.indexOf(I););O.push(I)}var M,F,B={};C.params&&C.params.length&&(M={},C.params.map(function(j){M[j]=2*Math.PI*Math.random(),M[j]>Math.PI&&(M[j]=Math.PI-M[j])}),B.params=M),E=="measure"?B.creg={name:"c",bit:O[0]}:x.noClassicControl||Math.floor(4*Math.random())!=0||(F=this.cregTotalBits())&&(B.condition={creg:"c",value:Math.floor(Math.random()*p.pow(2,F))}),this.appendGate(E,O,B),D++}}}},m.prototype.randomUnitary=function(o){var f=new m;return f.randomCircuit(o||1,8*(o||1),{useGates:["rx","rz","cz"],noMeasure:!0,noReset:!0,noClassicControl:!0}),f.circuitMatrix()},m.prototype.eulerAnglesZYZ=function(o){var f={theta:null,phi:null,lambda:null,phase:null},x=p.pow(p.det(o),-.5);f.phase=-1*p.complex(x).toPolar().phi;var g=p.multiply(x,o);f.theta=2*p.atan2(p.abs(g[1][0]),p.abs(g[0][0]));var D=2*p.complex(g[1][1]).toPolar().phi,E=2*p.complex(g[1][0]).toPolar().phi;return f.phi=(D+E)/2,f.lambda=(D-E)/2,f},a.exports=m},{"./qasm_import/QASMImport.js":1,mathjs:943}],6:[function(n,a,r){var b=n("./Token").Token,h=n("./Lexer").Lexer,m=n("./IntervalSet").Interval;function p(){return this}function A(S){return p.call(this),this.tokenSource=S,this.tokens=[],this.index=-1,this.fetchedEOF=!1,this}((A.prototype=Object.create(p.prototype)).constructor=A).prototype.mark=function(){return 0},A.prototype.release=function(S){},A.prototype.reset=function(){this.seek(0)},A.prototype.seek=function(S){this.lazyInit(),this.index=this.adjustSeekIndex(S)},A.prototype.get=function(S){return this.lazyInit(),this.tokens[S]},A.prototype.consume=function(){if(!(0<=this.index&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length))&&this.LA(1)===b.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))},A.prototype.sync=function(S){var _=S-this.tokens.length+1;return!(0<_)||_<=this.fetch(_)},A.prototype.fetch=function(S){if(this.fetchedEOF)return 0;for(var _=0;_<S;_++){var l=this.tokenSource.nextToken();if(l.tokenIndex=this.tokens.length,this.tokens.push(l),l.type===b.EOF)return this.fetchedEOF=!0,_+1}return S},A.prototype.getTokens=function(S,_,l){if(l===void 0&&(l=null),S<0||_<0)return null;this.lazyInit();var y=[];_>=this.tokens.length&&(_=this.tokens.length-1);for(var o=S;o<_;o++){var f=this.tokens[o];if(f.type===b.EOF)break;l!==null&&!l.contains(f.type)||y.push(f)}return y},A.prototype.LA=function(S){return this.LT(S).type},A.prototype.LB=function(S){return this.index-S<0?null:this.tokens[this.index-S]},A.prototype.LT=function(S){if(this.lazyInit(),S===0)return null;if(S<0)return this.LB(-S);var _=this.index+S-1;return this.sync(_),_>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[_]},A.prototype.adjustSeekIndex=function(S){return S},A.prototype.lazyInit=function(){this.index===-1&&this.setup()},A.prototype.setup=function(){this.sync(0),this.index=this.adjustSeekIndex(0)},A.prototype.setTokenSource=function(S){this.tokenSource=S,this.tokens=[],this.index=-1,this.fetchedEOF=!1},A.prototype.nextTokenOnChannel=function(S,_){if(this.sync(S),S>=this.tokens.length)return-1;for(var l=this.tokens[S];l.channel!==this.channel;){if(l.type===b.EOF)return-1;S+=1,this.sync(S),l=this.tokens[S]}return S},A.prototype.previousTokenOnChannel=function(S,_){for(;0<=S&&this.tokens[S].channel!==_;)--S;return S},A.prototype.getHiddenTokensToRight=function(S,_){if(_===void 0&&(_=-1),this.lazyInit(),S<0||S>=this.tokens.length)throw S+" not in 0.."+this.tokens.length-1;var l=this.nextTokenOnChannel(S+1,h.DEFAULT_TOKEN_CHANNEL),y=S+1,o=l===-1?this.tokens.length-1:l;return this.filterForChannel(y,o,_)},A.prototype.getHiddenTokensToLeft=function(S,_){if(_===void 0&&(_=-1),this.lazyInit(),S<0||S>=this.tokens.length)throw S+" not in 0.."+this.tokens.length-1;var l=this.previousTokenOnChannel(S-1,h.DEFAULT_TOKEN_CHANNEL);if(l===S-1)return null;var y=l+1,o=S-1;return this.filterForChannel(y,o,_)},A.prototype.filterForChannel=function(S,_,l){for(var y=[],o=S;o<_+1;o++){var f=this.tokens[o];l===-1?f.channel!==h.DEFAULT_TOKEN_CHANNEL&&y.push(f):f.channel===l&&y.push(f)}return y.length===0?null:y},A.prototype.getSourceName=function(){return this.tokenSource.getSourceName()},A.prototype.getText=function(S){this.lazyInit(),this.fill(),S==null&&(S=new m(0,this.tokens.length-1));var _=S.start;_ instanceof b&&(_=_.tokenIndex);var l=S.stop;if(l instanceof b&&(l=l.tokenIndex),_===null||l===null||_<0||l<0)return"";l>=this.tokens.length&&(l=this.tokens.length-1);for(var y="",o=_;o<l+1;o++){var f=this.tokens[o];if(f.type===b.EOF)break;y+=f.text}return y},A.prototype.fill=function(){for(this.lazyInit();this.fetch(1e3)===1e3;);},r.BufferedTokenStream=A},{"./IntervalSet":12,"./Lexer":14,"./Token":20}],7:[function(n,a,r){var b=n("./InputStream").InputStream,h=typeof window>"u"&&typeof importScripts>"u"?n("fs"):null,m={fromString:function(p){return new b(p,!0)},fromBlob:function(p,A,S,_){var l=FileReader();l.onload=function(y){var o=new b(y.target.result,!0);S(o)},l.onerror=_,l.readAsText(p,A)},fromBuffer:function(p,A){return new b(p.toString(A),!0)},fromPath:function(p,A,S){h.readFile(p,A,function(_,l){var y=null;l!==null&&(y=new b(l,!0)),S(_,y)})},fromPathSync:function(p,A){var S=h.readFileSync(p,A);return new b(S,!0)}};r.CharStreams=m},{"./InputStream":11,fs:53}],8:[function(n,a,r){var b=n("./Token").CommonToken;function h(){return this}function m(p){return h.call(this),this.copyText=p!==void 0&&p,this}((m.prototype=Object.create(h.prototype)).constructor=m).DEFAULT=new m,m.prototype.create=function(p,A,S,_,l,y,o,f){var x=new b(p,A,_,l,y);return x.line=o,x.column=f,S!==null?x.text=S:this.copyText&&p[1]!==null&&(x.text=p[1].getText(l,y)),x},m.prototype.createThin=function(p,A){var S=new b(null,p);return S.text=A,S},r.CommonTokenFactory=m},{"./Token":20}],9:[function(n,a,r){var b=n("./Token").Token,h=n("./BufferedTokenStream").BufferedTokenStream;function m(p,A){return h.call(this,p),this.channel=A===void 0?b.DEFAULT_CHANNEL:A,this}((m.prototype=Object.create(h.prototype)).constructor=m).prototype.adjustSeekIndex=function(p){return this.nextTokenOnChannel(p,this.channel)},m.prototype.LB=function(p){if(p===0||this.index-p<0)return null;for(var A=this.index,S=1;S<=p;)A=this.previousTokenOnChannel(A-1,this.channel),S+=1;return A<0?null:this.tokens[A]},m.prototype.LT=function(p){if(this.lazyInit(),p===0)return null;if(p<0)return this.LB(-p);for(var A=this.index,S=1;S<p;)this.sync(A+1)&&(A=this.nextTokenOnChannel(A+1,this.channel)),S+=1;return this.tokens[A]},m.prototype.getNumberOfOnChannelTokens=function(){var p=0;this.fill();for(var A=0;A<this.tokens.length;A++){var S=this.tokens[A];if(S.channel===this.channel&&(p+=1),S.type===b.EOF)break}return p},r.CommonTokenStream=m},{"./BufferedTokenStream":6,"./Token":20}],10:[function(n,a,r){var b=n("./InputStream").InputStream,h=typeof window>"u"&&typeof importScripts>"u"?n("fs"):null;function m(p,A){var S=h.readFileSync(p,"utf8");return b.call(this,S,A),this.fileName=p,this}(m.prototype=Object.create(b.prototype)).constructor=m,r.FileStream=m},{"./InputStream":11,fs:53}],11:[function(n,a,r){var b=n("./Token").Token;function h(m,p){return this.name="<empty>",this.strdata=m,this.decodeToUnicodeCodePoints=p||!1,function(A){if(A._index=0,A.data=[],A.decodeToUnicodeCodePoints)for(var S=0;S<A.strdata.length;){var _=A.strdata.codePointAt(S);A.data.push(_),S+=_<=65535?1:2}else for(S=0;S<A.strdata.length;S++){var l=A.strdata.charCodeAt(S);A.data.push(l)}A._size=A.data.length}(this),this}n("./polyfills/codepointat"),n("./polyfills/fromcodepoint"),Object.defineProperty(h.prototype,"index",{get:function(){return this._index}}),Object.defineProperty(h.prototype,"size",{get:function(){return this._size}}),h.prototype.reset=function(){this._index=0},h.prototype.consume=function(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1},h.prototype.LA=function(m){if(m===0)return 0;m<0&&(m+=1);var p=this._index+m-1;return p<0||p>=this._size?b.EOF:this.data[p]},h.prototype.LT=function(m){return this.LA(m)},h.prototype.mark=function(){return-1},h.prototype.release=function(m){},h.prototype.seek=function(m){m<=this._index?this._index=m:this._index=Math.min(m,this._size)},h.prototype.getText=function(m,p){if(p>=this._size&&(p=this._size-1),m>=this._size)return"";if(this.decodeToUnicodeCodePoints){for(var A="",S=m;S<=p;S++)A+=String.fromCodePoint(this.data[S]);return A}return this.strdata.slice(m,p+1)},h.prototype.toString=function(){return this.strdata},r.InputStream=h},{"./Token":20,"./polyfills/codepointat":48,"./polyfills/fromcodepoint":49}],12:[function(n,a,r){var b=n("./Token").Token;function h(p,A){return this.start=p,this.stop=A,this}function m(){this.intervals=null,this.readOnly=!1}h.prototype.contains=function(p){return p>=this.start&&p<this.stop},h.prototype.toString=function(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()},Object.defineProperty(h.prototype,"length",{get:function(){return this.stop-this.start}}),m.prototype.first=function(p){return this.intervals===null||this.intervals.length===0?b.INVALID_TYPE:this.intervals[0].start},m.prototype.addOne=function(p){this.addInterval(new h(p,p+1))},m.prototype.addRange=function(p,A){this.addInterval(new h(p,A+1))},m.prototype.addInterval=function(p){if(this.intervals===null)this.intervals=[],this.intervals.push(p);else{for(var A=0;A<this.intervals.length;A++){var S=this.intervals[A];if(p.stop<S.start)return void this.intervals.splice(A,0,p);if(p.stop===S.start)return void(this.intervals[A].start=p.start);if(p.start<=S.stop)return this.intervals[A]=new h(Math.min(S.start,p.start),Math.max(S.stop,p.stop)),void this.reduce(A)}this.intervals.push(p)}},m.prototype.addSet=function(p){if(p.intervals!==null)for(var A=0;A<p.intervals.length;A++){var S=p.intervals[A];this.addInterval(new h(S.start,S.stop))}return this},m.prototype.reduce=function(p){var A,S;p<this.intervalslength-1&&(A=this.intervals[p],S=this.intervals[p+1],A.stop>=S.stop?(this.intervals.pop(p+1),this.reduce(p)):A.stop>=S.start&&(this.intervals[p]=new h(A.start,S.stop),this.intervals.pop(p+1)))},m.prototype.complement=function(p,A){var S=new m;S.addInterval(new h(p,A+1));for(var _=0;_<this.intervals.length;_++)S.removeRange(this.intervals[_]);return S},m.prototype.contains=function(p){if(this.intervals===null)return!1;for(var A=0;A<this.intervals.length;A++)if(this.intervals[A].contains(p))return!0;return!1},Object.defineProperty(m.prototype,"length",{get:function(){var p=0;return this.intervals.map(function(A){p+=A.length}),p}}),m.prototype.removeRange=function(p){if(p.start===p.stop-1)this.removeOne(p.start);else if(this.intervals!==null)for(var A=0,S=0;S<this.intervals.length;S++){var _=this.intervals[A];if(p.stop<=_.start)return;if(p.start>_.start&&p.stop<_.stop){this.intervals[A]=new h(_.start,p.start);var l=new h(p.stop,_.stop);return void this.intervals.splice(A,0,l)}p.start<=_.start&&p.stop>=_.stop?(this.intervals.splice(A,1),--A):p.start<_.stop?this.intervals[A]=new h(_.start,p.start):p.stop<_.stop&&(this.intervals[A]=new h(p.stop,_.stop)),A+=1}},m.prototype.removeOne=function(p){if(this.intervals!==null)for(var A=0;A<this.intervals.length;A++){var S=this.intervals[A];if(p<S.start)return;if(p===S.start&&p===S.stop-1)return void this.intervals.splice(A,1);if(p===S.start)return void(this.intervals[A]=new h(S.start+1,S.stop));if(p===S.stop-1)return void(this.intervals[A]=new h(S.start,S.stop-1));if(p<S.stop-1){var _=new h(S.start,p);return S.start=p+1,void this.intervals.splice(A,0,_)}}},m.prototype.toString=function(p,A,S){return p=p||null,A=A||null,S=S||!1,this.intervals===null?"{}":p!==null||A!==null?this.toTokenString(p,A):S?this.toCharString():this.toIndexString()},m.prototype.toCharString=function(){for(var p=[],A=0;A<this.intervals.length;A++){var S=this.intervals[A];S.stop===S.start+1?S.start===b.EOF?p.push("<EOF>"):p.push("'"+String.fromCharCode(S.start)+"'"):p.push("'"+String.fromCharCode(S.start)+"'..'"+String.fromCharCode(S.stop-1)+"'")}return 1<p.length?"{"+p.join(", ")+"}":p[0]},m.prototype.toIndexString=function(){for(var p=[],A=0;A<this.intervals.length;A++){var S=this.intervals[A];S.stop===S.start+1?S.start===b.EOF?p.push("<EOF>"):p.push(S.start.toString()):p.push(S.start.toString()+".."+(S.stop-1).toString())}return 1<p.length?"{"+p.join(", ")+"}":p[0]},m.prototype.toTokenString=function(p,A){for(var S=[],_=0;_<this.intervals.length;_++)for(var l=this.intervals[_],y=l.start;y<l.stop;y++)S.push(this.elementName(p,A,y));return 1<S.length?"{"+S.join(", ")+"}":S[0]},m.prototype.elementName=function(p,A,S){return S===b.EOF?"<EOF>":S===b.EPSILON?"<EPSILON>":p[S]||A[S]},r.Interval=h,r.IntervalSet=m},{"./Token":20}],13:[function(n,a,r){var b=n("./Utils").Set,h=n("./Utils").BitSet,m=n("./Token").Token,p=n("./atn/ATNConfig").ATNConfig,A=(n("./IntervalSet").Interval,n("./IntervalSet").IntervalSet),S=n("./atn/ATNState").RuleStopState,_=n("./atn/Transition").RuleTransition,l=n("./atn/Transition").NotSetTransition,y=n("./atn/Transition").WildcardTransition,o=n("./atn/Transition").AbstractPredicateTransition,f=n("./PredictionContext"),x=f.predictionContextFromRuleContext,g=f.PredictionContext,D=f.SingletonPredictionContext;function E(C){this.atn=C}E.HIT_PRED=m.INVALID_TYPE,E.prototype.getDecisionLookahead=function(C){if(C===null)return null;for(var T=C.transitions.length,O=[],I=0;I<T;I++){O[I]=new A;var M=new b;this._LOOK(C.transition(I).target,null,g.EMPTY,O[I],M,new h,!1,!1),O[I].length!==0&&!O[I].contains(E.HIT_PRED)||(O[I]=null)}return O},E.prototype.LOOK=function(C,T,O){var I=new A,M=(O=O||null)!==null?x(C.atn,O):null;return this._LOOK(C,T,M,I,new b,new h,!0,!0),I},E.prototype._LOOK=function(C,T,O,I,M,F,B,j){var L=new p({state:C,alt:0,context:O},null);if(!M.contains(L)){if(M.add(L),C===T){if(O===null)return void I.addOne(m.EPSILON);if(O.isEmpty()&&j)return void I.addOne(m.EOF)}if(C instanceof S){if(O===null)return void I.addOne(m.EPSILON);if(O.isEmpty()&&j)return void I.addOne(m.EOF);if(O!==g.EMPTY){for(var R=0;R<O.length;R++){var V=this.atn.states[O.getReturnState(R)],k=F.contains(V.ruleIndex);try{F.remove(V.ruleIndex),this._LOOK(V,T,O.getParent(R),I,M,F,B,j)}finally{k&&F.add(V.ruleIndex)}}return}}for(var U=0;U<C.transitions.length;U++){var G,H=C.transitions[U];if(H.constructor===_){if(F.contains(H.target.ruleIndex))continue;var X=D.create(O,H.followState.stateNumber);try{F.add(H.target.ruleIndex),this._LOOK(H.target,T,X,I,M,F,B,j)}finally{F.remove(H.target.ruleIndex)}}else H instanceof o?B?this._LOOK(H.target,T,O,I,M,F,B,j):I.addOne(E.HIT_PRED):H.isEpsilon?this._LOOK(H.target,T,O,I,M,F,B,j):H.constructor===y?I.addRange(m.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType):(G=H.label)!==null&&(H instanceof l&&(G=G.complement(m.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),I.addSet(G))}}},r.LL1Analyzer=E},{"./IntervalSet":12,"./PredictionContext":17,"./Token":20,"./Utils":21,"./atn/ATNConfig":23,"./atn/ATNState":28,"./atn/Transition":36}],14:[function(n,a,r){var b=n("./Token").Token,h=n("./Recognizer").Recognizer,m=n("./CommonTokenFactory").CommonTokenFactory,p=n("./error/Errors").RecognitionException,A=n("./error/Errors").LexerNoViableAltException;function S(_){return h.call(this),this._input=_,this._factory=m.DEFAULT,this._tokenFactorySourcePair=[this,_],this._interp=null,this._token=null,this._tokenStartCharIndex=-1,this._tokenStartLine=-1,this._tokenStartColumn=-1,this._hitEOF=!1,this._channel=b.DEFAULT_CHANNEL,this._type=b.INVALID_TYPE,this._modeStack=[],this._mode=S.DEFAULT_MODE,this._text=null,this}((S.prototype=Object.create(h.prototype)).constructor=S).DEFAULT_MODE=0,S.MORE=-2,S.SKIP=-3,S.DEFAULT_TOKEN_CHANNEL=b.DEFAULT_CHANNEL,S.HIDDEN=b.HIDDEN_CHANNEL,S.MIN_CHAR_VALUE=0,S.MAX_CHAR_VALUE=1114111,S.prototype.reset=function(){this._input!==null&&this._input.seek(0),this._token=null,this._type=b.INVALID_TYPE,this._channel=b.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=S.DEFAULT_MODE,this._modeStack=[],this._interp.reset()},S.prototype.nextToken=function(){if(this._input===null)throw"nextToken requires a non-null input stream.";var _=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=b.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;for(var l=!1;;){this._type=b.INVALID_TYPE;var y=S.SKIP;try{y=this._interp.match(this._input,this._mode)}catch(o){if(!(o instanceof p))throw console.log(o.stack),o;this.notifyListeners(o),this.recover(o)}if(this._input.LA(1)===b.EOF&&(this._hitEOF=!0),this._type===b.INVALID_TYPE&&(this._type=y),this._type===S.SKIP){l=!0;break}if(this._type!==S.MORE)break}if(!l)return this._token===null&&this.emit(),this._token}}finally{this._input.release(_)}},S.prototype.skip=function(){this._type=S.SKIP},S.prototype.more=function(){this._type=S.MORE},S.prototype.mode=function(_){this._mode=_},S.prototype.pushMode=function(_){this._interp.debug&&console.log("pushMode "+_),this._modeStack.push(this._mode),this.mode(_)},S.prototype.popMode=function(){if(this._modeStack.length===0)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode},Object.defineProperty(S.prototype,"inputStream",{get:function(){return this._input},set:function(_){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=_,this._tokenFactorySourcePair=[this,this._input]}}),Object.defineProperty(S.prototype,"sourceName",{get:function(){return this._input.sourceName}}),S.prototype.emitToken=function(_){this._token=_},S.prototype.emit=function(){var _=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(_),_},S.prototype.emitEOF=function(){var _=this.column,l=this.line,y=this._factory.create(this._tokenFactorySourcePair,b.EOF,null,b.DEFAULT_CHANNEL,this._input.index,this._input.index-1,l,_);return this.emitToken(y),y},Object.defineProperty(S.prototype,"type",{get:function(){return this.type},set:function(_){this._type=_}}),Object.defineProperty(S.prototype,"line",{get:function(){return this._interp.line},set:function(_){this._interp.line=_}}),Object.defineProperty(S.prototype,"column",{get:function(){return this._interp.column},set:function(_){this._interp.column=_}}),S.prototype.getCharIndex=function(){return this._input.index},Object.defineProperty(S.prototype,"text",{get:function(){return this._text!==null?this._text:this._interp.getText(this._input)},set:function(_){this._text=_}}),S.prototype.getAllTokens=function(){for(var _=[],l=this.nextToken();l.type!==b.EOF;)_.push(l),l=this.nextToken();return _},S.prototype.notifyListeners=function(_){var l=this._tokenStartCharIndex,y=this._input.index,o=this._input.getText(l,y),f="token recognition error at: '"+this.getErrorDisplay(o)+"'";this.getErrorListenerDispatch().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,f,_)},S.prototype.getErrorDisplay=function(_){for(var l=[],y=0;y<_.length;y++)l.push(_[y]);return l.join("")},S.prototype.getErrorDisplayForChar=function(_){return _.charCodeAt(0)===b.EOF?"<EOF>":_===`
`?"\\n":_==="	"?"\\t":_==="\r"?"\\r":_},S.prototype.getCharErrorDisplay=function(_){return"'"+this.getErrorDisplayForChar(_)+"'"},S.prototype.recover=function(_){this._input.LA(1)!==b.EOF&&(_ instanceof A?this._interp.consume(this._input):this._input.consume())},r.Lexer=S},{"./CommonTokenFactory":8,"./Recognizer":18,"./Token":20,"./error/Errors":45}],15:[function(n,a,r){var b=n("./Token").Token,h=n("./tree/Tree").ParseTreeListener,m=n("./Recognizer").Recognizer,p=n("./error/ErrorStrategy").DefaultErrorStrategy,A=n("./atn/ATNDeserializer").ATNDeserializer,S=n("./atn/ATNDeserializationOptions").ATNDeserializationOptions,_=n("./tree/Tree").TerminalNode,l=n("./tree/Tree").ErrorNode;function y(x){return h.call(this),this.parser=x,this}function o(x){return m.call(this),this._input=null,this._errHandler=new p,this._precedenceStack=[],this._precedenceStack.push(0),this._ctx=null,this.buildParseTrees=!0,this._tracer=null,this._parseListeners=null,this._syntaxErrors=0,this.setInputStream(x),this}((y.prototype=Object.create(h.prototype)).constructor=y).prototype.enterEveryRule=function(x){console.log("enter   "+this.parser.ruleNames[x.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)},y.prototype.visitTerminal=function(x){console.log("consume "+x.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])},y.prototype.exitEveryRule=function(x){console.log("exit    "+this.parser.ruleNames[x.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)},((o.prototype=Object.create(m.prototype)).contructor=o).bypassAltsAtnCache={},o.prototype.reset=function(){this._input!==null&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),this._interp!==null&&this._interp.reset()},o.prototype.match=function(x){var g=this.getCurrentToken();return g.type===x?(this._errHandler.reportMatch(this),this.consume()):(g=this._errHandler.recoverInline(this),this.buildParseTrees&&g.tokenIndex===-1&&this._ctx.addErrorNode(g)),g},o.prototype.matchWildcard=function(){var x=this.getCurrentToken();return 0<x.type?(this._errHandler.reportMatch(this),this.consume()):(x=this._errHandler.recoverInline(this),this._buildParseTrees&&x.tokenIndex===-1&&this._ctx.addErrorNode(x)),x},o.prototype.getParseListeners=function(){return this._parseListeners||[]},o.prototype.addParseListener=function(x){if(x===null)throw"listener";this._parseListeners===null&&(this._parseListeners=[]),this._parseListeners.push(x)},o.prototype.removeParseListener=function(x){var g;this._parseListeners!==null&&(0<=(g=this._parseListeners.indexOf(x))&&this._parseListeners.splice(g,1),this._parseListeners.length===0&&(this._parseListeners=null))},o.prototype.removeParseListeners=function(){this._parseListeners=null},o.prototype.triggerEnterRuleEvent=function(){var x;this._parseListeners!==null&&(x=this._ctx,this._parseListeners.map(function(g){g.enterEveryRule(x),x.enterRule(g)}))},o.prototype.triggerExitRuleEvent=function(){var x;this._parseListeners!==null&&(x=this._ctx,this._parseListeners.slice(0).reverse().map(function(g){x.exitRule(g),g.exitEveryRule(x)}))},o.prototype.getTokenFactory=function(){return this._input.tokenSource._factory},o.prototype.setTokenFactory=function(x){this._input.tokenSource._factory=x},o.prototype.getATNWithBypassAlts=function(){var x=this.getSerializedATN();if(x===null)throw"The current parser does not support an ATN with bypass alternatives.";var g,D=this.bypassAltsAtnCache[x];return D===null&&((g=new S).generateRuleBypassTransitions=!0,D=new A(g).deserialize(x),this.bypassAltsAtnCache[x]=D),D};var f=n("./Lexer").Lexer;o.prototype.compileParseTreePattern=function(x,g,D){var E;if((D=D||null)===null&&(this.getTokenStream()===null||(E=this.getTokenStream().tokenSource)instanceof f&&(D=E)),D===null)throw"Parser can't discover a lexer to use";return new ParseTreePatternMatcher(D,this).compile(x,g)},o.prototype.getInputStream=function(){return this.getTokenStream()},o.prototype.setInputStream=function(x){this.setTokenStream(x)},o.prototype.getTokenStream=function(){return this._input},o.prototype.setTokenStream=function(x){this._input=null,this.reset(),this._input=x},o.prototype.getCurrentToken=function(){return this._input.LT(1)},o.prototype.notifyErrorListeners=function(x,g,D){D=D||null,(g=g||null)===null&&(g=this.getCurrentToken()),this._syntaxErrors+=1;var E=g.line,C=g.column;this.getErrorListenerDispatch().syntaxError(this,g,E,C,x,D)},o.prototype.consume=function(){var x=this.getCurrentToken();x.type!==b.EOF&&this.getInputStream().consume();var g,D=this._parseListeners!==null&&0<this._parseListeners.length;return(this.buildParseTrees||D)&&((g=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(x):this._ctx.addTokenNode(x)).invokingState=this.state,D&&this._parseListeners.map(function(E){g instanceof l||g.isErrorNode!==void 0&&g.isErrorNode()?E.visitErrorNode(g):g instanceof _&&E.visitTerminal(g)})),x},o.prototype.addContextToParseTree=function(){this._ctx.parentCtx!==null&&this._ctx.parentCtx.addChild(this._ctx)},o.prototype.enterRule=function(x,g,D){this.state=g,this._ctx=x,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this._parseListeners!==null&&this.triggerEnterRuleEvent()},o.prototype.exitRule=function(){this._ctx.stop=this._input.LT(-1),this._parseListeners!==null&&this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx},o.prototype.enterOuterAlt=function(x,g){x.setAltNumber(g),this.buildParseTrees&&this._ctx!==x&&this._ctx.parentCtx!==null&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(x)),this._ctx=x},o.prototype.getPrecedence=function(){return this._precedenceStack.length===0?-1:this._precedenceStack[this._precedenceStack.length-1]},o.prototype.enterRecursionRule=function(x,g,D,E){this.state=g,this._precedenceStack.push(E),this._ctx=x,this._ctx.start=this._input.LT(1),this._parseListeners!==null&&this.triggerEnterRuleEvent()},o.prototype.pushNewRecursionContext=function(x,g,D){var E=this._ctx;E.parentCtx=x,E.invokingState=g,E.stop=this._input.LT(-1),this._ctx=x,this._ctx.start=E.start,this.buildParseTrees&&this._ctx.addChild(E),this._parseListeners!==null&&this.triggerEnterRuleEvent()},o.prototype.unrollRecursionContexts=function(x){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);var g=this._ctx;if(this._parseListeners!==null)for(;this._ctx!==x;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=x;g.parentCtx=x,this.buildParseTrees&&x!==null&&x.addChild(g)},o.prototype.getInvokingContext=function(x){for(var g=this._ctx;g!==null;){if(g.ruleIndex===x)return g;g=g.parentCtx}return null},o.prototype.precpred=function(x,g){return g>=this._precedenceStack[this._precedenceStack.length-1]},o.prototype.inContext=function(x){return!1},o.prototype.isExpectedToken=function(x){var g=this._interp.atn,D=this._ctx,E=g.states[this.state];if((C=g.nextTokens(E)).contains(x))return!0;if(!C.contains(b.EPSILON))return!1;for(;D!==null&&0<=D.invokingState&&C.contains(b.EPSILON);){var C,T=g.states[D.invokingState].transitions[0];if((C=g.nextTokens(T.followState)).contains(x))return!0;D=D.parentCtx}return!(!C.contains(b.EPSILON)||x!==b.EOF)},o.prototype.getExpectedTokens=function(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)},o.prototype.getExpectedTokensWithinCurrentRule=function(){var x=this._interp.atn,g=x.states[this.state];return x.nextTokens(g)},o.prototype.getRuleIndex=function(x){var g=this.getRuleIndexMap()[x];return g!==null?g:-1},o.prototype.getRuleInvocationStack=function(x){(x=x||null)===null&&(x=this._ctx);for(var g=[];x!==null;){var D=x.ruleIndex;D<0?g.push("n/a"):g.push(this.ruleNames[D]),x=x.parentCtx}return g},o.prototype.getDFAStrings=function(){return this._interp.decisionToDFA.toString()},o.prototype.dumpDFA=function(){for(var x=!1,g=0;g<this._interp.decisionToDFA.length;g++){var D=this._interp.decisionToDFA[g];0<D.states.length&&(x&&console.log(),this.printer.println("Decision "+D.decision+":"),this.printer.print(D.toString(this.literalNames,this.symbolicNames)),x=!0)}},o.prototype.getSourceName=function(){return this._input.sourceName},o.prototype.setTrace=function(x){x?(this._tracer!==null&&this.removeParseListener(this._tracer),this._tracer=new y(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)},r.Parser=o},{"./Lexer":14,"./Recognizer":18,"./Token":20,"./atn/ATNDeserializationOptions":25,"./atn/ATNDeserializer":26,"./error/ErrorStrategy":44,"./tree/Tree":50}],16:[function(n,a,r){var b=n("./RuleContext").RuleContext,h=n("./tree/Tree"),m=h.INVALID_INTERVAL,p=h.TerminalNode,A=h.TerminalNodeImpl,S=h.ErrorNodeImpl,_=n("./IntervalSet").Interval;function l(o,f){o=o||null,f=f||null,b.call(this,o,f),this.ruleIndex=-1,this.children=null,this.start=null,this.stop=null,this.exception=null}function y(o,f,x){return l.call(o,f),this.ruleIndex=x,this}((l.prototype=Object.create(b.prototype)).constructor=l).prototype.copyFrom=function(o){this.parentCtx=o.parentCtx,this.invokingState=o.invokingState,this.children=null,this.start=o.start,this.stop=o.stop,o.children&&(this.children=[],o.children.map(function(f){f instanceof S&&(this.children.push(f),f.parentCtx=this)},this))},l.prototype.enterRule=function(o){},l.prototype.exitRule=function(o){},l.prototype.addChild=function(o){return this.children===null&&(this.children=[]),this.children.push(o),o},l.prototype.removeLastChild=function(){this.children!==null&&this.children.pop()},l.prototype.addTokenNode=function(o){var f=new A(o);return this.addChild(f),f.parentCtx=this,f},l.prototype.addErrorNode=function(o){var f=new S(o);return this.addChild(f),f.parentCtx=this,f},l.prototype.getChild=function(o,f){if(f=f||null,this.children===null||o<0||o>=this.children.length)return null;if(f===null)return this.children[o];for(var x=0;x<this.children.length;x++){var g=this.children[x];if(g instanceof f){if(o===0)return g;--o}}return null},l.prototype.getToken=function(o,f){if(this.children===null||f<0||f>=this.children.length)return null;for(var x=0;x<this.children.length;x++){var g=this.children[x];if(g instanceof p&&g.symbol.type===o){if(f===0)return g;--f}}return null},l.prototype.getTokens=function(o){if(this.children===null)return[];for(var f=[],x=0;x<this.children.length;x++){var g=this.children[x];g instanceof p&&g.symbol.type===o&&f.push(g)}return f},l.prototype.getTypedRuleContext=function(o,f){return this.getChild(f,o)},l.prototype.getTypedRuleContexts=function(o){if(this.children===null)return[];for(var f=[],x=0;x<this.children.length;x++){var g=this.children[x];g instanceof o&&f.push(g)}return f},l.prototype.getChildCount=function(){return this.children===null?0:this.children.length},l.prototype.getSourceInterval=function(){return this.start===null||this.stop===null?m:new _(this.start.tokenIndex,this.stop.tokenIndex)},b.EMPTY=new l,(y.prototype=Object.create(l.prototype)).constructor=y,r.ParserRuleContext=l},{"./IntervalSet":12,"./RuleContext":19,"./tree/Tree":50}],17:[function(n,a,r){var b=n("./RuleContext").RuleContext,h=n("./Utils").Hash;function m(y){this.cachedHashCode=y}function p(){return this.cache={},this}function A(y,o){var f,x=0;y!==null&&((f=new h).update(y,o),x=f.finish()),m.call(this,x),this.parentCtx=y,this.returnState=o}function S(){return A.call(this,null,m.EMPTY_RETURN_STATE),this}function _(y,o){var f=new h;f.update(y,o);var x=f.finish();return m.call(this,x),this.parents=y,this.returnStates=o,this}function l(y,o,f,x){if(y===o)return y;if(y instanceof A&&o instanceof A)return function(g,D,E,C){if(C!==null){var T=C.get(g,D);if(T!==null||(T=C.get(D,g))!==null)return T}var O=function(V,k,U){if(U){if(V===m.EMPTY||k===m.EMPTY)return m.EMPTY}else{if(V===m.EMPTY&&k===m.EMPTY)return m.EMPTY;if(V===m.EMPTY){var G=[k.returnState,m.EMPTY_RETURN_STATE];return new _([k.parentCtx,null],G)}if(k===m.EMPTY)return G=[V.returnState,m.EMPTY_RETURN_STATE],new _([V.parentCtx,null],G)}return null}(g,D,E);if(O!==null)return C!==null&&C.set(g,D,O),O;{if(g.returnState===D.returnState){var I=l(g.parentCtx,D.parentCtx,E,C);if(I===g.parentCtx)return g;if(I===D.parentCtx)return D;var M=A.create(I,g.returnState);return C!==null&&C.set(g,D,M),M}var F=null;if((g===D||g.parentCtx!==null&&g.parentCtx===D.parentCtx)&&(F=g.parentCtx),F!==null){var j=[g.returnState,D.returnState];g.returnState>D.returnState&&(j[0]=D.returnState,j[1]=g.returnState);var B=new _(L=[F,F],j);return C!==null&&C.set(g,D,B),B}var j=[g.returnState,D.returnState],L=[g.parentCtx,D.parentCtx];g.returnState>D.returnState&&(j[0]=D.returnState,j[1]=g.returnState,L=[D.parentCtx,g.parentCtx]);var R=new _(L,j);return C!==null&&C.set(g,D,R),R}}(y,o,f,x);if(f){if(y instanceof S)return y;if(o instanceof S)return o}return y instanceof A&&(y=new _([y.getParent()],[y.returnState])),o instanceof A&&(o=new _([o.getParent()],[o.returnState])),function(g,D,E,C){if(C!==null){var T=C.get(g,D);if(T!==null||(T=C.get(D,g))!==null)return T}for(var O=0,I=0,M=0,F=[],B=[];O<g.returnStates.length&&I<D.returnStates.length;){var j,L,R,V=g.parents[O],k=D.parents[I];g.returnStates[O]===D.returnStates[I]?(j=g.returnStates[O],L=V!==null&&k!==null&&V===k,j===m.EMPTY_RETURN_STATE&&V===null&&k===null||L?B[M]=V:(R=l(V,k,E,C),B[M]=R),F[M]=j,O+=1,I+=1):g.returnStates[O]<D.returnStates[I]?(B[M]=V,F[M]=g.returnStates[O],O+=1):(B[M]=k,F[M]=D.returnStates[I],I+=1),M+=1}if(O<g.returnStates.length)for(var U=O;U<g.returnStates.length;U++)B[M]=g.parents[U],F[M]=g.returnStates[U],M+=1;else for(U=I;U<D.returnStates.length;U++)B[M]=D.parents[U],F[M]=D.returnStates[U],M+=1;if(M<B.length){if(M===1){var G=A.create(B[0],F[0]);return C!==null&&C.set(g,D,G),G}B=B.slice(0,M),F=F.slice(0,M)}var H=new _(B,F);return H===g?(C!==null&&C.set(g,D,g),g):H===D?(C!==null&&C.set(g,D,D),D):(function(X){for(var Z={},J=0;J<X.length;J++){var ee=X[J];ee in Z||(Z[ee]=ee)}for(var $=0;$<X.length;$++)X[$]=Z[X[$]]}(B),C!==null&&C.set(g,D,H),H)}(y,o,f,x)}m.EMPTY=null,m.EMPTY_RETURN_STATE=2147483647,m.id=m.globalNodeCount=1,m.prototype.isEmpty=function(){return this===m.EMPTY},m.prototype.hasEmptyPath=function(){return this.getReturnState(this.length-1)===m.EMPTY_RETURN_STATE},m.prototype.hashCode=function(){return this.cachedHashCode},m.prototype.updateHashCode=function(y){y.update(this.cachedHashCode)},p.prototype.add=function(y){if(y===m.EMPTY)return m.EMPTY;var o=this.cache[y]||null;return o!==null?o:this.cache[y]=y},p.prototype.get=function(y){return this.cache[y]||null},Object.defineProperty(p.prototype,"length",{get:function(){return this.cache.length}}),((A.prototype=Object.create(m.prototype)).contructor=A).create=function(y,o){return o===m.EMPTY_RETURN_STATE&&y===null?m.EMPTY:new A(y,o)},Object.defineProperty(A.prototype,"length",{get:function(){return 1}}),A.prototype.getParent=function(y){return this.parentCtx},A.prototype.getReturnState=function(y){return this.returnState},A.prototype.equals=function(y){return this===y||y instanceof A&&this.hashCode()===y.hashCode()&&this.returnState===y.returnState&&(this.parentCtx==null?y.parentCtx==null:this.parentCtx.equals(y.parentCtx))},A.prototype.toString=function(){var y=this.parentCtx===null?"":this.parentCtx.toString();return y.length===0?this.returnState===m.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+y},((S.prototype=Object.create(A.prototype)).constructor=S).prototype.isEmpty=function(){return!0},S.prototype.getParent=function(y){return null},S.prototype.getReturnState=function(y){return this.returnState},S.prototype.equals=function(y){return this===y},S.prototype.toString=function(){return"$"},m.EMPTY=new S,((_.prototype=Object.create(m.prototype)).constructor=_).prototype.isEmpty=function(){return this.returnStates[0]===m.EMPTY_RETURN_STATE},Object.defineProperty(_.prototype,"length",{get:function(){return this.returnStates.length}}),_.prototype.getParent=function(y){return this.parents[y]},_.prototype.getReturnState=function(y){return this.returnStates[y]},_.prototype.equals=function(y){return this===y||y instanceof _&&this.hashCode()===y.hashCode()&&this.returnStates===y.returnStates&&this.parents===y.parents},_.prototype.toString=function(){if(this.isEmpty())return"[]";for(var y="[",o=0;o<this.returnStates.length;o++)0<o&&(y+=", "),this.returnStates[o]!==m.EMPTY_RETURN_STATE?(y+=this.returnStates[o],this.parents[o]!==null?y=y+" "+this.parents[o]:y+="null"):y+="$";return y+"]"},r.merge=l,r.PredictionContext=m,r.PredictionContextCache=p,r.SingletonPredictionContext=A,r.predictionContextFromRuleContext=function y(o,f){if(f==null&&(f=b.EMPTY),f.parentCtx===null||f===b.EMPTY)return m.EMPTY;var x=y(o,f.parentCtx),g=o.states[f.invokingState].transitions[0];return A.create(x,g.followState.stateNumber)},r.getCachedPredictionContext=function y(o,f,x){if(o.isEmpty())return o;var g=x[o]||null;if(g!==null)return g;if((g=f.get(o))!==null)return x[o]=g;for(var D=!1,E=[],C=0;C<E.length;C++){var T=y(o.getParent(C),f,x);if(D||T!==o.getParent(C)){if(!D){E=[];for(var O=0;O<o.length;O++)E[O]=o.getParent(O);D=!0}E[C]=T}}if(!D)return f.add(o),x[o]=o;var I=null,I=E.length===0?m.EMPTY:E.length===1?A.create(E[0],o.getReturnState(0)):new _(E,o.returnStates);return f.add(I),x[I]=I,x[o]=I}},{"./RuleContext":19,"./Utils":21}],18:[function(n,a,r){var b=n("./Token").Token,h=n("./error/ErrorListener").ConsoleErrorListener,m=n("./error/ErrorListener").ProxyErrorListener;function p(){return this._listeners=[h.INSTANCE],this._interp=null,this._stateNumber=-1,this}p.tokenTypeMapCache={},p.ruleIndexMapCache={},p.prototype.checkVersion=function(A){A!=="4.7.2"&&console.log("ANTLR runtime and generated code versions disagree: 4.7.2!="+A)},p.prototype.addErrorListener=function(A){this._listeners.push(A)},p.prototype.removeErrorListeners=function(){this._listeners=[]},p.prototype.getTokenTypeMap=function(){var A=this.getTokenNames();if(A===null)throw"The current recognizer does not provide a list of token names.";var S=this.tokenTypeMapCache[A];return S===void 0&&((S=A.reduce(function(_,l,y){_[l]=y})).EOF=b.EOF,this.tokenTypeMapCache[A]=S),S},p.prototype.getRuleIndexMap=function(){var A=this.ruleNames;if(A===null)throw"The current recognizer does not provide a list of rule names.";var S=this.ruleIndexMapCache[A];return S===void 0&&(S=A.reduce(function(_,l,y){_[l]=y}),this.ruleIndexMapCache[A]=S),S},p.prototype.getTokenType=function(A){var S=this.getTokenTypeMap()[A];return S!==void 0?S:b.INVALID_TYPE},p.prototype.getErrorHeader=function(A){return"line "+A.getOffendingToken().line+":"+A.getOffendingToken().column},p.prototype.getTokenErrorDisplay=function(A){if(A===null)return"<no token>";var S=A.text;return S===null&&(S=A.type===b.EOF?"<EOF>":"<"+A.type+">"),"'"+(S=S.replace(`
`,"\\n").replace("\r","\\r").replace("	","\\t"))+"'"},p.prototype.getErrorListenerDispatch=function(){return new m(this._listeners)},p.prototype.sempred=function(A,S,_){return!0},p.prototype.precpred=function(A,S){return!0},Object.defineProperty(p.prototype,"state",{get:function(){return this._stateNumber},set:function(A){this._stateNumber=A}}),r.Recognizer=p},{"./Token":20,"./error/ErrorListener":43}],19:[function(n,a,r){var b=n("./tree/Tree").RuleNode,h=n("./tree/Tree").INVALID_INTERVAL,m=n("./atn/ATN").INVALID_ALT_NUMBER;function p(S,_){return b.call(this),this.parentCtx=S||null,this.invokingState=_||-1,this}((p.prototype=Object.create(b.prototype)).constructor=p).prototype.depth=function(){for(var S=0,_=this;_!==null;)_=_.parentCtx,S+=1;return S},p.prototype.isEmpty=function(){return this.invokingState===-1},p.prototype.getSourceInterval=function(){return h},p.prototype.getRuleContext=function(){return this},p.prototype.getPayload=function(){return this},p.prototype.getText=function(){return this.getChildCount()===0?"":this.children.map(function(S){return S.getText()}).join("")},p.prototype.getAltNumber=function(){return m},p.prototype.setAltNumber=function(S){},p.prototype.getChild=function(S){return null},p.prototype.getChildCount=function(){return 0},p.prototype.accept=function(S){return S.visitChildren(this)},r.RuleContext=p;var A=n("./tree/Trees").Trees;p.prototype.toStringTree=function(S,_){return A.toStringTree(this,S,_)},p.prototype.toString=function(S,_){S=S||null,_=_||null;for(var l,y=this,o="[";y!==null&&y!==_;)S===null?y.isEmpty()||(o+=y.invokingState):o+=0<=(l=y.ruleIndex)&&l<S.length?S[l]:""+l,y.parentCtx===null||S===null&&y.parentCtx.isEmpty()||(o+=" "),y=y.parentCtx;return o+="]"}},{"./atn/ATN":22,"./tree/Tree":50,"./tree/Trees":51}],20:[function(n,a,r){function b(){return this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null,this}function h(m,p,A,S,_){return b.call(this),this.source=m!==void 0?m:h.EMPTY_SOURCE,this.type=p!==void 0?p:null,this.channel=A!==void 0?A:b.DEFAULT_CHANNEL,this.start=S!==void 0?S:-1,this.stop=_!==void 0?_:-1,this.tokenIndex=-1,this.source[0]!==null?(this.line=m[0].line,this.column=m[0].column):this.column=-1,this}b.INVALID_TYPE=0,b.EPSILON=-2,b.MIN_USER_TOKEN_TYPE=1,b.EOF=-1,b.DEFAULT_CHANNEL=0,b.HIDDEN_CHANNEL=1,Object.defineProperty(b.prototype,"text",{get:function(){return this._text},set:function(m){this._text=m}}),b.prototype.getTokenSource=function(){return this.source[0]},b.prototype.getInputStream=function(){return this.source[1]},((h.prototype=Object.create(b.prototype)).constructor=h).EMPTY_SOURCE=[null,null],h.prototype.clone=function(){var m=new h(this.source,this.type,this.channel,this.start,this.stop);return m.tokenIndex=this.tokenIndex,m.line=this.line,m.column=this.column,m.text=this.text,m},Object.defineProperty(h.prototype,"text",{get:function(){if(this._text!==null)return this._text;var m=this.getInputStream();if(m===null)return null;var p=m.size;return this.start<p&&this.stop<p?m.getText(this.start,this.stop):"<EOF>"},set:function(m){this._text=m}}),h.prototype.toString=function(){var m=(m=this.text)!==null?m.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>";return"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+m+"',<"+this.type+">"+(0<this.channel?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"},r.Token=b,r.CommonToken=h},{}],21:[function(n,a,r){function b(o){return"["+o.join(", ")+"]"}function h(o,f){return o.equals(f)}function m(o){return o.hashCode()}function p(o,f){return this.data={},this.hashFunction=o||m,this.equalsFunction=f||h,this}function A(){return this.data=[],this}function S(o,f){return this.data={},this.hashFunction=o||m,this.equalsFunction=f||h,this}function _(){return this.data={},this}function l(){return this}function y(){return this.count=0,this.hash=0,this}String.prototype.seed=String.prototype.seed||Math.round(Math.random()*Math.pow(2,32)),String.prototype.hashCode=function(){for(var o,f,x=this.toString(),g=3&x.length,D=x.length-g,E=String.prototype.seed,C=3432918353,T=461845907,O=0;O<D;)f=255&x.charCodeAt(O)|(255&x.charCodeAt(++O))<<8|(255&x.charCodeAt(++O))<<16|(255&x.charCodeAt(++O))<<24,++O,E=27492+(65535&(o=5*(65535&(E=(E^=f=(65535&(f=(f=(65535&f)*C+(((f>>>16)*C&65535)<<16)&4294967295)<<15|f>>>17))*T+(((f>>>16)*T&65535)<<16)&4294967295)<<13|E>>>19))+((5*(E>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(f=0,g){case 3:f^=(255&x.charCodeAt(O+2))<<16;case 2:f^=(255&x.charCodeAt(O+1))<<8;case 1:E^=f=(65535&(f=(f=(65535&(f^=255&x.charCodeAt(O)))*C+(((f>>>16)*C&65535)<<16)&4294967295)<<15|f>>>17))*T+(((f>>>16)*T&65535)<<16)&4294967295}return E^=x.length,E=2246822507*(65535&(E^=E>>>16))+((2246822507*(E>>>16)&65535)<<16)&4294967295,E=3266489909*(65535&(E^=E>>>13))+((3266489909*(E>>>16)&65535)<<16)&4294967295,(E^=E>>>16)>>>0},Object.defineProperty(p.prototype,"length",{get:function(){var o=0;for(var f in this.data)f.indexOf("hash_")===0&&(o+=this.data[f].length);return o}}),p.prototype.add=function(o){var f="hash_"+this.hashFunction(o);if(f in this.data){for(var x=this.data[f],g=0;g<x.length;g++)if(this.equalsFunction(o,x[g]))return x[g];return x.push(o),o}return this.data[f]=[o],o},p.prototype.contains=function(o){return this.get(o)!=null},p.prototype.get=function(o){var f="hash_"+this.hashFunction(o);if(f in this.data){for(var x=this.data[f],g=0;g<x.length;g++)if(this.equalsFunction(o,x[g]))return x[g]}return null},p.prototype.values=function(){var o=[];for(var f in this.data)f.indexOf("hash_")===0&&(o=o.concat(this.data[f]));return o},p.prototype.toString=function(){return b(this.values())},A.prototype.add=function(o){this.data[o]=!0},A.prototype.or=function(o){var f=this;Object.keys(o.data).map(function(x){f.add(x)})},A.prototype.remove=function(o){delete this.data[o]},A.prototype.contains=function(o){return this.data[o]===!0},A.prototype.values=function(){return Object.keys(this.data)},A.prototype.minValue=function(){return Math.min.apply(null,this.values())},A.prototype.hashCode=function(){var o=new y;return o.update(this.values()),o.finish()},A.prototype.equals=function(o){return o instanceof A&&this.hashCode()===o.hashCode()},Object.defineProperty(A.prototype,"length",{get:function(){return this.values().length}}),A.prototype.toString=function(){return"{"+this.values().join(", ")+"}"},Object.defineProperty(S.prototype,"length",{get:function(){var o=0;for(var f in this.data)f.indexOf("hash_")===0&&(o+=this.data[f].length);return o}}),S.prototype.put=function(o,f){var x="hash_"+this.hashFunction(o);if(x in this.data){for(var g=this.data[x],D=0;D<g.length;D++){var E=g[D];if(this.equalsFunction(o,E.key)){var C=E.value;return E.value=f,C}}return g.push({key:o,value:f}),f}return this.data[x]=[{key:o,value:f}],f},S.prototype.containsKey=function(o){var f="hash_"+this.hashFunction(o);if(f in this.data)for(var x=this.data[f],g=0;g<x.length;g++){var D=x[g];if(this.equalsFunction(o,D.key))return!0}return!1},S.prototype.get=function(o){var f="hash_"+this.hashFunction(o);if(f in this.data)for(var x=this.data[f],g=0;g<x.length;g++){var D=x[g];if(this.equalsFunction(o,D.key))return D.value}return null},S.prototype.entries=function(){var o=[];for(var f in this.data)f.indexOf("hash_")===0&&(o=o.concat(this.data[f]));return o},S.prototype.getKeys=function(){return this.entries().map(function(o){return o.key})},S.prototype.getValues=function(){return this.entries().map(function(o){return o.value})},S.prototype.toString=function(){return"["+this.entries().map(function(o){return"{"+o.key+":"+o.value+"}"}).join(", ")+"]"},_.prototype.get=function(o){return(o="k-"+o)in this.data?this.data[o]:null},_.prototype.put=function(o,f){o="k-"+o,this.data[o]=f},_.prototype.values=function(){var o=this.data;return Object.keys(this.data).map(function(f){return o[f]})},y.prototype.update=function(){for(var o=0;o<arguments.length;o++){var f=arguments[o];if(f!=null)if(Array.isArray(f))this.update.apply(f);else{var x=0;switch(typeof f){case"undefined":case"function":continue;case"number":case"boolean":x=f;break;case"string":x=f.hashCode();break;default:f.updateHashCode(this);continue}x=(x*=3432918353)<<15|x>>>17,x*=461845907,this.count=this.count+1;var g=this.hash^x;g=5*(g=g<<13|g>>>19)+3864292196,this.hash=g}}},y.prototype.finish=function(){var o=this.hash^4*this.count;return o^=o>>>16,o*=2246822507,o^=o>>>13,o*=3266489909,o^=o>>>16},l.prototype.get=function(o,f){var x=this[o]||null;return x!==null&&x[f]||null},l.prototype.set=function(o,f,x){var g=this[o]||null;g===null&&(g={},this[o]=g),g[f]=x},r.Hash=y,r.Set=p,r.Map=S,r.BitSet=A,r.AltDict=_,r.DoubleDict=l,r.hashStuff=function(){var o=new y;return o.update.apply(arguments),o.finish()},r.escapeWhitespace=function(o,f){return o=o.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r"),f&&(o=o.replace(/ /g,"")),o},r.arrayToString=b,r.titleCase=function(o){return o.replace(/\w\S*/g,function(f){return f.charAt(0).toUpperCase()+f.substr(1)})},r.equalArrays=function(o,f){if(!Array.isArray(o)||!Array.isArray(f))return!1;if(o==f)return!0;if(o.length!=f.length)return!1;for(var x=0;x<o.length;x++)if(o[x]!=f[x]&&!o[x].equals(f[x]))return!1;return!0}},{}],22:[function(n,a,r){var b=n("./../LL1Analyzer").LL1Analyzer,h=n("./../IntervalSet").IntervalSet;function m(A,S){return this.grammarType=A,this.maxTokenType=S,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[],this}m.prototype.nextTokensInContext=function(A,S){return new b(this).LOOK(A,null,S)},m.prototype.nextTokensNoContext=function(A){return A.nextTokenWithinRule!==null||(A.nextTokenWithinRule=this.nextTokensInContext(A,null),A.nextTokenWithinRule.readOnly=!0),A.nextTokenWithinRule},m.prototype.nextTokens=function(A,S){return S===void 0?this.nextTokensNoContext(A):this.nextTokensInContext(A,S)},m.prototype.addState=function(A){A!==null&&(A.atn=this,A.stateNumber=this.states.length),this.states.push(A)},m.prototype.removeState=function(A){this.states[A.stateNumber]=null},m.prototype.defineDecisionState=function(A){return this.decisionToState.push(A),A.decision=this.decisionToState.length-1,A.decision},m.prototype.getDecisionState=function(A){return this.decisionToState.length===0?null:this.decisionToState[A]};var p=n("./../Token").Token;m.prototype.getExpectedTokens=function(A,S){if(A<0||A>=this.states.length)throw"Invalid state number.";var _=this.states[A];if(!(o=this.nextTokens(_)).contains(p.EPSILON))return o;var l=new h;for(l.addSet(o),l.removeOne(p.EPSILON);S!==null&&0<=S.invokingState&&o.contains(p.EPSILON);){var y=this.states[S.invokingState].transitions[0],o=this.nextTokens(y.followState);l.addSet(o),l.removeOne(p.EPSILON),S=S.parentCtx}return o.contains(p.EPSILON)&&l.addOne(p.EOF),l},m.INVALID_ALT_NUMBER=0,r.ATN=m},{"./../IntervalSet":12,"./../LL1Analyzer":13,"./../Token":20}],23:[function(n,a,r){var b=n("./ATNState").DecisionState,h=n("./SemanticContext").SemanticContext,m=n("../Utils").Hash;function p(_,l){if(_===null){var y={state:null,alt:null,context:null,semanticContext:null};return l&&(y.reachesIntoOuterContext=0),y}var o={};return o.state=_.state||null,o.alt=_.alt===void 0?null:_.alt,o.context=_.context||null,o.semanticContext=_.semanticContext||null,l&&(o.reachesIntoOuterContext=_.reachesIntoOuterContext||0,o.precedenceFilterSuppressed=_.precedenceFilterSuppressed||!1),o}function A(_,l){return this.checkContext(_,l),_=p(_),l=p(l,!0),this.state=_.state!==null?_.state:l.state,this.alt=_.alt!==null?_.alt:l.alt,this.context=_.context!==null?_.context:l.context,this.semanticContext=_.semanticContext!==null?_.semanticContext:l.semanticContext!==null?l.semanticContext:h.NONE,this.reachesIntoOuterContext=l.reachesIntoOuterContext,this.precedenceFilterSuppressed=l.precedenceFilterSuppressed,this}function S(_,l){A.call(this,_,l);var y=_.lexerActionExecutor||null;return this.lexerActionExecutor=y||(l!==null?l.lexerActionExecutor:null),this.passedThroughNonGreedyDecision=l!==null&&this.checkNonGreedyDecision(l,this.state),this}A.prototype.checkContext=function(_,l){_.context!==null&&_.context!==void 0||l!==null&&l.context!==null&&l.context!==void 0||(this.context=null)},A.prototype.hashCode=function(){var _=new m;return this.updateHashCode(_),_.finish()},A.prototype.updateHashCode=function(_){_.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)},A.prototype.equals=function(_){return this===_||_ instanceof A&&this.state.stateNumber===_.state.stateNumber&&this.alt===_.alt&&(this.context===null?_.context===null:this.context.equals(_.context))&&this.semanticContext.equals(_.semanticContext)&&this.precedenceFilterSuppressed===_.precedenceFilterSuppressed},A.prototype.hashCodeForConfigSet=function(){var _=new m;return _.update(this.state.stateNumber,this.alt,this.semanticContext),_.finish()},A.prototype.equalsForConfigSet=function(_){return this===_||_ instanceof A&&this.state.stateNumber===_.state.stateNumber&&this.alt===_.alt&&this.semanticContext.equals(_.semanticContext)},A.prototype.toString=function(){return"("+this.state+","+this.alt+(this.context!==null?",["+this.context.toString()+"]":"")+(this.semanticContext!==h.NONE?","+this.semanticContext.toString():"")+(0<this.reachesIntoOuterContext?",up="+this.reachesIntoOuterContext:"")+")"},((S.prototype=Object.create(A.prototype)).constructor=S).prototype.updateHashCode=function(_){_.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)},S.prototype.equals=function(_){return this===_||_ instanceof S&&this.passedThroughNonGreedyDecision==_.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(_.lexerActionExecutor):!_.lexerActionExecutor)&&A.prototype.equals.call(this,_)},S.prototype.hashCodeForConfigSet=S.prototype.hashCode,S.prototype.equalsForConfigSet=S.prototype.equals,S.prototype.checkNonGreedyDecision=function(_,l){return _.passedThroughNonGreedyDecision||l instanceof b&&l.nonGreedy},r.ATNConfig=A,r.LexerATNConfig=S},{"../Utils":21,"./ATNState":28,"./SemanticContext":35}],24:[function(n,a,r){var b=n("./ATN").ATN,h=n("./../Utils"),m=h.Hash,p=h.Set,A=n("./SemanticContext").SemanticContext,S=n("./../PredictionContext").merge;function _(f){return f.hashCodeForConfigSet()}function l(f,x){return f===x||f!==null&&x!==null&&f.equalsForConfigSet(x)}function y(f){return this.configLookup=new p(_,l),this.fullCtx=f===void 0||f,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1,this}function o(){return y.call(this),this.configLookup=new p,this}y.prototype.add=function(f,x){if(x===void 0&&(x=null),this.readOnly)throw"This set is readonly";f.semanticContext!==A.NONE&&(this.hasSemanticContext=!0),0<f.reachesIntoOuterContext&&(this.dipsIntoOuterContext=!0);var g=this.configLookup.add(f);if(g===f)return this.cachedHashCode=-1,this.configs.push(f),!0;var D=!this.fullCtx,E=S(g.context,f.context,D,x);return g.reachesIntoOuterContext=Math.max(g.reachesIntoOuterContext,f.reachesIntoOuterContext),f.precedenceFilterSuppressed&&(g.precedenceFilterSuppressed=!0),g.context=E,!0},y.prototype.getStates=function(){for(var f=new p,x=0;x<this.configs.length;x++)f.add(this.configs[x].state);return f},y.prototype.getPredicates=function(){for(var f=[],x=0;x<this.configs.length;x++){var g=this.configs[x].semanticContext;g!==A.NONE&&f.push(g.semanticContext)}return f},Object.defineProperty(y.prototype,"items",{get:function(){return this.configs}}),y.prototype.optimizeConfigs=function(f){if(this.readOnly)throw"This set is readonly";if(this.configLookup.length!==0)for(var x=0;x<this.configs.length;x++){var g=this.configs[x];g.context=f.getCachedContext(g.context)}},y.prototype.addAll=function(f){for(var x=0;x<f.length;x++)this.add(f[x]);return!1},y.prototype.equals=function(f){return this===f||f instanceof y&&h.equalArrays(this.configs,f.configs)&&this.fullCtx===f.fullCtx&&this.uniqueAlt===f.uniqueAlt&&this.conflictingAlts===f.conflictingAlts&&this.hasSemanticContext===f.hasSemanticContext&&this.dipsIntoOuterContext===f.dipsIntoOuterContext},y.prototype.hashCode=function(){var f=new m;return this.updateHashCode(f),f.finish()},y.prototype.updateHashCode=function(f){this.readOnly?(this.cachedHashCode===-1&&((f=new m).update(this.configs),this.cachedHashCode=f.finish()),f.update(this.cachedHashCode)):f.update(this.configs)},Object.defineProperty(y.prototype,"length",{get:function(){return this.configs.length}}),y.prototype.isEmpty=function(){return this.configs.length===0},y.prototype.contains=function(f){if(this.configLookup===null)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(f)},y.prototype.containsFast=function(f){if(this.configLookup===null)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(f)},y.prototype.clear=function(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new p},y.prototype.setReadonly=function(f){(this.readOnly=f)&&(this.configLookup=null)},y.prototype.toString=function(){return h.arrayToString(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==b.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(this.conflictingAlts!==null?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")},(o.prototype=Object.create(y.prototype)).constructor=o,r.ATNConfigSet=y,r.OrderedATNConfigSet=o},{"./../PredictionContext":17,"./../Utils":21,"./ATN":22,"./SemanticContext":35}],25:[function(n,a,r){function b(h){return h===void 0&&(h=null),this.readOnly=!1,this.verifyATN=h===null||h.verifyATN,this.generateRuleBypassTransitions=h!==null&&h.generateRuleBypassTransitions,this}(b.defaultOptions=new b).readOnly=!0,r.ATNDeserializationOptions=b},{}],26:[function(n,a,r){var b=n("./../Token").Token,h=n("./ATN").ATN,m=n("./ATNType").ATNType,p=n("./ATNState"),A=p.ATNState,S=p.BasicState,_=p.DecisionState,l=p.BlockStartState,y=p.BlockEndState,o=p.LoopEndState,f=p.RuleStartState,x=p.RuleStopState,g=p.TokensStartState,D=p.PlusLoopbackState,E=p.StarLoopbackState,C=p.StarLoopEntryState,T=p.PlusBlockStartState,O=p.StarBlockStartState,I=p.BasicBlockStartState,M=n("./Transition"),F=M.Transition,B=M.AtomTransition,j=M.SetTransition,L=M.NotSetTransition,R=M.RuleTransition,V=M.RangeTransition,k=M.ActionTransition,U=M.EpsilonTransition,G=M.WildcardTransition,H=M.PredicateTransition,X=M.PrecedencePredicateTransition,Z=n("./../IntervalSet").IntervalSet,J=(n("./../IntervalSet").Interval,n("./ATNDeserializationOptions").ATNDeserializationOptions),ee=n("./LexerAction"),$=ee.LexerActionType,W=ee.LexerSkipAction,Q=ee.LexerChannelAction,te=ee.LexerCustomAction,ce=ee.LexerMoreAction,oe=ee.LexerTypeAction,ue=ee.LexerPushModeAction,we=ee.LexerPopModeAction,le=ee.LexerModeAction,fe="59627784-3BE5-417A-B9EB-8131A7286089",ve=["AADB8D7E-AEEF-4415-AD2B-8204D6CF042E",fe];function pe(be,ne){var re=[];return re[be-1]=ne,re.map(function(de){return ne})}function ye(be){return be==null&&(be=J.defaultOptions),this.deserializationOptions=be,this.stateFactories=null,this.actionFactories=null,this}ye.prototype.isFeatureSupported=function(be,ne){var re=ve.indexOf(be);return!(re<0)&&re<=ve.indexOf(ne)},ye.prototype.deserialize=function(be){this.reset(be),this.checkVersion(),this.checkUUID();var ne=this.readATN();this.readStates(ne),this.readRules(ne),this.readModes(ne);var re=[];return this.readSets(ne,re,this.readInt.bind(this)),this.isFeatureSupported(fe,this.uuid)&&this.readSets(ne,re,this.readInt32.bind(this)),this.readEdges(ne,re),this.readDecisions(ne),this.readLexerActions(ne),this.markPrecedenceDecisions(ne),this.verifyATN(ne),this.deserializationOptions.generateRuleBypassTransitions&&ne.grammarType===m.PARSER&&(this.generateRuleBypassTransitions(ne),this.verifyATN(ne)),ne},ye.prototype.reset=function(be){var ne=be.split("").map(function(re){var de=re.charCodeAt(0);return 1<de?de-2:de+65533});ne[0]=be.charCodeAt(0),this.data=ne,this.pos=0},ye.prototype.checkVersion=function(){var be=this.readInt();if(be!==3)throw"Could not deserialize ATN with version "+be+" (expected 3)."},ye.prototype.checkUUID=function(){var be=this.readUUID();if(ve.indexOf(be)<0)throw"59627784-3BE5-417A-B9EB-8131A7286089";this.uuid=be},ye.prototype.readATN=function(){var be=this.readInt(),ne=this.readInt();return new h(be,ne)},ye.prototype.readStates=function(be){for(var ne,re,de=[],Ce=[],je=this.readInt(),xe=0;xe<je;xe++){var Ie,Ne,Be,$e,Le=this.readInt();Le!==A.INVALID_TYPE?((Ie=this.readInt())===65535&&(Ie=-1),Ne=this.stateFactory(Le,Ie),Le===A.LOOP_END?(Be=this.readInt(),de.push([Ne,Be])):Ne instanceof l&&($e=this.readInt(),Ce.push([Ne,$e])),be.addState(Ne)):be.addState(null)}for(ze=0;ze<de.length;ze++)(ne=de[ze])[0].loopBackState=be.states[ne[1]];for(ze=0;ze<Ce.length;ze++)(ne=Ce[ze])[0].endState=be.states[ne[1]];for(var qe=this.readInt(),ze=0;ze<qe;ze++)re=this.readInt(),be.states[re].nonGreedy=!0;var Ee=this.readInt();for(ze=0;ze<Ee;ze++)re=this.readInt(),be.states[re].isPrecedenceRule=!0},ye.prototype.readRules=function(be){var ne,re=this.readInt();for(be.grammarType===m.LEXER&&(be.ruleToTokenType=pe(re,0)),be.ruleToStartState=pe(re,0),ne=0;ne<re;ne++){var de,Ce=this.readInt(),je=be.states[Ce];be.ruleToStartState[ne]=je,be.grammarType===m.LEXER&&((de=this.readInt())===65535&&(de=b.EOF),be.ruleToTokenType[ne]=de)}for(be.ruleToStopState=pe(re,0),ne=0;ne<be.states.length;ne++){var xe=be.states[ne];xe instanceof x&&(be.ruleToStopState[xe.ruleIndex]=xe,be.ruleToStartState[xe.ruleIndex].stopState=xe)}},ye.prototype.readModes=function(be){for(var ne=this.readInt(),re=0;re<ne;re++){var de=this.readInt();be.modeToStartState.push(be.states[de])}},ye.prototype.readSets=function(be,ne,re){for(var de=this.readInt(),Ce=0;Ce<de;Ce++){var je=new Z;ne.push(je);var xe=this.readInt();this.readInt()!==0&&je.addOne(-1);for(var Ie=0;Ie<xe;Ie++){var Ne=re(),Be=re();je.addRange(Ne,Be)}}},ye.prototype.readEdges=function(be,ne){for(var re,de,Ce,je=this.readInt(),xe=0;xe<je;xe++){var Ie=this.readInt(),Ne=this.readInt(),Be=this.readInt(),$e=this.readInt(),Le=this.readInt(),qe=this.readInt(),ze=this.edgeFactory(be,Be,Ie,Ne,$e,Le,qe,ne);be.states[Ie].addTransition(ze)}for(xe=0;xe<be.states.length;xe++)for(de=be.states[xe],re=0;re<de.transitions.length;re++){var Ee,Se=de.transitions[re];Se instanceof R&&(Ee=-1,be.ruleToStartState[Se.target.ruleIndex].isPrecedenceRule&&Se.precedence===0&&(Ee=Se.target.ruleIndex),ze=new U(Se.followState,Ee),be.ruleToStopState[Se.target.ruleIndex].addTransition(ze))}for(xe=0;xe<be.states.length;xe++){if((de=be.states[xe])instanceof l){if(de.endState===null||de.endState.startState!==null)throw"IllegalState";de.endState.startState=de}if(de instanceof D)for(re=0;re<de.transitions.length;re++)(Ce=de.transitions[re].target)instanceof T&&(Ce.loopBackState=de);else if(de instanceof E)for(re=0;re<de.transitions.length;re++)(Ce=de.transitions[re].target)instanceof C&&(Ce.loopBackState=de)}},ye.prototype.readDecisions=function(be){for(var ne=this.readInt(),re=0;re<ne;re++){var de=this.readInt(),Ce=be.states[de];be.decisionToState.push(Ce),Ce.decision=re}},ye.prototype.readLexerActions=function(be){if(be.grammarType===m.LEXER){var ne=this.readInt();be.lexerActions=pe(ne,null);for(var re=0;re<ne;re++){var de=this.readInt(),Ce=this.readInt();Ce===65535&&(Ce=-1);var je=this.readInt();je===65535&&(je=-1);var xe=this.lexerActionFactory(de,Ce,je);be.lexerActions[re]=xe}}},ye.prototype.generateRuleBypassTransitions=function(be){for(var ne=be.ruleToStartState.length,re=0;re<ne;re++)be.ruleToTokenType[re]=be.maxTokenType+re+1;for(re=0;re<ne;re++)this.generateRuleBypassTransition(be,re)},ye.prototype.generateRuleBypassTransition=function(be,ne){var re,de,Ce=new I;Ce.ruleIndex=ne,be.addState(Ce);var je=new y;je.ruleIndex=ne,be.addState(je),Ce.endState=je,be.defineDecisionState(Ce),je.startState=Ce;var xe=null,Ie=null;if(be.ruleToStartState[ne].isPrecedenceRule){for(Ie=null,re=0;re<be.states.length;re++)if(de=be.states[re],this.stateIsEndStateFor(de,ne)){xe=(Ie=de).loopBackState.transitions[0];break}if(xe===null)throw"Couldn't identify final state of the precedence rule prefix section."}else Ie=be.ruleToStopState[ne];for(re=0;re<be.states.length;re++){de=be.states[re];for(var Ne=0;Ne<de.transitions.length;Ne++){var Be=de.transitions[Ne];Be!==xe&&Be.target===Ie&&(Be.target=je)}}for(var $e=be.ruleToStartState[ne],Le=$e.transitions.length;0<Le;)Ce.addTransition($e.transitions[Le-1]),$e.transitions=$e.transitions.slice(-1);be.ruleToStartState[ne].addTransition(new U(Ce)),je.addTransition(new U(Ie));var qe=new S;be.addState(qe),qe.addTransition(new B(je,be.ruleToTokenType[ne])),Ce.addTransition(new U(qe))},ye.prototype.stateIsEndStateFor=function(be,ne){if(be.ruleIndex!==ne||!(be instanceof C))return null;var re=be.transitions[be.transitions.length-1].target;return re instanceof o&&re.epsilonOnlyTransitions&&re.transitions[0].target instanceof x?be:null},ye.prototype.markPrecedenceDecisions=function(be){for(var ne=0;ne<be.states.length;ne++){var re,de=be.states[ne];de instanceof C&&(!be.ruleToStartState[de.ruleIndex].isPrecedenceRule||(re=de.transitions[de.transitions.length-1].target)instanceof o&&re.epsilonOnlyTransitions&&re.transitions[0].target instanceof x&&(de.isPrecedenceDecision=!0))}},ye.prototype.verifyATN=function(be){if(this.deserializationOptions.verifyATN)for(var ne=0;ne<be.states.length;ne++){var re=be.states[ne];if(re!==null)if(this.checkCondition(re.epsilonOnlyTransitions||re.transitions.length<=1),re instanceof T)this.checkCondition(re.loopBackState!==null);else if(re instanceof C)if(this.checkCondition(re.loopBackState!==null),this.checkCondition(re.transitions.length===2),re.transitions[0].target instanceof O)this.checkCondition(re.transitions[1].target instanceof o),this.checkCondition(!re.nonGreedy);else{if(!(re.transitions[0].target instanceof o))throw"IllegalState";this.checkCondition(re.transitions[1].target instanceof O),this.checkCondition(re.nonGreedy)}else re instanceof E?(this.checkCondition(re.transitions.length===1),this.checkCondition(re.transitions[0].target instanceof C)):re instanceof o?this.checkCondition(re.loopBackState!==null):re instanceof f?this.checkCondition(re.stopState!==null):re instanceof l?this.checkCondition(re.endState!==null):re instanceof y?this.checkCondition(re.startState!==null):re instanceof _?this.checkCondition(re.transitions.length<=1||0<=re.decision):this.checkCondition(re.transitions.length<=1||re instanceof x)}},ye.prototype.checkCondition=function(be,ne){if(!be)throw ne==null&&(ne="IllegalState"),ne},ye.prototype.readInt=function(){return this.data[this.pos++]},ye.prototype.readInt32=function(){return this.readInt()|this.readInt()<<16},ye.prototype.readLong=function(){return 4294967295&this.readInt32()|this.readInt32()<<32};var Ae=function(){for(var be=[],ne=0;ne<256;ne++)be[ne]=(ne+256).toString(16).substr(1).toUpperCase();return be}();ye.prototype.readUUID=function(){for(var be=[],ne=7;0<=ne;ne--){var re=this.readInt();be[2*ne+1]=255&re,be[2*ne]=re>>8&255}return Ae[be[0]]+Ae[be[1]]+Ae[be[2]]+Ae[be[3]]+"-"+Ae[be[4]]+Ae[be[5]]+"-"+Ae[be[6]]+Ae[be[7]]+"-"+Ae[be[8]]+Ae[be[9]]+"-"+Ae[be[10]]+Ae[be[11]]+Ae[be[12]]+Ae[be[13]]+Ae[be[14]]+Ae[be[15]]},ye.prototype.edgeFactory=function(be,ne,re,de,Ce,je,xe,Ie){var Ne=be.states[de];switch(ne){case F.EPSILON:return new U(Ne);case F.RANGE:return new V(Ne,xe!==0?b.EOF:Ce,je);case F.RULE:return new R(be.states[Ce],je,xe,Ne);case F.PREDICATE:return new H(Ne,Ce,je,xe!==0);case F.PRECEDENCE:return new X(Ne,Ce);case F.ATOM:return new B(Ne,xe!==0?b.EOF:Ce);case F.ACTION:return new k(Ne,Ce,je,xe!==0);case F.SET:return new j(Ne,Ie[Ce]);case F.NOT_SET:return new L(Ne,Ie[Ce]);case F.WILDCARD:return new G(Ne);default:throw"The specified transition type: "+ne+" is not valid."}},ye.prototype.stateFactory=function(be,ne){var re;if(this.stateFactories===null&&((re=[])[A.INVALID_TYPE]=null,re[A.BASIC]=function(){return new S},re[A.RULE_START]=function(){return new f},re[A.BLOCK_START]=function(){return new I},re[A.PLUS_BLOCK_START]=function(){return new T},re[A.STAR_BLOCK_START]=function(){return new O},re[A.TOKEN_START]=function(){return new g},re[A.RULE_STOP]=function(){return new x},re[A.BLOCK_END]=function(){return new y},re[A.STAR_LOOP_BACK]=function(){return new E},re[A.STAR_LOOP_ENTRY]=function(){return new C},re[A.PLUS_LOOP_BACK]=function(){return new D},re[A.LOOP_END]=function(){return new o},this.stateFactories=re),be>this.stateFactories.length||this.stateFactories[be]===null)throw"The specified state type "+be+" is not valid.";var de=this.stateFactories[be]();if(de!==null)return de.ruleIndex=ne,de},ye.prototype.lexerActionFactory=function(be,ne,re){var de;if(this.actionFactories===null&&((de=[])[$.CHANNEL]=function(Ce,je){return new Q(Ce)},de[$.CUSTOM]=function(Ce,je){return new te(Ce,je)},de[$.MODE]=function(Ce,je){return new le(Ce)},de[$.MORE]=function(Ce,je){return ce.INSTANCE},de[$.POP_MODE]=function(Ce,je){return we.INSTANCE},de[$.PUSH_MODE]=function(Ce,je){return new ue(Ce)},de[$.SKIP]=function(Ce,je){return W.INSTANCE},de[$.TYPE]=function(Ce,je){return new oe(Ce)},this.actionFactories=de),be>this.actionFactories.length||this.actionFactories[be]===null)throw"The specified lexer action type "+be+" is not valid.";return this.actionFactories[be](ne,re)},r.ATNDeserializer=ye},{"./../IntervalSet":12,"./../Token":20,"./ATN":22,"./ATNDeserializationOptions":25,"./ATNState":28,"./ATNType":29,"./LexerAction":31,"./Transition":36}],27:[function(n,a,r){var b=n("./../dfa/DFAState").DFAState,h=n("./ATNConfigSet").ATNConfigSet,m=n("./../PredictionContext").getCachedPredictionContext;function p(A,S){return this.atn=A,this.sharedContextCache=S,this}p.ERROR=new b(2147483647,new h),p.prototype.getCachedContext=function(A){return this.sharedContextCache===null?A:m(A,this.sharedContextCache,{})},r.ATNSimulator=p},{"./../PredictionContext":17,"./../dfa/DFAState":40,"./ATNConfigSet":24}],28:[function(n,a,r){function b(){return this.atn=null,this.stateNumber=b.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null,this}function h(){return b.call(this),this.stateType=b.BASIC,this}function m(){return b.call(this),this.decision=-1,this.nonGreedy=!1,this}function p(){return m.call(this),this.endState=null,this}function A(){return p.call(this),this.stateType=b.BLOCK_START,this}function S(){return b.call(this),this.stateType=b.BLOCK_END,this.startState=null,this}function _(){return b.call(this),this.stateType=b.RULE_STOP,this}function l(){return b.call(this),this.stateType=b.RULE_START,this.stopState=null,this.isPrecedenceRule=!1,this}function y(){return m.call(this),this.stateType=b.PLUS_LOOP_BACK,this}function o(){return p.call(this),this.stateType=b.PLUS_BLOCK_START,this.loopBackState=null,this}function f(){return p.call(this),this.stateType=b.STAR_BLOCK_START,this}function x(){return b.call(this),this.stateType=b.STAR_LOOP_BACK,this}function g(){return m.call(this),this.stateType=b.STAR_LOOP_ENTRY,this.loopBackState=null,this.isPrecedenceDecision=null,this}function D(){return b.call(this),this.stateType=b.LOOP_END,this.loopBackState=null,this}function E(){return m.call(this),this.stateType=b.TOKEN_START,this}b.INVALID_TYPE=0,b.BASIC=1,b.RULE_START=2,b.BLOCK_START=3,b.PLUS_BLOCK_START=4,b.STAR_BLOCK_START=5,b.TOKEN_START=6,b.RULE_STOP=7,b.BLOCK_END=8,b.STAR_LOOP_BACK=9,b.STAR_LOOP_ENTRY=10,b.PLUS_LOOP_BACK=11,b.LOOP_END=12,b.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],b.INVALID_STATE_NUMBER=-1,b.prototype.toString=function(){return this.stateNumber},b.prototype.equals=function(C){return C instanceof b&&this.stateNumber===C.stateNumber},b.prototype.isNonGreedyExitState=function(){return!1},b.prototype.addTransition=function(C,T){T===void 0&&(T=-1),this.transitions.length===0?this.epsilonOnlyTransitions=C.isEpsilon:this.epsilonOnlyTransitions!==C.isEpsilon&&(this.epsilonOnlyTransitions=!1),T===-1?this.transitions.push(C):this.transitions.splice(T,1,C)},(h.prototype=Object.create(b.prototype)).constructor=h,(m.prototype=Object.create(b.prototype)).constructor=m,(p.prototype=Object.create(m.prototype)).constructor=p,(A.prototype=Object.create(p.prototype)).constructor=A,(S.prototype=Object.create(b.prototype)).constructor=S,(_.prototype=Object.create(b.prototype)).constructor=_,(l.prototype=Object.create(b.prototype)).constructor=l,(y.prototype=Object.create(m.prototype)).constructor=y,(o.prototype=Object.create(p.prototype)).constructor=o,(f.prototype=Object.create(p.prototype)).constructor=f,(x.prototype=Object.create(b.prototype)).constructor=x,(g.prototype=Object.create(m.prototype)).constructor=g,(D.prototype=Object.create(b.prototype)).constructor=D,(E.prototype=Object.create(m.prototype)).constructor=E,r.ATNState=b,r.BasicState=h,r.DecisionState=m,r.BlockStartState=p,r.BlockEndState=S,r.LoopEndState=D,r.RuleStartState=l,r.RuleStopState=_,r.TokensStartState=E,r.PlusLoopbackState=y,r.StarLoopbackState=x,r.StarLoopEntryState=g,r.PlusBlockStartState=o,r.StarBlockStartState=f,r.BasicBlockStartState=A},{}],29:[function(n,a,r){function b(){}b.LEXER=0,b.PARSER=1,r.ATNType=b},{}],30:[function(n,a,r){var b=n("./../Token").Token,h=n("./../Lexer").Lexer,m=n("./ATN").ATN,p=n("./ATNSimulator").ATNSimulator,A=n("./../dfa/DFAState").DFAState,S=(n("./ATNConfigSet").ATNConfigSet,n("./ATNConfigSet").OrderedATNConfigSet),_=n("./../PredictionContext").PredictionContext,l=n("./../PredictionContext").SingletonPredictionContext,y=n("./ATNState").RuleStopState,o=n("./ATNConfig").LexerATNConfig,f=n("./Transition").Transition,x=n("./LexerActionExecutor").LexerActionExecutor,g=n("./../error/Errors").LexerNoViableAltException;function D(T){T.index=-1,T.line=0,T.column=-1,T.dfaState=null}function E(){return D(this),this}function C(T,O,I,M){return p.call(this,O,M),this.decisionToDFA=I,this.recog=T,this.startIndex=-1,this.line=1,this.column=0,this.mode=h.DEFAULT_MODE,this.prevAccept=new E,this}E.prototype.reset=function(){D(this)},((C.prototype=Object.create(p.prototype)).constructor=C).debug=!1,C.dfa_debug=!1,C.MIN_DFA_EDGE=0,C.MAX_DFA_EDGE=127,C.match_calls=0,C.prototype.copyState=function(T){this.column=T.column,this.line=T.line,this.mode=T.mode,this.startIndex=T.startIndex},C.prototype.match=function(T,O){this.match_calls+=1,this.mode=O;var I=T.mark();try{this.startIndex=T.index,this.prevAccept.reset();var M=this.decisionToDFA[O];return M.s0===null?this.matchATN(T):this.execATN(T,M.s0)}finally{T.release(I)}},C.prototype.reset=function(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=h.DEFAULT_MODE},C.prototype.matchATN=function(T){var O=this.atn.modeToStartState[this.mode];C.debug&&console.log("matchATN mode "+this.mode+" start: "+O);var I=this.mode,M=this.computeStartState(T,O),F=M.hasSemanticContext;M.hasSemanticContext=!1;var B=this.addDFAState(M);F||(this.decisionToDFA[this.mode].s0=B);var j=this.execATN(T,B);return C.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[I].toLexerString()),j},C.prototype.execATN=function(T,O){C.debug&&console.log("start state closure="+O.configs),O.isAcceptState&&this.captureSimState(this.prevAccept,T,O);for(var I=T.LA(1),M=O;;){C.debug&&console.log("execATN loop starting closure: "+M.configs);var F=this.getExistingTargetState(M,I);if(F===null&&(F=this.computeTargetState(T,M,I)),F===p.ERROR||(I!==b.EOF&&this.consume(T),F.isAcceptState&&(this.captureSimState(this.prevAccept,T,F),I===b.EOF)))break;I=T.LA(1),M=F}return this.failOrAccept(this.prevAccept,T,M.configs,I)},C.prototype.getExistingTargetState=function(T,O){if(T.edges===null||O<C.MIN_DFA_EDGE||C.MAX_DFA_EDGE<O)return null;var I=T.edges[O-C.MIN_DFA_EDGE];return I===void 0&&(I=null),C.debug&&I!==null&&console.log("reuse state "+T.stateNumber+" edge to "+I.stateNumber),I},C.prototype.computeTargetState=function(T,O,I){var M=new S;return this.getReachableConfigSet(T,O.configs,M,I),M.items.length===0?(M.hasSemanticContext||this.addDFAEdge(O,I,p.ERROR),p.ERROR):this.addDFAEdge(O,I,null,M)},C.prototype.failOrAccept=function(T,O,I,M){if(this.prevAccept.dfaState!==null){var F=T.dfaState.lexerActionExecutor;return this.accept(O,F,this.startIndex,T.index,T.line,T.column),T.dfaState.prediction}if(M===b.EOF&&O.index===this.startIndex)return b.EOF;throw new g(this.recog,O,this.startIndex,I)},C.prototype.getReachableConfigSet=function(T,O,I,M){for(var F=m.INVALID_ALT_NUMBER,B=0;B<O.items.length;B++){var j=O.items[B],L=j.alt===F;if(!L||!j.passedThroughNonGreedyDecision){C.debug&&console.log(`testing %s at %s
`,this.getTokenName(M),j.toString(this.recog,!0));for(var R=0;R<j.state.transitions.length;R++){var V,k,U,G=j.state.transitions[R],H=this.getReachableTarget(G,M);H!==null&&((V=j.lexerActionExecutor)!==null&&(V=V.fixOffsetBeforeMatch(T.index-this.startIndex)),k=M===b.EOF,U=new o({state:H,lexerActionExecutor:V},j),this.closure(T,U,I,L,!0,k)&&(F=j.alt))}}}},C.prototype.accept=function(T,O,I,M,F,B){C.debug&&console.log(`ACTION %s
`,O),T.seek(M),this.line=F,this.column=B,O!==null&&this.recog!==null&&O.execute(this.recog,T,I)},C.prototype.getReachableTarget=function(T,O){return T.matches(O,0,h.MAX_CHAR_VALUE)?T.target:null},C.prototype.computeStartState=function(T,O){for(var I=_.EMPTY,M=new S,F=0;F<O.transitions.length;F++){var B=O.transitions[F].target,j=new o({state:B,alt:F+1,context:I},null);this.closure(T,j,M,!1,!1,!1)}return M},C.prototype.closure=function(T,O,I,M,F,B){var j=null;if(C.debug&&console.log("closure("+O.toString(this.recog,!0)+")"),O.state instanceof y){if(C.debug&&(this.recog!==null?console.log(`closure at %s rule stop %s
`,this.recog.ruleNames[O.state.ruleIndex],O):console.log(`closure at rule stop %s
`,O)),O.context===null||O.context.hasEmptyPath()){if(O.context===null||O.context.isEmpty())return I.add(O),!0;I.add(new o({state:O.state,context:_.EMPTY},O)),M=!0}if(O.context!==null&&!O.context.isEmpty())for(var L,R,V=0;V<O.context.length;V++)O.context.getReturnState(V)!==_.EMPTY_RETURN_STATE&&(L=O.context.getParent(V),R=this.atn.states[O.context.getReturnState(V)],j=new o({state:R,context:L},O),M=this.closure(T,j,I,M,F,B));return M}O.state.epsilonOnlyTransitions||M&&O.passedThroughNonGreedyDecision||I.add(O);for(var k=0;k<O.state.transitions.length;k++){var U=O.state.transitions[k];(j=this.getEpsilonTarget(T,O,U,I,F,B))!==null&&(M=this.closure(T,j,I,M,F,B))}return M},C.prototype.getEpsilonTarget=function(T,O,I,M,F,B){var j,R=null;if(I.serializationType===f.RULE)var L=l.create(O.context,I.followState.stateNumber),R=new o({state:I.target,context:L},O);else{if(I.serializationType===f.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";I.serializationType===f.PREDICATE?(C.debug&&console.log("EVAL rule "+I.ruleIndex+":"+I.predIndex),M.hasSemanticContext=!0,this.evaluatePredicate(T,I.ruleIndex,I.predIndex,F)&&(R=new o({state:I.target},O))):I.serializationType===f.ACTION?R=O.context===null||O.context.hasEmptyPath()?(j=x.append(O.lexerActionExecutor,this.atn.lexerActions[I.actionIndex]),new o({state:I.target,lexerActionExecutor:j},O)):new o({state:I.target},O):I.serializationType===f.EPSILON?R=new o({state:I.target},O):I.serializationType!==f.ATOM&&I.serializationType!==f.RANGE&&I.serializationType!==f.SET||B&&I.matches(b.EOF,0,h.MAX_CHAR_VALUE)&&(R=new o({state:I.target},O))}return R},C.prototype.evaluatePredicate=function(T,O,I,M){if(this.recog===null)return!0;if(!M)return this.recog.sempred(null,O,I);var F=this.column,B=this.line,j=T.index,L=T.mark();try{return this.consume(T),this.recog.sempred(null,O,I)}finally{this.column=F,this.line=B,T.seek(j),T.release(L)}},C.prototype.captureSimState=function(T,O,I){T.index=O.index,T.line=this.line,T.column=this.column,T.dfaState=I},C.prototype.addDFAEdge=function(T,O,I,M){if(I===void 0&&(I=null),M===void 0&&(M=null),I===null&&M!==null){var F=M.hasSemanticContext;if(M.hasSemanticContext=!1,I=this.addDFAState(M),F)return I}return O<C.MIN_DFA_EDGE||C.MAX_DFA_EDGE<O?I:(C.debug&&console.log("EDGE "+T+" -> "+I+" upon "+O),T.edges===null&&(T.edges=[]),T.edges[O-C.MIN_DFA_EDGE]=I)},C.prototype.addDFAState=function(T){for(var O=new A(null,T),I=null,M=0;M<T.items.length;M++){var F=T.items[M];if(F.state instanceof y){I=F;break}}I!==null&&(O.isAcceptState=!0,O.lexerActionExecutor=I.lexerActionExecutor,O.prediction=this.atn.ruleToTokenType[I.state.ruleIndex]);var B=this.decisionToDFA[this.mode],j=B.states.get(O);if(j!==null)return j;var L=O;return L.stateNumber=B.states.length,T.setReadonly(!0),L.configs=T,B.states.add(L),L},C.prototype.getDFA=function(T){return this.decisionToDFA[T]},C.prototype.getText=function(T){return T.getText(this.startIndex,T.index-1)},C.prototype.consume=function(T){T.LA(1)===`
`.charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,T.consume()},C.prototype.getTokenName=function(T){return T===-1?"EOF":"'"+String.fromCharCode(T)+"'"},r.LexerATNSimulator=C},{"./../Lexer":14,"./../PredictionContext":17,"./../Token":20,"./../dfa/DFAState":40,"./../error/Errors":45,"./ATN":22,"./ATNConfig":23,"./ATNConfigSet":24,"./ATNSimulator":27,"./ATNState":28,"./LexerActionExecutor":32,"./Transition":36}],31:[function(n,a,r){function b(){}function h(x){return this.actionType=x,this.isPositionDependent=!1,this}function m(){return h.call(this,b.SKIP),this}function p(x){return h.call(this,b.TYPE),this.type=x,this}function A(x){return h.call(this,b.PUSH_MODE),this.mode=x,this}function S(){return h.call(this,b.POP_MODE),this}function _(){return h.call(this,b.MORE),this}function l(x){return h.call(this,b.MODE),this.mode=x,this}function y(x,g){return h.call(this,b.CUSTOM),this.ruleIndex=x,this.actionIndex=g,this.isPositionDependent=!0,this}function o(x){return h.call(this,b.CHANNEL),this.channel=x,this}function f(x,g){return h.call(this,g.actionType),this.offset=x,this.action=g,this.isPositionDependent=!0,this}b.CHANNEL=0,b.CUSTOM=1,b.MODE=2,b.MORE=3,b.POP_MODE=4,b.PUSH_MODE=5,b.SKIP=6,b.TYPE=7,h.prototype.hashCode=function(){var x=new Hash;return this.updateHashCode(x),x.finish()},h.prototype.updateHashCode=function(x){x.update(this.actionType)},h.prototype.equals=function(x){return this===x},((m.prototype=Object.create(h.prototype)).constructor=m).INSTANCE=new m,m.prototype.execute=function(x){x.skip()},m.prototype.toString=function(){return"skip"},((p.prototype=Object.create(h.prototype)).constructor=p).prototype.execute=function(x){x.type=this.type},p.prototype.updateHashCode=function(x){x.update(this.actionType,this.type)},p.prototype.equals=function(x){return this===x||x instanceof p&&this.type===x.type},p.prototype.toString=function(){return"type("+this.type+")"},((A.prototype=Object.create(h.prototype)).constructor=A).prototype.execute=function(x){x.pushMode(this.mode)},A.prototype.updateHashCode=function(x){x.update(this.actionType,this.mode)},A.prototype.equals=function(x){return this===x||x instanceof A&&this.mode===x.mode},A.prototype.toString=function(){return"pushMode("+this.mode+")"},((S.prototype=Object.create(h.prototype)).constructor=S).INSTANCE=new S,S.prototype.execute=function(x){x.popMode()},S.prototype.toString=function(){return"popMode"},((_.prototype=Object.create(h.prototype)).constructor=_).INSTANCE=new _,_.prototype.execute=function(x){x.more()},_.prototype.toString=function(){return"more"},((l.prototype=Object.create(h.prototype)).constructor=l).prototype.execute=function(x){x.mode(this.mode)},l.prototype.updateHashCode=function(x){x.update(this.actionType,this.mode)},l.prototype.equals=function(x){return this===x||x instanceof l&&this.mode===x.mode},l.prototype.toString=function(){return"mode("+this.mode+")"},((y.prototype=Object.create(h.prototype)).constructor=y).prototype.execute=function(x){x.action(null,this.ruleIndex,this.actionIndex)},y.prototype.updateHashCode=function(x){x.update(this.actionType,this.ruleIndex,this.actionIndex)},y.prototype.equals=function(x){return this===x||x instanceof y&&this.ruleIndex===x.ruleIndex&&this.actionIndex===x.actionIndex},((o.prototype=Object.create(h.prototype)).constructor=o).prototype.execute=function(x){x._channel=this.channel},o.prototype.updateHashCode=function(x){x.update(this.actionType,this.channel)},o.prototype.equals=function(x){return this===x||x instanceof o&&this.channel===x.channel},o.prototype.toString=function(){return"channel("+this.channel+")"},((f.prototype=Object.create(h.prototype)).constructor=f).prototype.execute=function(x){this.action.execute(x)},f.prototype.updateHashCode=function(x){x.update(this.actionType,this.offset,this.action)},f.prototype.equals=function(x){return this===x||x instanceof f&&this.offset===x.offset&&this.action===x.action},r.LexerActionType=b,r.LexerSkipAction=m,r.LexerChannelAction=o,r.LexerCustomAction=y,r.LexerIndexedCustomAction=f,r.LexerMoreAction=_,r.LexerTypeAction=p,r.LexerPushModeAction=A,r.LexerPopModeAction=S,r.LexerModeAction=l},{}],32:[function(n,a,r){var b=n("../Utils").hashStuff,h=n("./LexerAction").LexerIndexedCustomAction;function m(p){return this.lexerActions=p===null?[]:p,this.cachedHashCode=b(p),this}m.append=function(p,A){return new m(p===null?[A]:p.lexerActions.concat([A]))},m.prototype.fixOffsetBeforeMatch=function(p){for(var A=null,S=0;S<this.lexerActions.length;S++)!this.lexerActions[S].isPositionDependent||this.lexerActions[S]instanceof h||(A===null&&(A=this.lexerActions.concat([])),A[S]=new h(p,this.lexerActions[S]));return A===null?this:new m(A)},m.prototype.execute=function(p,A,S){var _=!1,l=A.index;try{for(var y=0;y<this.lexerActions.length;y++){var o,f=this.lexerActions[y];f instanceof h?(o=f.offset,A.seek(S+o),f=f.action,_=S+o!==l):f.isPositionDependent&&(A.seek(l),_=!1),f.execute(p)}}finally{_&&A.seek(l)}},m.prototype.hashCode=function(){return this.cachedHashCode},m.prototype.updateHashCode=function(p){p.update(this.cachedHashCode)},m.prototype.equals=function(p){if(this===p)return!0;if(p instanceof m){if(this.cachedHashCode!=p.cachedHashCode||this.lexerActions.length!=p.lexerActions.length)return!1;for(var A=this.lexerActions.length,S=0;S<A;++S)if(!this.lexerActions[S].equals(p.lexerActions[S]))return!1;return!0}return!1},r.LexerActionExecutor=m},{"../Utils":21,"./LexerAction":31}],33:[function(n,a,r){var b=n("./../Utils"),h=b.Set,m=b.BitSet,p=b.DoubleDict,A=n("./ATN").ATN,S=n("./ATNState").ATNState,_=n("./ATNConfig").ATNConfig,l=n("./ATNConfigSet").ATNConfigSet,y=n("./../Token").Token,o=n("./../dfa/DFAState").DFAState,f=n("./../dfa/DFAState").PredPrediction,x=n("./ATNSimulator").ATNSimulator,g=n("./PredictionMode").PredictionMode,D=n("./../RuleContext").RuleContext,E=(n("./../ParserRuleContext").ParserRuleContext,n("./SemanticContext").SemanticContext),C=(n("./ATNState").StarLoopEntryState,n("./ATNState").RuleStopState),T=n("./../PredictionContext").PredictionContext,O=n("./../IntervalSet").Interval,I=n("./Transition"),M=I.Transition,F=I.SetTransition,B=I.NotSetTransition,j=I.RuleTransition,L=I.ActionTransition,R=n("./../error/Errors").NoViableAltException,V=n("./../PredictionContext").SingletonPredictionContext,k=n("./../PredictionContext").predictionContextFromRuleContext;function U(G,H,X,Z){return x.call(this,H,Z),this.parser=G,this.decisionToDFA=X,this.predictionMode=g.LL,this._input=null,this._startIndex=0,this._outerContext=null,this._dfa=null,this.mergeCache=null,this}((U.prototype=Object.create(x.prototype)).constructor=U).prototype.debug=!1,U.prototype.debug_closure=!1,U.prototype.debug_add=!1,U.prototype.debug_list_atn_decisions=!1,U.prototype.dfa_debug=!1,U.prototype.retry_debug=!1,U.prototype.reset=function(){},U.prototype.adaptivePredict=function(G,H,X){(this.debug||this.debug_list_atn_decisions)&&console.log("adaptivePredict decision "+H+" exec LA(1)=="+this.getLookaheadName(G)+" line "+G.LT(1).line+":"+G.LT(1).column),this._input=G,this._startIndex=G.index,this._outerContext=X;var Z=this.decisionToDFA[H];this._dfa=Z;var J=G.mark(),ee=G.index;try{var $,W=Z.precedenceDfa?Z.getPrecedenceStartState(this.parser.getPrecedence()):Z.s0;W===null&&(X===null&&(X=D.EMPTY),(this.debug||this.debug_list_atn_decisions)&&console.log("predictATN decision "+Z.decision+" exec LA(1)=="+this.getLookaheadName(G)+", outerContext="+X.toString(this.parser.ruleNames)),$=this.computeStartState(Z.atnStartState,D.EMPTY,!1),Z.precedenceDfa?(Z.s0.configs=$,$=this.applyPrecedenceFilter($),W=this.addDFAState(Z,new o(null,$)),Z.setPrecedenceStartState(this.parser.getPrecedence(),W)):(W=this.addDFAState(Z,new o(null,$)),Z.s0=W));var Q=this.execATN(Z,W,G,ee,X);return this.debug&&console.log("DFA after predictATN: "+Z.toString(this.parser.literalNames)),Q}finally{this._dfa=null,this.mergeCache=null,G.seek(ee),G.release(J)}},U.prototype.execATN=function(G,H,X,Z,J){var ee;(this.debug||this.debug_list_atn_decisions)&&console.log("execATN decision "+G.decision+" exec LA(1)=="+this.getLookaheadName(X)+" line "+X.LT(1).line+":"+X.LT(1).column);var $=H;this.debug&&console.log("s0 = "+H);for(var W=X.LA(1);;){var Q=this.getExistingTargetState($,W);if(Q===null&&(Q=this.computeTargetState(G,$,W)),Q===x.ERROR){var te=this.noViableAlt(X,J,$.configs,Z);if(X.seek(Z),(ee=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule($.configs,J))!==A.INVALID_ALT_NUMBER)return ee;throw te}if(Q.requiresFullContext&&this.predictionMode!==g.SLL){var ce=null;if(Q.predicates!==null){this.debug&&console.log("DFA state has preds in DFA sim LL failover");var oe=X.index;if(oe!==Z&&X.seek(Z),(ce=this.evalSemanticContext(Q.predicates,J,!0)).length===1)return this.debug&&console.log("Full LL avoided"),ce.minValue();oe!==Z&&X.seek(oe)}this.dfa_debug&&console.log("ctx sensitive state "+J+" in "+Q);var ue=this.computeStartState(G.atnStartState,J,!0);return this.reportAttemptingFullContext(G,ce,Q.configs,Z,X.index),ee=this.execATNWithFullContext(G,Q,ue,X,Z,J)}if(Q.isAcceptState){if(Q.predicates===null)return Q.prediction;var we=X.index;X.seek(Z);var le=this.evalSemanticContext(Q.predicates,J,!0);if(le.length===0)throw this.noViableAlt(X,J,Q.configs,Z);return le.length===1||this.reportAmbiguity(G,Q,Z,we,!1,le,Q.configs),le.minValue()}$=Q,W!==y.EOF&&(X.consume(),W=X.LA(1))}},U.prototype.getExistingTargetState=function(G,H){var X=G.edges;return X!==null&&X[H+1]||null},U.prototype.computeTargetState=function(G,H,X){var Z=this.computeReachSet(H.configs,X,!1);if(Z===null)return this.addDFAEdge(G,H,X,x.ERROR),x.ERROR;var J,ee=new o(null,Z),$=this.getUniqueAlt(Z);return this.debug&&(J=g.getConflictingAltSubsets(Z),console.log("SLL altSubSets="+b.arrayToString(J)+", previous="+H.configs+", configs="+Z+", predict="+$+", allSubsetsConflict="+g.allSubsetsConflict(J)+", conflictingAlts="+this.getConflictingAlts(Z))),$!==A.INVALID_ALT_NUMBER?(ee.isAcceptState=!0,ee.configs.uniqueAlt=$,ee.prediction=$):g.hasSLLConflictTerminatingPrediction(this.predictionMode,Z)&&(ee.configs.conflictingAlts=this.getConflictingAlts(Z),ee.requiresFullContext=!0,ee.isAcceptState=!0,ee.prediction=ee.configs.conflictingAlts.minValue()),ee.isAcceptState&&ee.configs.hasSemanticContext&&(this.predicateDFAState(ee,this.atn.getDecisionState(G.decision)),ee.predicates!==null&&(ee.prediction=A.INVALID_ALT_NUMBER)),ee=this.addDFAEdge(G,H,X,ee)},U.prototype.predicateDFAState=function(G,H){var X=H.transitions.length,Z=this.getConflictingAltsOrUniqueAlt(G.configs),J=this.getPredsForAmbigAlts(Z,G.configs,X);J!==null?(G.predicates=this.getPredicatePredictions(Z,J),G.prediction=A.INVALID_ALT_NUMBER):G.prediction=Z.minValue()},U.prototype.execATNWithFullContext=function(G,H,X,Z,J,ee){(this.debug||this.debug_list_atn_decisions)&&console.log("execATNWithFullContext "+X);var $=!1,W=null,Q=X;Z.seek(J);for(var te=Z.LA(1),ce=-1;;){if((W=this.computeReachSet(Q,te,!0))===null){var oe=this.noViableAlt(Z,ee,Q,J);Z.seek(J);var ue=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(Q,ee);if(ue!==A.INVALID_ALT_NUMBER)return ue;throw oe}var we=g.getConflictingAltSubsets(W);if(this.debug&&console.log("LL altSubSets="+we+", predict="+g.getUniqueAlt(we)+", resolvesToJustOneViableAlt="+g.resolvesToJustOneViableAlt(we)),W.uniqueAlt=this.getUniqueAlt(W),W.uniqueAlt!==A.INVALID_ALT_NUMBER){ce=W.uniqueAlt;break}if(this.predictionMode!==g.LL_EXACT_AMBIG_DETECTION){if((ce=g.resolvesToJustOneViableAlt(we))!==A.INVALID_ALT_NUMBER)break}else if(g.allSubsetsConflict(we)&&g.allSubsetsEqual(we)){$=!0,ce=g.getSingleViableAlt(we);break}Q=W,te!==y.EOF&&(Z.consume(),te=Z.LA(1))}return W.uniqueAlt!==A.INVALID_ALT_NUMBER?this.reportContextSensitivity(G,ce,W,J,Z.index):this.reportAmbiguity(G,H,J,Z.index,$,null,W),ce},U.prototype.computeReachSet=function(G,H,X){this.debug&&console.log("in computeReachSet, starting closure: "+G),this.mergeCache===null&&(this.mergeCache=new p);for(var Z=new l(X),J=null,ee=0;ee<G.items.length;ee++){var $=G.items[ee];if(this.debug_add&&console.log("testing "+this.getTokenName(H)+" at "+$),$.state instanceof C)!X&&H!==y.EOF||(J===null&&(J=[]),J.push($),this.debug_add&&console.log("added "+$+" to skippedStopStates"));else for(var W=0;W<$.state.transitions.length;W++){var Q,te=$.state.transitions[W],ce=this.getReachableTarget(te,H);ce!==null&&(Q=new _({state:ce},$),Z.add(Q,this.mergeCache),this.debug_add&&console.log("added "+Q+" to intermediate"))}}var oe=null;if(J!==null||H===y.EOF||Z.items.length!==1&&this.getUniqueAlt(Z)===A.INVALID_ALT_NUMBER||(oe=Z),oe===null){oe=new l(X);for(var ue=new h,we=H===y.EOF,le=0;le<Z.items.length;le++)this.closure(Z.items[le],oe,ue,!1,X,we)}if(H===y.EOF&&(oe=this.removeAllConfigsNotInRuleStopState(oe,oe===Z)),!(J===null||X&&g.hasConfigInRuleStopState(oe)))for(var fe=0;fe<J.length;fe++)oe.add(J[fe],this.mergeCache);return oe.items.length===0?null:oe},U.prototype.removeAllConfigsNotInRuleStopState=function(G,H){if(g.allConfigsInRuleStopStates(G))return G;for(var X=new l(G.fullCtx),Z=0;Z<G.items.length;Z++){var J,ee=G.items[Z];ee.state instanceof C?X.add(ee,this.mergeCache):H&&ee.state.epsilonOnlyTransitions&&this.atn.nextTokens(ee.state).contains(y.EPSILON)&&(J=this.atn.ruleToStopState[ee.state.ruleIndex],X.add(new _({state:J},ee),this.mergeCache))}return X},U.prototype.computeStartState=function(G,H,X){for(var Z=k(this.atn,H),J=new l(X),ee=0;ee<G.transitions.length;ee++){var $=G.transitions[ee].target,W=new _({state:$,alt:ee+1,context:Z},null),Q=new h;this.closure(W,J,Q,!0,X,!1)}return J},U.prototype.applyPrecedenceFilter=function(G){for(var H,X,Z=[],J=new l(G.fullCtx),ee=0;ee<G.items.length;ee++)(H=G.items[ee]).alt===1&&(X=H.semanticContext.evalPrecedence(this.parser,this._outerContext))!==null&&(Z[H.state.stateNumber]=H.context,X!==H.semanticContext?J.add(new _({semanticContext:X},H),this.mergeCache):J.add(H,this.mergeCache));for(ee=0;ee<G.items.length;ee++)if((H=G.items[ee]).alt!==1){if(!H.precedenceFilterSuppressed){var $=Z[H.state.stateNumber]||null;if($!==null&&$.equals(H.context))continue}J.add(H,this.mergeCache)}return J},U.prototype.getReachableTarget=function(G,H){return G.matches(H,0,this.atn.maxTokenType)?G.target:null},U.prototype.getPredsForAmbigAlts=function(G,H,X){for(var Z=[],J=0;J<H.items.length;J++){var ee=H.items[J];G.contains(ee.alt)&&(Z[ee.alt]=E.orContext(Z[ee.alt]||null,ee.semanticContext))}for(var $=0,J=1;J<X+1;J++){var W=Z[J]||null;W===null?Z[J]=E.NONE:W!==E.NONE&&($+=1)}return $===0&&(Z=null),this.debug&&console.log("getPredsForAmbigAlts result "+b.arrayToString(Z)),Z},U.prototype.getPredicatePredictions=function(G,H){for(var X=[],Z=!1,J=1;J<H.length;J++){var ee=H[J];G!==null&&G.contains(J)&&X.push(new f(ee,J)),ee!==E.NONE&&(Z=!0)}return Z?X:null},U.prototype.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule=function(G,H){var X=this.splitAccordingToSemanticValidity(G,H),Z=X[0],J=X[1],ee=this.getAltThatFinishedDecisionEntryRule(Z);return ee!==A.INVALID_ALT_NUMBER||0<J.items.length&&(ee=this.getAltThatFinishedDecisionEntryRule(J))!==A.INVALID_ALT_NUMBER?ee:A.INVALID_ALT_NUMBER},U.prototype.getAltThatFinishedDecisionEntryRule=function(G){for(var H=[],X=0;X<G.items.length;X++){var Z=G.items[X];(0<Z.reachesIntoOuterContext||Z.state instanceof C&&Z.context.hasEmptyPath())&&H.indexOf(Z.alt)<0&&H.push(Z.alt)}return H.length===0?A.INVALID_ALT_NUMBER:Math.min.apply(null,H)},U.prototype.splitAccordingToSemanticValidity=function(G,H){for(var X=new l(G.fullCtx),Z=new l(G.fullCtx),J=0;J<G.items.length;J++){var ee=G.items[J];ee.semanticContext===E.NONE||ee.semanticContext.evaluate(this.parser,H)?X.add(ee):Z.add(ee)}return[X,Z]},U.prototype.evalSemanticContext=function(G,H,X){for(var Z=new m,J=0;J<G.length;J++){var ee=G[J];if(ee.pred!==E.NONE){var $=ee.pred.evaluate(this.parser,H);if((this.debug||this.dfa_debug)&&console.log("eval pred "+ee+"="+$),$&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+ee.alt),Z.add(ee.alt),!X))break}else if(Z.add(ee.alt),!X)break}return Z},U.prototype.closure=function(G,H,X,Z,J,ee){this.closureCheckingStopState(G,H,X,Z,J,0,ee)},U.prototype.closureCheckingStopState=function(G,H,X,Z,J,ee,$){if((this.debug||this.debug_closure)&&(console.log("closure("+G.toString(this.parser,!0)+")"),50<G.reachesIntoOuterContext))throw"problem";if(G.state instanceof C){if(!G.context.isEmpty()){for(var W=0;W<G.context.length;W++)if(G.context.getReturnState(W)!==T.EMPTY_RETURN_STATE){var Q=this.atn.states[G.context.getReturnState(W)],te=G.context.getParent(W),ce={state:Q,alt:G.alt,context:te,semanticContext:G.semanticContext},oe=new _(ce,null);oe.reachesIntoOuterContext=G.reachesIntoOuterContext,this.closureCheckingStopState(oe,H,X,Z,J,ee-1,$)}else{if(J){H.add(new _({state:G.state,context:T.EMPTY},G),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(G.state.ruleIndex)),this.closure_(G,H,X,Z,J,ee,$)}return}if(J)return void H.add(G,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(G.state.ruleIndex))}this.closure_(G,H,X,Z,J,ee,$)},U.prototype.closure_=function(G,H,X,Z,J,ee,$){var W=G.state;W.epsilonOnlyTransitions||H.add(G,this.mergeCache);for(var Q=0;Q<W.transitions.length;Q++)if(Q!=0||!this.canDropLoopEntryEdgeInLeftRecursiveRule(G)){var te=W.transitions[Q],ce=Z&&!(te instanceof L),oe=this.getEpsilonTarget(G,te,ce,ee===0,J,$);if(oe!==null){var ue=ee;if(G.state instanceof C){if(this._dfa!==null&&this._dfa.precedenceDfa&&te.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(oe.precedenceFilterSuppressed=!0),oe.reachesIntoOuterContext+=1,X.add(oe)!==oe)continue;H.dipsIntoOuterContext=!0,--ue,this.debug&&console.log("dips into outer ctx: "+oe)}else{if(!te.isEpsilon&&X.add(oe)!==oe)continue;te instanceof j&&0<=ue&&(ue+=1)}this.closureCheckingStopState(oe,H,X,ce,J,ue,$)}}},U.prototype.canDropLoopEntryEdgeInLeftRecursiveRule=function(G){var H=G.state;if(H.stateType!=S.STAR_LOOP_ENTRY||H.stateType!=S.STAR_LOOP_ENTRY||!H.isPrecedenceDecision||G.context.isEmpty()||G.context.hasEmptyPath())return!1;for(var X=G.context.length,Z=0;Z<X;Z++)if(($=this.atn.states[G.context.getReturnState(Z)]).ruleIndex!=H.ruleIndex)return!1;for(var J=H.transitions[0].target.endState.stateNumber,ee=this.atn.states[J],Z=0;Z<X;Z++){var $,W=G.context.getReturnState(Z);if(($=this.atn.states[W]).transitions.length!=1||!$.transitions[0].isEpsilon)return!1;var Q=$.transitions[0].target;if(($.stateType!=S.BLOCK_END||Q!=H)&&$!=ee&&Q!=ee&&(Q.stateType!=S.BLOCK_END||Q.transitions.length!=1||!Q.transitions[0].isEpsilon||Q.transitions[0].target!=H))return!1}return!0},U.prototype.getRuleName=function(G){return this.parser!==null&&0<=G?this.parser.ruleNames[G]:"<rule "+G+">"},U.prototype.getEpsilonTarget=function(G,H,X,Z,J,ee){switch(H.serializationType){case M.RULE:return this.ruleTransition(G,H);case M.PRECEDENCE:return this.precedenceTransition(G,H,X,Z,J);case M.PREDICATE:return this.predTransition(G,H,X,Z,J);case M.ACTION:return this.actionTransition(G,H);case M.EPSILON:return new _({state:H.target},G);case M.ATOM:case M.RANGE:case M.SET:return ee&&H.matches(y.EOF,0,1)?new _({state:H.target},G):null;default:return null}},U.prototype.actionTransition=function(G,H){var X;return this.debug&&(X=H.actionIndex==-1?65535:H.actionIndex,console.log("ACTION edge "+H.ruleIndex+":"+X)),new _({state:H.target},G)},U.prototype.precedenceTransition=function(G,H,X,Z,J){this.debug&&(console.log("PRED (collectPredicates="+X+") "+H.precedence+">=_p, ctx dependent=true"),this.parser!==null&&console.log("context surrounding pred is "+b.arrayToString(this.parser.getRuleInvocationStack())));var ee,$,W,Q=null;return X&&Z?J?(ee=this._input.index,this._input.seek(this._startIndex),$=H.getPredicate().evaluate(this.parser,this._outerContext),this._input.seek(ee),$&&(Q=new _({state:H.target},G))):(W=E.andContext(G.semanticContext,H.getPredicate()),Q=new _({state:H.target,semanticContext:W},G)):Q=new _({state:H.target},G),this.debug&&console.log("config from pred transition="+Q),Q},U.prototype.predTransition=function(G,H,X,Z,J){this.debug&&(console.log("PRED (collectPredicates="+X+") "+H.ruleIndex+":"+H.predIndex+", ctx dependent="+H.isCtxDependent),this.parser!==null&&console.log("context surrounding pred is "+b.arrayToString(this.parser.getRuleInvocationStack())));var ee,$,W,Q=null;return X&&(H.isCtxDependent&&Z||!H.isCtxDependent)?J?(ee=this._input.index,this._input.seek(this._startIndex),$=H.getPredicate().evaluate(this.parser,this._outerContext),this._input.seek(ee),$&&(Q=new _({state:H.target},G))):(W=E.andContext(G.semanticContext,H.getPredicate()),Q=new _({state:H.target,semanticContext:W},G)):Q=new _({state:H.target},G),this.debug&&console.log("config from pred transition="+Q),Q},U.prototype.ruleTransition=function(G,H){this.debug&&console.log("CALL rule "+this.getRuleName(H.target.ruleIndex)+", ctx="+G.context);var X=H.followState,Z=V.create(G.context,X.stateNumber);return new _({state:H.target,context:Z},G)},U.prototype.getConflictingAlts=function(G){var H=g.getConflictingAltSubsets(G);return g.getAlts(H)},U.prototype.getConflictingAltsOrUniqueAlt=function(G){var H=null;return G.uniqueAlt!==A.INVALID_ALT_NUMBER?(H=new m).add(G.uniqueAlt):H=G.conflictingAlts,H},U.prototype.getTokenName=function(G){if(G===y.EOF)return"EOF";if(this.parser!==null&&this.parser.literalNames!==null){if(!(G>=this.parser.literalNames.length&&G>=this.parser.symbolicNames.length))return(this.parser.literalNames[G]||this.parser.symbolicNames[G])+"<"+G+">";console.log(G+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+G},U.prototype.getLookaheadName=function(G){return this.getTokenName(G.LA(1))},U.prototype.dumpDeadEndConfigs=function(G){console.log("dead end configs: ");for(var H=G.getDeadEndConfigs(),X=0;X<H.length;X++){var Z,J=H[X],ee="no edges";0<J.state.transitions.length&&((Z=J.state.transitions[0])instanceof AtomTransition?ee="Atom "+this.getTokenName(Z.label):Z instanceof F&&(ee=(Z instanceof B?"~":"")+"Set "+Z.set)),console.error(J.toString(this.parser,!0)+":"+ee)}},U.prototype.noViableAlt=function(G,H,X,Z){return new R(this.parser,G,G.get(Z),G.LT(1),X,H)},U.prototype.getUniqueAlt=function(G){for(var H=A.INVALID_ALT_NUMBER,X=0;X<G.items.length;X++){var Z=G.items[X];if(H===A.INVALID_ALT_NUMBER)H=Z.alt;else if(Z.alt!==H)return A.INVALID_ALT_NUMBER}return H},U.prototype.addDFAEdge=function(G,H,X,Z){return this.debug&&console.log("EDGE "+H+" -> "+Z+" upon "+this.getTokenName(X)),Z===null?null:(Z=this.addDFAState(G,Z),H===null||X<-1||X>this.atn.maxTokenType||(H.edges===null&&(H.edges=[]),H.edges[X+1]=Z,this.debug&&(J=this.parser===null?null:this.parser.literalNames,ee=this.parser===null?null:this.parser.symbolicNames,console.log(`DFA=
`+G.toString(J,ee)))),Z);var J,ee},U.prototype.addDFAState=function(G,H){if(H==x.ERROR)return H;var X=G.states.get(H);return X!==null?X:(H.stateNumber=G.states.length,H.configs.readOnly||(H.configs.optimizeConfigs(this),H.configs.setReadonly(!0)),G.states.add(H),this.debug&&console.log("adding new DFA state: "+H),H)},U.prototype.reportAttemptingFullContext=function(G,H,X,Z,J){var ee;(this.debug||this.retry_debug)&&(ee=new O(Z,J+1),console.log("reportAttemptingFullContext decision="+G.decision+":"+X+", input="+this.parser.getTokenStream().getText(ee))),this.parser!==null&&this.parser.getErrorListenerDispatch().reportAttemptingFullContext(this.parser,G,Z,J,H,X)},U.prototype.reportContextSensitivity=function(G,H,X,Z,J){var ee;(this.debug||this.retry_debug)&&(ee=new O(Z,J+1),console.log("reportContextSensitivity decision="+G.decision+":"+X+", input="+this.parser.getTokenStream().getText(ee))),this.parser!==null&&this.parser.getErrorListenerDispatch().reportContextSensitivity(this.parser,G,Z,J,H,X)},U.prototype.reportAmbiguity=function(G,H,X,Z,J,ee,$){var W;(this.debug||this.retry_debug)&&(W=new O(X,Z+1),console.log("reportAmbiguity "+ee+":"+$+", input="+this.parser.getTokenStream().getText(W))),this.parser!==null&&this.parser.getErrorListenerDispatch().reportAmbiguity(this.parser,G,X,Z,J,ee,$)},r.ParserATNSimulator=U},{"./../IntervalSet":12,"./../ParserRuleContext":16,"./../PredictionContext":17,"./../RuleContext":19,"./../Token":20,"./../Utils":21,"./../dfa/DFAState":40,"./../error/Errors":45,"./ATN":22,"./ATNConfig":23,"./ATNConfigSet":24,"./ATNSimulator":27,"./ATNState":28,"./PredictionMode":34,"./SemanticContext":35,"./Transition":36}],34:[function(n,a,r){n("./../Utils").Set;var b=n("./../Utils").Map,h=n("./../Utils").BitSet,m=n("./../Utils").AltDict,p=n("./ATN").ATN,A=n("./ATNState").RuleStopState,S=n("./ATNConfigSet").ATNConfigSet,_=n("./ATNConfig").ATNConfig,l=n("./SemanticContext").SemanticContext,y=(n("../Utils").Hash,n("./../Utils").hashStuff);n("./../Utils").equalArrays;function o(){return this}o.SLL=0,o.LL=1,o.LL_EXACT_AMBIG_DETECTION=2,o.hasSLLConflictTerminatingPrediction=function(f,x){if(o.allConfigsInRuleStopStates(x))return!0;if(f===o.SLL&&x.hasSemanticContext){for(var g=new S,D=0;D<x.items.length;D++){var E=x.items[D],E=new _({semanticContext:l.NONE},E);g.add(E)}x=g}var C=o.getConflictingAltSubsets(x);return o.hasConflictingAltSet(C)&&!o.hasStateAssociatedWithOneAlt(x)},o.hasConfigInRuleStopState=function(f){for(var x=0;x<f.items.length;x++)if(f.items[x].state instanceof A)return!0;return!1},o.allConfigsInRuleStopStates=function(f){for(var x=0;x<f.items.length;x++)if(!(f.items[x].state instanceof A))return!1;return!0},o.resolvesToJustOneViableAlt=function(f){return o.getSingleViableAlt(f)},o.allSubsetsConflict=function(f){return!o.hasNonConflictingAltSet(f)},o.hasNonConflictingAltSet=function(f){for(var x=0;x<f.length;x++)if(f[x].length===1)return!0;return!1},o.hasConflictingAltSet=function(f){for(var x=0;x<f.length;x++)if(1<f[x].length)return!0;return!1},o.allSubsetsEqual=function(f){for(var x=null,g=0;g<f.length;g++){var D=f[g];if(x===null)x=D;else if(D!==x)return!1}return!0},o.getUniqueAlt=function(f){var x=o.getAlts(f);return x.length===1?x.minValue():p.INVALID_ALT_NUMBER},o.getAlts=function(f){var x=new h;return f.map(function(g){x.or(g)}),x},o.getConflictingAltSubsets=function(f){var x=new b;return x.hashFunction=function(g){y(g.state.stateNumber,g.context)},x.equalsFunction=function(g,D){return g.state.stateNumber==D.state.stateNumber&&g.context.equals(D.context)},f.items.map(function(g){var D=x.get(g);D===null&&(D=new h,x.put(g,D)),D.add(g.alt)}),x.getValues()},o.getStateToAltMap=function(f){var x=new m;return f.items.map(function(g){var D=x.get(g.state);D===null&&(D=new h,x.put(g.state,D)),D.add(g.alt)}),x},o.hasStateAssociatedWithOneAlt=function(f){for(var x=o.getStateToAltMap(f).values(),g=0;g<x.length;g++)if(x[g].length===1)return!0;return!1},o.getSingleViableAlt=function(f){for(var x=null,g=0;g<f.length;g++){var D=f[g].minValue();if(x===null)x=D;else if(x!==D)return p.INVALID_ALT_NUMBER}return x},r.PredictionMode=o},{"../Utils":21,"./../Utils":21,"./ATN":22,"./ATNConfig":23,"./ATNConfigSet":24,"./ATNState":28,"./SemanticContext":35}],35:[function(n,a,r){var b=n("./../Utils").Set,h=n("./../Utils").Hash;function m(){return this}function p(l,y,o){return m.call(this),this.ruleIndex=l===void 0?-1:l,this.predIndex=y===void 0?-1:y,this.isCtxDependent=o!==void 0&&o,this}function A(l){m.call(this),this.precedence=l===void 0?0:l}function S(l,y){m.call(this);var o=new b;l instanceof S?l.opnds.map(function(g){o.add(g)}):o.add(l),y instanceof S?y.opnds.map(function(g){o.add(g)}):o.add(y);var f,x=A.filterPrecedencePredicates(o);return 0<x.length&&(f=null,x.map(function(g){(f===null||g.precedence<f.precedence)&&(f=g)}),o.add(f)),this.opnds=o.values(),this}function _(l,y){m.call(this);var o=new b;l instanceof _?l.opnds.map(function(D){o.add(D)}):o.add(l),y instanceof _?y.opnds.map(function(D){o.add(D)}):o.add(y);var f,x,g=A.filterPrecedencePredicates(o);return 0<g.length&&(x=(f=g.sort(function(D,E){return D.compareTo(E)}))[f.length-1],o.add(x)),this.opnds=o.values(),this}m.prototype.hashCode=function(){var l=new h;return this.updateHashCode(l),l.finish()},m.prototype.evaluate=function(l,y){},m.prototype.evalPrecedence=function(l,y){return this},m.andContext=function(l,y){if(l===null||l===m.NONE)return y;if(y===null||y===m.NONE)return l;var o=new S(l,y);return o.opnds.length===1?o.opnds[0]:o},m.orContext=function(l,y){if(l===null)return y;if(y===null)return l;if(l===m.NONE||y===m.NONE)return m.NONE;var o=new _(l,y);return o.opnds.length===1?o.opnds[0]:o},p.prototype=Object.create(m.prototype),m.NONE=new(p.prototype.constructor=p),p.prototype.evaluate=function(l,y){var o=this.isCtxDependent?y:null;return l.sempred(o,this.ruleIndex,this.predIndex)},p.prototype.updateHashCode=function(l){l.update(this.ruleIndex,this.predIndex,this.isCtxDependent)},p.prototype.equals=function(l){return this===l||l instanceof p&&this.ruleIndex===l.ruleIndex&&this.predIndex===l.predIndex&&this.isCtxDependent===l.isCtxDependent},p.prototype.toString=function(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"},((A.prototype=Object.create(m.prototype)).constructor=A).prototype.evaluate=function(l,y){return l.precpred(y,this.precedence)},A.prototype.evalPrecedence=function(l,y){return l.precpred(y,this.precedence)?m.NONE:null},A.prototype.compareTo=function(l){return this.precedence-l.precedence},A.prototype.updateHashCode=function(l){l.update(31)},A.prototype.equals=function(l){return this===l||l instanceof A&&this.precedence===l.precedence},A.prototype.toString=function(){return"{"+this.precedence+">=prec}?"},A.filterPrecedencePredicates=function(l){var y=[];return l.values().map(function(o){o instanceof A&&y.push(o)}),y},((S.prototype=Object.create(m.prototype)).constructor=S).prototype.equals=function(l){return this===l||l instanceof S&&this.opnds===l.opnds},S.prototype.updateHashCode=function(l){l.update(this.opnds,"AND")},S.prototype.evaluate=function(l,y){for(var o=0;o<this.opnds.length;o++)if(!this.opnds[o].evaluate(l,y))return!1;return!0},S.prototype.evalPrecedence=function(l,y){for(var o=!1,f=[],x=0;x<this.opnds.length;x++){var g=this.opnds[x],D=g.evalPrecedence(l,y);if(o|=D!==g,D===null)return null;D!==m.NONE&&f.push(D)}if(!o)return this;if(f.length===0)return m.NONE;var E=null;return f.map(function(C){E=E===null?C:m.andContext(E,C)}),E},S.prototype.toString=function(){var l="";return this.opnds.map(function(y){l+="&& "+y.toString()}),3<l.length?l.slice(3):l},((_.prototype=Object.create(m.prototype)).constructor=_).prototype.constructor=function(l){return this===l||l instanceof _&&this.opnds===l.opnds},_.prototype.updateHashCode=function(l){l.update(this.opnds,"OR")},_.prototype.evaluate=function(l,y){for(var o=0;o<this.opnds.length;o++)if(this.opnds[o].evaluate(l,y))return!0;return!1},_.prototype.evalPrecedence=function(l,y){for(var o=!1,f=[],x=0;x<this.opnds.length;x++){var g=this.opnds[x],D=g.evalPrecedence(l,y);if(o|=D!==g,D===m.NONE)return m.NONE;D!==null&&f.push(D)}if(!o)return this;if(f.length===0)return null;var E=null;return f.map(function(C){return C}),E},_.prototype.toString=function(){var l="";return this.opnds.map(function(y){l+="|| "+y.toString()}),3<l.length?l.slice(3):l},r.SemanticContext=m,r.PrecedencePredicate=A,r.Predicate=p},{"./../Utils":21}],36:[function(n,a,r){var b=n("./../Token").Token,h=(n("./../IntervalSet").Interval,n("./../IntervalSet").IntervalSet),m=n("./SemanticContext").Predicate,p=n("./SemanticContext").PrecedencePredicate;function A(T){if(T==null)throw"target cannot be null.";return this.target=T,this.isEpsilon=!1,this.label=null,this}function S(T,O){return A.call(this,T),this.label_=O,this.label=this.makeLabel(),this.serializationType=A.ATOM,this}function _(T,O,I,M){return A.call(this,T),this.ruleIndex=O,this.precedence=I,this.followState=M,this.serializationType=A.RULE,this.isEpsilon=!0,this}function l(T,O){return A.call(this,T),this.serializationType=A.EPSILON,this.isEpsilon=!0,this.outermostPrecedenceReturn=O,this}function y(T,O,I){return A.call(this,T),this.serializationType=A.RANGE,this.start=O,this.stop=I,this.label=this.makeLabel(),this}function o(T){return A.call(this,T),this}function f(T,O,I,M){return o.call(this,T),this.serializationType=A.PREDICATE,this.ruleIndex=O,this.predIndex=I,this.isCtxDependent=M,this.isEpsilon=!0,this}function x(T,O,I,M){return A.call(this,T),this.serializationType=A.ACTION,this.ruleIndex=O,this.actionIndex=I===void 0?-1:I,this.isCtxDependent=M!==void 0&&M,this.isEpsilon=!0,this}function g(T,O){return A.call(this,T),this.serializationType=A.SET,O!=null?this.label=O:(this.label=new h,this.label.addOne(b.INVALID_TYPE)),this}function D(T,O){return g.call(this,T,O),this.serializationType=A.NOT_SET,this}function E(T){return A.call(this,T),this.serializationType=A.WILDCARD,this}function C(T,O){return o.call(this,T),this.serializationType=A.PRECEDENCE,this.precedence=O,this.isEpsilon=!0,this}A.EPSILON=1,A.RANGE=2,A.RULE=3,A.PREDICATE=4,A.ATOM=5,A.ACTION=6,A.SET=7,A.NOT_SET=8,A.WILDCARD=9,A.PRECEDENCE=10,A.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],A.serializationTypes={EpsilonTransition:A.EPSILON,RangeTransition:A.RANGE,RuleTransition:A.RULE,PredicateTransition:A.PREDICATE,AtomTransition:A.ATOM,ActionTransition:A.ACTION,SetTransition:A.SET,NotSetTransition:A.NOT_SET,WildcardTransition:A.WILDCARD,PrecedencePredicateTransition:A.PRECEDENCE},((S.prototype=Object.create(A.prototype)).constructor=S).prototype.makeLabel=function(){var T=new h;return T.addOne(this.label_),T},S.prototype.matches=function(T,O,I){return this.label_===T},S.prototype.toString=function(){return this.label_},((_.prototype=Object.create(A.prototype)).constructor=_).prototype.matches=function(T,O,I){return!1},((l.prototype=Object.create(A.prototype)).constructor=l).prototype.matches=function(T,O,I){return!1},l.prototype.toString=function(){return"epsilon"},((y.prototype=Object.create(A.prototype)).constructor=y).prototype.makeLabel=function(){var T=new h;return T.addRange(this.start,this.stop),T},y.prototype.matches=function(T,O,I){return T>=this.start&&T<=this.stop},y.prototype.toString=function(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"},(o.prototype=Object.create(A.prototype)).constructor=o,((f.prototype=Object.create(o.prototype)).constructor=f).prototype.matches=function(T,O,I){return!1},f.prototype.getPredicate=function(){return new m(this.ruleIndex,this.predIndex,this.isCtxDependent)},f.prototype.toString=function(){return"pred_"+this.ruleIndex+":"+this.predIndex},((x.prototype=Object.create(A.prototype)).constructor=x).prototype.matches=function(T,O,I){return!1},x.prototype.toString=function(){return"action_"+this.ruleIndex+":"+this.actionIndex},((g.prototype=Object.create(A.prototype)).constructor=g).prototype.matches=function(T,O,I){return this.label.contains(T)},g.prototype.toString=function(){return this.label.toString()},((D.prototype=Object.create(g.prototype)).constructor=D).prototype.matches=function(T,O,I){return O<=T&&T<=I&&!g.prototype.matches.call(this,T,O,I)},D.prototype.toString=function(){return"~"+g.prototype.toString.call(this)},((E.prototype=Object.create(A.prototype)).constructor=E).prototype.matches=function(T,O,I){return O<=T&&T<=I},E.prototype.toString=function(){return"."},((C.prototype=Object.create(o.prototype)).constructor=C).prototype.matches=function(T,O,I){return!1},C.prototype.getPredicate=function(){return new p(this.precedence)},C.prototype.toString=function(){return this.precedence+" >= _p"},r.Transition=A,r.AtomTransition=S,r.SetTransition=g,r.NotSetTransition=D,r.RuleTransition=_,r.ActionTransition=x,r.EpsilonTransition=l,r.RangeTransition=y,r.WildcardTransition=E,r.PredicateTransition=f,r.PrecedencePredicateTransition=C,r.AbstractPredicateTransition=o},{"./../IntervalSet":12,"./../Token":20,"./SemanticContext":35}],37:[function(n,a,r){r.ATN=n("./ATN").ATN,r.ATNDeserializer=n("./ATNDeserializer").ATNDeserializer,r.LexerATNSimulator=n("./LexerATNSimulator").LexerATNSimulator,r.ParserATNSimulator=n("./ParserATNSimulator").ParserATNSimulator,r.PredictionMode=n("./PredictionMode").PredictionMode},{"./ATN":22,"./ATNDeserializer":26,"./LexerATNSimulator":30,"./ParserATNSimulator":33,"./PredictionMode":34}],38:[function(n,a,r){var b=n("../Utils").Set,h=n("./DFAState").DFAState,m=n("../atn/ATNState").StarLoopEntryState,p=n("./../atn/ATNConfigSet").ATNConfigSet,A=n("./DFASerializer").DFASerializer,S=n("./DFASerializer").LexerDFASerializer;function _(l,y){var o;return y===void 0&&(y=0),this.atnStartState=l,this.decision=y,this._states=new b,this.s0=null,this.precedenceDfa=!1,l instanceof m&&l.isPrecedenceDecision&&(this.precedenceDfa=!0,(o=new h(null,new p)).edges=[],o.isAcceptState=!1,o.requiresFullContext=!1,this.s0=o),this}_.prototype.getPrecedenceStartState=function(l){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return!(l<0||l>=this.s0.edges.length)&&this.s0.edges[l]||null},_.prototype.setPrecedenceStartState=function(l,y){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";l<0||(this.s0.edges[l]=y)},_.prototype.setPrecedenceDfa=function(l){var y;this.precedenceDfa!==l&&(this._states=new DFAStatesSet,l?((y=new h(null,new p)).edges=[],y.isAcceptState=!1,y.requiresFullContext=!1,this.s0=y):this.s0=null,this.precedenceDfa=l)},Object.defineProperty(_.prototype,"states",{get:function(){return this._states}}),_.prototype.sortedStates=function(){return this._states.values().sort(function(l,y){return l.stateNumber-y.stateNumber})},_.prototype.toString=function(l,y){return l=l||null,y=y||null,this.s0===null?"":new A(this,l,y).toString()},_.prototype.toLexerString=function(){return this.s0===null?"":new S(this).toString()},r.DFA=_},{"../Utils":21,"../atn/ATNState":28,"./../atn/ATNConfigSet":24,"./DFASerializer":39,"./DFAState":40}],39:[function(n,a,r){function b(m,p,A){return this.dfa=m,this.literalNames=p||[],this.symbolicNames=A||[],this}function h(m){return b.call(this,m,null),this}b.prototype.toString=function(){if(this.dfa.s0===null)return null;for(var m="",p=this.dfa.sortedStates(),A=0;A<p.length;A++){var S=p[A];if(S.edges!==null)for(var _=S.edges.length,l=0;l<_;l++){var y=S.edges[l]||null;y!==null&&y.stateNumber!==2147483647&&(m=(m=(m=(m=(m=(m=m.concat(this.getStateString(S))).concat("-")).concat(this.getEdgeLabel(l))).concat("->")).concat(this.getStateString(y))).concat(`
`))}}return m.length===0?null:m},b.prototype.getEdgeLabel=function(m){return m===0?"EOF":this.literalNames!==null||this.symbolicNames!==null?this.literalNames[m-1]||this.symbolicNames[m-1]:String.fromCharCode(m-1)},b.prototype.getStateString=function(m){var p=(m.isAcceptState?":":"")+"s"+m.stateNumber+(m.requiresFullContext?"^":"");return m.isAcceptState?m.predicates!==null?p+"=>"+m.predicates.toString():p+"=>"+m.prediction.toString():p},((h.prototype=Object.create(b.prototype)).constructor=h).prototype.getEdgeLabel=function(m){return"'"+String.fromCharCode(m)+"'"},r.DFASerializer=b,r.LexerDFASerializer=h},{}],40:[function(n,a,r){var b=n("./../atn/ATNConfigSet").ATNConfigSet,h=n("./../Utils"),m=h.Hash,p=h.Set;function A(_,l){return this.alt=l,this.pred=_,this}function S(_,l){return _===null&&(_=-1),l===null&&(l=new b),this.stateNumber=_,this.configs=l,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}A.prototype.toString=function(){return"("+this.pred+", "+this.alt+")"},S.prototype.getAltSet=function(){var _=new p;if(this.configs!==null)for(var l=0;l<this.configs.length;l++){var y=this.configs[l];_.add(y.alt)}return _.length===0?null:_},S.prototype.equals=function(_){return this===_||_ instanceof S&&this.configs.equals(_.configs)},S.prototype.toString=function(){var _=this.stateNumber+":"+this.configs;return this.isAcceptState&&(_+="=>",this.predicates!==null?_+=this.predicates:_+=this.prediction),_},S.prototype.hashCode=function(){var _=new m;return _.update(this.configs),this.isAcceptState&&(this.predicates!==null?_.update(this.predicates):_.update(this.prediction)),_.finish()},r.DFAState=S,r.PredPrediction=A},{"./../Utils":21,"./../atn/ATNConfigSet":24}],41:[function(n,a,r){r.DFA=n("./DFA").DFA,r.DFASerializer=n("./DFASerializer").DFASerializer,r.LexerDFASerializer=n("./DFASerializer").LexerDFASerializer,r.PredPrediction=n("./DFAState").PredPrediction},{"./DFA":38,"./DFASerializer":39,"./DFAState":40}],42:[function(n,a,r){var b=n("./../Utils").BitSet,h=n("./ErrorListener").ErrorListener,m=n("./../IntervalSet").Interval;function p(A){return h.call(this),A=A||!0,this.exactOnly=A,this}((p.prototype=Object.create(h.prototype)).constructor=p).prototype.reportAmbiguity=function(A,S,_,l,y,o,f){var x;this.exactOnly&&!y||(x="reportAmbiguity d="+this.getDecisionDescription(A,S)+": ambigAlts="+this.getConflictingAlts(o,f)+", input='"+A.getTokenStream().getText(new m(_,l))+"'",A.notifyErrorListeners(x))},p.prototype.reportAttemptingFullContext=function(A,S,_,l,y,o){var f="reportAttemptingFullContext d="+this.getDecisionDescription(A,S)+", input='"+A.getTokenStream().getText(new m(_,l))+"'";A.notifyErrorListeners(f)},p.prototype.reportContextSensitivity=function(A,S,_,l,y,o){var f="reportContextSensitivity d="+this.getDecisionDescription(A,S)+", input='"+A.getTokenStream().getText(new m(_,l))+"'";A.notifyErrorListeners(f)},p.prototype.getDecisionDescription=function(A,S){var _=S.decision,l=S.atnStartState.ruleIndex,y=A.ruleNames;if(l<0||l>=y.length)return""+_;var o=y[l]||null;return o===null||o.length===0?""+_:_+" ("+o+")"},p.prototype.getConflictingAlts=function(A,S){if(A!==null)return A;for(var _=new b,l=0;l<S.items.length;l++)_.add(S.items[l].alt);return"{"+_.values().join(", ")+"}"},r.DiagnosticErrorListener=p},{"./../IntervalSet":12,"./../Utils":21,"./ErrorListener":43}],43:[function(n,a,r){function b(){return this}function h(){return b.call(this),this}function m(p){if(b.call(this),p===null)throw"delegates";return this.delegates=p,this}b.prototype.syntaxError=function(p,A,S,_,l,y){},b.prototype.reportAmbiguity=function(p,A,S,_,l,y,o){},b.prototype.reportAttemptingFullContext=function(p,A,S,_,l,y){},b.prototype.reportContextSensitivity=function(p,A,S,_,l,y){},((h.prototype=Object.create(b.prototype)).constructor=h).INSTANCE=new h,h.prototype.syntaxError=function(p,A,S,_,l,y){console.error("line "+S+":"+_+" "+l)},((m.prototype=Object.create(b.prototype)).constructor=m).prototype.syntaxError=function(p,A,S,_,l,y){this.delegates.map(function(o){o.syntaxError(p,A,S,_,l,y)})},m.prototype.reportAmbiguity=function(p,A,S,_,l,y,o){this.delegates.map(function(f){f.reportAmbiguity(p,A,S,_,l,y,o)})},m.prototype.reportAttemptingFullContext=function(p,A,S,_,l,y){this.delegates.map(function(o){o.reportAttemptingFullContext(p,A,S,_,l,y)})},m.prototype.reportContextSensitivity=function(p,A,S,_,l,y){this.delegates.map(function(o){o.reportContextSensitivity(p,A,S,_,l,y)})},r.ErrorListener=b,r.ConsoleErrorListener=h,r.ProxyErrorListener=m},{}],44:[function(n,a,r){var b=n("./../Token").Token,h=n("./Errors"),m=h.NoViableAltException,p=h.InputMismatchException,A=h.FailedPredicateException,S=h.ParseCancellationException,_=n("./../atn/ATNState").ATNState,l=n("./../IntervalSet").Interval,y=n("./../IntervalSet").IntervalSet;function o(){}function f(){return o.call(this),this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.lastErrorStates=null,this}function x(){return f.call(this),this}o.prototype.reset=function(g){},o.prototype.recoverInline=function(g){},o.prototype.recover=function(g,D){},o.prototype.sync=function(g){},o.prototype.inErrorRecoveryMode=function(g){},o.prototype.reportError=function(g){},((f.prototype=Object.create(o.prototype)).constructor=f).prototype.reset=function(g){this.endErrorCondition(g)},f.prototype.beginErrorCondition=function(g){this.errorRecoveryMode=!0},f.prototype.inErrorRecoveryMode=function(g){return this.errorRecoveryMode},f.prototype.endErrorCondition=function(g){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1},f.prototype.reportMatch=function(g){this.endErrorCondition(g)},f.prototype.reportError=function(g,D){this.inErrorRecoveryMode(g)||(this.beginErrorCondition(g),D instanceof m?this.reportNoViableAlternative(g,D):D instanceof p?this.reportInputMismatch(g,D):D instanceof A?this.reportFailedPredicate(g,D):(console.log("unknown recognition error type: "+D.constructor.name),console.log(D.stack),g.notifyErrorListeners(D.getOffendingToken(),D.getMessage(),D)))},f.prototype.recover=function(g,D){this.lastErrorIndex===g.getInputStream().index&&this.lastErrorStates!==null&&0<=this.lastErrorStates.indexOf(g.state)&&g.consume(),this.lastErrorIndex=g._input.index,this.lastErrorStates===null&&(this.lastErrorStates=[]),this.lastErrorStates.push(g.state);var E=this.getErrorRecoverySet(g);this.consumeUntil(g,E)},f.prototype.sync=function(g){if(!this.inErrorRecoveryMode(g)){var D=g._interp.atn.states[g.state],E=g.getTokenStream().LA(1),C=g.atn.nextTokens(D);if(!C.contains(b.EPSILON)&&!C.contains(E))switch(D.stateType){case _.BLOCK_START:case _.STAR_BLOCK_START:case _.PLUS_BLOCK_START:case _.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(g)!==null)return;throw new p(g);case _.PLUS_LOOP_BACK:case _.STAR_LOOP_BACK:this.reportUnwantedToken(g);var T=new y;T.addSet(g.getExpectedTokens());var O=T.addSet(this.getErrorRecoverySet(g));this.consumeUntil(g,O)}}},f.prototype.reportNoViableAlternative=function(g,D){var E=g.getTokenStream(),C=E!==null?D.startToken.type===b.EOF?"<EOF>":E.getText(new l(D.startToken.tokenIndex,D.offendingToken.tokenIndex)):"<unknown input>",T="no viable alternative at input "+this.escapeWSAndQuote(C);g.notifyErrorListeners(T,D.offendingToken,D)},f.prototype.reportInputMismatch=function(g,D){var E="mismatched input "+this.getTokenErrorDisplay(D.offendingToken)+" expecting "+D.getExpectedTokens().toString(g.literalNames,g.symbolicNames);g.notifyErrorListeners(E,D.offendingToken,D)},f.prototype.reportFailedPredicate=function(g,D){var E="rule "+g.ruleNames[g._ctx.ruleIndex]+" "+D.message;g.notifyErrorListeners(E,D.offendingToken,D)},f.prototype.reportUnwantedToken=function(g){var D,E;this.inErrorRecoveryMode(g)||(this.beginErrorCondition(g),D=g.getCurrentToken(),E="extraneous input "+this.getTokenErrorDisplay(D)+" expecting "+this.getExpectedTokens(g).toString(g.literalNames,g.symbolicNames),g.notifyErrorListeners(E,D,null))},f.prototype.reportMissingToken=function(g){var D,E;this.inErrorRecoveryMode(g)||(this.beginErrorCondition(g),D=g.getCurrentToken(),E="missing "+this.getExpectedTokens(g).toString(g.literalNames,g.symbolicNames)+" at "+this.getTokenErrorDisplay(D),g.notifyErrorListeners(E,D,null))},f.prototype.recoverInline=function(g){var D=this.singleTokenDeletion(g);if(D!==null)return g.consume(),D;if(this.singleTokenInsertion(g))return this.getMissingSymbol(g);throw new p(g)},f.prototype.singleTokenInsertion=function(g){var D=g.getTokenStream().LA(1),E=g._interp.atn,C=E.states[g.state].transitions[0].target;return!!E.nextTokens(C,g._ctx).contains(D)&&(this.reportMissingToken(g),!0)},f.prototype.singleTokenDeletion=function(g){var D=g.getTokenStream().LA(2);if(this.getExpectedTokens(g).contains(D)){this.reportUnwantedToken(g),g.consume();var E=g.getCurrentToken();return this.reportMatch(g),E}return null},f.prototype.getMissingSymbol=function(g){var D=g.getCurrentToken(),E=this.getExpectedTokens(g).first(),C=E===b.EOF?"<missing EOF>":"<missing "+g.literalNames[E]+">",T=D,O=g.getTokenStream().LT(-1);return T.type===b.EOF&&O!==null&&(T=O),g.getTokenFactory().create(T.source,E,C,b.DEFAULT_CHANNEL,-1,-1,T.line,T.column)},f.prototype.getExpectedTokens=function(g){return g.getExpectedTokens()},f.prototype.getTokenErrorDisplay=function(g){if(g===null)return"<no token>";var D=g.text;return D===null&&(D=g.type===b.EOF?"<EOF>":"<"+g.type+">"),this.escapeWSAndQuote(D)},f.prototype.escapeWSAndQuote=function(g){return"'"+(g=(g=(g=g.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"},f.prototype.getErrorRecoverySet=function(g){for(var D=g._interp.atn,E=g._ctx,C=new y;E!==null&&0<=E.invokingState;){var T=D.states[E.invokingState].transitions[0],O=D.nextTokens(T.followState);C.addSet(O),E=E.parentCtx}return C.removeOne(b.EPSILON),C},f.prototype.consumeUntil=function(g,D){for(var E=g.getTokenStream().LA(1);E!==b.EOF&&!D.contains(E);)g.consume(),E=g.getTokenStream().LA(1)},((x.prototype=Object.create(f.prototype)).constructor=x).prototype.recover=function(g,D){for(var E=g._ctx;E!==null;)E.exception=D,E=E.parentCtx;throw new S(D)},x.prototype.recoverInline=function(g){this.recover(g,new p(g))},x.prototype.sync=function(g){},r.BailErrorStrategy=x,r.DefaultErrorStrategy=f},{"./../IntervalSet":12,"./../Token":20,"./../atn/ATNState":28,"./Errors":45}],45:[function(n,a,r){var b=n("./../atn/Transition").PredicateTransition;function h(l){return Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,h):new Error().stack,this.message=l.message,this.recognizer=l.recognizer,this.input=l.input,this.ctx=l.ctx,this.offendingToken=null,this.offendingState=-1,this.recognizer!==null&&(this.offendingState=this.recognizer.state),this}function m(l,y,o,f){return h.call(this,{message:"",recognizer:l,input:y,ctx:null}),this.startIndex=o,this.deadEndConfigs=f,this}function p(l,y,o,f,x,g){g=g||l._ctx,f=f||l.getCurrentToken(),o=o||l.getCurrentToken(),y=y||l.getInputStream(),h.call(this,{message:"",recognizer:l,input:y,ctx:g}),this.deadEndConfigs=x,this.startToken=o,this.offendingToken=f}function A(l){h.call(this,{message:"",recognizer:l,input:l.getInputStream(),ctx:l._ctx}),this.offendingToken=l.getCurrentToken()}function S(l,y,o){h.call(this,{message:this.formatMessage(y,o||null),recognizer:l,input:l.getInputStream(),ctx:l._ctx});var f=l._interp.atn.states[l.state].transitions[0];return f instanceof b?(this.ruleIndex=f.ruleIndex,this.predicateIndex=f.predIndex):(this.ruleIndex=0,this.predicateIndex=0),this.predicate=y,this.offendingToken=l.getCurrentToken(),this}function _(){return Error.call(this),Error.captureStackTrace(this,_),this}((h.prototype=Object.create(Error.prototype)).constructor=h).prototype.getExpectedTokens=function(){return this.recognizer!==null?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null},h.prototype.toString=function(){return this.message},((m.prototype=Object.create(h.prototype)).constructor=m).prototype.toString=function(){var l="";return 0<=this.startIndex&&this.startIndex<this.input.size&&(l=this.input.getText((this.startIndex,this.startIndex))),"LexerNoViableAltException"+l},(p.prototype=Object.create(h.prototype)).constructor=p,(A.prototype=Object.create(h.prototype)).constructor=A,((S.prototype=Object.create(h.prototype)).constructor=S).prototype.formatMessage=function(l,y){return y!==null?y:"failed predicate: {"+l+"}?"},(_.prototype=Object.create(Error.prototype)).constructor=_,r.RecognitionException=h,r.NoViableAltException=p,r.LexerNoViableAltException=m,r.InputMismatchException=A,r.FailedPredicateException=S,r.ParseCancellationException=_},{"./../atn/Transition":36}],46:[function(n,a,r){r.RecognitionException=n("./Errors").RecognitionException,r.NoViableAltException=n("./Errors").NoViableAltException,r.LexerNoViableAltException=n("./Errors").LexerNoViableAltException,r.InputMismatchException=n("./Errors").InputMismatchException,r.FailedPredicateException=n("./Errors").FailedPredicateException,r.DiagnosticErrorListener=n("./DiagnosticErrorListener").DiagnosticErrorListener,r.BailErrorStrategy=n("./ErrorStrategy").BailErrorStrategy,r.ErrorListener=n("./ErrorListener").ErrorListener},{"./DiagnosticErrorListener":42,"./ErrorListener":43,"./ErrorStrategy":44,"./Errors":45}],47:[function(n,a,r){r.atn=n("./atn/index"),r.codepointat=n("./polyfills/codepointat"),r.dfa=n("./dfa/index"),r.fromcodepoint=n("./polyfills/fromcodepoint"),r.tree=n("./tree/index"),r.error=n("./error/index"),r.Token=n("./Token").Token,r.CharStreams=n("./CharStreams").CharStreams,r.CommonToken=n("./Token").CommonToken,r.InputStream=n("./InputStream").InputStream,r.FileStream=n("./FileStream").FileStream,r.CommonTokenStream=n("./CommonTokenStream").CommonTokenStream,r.Lexer=n("./Lexer").Lexer,r.Parser=n("./Parser").Parser;var b=n("./PredictionContext");r.PredictionContextCache=b.PredictionContextCache,r.ParserRuleContext=n("./ParserRuleContext").ParserRuleContext,r.Interval=n("./IntervalSet").Interval,r.Utils=n("./Utils")},{"./CharStreams":7,"./CommonTokenStream":9,"./FileStream":10,"./InputStream":11,"./IntervalSet":12,"./Lexer":14,"./Parser":15,"./ParserRuleContext":16,"./PredictionContext":17,"./Token":20,"./Utils":21,"./atn/index":37,"./dfa/index":41,"./error/index":46,"./polyfills/codepointat":48,"./polyfills/fromcodepoint":49,"./tree/index":52}],48:[function(n,a,r){String.prototype.codePointAt||function(){function b(m){if(this==null)throw TypeError();var p=String(this),A=p.length,S=m?Number(m):0;if(S!=S&&(S=0),!(S<0||A<=S)){var _,l=p.charCodeAt(S);return 55296<=l&&l<=56319&&S+1<A&&56320<=(_=p.charCodeAt(S+1))&&_<=57343?1024*(l-55296)+_-56320+65536:l}}var h=function(){try{var m={},p=Object.defineProperty,A=p(m,m,m)&&p}catch{}return A}();h?h(String.prototype,"codePointAt",{value:b,configurable:!0,writable:!0}):String.prototype.codePointAt=b}()},{}],49:[function(n,a,r){function b(A){var S,_,l=[],y=-1,o=arguments.length;if(!o)return"";for(var f="";++y<o;){var x=Number(arguments[y]);if(!isFinite(x)||x<0||1114111<x||p(x)!=x)throw RangeError("Invalid code point: "+x);x<=65535?l.push(x):(S=55296+((x-=65536)>>10),_=x%1024+56320,l.push(S,_)),(y+1==o||16384<l.length)&&(f+=m.apply(null,l),l.length=0)}return f}var h,m,p;String.fromCodePoint||(h=function(){try{var A={},S=Object.defineProperty,_=S(A,A,A)&&S}catch{}return _}(),m=String.fromCharCode,p=Math.floor,h?h(String,"fromCodePoint",{value:b,configurable:!0,writable:!0}):String.fromCodePoint=b)},{}],50:[function(n,a,r){var b=n("./../Token").Token,h=n("./../IntervalSet").Interval,m=new h(-1,-2);n("../Utils.js");function p(){return this}function A(){return p.call(this),this}function S(){return A.call(this),this}function _(){return S.call(this),this}function l(){return S.call(this),this}function y(){return l.call(this),this}function o(){return this}function f(){return this}function x(E){return l.call(this),this.parentCtx=null,this.symbol=E,this}function g(E){return x.call(this,E),this}function D(){return this}(A.prototype=Object.create(p.prototype)).constructor=A,(S.prototype=Object.create(A.prototype)).constructor=S,(_.prototype=Object.create(S.prototype)).constructor=_,(l.prototype=Object.create(S.prototype)).constructor=l,(y.prototype=Object.create(l.prototype)).constructor=y,o.prototype.visit=function(E){return Array.isArray(E)?E.map(function(C){return C.accept(this)},this):E.accept(this)},o.prototype.visitChildren=function(E){return E.children?this.visit(E.children):null},o.prototype.visitTerminal=function(E){},o.prototype.visitErrorNode=function(E){},f.prototype.visitTerminal=function(E){},f.prototype.visitErrorNode=function(E){},f.prototype.enterEveryRule=function(E){},f.prototype.exitEveryRule=function(E){},((x.prototype=Object.create(l.prototype)).constructor=x).prototype.getChild=function(E){return null},x.prototype.getSymbol=function(){return this.symbol},x.prototype.getParent=function(){return this.parentCtx},x.prototype.getPayload=function(){return this.symbol},x.prototype.getSourceInterval=function(){if(this.symbol===null)return m;var E=this.symbol.tokenIndex;return new h(E,E)},x.prototype.getChildCount=function(){return 0},x.prototype.accept=function(E){return E.visitTerminal(this)},x.prototype.getText=function(){return this.symbol.text},x.prototype.toString=function(){return this.symbol.type===b.EOF?"<EOF>":this.symbol.text},((g.prototype=Object.create(x.prototype)).constructor=g).prototype.isErrorNode=function(){return!0},g.prototype.accept=function(E){return E.visitErrorNode(this)},D.prototype.walk=function(E,C){if(C instanceof y||C.isErrorNode!==void 0&&C.isErrorNode())E.visitErrorNode(C);else if(C instanceof l)E.visitTerminal(C);else{this.enterRule(E,C);for(var T=0;T<C.getChildCount();T++){var O=C.getChild(T);this.walk(E,O)}this.exitRule(E,C)}},D.prototype.enterRule=function(E,C){var T=C.getRuleContext();E.enterEveryRule(T),T.enterRule(E)},D.prototype.exitRule=function(E,C){var T=C.getRuleContext();T.exitRule(E),E.exitEveryRule(T)},D.DEFAULT=new D,r.RuleNode=_,r.ErrorNode=y,r.TerminalNode=l,r.ErrorNodeImpl=g,r.TerminalNodeImpl=x,r.ParseTreeListener=f,r.ParseTreeVisitor=o,r.ParseTreeWalker=D,r.INVALID_INTERVAL=m},{"../Utils.js":21,"./../IntervalSet":12,"./../Token":20}],51:[function(n,a,r){var b=n("./../Utils"),h=n("./../Token").Token,m=(n("./Tree").RuleNode,n("./Tree").ErrorNode),p=n("./Tree").TerminalNode,A=n("./../ParserRuleContext").ParserRuleContext,S=n("./../RuleContext").RuleContext,_=n("./../atn/ATN").INVALID_ALT_NUMBER;function l(){}l.toStringTree=function(y,o,f){o=o||null,(f=f||null)!==null&&(o=f.ruleNames);var x=l.getNodeText(y,o),x=b.escapeWhitespace(x,!1),g=y.getChildCount();if(g===0)return x;var D="("+x+" ";0<g&&(x=l.toStringTree(y.getChild(0),o),D=D.concat(x));for(var E=1;E<g;E++)x=l.toStringTree(y.getChild(E),o),D=D.concat(" "+x);return D=D.concat(")")},l.getNodeText=function(y,o,f){if(o=o||null,(f=f||null)!==null&&(o=f.ruleNames),o!==null){if(y instanceof S){var x=y.getAltNumber();return x!=_?o[y.ruleIndex]+":"+x:o[y.ruleIndex]}if(y instanceof m)return y.toString();if(y instanceof p&&y.symbol!==null)return y.symbol.text}var g=y.getPayload();return g instanceof h?g.text:y.getPayload().toString()},l.getChildren=function(y){for(var o=[],f=0;f<y.getChildCount();f++)o.push(y.getChild(f));return o},l.getAncestors=function(y){var o=[];for(y=y.getParent();y!==null;)o=[y].concat(o),y=y.getParent();return o},l.findAllTokenNodes=function(y,o){return l.findAllNodes(y,o,!0)},l.findAllRuleNodes=function(y,o){return l.findAllNodes(y,o,!1)},l.findAllNodes=function(y,o,f){var x=[];return l._findAllNodes(y,o,f,x),x},l._findAllNodes=function(y,o,f,x){f&&y instanceof p?y.symbol.type===o&&x.push(y):!f&&y instanceof A&&y.ruleIndex===o&&x.push(y);for(var g=0;g<y.getChildCount();g++)l._findAllNodes(y.getChild(g),o,f,x)},l.descendants=function(y){for(var o=[y],f=0;f<y.getChildCount();f++)o=o.concat(l.descendants(y.getChild(f)));return o},r.Trees=l},{"./../ParserRuleContext":16,"./../RuleContext":19,"./../Token":20,"./../Utils":21,"./../atn/ATN":22,"./Tree":50}],52:[function(n,a,r){var b=n("./Tree");r.Trees=n("./Trees").Trees,r.RuleNode=b.RuleNode,r.ParseTreeListener=b.ParseTreeListener,r.ParseTreeVisitor=b.ParseTreeVisitor,r.ParseTreeWalker=b.ParseTreeWalker},{"./Tree":50,"./Trees":51}],53:[function(n,a,r){},{}],54:[function(n,a,r){(function(b){function h(l){return .5*(Math.exp(l)+Math.exp(-l))}function m(l){return .5*(Math.exp(l)-Math.exp(-l))}function p(){throw SyntaxError("Invalid Param")}function A(l,y){var o=Math.abs(l),f=Math.abs(y);return l===0?Math.log(f):y===0?Math.log(o):o<3e3&&f<3e3?.5*Math.log(l*l+y*y):Math.log(l/Math.cos(Math.atan2(y,l)))}var S=function(l,y){var o={re:0,im:0};if(l==null)o.re=o.im=0;else if(y!==void 0)o.re=l,o.im=y;else switch(typeof l){case"object":if("im"in l&&"re"in l)o.re=l.re,o.im=l.im;else if("abs"in l&&"arg"in l){if(!Number.isFinite(l.abs)&&Number.isFinite(l.arg))return _.INFINITY;o.re=l.abs*Math.cos(l.arg),o.im=l.abs*Math.sin(l.arg)}else if("r"in l&&"phi"in l){if(!Number.isFinite(l.r)&&Number.isFinite(l.phi))return _.INFINITY;o.re=l.r*Math.cos(l.phi),o.im=l.r*Math.sin(l.phi)}else l.length===2?(o.re=l[0],o.im=l[1]):p();break;case"string":o.im=o.re=0;var f=l.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),x=1,g=0;f===null&&p();for(var D=0;D<f.length;D++){var E=f[D];E===" "||E==="	"||E===`
`||(E==="+"?x++:E==="-"?g++:x=g=(E==="i"||E==="I"?(x+g===0&&p(),f[D+1]===" "||isNaN(f[D+1])?o.im+=parseFloat((g%2?"-":"")+"1"):(o.im+=parseFloat((g%2?"-":"")+f[D+1]),D++)):(x+g!==0&&!isNaN(E)||p(),f[D+1]==="i"||f[D+1]==="I"?(o.im+=parseFloat((g%2?"-":"")+E),D++):o.re+=parseFloat((g%2?"-":"")+E)),0))}0<x+g&&p();break;case"number":o.im=0,o.re=l;break;default:p()}return isNaN(o.re)||isNaN(o.im),o};function _(l,y){if(!(this instanceof _))return new _(l,y);var o=S(l,y);this.re=o.re,this.im=o.im}_.prototype={re:0,im:0,sign:function(){var l=this.abs();return new _(this.re/l,this.im/l)},add:function(l,y){var o=new _(l,y);return this.isInfinite()&&o.isInfinite()?_.NAN:this.isInfinite()||o.isInfinite()?_.INFINITY:new _(this.re+o.re,this.im+o.im)},sub:function(l,y){var o=new _(l,y);return this.isInfinite()&&o.isInfinite()?_.NAN:this.isInfinite()||o.isInfinite()?_.INFINITY:new _(this.re-o.re,this.im-o.im)},mul:function(l,y){var o=new _(l,y);return this.isInfinite()&&o.isZero()||this.isZero()&&o.isInfinite()?_.NAN:this.isInfinite()||o.isInfinite()?_.INFINITY:o.im===0&&this.im===0?new _(this.re*o.re,0):new _(this.re*o.re-this.im*o.im,this.re*o.im+this.im*o.re)},div:function(l,y){var o=new _(l,y);if(this.isZero()&&o.isZero()||this.isInfinite()&&o.isInfinite())return _.NAN;if(this.isInfinite()||o.isZero())return _.INFINITY;if(this.isZero()||o.isInfinite())return _.ZERO;l=this.re,y=this.im;var f,x,g=o.re,D=o.im;return D===0?new _(l/g,y/g):Math.abs(g)<Math.abs(D)?new _((l*(x=g/D)+y)/(f=g*x+D),(y*x-l)/f):new _((l+y*(x=D/g))/(f=D*x+g),(y-l*x)/f)},pow:function(l,y){var o=new _(l,y);if(l=this.re,y=this.im,o.isZero())return _.ONE;if(o.im===0){if(y===0&&0<l)return new _(Math.pow(l,o.re),0);if(l===0)switch((o.re%4+4)%4){case 0:return new _(Math.pow(y,o.re),0);case 1:return new _(0,Math.pow(y,o.re));case 2:return new _(-Math.pow(y,o.re),0);case 3:return new _(0,-Math.pow(y,o.re))}}if(l===0&&y===0&&0<o.re&&0<=o.im)return _.ZERO;var f=Math.atan2(y,l),x=A(l,y);return l=Math.exp(o.re*x-o.im*f),y=o.im*x+o.re*f,new _(l*Math.cos(y),l*Math.sin(y))},sqrt:function(){var l,y,o=this.re,f=this.im,x=this.abs();if(0<=o){if(f===0)return new _(Math.sqrt(o),0);l=.5*Math.sqrt(2*(x+o))}else l=Math.abs(f)/Math.sqrt(2*(x-o));return y=o<=0?.5*Math.sqrt(2*(x-o)):Math.abs(f)/Math.sqrt(2*(x+o)),new _(l,f<0?-y:y)},exp:function(){var l=Math.exp(this.re);return this.im,new _(l*Math.cos(this.im),l*Math.sin(this.im))},expm1:function(){var l=this.re,y=this.im;return new _(Math.expm1(l)*Math.cos(y)+function(o){var f=Math.PI/4;if(o<-f||f<o)return Math.cos(o)-1;var x=o*o;return x*(x*(x*(x*(x*(x*(x*(x/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(y),Math.exp(l)*Math.sin(y))},log:function(){var l=this.re,y=this.im;return new _(A(l,y),Math.atan2(y,l))},abs:function(){return l=this.re,y=this.im,o=Math.abs(l),f=Math.abs(y),o<3e3&&f<3e3?Math.sqrt(o*o+f*f):(f=o<f?(o=f,l/y):y/l,o*Math.sqrt(1+f*f));var l,y,o,f},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var l=this.re,y=this.im;return new _(Math.sin(l)*h(y),Math.cos(l)*m(y))},cos:function(){var l=this.re,y=this.im;return new _(Math.cos(l)*h(y),-Math.sin(l)*m(y))},tan:function(){var l=2*this.re,y=2*this.im,o=Math.cos(l)+h(y);return new _(Math.sin(l)/o,m(y)/o)},cot:function(){var l=2*this.re,y=2*this.im,o=Math.cos(l)-h(y);return new _(-Math.sin(l)/o,m(y)/o)},sec:function(){var l=this.re,y=this.im,o=.5*h(2*y)+.5*Math.cos(2*l);return new _(Math.cos(l)*h(y)/o,Math.sin(l)*m(y)/o)},csc:function(){var l=this.re,y=this.im,o=.5*h(2*y)-.5*Math.cos(2*l);return new _(Math.sin(l)*h(y)/o,-Math.cos(l)*m(y)/o)},asin:function(){var l=this.re,y=this.im,o=new _(y*y-l*l+1,-2*l*y).sqrt(),f=new _(o.re-y,o.im+l).log();return new _(f.im,-f.re)},acos:function(){var l=this.re,y=this.im,o=new _(y*y-l*l+1,-2*l*y).sqrt(),f=new _(o.re-y,o.im+l).log();return new _(Math.PI/2-f.im,f.re)},atan:function(){var l=this.re,y=this.im;if(l===0){if(y===1)return new _(0,1/0);if(y===-1)return new _(0,-1/0)}var o=l*l+(1-y)*(1-y),f=new _((1-y*y-l*l)/o,-2*l/o).log();return new _(-.5*f.im,.5*f.re)},acot:function(){var l=this.re,y=this.im;if(y===0)return new _(Math.atan2(1,l),0);var o=l*l+y*y;return o!=0?new _(l/o,-y/o).atan():new _(l!==0?l/0:0,y!==0?-y/0:0).atan()},asec:function(){var l=this.re,y=this.im;if(l===0&&y===0)return new _(0,1/0);var o=l*l+y*y;return o!=0?new _(l/o,-y/o).acos():new _(l!==0?l/0:0,y!==0?-y/0:0).acos()},acsc:function(){var l=this.re,y=this.im;if(l===0&&y===0)return new _(Math.PI/2,1/0);var o=l*l+y*y;return o!=0?new _(l/o,-y/o).asin():new _(l!==0?l/0:0,y!==0?-y/0:0).asin()},sinh:function(){var l=this.re,y=this.im;return new _(m(l)*Math.cos(y),h(l)*Math.sin(y))},cosh:function(){var l=this.re,y=this.im;return new _(h(l)*Math.cos(y),m(l)*Math.sin(y))},tanh:function(){var l=2*this.re,y=2*this.im,o=h(l)+Math.cos(y);return new _(m(l)/o,Math.sin(y)/o)},coth:function(){var l=2*this.re,y=2*this.im,o=h(l)-Math.cos(y);return new _(m(l)/o,-Math.sin(y)/o)},csch:function(){var l=this.re,y=this.im,o=Math.cos(2*y)-h(2*l);return new _(-2*m(l)*Math.cos(y)/o,2*h(l)*Math.sin(y)/o)},sech:function(){var l=this.re,y=this.im,o=Math.cos(2*y)+h(2*l);return new _(2*h(l)*Math.cos(y)/o,-2*m(l)*Math.sin(y)/o)},asinh:function(){var l=this.im;this.im=-this.re,this.re=l;var y=this.asin();return this.re=-this.im,this.im=l,l=y.re,y.re=-y.im,y.im=l,y},acosh:function(){var l,y=this.acos();return y.im<=0?(l=y.re,y.re=-y.im,y.im=l):(l=y.im,y.im=-y.re,y.re=l),y},atanh:function(){var l=this.re,y=this.im,o=1<l&&y===0,f=1-l,x=1+l,g=f*f+y*y,D=g!=0?new _((x*f-y*y)/g,(y*f+x*y)/g):new _(l!==-1?l/0:0,y!==0?y/0:0),E=D.re;return D.re=A(D.re,D.im)/2,D.im=Math.atan2(D.im,E)/2,o&&(D.im=-D.im),D},acoth:function(){var l=this.re,y=this.im;if(l===0&&y===0)return new _(0,Math.PI/2);var o=l*l+y*y;return o!=0?new _(l/o,-y/o).atanh():new _(l!==0?l/0:0,y!==0?-y/0:0).atanh()},acsch:function(){var l=this.re,y=this.im;if(y===0)return new _(l!==0?Math.log(l+Math.sqrt(l*l+1)):1/0,0);var o=l*l+y*y;return o!=0?new _(l/o,-y/o).asinh():new _(l!==0?l/0:0,y!==0?-y/0:0).asinh()},asech:function(){var l=this.re,y=this.im;if(this.isZero())return _.INFINITY;var o=l*l+y*y;return o!=0?new _(l/o,-y/o).acosh():new _(l!==0?l/0:0,y!==0?-y/0:0).acosh()},inverse:function(){if(this.isZero())return _.INFINITY;if(this.isInfinite())return _.ZERO;var l=this.re,y=this.im,o=l*l+y*y;return new _(l/o,-y/o)},conjugate:function(){return new _(this.re,-this.im)},neg:function(){return new _(-this.re,-this.im)},ceil:function(l){return l=Math.pow(10,l||0),new _(Math.ceil(this.re*l)/l,Math.ceil(this.im*l)/l)},floor:function(l){return l=Math.pow(10,l||0),new _(Math.floor(this.re*l)/l,Math.floor(this.im*l)/l)},round:function(l){return l=Math.pow(10,l||0),new _(Math.round(this.re*l)/l,Math.round(this.im*l)/l)},equals:function(l,y){var o=new _(l,y);return Math.abs(o.re-this.re)<=_.EPSILON&&Math.abs(o.im-this.im)<=_.EPSILON},clone:function(){return new _(this.re,this.im)},toString:function(){var l=this.re,y=this.im,o="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(l)<_.EPSILON&&(l=0),Math.abs(y)<_.EPSILON&&(y=0),y===0?o+l:(l!==0?(o+=l,o+=" ",y<0?(y=-y,o+="-"):o+="+",o+=" "):y<0&&(y=-y,o+="-"),y!==1&&(o+=y),o+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},_.ZERO=new _(0,0),_.ONE=new _(1,0),_.I=new _(0,1),_.PI=new _(Math.PI,0),_.E=new _(Math.E,0),_.INFINITY=new _(1/0,1/0),_.NAN=new _(NaN,NaN),_.EPSILON=1e-15,typeof r=="object"?(Object.defineProperty(_,"__esModule",{value:!0}),(_.default=_).Complex=_,a.exports=_):b.Complex=_})(this)},{}],55:[function(n,a,r){(function(b){var h,m,p,A,S=9e15,_=1e9,l="0123456789abcdef",y="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",o="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",f={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-S,maxE:S,crypto:!1},x=!0,g="[DecimalError] ",D=g+"Invalid argument: ",E=g+"Precision limit exceeded",C=g+"crypto unavailable",T="[object Decimal]",O=Math.floor,I=Math.pow,M=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,F=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,B=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,j=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,L=1e7,R=7,V=y.length-1,k=o.length-1,U={toStringTag:T};function G(_e){var Oe,Ue,Fe,He=_e.length-1,Re="",Ye=_e[0];if(0<He){for(Re+=Ye,Oe=1;Oe<He;Oe++)Fe=_e[Oe]+"",(Ue=R-Fe.length)&&(Re+=le(Ue)),Re+=Fe;Ye=_e[Oe],(Ue=R-(Fe=Ye+"").length)&&(Re+=le(Ue))}else if(Ye===0)return"0";for(;Ye%10==0;)Ye/=10;return Re+Ye}function H(_e,Oe,Ue){if(_e!==~~_e||_e<Oe||Ue<_e)throw Error(D+_e)}function X(_e,Oe,Ue,Fe){for(var He,Re,Ye=_e[0];10<=Ye;Ye/=10)--Oe;return--Oe<0?(Oe+=R,He=0):(He=Math.ceil((Oe+1)/R),Oe%=R),Ye=I(10,R-Oe),Re=_e[He]%Ye|0,Fe==null?Oe<3?(Oe==0?Re=Re/100|0:Oe==1&&(Re=Re/10|0),Ue<4&&Re==99999||3<Ue&&Re==49999||Re==5e4||Re==0):(Ue<4&&Re+1==Ye||3<Ue&&Re+1==Ye/2)&&(_e[He+1]/Ye/100|0)==I(10,Oe-2)-1||(Re==Ye/2||Re==0)&&(_e[He+1]/Ye/100|0)==0:Oe<4?(Oe==0?Re=Re/1e3|0:Oe==1?Re=Re/100|0:Oe==2&&(Re=Re/10|0),(Fe||Ue<4)&&Re==9999||!Fe&&3<Ue&&Re==4999):((Fe||Ue<4)&&Re+1==Ye||!Fe&&3<Ue&&Re+1==Ye/2)&&(_e[He+1]/Ye/1e3|0)==I(10,Oe-3)-1}function Z(_e,Oe,Ue){for(var Fe,He,Re=[0],Ye=0,tt=_e.length;Ye<tt;){for(He=Re.length;He--;)Re[He]*=Oe;for(Re[0]+=l.indexOf(_e.charAt(Ye++)),Fe=0;Fe<Re.length;Fe++)Re[Fe]>Ue-1&&(Re[Fe+1]===void 0&&(Re[Fe+1]=0),Re[Fe+1]+=Re[Fe]/Ue|0,Re[Fe]%=Ue)}return Re.reverse()}U.absoluteValue=U.abs=function(){var _e=new this.constructor(this);return _e.s<0&&(_e.s=1),Q(_e)},U.ceil=function(){return Q(new this.constructor(this),this.e+1,2)},U.clampedTo=U.clamp=function(_e,Oe){var Ue=this,Fe=Ue.constructor;if(_e=new Fe(_e),Oe=new Fe(Oe),!_e.s||!Oe.s)return new Fe(NaN);if(_e.gt(Oe))throw Error(D+Oe);return Ue.cmp(_e)<0?_e:0<Ue.cmp(Oe)?Oe:new Fe(Ue)},U.comparedTo=U.cmp=function(_e){var Oe,Ue,Fe,He,Re=this,Ye=Re.d,tt=(_e=new Re.constructor(_e)).d,ct=Re.s,st=_e.s;if(!Ye||!tt)return ct&&st?ct!==st?ct:Ye===tt?0:!Ye^ct<0?1:-1:NaN;if(!Ye[0]||!tt[0])return Ye[0]?ct:tt[0]?-st:0;if(ct!==st)return ct;if(Re.e!==_e.e)return Re.e>_e.e^ct<0?1:-1;for(Oe=0,Ue=(Fe=Ye.length)<(He=tt.length)?Fe:He;Oe<Ue;++Oe)if(Ye[Oe]!==tt[Oe])return Ye[Oe]>tt[Oe]^ct<0?1:-1;return Fe===He?0:He<Fe^ct<0?1:-1},U.cosine=U.cos=function(){var _e,Oe,Ue=this,Fe=Ue.constructor;return Ue.d?Ue.d[0]?(_e=Fe.precision,Oe=Fe.rounding,Fe.precision=_e+Math.max(Ue.e,Ue.sd())+R,Fe.rounding=1,Ue=function(He,Re){var Ye,tt,ct;if(Re.isZero())return Re;ct=(tt=Re.d.length)<32?(Ye=Math.ceil(tt/3),(1/Ce(4,Ye)).toString()):(Ye=16,"2.3283064365386962890625e-10"),He.precision+=Ye,Re=de(He,1,Re.times(ct),new He(1));for(var st=Ye;st--;){var ot=Re.times(Re);Re=ot.times(ot).minus(ot).times(8).plus(1)}return He.precision-=Ye,Re}(Fe,je(Fe,Ue)),Fe.precision=_e,Fe.rounding=Oe,Q(A==2||A==3?Ue.neg():Ue,_e,Oe,!0)):new Fe(1):new Fe(NaN)},U.cubeRoot=U.cbrt=function(){var _e,Oe,Ue,Fe,He,Re,Ye,tt,ct,st,ot=this,Dt=ot.constructor;if(!ot.isFinite()||ot.isZero())return new Dt(ot);for(x=!1,(Re=ot.s*I(ot.s*ot,1/3))&&Math.abs(Re)!=1/0?Fe=new Dt(Re.toString()):(Ue=G(ot.d),(Re=((_e=ot.e)-Ue.length+1)%3)&&(Ue+=Re==1||Re==-2?"0":"00"),Re=I(Ue,1/3),_e=O((_e+1)/3)-(_e%3==(_e<0?-1:2)),(Fe=new Dt(Ue=Re==1/0?"5e"+_e:(Ue=Re.toExponential()).slice(0,Ue.indexOf("e")+1)+_e)).s=ot.s),Ye=(_e=Dt.precision)+3;;)if(st=(ct=(tt=Fe).times(tt).times(tt)).plus(ot),Fe=J(st.plus(ot).times(tt),st.plus(ct),Ye+2,1),G(tt.d).slice(0,Ye)===(Ue=G(Fe.d)).slice(0,Ye)){if((Ue=Ue.slice(Ye-3,Ye+1))!="9999"&&(He||Ue!="4999")){+Ue&&(+Ue.slice(1)||Ue.charAt(0)!="5")||(Q(Fe,_e+1,1),Oe=!Fe.times(Fe).times(Fe).eq(ot));break}if(!He&&(Q(tt,_e+1,0),tt.times(tt).times(tt).eq(ot))){Fe=tt;break}Ye+=4,He=1}return x=!0,Q(Fe,_e,Dt.rounding,Oe)},U.decimalPlaces=U.dp=function(){var _e,Oe=this.d,Ue=NaN;if(Oe){if(Ue=((_e=Oe.length-1)-O(this.e/R))*R,_e=Oe[_e])for(;_e%10==0;_e/=10)Ue--;Ue<0&&(Ue=0)}return Ue},U.dividedBy=U.div=function(_e){return J(this,new this.constructor(_e))},U.dividedToIntegerBy=U.divToInt=function(_e){var Oe=this.constructor;return Q(J(this,new Oe(_e),0,1,1),Oe.precision,Oe.rounding)},U.equals=U.eq=function(_e){return this.cmp(_e)===0},U.floor=function(){return Q(new this.constructor(this),this.e+1,3)},U.greaterThan=U.gt=function(_e){return 0<this.cmp(_e)},U.greaterThanOrEqualTo=U.gte=function(_e){var Oe=this.cmp(_e);return Oe==1||Oe===0},U.hyperbolicCosine=U.cosh=function(){var _e,Oe,Ue,Fe,He,Re=this,Ye=Re.constructor,tt=new Ye(1);if(!Re.isFinite())return new Ye(Re.s?1/0:NaN);if(Re.isZero())return tt;Ue=Ye.precision,Fe=Ye.rounding,Ye.precision=Ue+Math.max(Re.e,Re.sd())+4,Ye.rounding=1,Oe=(He=Re.d.length)<32?(1/Ce(4,_e=Math.ceil(He/3))).toString():(_e=16,"2.3283064365386962890625e-10"),Re=de(Ye,1,Re.times(Oe),new Ye(1),!0);for(var ct,st=_e,ot=new Ye(8);st--;)ct=Re.times(Re),Re=tt.minus(ct.times(ot.minus(ct.times(ot))));return Q(Re,Ye.precision=Ue,Ye.rounding=Fe,!0)},U.hyperbolicSine=U.sinh=function(){var _e,Oe,Ue,Fe,He=this,Re=He.constructor;if(!He.isFinite()||He.isZero())return new Re(He);if(Oe=Re.precision,Ue=Re.rounding,Re.precision=Oe+Math.max(He.e,He.sd())+4,Re.rounding=1,(Fe=He.d.length)<3)He=de(Re,2,He,He,!0);else{_e=16<(_e=1.4*Math.sqrt(Fe))?16:0|_e,He=de(Re,2,He=He.times(1/Ce(5,_e)),He,!0);for(var Ye,tt=new Re(5),ct=new Re(16),st=new Re(20);_e--;)Ye=He.times(He),He=He.times(tt.plus(Ye.times(ct.times(Ye).plus(st))))}return Q(He,Re.precision=Oe,Re.rounding=Ue,!0)},U.hyperbolicTangent=U.tanh=function(){var _e,Oe,Ue=this,Fe=Ue.constructor;return Ue.isFinite()?Ue.isZero()?new Fe(Ue):(_e=Fe.precision,Oe=Fe.rounding,Fe.precision=_e+7,Fe.rounding=1,J(Ue.sinh(),Ue.cosh(),Fe.precision=_e,Fe.rounding=Oe)):new Fe(Ue.s)},U.inverseCosine=U.acos=function(){var _e,Oe=this,Ue=Oe.constructor,Fe=Oe.abs().cmp(1),He=Ue.precision,Re=Ue.rounding;return Fe!==-1?Fe===0?Oe.isNeg()?ue(Ue,He,Re):new Ue(0):new Ue(NaN):Oe.isZero()?ue(Ue,He+4,Re).times(.5):(Ue.precision=He+6,Ue.rounding=1,Oe=Oe.asin(),_e=ue(Ue,He+4,Re).times(.5),Ue.precision=He,Ue.rounding=Re,_e.minus(Oe))},U.inverseHyperbolicCosine=U.acosh=function(){var _e,Oe,Ue=this,Fe=Ue.constructor;return Ue.lte(1)?new Fe(Ue.eq(1)?0:NaN):Ue.isFinite()?(_e=Fe.precision,Oe=Fe.rounding,Fe.precision=_e+Math.max(Math.abs(Ue.e),Ue.sd())+4,Fe.rounding=1,x=!1,Ue=Ue.times(Ue).minus(1).sqrt().plus(Ue),x=!0,Fe.precision=_e,Fe.rounding=Oe,Ue.ln()):new Fe(Ue)},U.inverseHyperbolicSine=U.asinh=function(){var _e,Oe,Ue=this,Fe=Ue.constructor;return!Ue.isFinite()||Ue.isZero()?new Fe(Ue):(_e=Fe.precision,Oe=Fe.rounding,Fe.precision=_e+2*Math.max(Math.abs(Ue.e),Ue.sd())+6,Fe.rounding=1,x=!1,Ue=Ue.times(Ue).plus(1).sqrt().plus(Ue),x=!0,Fe.precision=_e,Fe.rounding=Oe,Ue.ln())},U.inverseHyperbolicTangent=U.atanh=function(){var _e,Oe,Ue,Fe,He=this,Re=He.constructor;return He.isFinite()?0<=He.e?new Re(He.abs().eq(1)?He.s/0:He.isZero()?He:NaN):(_e=Re.precision,Oe=Re.rounding,Fe=He.sd(),Math.max(Fe,_e)<2*-He.e-1?Q(new Re(He),_e,Oe,!0):(Re.precision=Ue=Fe-He.e,He=J(He.plus(1),new Re(1).minus(He),Ue+_e,1),Re.precision=_e+4,Re.rounding=1,He=He.ln(),Re.precision=_e,Re.rounding=Oe,He.times(.5))):new Re(NaN)},U.inverseSine=U.asin=function(){var _e,Oe,Ue,Fe,He=this,Re=He.constructor;return He.isZero()?new Re(He):(Oe=He.abs().cmp(1),Ue=Re.precision,Fe=Re.rounding,Oe!==-1?Oe===0?((_e=ue(Re,Ue+4,Fe).times(.5)).s=He.s,_e):new Re(NaN):(Re.precision=Ue+6,Re.rounding=1,He=He.div(new Re(1).minus(He.times(He)).sqrt().plus(1)).atan(),Re.precision=Ue,Re.rounding=Fe,He.times(2)))},U.inverseTangent=U.atan=function(){var _e,Oe,Ue,Fe,He,Re,Ye,tt,ct,st=this,ot=st.constructor,Dt=ot.precision,Nt=ot.rounding;if(st.isFinite()){if(st.isZero())return new ot(st);if(st.abs().eq(1)&&Dt+4<=k)return(Ye=ue(ot,Dt+4,Nt).times(.25)).s=st.s,Ye}else{if(!st.s)return new ot(NaN);if(Dt+4<=k)return(Ye=ue(ot,Dt+4,Nt).times(.5)).s=st.s,Ye}for(ot.precision=tt=Dt+10,ot.rounding=1,_e=Ue=Math.min(28,tt/R+2|0);_e;--_e)st=st.div(st.times(st).plus(1).sqrt().plus(1));for(x=!1,Oe=Math.ceil(tt/R),Fe=1,ct=st.times(st),Ye=new ot(st),He=st;_e!==-1;)if(He=He.times(ct),Re=Ye.minus(He.div(Fe+=2)),He=He.times(ct),(Ye=Re.plus(He.div(Fe+=2))).d[Oe]!==void 0)for(_e=Oe;Ye.d[_e]===Re.d[_e]&&_e--;);return Ue&&(Ye=Ye.times(2<<Ue-1)),x=!0,Q(Ye,ot.precision=Dt,ot.rounding=Nt,!0)},U.isFinite=function(){return!!this.d},U.isInteger=U.isInt=function(){return!!this.d&&O(this.e/R)>this.d.length-2},U.isNaN=function(){return!this.s},U.isNegative=U.isNeg=function(){return this.s<0},U.isPositive=U.isPos=function(){return 0<this.s},U.isZero=function(){return!!this.d&&this.d[0]===0},U.lessThan=U.lt=function(_e){return this.cmp(_e)<0},U.lessThanOrEqualTo=U.lte=function(_e){return this.cmp(_e)<1},U.logarithm=U.log=function(_e){var Oe,Ue,Fe,He,Re,Ye,tt,ct,st=this.constructor,ot=st.precision,Dt=st.rounding;if(_e==null)_e=new st(10),Oe=!0;else{if(Ue=(_e=new st(_e)).d,_e.s<0||!Ue||!Ue[0]||_e.eq(1))return new st(NaN);Oe=_e.eq(10)}if(Ue=this.d,this.s<0||!Ue||!Ue[0]||this.eq(1))return new st(Ue&&!Ue[0]?-1/0:this.s!=1?NaN:Ue?0:1/0);if(Oe)if(1<Ue.length)Re=!0;else{for(He=Ue[0];He%10==0;)He/=10;Re=He!==1}if(x=!1,Ye=Ae(this,tt=ot+5),Fe=Oe?oe(st,tt+10):Ae(_e,tt),X((ct=J(Ye,Fe,tt,1)).d,He=ot,Dt))do if(Ye=Ae(this,tt+=10),Fe=Oe?oe(st,tt+10):Ae(_e,tt),ct=J(Ye,Fe,tt,1),!Re){+G(ct.d).slice(He+1,He+15)+1==1e14&&(ct=Q(ct,ot+1,0));break}while(X(ct.d,He+=10,Dt));return x=!0,Q(ct,ot,Dt)},U.minus=U.sub=function(_e){var Oe,Ue,Fe,He,Re,Ye,tt,ct,st,ot,Dt,Nt,Ut=this,Gt=Ut.constructor;if(_e=new Gt(_e),!Ut.d||!_e.d)return Ut.s&&_e.s?Ut.d?_e.s=-_e.s:_e=new Gt(_e.d||Ut.s!==_e.s?Ut:NaN):_e=new Gt(NaN),_e;if(Ut.s!=_e.s)return _e.s=-_e.s,Ut.plus(_e);if(st=Ut.d,Nt=_e.d,tt=Gt.precision,ct=Gt.rounding,!st[0]||!Nt[0]){if(Nt[0])_e.s=-_e.s;else{if(!st[0])return new Gt(ct===3?-0:0);_e=new Gt(Ut)}return x?Q(_e,tt,ct):_e}if(Ue=O(_e.e/R),ot=O(Ut.e/R),st=st.slice(),Re=ot-Ue){for(Ye=(Dt=Re<0)?(Oe=st,Re=-Re,Nt.length):(Oe=Nt,Ue=ot,st.length),(Fe=Math.max(Math.ceil(tt/R),Ye)+2)<Re&&(Re=Fe,Oe.length=1),Oe.reverse(),Fe=Re;Fe--;)Oe.push(0);Oe.reverse()}else{for((Dt=(Fe=st.length)<(Ye=Nt.length))&&(Ye=Fe),Fe=0;Fe<Ye;Fe++)if(st[Fe]!=Nt[Fe]){Dt=st[Fe]<Nt[Fe];break}Re=0}for(Dt&&(Oe=st,st=Nt,Nt=Oe,_e.s=-_e.s),Ye=st.length,Fe=Nt.length-Ye;0<Fe;--Fe)st[Ye++]=0;for(Fe=Nt.length;Re<Fe;){if(st[--Fe]<Nt[Fe]){for(He=Fe;He&&st[--He]===0;)st[He]=L-1;--st[He],st[Fe]+=L}st[Fe]-=Nt[Fe]}for(;st[--Ye]===0;)st.pop();for(;st[0]===0;st.shift())--Ue;return st[0]?(_e.d=st,_e.e=ce(st,Ue),x?Q(_e,tt,ct):_e):new Gt(ct===3?-0:0)},U.modulo=U.mod=function(_e){var Oe,Ue=this,Fe=Ue.constructor;return _e=new Fe(_e),!Ue.d||!_e.s||_e.d&&!_e.d[0]?new Fe(NaN):!_e.d||Ue.d&&!Ue.d[0]?Q(new Fe(Ue),Fe.precision,Fe.rounding):(x=!1,Fe.modulo==9?(Oe=J(Ue,_e.abs(),0,3,1)).s*=_e.s:Oe=J(Ue,_e,0,Fe.modulo,1),Oe=Oe.times(_e),x=!0,Ue.minus(Oe))},U.naturalExponential=U.exp=function(){return ye(this)},U.naturalLogarithm=U.ln=function(){return Ae(this)},U.negated=U.neg=function(){var _e=new this.constructor(this);return _e.s=-_e.s,Q(_e)},U.plus=U.add=function(_e){var Oe,Ue,Fe,He,Re,Ye,tt,ct,st,ot,Dt=this,Nt=Dt.constructor;if(_e=new Nt(_e),!Dt.d||!_e.d)return Dt.s&&_e.s?Dt.d||(_e=new Nt(_e.d||Dt.s===_e.s?Dt:NaN)):_e=new Nt(NaN),_e;if(Dt.s!=_e.s)return _e.s=-_e.s,Dt.minus(_e);if(st=Dt.d,ot=_e.d,tt=Nt.precision,ct=Nt.rounding,!st[0]||!ot[0])return ot[0]||(_e=new Nt(Dt)),x?Q(_e,tt,ct):_e;if(Re=O(Dt.e/R),Fe=O(_e.e/R),st=st.slice(),He=Re-Fe){for((Ye=(Ye=He<0?(Ue=st,He=-He,ot.length):(Ue=ot,Fe=Re,st.length))<(Re=Math.ceil(tt/R))?Re+1:Ye+1)<He&&(He=Ye,Ue.length=1),Ue.reverse();He--;)Ue.push(0);Ue.reverse()}for((Ye=st.length)-(He=ot.length)<0&&(He=Ye,Ue=ot,ot=st,st=Ue),Oe=0;He;)Oe=(st[--He]=st[He]+ot[He]+Oe)/L|0,st[He]%=L;for(Oe&&(st.unshift(Oe),++Fe),Ye=st.length;st[--Ye]==0;)st.pop();return _e.d=st,_e.e=ce(st,Fe),x?Q(_e,tt,ct):_e},U.precision=U.sd=function(_e){var Oe,Ue=this;if(_e!==void 0&&_e!==!!_e&&_e!==1&&_e!==0)throw Error(D+_e);return Ue.d?(Oe=we(Ue.d),_e&&Ue.e+1>Oe&&(Oe=Ue.e+1)):Oe=NaN,Oe},U.round=function(){var _e=this,Oe=_e.constructor;return Q(new Oe(_e),_e.e+1,Oe.rounding)},U.sine=U.sin=function(){var _e,Oe,Ue=this,Fe=Ue.constructor;return Ue.isFinite()?Ue.isZero()?new Fe(Ue):(_e=Fe.precision,Oe=Fe.rounding,Fe.precision=_e+Math.max(Ue.e,Ue.sd())+R,Fe.rounding=1,Ue=function(He,Re){var Ye,tt=Re.d.length;if(tt<3)return Re.isZero()?Re:de(He,2,Re,Re);Ye=16<(Ye=1.4*Math.sqrt(tt))?16:0|Ye,Re=Re.times(1/Ce(5,Ye)),Re=de(He,2,Re,Re);for(var ct,st=new He(5),ot=new He(16),Dt=new He(20);Ye--;)ct=Re.times(Re),Re=Re.times(st.plus(ct.times(ot.times(ct).minus(Dt))));return Re}(Fe,je(Fe,Ue)),Fe.precision=_e,Fe.rounding=Oe,Q(2<A?Ue.neg():Ue,_e,Oe,!0)):new Fe(NaN)},U.squareRoot=U.sqrt=function(){var _e,Oe,Ue,Fe,He,Re,Ye=this,tt=Ye.d,ct=Ye.e,st=Ye.s,ot=Ye.constructor;if(st!==1||!tt||!tt[0])return new ot(!st||st<0&&(!tt||tt[0])?NaN:tt?Ye:1/0);for(x=!1,Fe=(st=Math.sqrt(+Ye))==0||st==1/0?(((Oe=G(tt)).length+ct)%2==0&&(Oe+="0"),st=Math.sqrt(Oe),ct=O((ct+1)/2)-(ct<0||ct%2),new ot(Oe=st==1/0?"5e"+ct:(Oe=st.toExponential()).slice(0,Oe.indexOf("e")+1)+ct)):new ot(st.toString()),Ue=(ct=ot.precision)+3;;)if(Fe=(Re=Fe).plus(J(Ye,Re,Ue+2,1)).times(.5),G(Re.d).slice(0,Ue)===(Oe=G(Fe.d)).slice(0,Ue)){if((Oe=Oe.slice(Ue-3,Ue+1))!="9999"&&(He||Oe!="4999")){+Oe&&(+Oe.slice(1)||Oe.charAt(0)!="5")||(Q(Fe,ct+1,1),_e=!Fe.times(Fe).eq(Ye));break}if(!He&&(Q(Re,ct+1,0),Re.times(Re).eq(Ye))){Fe=Re;break}Ue+=4,He=1}return x=!0,Q(Fe,ct,ot.rounding,_e)},U.tangent=U.tan=function(){var _e,Oe,Ue=this,Fe=Ue.constructor;return Ue.isFinite()?Ue.isZero()?new Fe(Ue):(_e=Fe.precision,Oe=Fe.rounding,Fe.precision=_e+10,Fe.rounding=1,(Ue=Ue.sin()).s=1,Ue=J(Ue,new Fe(1).minus(Ue.times(Ue)).sqrt(),_e+10,0),Fe.precision=_e,Fe.rounding=Oe,Q(A==2||A==4?Ue.neg():Ue,_e,Oe,!0)):new Fe(NaN)},U.times=U.mul=function(_e){var Oe,Ue,Fe,He,Re,Ye,tt,ct,st,ot=this,Dt=ot.constructor,Nt=ot.d,Ut=(_e=new Dt(_e)).d;if(_e.s*=ot.s,!(Nt&&Nt[0]&&Ut&&Ut[0]))return new Dt(!_e.s||Nt&&!Nt[0]&&!Ut||Ut&&!Ut[0]&&!Nt?NaN:Nt&&Ut?0*_e.s:_e.s/0);for(Ue=O(ot.e/R)+O(_e.e/R),(ct=Nt.length)<(st=Ut.length)&&(Re=Nt,Nt=Ut,Ut=Re,Ye=ct,ct=st,st=Ye),Re=[],Fe=Ye=ct+st;Fe--;)Re.push(0);for(Fe=st;0<=--Fe;){for(Oe=0,He=ct+Fe;Fe<He;)tt=Re[He]+Ut[Fe]*Nt[He-Fe-1]+Oe,Re[He--]=tt%L|0,Oe=tt/L|0;Re[He]=(Re[He]+Oe)%L|0}for(;!Re[--Ye];)Re.pop();return Oe?++Ue:Re.shift(),_e.d=Re,_e.e=ce(Re,Ue),x?Q(_e,Dt.precision,Dt.rounding):_e},U.toBinary=function(_e,Oe){return xe(this,2,_e,Oe)},U.toDecimalPlaces=U.toDP=function(_e,Oe){var Ue=this.constructor,Fe=new Ue(this);return _e===void 0?Fe:(H(_e,0,_),Oe===void 0?Oe=Ue.rounding:H(Oe,0,8),Q(Fe,_e+Fe.e+1,Oe))},U.toExponential=function(_e,Oe){var Ue=this,Fe=Ue.constructor,He=_e===void 0?te(Ue,!0):(H(_e,0,_),Oe===void 0?Oe=Fe.rounding:H(Oe,0,8),te(Ue=Q(new Fe(Ue),_e+1,Oe),!0,_e+1));return Ue.isNeg()&&!Ue.isZero()?"-"+He:He},U.toFixed=function(_e,Oe){var Ue,Fe=this,He=Fe.constructor,Re=_e===void 0?te(Fe):(H(_e,0,_),Oe===void 0?Oe=He.rounding:H(Oe,0,8),te(Ue=Q(new He(Fe),_e+Fe.e+1,Oe),!1,_e+Ue.e+1));return Fe.isNeg()&&!Fe.isZero()?"-"+Re:Re},U.toFraction=function(_e){var Oe,Ue,Fe,He,Re,Ye,tt,ct,st,ot,Dt,Nt,Ut=this,Gt=Ut.d,Xt=Ut.constructor;if(!Gt)return new Xt(Ut);if(st=Ue=new Xt(1),Fe=ct=new Xt(0),Ye=(Re=(Oe=new Xt(Fe)).e=we(Gt)-Ut.e-1)%R,Oe.d[0]=I(10,Ye<0?R+Ye:Ye),_e==null)_e=0<Re?Oe:st;else{if(!(tt=new Xt(_e)).isInt()||tt.lt(st))throw Error(D+tt);_e=tt.gt(Oe)?0<Re?Oe:st:tt}for(x=!1,tt=new Xt(G(Gt)),ot=Xt.precision,Xt.precision=Re=Gt.length*R*2;Dt=J(tt,Oe,0,1,1),(He=Ue.plus(Dt.times(Fe))).cmp(_e)!=1;)Ue=Fe,Fe=He,He=st,st=ct.plus(Dt.times(He)),ct=He,He=Oe,Oe=tt.minus(Dt.times(He)),tt=He;return He=J(_e.minus(Ue),Fe,0,1,1),ct=ct.plus(He.times(st)),Ue=Ue.plus(He.times(Fe)),ct.s=st.s=Ut.s,Nt=J(st,Fe,Re,1).minus(Ut).abs().cmp(J(ct,Ue,Re,1).minus(Ut).abs())<1?[st,Fe]:[ct,Ue],Xt.precision=ot,x=!0,Nt},U.toHexadecimal=U.toHex=function(_e,Oe){return xe(this,16,_e,Oe)},U.toNearest=function(_e,Oe){var Ue=(Fe=this).constructor,Fe=new Ue(Fe);if(_e==null){if(!Fe.d)return Fe;_e=new Ue(1),Oe=Ue.rounding}else{if(_e=new Ue(_e),Oe===void 0?Oe=Ue.rounding:H(Oe,0,8),!Fe.d)return _e.s?Fe:_e;if(!_e.d)return _e.s&&(_e.s=Fe.s),_e}return _e.d[0]?(x=!1,Fe=J(Fe,_e,0,Oe,1).times(_e),x=!0,Q(Fe)):(_e.s=Fe.s,Fe=_e),Fe},U.toNumber=function(){return+this},U.toOctal=function(_e,Oe){return xe(this,8,_e,Oe)},U.toPower=U.pow=function(_e){var Oe,Ue,Fe,He,Re,Ye,tt=this,ct=tt.constructor,st=+(_e=new ct(_e));if(!(tt.d&&_e.d&&tt.d[0]&&_e.d[0]))return new ct(I(+tt,st));if((tt=new ct(tt)).eq(1))return tt;if(Fe=ct.precision,Re=ct.rounding,_e.eq(1))return Q(tt,Fe,Re);if((Oe=O(_e.e/R))>=_e.d.length-1&&(Ue=st<0?-st:st)<=9007199254740991)return He=fe(ct,tt,Ue,Fe),_e.s<0?new ct(1).div(He):Q(He,Fe,Re);if((Ye=tt.s)<0){if(Oe<_e.d.length-1)return new ct(NaN);if(!(1&_e.d[Oe])&&(Ye=1),tt.e==0&&tt.d[0]==1&&tt.d.length==1)return tt.s=Ye,tt}return(Oe=(Ue=I(+tt,st))!=0&&isFinite(Ue)?new ct(Ue+"").e:O(st*(Math.log("0."+G(tt.d))/Math.LN10+tt.e+1)))>ct.maxE+1||Oe<ct.minE-1?new ct(0<Oe?Ye/0:0):(x=!1,ct.rounding=tt.s=1,Ue=Math.min(12,(Oe+"").length),(He=ye(_e.times(Ae(tt,Fe+Ue)),Fe)).d&&X((He=Q(He,Fe+5,1)).d,Fe,Re)&&(Oe=Fe+10,+G((He=Q(ye(_e.times(Ae(tt,Oe+Ue)),Oe),Oe+5,1)).d).slice(Fe+1,Fe+15)+1==1e14&&(He=Q(He,Fe+1,0))),He.s=Ye,x=!0,Q(He,Fe,ct.rounding=Re))},U.toPrecision=function(_e,Oe){var Ue=this,Fe=Ue.constructor,He=_e===void 0?te(Ue,Ue.e<=Fe.toExpNeg||Ue.e>=Fe.toExpPos):(H(_e,1,_),Oe===void 0?Oe=Fe.rounding:H(Oe,0,8),te(Ue=Q(new Fe(Ue),_e,Oe),_e<=Ue.e||Ue.e<=Fe.toExpNeg,_e));return Ue.isNeg()&&!Ue.isZero()?"-"+He:He},U.toSignificantDigits=U.toSD=function(_e,Oe){var Ue=this.constructor;return _e===void 0?(_e=Ue.precision,Oe=Ue.rounding):(H(_e,1,_),Oe===void 0?Oe=Ue.rounding:H(Oe,0,8)),Q(new Ue(this),_e,Oe)},U.toString=function(){var _e=this,Oe=_e.constructor,Ue=te(_e,_e.e<=Oe.toExpNeg||_e.e>=Oe.toExpPos);return _e.isNeg()&&!_e.isZero()?"-"+Ue:Ue},U.truncated=U.trunc=function(){return Q(new this.constructor(this),this.e+1,1)},U.valueOf=U.toJSON=function(){var _e=this,Oe=_e.constructor,Ue=te(_e,_e.e<=Oe.toExpNeg||_e.e>=Oe.toExpPos);return _e.isNeg()?"-"+Ue:Ue};var J=function(_e,Oe,Ue,Fe,He,Re){var Ye,tt,ct,st,ot,Dt,Nt,Ut,Gt,Xt,en,sn,un,bn,Un,tr,Gn,nr,Bn,Vn,Jn=_e.constructor,zn=_e.s==Oe.s?1:-1,dn=_e.d,on=Oe.d;if(!(dn&&dn[0]&&on&&on[0]))return new Jn(_e.s&&Oe.s&&(dn?!on||dn[0]!=on[0]:on)?dn&&dn[0]==0||!on?0*zn:zn/0:NaN);for(tt=Re?(ot=1,_e.e-Oe.e):(Re=L,ot=R,O(_e.e/ot)-O(Oe.e/ot)),Bn=on.length,Gn=dn.length,Xt=(Gt=new Jn(zn)).d=[],ct=0;on[ct]==(dn[ct]||0);ct++);if(on[ct]>(dn[ct]||0)&&tt--,Ue==null?(bn=Ue=Jn.precision,Fe=Jn.rounding):bn=He?Ue+(_e.e-Oe.e)+1:Ue,bn<0)Xt.push(1),Dt=!0;else{if(bn=bn/ot+2|0,ct=0,Bn==1){for(on=on[st=0],bn++;(ct<Gn||st)&&bn--;ct++)Un=st*Re+(dn[ct]||0),Xt[ct]=Un/on|0,st=Un%on|0;Dt=st||ct<Gn}else{for(1<(st=Re/(on[0]+1)|0)&&(on=ee(on,st,Re),dn=ee(dn,st,Re),Bn=on.length,Gn=dn.length),tr=Bn,sn=(en=dn.slice(0,Bn)).length;sn<Bn;)en[sn++]=0;for((Vn=on.slice()).unshift(0),nr=on[0],on[1]>=Re/2&&++nr;st=0,(Ye=$(on,en,Bn,sn))<0?(un=en[0],Bn!=sn&&(un=un*Re+(en[1]||0)),1<(st=un/nr|0)?(Re<=st&&(st=Re-1),(Ye=$(Nt=ee(on,st,Re),en,Ut=Nt.length,sn=en.length))==1&&(st--,W(Nt,Bn<Ut?Vn:on,Ut,Re))):(st==0&&(Ye=st=1),Nt=on.slice()),(Ut=Nt.length)<sn&&Nt.unshift(0),W(en,Nt,sn,Re),Ye==-1&&(Ye=$(on,en,Bn,sn=en.length))<1&&(st++,W(en,Bn<sn?Vn:on,sn,Re)),sn=en.length):Ye===0&&(st++,en=[0]),Xt[ct++]=st,Ye&&en[0]?en[sn++]=dn[tr]||0:(en=[dn[tr]],sn=1),(tr++<Gn||en[0]!==void 0)&&bn--;);Dt=en[0]!==void 0}Xt[0]||Xt.shift()}if(ot==1)Gt.e=tt,m=Dt;else{for(ct=1,st=Xt[0];10<=st;st/=10)ct++;Gt.e=ct+tt*ot-1,Q(Gt,He?Ue+Gt.e+1:Ue,Fe,Dt)}return Gt};function ee(_e,Oe,Ue){var Fe,He=0,Re=_e.length;for(_e=_e.slice();Re--;)Fe=_e[Re]*Oe+He,_e[Re]=Fe%Ue|0,He=Fe/Ue|0;return He&&_e.unshift(He),_e}function $(_e,Oe,Ue,Fe){var He,Re;if(Ue!=Fe)Re=Fe<Ue?1:-1;else for(He=Re=0;He<Ue;He++)if(_e[He]!=Oe[He]){Re=_e[He]>Oe[He]?1:-1;break}return Re}function W(_e,Oe,Ue,Fe){for(var He=0;Ue--;)_e[Ue]-=He,He=_e[Ue]<Oe[Ue]?1:0,_e[Ue]=He*Fe+_e[Ue]-Oe[Ue];for(;!_e[0]&&1<_e.length;)_e.shift()}function Q(_e,Oe,Ue,Fe){var He,Re,Ye,tt,ct,st,ot,Dt,Nt,Ut=_e.constructor;e:if(Oe!=null){if(!(Dt=_e.d))return _e;for(He=1,tt=Dt[0];10<=tt;tt/=10)He++;if((Re=Oe-He)<0)Re+=R,Ye=Oe,ct=(ot=Dt[Nt=0])/I(10,He-Ye-1)%10|0;else if(Nt=Math.ceil((Re+1)/R),(tt=Dt.length)<=Nt){if(!Fe)break e;for(;tt++<=Nt;)Dt.push(0);ot=ct=0,Ye=(Re%=R)-R+(He=1)}else{for(ot=tt=Dt[Nt],He=1;10<=tt;tt/=10)He++;ct=(Ye=(Re%=R)-R+He)<0?0:ot/I(10,He-Ye-1)%10|0}if(Fe=Fe||Oe<0||Dt[Nt+1]!==void 0||(Ye<0?ot:ot%I(10,He-Ye-1)),st=Ue<4?(ct||Fe)&&(Ue==0||Ue==(_e.s<0?3:2)):5<ct||ct==5&&(Ue==4||Fe||Ue==6&&(0<Re?0<Ye?ot/I(10,He-Ye):0:Dt[Nt-1])%10&1||Ue==(_e.s<0?8:7)),Oe<1||!Dt[0])return Dt.length=0,st?(Oe-=_e.e+1,Dt[0]=I(10,(R-Oe%R)%R),_e.e=-Oe||0):Dt[0]=_e.e=0,_e;if(Re==0?(Dt.length=Nt,tt=1,Nt--):(Dt.length=Nt+1,tt=I(10,R-Re),Dt[Nt]=0<Ye?(ot/I(10,He-Ye)%I(10,Ye)|0)*tt:0),st)for(;;){if(Nt==0){for(Re=1,Ye=Dt[0];10<=Ye;Ye/=10)Re++;for(Ye=Dt[0]+=tt,tt=1;10<=Ye;Ye/=10)tt++;Re!=tt&&(_e.e++,Dt[0]==L&&(Dt[0]=1));break}if(Dt[Nt]+=tt,Dt[Nt]!=L)break;Dt[Nt--]=0,tt=1}for(Re=Dt.length;Dt[--Re]===0;)Dt.pop()}return x&&(_e.e>Ut.maxE?(_e.d=null,_e.e=NaN):_e.e<Ut.minE&&(_e.e=0,_e.d=[0])),_e}function te(_e,Oe,Ue){if(!_e.isFinite())return be(_e);var Fe,He=_e.e,Re=G(_e.d),Ye=Re.length;return Oe?(Ue&&0<(Fe=Ue-Ye)?Re=Re.charAt(0)+"."+Re.slice(1)+le(Fe):1<Ye&&(Re=Re.charAt(0)+"."+Re.slice(1)),Re=Re+(_e.e<0?"e":"e+")+_e.e):He<0?(Re="0."+le(-He-1)+Re,Ue&&0<(Fe=Ue-Ye)&&(Re+=le(Fe))):Ye<=He?(Re+=le(He+1-Ye),Ue&&0<(Fe=Ue-He-1)&&(Re=Re+"."+le(Fe))):((Fe=He+1)<Ye&&(Re=Re.slice(0,Fe)+"."+Re.slice(Fe)),Ue&&0<(Fe=Ue-Ye)&&(He+1===Ye&&(Re+="."),Re+=le(Fe))),Re}function ce(_e,Oe){var Ue=_e[0];for(Oe*=R;10<=Ue;Ue/=10)Oe++;return Oe}function oe(_e,Oe,Ue){if(V<Oe)throw x=!0,Ue&&(_e.precision=Ue),Error(E);return Q(new _e(y),Oe,1,!0)}function ue(_e,Oe,Ue){if(k<Oe)throw Error(E);return Q(new _e(o),Oe,Ue,!0)}function we(_e){var Oe=_e.length-1,Ue=Oe*R+1;if(Oe=_e[Oe]){for(;Oe%10==0;Oe/=10)Ue--;for(Oe=_e[0];10<=Oe;Oe/=10)Ue++}return Ue}function le(_e){for(var Oe="";_e--;)Oe+="0";return Oe}function fe(_e,Oe,Ue,Fe){var He,Re=new _e(1),Ye=Math.ceil(Fe/R+4);for(x=!1;;){if(Ue%2&&Ie((Re=Re.times(Oe)).d,Ye)&&(He=!0),(Ue=O(Ue/2))===0){Ue=Re.d.length-1,He&&Re.d[Ue]===0&&++Re.d[Ue];break}Ie((Oe=Oe.times(Oe)).d,Ye)}return x=!0,Re}function ve(_e){return 1&_e.d[_e.d.length-1]}function pe(_e,Oe,Ue){for(var Fe,He=new _e(Oe[0]),Re=0;++Re<Oe.length;){if(!(Fe=new _e(Oe[Re])).s){He=Fe;break}He[Ue](Fe)&&(He=Fe)}return He}function ye(_e,Oe){var Ue,Fe,He,Re,Ye,tt,ct,st=0,ot=0,Dt=0,Nt=_e.constructor,Ut=Nt.rounding,Gt=Nt.precision;if(!_e.d||!_e.d[0]||17<_e.e)return new Nt(_e.d?_e.d[0]?_e.s<0?0:1/0:1:_e.s?_e.s<0?0:_e:NaN);for(ct=Oe??(x=!1,Gt),tt=new Nt(.03125);-2<_e.e;)_e=_e.times(tt),Dt+=5;for(ct+=Fe=Math.log(I(2,Dt))/Math.LN10*2+5|0,Ue=Re=Ye=new Nt(1),Nt.precision=ct;;){if(Re=Q(Re.times(_e),ct,1),Ue=Ue.times(++ot),G((tt=Ye.plus(J(Re,Ue,ct,1))).d).slice(0,ct)===G(Ye.d).slice(0,ct)){for(He=Dt;He--;)Ye=Q(Ye.times(Ye),ct,1);if(Oe!=null)return Nt.precision=Gt,Ye;if(!(st<3&&X(Ye.d,ct-Fe,Ut,st)))return Q(Ye,Nt.precision=Gt,Ut,x=!0);Nt.precision=ct+=10,Ue=Re=tt=new Nt(1),ot=0,st++}Ye=tt}}function Ae(_e,Oe){var Ue,Fe,He,Re,Ye,tt,ct,st,ot,Dt,Nt,Ut=1,Gt=_e,Xt=Gt.d,en=Gt.constructor,sn=en.rounding,un=en.precision;if(Gt.s<0||!Xt||!Xt[0]||!Gt.e&&Xt[0]==1&&Xt.length==1)return new en(Xt&&!Xt[0]?-1/0:Gt.s!=1?NaN:Xt?0:Gt);if(ot=Oe??(x=!1,un),en.precision=ot+=10,Fe=(Ue=G(Xt)).charAt(0),!(Math.abs(Re=Gt.e)<15e14))return st=oe(en,ot+2,un).times(Re+""),Gt=Ae(new en(Fe+"."+Ue.slice(1)),ot-10).plus(st),en.precision=un,Oe==null?Q(Gt,un,sn,x=!0):Gt;for(;Fe<7&&Fe!=1||Fe==1&&3<Ue.charAt(1);)Fe=(Ue=G((Gt=Gt.times(_e)).d)).charAt(0),Ut++;for(Re=Gt.e,1<Fe?(Gt=new en("0."+Ue),Re++):Gt=new en(Fe+"."+Ue.slice(1)),ct=Ye=Gt=J((Dt=Gt).minus(1),Gt.plus(1),ot,1),Nt=Q(Gt.times(Gt),ot,1),He=3;;){if(Ye=Q(Ye.times(Nt),ot,1),G((st=ct.plus(J(Ye,new en(He),ot,1))).d).slice(0,ot)===G(ct.d).slice(0,ot)){if(ct=ct.times(2),Re!==0&&(ct=ct.plus(oe(en,ot+2,un).times(Re+""))),ct=J(ct,new en(Ut),ot,1),Oe!=null)return en.precision=un,ct;if(!X(ct.d,ot-10,sn,tt))return Q(ct,en.precision=un,sn,x=!0);en.precision=ot+=10,st=Ye=Gt=J(Dt.minus(1),Dt.plus(1),ot,1),Nt=Q(Gt.times(Gt),ot,1),He=tt=1}ct=st,He+=2}}function be(_e){return String(_e.s*_e.s/0)}function ne(_e,Oe){var Ue,Fe,He;for(-1<(Ue=Oe.indexOf("."))&&(Oe=Oe.replace(".","")),0<(Fe=Oe.search(/e/i))?(Ue<0&&(Ue=Fe),Ue+=+Oe.slice(Fe+1),Oe=Oe.substring(0,Fe)):Ue<0&&(Ue=Oe.length),Fe=0;Oe.charCodeAt(Fe)===48;Fe++);for(He=Oe.length;Oe.charCodeAt(He-1)===48;--He);if(Oe=Oe.slice(Fe,He)){if(He-=Fe,_e.e=Ue=Ue-Fe-1,_e.d=[],Fe=(Ue+1)%R,Ue<0&&(Fe+=R),Fe<He){for(Fe&&_e.d.push(+Oe.slice(0,Fe)),He-=R;Fe<He;)_e.d.push(+Oe.slice(Fe,Fe+=R));Oe=Oe.slice(Fe),Fe=R-Oe.length}else Fe-=He;for(;Fe--;)Oe+="0";_e.d.push(+Oe),x&&(_e.e>_e.constructor.maxE?(_e.d=null,_e.e=NaN):_e.e<_e.constructor.minE&&(_e.e=0,_e.d=[0]))}else _e.e=0,_e.d=[0];return _e}function re(_e,Oe){var Ue,Fe,He,Re,Ye,tt,ct,st,ot;if(-1<Oe.indexOf("_")){if(Oe=Oe.replace(/(\d)_(?=\d)/g,"$1"),j.test(Oe))return ne(_e,Oe)}else if(Oe==="Infinity"||Oe==="NaN")return+Oe||(_e.s=NaN),_e.e=NaN,_e.d=null,_e;if(F.test(Oe))Ue=16,Oe=Oe.toLowerCase();else if(M.test(Oe))Ue=2;else{if(!B.test(Oe))throw Error(D+Oe);Ue=8}for(Ye=0<=(Re=(Oe=0<(Re=Oe.search(/p/i))?(ct=+Oe.slice(Re+1),Oe.substring(2,Re)):Oe.slice(2)).indexOf(".")),Fe=_e.constructor,Ye&&(Re=(tt=(Oe=Oe.replace(".","")).length)-Re,He=fe(Fe,new Fe(Ue),Re,2*Re)),Re=ot=(st=Z(Oe,Ue,L)).length-1;st[Re]===0;--Re)st.pop();return Re<0?new Fe(0*_e.s):(_e.e=ce(st,ot),_e.d=st,x=!1,Ye&&(_e=J(_e,He,4*tt)),ct&&(_e=_e.times(Math.abs(ct)<54?I(2,ct):h.pow(2,ct))),x=!0,_e)}function de(_e,Oe,Ue,Fe,He){var Re,Ye,tt,ct,st=_e.precision,ot=Math.ceil(st/R);for(x=!1,ct=Ue.times(Ue),tt=new _e(Fe);;){if(Ye=J(tt.times(ct),new _e(Oe++*Oe++),st,1),tt=He?Fe.plus(Ye):Fe.minus(Ye),Fe=J(Ye.times(ct),new _e(Oe++*Oe++),st,1),(Ye=tt.plus(Fe)).d[ot]!==void 0){for(Re=ot;Ye.d[Re]===tt.d[Re]&&Re--;);if(Re==-1)break}Re=tt,tt=Fe,Fe=Ye,Ye=Re}return x=!0,Ye.d.length=ot+1,Ye}function Ce(_e,Oe){for(var Ue=_e;--Oe;)Ue*=_e;return Ue}function je(_e,Oe){var Ue,Fe=Oe.s<0,He=ue(_e,_e.precision,1),Re=He.times(.5);if((Oe=Oe.abs()).lte(Re))return A=Fe?4:1,Oe;if((Ue=Oe.divToInt(He)).isZero())A=Fe?3:2;else{if((Oe=Oe.minus(Ue.times(He))).lte(Re))return A=ve(Ue)?Fe?2:3:Fe?4:1,Oe;A=ve(Ue)?Fe?1:4:Fe?3:2}return Oe.minus(He).abs()}function xe(_e,Oe,Ue,Fe){var He,Re,Ye,tt,ct,st,ot,Dt,Nt,Ut=_e.constructor,Gt=Ue!==void 0;if(Gt?(H(Ue,1,_),Fe===void 0?Fe=Ut.rounding:H(Fe,0,8)):(Ue=Ut.precision,Fe=Ut.rounding),_e.isFinite()){for(Gt?(He=2,Oe==16?Ue=4*Ue-3:Oe==8&&(Ue=3*Ue-2)):He=Oe,0<=(Ye=(ot=te(_e)).indexOf("."))&&(ot=ot.replace(".",""),(Nt=new Ut(1)).e=ot.length-Ye,Nt.d=Z(te(Nt),10,He),Nt.e=Nt.d.length),Re=ct=(Dt=Z(ot,10,He)).length;Dt[--ct]==0;)Dt.pop();if(Dt[0]){if(Ye<0?Re--:((_e=new Ut(_e)).d=Dt,_e.e=Re,Dt=(_e=J(_e,Nt,Ue,Fe,0,He)).d,Re=_e.e,st=m),Ye=Dt[Ue],tt=He/2,st=st||Dt[Ue+1]!==void 0,st=Fe<4?(Ye!==void 0||st)&&(Fe===0||Fe===(_e.s<0?3:2)):tt<Ye||Ye===tt&&(Fe===4||st||Fe===6&&1&Dt[Ue-1]||Fe===(_e.s<0?8:7)),Dt.length=Ue,st)for(;++Dt[--Ue]>He-1;)Dt[Ue]=0,Ue||(++Re,Dt.unshift(1));for(ct=Dt.length;!Dt[ct-1];--ct);for(Ye=0,ot="";Ye<ct;Ye++)ot+=l.charAt(Dt[Ye]);if(Gt){if(1<ct)if(Oe==16||Oe==8){for(Ye=Oe==16?4:3,--ct;ct%Ye;ct++)ot+="0";for(ct=(Dt=Z(ot,He,Oe)).length;!Dt[ct-1];--ct);for(Ye=1,ot="1.";Ye<ct;Ye++)ot+=l.charAt(Dt[Ye])}else ot=ot.charAt(0)+"."+ot.slice(1);ot=ot+(Re<0?"p":"p+")+Re}else if(Re<0){for(;++Re;)ot="0"+ot;ot="0."+ot}else if(++Re>ct)for(Re-=ct;Re--;)ot+="0";else Re<ct&&(ot=ot.slice(0,Re)+"."+ot.slice(Re))}else ot=Gt?"0p+0":"0";ot=(Oe==16?"0x":Oe==2?"0b":Oe==8?"0o":"")+ot}else ot=be(_e);return _e.s<0?"-"+ot:ot}function Ie(_e,Oe){return _e.length>Oe&&(_e.length=Oe,1)}function Ne(_e){return new this(_e).abs()}function Be(_e){return new this(_e).acos()}function $e(_e){return new this(_e).acosh()}function Le(_e,Oe){return new this(_e).plus(Oe)}function qe(_e){return new this(_e).asin()}function ze(_e){return new this(_e).asinh()}function Ee(_e){return new this(_e).atan()}function Se(_e){return new this(_e).atanh()}function Me(_e,Oe){_e=new this(_e),Oe=new this(Oe);var Ue,Fe=this.precision,He=this.rounding,Re=Fe+4;return _e.s&&Oe.s?_e.d||Oe.d?!Oe.d||_e.isZero()?(Ue=Oe.s<0?ue(this,Fe,He):new this(0)).s=_e.s:!_e.d||Oe.isZero()?(Ue=ue(this,Re,1).times(.5)).s=_e.s:Ue=Oe.s<0?(this.precision=Re,this.rounding=1,Ue=this.atan(J(_e,Oe,Re,1)),Oe=ue(this,Re,1),this.precision=Fe,this.rounding=He,_e.s<0?Ue.minus(Oe):Ue.plus(Oe)):this.atan(J(_e,Oe,Re,1)):(Ue=ue(this,Re,1).times(0<Oe.s?.25:.75)).s=_e.s:Ue=new this(NaN),Ue}function me(_e){return new this(_e).cbrt()}function Ve(_e){return Q(_e=new this(_e),_e.e+1,2)}function Xe(_e,Oe,Ue){return new this(_e).clamp(Oe,Ue)}function rt(_e){if(!_e||typeof _e!="object")throw Error(g+"Object expected");for(var Oe,Ue,Fe=_e.defaults===!0,He=["precision",1,_,"rounding",0,8,"toExpNeg",-S,0,"toExpPos",0,S,"maxE",0,S,"minE",-S,0,"modulo",0,9],Re=0;Re<He.length;Re+=3)if(Oe=He[Re],Fe&&(this[Oe]=f[Oe]),(Ue=_e[Oe])!==void 0){if(!(O(Ue)===Ue&&He[Re+1]<=Ue&&Ue<=He[Re+2]))throw Error(D+Oe+": "+Ue);this[Oe]=Ue}if(Oe="crypto",Fe&&(this[Oe]=f[Oe]),(Ue=_e[Oe])!==void 0){if(Ue!==!0&&Ue!==!1&&Ue!==0&&Ue!==1)throw Error(D+Oe+": "+Ue);if(Ue){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(C);this[Oe]=!0}else this[Oe]=!1}return this}function lt(_e){return new this(_e).cos()}function nt(_e){return new this(_e).cosh()}function it(_e,Oe){return new this(_e).div(Oe)}function dt(_e){return new this(_e).exp()}function ft(_e){return Q(_e=new this(_e),_e.e+1,3)}function yt(){var _e,Oe,Ue=new this(0);for(x=!1,_e=0;_e<arguments.length;)if((Oe=new this(arguments[_e++])).d)Ue.d&&(Ue=Ue.plus(Oe.times(Oe)));else{if(Oe.s)return x=!0,new this(1/0);Ue=Oe}return x=!0,Ue.sqrt()}function bt(_e){return _e instanceof h||_e&&_e.toStringTag===T||!1}function wt(_e){return new this(_e).ln()}function xt(_e,Oe){return new this(_e).log(Oe)}function Tt(_e){return new this(_e).log(2)}function kt(_e){return new this(_e).log(10)}function Mt(){return pe(this,arguments,"lt")}function Ot(){return pe(this,arguments,"gt")}function Lt(_e,Oe){return new this(_e).mod(Oe)}function Ft(_e,Oe){return new this(_e).mul(Oe)}function Pt(_e,Oe){return new this(_e).pow(Oe)}function It(_e){var Oe,Ue,Fe,He,Re=0,Ye=new this(1),tt=[];if(_e===void 0?_e=this.precision:H(_e,1,_),Fe=Math.ceil(_e/R),this.crypto)if(crypto.getRandomValues)for(Oe=crypto.getRandomValues(new Uint32Array(Fe));Re<Fe;)429e7<=(He=Oe[Re])?Oe[Re]=crypto.getRandomValues(new Uint32Array(1))[0]:tt[Re++]=He%1e7;else{if(!crypto.randomBytes)throw Error(C);for(Oe=crypto.randomBytes(Fe*=4);Re<Fe;)214e7<=(He=Oe[Re]+(Oe[Re+1]<<8)+(Oe[Re+2]<<16)+((127&Oe[Re+3])<<24))?crypto.randomBytes(4).copy(Oe,Re):(tt.push(He%1e7),Re+=4);Re=Fe/4}else for(;Re<Fe;)tt[Re++]=1e7*Math.random()|0;for(Fe=tt[--Re],_e%=R,Fe&&_e&&(He=I(10,R-_e),tt[Re]=(Fe/He|0)*He);tt[Re]===0;Re--)tt.pop();if(Re<0)tt=[Ue=0];else{for(Ue=-1;tt[0]===0;Ue-=R)tt.shift();for(Fe=1,He=tt[0];10<=He;He/=10)Fe++;Fe<R&&(Ue-=R-Fe)}return Ye.e=Ue,Ye.d=tt,Ye}function Rt(_e){return Q(_e=new this(_e),_e.e+1,this.rounding)}function Ht(_e){return(_e=new this(_e)).d?_e.d[0]?_e.s:0*_e.s:_e.s||NaN}function rn(_e){return new this(_e).sin()}function Zt(_e){return new this(_e).sinh()}function Jt(_e){return new this(_e).sqrt()}function an(_e,Oe){return new this(_e).sub(Oe)}function Wt(){var _e=0,Oe=arguments,Ue=new this(Oe[_e]);for(x=!1;Ue.s&&++_e<Oe.length;)Ue=Ue.plus(Oe[_e]);return x=!0,Q(Ue,this.precision,this.rounding)}function nn(_e){return new this(_e).tan()}function Je(_e){return new this(_e).tanh()}function Et(_e){return Q(_e=new this(_e),_e.e+1,1)}((h=function _e(Oe){var Ue,Fe,He;function Re(Ye){var tt,ct,st,ot=this;if(!(ot instanceof Re))return new Re(Ye);if(ot.constructor=Re,bt(Ye))return ot.s=Ye.s,void(x?!Ye.d||Ye.e>Re.maxE?(ot.e=NaN,ot.d=null):Ye.e<Re.minE?(ot.e=0,ot.d=[0]):(ot.e=Ye.e,ot.d=Ye.d.slice()):(ot.e=Ye.e,ot.d=Ye.d?Ye.d.slice():Ye.d));if((st=typeof Ye)=="number"){if(Ye===0)return ot.s=1/Ye<0?-1:1,ot.e=0,void(ot.d=[0]);if(Ye<0?(Ye=-Ye,ot.s=-1):ot.s=1,Ye===~~Ye&&Ye<1e7){for(tt=0,ct=Ye;10<=ct;ct/=10)tt++;return void(x?Re.maxE<tt?(ot.e=NaN,ot.d=null):tt<Re.minE?(ot.e=0,ot.d=[0]):(ot.e=tt,ot.d=[Ye]):(ot.e=tt,ot.d=[Ye]))}return 0*Ye!=0?(Ye||(ot.s=NaN),ot.e=NaN,void(ot.d=null)):ne(ot,Ye.toString())}if(st!="string")throw Error(D+Ye);return(ct=Ye.charCodeAt(0))===45?(Ye=Ye.slice(1),ot.s=-1):(ct===43&&(Ye=Ye.slice(1)),ot.s=1),(j.test(Ye)?ne:re)(ot,Ye)}if(Re.prototype=U,Re.ROUND_UP=0,Re.ROUND_DOWN=1,Re.ROUND_CEIL=2,Re.ROUND_FLOOR=3,Re.ROUND_HALF_UP=4,Re.ROUND_HALF_DOWN=5,Re.ROUND_HALF_EVEN=6,Re.ROUND_HALF_CEIL=7,Re.ROUND_HALF_FLOOR=8,Re.EUCLID=9,Re.config=Re.set=rt,Re.clone=_e,Re.isDecimal=bt,Re.abs=Ne,Re.acos=Be,Re.acosh=$e,Re.add=Le,Re.asin=qe,Re.asinh=ze,Re.atan=Ee,Re.atanh=Se,Re.atan2=Me,Re.cbrt=me,Re.ceil=Ve,Re.clamp=Xe,Re.cos=lt,Re.cosh=nt,Re.div=it,Re.exp=dt,Re.floor=ft,Re.hypot=yt,Re.ln=wt,Re.log=xt,Re.log10=kt,Re.log2=Tt,Re.max=Mt,Re.min=Ot,Re.mod=Lt,Re.mul=Ft,Re.pow=Pt,Re.random=It,Re.round=Rt,Re.sign=Ht,Re.sin=rn,Re.sinh=Zt,Re.sqrt=Jt,Re.sub=an,Re.sum=Wt,Re.tan=nn,Re.tanh=Je,Re.trunc=Et,Oe===void 0&&(Oe={}),Oe&&Oe.defaults!==!0)for(He=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],Ue=0;Ue<He.length;)Oe.hasOwnProperty(Fe=He[Ue++])||(Oe[Fe]=this[Fe]);return Re.config(Oe),Re}(f)).prototype.constructor=h).default=h.Decimal=h,y=new h(y),o=new h(o),a!==void 0&&a.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(U[Symbol.for("nodejs.util.inspect.custom")]=U.toString,U[Symbol.toStringTag]="Decimal"),a.exports=h):(b=b||(typeof self<"u"&&self&&self.self==self?self:window),p=b.Decimal,h.noConflict=function(){return b.Decimal=p,h},b.Decimal=h)})(this)},{}],56:[function(n,a,r){var b=Object.assign||function(A){for(var S=1;S<arguments.length;S++){var _=arguments[S];for(var l in _)Object.prototype.hasOwnProperty.call(_,l)&&(A[l]=_[l])}return A},h={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},m={"":"\\--","":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},p=function(A,S){return b({},A,S)};a.exports=function(A){for(var S=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},_=S.preserveFormatting,l=_!==void 0&&_,y=S.escapeMapFn,o=y===void 0?p:y,f=String(A),x="",g=o(b({},h),l?b({},m):{}),D=Object.keys(g);f;)(function(){var E=!1;D.forEach(function(C,T){E||f.length>=C.length&&f.slice(0,C.length)===C&&(x+=g[D[T]],f=f.slice(C.length,f.length),E=!0)}),E||(x+=f.slice(0,1),f=f.slice(1,f.length))})();return x}},{}],57:[function(n,a,r){(function(b){var h={s:1,n:0,d:1};function m(g){function D(){var C=Error.apply(this,arguments);C.name=this.name=g,this.stack=C.stack,this.message=C.message}function E(){}return E.prototype=Error.prototype,D.prototype=new E,D}var p=x.DivisionByZero=m("DivisionByZero"),A=x.InvalidParameter=m("InvalidParameter");function S(g,D){return isNaN(g=parseInt(g,10))&&_(),g*D}function _(){throw new A}function l(g){for(var D={},E=g,C=2,T=4;T<=E;){for(;E%C==0;)E/=C,D[C]=(D[C]||0)+1;T+=1+2*C++}return E!==g?1<E&&(D[E]=(D[E]||0)+1):D[g]=(D[g]||0)+1,D}var y=function(g,D){var E,C=0,T=1,O=1,I=0,M=0,F=0,B=1,j=1,L=0,R=1,V=1,k=1,U=1e7;if(g!=null)if(D!==void 0)O=(C=g)*(T=D);else switch(typeof g){case"object":"d"in g&&"n"in g?(C=g.n,T=g.d,"s"in g&&(C*=g.s)):0 in g?(C=g[0],1 in g&&(T=g[1])):_(),O=C*T;break;case"number":if(g<0&&(g=-(O=g)),g%1==0)C=g;else if(0<g){for(1<=g&&(g/=j=Math.pow(10,Math.floor(1+Math.log(g)/Math.LN10)));R<=U&&k<=U;){if(g===(E=(L+V)/(R+k))){T=R+k<=U?(C=L+V,R+k):R<k?(C=V,k):(C=L,R);break}E<g?(L+=V,R+=k):(V+=L,k+=R),T=U<R?(C=V,k):(C=L,R)}C*=j}else(isNaN(g)||isNaN(D))&&(T=C=NaN);break;case"string":if((R=g.match(/\d+|./g))===null&&_(),R[L]==="-"?(O=-1,L++):R[L]==="+"&&L++,R.length===L+1?M=S(R[L++],O):R[L+1]==="."||R[L]==="."?(R[L]!=="."&&(I=S(R[L++],O)),(++L+1===R.length||R[L+1]==="("&&R[L+3]===")"||R[L+1]==="'"&&R[L+3]==="'")&&(M=S(R[L],O),B=Math.pow(10,R[L].length),L++),(R[L]==="("&&R[L+2]===")"||R[L]==="'"&&R[L+2]==="'")&&(F=S(R[L+1],O),j=Math.pow(10,R[L+1].length)-1,L+=3)):R[L+1]==="/"||R[L+1]===":"?(M=S(R[L],O),B=S(R[L+2],1),L+=3):R[L+3]==="/"&&R[L+1]===" "&&(I=S(R[L],O),M=S(R[L+2],O),B=S(R[L+4],1),L+=5),R.length<=L){O=C=F+(T=B*j)*I+j*M;break}default:_()}if(T===0)throw new p;h.s=O<0?-1:1,h.n=Math.abs(C),h.d=Math.abs(T)};function o(g,D,E){for(var C=1,T=function(I,M,F){for(var B=1;0<M;I=I*I%F,M>>=1)1&M&&(B=B*I%F);return B}(10,E,D),O=0;O<300;O++){if(C===T)return O;C=10*C%D,T=10*T%D}return 0}function f(g,D){if(!g)return D;if(!D)return g;for(;;){if(!(g%=D))return D;if(!(D%=g))return g}}function x(g,D){if(!(this instanceof x))return new x(g,D);y(g,D),g=f(h.d,h.n),this.s=h.s,this.n=h.n/g,this.d=h.d/g}x.prototype={s:1,n:0,d:1,abs:function(){return new x(this.n,this.d)},neg:function(){return new x(-this.s*this.n,this.d)},add:function(g,D){return y(g,D),new x(this.s*this.n*h.d+h.s*this.d*h.n,this.d*h.d)},sub:function(g,D){return y(g,D),new x(this.s*this.n*h.d-h.s*this.d*h.n,this.d*h.d)},mul:function(g,D){return y(g,D),new x(this.s*h.s*this.n*h.n,this.d*h.d)},div:function(g,D){return y(g,D),new x(this.s*h.s*this.n*h.d,this.d*h.n)},clone:function(){return new x(this)},mod:function(g,D){return isNaN(this.n)||isNaN(this.d)?new x(NaN):g===void 0?new x(this.s*this.n%this.d,1):(y(g,D),h.n===0&&this.d===0&&x(0,0),new x(this.s*(h.d*this.n)%(h.n*this.d),h.d*this.d))},gcd:function(g,D){return y(g,D),new x(f(h.n,this.n)*f(h.d,this.d),h.d*this.d)},lcm:function(g,D){return y(g,D),h.n===0&&this.n===0?new x:new x(h.n*this.n,f(h.n,this.n)*f(h.d,this.d))},ceil:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new x(NaN):new x(Math.ceil(g*this.s*this.n/this.d),g)},floor:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new x(NaN):new x(Math.floor(g*this.s*this.n/this.d),g)},round:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new x(NaN):new x(Math.round(g*this.s*this.n/this.d),g)},inverse:function(){return new x(this.s*this.d,this.n)},pow:function(g,D){if(y(g,D),h.d===1)return h.s<0?new x(Math.pow(this.s*this.d,h.n),Math.pow(this.n,h.n)):new x(Math.pow(this.s*this.n,h.n),Math.pow(this.d,h.n));if(this.s<0)return null;var E=l(this.n),C=l(this.d),T=1,O=1;for(var I in E)if(I!=="1"){if(I==="0"){T=0;break}if(E[I]*=h.n,E[I]%h.d!=0)return null;E[I]/=h.d,T*=Math.pow(I,E[I])}for(var I in C)if(I!=="1"){if(C[I]*=h.n,C[I]%h.d!=0)return null;C[I]/=h.d,O*=Math.pow(I,C[I])}return h.s<0?new x(O,T):new x(T,O)},equals:function(g,D){return y(g,D),this.s*this.n*h.d==h.s*h.n*this.d},compare:function(g,D){y(g,D);var E=this.s*this.n*h.d-h.s*h.n*this.d;return(0<E)-(E<0)},simplify:function(g){if(isNaN(this.n)||isNaN(this.d))return this;var D=this.abs().toContinued();g=g||.001;for(var E=0;E<D.length;E++){var C=function T(O){return O.length===1?new x(O[0]):T(O.slice(1)).inverse().add(O[0])}(D.slice(0,E+1));if(C.sub(this.abs()).abs().valueOf()<g)return C.mul(this.s)}return this},divisible:function(g,D){return y(g,D),!(!(h.n*this.d)||this.n*h.d%(h.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(g){var D,E="",C=this.n,T=this.d;return this.s<0&&(E+="-"),T===1?E+=C:(g&&0<(D=Math.floor(C/T))&&(E+=D,E+=" ",C%=T),E+=C,E+="/",E+=T),E},toLatex:function(g){var D,E="",C=this.n,T=this.d;return this.s<0&&(E+="-"),T===1?E+=C:(g&&0<(D=Math.floor(C/T))&&(E+=D,C%=T),E+="\\frac{",E+=C,E+="}{",E+=T,E+="}"),E},toContinued:function(){var g,D=this.n,E=this.d,C=[];if(isNaN(D)||isNaN(E))return C;for(;C.push(Math.floor(D/E)),g=D%E,D=E,E=g,D!==1;);return C},toString:function(g){var D=this.n,E=this.d;if(isNaN(D)||isNaN(E))return"NaN";g=g||15;var C=function(M){for(;M%2==0;M/=2);for(;M%5==0;M/=5);if(M===1)return 0;for(var F=10%M,B=1;F!==1;B++)if(F=10*F%M,2e3<B)return 0;return B}(E),T=o(0,E,C),O=this.s===-1?"-":"";if(O+=D/E|0,D%=E,(D*=10)&&(O+="."),C){for(var I=T;I--;)O+=D/E|0,D%=E,D*=10;for(O+="(",I=C;I--;)O+=D/E|0,D%=E,D*=10;O+=")"}else for(I=g;D&&I--;)O+=D/E|0,D%=E,D*=10;return O}},typeof r=="object"?(Object.defineProperty(x,"__esModule",{value:!0}),(x.default=x).Fraction=x,a.exports=x):b.Fraction=x})(this)},{}],58:[function(n,a,r){a.exports=function b(h,m){function p(M){return b.insensitive&&(""+M).toLowerCase()||""+M}var A,S,_=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,l=/(^[ ]*|[ ]*$)/g,y=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,f=/^0/,x=p(h).replace(l,"")||"",g=p(m).replace(l,"")||"",D=x.replace(_,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),E=g.replace(_,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),C=parseInt(x.match(o),16)||D.length!==1&&x.match(y)&&Date.parse(x),T=parseInt(g.match(o),16)||C&&g.match(y)&&Date.parse(g)||null;if(T){if(C<T)return-1;if(T<C)return 1}for(var O=0,I=Math.max(D.length,E.length);O<I;O++){if(A=!(D[O]||"").match(f)&&parseFloat(D[O])||D[O]||0,S=!(E[O]||"").match(f)&&parseFloat(E[O])||E[O]||0,isNaN(A)!==isNaN(S))return isNaN(A)?1:-1;if(typeof A!=typeof S&&(A+="",S+=""),A<S)return-1;if(S<A)return 1}return 0}},{}],59:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createVersion=r.createUppercaseE=r.createUppercasePi=r.createI=r.createSQRT2=r.createSQRT1_2=r.createLOG10E=r.createLOG2E=r.createLN10=r.createLN2=r.createPhi=r.createE=r.createTau=r.createPi=r.createNaN=r.createInfinity=r.createNull=r.createFalse=r.createTrue=void 0;var b=n("./utils/factory"),h=n("./version"),m=n("./utils/bignumber/constants"),p=n("./plain/number"),A=(0,b.factory)("true",[],function(){return!0});r.createTrue=A;var S=(0,b.factory)("false",[],function(){return!1});r.createFalse=S;var _=(0,b.factory)("null",[],function(){return null});r.createNull=_;var l=L("Infinity",["config","?BigNumber"],function(R){var V=R.config,k=R.BigNumber;return V.number==="BigNumber"?new k(1/0):1/0});r.createInfinity=l;var y=L("NaN",["config","?BigNumber"],function(R){var V=R.config,k=R.BigNumber;return V.number==="BigNumber"?new k(NaN):NaN});r.createNaN=y;var o=L("pi",["config","?BigNumber"],function(R){var V=R.config,k=R.BigNumber;return V.number==="BigNumber"?(0,m.createBigNumberPi)(k):p.pi});r.createPi=o;var f=L("tau",["config","?BigNumber"],function(R){var V=R.config,k=R.BigNumber;return V.number==="BigNumber"?(0,m.createBigNumberTau)(k):p.tau});r.createTau=f;var x=L("e",["config","?BigNumber"],function(R){var V=R.config,k=R.BigNumber;return V.number==="BigNumber"?(0,m.createBigNumberE)(k):p.e});r.createE=x;var g=L("phi",["config","?BigNumber"],function(R){var V=R.config,k=R.BigNumber;return V.number==="BigNumber"?(0,m.createBigNumberPhi)(k):p.phi});r.createPhi=g;var D=L("LN2",["config","?BigNumber"],function(R){var V=R.config,k=R.BigNumber;return V.number==="BigNumber"?new k(2).ln():Math.LN2});r.createLN2=D;var E=L("LN10",["config","?BigNumber"],function(R){var V=R.config,k=R.BigNumber;return V.number==="BigNumber"?new k(10).ln():Math.LN10});r.createLN10=E;var C=L("LOG2E",["config","?BigNumber"],function(R){var V=R.config,k=R.BigNumber;return V.number==="BigNumber"?new k(1).div(new k(2).ln()):Math.LOG2E});r.createLOG2E=C;var T=L("LOG10E",["config","?BigNumber"],function(R){var V=R.config,k=R.BigNumber;return V.number==="BigNumber"?new k(1).div(new k(10).ln()):Math.LOG10E});r.createLOG10E=T;var O=L("SQRT1_2",["config","?BigNumber"],function(R){var V=R.config,k=R.BigNumber;return V.number==="BigNumber"?new k("0.5").sqrt():Math.SQRT1_2});r.createSQRT1_2=O;var I=L("SQRT2",["config","?BigNumber"],function(R){var V=R.config,k=R.BigNumber;return V.number==="BigNumber"?new k(2).sqrt():Math.SQRT2});r.createSQRT2=I;var M=L("i",["Complex"],function(R){return R.Complex.I});r.createI=M;var F=(0,b.factory)("PI",["pi"],function(R){return R.pi});r.createUppercasePi=F;var B=(0,b.factory)("E",["e"],function(R){return R.e});r.createUppercaseE=B;var j=(0,b.factory)("version",[],function(){return h.version});function L(R,V,k){return(0,b.factory)(R,V,k,{recreateOnConfigChange:!0})}r.createVersion=j},{"./plain/number":874,"./utils/bignumber/constants":924,"./utils/factory":931,"./version":942}],60:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_CONFIG=void 0,r.DEFAULT_CONFIG={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null}},{}],61:[function(n,a,r){function b(T){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(T)}Object.defineProperty(r,"__esModule",{value:!0}),r.create=C,n("./../utils/polyfills");var h=n("./../utils/object"),m=function(T){if(T&&T.__esModule)return T;if(T===null||b(T)!=="object"&&typeof T!="function")return{default:T};var O=D();if(O&&O.has(T))return O.get(T);var I={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in T){var B;Object.prototype.hasOwnProperty.call(T,F)&&((B=M?Object.getOwnPropertyDescriptor(T,F):null)&&(B.get||B.set)?Object.defineProperty(I,F,B):I[F]=T[F])}return I.default=T,O&&O.set(T,I),I}(n("./../utils/emitter")),p=n("./function/import"),A=n("./function/config"),S=n("../utils/factory"),_=n("../utils/is"),l=n("../utils/array"),y=n("../utils/log"),o=n("../error/ArgumentsError"),f=n("../error/DimensionError"),x=n("../error/IndexError"),g=n("./config");function D(){if(typeof WeakMap!="function")return null;var T=new WeakMap;return D=function(){return T},T}function E(){return(E=Object.assign||function(T){for(var O=1;O<arguments.length;O++){var I=arguments[O];for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&(T[M]=I[M])}return T}).apply(this,arguments)}function C(T,O){var I=E({},g.DEFAULT_CONFIG,O);if(typeof Object.create!="function")throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var M=m.mixin({isNumber:_.isNumber,isComplex:_.isComplex,isBigNumber:_.isBigNumber,isFraction:_.isFraction,isUnit:_.isUnit,isString:_.isString,isArray:_.isArray,isMatrix:_.isMatrix,isCollection:_.isCollection,isDenseMatrix:_.isDenseMatrix,isSparseMatrix:_.isSparseMatrix,isRange:_.isRange,isIndex:_.isIndex,isBoolean:_.isBoolean,isResultSet:_.isResultSet,isHelp:_.isHelp,isFunction:_.isFunction,isDate:_.isDate,isRegExp:_.isRegExp,isObject:_.isObject,isNull:_.isNull,isUndefined:_.isUndefined,isAccessorNode:_.isAccessorNode,isArrayNode:_.isArrayNode,isAssignmentNode:_.isAssignmentNode,isBlockNode:_.isBlockNode,isConditionalNode:_.isConditionalNode,isConstantNode:_.isConstantNode,isFunctionAssignmentNode:_.isFunctionAssignmentNode,isFunctionNode:_.isFunctionNode,isIndexNode:_.isIndexNode,isNode:_.isNode,isObjectNode:_.isObjectNode,isOperatorNode:_.isOperatorNode,isParenthesisNode:_.isParenthesisNode,isRangeNode:_.isRangeNode,isSymbolNode:_.isSymbolNode,isChain:_.isChain});M.config=(0,A.configFactory)(I,M.emit),M.expression={transform:{},mathWithTransform:{config:M.config}};var F=[],B=[],j={},L=(0,p.importFactory)(function(){for(var R=arguments.length,V=new Array(R),k=0;k<R;k++)V[k]=arguments[k];return M.typed.apply(M.typed,V)},function R(V){if((0,S.isFactory)(V))return V(M);var k=V[Object.keys(V)[0]];if((0,S.isFactory)(k))return k(M);if(!(0,h.isLegacyFactory)(V))throw console.warn("Factory object with properties `type`, `name`, and `factory` expected",V),new Error("Factory object with properties `type`, `name`, and `factory` expected");var U,G=F.indexOf(V);return G===-1?(U=V.math===!0?V.factory(M.type,I,R,M.typed,M):V.factory(M.type,I,R,M.typed),F.push(V),B.push(U)):U=B[G],U},M,j);return M.import=L,M.on("config",function(){(0,h.values)(j).forEach(function(R){R&&R.meta&&R.meta.recreateOnConfigChange&&L(R,{override:!0})})}),M.create=C.bind(null,T),M.factory=S.factory,M.import((0,h.values)((0,h.deepFlatten)(T))),["type.isNumber","type.isComplex","type.isBigNumber","type.isFraction","type.isUnit","type.isString","type.isArray","type.isMatrix","type.isDenseMatrix","type.isSparseMatrix","type.isCollection","type.isRange","type.isIndex","type.isBoolean","type.isResultSet","type.isHelp","type.isFunction","type.isDate","type.isRegExp","type.isObject","type.isNull","type.isUndefined","type.isAccessorNode","type.isArrayNode","type.isAssignmentNode","type.isBlockNode","type.isConditionalNode","type.isConstantNode","type.isFunctionAssignmentNode","type.isFunctionNode","type.isIndexNode","type.isNode","type.isObjectNode","type.isOperatorNode","type.isParenthesisNode","type.isRangeNode","type.isSymbolNode","type.isChain","type.BigNumber","type.Chain","type.Complex","type.Fraction","type.Matrix","type.DenseMatrix","type.SparseMatrix","type.Spa","type.FibonacciHeap","type.ImmutableDenseMatrix","type.Index","type.Range","type.ResultSet","type.Unit","type.Help","type.Parser","expression.parse","expression.Parser","expression.node.AccessorNode","expression.node.ArrayNode","expression.node.AssignmentNode","expression.node.BlockNode","expression.node.ConditionalNode","expression.node.ConstantNode","expression.node.IndexNode","expression.node.FunctionAssignmentNode","expression.node.FunctionNode","expression.node.Node","expression.node.ObjectNode","expression.node.OperatorNode","expression.node.ParenthesisNode","expression.node.RangeNode","expression.node.RelationalNode","expression.node.SymbolNode","json.reviver","error.ArgumentsError","error.DimensionError","error.IndexError"].forEach(function(R){var V=R.split("."),k=(0,l.initial)(V),U=(0,l.last)(V),G=(0,h.traverse)(M,k);(0,h.lazy)(G,U,function(){return(0,y.warnOnce)("math.".concat(R," is moved to math.").concat(U," in v6.0.0. ")+"Please use the new location instead."),M[U]})}),(0,h.lazy)(M.expression,"docs",function(){throw new Error(`math.expression.docs has been moved. Please import via "import { docs } from 'mathjs'"`)}),M.ArgumentsError=o.ArgumentsError,M.DimensionError=f.DimensionError,M.IndexError=x.IndexError,M}},{"../error/ArgumentsError":398,"../error/DimensionError":399,"../error/IndexError":400,"../utils/array":922,"../utils/factory":931,"../utils/is":933,"../utils/log":935,"./../utils/emitter":930,"./../utils/object":938,"./../utils/polyfills":939,"./config":60,"./function/config":62,"./function/import":64}],62:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.configFactory=function(S,_){function l(y){if(y){var o=(0,b.mapObject)(S,b.clone);A(y,"matrix",m),A(y,"number",p),(0,b.deepExtend)(S,y);var f=(0,b.mapObject)(S,b.clone),x=(0,b.mapObject)(y,b.clone);return _("config",f,o,x),f}return(0,b.mapObject)(S,b.clone)}return l.MATRIX_OPTIONS=m,l.NUMBER_OPTIONS=p,Object.keys(h.DEFAULT_CONFIG).forEach(function(y){Object.defineProperty(l,y,{get:function(){return S[y]},enumerable:!0,configurable:!0})}),l},r.NUMBER_OPTIONS=r.MATRIX_OPTIONS=void 0;var b=n("../../utils/object"),h=n("../config"),m=["Matrix","Array"];r.MATRIX_OPTIONS=m;var p=["number","BigNumber","Fraction"];function A(S,_,l){var y,o,f;S[_]!==void 0&&(o=l,f=S[_],o.indexOf(f)===-1)&&((y=function(x,g){return x.map(function(D){return D.toLowerCase()}).indexOf(g.toLowerCase())}(l,S[_]))!==-1?(console.warn('Warning: Wrong casing for configuration option "'+_+'", should be "'+l[y]+'" instead of "'+S[_]+'".'),S[_]=l[y]):console.warn('Warning: Unknown value "'+S[_]+'" for configuration option "'+_+'". Available options: '+l.map(JSON.stringify).join(", ")+"."))}r.NUMBER_OPTIONS=p},{"../../utils/object":938,"../config":60}],63:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeprecatedImport=function(){return function(){throw new Error(`The global import function is not available anymore in v6.0.0. 
Please create a mathjs instance if you want to import functions. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.import(...);
`)}}},{}],64:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.importFactory=function(l,y,o,f){function x(M,F){F&&typeof F.transform=="function"?(o.expression.transform[M]=F.transform,E(M)&&(o.expression.mathWithTransform[M]=F.transform)):(delete o.expression.transform[M],E(M)&&(o.expression.mathWithTransform[M]=F))}function g(M){delete o.expression.transform[M],E(M)?o.expression.mathWithTransform[M]=o[M]:delete o.expression.mathWithTransform[M]}function D(M){return typeof M=="function"&&_(M.signatures)==="object"}function E(M){return!(0,m.hasOwnProperty)(I,M)}function C(M){return M.path===void 0&&!(0,m.hasOwnProperty)(I,M.name)}function T(M){return!(M.fn.indexOf(".")!==-1||(0,m.hasOwnProperty)(I,M.fn)||M.meta&&M.meta.isClass)}function O(M){return M!==void 0&&M.meta!==void 0&&M.meta.isTransformFunction===!0}var I={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function(M,F){var B=arguments.length;if(B!==1&&B!==2)throw new A.ArgumentsError("import",B,1,2);F=F||{};var j,L={};for(var R in function k(U,G,H){if((0,m.isLegacyFactory)(G))(function(J,ee){var $,W,Q,te,ce,oe;(0,S.warnOnce)("Factories of type { name, factory } are deprecated since v6. Please create your factory functions using the math.factory function."),typeof J.name=="string"?($=J.name,W=$ in o.expression.transform,Q=J.path?(0,m.traverse)(o,J.path):o,te=(0,m.hasOwnProperty)(Q,$)?Q[$]:void 0,!(ce=function(){var ue=y(J);if(ue&&typeof ue.transform=="function")throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(D(te)&&D(ue))return ee.override||(ue=l(te,ue)),ue;if(te===void 0||ee.override)return ue;if(ee.silent)return te;throw new Error('Cannot import "'+$+'": already exists')})!==J.lazy?((0,m.lazy)(Q,$,ce),W?g($):J.path!=="expression.transform"&&!C(J)||(0,m.lazy)(o.expression.mathWithTransform,$,ce)):(Q[$]=ce(),W?g($):J.path!=="expression.transform"&&!C(J)||(o.expression.mathWithTransform[$]=ce())),oe=J.path?J.path+"."+J.name:J.name,f[oe]=J,o.emit("import",$,ce,J.path)):y(J)})(G,F);else if(Array.isArray(G))G.forEach(function(J){return k(U,J)});else if(_(G)==="object")for(var X in G)(0,m.hasOwnProperty)(G,X)&&k(U,G[X],X);else if((0,h.isFactory)(G)||H!==void 0){var Z=(0,h.isFactory)(G)?O(G)?G.fn+".transform":G.fn:H;if((0,m.hasOwnProperty)(U,Z)&&U[Z]!==G&&!F.silent)throw new Error('Cannot import "'+Z+'" twice');U[Z]=G}else if(!F.silent)throw new TypeError("Factory, Object, or Array expected")}(L,M),L)if((0,m.hasOwnProperty)(L,R)){var V=L[R];if((0,h.isFactory)(V))(function(k,U){var G=2<arguments.length&&arguments[2]!==void 0?arguments[2]:k.fn;if((0,p.contains)(G,"."))throw new Error("Factory name should not contain a nested path. Name: "+JSON.stringify(G));var H=O(k)?o.expression.transform:o,X=G in o.expression.transform,Z=(0,m.hasOwnProperty)(H,G)?H[G]:void 0,J=function(){var ee={};k.dependencies.map(h.stripOptionalNotation).forEach(function(W){if((0,p.contains)(W,"."))throw new Error("Factory dependency should not contain a nested path. Name: "+JSON.stringify(W));W==="math"?ee.math=o:W==="mathWithTransform"?ee.mathWithTransform=o.expression.mathWithTransform:W==="classes"?ee.classes=o:ee[W]=o[W]});var $=k(ee);if($&&typeof $.transform=="function")throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(Z===void 0||U.override)return $;if(D(Z)&&D($))return l(Z,$);if(U.silent)return Z;throw new Error('Cannot import "'+G+'": already exists')};k.meta&&k.meta.lazy===!1?H[G]=J():(0,m.lazy)(H,G,J),Z&&X?g(G):(O(k)||T(k))&&(0,m.lazy)(o.expression.mathWithTransform,G,function(){return H[G]}),f[G]=k,o.emit("import",G,J)})(V,F);else if(typeof(j=V)=="function"||typeof j=="number"||typeof j=="string"||typeof j=="boolean"||j===null||(0,b.isUnit)(j)||(0,b.isComplex)(j)||(0,b.isBigNumber)(j)||(0,b.isFraction)(j)||(0,b.isMatrix)(j)||Array.isArray(j))(function(k,U,G){if(G.wrap&&typeof U=="function"&&(U=function(H){var X=function(){for(var Z=[],J=0,ee=arguments.length;J<ee;J++){var $=arguments[J];Z[J]=$&&$.valueOf()}return H.apply(o,Z)};return H.transform&&(X.transform=H.transform),X}(U)),!function(H){return typeof H=="function"&&typeof H.signature=="string"}(U)||(U=l(k,function(H,X,Z){return X in H?Object.defineProperty(H,X,{value:Z,enumerable:!0,configurable:!0,writable:!0}):H[X]=Z,H}({},U.signature,U))),D(o[k])&&D(U))return U=G.override?l(k,U.signatures):l(o[k],U),o[k]=U,delete f[k],x(k,U),o.emit("import",k,function(){return U});if(o[k]===void 0||G.override)return o[k]=U,delete f[k],x(k,U),o.emit("import",k,function(){return U});if(!G.silent)throw new Error('Cannot import "'+k+'": already exists')})(R,V,F);else if(!F.silent)throw new TypeError("Factory, Object, or Array expected")}}};var b=n("../../utils/is"),h=n("../../utils/factory"),m=n("../../utils/object"),p=n("../../utils/array"),A=n("../../error/ArgumentsError"),S=n("../../utils/log");function _(l){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(l)}},{"../../error/ArgumentsError":398,"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/log":935,"../../utils/object":938}],65:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createTyped=void 0;var b,h=n("../../utils/is"),m=(b=n("typed-function"))&&b.__esModule?b:{default:b},p=n("../../utils/number"),A=n("../../utils/factory"),S=function(){return S=m.default.create,m.default},_=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],l=(0,A.factory)("typed",_,function(x){var g=x.BigNumber,D=x.Complex,E=x.DenseMatrix,C=x.Fraction,T=S();return T.types=[{name:"number",test:h.isNumber},{name:"Complex",test:h.isComplex},{name:"BigNumber",test:h.isBigNumber},{name:"Fraction",test:h.isFraction},{name:"Unit",test:h.isUnit},{name:"string",test:h.isString},{name:"Chain",test:h.isChain},{name:"Array",test:h.isArray},{name:"Matrix",test:h.isMatrix},{name:"DenseMatrix",test:h.isDenseMatrix},{name:"SparseMatrix",test:h.isSparseMatrix},{name:"Range",test:h.isRange},{name:"Index",test:h.isIndex},{name:"boolean",test:h.isBoolean},{name:"ResultSet",test:h.isResultSet},{name:"Help",test:h.isHelp},{name:"function",test:h.isFunction},{name:"Date",test:h.isDate},{name:"RegExp",test:h.isRegExp},{name:"null",test:h.isNull},{name:"undefined",test:h.isUndefined},{name:"AccessorNode",test:h.isAccessorNode},{name:"ArrayNode",test:h.isArrayNode},{name:"AssignmentNode",test:h.isAssignmentNode},{name:"BlockNode",test:h.isBlockNode},{name:"ConditionalNode",test:h.isConditionalNode},{name:"ConstantNode",test:h.isConstantNode},{name:"FunctionNode",test:h.isFunctionNode},{name:"FunctionAssignmentNode",test:h.isFunctionAssignmentNode},{name:"IndexNode",test:h.isIndexNode},{name:"Node",test:h.isNode},{name:"ObjectNode",test:h.isObjectNode},{name:"OperatorNode",test:h.isOperatorNode},{name:"ParenthesisNode",test:h.isParenthesisNode},{name:"RangeNode",test:h.isRangeNode},{name:"SymbolNode",test:h.isSymbolNode},{name:"Object",test:h.isObject}],T.conversions=[{from:"number",to:"BigNumber",convert:function(O){if(g||y(O),15<(0,p.digits)(O))throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+O+"). Use function bignumber(x) to convert to BigNumber.");return new g(O)}},{from:"number",to:"Complex",convert:function(O){return D||o(O),new D(O,0)}},{from:"number",to:"string",convert:function(O){return O+""}},{from:"BigNumber",to:"Complex",convert:function(O){return D||o(O),new D(O.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(O){return D||o(O),new D(O.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(O){C||f(O);var I=new C(O);if(I.valueOf()!==O)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+O+"). Use function fraction(x) to convert to Fraction.");return I}},{from:"string",to:"number",convert:function(O){var I=Number(O);if(isNaN(I))throw new Error('Cannot convert "'+O+'" to a number');return I}},{from:"string",to:"BigNumber",convert:function(O){g||y(O);try{return new g(O)}catch{throw new Error('Cannot convert "'+O+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(O){C||f(O);try{return new C(O)}catch{throw new Error('Cannot convert "'+O+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(O){D||o(O);try{return new D(O)}catch{throw new Error('Cannot convert "'+O+'" to Complex')}}},{from:"boolean",to:"number",convert:function(O){return+O}},{from:"boolean",to:"BigNumber",convert:function(O){return g||y(O),new g(+O)}},{from:"boolean",to:"Fraction",convert:function(O){return C||f(O),new C(+O)}},{from:"boolean",to:"string",convert:function(O){return String(O)}},{from:"Array",to:"Matrix",convert:function(O){return E||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new E(O)}},{from:"Matrix",to:"Array",convert:function(O){return O.valueOf()}}],T});function y(x){throw new Error("Cannot convert value ".concat(x," into a BigNumber: no class 'BigNumber' provided"))}function o(x){throw new Error("Cannot convert value ".concat(x," into a Complex number: no class 'Complex' provided"))}function f(x){throw new Error("Cannot convert value ".concat(x," into a Fraction, no class 'Fraction' provided."))}r.createTyped=l},{"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937,"typed-function":946}],66:[function(n,a,r){function b(p){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(p)}Object.defineProperty(r,"__esModule",{value:!0}),r.all=void 0;var h=function(p){if(p&&p.__esModule)return p;if(p===null||b(p)!=="object"&&typeof p!="function")return{default:p};var A=m();if(A&&A.has(p))return A.get(p);var S={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in p){var y;Object.prototype.hasOwnProperty.call(p,l)&&((y=_?Object.getOwnPropertyDescriptor(p,l):null)&&(y.get||y.set)?Object.defineProperty(S,l,y):S[l]=p[l])}return S.default=p,A&&A.set(p,S),S}(n("../factoriesAny"));function m(){if(typeof WeakMap!="function")return null;var p=new WeakMap;return m=function(){return p},p}r.all=h},{"../factoriesAny":658}],67:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.config=void 0;var b=n("../core/config"),h=n("../core/function/config");function m(){return(m=Object.assign||function(A){for(var S=1;S<arguments.length;S++){var _=arguments[S];for(var l in _)Object.prototype.hasOwnProperty.call(_,l)&&(A[l]=_[l])}return A}).apply(this,arguments)}var p=function(A){if(A)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(b.DEFAULT_CONFIG)};m(r.config=p,b.DEFAULT_CONFIG,{MATRIX_OPTIONS:h.MATRIX_OPTIONS,NUMBER_OPTIONS:h.NUMBER_OPTIONS})},{"../core/config":60,"../core/function/config":62}],68:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"typedDependencies",{enumerable:!0,get:function(){return b.typedDependencies}}),Object.defineProperty(r,"ResultSetDependencies",{enumerable:!0,get:function(){return h.ResultSetDependencies}}),Object.defineProperty(r,"BigNumberDependencies",{enumerable:!0,get:function(){return m.BigNumberDependencies}}),Object.defineProperty(r,"ComplexDependencies",{enumerable:!0,get:function(){return p.ComplexDependencies}}),Object.defineProperty(r,"FractionDependencies",{enumerable:!0,get:function(){return A.FractionDependencies}}),Object.defineProperty(r,"RangeDependencies",{enumerable:!0,get:function(){return S.RangeDependencies}}),Object.defineProperty(r,"MatrixDependencies",{enumerable:!0,get:function(){return _.MatrixDependencies}}),Object.defineProperty(r,"DenseMatrixDependencies",{enumerable:!0,get:function(){return l.DenseMatrixDependencies}}),Object.defineProperty(r,"cloneDependencies",{enumerable:!0,get:function(){return y.cloneDependencies}}),Object.defineProperty(r,"isIntegerDependencies",{enumerable:!0,get:function(){return o.isIntegerDependencies}}),Object.defineProperty(r,"isNegativeDependencies",{enumerable:!0,get:function(){return f.isNegativeDependencies}}),Object.defineProperty(r,"isNumericDependencies",{enumerable:!0,get:function(){return x.isNumericDependencies}}),Object.defineProperty(r,"hasNumericValueDependencies",{enumerable:!0,get:function(){return g.hasNumericValueDependencies}}),Object.defineProperty(r,"isPositiveDependencies",{enumerable:!0,get:function(){return D.isPositiveDependencies}}),Object.defineProperty(r,"isZeroDependencies",{enumerable:!0,get:function(){return E.isZeroDependencies}}),Object.defineProperty(r,"isNaNDependencies",{enumerable:!0,get:function(){return C.isNaNDependencies}}),Object.defineProperty(r,"typeOfDependencies",{enumerable:!0,get:function(){return T.typeOfDependencies}}),Object.defineProperty(r,"typeofDependencies",{enumerable:!0,get:function(){return O.typeofDependencies}}),Object.defineProperty(r,"equalScalarDependencies",{enumerable:!0,get:function(){return I.equalScalarDependencies}}),Object.defineProperty(r,"SparseMatrixDependencies",{enumerable:!0,get:function(){return M.SparseMatrixDependencies}}),Object.defineProperty(r,"numberDependencies",{enumerable:!0,get:function(){return F.numberDependencies}}),Object.defineProperty(r,"stringDependencies",{enumerable:!0,get:function(){return B.stringDependencies}}),Object.defineProperty(r,"booleanDependencies",{enumerable:!0,get:function(){return j.booleanDependencies}}),Object.defineProperty(r,"bignumberDependencies",{enumerable:!0,get:function(){return L.bignumberDependencies}}),Object.defineProperty(r,"complexDependencies",{enumerable:!0,get:function(){return R.complexDependencies}}),Object.defineProperty(r,"fractionDependencies",{enumerable:!0,get:function(){return V.fractionDependencies}}),Object.defineProperty(r,"matrixDependencies",{enumerable:!0,get:function(){return k.matrixDependencies}}),Object.defineProperty(r,"splitUnitDependencies",{enumerable:!0,get:function(){return U.splitUnitDependencies}}),Object.defineProperty(r,"unaryMinusDependencies",{enumerable:!0,get:function(){return G.unaryMinusDependencies}}),Object.defineProperty(r,"unaryPlusDependencies",{enumerable:!0,get:function(){return H.unaryPlusDependencies}}),Object.defineProperty(r,"absDependencies",{enumerable:!0,get:function(){return X.absDependencies}}),Object.defineProperty(r,"applyDependencies",{enumerable:!0,get:function(){return Z.applyDependencies}}),Object.defineProperty(r,"addScalarDependencies",{enumerable:!0,get:function(){return J.addScalarDependencies}}),Object.defineProperty(r,"cbrtDependencies",{enumerable:!0,get:function(){return ee.cbrtDependencies}}),Object.defineProperty(r,"ceilDependencies",{enumerable:!0,get:function(){return $.ceilDependencies}}),Object.defineProperty(r,"cubeDependencies",{enumerable:!0,get:function(){return W.cubeDependencies}}),Object.defineProperty(r,"expDependencies",{enumerable:!0,get:function(){return Q.expDependencies}}),Object.defineProperty(r,"expm1Dependencies",{enumerable:!0,get:function(){return te.expm1Dependencies}}),Object.defineProperty(r,"fixDependencies",{enumerable:!0,get:function(){return ce.fixDependencies}}),Object.defineProperty(r,"floorDependencies",{enumerable:!0,get:function(){return oe.floorDependencies}}),Object.defineProperty(r,"gcdDependencies",{enumerable:!0,get:function(){return ue.gcdDependencies}}),Object.defineProperty(r,"lcmDependencies",{enumerable:!0,get:function(){return we.lcmDependencies}}),Object.defineProperty(r,"log10Dependencies",{enumerable:!0,get:function(){return le.log10Dependencies}}),Object.defineProperty(r,"log2Dependencies",{enumerable:!0,get:function(){return fe.log2Dependencies}}),Object.defineProperty(r,"modDependencies",{enumerable:!0,get:function(){return ve.modDependencies}}),Object.defineProperty(r,"multiplyScalarDependencies",{enumerable:!0,get:function(){return pe.multiplyScalarDependencies}}),Object.defineProperty(r,"multiplyDependencies",{enumerable:!0,get:function(){return ye.multiplyDependencies}}),Object.defineProperty(r,"nthRootDependencies",{enumerable:!0,get:function(){return Ae.nthRootDependencies}}),Object.defineProperty(r,"signDependencies",{enumerable:!0,get:function(){return be.signDependencies}}),Object.defineProperty(r,"sqrtDependencies",{enumerable:!0,get:function(){return ne.sqrtDependencies}}),Object.defineProperty(r,"squareDependencies",{enumerable:!0,get:function(){return re.squareDependencies}}),Object.defineProperty(r,"subtractDependencies",{enumerable:!0,get:function(){return de.subtractDependencies}}),Object.defineProperty(r,"xgcdDependencies",{enumerable:!0,get:function(){return Ce.xgcdDependencies}}),Object.defineProperty(r,"dotMultiplyDependencies",{enumerable:!0,get:function(){return je.dotMultiplyDependencies}}),Object.defineProperty(r,"bitAndDependencies",{enumerable:!0,get:function(){return xe.bitAndDependencies}}),Object.defineProperty(r,"bitNotDependencies",{enumerable:!0,get:function(){return Ie.bitNotDependencies}}),Object.defineProperty(r,"bitOrDependencies",{enumerable:!0,get:function(){return Ne.bitOrDependencies}}),Object.defineProperty(r,"bitXorDependencies",{enumerable:!0,get:function(){return Be.bitXorDependencies}}),Object.defineProperty(r,"argDependencies",{enumerable:!0,get:function(){return $e.argDependencies}}),Object.defineProperty(r,"conjDependencies",{enumerable:!0,get:function(){return Le.conjDependencies}}),Object.defineProperty(r,"imDependencies",{enumerable:!0,get:function(){return qe.imDependencies}}),Object.defineProperty(r,"reDependencies",{enumerable:!0,get:function(){return ze.reDependencies}}),Object.defineProperty(r,"notDependencies",{enumerable:!0,get:function(){return Ee.notDependencies}}),Object.defineProperty(r,"orDependencies",{enumerable:!0,get:function(){return Se.orDependencies}}),Object.defineProperty(r,"xorDependencies",{enumerable:!0,get:function(){return Me.xorDependencies}}),Object.defineProperty(r,"concatDependencies",{enumerable:!0,get:function(){return me.concatDependencies}}),Object.defineProperty(r,"columnDependencies",{enumerable:!0,get:function(){return Ve.columnDependencies}}),Object.defineProperty(r,"crossDependencies",{enumerable:!0,get:function(){return Xe.crossDependencies}}),Object.defineProperty(r,"diagDependencies",{enumerable:!0,get:function(){return rt.diagDependencies}}),Object.defineProperty(r,"eyeDependencies",{enumerable:!0,get:function(){return lt.eyeDependencies}}),Object.defineProperty(r,"filterDependencies",{enumerable:!0,get:function(){return nt.filterDependencies}}),Object.defineProperty(r,"flattenDependencies",{enumerable:!0,get:function(){return it.flattenDependencies}}),Object.defineProperty(r,"forEachDependencies",{enumerable:!0,get:function(){return dt.forEachDependencies}}),Object.defineProperty(r,"getMatrixDataTypeDependencies",{enumerable:!0,get:function(){return ft.getMatrixDataTypeDependencies}}),Object.defineProperty(r,"identityDependencies",{enumerable:!0,get:function(){return yt.identityDependencies}}),Object.defineProperty(r,"kronDependencies",{enumerable:!0,get:function(){return bt.kronDependencies}}),Object.defineProperty(r,"mapDependencies",{enumerable:!0,get:function(){return wt.mapDependencies}}),Object.defineProperty(r,"onesDependencies",{enumerable:!0,get:function(){return xt.onesDependencies}}),Object.defineProperty(r,"rangeDependencies",{enumerable:!0,get:function(){return Tt.rangeDependencies}}),Object.defineProperty(r,"reshapeDependencies",{enumerable:!0,get:function(){return kt.reshapeDependencies}}),Object.defineProperty(r,"resizeDependencies",{enumerable:!0,get:function(){return Mt.resizeDependencies}}),Object.defineProperty(r,"rowDependencies",{enumerable:!0,get:function(){return Ot.rowDependencies}}),Object.defineProperty(r,"sizeDependencies",{enumerable:!0,get:function(){return Lt.sizeDependencies}}),Object.defineProperty(r,"squeezeDependencies",{enumerable:!0,get:function(){return Ft.squeezeDependencies}}),Object.defineProperty(r,"subsetDependencies",{enumerable:!0,get:function(){return Pt.subsetDependencies}}),Object.defineProperty(r,"transposeDependencies",{enumerable:!0,get:function(){return It.transposeDependencies}}),Object.defineProperty(r,"ctransposeDependencies",{enumerable:!0,get:function(){return Rt.ctransposeDependencies}}),Object.defineProperty(r,"zerosDependencies",{enumerable:!0,get:function(){return Ht.zerosDependencies}}),Object.defineProperty(r,"erfDependencies",{enumerable:!0,get:function(){return rn.erfDependencies}}),Object.defineProperty(r,"modeDependencies",{enumerable:!0,get:function(){return Zt.modeDependencies}}),Object.defineProperty(r,"prodDependencies",{enumerable:!0,get:function(){return Jt.prodDependencies}}),Object.defineProperty(r,"formatDependencies",{enumerable:!0,get:function(){return an.formatDependencies}}),Object.defineProperty(r,"printDependencies",{enumerable:!0,get:function(){return Wt.printDependencies}}),Object.defineProperty(r,"toDependencies",{enumerable:!0,get:function(){return nn.toDependencies}}),Object.defineProperty(r,"isPrimeDependencies",{enumerable:!0,get:function(){return Je.isPrimeDependencies}}),Object.defineProperty(r,"numericDependencies",{enumerable:!0,get:function(){return Et.numericDependencies}}),Object.defineProperty(r,"divideScalarDependencies",{enumerable:!0,get:function(){return _e.divideScalarDependencies}}),Object.defineProperty(r,"powDependencies",{enumerable:!0,get:function(){return Oe.powDependencies}}),Object.defineProperty(r,"roundDependencies",{enumerable:!0,get:function(){return Ue.roundDependencies}}),Object.defineProperty(r,"logDependencies",{enumerable:!0,get:function(){return Fe.logDependencies}}),Object.defineProperty(r,"log1pDependencies",{enumerable:!0,get:function(){return He.log1pDependencies}}),Object.defineProperty(r,"nthRootsDependencies",{enumerable:!0,get:function(){return Re.nthRootsDependencies}}),Object.defineProperty(r,"dotPowDependencies",{enumerable:!0,get:function(){return Ye.dotPowDependencies}}),Object.defineProperty(r,"dotDivideDependencies",{enumerable:!0,get:function(){return tt.dotDivideDependencies}}),Object.defineProperty(r,"lsolveDependencies",{enumerable:!0,get:function(){return ct.lsolveDependencies}}),Object.defineProperty(r,"usolveDependencies",{enumerable:!0,get:function(){return st.usolveDependencies}}),Object.defineProperty(r,"leftShiftDependencies",{enumerable:!0,get:function(){return ot.leftShiftDependencies}}),Object.defineProperty(r,"rightArithShiftDependencies",{enumerable:!0,get:function(){return Dt.rightArithShiftDependencies}}),Object.defineProperty(r,"rightLogShiftDependencies",{enumerable:!0,get:function(){return Nt.rightLogShiftDependencies}}),Object.defineProperty(r,"andDependencies",{enumerable:!0,get:function(){return Ut.andDependencies}}),Object.defineProperty(r,"compareDependencies",{enumerable:!0,get:function(){return Gt.compareDependencies}}),Object.defineProperty(r,"compareNaturalDependencies",{enumerable:!0,get:function(){return Xt.compareNaturalDependencies}}),Object.defineProperty(r,"compareTextDependencies",{enumerable:!0,get:function(){return en.compareTextDependencies}}),Object.defineProperty(r,"equalDependencies",{enumerable:!0,get:function(){return sn.equalDependencies}}),Object.defineProperty(r,"equalTextDependencies",{enumerable:!0,get:function(){return un.equalTextDependencies}}),Object.defineProperty(r,"smallerDependencies",{enumerable:!0,get:function(){return bn.smallerDependencies}}),Object.defineProperty(r,"smallerEqDependencies",{enumerable:!0,get:function(){return Un.smallerEqDependencies}}),Object.defineProperty(r,"largerDependencies",{enumerable:!0,get:function(){return tr.largerDependencies}}),Object.defineProperty(r,"largerEqDependencies",{enumerable:!0,get:function(){return Gn.largerEqDependencies}}),Object.defineProperty(r,"deepEqualDependencies",{enumerable:!0,get:function(){return nr.deepEqualDependencies}}),Object.defineProperty(r,"unequalDependencies",{enumerable:!0,get:function(){return Bn.unequalDependencies}}),Object.defineProperty(r,"partitionSelectDependencies",{enumerable:!0,get:function(){return Vn.partitionSelectDependencies}}),Object.defineProperty(r,"sortDependencies",{enumerable:!0,get:function(){return Jn.sortDependencies}}),Object.defineProperty(r,"maxDependencies",{enumerable:!0,get:function(){return zn.maxDependencies}}),Object.defineProperty(r,"minDependencies",{enumerable:!0,get:function(){return dn.minDependencies}}),Object.defineProperty(r,"ImmutableDenseMatrixDependencies",{enumerable:!0,get:function(){return on.ImmutableDenseMatrixDependencies}}),Object.defineProperty(r,"IndexDependencies",{enumerable:!0,get:function(){return _r.IndexDependencies}}),Object.defineProperty(r,"FibonacciHeapDependencies",{enumerable:!0,get:function(){return cr.FibonacciHeapDependencies}}),Object.defineProperty(r,"SpaDependencies",{enumerable:!0,get:function(){return ur.SpaDependencies}}),Object.defineProperty(r,"UnitDependencies",{enumerable:!0,get:function(){return Wn.UnitDependencies}}),Object.defineProperty(r,"unitDependencies",{enumerable:!0,get:function(){return zr.unitDependencies}}),Object.defineProperty(r,"sparseDependencies",{enumerable:!0,get:function(){return Gr.sparseDependencies}}),Object.defineProperty(r,"createUnitDependencies",{enumerable:!0,get:function(){return lr.createUnitDependencies}}),Object.defineProperty(r,"acosDependencies",{enumerable:!0,get:function(){return Tn.acosDependencies}}),Object.defineProperty(r,"acoshDependencies",{enumerable:!0,get:function(){return ti.acoshDependencies}}),Object.defineProperty(r,"acotDependencies",{enumerable:!0,get:function(){return Or.acotDependencies}}),Object.defineProperty(r,"acothDependencies",{enumerable:!0,get:function(){return xr.acothDependencies}}),Object.defineProperty(r,"acscDependencies",{enumerable:!0,get:function(){return jn.acscDependencies}}),Object.defineProperty(r,"acschDependencies",{enumerable:!0,get:function(){return hr.acschDependencies}}),Object.defineProperty(r,"asecDependencies",{enumerable:!0,get:function(){return xn.asecDependencies}}),Object.defineProperty(r,"asechDependencies",{enumerable:!0,get:function(){return jr.asechDependencies}}),Object.defineProperty(r,"asinDependencies",{enumerable:!0,get:function(){return Vr.asinDependencies}}),Object.defineProperty(r,"asinhDependencies",{enumerable:!0,get:function(){return Ar.asinhDependencies}}),Object.defineProperty(r,"atanDependencies",{enumerable:!0,get:function(){return wr.atanDependencies}}),Object.defineProperty(r,"atan2Dependencies",{enumerable:!0,get:function(){return ni.atan2Dependencies}}),Object.defineProperty(r,"atanhDependencies",{enumerable:!0,get:function(){return ri.atanhDependencies}}),Object.defineProperty(r,"cosDependencies",{enumerable:!0,get:function(){return rr.cosDependencies}}),Object.defineProperty(r,"coshDependencies",{enumerable:!0,get:function(){return Xn.coshDependencies}}),Object.defineProperty(r,"cotDependencies",{enumerable:!0,get:function(){return Qn.cotDependencies}}),Object.defineProperty(r,"cothDependencies",{enumerable:!0,get:function(){return Rn.cothDependencies}}),Object.defineProperty(r,"cscDependencies",{enumerable:!0,get:function(){return mr.cscDependencies}}),Object.defineProperty(r,"cschDependencies",{enumerable:!0,get:function(){return $n.cschDependencies}}),Object.defineProperty(r,"secDependencies",{enumerable:!0,get:function(){return ir.secDependencies}}),Object.defineProperty(r,"sechDependencies",{enumerable:!0,get:function(){return ii.sechDependencies}}),Object.defineProperty(r,"sinDependencies",{enumerable:!0,get:function(){return Zn.sinDependencies}}),Object.defineProperty(r,"sinhDependencies",{enumerable:!0,get:function(){return Dr.sinhDependencies}}),Object.defineProperty(r,"tanDependencies",{enumerable:!0,get:function(){return $r.tanDependencies}}),Object.defineProperty(r,"tanhDependencies",{enumerable:!0,get:function(){return Hr.tanhDependencies}}),Object.defineProperty(r,"setCartesianDependencies",{enumerable:!0,get:function(){return qr.setCartesianDependencies}}),Object.defineProperty(r,"setDifferenceDependencies",{enumerable:!0,get:function(){return Wr.setDifferenceDependencies}}),Object.defineProperty(r,"setDistinctDependencies",{enumerable:!0,get:function(){return Pr.setDistinctDependencies}}),Object.defineProperty(r,"setIntersectDependencies",{enumerable:!0,get:function(){return dr.setIntersectDependencies}}),Object.defineProperty(r,"setIsSubsetDependencies",{enumerable:!0,get:function(){return Ir.setIsSubsetDependencies}}),Object.defineProperty(r,"setMultiplicityDependencies",{enumerable:!0,get:function(){return Xr.setMultiplicityDependencies}}),Object.defineProperty(r,"setPowersetDependencies",{enumerable:!0,get:function(){return Yr.setPowersetDependencies}}),Object.defineProperty(r,"setSizeDependencies",{enumerable:!0,get:function(){return Sr.setSizeDependencies}}),Object.defineProperty(r,"setSymDifferenceDependencies",{enumerable:!0,get:function(){return Er.setSymDifferenceDependencies}}),Object.defineProperty(r,"setUnionDependencies",{enumerable:!0,get:function(){return Qr.setUnionDependencies}}),Object.defineProperty(r,"addDependencies",{enumerable:!0,get:function(){return Cr.addDependencies}}),Object.defineProperty(r,"hypotDependencies",{enumerable:!0,get:function(){return Zr.hypotDependencies}}),Object.defineProperty(r,"normDependencies",{enumerable:!0,get:function(){return Fr.normDependencies}}),Object.defineProperty(r,"dotDependencies",{enumerable:!0,get:function(){return Jr.dotDependencies}}),Object.defineProperty(r,"traceDependencies",{enumerable:!0,get:function(){return gr.traceDependencies}}),Object.defineProperty(r,"indexDependencies",{enumerable:!0,get:function(){return ar.indexDependencies}}),Object.defineProperty(r,"NodeDependencies",{enumerable:!0,get:function(){return Nr.NodeDependencies}}),Object.defineProperty(r,"AccessorNodeDependencies",{enumerable:!0,get:function(){return Br.AccessorNodeDependencies}}),Object.defineProperty(r,"ArrayNodeDependencies",{enumerable:!0,get:function(){return mn.ArrayNodeDependencies}}),Object.defineProperty(r,"AssignmentNodeDependencies",{enumerable:!0,get:function(){return Kn.AssignmentNodeDependencies}}),Object.defineProperty(r,"BlockNodeDependencies",{enumerable:!0,get:function(){return zt.BlockNodeDependencies}}),Object.defineProperty(r,"ConditionalNodeDependencies",{enumerable:!0,get:function(){return yr.ConditionalNodeDependencies}}),Object.defineProperty(r,"ConstantNodeDependencies",{enumerable:!0,get:function(){return Mn.ConstantNodeDependencies}}),Object.defineProperty(r,"FunctionAssignmentNodeDependencies",{enumerable:!0,get:function(){return pr.FunctionAssignmentNodeDependencies}}),Object.defineProperty(r,"IndexNodeDependencies",{enumerable:!0,get:function(){return Kr.IndexNodeDependencies}}),Object.defineProperty(r,"ObjectNodeDependencies",{enumerable:!0,get:function(){return ai.ObjectNodeDependencies}}),Object.defineProperty(r,"OperatorNodeDependencies",{enumerable:!0,get:function(){return pn.OperatorNodeDependencies}}),Object.defineProperty(r,"ParenthesisNodeDependencies",{enumerable:!0,get:function(){return ei.ParenthesisNodeDependencies}}),Object.defineProperty(r,"RangeNodeDependencies",{enumerable:!0,get:function(){return Rr.RangeNodeDependencies}}),Object.defineProperty(r,"RelationalNodeDependencies",{enumerable:!0,get:function(){return Ln.RelationalNodeDependencies}}),Object.defineProperty(r,"SymbolNodeDependencies",{enumerable:!0,get:function(){return Sn.SymbolNodeDependencies}}),Object.defineProperty(r,"FunctionNodeDependencies",{enumerable:!0,get:function(){return si.FunctionNodeDependencies}}),Object.defineProperty(r,"parseDependencies",{enumerable:!0,get:function(){return Tr.parseDependencies}}),Object.defineProperty(r,"compileDependencies",{enumerable:!0,get:function(){return oi.compileDependencies}}),Object.defineProperty(r,"evaluateDependencies",{enumerable:!0,get:function(){return kr.evaluateDependencies}}),Object.defineProperty(r,"evalDependencies",{enumerable:!0,get:function(){return ci.evalDependencies}}),Object.defineProperty(r,"ParserDependencies",{enumerable:!0,get:function(){return Lr.ParserDependencies}}),Object.defineProperty(r,"parserDependencies",{enumerable:!0,get:function(){return _n.parserDependencies}}),Object.defineProperty(r,"lupDependencies",{enumerable:!0,get:function(){return vr.lupDependencies}}),Object.defineProperty(r,"qrDependencies",{enumerable:!0,get:function(){return Y.qrDependencies}}),Object.defineProperty(r,"sluDependencies",{enumerable:!0,get:function(){return K.sluDependencies}}),Object.defineProperty(r,"lusolveDependencies",{enumerable:!0,get:function(){return ae.lusolveDependencies}}),Object.defineProperty(r,"HelpDependencies",{enumerable:!0,get:function(){return se.HelpDependencies}}),Object.defineProperty(r,"ChainDependencies",{enumerable:!0,get:function(){return ge.ChainDependencies}}),Object.defineProperty(r,"helpDependencies",{enumerable:!0,get:function(){return Te.helpDependencies}}),Object.defineProperty(r,"chainDependencies",{enumerable:!0,get:function(){return Pe.chainDependencies}}),Object.defineProperty(r,"detDependencies",{enumerable:!0,get:function(){return Ge.detDependencies}}),Object.defineProperty(r,"invDependencies",{enumerable:!0,get:function(){return Ze.invDependencies}}),Object.defineProperty(r,"eigsDependencies",{enumerable:!0,get:function(){return Qe.eigsDependencies}}),Object.defineProperty(r,"expmDependencies",{enumerable:!0,get:function(){return at.expmDependencies}}),Object.defineProperty(r,"sqrtmDependencies",{enumerable:!0,get:function(){return pt.sqrtmDependencies}}),Object.defineProperty(r,"divideDependencies",{enumerable:!0,get:function(){return ut.divideDependencies}}),Object.defineProperty(r,"distanceDependencies",{enumerable:!0,get:function(){return et.distanceDependencies}}),Object.defineProperty(r,"intersectDependencies",{enumerable:!0,get:function(){return Ct.intersectDependencies}}),Object.defineProperty(r,"sumDependencies",{enumerable:!0,get:function(){return vt.sumDependencies}}),Object.defineProperty(r,"meanDependencies",{enumerable:!0,get:function(){return At.meanDependencies}}),Object.defineProperty(r,"medianDependencies",{enumerable:!0,get:function(){return mt.medianDependencies}}),Object.defineProperty(r,"madDependencies",{enumerable:!0,get:function(){return gt.madDependencies}}),Object.defineProperty(r,"varianceDependencies",{enumerable:!0,get:function(){return Vt.varianceDependencies}}),Object.defineProperty(r,"varDependencies",{enumerable:!0,get:function(){return Qt.varDependencies}}),Object.defineProperty(r,"quantileSeqDependencies",{enumerable:!0,get:function(){return $t.quantileSeqDependencies}}),Object.defineProperty(r,"stdDependencies",{enumerable:!0,get:function(){return qt.stdDependencies}}),Object.defineProperty(r,"combinationsDependencies",{enumerable:!0,get:function(){return Kt.combinationsDependencies}}),Object.defineProperty(r,"combinationsWithRepDependencies",{enumerable:!0,get:function(){return gn.combinationsWithRepDependencies}}),Object.defineProperty(r,"gammaDependencies",{enumerable:!0,get:function(){return An.gammaDependencies}}),Object.defineProperty(r,"factorialDependencies",{enumerable:!0,get:function(){return En.factorialDependencies}}),Object.defineProperty(r,"kldivergenceDependencies",{enumerable:!0,get:function(){return Pn.kldivergenceDependencies}}),Object.defineProperty(r,"multinomialDependencies",{enumerable:!0,get:function(){return kn.multinomialDependencies}}),Object.defineProperty(r,"permutationsDependencies",{enumerable:!0,get:function(){return Yn.permutationsDependencies}}),Object.defineProperty(r,"pickRandomDependencies",{enumerable:!0,get:function(){return hn.pickRandomDependencies}}),Object.defineProperty(r,"randomDependencies",{enumerable:!0,get:function(){return yn.randomDependencies}}),Object.defineProperty(r,"randomIntDependencies",{enumerable:!0,get:function(){return fn.randomIntDependencies}}),Object.defineProperty(r,"stirlingS2Dependencies",{enumerable:!0,get:function(){return In.stirlingS2Dependencies}}),Object.defineProperty(r,"bellNumbersDependencies",{enumerable:!0,get:function(){return wn.bellNumbersDependencies}}),Object.defineProperty(r,"catalanDependencies",{enumerable:!0,get:function(){return On.catalanDependencies}}),Object.defineProperty(r,"compositionDependencies",{enumerable:!0,get:function(){return vn.compositionDependencies}}),Object.defineProperty(r,"simplifyDependencies",{enumerable:!0,get:function(){return Nn.simplifyDependencies}}),Object.defineProperty(r,"derivativeDependencies",{enumerable:!0,get:function(){return Ur.derivativeDependencies}}),Object.defineProperty(r,"rationalizeDependencies",{enumerable:!0,get:function(){return br.rationalizeDependencies}}),Object.defineProperty(r,"reviverDependencies",{enumerable:!0,get:function(){return Cn.reviverDependencies}}),Object.defineProperty(r,"replacerDependencies",{enumerable:!0,get:function(){return Yt.replacerDependencies}}),Object.defineProperty(r,"eDependencies",{enumerable:!0,get:function(){return fi.eDependencies}}),Object.defineProperty(r,"EDependencies",{enumerable:!0,get:function(){return he.EDependencies}}),Object.defineProperty(r,"falseDependencies",{enumerable:!0,get:function(){return tn.falseDependencies}}),Object.defineProperty(r,"iDependencies",{enumerable:!0,get:function(){return ui.iDependencies}}),Object.defineProperty(r,"InfinityDependencies",{enumerable:!0,get:function(){return fr.InfinityDependencies}}),Object.defineProperty(r,"LN10Dependencies",{enumerable:!0,get:function(){return pi.LN10Dependencies}}),Object.defineProperty(r,"LN2Dependencies",{enumerable:!0,get:function(){return Ke.LN2Dependencies}}),Object.defineProperty(r,"LOG10EDependencies",{enumerable:!0,get:function(){return li.LOG10EDependencies}}),Object.defineProperty(r,"LOG2EDependencies",{enumerable:!0,get:function(){return hi.LOG2EDependencies}}),Object.defineProperty(r,"NaNDependencies",{enumerable:!0,get:function(){return Hn.NaNDependencies}}),Object.defineProperty(r,"nullDependencies",{enumerable:!0,get:function(){return yi.nullDependencies}}),Object.defineProperty(r,"phiDependencies",{enumerable:!0,get:function(){return jt.phiDependencies}}),Object.defineProperty(r,"piDependencies",{enumerable:!0,get:function(){return qn.piDependencies}}),Object.defineProperty(r,"PIDependencies",{enumerable:!0,get:function(){return vi.PIDependencies}}),Object.defineProperty(r,"SQRT1_2Dependencies",{enumerable:!0,get:function(){return bi.SQRT1_2Dependencies}}),Object.defineProperty(r,"SQRT2Dependencies",{enumerable:!0,get:function(){return Mr.SQRT2Dependencies}}),Object.defineProperty(r,"tauDependencies",{enumerable:!0,get:function(){return Ai.tauDependencies}}),Object.defineProperty(r,"trueDependencies",{enumerable:!0,get:function(){return mi.trueDependencies}}),Object.defineProperty(r,"versionDependencies",{enumerable:!0,get:function(){return _t.versionDependencies}}),Object.defineProperty(r,"atomicMassDependencies",{enumerable:!0,get:function(){return Ii.atomicMassDependencies}}),Object.defineProperty(r,"avogadroDependencies",{enumerable:!0,get:function(){return Fi.avogadroDependencies}}),Object.defineProperty(r,"bohrMagnetonDependencies",{enumerable:!0,get:function(){return wi.bohrMagnetonDependencies}}),Object.defineProperty(r,"bohrRadiusDependencies",{enumerable:!0,get:function(){return Bi.bohrRadiusDependencies}}),Object.defineProperty(r,"boltzmannDependencies",{enumerable:!0,get:function(){return Di.boltzmannDependencies}}),Object.defineProperty(r,"classicalElectronRadiusDependencies",{enumerable:!0,get:function(){return Si.classicalElectronRadiusDependencies}}),Object.defineProperty(r,"conductanceQuantumDependencies",{enumerable:!0,get:function(){return _i.conductanceQuantumDependencies}}),Object.defineProperty(r,"coulombDependencies",{enumerable:!0,get:function(){return Ri.coulombDependencies}}),Object.defineProperty(r,"deuteronMassDependencies",{enumerable:!0,get:function(){return xi.deuteronMassDependencies}}),Object.defineProperty(r,"efimovFactorDependencies",{enumerable:!0,get:function(){return Ei.efimovFactorDependencies}}),Object.defineProperty(r,"electricConstantDependencies",{enumerable:!0,get:function(){return Ci.electricConstantDependencies}}),Object.defineProperty(r,"electronMassDependencies",{enumerable:!0,get:function(){return Ni.electronMassDependencies}}),Object.defineProperty(r,"elementaryChargeDependencies",{enumerable:!0,get:function(){return ki.elementaryChargeDependencies}}),Object.defineProperty(r,"faradayDependencies",{enumerable:!0,get:function(){return Ti.faradayDependencies}}),Object.defineProperty(r,"fermiCouplingDependencies",{enumerable:!0,get:function(){return Li.fermiCouplingDependencies}}),Object.defineProperty(r,"fineStructureDependencies",{enumerable:!0,get:function(){return Ui.fineStructureDependencies}}),Object.defineProperty(r,"firstRadiationDependencies",{enumerable:!0,get:function(){return zi.firstRadiationDependencies}}),Object.defineProperty(r,"gasConstantDependencies",{enumerable:!0,get:function(){return er.gasConstantDependencies}}),Object.defineProperty(r,"gravitationConstantDependencies",{enumerable:!0,get:function(){return Mi.gravitationConstantDependencies}}),Object.defineProperty(r,"gravityDependencies",{enumerable:!0,get:function(){return di.gravityDependencies}}),Object.defineProperty(r,"hartreeEnergyDependencies",{enumerable:!0,get:function(){return Oi.hartreeEnergyDependencies}}),Object.defineProperty(r,"inverseConductanceQuantumDependencies",{enumerable:!0,get:function(){return Xi.inverseConductanceQuantumDependencies}}),Object.defineProperty(r,"klitzingDependencies",{enumerable:!0,get:function(){return ia.klitzingDependencies}}),Object.defineProperty(r,"loschmidtDependencies",{enumerable:!0,get:function(){return Yi.loschmidtDependencies}}),Object.defineProperty(r,"magneticConstantDependencies",{enumerable:!0,get:function(){return Qi.magneticConstantDependencies}}),Object.defineProperty(r,"magneticFluxQuantumDependencies",{enumerable:!0,get:function(){return aa.magneticFluxQuantumDependencies}}),Object.defineProperty(r,"molarMassDependencies",{enumerable:!0,get:function(){return Gi.molarMassDependencies}}),Object.defineProperty(r,"molarMassC12Dependencies",{enumerable:!0,get:function(){return Zi.molarMassC12Dependencies}}),Object.defineProperty(r,"molarPlanckConstantDependencies",{enumerable:!0,get:function(){return cn.molarPlanckConstantDependencies}}),Object.defineProperty(r,"molarVolumeDependencies",{enumerable:!0,get:function(){return sa.molarVolumeDependencies}}),Object.defineProperty(r,"neutronMassDependencies",{enumerable:!0,get:function(){return oa.neutronMassDependencies}}),Object.defineProperty(r,"nuclearMagnetonDependencies",{enumerable:!0,get:function(){return ca.nuclearMagnetonDependencies}}),Object.defineProperty(r,"planckChargeDependencies",{enumerable:!0,get:function(){return ua.planckChargeDependencies}}),Object.defineProperty(r,"planckConstantDependencies",{enumerable:!0,get:function(){return la.planckConstantDependencies}}),Object.defineProperty(r,"planckLengthDependencies",{enumerable:!0,get:function(){return da.planckLengthDependencies}}),Object.defineProperty(r,"planckMassDependencies",{enumerable:!0,get:function(){return pa.planckMassDependencies}}),Object.defineProperty(r,"planckTemperatureDependencies",{enumerable:!0,get:function(){return Vi.planckTemperatureDependencies}}),Object.defineProperty(r,"planckTimeDependencies",{enumerable:!0,get:function(){return Ji.planckTimeDependencies}}),Object.defineProperty(r,"protonMassDependencies",{enumerable:!0,get:function(){return Ki.protonMassDependencies}}),Object.defineProperty(r,"quantumOfCirculationDependencies",{enumerable:!0,get:function(){return fa.quantumOfCirculationDependencies}}),Object.defineProperty(r,"reducedPlanckConstantDependencies",{enumerable:!0,get:function(){return ea.reducedPlanckConstantDependencies}}),Object.defineProperty(r,"rydbergDependencies",{enumerable:!0,get:function(){return ji.rydbergDependencies}}),Object.defineProperty(r,"sackurTetrodeDependencies",{enumerable:!0,get:function(){return $i.sackurTetrodeDependencies}}),Object.defineProperty(r,"secondRadiationDependencies",{enumerable:!0,get:function(){return Hi.secondRadiationDependencies}}),Object.defineProperty(r,"speedOfLightDependencies",{enumerable:!0,get:function(){return ha.speedOfLightDependencies}}),Object.defineProperty(r,"stefanBoltzmannDependencies",{enumerable:!0,get:function(){return ta.stefanBoltzmannDependencies}}),Object.defineProperty(r,"thomsonCrossSectionDependencies",{enumerable:!0,get:function(){return ma.thomsonCrossSectionDependencies}}),Object.defineProperty(r,"vacuumImpedanceDependencies",{enumerable:!0,get:function(){return ga.vacuumImpedanceDependencies}}),Object.defineProperty(r,"weakMixingAngleDependencies",{enumerable:!0,get:function(){return ya.weakMixingAngleDependencies}}),Object.defineProperty(r,"wienDisplacementDependencies",{enumerable:!0,get:function(){return na.wienDisplacementDependencies}}),Object.defineProperty(r,"applyTransformDependencies",{enumerable:!0,get:function(){return ra.applyTransformDependencies}}),Object.defineProperty(r,"columnTransformDependencies",{enumerable:!0,get:function(){return gi.columnTransformDependencies}}),Object.defineProperty(r,"filterTransformDependencies",{enumerable:!0,get:function(){return va.filterTransformDependencies}}),Object.defineProperty(r,"forEachTransformDependencies",{enumerable:!0,get:function(){return qi.forEachTransformDependencies}}),Object.defineProperty(r,"indexTransformDependencies",{enumerable:!0,get:function(){return Wi.indexTransformDependencies}}),Object.defineProperty(r,"mapTransformDependencies",{enumerable:!0,get:function(){return ba.mapTransformDependencies}}),Object.defineProperty(r,"maxTransformDependencies",{enumerable:!0,get:function(){return _a.maxTransformDependencies}}),Object.defineProperty(r,"meanTransformDependencies",{enumerable:!0,get:function(){return xa.meanTransformDependencies}}),Object.defineProperty(r,"minTransformDependencies",{enumerable:!0,get:function(){return Aa.minTransformDependencies}}),Object.defineProperty(r,"rangeTransformDependencies",{enumerable:!0,get:function(){return wa.rangeTransformDependencies}}),Object.defineProperty(r,"rowTransformDependencies",{enumerable:!0,get:function(){return Da.rowTransformDependencies}}),Object.defineProperty(r,"subsetTransformDependencies",{enumerable:!0,get:function(){return Sa.subsetTransformDependencies}}),Object.defineProperty(r,"concatTransformDependencies",{enumerable:!0,get:function(){return Ea.concatTransformDependencies}}),Object.defineProperty(r,"stdTransformDependencies",{enumerable:!0,get:function(){return Ca.stdTransformDependencies}}),Object.defineProperty(r,"sumTransformDependencies",{enumerable:!0,get:function(){return Na.sumTransformDependencies}}),Object.defineProperty(r,"varianceTransformDependencies",{enumerable:!0,get:function(){return Ta.varianceTransformDependencies}}),Object.defineProperty(r,"all",{enumerable:!0,get:function(){return Ma.all}});var b=n("./dependenciesAny/dependenciesTyped.generated"),h=n("./dependenciesAny/dependenciesResultSet.generated"),m=n("./dependenciesAny/dependenciesBigNumberClass.generated"),p=n("./dependenciesAny/dependenciesComplexClass.generated"),A=n("./dependenciesAny/dependenciesFractionClass.generated"),S=n("./dependenciesAny/dependenciesRangeClass.generated"),_=n("./dependenciesAny/dependenciesMatrixClass.generated"),l=n("./dependenciesAny/dependenciesDenseMatrixClass.generated"),y=n("./dependenciesAny/dependenciesClone.generated"),o=n("./dependenciesAny/dependenciesIsInteger.generated"),f=n("./dependenciesAny/dependenciesIsNegative.generated"),x=n("./dependenciesAny/dependenciesIsNumeric.generated"),g=n("./dependenciesAny/dependenciesHasNumericValue.generated"),D=n("./dependenciesAny/dependenciesIsPositive.generated"),E=n("./dependenciesAny/dependenciesIsZero.generated"),C=n("./dependenciesAny/dependenciesIsNaN.generated"),T=n("./dependenciesAny/dependenciesTypeOf.generated"),O=n("./dependenciesAny/dependenciesDeprecatedTypeof.generated"),I=n("./dependenciesAny/dependenciesEqualScalar.generated"),M=n("./dependenciesAny/dependenciesSparseMatrixClass.generated"),F=n("./dependenciesAny/dependenciesNumber.generated"),B=n("./dependenciesAny/dependenciesString.generated"),j=n("./dependenciesAny/dependenciesBoolean.generated"),L=n("./dependenciesAny/dependenciesBignumber.generated"),R=n("./dependenciesAny/dependenciesComplex.generated"),V=n("./dependenciesAny/dependenciesFraction.generated"),k=n("./dependenciesAny/dependenciesMatrix.generated"),U=n("./dependenciesAny/dependenciesSplitUnit.generated"),G=n("./dependenciesAny/dependenciesUnaryMinus.generated"),H=n("./dependenciesAny/dependenciesUnaryPlus.generated"),X=n("./dependenciesAny/dependenciesAbs.generated"),Z=n("./dependenciesAny/dependenciesApply.generated"),J=n("./dependenciesAny/dependenciesAddScalar.generated"),ee=n("./dependenciesAny/dependenciesCbrt.generated"),$=n("./dependenciesAny/dependenciesCeil.generated"),W=n("./dependenciesAny/dependenciesCube.generated"),Q=n("./dependenciesAny/dependenciesExp.generated"),te=n("./dependenciesAny/dependenciesExpm1.generated"),ce=n("./dependenciesAny/dependenciesFix.generated"),oe=n("./dependenciesAny/dependenciesFloor.generated"),ue=n("./dependenciesAny/dependenciesGcd.generated"),we=n("./dependenciesAny/dependenciesLcm.generated"),le=n("./dependenciesAny/dependenciesLog10.generated"),fe=n("./dependenciesAny/dependenciesLog2.generated"),ve=n("./dependenciesAny/dependenciesMod.generated"),pe=n("./dependenciesAny/dependenciesMultiplyScalar.generated"),ye=n("./dependenciesAny/dependenciesMultiply.generated"),Ae=n("./dependenciesAny/dependenciesNthRoot.generated"),be=n("./dependenciesAny/dependenciesSign.generated"),ne=n("./dependenciesAny/dependenciesSqrt.generated"),re=n("./dependenciesAny/dependenciesSquare.generated"),de=n("./dependenciesAny/dependenciesSubtract.generated"),Ce=n("./dependenciesAny/dependenciesXgcd.generated"),je=n("./dependenciesAny/dependenciesDotMultiply.generated"),xe=n("./dependenciesAny/dependenciesBitAnd.generated"),Ie=n("./dependenciesAny/dependenciesBitNot.generated"),Ne=n("./dependenciesAny/dependenciesBitOr.generated"),Be=n("./dependenciesAny/dependenciesBitXor.generated"),$e=n("./dependenciesAny/dependenciesArg.generated"),Le=n("./dependenciesAny/dependenciesConj.generated"),qe=n("./dependenciesAny/dependenciesIm.generated"),ze=n("./dependenciesAny/dependenciesRe.generated"),Ee=n("./dependenciesAny/dependenciesNot.generated"),Se=n("./dependenciesAny/dependenciesOr.generated"),Me=n("./dependenciesAny/dependenciesXor.generated"),me=n("./dependenciesAny/dependenciesConcat.generated"),Ve=n("./dependenciesAny/dependenciesColumn.generated"),Xe=n("./dependenciesAny/dependenciesCross.generated"),rt=n("./dependenciesAny/dependenciesDiag.generated"),lt=n("./dependenciesAny/dependenciesEye.generated"),nt=n("./dependenciesAny/dependenciesFilter.generated"),it=n("./dependenciesAny/dependenciesFlatten.generated"),dt=n("./dependenciesAny/dependenciesForEach.generated"),ft=n("./dependenciesAny/dependenciesGetMatrixDataType.generated"),yt=n("./dependenciesAny/dependenciesIdentity.generated"),bt=n("./dependenciesAny/dependenciesKron.generated"),wt=n("./dependenciesAny/dependenciesMap.generated"),xt=n("./dependenciesAny/dependenciesOnes.generated"),Tt=n("./dependenciesAny/dependenciesRange.generated"),kt=n("./dependenciesAny/dependenciesReshape.generated"),Mt=n("./dependenciesAny/dependenciesResize.generated"),Ot=n("./dependenciesAny/dependenciesRow.generated"),Lt=n("./dependenciesAny/dependenciesSize.generated"),Ft=n("./dependenciesAny/dependenciesSqueeze.generated"),Pt=n("./dependenciesAny/dependenciesSubset.generated"),It=n("./dependenciesAny/dependenciesTranspose.generated"),Rt=n("./dependenciesAny/dependenciesCtranspose.generated"),Ht=n("./dependenciesAny/dependenciesZeros.generated"),rn=n("./dependenciesAny/dependenciesErf.generated"),Zt=n("./dependenciesAny/dependenciesMode.generated"),Jt=n("./dependenciesAny/dependenciesProd.generated"),an=n("./dependenciesAny/dependenciesFormat.generated"),Wt=n("./dependenciesAny/dependenciesPrint.generated"),nn=n("./dependenciesAny/dependenciesTo.generated"),Je=n("./dependenciesAny/dependenciesIsPrime.generated"),Et=n("./dependenciesAny/dependenciesNumeric.generated"),_e=n("./dependenciesAny/dependenciesDivideScalar.generated"),Oe=n("./dependenciesAny/dependenciesPow.generated"),Ue=n("./dependenciesAny/dependenciesRound.generated"),Fe=n("./dependenciesAny/dependenciesLog.generated"),He=n("./dependenciesAny/dependenciesLog1p.generated"),Re=n("./dependenciesAny/dependenciesNthRoots.generated"),Ye=n("./dependenciesAny/dependenciesDotPow.generated"),tt=n("./dependenciesAny/dependenciesDotDivide.generated"),ct=n("./dependenciesAny/dependenciesLsolve.generated"),st=n("./dependenciesAny/dependenciesUsolve.generated"),ot=n("./dependenciesAny/dependenciesLeftShift.generated"),Dt=n("./dependenciesAny/dependenciesRightArithShift.generated"),Nt=n("./dependenciesAny/dependenciesRightLogShift.generated"),Ut=n("./dependenciesAny/dependenciesAnd.generated"),Gt=n("./dependenciesAny/dependenciesCompare.generated"),Xt=n("./dependenciesAny/dependenciesCompareNatural.generated"),en=n("./dependenciesAny/dependenciesCompareText.generated"),sn=n("./dependenciesAny/dependenciesEqual.generated"),un=n("./dependenciesAny/dependenciesEqualText.generated"),bn=n("./dependenciesAny/dependenciesSmaller.generated"),Un=n("./dependenciesAny/dependenciesSmallerEq.generated"),tr=n("./dependenciesAny/dependenciesLarger.generated"),Gn=n("./dependenciesAny/dependenciesLargerEq.generated"),nr=n("./dependenciesAny/dependenciesDeepEqual.generated"),Bn=n("./dependenciesAny/dependenciesUnequal.generated"),Vn=n("./dependenciesAny/dependenciesPartitionSelect.generated"),Jn=n("./dependenciesAny/dependenciesSort.generated"),zn=n("./dependenciesAny/dependenciesMax.generated"),dn=n("./dependenciesAny/dependenciesMin.generated"),on=n("./dependenciesAny/dependenciesImmutableDenseMatrixClass.generated"),_r=n("./dependenciesAny/dependenciesIndexClass.generated"),cr=n("./dependenciesAny/dependenciesFibonacciHeapClass.generated"),ur=n("./dependenciesAny/dependenciesSpaClass.generated"),Wn=n("./dependenciesAny/dependenciesUnitClass.generated"),zr=n("./dependenciesAny/dependenciesUnitFunction.generated"),Gr=n("./dependenciesAny/dependenciesSparse.generated"),lr=n("./dependenciesAny/dependenciesCreateUnit.generated"),Tn=n("./dependenciesAny/dependenciesAcos.generated"),ti=n("./dependenciesAny/dependenciesAcosh.generated"),Or=n("./dependenciesAny/dependenciesAcot.generated"),xr=n("./dependenciesAny/dependenciesAcoth.generated"),jn=n("./dependenciesAny/dependenciesAcsc.generated"),hr=n("./dependenciesAny/dependenciesAcsch.generated"),xn=n("./dependenciesAny/dependenciesAsec.generated"),jr=n("./dependenciesAny/dependenciesAsech.generated"),Vr=n("./dependenciesAny/dependenciesAsin.generated"),Ar=n("./dependenciesAny/dependenciesAsinh.generated"),wr=n("./dependenciesAny/dependenciesAtan.generated"),ni=n("./dependenciesAny/dependenciesAtan2.generated"),ri=n("./dependenciesAny/dependenciesAtanh.generated"),rr=n("./dependenciesAny/dependenciesCos.generated"),Xn=n("./dependenciesAny/dependenciesCosh.generated"),Qn=n("./dependenciesAny/dependenciesCot.generated"),Rn=n("./dependenciesAny/dependenciesCoth.generated"),mr=n("./dependenciesAny/dependenciesCsc.generated"),$n=n("./dependenciesAny/dependenciesCsch.generated"),ir=n("./dependenciesAny/dependenciesSec.generated"),ii=n("./dependenciesAny/dependenciesSech.generated"),Zn=n("./dependenciesAny/dependenciesSin.generated"),Dr=n("./dependenciesAny/dependenciesSinh.generated"),$r=n("./dependenciesAny/dependenciesTan.generated"),Hr=n("./dependenciesAny/dependenciesTanh.generated"),qr=n("./dependenciesAny/dependenciesSetCartesian.generated"),Wr=n("./dependenciesAny/dependenciesSetDifference.generated"),Pr=n("./dependenciesAny/dependenciesSetDistinct.generated"),dr=n("./dependenciesAny/dependenciesSetIntersect.generated"),Ir=n("./dependenciesAny/dependenciesSetIsSubset.generated"),Xr=n("./dependenciesAny/dependenciesSetMultiplicity.generated"),Yr=n("./dependenciesAny/dependenciesSetPowerset.generated"),Sr=n("./dependenciesAny/dependenciesSetSize.generated"),Er=n("./dependenciesAny/dependenciesSetSymDifference.generated"),Qr=n("./dependenciesAny/dependenciesSetUnion.generated"),Cr=n("./dependenciesAny/dependenciesAdd.generated"),Zr=n("./dependenciesAny/dependenciesHypot.generated"),Fr=n("./dependenciesAny/dependenciesNorm.generated"),Jr=n("./dependenciesAny/dependenciesDot.generated"),gr=n("./dependenciesAny/dependenciesTrace.generated"),ar=n("./dependenciesAny/dependenciesIndex.generated"),Nr=n("./dependenciesAny/dependenciesNode.generated"),Br=n("./dependenciesAny/dependenciesAccessorNode.generated"),mn=n("./dependenciesAny/dependenciesArrayNode.generated"),Kn=n("./dependenciesAny/dependenciesAssignmentNode.generated"),zt=n("./dependenciesAny/dependenciesBlockNode.generated"),yr=n("./dependenciesAny/dependenciesConditionalNode.generated"),Mn=n("./dependenciesAny/dependenciesConstantNode.generated"),pr=n("./dependenciesAny/dependenciesFunctionAssignmentNode.generated"),Kr=n("./dependenciesAny/dependenciesIndexNode.generated"),ai=n("./dependenciesAny/dependenciesObjectNode.generated"),pn=n("./dependenciesAny/dependenciesOperatorNode.generated"),ei=n("./dependenciesAny/dependenciesParenthesisNode.generated"),Rr=n("./dependenciesAny/dependenciesRangeNode.generated"),Ln=n("./dependenciesAny/dependenciesRelationalNode.generated"),Sn=n("./dependenciesAny/dependenciesSymbolNode.generated"),si=n("./dependenciesAny/dependenciesFunctionNode.generated"),Tr=n("./dependenciesAny/dependenciesParse.generated"),oi=n("./dependenciesAny/dependenciesCompile.generated"),kr=n("./dependenciesAny/dependenciesEvaluate.generated"),ci=n("./dependenciesAny/dependenciesDeprecatedEval.generated"),Lr=n("./dependenciesAny/dependenciesParserClass.generated"),_n=n("./dependenciesAny/dependenciesParser.generated"),vr=n("./dependenciesAny/dependenciesLup.generated"),Y=n("./dependenciesAny/dependenciesQr.generated"),K=n("./dependenciesAny/dependenciesSlu.generated"),ae=n("./dependenciesAny/dependenciesLusolve.generated"),se=n("./dependenciesAny/dependenciesHelpClass.generated"),ge=n("./dependenciesAny/dependenciesChainClass.generated"),Te=n("./dependenciesAny/dependenciesHelp.generated"),Pe=n("./dependenciesAny/dependenciesChain.generated"),Ge=n("./dependenciesAny/dependenciesDet.generated"),Ze=n("./dependenciesAny/dependenciesInv.generated"),Qe=n("./dependenciesAny/dependenciesEigs.generated"),at=n("./dependenciesAny/dependenciesExpm.generated"),pt=n("./dependenciesAny/dependenciesSqrtm.generated"),ut=n("./dependenciesAny/dependenciesDivide.generated"),et=n("./dependenciesAny/dependenciesDistance.generated"),Ct=n("./dependenciesAny/dependenciesIntersect.generated"),vt=n("./dependenciesAny/dependenciesSum.generated"),At=n("./dependenciesAny/dependenciesMean.generated"),mt=n("./dependenciesAny/dependenciesMedian.generated"),gt=n("./dependenciesAny/dependenciesMad.generated"),Vt=n("./dependenciesAny/dependenciesVariance.generated"),Qt=n("./dependenciesAny/dependenciesDeprecatedVar.generated"),$t=n("./dependenciesAny/dependenciesQuantileSeq.generated"),qt=n("./dependenciesAny/dependenciesStd.generated"),Kt=n("./dependenciesAny/dependenciesCombinations.generated"),gn=n("./dependenciesAny/dependenciesCombinationsWithRep.generated"),An=n("./dependenciesAny/dependenciesGamma.generated"),En=n("./dependenciesAny/dependenciesFactorial.generated"),Pn=n("./dependenciesAny/dependenciesKldivergence.generated"),kn=n("./dependenciesAny/dependenciesMultinomial.generated"),Yn=n("./dependenciesAny/dependenciesPermutations.generated"),hn=n("./dependenciesAny/dependenciesPickRandom.generated"),yn=n("./dependenciesAny/dependenciesRandom.generated"),fn=n("./dependenciesAny/dependenciesRandomInt.generated"),In=n("./dependenciesAny/dependenciesStirlingS2.generated"),wn=n("./dependenciesAny/dependenciesBellNumbers.generated"),On=n("./dependenciesAny/dependenciesCatalan.generated"),vn=n("./dependenciesAny/dependenciesComposition.generated"),Nn=n("./dependenciesAny/dependenciesSimplify.generated"),Ur=n("./dependenciesAny/dependenciesDerivative.generated"),br=n("./dependenciesAny/dependenciesRationalize.generated"),Cn=n("./dependenciesAny/dependenciesReviver.generated"),Yt=n("./dependenciesAny/dependenciesReplacer.generated"),fi=n("./dependenciesAny/dependenciesE.generated"),he=n("./dependenciesAny/dependenciesUppercaseE.generated"),tn=n("./dependenciesAny/dependenciesFalse.generated"),ui=n("./dependenciesAny/dependenciesI.generated"),fr=n("./dependenciesAny/dependenciesInfinity.generated"),pi=n("./dependenciesAny/dependenciesLN10.generated"),Ke=n("./dependenciesAny/dependenciesLN2.generated"),li=n("./dependenciesAny/dependenciesLOG10E.generated"),hi=n("./dependenciesAny/dependenciesLOG2E.generated"),Hn=n("./dependenciesAny/dependenciesNaN.generated"),yi=n("./dependenciesAny/dependenciesNull.generated"),jt=n("./dependenciesAny/dependenciesPhi.generated"),qn=n("./dependenciesAny/dependenciesPi.generated"),vi=n("./dependenciesAny/dependenciesUppercasePi.generated"),bi=n("./dependenciesAny/dependenciesSQRT1_2.generated"),Mr=n("./dependenciesAny/dependenciesSQRT2.generated"),Ai=n("./dependenciesAny/dependenciesTau.generated"),mi=n("./dependenciesAny/dependenciesTrue.generated"),_t=n("./dependenciesAny/dependenciesVersion.generated"),Ii=n("./dependenciesAny/dependenciesAtomicMass.generated"),Fi=n("./dependenciesAny/dependenciesAvogadro.generated"),wi=n("./dependenciesAny/dependenciesBohrMagneton.generated"),Bi=n("./dependenciesAny/dependenciesBohrRadius.generated"),Di=n("./dependenciesAny/dependenciesBoltzmann.generated"),Si=n("./dependenciesAny/dependenciesClassicalElectronRadius.generated"),_i=n("./dependenciesAny/dependenciesConductanceQuantum.generated"),Ri=n("./dependenciesAny/dependenciesCoulomb.generated"),xi=n("./dependenciesAny/dependenciesDeuteronMass.generated"),Ei=n("./dependenciesAny/dependenciesEfimovFactor.generated"),Ci=n("./dependenciesAny/dependenciesElectricConstant.generated"),Ni=n("./dependenciesAny/dependenciesElectronMass.generated"),ki=n("./dependenciesAny/dependenciesElementaryCharge.generated"),Ti=n("./dependenciesAny/dependenciesFaraday.generated"),Li=n("./dependenciesAny/dependenciesFermiCoupling.generated"),Ui=n("./dependenciesAny/dependenciesFineStructure.generated"),zi=n("./dependenciesAny/dependenciesFirstRadiation.generated"),er=n("./dependenciesAny/dependenciesGasConstant.generated"),Mi=n("./dependenciesAny/dependenciesGravitationConstant.generated"),di=n("./dependenciesAny/dependenciesGravity.generated"),Oi=n("./dependenciesAny/dependenciesHartreeEnergy.generated"),Xi=n("./dependenciesAny/dependenciesInverseConductanceQuantum.generated"),ia=n("./dependenciesAny/dependenciesKlitzing.generated"),Yi=n("./dependenciesAny/dependenciesLoschmidt.generated"),Qi=n("./dependenciesAny/dependenciesMagneticConstant.generated"),aa=n("./dependenciesAny/dependenciesMagneticFluxQuantum.generated"),Gi=n("./dependenciesAny/dependenciesMolarMass.generated"),Zi=n("./dependenciesAny/dependenciesMolarMassC12.generated"),cn=n("./dependenciesAny/dependenciesMolarPlanckConstant.generated"),sa=n("./dependenciesAny/dependenciesMolarVolume.generated"),oa=n("./dependenciesAny/dependenciesNeutronMass.generated"),ca=n("./dependenciesAny/dependenciesNuclearMagneton.generated"),ua=n("./dependenciesAny/dependenciesPlanckCharge.generated"),la=n("./dependenciesAny/dependenciesPlanckConstant.generated"),da=n("./dependenciesAny/dependenciesPlanckLength.generated"),pa=n("./dependenciesAny/dependenciesPlanckMass.generated"),Vi=n("./dependenciesAny/dependenciesPlanckTemperature.generated"),Ji=n("./dependenciesAny/dependenciesPlanckTime.generated"),Ki=n("./dependenciesAny/dependenciesProtonMass.generated"),fa=n("./dependenciesAny/dependenciesQuantumOfCirculation.generated"),ea=n("./dependenciesAny/dependenciesReducedPlanckConstant.generated"),ji=n("./dependenciesAny/dependenciesRydberg.generated"),$i=n("./dependenciesAny/dependenciesSackurTetrode.generated"),Hi=n("./dependenciesAny/dependenciesSecondRadiation.generated"),ha=n("./dependenciesAny/dependenciesSpeedOfLight.generated"),ta=n("./dependenciesAny/dependenciesStefanBoltzmann.generated"),ma=n("./dependenciesAny/dependenciesThomsonCrossSection.generated"),ga=n("./dependenciesAny/dependenciesVacuumImpedance.generated"),ya=n("./dependenciesAny/dependenciesWeakMixingAngle.generated"),na=n("./dependenciesAny/dependenciesWienDisplacement.generated"),ra=n("./dependenciesAny/dependenciesApplyTransform.generated"),gi=n("./dependenciesAny/dependenciesColumnTransform.generated"),va=n("./dependenciesAny/dependenciesFilterTransform.generated"),qi=n("./dependenciesAny/dependenciesForEachTransform.generated"),Wi=n("./dependenciesAny/dependenciesIndexTransform.generated"),ba=n("./dependenciesAny/dependenciesMapTransform.generated"),_a=n("./dependenciesAny/dependenciesMaxTransform.generated"),xa=n("./dependenciesAny/dependenciesMeanTransform.generated"),Aa=n("./dependenciesAny/dependenciesMinTransform.generated"),wa=n("./dependenciesAny/dependenciesRangeTransform.generated"),Da=n("./dependenciesAny/dependenciesRowTransform.generated"),Sa=n("./dependenciesAny/dependenciesSubsetTransform.generated"),Ea=n("./dependenciesAny/dependenciesConcatTransform.generated"),Ca=n("./dependenciesAny/dependenciesStdTransform.generated"),Na=n("./dependenciesAny/dependenciesSumTransform.generated"),Ta=n("./dependenciesAny/dependenciesVarianceTransform.generated"),Ma=n("./allFactoriesAny.js")},{"./allFactoriesAny.js":66,"./dependenciesAny/dependenciesAbs.generated":69,"./dependenciesAny/dependenciesAccessorNode.generated":70,"./dependenciesAny/dependenciesAcos.generated":71,"./dependenciesAny/dependenciesAcosh.generated":72,"./dependenciesAny/dependenciesAcot.generated":73,"./dependenciesAny/dependenciesAcoth.generated":74,"./dependenciesAny/dependenciesAcsc.generated":75,"./dependenciesAny/dependenciesAcsch.generated":76,"./dependenciesAny/dependenciesAdd.generated":77,"./dependenciesAny/dependenciesAddScalar.generated":78,"./dependenciesAny/dependenciesAnd.generated":79,"./dependenciesAny/dependenciesApply.generated":80,"./dependenciesAny/dependenciesApplyTransform.generated":81,"./dependenciesAny/dependenciesArg.generated":82,"./dependenciesAny/dependenciesArrayNode.generated":83,"./dependenciesAny/dependenciesAsec.generated":84,"./dependenciesAny/dependenciesAsech.generated":85,"./dependenciesAny/dependenciesAsin.generated":86,"./dependenciesAny/dependenciesAsinh.generated":87,"./dependenciesAny/dependenciesAssignmentNode.generated":88,"./dependenciesAny/dependenciesAtan.generated":89,"./dependenciesAny/dependenciesAtan2.generated":90,"./dependenciesAny/dependenciesAtanh.generated":91,"./dependenciesAny/dependenciesAtomicMass.generated":92,"./dependenciesAny/dependenciesAvogadro.generated":93,"./dependenciesAny/dependenciesBellNumbers.generated":94,"./dependenciesAny/dependenciesBigNumberClass.generated":95,"./dependenciesAny/dependenciesBignumber.generated":96,"./dependenciesAny/dependenciesBitAnd.generated":97,"./dependenciesAny/dependenciesBitNot.generated":98,"./dependenciesAny/dependenciesBitOr.generated":99,"./dependenciesAny/dependenciesBitXor.generated":100,"./dependenciesAny/dependenciesBlockNode.generated":101,"./dependenciesAny/dependenciesBohrMagneton.generated":102,"./dependenciesAny/dependenciesBohrRadius.generated":103,"./dependenciesAny/dependenciesBoltzmann.generated":104,"./dependenciesAny/dependenciesBoolean.generated":105,"./dependenciesAny/dependenciesCatalan.generated":106,"./dependenciesAny/dependenciesCbrt.generated":107,"./dependenciesAny/dependenciesCeil.generated":108,"./dependenciesAny/dependenciesChain.generated":109,"./dependenciesAny/dependenciesChainClass.generated":110,"./dependenciesAny/dependenciesClassicalElectronRadius.generated":111,"./dependenciesAny/dependenciesClone.generated":112,"./dependenciesAny/dependenciesColumn.generated":113,"./dependenciesAny/dependenciesColumnTransform.generated":114,"./dependenciesAny/dependenciesCombinations.generated":115,"./dependenciesAny/dependenciesCombinationsWithRep.generated":116,"./dependenciesAny/dependenciesCompare.generated":117,"./dependenciesAny/dependenciesCompareNatural.generated":118,"./dependenciesAny/dependenciesCompareText.generated":119,"./dependenciesAny/dependenciesCompile.generated":120,"./dependenciesAny/dependenciesComplex.generated":121,"./dependenciesAny/dependenciesComplexClass.generated":122,"./dependenciesAny/dependenciesComposition.generated":123,"./dependenciesAny/dependenciesConcat.generated":124,"./dependenciesAny/dependenciesConcatTransform.generated":125,"./dependenciesAny/dependenciesConditionalNode.generated":126,"./dependenciesAny/dependenciesConductanceQuantum.generated":127,"./dependenciesAny/dependenciesConj.generated":128,"./dependenciesAny/dependenciesConstantNode.generated":129,"./dependenciesAny/dependenciesCos.generated":130,"./dependenciesAny/dependenciesCosh.generated":131,"./dependenciesAny/dependenciesCot.generated":132,"./dependenciesAny/dependenciesCoth.generated":133,"./dependenciesAny/dependenciesCoulomb.generated":134,"./dependenciesAny/dependenciesCreateUnit.generated":135,"./dependenciesAny/dependenciesCross.generated":136,"./dependenciesAny/dependenciesCsc.generated":137,"./dependenciesAny/dependenciesCsch.generated":138,"./dependenciesAny/dependenciesCtranspose.generated":139,"./dependenciesAny/dependenciesCube.generated":140,"./dependenciesAny/dependenciesDeepEqual.generated":141,"./dependenciesAny/dependenciesDenseMatrixClass.generated":142,"./dependenciesAny/dependenciesDeprecatedEval.generated":143,"./dependenciesAny/dependenciesDeprecatedTypeof.generated":144,"./dependenciesAny/dependenciesDeprecatedVar.generated":145,"./dependenciesAny/dependenciesDerivative.generated":146,"./dependenciesAny/dependenciesDet.generated":147,"./dependenciesAny/dependenciesDeuteronMass.generated":148,"./dependenciesAny/dependenciesDiag.generated":149,"./dependenciesAny/dependenciesDistance.generated":150,"./dependenciesAny/dependenciesDivide.generated":151,"./dependenciesAny/dependenciesDivideScalar.generated":152,"./dependenciesAny/dependenciesDot.generated":153,"./dependenciesAny/dependenciesDotDivide.generated":154,"./dependenciesAny/dependenciesDotMultiply.generated":155,"./dependenciesAny/dependenciesDotPow.generated":156,"./dependenciesAny/dependenciesE.generated":157,"./dependenciesAny/dependenciesEfimovFactor.generated":158,"./dependenciesAny/dependenciesEigs.generated":159,"./dependenciesAny/dependenciesElectricConstant.generated":160,"./dependenciesAny/dependenciesElectronMass.generated":161,"./dependenciesAny/dependenciesElementaryCharge.generated":162,"./dependenciesAny/dependenciesEqual.generated":163,"./dependenciesAny/dependenciesEqualScalar.generated":164,"./dependenciesAny/dependenciesEqualText.generated":165,"./dependenciesAny/dependenciesErf.generated":166,"./dependenciesAny/dependenciesEvaluate.generated":167,"./dependenciesAny/dependenciesExp.generated":168,"./dependenciesAny/dependenciesExpm.generated":169,"./dependenciesAny/dependenciesExpm1.generated":170,"./dependenciesAny/dependenciesEye.generated":171,"./dependenciesAny/dependenciesFactorial.generated":172,"./dependenciesAny/dependenciesFalse.generated":173,"./dependenciesAny/dependenciesFaraday.generated":174,"./dependenciesAny/dependenciesFermiCoupling.generated":175,"./dependenciesAny/dependenciesFibonacciHeapClass.generated":176,"./dependenciesAny/dependenciesFilter.generated":177,"./dependenciesAny/dependenciesFilterTransform.generated":178,"./dependenciesAny/dependenciesFineStructure.generated":179,"./dependenciesAny/dependenciesFirstRadiation.generated":180,"./dependenciesAny/dependenciesFix.generated":181,"./dependenciesAny/dependenciesFlatten.generated":182,"./dependenciesAny/dependenciesFloor.generated":183,"./dependenciesAny/dependenciesForEach.generated":184,"./dependenciesAny/dependenciesForEachTransform.generated":185,"./dependenciesAny/dependenciesFormat.generated":186,"./dependenciesAny/dependenciesFraction.generated":187,"./dependenciesAny/dependenciesFractionClass.generated":188,"./dependenciesAny/dependenciesFunctionAssignmentNode.generated":189,"./dependenciesAny/dependenciesFunctionNode.generated":190,"./dependenciesAny/dependenciesGamma.generated":191,"./dependenciesAny/dependenciesGasConstant.generated":192,"./dependenciesAny/dependenciesGcd.generated":193,"./dependenciesAny/dependenciesGetMatrixDataType.generated":194,"./dependenciesAny/dependenciesGravitationConstant.generated":195,"./dependenciesAny/dependenciesGravity.generated":196,"./dependenciesAny/dependenciesHartreeEnergy.generated":197,"./dependenciesAny/dependenciesHasNumericValue.generated":198,"./dependenciesAny/dependenciesHelp.generated":199,"./dependenciesAny/dependenciesHelpClass.generated":200,"./dependenciesAny/dependenciesHypot.generated":201,"./dependenciesAny/dependenciesI.generated":202,"./dependenciesAny/dependenciesIdentity.generated":203,"./dependenciesAny/dependenciesIm.generated":204,"./dependenciesAny/dependenciesImmutableDenseMatrixClass.generated":205,"./dependenciesAny/dependenciesIndex.generated":206,"./dependenciesAny/dependenciesIndexClass.generated":207,"./dependenciesAny/dependenciesIndexNode.generated":208,"./dependenciesAny/dependenciesIndexTransform.generated":209,"./dependenciesAny/dependenciesInfinity.generated":210,"./dependenciesAny/dependenciesIntersect.generated":211,"./dependenciesAny/dependenciesInv.generated":212,"./dependenciesAny/dependenciesInverseConductanceQuantum.generated":213,"./dependenciesAny/dependenciesIsInteger.generated":214,"./dependenciesAny/dependenciesIsNaN.generated":215,"./dependenciesAny/dependenciesIsNegative.generated":216,"./dependenciesAny/dependenciesIsNumeric.generated":217,"./dependenciesAny/dependenciesIsPositive.generated":218,"./dependenciesAny/dependenciesIsPrime.generated":219,"./dependenciesAny/dependenciesIsZero.generated":220,"./dependenciesAny/dependenciesKldivergence.generated":221,"./dependenciesAny/dependenciesKlitzing.generated":222,"./dependenciesAny/dependenciesKron.generated":223,"./dependenciesAny/dependenciesLN10.generated":224,"./dependenciesAny/dependenciesLN2.generated":225,"./dependenciesAny/dependenciesLOG10E.generated":226,"./dependenciesAny/dependenciesLOG2E.generated":227,"./dependenciesAny/dependenciesLarger.generated":228,"./dependenciesAny/dependenciesLargerEq.generated":229,"./dependenciesAny/dependenciesLcm.generated":230,"./dependenciesAny/dependenciesLeftShift.generated":231,"./dependenciesAny/dependenciesLog.generated":232,"./dependenciesAny/dependenciesLog10.generated":233,"./dependenciesAny/dependenciesLog1p.generated":234,"./dependenciesAny/dependenciesLog2.generated":235,"./dependenciesAny/dependenciesLoschmidt.generated":236,"./dependenciesAny/dependenciesLsolve.generated":237,"./dependenciesAny/dependenciesLup.generated":238,"./dependenciesAny/dependenciesLusolve.generated":239,"./dependenciesAny/dependenciesMad.generated":240,"./dependenciesAny/dependenciesMagneticConstant.generated":241,"./dependenciesAny/dependenciesMagneticFluxQuantum.generated":242,"./dependenciesAny/dependenciesMap.generated":243,"./dependenciesAny/dependenciesMapTransform.generated":244,"./dependenciesAny/dependenciesMatrix.generated":245,"./dependenciesAny/dependenciesMatrixClass.generated":246,"./dependenciesAny/dependenciesMax.generated":247,"./dependenciesAny/dependenciesMaxTransform.generated":248,"./dependenciesAny/dependenciesMean.generated":249,"./dependenciesAny/dependenciesMeanTransform.generated":250,"./dependenciesAny/dependenciesMedian.generated":251,"./dependenciesAny/dependenciesMin.generated":252,"./dependenciesAny/dependenciesMinTransform.generated":253,"./dependenciesAny/dependenciesMod.generated":254,"./dependenciesAny/dependenciesMode.generated":255,"./dependenciesAny/dependenciesMolarMass.generated":256,"./dependenciesAny/dependenciesMolarMassC12.generated":257,"./dependenciesAny/dependenciesMolarPlanckConstant.generated":258,"./dependenciesAny/dependenciesMolarVolume.generated":259,"./dependenciesAny/dependenciesMultinomial.generated":260,"./dependenciesAny/dependenciesMultiply.generated":261,"./dependenciesAny/dependenciesMultiplyScalar.generated":262,"./dependenciesAny/dependenciesNaN.generated":263,"./dependenciesAny/dependenciesNeutronMass.generated":264,"./dependenciesAny/dependenciesNode.generated":265,"./dependenciesAny/dependenciesNorm.generated":266,"./dependenciesAny/dependenciesNot.generated":267,"./dependenciesAny/dependenciesNthRoot.generated":268,"./dependenciesAny/dependenciesNthRoots.generated":269,"./dependenciesAny/dependenciesNuclearMagneton.generated":270,"./dependenciesAny/dependenciesNull.generated":271,"./dependenciesAny/dependenciesNumber.generated":272,"./dependenciesAny/dependenciesNumeric.generated":273,"./dependenciesAny/dependenciesObjectNode.generated":274,"./dependenciesAny/dependenciesOnes.generated":275,"./dependenciesAny/dependenciesOperatorNode.generated":276,"./dependenciesAny/dependenciesOr.generated":277,"./dependenciesAny/dependenciesParenthesisNode.generated":278,"./dependenciesAny/dependenciesParse.generated":279,"./dependenciesAny/dependenciesParser.generated":280,"./dependenciesAny/dependenciesParserClass.generated":281,"./dependenciesAny/dependenciesPartitionSelect.generated":282,"./dependenciesAny/dependenciesPermutations.generated":283,"./dependenciesAny/dependenciesPhi.generated":284,"./dependenciesAny/dependenciesPi.generated":285,"./dependenciesAny/dependenciesPickRandom.generated":286,"./dependenciesAny/dependenciesPlanckCharge.generated":287,"./dependenciesAny/dependenciesPlanckConstant.generated":288,"./dependenciesAny/dependenciesPlanckLength.generated":289,"./dependenciesAny/dependenciesPlanckMass.generated":290,"./dependenciesAny/dependenciesPlanckTemperature.generated":291,"./dependenciesAny/dependenciesPlanckTime.generated":292,"./dependenciesAny/dependenciesPow.generated":293,"./dependenciesAny/dependenciesPrint.generated":294,"./dependenciesAny/dependenciesProd.generated":295,"./dependenciesAny/dependenciesProtonMass.generated":296,"./dependenciesAny/dependenciesQr.generated":297,"./dependenciesAny/dependenciesQuantileSeq.generated":298,"./dependenciesAny/dependenciesQuantumOfCirculation.generated":299,"./dependenciesAny/dependenciesRandom.generated":300,"./dependenciesAny/dependenciesRandomInt.generated":301,"./dependenciesAny/dependenciesRange.generated":302,"./dependenciesAny/dependenciesRangeClass.generated":303,"./dependenciesAny/dependenciesRangeNode.generated":304,"./dependenciesAny/dependenciesRangeTransform.generated":305,"./dependenciesAny/dependenciesRationalize.generated":306,"./dependenciesAny/dependenciesRe.generated":307,"./dependenciesAny/dependenciesReducedPlanckConstant.generated":308,"./dependenciesAny/dependenciesRelationalNode.generated":309,"./dependenciesAny/dependenciesReplacer.generated":310,"./dependenciesAny/dependenciesReshape.generated":311,"./dependenciesAny/dependenciesResize.generated":312,"./dependenciesAny/dependenciesResultSet.generated":313,"./dependenciesAny/dependenciesReviver.generated":314,"./dependenciesAny/dependenciesRightArithShift.generated":315,"./dependenciesAny/dependenciesRightLogShift.generated":316,"./dependenciesAny/dependenciesRound.generated":317,"./dependenciesAny/dependenciesRow.generated":318,"./dependenciesAny/dependenciesRowTransform.generated":319,"./dependenciesAny/dependenciesRydberg.generated":320,"./dependenciesAny/dependenciesSQRT1_2.generated":321,"./dependenciesAny/dependenciesSQRT2.generated":322,"./dependenciesAny/dependenciesSackurTetrode.generated":323,"./dependenciesAny/dependenciesSec.generated":324,"./dependenciesAny/dependenciesSech.generated":325,"./dependenciesAny/dependenciesSecondRadiation.generated":326,"./dependenciesAny/dependenciesSetCartesian.generated":327,"./dependenciesAny/dependenciesSetDifference.generated":328,"./dependenciesAny/dependenciesSetDistinct.generated":329,"./dependenciesAny/dependenciesSetIntersect.generated":330,"./dependenciesAny/dependenciesSetIsSubset.generated":331,"./dependenciesAny/dependenciesSetMultiplicity.generated":332,"./dependenciesAny/dependenciesSetPowerset.generated":333,"./dependenciesAny/dependenciesSetSize.generated":334,"./dependenciesAny/dependenciesSetSymDifference.generated":335,"./dependenciesAny/dependenciesSetUnion.generated":336,"./dependenciesAny/dependenciesSign.generated":337,"./dependenciesAny/dependenciesSimplify.generated":338,"./dependenciesAny/dependenciesSin.generated":339,"./dependenciesAny/dependenciesSinh.generated":340,"./dependenciesAny/dependenciesSize.generated":341,"./dependenciesAny/dependenciesSlu.generated":342,"./dependenciesAny/dependenciesSmaller.generated":343,"./dependenciesAny/dependenciesSmallerEq.generated":344,"./dependenciesAny/dependenciesSort.generated":345,"./dependenciesAny/dependenciesSpaClass.generated":346,"./dependenciesAny/dependenciesSparse.generated":347,"./dependenciesAny/dependenciesSparseMatrixClass.generated":348,"./dependenciesAny/dependenciesSpeedOfLight.generated":349,"./dependenciesAny/dependenciesSplitUnit.generated":350,"./dependenciesAny/dependenciesSqrt.generated":351,"./dependenciesAny/dependenciesSqrtm.generated":352,"./dependenciesAny/dependenciesSquare.generated":353,"./dependenciesAny/dependenciesSqueeze.generated":354,"./dependenciesAny/dependenciesStd.generated":355,"./dependenciesAny/dependenciesStdTransform.generated":356,"./dependenciesAny/dependenciesStefanBoltzmann.generated":357,"./dependenciesAny/dependenciesStirlingS2.generated":358,"./dependenciesAny/dependenciesString.generated":359,"./dependenciesAny/dependenciesSubset.generated":360,"./dependenciesAny/dependenciesSubsetTransform.generated":361,"./dependenciesAny/dependenciesSubtract.generated":362,"./dependenciesAny/dependenciesSum.generated":363,"./dependenciesAny/dependenciesSumTransform.generated":364,"./dependenciesAny/dependenciesSymbolNode.generated":365,"./dependenciesAny/dependenciesTan.generated":366,"./dependenciesAny/dependenciesTanh.generated":367,"./dependenciesAny/dependenciesTau.generated":368,"./dependenciesAny/dependenciesThomsonCrossSection.generated":369,"./dependenciesAny/dependenciesTo.generated":370,"./dependenciesAny/dependenciesTrace.generated":371,"./dependenciesAny/dependenciesTranspose.generated":372,"./dependenciesAny/dependenciesTrue.generated":373,"./dependenciesAny/dependenciesTypeOf.generated":374,"./dependenciesAny/dependenciesTyped.generated":375,"./dependenciesAny/dependenciesUnaryMinus.generated":376,"./dependenciesAny/dependenciesUnaryPlus.generated":377,"./dependenciesAny/dependenciesUnequal.generated":378,"./dependenciesAny/dependenciesUnitClass.generated":379,"./dependenciesAny/dependenciesUnitFunction.generated":380,"./dependenciesAny/dependenciesUppercaseE.generated":381,"./dependenciesAny/dependenciesUppercasePi.generated":382,"./dependenciesAny/dependenciesUsolve.generated":383,"./dependenciesAny/dependenciesVacuumImpedance.generated":384,"./dependenciesAny/dependenciesVariance.generated":385,"./dependenciesAny/dependenciesVarianceTransform.generated":386,"./dependenciesAny/dependenciesVersion.generated":387,"./dependenciesAny/dependenciesWeakMixingAngle.generated":388,"./dependenciesAny/dependenciesWienDisplacement.generated":389,"./dependenciesAny/dependenciesXgcd.generated":390,"./dependenciesAny/dependenciesXor.generated":391,"./dependenciesAny/dependenciesZeros.generated":392}],69:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.absDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createAbs:h.createAbs};r.absDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],70:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AccessorNodeDependencies=void 0;var b=n("./dependenciesNode.generated"),h=n("./dependenciesSubset.generated"),m=n("../../factoriesAny.js"),p={NodeDependencies:b.NodeDependencies,subsetDependencies:h.subsetDependencies,createAccessorNode:m.createAccessorNode};r.AccessorNodeDependencies=p},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265,"./dependenciesSubset.generated":360}],71:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acosDependencies=void 0;var b=n("./dependenciesComplexClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={ComplexDependencies:b.ComplexDependencies,typedDependencies:h.typedDependencies,createAcos:m.createAcos};r.acosDependencies=p},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],72:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acoshDependencies=void 0;var b=n("./dependenciesComplexClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={ComplexDependencies:b.ComplexDependencies,typedDependencies:h.typedDependencies,createAcosh:m.createAcosh};r.acoshDependencies=p},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],73:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acotDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,typedDependencies:h.typedDependencies,createAcot:m.createAcot};r.acotDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],74:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acothDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesComplexClass.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={BigNumberDependencies:b.BigNumberDependencies,ComplexDependencies:h.ComplexDependencies,typedDependencies:m.typedDependencies,createAcoth:p.createAcoth};r.acothDependencies=A},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],75:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acscDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesComplexClass.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={BigNumberDependencies:b.BigNumberDependencies,ComplexDependencies:h.ComplexDependencies,typedDependencies:m.typedDependencies,createAcsc:p.createAcsc};r.acscDependencies=A},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],76:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acschDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,typedDependencies:h.typedDependencies,createAcsch:m.createAcsch};r.acschDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],77:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.addDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesSparseMatrixClass.generated"),m=n("./dependenciesAddScalar.generated"),p=n("./dependenciesEqualScalar.generated"),A=n("./dependenciesMatrix.generated"),S=n("./dependenciesTyped.generated"),_=n("../../factoriesAny.js"),l={DenseMatrixDependencies:b.DenseMatrixDependencies,SparseMatrixDependencies:h.SparseMatrixDependencies,addScalarDependencies:m.addScalarDependencies,equalScalarDependencies:p.equalScalarDependencies,matrixDependencies:A.matrixDependencies,typedDependencies:S.typedDependencies,createAdd:_.createAdd};r.addDependencies=l},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesSparseMatrixClass.generated":348,"./dependenciesTyped.generated":375}],78:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.addScalarDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createAddScalar:h.createAddScalar};r.addScalarDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],79:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.andDependencies=void 0;var b=n("./dependenciesEqualScalar.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesNot.generated"),p=n("./dependenciesTyped.generated"),A=n("./dependenciesZeros.generated"),S=n("../../factoriesAny.js"),_={equalScalarDependencies:b.equalScalarDependencies,matrixDependencies:h.matrixDependencies,notDependencies:m.notDependencies,typedDependencies:p.typedDependencies,zerosDependencies:A.zerosDependencies,createAnd:S.createAnd};r.andDependencies=_},{"../../factoriesAny.js":658,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesNot.generated":267,"./dependenciesTyped.generated":375,"./dependenciesZeros.generated":392}],80:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.applyDependencies=void 0;var b=n("./dependenciesIsInteger.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={isIntegerDependencies:b.isIntegerDependencies,typedDependencies:h.typedDependencies,createApply:m.createApply};r.applyDependencies=p},{"../../factoriesAny.js":658,"./dependenciesIsInteger.generated":214,"./dependenciesTyped.generated":375}],81:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.applyTransformDependencies=void 0;var b=n("./dependenciesIsInteger.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={isIntegerDependencies:b.isIntegerDependencies,typedDependencies:h.typedDependencies,createApplyTransform:m.createApplyTransform};r.applyTransformDependencies=p},{"../../factoriesAny.js":658,"./dependenciesIsInteger.generated":214,"./dependenciesTyped.generated":375}],82:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.argDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createArg:h.createArg};r.argDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],83:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ArrayNodeDependencies=void 0;var b=n("./dependenciesNode.generated"),h=n("../../factoriesAny.js"),m={NodeDependencies:b.NodeDependencies,createArrayNode:h.createArrayNode};r.ArrayNodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265}],84:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asecDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesComplexClass.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={BigNumberDependencies:b.BigNumberDependencies,ComplexDependencies:h.ComplexDependencies,typedDependencies:m.typedDependencies,createAsec:p.createAsec};r.asecDependencies=A},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],85:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asechDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesComplexClass.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={BigNumberDependencies:b.BigNumberDependencies,ComplexDependencies:h.ComplexDependencies,typedDependencies:m.typedDependencies,createAsech:p.createAsech};r.asechDependencies=A},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],86:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asinDependencies=void 0;var b=n("./dependenciesComplexClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={ComplexDependencies:b.ComplexDependencies,typedDependencies:h.typedDependencies,createAsin:m.createAsin};r.asinDependencies=p},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],87:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asinhDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createAsinh:h.createAsinh};r.asinhDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],88:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AssignmentNodeDependencies=void 0;var b=n("./dependenciesMatrix.generated"),h=n("./dependenciesNode.generated"),m=n("./dependenciesSubset.generated"),p=n("../../factoriesAny.js"),A={matrixDependencies:b.matrixDependencies,NodeDependencies:h.NodeDependencies,subsetDependencies:m.subsetDependencies,createAssignmentNode:p.createAssignmentNode};r.AssignmentNodeDependencies=A},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesNode.generated":265,"./dependenciesSubset.generated":360}],89:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.atanDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createAtan:h.createAtan};r.atanDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],90:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.atan2Dependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesDenseMatrixClass.generated"),m=n("./dependenciesEqualScalar.generated"),p=n("./dependenciesMatrix.generated"),A=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),_={BigNumberDependencies:b.BigNumberDependencies,DenseMatrixDependencies:h.DenseMatrixDependencies,equalScalarDependencies:m.equalScalarDependencies,matrixDependencies:p.matrixDependencies,typedDependencies:A.typedDependencies,createAtan2:S.createAtan2};r.atan2Dependencies=_},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],91:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.atanhDependencies=void 0;var b=n("./dependenciesComplexClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={ComplexDependencies:b.ComplexDependencies,typedDependencies:h.typedDependencies,createAtanh:m.createAtanh};r.atanhDependencies=p},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],92:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.atomicMassDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createAtomicMass:m.createAtomicMass};r.atomicMassDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],93:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.avogadroDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createAvogadro:m.createAvogadro};r.avogadroDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],94:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bellNumbersDependencies=void 0;var b=n("./dependenciesAddScalar.generated"),h=n("./dependenciesIsInteger.generated"),m=n("./dependenciesIsNegative.generated"),p=n("./dependenciesStirlingS2.generated"),A=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),_={addScalarDependencies:b.addScalarDependencies,isIntegerDependencies:h.isIntegerDependencies,isNegativeDependencies:m.isNegativeDependencies,stirlingS2Dependencies:p.stirlingS2Dependencies,typedDependencies:A.typedDependencies,createBellNumbers:S.createBellNumbers};r.bellNumbersDependencies=_},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesIsInteger.generated":214,"./dependenciesIsNegative.generated":216,"./dependenciesStirlingS2.generated":358,"./dependenciesTyped.generated":375}],95:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BigNumberDependencies=void 0;var b={createBigNumberClass:n("../../factoriesAny.js").createBigNumberClass};r.BigNumberDependencies=b},{"../../factoriesAny.js":658}],96:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bignumberDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,typedDependencies:h.typedDependencies,createBignumber:m.createBignumber};r.bignumberDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],97:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitAndDependencies=void 0;var b=n("./dependenciesEqualScalar.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={equalScalarDependencies:b.equalScalarDependencies,matrixDependencies:h.matrixDependencies,typedDependencies:m.typedDependencies,createBitAnd:p.createBitAnd};r.bitAndDependencies=A},{"../../factoriesAny.js":658,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],98:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitNotDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createBitNot:h.createBitNot};r.bitNotDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],99:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitOrDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={DenseMatrixDependencies:b.DenseMatrixDependencies,equalScalarDependencies:h.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:p.typedDependencies,createBitOr:A.createBitOr};r.bitOrDependencies=S},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],100:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitXorDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={DenseMatrixDependencies:b.DenseMatrixDependencies,matrixDependencies:h.matrixDependencies,typedDependencies:m.typedDependencies,createBitXor:p.createBitXor};r.bitXorDependencies=A},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],101:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BlockNodeDependencies=void 0;var b=n("./dependenciesNode.generated"),h=n("./dependenciesResultSet.generated"),m=n("../../factoriesAny.js"),p={NodeDependencies:b.NodeDependencies,ResultSetDependencies:h.ResultSetDependencies,createBlockNode:m.createBlockNode};r.BlockNodeDependencies=p},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265,"./dependenciesResultSet.generated":313}],102:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bohrMagnetonDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createBohrMagneton:m.createBohrMagneton};r.bohrMagnetonDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],103:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bohrRadiusDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createBohrRadius:m.createBohrRadius};r.bohrRadiusDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],104:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.boltzmannDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createBoltzmann:m.createBoltzmann};r.boltzmannDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],105:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.booleanDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createBoolean:h.createBoolean};r.booleanDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],106:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.catalanDependencies=void 0;var b=n("./dependenciesAddScalar.generated"),h=n("./dependenciesCombinations.generated"),m=n("./dependenciesDivideScalar.generated"),p=n("./dependenciesIsInteger.generated"),A=n("./dependenciesIsNegative.generated"),S=n("./dependenciesMultiplyScalar.generated"),_=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),y={addScalarDependencies:b.addScalarDependencies,combinationsDependencies:h.combinationsDependencies,divideScalarDependencies:m.divideScalarDependencies,isIntegerDependencies:p.isIntegerDependencies,isNegativeDependencies:A.isNegativeDependencies,multiplyScalarDependencies:S.multiplyScalarDependencies,typedDependencies:_.typedDependencies,createCatalan:l.createCatalan};r.catalanDependencies=y},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesCombinations.generated":115,"./dependenciesDivideScalar.generated":152,"./dependenciesIsInteger.generated":214,"./dependenciesIsNegative.generated":216,"./dependenciesMultiplyScalar.generated":262,"./dependenciesTyped.generated":375}],107:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cbrtDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesComplexClass.generated"),m=n("./dependenciesFractionClass.generated"),p=n("./dependenciesIsNegative.generated"),A=n("./dependenciesMatrix.generated"),S=n("./dependenciesTyped.generated"),_=n("./dependenciesUnaryMinus.generated"),l=n("../../factoriesAny.js"),y={BigNumberDependencies:b.BigNumberDependencies,ComplexDependencies:h.ComplexDependencies,FractionDependencies:m.FractionDependencies,isNegativeDependencies:p.isNegativeDependencies,matrixDependencies:A.matrixDependencies,typedDependencies:S.typedDependencies,unaryMinusDependencies:_.unaryMinusDependencies,createCbrt:l.createCbrt};r.cbrtDependencies=y},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplexClass.generated":122,"./dependenciesFractionClass.generated":188,"./dependenciesIsNegative.generated":216,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375,"./dependenciesUnaryMinus.generated":376}],108:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ceilDependencies=void 0;var b=n("./dependenciesRound.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={roundDependencies:b.roundDependencies,typedDependencies:h.typedDependencies,createCeil:m.createCeil};r.ceilDependencies=p},{"../../factoriesAny.js":658,"./dependenciesRound.generated":317,"./dependenciesTyped.generated":375}],109:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.chainDependencies=void 0;var b=n("./dependenciesChainClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={ChainDependencies:b.ChainDependencies,typedDependencies:h.typedDependencies,createChain:m.createChain};r.chainDependencies=p},{"../../factoriesAny.js":658,"./dependenciesChainClass.generated":110,"./dependenciesTyped.generated":375}],110:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ChainDependencies=void 0;var b={createChainClass:n("../../factoriesAny.js").createChainClass};r.ChainDependencies=b},{"../../factoriesAny.js":658}],111:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.classicalElectronRadiusDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createClassicalElectronRadius:m.createClassicalElectronRadius};r.classicalElectronRadiusDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],112:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cloneDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createClone:h.createClone};r.cloneDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],113:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.columnDependencies=void 0;var b=n("./dependenciesIndexClass.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesRange.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={IndexDependencies:b.IndexDependencies,matrixDependencies:h.matrixDependencies,rangeDependencies:m.rangeDependencies,typedDependencies:p.typedDependencies,createColumn:A.createColumn};r.columnDependencies=S},{"../../factoriesAny.js":658,"./dependenciesIndexClass.generated":207,"./dependenciesMatrix.generated":245,"./dependenciesRange.generated":302,"./dependenciesTyped.generated":375}],114:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.columnTransformDependencies=void 0;var b=n("./dependenciesIndexClass.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesRange.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={IndexDependencies:b.IndexDependencies,matrixDependencies:h.matrixDependencies,rangeDependencies:m.rangeDependencies,typedDependencies:p.typedDependencies,createColumnTransform:A.createColumnTransform};r.columnTransformDependencies=S},{"../../factoriesAny.js":658,"./dependenciesIndexClass.generated":207,"./dependenciesMatrix.generated":245,"./dependenciesRange.generated":302,"./dependenciesTyped.generated":375}],115:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.combinationsDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createCombinations:h.createCombinations};r.combinationsDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],116:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.combinationsWithRepDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createCombinationsWithRep:h.createCombinationsWithRep};r.combinationsWithRepDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],117:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compareDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesDenseMatrixClass.generated"),m=n("./dependenciesFractionClass.generated"),p=n("./dependenciesEqualScalar.generated"),A=n("./dependenciesMatrix.generated"),S=n("./dependenciesTyped.generated"),_=n("../../factoriesAny.js"),l={BigNumberDependencies:b.BigNumberDependencies,DenseMatrixDependencies:h.DenseMatrixDependencies,FractionDependencies:m.FractionDependencies,equalScalarDependencies:p.equalScalarDependencies,matrixDependencies:A.matrixDependencies,typedDependencies:S.typedDependencies,createCompare:_.createCompare};r.compareDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesFractionClass.generated":188,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],118:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compareNaturalDependencies=void 0;var b=n("./dependenciesCompare.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={compareDependencies:b.compareDependencies,typedDependencies:h.typedDependencies,createCompareNatural:m.createCompareNatural};r.compareNaturalDependencies=p},{"../../factoriesAny.js":658,"./dependenciesCompare.generated":117,"./dependenciesTyped.generated":375}],119:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compareTextDependencies=void 0;var b=n("./dependenciesMatrix.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={matrixDependencies:b.matrixDependencies,typedDependencies:h.typedDependencies,createCompareText:m.createCompareText};r.compareTextDependencies=p},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],120:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compileDependencies=void 0;var b=n("./dependenciesParse.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={parseDependencies:b.parseDependencies,typedDependencies:h.typedDependencies,createCompile:m.createCompile};r.compileDependencies=p},{"../../factoriesAny.js":658,"./dependenciesParse.generated":279,"./dependenciesTyped.generated":375}],121:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.complexDependencies=void 0;var b=n("./dependenciesComplexClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={ComplexDependencies:b.ComplexDependencies,typedDependencies:h.typedDependencies,createComplex:m.createComplex};r.complexDependencies=p},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],122:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ComplexDependencies=void 0;var b={createComplexClass:n("../../factoriesAny.js").createComplexClass};r.ComplexDependencies=b},{"../../factoriesAny.js":658}],123:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compositionDependencies=void 0;var b=n("./dependenciesAddScalar.generated"),h=n("./dependenciesCombinations.generated"),m=n("./dependenciesIsInteger.generated"),p=n("./dependenciesIsNegative.generated"),A=n("./dependenciesIsPositive.generated"),S=n("./dependenciesLarger.generated"),_=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),y={addScalarDependencies:b.addScalarDependencies,combinationsDependencies:h.combinationsDependencies,isIntegerDependencies:m.isIntegerDependencies,isNegativeDependencies:p.isNegativeDependencies,isPositiveDependencies:A.isPositiveDependencies,largerDependencies:S.largerDependencies,typedDependencies:_.typedDependencies,createComposition:l.createComposition};r.compositionDependencies=y},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesCombinations.generated":115,"./dependenciesIsInteger.generated":214,"./dependenciesIsNegative.generated":216,"./dependenciesIsPositive.generated":218,"./dependenciesLarger.generated":228,"./dependenciesTyped.generated":375}],124:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.concatDependencies=void 0;var b=n("./dependenciesIsInteger.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={isIntegerDependencies:b.isIntegerDependencies,matrixDependencies:h.matrixDependencies,typedDependencies:m.typedDependencies,createConcat:p.createConcat};r.concatDependencies=A},{"../../factoriesAny.js":658,"./dependenciesIsInteger.generated":214,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],125:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.concatTransformDependencies=void 0;var b=n("./dependenciesIsInteger.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={isIntegerDependencies:b.isIntegerDependencies,matrixDependencies:h.matrixDependencies,typedDependencies:m.typedDependencies,createConcatTransform:p.createConcatTransform};r.concatTransformDependencies=A},{"../../factoriesAny.js":658,"./dependenciesIsInteger.generated":214,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],126:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ConditionalNodeDependencies=void 0;var b=n("./dependenciesNode.generated"),h=n("../../factoriesAny.js"),m={NodeDependencies:b.NodeDependencies,createConditionalNode:h.createConditionalNode};r.ConditionalNodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265}],127:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.conductanceQuantumDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createConductanceQuantum:m.createConductanceQuantum};r.conductanceQuantumDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],128:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.conjDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createConj:h.createConj};r.conjDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],129:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ConstantNodeDependencies=void 0;var b=n("./dependenciesNode.generated"),h=n("../../factoriesAny.js"),m={NodeDependencies:b.NodeDependencies,createConstantNode:h.createConstantNode};r.ConstantNodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265}],130:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cosDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createCos:h.createCos};r.cosDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],131:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.coshDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createCosh:h.createCosh};r.coshDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],132:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cotDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,typedDependencies:h.typedDependencies,createCot:m.createCot};r.cotDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],133:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cothDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,typedDependencies:h.typedDependencies,createCoth:m.createCoth};r.cothDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],134:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.coulombDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createCoulomb:m.createCoulomb};r.coulombDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],135:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUnitDependencies=void 0;var b=n("./dependenciesUnitClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={UnitDependencies:b.UnitDependencies,typedDependencies:h.typedDependencies,createCreateUnit:m.createCreateUnit};r.createUnitDependencies=p},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375,"./dependenciesUnitClass.generated":379}],136:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crossDependencies=void 0;var b=n("./dependenciesMatrix.generated"),h=n("./dependenciesMultiply.generated"),m=n("./dependenciesSubtract.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={matrixDependencies:b.matrixDependencies,multiplyDependencies:h.multiplyDependencies,subtractDependencies:m.subtractDependencies,typedDependencies:p.typedDependencies,createCross:A.createCross};r.crossDependencies=S},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],137:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cscDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,typedDependencies:h.typedDependencies,createCsc:m.createCsc};r.cscDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],138:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cschDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,typedDependencies:h.typedDependencies,createCsch:m.createCsch};r.cschDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],139:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ctransposeDependencies=void 0;var b=n("./dependenciesConj.generated"),h=n("./dependenciesTranspose.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={conjDependencies:b.conjDependencies,transposeDependencies:h.transposeDependencies,typedDependencies:m.typedDependencies,createCtranspose:p.createCtranspose};r.ctransposeDependencies=A},{"../../factoriesAny.js":658,"./dependenciesConj.generated":128,"./dependenciesTranspose.generated":372,"./dependenciesTyped.generated":375}],140:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cubeDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createCube:h.createCube};r.cubeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],141:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deepEqualDependencies=void 0;var b=n("./dependenciesEqual.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={equalDependencies:b.equalDependencies,typedDependencies:h.typedDependencies,createDeepEqual:m.createDeepEqual};r.deepEqualDependencies=p},{"../../factoriesAny.js":658,"./dependenciesEqual.generated":163,"./dependenciesTyped.generated":375}],142:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DenseMatrixDependencies=void 0;var b=n("./dependenciesMatrixClass.generated"),h=n("../../factoriesAny.js"),m={MatrixDependencies:b.MatrixDependencies,createDenseMatrixClass:h.createDenseMatrixClass};r.DenseMatrixDependencies=m},{"../../factoriesAny.js":658,"./dependenciesMatrixClass.generated":246}],143:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.evalDependencies=void 0;var b=n("./dependenciesEvaluate.generated"),h=n("../../factoriesAny.js"),m={evaluateDependencies:b.evaluateDependencies,createDeprecatedEval:h.createDeprecatedEval};r.evalDependencies=m},{"../../factoriesAny.js":658,"./dependenciesEvaluate.generated":167}],144:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.typeofDependencies=void 0;var b={createDeprecatedTypeof:n("../../factoriesAny.js").createDeprecatedTypeof};r.typeofDependencies=b},{"../../factoriesAny.js":658}],145:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.varDependencies=void 0;var b=n("./dependenciesVariance.generated"),h=n("../../factoriesAny.js"),m={varianceDependencies:b.varianceDependencies,createDeprecatedVar:h.createDeprecatedVar};r.varDependencies=m},{"../../factoriesAny.js":658,"./dependenciesVariance.generated":385}],146:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.derivativeDependencies=void 0;var b=n("./dependenciesConstantNode.generated"),h=n("./dependenciesFunctionNode.generated"),m=n("./dependenciesOperatorNode.generated"),p=n("./dependenciesParenthesisNode.generated"),A=n("./dependenciesSymbolNode.generated"),S=n("./dependenciesEqual.generated"),_=n("./dependenciesIsZero.generated"),l=n("./dependenciesNumeric.generated"),y=n("./dependenciesParse.generated"),o=n("./dependenciesSimplify.generated"),f=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),g={ConstantNodeDependencies:b.ConstantNodeDependencies,FunctionNodeDependencies:h.FunctionNodeDependencies,OperatorNodeDependencies:m.OperatorNodeDependencies,ParenthesisNodeDependencies:p.ParenthesisNodeDependencies,SymbolNodeDependencies:A.SymbolNodeDependencies,equalDependencies:S.equalDependencies,isZeroDependencies:_.isZeroDependencies,numericDependencies:l.numericDependencies,parseDependencies:y.parseDependencies,simplifyDependencies:o.simplifyDependencies,typedDependencies:f.typedDependencies,createDerivative:x.createDerivative};r.derivativeDependencies=g},{"../../factoriesAny.js":658,"./dependenciesConstantNode.generated":129,"./dependenciesEqual.generated":163,"./dependenciesFunctionNode.generated":190,"./dependenciesIsZero.generated":220,"./dependenciesNumeric.generated":273,"./dependenciesOperatorNode.generated":276,"./dependenciesParenthesisNode.generated":278,"./dependenciesParse.generated":279,"./dependenciesSimplify.generated":338,"./dependenciesSymbolNode.generated":365,"./dependenciesTyped.generated":375}],147:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.detDependencies=void 0;var b=n("./dependenciesLup.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesMultiply.generated"),p=n("./dependenciesSubtract.generated"),A=n("./dependenciesTyped.generated"),S=n("./dependenciesUnaryMinus.generated"),_=n("../../factoriesAny.js"),l={lupDependencies:b.lupDependencies,matrixDependencies:h.matrixDependencies,multiplyDependencies:m.multiplyDependencies,subtractDependencies:p.subtractDependencies,typedDependencies:A.typedDependencies,unaryMinusDependencies:S.unaryMinusDependencies,createDet:_.createDet};r.detDependencies=l},{"../../factoriesAny.js":658,"./dependenciesLup.generated":238,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375,"./dependenciesUnaryMinus.generated":376}],148:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deuteronMassDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createDeuteronMass:m.createDeuteronMass};r.deuteronMassDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],149:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.diagDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesSparseMatrixClass.generated"),m=n("./dependenciesMatrix.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={DenseMatrixDependencies:b.DenseMatrixDependencies,SparseMatrixDependencies:h.SparseMatrixDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:p.typedDependencies,createDiag:A.createDiag};r.diagDependencies=S},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrix.generated":245,"./dependenciesSparseMatrixClass.generated":348,"./dependenciesTyped.generated":375}],150:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.distanceDependencies=void 0;var b=n("./dependenciesAbs.generated"),h=n("./dependenciesAddScalar.generated"),m=n("./dependenciesDivideScalar.generated"),p=n("./dependenciesMultiplyScalar.generated"),A=n("./dependenciesSqrt.generated"),S=n("./dependenciesSubtract.generated"),_=n("./dependenciesTyped.generated"),l=n("./dependenciesUnaryMinus.generated"),y=n("../../factoriesAny.js"),o={absDependencies:b.absDependencies,addScalarDependencies:h.addScalarDependencies,divideScalarDependencies:m.divideScalarDependencies,multiplyScalarDependencies:p.multiplyScalarDependencies,sqrtDependencies:A.sqrtDependencies,subtractDependencies:S.subtractDependencies,typedDependencies:_.typedDependencies,unaryMinusDependencies:l.unaryMinusDependencies,createDistance:y.createDistance};r.distanceDependencies=o},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAddScalar.generated":78,"./dependenciesDivideScalar.generated":152,"./dependenciesMultiplyScalar.generated":262,"./dependenciesSqrt.generated":351,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375,"./dependenciesUnaryMinus.generated":376}],151:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.divideDependencies=void 0;var b=n("./dependenciesDivideScalar.generated"),h=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesInv.generated"),p=n("./dependenciesMatrix.generated"),A=n("./dependenciesMultiply.generated"),S=n("./dependenciesTyped.generated"),_=n("../../factoriesAny.js"),l={divideScalarDependencies:b.divideScalarDependencies,equalScalarDependencies:h.equalScalarDependencies,invDependencies:m.invDependencies,matrixDependencies:p.matrixDependencies,multiplyDependencies:A.multiplyDependencies,typedDependencies:S.typedDependencies,createDivide:_.createDivide};r.divideDependencies=l},{"../../factoriesAny.js":658,"./dependenciesDivideScalar.generated":152,"./dependenciesEqualScalar.generated":164,"./dependenciesInv.generated":212,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesTyped.generated":375}],152:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.divideScalarDependencies=void 0;var b=n("./dependenciesNumeric.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={numericDependencies:b.numericDependencies,typedDependencies:h.typedDependencies,createDivideScalar:m.createDivideScalar};r.divideScalarDependencies=p},{"../../factoriesAny.js":658,"./dependenciesNumeric.generated":273,"./dependenciesTyped.generated":375}],153:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dotDependencies=void 0;var b=n("./dependenciesAdd.generated"),h=n("./dependenciesMultiply.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={addDependencies:b.addDependencies,multiplyDependencies:h.multiplyDependencies,typedDependencies:m.typedDependencies,createDot:p.createDot};r.dotDependencies=A},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesMultiply.generated":261,"./dependenciesTyped.generated":375}],154:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dotDivideDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesDivideScalar.generated"),m=n("./dependenciesEqualScalar.generated"),p=n("./dependenciesMatrix.generated"),A=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),_={DenseMatrixDependencies:b.DenseMatrixDependencies,divideScalarDependencies:h.divideScalarDependencies,equalScalarDependencies:m.equalScalarDependencies,matrixDependencies:p.matrixDependencies,typedDependencies:A.typedDependencies,createDotDivide:S.createDotDivide};r.dotDivideDependencies=_},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesDivideScalar.generated":152,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],155:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dotMultiplyDependencies=void 0;var b=n("./dependenciesEqualScalar.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesMultiplyScalar.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={equalScalarDependencies:b.equalScalarDependencies,matrixDependencies:h.matrixDependencies,multiplyScalarDependencies:m.multiplyScalarDependencies,typedDependencies:p.typedDependencies,createDotMultiply:A.createDotMultiply};r.dotMultiplyDependencies=S},{"../../factoriesAny.js":658,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesMultiplyScalar.generated":262,"./dependenciesTyped.generated":375}],156:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dotPowDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),p=n("./dependenciesPow.generated"),A=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),_={DenseMatrixDependencies:b.DenseMatrixDependencies,equalScalarDependencies:h.equalScalarDependencies,matrixDependencies:m.matrixDependencies,powDependencies:p.powDependencies,typedDependencies:A.typedDependencies,createDotPow:S.createDotPow};r.dotPowDependencies=_},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesPow.generated":293,"./dependenciesTyped.generated":375}],157:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.eDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("../../factoriesAny.js"),m={BigNumberDependencies:b.BigNumberDependencies,createE:h.createE};r.eDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],158:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.efimovFactorDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("../../factoriesAny.js"),m={BigNumberDependencies:b.BigNumberDependencies,createEfimovFactor:h.createEfimovFactor};r.efimovFactorDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],159:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.eigsDependencies=void 0;var b=n("./dependenciesAbs.generated"),h=n("./dependenciesAdd.generated"),m=n("./dependenciesAddScalar.generated"),p=n("./dependenciesAtan.generated"),A=n("./dependenciesBignumber.generated"),S=n("./dependenciesCos.generated"),_=n("./dependenciesEqual.generated"),l=n("./dependenciesInv.generated"),y=n("./dependenciesMatrix.generated"),o=n("./dependenciesMultiply.generated"),f=n("./dependenciesMultiplyScalar.generated"),x=n("./dependenciesSin.generated"),g=n("./dependenciesSubtract.generated"),D=n("./dependenciesTyped.generated"),E=n("../../factoriesAny.js"),C={absDependencies:b.absDependencies,addDependencies:h.addDependencies,addScalarDependencies:m.addScalarDependencies,atanDependencies:p.atanDependencies,bignumberDependencies:A.bignumberDependencies,cosDependencies:S.cosDependencies,equalDependencies:_.equalDependencies,invDependencies:l.invDependencies,matrixDependencies:y.matrixDependencies,multiplyDependencies:o.multiplyDependencies,multiplyScalarDependencies:f.multiplyScalarDependencies,sinDependencies:x.sinDependencies,subtractDependencies:g.subtractDependencies,typedDependencies:D.typedDependencies,createEigs:E.createEigs};r.eigsDependencies=C},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAdd.generated":77,"./dependenciesAddScalar.generated":78,"./dependenciesAtan.generated":89,"./dependenciesBignumber.generated":96,"./dependenciesCos.generated":130,"./dependenciesEqual.generated":163,"./dependenciesInv.generated":212,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesMultiplyScalar.generated":262,"./dependenciesSin.generated":339,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],160:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.electricConstantDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createElectricConstant:m.createElectricConstant};r.electricConstantDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],161:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.electronMassDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createElectronMass:m.createElectronMass};r.electronMassDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],162:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.elementaryChargeDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createElementaryCharge:m.createElementaryCharge};r.elementaryChargeDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],163:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.equalDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={DenseMatrixDependencies:b.DenseMatrixDependencies,equalScalarDependencies:h.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:p.typedDependencies,createEqual:A.createEqual};r.equalDependencies=S},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],164:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.equalScalarDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createEqualScalar:h.createEqualScalar};r.equalScalarDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],165:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.equalTextDependencies=void 0;var b=n("./dependenciesCompareText.generated"),h=n("./dependenciesIsZero.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={compareTextDependencies:b.compareTextDependencies,isZeroDependencies:h.isZeroDependencies,typedDependencies:m.typedDependencies,createEqualText:p.createEqualText};r.equalTextDependencies=A},{"../../factoriesAny.js":658,"./dependenciesCompareText.generated":119,"./dependenciesIsZero.generated":220,"./dependenciesTyped.generated":375}],166:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.erfDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createErf:h.createErf};r.erfDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],167:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.evaluateDependencies=void 0;var b=n("./dependenciesParse.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={parseDependencies:b.parseDependencies,typedDependencies:h.typedDependencies,createEvaluate:m.createEvaluate};r.evaluateDependencies=p},{"../../factoriesAny.js":658,"./dependenciesParse.generated":279,"./dependenciesTyped.generated":375}],168:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createExp:h.createExp};r.expDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],169:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expmDependencies=void 0;var b=n("./dependenciesAbs.generated"),h=n("./dependenciesAdd.generated"),m=n("./dependenciesIdentity.generated"),p=n("./dependenciesInv.generated"),A=n("./dependenciesMultiply.generated"),S=n("./dependenciesTyped.generated"),_=n("../../factoriesAny.js"),l={absDependencies:b.absDependencies,addDependencies:h.addDependencies,identityDependencies:m.identityDependencies,invDependencies:p.invDependencies,multiplyDependencies:A.multiplyDependencies,typedDependencies:S.typedDependencies,createExpm:_.createExpm};r.expmDependencies=l},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAdd.generated":77,"./dependenciesIdentity.generated":203,"./dependenciesInv.generated":212,"./dependenciesMultiply.generated":261,"./dependenciesTyped.generated":375}],170:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expm1Dependencies=void 0;var b=n("./dependenciesComplexClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={ComplexDependencies:b.ComplexDependencies,typedDependencies:h.typedDependencies,createExpm1:m.createExpm1};r.expm1Dependencies=p},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],171:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.eyeDependencies=void 0;var b={createEye:n("../../factoriesAny.js").createEye};r.eyeDependencies=b},{"../../factoriesAny.js":658}],172:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.factorialDependencies=void 0;var b=n("./dependenciesGamma.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={gammaDependencies:b.gammaDependencies,typedDependencies:h.typedDependencies,createFactorial:m.createFactorial};r.factorialDependencies=p},{"../../factoriesAny.js":658,"./dependenciesGamma.generated":191,"./dependenciesTyped.generated":375}],173:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.falseDependencies=void 0;var b={createFalse:n("../../factoriesAny.js").createFalse};r.falseDependencies=b},{"../../factoriesAny.js":658}],174:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.faradayDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createFaraday:m.createFaraday};r.faradayDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],175:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fermiCouplingDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createFermiCoupling:m.createFermiCoupling};r.fermiCouplingDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],176:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.FibonacciHeapDependencies=void 0;var b=n("./dependenciesLarger.generated"),h=n("./dependenciesSmaller.generated"),m=n("../../factoriesAny.js"),p={largerDependencies:b.largerDependencies,smallerDependencies:h.smallerDependencies,createFibonacciHeapClass:m.createFibonacciHeapClass};r.FibonacciHeapDependencies=p},{"../../factoriesAny.js":658,"./dependenciesLarger.generated":228,"./dependenciesSmaller.generated":343}],177:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.filterDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createFilter:h.createFilter};r.filterDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],178:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.filterTransformDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createFilterTransform:h.createFilterTransform};r.filterTransformDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],179:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fineStructureDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("../../factoriesAny.js"),m={BigNumberDependencies:b.BigNumberDependencies,createFineStructure:h.createFineStructure};r.fineStructureDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],180:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.firstRadiationDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createFirstRadiation:m.createFirstRadiation};r.firstRadiationDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],181:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fixDependencies=void 0;var b=n("./dependenciesComplexClass.generated"),h=n("./dependenciesCeil.generated"),m=n("./dependenciesFloor.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={ComplexDependencies:b.ComplexDependencies,ceilDependencies:h.ceilDependencies,floorDependencies:m.floorDependencies,typedDependencies:p.typedDependencies,createFix:A.createFix};r.fixDependencies=S},{"../../factoriesAny.js":658,"./dependenciesCeil.generated":108,"./dependenciesComplexClass.generated":122,"./dependenciesFloor.generated":183,"./dependenciesTyped.generated":375}],182:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.flattenDependencies=void 0;var b=n("./dependenciesMatrix.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={matrixDependencies:b.matrixDependencies,typedDependencies:h.typedDependencies,createFlatten:m.createFlatten};r.flattenDependencies=p},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],183:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.floorDependencies=void 0;var b=n("./dependenciesRound.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={roundDependencies:b.roundDependencies,typedDependencies:h.typedDependencies,createFloor:m.createFloor};r.floorDependencies=p},{"../../factoriesAny.js":658,"./dependenciesRound.generated":317,"./dependenciesTyped.generated":375}],184:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.forEachDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createForEach:h.createForEach};r.forEachDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],185:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.forEachTransformDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createForEachTransform:h.createForEachTransform};r.forEachTransformDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],186:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.formatDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createFormat:h.createFormat};r.formatDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],187:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fractionDependencies=void 0;var b=n("./dependenciesFractionClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={FractionDependencies:b.FractionDependencies,typedDependencies:h.typedDependencies,createFraction:m.createFraction};r.fractionDependencies=p},{"../../factoriesAny.js":658,"./dependenciesFractionClass.generated":188,"./dependenciesTyped.generated":375}],188:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.FractionDependencies=void 0;var b={createFractionClass:n("../../factoriesAny.js").createFractionClass};r.FractionDependencies=b},{"../../factoriesAny.js":658}],189:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.FunctionAssignmentNodeDependencies=void 0;var b=n("./dependenciesNode.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={NodeDependencies:b.NodeDependencies,typedDependencies:h.typedDependencies,createFunctionAssignmentNode:m.createFunctionAssignmentNode};r.FunctionAssignmentNodeDependencies=p},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265,"./dependenciesTyped.generated":375}],190:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.FunctionNodeDependencies=void 0;var b=n("./dependenciesNode.generated"),h=n("./dependenciesSymbolNode.generated"),m=n("../../factoriesAny.js"),p={NodeDependencies:b.NodeDependencies,SymbolNodeDependencies:h.SymbolNodeDependencies,createFunctionNode:m.createFunctionNode};r.FunctionNodeDependencies=p},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265,"./dependenciesSymbolNode.generated":365}],191:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.gammaDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesComplexClass.generated"),m=n("./dependenciesMultiplyScalar.generated"),p=n("./dependenciesPow.generated"),A=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),_={BigNumberDependencies:b.BigNumberDependencies,ComplexDependencies:h.ComplexDependencies,multiplyScalarDependencies:m.multiplyScalarDependencies,powDependencies:p.powDependencies,typedDependencies:A.typedDependencies,createGamma:S.createGamma};r.gammaDependencies=_},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplexClass.generated":122,"./dependenciesMultiplyScalar.generated":262,"./dependenciesPow.generated":293,"./dependenciesTyped.generated":375}],192:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.gasConstantDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createGasConstant:m.createGasConstant};r.gasConstantDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],193:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.gcdDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesDenseMatrixClass.generated"),m=n("./dependenciesEqualScalar.generated"),p=n("./dependenciesMatrix.generated"),A=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),_={BigNumberDependencies:b.BigNumberDependencies,DenseMatrixDependencies:h.DenseMatrixDependencies,equalScalarDependencies:m.equalScalarDependencies,matrixDependencies:p.matrixDependencies,typedDependencies:A.typedDependencies,createGcd:S.createGcd};r.gcdDependencies=_},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],194:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getMatrixDataTypeDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createGetMatrixDataType:h.createGetMatrixDataType};r.getMatrixDataTypeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],195:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.gravitationConstantDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createGravitationConstant:m.createGravitationConstant};r.gravitationConstantDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],196:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.gravityDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createGravity:m.createGravity};r.gravityDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],197:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hartreeEnergyDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createHartreeEnergy:m.createHartreeEnergy};r.hartreeEnergyDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],198:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hasNumericValueDependencies=void 0;var b=n("./dependenciesIsNumeric.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={isNumericDependencies:b.isNumericDependencies,typedDependencies:h.typedDependencies,createHasNumericValue:m.createHasNumericValue};r.hasNumericValueDependencies=p},{"../../factoriesAny.js":658,"./dependenciesIsNumeric.generated":217,"./dependenciesTyped.generated":375}],199:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.helpDependencies=void 0;var b=n("./dependenciesHelpClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={HelpDependencies:b.HelpDependencies,typedDependencies:h.typedDependencies,createHelp:m.createHelp};r.helpDependencies=p},{"../../factoriesAny.js":658,"./dependenciesHelpClass.generated":200,"./dependenciesTyped.generated":375}],200:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.HelpDependencies=void 0;var b=n("./dependenciesParse.generated"),h=n("../../factoriesAny.js"),m={parseDependencies:b.parseDependencies,createHelpClass:h.createHelpClass};r.HelpDependencies=m},{"../../factoriesAny.js":658,"./dependenciesParse.generated":279}],201:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hypotDependencies=void 0;var b=n("./dependenciesAbs.generated"),h=n("./dependenciesAddScalar.generated"),m=n("./dependenciesDivideScalar.generated"),p=n("./dependenciesIsPositive.generated"),A=n("./dependenciesMultiplyScalar.generated"),S=n("./dependenciesSmaller.generated"),_=n("./dependenciesSqrt.generated"),l=n("./dependenciesTyped.generated"),y=n("../../factoriesAny.js"),o={absDependencies:b.absDependencies,addScalarDependencies:h.addScalarDependencies,divideScalarDependencies:m.divideScalarDependencies,isPositiveDependencies:p.isPositiveDependencies,multiplyScalarDependencies:A.multiplyScalarDependencies,smallerDependencies:S.smallerDependencies,sqrtDependencies:_.sqrtDependencies,typedDependencies:l.typedDependencies,createHypot:y.createHypot};r.hypotDependencies=o},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAddScalar.generated":78,"./dependenciesDivideScalar.generated":152,"./dependenciesIsPositive.generated":218,"./dependenciesMultiplyScalar.generated":262,"./dependenciesSmaller.generated":343,"./dependenciesSqrt.generated":351,"./dependenciesTyped.generated":375}],202:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.iDependencies=void 0;var b=n("./dependenciesComplexClass.generated"),h=n("../../factoriesAny.js"),m={ComplexDependencies:b.ComplexDependencies,createI:h.createI};r.iDependencies=m},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122}],203:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.identityDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesDenseMatrixClass.generated"),m=n("./dependenciesSparseMatrixClass.generated"),p=n("./dependenciesMatrix.generated"),A=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),_={BigNumberDependencies:b.BigNumberDependencies,DenseMatrixDependencies:h.DenseMatrixDependencies,SparseMatrixDependencies:m.SparseMatrixDependencies,matrixDependencies:p.matrixDependencies,typedDependencies:A.typedDependencies,createIdentity:S.createIdentity};r.identityDependencies=_},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrix.generated":245,"./dependenciesSparseMatrixClass.generated":348,"./dependenciesTyped.generated":375}],204:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.imDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createIm:h.createIm};r.imDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],205:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ImmutableDenseMatrixDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesSmaller.generated"),m=n("../../factoriesAny.js"),p={DenseMatrixDependencies:b.DenseMatrixDependencies,smallerDependencies:h.smallerDependencies,createImmutableDenseMatrixClass:m.createImmutableDenseMatrixClass};r.ImmutableDenseMatrixDependencies=p},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesSmaller.generated":343}],206:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.indexDependencies=void 0;var b=n("./dependenciesIndexClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={IndexDependencies:b.IndexDependencies,typedDependencies:h.typedDependencies,createIndex:m.createIndex};r.indexDependencies=p},{"../../factoriesAny.js":658,"./dependenciesIndexClass.generated":207,"./dependenciesTyped.generated":375}],207:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.IndexDependencies=void 0;var b=n("./dependenciesImmutableDenseMatrixClass.generated"),h=n("../../factoriesAny.js"),m={ImmutableDenseMatrixDependencies:b.ImmutableDenseMatrixDependencies,createIndexClass:h.createIndexClass};r.IndexDependencies=m},{"../../factoriesAny.js":658,"./dependenciesImmutableDenseMatrixClass.generated":205}],208:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.IndexNodeDependencies=void 0;var b=n("./dependenciesNode.generated"),h=n("./dependenciesRangeClass.generated"),m=n("./dependenciesSize.generated"),p=n("../../factoriesAny.js"),A={NodeDependencies:b.NodeDependencies,RangeDependencies:h.RangeDependencies,sizeDependencies:m.sizeDependencies,createIndexNode:p.createIndexNode};r.IndexNodeDependencies=A},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265,"./dependenciesRangeClass.generated":303,"./dependenciesSize.generated":341}],209:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.indexTransformDependencies=void 0;var b=n("./dependenciesIndexClass.generated"),h=n("../../factoriesAny.js"),m={IndexDependencies:b.IndexDependencies,createIndexTransform:h.createIndexTransform};r.indexTransformDependencies=m},{"../../factoriesAny.js":658,"./dependenciesIndexClass.generated":207}],210:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.InfinityDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("../../factoriesAny.js"),m={BigNumberDependencies:b.BigNumberDependencies,createInfinity:h.createInfinity};r.InfinityDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],211:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.intersectDependencies=void 0;var b=n("./dependenciesAbs.generated"),h=n("./dependenciesAdd.generated"),m=n("./dependenciesAddScalar.generated"),p=n("./dependenciesDivideScalar.generated"),A=n("./dependenciesEqualScalar.generated"),S=n("./dependenciesMatrix.generated"),_=n("./dependenciesMultiply.generated"),l=n("./dependenciesMultiplyScalar.generated"),y=n("./dependenciesSmaller.generated"),o=n("./dependenciesSubtract.generated"),f=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),g={absDependencies:b.absDependencies,addDependencies:h.addDependencies,addScalarDependencies:m.addScalarDependencies,divideScalarDependencies:p.divideScalarDependencies,equalScalarDependencies:A.equalScalarDependencies,matrixDependencies:S.matrixDependencies,multiplyDependencies:_.multiplyDependencies,multiplyScalarDependencies:l.multiplyScalarDependencies,smallerDependencies:y.smallerDependencies,subtractDependencies:o.subtractDependencies,typedDependencies:f.typedDependencies,createIntersect:x.createIntersect};r.intersectDependencies=g},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAdd.generated":77,"./dependenciesAddScalar.generated":78,"./dependenciesDivideScalar.generated":152,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesMultiplyScalar.generated":262,"./dependenciesSmaller.generated":343,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],212:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.invDependencies=void 0;var b=n("./dependenciesAbs.generated"),h=n("./dependenciesAddScalar.generated"),m=n("./dependenciesDet.generated"),p=n("./dependenciesDivideScalar.generated"),A=n("./dependenciesIdentity.generated"),S=n("./dependenciesMatrix.generated"),_=n("./dependenciesMultiply.generated"),l=n("./dependenciesTyped.generated"),y=n("./dependenciesUnaryMinus.generated"),o=n("../../factoriesAny.js"),f={absDependencies:b.absDependencies,addScalarDependencies:h.addScalarDependencies,detDependencies:m.detDependencies,divideScalarDependencies:p.divideScalarDependencies,identityDependencies:A.identityDependencies,matrixDependencies:S.matrixDependencies,multiplyDependencies:_.multiplyDependencies,typedDependencies:l.typedDependencies,unaryMinusDependencies:y.unaryMinusDependencies,createInv:o.createInv};r.invDependencies=f},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAddScalar.generated":78,"./dependenciesDet.generated":147,"./dependenciesDivideScalar.generated":152,"./dependenciesIdentity.generated":203,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesTyped.generated":375,"./dependenciesUnaryMinus.generated":376}],213:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.inverseConductanceQuantumDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createInverseConductanceQuantum:m.createInverseConductanceQuantum};r.inverseConductanceQuantumDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],214:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isIntegerDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createIsInteger:h.createIsInteger};r.isIntegerDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],215:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNaNDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createIsNaN:h.createIsNaN};r.isNaNDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],216:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNegativeDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createIsNegative:h.createIsNegative};r.isNegativeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],217:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNumericDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createIsNumeric:h.createIsNumeric};r.isNumericDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],218:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isPositiveDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createIsPositive:h.createIsPositive};r.isPositiveDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],219:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isPrimeDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createIsPrime:h.createIsPrime};r.isPrimeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],220:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isZeroDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createIsZero:h.createIsZero};r.isZeroDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],221:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.kldivergenceDependencies=void 0;var b=n("./dependenciesDivide.generated"),h=n("./dependenciesDotDivide.generated"),m=n("./dependenciesIsNumeric.generated"),p=n("./dependenciesLog.generated"),A=n("./dependenciesMatrix.generated"),S=n("./dependenciesMultiply.generated"),_=n("./dependenciesSum.generated"),l=n("./dependenciesTyped.generated"),y=n("../../factoriesAny.js"),o={divideDependencies:b.divideDependencies,dotDivideDependencies:h.dotDivideDependencies,isNumericDependencies:m.isNumericDependencies,logDependencies:p.logDependencies,matrixDependencies:A.matrixDependencies,multiplyDependencies:S.multiplyDependencies,sumDependencies:_.sumDependencies,typedDependencies:l.typedDependencies,createKldivergence:y.createKldivergence};r.kldivergenceDependencies=o},{"../../factoriesAny.js":658,"./dependenciesDivide.generated":151,"./dependenciesDotDivide.generated":154,"./dependenciesIsNumeric.generated":217,"./dependenciesLog.generated":232,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesSum.generated":363,"./dependenciesTyped.generated":375}],222:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.klitzingDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createKlitzing:m.createKlitzing};r.klitzingDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],223:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.kronDependencies=void 0;var b=n("./dependenciesMatrix.generated"),h=n("./dependenciesMultiplyScalar.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={matrixDependencies:b.matrixDependencies,multiplyScalarDependencies:h.multiplyScalarDependencies,typedDependencies:m.typedDependencies,createKron:p.createKron};r.kronDependencies=A},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesMultiplyScalar.generated":262,"./dependenciesTyped.generated":375}],224:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LN10Dependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("../../factoriesAny.js"),m={BigNumberDependencies:b.BigNumberDependencies,createLN10:h.createLN10};r.LN10Dependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],225:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LN2Dependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("../../factoriesAny.js"),m={BigNumberDependencies:b.BigNumberDependencies,createLN2:h.createLN2};r.LN2Dependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],226:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LOG10EDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("../../factoriesAny.js"),m={BigNumberDependencies:b.BigNumberDependencies,createLOG10E:h.createLOG10E};r.LOG10EDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],227:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LOG2EDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("../../factoriesAny.js"),m={BigNumberDependencies:b.BigNumberDependencies,createLOG2E:h.createLOG2E};r.LOG2EDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],228:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.largerDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={DenseMatrixDependencies:b.DenseMatrixDependencies,matrixDependencies:h.matrixDependencies,typedDependencies:m.typedDependencies,createLarger:p.createLarger};r.largerDependencies=A},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],229:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.largerEqDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={DenseMatrixDependencies:b.DenseMatrixDependencies,matrixDependencies:h.matrixDependencies,typedDependencies:m.typedDependencies,createLargerEq:p.createLargerEq};r.largerEqDependencies=A},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],230:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lcmDependencies=void 0;var b=n("./dependenciesEqualScalar.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={equalScalarDependencies:b.equalScalarDependencies,matrixDependencies:h.matrixDependencies,typedDependencies:m.typedDependencies,createLcm:p.createLcm};r.lcmDependencies=A},{"../../factoriesAny.js":658,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],231:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.leftShiftDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),p=n("./dependenciesTyped.generated"),A=n("./dependenciesZeros.generated"),S=n("../../factoriesAny.js"),_={DenseMatrixDependencies:b.DenseMatrixDependencies,equalScalarDependencies:h.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:p.typedDependencies,zerosDependencies:A.zerosDependencies,createLeftShift:S.createLeftShift};r.leftShiftDependencies=_},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375,"./dependenciesZeros.generated":392}],232:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.logDependencies=void 0;var b=n("./dependenciesComplexClass.generated"),h=n("./dependenciesDivideScalar.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={ComplexDependencies:b.ComplexDependencies,divideScalarDependencies:h.divideScalarDependencies,typedDependencies:m.typedDependencies,createLog:p.createLog};r.logDependencies=A},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesDivideScalar.generated":152,"./dependenciesTyped.generated":375}],233:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.log10Dependencies=void 0;var b=n("./dependenciesComplexClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={ComplexDependencies:b.ComplexDependencies,typedDependencies:h.typedDependencies,createLog10:m.createLog10};r.log10Dependencies=p},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],234:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.log1pDependencies=void 0;var b=n("./dependenciesComplexClass.generated"),h=n("./dependenciesDivideScalar.generated"),m=n("./dependenciesLog.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={ComplexDependencies:b.ComplexDependencies,divideScalarDependencies:h.divideScalarDependencies,logDependencies:m.logDependencies,typedDependencies:p.typedDependencies,createLog1p:A.createLog1p};r.log1pDependencies=S},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesDivideScalar.generated":152,"./dependenciesLog.generated":232,"./dependenciesTyped.generated":375}],235:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.log2Dependencies=void 0;var b=n("./dependenciesComplexClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={ComplexDependencies:b.ComplexDependencies,typedDependencies:h.typedDependencies,createLog2:m.createLog2};r.log2Dependencies=p},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],236:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.loschmidtDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createLoschmidt:m.createLoschmidt};r.loschmidtDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],237:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lsolveDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesDivideScalar.generated"),m=n("./dependenciesEqualScalar.generated"),p=n("./dependenciesMatrix.generated"),A=n("./dependenciesMultiplyScalar.generated"),S=n("./dependenciesSubtract.generated"),_=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),y={DenseMatrixDependencies:b.DenseMatrixDependencies,divideScalarDependencies:h.divideScalarDependencies,equalScalarDependencies:m.equalScalarDependencies,matrixDependencies:p.matrixDependencies,multiplyScalarDependencies:A.multiplyScalarDependencies,subtractDependencies:S.subtractDependencies,typedDependencies:_.typedDependencies,createLsolve:l.createLsolve};r.lsolveDependencies=y},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesDivideScalar.generated":152,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesMultiplyScalar.generated":262,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],238:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lupDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesSpaClass.generated"),m=n("./dependenciesSparseMatrixClass.generated"),p=n("./dependenciesAbs.generated"),A=n("./dependenciesAddScalar.generated"),S=n("./dependenciesDivideScalar.generated"),_=n("./dependenciesEqualScalar.generated"),l=n("./dependenciesLarger.generated"),y=n("./dependenciesMatrix.generated"),o=n("./dependenciesMultiplyScalar.generated"),f=n("./dependenciesSubtract.generated"),x=n("./dependenciesTyped.generated"),g=n("./dependenciesUnaryMinus.generated"),D=n("../../factoriesAny.js"),E={DenseMatrixDependencies:b.DenseMatrixDependencies,SpaDependencies:h.SpaDependencies,SparseMatrixDependencies:m.SparseMatrixDependencies,absDependencies:p.absDependencies,addScalarDependencies:A.addScalarDependencies,divideScalarDependencies:S.divideScalarDependencies,equalScalarDependencies:_.equalScalarDependencies,largerDependencies:l.largerDependencies,matrixDependencies:y.matrixDependencies,multiplyScalarDependencies:o.multiplyScalarDependencies,subtractDependencies:f.subtractDependencies,typedDependencies:x.typedDependencies,unaryMinusDependencies:g.unaryMinusDependencies,createLup:D.createLup};r.lupDependencies=E},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAddScalar.generated":78,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesDivideScalar.generated":152,"./dependenciesEqualScalar.generated":164,"./dependenciesLarger.generated":228,"./dependenciesMatrix.generated":245,"./dependenciesMultiplyScalar.generated":262,"./dependenciesSpaClass.generated":346,"./dependenciesSparseMatrixClass.generated":348,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375,"./dependenciesUnaryMinus.generated":376}],239:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lusolveDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesLsolve.generated"),m=n("./dependenciesLup.generated"),p=n("./dependenciesMatrix.generated"),A=n("./dependenciesSlu.generated"),S=n("./dependenciesTyped.generated"),_=n("./dependenciesUsolve.generated"),l=n("../../factoriesAny.js"),y={DenseMatrixDependencies:b.DenseMatrixDependencies,lsolveDependencies:h.lsolveDependencies,lupDependencies:m.lupDependencies,matrixDependencies:p.matrixDependencies,sluDependencies:A.sluDependencies,typedDependencies:S.typedDependencies,usolveDependencies:_.usolveDependencies,createLusolve:l.createLusolve};r.lusolveDependencies=y},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesLsolve.generated":237,"./dependenciesLup.generated":238,"./dependenciesMatrix.generated":245,"./dependenciesSlu.generated":342,"./dependenciesTyped.generated":375,"./dependenciesUsolve.generated":383}],240:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.madDependencies=void 0;var b=n("./dependenciesAbs.generated"),h=n("./dependenciesMap.generated"),m=n("./dependenciesMedian.generated"),p=n("./dependenciesSubtract.generated"),A=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),_={absDependencies:b.absDependencies,mapDependencies:h.mapDependencies,medianDependencies:m.medianDependencies,subtractDependencies:p.subtractDependencies,typedDependencies:A.typedDependencies,createMad:S.createMad};r.madDependencies=_},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesMap.generated":243,"./dependenciesMedian.generated":251,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],241:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.magneticConstantDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createMagneticConstant:m.createMagneticConstant};r.magneticConstantDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],242:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.magneticFluxQuantumDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createMagneticFluxQuantum:m.createMagneticFluxQuantum};r.magneticFluxQuantumDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],243:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mapDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createMap:h.createMap};r.mapDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],244:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mapTransformDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createMapTransform:h.createMapTransform};r.mapTransformDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],245:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.matrixDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesMatrixClass.generated"),m=n("./dependenciesSparseMatrixClass.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={DenseMatrixDependencies:b.DenseMatrixDependencies,MatrixDependencies:h.MatrixDependencies,SparseMatrixDependencies:m.SparseMatrixDependencies,typedDependencies:p.typedDependencies,createMatrix:A.createMatrix};r.matrixDependencies=S},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrixClass.generated":246,"./dependenciesSparseMatrixClass.generated":348,"./dependenciesTyped.generated":375}],246:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MatrixDependencies=void 0;var b={createMatrixClass:n("../../factoriesAny.js").createMatrixClass};r.MatrixDependencies=b},{"../../factoriesAny.js":658}],247:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.maxDependencies=void 0;var b=n("./dependenciesLarger.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={largerDependencies:b.largerDependencies,typedDependencies:h.typedDependencies,createMax:m.createMax};r.maxDependencies=p},{"../../factoriesAny.js":658,"./dependenciesLarger.generated":228,"./dependenciesTyped.generated":375}],248:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.maxTransformDependencies=void 0;var b=n("./dependenciesLarger.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={largerDependencies:b.largerDependencies,typedDependencies:h.typedDependencies,createMaxTransform:m.createMaxTransform};r.maxTransformDependencies=p},{"../../factoriesAny.js":658,"./dependenciesLarger.generated":228,"./dependenciesTyped.generated":375}],249:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.meanDependencies=void 0;var b=n("./dependenciesAdd.generated"),h=n("./dependenciesDivide.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={addDependencies:b.addDependencies,divideDependencies:h.divideDependencies,typedDependencies:m.typedDependencies,createMean:p.createMean};r.meanDependencies=A},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesDivide.generated":151,"./dependenciesTyped.generated":375}],250:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.meanTransformDependencies=void 0;var b=n("./dependenciesAdd.generated"),h=n("./dependenciesDivide.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={addDependencies:b.addDependencies,divideDependencies:h.divideDependencies,typedDependencies:m.typedDependencies,createMeanTransform:p.createMeanTransform};r.meanTransformDependencies=A},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesDivide.generated":151,"./dependenciesTyped.generated":375}],251:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.medianDependencies=void 0;var b=n("./dependenciesAdd.generated"),h=n("./dependenciesCompare.generated"),m=n("./dependenciesDivide.generated"),p=n("./dependenciesPartitionSelect.generated"),A=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),_={addDependencies:b.addDependencies,compareDependencies:h.compareDependencies,divideDependencies:m.divideDependencies,partitionSelectDependencies:p.partitionSelectDependencies,typedDependencies:A.typedDependencies,createMedian:S.createMedian};r.medianDependencies=_},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesCompare.generated":117,"./dependenciesDivide.generated":151,"./dependenciesPartitionSelect.generated":282,"./dependenciesTyped.generated":375}],252:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.minDependencies=void 0;var b=n("./dependenciesSmaller.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={smallerDependencies:b.smallerDependencies,typedDependencies:h.typedDependencies,createMin:m.createMin};r.minDependencies=p},{"../../factoriesAny.js":658,"./dependenciesSmaller.generated":343,"./dependenciesTyped.generated":375}],253:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.minTransformDependencies=void 0;var b=n("./dependenciesSmaller.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={smallerDependencies:b.smallerDependencies,typedDependencies:h.typedDependencies,createMinTransform:m.createMinTransform};r.minTransformDependencies=p},{"../../factoriesAny.js":658,"./dependenciesSmaller.generated":343,"./dependenciesTyped.generated":375}],254:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.modDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={DenseMatrixDependencies:b.DenseMatrixDependencies,equalScalarDependencies:h.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:p.typedDependencies,createMod:A.createMod};r.modDependencies=S},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],255:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.modeDependencies=void 0;var b=n("./dependenciesIsNaN.generated"),h=n("./dependenciesIsNumeric.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={isNaNDependencies:b.isNaNDependencies,isNumericDependencies:h.isNumericDependencies,typedDependencies:m.typedDependencies,createMode:p.createMode};r.modeDependencies=A},{"../../factoriesAny.js":658,"./dependenciesIsNaN.generated":215,"./dependenciesIsNumeric.generated":217,"./dependenciesTyped.generated":375}],256:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.molarMassDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createMolarMass:m.createMolarMass};r.molarMassDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],257:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.molarMassC12Dependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createMolarMassC12:m.createMolarMassC12};r.molarMassC12Dependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],258:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.molarPlanckConstantDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createMolarPlanckConstant:m.createMolarPlanckConstant};r.molarPlanckConstantDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],259:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.molarVolumeDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createMolarVolume:m.createMolarVolume};r.molarVolumeDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],260:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.multinomialDependencies=void 0;var b=n("./dependenciesAdd.generated"),h=n("./dependenciesDivide.generated"),m=n("./dependenciesFactorial.generated"),p=n("./dependenciesIsInteger.generated"),A=n("./dependenciesIsPositive.generated"),S=n("./dependenciesMultiply.generated"),_=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),y={addDependencies:b.addDependencies,divideDependencies:h.divideDependencies,factorialDependencies:m.factorialDependencies,isIntegerDependencies:p.isIntegerDependencies,isPositiveDependencies:A.isPositiveDependencies,multiplyDependencies:S.multiplyDependencies,typedDependencies:_.typedDependencies,createMultinomial:l.createMultinomial};r.multinomialDependencies=y},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesDivide.generated":151,"./dependenciesFactorial.generated":172,"./dependenciesIsInteger.generated":214,"./dependenciesIsPositive.generated":218,"./dependenciesMultiply.generated":261,"./dependenciesTyped.generated":375}],261:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.multiplyDependencies=void 0;var b=n("./dependenciesAddScalar.generated"),h=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),p=n("./dependenciesMultiplyScalar.generated"),A=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),_={addScalarDependencies:b.addScalarDependencies,equalScalarDependencies:h.equalScalarDependencies,matrixDependencies:m.matrixDependencies,multiplyScalarDependencies:p.multiplyScalarDependencies,typedDependencies:A.typedDependencies,createMultiply:S.createMultiply};r.multiplyDependencies=_},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesMultiplyScalar.generated":262,"./dependenciesTyped.generated":375}],262:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.multiplyScalarDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createMultiplyScalar:h.createMultiplyScalar};r.multiplyScalarDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],263:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NaNDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("../../factoriesAny.js"),m={BigNumberDependencies:b.BigNumberDependencies,createNaN:h.createNaN};r.NaNDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],264:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.neutronMassDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createNeutronMass:m.createNeutronMass};r.neutronMassDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],265:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NodeDependencies=void 0;var b={createNode:n("../../factoriesAny.js").createNode};r.NodeDependencies=b},{"../../factoriesAny.js":658}],266:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.normDependencies=void 0;var b=n("./dependenciesAbs.generated"),h=n("./dependenciesAdd.generated"),m=n("./dependenciesConj.generated"),p=n("./dependenciesEqualScalar.generated"),A=n("./dependenciesLarger.generated"),S=n("./dependenciesMatrix.generated"),_=n("./dependenciesMultiply.generated"),l=n("./dependenciesPow.generated"),y=n("./dependenciesSmaller.generated"),o=n("./dependenciesSqrt.generated"),f=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),g={absDependencies:b.absDependencies,addDependencies:h.addDependencies,conjDependencies:m.conjDependencies,equalScalarDependencies:p.equalScalarDependencies,largerDependencies:A.largerDependencies,matrixDependencies:S.matrixDependencies,multiplyDependencies:_.multiplyDependencies,powDependencies:l.powDependencies,smallerDependencies:y.smallerDependencies,sqrtDependencies:o.sqrtDependencies,typedDependencies:f.typedDependencies,createNorm:x.createNorm};r.normDependencies=g},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAdd.generated":77,"./dependenciesConj.generated":128,"./dependenciesEqualScalar.generated":164,"./dependenciesLarger.generated":228,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesPow.generated":293,"./dependenciesSmaller.generated":343,"./dependenciesSqrt.generated":351,"./dependenciesTyped.generated":375}],267:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.notDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createNot:h.createNot};r.notDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],268:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nthRootDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={BigNumberDependencies:b.BigNumberDependencies,equalScalarDependencies:h.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:p.typedDependencies,createNthRoot:A.createNthRoot};r.nthRootDependencies=S},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],269:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nthRootsDependencies=void 0;var b=n("./dependenciesComplexClass.generated"),h=n("./dependenciesDivideScalar.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={ComplexDependencies:b.ComplexDependencies,divideScalarDependencies:h.divideScalarDependencies,typedDependencies:m.typedDependencies,createNthRoots:p.createNthRoots};r.nthRootsDependencies=A},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesDivideScalar.generated":152,"./dependenciesTyped.generated":375}],270:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nuclearMagnetonDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createNuclearMagneton:m.createNuclearMagneton};r.nuclearMagnetonDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],271:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nullDependencies=void 0;var b={createNull:n("../../factoriesAny.js").createNull};r.nullDependencies=b},{"../../factoriesAny.js":658}],272:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.numberDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createNumber:h.createNumber};r.numberDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],273:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.numericDependencies=void 0;var b=n("./dependenciesBignumber.generated"),h=n("./dependenciesFraction.generated"),m=n("./dependenciesNumber.generated"),p=n("../../factoriesAny.js"),A={bignumberDependencies:b.bignumberDependencies,fractionDependencies:h.fractionDependencies,numberDependencies:m.numberDependencies,createNumeric:p.createNumeric};r.numericDependencies=A},{"../../factoriesAny.js":658,"./dependenciesBignumber.generated":96,"./dependenciesFraction.generated":187,"./dependenciesNumber.generated":272}],274:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ObjectNodeDependencies=void 0;var b=n("./dependenciesNode.generated"),h=n("../../factoriesAny.js"),m={NodeDependencies:b.NodeDependencies,createObjectNode:h.createObjectNode};r.ObjectNodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265}],275:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.onesDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={BigNumberDependencies:b.BigNumberDependencies,matrixDependencies:h.matrixDependencies,typedDependencies:m.typedDependencies,createOnes:p.createOnes};r.onesDependencies=A},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],276:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.OperatorNodeDependencies=void 0;var b=n("./dependenciesNode.generated"),h=n("../../factoriesAny.js"),m={NodeDependencies:b.NodeDependencies,createOperatorNode:h.createOperatorNode};r.OperatorNodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265}],277:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.orDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={DenseMatrixDependencies:b.DenseMatrixDependencies,equalScalarDependencies:h.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:p.typedDependencies,createOr:A.createOr};r.orDependencies=S},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],278:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ParenthesisNodeDependencies=void 0;var b=n("./dependenciesNode.generated"),h=n("../../factoriesAny.js"),m={NodeDependencies:b.NodeDependencies,createParenthesisNode:h.createParenthesisNode};r.ParenthesisNodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265}],279:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.parseDependencies=void 0;var b=n("./dependenciesAccessorNode.generated"),h=n("./dependenciesArrayNode.generated"),m=n("./dependenciesAssignmentNode.generated"),p=n("./dependenciesBlockNode.generated"),A=n("./dependenciesConditionalNode.generated"),S=n("./dependenciesConstantNode.generated"),_=n("./dependenciesFunctionAssignmentNode.generated"),l=n("./dependenciesFunctionNode.generated"),y=n("./dependenciesIndexNode.generated"),o=n("./dependenciesObjectNode.generated"),f=n("./dependenciesOperatorNode.generated"),x=n("./dependenciesParenthesisNode.generated"),g=n("./dependenciesRangeNode.generated"),D=n("./dependenciesRelationalNode.generated"),E=n("./dependenciesSymbolNode.generated"),C=n("./dependenciesNumeric.generated"),T=n("./dependenciesTyped.generated"),O=n("../../factoriesAny.js"),I={AccessorNodeDependencies:b.AccessorNodeDependencies,ArrayNodeDependencies:h.ArrayNodeDependencies,AssignmentNodeDependencies:m.AssignmentNodeDependencies,BlockNodeDependencies:p.BlockNodeDependencies,ConditionalNodeDependencies:A.ConditionalNodeDependencies,ConstantNodeDependencies:S.ConstantNodeDependencies,FunctionAssignmentNodeDependencies:_.FunctionAssignmentNodeDependencies,FunctionNodeDependencies:l.FunctionNodeDependencies,IndexNodeDependencies:y.IndexNodeDependencies,ObjectNodeDependencies:o.ObjectNodeDependencies,OperatorNodeDependencies:f.OperatorNodeDependencies,ParenthesisNodeDependencies:x.ParenthesisNodeDependencies,RangeNodeDependencies:g.RangeNodeDependencies,RelationalNodeDependencies:D.RelationalNodeDependencies,SymbolNodeDependencies:E.SymbolNodeDependencies,numericDependencies:C.numericDependencies,typedDependencies:T.typedDependencies,createParse:O.createParse};r.parseDependencies=I},{"../../factoriesAny.js":658,"./dependenciesAccessorNode.generated":70,"./dependenciesArrayNode.generated":83,"./dependenciesAssignmentNode.generated":88,"./dependenciesBlockNode.generated":101,"./dependenciesConditionalNode.generated":126,"./dependenciesConstantNode.generated":129,"./dependenciesFunctionAssignmentNode.generated":189,"./dependenciesFunctionNode.generated":190,"./dependenciesIndexNode.generated":208,"./dependenciesNumeric.generated":273,"./dependenciesObjectNode.generated":274,"./dependenciesOperatorNode.generated":276,"./dependenciesParenthesisNode.generated":278,"./dependenciesRangeNode.generated":304,"./dependenciesRelationalNode.generated":309,"./dependenciesSymbolNode.generated":365,"./dependenciesTyped.generated":375}],280:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.parserDependencies=void 0;var b=n("./dependenciesParserClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={ParserDependencies:b.ParserDependencies,typedDependencies:h.typedDependencies,createParser:m.createParser};r.parserDependencies=p},{"../../factoriesAny.js":658,"./dependenciesParserClass.generated":281,"./dependenciesTyped.generated":375}],281:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ParserDependencies=void 0;var b=n("./dependenciesParse.generated"),h=n("../../factoriesAny.js"),m={parseDependencies:b.parseDependencies,createParserClass:h.createParserClass};r.ParserDependencies=m},{"../../factoriesAny.js":658,"./dependenciesParse.generated":279}],282:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.partitionSelectDependencies=void 0;var b=n("./dependenciesCompare.generated"),h=n("./dependenciesIsNaN.generated"),m=n("./dependenciesIsNumeric.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={compareDependencies:b.compareDependencies,isNaNDependencies:h.isNaNDependencies,isNumericDependencies:m.isNumericDependencies,typedDependencies:p.typedDependencies,createPartitionSelect:A.createPartitionSelect};r.partitionSelectDependencies=S},{"../../factoriesAny.js":658,"./dependenciesCompare.generated":117,"./dependenciesIsNaN.generated":215,"./dependenciesIsNumeric.generated":217,"./dependenciesTyped.generated":375}],283:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.permutationsDependencies=void 0;var b=n("./dependenciesFactorial.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={factorialDependencies:b.factorialDependencies,typedDependencies:h.typedDependencies,createPermutations:m.createPermutations};r.permutationsDependencies=p},{"../../factoriesAny.js":658,"./dependenciesFactorial.generated":172,"./dependenciesTyped.generated":375}],284:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.phiDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("../../factoriesAny.js"),m={BigNumberDependencies:b.BigNumberDependencies,createPhi:h.createPhi};r.phiDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],285:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.piDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("../../factoriesAny.js"),m={BigNumberDependencies:b.BigNumberDependencies,createPi:h.createPi};r.piDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],286:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.pickRandomDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createPickRandom:h.createPickRandom};r.pickRandomDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],287:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.planckChargeDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createPlanckCharge:m.createPlanckCharge};r.planckChargeDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],288:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.planckConstantDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createPlanckConstant:m.createPlanckConstant};r.planckConstantDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],289:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.planckLengthDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createPlanckLength:m.createPlanckLength};r.planckLengthDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],290:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.planckMassDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createPlanckMass:m.createPlanckMass};r.planckMassDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],291:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.planckTemperatureDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createPlanckTemperature:m.createPlanckTemperature};r.planckTemperatureDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],292:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.planckTimeDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createPlanckTime:m.createPlanckTime};r.planckTimeDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],293:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.powDependencies=void 0;var b=n("./dependenciesComplexClass.generated"),h=n("./dependenciesFraction.generated"),m=n("./dependenciesIdentity.generated"),p=n("./dependenciesMatrix.generated"),A=n("./dependenciesMultiply.generated"),S=n("./dependenciesNumber.generated"),_=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),y={ComplexDependencies:b.ComplexDependencies,fractionDependencies:h.fractionDependencies,identityDependencies:m.identityDependencies,matrixDependencies:p.matrixDependencies,multiplyDependencies:A.multiplyDependencies,numberDependencies:S.numberDependencies,typedDependencies:_.typedDependencies,createPow:l.createPow};r.powDependencies=y},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesFraction.generated":187,"./dependenciesIdentity.generated":203,"./dependenciesMatrix.generated":245,"./dependenciesMultiply.generated":261,"./dependenciesNumber.generated":272,"./dependenciesTyped.generated":375}],294:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.printDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createPrint:h.createPrint};r.printDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],295:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.prodDependencies=void 0;var b=n("./dependenciesMultiply.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={multiplyDependencies:b.multiplyDependencies,typedDependencies:h.typedDependencies,createProd:m.createProd};r.prodDependencies=p},{"../../factoriesAny.js":658,"./dependenciesMultiply.generated":261,"./dependenciesTyped.generated":375}],296:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.protonMassDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createProtonMass:m.createProtonMass};r.protonMassDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],297:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.qrDependencies=void 0;var b=n("./dependenciesAddScalar.generated"),h=n("./dependenciesComplex.generated"),m=n("./dependenciesConj.generated"),p=n("./dependenciesDivideScalar.generated"),A=n("./dependenciesEqual.generated"),S=n("./dependenciesIdentity.generated"),_=n("./dependenciesIsZero.generated"),l=n("./dependenciesMatrix.generated"),y=n("./dependenciesMultiplyScalar.generated"),o=n("./dependenciesSign.generated"),f=n("./dependenciesSqrt.generated"),x=n("./dependenciesSubtract.generated"),g=n("./dependenciesTyped.generated"),D=n("./dependenciesUnaryMinus.generated"),E=n("./dependenciesZeros.generated"),C=n("../../factoriesAny.js"),T={addScalarDependencies:b.addScalarDependencies,complexDependencies:h.complexDependencies,conjDependencies:m.conjDependencies,divideScalarDependencies:p.divideScalarDependencies,equalDependencies:A.equalDependencies,identityDependencies:S.identityDependencies,isZeroDependencies:_.isZeroDependencies,matrixDependencies:l.matrixDependencies,multiplyScalarDependencies:y.multiplyScalarDependencies,signDependencies:o.signDependencies,sqrtDependencies:f.sqrtDependencies,subtractDependencies:x.subtractDependencies,typedDependencies:g.typedDependencies,unaryMinusDependencies:D.unaryMinusDependencies,zerosDependencies:E.zerosDependencies,createQr:C.createQr};r.qrDependencies=T},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesComplex.generated":121,"./dependenciesConj.generated":128,"./dependenciesDivideScalar.generated":152,"./dependenciesEqual.generated":163,"./dependenciesIdentity.generated":203,"./dependenciesIsZero.generated":220,"./dependenciesMatrix.generated":245,"./dependenciesMultiplyScalar.generated":262,"./dependenciesSign.generated":337,"./dependenciesSqrt.generated":351,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375,"./dependenciesUnaryMinus.generated":376,"./dependenciesZeros.generated":392}],298:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.quantileSeqDependencies=void 0;var b=n("./dependenciesAdd.generated"),h=n("./dependenciesCompare.generated"),m=n("./dependenciesMultiply.generated"),p=n("./dependenciesPartitionSelect.generated"),A=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),_={addDependencies:b.addDependencies,compareDependencies:h.compareDependencies,multiplyDependencies:m.multiplyDependencies,partitionSelectDependencies:p.partitionSelectDependencies,typedDependencies:A.typedDependencies,createQuantileSeq:S.createQuantileSeq};r.quantileSeqDependencies=_},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesCompare.generated":117,"./dependenciesMultiply.generated":261,"./dependenciesPartitionSelect.generated":282,"./dependenciesTyped.generated":375}],299:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.quantumOfCirculationDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createQuantumOfCirculation:m.createQuantumOfCirculation};r.quantumOfCirculationDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],300:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createRandom:h.createRandom};r.randomDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],301:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomIntDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createRandomInt:h.createRandomInt};r.randomIntDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],302:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rangeDependencies=void 0;var b=n("./dependenciesBignumber.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesLarger.generated"),p=n("./dependenciesLargerEq.generated"),A=n("./dependenciesSmaller.generated"),S=n("./dependenciesSmallerEq.generated"),_=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),y={bignumberDependencies:b.bignumberDependencies,matrixDependencies:h.matrixDependencies,largerDependencies:m.largerDependencies,largerEqDependencies:p.largerEqDependencies,smallerDependencies:A.smallerDependencies,smallerEqDependencies:S.smallerEqDependencies,typedDependencies:_.typedDependencies,createRange:l.createRange};r.rangeDependencies=y},{"../../factoriesAny.js":658,"./dependenciesBignumber.generated":96,"./dependenciesLarger.generated":228,"./dependenciesLargerEq.generated":229,"./dependenciesMatrix.generated":245,"./dependenciesSmaller.generated":343,"./dependenciesSmallerEq.generated":344,"./dependenciesTyped.generated":375}],303:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RangeDependencies=void 0;var b={createRangeClass:n("../../factoriesAny.js").createRangeClass};r.RangeDependencies=b},{"../../factoriesAny.js":658}],304:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RangeNodeDependencies=void 0;var b=n("./dependenciesNode.generated"),h=n("../../factoriesAny.js"),m={NodeDependencies:b.NodeDependencies,createRangeNode:h.createRangeNode};r.RangeNodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265}],305:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rangeTransformDependencies=void 0;var b=n("./dependenciesBignumber.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesLarger.generated"),p=n("./dependenciesLargerEq.generated"),A=n("./dependenciesSmaller.generated"),S=n("./dependenciesSmallerEq.generated"),_=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),y={bignumberDependencies:b.bignumberDependencies,matrixDependencies:h.matrixDependencies,largerDependencies:m.largerDependencies,largerEqDependencies:p.largerEqDependencies,smallerDependencies:A.smallerDependencies,smallerEqDependencies:S.smallerEqDependencies,typedDependencies:_.typedDependencies,createRangeTransform:l.createRangeTransform};r.rangeTransformDependencies=y},{"../../factoriesAny.js":658,"./dependenciesBignumber.generated":96,"./dependenciesLarger.generated":228,"./dependenciesLargerEq.generated":229,"./dependenciesMatrix.generated":245,"./dependenciesSmaller.generated":343,"./dependenciesSmallerEq.generated":344,"./dependenciesTyped.generated":375}],306:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rationalizeDependencies=void 0;var b=n("./dependenciesBignumber.generated"),h=n("./dependenciesFraction.generated"),m=n("./dependenciesConstantNode.generated"),p=n("./dependenciesFunctionNode.generated"),A=n("./dependenciesOperatorNode.generated"),S=n("./dependenciesParenthesisNode.generated"),_=n("./dependenciesSymbolNode.generated"),l=n("./dependenciesAdd.generated"),y=n("./dependenciesDivide.generated"),o=n("./dependenciesEqual.generated"),f=n("./dependenciesIsZero.generated"),x=n("./dependenciesMultiply.generated"),g=n("./dependenciesParse.generated"),D=n("./dependenciesPow.generated"),E=n("./dependenciesSimplify.generated"),C=n("./dependenciesSubtract.generated"),T=n("./dependenciesTyped.generated"),O=n("../../factoriesAny.js"),I={bignumberDependencies:b.bignumberDependencies,fractionDependencies:h.fractionDependencies,ConstantNodeDependencies:m.ConstantNodeDependencies,FunctionNodeDependencies:p.FunctionNodeDependencies,OperatorNodeDependencies:A.OperatorNodeDependencies,ParenthesisNodeDependencies:S.ParenthesisNodeDependencies,SymbolNodeDependencies:_.SymbolNodeDependencies,addDependencies:l.addDependencies,divideDependencies:y.divideDependencies,equalDependencies:o.equalDependencies,isZeroDependencies:f.isZeroDependencies,multiplyDependencies:x.multiplyDependencies,parseDependencies:g.parseDependencies,powDependencies:D.powDependencies,simplifyDependencies:E.simplifyDependencies,subtractDependencies:C.subtractDependencies,typedDependencies:T.typedDependencies,createRationalize:O.createRationalize};r.rationalizeDependencies=I},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesBignumber.generated":96,"./dependenciesConstantNode.generated":129,"./dependenciesDivide.generated":151,"./dependenciesEqual.generated":163,"./dependenciesFraction.generated":187,"./dependenciesFunctionNode.generated":190,"./dependenciesIsZero.generated":220,"./dependenciesMultiply.generated":261,"./dependenciesOperatorNode.generated":276,"./dependenciesParenthesisNode.generated":278,"./dependenciesParse.generated":279,"./dependenciesPow.generated":293,"./dependenciesSimplify.generated":338,"./dependenciesSubtract.generated":362,"./dependenciesSymbolNode.generated":365,"./dependenciesTyped.generated":375}],307:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createRe:h.createRe};r.reDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],308:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reducedPlanckConstantDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createReducedPlanckConstant:m.createReducedPlanckConstant};r.reducedPlanckConstantDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],309:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.RelationalNodeDependencies=void 0;var b=n("./dependenciesNode.generated"),h=n("../../factoriesAny.js"),m={NodeDependencies:b.NodeDependencies,createRelationalNode:h.createRelationalNode};r.RelationalNodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265}],310:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.replacerDependencies=void 0;var b={createReplacer:n("../../factoriesAny.js").createReplacer};r.replacerDependencies=b},{"../../factoriesAny.js":658}],311:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reshapeDependencies=void 0;var b=n("./dependenciesIsInteger.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={isIntegerDependencies:b.isIntegerDependencies,matrixDependencies:h.matrixDependencies,typedDependencies:m.typedDependencies,createReshape:p.createReshape};r.reshapeDependencies=A},{"../../factoriesAny.js":658,"./dependenciesIsInteger.generated":214,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],312:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.resizeDependencies=void 0;var b=n("./dependenciesMatrix.generated"),h=n("../../factoriesAny.js"),m={matrixDependencies:b.matrixDependencies,createResize:h.createResize};r.resizeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245}],313:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ResultSetDependencies=void 0;var b={createResultSet:n("../../factoriesAny.js").createResultSet};r.ResultSetDependencies=b},{"../../factoriesAny.js":658}],314:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reviverDependencies=void 0;var b={createReviver:n("../../factoriesAny.js").createReviver};r.reviverDependencies=b},{"../../factoriesAny.js":658}],315:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rightArithShiftDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),p=n("./dependenciesTyped.generated"),A=n("./dependenciesZeros.generated"),S=n("../../factoriesAny.js"),_={DenseMatrixDependencies:b.DenseMatrixDependencies,equalScalarDependencies:h.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:p.typedDependencies,zerosDependencies:A.zerosDependencies,createRightArithShift:S.createRightArithShift};r.rightArithShiftDependencies=_},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375,"./dependenciesZeros.generated":392}],316:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rightLogShiftDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),p=n("./dependenciesTyped.generated"),A=n("./dependenciesZeros.generated"),S=n("../../factoriesAny.js"),_={DenseMatrixDependencies:b.DenseMatrixDependencies,equalScalarDependencies:h.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:p.typedDependencies,zerosDependencies:A.zerosDependencies,createRightLogShift:S.createRightLogShift};r.rightLogShiftDependencies=_},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375,"./dependenciesZeros.generated":392}],317:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.roundDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesDenseMatrixClass.generated"),m=n("./dependenciesEqualScalar.generated"),p=n("./dependenciesMatrix.generated"),A=n("./dependenciesTyped.generated"),S=n("./dependenciesZeros.generated"),_=n("../../factoriesAny.js"),l={BigNumberDependencies:b.BigNumberDependencies,DenseMatrixDependencies:h.DenseMatrixDependencies,equalScalarDependencies:m.equalScalarDependencies,matrixDependencies:p.matrixDependencies,typedDependencies:A.typedDependencies,zerosDependencies:S.zerosDependencies,createRound:_.createRound};r.roundDependencies=l},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375,"./dependenciesZeros.generated":392}],318:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rowDependencies=void 0;var b=n("./dependenciesIndexClass.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesRange.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={IndexDependencies:b.IndexDependencies,matrixDependencies:h.matrixDependencies,rangeDependencies:m.rangeDependencies,typedDependencies:p.typedDependencies,createRow:A.createRow};r.rowDependencies=S},{"../../factoriesAny.js":658,"./dependenciesIndexClass.generated":207,"./dependenciesMatrix.generated":245,"./dependenciesRange.generated":302,"./dependenciesTyped.generated":375}],319:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rowTransformDependencies=void 0;var b=n("./dependenciesIndexClass.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesRange.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={IndexDependencies:b.IndexDependencies,matrixDependencies:h.matrixDependencies,rangeDependencies:m.rangeDependencies,typedDependencies:p.typedDependencies,createRowTransform:A.createRowTransform};r.rowTransformDependencies=S},{"../../factoriesAny.js":658,"./dependenciesIndexClass.generated":207,"./dependenciesMatrix.generated":245,"./dependenciesRange.generated":302,"./dependenciesTyped.generated":375}],320:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rydbergDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createRydberg:m.createRydberg};r.rydbergDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],321:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SQRT1_2Dependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("../../factoriesAny.js"),m={BigNumberDependencies:b.BigNumberDependencies,createSQRT1_2:h.createSQRT1_2};r.SQRT1_2Dependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],322:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SQRT2Dependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("../../factoriesAny.js"),m={BigNumberDependencies:b.BigNumberDependencies,createSQRT2:h.createSQRT2};r.SQRT2Dependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],323:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sackurTetrodeDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("../../factoriesAny.js"),m={BigNumberDependencies:b.BigNumberDependencies,createSackurTetrode:h.createSackurTetrode};r.sackurTetrodeDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],324:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.secDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,typedDependencies:h.typedDependencies,createSec:m.createSec};r.secDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],325:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sechDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,typedDependencies:h.typedDependencies,createSech:m.createSech};r.sechDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],326:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.secondRadiationDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createSecondRadiation:m.createSecondRadiation};r.secondRadiationDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],327:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setCartesianDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesIndexClass.generated"),m=n("./dependenciesCompareNatural.generated"),p=n("./dependenciesSize.generated"),A=n("./dependenciesSubset.generated"),S=n("./dependenciesTyped.generated"),_=n("../../factoriesAny.js"),l={DenseMatrixDependencies:b.DenseMatrixDependencies,IndexDependencies:h.IndexDependencies,compareNaturalDependencies:m.compareNaturalDependencies,sizeDependencies:p.sizeDependencies,subsetDependencies:A.subsetDependencies,typedDependencies:S.typedDependencies,createSetCartesian:_.createSetCartesian};r.setCartesianDependencies=l},{"../../factoriesAny.js":658,"./dependenciesCompareNatural.generated":118,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesIndexClass.generated":207,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],328:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setDifferenceDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesIndexClass.generated"),m=n("./dependenciesCompareNatural.generated"),p=n("./dependenciesSize.generated"),A=n("./dependenciesSubset.generated"),S=n("./dependenciesTyped.generated"),_=n("../../factoriesAny.js"),l={DenseMatrixDependencies:b.DenseMatrixDependencies,IndexDependencies:h.IndexDependencies,compareNaturalDependencies:m.compareNaturalDependencies,sizeDependencies:p.sizeDependencies,subsetDependencies:A.subsetDependencies,typedDependencies:S.typedDependencies,createSetDifference:_.createSetDifference};r.setDifferenceDependencies=l},{"../../factoriesAny.js":658,"./dependenciesCompareNatural.generated":118,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesIndexClass.generated":207,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],329:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setDistinctDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesIndexClass.generated"),m=n("./dependenciesCompareNatural.generated"),p=n("./dependenciesSize.generated"),A=n("./dependenciesSubset.generated"),S=n("./dependenciesTyped.generated"),_=n("../../factoriesAny.js"),l={DenseMatrixDependencies:b.DenseMatrixDependencies,IndexDependencies:h.IndexDependencies,compareNaturalDependencies:m.compareNaturalDependencies,sizeDependencies:p.sizeDependencies,subsetDependencies:A.subsetDependencies,typedDependencies:S.typedDependencies,createSetDistinct:_.createSetDistinct};r.setDistinctDependencies=l},{"../../factoriesAny.js":658,"./dependenciesCompareNatural.generated":118,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesIndexClass.generated":207,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],330:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setIntersectDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesIndexClass.generated"),m=n("./dependenciesCompareNatural.generated"),p=n("./dependenciesSize.generated"),A=n("./dependenciesSubset.generated"),S=n("./dependenciesTyped.generated"),_=n("../../factoriesAny.js"),l={DenseMatrixDependencies:b.DenseMatrixDependencies,IndexDependencies:h.IndexDependencies,compareNaturalDependencies:m.compareNaturalDependencies,sizeDependencies:p.sizeDependencies,subsetDependencies:A.subsetDependencies,typedDependencies:S.typedDependencies,createSetIntersect:_.createSetIntersect};r.setIntersectDependencies=l},{"../../factoriesAny.js":658,"./dependenciesCompareNatural.generated":118,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesIndexClass.generated":207,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],331:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setIsSubsetDependencies=void 0;var b=n("./dependenciesIndexClass.generated"),h=n("./dependenciesCompareNatural.generated"),m=n("./dependenciesSize.generated"),p=n("./dependenciesSubset.generated"),A=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),_={IndexDependencies:b.IndexDependencies,compareNaturalDependencies:h.compareNaturalDependencies,sizeDependencies:m.sizeDependencies,subsetDependencies:p.subsetDependencies,typedDependencies:A.typedDependencies,createSetIsSubset:S.createSetIsSubset};r.setIsSubsetDependencies=_},{"../../factoriesAny.js":658,"./dependenciesCompareNatural.generated":118,"./dependenciesIndexClass.generated":207,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],332:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setMultiplicityDependencies=void 0;var b=n("./dependenciesIndexClass.generated"),h=n("./dependenciesCompareNatural.generated"),m=n("./dependenciesSize.generated"),p=n("./dependenciesSubset.generated"),A=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),_={IndexDependencies:b.IndexDependencies,compareNaturalDependencies:h.compareNaturalDependencies,sizeDependencies:m.sizeDependencies,subsetDependencies:p.subsetDependencies,typedDependencies:A.typedDependencies,createSetMultiplicity:S.createSetMultiplicity};r.setMultiplicityDependencies=_},{"../../factoriesAny.js":658,"./dependenciesCompareNatural.generated":118,"./dependenciesIndexClass.generated":207,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],333:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setPowersetDependencies=void 0;var b=n("./dependenciesIndexClass.generated"),h=n("./dependenciesCompareNatural.generated"),m=n("./dependenciesSize.generated"),p=n("./dependenciesSubset.generated"),A=n("./dependenciesTyped.generated"),S=n("../../factoriesAny.js"),_={IndexDependencies:b.IndexDependencies,compareNaturalDependencies:h.compareNaturalDependencies,sizeDependencies:m.sizeDependencies,subsetDependencies:p.subsetDependencies,typedDependencies:A.typedDependencies,createSetPowerset:S.createSetPowerset};r.setPowersetDependencies=_},{"../../factoriesAny.js":658,"./dependenciesCompareNatural.generated":118,"./dependenciesIndexClass.generated":207,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],334:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setSizeDependencies=void 0;var b=n("./dependenciesCompareNatural.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={compareNaturalDependencies:b.compareNaturalDependencies,typedDependencies:h.typedDependencies,createSetSize:m.createSetSize};r.setSizeDependencies=p},{"../../factoriesAny.js":658,"./dependenciesCompareNatural.generated":118,"./dependenciesTyped.generated":375}],335:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setSymDifferenceDependencies=void 0;var b=n("./dependenciesIndexClass.generated"),h=n("./dependenciesConcat.generated"),m=n("./dependenciesSetDifference.generated"),p=n("./dependenciesSize.generated"),A=n("./dependenciesSubset.generated"),S=n("./dependenciesTyped.generated"),_=n("../../factoriesAny.js"),l={IndexDependencies:b.IndexDependencies,concatDependencies:h.concatDependencies,setDifferenceDependencies:m.setDifferenceDependencies,sizeDependencies:p.sizeDependencies,subsetDependencies:A.subsetDependencies,typedDependencies:S.typedDependencies,createSetSymDifference:_.createSetSymDifference};r.setSymDifferenceDependencies=l},{"../../factoriesAny.js":658,"./dependenciesConcat.generated":124,"./dependenciesIndexClass.generated":207,"./dependenciesSetDifference.generated":328,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],336:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setUnionDependencies=void 0;var b=n("./dependenciesIndexClass.generated"),h=n("./dependenciesConcat.generated"),m=n("./dependenciesSetIntersect.generated"),p=n("./dependenciesSetSymDifference.generated"),A=n("./dependenciesSize.generated"),S=n("./dependenciesSubset.generated"),_=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),y={IndexDependencies:b.IndexDependencies,concatDependencies:h.concatDependencies,setIntersectDependencies:m.setIntersectDependencies,setSymDifferenceDependencies:p.setSymDifferenceDependencies,sizeDependencies:A.sizeDependencies,subsetDependencies:S.subsetDependencies,typedDependencies:_.typedDependencies,createSetUnion:l.createSetUnion};r.setUnionDependencies=y},{"../../factoriesAny.js":658,"./dependenciesConcat.generated":124,"./dependenciesIndexClass.generated":207,"./dependenciesSetIntersect.generated":330,"./dependenciesSetSymDifference.generated":335,"./dependenciesSize.generated":341,"./dependenciesSubset.generated":360,"./dependenciesTyped.generated":375}],337:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.signDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesFractionClass.generated"),m=n("./dependenciesComplex.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={BigNumberDependencies:b.BigNumberDependencies,FractionDependencies:h.FractionDependencies,complexDependencies:m.complexDependencies,typedDependencies:p.typedDependencies,createSign:A.createSign};r.signDependencies=S},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplex.generated":121,"./dependenciesFractionClass.generated":188,"./dependenciesTyped.generated":375}],338:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.simplifyDependencies=void 0;var b=n("./dependenciesBignumber.generated"),h=n("./dependenciesFraction.generated"),m=n("./dependenciesConstantNode.generated"),p=n("./dependenciesFunctionNode.generated"),A=n("./dependenciesOperatorNode.generated"),S=n("./dependenciesParenthesisNode.generated"),_=n("./dependenciesSymbolNode.generated"),l=n("./dependenciesAdd.generated"),y=n("./dependenciesDivide.generated"),o=n("./dependenciesEqual.generated"),f=n("./dependenciesIsZero.generated"),x=n("./dependenciesMultiply.generated"),g=n("./dependenciesParse.generated"),D=n("./dependenciesPow.generated"),E=n("./dependenciesSubtract.generated"),C=n("./dependenciesTyped.generated"),T=n("../../factoriesAny.js"),O={bignumberDependencies:b.bignumberDependencies,fractionDependencies:h.fractionDependencies,ConstantNodeDependencies:m.ConstantNodeDependencies,FunctionNodeDependencies:p.FunctionNodeDependencies,OperatorNodeDependencies:A.OperatorNodeDependencies,ParenthesisNodeDependencies:S.ParenthesisNodeDependencies,SymbolNodeDependencies:_.SymbolNodeDependencies,addDependencies:l.addDependencies,divideDependencies:y.divideDependencies,equalDependencies:o.equalDependencies,isZeroDependencies:f.isZeroDependencies,multiplyDependencies:x.multiplyDependencies,parseDependencies:g.parseDependencies,powDependencies:D.powDependencies,subtractDependencies:E.subtractDependencies,typedDependencies:C.typedDependencies,createSimplify:T.createSimplify};r.simplifyDependencies=O},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesBignumber.generated":96,"./dependenciesConstantNode.generated":129,"./dependenciesDivide.generated":151,"./dependenciesEqual.generated":163,"./dependenciesFraction.generated":187,"./dependenciesFunctionNode.generated":190,"./dependenciesIsZero.generated":220,"./dependenciesMultiply.generated":261,"./dependenciesOperatorNode.generated":276,"./dependenciesParenthesisNode.generated":278,"./dependenciesParse.generated":279,"./dependenciesPow.generated":293,"./dependenciesSubtract.generated":362,"./dependenciesSymbolNode.generated":365,"./dependenciesTyped.generated":375}],339:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sinDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createSin:h.createSin};r.sinDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],340:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sinhDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createSinh:h.createSinh};r.sinhDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],341:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sizeDependencies=void 0;var b=n("./dependenciesMatrix.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={matrixDependencies:b.matrixDependencies,typedDependencies:h.typedDependencies,createSize:m.createSize};r.sizeDependencies=p},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],342:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sluDependencies=void 0;var b=n("./dependenciesSparseMatrixClass.generated"),h=n("./dependenciesAbs.generated"),m=n("./dependenciesAdd.generated"),p=n("./dependenciesDivideScalar.generated"),A=n("./dependenciesLarger.generated"),S=n("./dependenciesLargerEq.generated"),_=n("./dependenciesMultiply.generated"),l=n("./dependenciesSubtract.generated"),y=n("./dependenciesTranspose.generated"),o=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),x={SparseMatrixDependencies:b.SparseMatrixDependencies,absDependencies:h.absDependencies,addDependencies:m.addDependencies,divideScalarDependencies:p.divideScalarDependencies,largerDependencies:A.largerDependencies,largerEqDependencies:S.largerEqDependencies,multiplyDependencies:_.multiplyDependencies,subtractDependencies:l.subtractDependencies,transposeDependencies:y.transposeDependencies,typedDependencies:o.typedDependencies,createSlu:f.createSlu};r.sluDependencies=x},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAdd.generated":77,"./dependenciesDivideScalar.generated":152,"./dependenciesLarger.generated":228,"./dependenciesLargerEq.generated":229,"./dependenciesMultiply.generated":261,"./dependenciesSparseMatrixClass.generated":348,"./dependenciesSubtract.generated":362,"./dependenciesTranspose.generated":372,"./dependenciesTyped.generated":375}],343:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.smallerDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={DenseMatrixDependencies:b.DenseMatrixDependencies,matrixDependencies:h.matrixDependencies,typedDependencies:m.typedDependencies,createSmaller:p.createSmaller};r.smallerDependencies=A},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],344:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.smallerEqDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={DenseMatrixDependencies:b.DenseMatrixDependencies,matrixDependencies:h.matrixDependencies,typedDependencies:m.typedDependencies,createSmallerEq:p.createSmallerEq};r.smallerEqDependencies=A},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],345:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sortDependencies=void 0;var b=n("./dependenciesCompare.generated"),h=n("./dependenciesCompareNatural.generated"),m=n("./dependenciesMatrix.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={compareDependencies:b.compareDependencies,compareNaturalDependencies:h.compareNaturalDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:p.typedDependencies,createSort:A.createSort};r.sortDependencies=S},{"../../factoriesAny.js":658,"./dependenciesCompare.generated":117,"./dependenciesCompareNatural.generated":118,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],346:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SpaDependencies=void 0;var b=n("./dependenciesFibonacciHeapClass.generated"),h=n("./dependenciesAddScalar.generated"),m=n("./dependenciesEqualScalar.generated"),p=n("../../factoriesAny.js"),A={FibonacciHeapDependencies:b.FibonacciHeapDependencies,addScalarDependencies:h.addScalarDependencies,equalScalarDependencies:m.equalScalarDependencies,createSpaClass:p.createSpaClass};r.SpaDependencies=A},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesEqualScalar.generated":164,"./dependenciesFibonacciHeapClass.generated":176}],347:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sparseDependencies=void 0;var b=n("./dependenciesSparseMatrixClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={SparseMatrixDependencies:b.SparseMatrixDependencies,typedDependencies:h.typedDependencies,createSparse:m.createSparse};r.sparseDependencies=p},{"../../factoriesAny.js":658,"./dependenciesSparseMatrixClass.generated":348,"./dependenciesTyped.generated":375}],348:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SparseMatrixDependencies=void 0;var b=n("./dependenciesMatrixClass.generated"),h=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={MatrixDependencies:b.MatrixDependencies,equalScalarDependencies:h.equalScalarDependencies,typedDependencies:m.typedDependencies,createSparseMatrixClass:p.createSparseMatrixClass};r.SparseMatrixDependencies=A},{"../../factoriesAny.js":658,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrixClass.generated":246,"./dependenciesTyped.generated":375}],349:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.speedOfLightDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createSpeedOfLight:m.createSpeedOfLight};r.speedOfLightDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],350:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.splitUnitDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createSplitUnit:h.createSplitUnit};r.splitUnitDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],351:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sqrtDependencies=void 0;var b=n("./dependenciesComplexClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={ComplexDependencies:b.ComplexDependencies,typedDependencies:h.typedDependencies,createSqrt:m.createSqrt};r.sqrtDependencies=p},{"../../factoriesAny.js":658,"./dependenciesComplexClass.generated":122,"./dependenciesTyped.generated":375}],352:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sqrtmDependencies=void 0;var b=n("./dependenciesAbs.generated"),h=n("./dependenciesAdd.generated"),m=n("./dependenciesIdentity.generated"),p=n("./dependenciesInv.generated"),A=n("./dependenciesMax.generated"),S=n("./dependenciesMultiply.generated"),_=n("./dependenciesSize.generated"),l=n("./dependenciesSqrt.generated"),y=n("./dependenciesSubtract.generated"),o=n("./dependenciesTyped.generated"),f=n("../../factoriesAny.js"),x={absDependencies:b.absDependencies,addDependencies:h.addDependencies,identityDependencies:m.identityDependencies,invDependencies:p.invDependencies,maxDependencies:A.maxDependencies,multiplyDependencies:S.multiplyDependencies,sizeDependencies:_.sizeDependencies,sqrtDependencies:l.sqrtDependencies,subtractDependencies:y.subtractDependencies,typedDependencies:o.typedDependencies,createSqrtm:f.createSqrtm};r.sqrtmDependencies=x},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAdd.generated":77,"./dependenciesIdentity.generated":203,"./dependenciesInv.generated":212,"./dependenciesMax.generated":247,"./dependenciesMultiply.generated":261,"./dependenciesSize.generated":341,"./dependenciesSqrt.generated":351,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],353:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.squareDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createSquare:h.createSquare};r.squareDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],354:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.squeezeDependencies=void 0;var b=n("./dependenciesMatrix.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={matrixDependencies:b.matrixDependencies,typedDependencies:h.typedDependencies,createSqueeze:m.createSqueeze};r.squeezeDependencies=p},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],355:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stdDependencies=void 0;var b=n("./dependenciesSqrt.generated"),h=n("./dependenciesTyped.generated"),m=n("./dependenciesVariance.generated"),p=n("../../factoriesAny.js"),A={sqrtDependencies:b.sqrtDependencies,typedDependencies:h.typedDependencies,varianceDependencies:m.varianceDependencies,createStd:p.createStd};r.stdDependencies=A},{"../../factoriesAny.js":658,"./dependenciesSqrt.generated":351,"./dependenciesTyped.generated":375,"./dependenciesVariance.generated":385}],356:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stdTransformDependencies=void 0;var b=n("./dependenciesSqrt.generated"),h=n("./dependenciesTyped.generated"),m=n("./dependenciesVariance.generated"),p=n("../../factoriesAny.js"),A={sqrtDependencies:b.sqrtDependencies,typedDependencies:h.typedDependencies,varianceDependencies:m.varianceDependencies,createStdTransform:p.createStdTransform};r.stdTransformDependencies=A},{"../../factoriesAny.js":658,"./dependenciesSqrt.generated":351,"./dependenciesTyped.generated":375,"./dependenciesVariance.generated":385}],357:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stefanBoltzmannDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createStefanBoltzmann:m.createStefanBoltzmann};r.stefanBoltzmannDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],358:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stirlingS2Dependencies=void 0;var b=n("./dependenciesAddScalar.generated"),h=n("./dependenciesCombinations.generated"),m=n("./dependenciesDivideScalar.generated"),p=n("./dependenciesFactorial.generated"),A=n("./dependenciesIsInteger.generated"),S=n("./dependenciesIsNegative.generated"),_=n("./dependenciesLarger.generated"),l=n("./dependenciesMultiplyScalar.generated"),y=n("./dependenciesPow.generated"),o=n("./dependenciesSubtract.generated"),f=n("./dependenciesTyped.generated"),x=n("../../factoriesAny.js"),g={addScalarDependencies:b.addScalarDependencies,combinationsDependencies:h.combinationsDependencies,divideScalarDependencies:m.divideScalarDependencies,factorialDependencies:p.factorialDependencies,isIntegerDependencies:A.isIntegerDependencies,isNegativeDependencies:S.isNegativeDependencies,largerDependencies:_.largerDependencies,multiplyScalarDependencies:l.multiplyScalarDependencies,powDependencies:y.powDependencies,subtractDependencies:o.subtractDependencies,typedDependencies:f.typedDependencies,createStirlingS2:x.createStirlingS2};r.stirlingS2Dependencies=g},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesCombinations.generated":115,"./dependenciesDivideScalar.generated":152,"./dependenciesFactorial.generated":172,"./dependenciesIsInteger.generated":214,"./dependenciesIsNegative.generated":216,"./dependenciesLarger.generated":228,"./dependenciesMultiplyScalar.generated":262,"./dependenciesPow.generated":293,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],359:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stringDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createString:h.createString};r.stringDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],360:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.subsetDependencies=void 0;var b=n("./dependenciesMatrix.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={matrixDependencies:b.matrixDependencies,typedDependencies:h.typedDependencies,createSubset:m.createSubset};r.subsetDependencies=p},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],361:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.subsetTransformDependencies=void 0;var b=n("./dependenciesMatrix.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={matrixDependencies:b.matrixDependencies,typedDependencies:h.typedDependencies,createSubsetTransform:m.createSubsetTransform};r.subsetTransformDependencies=p},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],362:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.subtractDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesAddScalar.generated"),m=n("./dependenciesEqualScalar.generated"),p=n("./dependenciesMatrix.generated"),A=n("./dependenciesTyped.generated"),S=n("./dependenciesUnaryMinus.generated"),_=n("../../factoriesAny.js"),l={DenseMatrixDependencies:b.DenseMatrixDependencies,addScalarDependencies:h.addScalarDependencies,equalScalarDependencies:m.equalScalarDependencies,matrixDependencies:p.matrixDependencies,typedDependencies:A.typedDependencies,unaryMinusDependencies:S.unaryMinusDependencies,createSubtract:_.createSubtract};r.subtractDependencies=l},{"../../factoriesAny.js":658,"./dependenciesAddScalar.generated":78,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375,"./dependenciesUnaryMinus.generated":376}],363:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sumDependencies=void 0;var b=n("./dependenciesBignumber.generated"),h=n("./dependenciesFraction.generated"),m=n("./dependenciesAdd.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={bignumberDependencies:b.bignumberDependencies,fractionDependencies:h.fractionDependencies,addDependencies:m.addDependencies,typedDependencies:p.typedDependencies,createSum:A.createSum};r.sumDependencies=S},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesBignumber.generated":96,"./dependenciesFraction.generated":187,"./dependenciesTyped.generated":375}],364:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sumTransformDependencies=void 0;var b=n("./dependenciesBignumber.generated"),h=n("./dependenciesFraction.generated"),m=n("./dependenciesAdd.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={bignumberDependencies:b.bignumberDependencies,fractionDependencies:h.fractionDependencies,addDependencies:m.addDependencies,typedDependencies:p.typedDependencies,createSumTransform:A.createSumTransform};r.sumTransformDependencies=S},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesBignumber.generated":96,"./dependenciesFraction.generated":187,"./dependenciesTyped.generated":375}],365:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SymbolNodeDependencies=void 0;var b=n("./dependenciesUnitClass.generated"),h=n("./dependenciesNode.generated"),m=n("../../factoriesAny.js"),p={UnitDependencies:b.UnitDependencies,NodeDependencies:h.NodeDependencies,createSymbolNode:m.createSymbolNode};r.SymbolNodeDependencies=p},{"../../factoriesAny.js":658,"./dependenciesNode.generated":265,"./dependenciesUnitClass.generated":379}],366:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tanDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createTan:h.createTan};r.tanDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],367:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tanhDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createTanh:h.createTanh};r.tanhDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],368:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tauDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("../../factoriesAny.js"),m={BigNumberDependencies:b.BigNumberDependencies,createTau:h.createTau};r.tauDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],369:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.thomsonCrossSectionDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createThomsonCrossSection:m.createThomsonCrossSection};r.thomsonCrossSectionDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],370:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toDependencies=void 0;var b=n("./dependenciesMatrix.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={matrixDependencies:b.matrixDependencies,typedDependencies:h.typedDependencies,createTo:m.createTo};r.toDependencies=p},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],371:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.traceDependencies=void 0;var b=n("./dependenciesAdd.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={addDependencies:b.addDependencies,matrixDependencies:h.matrixDependencies,typedDependencies:m.typedDependencies,createTrace:p.createTrace};r.traceDependencies=A},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],372:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.transposeDependencies=void 0;var b=n("./dependenciesMatrix.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={matrixDependencies:b.matrixDependencies,typedDependencies:h.typedDependencies,createTranspose:m.createTranspose};r.transposeDependencies=p},{"../../factoriesAny.js":658,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],373:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.trueDependencies=void 0;var b={createTrue:n("../../factoriesAny.js").createTrue};r.trueDependencies=b},{"../../factoriesAny.js":658}],374:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.typeOfDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createTypeOf:h.createTypeOf};r.typeOfDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],375:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.typedDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesComplexClass.generated"),m=n("./dependenciesDenseMatrixClass.generated"),p=n("./dependenciesFractionClass.generated"),A=n("../../factoriesAny.js"),S={BigNumberDependencies:b.BigNumberDependencies,ComplexDependencies:h.ComplexDependencies,DenseMatrixDependencies:m.DenseMatrixDependencies,FractionDependencies:p.FractionDependencies,createTyped:A.createTyped};r.typedDependencies=S},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplexClass.generated":122,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesFractionClass.generated":188}],376:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unaryMinusDependencies=void 0;var b=n("./dependenciesTyped.generated"),h=n("../../factoriesAny.js"),m={typedDependencies:b.typedDependencies,createUnaryMinus:h.createUnaryMinus};r.unaryMinusDependencies=m},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375}],377:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unaryPlusDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,typedDependencies:h.typedDependencies,createUnaryPlus:m.createUnaryPlus};r.unaryPlusDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesTyped.generated":375}],378:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unequalDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesEqualScalar.generated"),m=n("./dependenciesMatrix.generated"),p=n("./dependenciesTyped.generated"),A=n("../../factoriesAny.js"),S={DenseMatrixDependencies:b.DenseMatrixDependencies,equalScalarDependencies:h.equalScalarDependencies,matrixDependencies:m.matrixDependencies,typedDependencies:p.typedDependencies,createUnequal:A.createUnequal};r.unequalDependencies=S},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],379:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.UnitDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesComplexClass.generated"),m=n("./dependenciesFractionClass.generated"),p=n("./dependenciesAbs.generated"),A=n("./dependenciesAddScalar.generated"),S=n("./dependenciesDivideScalar.generated"),_=n("./dependenciesEqual.generated"),l=n("./dependenciesFix.generated"),y=n("./dependenciesFormat.generated"),o=n("./dependenciesIsNumeric.generated"),f=n("./dependenciesMultiplyScalar.generated"),x=n("./dependenciesNumber.generated"),g=n("./dependenciesPow.generated"),D=n("./dependenciesRound.generated"),E=n("./dependenciesSubtract.generated"),C=n("../../factoriesAny.js"),T={BigNumberDependencies:b.BigNumberDependencies,ComplexDependencies:h.ComplexDependencies,FractionDependencies:m.FractionDependencies,absDependencies:p.absDependencies,addScalarDependencies:A.addScalarDependencies,divideScalarDependencies:S.divideScalarDependencies,equalDependencies:_.equalDependencies,fixDependencies:l.fixDependencies,formatDependencies:y.formatDependencies,isNumericDependencies:o.isNumericDependencies,multiplyScalarDependencies:f.multiplyScalarDependencies,numberDependencies:x.numberDependencies,powDependencies:g.powDependencies,roundDependencies:D.roundDependencies,subtractDependencies:E.subtractDependencies,createUnitClass:C.createUnitClass};r.UnitDependencies=T},{"../../factoriesAny.js":658,"./dependenciesAbs.generated":69,"./dependenciesAddScalar.generated":78,"./dependenciesBigNumberClass.generated":95,"./dependenciesComplexClass.generated":122,"./dependenciesDivideScalar.generated":152,"./dependenciesEqual.generated":163,"./dependenciesFix.generated":181,"./dependenciesFormat.generated":186,"./dependenciesFractionClass.generated":188,"./dependenciesIsNumeric.generated":217,"./dependenciesMultiplyScalar.generated":262,"./dependenciesNumber.generated":272,"./dependenciesPow.generated":293,"./dependenciesRound.generated":317,"./dependenciesSubtract.generated":362}],380:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unitDependencies=void 0;var b=n("./dependenciesUnitClass.generated"),h=n("./dependenciesTyped.generated"),m=n("../../factoriesAny.js"),p={UnitDependencies:b.UnitDependencies,typedDependencies:h.typedDependencies,createUnitFunction:m.createUnitFunction};r.unitDependencies=p},{"../../factoriesAny.js":658,"./dependenciesTyped.generated":375,"./dependenciesUnitClass.generated":379}],381:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.EDependencies=void 0;var b=n("./dependenciesE.generated"),h=n("../../factoriesAny.js"),m={eDependencies:b.eDependencies,createUppercaseE:h.createUppercaseE};r.EDependencies=m},{"../../factoriesAny.js":658,"./dependenciesE.generated":157}],382:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PIDependencies=void 0;var b=n("./dependenciesPi.generated"),h=n("../../factoriesAny.js"),m={piDependencies:b.piDependencies,createUppercasePi:h.createUppercasePi};r.PIDependencies=m},{"../../factoriesAny.js":658,"./dependenciesPi.generated":285}],383:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.usolveDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesDivideScalar.generated"),m=n("./dependenciesEqualScalar.generated"),p=n("./dependenciesMatrix.generated"),A=n("./dependenciesMultiplyScalar.generated"),S=n("./dependenciesSubtract.generated"),_=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),y={DenseMatrixDependencies:b.DenseMatrixDependencies,divideScalarDependencies:h.divideScalarDependencies,equalScalarDependencies:m.equalScalarDependencies,matrixDependencies:p.matrixDependencies,multiplyScalarDependencies:A.multiplyScalarDependencies,subtractDependencies:S.subtractDependencies,typedDependencies:_.typedDependencies,createUsolve:l.createUsolve};r.usolveDependencies=y},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesDivideScalar.generated":152,"./dependenciesEqualScalar.generated":164,"./dependenciesMatrix.generated":245,"./dependenciesMultiplyScalar.generated":262,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],384:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.vacuumImpedanceDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createVacuumImpedance:m.createVacuumImpedance};r.vacuumImpedanceDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],385:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.varianceDependencies=void 0;var b=n("./dependenciesAdd.generated"),h=n("./dependenciesApply.generated"),m=n("./dependenciesDivide.generated"),p=n("./dependenciesIsNaN.generated"),A=n("./dependenciesMultiply.generated"),S=n("./dependenciesSubtract.generated"),_=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),y={addDependencies:b.addDependencies,applyDependencies:h.applyDependencies,divideDependencies:m.divideDependencies,isNaNDependencies:p.isNaNDependencies,multiplyDependencies:A.multiplyDependencies,subtractDependencies:S.subtractDependencies,typedDependencies:_.typedDependencies,createVariance:l.createVariance};r.varianceDependencies=y},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesApply.generated":80,"./dependenciesDivide.generated":151,"./dependenciesIsNaN.generated":215,"./dependenciesMultiply.generated":261,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],386:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.varianceTransformDependencies=void 0;var b=n("./dependenciesAdd.generated"),h=n("./dependenciesApply.generated"),m=n("./dependenciesDivide.generated"),p=n("./dependenciesIsNaN.generated"),A=n("./dependenciesMultiply.generated"),S=n("./dependenciesSubtract.generated"),_=n("./dependenciesTyped.generated"),l=n("../../factoriesAny.js"),y={addDependencies:b.addDependencies,applyDependencies:h.applyDependencies,divideDependencies:m.divideDependencies,isNaNDependencies:p.isNaNDependencies,multiplyDependencies:A.multiplyDependencies,subtractDependencies:S.subtractDependencies,typedDependencies:_.typedDependencies,createVarianceTransform:l.createVarianceTransform};r.varianceTransformDependencies=y},{"../../factoriesAny.js":658,"./dependenciesAdd.generated":77,"./dependenciesApply.generated":80,"./dependenciesDivide.generated":151,"./dependenciesIsNaN.generated":215,"./dependenciesMultiply.generated":261,"./dependenciesSubtract.generated":362,"./dependenciesTyped.generated":375}],387:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.versionDependencies=void 0;var b={createVersion:n("../../factoriesAny.js").createVersion};r.versionDependencies=b},{"../../factoriesAny.js":658}],388:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.weakMixingAngleDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("../../factoriesAny.js"),m={BigNumberDependencies:b.BigNumberDependencies,createWeakMixingAngle:h.createWeakMixingAngle};r.weakMixingAngleDependencies=m},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95}],389:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.wienDisplacementDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesUnitClass.generated"),m=n("../../factoriesAny.js"),p={BigNumberDependencies:b.BigNumberDependencies,UnitDependencies:h.UnitDependencies,createWienDisplacement:m.createWienDisplacement};r.wienDisplacementDependencies=p},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesUnitClass.generated":379}],390:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.xgcdDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={BigNumberDependencies:b.BigNumberDependencies,matrixDependencies:h.matrixDependencies,typedDependencies:m.typedDependencies,createXgcd:p.createXgcd};r.xgcdDependencies=A},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],391:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.xorDependencies=void 0;var b=n("./dependenciesDenseMatrixClass.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={DenseMatrixDependencies:b.DenseMatrixDependencies,matrixDependencies:h.matrixDependencies,typedDependencies:m.typedDependencies,createXor:p.createXor};r.xorDependencies=A},{"../../factoriesAny.js":658,"./dependenciesDenseMatrixClass.generated":142,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],392:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.zerosDependencies=void 0;var b=n("./dependenciesBigNumberClass.generated"),h=n("./dependenciesMatrix.generated"),m=n("./dependenciesTyped.generated"),p=n("../../factoriesAny.js"),A={BigNumberDependencies:b.BigNumberDependencies,matrixDependencies:h.matrixDependencies,typedDependencies:m.typedDependencies,createZeros:p.createZeros};r.zerosDependencies=A},{"../../factoriesAny.js":658,"./dependenciesBigNumberClass.generated":95,"./dependenciesMatrix.generated":245,"./dependenciesTyped.generated":375}],393:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.error=r.json=r.expression=r.type=r.deprecatedTypeof=r.deprecatedVar=r.deprecatedImport=r.deprecatedEval=void 0;var b=n("../expression/function/eval"),h=n("../core/function/deprecatedImport"),m=n("../function/statistics/variance"),p=n("../function/utils/typeOf"),A=n("../utils/is"),S=n("../error/ArgumentsError"),_=n("../error/DimensionError"),l=n("../error/IndexError"),y=n("../utils/object"),o=n("../utils/log"),f=n("./pureFunctionsAny.generated"),x=n("./impureFunctionsAny.generated"),g=(0,b.createDeprecatedEval)({evaluate:x.evaluate});r.deprecatedEval=g;var D=(0,h.createDeprecatedImport)({});r.deprecatedImport=D;var E=(0,m.createDeprecatedVar)({variance:f.variance});r.deprecatedVar=E;var C=(0,p.createDeprecatedTypeof)({typeOf:f.typeOf});r.deprecatedTypeof=C;var T=F("type",{isNumber:A.isNumber,isComplex:A.isComplex,isBigNumber:A.isBigNumber,isFraction:A.isFraction,isUnit:A.isUnit,isString:A.isString,isArray:A.isArray,isMatrix:A.isMatrix,isCollection:A.isCollection,isDenseMatrix:A.isDenseMatrix,isSparseMatrix:A.isSparseMatrix,isRange:A.isRange,isIndex:A.isIndex,isBoolean:A.isBoolean,isResultSet:A.isResultSet,isHelp:A.isHelp,isFunction:A.isFunction,isDate:A.isDate,isRegExp:A.isRegExp,isObject:A.isObject,isNull:A.isNull,isUndefined:A.isUndefined,isAccessorNode:A.isAccessorNode,isArrayNode:A.isArrayNode,isAssignmentNode:A.isAssignmentNode,isBlockNode:A.isBlockNode,isConditionalNode:A.isConditionalNode,isConstantNode:A.isConstantNode,isFunctionAssignmentNode:A.isFunctionAssignmentNode,isFunctionNode:A.isFunctionNode,isIndexNode:A.isIndexNode,isNode:A.isNode,isObjectNode:A.isObjectNode,isOperatorNode:A.isOperatorNode,isParenthesisNode:A.isParenthesisNode,isRangeNode:A.isRangeNode,isSymbolNode:A.isSymbolNode,isChain:A.isChain,BigNumber:f.BigNumber,Chain:x.Chain,Complex:f.Complex,Fraction:f.Fraction,Matrix:f.Matrix,DenseMatrix:f.DenseMatrix,SparseMatrix:f.SparseMatrix,Spa:f.Spa,FibonacciHeap:f.FibonacciHeap,ImmutableDenseMatrix:f.ImmutableDenseMatrix,Index:f.Index,Range:f.Range,ResultSet:f.ResultSet,Unit:f.Unit,Help:x.Help,Parser:x.Parser});r.type=T;var O=F("expression",{parse:x.parse,Parser:x.Parser,node:F("expression.node",{AccessorNode:x.AccessorNode,ArrayNode:x.ArrayNode,AssignmentNode:x.AssignmentNode,BlockNode:x.BlockNode,ConditionalNode:x.ConditionalNode,ConstantNode:x.ConstantNode,IndexNode:x.IndexNode,FunctionAssignmentNode:x.FunctionAssignmentNode,FunctionNode:x.FunctionNode,Node:x.Node,ObjectNode:x.ObjectNode,OperatorNode:x.OperatorNode,ParenthesisNode:x.ParenthesisNode,RangeNode:x.RangeNode,RelationalNode:x.RelationalNode,SymbolNode:x.SymbolNode})});r.expression=O;var I=F("json",{reviver:x.reviver});r.json=I;var M=F("error",{ArgumentsError:S.ArgumentsError,DimensionError:_.DimensionError,IndexError:l.IndexError});function F(B,j){var L={};return Object.keys(j).forEach(function(R){(0,y.lazy)(L,R,function(){return(0,o.warnOnce)("math.".concat(B,".").concat(R," is moved to math.").concat(R," in v6.0.0. ")+"Please use the new location instead."),j[R]})}),L}r.error=M},{"../core/function/deprecatedImport":63,"../error/ArgumentsError":398,"../error/DimensionError":399,"../error/IndexError":400,"../expression/function/eval":615,"../function/statistics/variance":828,"../function/utils/typeOf":867,"../utils/is":933,"../utils/log":935,"../utils/object":938,"./impureFunctionsAny.generated":394,"./pureFunctionsAny.generated":396}],394:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"docs",{enumerable:!0,get:function(){return p.embeddedDocs}}),r.derivative=r.help=r.rationalize=r.simplify=r.parser=r.compile=r.Help=r.Parser=r.evaluate=r.parse=r.FunctionNode=r.SymbolNode=r.AssignmentNode=r.IndexNode=r.AccessorNode=r.chain=r.FunctionAssignmentNode=r.RangeNode=r.OperatorNode=r.ConditionalNode=r.reviver=r.Chain=r.RelationalNode=r.ParenthesisNode=r.ObjectNode=r.ConstantNode=r.BlockNode=r.ArrayNode=r.Node=void 0;var b=n("./configReadonly"),h=n("../factoriesAny"),m=n("./pureFunctionsAny.generated"),p=n("../expression/embeddedDocs/embeddedDocs");function A(){return(A=Object.assign||function(te){for(var ce=1;ce<arguments.length;ce++){var oe=arguments[ce];for(var ue in oe)Object.prototype.hasOwnProperty.call(oe,ue)&&(te[ue]=oe[ue])}return te}).apply(this,arguments)}var S={},_={},l={},y=(0,h.createNode)({mathWithTransform:_});r.Node=y;var o=(0,h.createArrayNode)({Node:y});r.ArrayNode=o;var f=(0,h.createBlockNode)({Node:y,ResultSet:m.ResultSet});r.BlockNode=f;var x=(0,h.createConstantNode)({Node:y});r.ConstantNode=x;var g=(0,h.createObjectNode)({Node:y});r.ObjectNode=g;var D=(0,h.createParenthesisNode)({Node:y});r.ParenthesisNode=D;var E=(0,h.createRelationalNode)({Node:y});r.RelationalNode=E;var C=(0,h.createChainClass)({math:S});r.Chain=C;var T=(0,h.createReviver)({classes:l});r.reviver=T;var O=(0,h.createConditionalNode)({Node:y});r.ConditionalNode=O;var I=(0,h.createOperatorNode)({Node:y});r.OperatorNode=I;var M=(0,h.createRangeNode)({Node:y});r.RangeNode=M;var F=(0,h.createFunctionAssignmentNode)({Node:y,typed:m.typed});r.FunctionAssignmentNode=F;var B=(0,h.createChain)({Chain:C,typed:m.typed});r.chain=B;var j=(0,h.createAccessorNode)({Node:y,subset:m.subset});r.AccessorNode=j;var L=(0,h.createIndexNode)({Node:y,Range:m.Range,size:m.size});r.IndexNode=L;var R=(0,h.createAssignmentNode)({matrix:m.matrix,Node:y,subset:m.subset});r.AssignmentNode=R;var V=(0,h.createSymbolNode)({Unit:m.Unit,Node:y,math:S});r.SymbolNode=V;var k=(0,h.createFunctionNode)({Node:y,SymbolNode:V,math:S});r.FunctionNode=k;var U=(0,h.createParse)({AccessorNode:j,ArrayNode:o,AssignmentNode:R,BlockNode:f,ConditionalNode:O,ConstantNode:x,FunctionAssignmentNode:F,FunctionNode:k,IndexNode:L,ObjectNode:g,OperatorNode:I,ParenthesisNode:D,RangeNode:M,RelationalNode:E,SymbolNode:V,config:b.config,numeric:m.numeric,typed:m.typed});r.parse=U;var G=(0,h.createEvaluate)({parse:U,typed:m.typed});r.evaluate=G;var H=(0,h.createParserClass)({parse:U});r.Parser=H;var X=(0,h.createHelpClass)({parse:U});r.Help=X;var Z=(0,h.createCompile)({parse:U,typed:m.typed});r.compile=Z;var J=(0,h.createParser)({Parser:H,typed:m.typed});r.parser=J;var ee=(0,h.createSimplify)({bignumber:m.bignumber,fraction:m.fraction,ConstantNode:x,FunctionNode:k,OperatorNode:I,ParenthesisNode:D,SymbolNode:V,add:m.add,config:b.config,divide:m.divide,equal:m.equal,isZero:m.isZero,mathWithTransform:_,multiply:m.multiply,parse:U,pow:m.pow,subtract:m.subtract,typed:m.typed});r.simplify=ee;var $=(0,h.createRationalize)({bignumber:m.bignumber,fraction:m.fraction,ConstantNode:x,FunctionNode:k,OperatorNode:I,ParenthesisNode:D,SymbolNode:V,add:m.add,config:b.config,divide:m.divide,equal:m.equal,isZero:m.isZero,mathWithTransform:_,multiply:m.multiply,parse:U,pow:m.pow,simplify:ee,subtract:m.subtract,typed:m.typed});r.rationalize=$;var W=(0,h.createHelp)({Help:X,mathWithTransform:_,typed:m.typed});r.help=W;var Q=(0,h.createDerivative)({ConstantNode:x,FunctionNode:k,OperatorNode:I,ParenthesisNode:D,SymbolNode:V,config:b.config,equal:m.equal,isZero:m.isZero,numeric:m.numeric,parse:U,simplify:ee,typed:m.typed});r.derivative=Q,A(S,{typeof:m.typeOf,eye:m.eye,reviver:T,false:m._false,null:m._null,true:m._true,replacer:m.replacer,i:m.i,LN10:m.LN10,LOG10E:m.LOG10E,NaN:m._NaN,pi:m.pi,SQRT1_2:m.SQRT1_2,tau:m.tau,efimovFactor:m.efimovFactor,fineStructure:m.fineStructure,sackurTetrode:m.sackurTetrode,weakMixingAngle:m.weakMixingAngle,e:m.e,Infinity:m._Infinity,LOG2E:m.LOG2E,PI:m.pi,version:m.version,E:m.e,phi:m.phi,typed:m.typed,isInteger:m.isInteger,isNumeric:m.isNumeric,isPositive:m.isPositive,isNaN:m.isNaN,equalScalar:m.equalScalar,number:m.number,boolean:m.boolean,complex:m.complex,splitUnit:m.splitUnit,unaryPlus:m.unaryPlus,apply:m.apply,cube:m.cube,expm1:m.expm1,log10:m.log10,multiplyScalar:m.multiplyScalar,sign:m.sign,square:m.square,bitNot:m.bitNot,arg:m.arg,im:m.im,not:m.not,filter:m.filter,forEach:m.forEach,map:m.map,erf:m.erf,format:m.format,isPrime:m.isPrime,acos:m.acos,acot:m.acot,acsc:m.acsc,asec:m.asec,asin:m.asin,atan:m.atan,atanh:m.atanh,cosh:m.cosh,coth:m.coth,csch:m.csch,sech:m.sech,sinh:m.sinh,tanh:m.tanh,chain:B,combinations:m.combinations,pickRandom:m.pickRandom,randomInt:m.randomInt,LN2:m.LN2,clone:m.clone,hasNumericValue:m.hasNumericValue,typeOf:m.typeOf,string:m.string,fraction:m.fraction,unaryMinus:m.unaryMinus,addScalar:m.addScalar,exp:m.exp,log2:m.log2,sqrt:m.sqrt,conj:m.conj,getMatrixDataType:m.getMatrixDataType,mode:m.mode,print:m.print,acosh:m.acosh,acsch:m.acsch,asinh:m.asinh,cos:m.cos,csc:m.csc,sin:m.sin,combinationsWithRep:m.combinationsWithRep,random:m.random,SQRT2:m.SQRT2,isNegative:m.isNegative,matrix:m.matrix,cbrt:m.cbrt,gcd:m.gcd,mod:m.mod,nthRoot:m.nthRoot,xgcd:m.xgcd,bitAnd:m.bitAnd,bitXor:m.bitXor,or:m.or,concat:m.concat,diag:m.diag,identity:m.identity,ones:m.ones,reshape:m.reshape,size:m.size,subset:m.subset,zeros:m.zeros,to:m.to,round:m.round,leftShift:m.leftShift,rightLogShift:m.rightLogShift,compare:m.compare,compareText:m.compareText,smaller:m.smaller,larger:m.larger,unequal:m.unequal,max:m.max,sparse:m.sparse,acoth:m.acoth,atan2:m.atan2,sec:m.sec,add:m.add,trace:m.trace,composition:m.composition,isZero:m.isZero,abs:m.abs,floor:m.floor,multiply:m.multiply,dotMultiply:m.dotMultiply,re:m.re,flatten:m.flatten,resize:m.resize,squeeze:m.squeeze,prod:m.prod,pow:m.pow,dotPow:m.dotPow,rightArithShift:m.rightArithShift,compareNatural:m.compareNatural,equalText:m.equalText,largerEq:m.largerEq,partitionSelect:m.partitionSelect,min:m.min,asech:m.asech,tan:m.tan,setSize:m.setSize,norm:m.norm,quantileSeq:m.quantileSeq,gamma:m.gamma,bignumber:m.bignumber,lcm:m.lcm,bitOr:m.bitOr,kron:m.kron,transpose:m.transpose,numeric:m.numeric,and:m.and,smallerEq:m.smallerEq,sort:m.sort,cot:m.cot,dot:m.dot,sum:m.sum,factorial:m.factorial,permutations:m.permutations,ceil:m.ceil,subtract:m.subtract,cross:m.cross,ctranspose:m.ctranspose,equal:m.equal,setCartesian:m.setCartesian,setDistinct:m.setDistinct,setIsSubset:m.setIsSubset,setPowerset:m.setPowerset,index:m.index,fix:m.fix,range:m.range,divideScalar:m.divideScalar,nthRoots:m.nthRoots,lsolve:m.lsolve,deepEqual:m.deepEqual,setDifference:m.setDifference,setMultiplicity:m.setMultiplicity,hypot:m.hypot,lup:m.lup,slu:m.slu,det:m.det,distance:m.distance,stirlingS2:m.stirlingS2,catalan:m.catalan,xor:m.xor,row:m.row,dotDivide:m.dotDivide,createUnit:m.createUnit,setSymDifference:m.setSymDifference,qr:m.qr,inv:m.inv,expm:m.expm,divide:m.divide,mean:m.mean,variance:m.variance,std:m.std,multinomial:m.multinomial,atomicMass:m.atomicMass,bohrMagneton:m.bohrMagneton,boltzmann:m.boltzmann,conductanceQuantum:m.conductanceQuantum,deuteronMass:m.deuteronMass,electronMass:m.electronMass,faraday:m.faraday,firstRadiation:m.firstRadiation,gravitationConstant:m.gravitationConstant,hartreeEnergy:m.hartreeEnergy,klitzing:m.klitzing,magneticConstant:m.magneticConstant,molarMass:m.molarMass,molarPlanckConstant:m.molarPlanckConstant,neutronMass:m.neutronMass,planckCharge:m.planckCharge,planckLength:m.planckLength,planckTemperature:m.planckTemperature,protonMass:m.protonMass,reducedPlanckConstant:m.reducedPlanckConstant,secondRadiation:m.secondRadiation,stefanBoltzmann:m.stefanBoltzmann,vacuumImpedance:m.vacuumImpedance,column:m.column,usolve:m.usolve,setIntersect:m.setIntersect,lusolve:m.lusolve,eigs:m.eigs,intersect:m.intersect,var:m.variance,bellNumbers:m.bellNumbers,avogadro:m.avogadro,classicalElectronRadius:m.classicalElectronRadius,electricConstant:m.electricConstant,fermiCoupling:m.fermiCoupling,gravity:m.gravity,loschmidt:m.loschmidt,molarMassC12:m.molarMassC12,nuclearMagneton:m.nuclearMagneton,planckMass:m.planckMass,quantumOfCirculation:m.quantumOfCirculation,speedOfLight:m.speedOfLight,wienDisplacement:m.wienDisplacement,log:m.log,unit:m.unit,parse:U,evaluate:G,sqrtm:m.sqrtm,kldivergence:m.kldivergence,bohrRadius:m.bohrRadius,elementaryCharge:m.elementaryCharge,inverseConductanceQuantum:m.inverseConductanceQuantum,molarVolume:m.molarVolume,planckTime:m.planckTime,thomsonCrossSection:m.thomsonCrossSection,log1p:m.log1p,compile:Z,parser:J,median:m.median,simplify:ee,rationalize:$,gasConstant:m.gasConstant,planckConstant:m.planckConstant,setUnion:m.setUnion,help:W,derivative:Q,magneticFluxQuantum:m.magneticFluxQuantum,eval:G,coulomb:m.coulomb,mad:m.mad,rydberg:m.rydberg,config:b.config}),A(_,S,{apply:(0,h.createApplyTransform)({isInteger:m.isInteger,typed:m.typed}),filter:(0,h.createFilterTransform)({typed:m.typed}),map:(0,h.createMapTransform)({typed:m.typed}),forEach:(0,h.createForEachTransform)({typed:m.typed}),max:(0,h.createMaxTransform)({larger:m.larger,typed:m.typed}),min:(0,h.createMinTransform)({smaller:m.smaller,typed:m.typed}),subset:(0,h.createSubsetTransform)({matrix:m.matrix,typed:m.typed}),concat:(0,h.createConcatTransform)({isInteger:m.isInteger,matrix:m.matrix,typed:m.typed}),range:(0,h.createRangeTransform)({bignumber:m.bignumber,matrix:m.matrix,config:b.config,larger:m.larger,largerEq:m.largerEq,smaller:m.smaller,smallerEq:m.smallerEq,typed:m.typed}),sum:(0,h.createSumTransform)({bignumber:m.bignumber,fraction:m.fraction,add:m.add,config:b.config,typed:m.typed}),index:(0,h.createIndexTransform)({Index:m.Index}),column:(0,h.createColumnTransform)({Index:m.Index,matrix:m.matrix,range:m.range,typed:m.typed}),row:(0,h.createRowTransform)({Index:m.Index,matrix:m.matrix,range:m.range,typed:m.typed}),mean:(0,h.createMeanTransform)({add:m.add,divide:m.divide,typed:m.typed}),variance:(0,h.createVarianceTransform)({add:m.add,apply:m.apply,divide:m.divide,isNaN:m.isNaN,multiply:m.multiply,subtract:m.subtract,typed:m.typed}),std:(0,h.createStdTransform)({sqrt:m.sqrt,typed:m.typed,variance:m.variance})}),A(l,{ResultSet:m.ResultSet,Complex:m.Complex,Range:m.Range,Node:y,ArrayNode:o,BlockNode:f,ConstantNode:x,ObjectNode:g,ParenthesisNode:D,RelationalNode:E,Chain:C,BigNumber:m.BigNumber,Matrix:m.Matrix,ConditionalNode:O,OperatorNode:I,Fraction:m.Fraction,RangeNode:M,DenseMatrix:m.DenseMatrix,FunctionAssignmentNode:F,SparseMatrix:m.SparseMatrix,ImmutableDenseMatrix:m.ImmutableDenseMatrix,FibonacciHeap:m.FibonacciHeap,AccessorNode:j,IndexNode:L,Spa:m.Spa,AssignmentNode:R,Index:m.Index,Unit:m.Unit,SymbolNode:V,FunctionNode:k,Parser:H,Help:X}),C.createProxy(S)},{"../expression/embeddedDocs/embeddedDocs":435,"../factoriesAny":658,"./configReadonly":67,"./pureFunctionsAny.generated":396}],395:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var b={config:!0,IndexError:!0,DimensionError:!0,ArgumentsError:!0,create:!0,factory:!0};Object.defineProperty(r,"config",{enumerable:!0,get:function(){return h.config}}),Object.defineProperty(r,"IndexError",{enumerable:!0,get:function(){return S.IndexError}}),Object.defineProperty(r,"DimensionError",{enumerable:!0,get:function(){return _.DimensionError}}),Object.defineProperty(r,"ArgumentsError",{enumerable:!0,get:function(){return l.ArgumentsError}}),Object.defineProperty(r,"create",{enumerable:!0,get:function(){return f.create}}),Object.defineProperty(r,"factory",{enumerable:!0,get:function(){return x.factory}});var h=n("./configReadonly"),m=n("./pureFunctionsAny.generated");Object.keys(m).forEach(function(D){D!=="default"&&D!=="__esModule"&&(Object.prototype.hasOwnProperty.call(b,D)||Object.defineProperty(r,D,{enumerable:!0,get:function(){return m[D]}}))});var p=n("./impureFunctionsAny.generated");Object.keys(p).forEach(function(D){D!=="default"&&D!=="__esModule"&&(Object.prototype.hasOwnProperty.call(b,D)||Object.defineProperty(r,D,{enumerable:!0,get:function(){return p[D]}}))});var A=n("./typeChecks");Object.keys(A).forEach(function(D){D!=="default"&&D!=="__esModule"&&(Object.prototype.hasOwnProperty.call(b,D)||Object.defineProperty(r,D,{enumerable:!0,get:function(){return A[D]}}))});var S=n("../error/IndexError"),_=n("../error/DimensionError"),l=n("../error/ArgumentsError"),y=n("./dependenciesAny.generated");Object.keys(y).forEach(function(D){D!=="default"&&D!=="__esModule"&&(Object.prototype.hasOwnProperty.call(b,D)||Object.defineProperty(r,D,{enumerable:!0,get:function(){return y[D]}}))});var o=n("../factoriesAny");Object.keys(o).forEach(function(D){D!=="default"&&D!=="__esModule"&&(Object.prototype.hasOwnProperty.call(b,D)||Object.defineProperty(r,D,{enumerable:!0,get:function(){return o[D]}}))});var f=n("../core/create"),x=n("../utils/factory"),g=n("./deprecatedAny");Object.keys(g).forEach(function(D){D!=="default"&&D!=="__esModule"&&(Object.prototype.hasOwnProperty.call(b,D)||Object.defineProperty(r,D,{enumerable:!0,get:function(){return g[D]}}))}),r.var=r.deprecatedVar,r.typeof=r.deprecatedTypeof,r.eval=r.deprecatedEval,r.import=r.deprecatedImport},{"../core/create":61,"../error/ArgumentsError":398,"../error/DimensionError":399,"../error/IndexError":400,"../factoriesAny":658,"../utils/factory":931,"./configReadonly":67,"./dependenciesAny.generated":68,"./deprecatedAny":393,"./impureFunctionsAny.generated":394,"./pureFunctionsAny.generated":396,"./typeChecks":397}],396:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cbrt=r.matrix=r.SparseMatrix=r.isNegative=r.SQRT2=r.random=r.combinationsWithRep=r.sin=r.csc=r.cos=r.asinh=r.acsch=r.acosh=r.print=r.mode=r.getMatrixDataType=r.conj=r.sqrt=r.log2=r.exp=r.addScalar=r.unaryMinus=r.fraction=r.string=r.typeOf=r.hasNumericValue=r.clone=r.LN2=r.randomInt=r.pickRandom=r.combinations=r.tanh=r.sinh=r.sech=r.csch=r.coth=r.cosh=r.atanh=r.atan=r.asin=r.asec=r.acsc=r.acot=r.acos=r.isPrime=r.format=r.erf=r.map=r.forEach=r.filter=r.not=r.im=r.arg=r.bitNot=r.square=r.sign=r.multiplyScalar=r.log10=r.expm1=r.cube=r.apply=r.unaryPlus=r.splitUnit=r.complex=r.boolean=r.number=r.equalScalar=r.isNaN=r.isPositive=r.isNumeric=r.isInteger=r.typed=r.phi=r.DenseMatrix=r.version=r.LOG2E=r._Infinity=r.e=r.Fraction=r.weakMixingAngle=r.sackurTetrode=r.fineStructure=r.efimovFactor=r.tau=r.SQRT1_2=r.pi=r._NaN=r.LOG10E=r.LN10=r.i=r.replacer=r.Matrix=r.BigNumber=r._true=r._null=r._false=r.eye=r.Range=r.Complex=r.ResultSet=void 0,r.xor=r.catalan=r.stirlingS2=r.distance=r.det=r.slu=r.lup=r.hypot=r.setMultiplicity=r.setDifference=r.deepEqual=r.lsolve=r.nthRoots=r.divideScalar=r.range=r.fix=r.index=r.setPowerset=r.setIsSubset=r.setDistinct=r.setCartesian=r.Index=r.equal=r.ctranspose=r.cross=r.subtract=r.ceil=r.permutations=r.factorial=r.sum=r.dot=r.cot=r.sort=r.smallerEq=r.and=r.numeric=r.transpose=r.kron=r.bitOr=r.lcm=r.bignumber=r.gamma=r.quantileSeq=r.norm=r.setSize=r.tan=r.asech=r.Spa=r.min=r.partitionSelect=r.largerEq=r.equalText=r.compareNatural=r.rightArithShift=r.dotPow=r.pow=r.prod=r.squeeze=r.resize=r.flatten=r.re=r.dotMultiply=r.multiply=r.floor=r.abs=r.isZero=r.composition=r.trace=r.add=r.sec=r.atan2=r.acoth=r.sparse=r.FibonacciHeap=r.ImmutableDenseMatrix=r.max=r.unequal=r.larger=r.smaller=r.compareText=r.compare=r.rightLogShift=r.leftShift=r.round=r.to=r.zeros=r.subset=r.size=r.reshape=r.ones=r.identity=r.diag=r.concat=r.or=r.bitXor=r.bitAnd=r.xgcd=r.nthRoot=r.mod=r.gcd=void 0,r.rydberg=r.mad=r.coulomb=r.magneticFluxQuantum=r.setUnion=r.planckConstant=r.gasConstant=r.median=r.log1p=r.thomsonCrossSection=r.planckTime=r.molarVolume=r.inverseConductanceQuantum=r.elementaryCharge=r.bohrRadius=r.kldivergence=r.sqrtm=r.unit=r.log=r.wienDisplacement=r.speedOfLight=r.quantumOfCirculation=r.planckMass=r.nuclearMagneton=r.molarMassC12=r.loschmidt=r.gravity=r.fermiCoupling=r.electricConstant=r.classicalElectronRadius=r.avogadro=r.bellNumbers=r.intersect=r.eigs=r.lusolve=r.setIntersect=r.usolve=r.column=r.vacuumImpedance=r.stefanBoltzmann=r.secondRadiation=r.reducedPlanckConstant=r.protonMass=r.planckTemperature=r.planckLength=r.planckCharge=r.neutronMass=r.molarPlanckConstant=r.molarMass=r.magneticConstant=r.klitzing=r.hartreeEnergy=r.gravitationConstant=r.firstRadiation=r.faraday=r.electronMass=r.deuteronMass=r.conductanceQuantum=r.boltzmann=r.bohrMagneton=r.atomicMass=r.multinomial=r.std=r.variance=r.mean=r.divide=r.expm=r.inv=r.qr=r.setSymDifference=r.createUnit=r.Unit=r.dotDivide=r.row=void 0;var b=n("./configReadonly"),h=n("../factoriesAny"),m=(0,h.createResultSet)({});r.ResultSet=m;var p=(0,h.createComplexClass)({});r.Complex=p;var A=(0,h.createRangeClass)({});r.Range=A;var S=(0,h.createEye)({});r.eye=S;var _=(0,h.createFalse)({});r._false=_;var l=(0,h.createNull)({});r._null=l;var y=(0,h.createTrue)({});r._true=y;var o=(0,h.createBigNumberClass)({config:b.config});r.BigNumber=o;var f=(0,h.createMatrixClass)({});r.Matrix=f;var x=(0,h.createReplacer)({});r.replacer=x;var g=(0,h.createI)({Complex:p});r.i=g;var D=(0,h.createLN10)({BigNumber:o,config:b.config});r.LN10=D;var E=(0,h.createLOG10E)({BigNumber:o,config:b.config});r.LOG10E=E;var C=(0,h.createNaN)({BigNumber:o,config:b.config});r._NaN=C;var T=(0,h.createPi)({BigNumber:o,config:b.config});r.pi=T;var O=(0,h.createSQRT1_2)({BigNumber:o,config:b.config});r.SQRT1_2=O;var I=(0,h.createTau)({BigNumber:o,config:b.config});r.tau=I;var M=(0,h.createEfimovFactor)({BigNumber:o,config:b.config});r.efimovFactor=M;var F=(0,h.createFineStructure)({BigNumber:o,config:b.config});r.fineStructure=F;var B=(0,h.createSackurTetrode)({BigNumber:o,config:b.config});r.sackurTetrode=B;var j=(0,h.createWeakMixingAngle)({BigNumber:o,config:b.config});r.weakMixingAngle=j;var L=(0,h.createFractionClass)({});r.Fraction=L;var R=(0,h.createE)({BigNumber:o,config:b.config});r.e=R;var V=(0,h.createInfinity)({BigNumber:o,config:b.config});r._Infinity=V;var k=(0,h.createLOG2E)({BigNumber:o,config:b.config});r.LOG2E=k;var U=(0,h.createVersion)({});r.version=U;var G=(0,h.createDenseMatrixClass)({Matrix:f});r.DenseMatrix=G;var H=(0,h.createPhi)({BigNumber:o,config:b.config});r.phi=H;var X=(0,h.createTyped)({BigNumber:o,Complex:p,DenseMatrix:G,Fraction:L});r.typed=X;var Z=(0,h.createIsInteger)({typed:X});r.isInteger=Z;var J=(0,h.createIsNumeric)({typed:X});r.isNumeric=J;var ee=(0,h.createIsPositive)({typed:X});r.isPositive=ee;var $=(0,h.createIsNaN)({typed:X});r.isNaN=$;var W=(0,h.createEqualScalar)({config:b.config,typed:X});r.equalScalar=W;var Q=(0,h.createNumber)({typed:X});r.number=Q;var te=(0,h.createBoolean)({typed:X});r.boolean=te;var ce=(0,h.createComplex)({Complex:p,typed:X});r.complex=ce;var oe=(0,h.createSplitUnit)({typed:X});r.splitUnit=oe;var ue=(0,h.createUnaryPlus)({BigNumber:o,config:b.config,typed:X});r.unaryPlus=ue;var we=(0,h.createApply)({isInteger:Z,typed:X});r.apply=we;var le=(0,h.createCube)({typed:X});r.cube=le;var fe=(0,h.createExpm1)({Complex:p,typed:X});r.expm1=fe;var ve=(0,h.createLog10)({Complex:p,config:b.config,typed:X});r.log10=ve;var pe=(0,h.createMultiplyScalar)({typed:X});r.multiplyScalar=pe;var ye=(0,h.createSign)({BigNumber:o,Fraction:L,complex:ce,typed:X});r.sign=ye;var Ae=(0,h.createSquare)({typed:X});r.square=Ae;var be=(0,h.createBitNot)({typed:X});r.bitNot=be;var ne=(0,h.createArg)({typed:X});r.arg=ne;var re=(0,h.createIm)({typed:X});r.im=re;var de=(0,h.createNot)({typed:X});r.not=de;var Ce=(0,h.createFilter)({typed:X});r.filter=Ce;var je=(0,h.createForEach)({typed:X});r.forEach=je;var xe=(0,h.createMap)({typed:X});r.map=xe;var Ie=(0,h.createErf)({typed:X});r.erf=Ie;var Ne=(0,h.createFormat)({typed:X});r.format=Ne;var Be=(0,h.createIsPrime)({typed:X});r.isPrime=Be;var $e=(0,h.createAcos)({Complex:p,config:b.config,typed:X});r.acos=$e;var Le=(0,h.createAcot)({BigNumber:o,typed:X});r.acot=Le;var qe=(0,h.createAcsc)({BigNumber:o,Complex:p,config:b.config,typed:X});r.acsc=qe;var ze=(0,h.createAsec)({BigNumber:o,Complex:p,config:b.config,typed:X});r.asec=ze;var Ee=(0,h.createAsin)({Complex:p,config:b.config,typed:X});r.asin=Ee;var Se=(0,h.createAtan)({typed:X});r.atan=Se;var Me=(0,h.createAtanh)({Complex:p,config:b.config,typed:X});r.atanh=Me;var me=(0,h.createCosh)({typed:X});r.cosh=me;var Ve=(0,h.createCoth)({BigNumber:o,typed:X});r.coth=Ve;var Xe=(0,h.createCsch)({BigNumber:o,typed:X});r.csch=Xe;var rt=(0,h.createSech)({BigNumber:o,typed:X});r.sech=rt;var lt=(0,h.createSinh)({typed:X});r.sinh=lt;var nt=(0,h.createTanh)({typed:X});r.tanh=nt;var it=(0,h.createCombinations)({typed:X});r.combinations=it;var dt=(0,h.createPickRandom)({config:b.config,typed:X});r.pickRandom=dt;var ft=(0,h.createRandomInt)({config:b.config,typed:X});r.randomInt=ft;var yt=(0,h.createLN2)({BigNumber:o,config:b.config});r.LN2=yt;var bt=(0,h.createClone)({typed:X});r.clone=bt;var wt=(0,h.createHasNumericValue)({isNumeric:J,typed:X});r.hasNumericValue=wt;var xt=(0,h.createTypeOf)({typed:X});r.typeOf=xt;var Tt=(0,h.createString)({typed:X});r.string=Tt;var kt=(0,h.createFraction)({Fraction:L,typed:X});r.fraction=kt;var Mt=(0,h.createUnaryMinus)({typed:X});r.unaryMinus=Mt;var Ot=(0,h.createAddScalar)({typed:X});r.addScalar=Ot;var Lt=(0,h.createExp)({typed:X});r.exp=Lt;var Ft=(0,h.createLog2)({Complex:p,config:b.config,typed:X});r.log2=Ft;var Pt=(0,h.createSqrt)({Complex:p,config:b.config,typed:X});r.sqrt=Pt;var It=(0,h.createConj)({typed:X});r.conj=It;var Rt=(0,h.createGetMatrixDataType)({typed:X});r.getMatrixDataType=Rt;var Ht=(0,h.createMode)({isNaN:$,isNumeric:J,typed:X});r.mode=Ht;var rn=(0,h.createPrint)({typed:X});r.print=rn;var Zt=(0,h.createAcosh)({Complex:p,config:b.config,typed:X});r.acosh=Zt;var Jt=(0,h.createAcsch)({BigNumber:o,typed:X});r.acsch=Jt;var an=(0,h.createAsinh)({typed:X});r.asinh=an;var Wt=(0,h.createCos)({typed:X});r.cos=Wt;var nn=(0,h.createCsc)({BigNumber:o,typed:X});r.csc=nn;var Je=(0,h.createSin)({typed:X});r.sin=Je;var Et=(0,h.createCombinationsWithRep)({typed:X});r.combinationsWithRep=Et;var _e=(0,h.createRandom)({config:b.config,typed:X});r.random=_e;var Oe=(0,h.createSQRT2)({BigNumber:o,config:b.config});r.SQRT2=Oe;var Ue=(0,h.createIsNegative)({typed:X});r.isNegative=Ue;var Fe=(0,h.createSparseMatrixClass)({Matrix:f,equalScalar:W,typed:X});r.SparseMatrix=Fe;var He=(0,h.createMatrix)({DenseMatrix:G,Matrix:f,SparseMatrix:Fe,typed:X});r.matrix=He;var Re=(0,h.createCbrt)({BigNumber:o,Complex:p,Fraction:L,config:b.config,isNegative:Ue,matrix:He,typed:X,unaryMinus:Mt});r.cbrt=Re;var Ye=(0,h.createGcd)({BigNumber:o,DenseMatrix:G,equalScalar:W,matrix:He,typed:X});r.gcd=Ye;var tt=(0,h.createMod)({DenseMatrix:G,equalScalar:W,matrix:He,typed:X});r.mod=tt;var ct=(0,h.createNthRoot)({BigNumber:o,equalScalar:W,matrix:He,typed:X});r.nthRoot=ct;var st=(0,h.createXgcd)({BigNumber:o,config:b.config,matrix:He,typed:X});r.xgcd=st;var ot=(0,h.createBitAnd)({equalScalar:W,matrix:He,typed:X});r.bitAnd=ot;var Dt=(0,h.createBitXor)({DenseMatrix:G,matrix:He,typed:X});r.bitXor=Dt;var Nt=(0,h.createOr)({DenseMatrix:G,equalScalar:W,matrix:He,typed:X});r.or=Nt;var Ut=(0,h.createConcat)({isInteger:Z,matrix:He,typed:X});r.concat=Ut;var Gt=(0,h.createDiag)({DenseMatrix:G,SparseMatrix:Fe,matrix:He,typed:X});r.diag=Gt;var Xt=(0,h.createIdentity)({BigNumber:o,DenseMatrix:G,SparseMatrix:Fe,config:b.config,matrix:He,typed:X});r.identity=Xt;var en=(0,h.createOnes)({BigNumber:o,config:b.config,matrix:He,typed:X});r.ones=en;var sn=(0,h.createReshape)({isInteger:Z,matrix:He,typed:X});r.reshape=sn;var un=(0,h.createSize)({matrix:He,config:b.config,typed:X});r.size=un;var bn=(0,h.createSubset)({matrix:He,typed:X});r.subset=bn;var Un=(0,h.createZeros)({BigNumber:o,config:b.config,matrix:He,typed:X});r.zeros=Un;var tr=(0,h.createTo)({matrix:He,typed:X});r.to=tr;var Gn=(0,h.createRound)({BigNumber:o,DenseMatrix:G,equalScalar:W,matrix:He,typed:X,zeros:Un});r.round=Gn;var nr=(0,h.createLeftShift)({DenseMatrix:G,equalScalar:W,matrix:He,typed:X,zeros:Un});r.leftShift=nr;var Bn=(0,h.createRightLogShift)({DenseMatrix:G,equalScalar:W,matrix:He,typed:X,zeros:Un});r.rightLogShift=Bn;var Vn=(0,h.createCompare)({BigNumber:o,DenseMatrix:G,Fraction:L,config:b.config,equalScalar:W,matrix:He,typed:X});r.compare=Vn;var Jn=(0,h.createCompareText)({matrix:He,typed:X});r.compareText=Jn;var zn=(0,h.createSmaller)({DenseMatrix:G,config:b.config,matrix:He,typed:X});r.smaller=zn;var dn=(0,h.createLarger)({DenseMatrix:G,config:b.config,matrix:He,typed:X});r.larger=dn;var on=(0,h.createUnequal)({DenseMatrix:G,config:b.config,equalScalar:W,matrix:He,typed:X});r.unequal=on;var _r=(0,h.createMax)({larger:dn,typed:X});r.max=_r;var cr=(0,h.createImmutableDenseMatrixClass)({DenseMatrix:G,smaller:zn});r.ImmutableDenseMatrix=cr;var ur=(0,h.createFibonacciHeapClass)({larger:dn,smaller:zn});r.FibonacciHeap=ur;var Wn=(0,h.createSparse)({SparseMatrix:Fe,typed:X});r.sparse=Wn;var zr=(0,h.createAcoth)({BigNumber:o,Complex:p,config:b.config,typed:X});r.acoth=zr;var Gr=(0,h.createAtan2)({BigNumber:o,DenseMatrix:G,equalScalar:W,matrix:He,typed:X});r.atan2=Gr;var lr=(0,h.createSec)({BigNumber:o,typed:X});r.sec=lr;var Tn=(0,h.createAdd)({DenseMatrix:G,SparseMatrix:Fe,addScalar:Ot,equalScalar:W,matrix:He,typed:X});r.add=Tn;var ti=(0,h.createTrace)({add:Tn,matrix:He,typed:X});r.trace=ti;var Or=(0,h.createComposition)({addScalar:Ot,combinations:it,isInteger:Z,isNegative:Ue,isPositive:ee,larger:dn,typed:X});r.composition=Or;var xr=(0,h.createIsZero)({typed:X});r.isZero=xr;var jn=(0,h.createAbs)({typed:X});r.abs=jn;var hr=(0,h.createFloor)({config:b.config,round:Gn,typed:X});r.floor=hr;var xn=(0,h.createMultiply)({addScalar:Ot,equalScalar:W,matrix:He,multiplyScalar:pe,typed:X});r.multiply=xn;var jr=(0,h.createDotMultiply)({equalScalar:W,matrix:He,multiplyScalar:pe,typed:X});r.dotMultiply=jr;var Vr=(0,h.createRe)({typed:X});r.re=Vr;var Ar=(0,h.createFlatten)({matrix:He,typed:X});r.flatten=Ar;var wr=(0,h.createResize)({config:b.config,matrix:He});r.resize=wr;var ni=(0,h.createSqueeze)({matrix:He,typed:X});r.squeeze=ni;var ri=(0,h.createProd)({multiply:xn,typed:X});r.prod=ri;var rr=(0,h.createPow)({Complex:p,config:b.config,fraction:kt,identity:Xt,matrix:He,multiply:xn,number:Q,typed:X});r.pow=rr;var Xn=(0,h.createDotPow)({DenseMatrix:G,equalScalar:W,matrix:He,pow:rr,typed:X});r.dotPow=Xn;var Qn=(0,h.createRightArithShift)({DenseMatrix:G,equalScalar:W,matrix:He,typed:X,zeros:Un});r.rightArithShift=Qn;var Rn=(0,h.createCompareNatural)({compare:Vn,typed:X});r.compareNatural=Rn;var mr=(0,h.createEqualText)({compareText:Jn,isZero:xr,typed:X});r.equalText=mr;var $n=(0,h.createLargerEq)({DenseMatrix:G,config:b.config,matrix:He,typed:X});r.largerEq=$n;var ir=(0,h.createPartitionSelect)({compare:Vn,isNaN:$,isNumeric:J,typed:X});r.partitionSelect=ir;var ii=(0,h.createMin)({smaller:zn,typed:X});r.min=ii;var Zn=(0,h.createSpaClass)({FibonacciHeap:ur,addScalar:Ot,equalScalar:W});r.Spa=Zn;var Dr=(0,h.createAsech)({BigNumber:o,Complex:p,config:b.config,typed:X});r.asech=Dr;var $r=(0,h.createTan)({typed:X});r.tan=$r;var Hr=(0,h.createSetSize)({compareNatural:Rn,typed:X});r.setSize=Hr;var qr=(0,h.createNorm)({abs:jn,add:Tn,conj:It,equalScalar:W,larger:dn,matrix:He,multiply:xn,pow:rr,smaller:zn,sqrt:Pt,typed:X});r.norm=qr;var Wr=(0,h.createQuantileSeq)({add:Tn,compare:Vn,multiply:xn,partitionSelect:ir,typed:X});r.quantileSeq=Wr;var Pr=(0,h.createGamma)({BigNumber:o,Complex:p,config:b.config,multiplyScalar:pe,pow:rr,typed:X});r.gamma=Pr;var dr=(0,h.createBignumber)({BigNumber:o,typed:X});r.bignumber=dr;var Ir=(0,h.createLcm)({equalScalar:W,matrix:He,typed:X});r.lcm=Ir;var Xr=(0,h.createBitOr)({DenseMatrix:G,equalScalar:W,matrix:He,typed:X});r.bitOr=Xr;var Yr=(0,h.createKron)({matrix:He,multiplyScalar:pe,typed:X});r.kron=Yr;var Sr=(0,h.createTranspose)({matrix:He,typed:X});r.transpose=Sr;var Er=(0,h.createNumeric)({bignumber:dr,fraction:kt,number:Q});r.numeric=Er;var Qr=(0,h.createAnd)({equalScalar:W,matrix:He,not:de,typed:X,zeros:Un});r.and=Qr;var Cr=(0,h.createSmallerEq)({DenseMatrix:G,config:b.config,matrix:He,typed:X});r.smallerEq=Cr;var Zr=(0,h.createSort)({compare:Vn,compareNatural:Rn,matrix:He,typed:X});r.sort=Zr;var Fr=(0,h.createCot)({BigNumber:o,typed:X});r.cot=Fr;var Jr=(0,h.createDot)({add:Tn,multiply:xn,typed:X});r.dot=Jr;var gr=(0,h.createSum)({bignumber:dr,fraction:kt,add:Tn,config:b.config,typed:X});r.sum=gr;var ar=(0,h.createFactorial)({gamma:Pr,typed:X});r.factorial=ar;var Nr=(0,h.createPermutations)({factorial:ar,typed:X});r.permutations=Nr;var Br=(0,h.createCeil)({config:b.config,round:Gn,typed:X});r.ceil=Br;var mn=(0,h.createSubtract)({DenseMatrix:G,addScalar:Ot,equalScalar:W,matrix:He,typed:X,unaryMinus:Mt});r.subtract=mn;var Kn=(0,h.createCross)({matrix:He,multiply:xn,subtract:mn,typed:X});r.cross=Kn;var zt=(0,h.createCtranspose)({conj:It,transpose:Sr,typed:X});r.ctranspose=zt;var yr=(0,h.createEqual)({DenseMatrix:G,equalScalar:W,matrix:He,typed:X});r.equal=yr;var Mn=(0,h.createIndexClass)({ImmutableDenseMatrix:cr});r.Index=Mn;var pr=(0,h.createSetCartesian)({DenseMatrix:G,Index:Mn,compareNatural:Rn,size:un,subset:bn,typed:X});r.setCartesian=pr;var Kr=(0,h.createSetDistinct)({DenseMatrix:G,Index:Mn,compareNatural:Rn,size:un,subset:bn,typed:X});r.setDistinct=Kr;var ai=(0,h.createSetIsSubset)({Index:Mn,compareNatural:Rn,size:un,subset:bn,typed:X});r.setIsSubset=ai;var pn=(0,h.createSetPowerset)({Index:Mn,compareNatural:Rn,size:un,subset:bn,typed:X});r.setPowerset=pn;var ei=(0,h.createIndex)({Index:Mn,typed:X});r.index=ei;var Rr=(0,h.createFix)({Complex:p,ceil:Br,floor:hr,typed:X});r.fix=Rr;var Ln=(0,h.createRange)({bignumber:dr,matrix:He,config:b.config,larger:dn,largerEq:$n,smaller:zn,smallerEq:Cr,typed:X});r.range=Ln;var Sn=(0,h.createDivideScalar)({numeric:Er,typed:X});r.divideScalar=Sn;var si=(0,h.createNthRoots)({Complex:p,config:b.config,divideScalar:Sn,typed:X});r.nthRoots=si;var Tr=(0,h.createLsolve)({DenseMatrix:G,divideScalar:Sn,equalScalar:W,matrix:He,multiplyScalar:pe,subtract:mn,typed:X});r.lsolve=Tr;var oi=(0,h.createDeepEqual)({equal:yr,typed:X});r.deepEqual=oi;var kr=(0,h.createSetDifference)({DenseMatrix:G,Index:Mn,compareNatural:Rn,size:un,subset:bn,typed:X});r.setDifference=kr;var ci=(0,h.createSetMultiplicity)({Index:Mn,compareNatural:Rn,size:un,subset:bn,typed:X});r.setMultiplicity=ci;var Lr=(0,h.createHypot)({abs:jn,addScalar:Ot,divideScalar:Sn,isPositive:ee,multiplyScalar:pe,smaller:zn,sqrt:Pt,typed:X});r.hypot=Lr;var _n=(0,h.createLup)({DenseMatrix:G,Spa:Zn,SparseMatrix:Fe,abs:jn,addScalar:Ot,divideScalar:Sn,equalScalar:W,larger:dn,matrix:He,multiplyScalar:pe,subtract:mn,typed:X,unaryMinus:Mt});r.lup=_n;var vr=(0,h.createSlu)({SparseMatrix:Fe,abs:jn,add:Tn,divideScalar:Sn,larger:dn,largerEq:$n,multiply:xn,subtract:mn,transpose:Sr,typed:X});r.slu=vr;var Y=(0,h.createDet)({lup:_n,matrix:He,multiply:xn,subtract:mn,typed:X,unaryMinus:Mt});r.det=Y;var K=(0,h.createDistance)({abs:jn,addScalar:Ot,divideScalar:Sn,multiplyScalar:pe,sqrt:Pt,subtract:mn,typed:X,unaryMinus:Mt});r.distance=K;var ae=(0,h.createStirlingS2)({addScalar:Ot,combinations:it,divideScalar:Sn,factorial:ar,isInteger:Z,isNegative:Ue,larger:dn,multiplyScalar:pe,pow:rr,subtract:mn,typed:X});r.stirlingS2=ae;var se=(0,h.createCatalan)({addScalar:Ot,combinations:it,divideScalar:Sn,isInteger:Z,isNegative:Ue,multiplyScalar:pe,typed:X});r.catalan=se;var ge=(0,h.createXor)({DenseMatrix:G,matrix:He,typed:X});r.xor=ge;var Te=(0,h.createRow)({Index:Mn,matrix:He,range:Ln,typed:X});r.row=Te;var Pe=(0,h.createDotDivide)({DenseMatrix:G,divideScalar:Sn,equalScalar:W,matrix:He,typed:X});r.dotDivide=Pe;var Ge=(0,h.createUnitClass)({BigNumber:o,Complex:p,Fraction:L,abs:jn,addScalar:Ot,config:b.config,divideScalar:Sn,equal:yr,fix:Rr,format:Ne,isNumeric:J,multiplyScalar:pe,number:Q,pow:rr,round:Gn,subtract:mn});r.Unit=Ge;var Ze=(0,h.createCreateUnit)({Unit:Ge,typed:X});r.createUnit=Ze;var Qe=(0,h.createSetSymDifference)({Index:Mn,concat:Ut,setDifference:kr,size:un,subset:bn,typed:X});r.setSymDifference=Qe;var at=(0,h.createQr)({addScalar:Ot,complex:ce,conj:It,divideScalar:Sn,equal:yr,identity:Xt,isZero:xr,matrix:He,multiplyScalar:pe,sign:ye,sqrt:Pt,subtract:mn,typed:X,unaryMinus:Mt,zeros:Un});r.qr=at;var pt=(0,h.createInv)({abs:jn,addScalar:Ot,det:Y,divideScalar:Sn,identity:Xt,matrix:He,multiply:xn,typed:X,unaryMinus:Mt});r.inv=pt;var ut=(0,h.createExpm)({abs:jn,add:Tn,identity:Xt,inv:pt,multiply:xn,typed:X});r.expm=ut;var et=(0,h.createDivide)({divideScalar:Sn,equalScalar:W,inv:pt,matrix:He,multiply:xn,typed:X});r.divide=et;var Ct=(0,h.createMean)({add:Tn,divide:et,typed:X});r.mean=Ct;var vt=(0,h.createVariance)({add:Tn,apply:we,divide:et,isNaN:$,multiply:xn,subtract:mn,typed:X});r.variance=vt;var At=(0,h.createStd)({sqrt:Pt,typed:X,variance:vt});r.std=At;var mt=(0,h.createMultinomial)({add:Tn,divide:et,factorial:ar,isInteger:Z,isPositive:ee,multiply:xn,typed:X});r.multinomial=mt;var gt=(0,h.createAtomicMass)({BigNumber:o,Unit:Ge,config:b.config});r.atomicMass=gt;var Vt=(0,h.createBohrMagneton)({BigNumber:o,Unit:Ge,config:b.config});r.bohrMagneton=Vt;var Qt=(0,h.createBoltzmann)({BigNumber:o,Unit:Ge,config:b.config});r.boltzmann=Qt;var $t=(0,h.createConductanceQuantum)({BigNumber:o,Unit:Ge,config:b.config});r.conductanceQuantum=$t;var qt=(0,h.createDeuteronMass)({BigNumber:o,Unit:Ge,config:b.config});r.deuteronMass=qt;var Kt=(0,h.createElectronMass)({BigNumber:o,Unit:Ge,config:b.config});r.electronMass=Kt;var gn=(0,h.createFaraday)({BigNumber:o,Unit:Ge,config:b.config});r.faraday=gn;var An=(0,h.createFirstRadiation)({BigNumber:o,Unit:Ge,config:b.config});r.firstRadiation=An;var En=(0,h.createGravitationConstant)({BigNumber:o,Unit:Ge,config:b.config});r.gravitationConstant=En;var Pn=(0,h.createHartreeEnergy)({BigNumber:o,Unit:Ge,config:b.config});r.hartreeEnergy=Pn;var kn=(0,h.createKlitzing)({BigNumber:o,Unit:Ge,config:b.config});r.klitzing=kn;var Yn=(0,h.createMagneticConstant)({BigNumber:o,Unit:Ge,config:b.config});r.magneticConstant=Yn;var hn=(0,h.createMolarMass)({BigNumber:o,Unit:Ge,config:b.config});r.molarMass=hn;var yn=(0,h.createMolarPlanckConstant)({BigNumber:o,Unit:Ge,config:b.config});r.molarPlanckConstant=yn;var fn=(0,h.createNeutronMass)({BigNumber:o,Unit:Ge,config:b.config});r.neutronMass=fn;var In=(0,h.createPlanckCharge)({BigNumber:o,Unit:Ge,config:b.config});r.planckCharge=In;var wn=(0,h.createPlanckLength)({BigNumber:o,Unit:Ge,config:b.config});r.planckLength=wn;var On=(0,h.createPlanckTemperature)({BigNumber:o,Unit:Ge,config:b.config});r.planckTemperature=On;var vn=(0,h.createProtonMass)({BigNumber:o,Unit:Ge,config:b.config});r.protonMass=vn;var Nn=(0,h.createReducedPlanckConstant)({BigNumber:o,Unit:Ge,config:b.config});r.reducedPlanckConstant=Nn;var Ur=(0,h.createSecondRadiation)({BigNumber:o,Unit:Ge,config:b.config});r.secondRadiation=Ur;var br=(0,h.createStefanBoltzmann)({BigNumber:o,Unit:Ge,config:b.config});r.stefanBoltzmann=br;var Cn=(0,h.createVacuumImpedance)({BigNumber:o,Unit:Ge,config:b.config});r.vacuumImpedance=Cn;var Yt=(0,h.createColumn)({Index:Mn,matrix:He,range:Ln,typed:X});r.column=Yt;var fi=(0,h.createUsolve)({DenseMatrix:G,divideScalar:Sn,equalScalar:W,matrix:He,multiplyScalar:pe,subtract:mn,typed:X});r.usolve=fi;var he=(0,h.createSetIntersect)({DenseMatrix:G,Index:Mn,compareNatural:Rn,size:un,subset:bn,typed:X});r.setIntersect=he;var tn=(0,h.createLusolve)({DenseMatrix:G,lsolve:Tr,lup:_n,matrix:He,slu:vr,typed:X,usolve:fi});r.lusolve=tn;var ui=(0,h.createEigs)({abs:jn,add:Tn,addScalar:Ot,atan:Se,bignumber:dr,config:b.config,cos:Wt,equal:yr,inv:pt,matrix:He,multiply:xn,multiplyScalar:pe,sin:Je,subtract:mn,typed:X});r.eigs=ui;var fr=(0,h.createIntersect)({abs:jn,add:Tn,addScalar:Ot,config:b.config,divideScalar:Sn,equalScalar:W,matrix:He,multiply:xn,multiplyScalar:pe,smaller:zn,subtract:mn,typed:X});r.intersect=fr;var pi=(0,h.createBellNumbers)({addScalar:Ot,isInteger:Z,isNegative:Ue,stirlingS2:ae,typed:X});r.bellNumbers=pi;var Ke=(0,h.createAvogadro)({BigNumber:o,Unit:Ge,config:b.config});r.avogadro=Ke;var li=(0,h.createClassicalElectronRadius)({BigNumber:o,Unit:Ge,config:b.config});r.classicalElectronRadius=li;var hi=(0,h.createElectricConstant)({BigNumber:o,Unit:Ge,config:b.config});r.electricConstant=hi;var Hn=(0,h.createFermiCoupling)({BigNumber:o,Unit:Ge,config:b.config});r.fermiCoupling=Hn;var yi=(0,h.createGravity)({BigNumber:o,Unit:Ge,config:b.config});r.gravity=yi;var jt=(0,h.createLoschmidt)({BigNumber:o,Unit:Ge,config:b.config});r.loschmidt=jt;var qn=(0,h.createMolarMassC12)({BigNumber:o,Unit:Ge,config:b.config});r.molarMassC12=qn;var vi=(0,h.createNuclearMagneton)({BigNumber:o,Unit:Ge,config:b.config});r.nuclearMagneton=vi;var bi=(0,h.createPlanckMass)({BigNumber:o,Unit:Ge,config:b.config});r.planckMass=bi;var Mr=(0,h.createQuantumOfCirculation)({BigNumber:o,Unit:Ge,config:b.config});r.quantumOfCirculation=Mr;var Ai=(0,h.createSpeedOfLight)({BigNumber:o,Unit:Ge,config:b.config});r.speedOfLight=Ai;var mi=(0,h.createWienDisplacement)({BigNumber:o,Unit:Ge,config:b.config});r.wienDisplacement=mi;var _t=(0,h.createLog)({Complex:p,config:b.config,divideScalar:Sn,typed:X});r.log=_t;var Ii=(0,h.createUnitFunction)({Unit:Ge,typed:X});r.unit=Ii;var Fi=(0,h.createSqrtm)({abs:jn,add:Tn,identity:Xt,inv:pt,max:_r,multiply:xn,size:un,sqrt:Pt,subtract:mn,typed:X});r.sqrtm=Fi;var wi=(0,h.createKldivergence)({divide:et,dotDivide:Pe,isNumeric:J,log:_t,matrix:He,multiply:xn,sum:gr,typed:X});r.kldivergence=wi;var Bi=(0,h.createBohrRadius)({BigNumber:o,Unit:Ge,config:b.config});r.bohrRadius=Bi;var Di=(0,h.createElementaryCharge)({BigNumber:o,Unit:Ge,config:b.config});r.elementaryCharge=Di;var Si=(0,h.createInverseConductanceQuantum)({BigNumber:o,Unit:Ge,config:b.config});r.inverseConductanceQuantum=Si;var _i=(0,h.createMolarVolume)({BigNumber:o,Unit:Ge,config:b.config});r.molarVolume=_i;var Ri=(0,h.createPlanckTime)({BigNumber:o,Unit:Ge,config:b.config});r.planckTime=Ri;var xi=(0,h.createThomsonCrossSection)({BigNumber:o,Unit:Ge,config:b.config});r.thomsonCrossSection=xi;var Ei=(0,h.createLog1p)({Complex:p,config:b.config,divideScalar:Sn,log:_t,typed:X});r.log1p=Ei;var Ci=(0,h.createMedian)({add:Tn,compare:Vn,divide:et,partitionSelect:ir,typed:X});r.median=Ci;var Ni=(0,h.createGasConstant)({BigNumber:o,Unit:Ge,config:b.config});r.gasConstant=Ni;var ki=(0,h.createPlanckConstant)({BigNumber:o,Unit:Ge,config:b.config});r.planckConstant=ki;var Ti=(0,h.createSetUnion)({Index:Mn,concat:Ut,setIntersect:he,setSymDifference:Qe,size:un,subset:bn,typed:X});r.setUnion=Ti;var Li=(0,h.createMagneticFluxQuantum)({BigNumber:o,Unit:Ge,config:b.config});r.magneticFluxQuantum=Li;var Ui=(0,h.createCoulomb)({BigNumber:o,Unit:Ge,config:b.config});r.coulomb=Ui;var zi=(0,h.createMad)({abs:jn,map:xe,median:Ci,subtract:mn,typed:X});r.mad=zi;var er=(0,h.createRydberg)({BigNumber:o,Unit:Ge,config:b.config});r.rydberg=er},{"../factoriesAny":658,"./configReadonly":67}],397:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isAccessorNode",{enumerable:!0,get:function(){return b.isAccessorNode}}),Object.defineProperty(r,"isArray",{enumerable:!0,get:function(){return b.isArray}}),Object.defineProperty(r,"isArrayNode",{enumerable:!0,get:function(){return b.isArrayNode}}),Object.defineProperty(r,"isAssignmentNode",{enumerable:!0,get:function(){return b.isAssignmentNode}}),Object.defineProperty(r,"isBigNumber",{enumerable:!0,get:function(){return b.isBigNumber}}),Object.defineProperty(r,"isBlockNode",{enumerable:!0,get:function(){return b.isBlockNode}}),Object.defineProperty(r,"isBoolean",{enumerable:!0,get:function(){return b.isBoolean}}),Object.defineProperty(r,"isChain",{enumerable:!0,get:function(){return b.isChain}}),Object.defineProperty(r,"isCollection",{enumerable:!0,get:function(){return b.isCollection}}),Object.defineProperty(r,"isComplex",{enumerable:!0,get:function(){return b.isComplex}}),Object.defineProperty(r,"isConditionalNode",{enumerable:!0,get:function(){return b.isConditionalNode}}),Object.defineProperty(r,"isConstantNode",{enumerable:!0,get:function(){return b.isConstantNode}}),Object.defineProperty(r,"isDate",{enumerable:!0,get:function(){return b.isDate}}),Object.defineProperty(r,"isDenseMatrix",{enumerable:!0,get:function(){return b.isDenseMatrix}}),Object.defineProperty(r,"isFraction",{enumerable:!0,get:function(){return b.isFraction}}),Object.defineProperty(r,"isFunction",{enumerable:!0,get:function(){return b.isFunction}}),Object.defineProperty(r,"isFunctionAssignmentNode",{enumerable:!0,get:function(){return b.isFunctionAssignmentNode}}),Object.defineProperty(r,"isFunctionNode",{enumerable:!0,get:function(){return b.isFunctionNode}}),Object.defineProperty(r,"isHelp",{enumerable:!0,get:function(){return b.isHelp}}),Object.defineProperty(r,"isIndex",{enumerable:!0,get:function(){return b.isIndex}}),Object.defineProperty(r,"isIndexNode",{enumerable:!0,get:function(){return b.isIndexNode}}),Object.defineProperty(r,"isMatrix",{enumerable:!0,get:function(){return b.isMatrix}}),Object.defineProperty(r,"isNode",{enumerable:!0,get:function(){return b.isNode}}),Object.defineProperty(r,"isNull",{enumerable:!0,get:function(){return b.isNull}}),Object.defineProperty(r,"isNumber",{enumerable:!0,get:function(){return b.isNumber}}),Object.defineProperty(r,"isString",{enumerable:!0,get:function(){return b.isString}}),Object.defineProperty(r,"isUndefined",{enumerable:!0,get:function(){return b.isUndefined}}),Object.defineProperty(r,"isObject",{enumerable:!0,get:function(){return b.isObject}}),Object.defineProperty(r,"isObjectNode",{enumerable:!0,get:function(){return b.isObjectNode}}),Object.defineProperty(r,"isOperatorNode",{enumerable:!0,get:function(){return b.isOperatorNode}}),Object.defineProperty(r,"isParenthesisNode",{enumerable:!0,get:function(){return b.isParenthesisNode}}),Object.defineProperty(r,"isRange",{enumerable:!0,get:function(){return b.isRange}}),Object.defineProperty(r,"isRangeNode",{enumerable:!0,get:function(){return b.isRangeNode}}),Object.defineProperty(r,"isRegExp",{enumerable:!0,get:function(){return b.isRegExp}}),Object.defineProperty(r,"isResultSet",{enumerable:!0,get:function(){return b.isResultSet}}),Object.defineProperty(r,"isSparseMatrix",{enumerable:!0,get:function(){return b.isSparseMatrix}}),Object.defineProperty(r,"isSymbolNode",{enumerable:!0,get:function(){return b.isSymbolNode}}),Object.defineProperty(r,"isUnit",{enumerable:!0,get:function(){return b.isUnit}});var b=n("../utils/is")},{"../utils/is":933}],398:[function(n,a,r){function b(h,m,p,A){if(!(this instanceof b))throw new SyntaxError("Constructor must be called with the new operator");this.fn=h,this.count=m,this.min=p,this.max=A,this.message="Wrong number of arguments in function "+h+" ("+m+" provided, "+p+(A!=null?"-"+A:"")+" expected)",this.stack=new Error().stack}Object.defineProperty(r,"__esModule",{value:!0}),((r.ArgumentsError=b).prototype=new Error).constructor=Error,b.prototype.name="ArgumentsError",b.prototype.isArgumentsError=!0},{}],399:[function(n,a,r){function b(h,m,p){if(!(this instanceof b))throw new SyntaxError("Constructor must be called with the new operator");this.actual=h,this.expected=m,this.relation=p,this.message="Dimension mismatch ("+(Array.isArray(h)?"["+h.join(", ")+"]":h)+" "+(this.relation||"!=")+" "+(Array.isArray(m)?"["+m.join(", ")+"]":m)+")",this.stack=new Error().stack}Object.defineProperty(r,"__esModule",{value:!0}),((r.DimensionError=b).prototype=new RangeError).constructor=RangeError,b.prototype.name="DimensionError",b.prototype.isDimensionError=!0},{}],400:[function(n,a,r){function b(h,m,p){if(!(this instanceof b))throw new SyntaxError("Constructor must be called with the new operator");this.index=h,arguments.length<3?(this.min=0,this.max=m):(this.min=m,this.max=p),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Object.defineProperty(r,"__esModule",{value:!0}),((r.IndexError=b).prototype=new RangeError).constructor=RangeError,b.prototype.name="IndexError",b.prototype.isIndexError=!0},{}],401:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHelpClass=void 0;var b=n("../utils/is"),h=n("../utils/object"),m=n("../utils/string"),p=["parse"],A=(0,n("../utils/factory").factory)("Help",p,function(S){var _=S.parse;function l(y){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(!y)throw new Error('Argument "doc" missing');this.doc=y}return l.prototype.type="Help",l.prototype.isHelp=!0,l.prototype.toString=function(){var y=this.doc||{},o=`
`;if(y.name&&(o+="Name: "+y.name+`

`),y.category&&(o+="Category: "+y.category+`

`),y.description&&(o+=`Description:
    `+y.description+`

`),y.syntax&&(o+=`Syntax:
    `+y.syntax.join(`
    `)+`

`),y.examples){o+=`Examples:
`;for(var f={},x=0;x<y.examples.length;x++){var g=y.examples[x];o+="    "+g+`
`;var D=void 0;try{D=_(g).compile().evaluate(f)}catch(E){D=E}D===void 0||(0,b.isHelp)(D)||(o+="        "+(0,m.format)(D,{precision:14})+`
`)}o+=`
`}return y.seealso&&y.seealso.length&&(o+="See also: "+y.seealso.join(", ")+`
`),o},l.prototype.toJSON=function(){var y=(0,h.clone)(this.doc);return y.mathjs="Help",y},l.fromJSON=function(y){var o={};for(var f in y)f!=="mathjs"&&(o[f]=y[f]);return new l(o)},l.prototype.valueOf=l.prototype.toString,l},{isClass:!0});r.createHelpClass=A},{"../utils/factory":931,"../utils/is":933,"../utils/object":938,"../utils/string":941}],402:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createParserClass=void 0;var b=n("../utils/factory"),h=n("../utils/object"),m=n("../utils/customs"),p=n("../utils/log"),A=["parse"],S=(0,b.factory)("Parser",A,function(_){var l=_.parse;function y(){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return y.prototype.type="Parser",y.prototype.isParser=!0,y.prototype.parse=function(o){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},y.prototype.compile=function(o){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},y.prototype.evaluate=function(o){return l(o).compile().evaluate(this.scope)},y.prototype.eval=function(o){return(0,p.warnOnce)("Method Parser.eval is renamed to Parser.evaluate. Please use the new method name."),this.evaluate(o)},y.prototype.get=function(o){return o in this.scope?(0,m.getSafeProperty)(this.scope,o):void 0},y.prototype.getAll=function(){return(0,h.extend)({},this.scope)},y.prototype.set=function(o,f){return(0,m.setSafeProperty)(this.scope,o,f)},y.prototype.remove=function(o){delete this.scope[o]},y.prototype.clear=function(){for(var o in this.scope)(0,h.hasOwnProperty)(this.scope,o)&&delete this.scope[o]},y},{isClass:!0});r.createParserClass=S},{"../utils/customs":929,"../utils/factory":931,"../utils/log":935,"../utils/object":938}],403:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.InfinityDocs=void 0,r.InfinityDocs={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},{}],404:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LN10Docs=void 0,r.LN10Docs={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},{}],405:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LN2Docs=void 0,r.LN2Docs={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},{}],406:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LOG10EDocs=void 0,r.LOG10EDocs={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},{}],407:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.LOG2EDocs=void 0,r.LOG2EDocs={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},{}],408:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.NaNDocs=void 0,r.NaNDocs={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},{}],409:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SQRT12Docs=void 0,r.SQRT12Docs={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},{}],410:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.SQRT2Docs=void 0,r.SQRT2Docs={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},{}],411:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.eDocs=void 0,r.eDocs={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},{}],412:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.falseDocs=void 0,r.falseDocs={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},{}],413:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.iDocs=void 0,r.iDocs={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},{}],414:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nullDocs=void 0,r.nullDocs={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},{}],415:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.phiDocs=void 0,r.phiDocs={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]}},{}],416:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.piDocs=void 0,r.piDocs={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},{}],417:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tauDocs=void 0,r.tauDocs={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},{}],418:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.trueDocs=void 0,r.trueDocs={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},{}],419:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.versionDocs=void 0,r.versionDocs={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},{}],420:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bignumberDocs=void 0,r.bignumberDocs={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]}},{}],421:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.booleanDocs=void 0,r.booleanDocs={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},{}],422:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.complexDocs=void 0,r.complexDocs={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},{}],423:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUnitDocs=void 0,r.createUnitDocs={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]}},{}],424:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fractionDocs=void 0,r.fractionDocs={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},{}],425:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.indexDocs=void 0,r.indexDocs={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},{}],426:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.matrixDocs=void 0,r.matrixDocs={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]}},{}],427:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.numberDocs=void 0,r.numberDocs={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]}},{}],428:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sparseDocs=void 0,r.sparseDocs={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]}},{}],429:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.splitUnitDocs=void 0,r.splitUnitDocs={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]}},{}],430:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stringDocs=void 0,r.stringDocs={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},{}],431:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unitDocs=void 0,r.unitDocs={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},{}],432:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.configDocs=void 0,r.configDocs={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]}},{}],433:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.importDocs=void 0,r.importDocs={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]}},{}],434:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.typedDocs=void 0,r.typedDocs={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]}},{}],435:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.embeddedDocs=void 0;var b=n("./construction/bignumber"),h=n("./function/utils/typeOf"),m=n("./function/utils/isZero"),p=n("./function/utils/isPrime"),A=n("./function/utils/isPositive"),S=n("./function/utils/isNumeric"),_=n("./function/utils/hasNumericValue"),l=n("./function/utils/isNegative"),y=n("./function/utils/isInteger"),o=n("./function/utils/isNaN"),f=n("./function/utils/format"),x=n("./function/utils/clone"),g=n("./function/units/to"),D=n("./function/trigonometry/tanh"),E=n("./function/trigonometry/tan"),C=n("./function/trigonometry/sinh"),T=n("./function/trigonometry/sech"),O=n("./function/trigonometry/sec"),I=n("./function/trigonometry/csch"),M=n("./function/trigonometry/csc"),F=n("./function/trigonometry/coth"),B=n("./function/trigonometry/cot"),j=n("./function/trigonometry/cosh"),L=n("./function/trigonometry/cos"),R=n("./function/trigonometry/atan2"),V=n("./function/trigonometry/atanh"),k=n("./function/trigonometry/atan"),U=n("./function/trigonometry/asinh"),G=n("./function/trigonometry/asin"),H=n("./function/trigonometry/asech"),X=n("./function/trigonometry/asec"),Z=n("./function/trigonometry/acsch"),J=n("./function/trigonometry/acsc"),ee=n("./function/trigonometry/acoth"),$=n("./function/trigonometry/acot"),W=n("./function/trigonometry/acosh"),Q=n("./function/trigonometry/acos"),te=n("./function/statistics/sum"),ce=n("./function/statistics/std"),oe=n("./function/statistics/quantileSeq"),ue=n("./function/statistics/prod"),we=n("./function/statistics/mode"),le=n("./function/statistics/min"),fe=n("./function/statistics/median"),ve=n("./function/statistics/mean"),pe=n("./function/statistics/max"),ye=n("./function/statistics/mad"),Ae=n("./function/special/erf"),be=n("./function/set/setUnion"),ne=n("./function/set/setSymDifference"),re=n("./function/set/setSize"),de=n("./function/set/setPowerset"),Ce=n("./function/set/setMultiplicity"),je=n("./function/set/setIsSubset"),xe=n("./function/set/setIntersect"),Ie=n("./function/set/setDistinct"),Ne=n("./function/set/setDifference"),Be=n("./function/set/setCartesian"),$e=n("./function/relational/unequal"),Le=n("./function/relational/smallerEq"),qe=n("./function/relational/smaller"),ze=n("./function/relational/largerEq"),Ee=n("./function/relational/larger"),Se=n("./function/relational/equalText"),Me=n("./function/relational/equal"),me=n("./function/relational/deepEqual"),Ve=n("./function/relational/compareText"),Xe=n("./function/relational/compareNatural"),rt=n("./function/relational/compare"),lt=n("./function/probability/randomInt"),nt=n("./function/probability/random"),it=n("./function/probability/pickRandom"),dt=n("./function/probability/permutations"),ft=n("./function/probability/multinomial"),yt=n("./function/probability/kldivergence"),bt=n("./function/probability/gamma"),wt=n("./function/probability/factorial"),xt=n("./function/probability/combinations"),Tt=n("./function/probability/combinationsWithRep"),kt=n("./function/matrix/zeros"),Mt=n("./function/matrix/transpose"),Ot=n("./function/matrix/trace"),Lt=n("./function/matrix/subset"),Ft=n("./function/matrix/squeeze"),Pt=n("./function/matrix/sort"),It=n("./function/matrix/size"),Rt=n("./function/matrix/reshape"),Ht=n("./function/matrix/resize"),rn=n("./function/matrix/range"),Zt=n("./function/matrix/partitionSelect"),Jt=n("./function/matrix/ones"),an=n("./function/matrix/map"),Wt=n("./function/matrix/kron"),nn=n("./function/matrix/inv"),Je=n("./function/matrix/forEach"),Et=n("./function/matrix/flatten"),_e=n("./function/matrix/filter"),Oe=n("./function/matrix/identity"),Ue=n("./function/matrix/getMatrixDataType"),Fe=n("./function/matrix/dot"),He=n("./function/matrix/diag"),Re=n("./function/matrix/det"),Ye=n("./function/matrix/ctranspose"),tt=n("./function/matrix/cross"),ct=n("./function/matrix/concat"),st=n("./function/logical/xor"),ot=n("./function/logical/or"),Dt=n("./function/logical/not"),Nt=n("./function/logical/and"),Ut=n("./function/geometry/intersect"),Gt=n("./function/geometry/distance"),Xt=n("./function/expression/help"),en=n("./function/expression/evaluate"),sn=n("./function/complex/im"),un=n("./function/complex/re"),bn=n("./function/complex/conj"),Un=n("./function/complex/arg"),tr=n("./core/typed"),Gn=n("./core/import"),nr=n("./core/config"),Bn=n("./function/combinatorics/stirlingS2"),Vn=n("./function/combinatorics/composition"),Jn=n("./function/combinatorics/catalan"),zn=n("./function/combinatorics/bellNumbers"),dn=n("./function/bitwise/rightLogShift"),on=n("./function/bitwise/rightArithShift"),_r=n("./function/bitwise/leftShift"),cr=n("./function/bitwise/bitXor"),ur=n("./function/bitwise/bitOr"),Wn=n("./function/bitwise/bitNot"),zr=n("./function/bitwise/bitAnd"),Gr=n("./function/arithmetic/xgcd"),lr=n("./function/arithmetic/unaryPlus"),Tn=n("./function/arithmetic/unaryMinus"),ti=n("./function/arithmetic/square"),Or=n("./function/arithmetic/sqrtm"),xr=n("./function/arithmetic/sqrt"),jn=n("./function/arithmetic/sign"),hr=n("./function/arithmetic/round"),xn=n("./function/arithmetic/pow"),jr=n("./function/arithmetic/nthRoots"),Vr=n("./function/arithmetic/nthRoot"),Ar=n("./function/arithmetic/norm"),wr=n("./function/arithmetic/multiply"),ni=n("./function/arithmetic/mod"),ri=n("./function/arithmetic/log10"),rr=n("./function/arithmetic/log1p"),Xn=n("./function/arithmetic/log2"),Qn=n("./function/arithmetic/log"),Rn=n("./function/arithmetic/lcm"),mr=n("./function/arithmetic/hypot"),$n=n("./function/arithmetic/gcd"),ir=n("./function/arithmetic/floor"),ii=n("./function/arithmetic/fix"),Zn=n("./function/arithmetic/expm1"),Dr=n("./function/arithmetic/expm"),$r=n("./function/matrix/eigs"),Hr=n("./function/arithmetic/exp"),qr=n("./function/arithmetic/dotMultiply"),Wr=n("./function/arithmetic/dotDivide"),Pr=n("./function/arithmetic/divide"),dr=n("./function/arithmetic/cube"),Ir=n("./function/arithmetic/ceil"),Xr=n("./function/arithmetic/cbrt"),Yr=n("./function/arithmetic/add"),Sr=n("./function/arithmetic/abs"),Er=n("./function/algebra/qr"),Qr=n("./function/algebra/usolve"),Cr=n("./function/algebra/slu"),Zr=n("./function/algebra/rationalize"),Fr=n("./function/algebra/simplify"),Jr=n("./function/algebra/lup"),gr=n("./function/algebra/lsolve"),ar=n("./function/algebra/derivative"),Nr=n("./constants/version"),Br=n("./constants/true"),mn=n("./constants/tau"),Kn=n("./constants/SQRT2"),zt=n("./constants/SQRT1_2"),yr=n("./constants/phi"),Mn=n("./constants/pi"),pr=n("./constants/null"),Kr=n("./constants/NaN"),ai=n("./constants/LOG10E"),pn=n("./constants/LOG2E"),ei=n("./constants/LN10"),Rr=n("./constants/LN2"),Ln=n("./constants/Infinity"),Sn=n("./constants/i"),si=n("./constants/false"),Tr=n("./constants/e"),oi=n("./construction/unit"),kr=n("./construction/string"),ci=n("./construction/splitUnit"),Lr=n("./construction/sparse"),_n=n("./construction/number"),vr=n("./construction/matrix"),Y=n("./construction"),K=n("./construction/fraction"),ae=n("./construction/createUnit"),se=n("./construction/complex"),ge=n("./construction/boolean"),Te=n("./function/arithmetic/dotPow"),Pe=n("./function/algebra/lusolve"),Ge=n("./function/arithmetic/subtract"),Ze=n("./function/statistics/variance"),Qe=n("./function/trigonometry/sin"),at=n("./function/utils/numeric"),pt=n("./function/matrix/column"),ut=n("./function/matrix/row"),et={bignumber:b.bignumberDocs,boolean:ge.booleanDocs,complex:se.complexDocs,createUnit:ae.createUnitDocs,fraction:K.fractionDocs,index:Y.indexDocs,matrix:vr.matrixDocs,number:_n.numberDocs,sparse:Lr.sparseDocs,splitUnit:ci.splitUnitDocs,string:kr.stringDocs,unit:oi.unitDocs,e:Tr.eDocs,E:Tr.eDocs,false:si.falseDocs,i:Sn.iDocs,Infinity:Ln.InfinityDocs,LN2:Rr.LN2Docs,LN10:ei.LN10Docs,LOG2E:pn.LOG2EDocs,LOG10E:ai.LOG10EDocs,NaN:Kr.NaNDocs,null:pr.nullDocs,pi:Mn.piDocs,PI:Mn.piDocs,phi:yr.phiDocs,SQRT1_2:zt.SQRT12Docs,SQRT2:Kn.SQRT2Docs,tau:mn.tauDocs,true:Br.trueDocs,version:Nr.versionDocs,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:ar.derivativeDocs,lsolve:gr.lsolveDocs,lup:Jr.lupDocs,lusolve:Pe.lusolveDocs,simplify:Fr.simplifyDocs,rationalize:Zr.rationalizeDocs,slu:Cr.sluDocs,usolve:Qr.usolveDocs,qr:Er.qrDocs,abs:Sr.absDocs,add:Yr.addDocs,cbrt:Xr.cbrtDocs,ceil:Ir.ceilDocs,cube:dr.cubeDocs,divide:Pr.divideDocs,dotDivide:Wr.dotDivideDocs,dotMultiply:qr.dotMultiplyDocs,dotPow:Te.dotPowDocs,exp:Hr.expDocs,expm:Dr.expmDocs,expm1:Zn.expm1Docs,fix:ii.fixDocs,floor:ir.floorDocs,gcd:$n.gcdDocs,hypot:mr.hypotDocs,lcm:Rn.lcmDocs,log:Qn.logDocs,log2:Xn.log2Docs,log1p:rr.log1pDocs,log10:ri.log10Docs,mod:ni.modDocs,multiply:wr.multiplyDocs,norm:Ar.normDocs,nthRoot:Vr.nthRootDocs,nthRoots:jr.nthRootsDocs,pow:xn.powDocs,round:hr.roundDocs,sign:jn.signDocs,sqrt:xr.sqrtDocs,sqrtm:Or.sqrtmDocs,square:ti.squareDocs,subtract:Ge.subtractDocs,unaryMinus:Tn.unaryMinusDocs,unaryPlus:lr.unaryPlusDocs,xgcd:Gr.xgcdDocs,bitAnd:zr.bitAndDocs,bitNot:Wn.bitNotDocs,bitOr:ur.bitOrDocs,bitXor:cr.bitXorDocs,leftShift:_r.leftShiftDocs,rightArithShift:on.rightArithShiftDocs,rightLogShift:dn.rightLogShiftDocs,bellNumbers:zn.bellNumbersDocs,catalan:Jn.catalanDocs,composition:Vn.compositionDocs,stirlingS2:Bn.stirlingS2Docs,config:nr.configDocs,import:Gn.importDocs,typed:tr.typedDocs,arg:Un.argDocs,conj:bn.conjDocs,re:un.reDocs,im:sn.imDocs,evaluate:en.evaluateDocs,eval:en.evaluateDocs,help:Xt.helpDocs,distance:Gt.distanceDocs,intersect:Ut.intersectDocs,and:Nt.andDocs,not:Dt.notDocs,or:ot.orDocs,xor:st.xorDocs,concat:ct.concatDocs,cross:tt.crossDocs,column:pt.columnDocs,ctranspose:Ye.ctransposeDocs,det:Re.detDocs,diag:He.diagDocs,dot:Fe.dotDocs,getMatrixDataType:Ue.getMatrixDataTypeDocs,identity:Oe.identityDocs,filter:_e.filterDocs,flatten:Et.flattenDocs,forEach:Je.forEachDocs,inv:nn.invDocs,eigs:$r.eigsDocs,kron:Wt.kronDocs,map:an.mapDocs,ones:Jt.onesDocs,partitionSelect:Zt.partitionSelectDocs,range:rn.rangeDocs,resize:Ht.resizeDocs,reshape:Rt.reshapeDocs,row:ut.rowDocs,size:It.sizeDocs,sort:Pt.sortDocs,squeeze:Ft.squeezeDocs,subset:Lt.subsetDocs,trace:Ot.traceDocs,transpose:Mt.transposeDocs,zeros:kt.zerosDocs,combinations:xt.combinationsDocs,combinationsWithRep:Tt.combinationsWithRepDocs,factorial:wt.factorialDocs,gamma:bt.gammaDocs,kldivergence:yt.kldivergenceDocs,multinomial:ft.multinomialDocs,permutations:dt.permutationsDocs,pickRandom:it.pickRandomDocs,random:nt.randomDocs,randomInt:lt.randomIntDocs,compare:rt.compareDocs,compareNatural:Xe.compareNaturalDocs,compareText:Ve.compareTextDocs,deepEqual:me.deepEqualDocs,equal:Me.equalDocs,equalText:Se.equalTextDocs,larger:Ee.largerDocs,largerEq:ze.largerEqDocs,smaller:qe.smallerDocs,smallerEq:Le.smallerEqDocs,unequal:$e.unequalDocs,setCartesian:Be.setCartesianDocs,setDifference:Ne.setDifferenceDocs,setDistinct:Ie.setDistinctDocs,setIntersect:xe.setIntersectDocs,setIsSubset:je.setIsSubsetDocs,setMultiplicity:Ce.setMultiplicityDocs,setPowerset:de.setPowersetDocs,setSize:re.setSizeDocs,setSymDifference:ne.setSymDifferenceDocs,setUnion:be.setUnionDocs,erf:Ae.erfDocs,mad:ye.madDocs,max:pe.maxDocs,mean:ve.meanDocs,median:fe.medianDocs,min:le.minDocs,mode:we.modeDocs,prod:ue.prodDocs,quantileSeq:oe.quantileSeqDocs,std:ce.stdDocs,sum:te.sumDocs,variance:Ze.varianceDocs,var:Ze.varianceDocs,acos:Q.acosDocs,acosh:W.acoshDocs,acot:$.acotDocs,acoth:ee.acothDocs,acsc:J.acscDocs,acsch:Z.acschDocs,asec:X.asecDocs,asech:H.asechDocs,asin:G.asinDocs,asinh:U.asinhDocs,atan:k.atanDocs,atanh:V.atanhDocs,atan2:R.atan2Docs,cos:L.cosDocs,cosh:j.coshDocs,cot:B.cotDocs,coth:F.cothDocs,csc:M.cscDocs,csch:I.cschDocs,sec:O.secDocs,sech:T.sechDocs,sin:Qe.sinDocs,sinh:C.sinhDocs,tan:E.tanDocs,tanh:D.tanhDocs,to:g.toDocs,clone:x.cloneDocs,format:f.formatDocs,isNaN:o.isNaNDocs,isInteger:y.isIntegerDocs,isNegative:l.isNegativeDocs,isNumeric:S.isNumericDocs,hasNumericValue:_.hasNumericValueDocs,isPositive:A.isPositiveDocs,isPrime:p.isPrimeDocs,isZero:m.isZeroDocs,typeOf:h.typeOfDocs,typeof:h.typeOfDocs,numeric:at.numericDocs};r.embeddedDocs=et},{"./constants/Infinity":403,"./constants/LN10":404,"./constants/LN2":405,"./constants/LOG10E":406,"./constants/LOG2E":407,"./constants/NaN":408,"./constants/SQRT1_2":409,"./constants/SQRT2":410,"./constants/e":411,"./constants/false":412,"./constants/i":413,"./constants/null":414,"./constants/phi":415,"./constants/pi":416,"./constants/tau":417,"./constants/true":418,"./constants/version":419,"./construction":425,"./construction/bignumber":420,"./construction/boolean":421,"./construction/complex":422,"./construction/createUnit":423,"./construction/fraction":424,"./construction/matrix":426,"./construction/number":427,"./construction/sparse":428,"./construction/splitUnit":429,"./construction/string":430,"./construction/unit":431,"./core/config":432,"./core/import":433,"./core/typed":434,"./function/algebra/derivative":436,"./function/algebra/lsolve":437,"./function/algebra/lup":438,"./function/algebra/lusolve":439,"./function/algebra/qr":440,"./function/algebra/rationalize":441,"./function/algebra/simplify":442,"./function/algebra/slu":443,"./function/algebra/usolve":444,"./function/arithmetic/abs":445,"./function/arithmetic/add":446,"./function/arithmetic/cbrt":447,"./function/arithmetic/ceil":448,"./function/arithmetic/cube":449,"./function/arithmetic/divide":450,"./function/arithmetic/dotDivide":451,"./function/arithmetic/dotMultiply":452,"./function/arithmetic/dotPow":453,"./function/arithmetic/exp":454,"./function/arithmetic/expm":455,"./function/arithmetic/expm1":456,"./function/arithmetic/fix":457,"./function/arithmetic/floor":458,"./function/arithmetic/gcd":459,"./function/arithmetic/hypot":460,"./function/arithmetic/lcm":461,"./function/arithmetic/log":462,"./function/arithmetic/log10":463,"./function/arithmetic/log1p":464,"./function/arithmetic/log2":465,"./function/arithmetic/mod":466,"./function/arithmetic/multiply":467,"./function/arithmetic/norm":468,"./function/arithmetic/nthRoot":469,"./function/arithmetic/nthRoots":470,"./function/arithmetic/pow":471,"./function/arithmetic/round":472,"./function/arithmetic/sign":473,"./function/arithmetic/sqrt":474,"./function/arithmetic/sqrtm":475,"./function/arithmetic/square":476,"./function/arithmetic/subtract":477,"./function/arithmetic/unaryMinus":478,"./function/arithmetic/unaryPlus":479,"./function/arithmetic/xgcd":480,"./function/bitwise/bitAnd":481,"./function/bitwise/bitNot":482,"./function/bitwise/bitOr":483,"./function/bitwise/bitXor":484,"./function/bitwise/leftShift":485,"./function/bitwise/rightArithShift":486,"./function/bitwise/rightLogShift":487,"./function/combinatorics/bellNumbers":488,"./function/combinatorics/catalan":489,"./function/combinatorics/composition":490,"./function/combinatorics/stirlingS2":491,"./function/complex/arg":492,"./function/complex/conj":493,"./function/complex/im":494,"./function/complex/re":495,"./function/expression/evaluate":496,"./function/expression/help":497,"./function/geometry/distance":498,"./function/geometry/intersect":499,"./function/logical/and":500,"./function/logical/not":501,"./function/logical/or":502,"./function/logical/xor":503,"./function/matrix/column":504,"./function/matrix/concat":505,"./function/matrix/cross":506,"./function/matrix/ctranspose":507,"./function/matrix/det":508,"./function/matrix/diag":509,"./function/matrix/dot":510,"./function/matrix/eigs":511,"./function/matrix/filter":512,"./function/matrix/flatten":513,"./function/matrix/forEach":514,"./function/matrix/getMatrixDataType":515,"./function/matrix/identity":516,"./function/matrix/inv":517,"./function/matrix/kron":518,"./function/matrix/map":519,"./function/matrix/ones":520,"./function/matrix/partitionSelect":521,"./function/matrix/range":522,"./function/matrix/reshape":523,"./function/matrix/resize":524,"./function/matrix/row":525,"./function/matrix/size":526,"./function/matrix/sort":527,"./function/matrix/squeeze":528,"./function/matrix/subset":529,"./function/matrix/trace":530,"./function/matrix/transpose":531,"./function/matrix/zeros":532,"./function/probability/combinations":533,"./function/probability/combinationsWithRep":534,"./function/probability/factorial":535,"./function/probability/gamma":536,"./function/probability/kldivergence":537,"./function/probability/multinomial":538,"./function/probability/permutations":539,"./function/probability/pickRandom":540,"./function/probability/random":541,"./function/probability/randomInt":542,"./function/relational/compare":543,"./function/relational/compareNatural":544,"./function/relational/compareText":545,"./function/relational/deepEqual":546,"./function/relational/equal":547,"./function/relational/equalText":548,"./function/relational/larger":549,"./function/relational/largerEq":550,"./function/relational/smaller":551,"./function/relational/smallerEq":552,"./function/relational/unequal":553,"./function/set/setCartesian":554,"./function/set/setDifference":555,"./function/set/setDistinct":556,"./function/set/setIntersect":557,"./function/set/setIsSubset":558,"./function/set/setMultiplicity":559,"./function/set/setPowerset":560,"./function/set/setSize":561,"./function/set/setSymDifference":562,"./function/set/setUnion":563,"./function/special/erf":564,"./function/statistics/mad":565,"./function/statistics/max":566,"./function/statistics/mean":567,"./function/statistics/median":568,"./function/statistics/min":569,"./function/statistics/mode":570,"./function/statistics/prod":571,"./function/statistics/quantileSeq":572,"./function/statistics/std":573,"./function/statistics/sum":574,"./function/statistics/variance":575,"./function/trigonometry/acos":576,"./function/trigonometry/acosh":577,"./function/trigonometry/acot":578,"./function/trigonometry/acoth":579,"./function/trigonometry/acsc":580,"./function/trigonometry/acsch":581,"./function/trigonometry/asec":582,"./function/trigonometry/asech":583,"./function/trigonometry/asin":584,"./function/trigonometry/asinh":585,"./function/trigonometry/atan":586,"./function/trigonometry/atan2":587,"./function/trigonometry/atanh":588,"./function/trigonometry/cos":589,"./function/trigonometry/cosh":590,"./function/trigonometry/cot":591,"./function/trigonometry/coth":592,"./function/trigonometry/csc":593,"./function/trigonometry/csch":594,"./function/trigonometry/sec":595,"./function/trigonometry/sech":596,"./function/trigonometry/sin":597,"./function/trigonometry/sinh":598,"./function/trigonometry/tan":599,"./function/trigonometry/tanh":600,"./function/units/to":601,"./function/utils/clone":602,"./function/utils/format":603,"./function/utils/hasNumericValue":604,"./function/utils/isInteger":605,"./function/utils/isNaN":606,"./function/utils/isNegative":607,"./function/utils/isNumeric":608,"./function/utils/isPositive":609,"./function/utils/isPrime":610,"./function/utils/isZero":611,"./function/utils/numeric":612,"./function/utils/typeOf":613}],436:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.derivativeDocs=void 0,r.derivativeDocs={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]}},{}],437:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lsolveDocs=void 0,r.lsolveDocs={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]}},{}],438:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lupDocs=void 0,r.lupDocs={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]}},{}],439:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lusolveDocs=void 0,r.lusolveDocs={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]}},{}],440:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.qrDocs=void 0,r.qrDocs={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]}},{}],441:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rationalizeDocs=void 0,r.rationalizeDocs={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]}},{}],442:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.simplifyDocs=void 0,r.simplifyDocs={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["derivative","parse","evaluate"]}},{}],443:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sluDocs=void 0,r.sluDocs={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]}},{}],444:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.usolveDocs=void 0,r.usolveDocs={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]}},{}],445:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.absDocs=void 0,r.absDocs={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},{}],446:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.addDocs=void 0,r.addDocs={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]}},{}],447:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cbrtDocs=void 0,r.cbrtDocs={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]}},{}],448:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ceilDocs=void 0,r.ceilDocs={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},{}],449:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cubeDocs=void 0,r.cubeDocs={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},{}],450:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.divideDocs=void 0,r.divideDocs={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},{}],451:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dotDivideDocs=void 0,r.dotDivideDocs={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},{}],452:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dotMultiplyDocs=void 0,r.dotMultiplyDocs={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},{}],453:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dotPowDocs=void 0,r.dotPowDocs={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},{}],454:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expDocs=void 0,r.expDocs={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]}},{}],455:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expmDocs=void 0,r.expmDocs={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]}},{}],456:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.expm1Docs=void 0,r.expm1Docs={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]}},{}],457:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fixDocs=void 0,r.fixDocs={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},{}],458:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.floorDocs=void 0,r.floorDocs={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},{}],459:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.gcdDocs=void 0,r.gcdDocs={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},{}],460:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hypotDocs=void 0,r.hypotDocs={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]}},{}],461:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.lcmDocs=void 0,r.lcmDocs={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},{}],462:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.logDocs=void 0,r.logDocs={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]}},{}],463:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.log10Docs=void 0,r.log10Docs={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},{}],464:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.log1pDocs=void 0,r.log1pDocs={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]}},{}],465:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.log2Docs=void 0,r.log2Docs={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]}},{}],466:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.modDocs=void 0,r.modDocs={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},{}],467:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.multiplyDocs=void 0,r.multiplyDocs={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},{}],468:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.normDocs=void 0,r.normDocs={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']}},{}],469:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nthRootDocs=void 0,r.nthRootDocs={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]}},{}],470:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nthRootsDocs=void 0,r.nthRootsDocs={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]}},{}],471:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.powDocs=void 0,r.powDocs={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]}},{}],472:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.roundDocs=void 0,r.roundDocs={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},{}],473:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.signDocs=void 0,r.signDocs={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},{}],474:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sqrtDocs=void 0,r.sqrtDocs={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]}},{}],475:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sqrtmDocs=void 0,r.sqrtmDocs={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]}},{}],476:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.squareDocs=void 0,r.squareDocs={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},{}],477:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.subtractDocs=void 0,r.subtractDocs={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},{}],478:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unaryMinusDocs=void 0,r.unaryMinusDocs={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},{}],479:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unaryPlusDocs=void 0,r.unaryPlusDocs={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},{}],480:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.xgcdDocs=void 0,r.xgcdDocs={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},{}],481:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitAndDocs=void 0,r.bitAndDocs={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},{}],482:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitNotDocs=void 0,r.bitNotDocs={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},{}],483:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitOrDocs=void 0,r.bitOrDocs={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},{}],484:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitXorDocs=void 0,r.bitXorDocs={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},{}],485:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.leftShiftDocs=void 0,r.leftShiftDocs={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},{}],486:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rightArithShiftDocs=void 0,r.rightArithShiftDocs={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},{}],487:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rightLogShiftDocs=void 0,r.rightLogShiftDocs={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},{}],488:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bellNumbersDocs=void 0,r.bellNumbersDocs={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}},{}],489:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.catalanDocs=void 0,r.catalanDocs={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]}},{}],490:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compositionDocs=void 0,r.compositionDocs={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}},{}],491:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stirlingS2Docs=void 0,r.stirlingS2Docs={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}},{}],492:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.argDocs=void 0,r.argDocs={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},{}],493:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.conjDocs=void 0,r.conjDocs={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},{}],494:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.imDocs=void 0,r.imDocs={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},{}],495:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reDocs=void 0,r.reDocs={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},{}],496:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.evaluateDocs=void 0,r.evaluateDocs={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]}},{}],497:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.helpDocs=void 0,r.helpDocs={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},{}],498:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.distanceDocs=void 0,r.distanceDocs={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]}},{}],499:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.intersectDocs=void 0,r.intersectDocs={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]}},{}],500:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.andDocs=void 0,r.andDocs={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},{}],501:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.notDocs=void 0,r.notDocs={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]}},{}],502:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.orDocs=void 0,r.orDocs={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},{}],503:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.xorDocs=void 0,r.xorDocs={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]}},{}],504:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.columnDocs=void 0,r.columnDocs={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row"]}},{}],505:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.concatDocs=void 0,r.concatDocs={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],506:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.crossDocs=void 0,r.crossDocs={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},{}],507:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ctransposeDocs=void 0,r.ctransposeDocs={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]}},{}],508:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.detDocs=void 0,r.detDocs={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],509:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.diagDocs=void 0,r.diagDocs={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],510:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.dotDocs=void 0,r.dotDocs={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},{}],511:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.eigsDocs=void 0,r.eigsDocs={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]}},{}],512:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.filterDocs=void 0,r.filterDocs={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},{}],513:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.flattenDocs=void 0,r.flattenDocs={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},{}],514:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.forEachDocs=void 0,r.forEachDocs={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},{}],515:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getMatrixDataTypeDocs=void 0,r.getMatrixDataTypeDocs={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]}},{}],516:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.identityDocs=void 0,r.identityDocs={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],517:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.invDocs=void 0,r.invDocs={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],518:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.kronDocs=void 0,r.kronDocs={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]}},{}],519:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mapDocs=void 0,r.mapDocs={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]}},{}],520:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.onesDocs=void 0,r.onesDocs={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],521:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.partitionSelectDocs=void 0,r.partitionSelectDocs={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}},{}],522:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rangeDocs=void 0,r.rangeDocs={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},{}],523:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.reshapeDocs=void 0,r.reshapeDocs={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]}},{}],524:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.resizeDocs=void 0,r.resizeDocs={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]}},{}],525:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.rowDocs=void 0,r.rowDocs={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column"]}},{}],526:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sizeDocs=void 0,r.sizeDocs={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},{}],527:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sortDocs=void 0,r.sortDocs={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]}},{}],528:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.squeezeDocs=void 0,r.squeezeDocs={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]}},{}],529:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.subsetDocs=void 0,r.subsetDocs={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},{}],530:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.traceDocs=void 0,r.traceDocs={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},{}],531:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.transposeDocs=void 0,r.transposeDocs={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]}},{}],532:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.zerosDocs=void 0,r.zerosDocs={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]}},{}],533:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.combinationsDocs=void 0,r.combinationsDocs={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]}},{}],534:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.combinationsWithRepDocs=void 0,r.combinationsWithRepDocs={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]}},{}],535:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.factorialDocs=void 0,r.factorialDocs={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]}},{}],536:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.gammaDocs=void 0,r.gammaDocs={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},{}],537:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.kldivergenceDocs=void 0,r.kldivergenceDocs={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]}},{}],538:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.multinomialDocs=void 0,r.multinomialDocs={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}},{}],539:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.permutationsDocs=void 0,r.permutationsDocs={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]}},{}],540:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.pickRandomDocs=void 0,r.pickRandomDocs={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]}},{}],541:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomDocs=void 0,r.randomDocs={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},{}],542:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomIntDocs=void 0,r.randomIntDocs={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]}},{}],543:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compareDocs=void 0,r.compareDocs={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]}},{}],544:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compareNaturalDocs=void 0,r.compareNaturalDocs={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]}},{}],545:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compareTextDocs=void 0,r.compareTextDocs={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]}},{}],546:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.deepEqualDocs=void 0,r.deepEqualDocs={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},{}],547:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.equalDocs=void 0,r.equalDocs={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]}},{}],548:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.equalTextDocs=void 0,r.equalTextDocs={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]}},{}],549:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.largerDocs=void 0,r.largerDocs={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},{}],550:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.largerEqDocs=void 0,r.largerEqDocs={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]}},{}],551:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.smallerDocs=void 0,r.smallerDocs={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},{}],552:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.smallerEqDocs=void 0,r.smallerEqDocs={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},{}],553:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unequalDocs=void 0,r.unequalDocs={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},{}],554:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setCartesianDocs=void 0,r.setCartesianDocs={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]}},{}],555:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setDifferenceDocs=void 0,r.setDifferenceDocs={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]}},{}],556:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setDistinctDocs=void 0,r.setDistinctDocs={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]}},{}],557:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setIntersectDocs=void 0,r.setIntersectDocs={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]}},{}],558:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setIsSubsetDocs=void 0,r.setIsSubsetDocs={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]}},{}],559:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setMultiplicityDocs=void 0,r.setMultiplicityDocs={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]}},{}],560:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setPowersetDocs=void 0,r.setPowersetDocs={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]}},{}],561:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setSizeDocs=void 0,r.setSizeDocs={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]}},{}],562:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setSymDifferenceDocs=void 0,r.setSymDifferenceDocs={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]}},{}],563:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setUnionDocs=void 0,r.setUnionDocs={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]}},{}],564:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.erfDocs=void 0,r.erfDocs={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]}},{}],565:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.madDocs=void 0,r.madDocs={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]}},{}],566:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.maxDocs=void 0,r.maxDocs={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]}},{}],567:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.meanDocs=void 0,r.meanDocs={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]}},{}],568:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.medianDocs=void 0,r.medianDocs={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]}},{}],569:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.minDocs=void 0,r.minDocs={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]}},{}],570:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.modeDocs=void 0,r.modeDocs={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]}},{}],571:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.prodDocs=void 0,r.prodDocs={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]}},{}],572:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.quantileSeqDocs=void 0,r.quantileSeqDocs={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]}},{}],573:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stdDocs=void 0,r.stdDocs={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]}},{}],574:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sumDocs=void 0,r.sumDocs={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]}},{}],575:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.varianceDocs=void 0,r.varianceDocs={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},{}],576:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acosDocs=void 0,r.acosDocs={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},{}],577:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acoshDocs=void 0,r.acoshDocs={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}},{}],578:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acotDocs=void 0,r.acotDocs={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}},{}],579:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acothDocs=void 0,r.acothDocs={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]}},{}],580:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acscDocs=void 0,r.acscDocs={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]}},{}],581:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acschDocs=void 0,r.acschDocs={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}},{}],582:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asecDocs=void 0,r.asecDocs={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}},{}],583:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asechDocs=void 0,r.asechDocs={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}},{}],584:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asinDocs=void 0,r.asinDocs={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]}},{}],585:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.asinhDocs=void 0,r.asinhDocs={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}},{}],586:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.atanDocs=void 0,r.atanDocs={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]}},{}],587:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.atan2Docs=void 0,r.atan2Docs={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},{}],588:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.atanhDocs=void 0,r.atanhDocs={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}},{}],589:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cosDocs=void 0,r.cosDocs={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},{}],590:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.coshDocs=void 0,r.coshDocs={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},{}],591:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cotDocs=void 0,r.cotDocs={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},{}],592:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cothDocs=void 0,r.cothDocs={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},{}],593:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cscDocs=void 0,r.cscDocs={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},{}],594:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cschDocs=void 0,r.cschDocs={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},{}],595:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.secDocs=void 0,r.secDocs={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},{}],596:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sechDocs=void 0,r.sechDocs={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},{}],597:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sinDocs=void 0,r.sinDocs={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},{}],598:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.sinhDocs=void 0,r.sinhDocs={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},{}],599:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tanDocs=void 0,r.tanDocs={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},{}],600:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tanhDocs=void 0,r.tanhDocs={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},{}],601:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toDocs=void 0,r.toDocs={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},{}],602:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cloneDocs=void 0,r.cloneDocs={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},{}],603:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.formatDocs=void 0,r.formatDocs={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},{}],604:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hasNumericValueDocs=void 0,r.hasNumericValueDocs={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]}},{}],605:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isIntegerDocs=void 0,r.isIntegerDocs={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},{}],606:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNaNDocs=void 0,r.isNaNDocs={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},{}],607:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNegativeDocs=void 0,r.isNegativeDocs={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]}},{}],608:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isNumericDocs=void 0,r.isNumericDocs={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]}},{}],609:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isPositiveDocs=void 0,r.isPositiveDocs={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},{}],610:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isPrimeDocs=void 0,r.isPrimeDocs={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},{}],611:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isZeroDocs=void 0,r.isZeroDocs={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]}},{}],612:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.numericDocs=void 0,r.numericDocs={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]}},{}],613:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.typeOfDocs=void 0,r.typeOfDocs={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]}},{}],614:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCompile=void 0;var b=n("../../utils/collection"),h=n("../../utils/factory"),m=["typed","parse"],p=(0,h.factory)("compile",m,function(A){var S=A.typed,_=A.parse;return S("compile",{string:function(l){return _(l).compile()},"Array | Matrix":function(l){return(0,b.deepMap)(l,function(y){return _(y).compile()})}})});r.createCompile=p},{"../../utils/collection":927,"../../utils/factory":931}],615:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeprecatedEval=void 0;var b=n("../../utils/factory"),h=n("../../utils/log"),m=(0,b.factory)("eval",["evaluate"],function(p){var A=p.evaluate;return function(){(0,h.warnOnce)('Function "eval" has been renamed to "evaluate" in v6.0.0, please use the new function instead.');for(var S=arguments.length,_=new Array(S),l=0;l<S;l++)_[l]=arguments[l];return A.apply(A,_)}});r.createDeprecatedEval=m},{"../../utils/factory":931,"../../utils/log":935}],616:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createEvaluate=void 0;var b=n("../../utils/collection"),h=n("../../utils/factory"),m=["typed","parse"],p=(0,h.factory)("evaluate",m,function(A){var S=A.typed,_=A.parse;return S("evaluate",{string:function(l){return _(l).compile().evaluate({})},"string, Object":function(l,y){return _(l).compile().evaluate(y)},"Array | Matrix":function(l){var y={};return(0,b.deepMap)(l,function(o){return _(o).compile().evaluate(y)})},"Array | Matrix, Object":function(l,y){return(0,b.deepMap)(l,function(o){return _(o).compile().evaluate(y)})}})});r.createEvaluate=p},{"../../utils/collection":927,"../../utils/factory":931}],617:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHelp=void 0;var b=n("../../utils/factory"),h=n("../../utils/customs"),m=n("../embeddedDocs/embeddedDocs"),p=n("../../utils/object"),A=["typed","mathWithTransform","Help"],S=(0,b.factory)("help",A,function(_){var l=_.typed,y=_.mathWithTransform,o=_.Help;return l("help",{any:function(f){var x,g=f;if(typeof f!="string"){for(x in y)if((0,p.hasOwnProperty)(y,x)&&f===y[x]){g=x;break}}var D=(0,h.getSafeProperty)(m.embeddedDocs,g);if(D)return new o(D);var E=typeof g=="function"?g.name:g;throw new Error('No documentation found on "'+E+'"')}})});r.createHelp=S},{"../../utils/customs":929,"../../utils/factory":931,"../../utils/object":938,"../embeddedDocs/embeddedDocs":435}],618:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createParser=void 0;var b=n("../../utils/factory"),h=["typed","Parser"],m=(0,b.factory)("parser",h,function(p){var A=p.typed,S=p.Parser;return A("parser",{"":function(){return new S}})});r.createParser=m},{"../../utils/factory":931}],619:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.keywords=void 0,r.keywords={end:!0}},{}],620:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAccessorNode=void 0;var b=n("../../utils/is"),h=n("../../utils/customs"),m=n("../../utils/factory"),p=n("./utils/access"),A=["subset","Node"],S=(0,m.factory)("AccessorNode",A,function(_){var l=_.subset,y=_.Node,o=(0,p.accessFactory)({subset:l});function f(g,D){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(!(0,b.isNode)(g))throw new TypeError('Node expected for parameter "object"');if(!(0,b.isIndexNode)(D))throw new TypeError('IndexNode expected for parameter "index"');this.object=g||null,this.index=D,Object.defineProperty(this,"name",{get:(function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}).bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function x(g){return!((0,b.isAccessorNode)(g)||(0,b.isArrayNode)(g)||(0,b.isConstantNode)(g)||(0,b.isFunctionNode)(g)||(0,b.isObjectNode)(g)||(0,b.isParenthesisNode)(g)||(0,b.isSymbolNode)(g))}return(f.prototype=new y).type="AccessorNode",f.prototype.isAccessorNode=!0,f.prototype._compile=function(g,D){var E=this.object._compile(g,D),C=this.index._compile(g,D);if(this.index.isObjectProperty()){var T=this.index.getObjectProperty();return function(O,I,M){return(0,h.getSafeProperty)(E(O,I,M),T)}}return function(O,I,M){var F=E(O,I,M),B=C(O,I,F);return o(F,B)}},f.prototype.forEach=function(g){g(this.object,"object",this),g(this.index,"index",this)},f.prototype.map=function(g){return new f(this._ifNode(g(this.object,"object",this)),this._ifNode(g(this.index,"index",this)))},f.prototype.clone=function(){return new f(this.object,this.index)},f.prototype._toString=function(g){var D=this.object.toString(g);return x(this.object)&&(D="("+D+")"),D+this.index.toString(g)},f.prototype.toHTML=function(g){var D=this.object.toHTML(g);return x(this.object)&&(D='<span class="math-parenthesis math-round-parenthesis">(</span>'+D+'<span class="math-parenthesis math-round-parenthesis">)</span>'),D+this.index.toHTML(g)},f.prototype._toTex=function(g){var D=this.object.toTex(g);return x(this.object)&&(D="\\left(' + object + '\\right)"),D+this.index.toTex(g)},f.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},f.fromJSON=function(g){return new f(g.object,g.index)},f},{isClass:!0,isNode:!0});r.createAccessorNode=S},{"../../utils/customs":929,"../../utils/factory":931,"../../utils/is":933,"./utils/access":636}],621:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createArrayNode=void 0;var b=n("../../utils/is"),h=n("../../utils/array"),m=["Node"],p=(0,n("../../utils/factory").factory)("ArrayNode",m,function(A){var S=A.Node;function _(l){if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=l||[],!Array.isArray(this.items)||!this.items.every(b.isNode))throw new TypeError("Array containing Nodes expected");var y=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:y,set:y})}return(_.prototype=new S).type="ArrayNode",_.prototype.isArrayNode=!0,_.prototype._compile=function(l,y){var o=(0,h.map)(this.items,function(x){return x._compile(l,y)});if(l.config.matrix==="Array")return function(x,g,D){return(0,h.map)(o,function(E){return E(x,g,D)})};var f=l.matrix;return function(x,g,D){return f((0,h.map)(o,function(E){return E(x,g,D)}))}},_.prototype.forEach=function(l){for(var y=0;y<this.items.length;y++)l(this.items[y],"items["+y+"]",this)},_.prototype.map=function(l){for(var y=[],o=0;o<this.items.length;o++)y[o]=this._ifNode(l(this.items[o],"items["+o+"]",this));return new _(y)},_.prototype.clone=function(){return new _(this.items.slice(0))},_.prototype._toString=function(l){return"["+this.items.map(function(y){return y.toString(l)}).join(", ")+"]"},_.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},_.fromJSON=function(l){return new _(l.items)},_.prototype.toHTML=function(l){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(y){return y.toHTML(l)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},_.prototype._toTex=function(l){var y="\\begin{bmatrix}";return this.items.forEach(function(o){o.items?y+=o.items.map(function(f){return f.toTex(l)}).join("&"):y+=o.toTex(l),y+="\\\\"}),y+="\\end{bmatrix}"},_},{isClass:!0,isNode:!0});r.createArrayNode=p},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933}],622:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAssignmentNode=void 0;var b=n("../../utils/is"),h=n("../../utils/customs"),m=n("../../utils/factory"),p=n("./utils/access"),A=n("./utils/assign"),S=n("../operators"),_=["subset","?matrix","Node"],l=(0,m.factory)("AssignmentNode",_,function(y){var o=y.subset,f=y.matrix,x=y.Node,g=(0,p.accessFactory)({subset:o}),D=(0,A.assignFactory)({subset:o,matrix:f});function E(T,O,I){if(!(this instanceof E))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=T,this.index=I?O:null,this.value=I||O,!(0,b.isSymbolNode)(T)&&!(0,b.isAccessorNode)(T))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if((0,b.isSymbolNode)(T)&&T.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!(0,b.isIndexNode)(this.index))throw new TypeError('IndexNode expected as "index"');if(!(0,b.isNode)(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:(function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}).bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function C(T,O){O=O||"keep";var I=(0,S.getPrecedence)(T,O),M=(0,S.getPrecedence)(T.value,O);return O==="all"||M!==null&&M<=I}return(E.prototype=new x).type="AssignmentNode",E.prototype.isAssignmentNode=!0,E.prototype._compile=function(T,O){var I=this.object._compile(T,O),M=this.index?this.index._compile(T,O):null,F=this.value._compile(T,O),B=this.object.name;if(this.index){if(this.index.isObjectProperty()){var j=this.index.getObjectProperty();return function(k,U,G){var H=I(k,U,G),X=F(k,U,G);return(0,h.setSafeProperty)(H,j,X)}}if((0,b.isSymbolNode)(this.object))return function(k,U,G){var H=I(k,U,G),X=F(k,U,G),Z=M(k,U,H);return(0,h.setSafeProperty)(k,B,D(H,Z,X)),X};var L=this.object.object._compile(T,O);if(this.object.index.isObjectProperty()){var R=this.object.index.getObjectProperty();return function(k,U,G){var H=L(k,U,G),X=(0,h.getSafeProperty)(H,R),Z=M(k,U,X),J=F(k,U,G);return(0,h.setSafeProperty)(H,R,D(X,Z,J)),J}}var V=this.object.index._compile(T,O);return function(k,U,G){var H=L(k,U,G),X=V(k,U,H),Z=g(H,X),J=M(k,U,Z),ee=F(k,U,G);return D(H,X,D(Z,J,ee)),ee}}if(!(0,b.isSymbolNode)(this.object))throw new TypeError("SymbolNode expected as object");return function(k,U,G){return(0,h.setSafeProperty)(k,B,F(k,U,G))}},E.prototype.forEach=function(T){T(this.object,"object",this),this.index&&T(this.index,"index",this),T(this.value,"value",this)},E.prototype.map=function(T){return new E(this._ifNode(T(this.object,"object",this)),this.index?this._ifNode(T(this.index,"index",this)):null,this._ifNode(T(this.value,"value",this)))},E.prototype.clone=function(){return new E(this.object,this.index,this.value)},E.prototype._toString=function(T){var O=this.object.toString(T),I=this.index?this.index.toString(T):"",M=this.value.toString(T);return C(this,T&&T.parenthesis)&&(M="("+M+")"),O+I+" = "+M},E.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},E.fromJSON=function(T){return new E(T.object,T.index,T.value)},E.prototype.toHTML=function(T){var O=this.object.toHTML(T),I=this.index?this.index.toHTML(T):"",M=this.value.toHTML(T);return C(this,T&&T.parenthesis)&&(M='<span class="math-paranthesis math-round-parenthesis">(</span>'+M+'<span class="math-paranthesis math-round-parenthesis">)</span>'),O+I+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+M},E.prototype._toTex=function(T){var O=this.object.toTex(T),I=this.index?this.index.toTex(T):"",M=this.value.toTex(T);return C(this,T&&T.parenthesis)&&(M="\\left(".concat(M,"\\right)")),O+I+":="+M},E},{isClass:!0,isNode:!0});r.createAssignmentNode=l},{"../../utils/customs":929,"../../utils/factory":931,"../../utils/is":933,"../operators":638,"./utils/access":636,"./utils/assign":637}],623:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBlockNode=void 0;var b=n("../../utils/is"),h=n("../../utils/array"),m=["ResultSet","Node"],p=(0,n("../../utils/factory").factory)("BlockNode",m,function(A){var S=A.ResultSet,_=A.Node;function l(y){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(y))throw new Error("Array expected");this.blocks=y.map(function(o){var f=o&&o.node,x=!o||o.visible===void 0||o.visible;if(!(0,b.isNode)(f))throw new TypeError('Property "node" must be a Node');if(typeof x!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:f,visible:x}})}return(l.prototype=new _).type="BlockNode",l.prototype.isBlockNode=!0,l.prototype._compile=function(y,o){var f=(0,h.map)(this.blocks,function(x){return{evaluate:x.node._compile(y,o),visible:x.visible}});return function(x,g,D){var E=[];return(0,h.forEach)(f,function(C){var T=C.evaluate(x,g,D);C.visible&&E.push(T)}),new S(E)}},l.prototype.forEach=function(y){for(var o=0;o<this.blocks.length;o++)y(this.blocks[o].node,"blocks["+o+"].node",this)},l.prototype.map=function(y){for(var o=[],f=0;f<this.blocks.length;f++){var x=this.blocks[f],g=this._ifNode(y(x.node,"blocks["+f+"].node",this));o[f]={node:g,visible:x.visible}}return new l(o)},l.prototype.clone=function(){return new l(this.blocks.map(function(y){return{node:y.node,visible:y.visible}}))},l.prototype._toString=function(y){return this.blocks.map(function(o){return o.node.toString(y)+(o.visible?"":";")}).join(`
`)},l.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},l.fromJSON=function(y){return new l(y.blocks)},l.prototype.toHTML=function(y){return this.blocks.map(function(o){return o.node.toHTML(y)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')},l.prototype._toTex=function(y){return this.blocks.map(function(o){return o.node.toTex(y)+(o.visible?"":";")}).join(`\\;\\;
`)},l},{isClass:!0,isNode:!0});r.createBlockNode=p},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933}],624:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createConditionalNode=void 0;var b=n("../../utils/is"),h=n("../../utils/factory"),m=n("../operators"),p=["Node"],A=(0,h.factory)("ConditionalNode",p,function(S){var _=S.Node;function l(y,o,f){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(!(0,b.isNode)(y))throw new TypeError("Parameter condition must be a Node");if(!(0,b.isNode)(o))throw new TypeError("Parameter trueExpr must be a Node");if(!(0,b.isNode)(f))throw new TypeError("Parameter falseExpr must be a Node");this.condition=y,this.trueExpr=o,this.falseExpr=f}return(l.prototype=new _).type="ConditionalNode",l.prototype.isConditionalNode=!0,l.prototype._compile=function(y,o){var f=this.condition._compile(y,o),x=this.trueExpr._compile(y,o),g=this.falseExpr._compile(y,o);return function(D,E,C){return(function(T){if(typeof T=="number"||typeof T=="boolean"||typeof T=="string")return!!T;if(T){if((0,b.isBigNumber)(T))return!T.isZero();if((0,b.isComplex)(T))return!(!T.re&&!T.im);if((0,b.isUnit)(T))return!!T.value}if(T!=null)throw new TypeError('Unsupported type of condition "'+(0,b.typeOf)(T)+'"');return!1}(f(D,E,C))?x:g)(D,E,C)}},l.prototype.forEach=function(y){y(this.condition,"condition",this),y(this.trueExpr,"trueExpr",this),y(this.falseExpr,"falseExpr",this)},l.prototype.map=function(y){return new l(this._ifNode(y(this.condition,"condition",this)),this._ifNode(y(this.trueExpr,"trueExpr",this)),this._ifNode(y(this.falseExpr,"falseExpr",this)))},l.prototype.clone=function(){return new l(this.condition,this.trueExpr,this.falseExpr)},l.prototype._toString=function(y){var o=y&&y.parenthesis?y.parenthesis:"keep",f=(0,m.getPrecedence)(this,o),x=this.condition.toString(y),g=(0,m.getPrecedence)(this.condition,o);(o==="all"||this.condition.type==="OperatorNode"||g!==null&&g<=f)&&(x="("+x+")");var D=this.trueExpr.toString(y),E=(0,m.getPrecedence)(this.trueExpr,o);(o==="all"||this.trueExpr.type==="OperatorNode"||E!==null&&E<=f)&&(D="("+D+")");var C=this.falseExpr.toString(y),T=(0,m.getPrecedence)(this.falseExpr,o);return(o==="all"||this.falseExpr.type==="OperatorNode"||T!==null&&T<=f)&&(C="("+C+")"),x+" ? "+D+" : "+C},l.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},l.fromJSON=function(y){return new l(y.condition,y.trueExpr,y.falseExpr)},l.prototype.toHTML=function(y){var o=y&&y.parenthesis?y.parenthesis:"keep",f=(0,m.getPrecedence)(this,o),x=this.condition.toHTML(y),g=(0,m.getPrecedence)(this.condition,o);(o==="all"||this.condition.type==="OperatorNode"||g!==null&&g<=f)&&(x='<span class="math-parenthesis math-round-parenthesis">(</span>'+x+'<span class="math-parenthesis math-round-parenthesis">)</span>');var D=this.trueExpr.toHTML(y),E=(0,m.getPrecedence)(this.trueExpr,o);(o==="all"||this.trueExpr.type==="OperatorNode"||E!==null&&E<=f)&&(D='<span class="math-parenthesis math-round-parenthesis">(</span>'+D+'<span class="math-parenthesis math-round-parenthesis">)</span>');var C=this.falseExpr.toHTML(y),T=(0,m.getPrecedence)(this.falseExpr,o);return(o==="all"||this.falseExpr.type==="OperatorNode"||T!==null&&T<=f)&&(C='<span class="math-parenthesis math-round-parenthesis">(</span>'+C+'<span class="math-parenthesis math-round-parenthesis">)</span>'),x+'<span class="math-operator math-conditional-operator">?</span>'+D+'<span class="math-operator math-conditional-operator">:</span>'+C},l.prototype._toTex=function(y){return"\\begin{cases} {"+this.trueExpr.toTex(y)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(y)+"}\\\\{"+this.falseExpr.toTex(y)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},l},{isClass:!0,isNode:!0});r.createConditionalNode=A},{"../../utils/factory":931,"../../utils/is":933,"../operators":638}],625:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createConstantNode=void 0;var b=n("../../utils/string"),h=n("../../utils/is"),m=n("../../utils/latex"),p=["Node"],A=(0,n("../../utils/factory").factory)("ConstantNode",p,function(S){var _=S.Node;function l(y){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(arguments.length===2)throw new SyntaxError("new ConstantNode(valueStr, valueType) is not supported anymore since math v4.0.0. Use new ConstantNode(value) instead, where value is a non-stringified value.");this.value=y}return(l.prototype=new _).type="ConstantNode",l.prototype.isConstantNode=!0,l.prototype._compile=function(y,o){var f=this.value;return function(){return f}},l.prototype.forEach=function(y){},l.prototype.map=function(y){return this.clone()},l.prototype.clone=function(){return new l(this.value)},l.prototype._toString=function(y){return(0,b.format)(this.value,y)},l.prototype.toHTML=function(y){var o=this._toString(y);switch((0,h.typeOf)(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+o+"</span>";case"string":return'<span class="math-string">'+o+"</span>";case"boolean":return'<span class="math-boolean">'+o+"</span>";case"null":return'<span class="math-null-symbol">'+o+"</span>";case"undefined":return'<span class="math-undefined">'+o+"</span>";default:return'<span class="math-symbol">'+o+"</span>"}},l.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},l.fromJSON=function(y){return new l(y.value)},l.prototype._toTex=function(y){var o=this._toString(y);switch((0,h.typeOf)(this.value)){case"string":return"\\mathtt{"+(0,m.escapeLatex)(o)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var f=o.toLowerCase().indexOf("e");return f!==-1?o.substring(0,f)+"\\cdot10^{"+o.substring(f+1)+"}":o;case"Fraction":return this.value.toLatex();default:return o}},l},{isClass:!0,isNode:!0});r.createConstantNode=A},{"../../utils/factory":931,"../../utils/is":933,"../../utils/latex":934,"../../utils/string":941}],626:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFunctionAssignmentNode=void 0;var b=n("../../utils/is"),h=n("../keywords"),m=n("../../utils/string"),p=n("../../utils/array"),A=n("../../utils/latex"),S=n("../operators"),_=n("../../utils/customs"),l=["typed","Node"],y=(0,n("../../utils/factory").factory)("FunctionAssignmentNode",l,function(o){var f=o.typed,x=o.Node;function g(E,C,T){if(!(this instanceof g))throw new SyntaxError("Constructor must be called with the new operator");if(typeof E!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(C))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!(0,b.isNode)(T))throw new TypeError('Node expected for parameter "expr"');if(E in h.keywords)throw new Error('Illegal function name, "'+E+'" is a reserved keyword');this.name=E,this.params=C.map(function(O){return O&&O.name||O}),this.types=C.map(function(O){return O&&O.type||"any"}),this.expr=T}function D(E,C){var T=(0,S.getPrecedence)(E,C),O=(0,S.getPrecedence)(E.expr,C);return C==="all"||O!==null&&O<=T}return(g.prototype=new x).type="FunctionAssignmentNode",g.prototype.isFunctionAssignmentNode=!0,g.prototype._compile=function(E,C){var T=Object.create(C);(0,p.forEach)(this.params,function(j){T[j]=!0});var O=this.expr._compile(E,T),I=this.name,M=this.params,F=(0,p.join)(this.types,","),B=I+"("+(0,p.join)(this.params,", ")+")";return function(j,L,R){var V={};V[F]=function(){for(var U=Object.create(L),G=0;G<M.length;G++)U[M[G]]=arguments[G];return O(j,U,R)};var k=f(I,V);return k.syntax=B,(0,_.setSafeProperty)(j,I,k),k}},g.prototype.forEach=function(E){E(this.expr,"expr",this)},g.prototype.map=function(E){var C=this._ifNode(E(this.expr,"expr",this));return new g(this.name,this.params.slice(0),C)},g.prototype.clone=function(){return new g(this.name,this.params.slice(0),this.expr)},g.prototype._toString=function(E){var C=E&&E.parenthesis?E.parenthesis:"keep",T=this.expr.toString(E);return D(this,C)&&(T="("+T+")"),this.name+"("+this.params.join(", ")+") = "+T},g.prototype.toJSON=function(){var E=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map(function(C,T){return{name:C,type:E[T]}}),expr:this.expr}},g.fromJSON=function(E){return new g(E.name,E.params,E.expr)},g.prototype.toHTML=function(E){for(var C=E&&E.parenthesis?E.parenthesis:"keep",T=[],O=0;O<this.params.length;O++)T.push('<span class="math-symbol math-parameter">'+(0,m.escape)(this.params[O])+"</span>");var I=this.expr.toHTML(E);return D(this,C)&&(I='<span class="math-parenthesis math-round-parenthesis">(</span>'+I+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+(0,m.escape)(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+T.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+I},g.prototype._toTex=function(E){var C=E&&E.parenthesis?E.parenthesis:"keep",T=this.expr.toTex(E);return D(this,C)&&(T="\\left(".concat(T,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(A.toSymbol).join(",")+"\\right):="+T},g},{isClass:!0,isNode:!0});r.createFunctionAssignmentNode=y},{"../../utils/array":922,"../../utils/customs":929,"../../utils/factory":931,"../../utils/is":933,"../../utils/latex":934,"../../utils/string":941,"../keywords":619,"../operators":638}],627:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFunctionNode=void 0;var b=n("../../utils/is"),h=n("../../utils/string"),m=n("../../utils/object"),p=n("../../utils/array"),A=n("../../utils/customs"),S=n("../../utils/factory"),_=n("../../utils/latex");function l(x){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(x)}function y(){return(y=Object.assign||function(x){for(var g=1;g<arguments.length;g++){var D=arguments[g];for(var E in D)Object.prototype.hasOwnProperty.call(D,E)&&(x[E]=D[E])}return x}).apply(this,arguments)}var o=["math","Node","SymbolNode"],f=(0,S.factory)("FunctionNode",o,function(x){var g=x.math,D=x.Node,E=x.SymbolNode;function C(M,F){if(!(this instanceof C))throw new SyntaxError("Constructor must be called with the new operator");if(typeof M=="string"&&(M=new E(M)),!(0,b.isNode)(M))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(F)||!F.every(b.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=M,this.args=F||[],Object.defineProperty(this,"name",{get:(function(){return this.fn.name||""}).bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var B=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:B,set:B})}(C.prototype=new D).type="FunctionNode",C.prototype.isFunctionNode=!0,C.prototype._compile=function(M,F){if(!(this instanceof C))throw new TypeError("No valid FunctionNode");var B=(0,p.map)(this.args,function(ee){return ee._compile(M,F)});if((0,b.isSymbolNode)(this.fn)){var j=this.fn.name,L=j in M?(0,A.getSafeProperty)(M,j):void 0;if(typeof L=="function"&&L.rawArgs===!0){var R=this.args;return function(ee,$){return(j in ee?(0,A.getSafeProperty)(ee,j):L)(R,M,y({},ee,$))}}if(B.length===1){var V=B[0];return function(ee,$,W){return(j in ee?(0,A.getSafeProperty)(ee,j):L)(V(ee,$,W))}}if(B.length!==2)return function(ee,$,W){return(j in ee?(0,A.getSafeProperty)(ee,j):L).apply(null,(0,p.map)(B,function(Q){return Q(ee,$,W)}))};var k=B[0],U=B[1];return function(ee,$,W){return(j in ee?(0,A.getSafeProperty)(ee,j):L)(k(ee,$,W),U(ee,$,W))}}if((0,b.isAccessorNode)(this.fn)&&(0,b.isIndexNode)(this.fn.index)&&this.fn.index.isObjectProperty()){var G=this.fn.object._compile(M,F),H=this.fn.index.getObjectProperty(),X=this.args;return function(ee,$,W){var Q=G(ee,$,W);return(0,A.validateSafeMethod)(Q,H),Q[H]&&Q[H].rawArgs?Q[H](X,M,y({},ee,$)):Q[H].apply(Q,(0,p.map)(B,function(te){return te(ee,$,W)}))}}var Z=this.fn._compile(M,F),J=this.args;return function(ee,$,W){var Q=Z(ee,$,W);return Q&&Q.rawArgs?Q(J,M,y({},ee,$)):Q.apply(Q,(0,p.map)(B,function(te){return te(ee,$,W)}))}},C.prototype.forEach=function(M){M(this.fn,"fn",this);for(var F=0;F<this.args.length;F++)M(this.args[F],"args["+F+"]",this)},C.prototype.map=function(M){for(var F=this._ifNode(M(this.fn,"fn",this)),B=[],j=0;j<this.args.length;j++)B[j]=this._ifNode(M(this.args[j],"args["+j+"]",this));return new C(F,B)},C.prototype.clone=function(){return new C(this.fn,this.args.slice(0))};var T=C.prototype.toString;function O(M,F,B){for(var j,L="",R=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),V=0;(j=R.exec(M))!==null;)if(L+=M.substring(V,j.index),V=j.index,j[0]==="$$")L+="$",V++;else{V+=j[0].length;var k=F[j[1]];if(!k)throw new ReferenceError("Template: Property "+j[1]+" does not exist.");if(j[2]===void 0)switch(l(k)){case"string":L+=k;break;case"object":if((0,b.isNode)(k))L+=k.toTex(B);else{if(!Array.isArray(k))throw new TypeError("Template: "+j[1]+" has to be a Node, String or array of Nodes");L+=k.map(function(U,G){if((0,b.isNode)(U))return U.toTex(B);throw new TypeError("Template: "+j[1]+"["+G+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+j[1]+" has to be a Node, String or array of Nodes")}else{if(!(0,b.isNode)(k[j[2]]&&k[j[2]]))throw new TypeError("Template: "+j[1]+"["+j[2]+"] is not a Node.");L+=k[j[2]].toTex(B)}}return L+=M.slice(V)}C.prototype.toString=function(M){var F,B=this.fn.toString(M);return M&&l(M.handler)==="object"&&(0,m.hasOwnProperty)(M.handler,B)&&(F=M.handler[B](this,M)),F!==void 0?F:T.call(this,M)},C.prototype._toString=function(M){var F=this.args.map(function(B){return B.toString(M)});return((0,b.isFunctionAssignmentNode)(this.fn)?"("+this.fn.toString(M)+")":this.fn.toString(M))+"("+F.join(", ")+")"},C.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},C.fromJSON=function(M){return new C(M.fn,M.args)},C.prototype.toHTML=function(M){var F=this.args.map(function(B){return B.toHTML(M)});return'<span class="math-function">'+(0,h.escape)(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+F.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var I=C.prototype.toTex;return C.prototype.toTex=function(M){var F;return M&&l(M.handler)==="object"&&(0,m.hasOwnProperty)(M.handler,this.name)&&(F=M.handler[this.name](this,M)),F!==void 0?F:I.call(this,M)},C.prototype._toTex=function(M){var F,B,j=this.args.map(function(L){return L.toTex(M)});switch(_.latexFunctions[this.name]&&(F=_.latexFunctions[this.name]),!g[this.name]||typeof g[this.name].toTex!="function"&&l(g[this.name].toTex)!=="object"&&typeof g[this.name].toTex!="string"||(F=g[this.name].toTex),l(F)){case"function":B=F(this,M);break;case"string":B=O(F,this,M);break;case"object":switch(l(F[j.length])){case"function":B=F[j.length](this,M);break;case"string":B=O(F[j.length],this,M)}}return B!==void 0?B:O(_.defaultTemplate,this,M)},C.prototype.getIdentifier=function(){return this.type+":"+this.name},C},{isClass:!0,isNode:!0});r.createFunctionNode=f},{"../../utils/array":922,"../../utils/customs":929,"../../utils/factory":931,"../../utils/is":933,"../../utils/latex":934,"../../utils/object":938,"../../utils/string":941}],628:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIndexNode=void 0;var b=n("../../utils/is"),h=n("../../utils/array"),m=n("../../utils/string"),p=n("../../utils/factory"),A=n("../../utils/customs");function S(o){return function(f){if(Array.isArray(f))return _(f)}(o)||function(f){if(typeof Symbol<"u"&&Symbol.iterator in Object(f))return Array.from(f)}(o)||function(f,x){if(f){if(typeof f=="string")return _(f,x);var g=Object.prototype.toString.call(f).slice(8,-1);if(g==="Object"&&f.constructor&&(g=f.constructor.name),g==="Map"||g==="Set")return Array.from(f);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return _(f,x)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _(o,f){(f==null||f>o.length)&&(f=o.length);for(var x=0,g=new Array(f);x<f;x++)g[x]=o[x];return g}var l=["Range","Node","size"],y=(0,p.factory)("IndexNode",l,function(o){var f=o.Range,x=o.Node,g=o.size;function D(C,T){if(!(this instanceof D))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=C,this.dotNotation=T||!1,!Array.isArray(C)||!C.every(b.isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var O=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:O,set:O})}function E(C,T,O){return new f((0,b.isBigNumber)(C)?C.toNumber():C,(0,b.isBigNumber)(T)?T.toNumber():T,(0,b.isBigNumber)(O)?O.toNumber():O)}return(D.prototype=new x).type="IndexNode",D.prototype.isIndexNode=!0,D.prototype._compile=function(C,T){var O=(0,h.map)(this.dimensions,function(M,F){if((0,b.isRangeNode)(M)){if(M.needsEnd()){var B=Object.create(T);B.end=!0;var j=M.start._compile(C,B),L=M.end._compile(C,B),R=M.step?M.step._compile(C,B):function(){return 1};return function(Z,J,ee){var $=g(ee).valueOf(),W=Object.create(J);return W.end=$[F],E(j(Z,W,ee),L(Z,W,ee),R(Z,W,ee))}}var V=M.start._compile(C,T),k=M.end._compile(C,T),U=M.step?M.step._compile(C,T):function(){return 1};return function(Z,J,ee){return E(V(Z,J,ee),k(Z,J,ee),U(Z,J,ee))}}if((0,b.isSymbolNode)(M)&&M.name==="end"){var G=Object.create(T);G.end=!0;var H=M._compile(C,G);return function(Z,J,ee){var $=g(ee).valueOf(),W=Object.create(J);return W.end=$[F],H(Z,W,ee)}}var X=M._compile(C,T);return function(Z,J,ee){return X(Z,J,ee)}}),I=(0,A.getSafeProperty)(C,"index");return function(M,F,B){var j=(0,h.map)(O,function(L){return L(M,F,B)});return I.apply(void 0,S(j))}},D.prototype.forEach=function(C){for(var T=0;T<this.dimensions.length;T++)C(this.dimensions[T],"dimensions["+T+"]",this)},D.prototype.map=function(C){for(var T=[],O=0;O<this.dimensions.length;O++)T[O]=this._ifNode(C(this.dimensions[O],"dimensions["+O+"]",this));return new D(T,this.dotNotation)},D.prototype.clone=function(){return new D(this.dimensions.slice(0),this.dotNotation)},D.prototype.isObjectProperty=function(){return this.dimensions.length===1&&(0,b.isConstantNode)(this.dimensions[0])&&typeof this.dimensions[0].value=="string"},D.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},D.prototype._toString=function(C){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},D.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},D.fromJSON=function(C){return new D(C.dimensions,C.dotNotation)},D.prototype.toHTML=function(C){for(var T=[],O=0;O<this.dimensions.length;O++)T[O]=this.dimensions[O].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+(0,m.escape)(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+T.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},D.prototype._toTex=function(C){var T=this.dimensions.map(function(O){return O.toTex(C)});return this.dotNotation?"."+this.getObjectProperty():"_{"+T.join(",")+"}"},D},{isClass:!0,isNode:!0});r.createIndexNode=y},{"../../utils/array":922,"../../utils/customs":929,"../../utils/factory":931,"../../utils/is":933,"../../utils/string":941}],629:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNode=void 0;var b=n("../../utils/is"),h=n("../keywords"),m=n("../../utils/object"),p=n("../../utils/factory"),A=n("../../utils/log");function S(y){return(S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(y)}var _=["mathWithTransform"],l=(0,p.factory)("Node",_,function(y){var o=y.mathWithTransform;function f(){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator")}return f.prototype.evaluate=function(x){return this.compile().evaluate(x)},f.prototype.eval=function(x){return(0,A.warnOnce)("Method Node.eval is renamed to Node.evaluate. Please use the new method name."),this.evaluate(x)},f.prototype.type="Node",f.prototype.isNode=!0,f.prototype.comment="",f.prototype.compile=function(){var x=this._compile(o,{}),g={},D=null;function E(C){var T=C||{};return function(O){for(var I in O)if((0,m.hasOwnProperty)(O,I)&&I in h.keywords)throw new Error('Scope contains an illegal symbol, "'+I+'" is a reserved keyword')}(T),x(T,g,D)}return{evaluate:E,eval:function(C){return(0,A.warnOnce)("Method eval is renamed to evaluate. Please use the new method."),E(C)}}},f.prototype._compile=function(x,g){throw new Error("Method _compile should be implemented by type "+this.type)},f.prototype.forEach=function(x){throw new Error("Cannot run forEach on a Node interface")},f.prototype.map=function(x){throw new Error("Cannot run map on a Node interface")},f.prototype._ifNode=function(x){if(!(0,b.isNode)(x))throw new TypeError("Callback function must return a Node");return x},f.prototype.traverse=function(x){x(this,null,null),function g(D,E){D.forEach(function(C,T,O){E(C,T,O),g(C,E)})}(this,x)},f.prototype.transform=function(x){return function g(D,E,C){var T=x(D,E,C);return T!==D?T:D.map(g)}(this,null,null)},f.prototype.filter=function(x){var g=[];return this.traverse(function(D,E,C){x(D,E,C)&&g.push(D)}),g},f.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},f.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},f.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},f.prototype.cloneDeep=function(){return this.map(function(x){return x.cloneDeep()})},f.prototype.equals=function(x){return!!x&&(0,m.deepStrictEqual)(this,x)},f.prototype.toString=function(x){var g;if(x&&S(x)==="object")switch(S(x.handler)){case"object":case"undefined":break;case"function":g=x.handler(this,x);break;default:throw new TypeError("Object or function expected as callback")}return g!==void 0?g:this._toString(x)},f.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},f.prototype.toHTML=function(x){var g;if(x&&S(x)==="object")switch(S(x.handler)){case"object":case"undefined":break;case"function":g=x.handler(this,x);break;default:throw new TypeError("Object or function expected as callback")}return g!==void 0?g:this.toHTML(x)},f.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},f.prototype.toTex=function(x){var g;if(x&&S(x)==="object")switch(S(x.handler)){case"object":case"undefined":break;case"function":g=x.handler(this,x);break;default:throw new TypeError("Object or function expected as callback")}return g!==void 0?g:this._toTex(x)},f.prototype._toTex=function(x){throw new Error("_toTex not implemented for "+this.type)},f.prototype.getIdentifier=function(){return this.type},f.prototype.getContent=function(){return this},f},{isClass:!0,isNode:!0});r.createNode=l},{"../../utils/factory":931,"../../utils/is":933,"../../utils/log":935,"../../utils/object":938,"../keywords":619}],630:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createObjectNode=void 0;var b=n("../../utils/is"),h=n("../../utils/string"),m=n("../../utils/customs"),p=n("../../utils/object");function A(l){return(A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(l)}var S=["Node"],_=(0,n("../../utils/factory").factory)("ObjectNode",S,function(l){var y=l.Node;function o(f){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=f||{},f&&(A(f)!=="object"||!Object.keys(f).every(function(x){return(0,b.isNode)(f[x])})))throw new TypeError("Object containing Nodes expected")}return(o.prototype=new y).type="ObjectNode",o.prototype.isObjectNode=!0,o.prototype._compile=function(f,x){var g={};for(var D in this.properties)if((0,p.hasOwnProperty)(this.properties,D)){var E=(0,h.stringify)(D),C=JSON.parse(E);if(!(0,m.isSafeProperty)(this.properties,C))throw new Error('No access to property "'+C+'"');g[C]=this.properties[D]._compile(f,x)}return function(T,O,I){var M={};for(var F in g)(0,p.hasOwnProperty)(g,F)&&(M[F]=g[F](T,O,I));return M}},o.prototype.forEach=function(f){for(var x in this.properties)(0,p.hasOwnProperty)(this.properties,x)&&f(this.properties[x],"properties["+(0,h.stringify)(x)+"]",this)},o.prototype.map=function(f){var x={};for(var g in this.properties)(0,p.hasOwnProperty)(this.properties,g)&&(x[g]=this._ifNode(f(this.properties[g],"properties["+(0,h.stringify)(g)+"]",this)));return new o(x)},o.prototype.clone=function(){var f={};for(var x in this.properties)(0,p.hasOwnProperty)(this.properties,x)&&(f[x]=this.properties[x]);return new o(f)},o.prototype._toString=function(f){var x=[];for(var g in this.properties)(0,p.hasOwnProperty)(this.properties,g)&&x.push((0,h.stringify)(g)+": "+this.properties[g].toString(f));return"{"+x.join(", ")+"}"},o.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},o.fromJSON=function(f){return new o(f.properties)},o.prototype.toHTML=function(f){var x=[];for(var g in this.properties)(0,p.hasOwnProperty)(this.properties,g)&&x.push('<span class="math-symbol math-property">'+(0,h.escape)(g)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[g].toHTML(f));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+x.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},o.prototype._toTex=function(f){var x=[];for(var g in this.properties)(0,p.hasOwnProperty)(this.properties,g)&&x.push("\\mathbf{"+g+":} & "+this.properties[g].toTex(f)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(x.join(`
`),"\\end{array}\\right\\}")},o},{isClass:!0,isNode:!0});r.createObjectNode=_},{"../../utils/customs":929,"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938,"../../utils/string":941}],631:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createOperatorNode=void 0;var b=n("../../utils/is"),h=n("../../utils/array"),m=n("../../utils/string"),p=n("../../utils/customs"),A=n("../operators"),S=n("../../utils/latex"),_=["Node"],l=(0,n("../../utils/factory").factory)("OperatorNode",_,function(y){var o=y.Node;function f(g,D,E,C){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(typeof g!="string")throw new TypeError('string expected for parameter "op"');if(typeof D!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(E)||!E.every(b.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=C===!0,this.op=g,this.fn=D,this.args=E||[]}function x(g,D,E,C,T){var O,I=(0,A.getPrecedence)(g,D),M=(0,A.getAssociativity)(g,D);if(D==="all"||2<C.length&&g.getIdentifier()!=="OperatorNode:add"&&g.getIdentifier()!=="OperatorNode:multiply")return C.map(function(J){switch(J.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(C.length){case 0:O=[];break;case 1:var F=(0,A.getPrecedence)(C[0],D);if(T&&F!==null){var B,j=D==="keep"?(B=C[0].getIdentifier(),g.getIdentifier()):(B=C[0].getContent().getIdentifier(),g.getContent().getIdentifier());if(A.properties[I][j].latexLeftParens===!1){O=[!1];break}if(A.properties[F][B].latexParens===!1){O=[!1];break}}if(F===null){O=[!1];break}if(F<=I){O=[!0];break}O=[!1];break;case 2:var L,R,V,k=(0,A.getPrecedence)(C[0],D),U=(0,A.isAssociativeWith)(g,C[0],D),G=k!==null&&(k===I&&M==="right"&&!U||k<I),H=(0,A.getPrecedence)(C[1],D),X=(0,A.isAssociativeWith)(g,C[1],D),Z=H!==null&&(H===I&&M==="left"&&!X||H<I);T&&(V=D==="keep"?(L=g.getIdentifier(),R=g.args[0].getIdentifier(),g.args[1].getIdentifier()):(L=g.getContent().getIdentifier(),R=g.args[0].getContent().getIdentifier(),g.args[1].getContent().getIdentifier()),k!==null&&(A.properties[I][L].latexLeftParens===!1&&(G=!1),A.properties[k][R].latexParens===!1&&(G=!1)),H!==null&&(A.properties[I][L].latexRightParens===!1&&(Z=!1),A.properties[H][V].latexParens===!1&&(Z=!1))),O=[G,Z];break;default:g.getIdentifier()!=="OperatorNode:add"&&g.getIdentifier()!=="OperatorNode:multiply"||(O=C.map(function(J){var ee=(0,A.getPrecedence)(J,D),$=(0,A.isAssociativeWith)(g,J,D),W=(0,A.getAssociativity)(J,D);return ee!==null&&(I===ee&&M===W&&!$||ee<I)}))}return 2<=C.length&&g.getIdentifier()==="OperatorNode:multiply"&&g.implicit&&D==="auto"&&E==="hide"&&(O=C.map(function(J,ee){var $=J.getIdentifier()==="ParenthesisNode";return!(!O[ee]&&!$)})),O}return(f.prototype=new o).type="OperatorNode",f.prototype.isOperatorNode=!0,f.prototype._compile=function(g,D){if(typeof this.fn!="string"||!(0,p.isSafeMethod)(g,this.fn))throw g[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var E=(0,p.getSafeProperty)(g,this.fn),C=(0,h.map)(this.args,function(M){return M._compile(g,D)});if(C.length===1){var T=C[0];return function(M,F,B){return E(T(M,F,B))}}if(C.length!==2)return function(M,F,B){return E.apply(null,(0,h.map)(C,function(j){return j(M,F,B)}))};var O=C[0],I=C[1];return function(M,F,B){return E(O(M,F,B),I(M,F,B))}},f.prototype.forEach=function(g){for(var D=0;D<this.args.length;D++)g(this.args[D],"args["+D+"]",this)},f.prototype.map=function(g){for(var D=[],E=0;E<this.args.length;E++)D[E]=this._ifNode(g(this.args[E],"args["+E+"]",this));return new f(this.op,this.fn,D,this.implicit)},f.prototype.clone=function(){return new f(this.op,this.fn,this.args.slice(0),this.implicit)},f.prototype.isUnary=function(){return this.args.length===1},f.prototype.isBinary=function(){return this.args.length===2},f.prototype._toString=function(g){var D=g&&g.parenthesis?g.parenthesis:"keep",E=g&&g.implicit?g.implicit:"hide",C=this.args,T=x(this,D,E,C,!1);if(C.length===1){var O=(0,A.getAssociativity)(this,D),I=C[0].toString(g);T[0]&&(I="("+I+")");var M=/[a-zA-Z]+/.test(this.op);return O==="right"?this.op+(M?" ":"")+I:O==="left"?I+(M?" ":"")+this.op:I+this.op}if(C.length===2){var F=C[0].toString(g),B=C[1].toString(g);return T[0]&&(F="("+F+")"),T[1]&&(B="("+B+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&E==="hide"?F+" "+B:F+" "+this.op+" "+B}if(2<C.length&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var j=C.map(function(L,R){return L=L.toString(g),T[R]&&(L="("+L+")"),L});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&E==="hide"?j.join(" "):j.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},f.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},f.fromJSON=function(g){return new f(g.op,g.fn,g.args,g.implicit)},f.prototype.toHTML=function(g){var D=g&&g.parenthesis?g.parenthesis:"keep",E=g&&g.implicit?g.implicit:"hide",C=this.args,T=x(this,D,E,C,!1);if(C.length===1){var O=(0,A.getAssociativity)(this,D),I=C[0].toHTML(g);return T[0]&&(I='<span class="math-parenthesis math-round-parenthesis">(</span>'+I+'<span class="math-parenthesis math-round-parenthesis">)</span>'),O==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+(0,m.escape)(this.op)+"</span>"+I:I+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+(0,m.escape)(this.op)+"</span>"}if(C.length===2){var M=C[0].toHTML(g),F=C[1].toHTML(g);return T[0]&&(M='<span class="math-parenthesis math-round-parenthesis">(</span>'+M+'<span class="math-parenthesis math-round-parenthesis">)</span>'),T[1]&&(F='<span class="math-parenthesis math-round-parenthesis">(</span>'+F+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&E==="hide"?M+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+F:M+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+(0,m.escape)(this.op)+"</span>"+F}var B=C.map(function(j,L){return j=j.toHTML(g),T[L]&&(j='<span class="math-parenthesis math-round-parenthesis">(</span>'+j+'<span class="math-parenthesis math-round-parenthesis">)</span>'),j});return 2<C.length&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&E==="hide"?B.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):B.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+(0,m.escape)(this.op)+"</span>"):'<span class="math-function">'+(0,m.escape)(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+B.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},f.prototype._toTex=function(g){var D=g&&g.parenthesis?g.parenthesis:"keep",E=g&&g.implicit?g.implicit:"hide",C=this.args,T=x(this,D,E,C,!0),O=(O=S.latexOperators[this.fn])===void 0?this.op:O;if(C.length===1){var I=(0,A.getAssociativity)(this,D),M=C[0].toTex(g);return T[0]&&(M="\\left(".concat(M,"\\right)")),I==="right"?O+M:M+O}if(C.length===2){var F=C[0],B=F.toTex(g);T[0]&&(B="\\left(".concat(B,"\\right)"));var j,L=C[1].toTex(g);switch(T[1]&&(L="\\left(".concat(L,"\\right)")),j=D==="keep"?F.getIdentifier():F.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return O+"{"+B+"}{"+L+"}";case"OperatorNode:pow":switch(B="{"+B+"}",L="{"+L+"}",j){case"ConditionalNode":case"OperatorNode:divide":B="\\left(".concat(B,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&E==="hide")return B+"~"+L}return B+O+L}if(2<C.length&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var R=C.map(function(V,k){return V=V.toTex(g),T[k]&&(V="\\left(".concat(V,"\\right)")),V});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit?R.join("~"):R.join(O)}return"\\mathrm{"+this.fn+"}\\left("+C.map(function(V){return V.toTex(g)}).join(",")+"\\right)"},f.prototype.getIdentifier=function(){return this.type+":"+this.fn},f},{isClass:!0,isNode:!0});r.createOperatorNode=l},{"../../utils/array":922,"../../utils/customs":929,"../../utils/factory":931,"../../utils/is":933,"../../utils/latex":934,"../../utils/string":941,"../operators":638}],632:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createParenthesisNode=void 0;var b=n("../../utils/is"),h=["Node"],m=(0,n("../../utils/factory").factory)("ParenthesisNode",h,function(p){var A=p.Node;function S(_){if(!(this instanceof S))throw new SyntaxError("Constructor must be called with the new operator");if(!(0,b.isNode)(_))throw new TypeError('Node expected for parameter "content"');this.content=_}return(S.prototype=new A).type="ParenthesisNode",S.prototype.isParenthesisNode=!0,S.prototype._compile=function(_,l){return this.content._compile(_,l)},S.prototype.getContent=function(){return this.content.getContent()},S.prototype.forEach=function(_){_(this.content,"content",this)},S.prototype.map=function(_){return new S(_(this.content,"content",this))},S.prototype.clone=function(){return new S(this.content)},S.prototype._toString=function(_){return!_||_&&!_.parenthesis||_&&_.parenthesis==="keep"?"("+this.content.toString(_)+")":this.content.toString(_)},S.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},S.fromJSON=function(_){return new S(_.content)},S.prototype.toHTML=function(_){return!_||_&&!_.parenthesis||_&&_.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(_)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(_)},S.prototype._toTex=function(_){return!_||_&&!_.parenthesis||_&&_.parenthesis==="keep"?"\\left(".concat(this.content.toTex(_),"\\right)"):this.content.toTex(_)},S},{isClass:!0,isNode:!0});r.createParenthesisNode=m},{"../../utils/factory":931,"../../utils/is":933}],633:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRangeNode=void 0;var b=n("../../utils/is"),h=n("../../utils/factory"),m=n("../operators"),p=["Node"],A=(0,h.factory)("RangeNode",p,function(S){var _=S.Node;function l(o,f,x){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(!(0,b.isNode)(o))throw new TypeError("Node expected");if(!(0,b.isNode)(f))throw new TypeError("Node expected");if(x&&!(0,b.isNode)(x))throw new TypeError("Node expected");if(3<arguments.length)throw new Error("Too many arguments");this.start=o,this.end=f,this.step=x||null}function y(o,f){var x,g=(0,m.getPrecedence)(o,f),D={},E=(0,m.getPrecedence)(o.start,f);D.start=E!==null&&E<=g||f==="all",o.step&&(x=(0,m.getPrecedence)(o.step,f),D.step=x!==null&&x<=g||f==="all");var C=(0,m.getPrecedence)(o.end,f);return D.end=C!==null&&C<=g||f==="all",D}return(l.prototype=new _).type="RangeNode",l.prototype.isRangeNode=!0,l.prototype.needsEnd=function(){return 0<this.filter(function(o){return(0,b.isSymbolNode)(o)&&o.name==="end"}).length},l.prototype._compile=function(o,f){var x=o.range,g=this.start._compile(o,f),D=this.end._compile(o,f);if(this.step){var E=this.step._compile(o,f);return function(C,T,O){return x(g(C,T,O),D(C,T,O),E(C,T,O))}}return function(C,T,O){return x(g(C,T,O),D(C,T,O))}},l.prototype.forEach=function(o){o(this.start,"start",this),o(this.end,"end",this),this.step&&o(this.step,"step",this)},l.prototype.map=function(o){return new l(this._ifNode(o(this.start,"start",this)),this._ifNode(o(this.end,"end",this)),this.step&&this._ifNode(o(this.step,"step",this)))},l.prototype.clone=function(){return new l(this.start,this.end,this.step&&this.step)},l.prototype._toString=function(o){var f,x,g=y(this,o&&o.parenthesis?o.parenthesis:"keep"),D=this.start.toString(o);g.start&&(D="("+D+")"),f=D,this.step&&(x=this.step.toString(o),g.step&&(x="("+x+")"),f+=":"+x);var E=this.end.toString(o);return g.end&&(E="("+E+")"),f+=":"+E},l.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},l.fromJSON=function(o){return new l(o.start,o.end,o.step)},l.prototype.toHTML=function(o){var f,x,g=y(this,o&&o.parenthesis?o.parenthesis:"keep"),D=this.start.toHTML(o);g.start&&(D='<span class="math-parenthesis math-round-parenthesis">(</span>'+D+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f=D,this.step&&(x=this.step.toHTML(o),g.step&&(x='<span class="math-parenthesis math-round-parenthesis">(</span>'+x+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f+='<span class="math-operator math-range-operator">:</span>'+x);var E=this.end.toHTML(o);return g.end&&(E='<span class="math-parenthesis math-round-parenthesis">(</span>'+E+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f+='<span class="math-operator math-range-operator">:</span>'+E},l.prototype._toTex=function(o){var f,x=y(this,o&&o.parenthesis?o.parenthesis:"keep"),g=this.start.toTex(o);x.start&&(g="\\left(".concat(g,"\\right)")),this.step&&(f=this.step.toTex(o),x.step&&(f="\\left(".concat(f,"\\right)")),g+=":"+f);var D=this.end.toTex(o);return x.end&&(D="\\left(".concat(D,"\\right)")),g+=":"+D},l},{isClass:!0,isNode:!0});r.createRangeNode=A},{"../../utils/factory":931,"../../utils/is":933,"../operators":638}],634:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRelationalNode=void 0;var b=n("../operators"),h=n("../../utils/string"),m=n("../../utils/customs"),p=n("../../utils/latex"),A=["Node"],S=(0,n("../../utils/factory").factory)("RelationalNode",A,function(_){var l=_.Node;function y(o,f){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(o))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(f))throw new TypeError("Parameter params must be an array");if(o.length!==f.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=o,this.params=f}return(y.prototype=new l).type="RelationalNode",y.prototype.isRelationalNode=!0,y.prototype._compile=function(o,f){var x=this,g=this.params.map(function(D){return D._compile(o,f)});return function(D,E,C){for(var T=g[0](D,E,C),O=0;O<x.conditionals.length;O++){var I=T,T=g[O+1](D,E,C);if(!(0,m.getSafeProperty)(o,x.conditionals[O])(I,T))return!1}return!0}},y.prototype.forEach=function(o){var f=this;this.params.forEach(function(x,g){return o(x,"params["+g+"]",f)},this)},y.prototype.map=function(o){var f=this;return new y(this.conditionals.slice(),this.params.map(function(x,g){return f._ifNode(o(x,"params["+g+"]",f))},this))},y.prototype.clone=function(){return new y(this.conditionals,this.params)},y.prototype._toString=function(o){for(var f=o&&o.parenthesis?o.parenthesis:"keep",x=(0,b.getPrecedence)(this,f),g=this.params.map(function(T,O){var I=(0,b.getPrecedence)(T,f);return f==="all"||I!==null&&I<=x?"("+T.toString(o)+")":T.toString(o)}),D={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},E=g[0],C=0;C<this.conditionals.length;C++)E+=" "+D[this.conditionals[C]]+" "+g[C+1];return E},y.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},y.fromJSON=function(o){return new y(o.conditionals,o.params)},y.prototype.toHTML=function(o){for(var f=o&&o.parenthesis?o.parenthesis:"keep",x=(0,b.getPrecedence)(this,f),g=this.params.map(function(T,O){var I=(0,b.getPrecedence)(T,f);return f==="all"||I!==null&&I<=x?'<span class="math-parenthesis math-round-parenthesis">(</span>'+T.toHTML(o)+'<span class="math-parenthesis math-round-parenthesis">)</span>':T.toHTML(o)}),D={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},E=g[0],C=0;C<this.conditionals.length;C++)E+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+(0,h.escape)(D[this.conditionals[C]])+"</span>"+g[C+1];return E},y.prototype._toTex=function(o){for(var f=o&&o.parenthesis?o.parenthesis:"keep",x=(0,b.getPrecedence)(this,f),g=this.params.map(function(C,T){var O=(0,b.getPrecedence)(C,f);return f==="all"||O!==null&&O<=x?"\\left("+C.toTex(o)+"\right)":C.toTex(o)}),D=g[0],E=0;E<this.conditionals.length;E++)D+=p.latexOperators[this.conditionals[E]]+g[E+1];return D},y},{isClass:!0,isNode:!0});r.createRelationalNode=S},{"../../utils/customs":929,"../../utils/factory":931,"../../utils/latex":934,"../../utils/string":941,"../operators":638}],635:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSymbolNode=void 0;var b=n("../../utils/string"),h=n("../../utils/customs"),m=n("../../utils/factory"),p=n("../../utils/latex"),A=["math","?Unit","Node"],S=(0,m.factory)("SymbolNode",A,function(_){var l=_.math,y=_.Unit,o=_.Node;function f(g){return!!y&&y.isValuelessUnit(g)}function x(g){if(!(this instanceof x))throw new SyntaxError("Constructor must be called with the new operator");if(typeof g!="string")throw new TypeError('String expected for parameter "name"');this.name=g}return(x.prototype=new o).type="SymbolNode",x.prototype.isSymbolNode=!0,x.prototype._compile=function(g,D){var E=this.name;if(D[E]===!0)return function(T,O,I){return O[E]};if(E in g)return function(T,O,I){return E in T?(0,h.getSafeProperty)(T,E):(0,h.getSafeProperty)(g,E)};var C=f(E);return function(T,O,I){return E in T?(0,h.getSafeProperty)(T,E):C?new y(null,E):function(M){throw new Error("Undefined symbol "+M)}(E)}},x.prototype.forEach=function(g){},x.prototype.map=function(g){return this.clone()},x.prototype.clone=function(){return new x(this.name)},x.prototype._toString=function(g){return this.name},x.prototype.toHTML=function(g){var D=(0,b.escape)(this.name);return D==="true"||D==="false"?'<span class="math-symbol math-boolean">'+D+"</span>":D==="i"?'<span class="math-symbol math-imaginary-symbol">'+D+"</span>":D==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+D+"</span>":D==="NaN"?'<span class="math-symbol math-nan-symbol">'+D+"</span>":D==="null"?'<span class="math-symbol math-null-symbol">'+D+"</span>":D==="undefined"?'<span class="math-symbol math-undefined-symbol">'+D+"</span>":'<span class="math-symbol">'+D+"</span>"},x.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},x.fromJSON=function(g){return new x(g.name)},x.prototype._toTex=function(g){var D=!1;l[this.name]===void 0&&f(this.name)&&(D=!0);var E=(0,p.toSymbol)(this.name,D);return E[0]==="\\"?E:" "+E},x},{isClass:!0,isNode:!0});r.createSymbolNode=S},{"../../utils/customs":929,"../../utils/factory":931,"../../utils/latex":934,"../../utils/string":941}],636:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.accessFactory=function(p){var A=p.subset;return function(S,_){try{if(Array.isArray(S))return A(S,_);if(S&&typeof S.subset=="function")return S.subset(_);if(typeof S=="string")return A(S,_);if(m(S)!=="object")throw new TypeError("Cannot apply index: unsupported type of object");if(!_.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return(0,h.getSafeProperty)(S,_.getObjectProperty())}catch(l){throw(0,b.errorTransform)(l)}}};var b=n("../../transform/utils/errorTransform"),h=n("../../../utils/customs");function m(p){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(p)}},{"../../../utils/customs":929,"../../transform/utils/errorTransform":656}],637:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.assignFactory=function(p){var A=p.subset,S=p.matrix;return function(_,l,y){try{if(Array.isArray(_))return S(_).subset(l,y).valueOf();if(_&&typeof _.subset=="function")return _.subset(l,y);if(typeof _=="string")return A(_,l,y);if(m(_)!=="object")throw new TypeError("Cannot apply index: unsupported type of object");if(!l.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return(0,h.setSafeProperty)(_,l.getObjectProperty(),y),_}catch(o){throw(0,b.errorTransform)(o)}}};var b=n("../../transform/utils/errorTransform"),h=n("../../../utils/customs");function m(p){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(p)}},{"../../../utils/customs":929,"../../transform/utils/errorTransform":656}],638:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getPrecedence=m,r.getAssociativity=function(p,A){var S=p;A!=="keep"&&(S=p.getContent());var _=S.getIdentifier(),l=m(S,A);if(l===null)return null;var y=h[l][_];if((0,b.hasOwnProperty)(y,"associativity")){if(y.associativity==="left")return"left";if(y.associativity==="right")return"right";throw Error("'"+_+"' has the invalid associativity '"+y.associativity+"'.")}return null},r.isAssociativeWith=function(p,A,S){var _=S!=="keep"?p.getContent():p,l=S!=="keep"?p.getContent():A,y=_.getIdentifier(),o=l.getIdentifier(),f=m(_,S);if(f===null)return null;var x=h[f][y];if((0,b.hasOwnProperty)(x,"associativeWith")&&x.associativeWith instanceof Array){for(var g=0;g<x.associativeWith.length;g++)if(x.associativeWith[g]===o)return!0;return!1}return null},r.properties=void 0;var b=n("../utils/object"),h=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function m(p,A){var S=p;A!=="keep"&&(S=p.getContent());for(var _=S.getIdentifier(),l=0;l<h.length;l++)if(_ in h[l])return l;return null}r.properties=h},{"../utils/object":938}],639:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createParse=void 0;var b=n("../utils/factory"),h=n("../utils/is"),m=n("../utils/collection"),p=n("../utils/object");function A(){return(A=Object.assign||function(l){for(var y=1;y<arguments.length;y++){var o=arguments[y];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(l[f]=o[f])}return l}).apply(this,arguments)}var S=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],_=(0,b.factory)("parse",S,function(l){var y=l.typed,o=l.numeric,f=l.config,x=l.AccessorNode,g=l.ArrayNode,D=l.AssignmentNode,E=l.BlockNode,C=l.ConditionalNode,T=l.ConstantNode,O=l.FunctionAssignmentNode,I=l.FunctionNode,M=l.IndexNode,F=l.ObjectNode,B=l.OperatorNode,j=l.ParenthesisNode,L=l.RangeNode,R=l.RelationalNode,V=l.SymbolNode,k=y("parse",{string:function(me){return le(me,{})},"Array | Matrix":function(me){return U(me,{})},"string, Object":function(me,Ve){return le(me,Ve.nodes!==void 0?Ve.nodes:{})},"Array | Matrix, Object":U});function U(me){var Ve=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},Xe=Ve.nodes!==void 0?Ve.nodes:{};return(0,m.deepMap)(me,function(rt){if(typeof rt!="string")throw new TypeError("String expected");return le(rt,Xe)})}var G={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},H={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},X={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},Z={true:!0,false:!1,null:null,undefined:void 0},J=["NaN","Infinity"];function ee(me,Ve){return me.expression.substr(me.index,Ve)}function $(me){return ee(me,1)}function W(me){me.index++}function Q(me){return me.expression.charAt(me.index-1)}function te(me){return me.expression.charAt(me.index+1)}function ce(me){for(me.tokenType=G.NULL,me.token="",me.comment="";k.isWhitespace($(me),me.nestingLevel);)W(me);if($(me)==="#")for(;$(me)!==`
`&&$(me)!=="";)me.comment+=$(me),W(me);if($(me)!==""){if($(me)===`
`&&!me.nestingLevel)return me.tokenType=G.DELIMITER,me.token=$(me),void W(me);var Ve=$(me),Xe=ee(me,2),rt=ee(me,3);if(rt.length===3&&H[rt])return me.tokenType=G.DELIMITER,me.token=rt,W(me),W(me),void W(me);if(Xe.length===2&&H[Xe])return me.tokenType=G.DELIMITER,me.token=Xe,W(me),void W(me);if(H[Ve])return me.tokenType=G.DELIMITER,me.token=Ve,void W(me);if(k.isDigitDot(Ve)){if(me.tokenType=G.NUMBER,$(me)===".")me.token+=$(me),W(me),k.isDigit($(me))||(me.tokenType=G.DELIMITER);else{for(;k.isDigit($(me));)me.token+=$(me),W(me);k.isDecimalMark($(me),te(me))&&(me.token+=$(me),W(me))}for(;k.isDigit($(me));)me.token+=$(me),W(me);if($(me)==="E"||$(me)==="e"){if(k.isDigit(te(me))||te(me)==="-"||te(me)==="+"){if(me.token+=$(me),W(me),$(me)!=="+"&&$(me)!=="-"||(me.token+=$(me),W(me)),!k.isDigit($(me)))throw Se(me,'Digit expected, got "'+$(me)+'"');for(;k.isDigit($(me));)me.token+=$(me),W(me);if(k.isDecimalMark($(me),te(me)))throw Se(me,'Digit expected, got "'+$(me)+'"')}else if(te(me)===".")throw W(me),Se(me,'Digit expected, got "'+$(me)+'"')}}else{if(!k.isAlpha($(me),Q(me),te(me))){for(me.tokenType=G.UNKNOWN;$(me)!=="";)me.token+=$(me),W(me);throw Se(me,'Syntax error in part "'+me.token+'"')}for(;k.isAlpha($(me),Q(me),te(me))||k.isDigit($(me));)me.token+=$(me),W(me);(0,p.hasOwnProperty)(X,me.token)?me.tokenType=G.DELIMITER:me.tokenType=G.SYMBOL}}else me.tokenType=G.DELIMITER}function oe(me){for(;ce(me),me.token===`
`;);}function ue(me){me.nestingLevel++}function we(me){me.nestingLevel--}function le(me,Ve){var Xe={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:G.NULL,nestingLevel:0,conditionalLevel:null};A(Xe,{expression:me,extraNodes:Ve}),ce(Xe);var rt=function(lt){var nt,it,dt=[];for(lt.token!==""&&lt.token!==`
`&&lt.token!==";"&&((nt=fe(lt)).comment=lt.comment);lt.token===`
`||lt.token===";";)dt.length===0&&nt&&(it=lt.token!==";",dt.push({node:nt,visible:it})),ce(lt),lt.token!==`
`&&lt.token!==";"&&lt.token!==""&&((nt=fe(lt)).comment=lt.comment,it=lt.token!==";",dt.push({node:nt,visible:it}));return 0<dt.length?new E(dt):(nt||((nt=new T(void 0)).comment=lt.comment),nt)}(Xe);if(Xe.token!=="")throw Xe.tokenType===G.DELIMITER?Me(Xe,"Unexpected operator "+Xe.token):Se(Xe,'Unexpected part "'+Xe.token+'"');return rt}function fe(me){var Ve,Xe,rt,lt,nt=function(it){for(var dt=function(xt){for(var Tt=ve(xt);xt.token==="or";)oe(xt),Tt=new B("or","or",[Tt,ve(xt)]);return Tt}(it);it.token==="?";){var ft=it.conditionalLevel;it.conditionalLevel=it.nestingLevel,oe(it);var yt=dt,bt=fe(it);if(it.token!==":")throw Se(it,"False part of conditional expression expected");it.conditionalLevel=null,oe(it);var wt=fe(it);dt=new C(yt,bt,wt),it.conditionalLevel=ft}return dt}(me);if(me.token!=="=")return nt;if((0,h.isSymbolNode)(nt))return Ve=nt.name,oe(me),rt=fe(me),new D(new V(Ve),rt);if((0,h.isAccessorNode)(nt))return oe(me),rt=fe(me),new D(nt.object,nt.index,rt);if((0,h.isFunctionNode)(nt)&&(0,h.isSymbolNode)(nt.fn)&&(lt=!0,Xe=[],Ve=nt.name,nt.args.forEach(function(it,dt){(0,h.isSymbolNode)(it)?Xe[dt]=it.name:lt=!1}),lt))return oe(me),rt=fe(me),new O(Ve,Xe,rt);throw Se(me,"Invalid left hand side of assignment operator =")}function ve(me){for(var Ve=pe(me);me.token==="xor";)oe(me),Ve=new B("xor","xor",[Ve,pe(me)]);return Ve}function pe(me){for(var Ve=ye(me);me.token==="and";)oe(me),Ve=new B("and","and",[Ve,ye(me)]);return Ve}function ye(me){for(var Ve=Ae(me);me.token==="|";)oe(me),Ve=new B("|","bitOr",[Ve,Ae(me)]);return Ve}function Ae(me){for(var Ve=be(me);me.token==="^|";)oe(me),Ve=new B("^|","bitXor",[Ve,be(me)]);return Ve}function be(me){for(var Ve=ne(me);me.token==="&";)oe(me),Ve=new B("&","bitAnd",[Ve,ne(me)]);return Ve}function ne(me){for(var Ve=[re(me)],Xe=[],rt={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};(0,p.hasOwnProperty)(rt,me.token);){var lt={name:me.token,fn:rt[me.token]};Xe.push(lt),oe(me),Ve.push(re(me))}return Ve.length===1?Ve[0]:Ve.length===2?new B(Xe[0].name,Xe[0].fn,Ve):new R(Xe.map(function(nt){return nt.fn}),Ve)}function re(me){for(var Ve,Xe,rt,lt=de(me),nt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};(0,p.hasOwnProperty)(nt,me.token);)Xe=nt[Ve=me.token],oe(me),rt=[lt,de(me)],lt=new B(Ve,Xe,rt);return lt}function de(me){for(var Ve,Xe,rt,lt=Ce(me),nt={to:"to",in:"to"};(0,p.hasOwnProperty)(nt,me.token);)Xe=nt[Ve=me.token],oe(me),lt=Ve==="in"&&me.token===""?new B("*","multiply",[lt,new V("in")],!0):(rt=[lt,Ce(me)],new B(Ve,Xe,rt));return lt}function Ce(me){var Ve=[],Xe=me.token===":"?new T(1):je(me);if(me.token===":"&&me.conditionalLevel!==me.nestingLevel){for(Ve.push(Xe);me.token===":"&&Ve.length<3;)oe(me),me.token===")"||me.token==="]"||me.token===","||me.token===""?Ve.push(new V("end")):Ve.push(je(me));Xe=Ve.length===3?new L(Ve[0],Ve[2],Ve[1]):new L(Ve[0],Ve[1])}return Xe}function je(me){for(var Ve,Xe,rt,lt=xe(me),nt={"+":"add","-":"subtract"};(0,p.hasOwnProperty)(nt,me.token);)Xe=nt[Ve=me.token],oe(me),rt=[lt,xe(me)],lt=new B(Ve,Xe,rt);return lt}function xe(me){for(var Ve,Xe,rt,lt=Ie(me),nt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};(0,p.hasOwnProperty)(nt,me.token);)Xe=nt[Ve=me.token],oe(me),rt=Ie(me),lt=new B(Ve,Xe,[lt,rt]);return lt}function Ie(me){for(var Ve=Ne(me),Xe=Ve;me.tokenType===G.SYMBOL||me.token==="in"&&(0,h.isConstantNode)(Ve)||!(me.tokenType!==G.NUMBER||(0,h.isConstantNode)(Xe)||(0,h.isOperatorNode)(Xe)&&Xe.op!=="!")||me.token==="(";)Xe=Ne(me),Ve=new B("*","multiply",[Ve,Xe],!0);return Ve}function Ne(me){for(var Ve=Be(me),Xe=Ve,rt=[];me.token==="/"&&(0,h.isConstantNode)(Xe);){if(rt.push(A({},me)),oe(me),me.tokenType!==G.NUMBER){A(me,rt.pop());break}if(rt.push(A({},me)),oe(me),me.tokenType!==G.SYMBOL&&me.token!=="("){rt.pop(),A(me,rt.pop());break}A(me,rt.pop()),rt.pop(),Xe=Be(me),Ve=new B("/","divide",[Ve,Xe])}return Ve}function Be(me){var Ve,Xe,rt,lt={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return(0,p.hasOwnProperty)(lt,me.token)?(rt=lt[me.token],Ve=me.token,oe(me),Xe=[Be(me)],new B(Ve,rt,Xe)):function(nt){var it,dt,ft,yt;return it=function(bt){var wt,xt,Tt;wt=function(Mt){var Ot=[];if(Mt.tokenType===G.SYMBOL&&(0,p.hasOwnProperty)(Mt.extraNodes,Mt.token)){var Lt=Mt.extraNodes[Mt.token];if(ce(Mt),Mt.token==="("){if(Ot=[],ue(Mt),ce(Mt),Mt.token!==")")for(Ot.push(fe(Mt));Mt.token===",";)ce(Mt),Ot.push(fe(Mt));if(Mt.token!==")")throw Se(Mt,"Parenthesis ) expected");we(Mt),ce(Mt)}return new Lt(Ot)}return function(Ft){var Pt,It;return Ft.tokenType===G.SYMBOL||Ft.tokenType===G.DELIMITER&&Ft.token in X?(It=Ft.token,ce(Ft),Pt=(0,p.hasOwnProperty)(Z,It)?new T(Z[It]):J.indexOf(It)!==-1?new T(o(It,"number")):new V(It),Pt=$e(Ft,Pt)):function(Rt){var Ht,rn;return Rt.token!=='"'?function(Zt){var Jt,an;return Zt.token!=="'"?function(Wt){var nn,Je,Et,_e;if(Wt.token!=="[")return function(Fe){if(Fe.token!=="{")return function(tt){var ct;return tt.tokenType!==G.NUMBER?function(st){var ot;if(st.token!=="(")return function(Dt){throw Dt.token===""?Se(Dt,"Unexpected end of expression"):Se(Dt,"Value expected")}(st);if(ue(st),ce(st),ot=fe(st),st.token===")")return we(st),ce(st),ot=new j(ot),ot=$e(st,ot);throw Se(st,"Parenthesis ) expected")}(tt):(ct=tt.token,ce(tt),new T(o(ct,f.number)))}(Fe);var He;ue(Fe);var Re={};do if(ce(Fe),Fe.token!=="}"){if(Fe.token==='"')He=Le(Fe);else if(Fe.token==="'")He=qe(Fe);else{if(!(Fe.tokenType===G.SYMBOL||Fe.tokenType===G.DELIMITER&&Fe.token in X))throw Se(Fe,"Symbol or string expected as object key");He=Fe.token,ce(Fe)}if(Fe.token!==":")throw Se(Fe,"Colon : expected after object key");ce(Fe),Re[He]=fe(Fe)}while(Fe.token===",");if(Fe.token!=="}")throw Se(Fe,"Comma , or bracket } expected after object value");we(Fe),ce(Fe);var Ye=new F(Re);return Ye=$e(Fe,Ye)}(Wt);if(ue(Wt),ce(Wt),Wt.token!=="]"){var Oe=ze(Wt);if(Wt.token===";"){for(Et=1,Je=[Oe];Wt.token===";";)ce(Wt),Je[Et]=ze(Wt),Et++;if(Wt.token!=="]")throw Se(Wt,"End of matrix ] expected");we(Wt),ce(Wt),_e=Je[0].items.length;for(var Ue=1;Ue<Et;Ue++)if(Je[Ue].items.length!==_e)throw Me(Wt,"Column dimensions mismatch ("+Je[Ue].items.length+" !== "+_e+")");nn=new g(Je)}else{if(Wt.token!=="]")throw Se(Wt,"End of matrix ] expected");we(Wt),ce(Wt),nn=Oe}}else we(Wt),ce(Wt),nn=new g([]);return $e(Wt,nn)}(Zt):(an=qe(Zt),Jt=new T(an),Jt=$e(Zt,Jt))}(Rt):(rn=Le(Rt),Ht=new T(rn),Ht=$e(Rt,Ht))}(Ft)}(Mt)}(bt);for(var kt={"!":"factorial","'":"ctranspose"};(0,p.hasOwnProperty)(kt,bt.token);)xt=bt.token,Tt=kt[xt],ce(bt),wt=new B(xt,Tt,[wt]),wt=$e(bt,wt);return wt}(nt),nt.token!=="^"&&nt.token!==".^"||(dt=nt.token,ft=dt==="^"?"pow":"dotPow",oe(nt),yt=[it,Be(nt)],it=new B(dt,ft,yt)),it}(me)}function $e(me,Ve,Xe){for(var rt;!(me.token!=="("&&me.token!=="["&&me.token!=="."||Xe&&Xe.indexOf(me.token)===-1);)if(rt=[],me.token==="("){if(!(0,h.isSymbolNode)(Ve)&&!(0,h.isAccessorNode)(Ve))return Ve;if(ue(me),ce(me),me.token!==")")for(rt.push(fe(me));me.token===",";)ce(me),rt.push(fe(me));if(me.token!==")")throw Se(me,"Parenthesis ) expected");we(me),ce(me),Ve=new I(Ve,rt)}else if(me.token==="["){if(ue(me),ce(me),me.token!=="]")for(rt.push(fe(me));me.token===",";)ce(me),rt.push(fe(me));if(me.token!=="]")throw Se(me,"Parenthesis ] expected");we(me),ce(me),Ve=new x(Ve,new M(rt))}else{if(ce(me),me.tokenType!==G.SYMBOL)throw Se(me,"Property name expected after dot");rt.push(new T(me.token)),ce(me),Ve=new x(Ve,new M(rt,!0))}return Ve}function Le(me){for(var Ve="";$(me)!==""&&$(me)!=='"';)$(me)==="\\"&&(Ve+=$(me),W(me)),Ve+=$(me),W(me);if(ce(me),me.token!=='"')throw Se(me,'End of string " expected');return ce(me),JSON.parse('"'+Ve+'"')}function qe(me){for(var Ve="";$(me)!==""&&$(me)!=="'";)$(me)==="\\"&&(Ve+=$(me),W(me)),Ve+=$(me),W(me);if(ce(me),me.token!=="'")throw Se(me,"End of string ' expected");return ce(me),JSON.parse('"'+Ve+'"')}function ze(me){for(var Ve=[fe(me)],Xe=1;me.token===",";)ce(me),Ve[Xe]=fe(me),Xe++;return new g(Ve)}function Ee(me){return me.index-me.token.length+1}function Se(me,Ve){var Xe=Ee(me),rt=new SyntaxError(Ve+" (char "+Xe+")");return rt.char=Xe,rt}function Me(me,Ve){var Xe=Ee(me),rt=new SyntaxError(Ve+" (char "+Xe+")");return rt.char=Xe,rt}return k.isAlpha=function(me,Ve,Xe){return k.isValidLatinOrGreek(me)||k.isValidMathSymbol(me,Xe)||k.isValidMathSymbol(Ve,me)},k.isValidLatinOrGreek=function(me){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(me)},k.isValidMathSymbol=function(me,Ve){return/^[\uD835]$/.test(me)&&/^[\uDC00-\uDFFF]$/.test(Ve)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(Ve)},k.isWhitespace=function(me,Ve){return me===" "||me==="	"||me===`
`&&0<Ve},k.isDecimalMark=function(me,Ve){return me==="."&&Ve!=="/"&&Ve!=="*"&&Ve!=="^"},k.isDigitDot=function(me){return"0"<=me&&me<="9"||me==="."},k.isDigit=function(me){return"0"<=me&&me<="9"},k});r.createParse=_},{"../utils/collection":927,"../utils/factory":931,"../utils/is":933,"../utils/object":938}],640:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createApplyTransform=void 0;var b=n("./utils/errorTransform"),h=n("../../utils/factory"),m=n("../../function/matrix/apply"),p=n("../../utils/is"),A=["typed","isInteger"],S=(0,h.factory)("apply",A,function(_){var l=_.typed,y=_.isInteger,o=(0,m.createApply)({typed:l,isInteger:y});return l("apply",{"...any":function(f){var x=f[1];(0,p.isNumber)(x)?f[1]=x-1:(0,p.isBigNumber)(x)&&(f[1]=x.minus(1));try{return o.apply(null,f)}catch(g){throw(0,b.errorTransform)(g)}}})},{isTransformFunction:!0});r.createApplyTransform=S},{"../../function/matrix/apply":749,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],641:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createColumnTransform=void 0;var b=n("./utils/errorTransform"),h=n("../../utils/factory"),m=n("../../function/matrix/column"),p=n("../../utils/is"),A=["typed","Index","matrix","range"],S=(0,h.factory)("column",A,function(_){var l=_.typed,y=_.Index,o=_.matrix,f=_.range,x=(0,m.createColumn)({typed:l,Index:y,matrix:o,range:f});return l("column",{"...any":function(g){var D=g.length-1,E=g[D];(0,p.isNumber)(E)&&(g[D]=E-1);try{return x.apply(null,g)}catch(C){throw(0,b.errorTransform)(C)}}})},{isTransformFunction:!0});r.createColumnTransform=S},{"../../function/matrix/column":750,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],642:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createConcatTransform=void 0;var b=n("../../utils/is"),h=n("./utils/errorTransform"),m=n("../../utils/factory"),p=n("../../function/matrix/concat"),A=["typed","matrix","isInteger"],S=(0,m.factory)("concat",A,function(_){var l=_.typed,y=_.matrix,o=_.isInteger,f=(0,p.createConcat)({typed:l,matrix:y,isInteger:o});return l("concat",{"...any":function(x){var g=x.length-1,D=x[g];(0,b.isNumber)(D)?x[g]=D-1:(0,b.isBigNumber)(D)&&(x[g]=D.minus(1));try{return f.apply(null,x)}catch(E){throw(0,h.errorTransform)(E)}}})},{isTransformFunction:!0});r.createConcatTransform=S},{"../../function/matrix/concat":751,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],643:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFilterTransform=void 0;var b=n("../../utils/is"),h=n("../../utils/array"),m=n("../../utils/function"),p=n("./utils/compileInlineExpression"),A=["typed"],S=(0,n("../../utils/factory").factory)("filter",A,function(l){var y=l.typed;function o(x,g,D){var E,C;return x[0]&&(E=x[0].compile().evaluate(D)),x[1]&&(C=(0,b.isSymbolNode)(x[1])||(0,b.isFunctionAssignmentNode)(x[1])?x[1].compile().evaluate(D):(0,p.compileInlineExpression)(x[1],g,D)),f(E,C)}o.rawArgs=!0;var f=y("filter",{"Array, function":_,"Matrix, function":function(x,g){return x.create(_(x.toArray(),g))},"Array, RegExp":h.filterRegExp,"Matrix, RegExp":function(x,g){return x.create((0,h.filterRegExp)(x.toArray(),g))}});return o},{isTransformFunction:!0});function _(l,y){var o=(0,m.maxArgumentCount)(y);return(0,h.filter)(l,function(f,x,g){return o===1?y(f):o===2?y(f,[x+1]):y(f,[x+1],g)})}r.createFilterTransform=S},{"../../utils/array":922,"../../utils/factory":931,"../../utils/function":932,"../../utils/is":933,"./utils/compileInlineExpression":655}],644:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createForEachTransform=void 0;var b=n("../../utils/is"),h=n("../../utils/function"),m=n("../../utils/array"),p=n("../../utils/factory"),A=n("./utils/compileInlineExpression"),S=["typed"],_=(0,p.factory)("forEach",S,function(l){var y=l.typed;function o(x,g,D){var E,C;return x[0]&&(E=x[0].compile().evaluate(D)),x[1]&&(C=(0,b.isSymbolNode)(x[1])||(0,b.isFunctionAssignmentNode)(x[1])?x[1].compile().evaluate(D):(0,A.compileInlineExpression)(x[1],g,D)),f(E,C)}o.rawArgs=!0;var f=y("forEach",{"Array | Matrix, function":function(x,g){var D=(0,h.maxArgumentCount)(g);(function E(C,T){Array.isArray(C)?(0,m.forEach)(C,function(O,I){E(O,T.concat(I+1))}):D===1?g(C):D===2?g(C,T):g(C,T,x)})(x.valueOf(),[])}});return o},{isTransformFunction:!0});r.createForEachTransform=_},{"../../utils/array":922,"../../utils/factory":931,"../../utils/function":932,"../../utils/is":933,"./utils/compileInlineExpression":655}],645:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIndexTransform=void 0;var b=n("../../utils/is"),h=["Index"],m=(0,n("../../utils/factory").factory)("index",h,function(p){var A=p.Index;return function(){for(var S=[],_=0,l=arguments.length;_<l;_++){var y=arguments[_];if((0,b.isRange)(y))y.start--,y.end-=0<y.step?0:2;else if(y&&y.isSet===!0)y=y.map(function(f){return f-1});else if((0,b.isArray)(y)||(0,b.isMatrix)(y))y=y.map(function(f){return f-1});else if((0,b.isNumber)(y))y--;else if((0,b.isBigNumber)(y))y=y.toNumber()-1;else if(typeof y!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");S[_]=y}var o=new A;return A.apply(o,S),o}},{isTransformFunction:!0});r.createIndexTransform=m},{"../../utils/factory":931,"../../utils/is":933}],646:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMapTransform=void 0;var b=n("../../utils/is"),h=n("../../utils/function"),m=n("../../utils/array"),p=n("../../utils/factory"),A=n("./utils/compileInlineExpression"),S=["typed"],_=(0,p.factory)("map",S,function(y){var o=y.typed;function f(g,D,E){var C,T;return g[0]&&(C=g[0].compile().evaluate(E)),g[1]&&(T=(0,b.isSymbolNode)(g[1])||(0,b.isFunctionAssignmentNode)(g[1])?g[1].compile().evaluate(E):(0,A.compileInlineExpression)(g[1],D,E)),x(C,T)}f.rawArgs=!0;var x=o("map",{"Array, function":function(g,D){return l(g,D,g)},"Matrix, function":function(g,D){return g.create(l(g.valueOf(),D,g))}});return f},{isTransformFunction:!0});function l(y,o,f){var x=(0,h.maxArgumentCount)(o);return function g(D,E){return Array.isArray(D)?(0,m.map)(D,function(C,T){return g(C,E.concat(T+1))}):x===1?o(D):x===2?o(D,E):o(D,E,f)}(y,[])}r.createMapTransform=_},{"../../utils/array":922,"../../utils/factory":931,"../../utils/function":932,"../../utils/is":933,"./utils/compileInlineExpression":655}],647:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMaxTransform=void 0;var b=n("../../utils/is"),h=n("../../utils/factory"),m=n("./utils/errorTransform"),p=n("../../function/statistics/max"),A=["typed","larger"],S=(0,h.factory)("max",A,function(_){var l=_.typed,y=_.larger,o=(0,p.createMax)({typed:l,larger:y});return l("max",{"...any":function(f){var x;f.length===2&&(0,b.isCollection)(f[0])&&(x=f[1],(0,b.isNumber)(x)?f[1]=x-1:(0,b.isBigNumber)(x)&&(f[1]=x.minus(1)));try{return o.apply(null,f)}catch(g){throw(0,m.errorTransform)(g)}}})},{isTransformFunction:!0});r.createMaxTransform=S},{"../../function/statistics/max":818,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],648:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMeanTransform=void 0;var b=n("../../utils/is"),h=n("../../utils/factory"),m=n("./utils/errorTransform"),p=n("../../function/statistics/mean"),A=["typed","add","divide"],S=(0,h.factory)("mean",A,function(_){var l=_.typed,y=_.add,o=_.divide,f=(0,p.createMean)({typed:l,add:y,divide:o});return l("mean",{"...any":function(x){var g;x.length===2&&(0,b.isCollection)(x[0])&&(g=x[1],(0,b.isNumber)(g)?x[1]=g-1:(0,b.isBigNumber)(g)&&(x[1]=g.minus(1)));try{return f.apply(null,x)}catch(D){throw(0,m.errorTransform)(D)}}})},{isTransformFunction:!0});r.createMeanTransform=S},{"../../function/statistics/mean":819,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],649:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMinTransform=void 0;var b=n("../../utils/is"),h=n("../../utils/factory"),m=n("./utils/errorTransform"),p=n("../../function/statistics/min"),A=["typed","smaller"],S=(0,h.factory)("min",A,function(_){var l=_.typed,y=_.smaller,o=(0,p.createMin)({typed:l,smaller:y});return l("min",{"...any":function(f){var x;f.length===2&&(0,b.isCollection)(f[0])&&(x=f[1],(0,b.isNumber)(x)?f[1]=x-1:(0,b.isBigNumber)(x)&&(f[1]=x.minus(1)));try{return o.apply(null,f)}catch(g){throw(0,m.errorTransform)(g)}}})},{isTransformFunction:!0});r.createMinTransform=S},{"../../function/statistics/min":821,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],650:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRangeTransform=void 0;var b=n("../../utils/factory"),h=n("../../function/matrix/range"),m=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],p=(0,b.factory)("range",m,function(A){var S=A.typed,_=A.config,l=A.matrix,y=A.bignumber,o=A.smaller,f=A.smallerEq,x=A.larger,g=A.largerEq,D=(0,h.createRange)({typed:S,config:_,matrix:l,bignumber:y,smaller:o,smallerEq:f,larger:x,largerEq:g});return S("range",{"...any":function(E){return typeof E[E.length-1]!="boolean"&&E.push(!0),D.apply(null,E)}})},{isTransformFunction:!0});r.createRangeTransform=p},{"../../function/matrix/range":770,"../../utils/factory":931}],651:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRowTransform=void 0;var b=n("../../utils/factory"),h=n("../../function/matrix/row"),m=n("./utils/errorTransform"),p=n("../../utils/is"),A=["typed","Index","matrix","range"],S=(0,b.factory)("row",A,function(_){var l=_.typed,y=_.Index,o=_.matrix,f=_.range,x=(0,h.createRow)({typed:l,Index:y,matrix:o,range:f});return l("row",{"...any":function(g){var D=g.length-1,E=g[D];(0,p.isNumber)(E)&&(g[D]=E-1);try{return x.apply(null,g)}catch(C){throw(0,m.errorTransform)(C)}}})},{isTransformFunction:!0});r.createRowTransform=S},{"../../function/matrix/row":773,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],652:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createStdTransform=void 0;var b=n("../../utils/factory"),h=n("../../function/statistics/std"),m=n("../../utils/is"),p=n("./utils/errorTransform"),A=["typed","sqrt","variance"],S=(0,b.factory)("std",A,function(_){var l=_.typed,y=_.sqrt,o=_.variance,f=(0,h.createStd)({typed:l,sqrt:y,variance:o});return l("std",{"...any":function(x){var g;2<=x.length&&(0,m.isCollection)(x[0])&&(g=x[1],(0,m.isNumber)(g)?x[1]=g-1:(0,m.isBigNumber)(g)&&(x[1]=g.minus(1)));try{return f.apply(null,x)}catch(D){throw(0,p.errorTransform)(D)}}})},{isTransformFunction:!0});r.createStdTransform=S},{"../../function/statistics/std":825,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],653:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSubsetTransform=void 0;var b=n("../../utils/factory"),h=n("./utils/errorTransform"),m=n("../../function/matrix/subset"),p=["typed","matrix"],A=(0,b.factory)("subset",p,function(S){var _=S.typed,l=S.matrix,y=(0,m.createSubset)({typed:_,matrix:l});return _("subset",{"...any":function(o){try{return y.apply(null,o)}catch(f){throw(0,h.errorTransform)(f)}}})},{isTransformFunction:!0});r.createSubsetTransform=A},{"../../function/matrix/subset":778,"../../utils/factory":931,"./utils/errorTransform":656}],654:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSumTransform=void 0;var b=n("../../utils/is"),h=n("../../utils/factory"),m=n("./utils/errorTransform"),p=n("../../function/statistics/sum"),A=["typed","config","add","?bignumber","?fraction"],S=(0,h.factory)("sum",A,function(_){var l=_.typed,y=_.config,o=_.add,f=_.bignumber,x=_.fraction,g=(0,p.createSum)({typed:l,config:y,add:o,bignumber:f,fraction:x});return l("sum",{"...any":function(D){var E;D.length===2&&(0,b.isCollection)(D[0])&&(E=D[1],(0,b.isNumber)(E)?D[1]=E-1:(0,b.isBigNumber)(E)&&(D[1]=E.minus(1)));try{return g.apply(null,D)}catch(C){throw(0,m.errorTransform)(C)}}})},{isTransformFunction:!0});r.createSumTransform=S},{"../../function/statistics/sum":826,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],655:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compileInlineExpression=function(h,m,p){var A=h.filter(function(y){return(0,b.isSymbolNode)(y)&&!(y.name in m)&&!(y.name in p)})[0];if(!A)throw new Error('No undefined variable found in inline expression "'+h+'"');var S=A.name,_=Object.create(p),l=h.compile();return function(y){return _[S]=y,l.evaluate(_)}};var b=n("../../../utils/is")},{"../../../utils/is":933}],656:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.errorTransform=function(h){return h&&h.isIndexError?new b.IndexError(h.index+1,h.min+1,h.max!==void 0?h.max+1:void 0):h};var b=n("../../../error/IndexError")},{"../../../error/IndexError":400}],657:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createVarianceTransform=void 0;var b=n("../../utils/factory"),h=n("../../utils/is"),m=n("./utils/errorTransform"),p=n("../../function/statistics/variance"),A=["typed","add","subtract","multiply","divide","apply","isNaN"],S=(0,b.factory)("variance",A,function(_){var l=_.typed,y=_.add,o=_.subtract,f=_.multiply,x=_.divide,g=_.apply,D=_.isNaN,E=(0,p.createVariance)({typed:l,add:y,subtract:o,multiply:f,divide:x,apply:g,isNaN:D});return l("variance",{"...any":function(C){var T;2<=C.length&&(0,h.isCollection)(C[0])&&(T=C[1],(0,h.isNumber)(T)?C[1]=T-1:(0,h.isBigNumber)(T)&&(C[1]=T.minus(1)));try{return E.apply(null,C)}catch(O){throw(0,m.errorTransform)(O)}}})},{isTransformFunction:!0});r.createVarianceTransform=S},{"../../function/statistics/variance":828,"../../utils/factory":931,"../../utils/is":933,"./utils/errorTransform":656}],658:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createTyped",{enumerable:!0,get:function(){return b.createTyped}}),Object.defineProperty(r,"createResultSet",{enumerable:!0,get:function(){return h.createResultSet}}),Object.defineProperty(r,"createBigNumberClass",{enumerable:!0,get:function(){return m.createBigNumberClass}}),Object.defineProperty(r,"createComplexClass",{enumerable:!0,get:function(){return p.createComplexClass}}),Object.defineProperty(r,"createFractionClass",{enumerable:!0,get:function(){return A.createFractionClass}}),Object.defineProperty(r,"createRangeClass",{enumerable:!0,get:function(){return S.createRangeClass}}),Object.defineProperty(r,"createMatrixClass",{enumerable:!0,get:function(){return _.createMatrixClass}}),Object.defineProperty(r,"createDenseMatrixClass",{enumerable:!0,get:function(){return l.createDenseMatrixClass}}),Object.defineProperty(r,"createClone",{enumerable:!0,get:function(){return y.createClone}}),Object.defineProperty(r,"createIsInteger",{enumerable:!0,get:function(){return o.createIsInteger}}),Object.defineProperty(r,"createIsNegative",{enumerable:!0,get:function(){return f.createIsNegative}}),Object.defineProperty(r,"createIsNumeric",{enumerable:!0,get:function(){return x.createIsNumeric}}),Object.defineProperty(r,"createHasNumericValue",{enumerable:!0,get:function(){return g.createHasNumericValue}}),Object.defineProperty(r,"createIsPositive",{enumerable:!0,get:function(){return D.createIsPositive}}),Object.defineProperty(r,"createIsZero",{enumerable:!0,get:function(){return E.createIsZero}}),Object.defineProperty(r,"createIsNaN",{enumerable:!0,get:function(){return C.createIsNaN}}),Object.defineProperty(r,"createTypeOf",{enumerable:!0,get:function(){return T.createTypeOf}}),Object.defineProperty(r,"createDeprecatedTypeof",{enumerable:!0,get:function(){return T.createDeprecatedTypeof}}),Object.defineProperty(r,"createEqualScalar",{enumerable:!0,get:function(){return O.createEqualScalar}}),Object.defineProperty(r,"createSparseMatrixClass",{enumerable:!0,get:function(){return I.createSparseMatrixClass}}),Object.defineProperty(r,"createNumber",{enumerable:!0,get:function(){return M.createNumber}}),Object.defineProperty(r,"createString",{enumerable:!0,get:function(){return F.createString}}),Object.defineProperty(r,"createBoolean",{enumerable:!0,get:function(){return B.createBoolean}}),Object.defineProperty(r,"createBignumber",{enumerable:!0,get:function(){return j.createBignumber}}),Object.defineProperty(r,"createComplex",{enumerable:!0,get:function(){return L.createComplex}}),Object.defineProperty(r,"createFraction",{enumerable:!0,get:function(){return R.createFraction}}),Object.defineProperty(r,"createMatrix",{enumerable:!0,get:function(){return V.createMatrix}}),Object.defineProperty(r,"createSplitUnit",{enumerable:!0,get:function(){return k.createSplitUnit}}),Object.defineProperty(r,"createUnaryMinus",{enumerable:!0,get:function(){return U.createUnaryMinus}}),Object.defineProperty(r,"createUnaryPlus",{enumerable:!0,get:function(){return G.createUnaryPlus}}),Object.defineProperty(r,"createAbs",{enumerable:!0,get:function(){return H.createAbs}}),Object.defineProperty(r,"createApply",{enumerable:!0,get:function(){return X.createApply}}),Object.defineProperty(r,"createAddScalar",{enumerable:!0,get:function(){return Z.createAddScalar}}),Object.defineProperty(r,"createCbrt",{enumerable:!0,get:function(){return J.createCbrt}}),Object.defineProperty(r,"createCeil",{enumerable:!0,get:function(){return ee.createCeil}}),Object.defineProperty(r,"createCube",{enumerable:!0,get:function(){return $.createCube}}),Object.defineProperty(r,"createExp",{enumerable:!0,get:function(){return W.createExp}}),Object.defineProperty(r,"createExpm1",{enumerable:!0,get:function(){return Q.createExpm1}}),Object.defineProperty(r,"createFix",{enumerable:!0,get:function(){return te.createFix}}),Object.defineProperty(r,"createFloor",{enumerable:!0,get:function(){return ce.createFloor}}),Object.defineProperty(r,"createGcd",{enumerable:!0,get:function(){return oe.createGcd}}),Object.defineProperty(r,"createLcm",{enumerable:!0,get:function(){return ue.createLcm}}),Object.defineProperty(r,"createLog10",{enumerable:!0,get:function(){return we.createLog10}}),Object.defineProperty(r,"createLog2",{enumerable:!0,get:function(){return le.createLog2}}),Object.defineProperty(r,"createMod",{enumerable:!0,get:function(){return fe.createMod}}),Object.defineProperty(r,"createMultiplyScalar",{enumerable:!0,get:function(){return ve.createMultiplyScalar}}),Object.defineProperty(r,"createMultiply",{enumerable:!0,get:function(){return pe.createMultiply}}),Object.defineProperty(r,"createNthRoot",{enumerable:!0,get:function(){return ye.createNthRoot}}),Object.defineProperty(r,"createSign",{enumerable:!0,get:function(){return Ae.createSign}}),Object.defineProperty(r,"createSqrt",{enumerable:!0,get:function(){return be.createSqrt}}),Object.defineProperty(r,"createSquare",{enumerable:!0,get:function(){return ne.createSquare}}),Object.defineProperty(r,"createSubtract",{enumerable:!0,get:function(){return re.createSubtract}}),Object.defineProperty(r,"createXgcd",{enumerable:!0,get:function(){return de.createXgcd}}),Object.defineProperty(r,"createDotMultiply",{enumerable:!0,get:function(){return Ce.createDotMultiply}}),Object.defineProperty(r,"createBitAnd",{enumerable:!0,get:function(){return je.createBitAnd}}),Object.defineProperty(r,"createBitNot",{enumerable:!0,get:function(){return xe.createBitNot}}),Object.defineProperty(r,"createBitOr",{enumerable:!0,get:function(){return Ie.createBitOr}}),Object.defineProperty(r,"createBitXor",{enumerable:!0,get:function(){return Ne.createBitXor}}),Object.defineProperty(r,"createArg",{enumerable:!0,get:function(){return Be.createArg}}),Object.defineProperty(r,"createConj",{enumerable:!0,get:function(){return $e.createConj}}),Object.defineProperty(r,"createIm",{enumerable:!0,get:function(){return Le.createIm}}),Object.defineProperty(r,"createRe",{enumerable:!0,get:function(){return qe.createRe}}),Object.defineProperty(r,"createNot",{enumerable:!0,get:function(){return ze.createNot}}),Object.defineProperty(r,"createOr",{enumerable:!0,get:function(){return Ee.createOr}}),Object.defineProperty(r,"createXor",{enumerable:!0,get:function(){return Se.createXor}}),Object.defineProperty(r,"createConcat",{enumerable:!0,get:function(){return Me.createConcat}}),Object.defineProperty(r,"createColumn",{enumerable:!0,get:function(){return me.createColumn}}),Object.defineProperty(r,"createCross",{enumerable:!0,get:function(){return Ve.createCross}}),Object.defineProperty(r,"createDiag",{enumerable:!0,get:function(){return Xe.createDiag}}),Object.defineProperty(r,"createEye",{enumerable:!0,get:function(){return rt.createEye}}),Object.defineProperty(r,"createFilter",{enumerable:!0,get:function(){return lt.createFilter}}),Object.defineProperty(r,"createFlatten",{enumerable:!0,get:function(){return nt.createFlatten}}),Object.defineProperty(r,"createForEach",{enumerable:!0,get:function(){return it.createForEach}}),Object.defineProperty(r,"createGetMatrixDataType",{enumerable:!0,get:function(){return dt.createGetMatrixDataType}}),Object.defineProperty(r,"createIdentity",{enumerable:!0,get:function(){return ft.createIdentity}}),Object.defineProperty(r,"createKron",{enumerable:!0,get:function(){return yt.createKron}}),Object.defineProperty(r,"createMap",{enumerable:!0,get:function(){return bt.createMap}}),Object.defineProperty(r,"createOnes",{enumerable:!0,get:function(){return wt.createOnes}}),Object.defineProperty(r,"createRange",{enumerable:!0,get:function(){return xt.createRange}}),Object.defineProperty(r,"createReshape",{enumerable:!0,get:function(){return Tt.createReshape}}),Object.defineProperty(r,"createResize",{enumerable:!0,get:function(){return kt.createResize}}),Object.defineProperty(r,"createRow",{enumerable:!0,get:function(){return Mt.createRow}}),Object.defineProperty(r,"createSize",{enumerable:!0,get:function(){return Ot.createSize}}),Object.defineProperty(r,"createSqueeze",{enumerable:!0,get:function(){return Lt.createSqueeze}}),Object.defineProperty(r,"createSubset",{enumerable:!0,get:function(){return Ft.createSubset}}),Object.defineProperty(r,"createTranspose",{enumerable:!0,get:function(){return Pt.createTranspose}}),Object.defineProperty(r,"createCtranspose",{enumerable:!0,get:function(){return It.createCtranspose}}),Object.defineProperty(r,"createZeros",{enumerable:!0,get:function(){return Rt.createZeros}}),Object.defineProperty(r,"createErf",{enumerable:!0,get:function(){return Ht.createErf}}),Object.defineProperty(r,"createMode",{enumerable:!0,get:function(){return rn.createMode}}),Object.defineProperty(r,"createProd",{enumerable:!0,get:function(){return Zt.createProd}}),Object.defineProperty(r,"createFormat",{enumerable:!0,get:function(){return Jt.createFormat}}),Object.defineProperty(r,"createPrint",{enumerable:!0,get:function(){return an.createPrint}}),Object.defineProperty(r,"createTo",{enumerable:!0,get:function(){return Wt.createTo}}),Object.defineProperty(r,"createIsPrime",{enumerable:!0,get:function(){return nn.createIsPrime}}),Object.defineProperty(r,"createNumeric",{enumerable:!0,get:function(){return Je.createNumeric}}),Object.defineProperty(r,"createDivideScalar",{enumerable:!0,get:function(){return Et.createDivideScalar}}),Object.defineProperty(r,"createPow",{enumerable:!0,get:function(){return _e.createPow}}),Object.defineProperty(r,"createRound",{enumerable:!0,get:function(){return Oe.createRound}}),Object.defineProperty(r,"createLog",{enumerable:!0,get:function(){return Ue.createLog}}),Object.defineProperty(r,"createLog1p",{enumerable:!0,get:function(){return Fe.createLog1p}}),Object.defineProperty(r,"createNthRoots",{enumerable:!0,get:function(){return He.createNthRoots}}),Object.defineProperty(r,"createDotPow",{enumerable:!0,get:function(){return Re.createDotPow}}),Object.defineProperty(r,"createDotDivide",{enumerable:!0,get:function(){return Ye.createDotDivide}}),Object.defineProperty(r,"createLsolve",{enumerable:!0,get:function(){return tt.createLsolve}}),Object.defineProperty(r,"createUsolve",{enumerable:!0,get:function(){return ct.createUsolve}}),Object.defineProperty(r,"createLeftShift",{enumerable:!0,get:function(){return st.createLeftShift}}),Object.defineProperty(r,"createRightArithShift",{enumerable:!0,get:function(){return ot.createRightArithShift}}),Object.defineProperty(r,"createRightLogShift",{enumerable:!0,get:function(){return Dt.createRightLogShift}}),Object.defineProperty(r,"createAnd",{enumerable:!0,get:function(){return Nt.createAnd}}),Object.defineProperty(r,"createCompare",{enumerable:!0,get:function(){return Ut.createCompare}}),Object.defineProperty(r,"createCompareNatural",{enumerable:!0,get:function(){return Gt.createCompareNatural}}),Object.defineProperty(r,"createCompareText",{enumerable:!0,get:function(){return Xt.createCompareText}}),Object.defineProperty(r,"createEqual",{enumerable:!0,get:function(){return en.createEqual}}),Object.defineProperty(r,"createEqualText",{enumerable:!0,get:function(){return sn.createEqualText}}),Object.defineProperty(r,"createSmaller",{enumerable:!0,get:function(){return un.createSmaller}}),Object.defineProperty(r,"createSmallerEq",{enumerable:!0,get:function(){return bn.createSmallerEq}}),Object.defineProperty(r,"createLarger",{enumerable:!0,get:function(){return Un.createLarger}}),Object.defineProperty(r,"createLargerEq",{enumerable:!0,get:function(){return tr.createLargerEq}}),Object.defineProperty(r,"createDeepEqual",{enumerable:!0,get:function(){return Gn.createDeepEqual}}),Object.defineProperty(r,"createUnequal",{enumerable:!0,get:function(){return nr.createUnequal}}),Object.defineProperty(r,"createPartitionSelect",{enumerable:!0,get:function(){return Bn.createPartitionSelect}}),Object.defineProperty(r,"createSort",{enumerable:!0,get:function(){return Vn.createSort}}),Object.defineProperty(r,"createMax",{enumerable:!0,get:function(){return Jn.createMax}}),Object.defineProperty(r,"createMin",{enumerable:!0,get:function(){return zn.createMin}}),Object.defineProperty(r,"createImmutableDenseMatrixClass",{enumerable:!0,get:function(){return dn.createImmutableDenseMatrixClass}}),Object.defineProperty(r,"createIndexClass",{enumerable:!0,get:function(){return on.createIndexClass}}),Object.defineProperty(r,"createFibonacciHeapClass",{enumerable:!0,get:function(){return _r.createFibonacciHeapClass}}),Object.defineProperty(r,"createSpaClass",{enumerable:!0,get:function(){return cr.createSpaClass}}),Object.defineProperty(r,"createUnitClass",{enumerable:!0,get:function(){return ur.createUnitClass}}),Object.defineProperty(r,"createUnitFunction",{enumerable:!0,get:function(){return Wn.createUnitFunction}}),Object.defineProperty(r,"createSparse",{enumerable:!0,get:function(){return zr.createSparse}}),Object.defineProperty(r,"createCreateUnit",{enumerable:!0,get:function(){return Gr.createCreateUnit}}),Object.defineProperty(r,"createAcos",{enumerable:!0,get:function(){return lr.createAcos}}),Object.defineProperty(r,"createAcosh",{enumerable:!0,get:function(){return Tn.createAcosh}}),Object.defineProperty(r,"createAcot",{enumerable:!0,get:function(){return ti.createAcot}}),Object.defineProperty(r,"createAcoth",{enumerable:!0,get:function(){return Or.createAcoth}}),Object.defineProperty(r,"createAcsc",{enumerable:!0,get:function(){return xr.createAcsc}}),Object.defineProperty(r,"createAcsch",{enumerable:!0,get:function(){return jn.createAcsch}}),Object.defineProperty(r,"createAsec",{enumerable:!0,get:function(){return hr.createAsec}}),Object.defineProperty(r,"createAsech",{enumerable:!0,get:function(){return xn.createAsech}}),Object.defineProperty(r,"createAsin",{enumerable:!0,get:function(){return jr.createAsin}}),Object.defineProperty(r,"createAsinh",{enumerable:!0,get:function(){return Vr.createAsinh}}),Object.defineProperty(r,"createAtan",{enumerable:!0,get:function(){return Ar.createAtan}}),Object.defineProperty(r,"createAtan2",{enumerable:!0,get:function(){return wr.createAtan2}}),Object.defineProperty(r,"createAtanh",{enumerable:!0,get:function(){return ni.createAtanh}}),Object.defineProperty(r,"createCos",{enumerable:!0,get:function(){return ri.createCos}}),Object.defineProperty(r,"createCosh",{enumerable:!0,get:function(){return rr.createCosh}}),Object.defineProperty(r,"createCot",{enumerable:!0,get:function(){return Xn.createCot}}),Object.defineProperty(r,"createCoth",{enumerable:!0,get:function(){return Qn.createCoth}}),Object.defineProperty(r,"createCsc",{enumerable:!0,get:function(){return Rn.createCsc}}),Object.defineProperty(r,"createCsch",{enumerable:!0,get:function(){return mr.createCsch}}),Object.defineProperty(r,"createSec",{enumerable:!0,get:function(){return $n.createSec}}),Object.defineProperty(r,"createSech",{enumerable:!0,get:function(){return ir.createSech}}),Object.defineProperty(r,"createSin",{enumerable:!0,get:function(){return ii.createSin}}),Object.defineProperty(r,"createSinh",{enumerable:!0,get:function(){return Zn.createSinh}}),Object.defineProperty(r,"createTan",{enumerable:!0,get:function(){return Dr.createTan}}),Object.defineProperty(r,"createTanh",{enumerable:!0,get:function(){return $r.createTanh}}),Object.defineProperty(r,"createSetCartesian",{enumerable:!0,get:function(){return Hr.createSetCartesian}}),Object.defineProperty(r,"createSetDifference",{enumerable:!0,get:function(){return qr.createSetDifference}}),Object.defineProperty(r,"createSetDistinct",{enumerable:!0,get:function(){return Wr.createSetDistinct}}),Object.defineProperty(r,"createSetIntersect",{enumerable:!0,get:function(){return Pr.createSetIntersect}}),Object.defineProperty(r,"createSetIsSubset",{enumerable:!0,get:function(){return dr.createSetIsSubset}}),Object.defineProperty(r,"createSetMultiplicity",{enumerable:!0,get:function(){return Ir.createSetMultiplicity}}),Object.defineProperty(r,"createSetPowerset",{enumerable:!0,get:function(){return Xr.createSetPowerset}}),Object.defineProperty(r,"createSetSize",{enumerable:!0,get:function(){return Yr.createSetSize}}),Object.defineProperty(r,"createSetSymDifference",{enumerable:!0,get:function(){return Sr.createSetSymDifference}}),Object.defineProperty(r,"createSetUnion",{enumerable:!0,get:function(){return Er.createSetUnion}}),Object.defineProperty(r,"createAdd",{enumerable:!0,get:function(){return Qr.createAdd}}),Object.defineProperty(r,"createHypot",{enumerable:!0,get:function(){return Cr.createHypot}}),Object.defineProperty(r,"createNorm",{enumerable:!0,get:function(){return Zr.createNorm}}),Object.defineProperty(r,"createDot",{enumerable:!0,get:function(){return Fr.createDot}}),Object.defineProperty(r,"createTrace",{enumerable:!0,get:function(){return Jr.createTrace}}),Object.defineProperty(r,"createIndex",{enumerable:!0,get:function(){return gr.createIndex}}),Object.defineProperty(r,"createNode",{enumerable:!0,get:function(){return ar.createNode}}),Object.defineProperty(r,"createAccessorNode",{enumerable:!0,get:function(){return Nr.createAccessorNode}}),Object.defineProperty(r,"createArrayNode",{enumerable:!0,get:function(){return Br.createArrayNode}}),Object.defineProperty(r,"createAssignmentNode",{enumerable:!0,get:function(){return mn.createAssignmentNode}}),Object.defineProperty(r,"createBlockNode",{enumerable:!0,get:function(){return Kn.createBlockNode}}),Object.defineProperty(r,"createConditionalNode",{enumerable:!0,get:function(){return zt.createConditionalNode}}),Object.defineProperty(r,"createConstantNode",{enumerable:!0,get:function(){return yr.createConstantNode}}),Object.defineProperty(r,"createFunctionAssignmentNode",{enumerable:!0,get:function(){return Mn.createFunctionAssignmentNode}}),Object.defineProperty(r,"createIndexNode",{enumerable:!0,get:function(){return pr.createIndexNode}}),Object.defineProperty(r,"createObjectNode",{enumerable:!0,get:function(){return Kr.createObjectNode}}),Object.defineProperty(r,"createOperatorNode",{enumerable:!0,get:function(){return ai.createOperatorNode}}),Object.defineProperty(r,"createParenthesisNode",{enumerable:!0,get:function(){return pn.createParenthesisNode}}),Object.defineProperty(r,"createRangeNode",{enumerable:!0,get:function(){return ei.createRangeNode}}),Object.defineProperty(r,"createRelationalNode",{enumerable:!0,get:function(){return Rr.createRelationalNode}}),Object.defineProperty(r,"createSymbolNode",{enumerable:!0,get:function(){return Ln.createSymbolNode}}),Object.defineProperty(r,"createFunctionNode",{enumerable:!0,get:function(){return Sn.createFunctionNode}}),Object.defineProperty(r,"createParse",{enumerable:!0,get:function(){return si.createParse}}),Object.defineProperty(r,"createCompile",{enumerable:!0,get:function(){return Tr.createCompile}}),Object.defineProperty(r,"createEvaluate",{enumerable:!0,get:function(){return oi.createEvaluate}}),Object.defineProperty(r,"createDeprecatedEval",{enumerable:!0,get:function(){return kr.createDeprecatedEval}}),Object.defineProperty(r,"createParserClass",{enumerable:!0,get:function(){return ci.createParserClass}}),Object.defineProperty(r,"createParser",{enumerable:!0,get:function(){return Lr.createParser}}),Object.defineProperty(r,"createLup",{enumerable:!0,get:function(){return _n.createLup}}),Object.defineProperty(r,"createQr",{enumerable:!0,get:function(){return vr.createQr}}),Object.defineProperty(r,"createSlu",{enumerable:!0,get:function(){return Y.createSlu}}),Object.defineProperty(r,"createLusolve",{enumerable:!0,get:function(){return K.createLusolve}}),Object.defineProperty(r,"createHelpClass",{enumerable:!0,get:function(){return ae.createHelpClass}}),Object.defineProperty(r,"createChainClass",{enumerable:!0,get:function(){return se.createChainClass}}),Object.defineProperty(r,"createHelp",{enumerable:!0,get:function(){return ge.createHelp}}),Object.defineProperty(r,"createChain",{enumerable:!0,get:function(){return Te.createChain}}),Object.defineProperty(r,"createDet",{enumerable:!0,get:function(){return Pe.createDet}}),Object.defineProperty(r,"createInv",{enumerable:!0,get:function(){return Ge.createInv}}),Object.defineProperty(r,"createEigs",{enumerable:!0,get:function(){return Ze.createEigs}}),Object.defineProperty(r,"createExpm",{enumerable:!0,get:function(){return Qe.createExpm}}),Object.defineProperty(r,"createSqrtm",{enumerable:!0,get:function(){return at.createSqrtm}}),Object.defineProperty(r,"createDivide",{enumerable:!0,get:function(){return pt.createDivide}}),Object.defineProperty(r,"createDistance",{enumerable:!0,get:function(){return ut.createDistance}}),Object.defineProperty(r,"createIntersect",{enumerable:!0,get:function(){return et.createIntersect}}),Object.defineProperty(r,"createSum",{enumerable:!0,get:function(){return Ct.createSum}}),Object.defineProperty(r,"createMean",{enumerable:!0,get:function(){return vt.createMean}}),Object.defineProperty(r,"createMedian",{enumerable:!0,get:function(){return At.createMedian}}),Object.defineProperty(r,"createMad",{enumerable:!0,get:function(){return mt.createMad}}),Object.defineProperty(r,"createVariance",{enumerable:!0,get:function(){return gt.createVariance}}),Object.defineProperty(r,"createDeprecatedVar",{enumerable:!0,get:function(){return gt.createDeprecatedVar}}),Object.defineProperty(r,"createQuantileSeq",{enumerable:!0,get:function(){return Vt.createQuantileSeq}}),Object.defineProperty(r,"createStd",{enumerable:!0,get:function(){return Qt.createStd}}),Object.defineProperty(r,"createCombinations",{enumerable:!0,get:function(){return $t.createCombinations}}),Object.defineProperty(r,"createCombinationsWithRep",{enumerable:!0,get:function(){return qt.createCombinationsWithRep}}),Object.defineProperty(r,"createGamma",{enumerable:!0,get:function(){return Kt.createGamma}}),Object.defineProperty(r,"createFactorial",{enumerable:!0,get:function(){return gn.createFactorial}}),Object.defineProperty(r,"createKldivergence",{enumerable:!0,get:function(){return An.createKldivergence}}),Object.defineProperty(r,"createMultinomial",{enumerable:!0,get:function(){return En.createMultinomial}}),Object.defineProperty(r,"createPermutations",{enumerable:!0,get:function(){return Pn.createPermutations}}),Object.defineProperty(r,"createPickRandom",{enumerable:!0,get:function(){return kn.createPickRandom}}),Object.defineProperty(r,"createRandom",{enumerable:!0,get:function(){return Yn.createRandom}}),Object.defineProperty(r,"createRandomInt",{enumerable:!0,get:function(){return hn.createRandomInt}}),Object.defineProperty(r,"createStirlingS2",{enumerable:!0,get:function(){return yn.createStirlingS2}}),Object.defineProperty(r,"createBellNumbers",{enumerable:!0,get:function(){return fn.createBellNumbers}}),Object.defineProperty(r,"createCatalan",{enumerable:!0,get:function(){return In.createCatalan}}),Object.defineProperty(r,"createComposition",{enumerable:!0,get:function(){return wn.createComposition}}),Object.defineProperty(r,"createSimplify",{enumerable:!0,get:function(){return On.createSimplify}}),Object.defineProperty(r,"createDerivative",{enumerable:!0,get:function(){return vn.createDerivative}}),Object.defineProperty(r,"createRationalize",{enumerable:!0,get:function(){return Nn.createRationalize}}),Object.defineProperty(r,"createReviver",{enumerable:!0,get:function(){return Ur.createReviver}}),Object.defineProperty(r,"createReplacer",{enumerable:!0,get:function(){return br.createReplacer}}),Object.defineProperty(r,"createE",{enumerable:!0,get:function(){return Cn.createE}}),Object.defineProperty(r,"createUppercaseE",{enumerable:!0,get:function(){return Cn.createUppercaseE}}),Object.defineProperty(r,"createFalse",{enumerable:!0,get:function(){return Cn.createFalse}}),Object.defineProperty(r,"createI",{enumerable:!0,get:function(){return Cn.createI}}),Object.defineProperty(r,"createInfinity",{enumerable:!0,get:function(){return Cn.createInfinity}}),Object.defineProperty(r,"createLN10",{enumerable:!0,get:function(){return Cn.createLN10}}),Object.defineProperty(r,"createLN2",{enumerable:!0,get:function(){return Cn.createLN2}}),Object.defineProperty(r,"createLOG10E",{enumerable:!0,get:function(){return Cn.createLOG10E}}),Object.defineProperty(r,"createLOG2E",{enumerable:!0,get:function(){return Cn.createLOG2E}}),Object.defineProperty(r,"createNaN",{enumerable:!0,get:function(){return Cn.createNaN}}),Object.defineProperty(r,"createNull",{enumerable:!0,get:function(){return Cn.createNull}}),Object.defineProperty(r,"createPhi",{enumerable:!0,get:function(){return Cn.createPhi}}),Object.defineProperty(r,"createPi",{enumerable:!0,get:function(){return Cn.createPi}}),Object.defineProperty(r,"createUppercasePi",{enumerable:!0,get:function(){return Cn.createUppercasePi}}),Object.defineProperty(r,"createSQRT1_2",{enumerable:!0,get:function(){return Cn.createSQRT1_2}}),Object.defineProperty(r,"createSQRT2",{enumerable:!0,get:function(){return Cn.createSQRT2}}),Object.defineProperty(r,"createTau",{enumerable:!0,get:function(){return Cn.createTau}}),Object.defineProperty(r,"createTrue",{enumerable:!0,get:function(){return Cn.createTrue}}),Object.defineProperty(r,"createVersion",{enumerable:!0,get:function(){return Cn.createVersion}}),Object.defineProperty(r,"createAtomicMass",{enumerable:!0,get:function(){return Yt.createAtomicMass}}),Object.defineProperty(r,"createAvogadro",{enumerable:!0,get:function(){return Yt.createAvogadro}}),Object.defineProperty(r,"createBohrMagneton",{enumerable:!0,get:function(){return Yt.createBohrMagneton}}),Object.defineProperty(r,"createBohrRadius",{enumerable:!0,get:function(){return Yt.createBohrRadius}}),Object.defineProperty(r,"createBoltzmann",{enumerable:!0,get:function(){return Yt.createBoltzmann}}),Object.defineProperty(r,"createClassicalElectronRadius",{enumerable:!0,get:function(){return Yt.createClassicalElectronRadius}}),Object.defineProperty(r,"createConductanceQuantum",{enumerable:!0,get:function(){return Yt.createConductanceQuantum}}),Object.defineProperty(r,"createCoulomb",{enumerable:!0,get:function(){return Yt.createCoulomb}}),Object.defineProperty(r,"createDeuteronMass",{enumerable:!0,get:function(){return Yt.createDeuteronMass}}),Object.defineProperty(r,"createEfimovFactor",{enumerable:!0,get:function(){return Yt.createEfimovFactor}}),Object.defineProperty(r,"createElectricConstant",{enumerable:!0,get:function(){return Yt.createElectricConstant}}),Object.defineProperty(r,"createElectronMass",{enumerable:!0,get:function(){return Yt.createElectronMass}}),Object.defineProperty(r,"createElementaryCharge",{enumerable:!0,get:function(){return Yt.createElementaryCharge}}),Object.defineProperty(r,"createFaraday",{enumerable:!0,get:function(){return Yt.createFaraday}}),Object.defineProperty(r,"createFermiCoupling",{enumerable:!0,get:function(){return Yt.createFermiCoupling}}),Object.defineProperty(r,"createFineStructure",{enumerable:!0,get:function(){return Yt.createFineStructure}}),Object.defineProperty(r,"createFirstRadiation",{enumerable:!0,get:function(){return Yt.createFirstRadiation}}),Object.defineProperty(r,"createGasConstant",{enumerable:!0,get:function(){return Yt.createGasConstant}}),Object.defineProperty(r,"createGravitationConstant",{enumerable:!0,get:function(){return Yt.createGravitationConstant}}),Object.defineProperty(r,"createGravity",{enumerable:!0,get:function(){return Yt.createGravity}}),Object.defineProperty(r,"createHartreeEnergy",{enumerable:!0,get:function(){return Yt.createHartreeEnergy}}),Object.defineProperty(r,"createInverseConductanceQuantum",{enumerable:!0,get:function(){return Yt.createInverseConductanceQuantum}}),Object.defineProperty(r,"createKlitzing",{enumerable:!0,get:function(){return Yt.createKlitzing}}),Object.defineProperty(r,"createLoschmidt",{enumerable:!0,get:function(){return Yt.createLoschmidt}}),Object.defineProperty(r,"createMagneticConstant",{enumerable:!0,get:function(){return Yt.createMagneticConstant}}),Object.defineProperty(r,"createMagneticFluxQuantum",{enumerable:!0,get:function(){return Yt.createMagneticFluxQuantum}}),Object.defineProperty(r,"createMolarMass",{enumerable:!0,get:function(){return Yt.createMolarMass}}),Object.defineProperty(r,"createMolarMassC12",{enumerable:!0,get:function(){return Yt.createMolarMassC12}}),Object.defineProperty(r,"createMolarPlanckConstant",{enumerable:!0,get:function(){return Yt.createMolarPlanckConstant}}),Object.defineProperty(r,"createMolarVolume",{enumerable:!0,get:function(){return Yt.createMolarVolume}}),Object.defineProperty(r,"createNeutronMass",{enumerable:!0,get:function(){return Yt.createNeutronMass}}),Object.defineProperty(r,"createNuclearMagneton",{enumerable:!0,get:function(){return Yt.createNuclearMagneton}}),Object.defineProperty(r,"createPlanckCharge",{enumerable:!0,get:function(){return Yt.createPlanckCharge}}),Object.defineProperty(r,"createPlanckConstant",{enumerable:!0,get:function(){return Yt.createPlanckConstant}}),Object.defineProperty(r,"createPlanckLength",{enumerable:!0,get:function(){return Yt.createPlanckLength}}),Object.defineProperty(r,"createPlanckMass",{enumerable:!0,get:function(){return Yt.createPlanckMass}}),Object.defineProperty(r,"createPlanckTemperature",{enumerable:!0,get:function(){return Yt.createPlanckTemperature}}),Object.defineProperty(r,"createPlanckTime",{enumerable:!0,get:function(){return Yt.createPlanckTime}}),Object.defineProperty(r,"createProtonMass",{enumerable:!0,get:function(){return Yt.createProtonMass}}),Object.defineProperty(r,"createQuantumOfCirculation",{enumerable:!0,get:function(){return Yt.createQuantumOfCirculation}}),Object.defineProperty(r,"createReducedPlanckConstant",{enumerable:!0,get:function(){return Yt.createReducedPlanckConstant}}),Object.defineProperty(r,"createRydberg",{enumerable:!0,get:function(){return Yt.createRydberg}}),Object.defineProperty(r,"createSackurTetrode",{enumerable:!0,get:function(){return Yt.createSackurTetrode}}),Object.defineProperty(r,"createSecondRadiation",{enumerable:!0,get:function(){return Yt.createSecondRadiation}}),Object.defineProperty(r,"createSpeedOfLight",{enumerable:!0,get:function(){return Yt.createSpeedOfLight}}),Object.defineProperty(r,"createStefanBoltzmann",{enumerable:!0,get:function(){return Yt.createStefanBoltzmann}}),Object.defineProperty(r,"createThomsonCrossSection",{enumerable:!0,get:function(){return Yt.createThomsonCrossSection}}),Object.defineProperty(r,"createVacuumImpedance",{enumerable:!0,get:function(){return Yt.createVacuumImpedance}}),Object.defineProperty(r,"createWeakMixingAngle",{enumerable:!0,get:function(){return Yt.createWeakMixingAngle}}),Object.defineProperty(r,"createWienDisplacement",{enumerable:!0,get:function(){return Yt.createWienDisplacement}}),Object.defineProperty(r,"createApplyTransform",{enumerable:!0,get:function(){return fi.createApplyTransform}}),Object.defineProperty(r,"createColumnTransform",{enumerable:!0,get:function(){return he.createColumnTransform}}),Object.defineProperty(r,"createFilterTransform",{enumerable:!0,get:function(){return tn.createFilterTransform}}),Object.defineProperty(r,"createForEachTransform",{enumerable:!0,get:function(){return ui.createForEachTransform}}),Object.defineProperty(r,"createIndexTransform",{enumerable:!0,get:function(){return fr.createIndexTransform}}),Object.defineProperty(r,"createMapTransform",{enumerable:!0,get:function(){return pi.createMapTransform}}),Object.defineProperty(r,"createMaxTransform",{enumerable:!0,get:function(){return Ke.createMaxTransform}}),Object.defineProperty(r,"createMeanTransform",{enumerable:!0,get:function(){return li.createMeanTransform}}),Object.defineProperty(r,"createMinTransform",{enumerable:!0,get:function(){return hi.createMinTransform}}),Object.defineProperty(r,"createRangeTransform",{enumerable:!0,get:function(){return Hn.createRangeTransform}}),Object.defineProperty(r,"createRowTransform",{enumerable:!0,get:function(){return yi.createRowTransform}}),Object.defineProperty(r,"createSubsetTransform",{enumerable:!0,get:function(){return jt.createSubsetTransform}}),Object.defineProperty(r,"createConcatTransform",{enumerable:!0,get:function(){return qn.createConcatTransform}}),Object.defineProperty(r,"createStdTransform",{enumerable:!0,get:function(){return vi.createStdTransform}}),Object.defineProperty(r,"createSumTransform",{enumerable:!0,get:function(){return bi.createSumTransform}}),Object.defineProperty(r,"createVarianceTransform",{enumerable:!0,get:function(){return Mr.createVarianceTransform}});var b=n("./core/function/typed"),h=n("./type/resultset/ResultSet"),m=n("./type/bignumber/BigNumber"),p=n("./type/complex/Complex"),A=n("./type/fraction/Fraction"),S=n("./type/matrix/Range"),_=n("./type/matrix/Matrix"),l=n("./type/matrix/DenseMatrix"),y=n("./function/utils/clone"),o=n("./function/utils/isInteger"),f=n("./function/utils/isNegative"),x=n("./function/utils/isNumeric"),g=n("./function/utils/hasNumericValue"),D=n("./function/utils/isPositive"),E=n("./function/utils/isZero"),C=n("./function/utils/isNaN"),T=n("./function/utils/typeOf"),O=n("./function/relational/equalScalar"),I=n("./type/matrix/SparseMatrix"),M=n("./type/number"),F=n("./type/string"),B=n("./type/boolean"),j=n("./type/bignumber/function/bignumber"),L=n("./type/complex/function/complex"),R=n("./type/fraction/function/fraction"),V=n("./type/matrix/function/matrix"),k=n("./type/unit/function/splitUnit"),U=n("./function/arithmetic/unaryMinus"),G=n("./function/arithmetic/unaryPlus"),H=n("./function/arithmetic/abs"),X=n("./function/matrix/apply"),Z=n("./function/arithmetic/addScalar"),J=n("./function/arithmetic/cbrt"),ee=n("./function/arithmetic/ceil"),$=n("./function/arithmetic/cube"),W=n("./function/arithmetic/exp"),Q=n("./function/arithmetic/expm1"),te=n("./function/arithmetic/fix"),ce=n("./function/arithmetic/floor"),oe=n("./function/arithmetic/gcd"),ue=n("./function/arithmetic/lcm"),we=n("./function/arithmetic/log10"),le=n("./function/arithmetic/log2"),fe=n("./function/arithmetic/mod"),ve=n("./function/arithmetic/multiplyScalar"),pe=n("./function/arithmetic/multiply"),ye=n("./function/arithmetic/nthRoot"),Ae=n("./function/arithmetic/sign"),be=n("./function/arithmetic/sqrt"),ne=n("./function/arithmetic/square"),re=n("./function/arithmetic/subtract"),de=n("./function/arithmetic/xgcd"),Ce=n("./function/arithmetic/dotMultiply"),je=n("./function/bitwise/bitAnd"),xe=n("./function/bitwise/bitNot"),Ie=n("./function/bitwise/bitOr"),Ne=n("./function/bitwise/bitXor"),Be=n("./function/complex/arg"),$e=n("./function/complex/conj"),Le=n("./function/complex/im"),qe=n("./function/complex/re"),ze=n("./function/logical/not"),Ee=n("./function/logical/or"),Se=n("./function/logical/xor"),Me=n("./function/matrix/concat"),me=n("./function/matrix/column"),Ve=n("./function/matrix/cross"),Xe=n("./function/matrix/diag"),rt=n("./function/matrix/eye"),lt=n("./function/matrix/filter"),nt=n("./function/matrix/flatten"),it=n("./function/matrix/forEach"),dt=n("./function/matrix/getMatrixDataType"),ft=n("./function/matrix/identity"),yt=n("./function/matrix/kron"),bt=n("./function/matrix/map"),wt=n("./function/matrix/ones"),xt=n("./function/matrix/range"),Tt=n("./function/matrix/reshape"),kt=n("./function/matrix/resize"),Mt=n("./function/matrix/row"),Ot=n("./function/matrix/size"),Lt=n("./function/matrix/squeeze"),Ft=n("./function/matrix/subset"),Pt=n("./function/matrix/transpose"),It=n("./function/matrix/ctranspose"),Rt=n("./function/matrix/zeros"),Ht=n("./function/special/erf"),rn=n("./function/statistics/mode"),Zt=n("./function/statistics/prod"),Jt=n("./function/string/format"),an=n("./function/string/print"),Wt=n("./function/unit/to"),nn=n("./function/utils/isPrime"),Je=n("./function/utils/numeric"),Et=n("./function/arithmetic/divideScalar"),_e=n("./function/arithmetic/pow"),Oe=n("./function/arithmetic/round"),Ue=n("./function/arithmetic/log"),Fe=n("./function/arithmetic/log1p"),He=n("./function/arithmetic/nthRoots"),Re=n("./function/arithmetic/dotPow"),Ye=n("./function/arithmetic/dotDivide"),tt=n("./function/algebra/solver/lsolve"),ct=n("./function/algebra/solver/usolve"),st=n("./function/bitwise/leftShift"),ot=n("./function/bitwise/rightArithShift"),Dt=n("./function/bitwise/rightLogShift"),Nt=n("./function/logical/and"),Ut=n("./function/relational/compare"),Gt=n("./function/relational/compareNatural"),Xt=n("./function/relational/compareText"),en=n("./function/relational/equal"),sn=n("./function/relational/equalText"),un=n("./function/relational/smaller"),bn=n("./function/relational/smallerEq"),Un=n("./function/relational/larger"),tr=n("./function/relational/largerEq"),Gn=n("./function/relational/deepEqual"),nr=n("./function/relational/unequal"),Bn=n("./function/matrix/partitionSelect"),Vn=n("./function/matrix/sort"),Jn=n("./function/statistics/max"),zn=n("./function/statistics/min"),dn=n("./type/matrix/ImmutableDenseMatrix"),on=n("./type/matrix/MatrixIndex"),_r=n("./type/matrix/FibonacciHeap"),cr=n("./type/matrix/Spa"),ur=n("./type/unit/Unit"),Wn=n("./type/unit/function/unit"),zr=n("./type/matrix/function/sparse"),Gr=n("./type/unit/function/createUnit"),lr=n("./function/trigonometry/acos"),Tn=n("./function/trigonometry/acosh"),ti=n("./function/trigonometry/acot"),Or=n("./function/trigonometry/acoth"),xr=n("./function/trigonometry/acsc"),jn=n("./function/trigonometry/acsch"),hr=n("./function/trigonometry/asec"),xn=n("./function/trigonometry/asech"),jr=n("./function/trigonometry/asin"),Vr=n("./function/trigonometry/asinh"),Ar=n("./function/trigonometry/atan"),wr=n("./function/trigonometry/atan2"),ni=n("./function/trigonometry/atanh"),ri=n("./function/trigonometry/cos"),rr=n("./function/trigonometry/cosh"),Xn=n("./function/trigonometry/cot"),Qn=n("./function/trigonometry/coth"),Rn=n("./function/trigonometry/csc"),mr=n("./function/trigonometry/csch"),$n=n("./function/trigonometry/sec"),ir=n("./function/trigonometry/sech"),ii=n("./function/trigonometry/sin"),Zn=n("./function/trigonometry/sinh"),Dr=n("./function/trigonometry/tan"),$r=n("./function/trigonometry/tanh"),Hr=n("./function/set/setCartesian"),qr=n("./function/set/setDifference"),Wr=n("./function/set/setDistinct"),Pr=n("./function/set/setIntersect"),dr=n("./function/set/setIsSubset"),Ir=n("./function/set/setMultiplicity"),Xr=n("./function/set/setPowerset"),Yr=n("./function/set/setSize"),Sr=n("./function/set/setSymDifference"),Er=n("./function/set/setUnion"),Qr=n("./function/arithmetic/add"),Cr=n("./function/arithmetic/hypot"),Zr=n("./function/arithmetic/norm"),Fr=n("./function/matrix/dot"),Jr=n("./function/matrix/trace"),gr=n("./type/matrix/function"),ar=n("./expression/node/Node"),Nr=n("./expression/node/AccessorNode"),Br=n("./expression/node/ArrayNode"),mn=n("./expression/node/AssignmentNode"),Kn=n("./expression/node/BlockNode"),zt=n("./expression/node/ConditionalNode"),yr=n("./expression/node/ConstantNode"),Mn=n("./expression/node/FunctionAssignmentNode"),pr=n("./expression/node/IndexNode"),Kr=n("./expression/node/ObjectNode"),ai=n("./expression/node/OperatorNode"),pn=n("./expression/node/ParenthesisNode"),ei=n("./expression/node/RangeNode"),Rr=n("./expression/node/RelationalNode"),Ln=n("./expression/node/SymbolNode"),Sn=n("./expression/node/FunctionNode"),si=n("./expression/parse"),Tr=n("./expression/function/compile"),oi=n("./expression/function/evaluate"),kr=n("./expression/function/eval"),ci=n("./expression/Parser"),Lr=n("./expression/function/parser"),_n=n("./function/algebra/decomposition/lup"),vr=n("./function/algebra/decomposition/qr"),Y=n("./function/algebra/decomposition/slu"),K=n("./function/algebra/solver/lusolve"),ae=n("./expression/Help"),se=n("./type/chain/Chain"),ge=n("./expression/function/help"),Te=n("./type/chain/function/chain"),Pe=n("./function/matrix/det"),Ge=n("./function/matrix/inv"),Ze=n("./function/matrix/eigs"),Qe=n("./function/matrix/expm"),at=n("./function/matrix/sqrtm"),pt=n("./function/arithmetic/divide"),ut=n("./function/geometry/distance"),et=n("./function/geometry/intersect"),Ct=n("./function/statistics/sum"),vt=n("./function/statistics/mean"),At=n("./function/statistics/median"),mt=n("./function/statistics/mad"),gt=n("./function/statistics/variance"),Vt=n("./function/statistics/quantileSeq"),Qt=n("./function/statistics/std"),$t=n("./function/probability/combinations"),qt=n("./function/probability/combinationsWithRep"),Kt=n("./function/probability/gamma"),gn=n("./function/probability/factorial"),An=n("./function/probability/kldivergence"),En=n("./function/probability/multinomial"),Pn=n("./function/probability/permutations"),kn=n("./function/probability/pickRandom"),Yn=n("./function/probability/random"),hn=n("./function/probability/randomInt"),yn=n("./function/combinatorics/stirlingS2"),fn=n("./function/combinatorics/bellNumbers"),In=n("./function/combinatorics/catalan"),wn=n("./function/combinatorics/composition"),On=n("./function/algebra/simplify"),vn=n("./function/algebra/derivative"),Nn=n("./function/algebra/rationalize"),Ur=n("./json/reviver"),br=n("./json/replacer"),Cn=n("./constants"),Yt=n("./type/unit/physicalConstants"),fi=n("./expression/transform/apply.transform"),he=n("./expression/transform/column.transform"),tn=n("./expression/transform/filter.transform"),ui=n("./expression/transform/forEach.transform"),fr=n("./expression/transform/index.transform"),pi=n("./expression/transform/map.transform"),Ke=n("./expression/transform/max.transform"),li=n("./expression/transform/mean.transform"),hi=n("./expression/transform/min.transform"),Hn=n("./expression/transform/range.transform"),yi=n("./expression/transform/row.transform"),jt=n("./expression/transform/subset.transform"),qn=n("./expression/transform/concat.transform"),vi=n("./expression/transform/std.transform"),bi=n("./expression/transform/sum.transform"),Mr=n("./expression/transform/variance.transform")},{"./constants":59,"./core/function/typed":65,"./expression/Help":401,"./expression/Parser":402,"./expression/function/compile":614,"./expression/function/eval":615,"./expression/function/evaluate":616,"./expression/function/help":617,"./expression/function/parser":618,"./expression/node/AccessorNode":620,"./expression/node/ArrayNode":621,"./expression/node/AssignmentNode":622,"./expression/node/BlockNode":623,"./expression/node/ConditionalNode":624,"./expression/node/ConstantNode":625,"./expression/node/FunctionAssignmentNode":626,"./expression/node/FunctionNode":627,"./expression/node/IndexNode":628,"./expression/node/Node":629,"./expression/node/ObjectNode":630,"./expression/node/OperatorNode":631,"./expression/node/ParenthesisNode":632,"./expression/node/RangeNode":633,"./expression/node/RelationalNode":634,"./expression/node/SymbolNode":635,"./expression/parse":639,"./expression/transform/apply.transform":640,"./expression/transform/column.transform":641,"./expression/transform/concat.transform":642,"./expression/transform/filter.transform":643,"./expression/transform/forEach.transform":644,"./expression/transform/index.transform":645,"./expression/transform/map.transform":646,"./expression/transform/max.transform":647,"./expression/transform/mean.transform":648,"./expression/transform/min.transform":649,"./expression/transform/range.transform":650,"./expression/transform/row.transform":651,"./expression/transform/std.transform":652,"./expression/transform/subset.transform":653,"./expression/transform/sum.transform":654,"./expression/transform/variance.transform":657,"./function/algebra/decomposition/lup":659,"./function/algebra/decomposition/qr":660,"./function/algebra/decomposition/slu":661,"./function/algebra/derivative":662,"./function/algebra/rationalize":663,"./function/algebra/simplify":664,"./function/algebra/solver/lsolve":669,"./function/algebra/solver/lusolve":670,"./function/algebra/solver/usolve":671,"./function/arithmetic/abs":691,"./function/arithmetic/add":692,"./function/arithmetic/addScalar":693,"./function/arithmetic/cbrt":694,"./function/arithmetic/ceil":695,"./function/arithmetic/cube":696,"./function/arithmetic/divide":697,"./function/arithmetic/divideScalar":698,"./function/arithmetic/dotDivide":699,"./function/arithmetic/dotMultiply":700,"./function/arithmetic/dotPow":701,"./function/arithmetic/exp":702,"./function/arithmetic/expm1":703,"./function/arithmetic/fix":704,"./function/arithmetic/floor":705,"./function/arithmetic/gcd":706,"./function/arithmetic/hypot":707,"./function/arithmetic/lcm":708,"./function/arithmetic/log":709,"./function/arithmetic/log10":710,"./function/arithmetic/log1p":711,"./function/arithmetic/log2":712,"./function/arithmetic/mod":713,"./function/arithmetic/multiply":714,"./function/arithmetic/multiplyScalar":715,"./function/arithmetic/norm":716,"./function/arithmetic/nthRoot":717,"./function/arithmetic/nthRoots":718,"./function/arithmetic/pow":719,"./function/arithmetic/round":720,"./function/arithmetic/sign":721,"./function/arithmetic/sqrt":722,"./function/arithmetic/square":723,"./function/arithmetic/subtract":724,"./function/arithmetic/unaryMinus":725,"./function/arithmetic/unaryPlus":726,"./function/arithmetic/xgcd":727,"./function/bitwise/bitAnd":728,"./function/bitwise/bitNot":729,"./function/bitwise/bitOr":730,"./function/bitwise/bitXor":731,"./function/bitwise/leftShift":732,"./function/bitwise/rightArithShift":733,"./function/bitwise/rightLogShift":734,"./function/combinatorics/bellNumbers":735,"./function/combinatorics/catalan":736,"./function/combinatorics/composition":737,"./function/combinatorics/stirlingS2":738,"./function/complex/arg":739,"./function/complex/conj":740,"./function/complex/im":741,"./function/complex/re":742,"./function/geometry/distance":743,"./function/geometry/intersect":744,"./function/logical/and":745,"./function/logical/not":746,"./function/logical/or":747,"./function/logical/xor":748,"./function/matrix/apply":749,"./function/matrix/column":750,"./function/matrix/concat":751,"./function/matrix/cross":752,"./function/matrix/ctranspose":753,"./function/matrix/det":754,"./function/matrix/diag":755,"./function/matrix/dot":756,"./function/matrix/eigs":757,"./function/matrix/expm":758,"./function/matrix/eye":759,"./function/matrix/filter":760,"./function/matrix/flatten":761,"./function/matrix/forEach":762,"./function/matrix/getMatrixDataType":763,"./function/matrix/identity":764,"./function/matrix/inv":765,"./function/matrix/kron":766,"./function/matrix/map":767,"./function/matrix/ones":768,"./function/matrix/partitionSelect":769,"./function/matrix/range":770,"./function/matrix/reshape":771,"./function/matrix/resize":772,"./function/matrix/row":773,"./function/matrix/size":774,"./function/matrix/sort":775,"./function/matrix/sqrtm":776,"./function/matrix/squeeze":777,"./function/matrix/subset":778,"./function/matrix/trace":779,"./function/matrix/transpose":780,"./function/matrix/zeros":781,"./function/probability/combinations":782,"./function/probability/combinationsWithRep":783,"./function/probability/factorial":784,"./function/probability/gamma":785,"./function/probability/kldivergence":786,"./function/probability/multinomial":787,"./function/probability/permutations":788,"./function/probability/pickRandom":789,"./function/probability/random":790,"./function/probability/randomInt":791,"./function/relational/compare":794,"./function/relational/compareNatural":795,"./function/relational/compareText":796,"./function/relational/deepEqual":797,"./function/relational/equal":798,"./function/relational/equalScalar":799,"./function/relational/equalText":800,"./function/relational/larger":801,"./function/relational/largerEq":802,"./function/relational/smaller":803,"./function/relational/smallerEq":804,"./function/relational/unequal":805,"./function/set/setCartesian":806,"./function/set/setDifference":807,"./function/set/setDistinct":808,"./function/set/setIntersect":809,"./function/set/setIsSubset":810,"./function/set/setMultiplicity":811,"./function/set/setPowerset":812,"./function/set/setSize":813,"./function/set/setSymDifference":814,"./function/set/setUnion":815,"./function/special/erf":816,"./function/statistics/mad":817,"./function/statistics/max":818,"./function/statistics/mean":819,"./function/statistics/median":820,"./function/statistics/min":821,"./function/statistics/mode":822,"./function/statistics/prod":823,"./function/statistics/quantileSeq":824,"./function/statistics/std":825,"./function/statistics/sum":826,"./function/statistics/variance":828,"./function/string/format":829,"./function/string/print":830,"./function/trigonometry/acos":831,"./function/trigonometry/acosh":832,"./function/trigonometry/acot":833,"./function/trigonometry/acoth":834,"./function/trigonometry/acsc":835,"./function/trigonometry/acsch":836,"./function/trigonometry/asec":837,"./function/trigonometry/asech":838,"./function/trigonometry/asin":839,"./function/trigonometry/asinh":840,"./function/trigonometry/atan":841,"./function/trigonometry/atan2":842,"./function/trigonometry/atanh":843,"./function/trigonometry/cos":844,"./function/trigonometry/cosh":845,"./function/trigonometry/cot":846,"./function/trigonometry/coth":847,"./function/trigonometry/csc":848,"./function/trigonometry/csch":849,"./function/trigonometry/sec":850,"./function/trigonometry/sech":851,"./function/trigonometry/sin":852,"./function/trigonometry/sinh":853,"./function/trigonometry/tan":854,"./function/trigonometry/tanh":855,"./function/unit/to":856,"./function/utils/clone":857,"./function/utils/hasNumericValue":858,"./function/utils/isInteger":859,"./function/utils/isNaN":860,"./function/utils/isNegative":861,"./function/utils/isNumeric":862,"./function/utils/isPositive":863,"./function/utils/isPrime":864,"./function/utils/isZero":865,"./function/utils/numeric":866,"./function/utils/typeOf":867,"./json/replacer":868,"./json/reviver":869,"./type/bignumber/BigNumber":880,"./type/bignumber/function/bignumber":881,"./type/boolean":882,"./type/chain/Chain":883,"./type/chain/function/chain":884,"./type/complex/Complex":885,"./type/complex/function/complex":886,"./type/fraction/Fraction":887,"./type/fraction/function/fraction":888,"./type/matrix/DenseMatrix":889,"./type/matrix/FibonacciHeap":890,"./type/matrix/ImmutableDenseMatrix":891,"./type/matrix/Matrix":892,"./type/matrix/MatrixIndex":893,"./type/matrix/Range":894,"./type/matrix/Spa":895,"./type/matrix/SparseMatrix":896,"./type/matrix/function":897,"./type/matrix/function/matrix":898,"./type/matrix/function/sparse":899,"./type/number":914,"./type/resultset/ResultSet":915,"./type/string":916,"./type/unit/Unit":917,"./type/unit/function/createUnit":918,"./type/unit/function/splitUnit":919,"./type/unit/function/unit":920,"./type/unit/physicalConstants":921}],659:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLup=void 0;var b=n("../../../utils/object"),h=n("../../../utils/factory"),m=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],p=(0,h.factory)("lup",m,function(A){var S=A.typed,_=A.matrix,l=A.abs,y=A.addScalar,o=A.divideScalar,f=A.multiplyScalar,x=A.subtract,g=A.larger,D=A.equalScalar,E=A.unaryMinus,C=A.DenseMatrix,T=A.SparseMatrix,O=A.Spa;return S("lup",{DenseMatrix:I,SparseMatrix:M,Array:function(F){var B=I(_(F));return{L:B.L.valueOf(),U:B.U.valueOf(),p:B.p}}});function I(F){var B,j=F._size[0],L=F._size[1],R=Math.min(j,L),V=(0,b.clone)(F._data),k=[],U=[j,R],G=[],H=[R,L],X=[];for(te=0;te<j;te++)X[te]=te;for(B=0;B<L;B++){if(0<B)for(te=0;te<j;te++){for(var Z=Math.min(te,B),J=0,ee=0;ee<Z;ee++)J=y(J,f(V[te][ee],V[ee][B]));V[te][B]=x(V[te][B],J)}for(var $=B,W=0,Q=0,te=B;te<j;te++){var ce=V[te][B],oe=l(ce);g(oe,W)&&($=te,W=oe,Q=ce)}if(B!==$&&(X[B]=[X[$],X[$]=X[B]][0],C._swapRows(B,$,V)),B<j)for(te=B+1;te<j;te++){var ue=V[te][B];D(ue,0)||(V[te][B]=o(V[te][B],Q))}}for(B=0;B<L;B++)for(te=0;te<j;te++)B===0&&(te<L&&(G[te]=[]),k[te]=[]),te<B?(te<L&&(G[te][B]=V[te][B]),B<j&&(k[te][B]=0)):te!==B?(te<L&&(G[te][B]=0),B<j&&(k[te][B]=V[te][B])):(te<L&&(G[te][B]=V[te][B]),B<j&&(k[te][B]=1));var we=new C({data:k,size:U}),le=new C({data:G,size:H}),fe=[];for(te=0,R=X.length;te<R;te++)fe[X[te]]=te;return{L:we,U:le,p:fe,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function M(F){for(var B,j=F._size[0],L=F._size[1],R=Math.min(j,L),V=F._values,k=F._index,U=F._ptr,G=[],H=[],X=[],Z=[j,R],J=[],ee=[],$=[],W=[R,L],Q=[],te=[],ce=0;ce<j;ce++)Q[ce]=ce,te[ce]=ce;for(var oe=function(){var we=new O;ue<j&&(X.push(G.length),G.push(1),H.push(ue)),$.push(J.length);var le=U[ue],fe=U[ue+1];for(B=le;B<fe;B++)ce=k[B],we.set(Q[ce],V[B]);0<ue&&we.forEach(0,ue-1,function(de,Ce){T._forEachRow(de,G,H,X,function(je,xe){de<je&&we.accumulate(je,E(f(xe,Ce)))})});var ve,pe,ye,Ae,be=ue,ne=we.get(ue),re=l(ne);we.forEach(ue+1,j-1,function(de,Ce){var je=l(Ce);g(je,re)&&(be=de,re=je,ne=Ce)}),ue!==be&&(T._swapRows(ue,be,Z[1],G,H,X),T._swapRows(ue,be,W[1],J,ee,$),we.swap(ue,be),pe=be,ye=te[ve=ue],Ae=te[pe],Q[ye]=pe,Q[Ae]=ve,te[ve]=Ae,te[pe]=ye),we.forEach(0,j-1,function(de,Ce){de<=ue?(J.push(Ce),ee.push(de)):(Ce=o(Ce,ne),D(Ce,0)||(G.push(Ce),H.push(de)))})},ue=0;ue<L;ue++)oe();return $.push(J.length),X.push(G.length),{L:new T({values:G,index:H,ptr:X,size:Z}),U:new T({values:J,index:ee,ptr:$,size:W}),p:Q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});r.createLup=p},{"../../../utils/factory":931,"../../../utils/object":938}],660:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createQr=void 0;var b=n("../../../utils/factory");function h(){return(h=Object.assign||function(A){for(var S=1;S<arguments.length;S++){var _=arguments[S];for(var l in _)Object.prototype.hasOwnProperty.call(_,l)&&(A[l]=_[l])}return A}).apply(this,arguments)}var m=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],p=(0,b.factory)("qr",m,function(A){var S=A.typed,_=A.matrix,l=A.zeros,y=A.identity,o=A.isZero,f=A.equal,x=A.sign,g=A.sqrt,D=A.conj,E=A.unaryMinus,C=A.addScalar,T=A.divideScalar,O=A.multiplyScalar,I=A.subtract,M=A.complex;return h(S("qr",{DenseMatrix:B,SparseMatrix:function(){throw new Error("qr not implemented for sparse matrices yet")},Array:function(j){var L=B(_(j));return{Q:L.Q.valueOf(),R:L.R.valueOf()}}}),{_denseQRimpl:F});function F(j){for(var L=j._size[0],R=j._size[1],V=y([L],"dense"),k=V._data,U=j.clone(),G=U._data,H=l([L],""),X=0;X<Math.min(R,L);++X){var Z=G[X][X],J=E(f(Z,0)?1:x(Z)),ee=D(J),$=0;for(te=X;te<L;te++)$=C($,O(G[te][X],D(G[te][X])));var W=O(J,g($));if(!o(W)){for(var Q=I(Z,W),te=X+(H[X]=1);te<L;te++)H[te]=T(G[te][X],Q);for(var ce=E(D(T(Q,W))),oe=void 0,ue=X;ue<R;ue++){for(oe=0,te=X;te<L;te++)oe=C(oe,O(D(H[te]),G[te][ue]));for(oe=O(oe,ce),te=X;te<L;te++)G[te][ue]=O(I(G[te][ue],O(H[te],oe)),ee)}for(te=0;te<L;te++){for(oe=0,ue=X;ue<L;ue++)oe=C(oe,O(k[te][ue],H[ue]));for(oe=O(oe,ce),ue=X;ue<L;++ue)k[te][ue]=T(I(k[te][ue],O(oe,D(H[ue]))),ee)}}}return{Q:V,R:U,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function B(j){var L=F(j),R=L.R._data;if(0<j._data.length)for(var V=R[0][0].type==="Complex"?M(0):0,k=0;k<R.length;++k)for(var U=0;U<k&&U<(R[0]||[]).length;++U)R[k][U]=V;return L}});r.createQr=p},{"../../../utils/factory":931}],661:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSlu=void 0;var b=n("../../../utils/number"),h=n("../../../utils/factory"),m=n("../sparse/csSqr"),p=n("../sparse/csLu"),A=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],S=(0,h.factory)("slu",A,function(_){var l=_.typed,y=_.abs,o=_.add,f=_.multiply,x=_.transpose,g=_.divideScalar,D=_.subtract,E=_.larger,C=_.largerEq,T=_.SparseMatrix,O=(0,m.createCsSqr)({add:o,multiply:f,transpose:x}),I=(0,p.createCsLu)({abs:y,divideScalar:g,multiply:f,subtract:D,larger:E,largerEq:C,SparseMatrix:T});return l("slu",{"SparseMatrix, number, number":function(M,F,B){if(!(0,b.isInteger)(F)||F<0||3<F)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(B<0||1<B)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var j=O(F,M,!1),L=I(M,j,B);return{L:L.L,U:L.U,p:L.pinv,q:j.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});r.createSlu=S},{"../../../utils/factory":931,"../../../utils/number":937,"../sparse/csLu":681,"../sparse/csSqr":688}],662:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDerivative=void 0;var b=n("../../utils/is"),h=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],m=(0,n("../../utils/factory").factory)("derivative",h,function(p){var A=p.typed,S=p.config,_=p.parse,l=p.simplify,y=p.equal,o=p.isZero,f=p.numeric,x=p.ConstantNode,g=p.FunctionNode,D=p.OperatorNode,E=p.ParenthesisNode,C=p.SymbolNode,T=A("derivative",{"Node, SymbolNode, Object":function(B,j,L){var R={};I(R,B,j.name);var V=M(B,R);return L.simplify?l(V):V},"Node, SymbolNode":function(B,j){return T(B,j,{simplify:!0})},"string, SymbolNode":function(B,j){return T(_(B),j)},"string, SymbolNode, Object":function(B,j,L){return T(_(B),j,L)},"string, string":function(B,j){return T(_(B),_(j))},"string, string, Object":function(B,j,L){return T(_(B),_(j),L)},"Node, string":function(B,j){return T(B,_(j))},"Node, string, Object":function(B,j,L){return T(B,_(j),L)}});T._simplify=!0,T.toTex=function(B){return O.apply(null,B.args)};var O=A("_derivTex",{"Node, SymbolNode":function(B,j){return(0,b.isConstantNode)(B)&&(0,b.typeOf)(B.value)==="string"?O(_(B.value).toString(),j.toString(),1):O(B.toString(),j.toString(),1)},"Node, ConstantNode":function(B,j){if((0,b.typeOf)(j.value)==="string")return O(B,_(j.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(B,j,L){return O(B.toString(),j.name,L.value)},"string, string, number":function(B,j,L){var R=L===1?"{d\\over d"+j+"}":"{d^{"+L+"}\\over d"+j+"^{"+L+"}}";return R+"\\left[".concat(B,"\\right]")}}),I=A("constTag",{"Object, ConstantNode, string":function(B,j){return B[j]=!0},"Object, SymbolNode, string":function(B,j,L){return j.name!==L&&(B[j]=!0)},"Object, ParenthesisNode, string":function(B,j,L){return I(B,j.content,L)},"Object, FunctionAssignmentNode, string":function(B,j,L){return j.params.indexOf(L)===-1?B[j]=!0:I(B,j.expr,L)},"Object, FunctionNode | OperatorNode, string":function(B,j,L){if(0<j.args.length){for(var R=I(B,j.args[0],L),V=1;V<j.args.length;++V)R=I(B,j.args[V],L)&&R;if(R)return B[j]=!0}return!1}}),M=A("_derivative",{"ConstantNode, Object":function(){return F(0)},"SymbolNode, Object":function(B,j){return j[B]!==void 0?F(0):F(1)},"ParenthesisNode, Object":function(B,j){return new E(M(B.content,j))},"FunctionAssignmentNode, Object":function(B,j){return j[B]!==void 0?F(0):M(B.expr,j)},"FunctionNode, Object":function(B,j){if(B.args.length!==1&&function(Z){if(!((Z.name==="log"||Z.name==="nthRoot"||Z.name==="pow")&&Z.args.length===2)){for(var J=0;J<Z.args.length;++J)Z.args[J]=F(0);throw Z.compile().evaluate(),new Error("Expected TypeError, but none found")}}(B),j[B]!==void 0)return F(0);var L,R,V,k,U=B.args[0],G=!1,H=!1;switch(B.name){case"cbrt":G=!0,R=new D("*","multiply",[F(3),new D("^","pow",[U,new D("/","divide",[F(2),F(3)])])]);break;case"sqrt":case"nthRoot":if(B.args.length===1)G=!0,R=new D("*","multiply",[F(2),new g("sqrt",[U])]);else if(B.args.length===2)return j[L=new D("/","divide",[F(1),B.args[1]])]=j[B.args[1]],M(new D("^","pow",[U,L]),j);break;case"log10":L=F(10);case"log":if(L||B.args.length!==1){if(B.args.length===1&&L||B.args.length===2&&j[B.args[1]]!==void 0)R=new D("*","multiply",[U.clone(),new g("log",[L||B.args[1]])]),G=!0;else if(B.args.length===2)return M(new D("/","divide",[new g("log",[U]),new g("log",[B.args[1]])]),j)}else R=U.clone(),G=!0;break;case"pow":return j[L]=j[B.args[1]],M(new D("^","pow",[U,B.args[1]]),j);case"exp":R=new g("exp",[U.clone()]);break;case"sin":R=new g("cos",[U.clone()]);break;case"cos":R=new D("-","unaryMinus",[new g("sin",[U.clone()])]);break;case"tan":R=new D("^","pow",[new g("sec",[U.clone()]),F(2)]);break;case"sec":R=new D("*","multiply",[B,new g("tan",[U.clone()])]);break;case"csc":H=!0,R=new D("*","multiply",[B,new g("cot",[U.clone()])]);break;case"cot":H=!0,R=new D("^","pow",[new g("csc",[U.clone()]),F(2)]);break;case"asin":G=!0,R=new g("sqrt",[new D("-","subtract",[F(1),new D("^","pow",[U.clone(),F(2)])])]);break;case"acos":H=G=!0,R=new g("sqrt",[new D("-","subtract",[F(1),new D("^","pow",[U.clone(),F(2)])])]);break;case"atan":G=!0,R=new D("+","add",[new D("^","pow",[U.clone(),F(2)]),F(1)]);break;case"asec":G=!0,R=new D("*","multiply",[new g("abs",[U.clone()]),new g("sqrt",[new D("-","subtract",[new D("^","pow",[U.clone(),F(2)]),F(1)])])]);break;case"acsc":H=G=!0,R=new D("*","multiply",[new g("abs",[U.clone()]),new g("sqrt",[new D("-","subtract",[new D("^","pow",[U.clone(),F(2)]),F(1)])])]);break;case"acot":H=G=!0,R=new D("+","add",[new D("^","pow",[U.clone(),F(2)]),F(1)]);break;case"sinh":R=new g("cosh",[U.clone()]);break;case"cosh":R=new g("sinh",[U.clone()]);break;case"tanh":R=new D("^","pow",[new g("sech",[U.clone()]),F(2)]);break;case"sech":H=!0,R=new D("*","multiply",[B,new g("tanh",[U.clone()])]);break;case"csch":H=!0,R=new D("*","multiply",[B,new g("coth",[U.clone()])]);break;case"coth":H=!0,R=new D("^","pow",[new g("csch",[U.clone()]),F(2)]);break;case"asinh":G=!0,R=new g("sqrt",[new D("+","add",[new D("^","pow",[U.clone(),F(2)]),F(1)])]);break;case"acosh":G=!0,R=new g("sqrt",[new D("-","subtract",[new D("^","pow",[U.clone(),F(2)]),F(1)])]);break;case"atanh":G=!0,R=new D("-","subtract",[F(1),new D("^","pow",[U.clone(),F(2)])]);break;case"asech":H=G=!0,R=new D("*","multiply",[U.clone(),new g("sqrt",[new D("-","subtract",[F(1),new D("^","pow",[U.clone(),F(2)])])])]);break;case"acsch":H=G=!0,R=new D("*","multiply",[new g("abs",[U.clone()]),new g("sqrt",[new D("+","add",[new D("^","pow",[U.clone(),F(2)]),F(1)])])]);break;case"acoth":H=G=!0,R=new D("-","subtract",[F(1),new D("^","pow",[U.clone(),F(2)])]);break;case"abs":R=new D("/","divide",[new g(new C("abs"),[U.clone()]),U.clone()]);break;case"gamma":default:throw new Error('Function "'+B.name+'" is not supported by derivative, or a wrong number of arguments is passed')}k=G?(V="/","divide"):(V="*","multiply");var X=M(U,j);return H&&(X=new D("-","unaryMinus",[X])),new D(V,k,[X,R])},"OperatorNode, Object":function(B,j){if(j[B]!==void 0)return F(0);if(B.op==="+")return new D(B.op,B.fn,B.args.map(function(J){return M(J,j)}));if(B.op==="-"){if(B.isUnary())return new D(B.op,B.fn,[M(B.args[0],j)]);if(B.isBinary())return new D(B.op,B.fn,[M(B.args[0],j),M(B.args[1],j)])}if(B.op==="*"){var L=B.args.filter(function(J){return j[J]!==void 0});if(0<L.length){var R=B.args.filter(function(J){return j[J]===void 0}),V=R.length===1?R[0]:new D("*","multiply",R),k=L.concat(M(V,j));return new D("*","multiply",k)}return new D("+","add",B.args.map(function(J){return new D("*","multiply",B.args.map(function(ee){return ee===J?M(ee,j):ee.clone()}))}))}if(B.op==="/"&&B.isBinary()){var U=B.args[0],G=B.args[1];return j[G]!==void 0?new D("/","divide",[M(U,j),G]):j[U]!==void 0?new D("*","multiply",[new D("-","unaryMinus",[U]),new D("/","divide",[M(G,j),new D("^","pow",[G.clone(),F(2)])])]):new D("/","divide",[new D("-","subtract",[new D("*","multiply",[M(U,j),G.clone()]),new D("*","multiply",[U.clone(),M(G,j)])]),new D("^","pow",[G.clone(),F(2)])])}if(B.op==="^"&&B.isBinary()){var H=B.args[0],X=B.args[1];if(j[H]!==void 0)return(0,b.isConstantNode)(H)&&(o(H.value)||y(H.value,1))?F(0):new D("*","multiply",[B,new D("*","multiply",[new g("log",[H.clone()]),M(X.clone(),j)])]);if(j[X]===void 0)return new D("*","multiply",[new D("^","pow",[H.clone(),X.clone()]),new D("+","add",[new D("*","multiply",[M(H,j),new D("/","divide",[X.clone(),H.clone()])]),new D("*","multiply",[M(X,j),new g("log",[H.clone()])])])]);if((0,b.isConstantNode)(X)){if(o(X.value))return F(0);if(y(X.value,1))return M(H,j)}var Z=new D("^","pow",[H.clone(),new D("-","subtract",[X,F(1)])]);return new D("*","multiply",[X.clone(),new D("*","multiply",[M(H,j),Z])])}throw new Error('Operator "'+B.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function F(B,j){return new x(f(B,j||S.number))}return T});r.createDerivative=m},{"../../utils/factory":931,"../../utils/is":933}],663:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRationalize=void 0;var b=n("../../utils/number"),h=n("../../utils/factory"),m=n("./simplify/simplifyConstant"),p=n("./simplify/simplifyCore"),A=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplify","?bignumber","?fraction","mathWithTransform","ConstantNode","OperatorNode","FunctionNode","SymbolNode","ParenthesisNode"],S=(0,h.factory)("rationalize",A,function(_){var l=_.config,y=_.typed,o=_.equal,f=_.isZero,x=_.add,g=_.subtract,D=_.multiply,E=_.divide,C=_.pow,T=_.parse,O=_.simplify,I=_.fraction,M=_.bignumber,F=_.mathWithTransform,B=_.ConstantNode,j=_.OperatorNode,L=_.FunctionNode,R=_.SymbolNode,V=_.ParenthesisNode,k=(0,m.createSimplifyConstant)({typed:y,config:l,mathWithTransform:F,fraction:I,bignumber:M,ConstantNode:B,OperatorNode:j,FunctionNode:L,SymbolNode:R}),U=(0,p.createSimplifyCore)({equal:o,isZero:f,add:x,subtract:g,multiply:D,divide:E,pow:C,ConstantNode:B,OperatorNode:j,FunctionNode:L,ParenthesisNode:V}),G=y("rationalize",{string:function(X){return G(T(X),{},!1)},"string, boolean":function(X,Z){return G(T(X),{},Z)},"string, Object":function(X,Z){return G(T(X),Z,!1)},"string, Object, boolean":function(X,Z,J){return G(T(X),Z,J)},Node:function(X){return G(X,{},!1)},"Node, boolean":function(X,Z){return G(X,{},Z)},"Node, Object":function(X,Z){return G(X,Z,!1)},"Node, Object, boolean":function(X,Z,J){var ee,$,W=function(){var fe=[U,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},k,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],ve=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],pe=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],ye={};return ye.firstRules=fe.concat(ve,pe),ye.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],ye.sucDivRules=pe,ye.firstRulesAgain=fe.concat(ve),ye.finalRules=[U,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},k,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],ye}(),Q=function(fe,ve,pe,ye){var Ae=[],be=O(fe,ye,ve,{exactFractions:!1}),ne="+-*"+((pe=!!pe)?"/":"");(function de(Ce){var je=Ce.type;{if(je==="FunctionNode")throw new Error("There is an unsolved function call");if(je==="OperatorNode")if(Ce.op==="^"){if(Ce.args[1].type!=="ConstantNode"||!(0,b.isInteger)(parseFloat(Ce.args[1].value)))throw new Error("There is a non-integer exponent");de(Ce.args[0])}else{if(ne.indexOf(Ce.op)===-1)throw new Error("Operator "+Ce.op+" invalid in polynomial expression");for(var xe=0;xe<Ce.args.length;xe++)de(Ce.args[xe])}else if(je==="SymbolNode"){var Ie=Ce.name,Ne=Ae.indexOf(Ie);Ne===-1&&Ae.push(Ie)}else if(je==="ParenthesisNode")de(Ce.content);else if(je!=="ConstantNode")throw new Error("type "+je+" is not allowed in polynomial expression")}})(be);var re={};return re.expression=be,re.variables=Ae,re}(X,Z,!0,W.firstRules),te=Q.variables.length;if(X=Q.expression,1<=te){X=function fe(ve,pe,ye){var Ae=ve.type,be=1<arguments.length;{var ne,re,de,Ce;Ae==="OperatorNode"&&ve.isBinary()&&(ne=!1,ve.op==="^"&&(ve.args[0].type!=="ParenthesisNode"&&ve.args[0].type!=="OperatorNode"||ve.args[1].type!=="ConstantNode"||(re=parseFloat(ve.args[1].value),ne=2<=re&&(0,b.isInteger)(re))),ne&&(ve=2<re?(de=ve.args[0],Ce=new j("^","pow",[ve.args[0].cloneDeep(),new B(re-1)]),new j("*","multiply",[de,Ce])):new j("*","multiply",[ve.args[0],ve.args[0].cloneDeep()]),be&&(ye==="content"?pe.content=ve:pe.args[ye]=ve)))}if(Ae==="ParenthesisNode")fe(ve.content,ve,"content");else if(Ae!=="ConstantNode"&&Ae!=="SymbolNode")for(var je=0;je<ve.args.length;je++)fe(ve.args[je],ve,je);if(!be)return ve}(X);var ce,oe=!0,ue=!1;for(X=O(X,W.firstRules,{},{exactFractions:!1});$=oe?W.distrDivRules:W.sucDivRules,oe=!oe,(ce=(X=O(X,$)).toString())!==ee;)ue=!0,ee=ce;ue&&(X=O(X,W.firstRulesAgain,{},{exactFractions:!1})),X=O(X,W.finalRules,{},{exactFractions:!1})}var we=[],le={};return X.type==="OperatorNode"&&X.isBinary()&&X.op==="/"?(te===1&&(X.args[0]=H(X.args[0],we),X.args[1]=H(X.args[1])),J&&(le.numerator=X.args[0],le.denominator=X.args[1])):(te===1&&(X=H(X,we)),J&&(le.numerator=X,le.denominator=null)),J?(le.coefficients=we,le.variables=Q.variables,le.expression=X,le):X}});function H(X,Z){Z===void 0&&(Z=[]);var J={cte:1,oper:"+",fire:""},ee=Z[0]=0,$="";(function le(fe,ve,pe){var ye=fe.type;{if(ye==="FunctionNode")throw new Error("There is an unsolved function call");if(ye==="OperatorNode"){if("+-*^".indexOf(fe.op)===-1)throw new Error("Operator "+fe.op+" invalid");if(ve!==null){if((fe.fn==="unaryMinus"||fe.fn==="pow")&&ve.fn!=="add"&&ve.fn!=="subtract"&&ve.fn!=="multiply")throw new Error("Invalid "+fe.op+" placing");if((fe.fn==="subtract"||fe.fn==="add"||fe.fn==="multiply")&&ve.fn!=="add"&&ve.fn!=="subtract")throw new Error("Invalid "+fe.op+" placing");if((fe.fn==="subtract"||fe.fn==="add"||fe.fn==="unaryMinus")&&pe.noFil!==0)throw new Error("Invalid "+fe.op+" placing")}fe.op!=="^"&&fe.op!=="*"||(pe.fire=fe.op);for(var Ae=0;Ae<fe.args.length;Ae++)fe.fn==="unaryMinus"&&(pe.oper="-"),fe.op!=="+"&&fe.fn!=="subtract"||(pe.fire="",pe.cte=1,pe.oper=Ae===0?"+":fe.op),pe.noFil=Ae,le(fe.args[Ae],fe,pe)}else if(ye==="SymbolNode"){if(fe.name!==$&&$!=="")throw new Error("There is more than one variable");if($=fe.name,ve===null)return void(Z[1]=1);if(ve.op==="^"&&pe.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ve.op==="*"&&pe.noFil!==1)throw new Error("In multiply the variable should be the second parameter");pe.fire!==""&&pe.fire!=="*"||(ee<1&&(Z[1]=0),Z[1]+=pe.cte*(pe.oper==="+"?1:-1),ee=Math.max(1,ee))}else{if(ye!=="ConstantNode")throw new Error("Type "+ye+" is not allowed");var be=parseFloat(fe.value);if(ve===null)return void(Z[0]=be);if(ve.op==="^"){if(pe.noFil!==1)throw new Error("Constant cannot be powered");if(!(0,b.isInteger)(be)||be<=0)throw new Error("Non-integer exponent is not allowed");for(var ne=ee+1;ne<be;ne++)Z[ne]=0;return ee<be&&(Z[be]=0),Z[be]+=pe.cte*(pe.oper==="+"?1:-1),void(ee=Math.max(be,ee))}pe.cte=be,pe.fire===""&&(Z[0]+=pe.cte*(pe.oper==="+"?1:-1))}}})(X,null,J);for(var W,Q,te,ce,oe,ue=!0,we=ee=Z.length-1;0<=we;we--)Z[we]!==0&&(Q=new B(ue?Z[we]:Math.abs(Z[we])),te=Z[we]<0?"-":"+",0<we&&(oe=new R($),1<we&&(ce=new B(we),oe=new j("^","pow",[oe,ce])),Q=Z[we]===-1&&ue?new j("-","unaryMinus",[oe]):Math.abs(Z[we])===1?oe:new j("*","multiply",[Q,oe])),W=ue?Q:te=="+"?new j("+","add",[W,Q]):new j("-","subtract",[W,Q]),ue=!1);return ue?new B(0):W}return G});r.createRationalize=S},{"../../utils/factory":931,"../../utils/number":937,"./simplify/simplifyConstant":666,"./simplify/simplifyCore":667}],664:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSimplify=void 0;var b=n("../../utils/is"),h=n("../../utils/factory"),m=n("./simplify/util"),p=n("./simplify/simplifyCore"),A=n("./simplify/simplifyConstant"),S=n("./simplify/resolve"),_=n("../../utils/object");function l(f){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(f)}var y=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","?fraction","?bignumber","mathWithTransform","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],o=(0,h.factory)("simplify",y,function(f){var x=f.config,g=f.typed,D=f.parse,E=f.add,C=f.subtract,T=f.multiply,O=f.divide,I=f.pow,M=f.isZero,F=f.equal,B=f.fraction,j=f.bignumber,L=f.mathWithTransform,R=f.ConstantNode,V=f.FunctionNode,k=f.OperatorNode,U=f.ParenthesisNode,G=f.SymbolNode,H=(0,A.createSimplifyConstant)({typed:g,config:x,mathWithTransform:L,fraction:B,bignumber:j,ConstantNode:R,OperatorNode:k,FunctionNode:V,SymbolNode:G}),X=(0,p.createSimplifyCore)({equal:F,isZero:M,add:E,subtract:C,multiply:T,divide:O,pow:I,ConstantNode:R,OperatorNode:k,FunctionNode:V,ParenthesisNode:U}),Z=(0,S.createResolve)({parse:D,FunctionNode:V,OperatorNode:k,ParenthesisNode:U}),J=(0,m.createUtil)({FunctionNode:V,OperatorNode:k,SymbolNode:G}),ee=J.isCommutative,$=J.isAssociative,W=J.flatten,Q=J.unflattenr,te=J.unflattenl,ce=J.createMakeNodeFunction,oe=g("simplify",{string:function(Ae){return oe(D(Ae),oe.rules,{},{})},"string, Object":function(Ae,be){return oe(D(Ae),oe.rules,be,{})},"string, Object, Object":function(Ae,be,ne){return oe(D(Ae),oe.rules,be,ne)},"string, Array":function(Ae,be){return oe(D(Ae),be,{},{})},"string, Array, Object":function(Ae,be,ne){return oe(D(Ae),be,ne,{})},"string, Array, Object, Object":function(Ae,be,ne,re){return oe(D(Ae),be,ne,re)},"Node, Object":function(Ae,be){return oe(Ae,oe.rules,be,{})},"Node, Object, Object":function(Ae,be,ne){return oe(Ae,oe.rules,be,ne)},Node:function(Ae){return oe(Ae,oe.rules,{},{})},"Node, Array":function(Ae,be){return oe(Ae,be,{},{})},"Node, Array, Object":function(Ae,be,ne){return oe(Ae,be,ne,{})},"Node, Array, Object, Object":function(Ae,be,ne,re){be=function(Ie){for(var Ne=[],Be=0;Be<Ie.length;Be++){var $e,Le,qe=Ie[Be],ze=void 0,Ee=l(qe);switch(Ee){case"string":var Se=qe.split("->");if(Se.length!==2)throw SyntaxError("Could not parse rule: "+qe);qe={l:Se[0],r:Se[1]};case"object":ze={l:ue(D(qe.l)),r:ue(D(qe.r))},qe.context&&(ze.evaluate=qe.context),qe.evaluate&&(ze.evaluate=D(qe.evaluate)),$(ze.l)&&($e=ce(ze.l),Le=new G("_p"+le++),ze.expanded={},ze.expanded.l=$e([ze.l.clone(),Le]),W(ze.expanded.l),Q(ze.expanded.l),ze.expanded.r=$e([ze.r,Le]));break;case"function":ze=qe;break;default:throw TypeError("Unsupported type of rule: "+Ee)}Ne.push(ze)}return Ne}(be);for(var de=Z(Ae,ne),Ce={},je=(de=ue(de)).toString({parenthesis:"all"});!Ce[je];){Ce[je]=!0;for(var xe=le=0;xe<be.length;xe++)de=typeof be[xe]=="function"?be[xe](de,re):(W(de),fe(de,be[xe])),te(de);je=de.toString({parenthesis:"all"})}return de}});function ue(Ae){return Ae.transform(function(be,ne,re){return(0,b.isParenthesisNode)(be)?ue(be.content):be})}oe.simplifyCore=X,oe.resolve=Z;var we={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};oe.rules=[X,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},H,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"},{l:"n1/(n2/n3)",r:"(n1*n3)/n2"}];var le=0,fe=g("applyRule",{"Node, Object":function(Ae,be){var ne=Ae;if(ne instanceof k||ne instanceof V){if(ne.args)for(var re=0;re<ne.args.length;re++)ne.args[re]=fe(ne.args[re],be)}else ne instanceof U&&ne.content&&(ne.content=fe(ne.content,be));var de,Ce=be.r,je=ye(be.l,ne)[0];return!je&&be.expanded&&(Ce=be.expanded.r,je=ye(be.expanded.l,ne)[0]),je&&(de=ne.implicit,ne=Ce.clone(),de&&"implicit"in Ce&&(ne.implicit=!0),ne=ne.transform(function(xe){return xe.isSymbolNode&&(0,_.hasOwnProperty)(je.placeholders,xe.name)?je.placeholders[xe.name].clone():xe})),ne}});function ve(Ae,be){var ne={placeholders:{}};if(!Ae.placeholders&&!be.placeholders)return ne;if(!Ae.placeholders)return be;if(!be.placeholders)return Ae;for(var re in Ae.placeholders)if(ne.placeholders[re]=Ae.placeholders[re],(0,_.hasOwnProperty)(be.placeholders,re)&&!function Ce(je,xe){if(je instanceof R&&xe instanceof R){if(!F(je.value,xe.value))return!1}else if(je instanceof G&&xe instanceof G){if(je.name!==xe.name)return!1}else{if(!(je instanceof k&&xe instanceof k||je instanceof V&&xe instanceof V))return!1;if(je instanceof k){if(je.op!==xe.op||je.fn!==xe.fn)return!1}else if(je instanceof V&&je.name!==xe.name)return!1;if(je.args.length!==xe.args.length)return!1;for(var Ie=0;Ie<je.args.length;Ie++)if(!Ce(je.args[Ie],xe.args[Ie]))return!1}return!0}(Ae.placeholders[re],be.placeholders[re]))return null;for(var de in be.placeholders)ne.placeholders[de]=be.placeholders[de];return ne}function pe(Ae,be){var ne,re=[];if(Ae.length===0||be.length===0)return re;for(var de=0;de<Ae.length;de++)for(var Ce=0;Ce<be.length;Ce++)(ne=ve(Ae[de],be[Ce]))&&re.push(ne);return re}function ye(Ae,be,ne){var re=[{placeholders:{}}];if(Ae instanceof k&&be instanceof k||Ae instanceof V&&be instanceof V){if(Ae instanceof k){if(Ae.op!==be.op||Ae.fn!==be.fn)return[]}else if(Ae instanceof V&&Ae.name!==be.name)return[];if((be.args.length!==1||Ae.args.length!==1)&&$(be)&&!ne){if(2<=be.args.length&&Ae.args.length===2){for(var de=function($e,Le){var qe,ze,Ee=[],Se=ce($e);if(ee($e,Le))for(var Me=0;Me<$e.args.length;Me++)(ze=$e.args.slice(0)).splice(Me,1),qe=ze.length===1?ze[0]:Se(ze),Ee.push(Se([$e.args[Me],qe]));else qe=(ze=$e.args.slice(1)).length===1?ze[0]:Se(ze),Ee.push(Se([$e.args[0],qe]));return Ee}(be,Ae.context),xe=[],Ce=0;Ce<de.length;Ce++)var je=ye(Ae,de[Ce],!0),xe=xe.concat(je);return xe}if(2<Ae.args.length)throw Error("Unexpected non-binary associative function: "+Ae.toString());return[]}for(var Ie=[],Ne=0;Ne<Ae.args.length;Ne++){var Be=ye(Ae.args[Ne],be.args[Ne]);if(Be.length===0)return[];Ie.push(Be)}re=function($e){if($e.length===0)return $e;for(var Le=$e.reduce(pe),qe=[],ze={},Ee=0;Ee<Le.length;Ee++){var Se=JSON.stringify(Le[Ee]);ze[Se]||(ze[Se]=!0,qe.push(Le[Ee]))}return qe}(Ie)}else if(Ae instanceof G){if(Ae.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(we[Ae.name]){if(Ae.name!==be.name)return[]}else if(Ae.name[0]==="n"||Ae.name.substring(0,2)==="_p")re[0].placeholders[Ae.name]=be;else if(Ae.name[0]==="v"){if((0,b.isConstantNode)(be))return[];re[0].placeholders[Ae.name]=be}else{if(Ae.name[0]!=="c")throw new Error("Invalid symbol in rule: "+Ae.name);if(!(be instanceof R))return[];re[0].placeholders[Ae.name]=be}}else{if(!(Ae instanceof R))return[];if(!F(Ae.value,be.value))return[]}return re}return oe});r.createSimplify=o},{"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938,"./simplify/resolve":665,"./simplify/simplifyConstant":666,"./simplify/simplifyCore":667,"./simplify/util":668}],665:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createResolve=void 0;var b=n("../../../utils/is"),h=["parse","FunctionNode","OperatorNode","ParenthesisNode"],m=(0,n("../../../utils/factory").factory)("resolve",h,function(p){var A=p.parse,S=p.FunctionNode,_=p.OperatorNode,l=p.ParenthesisNode;return function y(o,f){if(!f)return o;if((0,b.isSymbolNode)(o)){var x=f[o.name];if((0,b.isNode)(x))return y(x,f);if(typeof x=="number")return A(String(x))}else{if((0,b.isOperatorNode)(o)){var g=o.args.map(function(E){return y(E,f)});return new _(o.op,o.fn,g,o.implicit)}if((0,b.isParenthesisNode)(o))return new l(y(o.content,f));if((0,b.isFunctionNode)(o)){var D=o.args.map(function(E){return y(E,f)});return new S(o.name,D)}}return o}});r.createResolve=m},{"../../../utils/factory":931,"../../../utils/is":933}],666:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSimplifyConstant=void 0;var b=n("../../../utils/is"),h=n("../../../utils/factory"),m=n("./util"),p=n("../../../utils/noop"),A=["typed","config","mathWithTransform","?fraction","?bignumber","ConstantNode","OperatorNode","FunctionNode","SymbolNode"],S=(0,h.factory)("simplifyConstant",A,function(_){var l=_.typed,y=_.config,o=_.mathWithTransform,f=_.fraction,x=_.bignumber,g=_.ConstantNode,D=_.OperatorNode,E=_.FunctionNode,C=_.SymbolNode,T=(0,m.createUtil)({FunctionNode:E,OperatorNode:D,SymbolNode:C}),O=T.isCommutative,I=T.isAssociative,M=T.allChildren,F=T.createMakeNodeFunction;function B(U,G,H){try{return R(o[U].apply(null,G),H)}catch{return G=G.map(function(Z){return(0,b.isFraction)(Z)?Z.valueOf():Z}),R(o[U].apply(null,G),H)}}var j=l({Fraction:function(U){var G,H=U.s*U.n;return G=H<0?new D("-","unaryMinus",[new g(-H)]):new g(H),U.d!==1?new D("/","divide",[G,new g(U.d)]):G},number:function(U){return U<0?V(new g(-U)):new g(U)},BigNumber:function(U){return U<0?V(new g(-U)):new g(U)},Complex:function(){throw new Error("Cannot convert Complex number to Node")}});function L(U,G){if(G&&G.exactFractions!==!1&&isFinite(U)&&f){var H=f(U);if(H.valueOf()===U)return H}return U}var R=l({"string, Object":function(U,G){return y.number==="BigNumber"?(x===void 0&&(0,p.noBignumber)(),x(U)):y.number==="Fraction"?(f===void 0&&(0,p.noFraction)(),f(U)):L(parseFloat(U),G)},"Fraction, Object":function(U){return U},"BigNumber, Object":function(U){return U},"number, Object":L,"Complex, Object":function(U,G){return U.im!==0?U:L(U.re,G)}});function V(U){return new D("-","unaryMinus",[U])}function k(U,G,H,X){return G.reduce(function(Z,J){if((0,b.isNode)(Z)||(0,b.isNode)(J))(0,b.isNode)(Z)?(0,b.isNode)(J)||(J=j(J)):Z=j(Z);else{try{return B(U,[Z,J],X)}catch{}Z=j(Z),J=j(J)}return H([Z,J])})}return function(U,G){var H=function X(Z,J){switch(Z.type){case"SymbolNode":return Z;case"ConstantNode":return typeof Z.value!="number"&&isNaN(Z.value)?Z:R(Z.value,J);case"FunctionNode":if(o[Z.name]&&o[Z.name].rawArgs)return Z;var ee=["add","multiply"];if(ee.indexOf(Z.name)===-1){var $=Z.args.map(function(le){return X(le,J)});if(!$.some(b.isNode))try{return B(Z.name,$,J)}catch{}return $=$.map(function(le){return(0,b.isNode)(le)?le:j(le)}),new E(Z.name,$)}case"OperatorNode":var W,Q,te=Z.fn.toString(),ce=F(Z);if((0,b.isOperatorNode)(Z)&&Z.isUnary())W=[X(Z.args[0],J)],Q=(0,b.isNode)(W[0])?ce(W):B(te,W,J);else if(I(Z))if(W=(W=M(Z)).map(function(le){return X(le,J)}),O(te)){for(var oe=[],ue=[],we=0;we<W.length;we++)(0,b.isNode)(W[we])?ue.push(W[we]):oe.push(W[we]);Q=1<oe.length?(Q=k(te,oe,ce,J),ue.unshift(Q),k(te,ue,ce,J)):k(te,W,ce,J)}else Q=k(te,W,ce,J);else W=Z.args.map(function(le){return X(le,J)}),Q=k(te,W,ce,J);return Q;case"ParenthesisNode":return X(Z.content,J);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(Z.type))}}(U,G);return(0,b.isNode)(H)?H:j(H)}});r.createSimplifyConstant=S},{"../../../utils/factory":931,"../../../utils/is":933,"../../../utils/noop":936,"./util":668}],667:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSimplifyCore=void 0;var b=n("../../../utils/is"),h=["equal","isZero","add","subtract","multiply","divide","pow","ConstantNode","OperatorNode","FunctionNode","ParenthesisNode"],m=(0,n("../../../utils/factory").factory)("simplifyCore",h,function(p){var A=p.equal,S=p.isZero,_=p.add,l=p.subtract,y=p.multiply,o=p.divide,f=p.pow,x=p.ConstantNode,g=p.OperatorNode,D=p.FunctionNode,E=p.ParenthesisNode,C=new x(0),T=new x(1);return function O(I){if((0,b.isOperatorNode)(I)&&I.isUnary()){var M=O(I.args[0]);if(I.op==="+")return M;if(I.op==="-"){if((0,b.isOperatorNode)(M)){if(M.isUnary()&&M.op==="-")return M.args[0];if(M.isBinary()&&M.fn==="subtract")return new g("-","subtract",[M.args[1],M.args[0]])}return new g(I.op,I.fn,[M])}}else if((0,b.isOperatorNode)(I)&&I.isBinary()){var F=O(I.args[0]),B=O(I.args[1]);if(I.op==="+"){if((0,b.isConstantNode)(F)){if(S(F.value))return B;if((0,b.isConstantNode)(B))return new x(_(F.value,B.value))}return(0,b.isConstantNode)(B)&&S(B.value)?F:(0,b.isOperatorNode)(B)&&B.isUnary()&&B.op==="-"?new g("-","subtract",[F,B.args[0]]):new g(I.op,I.fn,B?[F,B]:[F])}if(I.op==="-"){if((0,b.isConstantNode)(F)&&B){if((0,b.isConstantNode)(B))return new x(l(F.value,B.value));if(S(F.value))return new g("-","unaryMinus",[B])}if(I.fn==="subtract")return(0,b.isConstantNode)(B)&&S(B.value)?F:(0,b.isOperatorNode)(B)&&B.isUnary()&&B.op==="-"?O(new g("+","add",[F,B.args[0]])):new g(I.op,I.fn,[F,B])}else{if(I.op==="*"){if((0,b.isConstantNode)(F)){if(S(F.value))return C;if(A(F.value,1))return B;if((0,b.isConstantNode)(B))return new x(y(F.value,B.value))}if((0,b.isConstantNode)(B)){if(S(B.value))return C;if(A(B.value,1))return F;if((0,b.isOperatorNode)(F)&&F.isBinary()&&F.op===I.op){var j=F.args[0];if((0,b.isConstantNode)(j)){var L=new x(y(j.value,B.value));return new g(I.op,I.fn,[L,F.args[1]],I.implicit)}}return new g(I.op,I.fn,[B,F],I.implicit)}return new g(I.op,I.fn,[F,B],I.implicit)}if(I.op==="/"){if((0,b.isConstantNode)(F)){if(S(F.value))return C;if((0,b.isConstantNode)(B)&&(A(B.value,1)||A(B.value,2)||A(B.value,4)))return new x(o(F.value,B.value))}return new g(I.op,I.fn,[F,B])}if(I.op==="^"){if((0,b.isConstantNode)(B)){if(S(B.value))return T;if(A(B.value,1))return F;if((0,b.isConstantNode)(F))return new x(f(F.value,B.value));if((0,b.isOperatorNode)(F)&&F.isBinary()&&F.op==="^"){var R=F.args[1];if((0,b.isConstantNode)(R))return new g(I.op,I.fn,[F.args[0],new x(y(R.value,B.value))])}}return new g(I.op,I.fn,[F,B])}}}else{if((0,b.isParenthesisNode)(I)){var V=O(I.content);return(0,b.isParenthesisNode)(V)||(0,b.isSymbolNode)(V)||(0,b.isConstantNode)(V)?V:new E(V)}if((0,b.isFunctionNode)(I)){var k=I.args.map(O).map(function(U){return(0,b.isParenthesisNode)(U)?U.content:U});return new D(O(I.fn),k)}}return I}});r.createSimplifyCore=m},{"../../../utils/factory":931,"../../../utils/is":933}],668:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUtil=void 0;var b=n("../../../utils/is"),h=n("../../../utils/factory"),m=n("../../../utils/object"),p=["FunctionNode","OperatorNode","SymbolNode"],A=(0,h.factory)("simplifyUtil",p,function(S){var _=S.FunctionNode,l=S.OperatorNode,y=S.SymbolNode,o={add:!0,multiply:!0},f={add:!0,multiply:!0};function x(E,C){if(!(0,b.isOperatorNode)(E))return!1;var T=E.fn.toString();return C&&(0,m.hasOwnProperty)(C,T)&&(0,m.hasOwnProperty)(C[T],"associative")?C[T].associative:f[T]||!1}function g(E){var C,T=[];return x(E)?(C=E.op,function O(I){for(var M=0;M<I.args.length;M++){var F=I.args[M];(0,b.isOperatorNode)(F)&&C===F.op?O(F):T.push(F)}}(E),T):E.args}function D(E){return(0,b.isOperatorNode)(E)?function(C){try{return new l(E.op,E.fn,C,E.implicit)}catch(T){return console.error(T),[]}}:function(C){return new _(new y(E.name),C)}}return{createMakeNodeFunction:D,isCommutative:function(E,C){if(!(0,b.isOperatorNode)(E))return!0;var T=E.fn.toString();return C&&(0,m.hasOwnProperty)(C,T)&&(0,m.hasOwnProperty)(C[T],"commutative")?C[T].commutative:o[T]||!1},isAssociative:x,flatten:function E(C){if(!C.args||C.args.length===0)return C;C.args=g(C);for(var T=0;T<C.args.length;T++)E(C.args[T])},allChildren:g,unflattenr:function E(C){if(C.args&&C.args.length!==0){for(var T=D(C),O=C.args.length,I=0;I<O;I++)E(C.args[I]);if(2<O&&x(C)){for(var M=C.args.pop();0<C.args.length;)M=T([C.args.pop(),M]);C.args=M.args}}},unflattenl:function E(C){if(C.args&&C.args.length!==0){for(var T=D(C),O=C.args.length,I=0;I<O;I++)E(C.args[I]);if(2<O&&x(C)){for(var M=C.args.shift();0<C.args.length;)M=T([M,C.args.shift()]);C.args=M.args}}}}});r.createUtil=A},{"../../../utils/factory":931,"../../../utils/is":933,"../../../utils/object":938}],669:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLsolve=void 0;var b=n("../../../utils/factory"),h=n("./utils/solveValidation"),m=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],p=(0,b.factory)("lsolve",m,function(A){var S=A.typed,_=A.matrix,l=A.divideScalar,y=A.multiplyScalar,o=A.subtract,f=A.equalScalar,x=A.DenseMatrix,g=(0,h.createSolveValidation)({DenseMatrix:x});return S("lsolve",{"SparseMatrix, Array | Matrix":function(E,C){for(var T,O,I=(C=g(E,C,!0))._data,M=E._size[0],F=E._size[1],B=E._values,j=E._index,L=E._ptr,R=[],V=0;V<F;V++){var k=I[V][0]||0;if(f(k,0))R[V]=[0];else{var U=0,G=[],H=[],X=L[V+1];for(O=L[V];O<X;O++)(T=j[O])===V?U=B[O]:V<T&&(G.push(B[O]),H.push(T));if(f(U,0))throw new Error("Linear system cannot be solved since matrix is singular");var Z=l(k,U);for(O=0,X=H.length;O<X;O++)T=H[O],I[T]=[o(I[T][0]||0,y(Z,G[O]))];R[V]=[Z]}}return new x({data:R,size:[M,1]})},"DenseMatrix, Array | Matrix":D,"Array, Array | Matrix":function(E,C){return D(_(E),C).valueOf()}});function D(E,C){for(var T=(C=g(E,C,!0))._data,O=E._size[0],I=E._size[1],M=[],F=E._data,B=0;B<I;B++){var j=T[B][0]||0,L=void 0;if(f(j,0))L=0;else{var R=F[B][B];if(f(R,0))throw new Error("Linear system cannot be solved since matrix is singular");L=l(j,R);for(var V=B+1;V<O;V++)T[V]=[o(T[V][0]||0,y(L,F[V][B]))]}M[B]=[L]}return new x({data:M,size:[O,1]})}});r.createLsolve=p},{"../../../utils/factory":931,"./utils/solveValidation":672}],670:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLusolve=void 0;var b=n("../../../utils/is"),h=n("../../../utils/factory"),m=n("./utils/solveValidation"),p=n("../sparse/csIpvec"),A=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],S=(0,h.factory)("lusolve",A,function(_){var l=_.typed,y=_.matrix,o=_.lup,f=_.slu,x=_.usolve,g=_.lsolve,D=_.DenseMatrix,E=(0,m.createSolveValidation)({DenseMatrix:D});return l("lusolve",{"Array, Array | Matrix":function(O,I){O=y(O);var M=o(O);return T(M.L,M.U,M.p,null,I).valueOf()},"DenseMatrix, Array | Matrix":function(O,I){var M=o(O);return T(M.L,M.U,M.p,null,I)},"SparseMatrix, Array | Matrix":function(O,I){var M=o(O);return T(M.L,M.U,M.p,null,I)},"SparseMatrix, Array | Matrix, number, number":function(O,I,M,F){var B=f(O,M,F);return T(B.L,B.U,B.p,B.q,I)},"Object, Array | Matrix":function(O,I){return T(O.L,O.U,O.p,O.q,I)}});function C(O){if((0,b.isMatrix)(O))return O;if((0,b.isArray)(O))return y(O);throw new TypeError("Invalid Matrix LU decomposition")}function T(O,I,M,F,B){O=C(O),I=C(I),B=E(O,B,!1),M&&(B._data=(0,p.csIpvec)(M,B._data));var j=g(O,B),L=x(I,j);return F&&(L._data=(0,p.csIpvec)(F,L._data)),L}});r.createLusolve=S},{"../../../utils/factory":931,"../../../utils/is":933,"../sparse/csIpvec":679,"./utils/solveValidation":672}],671:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUsolve=void 0;var b=n("../../../utils/factory"),h=n("./utils/solveValidation"),m=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],p=(0,b.factory)("usolve",m,function(A){var S=A.typed,_=A.matrix,l=A.divideScalar,y=A.multiplyScalar,o=A.subtract,f=A.equalScalar,x=A.DenseMatrix,g=(0,h.createSolveValidation)({DenseMatrix:x});return S("usolve",{"SparseMatrix, Array | Matrix":function(E,C){for(var T,O,I=(C=g(E,C,!0))._data,M=E._size[0],F=E._size[1],B=E._values,j=E._index,L=E._ptr,R=[],V=F-1;0<=V;V--){var k=I[V][0]||0;if(f(k,0))R[V]=[0];else{var U=0,G=[],H=[],X=L[V],Z=L[V+1];for(O=Z-1;X<=O;O--)(T=j[O])===V?U=B[O]:T<V&&(G.push(B[O]),H.push(T));if(f(U,0))throw new Error("Linear system cannot be solved since matrix is singular");var J=l(k,U);for(O=0,Z=H.length;O<Z;O++)T=H[O],I[T]=[o(I[T][0],y(J,G[O]))];R[V]=[J]}}return new x({data:R,size:[M,1]})},"DenseMatrix, Array | Matrix":D,"Array, Array | Matrix":function(E,C){return D(_(E),C).valueOf()}});function D(E,C){for(var T=(C=g(E,C,!0))._data,O=E._size[0],I=E._size[1],M=[],F=E._data,B=I-1;0<=B;B--){var j=T[B][0]||0,L=void 0;if(f(j,0))L=0;else{var R=F[B][B];if(f(R,0))throw new Error("Linear system cannot be solved since matrix is singular");L=l(j,R);for(var V=B-1;0<=V;V--)T[V]=[o(T[V][0]||0,y(L,F[V][B]))]}M[B]=[L]}return new x({data:M,size:[O,1]})}});r.createUsolve=p},{"../../../utils/factory":931,"./utils/solveValidation":672}],672:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSolveValidation=function(p){var A=p.DenseMatrix;return function(S,_,l){var y=S.size();if(y.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+(0,m.format)(y)+")");var o,f,x,g=y[0];if(g!==y[1])throw new RangeError("Matrix must be square (size: "+(0,m.format)(y)+")");if((0,b.isMatrix)(_)){var D=_.size();if(D.length===1){if(D[0]!==g)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],x=_._data,f=0;f<g;f++)o[f]=[x[f]];return new A({data:o,size:[g,1],datatype:_._datatype})}if(D.length!==2)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(D[0]!==g||D[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if((0,b.isDenseMatrix)(_)){if(l){for(o=[],x=_._data,f=0;f<g;f++)o[f]=[x[f][0]];return new A({data:o,size:[g,1],datatype:_._datatype})}return _}for(o=[],f=0;f<g;f++)o[f]=[0];for(var E=_._values,C=_._index,T=_._ptr,O=T[1],I=T[0];I<O;I++)o[f=C[I]][0]=E[I];return new A({data:o,size:[g,1],datatype:_._datatype})}if((0,b.isArray)(_)){var M=(0,h.arraySize)(_);if(M.length===1){if(M[0]!==g)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],f=0;f<g;f++)o[f]=[_[f]];return new A({data:o,size:[g,1]})}if(M.length!==2)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(M[0]!==g||M[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],f=0;f<g;f++)o[f]=[_[f][0]];return new A({data:o,size:[g,1]})}}};var b=n("../../../../utils/is"),h=n("../../../../utils/array"),m=n("../../../../utils/string")},{"../../../../utils/array":922,"../../../../utils/is":933,"../../../../utils/string":941}],673:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCsAmd=void 0;var b=n("../../../utils/factory"),h=n("./csFkeep"),m=n("./csFlip"),p=n("./csTdfs"),A=["add","multiply","transpose"],S=(0,b.factory)("csAmd",A,function(_){var l=_.add,y=_.multiply,o=_.transpose;return function(g,D){if(!D||g<=0||3<g)return null;var E=D._size,C=E[0],T=E[1],O=0,I=Math.max(16,10*Math.sqrt(T)),M=function(me,Ve,Xe,rt,lt){var nt=o(Ve);if(me===1&&rt===Xe)return l(Ve,nt);if(me!==2)return y(nt,Ve);for(var it=nt._index,dt=nt._ptr,ft=0,yt=0;yt<Xe;yt++){var bt=dt[yt];if(dt[yt]=ft,!(dt[yt+1]-bt>lt))for(var wt=dt[yt+1];bt<wt;bt++)it[ft++]=it[bt]}return dt[Xe]=ft,Ve=o(nt),y(nt,Ve)}(g,D,C,T,I=Math.min(T-2,I));(0,h.csFkeep)(M,x,null);for(var F,B,j,L,R,V,k,U,G,H,X,Z,J=M._index,ee=M._ptr,$=ee[T],W=[],Q=[],te=T+1,ce=2*(T+1),oe=3*(T+1),ue=4*(T+1),we=5*(T+1),le=6*(T+1),fe=7*(T+1),ve=W,pe=function(me,Ve,Xe,rt,lt,nt,it,dt,ft,yt,bt,wt){for(var xt=0;xt<me;xt++)Xe[rt+xt]=Ve[xt+1]-Ve[xt];for(var Tt=Xe[rt+me]=0;Tt<=me;Tt++)Xe[lt+Tt]=-1,nt[Tt]=-1,Xe[it+Tt]=-1,Xe[dt+Tt]=-1,Xe[ft+Tt]=1,Xe[yt+Tt]=1,Xe[bt+Tt]=0,Xe[wt+Tt]=Xe[rt+Tt];var kt=f(0,0,Xe,yt,me);return Xe[bt+me]=-2,Ve[me]=-1,Xe[yt+me]=0,kt}(T,ee,Q,0,oe,ve,ce,fe,te,le,ue,we),ye=function(me,Ve,Xe,rt,lt,nt,it,dt,ft,yt,bt){for(var wt=0,xt=0;xt<me;xt++){var Tt,kt=Xe[rt+xt];kt===0?(Xe[lt+xt]=-2,wt++,Ve[xt]=-1,Xe[nt+xt]=0):it<kt?(Xe[dt+xt]=0,Xe[lt+xt]=-1,wt++,Ve[xt]=(0,m.csFlip)(me),Xe[dt+me]++):((Tt=Xe[ft+kt])!==-1&&(yt[Tt]=xt),Xe[bt+xt]=Xe[ft+kt],Xe[ft+kt]=xt)}return wt}(T,ee,Q,we,ue,le,I,te,oe,ve,ce),Ae=0;ye<T;){for(B=-1;Ae<T&&(B=Q[oe+Ae])===-1;Ae++);Q[ce+B]!==-1&&(ve[Q[ce+B]]=-1),Q[oe+Ae]=Q[ce+B];var be=Q[ue+B],ne=Q[te+B];ye+=ne;var re=0;Q[te+B]=-ne;for(var de,Ce,je=ee[B],xe=be===0?je:$,Ie=xe,Ne=1;Ne<=be+1;Ne++){for(R=be<Ne?(L=je,Q[0+(Ce=B)]-be):(L=ee[Ce=J[je++]],Q[0+Ce]),j=1;j<=R;j++)(V=Q[te+(F=J[L++])])<=0||(re+=V,Q[te+F]=-V,Q[ce+(J[Ie++]=F)]!==-1&&(ve[Q[ce+F]]=ve[F]),ve[F]!==-1?Q[ce+ve[F]]=Q[ce+F]:Q[oe+Q[we+F]]=Q[ce+F]);Ce!==B&&(ee[Ce]=(0,m.csFlip)(B),Q[le+Ce]=0)}for(be!==0&&($=Ie),Q[we+B]=re,ee[B]=xe,Q[0+B]=Ie-xe,Q[ue+B]=-2,pe=f(pe,O,Q,le,T),k=xe;k<Ie;k++)if(!((U=Q[ue+(F=J[k])])<=0))for(var Be=pe-(V=-Q[te+F]),je=ee[F],$e=ee[F]+U-1;je<=$e;je++)Q[le+(Ce=J[je])]>=pe?Q[le+Ce]-=V:Q[le+Ce]!==0&&(Q[le+Ce]=Q[we+Ce]+Be);for(k=xe;k<Ie;k++){for(G=($e=ee[F=J[k]])+Q[ue+F]-1,Z=X=0,je=H=$e;je<=G;je++)Q[le+(Ce=J[je])]!==0&&(0<(de=Q[le+Ce]-pe)?(Z+=de,X+=J[H++]=Ce):(ee[Ce]=(0,m.csFlip)(B),Q[le+Ce]=0));Q[ue+F]=H-$e+1;var Le=H,qe=$e+Q[0+F];for(je=1+G;je<qe;je++){var ze=Q[te+(Se=J[je])];ze<=0||(Z+=ze,X+=J[H++]=Se)}Z===0?(ee[F]=(0,m.csFlip)(B),re-=V=-Q[te+F],ne+=V,ye+=V,Q[te+F]=0,Q[ue+F]=-1):(Q[we+F]=Math.min(Q[we+F],Z),J[H]=J[Le],J[Le]=J[$e],J[$e]=B,Q[0+F]=H-$e+1,X=(X<0?-X:X)%T,Q[ce+F]=Q[fe+X],ve[Q[fe+X]=F]=X)}for(Q[we+B]=re,pe=f(pe+(O=Math.max(O,re)),O,Q,le,T),k=xe;k<Ie;k++)if(!(0<=Q[te+(F=J[k])]))for(F=Q[fe+(X=ve[F])],Q[fe+X]=-1;F!==-1&&Q[ce+F]!==-1;F=Q[ce+F],pe++){for(R=Q[0+F],U=Q[ue+F],je=ee[F]+1;je<=ee[F]+R-1;je++)Q[le+J[je]]=pe;for(var Ee=F,Se=Q[ce+F];Se!==-1;){var Me=Q[0+Se]===R&&Q[ue+Se]===U;for(je=ee[Se]+1;Me&&je<=ee[Se]+R-1;je++)Q[le+J[je]]!==pe&&(Me=0);Me?(ee[Se]=(0,m.csFlip)(F),Q[te+F]+=Q[te+Se],Q[te+Se]=0,Q[ue+Se]=-1,Se=Q[ce+Se],Q[ce+Ee]=Se):Se=Q[ce+(Ee=Se)]}}for(k=je=xe;k<Ie;k++)(V=-Q[te+(F=J[k])])<=0||(Q[te+F]=V,Z=Q[we+F]+re-V,Q[oe+(Z=Math.min(Z,T-ye-V))]!==-1&&(ve[Q[oe+Z]]=F),Q[ce+F]=Q[oe+Z],ve[F]=-1,Q[oe+Z]=F,Ae=Math.min(Ae,Z),Q[we+F]=Z,J[je++]=F);Q[te+B]=ne,(Q[0+B]=je-xe)==0&&(ee[B]=-1,Q[le+B]=0),be!==0&&($=je)}for(F=0;F<T;F++)ee[F]=(0,m.csFlip)(ee[F]);for(Se=0;Se<=T;Se++)Q[oe+Se]=-1;for(Se=T;0<=Se;Se--)0<Q[te+Se]||(Q[ce+Se]=Q[oe+ee[Se]],Q[oe+ee[Se]]=Se);for(Ce=T;0<=Ce;Ce--)Q[te+Ce]<=0||ee[Ce]!==-1&&(Q[ce+Ce]=Q[oe+ee[Ce]],Q[oe+ee[Ce]]=Ce);for(F=B=0;F<=T;F++)ee[F]===-1&&(B=(0,p.csTdfs)(F,B,Q,oe,ce,W,le));return W.splice(W.length-1,1),W};function f(g,D,E,C,T){if(g<2||g+D<0){for(var O=0;O<T;O++)E[C+O]!==0&&(E[C+O]=1);g=2}return g}function x(g,D){return g!==D}});r.createCsAmd=S},{"../../../utils/factory":931,"./csFkeep":677,"./csFlip":678,"./csTdfs":689}],674:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCsCounts=void 0;var b=n("../../../utils/factory"),h=n("./csLeaf"),m=["transpose"],p=(0,b.factory)("csCounts",m,function(A){var S=A.transpose;return function(_,l,y,o){if(!_||!l||!y)return null;for(var f,x,g,D,E,C,T=_._size,O=T[0],I=T[1],M=4*I+(o?I+O+1:0),F=[],B=I,j=2*I,L=3*I,R=4*I,V=5*I+1,k=0;k<M;k++)F[k]=-1;var U=[],G=S(_),H=G._index,X=G._ptr;for(k=0;k<I;k++)for(U[x=y[k]]=F[L+x]===-1?1:0;x!==-1&&F[L+x]===-1;x=l[x])F[L+x]=k;if(o){for(k=0;k<I;k++)F[y[k]]=k;for(f=0;f<O;f++){for(k=I,E=X[f],C=X[f+1],D=E;D<C;D++)k=Math.min(k,F[H[D]]);F[V+f]=F[R+k],F[R+k]=f}}for(f=0;f<I;f++)F[0+f]=f;for(k=0;k<I;k++){for(l[x=y[k]]!==-1&&U[l[x]]--,g=o?F[R+k]:x;g!==-1;g=o?F[V+g]:-1)for(D=X[g];D<X[g+1];D++){f=H[D];var Z=(0,h.csLeaf)(f,x,F,L,B,j,0);1<=Z.jleaf&&U[x]++,Z.jleaf===2&&U[Z.q]--}l[x]!==-1&&(F[0+x]=l[x])}for(x=0;x<I;x++)l[x]!==-1&&(U[l[x]]+=U[x]);return U}});r.createCsCounts=p},{"../../../utils/factory":931,"./csLeaf":680}],675:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csDfs=function(p,A,S,_,l){var y,o,f,x=A._index,g=A._ptr,D=A._size[1],E=0;for(_[0]=p;0<=E;){p=_[E];var C=l?l[p]:p;(0,b.csMarked)(g,p)||((0,h.csMark)(g,p),_[D+E]=C<0?0:(0,m.csUnflip)(g[C]));var T=1;for(o=_[D+E],f=C<0?0:(0,m.csUnflip)(g[C+1]);o<f;o++)if(y=x[o],!(0,b.csMarked)(g,y)){_[D+E]=o,_[++E]=y,T=0;break}T&&(E--,_[--S]=p)}return S};var b=n("./csMarked"),h=n("./csMark"),m=n("./csUnflip")},{"./csMark":682,"./csMarked":683,"./csUnflip":690}],676:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csEtree=function(b,h){if(!b)return null;var m,p,A=b._index,S=b._ptr,_=b._size,l=_[0],y=_[1],o=[],f=[],x=y;if(h)for(m=0;m<l;m++)f[x+m]=-1;for(var g=0;g<y;g++){o[g]=-1,f[0+g]=-1;for(var D=S[g],E=S[g+1],C=D;C<E;C++){var T=A[C];for(m=h?f[x+T]:T;m!==-1&&m<g;m=p)p=f[0+m],f[0+m]=g,p===-1&&(o[m]=g);h&&(f[x+T]=g)}}return o}},{}],677:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csFkeep=function(b,h,m){for(var p=b._values,A=b._index,S=b._ptr,_=b._size[1],l=0,y=0;y<_;y++){var o=S[y];for(S[y]=l;o<S[y+1];o++)h(A[o],y,p?p[o]:1,m)&&(A[l]=A[o],p&&(p[l]=p[o]),l++)}return S[_]=l,A.splice(l,A.length-l),p&&p.splice(l,p.length-l),l}},{}],678:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csFlip=function(b){return-b-2}},{}],679:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csIpvec=function(b,h){var m,p=h.length,A=[];if(b)for(m=0;m<p;m++)A[b[m]]=h[m];else for(m=0;m<p;m++)A[m]=h[m];return A}},{}],680:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csLeaf=function(b,h,m,p,A,S,_){var l,y,o,f=0;if(b<=h||m[p+h]<=m[A+b])return-1;m[A+b]=m[p+h];var x=m[S+b];if(m[S+b]=h,x===-1)f=1,o=b;else{for(f=2,o=x;o!==m[_+o];o=m[_+o]);for(l=x;l!==o;l=y)y=m[_+l],m[_+l]=o}return{jleaf:f,q:o}}},{}],681:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCsLu=void 0;var b=n("../../../utils/factory"),h=n("./csSpsolve"),m=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],p=(0,b.factory)("csLu",m,function(A){var S=A.abs,_=A.divideScalar,l=A.multiply,y=A.subtract,o=A.larger,f=A.largerEq,x=A.SparseMatrix,g=(0,h.createCsSpsolve)({divideScalar:_,multiply:l,subtract:y});return function(D,E,C){if(!D)return null;var T,O=D._size[1],I=100,M=100;E&&(T=E.q,I=E.lnz||I,M=E.unz||M);var F=[],B=[],j=[],L=new x({values:F,index:B,ptr:j,size:[O,O]}),R=[],V=[],k=[],U=new x({values:R,index:V,ptr:k,size:[O,O]}),G=[],H=[],X=[];for(ee=0;ee<O;ee++)H[ee]=0,G[ee]=-1,j[ee+1]=0;for(var Z=M=I=0;Z<O;Z++){j[Z]=I,k[Z]=M;for(var J,ee,$=T?T[Z]:Z,W=g(L,D,$,X,H,G,1),Q=-1,te=-1,ce=W;ce<O;ce++)G[ee=X[ce]]<0?(J=S(H[ee]),o(J,te)&&(te=J,Q=ee)):(V[M]=G[ee],R[M++]=H[ee]);if(Q===-1||te<=0)return null;G[$]<0&&f(S(H[$]),l(te,C))&&(Q=$);var oe=H[Q];for(V[M]=Z,R[M++]=oe,G[Q]=Z,B[I]=Q,F[I++]=1,ce=W;ce<O;ce++)G[ee=X[ce]]<0&&(B[I]=ee,F[I++]=_(H[ee],oe)),H[ee]=0}for(j[O]=I,k[O]=M,ce=0;ce<I;ce++)B[ce]=G[B[ce]];return F.splice(I,F.length-I),B.splice(I,B.length-I),R.splice(M,R.length-M),V.splice(M,V.length-M),{L,U,pinv:G}}});r.createCsLu=p},{"../../../utils/factory":931,"./csSpsolve":687}],682:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csMark=function(h,m){h[m]=(0,b.csFlip)(h[m])};var b=n("./csFlip")},{"./csFlip":678}],683:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csMarked=function(b,h){return b[h]<0}},{}],684:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csPermute=function(b,h,m,p){for(var A=b._values,S=b._index,_=b._ptr,l=b._size,y=b._datatype,o=l[0],f=l[1],x=p&&b._values?[]:null,g=[],D=[],E=0,C=0;C<f;C++){D[C]=E;for(var T=m?m[C]:C,O=_[T],I=_[T+1],M=O;M<I;M++){var F=h?h[S[M]]:S[M];g[E]=F,x&&(x[E]=A[M]),E++}}return D[f]=E,b.createSparseMatrix({values:x,index:g,ptr:D,size:[o,f],datatype:y})}},{}],685:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csPost=function(h,m){if(!h)return null;var p,A=0,S=[],_=[],l=m,y=2*m;for(p=0;p<m;p++)_[0+p]=-1;for(p=m-1;0<=p;p--)h[p]!==-1&&(_[l+p]=_[0+h[p]],_[0+h[p]]=p);for(p=0;p<m;p++)h[p]===-1&&(A=(0,b.csTdfs)(p,A,_,0,l,S,y));return S};var b=n("./csTdfs")},{"./csTdfs":689}],686:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csReach=function(p,A,S,_,l){var y,o,f,x=p._ptr,g=p._size,D=A._index,E=A._ptr,C=g[1],T=C;for(o=E[S],f=E[S+1],y=o;y<f;y++){var O=D[y];(0,b.csMarked)(x,O)||(T=(0,m.csDfs)(O,p,T,_,l))}for(y=T;y<C;y++)(0,h.csMark)(x,_[y]);return T};var b=n("./csMarked"),h=n("./csMark"),m=n("./csDfs")},{"./csDfs":675,"./csMark":682,"./csMarked":683}],687:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCsSpsolve=void 0;var b=n("./csReach"),h=["divideScalar","multiply","subtract"],m=(0,n("../../../utils/factory").factory)("csSpsolve",h,function(p){var A=p.divideScalar,S=p.multiply,_=p.subtract;return function(l,y,o,f,x,g,D){for(var E,C,T,O=l._values,I=l._index,M=l._ptr,F=l._size[1],B=y._values,j=y._index,L=y._ptr,R=(0,b.csReach)(l,y,o,f,g),V=R;V<F;V++)x[f[V]]=0;for(E=L[o],C=L[o+1],V=E;V<C;V++)x[j[V]]=B[V];for(var k=R;k<F;k++){var U=f[k],G=g?g[U]:U;if(!(G<0))for(E=M[G],C=M[G+1],x[U]=A(x[U],O[D?E:C-1]),V=D?E+1:E,T=D?C:C-1;V<T;V++){var H=I[V];x[H]=_(x[H],S(O[V],x[U]))}}return R}});r.createCsSpsolve=m},{"../../../utils/factory":931,"./csReach":686}],688:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCsSqr=void 0;var b=n("./csPermute"),h=n("./csPost"),m=n("./csEtree"),p=n("./csAmd"),A=n("./csCounts"),S=["add","multiply","transpose"],_=(0,n("../../../utils/factory").factory)("csSqr",S,function(l){var y=l.add,o=l.multiply,f=l.transpose,x=(0,p.createCsAmd)({add:y,multiply:o,transpose:f}),g=(0,A.createCsCounts)({transpose:f});return function(D,E,C){var T,O=E._ptr,I=E._size[1],M={};if(M.q=x(D,E),D&&!M.q)return null;if(C){var F=D?(0,b.csPermute)(E,null,M.q,0):E;M.parent=(0,m.csEtree)(F,1);var B=(0,h.csPost)(M.parent,I);if(M.cp=g(F,M.parent,B,1),F&&M.parent&&M.cp&&function(j,L){var R=j._ptr,V=j._index,k=j._size,U=k[0],G=k[1];L.pinv=[],L.leftmost=[];var H,X,Z,J,ee,$=L.parent,W=L.pinv,Q=L.leftmost,te=[],ce=U,oe=U+G,ue=U+2*G;for(X=0;X<G;X++)te[ce+X]=-1,te[oe+X]=-1,te[ue+X]=0;for(H=0;H<U;H++)Q[H]=-1;for(X=G-1;0<=X;X--)for(J=R[X],ee=R[X+1],Z=J;Z<ee;Z++)Q[V[Z]]=X;for(H=U-1;0<=H;H--)(W[H]=-1)!==(X=Q[H])&&(te[ue+X]++==0&&(te[oe+X]=H),te[0+H]=te[ce+X],te[ce+X]=H);for(L.lnz=0,L.m2=U,X=0;X<G;X++){var we;H=te[ce+X],L.lnz++,H<0&&(H=L.m2++),W[H]=X,--ue[X]<=0||(L.lnz+=te[ue+X],(we=$[X])!==-1&&(te[ue+we]===0&&(te[oe+we]=te[oe+X]),te[0+te[oe+X]]=te[ce+we],te[ce+we]=te[0+H],te[ue+we]+=te[ue+X]))}for(H=0;H<U;H++)W[H]<0&&(W[H]=X++);return!0}(F,M))for(T=M.unz=0;T<I;T++)M.unz+=M.cp[T]}else M.unz=4*O[I]+I,M.lnz=M.unz;return M}});r.createCsSqr=_},{"../../../utils/factory":931,"./csAmd":673,"./csCounts":674,"./csEtree":676,"./csPermute":684,"./csPost":685}],689:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csTdfs=function(b,h,m,p,A,S,_){var l=0;for(m[_]=b;0<=l;){var y=m[_+l],o=m[p+y];o===-1?(l--,S[h++]=y):(m[p+y]=m[A+o],m[_+ ++l]=o)}return h}},{}],690:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.csUnflip=function(h){return h<0?(0,b.csFlip)(h):h};var b=n("./csFlip")},{"./csFlip":678}],691:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAbs=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed"],A=(0,b.factory)("abs",p,function(S){var _=(0,S.typed)("abs",{number:m.absNumber,Complex:function(l){return l.abs()},BigNumber:function(l){return l.abs()},Fraction:function(l){return l.abs()},"Array | Matrix":function(l){return(0,h.deepMap)(l,_,!0)},Unit:function(l){return l.abs()}});return _});r.createAbs=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],692:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAdd=void 0;var b=n("../../utils/factory"),h=n("../../utils/object"),m=n("../../type/matrix/utils/algorithm01"),p=n("../../type/matrix/utils/algorithm04"),A=n("../../type/matrix/utils/algorithm10"),S=n("../../type/matrix/utils/algorithm13"),_=n("../../type/matrix/utils/algorithm14"),l=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],y=(0,b.factory)("add",l,function(o){var f=o.typed,x=o.matrix,g=o.addScalar,D=o.equalScalar,E=o.DenseMatrix,C=(o.SparseMatrix,(0,m.createAlgorithm01)({typed:f})),T=(0,p.createAlgorithm04)({typed:f,equalScalar:D}),O=(0,A.createAlgorithm10)({typed:f,DenseMatrix:E}),I=(0,S.createAlgorithm13)({typed:f}),M=(0,_.createAlgorithm14)({typed:f}),F=f("add",(0,h.extend)({"DenseMatrix, DenseMatrix":function(B,j){return I(B,j,g)},"DenseMatrix, SparseMatrix":function(B,j){return C(B,j,g,!1)},"SparseMatrix, DenseMatrix":function(B,j){return C(j,B,g,!0)},"SparseMatrix, SparseMatrix":function(B,j){return T(B,j,g)},"Array, Array":function(B,j){return F(x(B),x(j)).valueOf()},"Array, Matrix":function(B,j){return F(x(B),j)},"Matrix, Array":function(B,j){return F(B,x(j))},"DenseMatrix, any":function(B,j){return M(B,j,g,!1)},"SparseMatrix, any":function(B,j){return O(B,j,g,!1)},"any, DenseMatrix":function(B,j){return M(j,B,g,!0)},"any, SparseMatrix":function(B,j){return O(j,B,g,!0)},"Array, any":function(B,j){return M(x(B),j,g,!1).valueOf()},"any, Array":function(B,j){return M(x(j),B,g,!0).valueOf()},"any, any":g,"any, any, ...any":function(B,j,L){for(var R=F(B,j),V=0;V<L.length;V++)R=F(R,L[V]);return R}},g.signatures));return F});r.createAdd=y},{"../../type/matrix/utils/algorithm01":900,"../../type/matrix/utils/algorithm04":903,"../../type/matrix/utils/algorithm10":909,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931,"../../utils/object":938}],693:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAddScalar=void 0;var b=n("../../utils/factory"),h=n("../../plain/number"),m=["typed"],p=(0,b.factory)("addScalar",m,function(A){var S=(0,A.typed)("addScalar",{"number, number":h.addNumber,"Complex, Complex":function(_,l){return _.add(l)},"BigNumber, BigNumber":function(_,l){return _.plus(l)},"Fraction, Fraction":function(_,l){return _.add(l)},"Unit, Unit":function(_,l){if(_.value===null||_.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(l.value===null||l.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!_.equalBase(l))throw new Error("Units do not match");var y=_.clone();return y.value=S(y.value,l.value),y.fixPrefix=!1,y}});return S});r.createAddScalar=p},{"../../plain/number":874,"../../utils/factory":931}],694:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCbrt=void 0;var b=n("../../utils/factory"),h=n("../../utils/is"),m=n("../../utils/collection"),p=n("../../plain/number"),A=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],S=(0,b.factory)("cbrt",A,function(_){var l=_.config,y=_.typed,o=_.isNegative,f=_.unaryMinus,x=_.matrix,g=_.Complex,D=_.BigNumber,E=_.Fraction,C=y("cbrt",{number:p.cbrtNumber,Complex:T,"Complex, boolean":T,BigNumber:function(O){return O.cbrt()},Unit:function(O){{if(O.value&&(0,h.isComplex)(O.value)){var I=O.clone();return I.value=1,(I=I.pow(1/3)).value=T(O.value),I}var M,F=o(O.value);F&&(O.value=f(O.value)),M=(0,h.isBigNumber)(O.value)?new D(1).div(3):(0,h.isFraction)(O.value)?new E(1,3):1/3;var B=O.pow(M);return F&&(B.value=f(B.value)),B}},"Array | Matrix":function(O){return(0,m.deepMap)(O,C,!0)}});function T(O,I){var M=O.arg()/3,F=O.abs(),B=new g((0,p.cbrtNumber)(F),0).mul(new g(0,M).exp());if(I){var j=[B,new g((0,p.cbrtNumber)(F),0).mul(new g(0,M+2*Math.PI/3).exp()),new g((0,p.cbrtNumber)(F),0).mul(new g(0,M-2*Math.PI/3).exp())];return l.matrix==="Array"?j:x(j)}return B}return C});r.createCbrt=S},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931,"../../utils/is":933}],695:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCeil=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../utils/number"),p=n("../../utils/bignumber/nearlyEqual"),A=n("../../plain/number"),S=["typed","config","round"],_=(0,b.factory)("ceil",S,function(l){var y=l.typed,o=l.config,f=l.round,x=y("ceil",{number:function(g){return((0,m.nearlyEqual)(g,f(g),o.epsilon)?f:A.ceilNumber)(g)},Complex:function(g){return g.ceil()},BigNumber:function(g){return(0,p.nearlyEqual)(g,f(g),o.epsilon)?f(g):g.ceil()},Fraction:function(g){return g.ceil()},"Array | Matrix":function(g){return(0,h.deepMap)(g,x,!0)}});return x});r.createCeil=_},{"../../plain/number":874,"../../utils/bignumber/nearlyEqual":926,"../../utils/collection":927,"../../utils/factory":931,"../../utils/number":937}],696:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCube=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed"],A=(0,b.factory)("cube",p,function(S){var _=(0,S.typed)("cube",{number:m.cubeNumber,Complex:function(l){return l.mul(l).mul(l)},BigNumber:function(l){return l.times(l).times(l)},Fraction:function(l){return l.pow(3)},"Array | Matrix":function(l){return(0,h.deepMap)(l,_,!0)},Unit:function(l){return l.pow(3)}});return _});r.createCube=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],697:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDivide=void 0;var b=n("../../utils/factory"),h=n("../../utils/object"),m=n("../../type/matrix/utils/algorithm11"),p=n("../../type/matrix/utils/algorithm14"),A=["typed","matrix","multiply","equalScalar","divideScalar","inv"],S=(0,b.factory)("divide",A,function(_){var l=_.typed,y=_.matrix,o=_.multiply,f=_.equalScalar,x=_.divideScalar,g=_.inv,D=(0,m.createAlgorithm11)({typed:l,equalScalar:f}),E=(0,p.createAlgorithm14)({typed:l});return l("divide",(0,h.extend)({"Array | Matrix, Array | Matrix":function(C,T){return o(C,g(T))},"DenseMatrix, any":function(C,T){return E(C,T,x,!1)},"SparseMatrix, any":function(C,T){return D(C,T,x,!1)},"Array, any":function(C,T){return E(y(C),T,x,!1).valueOf()},"any, Array | Matrix":function(C,T){return o(C,g(T))}},x.signatures))});r.createDivide=S},{"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931,"../../utils/object":938}],698:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDivideScalar=void 0;var b=n("../../utils/factory"),h=n("../../utils/is"),m=["typed","numeric"],p=(0,b.factory)("divideScalar",m,function(A){var S=A.typed,_=A.numeric,l=S("divideScalar",{"number, number":function(y,o){return y/o},"Complex, Complex":function(y,o){return y.div(o)},"BigNumber, BigNumber":function(y,o){return y.div(o)},"Fraction, Fraction":function(y,o){return y.div(o)},"Unit, number | Fraction | BigNumber":function(y,o){var f=y.clone(),x=_(1,(0,h.typeOf)(o));return f.value=l(f.value===null?f._normalize(x):f.value,o),f},"number | Fraction | BigNumber, Unit":function(y,o){var f=(f=o.clone()).pow(-1),x=_(1,(0,h.typeOf)(y));return f.value=l(y,o.value===null?o._normalize(x):o.value),f},"Unit, Unit":function(y,o){return y.divide(o)}});return l});r.createDivideScalar=p},{"../../utils/factory":931,"../../utils/is":933}],699:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDotDivide=void 0;var b=n("../../utils/factory"),h=n("../../type/matrix/utils/algorithm02"),m=n("../../type/matrix/utils/algorithm03"),p=n("../../type/matrix/utils/algorithm07"),A=n("../../type/matrix/utils/algorithm11"),S=n("../../type/matrix/utils/algorithm12"),_=n("../../type/matrix/utils/algorithm13"),l=n("../../type/matrix/utils/algorithm14"),y=["typed","matrix","equalScalar","divideScalar","DenseMatrix"],o=(0,b.factory)("dotDivide",y,function(f){var x=f.typed,g=f.matrix,D=f.equalScalar,E=f.divideScalar,C=f.DenseMatrix,T=(0,h.createAlgorithm02)({typed:x,equalScalar:D}),O=(0,m.createAlgorithm03)({typed:x}),I=(0,p.createAlgorithm07)({typed:x,DenseMatrix:C}),M=(0,A.createAlgorithm11)({typed:x,equalScalar:D}),F=(0,S.createAlgorithm12)({typed:x,DenseMatrix:C}),B=(0,_.createAlgorithm13)({typed:x}),j=(0,l.createAlgorithm14)({typed:x}),L=x("dotDivide",{"any, any":E,"SparseMatrix, SparseMatrix":function(R,V){return I(R,V,E,!1)},"SparseMatrix, DenseMatrix":function(R,V){return T(V,R,E,!0)},"DenseMatrix, SparseMatrix":function(R,V){return O(R,V,E,!1)},"DenseMatrix, DenseMatrix":function(R,V){return B(R,V,E)},"Array, Array":function(R,V){return L(g(R),g(V)).valueOf()},"Array, Matrix":function(R,V){return L(g(R),V)},"Matrix, Array":function(R,V){return L(R,g(V))},"SparseMatrix, any":function(R,V){return M(R,V,E,!1)},"DenseMatrix, any":function(R,V){return j(R,V,E,!1)},"any, SparseMatrix":function(R,V){return F(V,R,E,!0)},"any, DenseMatrix":function(R,V){return j(V,R,E,!0)},"Array, any":function(R,V){return j(g(R),V,E,!1).valueOf()},"any, Array":function(R,V){return j(g(V),R,E,!0).valueOf()}});return L});r.createDotDivide=o},{"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],700:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDotMultiply=void 0;var b=n("../../utils/factory"),h=n("../../type/matrix/utils/algorithm02"),m=n("../../type/matrix/utils/algorithm09"),p=n("../../type/matrix/utils/algorithm11"),A=n("../../type/matrix/utils/algorithm13"),S=n("../../type/matrix/utils/algorithm14"),_=["typed","matrix","equalScalar","multiplyScalar"],l=(0,b.factory)("dotMultiply",_,function(y){var o=y.typed,f=y.matrix,x=y.equalScalar,g=y.multiplyScalar,D=(0,h.createAlgorithm02)({typed:o,equalScalar:x}),E=(0,m.createAlgorithm09)({typed:o,equalScalar:x}),C=(0,p.createAlgorithm11)({typed:o,equalScalar:x}),T=(0,A.createAlgorithm13)({typed:o}),O=(0,S.createAlgorithm14)({typed:o}),I=o("dotMultiply",{"any, any":g,"SparseMatrix, SparseMatrix":function(M,F){return E(M,F,g,!1)},"SparseMatrix, DenseMatrix":function(M,F){return D(F,M,g,!0)},"DenseMatrix, SparseMatrix":function(M,F){return D(M,F,g,!1)},"DenseMatrix, DenseMatrix":function(M,F){return T(M,F,g)},"Array, Array":function(M,F){return I(f(M),f(F)).valueOf()},"Array, Matrix":function(M,F){return I(f(M),F)},"Matrix, Array":function(M,F){return I(M,f(F))},"SparseMatrix, any":function(M,F){return C(M,F,g,!1)},"DenseMatrix, any":function(M,F){return O(M,F,g,!1)},"any, SparseMatrix":function(M,F){return C(F,M,g,!0)},"any, DenseMatrix":function(M,F){return O(F,M,g,!0)},"Array, any":function(M,F){return O(f(M),F,g,!1).valueOf()},"any, Array":function(M,F){return O(f(F),M,g,!0).valueOf()}});return I});r.createDotMultiply=l},{"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm09":908,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],701:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDotPow=void 0;var b=n("../../utils/factory"),h=n("../../type/matrix/utils/algorithm03"),m=n("../../type/matrix/utils/algorithm07"),p=n("../../type/matrix/utils/algorithm11"),A=n("../../type/matrix/utils/algorithm12"),S=n("../../type/matrix/utils/algorithm13"),_=n("../../type/matrix/utils/algorithm14"),l=["typed","equalScalar","matrix","pow","DenseMatrix"],y=(0,b.factory)("dotPow",l,function(o){var f=o.typed,x=o.equalScalar,g=o.matrix,D=o.pow,E=o.DenseMatrix,C=(0,h.createAlgorithm03)({typed:f}),T=(0,m.createAlgorithm07)({typed:f,DenseMatrix:E}),O=(0,p.createAlgorithm11)({typed:f,equalScalar:x}),I=(0,A.createAlgorithm12)({typed:f,DenseMatrix:E}),M=(0,S.createAlgorithm13)({typed:f}),F=(0,_.createAlgorithm14)({typed:f}),B=f("dotPow",{"any, any":D,"SparseMatrix, SparseMatrix":function(j,L){return T(j,L,D,!1)},"SparseMatrix, DenseMatrix":function(j,L){return C(L,j,D,!0)},"DenseMatrix, SparseMatrix":function(j,L){return C(j,L,D,!1)},"DenseMatrix, DenseMatrix":function(j,L){return M(j,L,D)},"Array, Array":function(j,L){return B(g(j),g(L)).valueOf()},"Array, Matrix":function(j,L){return B(g(j),L)},"Matrix, Array":function(j,L){return B(j,g(L))},"SparseMatrix, any":function(j,L){return O(j,L,B,!1)},"DenseMatrix, any":function(j,L){return F(j,L,B,!1)},"any, SparseMatrix":function(j,L){return I(L,j,B,!0)},"any, DenseMatrix":function(j,L){return F(L,j,B,!0)},"Array, any":function(j,L){return F(g(j),L,B,!1).valueOf()},"any, Array":function(j,L){return F(g(L),j,B,!0).valueOf()}});return B});r.createDotPow=y},{"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],702:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createExp=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed"],A=(0,b.factory)("exp",p,function(S){var _=(0,S.typed)("exp",{number:m.expNumber,Complex:function(l){return l.exp()},BigNumber:function(l){return l.exp()},"Array | Matrix":function(l){return(0,h.deepMap)(l,_)}});return _});r.createExp=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],703:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createExpm1=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","Complex"],A=(0,b.factory)("expm1",p,function(S){var _=S.typed,l=S.Complex,y=_("expm1",{number:m.expm1Number,Complex:function(o){var f=Math.exp(o.re);return new l(f*Math.cos(o.im)-1,f*Math.sin(o.im))},BigNumber:function(o){return o.exp().minus(1)},"Array | Matrix":function(o){return(0,h.deepMap)(o,y)}});return y});r.createExpm1=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],704:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFix=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=["typed","Complex","ceil","floor"],p=(0,b.factory)("fix",m,function(A){var S=A.typed,_=A.Complex,l=A.ceil,y=A.floor,o=S("fix",{number:function(f){return(0<f?y:l)(f)},Complex:function(f){return new _(0<f.re?Math.floor(f.re):Math.ceil(f.re),0<f.im?Math.floor(f.im):Math.ceil(f.im))},BigNumber:function(f){return(f.isNegative()?l:y)(f)},Fraction:function(f){return f.s<0?f.ceil():f.floor()},"Array | Matrix":function(f){return(0,h.deepMap)(f,o,!0)}});return o});r.createFix=p},{"../../utils/collection":927,"../../utils/factory":931}],705:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFloor=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../utils/number"),p=n("../../utils/bignumber/nearlyEqual"),A=["typed","config","round"],S=(0,b.factory)("floor",A,function(_){var l=_.typed,y=_.config,o=_.round,f=l("floor",{number:function(x){return(0,m.nearlyEqual)(x,o(x),y.epsilon)?o(x):Math.floor(x)},Complex:function(x){return x.floor()},BigNumber:function(x){return(0,p.nearlyEqual)(x,o(x),y.epsilon)?o(x):x.floor()},Fraction:function(x){return x.floor()},"Array | Matrix":function(x){return(0,h.deepMap)(x,f,!0)}});return f});r.createFloor=S},{"../../utils/bignumber/nearlyEqual":926,"../../utils/collection":927,"../../utils/factory":931,"../../utils/number":937}],706:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createGcd=void 0;var b=n("../../utils/factory"),h=n("../../type/matrix/utils/algorithm01"),m=n("../../type/matrix/utils/algorithm04"),p=n("../../type/matrix/utils/algorithm10"),A=n("../../type/matrix/utils/algorithm13"),S=n("../../type/matrix/utils/algorithm14"),_=n("../../plain/number"),l=["typed","matrix","equalScalar","BigNumber","DenseMatrix"],y=(0,b.factory)("gcd",l,function(o){var f=o.typed,x=o.matrix,g=o.equalScalar,D=o.BigNumber,E=o.DenseMatrix,C=(0,h.createAlgorithm01)({typed:f}),T=(0,m.createAlgorithm04)({typed:f,equalScalar:g}),O=(0,p.createAlgorithm10)({typed:f,DenseMatrix:E}),I=(0,A.createAlgorithm13)({typed:f}),M=(0,S.createAlgorithm14)({typed:f}),F=f("gcd",{"number, number":_.gcdNumber,"BigNumber, BigNumber":function(B,j){if(!B.isInt()||!j.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var L=new D(0);!j.isZero();){var R=B.mod(j);B=j,j=R}return B.lt(L)?B.neg():B},"Fraction, Fraction":function(B,j){return B.gcd(j)},"SparseMatrix, SparseMatrix":function(B,j){return T(B,j,F)},"SparseMatrix, DenseMatrix":function(B,j){return C(j,B,F,!0)},"DenseMatrix, SparseMatrix":function(B,j){return C(B,j,F,!1)},"DenseMatrix, DenseMatrix":function(B,j){return I(B,j,F)},"Array, Array":function(B,j){return F(x(B),x(j)).valueOf()},"Array, Matrix":function(B,j){return F(x(B),j)},"Matrix, Array":function(B,j){return F(B,x(j))},"SparseMatrix, number | BigNumber":function(B,j){return O(B,j,F,!1)},"DenseMatrix, number | BigNumber":function(B,j){return M(B,j,F,!1)},"number | BigNumber, SparseMatrix":function(B,j){return O(j,B,F,!0)},"number | BigNumber, DenseMatrix":function(B,j){return M(j,B,F,!0)},"Array, number | BigNumber":function(B,j){return M(x(B),j,F,!1).valueOf()},"number | BigNumber, Array":function(B,j){return M(x(j),B,F,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(B,j,L){for(var R=F(B,j),V=0;V<L.length;V++)R=F(R,L[V]);return R}});return F});r.createGcd=y},{"../../plain/number":874,"../../type/matrix/utils/algorithm01":900,"../../type/matrix/utils/algorithm04":903,"../../type/matrix/utils/algorithm10":909,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],707:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHypot=void 0;var b=n("../../utils/factory"),h=n("../../utils/array"),m=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],p=(0,b.factory)("hypot",m,function(A){var S=A.typed,_=A.abs,l=A.addScalar,y=A.divideScalar,o=A.multiplyScalar,f=A.sqrt,x=A.smaller,g=A.isPositive,D=S("hypot",{"... number | BigNumber":function(E){for(var C=0,T=0,O=0;O<E.length;O++){var I=_(E[O]);x(T,I)?(C=o(C,o(y(T,I),y(T,I))),C=l(C,1),T=I):C=l(C,g(I)?o(y(I,T),y(I,T)):I)}return o(T,f(C))},Array:function(E){return D.apply(D,(0,h.flatten)(E))},Matrix:function(E){return D.apply(D,(0,h.flatten)(E.toArray()))}});return D});r.createHypot=p},{"../../utils/array":922,"../../utils/factory":931}],708:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLcm=void 0;var b=n("../../utils/factory"),h=n("../../type/matrix/utils/algorithm02"),m=n("../../type/matrix/utils/algorithm06"),p=n("../../type/matrix/utils/algorithm11"),A=n("../../type/matrix/utils/algorithm13"),S=n("../../type/matrix/utils/algorithm14"),_=n("../../plain/number"),l=["typed","matrix","equalScalar"],y=(0,b.factory)("lcm",l,function(o){var f=o.typed,x=o.matrix,g=o.equalScalar,D=(0,h.createAlgorithm02)({typed:f,equalScalar:g}),E=(0,m.createAlgorithm06)({typed:f,equalScalar:g}),C=(0,p.createAlgorithm11)({typed:f,equalScalar:g}),T=(0,A.createAlgorithm13)({typed:f}),O=(0,S.createAlgorithm14)({typed:f}),I=f("lcm",{"number, number":_.lcmNumber,"BigNumber, BigNumber":function(M,F){if(!M.isInt()||!F.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(M.isZero())return M;if(F.isZero())return F;for(var B=M.times(F);!F.isZero();){var j=F;F=M.mod(j),M=j}return B.div(M).abs()},"Fraction, Fraction":function(M,F){return M.lcm(F)},"SparseMatrix, SparseMatrix":function(M,F){return E(M,F,I)},"SparseMatrix, DenseMatrix":function(M,F){return D(F,M,I,!0)},"DenseMatrix, SparseMatrix":function(M,F){return D(M,F,I,!1)},"DenseMatrix, DenseMatrix":function(M,F){return T(M,F,I)},"Array, Array":function(M,F){return I(x(M),x(F)).valueOf()},"Array, Matrix":function(M,F){return I(x(M),F)},"Matrix, Array":function(M,F){return I(M,x(F))},"SparseMatrix, number | BigNumber":function(M,F){return C(M,F,I,!1)},"DenseMatrix, number | BigNumber":function(M,F){return O(M,F,I,!1)},"number | BigNumber, SparseMatrix":function(M,F){return C(F,M,I,!0)},"number | BigNumber, DenseMatrix":function(M,F){return O(F,M,I,!0)},"Array, number | BigNumber":function(M,F){return O(x(M),F,I,!1).valueOf()},"number | BigNumber, Array":function(M,F){return O(x(F),M,I,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(M,F,B){for(var j=I(M,F),L=0;L<B.length;L++)j=I(j,B[L]);return j}});return I});r.createLcm=y},{"../../plain/number":874,"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm06":905,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],709:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLog=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["config","typed","divideScalar","Complex"],A=(0,b.factory)("log",p,function(S){var _=S.typed,l=S.config,y=S.divideScalar,o=S.Complex,f=_("log",{number:function(x){return 0<=x||l.predictable?(0,m.logNumber)(x):new o(x,0).log()},Complex:function(x){return x.log()},BigNumber:function(x){return!x.isNegative()||l.predictable?x.ln():new o(x.toNumber(),0).log()},"Array | Matrix":function(x){return(0,h.deepMap)(x,f)},"any, any":function(x,g){return y(f(x),f(g))}});return f});r.createLog=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],710:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLog10=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","config","Complex"],A=(0,b.factory)("log10",p,function(S){var _=S.typed,l=S.config,y=S.Complex,o=_("log10",{number:function(f){return 0<=f||l.predictable?(0,m.log10Number)(f):new y(f,0).log().div(Math.LN10)},Complex:function(f){return new y(f).log().div(Math.LN10)},BigNumber:function(f){return!f.isNegative()||l.predictable?f.log():new y(f.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(f){return(0,h.deepMap)(f,o)}});return o});r.createLog10=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],711:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLog1p=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../utils/number"),p=["typed","config","divideScalar","log","Complex"],A=(0,b.factory)("log1p",p,function(S){var _=S.typed,l=S.config,y=S.divideScalar,o=S.log,f=S.Complex,x=_("log1p",{number:function(D){return-1<=D||l.predictable?(0,m.log1p)(D):g(new f(D,0))},Complex:g,BigNumber:function(D){var E=D.plus(1);return!E.isNegative()||l.predictable?E.ln():g(new f(D.toNumber(),0))},"Array | Matrix":function(D){return(0,h.deepMap)(D,x)},"any, any":function(D,E){return y(x(D),o(E))}});function g(D){var E=D.re+1;return new f(Math.log(Math.sqrt(E*E+D.im*D.im)),Math.atan2(D.im,E))}return x});r.createLog1p=A},{"../../utils/collection":927,"../../utils/factory":931,"../../utils/number":937}],712:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLog2=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","config","Complex"],A=(0,b.factory)("log2",p,function(S){var _=S.typed,l=S.config,y=S.Complex,o=_("log2",{number:function(x){return 0<=x||l.predictable?(0,m.log2Number)(x):f(new y(x,0))},Complex:f,BigNumber:function(x){return!x.isNegative()||l.predictable?x.log(2):f(new y(x.toNumber(),0))},"Array | Matrix":function(x){return(0,h.deepMap)(x,o)}});function f(x){var g=Math.sqrt(x.re*x.re+x.im*x.im);return new y(Math.log2?Math.log2(g):Math.log(g)/Math.LN2,Math.atan2(x.im,x.re)/Math.LN2)}return o});r.createLog2=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],713:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMod=void 0;var b=n("../../utils/factory"),h=n("../../type/matrix/utils/algorithm02"),m=n("../../type/matrix/utils/algorithm03"),p=n("../../type/matrix/utils/algorithm05"),A=n("../../type/matrix/utils/algorithm11"),S=n("../../type/matrix/utils/algorithm12"),_=n("../../type/matrix/utils/algorithm13"),l=n("../../type/matrix/utils/algorithm14"),y=n("../../plain/number"),o=["typed","matrix","equalScalar","DenseMatrix"],f=(0,b.factory)("mod",o,function(x){var g=x.typed,D=x.matrix,E=x.equalScalar,C=x.DenseMatrix,T=(0,h.createAlgorithm02)({typed:g,equalScalar:E}),O=(0,m.createAlgorithm03)({typed:g}),I=(0,p.createAlgorithm05)({typed:g,equalScalar:E}),M=(0,A.createAlgorithm11)({typed:g,equalScalar:E}),F=(0,S.createAlgorithm12)({typed:g,DenseMatrix:C}),B=(0,_.createAlgorithm13)({typed:g}),j=(0,l.createAlgorithm14)({typed:g}),L=g("mod",{"number, number":y.modNumber,"BigNumber, BigNumber":function(R,V){return V.isZero()?R:R.mod(V)},"Fraction, Fraction":function(R,V){return R.mod(V)},"SparseMatrix, SparseMatrix":function(R,V){return I(R,V,L,!1)},"SparseMatrix, DenseMatrix":function(R,V){return T(V,R,L,!0)},"DenseMatrix, SparseMatrix":function(R,V){return O(R,V,L,!1)},"DenseMatrix, DenseMatrix":function(R,V){return B(R,V,L)},"Array, Array":function(R,V){return L(D(R),D(V)).valueOf()},"Array, Matrix":function(R,V){return L(D(R),V)},"Matrix, Array":function(R,V){return L(R,D(V))},"SparseMatrix, any":function(R,V){return M(R,V,L,!1)},"DenseMatrix, any":function(R,V){return j(R,V,L,!1)},"any, SparseMatrix":function(R,V){return F(V,R,L,!0)},"any, DenseMatrix":function(R,V){return j(V,R,L,!0)},"Array, any":function(R,V){return j(D(R),V,L,!1).valueOf()},"any, Array":function(R,V){return j(D(V),R,L,!0).valueOf()}});return L});r.createMod=f},{"../../plain/number":874,"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm05":904,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],714:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMultiply=void 0;var b=n("../../utils/factory"),h=n("../../utils/is"),m=n("../../utils/object"),p=n("../../utils/array"),A=n("../../type/matrix/utils/algorithm11"),S=n("../../type/matrix/utils/algorithm14"),_=["typed","matrix","addScalar","multiplyScalar","equalScalar"],l=(0,b.factory)("multiply",_,function(y){var o=y.typed,f=y.matrix,x=y.addScalar,g=y.multiplyScalar,D=y.equalScalar,E=(0,A.createAlgorithm11)({typed:o,equalScalar:D}),C=(0,S.createAlgorithm14)({typed:o}),T=o("multiply",(0,m.extend)({"Array, Array":function(F,B){O((0,p.arraySize)(F),(0,p.arraySize)(B));var j=T(f(F),f(B));return(0,h.isMatrix)(j)?j.valueOf():j},"Matrix, Matrix":function(F,B){var j=F.size(),L=B.size();return O(j,L),j.length===1?L.length===1?function(R,V,k){if(k===0)throw new Error("Cannot multiply two empty vectors");var U,G=R._data,H=R._datatype,X=V._data,Z=V._datatype,J=x,ee=g;H&&Z&&H===Z&&typeof H=="string"&&(U=H,J=o.find(x,[U,U]),ee=o.find(g,[U,U]));for(var $=ee(G[0],X[0]),W=1;W<k;W++)$=J($,ee(G[W],X[W]));return $}(F,B,j[0]):function(R,V){if(V.storage()==="dense")return function(k,U){var G,H=k._data,X=k._size,Z=k._datatype,J=U._data,ee=U._size,$=U._datatype,W=X[0],Q=ee[1],te=x,ce=g;Z&&$&&Z===$&&typeof Z=="string"&&(G=Z,te=o.find(x,[G,G]),ce=o.find(g,[G,G]));for(var oe=[],ue=0;ue<Q;ue++){for(var we=ce(H[0],J[0][ue]),le=1;le<W;le++)we=te(we,ce(H[le],J[le][ue]));oe[ue]=we}return k.createDenseMatrix({data:oe,size:[Q],datatype:G})}(R,V);throw new Error("Support for SparseMatrix not implemented")}(F,B):(L.length===1?I:M)(F,B)},"Matrix, Array":function(F,B){return T(F,f(B))},"Array, Matrix":function(F,B){return T(f(F,B.storage()),B)},"SparseMatrix, any":function(F,B){return E(F,B,g,!1)},"DenseMatrix, any":function(F,B){return C(F,B,g,!1)},"any, SparseMatrix":function(F,B){return E(B,F,g,!0)},"any, DenseMatrix":function(F,B){return C(B,F,g,!0)},"Array, any":function(F,B){return C(f(F),B,g,!1).valueOf()},"any, Array":function(F,B){return C(f(B),F,g,!0).valueOf()},"any, any":g,"any, any, ...any":function(F,B,j){for(var L=T(F,B),R=0;R<j.length;R++)L=T(L,j[R]);return L}},g.signatures));function O(F,B){switch(F.length){case 1:switch(B.length){case 1:if(F[0]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(F[0]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+F[0]+") must match Matrix rows ("+B[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+B.length+" dimensions)")}break;case 2:switch(B.length){case 1:if(F[1]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+F[1]+") must match Vector length ("+B[0]+")");break;case 2:if(F[1]!==B[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+F[1]+") must match Matrix B rows ("+B[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+B.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+F.length+" dimensions)")}}var I=o("_multiplyMatrixVector",{"DenseMatrix, any":function(F,B){var j,L=F._data,R=F._size,V=F._datatype,k=B._data,U=B._datatype,G=R[0],H=R[1],X=x,Z=g;V&&U&&V===U&&typeof V=="string"&&(j=V,X=o.find(x,[j,j]),Z=o.find(g,[j,j]));for(var J=[],ee=0;ee<G;ee++){for(var $=L[ee],W=Z($[0],k[0]),Q=1;Q<H;Q++)W=X(W,Z($[Q],k[Q]));J[ee]=W}return F.createDenseMatrix({data:J,size:[G],datatype:j})},"SparseMatrix, any":function(F,B){var j=F._values,L=F._index,R=F._ptr,V=F._datatype;if(!j)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var k,U=B._data,G=B._datatype,H=F._size[0],X=B._size[0],Z=[],J=[],ee=[],$=x,W=g,Q=D,te=0;V&&G&&V===G&&typeof V=="string"&&(k=V,$=o.find(x,[k,k]),W=o.find(g,[k,k]),Q=o.find(D,[k,k]),te=o.convert(0,k));for(var ce=[],oe=[],ue=ee[0]=0;ue<X;ue++){var we=U[ue];if(!Q(we,te))for(var le=R[ue],fe=R[ue+1],ve=le;ve<fe;ve++){var pe=L[ve];oe[pe]?ce[pe]=$(ce[pe],W(we,j[ve])):(oe[pe]=!0,J.push(pe),ce[pe]=W(we,j[ve]))}}for(var ye=J.length,Ae=0;Ae<ye;Ae++){var be=J[Ae];Z[Ae]=ce[be]}return ee[1]=J.length,F.createSparseMatrix({values:Z,index:J,ptr:ee,size:[H,1],datatype:k})}}),M=o("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(F,B){var j,L=F._data,R=F._size,V=F._datatype,k=B._data,U=B._size,G=B._datatype,H=R[0],X=R[1],Z=U[1],J=x,ee=g;V&&G&&V===G&&typeof V=="string"&&(j=V,J=o.find(x,[j,j]),ee=o.find(g,[j,j]));for(var $=[],W=0;W<H;W++){var Q=L[W];$[W]=[];for(var te=0;te<Z;te++){for(var ce=ee(Q[0],k[0][te]),oe=1;oe<X;oe++)ce=J(ce,ee(Q[oe],k[oe][te]));$[W][te]=ce}}return F.createDenseMatrix({data:$,size:[H,Z],datatype:j})},"DenseMatrix, SparseMatrix":function(F,B){var j=F._data,L=F._size,R=F._datatype,V=B._values,k=B._index,U=B._ptr,G=B._size,H=B._datatype;if(!V)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var X,Z=L[0],J=G[1],ee=x,$=g,W=D,Q=0;R&&H&&R===H&&typeof R=="string"&&(X=R,ee=o.find(x,[X,X]),$=o.find(g,[X,X]),W=o.find(D,[X,X]),Q=o.convert(0,X));for(var te=[],ce=[],oe=[],ue=B.createSparseMatrix({values:te,index:ce,ptr:oe,size:[Z,J],datatype:X}),we=0;we<J;we++){oe[we]=ce.length;var le=U[we],fe=U[we+1];if(le<fe)for(var ve=0,pe=0;pe<Z;pe++){for(var ye=pe+1,Ae=void 0,be=le;be<fe;be++){var ne=k[be];ve!==ye?(Ae=$(j[pe][ne],V[be]),ve=ye):Ae=ee(Ae,$(j[pe][ne],V[be]))}ve!==ye||W(Ae,Q)||(ce.push(pe),te.push(Ae))}}return oe[J]=ce.length,ue},"SparseMatrix, DenseMatrix":function(F,B){var j=F._values,L=F._index,R=F._ptr,V=F._datatype;if(!j)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var k,U=B._data,G=B._datatype,H=F._size[0],X=B._size[0],Z=B._size[1],J=x,ee=g,$=D,W=0;V&&G&&V===G&&typeof V=="string"&&(k=V,J=o.find(x,[k,k]),ee=o.find(g,[k,k]),$=o.find(D,[k,k]),W=o.convert(0,k));for(var Q=[],te=[],ce=[],oe=F.createSparseMatrix({values:Q,index:te,ptr:ce,size:[H,Z],datatype:k}),ue=[],we=[],le=0;le<Z;le++){ce[le]=te.length;for(var fe=le+1,ve=0;ve<X;ve++){var pe=U[ve][le];if(!$(pe,W))for(var ye=R[ve],Ae=R[ve+1],be=ye;be<Ae;be++){var ne=L[be];we[ne]!==fe?(we[ne]=fe,te.push(ne),ue[ne]=ee(pe,j[be])):ue[ne]=J(ue[ne],ee(pe,j[be]))}}for(var re=ce[le],de=te.length,Ce=re;Ce<de;Ce++){var je=te[Ce];Q[Ce]=ue[je]}}return ce[Z]=te.length,oe},"SparseMatrix, SparseMatrix":function(F,B){var j,L=F._values,R=F._index,V=F._ptr,k=F._datatype,U=B._values,G=B._index,H=B._ptr,X=B._datatype,Z=F._size[0],J=B._size[1],ee=L&&U,$=x,W=g;k&&X&&k===X&&typeof k=="string"&&(j=k,$=o.find(x,[j,j]),W=o.find(g,[j,j]));for(var Q,te,ce,oe,ue,we,le,fe,ve=ee?[]:void 0,pe=[],ye=[],Ae=F.createSparseMatrix({values:ve,index:pe,ptr:ye,size:[Z,J],datatype:j}),be=ee?[]:void 0,ne=[],re=0;re<J;re++){ye[re]=pe.length;var de=re+1;for(ue=H[re],we=H[re+1],oe=ue;oe<we;oe++)if(fe=G[oe],ee)for(te=V[fe],ce=V[fe+1],Q=te;Q<ce;Q++)le=R[Q],ne[le]!==de?(ne[le]=de,pe.push(le),be[le]=W(U[oe],L[Q])):be[le]=$(be[le],W(U[oe],L[Q]));else for(te=V[fe],ce=V[fe+1],Q=te;Q<ce;Q++)le=R[Q],ne[le]!==de&&(ne[le]=de,pe.push(le));if(ee)for(var Ce=ye[re],je=pe.length,xe=Ce;xe<je;xe++){var Ie=pe[xe];ve[xe]=be[Ie]}}return ye[J]=pe.length,Ae}});return T});r.createMultiply=l},{"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm14":913,"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938}],715:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMultiplyScalar=void 0;var b=n("../../utils/factory"),h=n("../../plain/number"),m=["typed"],p=(0,b.factory)("multiplyScalar",m,function(A){var S=(0,A.typed)("multiplyScalar",{"number, number":h.multiplyNumber,"Complex, Complex":function(_,l){return _.mul(l)},"BigNumber, BigNumber":function(_,l){return _.times(l)},"Fraction, Fraction":function(_,l){return _.mul(l)},"number | Fraction | BigNumber | Complex, Unit":function(_,l){var y=l.clone();return y.value=y.value===null?y._normalize(_):S(y.value,_),y},"Unit, number | Fraction | BigNumber | Complex":function(_,l){var y=_.clone();return y.value=y.value===null?y._normalize(l):S(y.value,l),y},"Unit, Unit":function(_,l){return _.multiply(l)}});return S});r.createMultiplyScalar=p},{"../../plain/number":874,"../../utils/factory":931}],716:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNorm=void 0;var b=n("../../utils/factory"),h=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix"],m=(0,b.factory)("norm",h,function(p){var A=p.typed,S=p.abs,_=p.add,l=p.pow,y=p.conj,o=p.sqrt,f=p.multiply,x=p.equalScalar,g=p.larger,D=p.smaller,E=p.matrix,C=A("norm",{number:Math.abs,Complex:function(O){return O.abs()},BigNumber:function(O){return O.abs()},boolean:function(O){return Math.abs(O)},Array:function(O){return T(E(O),2)},Matrix:function(O){return T(O,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(O){return C(O)},"Array, number | BigNumber | string":function(O,I){return T(E(O),I)},"Matrix, number | BigNumber | string":T});function T(O,I){var M,F=O.size();if(F.length===1){if(I===Number.POSITIVE_INFINITY||I==="inf"){var B=0;return O.forEach(function(G){var H=S(G);g(H,B)&&(B=H)},!0),B}if(I===Number.NEGATIVE_INFINITY||I==="-inf")return O.forEach(function(G){var H=S(G);M&&!D(H,M)||(M=H)},!0),M||0;if(I==="fro")return T(O,2);if(typeof I!="number"||isNaN(I))throw new Error("Unsupported parameter value");if(x(I,0))return Number.POSITIVE_INFINITY;var j=0;return O.forEach(function(G){j=_(l(S(G),I),j)},!0),l(j,1/I)}if(F.length===2){if(I===1){var L=[],R=0;return O.forEach(function(G,H){var X=H[1],Z=_(L[X]||0,S(G));g(Z,R)&&(R=Z),L[X]=Z},!0),R}if(I===Number.POSITIVE_INFINITY||I==="inf"){var V=[],k=0;return O.forEach(function(G,H){var X=H[0],Z=_(V[X]||0,S(G));g(Z,k)&&(k=Z),V[X]=Z},!0),k}if(I==="fro"){var U=0;return O.forEach(function(G,H){U=_(U,f(G,y(G)))}),S(o(U))}throw I===2?new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition"):new Error("Unsupported parameter value")}}return C});r.createNorm=m},{"../../utils/factory":931}],717:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNthRootNumber=r.createNthRoot=void 0;var b=n("../../utils/factory"),h=n("../../type/matrix/utils/algorithm01"),m=n("../../type/matrix/utils/algorithm02"),p=n("../../type/matrix/utils/algorithm06"),A=n("../../type/matrix/utils/algorithm11"),S=n("../../type/matrix/utils/algorithm13"),_=n("../../type/matrix/utils/algorithm14"),l=n("../../plain/number"),y="nthRoot",o=["typed","matrix","equalScalar","BigNumber"],f=(0,b.factory)(y,o,function(g){var D=g.typed,E=g.matrix,C=g.equalScalar,T=g.BigNumber,O=(0,h.createAlgorithm01)({typed:D}),I=(0,m.createAlgorithm02)({typed:D,equalScalar:C}),M=(0,p.createAlgorithm06)({typed:D,equalScalar:C}),F=(0,A.createAlgorithm11)({typed:D,equalScalar:C}),B=(0,S.createAlgorithm13)({typed:D}),j=(0,_.createAlgorithm14)({typed:D}),L="Complex number not supported in function nthRoot. Use nthRoots instead.",R=D(y,{number:function(k){return(0,l.nthRootNumber)(k,2)},"number, number":l.nthRootNumber,BigNumber:function(k){return V(k,new T(2))},Complex:function(){throw new Error(L)},"Complex, number":function(){throw new Error(L)},"BigNumber, BigNumber":V,"Array | Matrix":function(k){return R(k,2)},"SparseMatrix, SparseMatrix":function(k,U){if(U.density()===1)return M(k,U,R);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(k,U){return I(U,k,R,!0)},"DenseMatrix, SparseMatrix":function(k,U){if(U.density()===1)return O(k,U,R,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(k,U){return B(k,U,R)},"Array, Array":function(k,U){return R(E(k),E(U)).valueOf()},"Array, Matrix":function(k,U){return R(E(k),U)},"Matrix, Array":function(k,U){return R(k,E(U))},"SparseMatrix, number | BigNumber":function(k,U){return F(k,U,R,!1)},"DenseMatrix, number | BigNumber":function(k,U){return j(k,U,R,!1)},"number | BigNumber, SparseMatrix":function(k,U){if(U.density()===1)return F(U,k,R,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(k,U){return j(U,k,R,!0)},"Array, number | BigNumber":function(k,U){return R(E(k),U).valueOf()},"number | BigNumber, Array":function(k,U){return R(k,E(U)).valueOf()}});return R;function V(k,U){var G=T.precision,H=T.clone({precision:G+2}),X=new T(0),Z=new H(1),J=U.isNegative();if(J&&(U=U.neg()),U.isZero())throw new Error("Root must be non-zero");if(k.isNegative()&&!U.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(k.isZero())return J?new H(1/0):0;if(!k.isFinite())return J?X:k;var ee=k.abs().pow(Z.div(U)),ee=k.isNeg()?ee.neg():ee;return new T((J?Z.div(ee):ee).toPrecision(G))}});r.createNthRoot=f;var x=(0,b.factory)(y,["typed"],function(g){return(0,g.typed)(y,{number:l.nthRootNumber,"number, number":l.nthRootNumber})});r.createNthRootNumber=x},{"../../plain/number":874,"../../type/matrix/utils/algorithm01":900,"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm06":905,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],718:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNthRoots=void 0;var b=n("../../utils/factory"),h=["config","typed","divideScalar","Complex"],m=(0,b.factory)("nthRoots",h,function(p){var A=p.typed,S=(p.config,p.divideScalar,p.Complex),_=A("nthRoots",{Complex:function(o){return y(o,2)},"Complex, number":y}),l=[function(o){return new S(o,0)},function(o){return new S(0,o)},function(o){return new S(-o,0)},function(o){return new S(0,-o)}];function y(o,f){if(f<0)throw new Error("Root must be greater than zero");if(f===0)throw new Error("Root must be non-zero");if(f%1!=0)throw new Error("Root must be an integer");if(o===0||o.abs()===0)return[new S(0,0)];var x,g=typeof o=="number";!g&&o.re!==0&&o.im!==0||(x=g?2*(o<0):o.im===0?2*(o.re<0):2*(o.im<0)+1);for(var D=o.arg(),E=o.abs(),C=[],T=Math.pow(E,1/f),O=0;O<f;O++){var I=(x+4*O)/f;I!==Math.round(I)?C.push(new S({r:T,phi:(D+2*Math.PI*O)/f})):C.push(l[I%4](T))}return C}return _});r.createNthRoots=m},{"../../utils/factory":931}],719:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createPow=void 0;var b=n("../../utils/factory"),h=n("../../utils/number"),m=n("../../utils/array"),p=n("../../plain/number"),A=["typed","config","identity","multiply","matrix","fraction","number","Complex"],S=(0,b.factory)("pow",A,function(_){var l=_.typed,y=_.config,o=_.identity,f=_.multiply,x=_.matrix,g=_.number,D=_.fraction,E=_.Complex;return l("pow",{"number, number":C,"Complex, Complex":function(I,M){return I.pow(M)},"BigNumber, BigNumber":function(I,M){return M.isInteger()||0<=I||y.predictable?I.pow(M):new E(I.toNumber(),0).pow(M.toNumber(),0)},"Fraction, Fraction":function(I,M){if(M.d===1)return I.pow(M);if(y.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return C(I.valueOf(),M.valueOf())},"Array, number":T,"Array, BigNumber":function(I,M){return T(I,M.toNumber())},"Matrix, number":O,"Matrix, BigNumber":function(I,M){return O(I,M.toNumber())},"Unit, number | BigNumber":function(I,M){return I.pow(M)}});function C(I,M){if(y.predictable&&!(0,h.isInteger)(M)&&I<0)try{var F=D(M),B=g(F);if((M===B||Math.abs((M-B)/M)<1e-14)&&F.d%2==1)return(F.n%2==0?1:-1)*Math.pow(-I,M)}catch{}return y.predictable&&(I<-1&&M===1/0||-1<I&&I<0&&M===-1/0)?NaN:(0,h.isInteger)(M)||0<=I||y.predictable?(0,p.powNumber)(I,M):I*I<1&&M===1/0||1<I*I&&M===-1/0?0:new E(I,0).pow(M,0)}function T(I,M){if(!(0,h.isInteger)(M)||M<0)throw new TypeError("For A^b, b must be a positive integer (value is "+M+")");var F=(0,m.arraySize)(I);if(F.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+F.length+" dimensions)");if(F[0]!==F[1])throw new Error("For A^b, A must be square (size is "+F[0]+"x"+F[1]+")");for(var B=o(F[0]).valueOf(),j=I;1<=M;)(1&M)==1&&(B=f(j,B)),M>>=1,j=f(j,j);return B}function O(I,M){return x(T(I.valueOf(),M))}});r.createPow=S},{"../../plain/number":874,"../../utils/array":922,"../../utils/factory":931,"../../utils/number":937}],720:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRoundNumber=r.createRound=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../utils/number"),p=n("../../type/matrix/utils/algorithm11"),A=n("../../type/matrix/utils/algorithm12"),S=n("../../type/matrix/utils/algorithm14"),_=n("../../plain/number");function l(E,C){var T,O=Object.keys(E);return Object.getOwnPropertySymbols&&(T=Object.getOwnPropertySymbols(E),C&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(E,I).enumerable})),O.push.apply(O,T)),O}function y(E){for(var C=1;C<arguments.length;C++){var T=arguments[C]!=null?arguments[C]:{};C%2?l(Object(T),!0).forEach(function(O){(function(I,M,F){M in I?Object.defineProperty(I,M,{value:F,enumerable:!0,configurable:!0,writable:!0}):I[M]=F})(E,O,T[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(T)):l(Object(T)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(T,O))})}return E}var o="Number of decimals in function round must be an integer",f=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],x=(0,b.factory)("round",f,function(E){var C=E.typed,T=E.matrix,O=E.equalScalar,I=E.zeros,M=E.BigNumber,F=E.DenseMatrix,B=(0,p.createAlgorithm11)({typed:C,equalScalar:O}),j=(0,A.createAlgorithm12)({typed:C,DenseMatrix:F}),L=(0,S.createAlgorithm14)({typed:C}),R=C("round",y(y({},g),{},{Complex:function(V){return V.round()},"Complex, number":function(V,k){if(k%1)throw new TypeError(o);return V.round(k)},"Complex, BigNumber":function(V,k){if(!k.isInteger())throw new TypeError(o);var U=k.toNumber();return V.round(U)},"number, BigNumber":function(V,k){if(!k.isInteger())throw new TypeError(o);return new M(V).toDecimalPlaces(k.toNumber())},BigNumber:function(V){return V.toDecimalPlaces(0)},"BigNumber, BigNumber":function(V,k){if(!k.isInteger())throw new TypeError(o);return V.toDecimalPlaces(k.toNumber())},Fraction:function(V){return V.round()},"Fraction, number":function(V,k){if(k%1)throw new TypeError(o);return V.round(k)},"Array | Matrix":function(V){return(0,h.deepMap)(V,R,!0)},"SparseMatrix, number | BigNumber":function(V,k){return B(V,k,R,!1)},"DenseMatrix, number | BigNumber":function(V,k){return L(V,k,R,!1)},"number | Complex | BigNumber, SparseMatrix":function(V,k){return O(V,0)?I(k.size(),k.storage()):j(k,V,R,!0)},"number | Complex | BigNumber, DenseMatrix":function(V,k){return O(V,0)?I(k.size(),k.storage()):L(k,V,R,!0)},"Array, number | BigNumber":function(V,k){return L(T(V),k,R,!1).valueOf()},"number | Complex | BigNumber, Array":function(V,k){return L(T(k),V,R,!0).valueOf()}}));return R});r.createRound=x;var g={number:_.roundNumber,"number, number":function(E,C){if(!(0,m.isInteger)(C))throw new TypeError(o);if(C<0||15<C)throw new Error("Number of decimals in function round must be in te range of 0-15");return(0,_.roundNumber)(E,C)}},D=(0,b.factory)("round",["typed"],function(E){return(0,E.typed)("round",g)});r.createRoundNumber=D},{"../../plain/number":874,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm14":913,"../../utils/collection":927,"../../utils/factory":931,"../../utils/number":937}],721:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSign=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","BigNumber","Fraction","complex"],A=(0,b.factory)("sign",p,function(S){var _=S.typed,l=S.BigNumber,y=S.complex,o=S.Fraction,f=_("sign",{number:m.signNumber,Complex:function(x){return x.im===0?y((0,m.signNumber)(x.re)):x.sign()},BigNumber:function(x){return new l(x.cmp(0))},Fraction:function(x){return new o(x.s,1)},"Array | Matrix":function(x){return(0,h.deepMap)(x,f,!0)},Unit:function(x){return f(x.value)}});return f});r.createSign=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],722:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSqrt=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=["config","typed","Complex"],p=(0,b.factory)("sqrt",m,function(A){var S=A.config,_=A.typed,l=A.Complex,y=_("sqrt",{number:o,Complex:function(f){return f.sqrt()},BigNumber:function(f){return!f.isNegative()||S.predictable?f.sqrt():o(f.toNumber())},"Array | Matrix":function(f){return(0,h.deepMap)(f,y,!0)},Unit:function(f){return f.pow(.5)}});function o(f){return isNaN(f)?NaN:0<=f||S.predictable?Math.sqrt(f):new l(f,0).sqrt()}return y});r.createSqrt=p},{"../../utils/collection":927,"../../utils/factory":931}],723:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSquare=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed"],A=(0,b.factory)("square",p,function(S){var _=(0,S.typed)("square",{number:m.squareNumber,Complex:function(l){return l.mul(l)},BigNumber:function(l){return l.times(l)},Fraction:function(l){return l.mul(l)},"Array | Matrix":function(l){return(0,h.deepMap)(l,_,!0)},Unit:function(l){return l.pow(2)}});return _});r.createSquare=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],724:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSubtract=void 0;var b=n("../../utils/factory"),h=n("../../error/DimensionError"),m=n("../../type/matrix/utils/algorithm01"),p=n("../../type/matrix/utils/algorithm03"),A=n("../../type/matrix/utils/algorithm05"),S=n("../../type/matrix/utils/algorithm10"),_=n("../../type/matrix/utils/algorithm13"),l=n("../../type/matrix/utils/algorithm14"),y=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],o=(0,b.factory)("subtract",y,function(x){var g=x.typed,D=x.matrix,E=x.equalScalar,C=x.addScalar,T=x.unaryMinus,O=x.DenseMatrix,I=(0,m.createAlgorithm01)({typed:g}),M=(0,p.createAlgorithm03)({typed:g}),F=(0,A.createAlgorithm05)({typed:g,equalScalar:E}),B=(0,S.createAlgorithm10)({typed:g,DenseMatrix:O}),j=(0,_.createAlgorithm13)({typed:g}),L=(0,l.createAlgorithm14)({typed:g}),R=g("subtract",{"number, number":function(V,k){return V-k},"Complex, Complex":function(V,k){return V.sub(k)},"BigNumber, BigNumber":function(V,k){return V.minus(k)},"Fraction, Fraction":function(V,k){return V.sub(k)},"Unit, Unit":function(V,k){if(V.value===null)throw new Error("Parameter x contains a unit with undefined value");if(k.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!V.equalBase(k))throw new Error("Units do not match");var U=V.clone();return U.value=R(U.value,k.value),U.fixPrefix=!1,U},"SparseMatrix, SparseMatrix":function(V,k){return f(V,k),F(V,k,R)},"SparseMatrix, DenseMatrix":function(V,k){return f(V,k),M(k,V,R,!0)},"DenseMatrix, SparseMatrix":function(V,k){return f(V,k),I(V,k,R,!1)},"DenseMatrix, DenseMatrix":function(V,k){return f(V,k),j(V,k,R)},"Array, Array":function(V,k){return R(D(V),D(k)).valueOf()},"Array, Matrix":function(V,k){return R(D(V),k)},"Matrix, Array":function(V,k){return R(V,D(k))},"SparseMatrix, any":function(V,k){return B(V,T(k),C)},"DenseMatrix, any":function(V,k){return L(V,k,R)},"any, SparseMatrix":function(V,k){return B(k,V,R,!0)},"any, DenseMatrix":function(V,k){return L(k,V,R,!0)},"Array, any":function(V,k){return L(D(V),k,R,!1).valueOf()},"any, Array":function(V,k){return L(D(k),V,R,!0).valueOf()}});return R});function f(x,g){var D=x.size(),E=g.size();if(D.length!==E.length)throw new h.DimensionError(D.length,E.length)}r.createSubtract=o},{"../../error/DimensionError":399,"../../type/matrix/utils/algorithm01":900,"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm05":904,"../../type/matrix/utils/algorithm10":909,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],725:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUnaryMinus=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed"],A=(0,b.factory)("unaryMinus",p,function(S){var _=(0,S.typed)("unaryMinus",{number:m.unaryMinusNumber,Complex:function(l){return l.neg()},BigNumber:function(l){return l.neg()},Fraction:function(l){return l.neg()},Unit:function(l){var y=l.clone();return y.value=_(l.value),y},"Array | Matrix":function(l){return(0,h.deepMap)(l,_,!0)}});return _});r.createUnaryMinus=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],726:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUnaryPlus=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","config","BigNumber"],A=(0,b.factory)("unaryPlus",p,function(S){var _=S.typed,l=S.config,y=S.BigNumber,o=_("unaryPlus",{number:m.unaryPlusNumber,Complex:function(f){return f},BigNumber:function(f){return f},Fraction:function(f){return f},Unit:function(f){return f.clone()},"Array | Matrix":function(f){return(0,h.deepMap)(f,o,!0)},"boolean | string":function(f){return l.number==="BigNumber"?new y(+f):+f}});return o});r.createUnaryPlus=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],727:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createXgcd=void 0;var b=n("../../utils/factory"),h=n("../../plain/number"),m=["typed","config","matrix","BigNumber"],p=(0,b.factory)("xgcd",m,function(A){var S=A.typed,_=A.config,l=A.matrix,y=A.BigNumber;return S("xgcd",{"number, number":function(o,f){var x=(0,h.xgcdNumber)(o,f);return _.matrix==="Array"?x:l(x)},"BigNumber, BigNumber":function(o,f){var x,g,D,E,C=new y(0),T=new y(1),O=C,I=T,M=T,F=C;if(!o.isInt()||!f.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!f.isZero();)g=o.div(f).floor(),D=o.mod(f),x=O,O=I.minus(g.times(O)),I=x,x=M,M=F.minus(g.times(M)),F=x,o=f,f=D;return E=o.lt(C)?[o.neg(),I.neg(),F.neg()]:[o,o.isZero()?0:I,F],_.matrix==="Array"?E:l(E)}})});r.createXgcd=p},{"../../plain/number":874,"../../utils/factory":931}],728:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBitAnd=void 0;var b=n("../../utils/bignumber/bitwise"),h=n("../../type/matrix/utils/algorithm02"),m=n("../../type/matrix/utils/algorithm11"),p=n("../../type/matrix/utils/algorithm13"),A=n("../../type/matrix/utils/algorithm14"),S=n("../../type/matrix/utils/algorithm06"),_=n("../../utils/factory"),l=n("../../plain/number"),y=["typed","matrix","equalScalar"],o=(0,_.factory)("bitAnd",y,function(f){var x=f.typed,g=f.matrix,D=f.equalScalar,E=(0,h.createAlgorithm02)({typed:x,equalScalar:D}),C=(0,S.createAlgorithm06)({typed:x,equalScalar:D}),T=(0,m.createAlgorithm11)({typed:x,equalScalar:D}),O=(0,p.createAlgorithm13)({typed:x}),I=(0,A.createAlgorithm14)({typed:x}),M=x("bitAnd",{"number, number":l.bitAndNumber,"BigNumber, BigNumber":b.bitAndBigNumber,"SparseMatrix, SparseMatrix":function(F,B){return C(F,B,M,!1)},"SparseMatrix, DenseMatrix":function(F,B){return E(B,F,M,!0)},"DenseMatrix, SparseMatrix":function(F,B){return E(F,B,M,!1)},"DenseMatrix, DenseMatrix":function(F,B){return O(F,B,M)},"Array, Array":function(F,B){return M(g(F),g(B)).valueOf()},"Array, Matrix":function(F,B){return M(g(F),B)},"Matrix, Array":function(F,B){return M(F,g(B))},"SparseMatrix, any":function(F,B){return T(F,B,M,!1)},"DenseMatrix, any":function(F,B){return I(F,B,M,!1)},"any, SparseMatrix":function(F,B){return T(B,F,M,!0)},"any, DenseMatrix":function(F,B){return I(B,F,M,!0)},"Array, any":function(F,B){return I(g(F),B,M,!1).valueOf()},"any, Array":function(F,B){return I(g(B),F,M,!0).valueOf()}});return M});r.createBitAnd=o},{"../../plain/number":874,"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm06":905,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/bitwise":923,"../../utils/factory":931}],729:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBitNot=void 0;var b=n("../../utils/bignumber/bitwise"),h=n("../../utils/collection"),m=n("../../utils/factory"),p=n("../../plain/number"),A=["typed"],S=(0,m.factory)("bitNot",A,function(_){var l=(0,_.typed)("bitNot",{number:p.bitNotNumber,BigNumber:b.bitNotBigNumber,"Array | Matrix":function(y){return(0,h.deepMap)(y,l)}});return l});r.createBitNot=S},{"../../plain/number":874,"../../utils/bignumber/bitwise":923,"../../utils/collection":927,"../../utils/factory":931}],730:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBitOr=void 0;var b=n("../../utils/bignumber/bitwise"),h=n("../../utils/factory"),m=n("../../type/matrix/utils/algorithm14"),p=n("../../type/matrix/utils/algorithm13"),A=n("../../type/matrix/utils/algorithm10"),S=n("../../type/matrix/utils/algorithm04"),_=n("../../type/matrix/utils/algorithm01"),l=n("../../plain/number"),y=["typed","matrix","equalScalar","DenseMatrix"],o=(0,h.factory)("bitOr",y,function(f){var x=f.typed,g=f.matrix,D=f.equalScalar,E=f.DenseMatrix,C=(0,_.createAlgorithm01)({typed:x}),T=(0,S.createAlgorithm04)({typed:x,equalScalar:D}),O=(0,A.createAlgorithm10)({typed:x,DenseMatrix:E}),I=(0,p.createAlgorithm13)({typed:x}),M=(0,m.createAlgorithm14)({typed:x}),F=x("bitOr",{"number, number":l.bitOrNumber,"BigNumber, BigNumber":b.bitOrBigNumber,"SparseMatrix, SparseMatrix":function(B,j){return T(B,j,F)},"SparseMatrix, DenseMatrix":function(B,j){return C(j,B,F,!0)},"DenseMatrix, SparseMatrix":function(B,j){return C(B,j,F,!1)},"DenseMatrix, DenseMatrix":function(B,j){return I(B,j,F)},"Array, Array":function(B,j){return F(g(B),g(j)).valueOf()},"Array, Matrix":function(B,j){return F(g(B),j)},"Matrix, Array":function(B,j){return F(B,g(j))},"SparseMatrix, any":function(B,j){return O(B,j,F,!1)},"DenseMatrix, any":function(B,j){return M(B,j,F,!1)},"any, SparseMatrix":function(B,j){return O(j,B,F,!0)},"any, DenseMatrix":function(B,j){return M(j,B,F,!0)},"Array, any":function(B,j){return M(g(B),j,F,!1).valueOf()},"any, Array":function(B,j){return M(g(j),B,F,!0).valueOf()}});return F});r.createBitOr=o},{"../../plain/number":874,"../../type/matrix/utils/algorithm01":900,"../../type/matrix/utils/algorithm04":903,"../../type/matrix/utils/algorithm10":909,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/bitwise":923,"../../utils/factory":931}],731:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBitXor=void 0;var b=n("../../utils/bignumber/bitwise"),h=n("../../type/matrix/utils/algorithm03"),m=n("../../type/matrix/utils/algorithm07"),p=n("../../type/matrix/utils/algorithm12"),A=n("../../type/matrix/utils/algorithm13"),S=n("../../type/matrix/utils/algorithm14"),_=n("../../utils/factory"),l=n("../../plain/number"),y=["typed","matrix","DenseMatrix"],o=(0,_.factory)("bitXor",y,function(f){var x=f.typed,g=f.matrix,D=f.DenseMatrix,E=(0,h.createAlgorithm03)({typed:x}),C=(0,m.createAlgorithm07)({typed:x,DenseMatrix:D}),T=(0,p.createAlgorithm12)({typed:x,DenseMatrix:D}),O=(0,A.createAlgorithm13)({typed:x}),I=(0,S.createAlgorithm14)({typed:x}),M=x("bitXor",{"number, number":l.bitXorNumber,"BigNumber, BigNumber":b.bitXor,"SparseMatrix, SparseMatrix":function(F,B){return C(F,B,M)},"SparseMatrix, DenseMatrix":function(F,B){return E(B,F,M,!0)},"DenseMatrix, SparseMatrix":function(F,B){return E(F,B,M,!1)},"DenseMatrix, DenseMatrix":function(F,B){return O(F,B,M)},"Array, Array":function(F,B){return M(g(F),g(B)).valueOf()},"Array, Matrix":function(F,B){return M(g(F),B)},"Matrix, Array":function(F,B){return M(F,g(B))},"SparseMatrix, any":function(F,B){return T(F,B,M,!1)},"DenseMatrix, any":function(F,B){return I(F,B,M,!1)},"any, SparseMatrix":function(F,B){return T(B,F,M,!0)},"any, DenseMatrix":function(F,B){return I(B,F,M,!0)},"Array, any":function(F,B){return I(g(F),B,M,!1).valueOf()},"any, Array":function(F,B){return I(g(B),F,M,!0).valueOf()}});return M});r.createBitXor=o},{"../../plain/number":874,"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/bitwise":923,"../../utils/factory":931}],732:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLeftShift=void 0;var b=n("../../type/matrix/utils/algorithm02"),h=n("../../type/matrix/utils/algorithm11"),m=n("../../type/matrix/utils/algorithm13"),p=n("../../type/matrix/utils/algorithm14"),A=n("../../type/matrix/utils/algorithm01"),S=n("../../type/matrix/utils/algorithm10"),_=n("../../type/matrix/utils/algorithm08"),l=n("../../utils/factory"),y=n("../../plain/number"),o=n("../../utils/bignumber/bitwise"),f=["typed","matrix","equalScalar","zeros","DenseMatrix"],x=(0,l.factory)("leftShift",f,function(g){var D=g.typed,E=g.matrix,C=g.equalScalar,T=g.zeros,O=g.DenseMatrix,I=(0,A.createAlgorithm01)({typed:D}),M=(0,b.createAlgorithm02)({typed:D,equalScalar:C}),F=(0,_.createAlgorithm08)({typed:D,equalScalar:C}),B=(0,S.createAlgorithm10)({typed:D,DenseMatrix:O}),j=(0,h.createAlgorithm11)({typed:D,equalScalar:C}),L=(0,m.createAlgorithm13)({typed:D}),R=(0,p.createAlgorithm14)({typed:D}),V=D("leftShift",{"number, number":y.leftShiftNumber,"BigNumber, BigNumber":o.leftShiftBigNumber,"SparseMatrix, SparseMatrix":function(k,U){return F(k,U,V,!1)},"SparseMatrix, DenseMatrix":function(k,U){return M(U,k,V,!0)},"DenseMatrix, SparseMatrix":function(k,U){return I(k,U,V,!1)},"DenseMatrix, DenseMatrix":function(k,U){return L(k,U,V)},"Array, Array":function(k,U){return V(E(k),E(U)).valueOf()},"Array, Matrix":function(k,U){return V(E(k),U)},"Matrix, Array":function(k,U){return V(k,E(U))},"SparseMatrix, number | BigNumber":function(k,U){return C(U,0)?k.clone():j(k,U,V,!1)},"DenseMatrix, number | BigNumber":function(k,U){return C(U,0)?k.clone():R(k,U,V,!1)},"number | BigNumber, SparseMatrix":function(k,U){return C(k,0)?T(U.size(),U.storage()):B(U,k,V,!0)},"number | BigNumber, DenseMatrix":function(k,U){return C(k,0)?T(U.size(),U.storage()):R(U,k,V,!0)},"Array, number | BigNumber":function(k,U){return V(E(k),U).valueOf()},"number | BigNumber, Array":function(k,U){return V(k,E(U)).valueOf()}});return V});r.createLeftShift=x},{"../../plain/number":874,"../../type/matrix/utils/algorithm01":900,"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm08":907,"../../type/matrix/utils/algorithm10":909,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/bitwise":923,"../../utils/factory":931}],733:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRightArithShift=void 0;var b=n("../../utils/bignumber/bitwise"),h=n("../../type/matrix/utils/algorithm02"),m=n("../../type/matrix/utils/algorithm11"),p=n("../../type/matrix/utils/algorithm13"),A=n("../../type/matrix/utils/algorithm14"),S=n("../../type/matrix/utils/algorithm01"),_=n("../../type/matrix/utils/algorithm10"),l=n("../../type/matrix/utils/algorithm08"),y=n("../../utils/factory"),o=n("../../plain/number"),f="rightArithShift",x=["typed","matrix","equalScalar","zeros","DenseMatrix"],g=(0,y.factory)(f,x,function(D){var E=D.typed,C=D.matrix,T=D.equalScalar,O=D.zeros,I=D.DenseMatrix,M=(0,S.createAlgorithm01)({typed:E}),F=(0,h.createAlgorithm02)({typed:E,equalScalar:T}),B=(0,l.createAlgorithm08)({typed:E,equalScalar:T}),j=(0,_.createAlgorithm10)({typed:E,DenseMatrix:I}),L=(0,m.createAlgorithm11)({typed:E,equalScalar:T}),R=(0,p.createAlgorithm13)({typed:E}),V=(0,A.createAlgorithm14)({typed:E}),k=E(f,{"number, number":o.rightArithShiftNumber,"BigNumber, BigNumber":b.rightArithShiftBigNumber,"SparseMatrix, SparseMatrix":function(U,G){return B(U,G,k,!1)},"SparseMatrix, DenseMatrix":function(U,G){return F(G,U,k,!0)},"DenseMatrix, SparseMatrix":function(U,G){return M(U,G,k,!1)},"DenseMatrix, DenseMatrix":function(U,G){return R(U,G,k)},"Array, Array":function(U,G){return k(C(U),C(G)).valueOf()},"Array, Matrix":function(U,G){return k(C(U),G)},"Matrix, Array":function(U,G){return k(U,C(G))},"SparseMatrix, number | BigNumber":function(U,G){return T(G,0)?U.clone():L(U,G,k,!1)},"DenseMatrix, number | BigNumber":function(U,G){return T(G,0)?U.clone():V(U,G,k,!1)},"number | BigNumber, SparseMatrix":function(U,G){return T(U,0)?O(G.size(),G.storage()):j(G,U,k,!0)},"number | BigNumber, DenseMatrix":function(U,G){return T(U,0)?O(G.size(),G.storage()):V(G,U,k,!0)},"Array, number | BigNumber":function(U,G){return k(C(U),G).valueOf()},"number | BigNumber, Array":function(U,G){return k(U,C(G)).valueOf()}});return k});r.createRightArithShift=g},{"../../plain/number":874,"../../type/matrix/utils/algorithm01":900,"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm08":907,"../../type/matrix/utils/algorithm10":909,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/bitwise":923,"../../utils/factory":931}],734:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRightLogShift=void 0;var b=n("../../type/matrix/utils/algorithm02"),h=n("../../type/matrix/utils/algorithm11"),m=n("../../type/matrix/utils/algorithm13"),p=n("../../type/matrix/utils/algorithm14"),A=n("../../type/matrix/utils/algorithm01"),S=n("../../type/matrix/utils/algorithm10"),_=n("../../type/matrix/utils/algorithm08"),l=n("../../utils/factory"),y=n("../../plain/number"),o="rightLogShift",f=["typed","matrix","equalScalar","zeros","DenseMatrix"],x=(0,l.factory)(o,f,function(g){var D=g.typed,E=g.matrix,C=g.equalScalar,T=g.zeros,O=g.DenseMatrix,I=(0,A.createAlgorithm01)({typed:D}),M=(0,b.createAlgorithm02)({typed:D,equalScalar:C}),F=(0,_.createAlgorithm08)({typed:D,equalScalar:C}),B=(0,S.createAlgorithm10)({typed:D,DenseMatrix:O}),j=(0,h.createAlgorithm11)({typed:D,equalScalar:C}),L=(0,m.createAlgorithm13)({typed:D}),R=(0,p.createAlgorithm14)({typed:D}),V=D(o,{"number, number":y.rightLogShiftNumber,"SparseMatrix, SparseMatrix":function(k,U){return F(k,U,V,!1)},"SparseMatrix, DenseMatrix":function(k,U){return M(U,k,V,!0)},"DenseMatrix, SparseMatrix":function(k,U){return I(k,U,V,!1)},"DenseMatrix, DenseMatrix":function(k,U){return L(k,U,V)},"Array, Array":function(k,U){return V(E(k),E(U)).valueOf()},"Array, Matrix":function(k,U){return V(E(k),U)},"Matrix, Array":function(k,U){return V(k,E(U))},"SparseMatrix, number | BigNumber":function(k,U){return C(U,0)?k.clone():j(k,U,V,!1)},"DenseMatrix, number | BigNumber":function(k,U){return C(U,0)?k.clone():R(k,U,V,!1)},"number | BigNumber, SparseMatrix":function(k,U){return C(k,0)?T(U.size(),U.storage()):B(U,k,V,!0)},"number | BigNumber, DenseMatrix":function(k,U){return C(k,0)?T(U.size(),U.storage()):R(U,k,V,!0)},"Array, number | BigNumber":function(k,U){return V(E(k),U).valueOf()},"number | BigNumber, Array":function(k,U){return V(k,E(U)).valueOf()}});return V});r.createRightLogShift=x},{"../../plain/number":874,"../../type/matrix/utils/algorithm01":900,"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm08":907,"../../type/matrix/utils/algorithm10":909,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],735:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBellNumbers=void 0;var b=n("../../utils/factory"),h=["typed","addScalar","isNegative","isInteger","stirlingS2"],m=(0,b.factory)("bellNumbers",h,function(p){var A=p.typed,S=p.addScalar,_=p.isNegative,l=p.isInteger,y=p.stirlingS2;return A("bellNumbers",{"number | BigNumber":function(o){if(!l(o)||_(o))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var f=0,x=0;x<=o;x++)f=S(f,y(o,x));return f}})});r.createBellNumbers=m},{"../../utils/factory":931}],736:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCatalan=void 0;var b=n("../../utils/factory"),h=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],m=(0,b.factory)("catalan",h,function(p){var A=p.typed,S=p.addScalar,_=p.divideScalar,l=p.multiplyScalar,y=p.combinations,o=p.isNegative,f=p.isInteger;return A("catalan",{"number | BigNumber":function(x){if(!f(x)||o(x))throw new TypeError("Non-negative integer value expected in function catalan");return _(y(l(x,2),x),S(x,1))}})});r.createCatalan=m},{"../../utils/factory":931}],737:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createComposition=void 0;var b=n("../../utils/factory"),h=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],m=(0,b.factory)("composition",h,function(p){var A=p.typed,S=p.addScalar,_=p.combinations,l=p.isPositive,y=(p.isNegative,p.isInteger),o=p.larger;return A("composition",{"number | BigNumber, number | BigNumber":function(f,x){if(!(y(f)&&l(f)&&y(x)&&l(x)))throw new TypeError("Positive integer value expected in function composition");if(o(x,f))throw new TypeError("k must be less than or equal to n in function composition");return _(S(f,-1),S(x,-1))}})});r.createComposition=m},{"../../utils/factory":931}],738:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createStirlingS2=void 0;var b=n("../../utils/factory"),h=["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","larger"],m=(0,b.factory)("stirlingS2",h,function(p){var A=p.typed,S=p.addScalar,_=p.subtract,l=p.multiplyScalar,y=p.divideScalar,o=p.pow,f=p.factorial,x=p.combinations,g=p.isNegative,D=p.isInteger,E=p.larger;return A("stirlingS2",{"number | BigNumber, number | BigNumber":function(C,T){if(!D(C)||g(C)||!D(T)||g(T))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(E(T,C))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var O=f(T),j=0,I=0;I<=T;I++)var M=o(-1,_(T,I)),F=x(T,I),B=o(I,C),j=S(j,l(l(F,B),M));return y(j,O)}})});r.createStirlingS2=m},{"../../utils/factory":931}],739:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createArg=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=["typed"],p=(0,b.factory)("arg",m,function(A){var S=(0,A.typed)("arg",{number:function(_){return Math.atan2(0,_)},BigNumber:function(_){return _.constructor.atan2(0,_)},Complex:function(_){return _.arg()},"Array | Matrix":function(_){return(0,h.deepMap)(_,S)}});return S});r.createArg=p},{"../../utils/collection":927,"../../utils/factory":931}],740:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createConj=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=["typed"],p=(0,b.factory)("conj",m,function(A){var S=(0,A.typed)("conj",{number:function(_){return _},BigNumber:function(_){return _},Complex:function(_){return _.conjugate()},"Array | Matrix":function(_){return(0,h.deepMap)(_,S)}});return S});r.createConj=p},{"../../utils/collection":927,"../../utils/factory":931}],741:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIm=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=["typed"],p=(0,b.factory)("im",m,function(A){var S=(0,A.typed)("im",{number:function(){return 0},BigNumber:function(_){return _.mul(0)},Complex:function(_){return _.im},"Array | Matrix":function(_){return(0,h.deepMap)(_,S)}});return S});r.createIm=p},{"../../utils/collection":927,"../../utils/factory":931}],742:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRe=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=["typed"],p=(0,b.factory)("re",m,function(A){var S=(0,A.typed)("re",{number:function(_){return _},BigNumber:function(_){return _},Complex:function(_){return _.re},"Array | Matrix":function(_){return(0,h.deepMap)(_,S)}});return S});r.createRe=p},{"../../utils/collection":927,"../../utils/factory":931}],743:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDistance=void 0;var b=n("../../utils/is"),h=n("../../utils/factory"),m=["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],p=(0,h.factory)("distance",m,function(A){var S=A.typed,_=A.addScalar,l=A.subtract,y=A.multiplyScalar,o=A.divideScalar,f=A.unaryMinus,x=A.sqrt,g=A.abs;return S("distance",{"Array, Array, Array":function(j,L,R){if(j.length!==2||L.length!==2||R.length!==2)throw new TypeError("Invalid Arguments: Try again");if(!E(j))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!E(L))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!E(R))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var V=o(l(R[1],R[0]),l(L[1],L[0])),k=y(y(V,V),L[0]),U=f(y(V,L[0])),G=j[1];return M(j[0],j[1],k,U,G)},"Object, Object, Object":function(j,L,R){if(Object.keys(j).length!==2||Object.keys(L).length!==2||Object.keys(R).length!==2)throw new TypeError("Invalid Arguments: Try again");if(!E(j))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!E(L))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!E(R))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in j&&"pointY"in j&&"lineOnePtX"in L&&"lineOnePtY"in L&&"lineTwoPtX"in R&&"lineTwoPtY"in R){var V=o(l(R.lineTwoPtY,R.lineTwoPtX),l(L.lineOnePtY,L.lineOnePtX)),k=y(y(V,V),L.lineOnePtX),U=f(y(V,L.lineOnePtX)),G=j.pointX;return M(j.pointX,j.pointY,k,U,G)}throw new TypeError("Key names do not match")},"Array, Array":function(j,L){if(j.length===2&&L.length===3){if(!E(j))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!C(L))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return M(j[0],j[1],L[0],L[1],L[2])}if(j.length===3&&L.length===6){if(!C(j))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!O(L))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return F(j[0],j[1],j[2],L[0],L[1],L[2],L[3],L[4],L[5])}if(j.length===L.length&&0<j.length){if(!T(j))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!T(L))throw new TypeError("All values of an array should be numbers or BigNumbers");return B(j,L)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(j,L){if(Object.keys(j).length===2&&Object.keys(L).length===3){if(!E(j))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!C(L))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in j&&"pointY"in j&&"xCoeffLine"in L&&"yCoeffLine"in L&&"constant"in L)return M(j.pointX,j.pointY,L.xCoeffLine,L.yCoeffLine,L.constant);throw new TypeError("Key names do not match")}if(Object.keys(j).length===3&&Object.keys(L).length===6){if(!C(j))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!O(L))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in j&&"pointY"in j&&"x0"in L&&"y0"in L&&"z0"in L&&"a"in L&&"b"in L&&"c"in L)return F(j.pointX,j.pointY,j.pointZ,L.x0,L.y0,L.z0,L.a,L.b,L.c);throw new TypeError("Key names do not match")}if(Object.keys(j).length===2&&Object.keys(L).length===2){if(!E(j))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!E(L))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in j&&"pointOneY"in j&&"pointTwoX"in L&&"pointTwoY"in L)return B([j.pointOneX,j.pointOneY],[L.pointTwoX,L.pointTwoY]);throw new TypeError("Key names do not match")}if(Object.keys(j).length!==3||Object.keys(L).length!==3)throw new TypeError("Invalid Arguments: Try again");if(!C(j))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!C(L))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in j&&"pointOneY"in j&&"pointOneZ"in j&&"pointTwoX"in L&&"pointTwoY"in L&&"pointTwoZ"in L)return B([j.pointOneX,j.pointOneY,j.pointOneZ],[L.pointTwoX,L.pointTwoY,L.pointTwoZ]);throw new TypeError("Key names do not match")},Array:function(j){if(!function(L){if(L[0].length===2&&D(L[0][0])&&D(L[0][1])){if(L.some(function(R){return R.length!==2||!D(R[0])||!D(R[1])}))return!1}else if(!(L[0].length===3&&D(L[0][0])&&D(L[0][1])&&D(L[0][2]))||L.some(function(R){return R.length!==3||!D(R[0])||!D(R[1])||!D(R[2])}))return!1;return!0}(j))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(L){for(var R=[],V=[],k=[],U=0;U<L.length-1;U++)for(var G=U+1;G<L.length;G++)L[0].length===2?(V=[L[U][0],L[U][1]],k=[L[G][0],L[G][1]]):L[0].length===3&&(V=[L[U][0],L[U][1],L[U][2]],k=[L[G][0],L[G][1],L[G][2]]),R.push(B(V,k));return R}(j)}});function D(j){return typeof j=="number"||(0,b.isBigNumber)(j)}function E(j){return j.constructor!==Array&&(j=I(j)),D(j[0])&&D(j[1])}function C(j){return j.constructor!==Array&&(j=I(j)),D(j[0])&&D(j[1])&&D(j[2])}function T(j){return Array.isArray(j)||(j=I(j)),j.every(D)}function O(j){return j.constructor!==Array&&(j=I(j)),D(j[0])&&D(j[1])&&D(j[2])&&D(j[3])&&D(j[4])&&D(j[5])}function I(j){for(var L=Object.keys(j),R=[],V=0;V<L.length;V++)R.push(j[L[V]]);return R}function M(j,L,R,V,k){var U=g(_(_(y(R,j),y(V,L)),k)),G=x(_(y(R,R),y(V,V)));return o(U,G)}function F(j,L,R,V,k,U,G,H,X){var Z=[l(y(l(k,L),X),y(l(U,R),H)),l(y(l(U,R),G),y(l(V,j),X)),l(y(l(V,j),H),y(l(k,L),G))],Z=x(_(_(y(Z[0],Z[0]),y(Z[1],Z[1])),y(Z[2],Z[2]))),J=x(_(_(y(G,G),y(H,H)),y(X,X)));return o(Z,J)}function B(j,L){for(var R,V=j.length,k=0,U=0;U<V;U++)R=l(j[U],L[U]),k=_(y(R,R),k);return x(k)}});r.createDistance=p},{"../../utils/factory":931,"../../utils/is":933}],744:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIntersect=void 0;var b=n("../../utils/is"),h=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar"],m=(0,n("../../utils/factory").factory)("intersect",h,function(p){var A=p.typed,S=p.config,_=p.abs,l=p.add,y=p.addScalar,o=p.matrix,f=p.multiply,x=p.multiplyScalar,g=p.divideScalar,D=p.subtract,E=p.smaller,C=p.equalScalar,T=A("intersect",{"Array, Array, Array":function(B,j,L){if(!M(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!M(j))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function(R){return R.length===4&&O(R[0])&&O(R[1])&&O(R[2])&&O(R[3])}(L))throw new TypeError("Array with 4 numbers expected as third argument");return function(R,V,k,U,G,H,X,Z,J,ee){var $=x(R,X),W=x(U,X),Q=x(V,Z),te=x(G,Z),ce=x(k,J),oe=x(H,J),ue=g(D(D(D(ee,$),Q),ce),D(D(D(y(y(W,te),oe),$),Q),ce)),we=y(R,x(ue,D(U,R))),le=y(V,x(ue,D(G,V))),fe=y(k,x(ue,D(H,k)));return[we,le,fe]}(B[0],B[1],B[2],j[0],j[1],j[2],L[0],L[1],L[2],L[3])},"Array, Array, Array, Array":function(B,j,L,R){if(B.length===2){if(!I(B))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!I(j))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!I(L))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!I(R))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(re,de,Ce,je){var xe=re,Ie=Ce,Ne=D(xe,de),Be=D(Ie,je),$e=D(x(Ne[0],Be[1]),x(Be[0],Ne[1]));if(E(_($e),S.epsilon))return null;var Le=x(Be[0],xe[1]),qe=x(Be[1],xe[0]),ze=x(Be[0],Ie[1]),Ee=x(Be[1],Ie[0]),Se=g(y(D(D(Le,qe),ze),Ee),$e);return l(f(Ne,Se),xe)}(B,j,L,R)}if(B.length!==3)throw new TypeError("Arrays with two or thee dimensional points expected");if(!M(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!M(j))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!M(L))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!M(R))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return V=B[0],k=B[1],U=B[2],G=j[0],H=j[1],X=j[2],Z=L[0],J=L[1],ee=L[2],$=R[0],W=R[1],Q=R[2],te=F(V,Z,$,Z,k,J,W,J,U,ee,Q,ee),ce=F($,Z,G,V,W,J,H,k,Q,ee,X,U),oe=F(V,Z,G,V,k,J,H,k,U,ee,X,U),ue=F($,Z,$,Z,W,J,W,J,Q,ee,Q,ee),we=F(G,V,G,V,H,k,H,k,X,U,X,U),le=g(D(x(te,ce),x(oe,ue)),D(x(we,ue),x(ce,ce))),fe=g(y(te,x(le,ce)),ue),ve=y(V,x(le,D(G,V))),pe=y(k,x(le,D(H,k))),ye=y(U,x(le,D(X,U))),Ae=y(Z,x(fe,D($,Z))),be=y(J,x(fe,D(W,J))),ne=y(ee,x(fe,D(Q,ee))),C(ve,Ae)&&C(pe,be)&&C(ye,ne)?[ve,pe,ye]:null;var V,k,U,G,H,X,Z,J,ee,$,W,Q,te,ce,oe,ue,we,le,fe,ve,pe,ye,Ae,be,ne},"Matrix, Matrix, Matrix":function(B,j,L){return o(T(B.valueOf(),j.valueOf(),L.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(B,j,L,R){return o(T(B.valueOf(),j.valueOf(),L.valueOf(),R.valueOf()))}});function O(B){return typeof B=="number"||(0,b.isBigNumber)(B)}function I(B){return B.length===2&&O(B[0])&&O(B[1])}function M(B){return B.length===3&&O(B[0])&&O(B[1])&&O(B[2])}function F(B,j,L,R,V,k,U,G,H,X,Z,J){var ee=x(D(B,j),D(L,R)),$=x(D(V,k),D(U,G)),W=x(D(H,X),D(Z,J));return y(y(ee,$),W)}return T});r.createIntersect=m},{"../../utils/factory":931,"../../utils/is":933}],745:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAnd=void 0;var b=n("../../type/matrix/utils/algorithm02"),h=n("../../type/matrix/utils/algorithm11"),m=n("../../type/matrix/utils/algorithm13"),p=n("../../type/matrix/utils/algorithm14"),A=n("../../type/matrix/utils/algorithm06"),S=n("../../utils/factory"),_=n("../../plain/number"),l=["typed","matrix","equalScalar","zeros","not"],y=(0,S.factory)("and",l,function(o){var f=o.typed,x=o.matrix,g=o.equalScalar,D=o.zeros,E=o.not,C=(0,b.createAlgorithm02)({typed:f,equalScalar:g}),T=(0,A.createAlgorithm06)({typed:f,equalScalar:g}),O=(0,h.createAlgorithm11)({typed:f,equalScalar:g}),I=(0,m.createAlgorithm13)({typed:f}),M=(0,p.createAlgorithm14)({typed:f}),F=f("and",{"number, number":_.andNumber,"Complex, Complex":function(B,j){return!(B.re===0&&B.im===0||j.re===0&&j.im===0)},"BigNumber, BigNumber":function(B,j){return!(B.isZero()||j.isZero()||B.isNaN()||j.isNaN())},"Unit, Unit":function(B,j){return F(B.value||0,j.value||0)},"SparseMatrix, SparseMatrix":function(B,j){return T(B,j,F,!1)},"SparseMatrix, DenseMatrix":function(B,j){return C(j,B,F,!0)},"DenseMatrix, SparseMatrix":function(B,j){return C(B,j,F,!1)},"DenseMatrix, DenseMatrix":function(B,j){return I(B,j,F)},"Array, Array":function(B,j){return F(x(B),x(j)).valueOf()},"Array, Matrix":function(B,j){return F(x(B),j)},"Matrix, Array":function(B,j){return F(B,x(j))},"SparseMatrix, any":function(B,j){return E(j)?D(B.size(),B.storage()):O(B,j,F,!1)},"DenseMatrix, any":function(B,j){return E(j)?D(B.size(),B.storage()):M(B,j,F,!1)},"any, SparseMatrix":function(B,j){return E(B)?D(B.size(),B.storage()):O(j,B,F,!0)},"any, DenseMatrix":function(B,j){return E(B)?D(B.size(),B.storage()):M(j,B,F,!0)},"Array, any":function(B,j){return F(x(B),j).valueOf()},"any, Array":function(B,j){return F(B,x(j)).valueOf()}});return F});r.createAnd=y},{"../../plain/number":874,"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm06":905,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],746:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNot=void 0;var b=n("../../utils/collection"),h=n("../../utils/factory"),m=n("../../plain/number"),p=["typed"],A=(0,h.factory)("not",p,function(S){var _=(0,S.typed)("not",{number:m.notNumber,Complex:function(l){return l.re===0&&l.im===0},BigNumber:function(l){return l.isZero()||l.isNaN()},Unit:function(l){return l.value===null||_(l.value)},"Array | Matrix":function(l){return(0,b.deepMap)(l,_)}});return _});r.createNot=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],747:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createOr=void 0;var b=n("../../type/matrix/utils/algorithm03"),h=n("../../type/matrix/utils/algorithm12"),m=n("../../type/matrix/utils/algorithm13"),p=n("../../type/matrix/utils/algorithm14"),A=n("../../type/matrix/utils/algorithm05"),S=n("../../utils/factory"),_=n("../../plain/number"),l=["typed","matrix","equalScalar","DenseMatrix"],y=(0,S.factory)("or",l,function(o){var f=o.typed,x=o.matrix,g=o.equalScalar,D=o.DenseMatrix,E=(0,b.createAlgorithm03)({typed:f}),C=(0,A.createAlgorithm05)({typed:f,equalScalar:g}),T=(0,h.createAlgorithm12)({typed:f,DenseMatrix:D}),O=(0,m.createAlgorithm13)({typed:f}),I=(0,p.createAlgorithm14)({typed:f}),M=f("or",{"number, number":_.orNumber,"Complex, Complex":function(F,B){return F.re!==0||F.im!==0||B.re!==0||B.im!==0},"BigNumber, BigNumber":function(F,B){return!F.isZero()&&!F.isNaN()||!B.isZero()&&!B.isNaN()},"Unit, Unit":function(F,B){return M(F.value||0,B.value||0)},"SparseMatrix, SparseMatrix":function(F,B){return C(F,B,M)},"SparseMatrix, DenseMatrix":function(F,B){return E(B,F,M,!0)},"DenseMatrix, SparseMatrix":function(F,B){return E(F,B,M,!1)},"DenseMatrix, DenseMatrix":function(F,B){return O(F,B,M)},"Array, Array":function(F,B){return M(x(F),x(B)).valueOf()},"Array, Matrix":function(F,B){return M(x(F),B)},"Matrix, Array":function(F,B){return M(F,x(B))},"SparseMatrix, any":function(F,B){return T(F,B,M,!1)},"DenseMatrix, any":function(F,B){return I(F,B,M,!1)},"any, SparseMatrix":function(F,B){return T(B,F,M,!0)},"any, DenseMatrix":function(F,B){return I(B,F,M,!0)},"Array, any":function(F,B){return I(x(F),B,M,!1).valueOf()},"any, Array":function(F,B){return I(x(B),F,M,!0).valueOf()}});return M});r.createOr=y},{"../../plain/number":874,"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm05":904,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],748:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createXor=void 0;var b=n("../../type/matrix/utils/algorithm03"),h=n("../../type/matrix/utils/algorithm07"),m=n("../../type/matrix/utils/algorithm12"),p=n("../../type/matrix/utils/algorithm13"),A=n("../../type/matrix/utils/algorithm14"),S=n("../../utils/factory"),_=n("../../plain/number"),l=["typed","matrix","DenseMatrix"],y=(0,S.factory)("xor",l,function(o){var f=o.typed,x=o.matrix,g=o.DenseMatrix,D=(0,b.createAlgorithm03)({typed:f}),E=(0,h.createAlgorithm07)({typed:f,DenseMatrix:g}),C=(0,m.createAlgorithm12)({typed:f,DenseMatrix:g}),T=(0,p.createAlgorithm13)({typed:f}),O=(0,A.createAlgorithm14)({typed:f}),I=f("xor",{"number, number":_.xorNumber,"Complex, Complex":function(M,F){return(M.re!==0||M.im!==0)!=(F.re!==0||F.im!==0)},"BigNumber, BigNumber":function(M,F){return(!M.isZero()&&!M.isNaN())!=(!F.isZero()&&!F.isNaN())},"Unit, Unit":function(M,F){return I(M.value||0,F.value||0)},"SparseMatrix, SparseMatrix":function(M,F){return E(M,F,I)},"SparseMatrix, DenseMatrix":function(M,F){return D(F,M,I,!0)},"DenseMatrix, SparseMatrix":function(M,F){return D(M,F,I,!1)},"DenseMatrix, DenseMatrix":function(M,F){return T(M,F,I)},"Array, Array":function(M,F){return I(x(M),x(F)).valueOf()},"Array, Matrix":function(M,F){return I(x(M),F)},"Matrix, Array":function(M,F){return I(M,x(F))},"SparseMatrix, any":function(M,F){return C(M,F,I,!1)},"DenseMatrix, any":function(M,F){return O(M,F,I,!1)},"any, SparseMatrix":function(M,F){return C(F,M,I,!0)},"any, DenseMatrix":function(M,F){return O(F,M,I,!0)},"Array, any":function(M,F){return O(x(M),F,I,!1).valueOf()},"any, Array":function(M,F){return O(x(F),M,I,!0).valueOf()}});return I});r.createXor=y},{"../../plain/number":874,"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],749:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createApply=void 0;var b=n("../../utils/factory"),h=n("../../utils/array"),m=n("../../utils/is"),p=n("../../error/IndexError"),A=["typed","isInteger"],S=(0,b.factory)("apply",A,function(l){var y=l.typed,o=l.isInteger;return y("apply",{"Array | Matrix, number | BigNumber, function":function(f,x,g){if(!o(x))throw new TypeError("Integer number expected for dimension");var D=Array.isArray(f)?(0,h.arraySize)(f):f.size();if(x<0||x>=D.length)throw new p.IndexError(x,D.length);return(0,m.isMatrix)(f)?f.create(_(f.valueOf(),x,g)):_(f,x,g)}})});function _(l,y,o){var f,x,g;if(y<=0){if(Array.isArray(l[0])){for(g=function(D){var E,C,T=D.length,O=D[0].length,I=[];for(C=0;C<O;C++){var M=[];for(E=0;E<T;E++)M.push(D[E][C]);I.push(M)}return I}(l),x=[],f=0;f<g.length;f++)x[f]=_(g[f],y-1,o);return x}return o(l)}for(x=[],f=0;f<l.length;f++)x[f]=_(l[f],y-1,o);return x}r.createApply=S},{"../../error/IndexError":400,"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933}],750:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createColumn=void 0;var b=n("../../utils/factory"),h=n("../../utils/object"),m=n("../../utils/array"),p=["typed","Index","matrix","range"],A=(0,b.factory)("column",p,function(S){var _=S.typed,l=S.Index,y=S.matrix,o=S.range;return _("column",{"Matrix, number":f,"Array, number":function(x,g){return f(y((0,h.clone)(x)),g).valueOf()}});function f(x,g){if(x.size().length!==2)throw new Error("Only two dimensional matrix is supported");(0,m.validateIndex)(g,x.size()[1]);var D=o(0,x.size()[0]),E=new l(D,g);return x.subset(E)}});r.createColumn=A},{"../../utils/array":922,"../../utils/factory":931,"../../utils/object":938}],751:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createConcat=void 0;var b=n("../../utils/is"),h=n("../../utils/object"),m=n("../../utils/array"),p=n("../../error/IndexError"),A=n("../../error/DimensionError"),S=n("../../utils/factory"),_=["typed","matrix","isInteger"],l=(0,S.factory)("concat",_,function(y){var o=y.typed,f=y.matrix,x=y.isInteger;return o("concat",{"...Array | Matrix | number | BigNumber":function(g){for(var D,E=g.length,C=-1,T=!1,O=[],I=0;I<E;I++){var M=g[I];if((0,b.isMatrix)(M)&&(T=!0),(0,b.isNumber)(M)||(0,b.isBigNumber)(M)){if(I!==E-1)throw new Error("Dimension must be specified as last argument");if(D=C,C=M.valueOf(),!x(C))throw new TypeError("Integer number expected for dimension");if(C<0||0<I&&D<C)throw new p.IndexError(C,D+1)}else{var F=(0,h.clone)(M).valueOf(),B=(0,m.arraySize)(F);if(O[I]=F,D=C,C=B.length-1,0<I&&C!==D)throw new A.DimensionError(D+1,C+1)}}if(O.length===0)throw new SyntaxError("At least one matrix expected");for(var j=O.shift();O.length;)j=function L(R,V,k,U){{if(U<k){if(R.length!==V.length)throw new A.DimensionError(R.length,V.length);for(var G=[],H=0;H<R.length;H++)G[H]=L(R[H],V[H],k,U+1);return G}return R.concat(V)}}(j,O.shift(),C,0);return T?f(j):j},"...string":function(g){return g.join("")}})});r.createConcat=l},{"../../error/DimensionError":399,"../../error/IndexError":400,"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938}],752:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCross=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m=["typed","matrix","subtract","multiply"],p=(0,h.factory)("cross",m,function(A){var S=A.typed,_=A.matrix,l=A.subtract,y=A.multiply;return S("cross",{"Matrix, Matrix":function(f,x){return _(o(f.toArray(),x.toArray()))},"Matrix, Array":function(f,x){return _(o(f.toArray(),x))},"Array, Matrix":function(f,x){return _(o(f,x.toArray()))},"Array, Array":o});function o(f,x){var g=Math.max((0,b.arraySize)(f).length,(0,b.arraySize)(x).length);f=(0,b.squeeze)(f),x=(0,b.squeeze)(x);var D=(0,b.arraySize)(f),E=(0,b.arraySize)(x);if(D.length!==1||E.length!==1||D[0]!==3||E[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+D.join(", ")+"], B = ["+E.join(", ")+"])");var C=[l(y(f[1],x[2]),y(f[2],x[1])),l(y(f[2],x[0]),y(f[0],x[2])),l(y(f[0],x[1]),y(f[1],x[0]))];return 1<g?[C]:C}});r.createCross=p},{"../../utils/array":922,"../../utils/factory":931}],753:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCtranspose=void 0;var b=n("../../utils/factory"),h=["typed","transpose","conj"],m=(0,b.factory)("ctranspose",h,function(p){var A=p.typed,S=p.transpose,_=p.conj;return A("ctranspose",{any:function(l){return _(S(l))}})});r.createCtranspose=m},{"../../utils/factory":931}],754:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDet=void 0;var b=n("../../utils/is"),h=n("../../utils/object"),m=n("../../utils/string"),p=n("../../utils/factory"),A=["typed","matrix","subtract","multiply","unaryMinus","lup"],S=(0,p.factory)("det",A,function(_){var l=_.typed,y=_.matrix,o=_.subtract,f=_.multiply,x=_.unaryMinus,g=_.lup;return l("det",{any:function(D){return(0,h.clone)(D)},"Array | Matrix":function(D){var E=(0,b.isMatrix)(D)?D.size():Array.isArray(D)?(D=y(D)).size():[];switch(E.length){case 0:return(0,h.clone)(D);case 1:if(E[0]===1)return(0,h.clone)(D.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+(0,m.format)(E)+")");case 2:var C=E[0];if(C===E[1])return function(T,O){{if(O===1)return(0,h.clone)(T[0][0]);if(O===2)return o(f(T[0][0],T[1][1]),f(T[1][0],T[0][1]));for(var I=g(T),M=I.U[0][0],F=1;F<O;F++)M=f(M,I.U[F][F]);for(var B=0,j=0,L=[];;){for(;L[j];)j++;if(O<=j)break;for(var R=j,V=0;!L[I.p[R]];)L[I.p[R]]=!0,R=I.p[R],V++;V%2==0&&B++}return B%2==0?M:x(M)}}(D.clone().valueOf(),C);throw new RangeError("Matrix must be square (size: "+(0,m.format)(E)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+(0,m.format)(E)+")")}}})});r.createDet=S},{"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938,"../../utils/string":941}],755:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDiag=void 0;var b=n("../../utils/is"),h=n("../../utils/array"),m=n("../../utils/number"),p=n("../../utils/factory"),A=["typed","matrix","DenseMatrix","SparseMatrix"],S=(0,p.factory)("diag",A,function(_){var l=_.typed,y=_.matrix,o=_.DenseMatrix,f=_.SparseMatrix;return l("diag",{Array:function(g){return x(g,0,(0,h.arraySize)(g),null)},"Array, number":function(g,D){return x(g,D,(0,h.arraySize)(g),null)},"Array, BigNumber":function(g,D){return x(g,D.toNumber(),(0,h.arraySize)(g),null)},"Array, string":function(g,D){return x(g,0,(0,h.arraySize)(g),D)},"Array, number, string":function(g,D,E){return x(g,D,(0,h.arraySize)(g),E)},"Array, BigNumber, string":function(g,D,E){return x(g,D.toNumber(),(0,h.arraySize)(g),E)},Matrix:function(g){return x(g,0,g.size(),g.storage())},"Matrix, number":function(g,D){return x(g,D,g.size(),g.storage())},"Matrix, BigNumber":function(g,D){return x(g,D.toNumber(),g.size(),g.storage())},"Matrix, string":function(g,D){return x(g,0,g.size(),D)},"Matrix, number, string":function(g,D,E){return x(g,D,g.size(),E)},"Matrix, BigNumber, string":function(g,D,E){return x(g,D.toNumber(),g.size(),E)}});function x(g,D,E,C){if(!(0,m.isInteger)(D))throw new TypeError("Second parameter in function diag must be an integer");var T=0<D?D:0,O=D<0?-D:0;switch(E.length){case 1:return function(I,M,F,B,j,L){var R=[B+j,B+L];if(F&&F!=="sparse"&&F!=="dense")throw new TypeError("Unknown matrix type ".concat(F,'"'));var V=F==="sparse"?f.diagonal(R,I,M):o.diagonal(R,I,M);return F!==null?V:V.valueOf()}(g,D,C,E[0],O,T);case 2:return function(I,M,F,B,j,L){if((0,b.isMatrix)(I)){var R=I.diagonal(M);return F!==null?F!==R.storage()?y(R,F):R:R.valueOf()}for(var V=Math.min(B[0]-j,B[1]-L),k=[],U=0;U<V;U++)k[U]=I[U+j][U+L];return F!==null?y(k):k}(g,D,C,E,O,T)}throw new RangeError("Matrix for function diag must be 2 dimensional")}});r.createDiag=S},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937}],756:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDot=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m=["typed","add","multiply"],p=(0,h.factory)("dot",m,function(A){var S=A.typed,_=A.add,l=A.multiply;return S("dot",{"Matrix, Matrix":function(o,f){return y(o.toArray(),f.toArray())},"Matrix, Array":function(o,f){return y(o.toArray(),f)},"Array, Matrix":function(o,f){return y(o,f.toArray())},"Array, Array":y});function y(o,f){var x=(0,b.arraySize)(o),g=(0,b.arraySize)(f),D=x[0];if(x.length!==1||g.length!==1)throw new RangeError("Vector expected");if(x[0]!==g[0])throw new RangeError("Vectors must have equal length ("+x[0]+" != "+g[0]+")");if(D===0)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var E=0,C=0;C<D;C++)E=_(E,l(o[C],f[C]));return E}});r.createDot=p},{"../../utils/array":922,"../../utils/factory":931}],757:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createEigs=void 0;var b=n("../../utils/object"),h=n("../../utils/factory"),m=n("../../utils/string"),p=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","inv","bignumber","multiply","add"],A=(0,h.factory)("eigs",p,function(S){var _=S.config,l=S.typed,y=S.matrix,o=S.addScalar,f=S.subtract,x=S.equal,g=S.abs,D=S.atan,E=S.cos,C=S.sin,T=S.multiplyScalar,O=S.inv,I=S.bignumber,M=S.multiply,F=S.add;function B(U,G){var H=U.datatype();if(H===void 0&&(H=U.getDataType()),H!=="number"&&H!=="BigNumber"&&H!=="Fraction")throw H==="mixed"?new TypeError("Mixed matrix element type is not supported"):new TypeError("Matrix element type not supported ("+H+")");if(function(ee,$){for(var W=0;W<$;W++)for(var Q=W;Q<$;Q++)if(!x(ee[W][Q],ee[Q][W]))throw new TypeError("Input matrix is not symmetric")}(U.toArray(),G),H==="number")return j(U.toArray());if(H!=="Fraction")return H==="BigNumber"?function(ee){for(var $,W=ee.length,Q=g(_.epsilon/W),te=new Array(W),ce=0;ce<W;ce++)te[ce]=k(W,0),te[ce][ce]=1;for(var oe=R(ee);g(oe[1])>=g(Q);){var ue=oe[0][0],we=oe[0][1];$=function(ve,pe,ye){var Ae=f(pe,ve);return g(Ae)<=_.epsilon?I(-1).acos().div(4):T(.5,D(M(2,ye,O(Ae))))}(ee[ue][ue],ee[we][we],ee[ue][we]),ee=function(ve,pe,ye,Ae){for(var be=ve.length,ne=I(E(pe)),re=I(C(pe)),de=T(ne,ne),Ce=T(re,re),je=k(be,I(0)),xe=k(be,I(0)),Ie=M(I(2),ne,re,ve[ye][Ae]),Ne=o(f(T(de,ve[ye][ye]),Ie),T(Ce,ve[Ae][Ae])),Be=F(T(Ce,ve[ye][ye]),Ie,T(de,ve[Ae][Ae])),$e=0;$e<be;$e++)je[$e]=f(T(ne,ve[ye][$e]),T(re,ve[Ae][$e])),xe[$e]=o(T(re,ve[ye][$e]),T(ne,ve[Ae][$e]));ve[ye][ye]=Ne,ve[Ae][Ae]=Be,ve[ye][Ae]=I(0),ve[Ae][ye]=I(0);for(var Le=0;Le<be;Le++)Le!==ye&&Le!==Ae&&(ve[ye][Le]=je[Le],ve[Le][ye]=je[Le],ve[Ae][Le]=xe[Le],ve[Le][Ae]=xe[Le]);return ve}(ee,$,ue,we),te=function(ve,pe,ye,Ae){for(var be=ve.length,ne=E(pe),re=C(pe),de=k(be,I(0)),Ce=k(be,I(0)),je=0;je<be;je++)de[je]=f(T(ne,ve[je][ye]),T(re,ve[je][Ae])),Ce[je]=o(T(re,ve[je][ye]),T(ne,ve[je][Ae]));for(var xe=0;xe<be;xe++)ve[xe][ye]=de[xe],ve[xe][Ae]=Ce[xe];return ve}(te,$,ue,we),oe=R(ee)}for(var le=k(W,0),fe=0;fe<W;fe++)le[fe]=ee[fe][fe];return V((0,b.clone)(le),(0,b.clone)(te))}(U.toArray()):void 0;for(var X=U.toArray(),Z=0;Z<G;Z++)for(var J=Z;J<G;J++)X[Z][J]=X[Z][J].valueOf(),X[J][Z]=X[Z][J];return j(U.toArray())}function j(U){for(var G,H=U.length,X=Math.abs(_.epsilon/H),Z=new Array(H),J=0;J<H;J++)Z[J]=k(H,0),Z[J][J]=1;for(var ee,$,W,Q,te=L(U);Math.abs(te[1])>=Math.abs(X);){var ce=te[0][0],oe=te[0][1];ee=U[ce][ce],$=U[oe][oe],W=U[ce][oe],Q=void 0,Q=$-ee,U=function(le,fe,ve,pe){for(var ye=le.length,Ae=Math.cos(fe),be=Math.sin(fe),ne=Ae*Ae,re=be*be,de=k(ye,0),Ce=k(ye,0),je=ne*le[ve][ve]-2*Ae*be*le[ve][pe]+re*le[pe][pe],xe=re*le[ve][ve]+2*Ae*be*le[ve][pe]+ne*le[pe][pe],Ie=0;Ie<ye;Ie++)de[Ie]=Ae*le[ve][Ie]-be*le[pe][Ie],Ce[Ie]=be*le[ve][Ie]+Ae*le[pe][Ie];le[ve][ve]=je,le[pe][pe]=xe,le[ve][pe]=0;for(var Ne=le[pe][ve]=0;Ne<ye;Ne++)Ne!==ve&&Ne!==pe&&(le[ve][Ne]=de[Ne],le[Ne][ve]=de[Ne],le[pe][Ne]=Ce[Ne],le[Ne][pe]=Ce[Ne]);return le}(U,G=Math.abs(Q)<=_.epsilon?Math.PI/4:.5*Math.atan(2*W/($-ee)),ce,oe),Z=function(le,fe,ve,pe){for(var ye=le.length,Ae=Math.cos(fe),be=Math.sin(fe),ne=k(ye,0),re=k(ye,0),de=0;de<ye;de++)ne[de]=Ae*le[de][ve]-be*le[de][pe],re[de]=be*le[de][ve]+Ae*le[de][pe];for(var Ce=0;Ce<ye;Ce++)le[Ce][ve]=ne[Ce],le[Ce][pe]=re[Ce];return le}(Z,G,ce,oe),te=L(U)}for(var ue=k(H,0),we=0;we<H;we++)ue[we]=U[we][we];return V((0,b.clone)(ue),(0,b.clone)(Z))}function L(U){for(var G=U.length,H=0,X=[0,1],Z=0;Z<G;Z++)for(var J=Z+1;J<G;J++)Math.abs(H)<Math.abs(U[Z][J])&&(H=Math.abs(U[Z][J]),X=[Z,J]);return[X,H]}function R(U){for(var G=U.length,H=0,X=[0,1],Z=0;Z<G;Z++)for(var J=Z+1;J<G;J++)g(H)<g(U[Z][J])&&(H=g(U[Z][J]),X=[Z,J]);return[X,H]}function V(U,G){for(var H=U.length,X=Array(H),Z=Array(H),J=0;J<H;J++)Z[J]=Array(H);for(var ee=0;ee<H;ee++){for(var $=0,W=U[0],Q=0;Q<U.length;Q++)U[Q]<W&&(W=U[$=Q]);X[ee]=U.splice($,1)[0];for(var te=0;te<H;te++)Z[te][ee]=G[te][$],G[te].splice($,1)}return[(0,b.clone)(X),(0,b.clone)(Z)]}function k(U,G){for(var H=new Array(U),X=0;X<U;X++)H[X]=G;return H}return l("eigs",{Array:function(U){var G=y(U),H=G.size();if(H.length!==2||H[0]!==H[1])throw new RangeError("Matrix must be square (size: "+(0,m.format)(H)+")");var X=B(G,H[0]);return{values:X[0],vectors:X[1]}},Matrix:function(U){var G=U.size();if(G.length!==2||G[0]!==G[1])throw new RangeError("Matrix must be square (size: "+(0,m.format)(G)+")");var H=B(U,G[0]);return{values:y(H[0]),vectors:y(H[1])}}})});r.createEigs=A},{"../../utils/factory":931,"../../utils/object":938,"../../utils/string":941}],758:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createExpm=void 0;var b=n("../../utils/is"),h=n("../../utils/string"),m=n("../../utils/factory"),p=["typed","abs","add","identity","inv","multiply"],A=(0,m.factory)("expm",p,function(S){var _=S.typed,l=S.abs,y=S.add,o=S.identity,f=S.inv,x=S.multiply;return _("expm",{Matrix:function(g){var D=g.size();if(D.length!==2||D[0]!==D[1])throw new RangeError("Matrix must be square (size: "+(0,h.format)(D)+")");for(var E=D[0],C=function(U,G){for(var H=0;H<30;H++)for(var X=0;X<=H;X++){var Z=H-X;if(function(J,ee,$){for(var W=1,Q=2;Q<=ee;Q++)W*=Q;for(var te=W,ce=ee+1;ce<=2*ee;ce++)te*=ce;var oe=te*(2*ee+1);return 8*Math.pow(J/Math.pow(2,$),2*ee)*W*W/(te*oe)}(U,X,Z)<G)return{q:X,j:Z}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(function(U){for(var G=U.size()[0],H=0,X=0;X<G;X++){for(var Z=0,J=0;J<G;J++)Z+=l(U.get([X,J]));H=Math.max(Z,H)}return H}(g),1e-15),T=C.q,O=C.j,I=x(g,Math.pow(2,-O)),M=o(E),F=o(E),B=1,j=I,L=-1,R=1;R<=T;R++)1<R&&(j=x(j,I),L=-L),M=y(M,x(B=B*(T-R+1)/((2*T-R+1)*R),j)),F=y(F,x(B*L,j));for(var V=x(f(F),M),k=0;k<O;k++)V=x(V,V);return(0,b.isSparseMatrix)(g)?g.createSparseMatrix(V):V}})});r.createExpm=A},{"../../utils/factory":931,"../../utils/is":933,"../../utils/string":941}],759:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var b=(r.createEye=void 0,n("../../utils/factory").factory)("eye",[],function(){return function(){throw new Error('Function "eye" is renamed to "identity" since mathjs version 5.0.0. To keep eye working, create an alias for it using "math.import({eye: math.identity}, {override: true})"')}});r.createEye=b},{"../../utils/factory":931}],760:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFilter=void 0;var b=n("../../utils/array"),h=n("../../utils/function"),m=["typed"],p=(0,n("../../utils/factory").factory)("filter",m,function(S){return(0,S.typed)("filter",{"Array, function":A,"Matrix, function":function(_,l){return _.create(A(_.toArray(),l))},"Array, RegExp":b.filterRegExp,"Matrix, RegExp":function(_,l){return _.create((0,b.filterRegExp)(_.toArray(),l))}})});function A(S,_){var l=(0,h.maxArgumentCount)(_);return(0,b.filter)(S,function(y,o,f){return l===1?_(y):l===2?_(y,[o]):_(y,[o],f)})}r.createFilter=p},{"../../utils/array":922,"../../utils/factory":931,"../../utils/function":932}],761:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFlatten=void 0;var b=n("../../utils/object"),h=n("../../utils/array"),m=n("../../utils/factory"),p=["typed","matrix"],A=(0,m.factory)("flatten",p,function(S){var _=S.typed,l=S.matrix;return _("flatten",{Array:function(y){return(0,h.flatten)((0,b.clone)(y))},Matrix:function(y){var o=(0,h.flatten)((0,b.clone)(y.toArray()));return l(o)}})});r.createFlatten=A},{"../../utils/array":922,"../../utils/factory":931,"../../utils/object":938}],762:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createForEach=void 0;var b=n("../../utils/function"),h=n("../../utils/array"),m=n("../../utils/factory"),p=["typed"],A=(0,m.factory)("forEach",p,function(_){return(0,_.typed)("forEach",{"Array, function":S,"Matrix, function":function(l,y){return l.forEach(y)}})});function S(_,l){var y=(0,b.maxArgumentCount)(l);(function o(f,x){Array.isArray(f)?(0,h.forEach)(f,function(g,D){o(g,x.concat(D))}):y===1?l(f):y===2?l(f,x):l(f,x,_)})(_,[])}r.createForEach=A},{"../../utils/array":922,"../../utils/factory":931,"../../utils/function":932}],763:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createGetMatrixDataType=void 0;var b=n("../../utils/factory"),h=n("../../utils/array"),m=n("../../utils/is"),p="getMatrixDataType",A=["typed"],S=(0,b.factory)(p,A,function(_){return(0,_.typed)(p,{Array:function(l){return(0,h.getArrayDataType)(l,m.typeOf)},Matrix:function(l){return l.getDataType()}})});r.createGetMatrixDataType=S},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933}],764:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIdentity=void 0;var b=n("../../utils/is"),h=n("../../utils/array"),m=n("../../utils/number"),p=n("../../utils/factory"),A=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],S=(0,p.factory)("identity",A,function(_){var l=_.typed,y=_.config,o=_.matrix,f=_.BigNumber,x=_.DenseMatrix,g=_.SparseMatrix;return l("identity",{"":function(){return y.matrix==="Matrix"?o([]):[]},string:function(C){return o(C)},"number | BigNumber":function(C){return E(C,C,y.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(C,T){return E(C,C,T)},"number | BigNumber, number | BigNumber":function(C,T){return E(C,T,y.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":E,Array:function(C){return D(C)},"Array, string":D,Matrix:function(C){return D(C.valueOf(),C.storage())},"Matrix, string":function(C,T){return D(C.valueOf(),T)}});function D(C,T){switch(C.length){case 0:return T?o(T):[];case 1:return E(C[0],C[0],T);case 2:return E(C[0],C[1],T);default:throw new Error("Vector containing two values expected")}}function E(C,T,O){var I=(0,b.isBigNumber)(C)||(0,b.isBigNumber)(T)?f:null;if((0,b.isBigNumber)(C)&&(C=C.toNumber()),(0,b.isBigNumber)(T)&&(T=T.toNumber()),!(0,m.isInteger)(C)||C<1)throw new Error("Parameters in function identity must be positive integers");if(!(0,m.isInteger)(T)||T<1)throw new Error("Parameters in function identity must be positive integers");var M=I?new f(1):1,F=I?new I(0):0,B=[C,T];if(O){if(O==="sparse")return g.diagonal(B,M,0,F);if(O==="dense")return x.diagonal(B,M,0,F);throw new TypeError('Unknown matrix type "'.concat(O,'"'))}for(var j=(0,h.resize)([],B,F),L=C<T?C:T,R=0;R<L;R++)j[R][R]=M;return j}});r.createIdentity=S},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937}],765:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createInv=void 0;var b=n("../../utils/is"),h=n("../../utils/array"),m=n("../../utils/factory"),p=n("../../utils/string"),A=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],S=(0,m.factory)("inv",A,function(_){var l=_.typed,y=_.matrix,o=_.divideScalar,f=_.addScalar,x=_.multiply,g=_.unaryMinus,D=_.det,E=_.identity,C=_.abs;return l("inv",{"Array | Matrix":function(O){var I=(0,b.isMatrix)(O)?O.size():(0,h.arraySize)(O);switch(I.length){case 1:if(I[0]===1)return(0,b.isMatrix)(O)?y([o(1,O.valueOf()[0])]):[o(1,O[0])];throw new RangeError("Matrix must be square (size: "+(0,p.format)(I)+")");case 2:var M=I[0],F=I[1];if(M===F)return(0,b.isMatrix)(O)?y(T(O.valueOf(),M,F),O.storage()):T(O,M,F);throw new RangeError("Matrix must be square (size: "+(0,p.format)(I)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+(0,p.format)(I)+")")}},any:function(O){return o(1,O)}});function T(O,I,M){var F,B,j,L;if(I===1){if((j=O[0][0])===0)throw Error("Cannot calculate inverse, determinant is zero");return[[o(1,j)]]}if(I===2){var R=D(O);if(R===0)throw Error("Cannot calculate inverse, determinant is zero");return[[o(O[1][1],R),o(g(O[0][1]),R)],[o(g(O[1][0]),R),o(O[0][0],R)]]}var V=O.concat();for(X=0;X<I;X++)V[X]=V[X].concat();for(var k=E(I).valueOf(),U=0;U<M;U++){for(var G=C(V[U][U]),H=U,X=U+1;X<I;)C(V[X][U])>G&&(G=C(V[X][U]),H=X),X++;if(G===0)throw Error("Cannot calculate inverse, determinant is zero");(X=H)!==U&&(L=V[U],V[U]=V[X],V[X]=L,L=k[U],k[U]=k[X],k[X]=L);var Z=V[U],J=k[U];for(X=0;X<I;X++){var ee=V[X],$=k[X];if(X!==U){if(ee[U]!==0){for(B=o(g(ee[U]),Z[U]),F=U;F<M;F++)ee[F]=f(ee[F],x(B,Z[F]));for(F=0;F<M;F++)$[F]=f($[F],x(B,J[F]))}}else{for(B=Z[U],F=U;F<M;F++)ee[F]=o(ee[F],B);for(F=0;F<M;F++)$[F]=o($[F],B)}}}return k}});r.createInv=S},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/string":941}],766:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createKron=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m=["typed","matrix","multiplyScalar"],p=(0,h.factory)("kron",m,function(A){var S=A.typed,_=A.matrix,l=A.multiplyScalar;return S("kron",{"Matrix, Matrix":function(o,f){return _(y(o.toArray(),f.toArray()))},"Matrix, Array":function(o,f){return _(y(o.toArray(),f))},"Array, Matrix":function(o,f){return _(y(o,f.toArray()))},"Array, Array":y});function y(o,f){if((0,b.arraySize)(o).length===1&&(o=[o]),(0,b.arraySize)(f).length===1&&(f=[f]),2<(0,b.arraySize)(o).length||2<(0,b.arraySize)(f).length)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(o.length)+", y = "+JSON.stringify(f.length)+")");var x=[],g=[];return o.map(function(D){return f.map(function(E){return g=[],x.push(g),D.map(function(C){return E.map(function(T){return g.push(l(C,T))})})})})&&x}});r.createKron=p},{"../../utils/array":922,"../../utils/factory":931}],767:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMap=void 0;var b=n("../../utils/function"),h=n("../../utils/factory"),m=["typed"],p=(0,h.factory)("map",m,function(S){return(0,S.typed)("map",{"Array, function":A,"Matrix, function":function(_,l){return _.map(l)}})});function A(S,_){var l=(0,b.maxArgumentCount)(_);return function y(o,f){return Array.isArray(o)?o.map(function(x,g){return y(x,f.concat(g))}):l===1?_(o):l===2?_(o,f):_(o,f,S)}(S,[])}r.createMap=p},{"../../utils/factory":931,"../../utils/function":932}],768:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createOnes=void 0;var b=n("../../utils/is"),h=n("../../utils/number"),m=n("../../utils/array"),p=["typed","config","matrix","BigNumber"],A=(0,n("../../utils/factory").factory)("ones",p,function(S){var _=S.typed,l=S.config,y=S.matrix,o=S.BigNumber;return _("ones",{"":function(){return l.matrix==="Array"?f([]):f([],"default")},"...number | BigNumber | string":function(x){if(typeof x[x.length-1]!="string")return l.matrix==="Array"?f(x):f(x,"default");var g=x.pop();return f(x,g)},Array:f,Matrix:function(x){var g=x.storage();return f(x.valueOf(),g)},"Array | Matrix, string":function(x,g){return f(x.valueOf(),g)}});function f(x,g){var D=function(T){var O=!1;return T.forEach(function(I,M,F){(0,b.isBigNumber)(I)&&(O=!0,F[M]=I.toNumber())}),O}(x)?new o(1):1;if(function(T){T.forEach(function(O){if(typeof O!="number"||!(0,h.isInteger)(O)||O<0)throw new Error("Parameters in function ones must be positive integers")})}(x),g){var E=y(g);return 0<x.length?E.resize(x,D):E}var C=[];return 0<x.length?(0,m.resize)(C,x,D):C}});r.createOnes=A},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937}],769:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createPartitionSelect=void 0;var b=n("../../utils/is"),h=n("../../utils/number"),m=n("../../utils/factory"),p="partitionSelect",A=["typed","isNumeric","isNaN","compare"],S=(0,m.factory)(p,A,function(_){var l=_.typed,y=_.isNumeric,o=_.isNaN,f=_.compare,x=f,g=function(C,T){return-f(C,T)};return l(p,{"Array | Matrix, number":function(C,T){return D(C,T,x)},"Array | Matrix, number, string":function(C,T,O){if(O==="asc")return D(C,T,x);if(O==="desc")return D(C,T,g);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":D});function D(C,T,O){if(!(0,h.isInteger)(T)||T<0)throw new Error("k must be a non-negative integer");if((0,b.isMatrix)(C)){if(1<C.size().length)throw new Error("Only one dimensional matrices supported");return E(C.valueOf(),T,O)}if(Array.isArray(C))return E(C,T,O)}function E(C,T,O){if(T>=C.length)throw new Error("k out of bounds");for(var I=0;I<C.length;I++)if(y(C[I])&&o(C[I]))return C[I];for(var M=0,F=C.length-1;M<F;){for(var B,j=M,L=F,R=C[Math.floor(Math.random()*(F-M+1))+M];j<L;)0<=O(C[j],R)?(B=C[L],C[L]=C[j],C[j]=B,--L):++j;0<O(C[j],R)&&--j,T<=j?F=j:M=j+1}return C[T]}});r.createPartitionSelect=S},{"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937}],770:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRange=void 0;var b=n("../../utils/factory"),h=n("../../utils/noop"),m=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],p=(0,b.factory)("range",m,function(A){var S=A.typed,_=A.config,l=A.matrix,y=A.bignumber,o=A.smaller,f=A.smallerEq,x=A.larger,g=A.largerEq;return S("range",{string:E,"string, boolean":E,"number, number":function(M,F){return D(C(M,F,1))},"number, number, number":function(M,F,B){return D(C(M,F,B))},"number, number, boolean":function(M,F,B){return D((B?T:C)(M,F,1))},"number, number, number, boolean":function(M,F,B,j){return D((j?T:C)(M,F,B))},"BigNumber, BigNumber":function(M,F){return D(O(M,F,new M.constructor(1)))},"BigNumber, BigNumber, BigNumber":function(M,F,B){return D(O(M,F,B))},"BigNumber, BigNumber, boolean":function(M,F,B){var j=M.constructor;return D((B?I:O)(M,F,new j(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(M,F,B,j){return D((j?I:O)(M,F,B))}});function D(M){return _.matrix==="Matrix"?l?l(M):(0,h.noMatrix)():M}function E(M,F){var B=function(j){var L=j.split(":").map(function(R){return Number(R)});if(L.some(function(R){return isNaN(R)}))return null;switch(L.length){case 2:return{start:L[0],end:L[1],step:1};case 3:return{start:L[0],end:L[2],step:L[1]};default:return null}}(M);if(!B)throw new SyntaxError('String "'+M+'" is no valid range');return _.number==="BigNumber"?(y===void 0&&(0,h.noBignumber)(),D((F?I:O)(y(B.start),y(B.end),y(B.step)))):D((F?T:C)(B.start,B.end,B.step))}function C(M,F,B){var j=[],L=M;if(0<B)for(;o(L,F);)j.push(L),L+=B;else if(B<0)for(;x(L,F);)j.push(L),L+=B;return j}function T(M,F,B){var j=[],L=M;if(0<B)for(;f(L,F);)j.push(L),L+=B;else if(B<0)for(;g(L,F);)j.push(L),L+=B;return j}function O(M,F,B){var j=y(0),L=[],R=M;if(B.gt(j))for(;o(R,F);)L.push(R),R=R.plus(B);else if(B.lt(j))for(;x(R,F);)L.push(R),R=R.plus(B);return L}function I(M,F,B){var j=y(0),L=[],R=M;if(B.gt(j))for(;f(R,F);)L.push(R),R=R.plus(B);else if(B.lt(j))for(;g(R,F);)L.push(R),R=R.plus(B);return L}});r.createRange=p},{"../../utils/factory":931,"../../utils/noop":936}],771:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createReshape=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m=["typed","isInteger","matrix"],p=(0,h.factory)("reshape",m,function(A){var S=A.typed,_=A.isInteger,l=A.matrix;return S("reshape",{"Matrix, Array":function(y,o){return y.reshape?y.reshape(o):l((0,b.reshape)(y.valueOf(),o))},"Array, Array":function(y,o){return o.forEach(function(f){if(!_(f))throw new TypeError("Invalid size for dimension: "+f)}),(0,b.reshape)(y,o)}})});r.createReshape=p},{"../../utils/array":922,"../../utils/factory":931}],772:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createResize=void 0;var b=n("../../utils/is"),h=n("../../error/DimensionError"),m=n("../../error/ArgumentsError"),p=n("../../utils/number"),A=n("../../utils/string"),S=n("../../utils/object"),_=n("../../utils/array"),l=["config","matrix"],y=(0,n("../../utils/factory").factory)("resize",l,function(o){var f=o.config,x=o.matrix;return function(g,D,E){if(arguments.length!==2&&arguments.length!==3)throw new m.ArgumentsError("resize",arguments.length,2,3);if((0,b.isMatrix)(D)&&(D=D.valueOf()),(0,b.isBigNumber)(D[0])&&(D=D.map(function(O){return(0,b.isBigNumber)(O)?O.toNumber():O})),(0,b.isMatrix)(g))return g.resize(D,E,!0);if(typeof g=="string")return function(O,I,M){if(M!==void 0){if(typeof M!="string"||M.length!==1)throw new TypeError("Single character expected as defaultValue")}else M=" ";if(I.length!==1)throw new h.DimensionError(I.length,1);var F=I[0];if(typeof F!="number"||!(0,p.isInteger)(F))throw new TypeError("Invalid size, must contain positive integers (size: "+(0,A.format)(I)+")");{if(O.length>F)return O.substring(0,F);if(O.length<F){for(var B=O,j=0,L=F-O.length;j<L;j++)B+=M;return B}return O}}(g,D,E);var C=!Array.isArray(g)&&f.matrix!=="Array";if(D.length===0){for(;Array.isArray(g);)g=g[0];return(0,S.clone)(g)}Array.isArray(g)||(g=[g]),g=(0,S.clone)(g);var T=(0,_.resize)(g,D,E);return C?x(T):T}});r.createResize=y},{"../../error/ArgumentsError":398,"../../error/DimensionError":399,"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937,"../../utils/object":938,"../../utils/string":941}],773:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRow=void 0;var b=n("../../utils/factory"),h=n("../../utils/object"),m=n("../../utils/array"),p=["typed","Index","matrix","range"],A=(0,b.factory)("row",p,function(S){var _=S.typed,l=S.Index,y=S.matrix,o=S.range;return _("row",{"Matrix, number":f,"Array, number":function(x,g){return f(y((0,h.clone)(x)),g).valueOf()}});function f(x,g){if(x.size().length!==2)throw new Error("Only two dimensional matrix is supported");(0,m.validateIndex)(g,x.size()[0]);var D=o(0,x.size()[1]),E=new l(g,D);return x.subset(E)}});r.createRow=A},{"../../utils/array":922,"../../utils/factory":931,"../../utils/object":938}],774:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSize=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m=n("../../utils/noop"),p=["typed","config","?matrix"],A=(0,h.factory)("size",p,function(S){var _=S.typed,l=S.config,y=S.matrix;return _("size",{Matrix:function(o){return o.create(o.size())},Array:b.arraySize,string:function(o){return l.matrix==="Array"?[o.length]:y([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(){return l.matrix==="Array"?[]:y?y([]):(0,m.noMatrix)()}})});r.createSize=A},{"../../utils/array":922,"../../utils/factory":931,"../../utils/noop":936}],775:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSort=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m=["typed","matrix","compare","compareNatural"],p=(0,h.factory)("sort",m,function(A){var S=A.typed,_=A.matrix,l=A.compare,y=A.compareNatural,o=l,f=function(E,C){return-l(E,C)};return S("sort",{Array:function(E){return g(E),E.sort(o)},Matrix:function(E){return D(E),_(E.toArray().sort(o),E.storage())},"Array, function":function(E,C){return g(E),E.sort(C)},"Matrix, function":function(E,C){return D(E),_(E.toArray().sort(C),E.storage())},"Array, string":function(E,C){return g(E),E.sort(x(C))},"Matrix, string":function(E,C){return D(E),_(E.toArray().sort(x(C)),E.storage())}});function x(E){if(E==="asc")return o;if(E==="desc")return f;if(E==="natural")return y;throw new Error('String "asc", "desc", or "natural" expected')}function g(E){if((0,b.arraySize)(E).length!==1)throw new Error("One dimensional array expected")}function D(E){if(E.size().length!==1)throw new Error("One dimensional matrix expected")}});r.createSort=p},{"../../utils/array":922,"../../utils/factory":931}],776:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSqrtm=void 0;var b=n("../../utils/is"),h=n("../../utils/string"),m=n("../../utils/array"),p=n("../../utils/factory"),A=["typed","abs","add","multiply","sqrt","subtract","inv","size","max","identity"],S=(0,p.factory)("sqrtm",A,function(_){var l=_.typed,y=_.abs,o=_.add,f=_.multiply,x=_.sqrt,g=_.subtract,D=_.inv,E=_.size,C=_.max,T=_.identity,O=l("sqrtm",{"Array | Matrix":function(B){var j=(0,b.isMatrix)(B)?B.size():(0,m.arraySize)(B);switch(j.length){case 1:if(j[0]===1)return x(B);throw new RangeError("Matrix must be square (size: "+(0,h.format)(j)+")");case 2:if(j[0]===j[1])return F(B);throw new RangeError("Matrix must be square (size: "+(0,h.format)(j)+")")}}}),I=1e3,M=1e-6;function F(B){var j=0,L=B,R=T(E(B));do{var V=L,L=f(.5,o(V,D(R))),R=f(.5,o(R,D(V))),k=C(y(g(L,V)));if(M<k&&++j>I)throw new Error("computing square root of matrix: iterative method could not converge")}while(M<k);return L}return O});r.createSqrtm=S},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/string":941}],777:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSqueeze=void 0;var b=n("../../utils/object"),h=n("../../utils/array"),m=n("../../utils/factory"),p=["typed","matrix"],A=(0,m.factory)("squeeze",p,function(S){var _=S.typed,l=S.matrix;return _("squeeze",{Array:function(y){return(0,h.squeeze)((0,b.clone)(y))},Matrix:function(y){var o=(0,h.squeeze)(y.toArray());return Array.isArray(o)?l(o):o},any:function(y){return(0,b.clone)(y)}})});r.createSqueeze=A},{"../../utils/array":922,"../../utils/factory":931,"../../utils/object":938}],778:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSubset=void 0;var b=n("../../utils/is"),h=n("../../utils/object"),m=n("../../utils/array"),p=n("../../utils/customs"),A=n("../../error/DimensionError"),S=n("../../utils/factory"),_=["typed","matrix"],l=(0,S.factory)("subset",_,function(g){var D=g.typed,E=g.matrix;return D("subset",{"Array, Index":function(C,T){var O=E(C).subset(T);return T.isScalar()?O:O.valueOf()},"Matrix, Index":function(C,T){return C.subset(T)},"Object, Index":f,"string, Index":y,"Array, Index, any":function(C,T,O){return E((0,h.clone)(C)).subset(T,O,void 0).valueOf()},"Array, Index, any, any":function(C,T,O,I){return E((0,h.clone)(C)).subset(T,O,I).valueOf()},"Matrix, Index, any":function(C,T,O){return C.clone().subset(T,O)},"Matrix, Index, any, any":function(C,T,O,I){return C.clone().subset(T,O,I)},"string, Index, string":o,"string, Index, string, string":o,"Object, Index, any":x})});function y(g,D){if(!(0,b.isIndex)(D))throw new TypeError("Index expected");if(D.size().length!==1)throw new A.DimensionError(D.size().length,1);var E=g.length;(0,m.validateIndex)(D.min()[0],E),(0,m.validateIndex)(D.max()[0],E);var C=D.dimension(0),T="";return C.forEach(function(O){T+=g.charAt(O)}),T}function o(g,D,E,C){if(!D||D.isIndex!==!0)throw new TypeError("Index expected");if(D.size().length!==1)throw new A.DimensionError(D.size().length,1);if(C!==void 0){if(typeof C!="string"||C.length!==1)throw new TypeError("Single character expected as defaultValue")}else C=" ";var T=D.dimension(0);if(T.size()[0]!==E.length)throw new A.DimensionError(T.size()[0],E.length);var O=g.length;(0,m.validateIndex)(D.min()[0]),(0,m.validateIndex)(D.max()[0]);for(var I=[],M=0;M<O;M++)I[M]=g.charAt(M);if(T.forEach(function(j,L){I[j]=E.charAt(L[0])}),I.length>O)for(var F=O-1,B=I.length;F<B;F++)I[F]||(I[F]=C);return I.join("")}function f(g,D){if(D.size().length!==1)throw new A.DimensionError(D.size(),1);var E=D.dimension(0);if(typeof E!="string")throw new TypeError("String expected as index to retrieve an object property");return(0,p.getSafeProperty)(g,E)}function x(g,D,E){if(D.size().length!==1)throw new A.DimensionError(D.size(),1);var C=D.dimension(0);if(typeof C!="string")throw new TypeError("String expected as index to retrieve an object property");var T=(0,h.clone)(g);return(0,p.setSafeProperty)(T,C,E),T}r.createSubset=l},{"../../error/DimensionError":399,"../../utils/array":922,"../../utils/customs":929,"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938}],779:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createTrace=void 0;var b=n("../../utils/object"),h=n("../../utils/string"),m=["typed","matrix","add"],p=(0,n("../../utils/factory").factory)("trace",m,function(A){var S=A.typed,_=A.matrix,l=A.add;return S("trace",{Array:function(o){return y(_(o))},SparseMatrix:function(o){var f=o._values,x=o._index,g=o._ptr,D=o._size,E=D[0],C=D[1];if(E!==C)throw new RangeError("Matrix must be square (size: "+(0,h.format)(D)+")");var T=0;if(0<f.length)for(var O=0;O<C;O++)for(var I=g[O],M=g[O+1],F=I;F<M;F++){var B=x[F];if(B===O){T=l(T,f[F]);break}if(O<B)break}return T},DenseMatrix:y,any:b.clone});function y(o){var f=o._size,x=o._data;switch(f.length){case 1:if(f[0]===1)return(0,b.clone)(x[0]);throw new RangeError("Matrix must be square (size: "+(0,h.format)(f)+")");case 2:var g=f[0];if(g!==f[1])throw new RangeError("Matrix must be square (size: "+(0,h.format)(f)+")");for(var D=0,E=0;E<g;E++)D=l(D,x[E][E]);return D;default:throw new RangeError("Matrix must be two dimensional (size: "+(0,h.format)(f)+")")}}});r.createTrace=p},{"../../utils/factory":931,"../../utils/object":938,"../../utils/string":941}],780:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createTranspose=void 0;var b=n("../../utils/object"),h=n("../../utils/string"),m=["typed","matrix"],p=(0,n("../../utils/factory").factory)("transpose",m,function(A){var S=A.typed,_=A.matrix,l=S("transpose",{Array:function(y){return l(_(y)).valueOf()},Matrix:function(y){var o,f=y.size();switch(f.length){case 1:o=y.clone();break;case 2:var x=f[0],g=f[1];if(g===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+(0,h.format)(f)+")");switch(y.storage()){case"dense":o=function(D,E,C){for(var T,O=D._data,I=[],M=0;M<C;M++){T=I[M]=[];for(var F=0;F<E;F++)T[F]=(0,b.clone)(O[F][M])}return D.createDenseMatrix({data:I,size:[C,E],datatype:D._datatype})}(y,x,g);break;case"sparse":o=function(D,E,C){for(var T,O,I,M=D._values,F=D._index,B=D._ptr,j=M?[]:void 0,L=[],R=[],V=[],k=0;k<E;k++)V[k]=0;for(T=0,O=F.length;T<O;T++)V[F[T]]++;for(var U=0,G=0;G<E;G++)R.push(U),U+=V[G],V[G]=R[G];for(R.push(U),I=0;I<C;I++)for(var H=B[I],X=B[I+1],Z=H;Z<X;Z++){var J=V[F[Z]]++;L[J]=I,M&&(j[J]=(0,b.clone)(M[Z]))}return D.createSparseMatrix({values:j,index:L,ptr:R,size:[C,E],datatype:D._datatype})}(y,x,g)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+(0,h.format)(this._size)+")")}return o},any:function(y){return(0,b.clone)(y)}});return l});r.createTranspose=p},{"../../utils/factory":931,"../../utils/object":938,"../../utils/string":941}],781:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createZeros=void 0;var b=n("../../utils/is"),h=n("../../utils/number"),m=n("../../utils/array"),p=n("../../utils/factory"),A=["typed","config","matrix","BigNumber"],S=(0,p.factory)("zeros",A,function(_){var l=_.typed,y=_.config,o=_.matrix,f=_.BigNumber;return l("zeros",{"":function(){return y.matrix==="Array"?x([]):x([],"default")},"...number | BigNumber | string":function(g){if(typeof g[g.length-1]!="string")return y.matrix==="Array"?x(g):x(g,"default");var D=g.pop();return x(g,D)},Array:x,Matrix:function(g){var D=g.storage();return x(g.valueOf(),D)},"Array | Matrix, string":function(g,D){return x(g.valueOf(),D)}});function x(g,D){var E=function(O){var I=!1;return O.forEach(function(M,F,B){(0,b.isBigNumber)(M)&&(I=!0,B[F]=M.toNumber())}),I}(g)?new f(0):0;if(function(O){O.forEach(function(I){if(typeof I!="number"||!(0,h.isInteger)(I)||I<0)throw new Error("Parameters in function zeros must be positive integers")})}(g),D){var C=o(D);return 0<g.length?C.resize(g,E):C}var T=[];return 0<g.length?(0,m.resize)(T,g,E):T}});r.createZeros=S},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937}],782:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCombinations=void 0;var b=n("../../utils/factory"),h=n("../../plain/number/combinations"),m=["typed"],p=(0,b.factory)("combinations",m,function(S){return(0,S.typed)("combinations",{"number, number":h.combinationsNumber,"BigNumber, BigNumber":function(_,l){var y,o,f=_.constructor,x=_.minus(l),g=new f(1);if(!A(_)||!A(l))throw new TypeError("Positive integer value expected in function combinations");if(l.gt(_))throw new TypeError("k must be less than n in function combinations");if(y=g,l.lt(x))for(o=g;o.lte(x);o=o.plus(g))y=y.times(l.plus(o)).dividedBy(o);else for(o=g;o.lte(l);o=o.plus(g))y=y.times(x.plus(o)).dividedBy(o);return y}})});function A(S){return S.isInteger()&&S.gte(0)}r.createCombinations=p},{"../../plain/number/combinations":872,"../../utils/factory":931}],783:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCombinationsWithRep=void 0;var b=n("../../utils/factory"),h=n("../../utils/number"),m=n("../../utils/product"),p="combinationsWithRep",A=["typed"],S=(0,b.factory)(p,A,function(l){return(0,l.typed)(p,{"number, number":function(y,o){if(!(0,h.isInteger)(y)||y<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!(0,h.isInteger)(o)||o<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(y<1)throw new TypeError("k must be less than or equal to n + k - 1");return o<y-1?(0,m.product)(y,y+o-1)/(0,m.product)(1,o):(0,m.product)(o+1,y+o-1)/(0,m.product)(1,y-1)},"BigNumber, BigNumber":function(y,o){var f,x,g=new y.constructor(1),D=y.minus(g);if(!_(y)||!_(o))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(y.lt(g))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(f=g,o.lt(D))for(x=g;x.lte(D);x=x.plus(g))f=f.times(o.plus(x)).dividedBy(x);else for(x=g;x.lte(o);x=x.plus(g))f=f.times(D.plus(x)).dividedBy(x);return f}})});function _(l){return l.isInteger()&&l.gte(0)}r.createCombinationsWithRep=S},{"../../utils/factory":931,"../../utils/number":937,"../../utils/product":940}],784:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFactorial=void 0;var b=n("../../utils/collection"),h=n("../../utils/factory"),m=["typed","gamma"],p=(0,h.factory)("factorial",m,function(A){var S=A.typed,_=A.gamma,l=S("factorial",{number:function(y){if(y<0)throw new Error("Value must be non-negative");return _(y+1)},BigNumber:function(y){if(y.isNegative())throw new Error("Value must be non-negative");return _(y.plus(1))},"Array | Matrix":function(y){return(0,b.deepMap)(y,l)}});return l});r.createFactorial=p},{"../../utils/collection":927,"../../utils/factory":931}],785:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createGamma=void 0;var b=n("../../utils/collection"),h=n("../../utils/factory"),m=n("../../plain/number"),p=["typed","config","multiplyScalar","pow","BigNumber","Complex"],A=(0,h.factory)("gamma",p,function(S){var _=S.typed,l=S.config,y=S.multiplyScalar,o=S.pow,f=S.BigNumber,x=S.Complex,g=_("gamma",{number:m.gammaNumber,Complex:function(D){if(D.im===0)return g(D.re);D=new x(D.re-1,D.im);for(var E=new x(m.gammaP[0],0),C=1;C<m.gammaP.length;++C){var T=D.re+C,O=T*T+D.im*D.im;O!=0?(E.re+=m.gammaP[C]*T/O,E.im+=-(m.gammaP[C]*D.im)/O):E.re=m.gammaP[C]<0?-1/0:1/0}var I=new x(D.re+m.gammaG+.5,D.im),M=Math.sqrt(2*Math.PI);D.re+=.5;var F=o(I,D);F.im===0?F.re*=M:(F.re===0||(F.re*=M),F.im*=M);var B=Math.exp(-I.re);return I.re=B*Math.cos(-I.im),I.im=B*Math.sin(-I.im),y(y(F,I),E)},BigNumber:function(D){if(D.isInteger())return D.isNegative()||D.isZero()?new f(1/0):function E(C){if(C<8)return new f([1,1,2,6,24,120,720,5040][C]);var T=l.precision+(0|Math.log(C.toNumber())),O=f.clone({precision:T});if(C%2==1)return C.times(E(new f(C-1)));for(var I=C,M=new O(C),F=C.toNumber();2<I;)F+=I-=2,M=M.times(F);return new f(M.toPrecision(f.precision))}(D.minus(1));if(!D.isFinite())return new f(D.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(D){return(0,b.deepMap)(D,g)}});return g});r.createGamma=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],786:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createKldivergence=void 0;var b=n("../../utils/factory"),h=["typed","matrix","divide","sum","multiply","dotDivide","log","isNumeric"],m=(0,b.factory)("kldivergence",h,function(p){var A=p.typed,S=p.matrix,_=p.divide,l=p.sum,y=p.multiply,o=p.dotDivide,f=p.log,x=p.isNumeric;return A("kldivergence",{"Array, Array":function(D,E){return g(S(D),S(E))},"Matrix, Array":function(D,E){return g(D,S(E))},"Array, Matrix":function(D,E){return g(S(D),E)},"Matrix, Matrix":g});function g(D,E){var C=E.size().length,T=D.size().length;if(1<C)throw new Error("first object must be one dimensional");if(1<T)throw new Error("second object must be one dimensional");if(C!==T)throw new Error("Length of two vectors must be equal");if(l(D)===0)throw new Error("Sum of elements in first object must be non zero");if(l(E)===0)throw new Error("Sum of elements in second object must be non zero");var O=_(D,l(D)),I=_(E,l(E)),M=l(y(O,f(o(O,I))));return x(M)?M:Number.NaN}});r.createKldivergence=m},{"../../utils/factory":931}],787:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMultinomial=void 0;var b=n("../../utils/collection"),h=n("../../utils/factory"),m=["typed","add","divide","multiply","factorial","isInteger","isPositive"],p=(0,h.factory)("multinomial",m,function(A){var S=A.typed,_=A.add,l=A.divide,y=A.multiply,o=A.factorial,f=A.isInteger,x=A.isPositive;return S("multinomial",{"Array | Matrix":function(g){var D=0,E=1;return(0,b.deepForEach)(g,function(C){if(!f(C)||!x(C))throw new TypeError("Positive integer value expected in function multinomial");D=_(D,C),E=y(E,o(C))}),l(o(D),E)}})});r.createMultinomial=p},{"../../utils/collection":927,"../../utils/factory":931}],788:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createPermutations=void 0;var b=n("../../utils/number"),h=n("../../utils/product"),m=n("../../utils/factory"),p=["typed","factorial"],A=(0,m.factory)("permutations",p,function(_){return(0,_.typed)("permutations",{"number | BigNumber":_.factorial,"number, number":function(l,y){if(!(0,b.isInteger)(l)||l<0)throw new TypeError("Positive integer value expected in function permutations");if(!(0,b.isInteger)(y)||y<0)throw new TypeError("Positive integer value expected in function permutations");if(l<y)throw new TypeError("second argument k must be less than or equal to first argument n");return(0,h.product)(l-y+1,l)},"BigNumber, BigNumber":function(l,y){if(!S(l)||!S(y))throw new TypeError("Positive integer value expected in function permutations");if(y.gt(l))throw new TypeError("second argument k must be less than or equal to first argument n");for(var o=l.mul(0).add(1),f=l.minus(y).plus(1);f.lte(l);f=f.plus(1))o=o.times(f);return o}})});function S(_){return _.isInteger()&&_.gte(0)}r.createPermutations=A},{"../../utils/factory":931,"../../utils/number":937,"../../utils/product":940}],789:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createPickRandom=void 0;var b=n("../../utils/factory"),h=n("../../utils/is"),m=n("../../utils/array"),p=n("./util/seededRNG"),A=["typed","config","?on"],S=(0,b.factory)("pickRandom",A,function(_){var l=_.typed,y=_.config,o=_.on,f=(0,p.createRng)(y.randomSeed);return o&&o("config",function(g,D){g.randomSeed!==D.randomSeed&&(f=(0,p.createRng)(g.randomSeed))}),l({"Array | Matrix":function(g){return x(g)},"Array | Matrix, number":function(g,D){return x(g,D,void 0)},"Array | Matrix, Array":function(g,D){return x(g,void 0,D)},"Array | Matrix, Array | Matrix, number":function(g,D,E){return x(g,E,D)},"Array | Matrix, number, Array | Matrix":x});function x(g,D,E){var C=D===void 0;if(C&&(D=1),g=g.valueOf(),E=E&&E.valueOf(),1<(0,m.arraySize)(g).length)throw new Error("Only one dimensional vectors supported");var T=0;if(E!==void 0){if(E.length!==g.length)throw new Error("Weights must have the same length as possibles");for(var O=0,I=E.length;O<I;O++){if(!(0,h.isNumber)(E[O])||E[O]<0)throw new Error("Weights must be an array of positive numbers");T+=E[O]}}var M=g.length;if(M===0)return[];if(M<=D)return 1<D?g:g[0];for(var F,B=[];B.length<D;){if(E===void 0)F=g[Math.floor(f()*M)];else for(var j=f()*T,L=0,R=g.length;L<R;L++)if((j-=E[L])<0){F=g[L];break}B.indexOf(F)===-1&&B.push(F)}return C?B[0]:B}});r.createPickRandom=S},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"./util/seededRNG":793}],790:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRandomNumber=r.createRandom=void 0;var b=n("../../utils/factory"),h=n("../../utils/is"),m=n("./util/seededRNG"),p=n("./util/randomMatrix"),A="random",S=["typed","config","?on"],_=(0,b.factory)(A,S,function(y){var o=y.typed,f=y.config,x=y.on,g=(0,m.createRng)(f.randomSeed);return x&&x("config",function(C,T){C.randomSeed!==T.randomSeed&&(g=(0,m.createRng)(C.randomSeed))}),o(A,{"":function(){return E(0,1)},number:function(C){return E(0,C)},"number, number":E,"Array | Matrix":function(C){return D(C,0,1)},"Array | Matrix, number":function(C,T){return D(C,0,T)},"Array | Matrix, number, number":D});function D(C,T,O){var I=(0,p.randomMatrix)(C.valueOf(),function(){return E(T,O)});return(0,h.isMatrix)(C)?C.create(I):I}function E(C,T){return C+g()*(T-C)}});r.createRandom=_;var l=(0,b.factory)(A,["typed","config","?on"],function(y){var o=y.typed,f=y.config,x=y.on,g=(y.matrix,(0,m.createRng)(f.randomSeed));return x&&x("config",function(E,C){E.randomSeed!==C.randomSeed&&(g=(0,m.createRng)(E.randomSeed))}),o(A,{"":function(){return D(0,1)},number:function(E){return D(0,E)},"number, number":D});function D(E,C){return E+g()*(C-E)}});r.createRandomNumber=l},{"../../utils/factory":931,"../../utils/is":933,"./util/randomMatrix":792,"./util/seededRNG":793}],791:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRandomInt=void 0;var b=n("../../utils/factory"),h=n("./util/randomMatrix"),m=n("./util/seededRNG"),p=n("../../utils/is"),A=["typed","config","?on"],S=(0,b.factory)("randomInt",A,function(_){var l=_.typed,y=_.config,o=_.on,f=(0,m.createRng)(y.randomSeed);return o&&o("config",function(D,E){D.randomSeed!==E.randomSeed&&(f=(0,m.createRng)(D.randomSeed))}),l("randomInt",{"":function(){return g(0,1)},number:function(D){return g(0,D)},"number, number":g,"Array | Matrix":function(D){return x(D,0,1)},"Array | Matrix, number":function(D,E){return x(D,0,E)},"Array | Matrix, number, number":x});function x(D,E,C){var T=(0,h.randomMatrix)(D.valueOf(),function(){return g(E,C)});return(0,p.isMatrix)(D)?D.create(T):T}function g(D,E){return Math.floor(D+f()*(E-D))}});r.createRandomInt=S},{"../../utils/factory":931,"../../utils/is":933,"./util/randomMatrix":792,"./util/seededRNG":793}],792:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomMatrix=function b(h,m){var p=[];if(h=h.slice(0),1<h.length)for(var A=0,S=h.shift();A<S;A++)p.push(b(h,m));else for(var _=0,l=h.shift();_<l;_++)p.push(m());return p}},{}],793:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRng=function(p){var A;return function(S){A=S===null?m:(0,h.default)(String(S))}(p),function(){return A()}};var b,h=(b=n("seed-random"))&&b.__esModule?b:{default:b},m=(0,h.default)()},{"seed-random":944}],794:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCompareNumber=r.createCompare=void 0;var b=n("../../utils/bignumber/nearlyEqual"),h=n("../../utils/number"),m=n("../../utils/factory"),p=n("../../type/matrix/utils/algorithm03"),A=n("../../type/matrix/utils/algorithm12"),S=n("../../type/matrix/utils/algorithm14"),_=n("../../type/matrix/utils/algorithm13"),l=n("../../type/matrix/utils/algorithm05"),y="compare",o=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],f=(0,m.factory)(y,o,function(g){var D=g.typed,E=g.config,C=g.equalScalar,T=g.matrix,O=g.BigNumber,I=g.Fraction,M=g.DenseMatrix,F=(0,p.createAlgorithm03)({typed:D}),B=(0,l.createAlgorithm05)({typed:D,equalScalar:C}),j=(0,A.createAlgorithm12)({typed:D,DenseMatrix:M}),L=(0,_.createAlgorithm13)({typed:D}),R=(0,S.createAlgorithm14)({typed:D}),V=D(y,{"boolean, boolean":function(k,U){return k===U?0:U<k?1:-1},"number, number":function(k,U){return(0,h.nearlyEqual)(k,U,E.epsilon)?0:U<k?1:-1},"BigNumber, BigNumber":function(k,U){return(0,b.nearlyEqual)(k,U,E.epsilon)?new O(0):new O(k.cmp(U))},"Fraction, Fraction":function(k,U){return new I(k.compare(U))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(k,U){if(!k.equalBase(U))throw new Error("Cannot compare units with different base");return V(k.value,U.value)},"SparseMatrix, SparseMatrix":function(k,U){return B(k,U,V)},"SparseMatrix, DenseMatrix":function(k,U){return F(U,k,V,!0)},"DenseMatrix, SparseMatrix":function(k,U){return F(k,U,V,!1)},"DenseMatrix, DenseMatrix":function(k,U){return L(k,U,V)},"Array, Array":function(k,U){return V(T(k),T(U)).valueOf()},"Array, Matrix":function(k,U){return V(T(k),U)},"Matrix, Array":function(k,U){return V(k,T(U))},"SparseMatrix, any":function(k,U){return j(k,U,V,!1)},"DenseMatrix, any":function(k,U){return R(k,U,V,!1)},"any, SparseMatrix":function(k,U){return j(U,k,V,!0)},"any, DenseMatrix":function(k,U){return R(U,k,V,!0)},"Array, any":function(k,U){return R(T(k),U,V,!1).valueOf()},"any, Array":function(k,U){return R(T(U),k,V,!0).valueOf()}});return V});r.createCompare=f;var x=(0,m.factory)(y,["typed","config"],function(g){var D=g.typed,E=g.config;return D(y,{"number, number":function(C,T){return(0,h.nearlyEqual)(C,T,E.epsilon)?0:T<C?1:-1}})});r.createCompareNumber=x},{"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm05":904,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/nearlyEqual":926,"../../utils/factory":931,"../../utils/number":937}],795:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCompareNatural=void 0;var b,h=(b=n("javascript-natural-sort"))&&b.__esModule?b:{default:b},m=n("../../utils/is"),p=n("../../utils/factory"),A="compareNatural",S=["typed","compare"],_=(0,p.factory)(A,S,function(l){var y=l.typed,o=l.compare,f=o.signatures["boolean,boolean"],x=y(A,{"any, any":function(D,E){var C,T=(0,m.typeOf)(D),O=(0,m.typeOf)(E);if(!(T!=="number"&&T!=="BigNumber"&&T!=="Fraction"||O!=="number"&&O!=="BigNumber"&&O!=="Fraction"))return(C=o(D,E)).toString()!=="0"?0<C?1:-1:(0,h.default)(T,O);if(T==="Array"||T==="Matrix"||O==="Array"||O==="Matrix")return(C=function I(M,F){return(0,m.isSparseMatrix)(M)&&(0,m.isSparseMatrix)(F)?g(M.toJSON().values,F.toJSON().values):(0,m.isSparseMatrix)(M)?I(M.toArray(),F):(0,m.isSparseMatrix)(F)?I(M,F.toArray()):(0,m.isDenseMatrix)(M)?I(M.toJSON().data,F):(0,m.isDenseMatrix)(F)?I(M,F.toJSON().data):Array.isArray(M)?Array.isArray(F)?g(M,F):I(M,[F]):I([M],F)}(D,E))!==0?C:(0,h.default)(T,O);if(T!==O)return(0,h.default)(T,O);if(T==="Complex")return function(I,M){return I.re>M.re?1:I.re<M.re?-1:I.im>M.im?1:I.im<M.im?-1:0}(D,E);if(T==="Unit")return D.equalBase(E)?x(D.value,E.value):g(D.formatUnits(),E.formatUnits());if(T==="boolean")return f(D,E);if(T==="string")return(0,h.default)(D,E);if(T==="Object")return function(I,M){var F=Object.keys(I),B=Object.keys(M);F.sort(h.default),B.sort(h.default);var j=g(F,B);if(j!==0)return j;for(var L=0;L<F.length;L++){var R=x(I[F[L]],M[B[L]]);if(R!==0)return R}return 0}(D,E);if(T==="null"||T==="undefined")return 0;throw new TypeError('Unsupported type of value "'+T+'"')}});function g(D,E){for(var C=0,T=Math.min(D.length,E.length);C<T;C++){var O=x(D[C],E[C]);if(O!==0)return O}return D.length>E.length?1:D.length<E.length?-1:0}return x});r.createCompareNatural=_},{"../../utils/factory":931,"../../utils/is":933,"javascript-natural-sort":58}],796:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCompareTextNumber=r.createCompareText=void 0;var b=n("../../utils/string"),h=n("../../utils/factory"),m=n("../../type/matrix/utils/algorithm14"),p=n("../../type/matrix/utils/algorithm13"),A="compareText",S=["typed","matrix"],_=(0,h.factory)(A,S,function(y){var o=y.typed,f=y.matrix,x=(0,p.createAlgorithm13)({typed:o}),g=(0,m.createAlgorithm14)({typed:o}),D=o(A,{"any, any":b.compareText,"DenseMatrix, DenseMatrix":function(E,C){return x(E,C,b.compareText)},"Array, Array":function(E,C){return D(f(E),f(C)).valueOf()},"Array, Matrix":function(E,C){return D(f(E),C)},"Matrix, Array":function(E,C){return D(E,f(C))},"DenseMatrix, any":function(E,C){return g(E,C,b.compareText,!1)},"any, DenseMatrix":function(E,C){return g(C,E,b.compareText,!0)},"Array, any":function(E,C){return g(f(E),C,b.compareText,!1).valueOf()},"any, Array":function(E,C){return g(f(C),E,b.compareText,!0).valueOf()}});return D});r.createCompareText=_;var l=(0,h.factory)(A,["typed"],function(y){return(0,y.typed)(A,{"any, any":b.compareText})});r.createCompareTextNumber=l},{"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931,"../../utils/string":941}],797:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeepEqual=void 0;var b=n("../../utils/factory"),h=["typed","equal"],m=(0,b.factory)("deepEqual",h,function(p){var A=p.typed,S=p.equal;return A("deepEqual",{"any, any":function(_,l){return function y(o,f){{if(Array.isArray(o)){if(Array.isArray(f)){var x=o.length;if(x!==f.length)return!1;for(var g=0;g<x;g++)if(!y(o[g],f[g]))return!1;return!0}return!1}return!Array.isArray(f)&&S(o,f)}}(_.valueOf(),l.valueOf())}})});r.createDeepEqual=m},{"../../utils/factory":931}],798:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createEqualNumber=r.createEqual=void 0;var b=n("../../utils/factory"),h=n("../../type/matrix/utils/algorithm03"),m=n("../../type/matrix/utils/algorithm07"),p=n("../../type/matrix/utils/algorithm12"),A=n("../../type/matrix/utils/algorithm13"),S=n("../../type/matrix/utils/algorithm14"),_=["typed","matrix","equalScalar","DenseMatrix"],l=(0,b.factory)("equal",_,function(o){var f=o.typed,x=o.matrix,g=o.equalScalar,D=o.DenseMatrix,E=(0,h.createAlgorithm03)({typed:f}),C=(0,m.createAlgorithm07)({typed:f,DenseMatrix:D}),T=(0,p.createAlgorithm12)({typed:f,DenseMatrix:D}),O=(0,A.createAlgorithm13)({typed:f}),I=(0,S.createAlgorithm14)({typed:f}),M=f("equal",{"any, any":function(F,B){return F===null?B===null:B===null?F===null:F===void 0?B===void 0:B===void 0?F===void 0:g(F,B)},"SparseMatrix, SparseMatrix":function(F,B){return C(F,B,g)},"SparseMatrix, DenseMatrix":function(F,B){return E(B,F,g,!0)},"DenseMatrix, SparseMatrix":function(F,B){return E(F,B,g,!1)},"DenseMatrix, DenseMatrix":function(F,B){return O(F,B,g)},"Array, Array":function(F,B){return M(x(F),x(B)).valueOf()},"Array, Matrix":function(F,B){return M(x(F),B)},"Matrix, Array":function(F,B){return M(F,x(B))},"SparseMatrix, any":function(F,B){return T(F,B,g,!1)},"DenseMatrix, any":function(F,B){return I(F,B,g,!1)},"any, SparseMatrix":function(F,B){return T(B,F,g,!0)},"any, DenseMatrix":function(F,B){return I(B,F,g,!0)},"Array, any":function(F,B){return I(x(F),B,g,!1).valueOf()},"any, Array":function(F,B){return I(x(B),F,g,!0).valueOf()}});return M});r.createEqual=l;var y=(0,b.factory)("equal",["typed","equalScalar"],function(o){var f=o.typed,x=o.equalScalar;return f("equal",{"any, any":function(g,D){return g===null?D===null:D===null?g===null:g===void 0?D===void 0:D===void 0?g===void 0:x(g,D)}})});r.createEqualNumber=y},{"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],799:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createEqualScalarNumber=r.createEqualScalar=void 0;var b=n("../../utils/bignumber/nearlyEqual"),h=n("../../utils/number"),m=n("../../utils/factory"),p=n("../../utils/complex"),A="equalScalar",S=["typed","config"],_=(0,m.factory)(A,S,function(y){var o=y.typed,f=y.config,x=o(A,{"boolean, boolean":function(g,D){return g===D},"number, number":function(g,D){return(0,h.nearlyEqual)(g,D,f.epsilon)},"BigNumber, BigNumber":function(g,D){return g.eq(D)||(0,b.nearlyEqual)(g,D,f.epsilon)},"Fraction, Fraction":function(g,D){return g.equals(D)},"Complex, Complex":function(g,D){return(0,p.complexEquals)(g,D,f.epsilon)},"Unit, Unit":function(g,D){if(!g.equalBase(D))throw new Error("Cannot compare units with different base");return x(g.value,D.value)}});return x});r.createEqualScalar=_;var l=(0,m.factory)(A,["typed","config"],function(y){var o=y.typed,f=y.config;return o(A,{"number, number":function(x,g){return(0,h.nearlyEqual)(x,g,f.epsilon)}})});r.createEqualScalarNumber=l},{"../../utils/bignumber/nearlyEqual":926,"../../utils/complex":928,"../../utils/factory":931,"../../utils/number":937}],800:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createEqualText=void 0;var b=n("../../utils/factory"),h=["typed","compareText","isZero"],m=(0,b.factory)("equalText",h,function(p){var A=p.typed,S=p.compareText,_=p.isZero;return A("equalText",{"any, any":function(l,y){return _(S(l,y))}})});r.createEqualText=m},{"../../utils/factory":931}],801:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLargerNumber=r.createLarger=void 0;var b=n("../../utils/bignumber/nearlyEqual"),h=n("../../utils/number"),m=n("../../utils/factory"),p=n("../../type/matrix/utils/algorithm03"),A=n("../../type/matrix/utils/algorithm07"),S=n("../../type/matrix/utils/algorithm12"),_=n("../../type/matrix/utils/algorithm14"),l=n("../../type/matrix/utils/algorithm13"),y="larger",o=["typed","config","matrix","DenseMatrix"],f=(0,m.factory)(y,o,function(g){var D=g.typed,E=g.config,C=g.matrix,T=g.DenseMatrix,O=(0,p.createAlgorithm03)({typed:D}),I=(0,A.createAlgorithm07)({typed:D,DenseMatrix:T}),M=(0,S.createAlgorithm12)({typed:D,DenseMatrix:T}),F=(0,l.createAlgorithm13)({typed:D}),B=(0,_.createAlgorithm14)({typed:D}),j=D(y,{"boolean, boolean":function(L,R){return R<L},"number, number":function(L,R){return R<L&&!(0,h.nearlyEqual)(L,R,E.epsilon)},"BigNumber, BigNumber":function(L,R){return L.gt(R)&&!(0,b.nearlyEqual)(L,R,E.epsilon)},"Fraction, Fraction":function(L,R){return L.compare(R)===1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(L,R){if(!L.equalBase(R))throw new Error("Cannot compare units with different base");return j(L.value,R.value)},"SparseMatrix, SparseMatrix":function(L,R){return I(L,R,j)},"SparseMatrix, DenseMatrix":function(L,R){return O(R,L,j,!0)},"DenseMatrix, SparseMatrix":function(L,R){return O(L,R,j,!1)},"DenseMatrix, DenseMatrix":function(L,R){return F(L,R,j)},"Array, Array":function(L,R){return j(C(L),C(R)).valueOf()},"Array, Matrix":function(L,R){return j(C(L),R)},"Matrix, Array":function(L,R){return j(L,C(R))},"SparseMatrix, any":function(L,R){return M(L,R,j,!1)},"DenseMatrix, any":function(L,R){return B(L,R,j,!1)},"any, SparseMatrix":function(L,R){return M(R,L,j,!0)},"any, DenseMatrix":function(L,R){return B(R,L,j,!0)},"Array, any":function(L,R){return B(C(L),R,j,!1).valueOf()},"any, Array":function(L,R){return B(C(R),L,j,!0).valueOf()}});return j});r.createLarger=f;var x=(0,m.factory)(y,["typed","config"],function(g){var D=g.typed,E=g.config;return D(y,{"number, number":function(C,T){return T<C&&!(0,h.nearlyEqual)(C,T,E.epsilon)}})});r.createLargerNumber=x},{"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/nearlyEqual":926,"../../utils/factory":931,"../../utils/number":937}],802:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createLargerEqNumber=r.createLargerEq=void 0;var b=n("../../utils/bignumber/nearlyEqual"),h=n("../../utils/number"),m=n("../../utils/factory"),p=n("../../type/matrix/utils/algorithm03"),A=n("../../type/matrix/utils/algorithm07"),S=n("../../type/matrix/utils/algorithm12"),_=n("../../type/matrix/utils/algorithm14"),l=n("../../type/matrix/utils/algorithm13"),y="largerEq",o=["typed","config","matrix","DenseMatrix"],f=(0,m.factory)(y,o,function(g){var D=g.typed,E=g.config,C=g.matrix,T=g.DenseMatrix,O=(0,p.createAlgorithm03)({typed:D}),I=(0,A.createAlgorithm07)({typed:D,DenseMatrix:T}),M=(0,S.createAlgorithm12)({typed:D,DenseMatrix:T}),F=(0,l.createAlgorithm13)({typed:D}),B=(0,_.createAlgorithm14)({typed:D}),j=D(y,{"boolean, boolean":function(L,R){return R<=L},"number, number":function(L,R){return R<=L||(0,h.nearlyEqual)(L,R,E.epsilon)},"BigNumber, BigNumber":function(L,R){return L.gte(R)||(0,b.nearlyEqual)(L,R,E.epsilon)},"Fraction, Fraction":function(L,R){return L.compare(R)!==-1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(L,R){if(!L.equalBase(R))throw new Error("Cannot compare units with different base");return j(L.value,R.value)},"SparseMatrix, SparseMatrix":function(L,R){return I(L,R,j)},"SparseMatrix, DenseMatrix":function(L,R){return O(R,L,j,!0)},"DenseMatrix, SparseMatrix":function(L,R){return O(L,R,j,!1)},"DenseMatrix, DenseMatrix":function(L,R){return F(L,R,j)},"Array, Array":function(L,R){return j(C(L),C(R)).valueOf()},"Array, Matrix":function(L,R){return j(C(L),R)},"Matrix, Array":function(L,R){return j(L,C(R))},"SparseMatrix, any":function(L,R){return M(L,R,j,!1)},"DenseMatrix, any":function(L,R){return B(L,R,j,!1)},"any, SparseMatrix":function(L,R){return M(R,L,j,!0)},"any, DenseMatrix":function(L,R){return B(R,L,j,!0)},"Array, any":function(L,R){return B(C(L),R,j,!1).valueOf()},"any, Array":function(L,R){return B(C(R),L,j,!0).valueOf()}});return j});r.createLargerEq=f;var x=(0,m.factory)(y,["typed","config"],function(g){var D=g.typed,E=g.config;return D(y,{"number, number":function(C,T){return T<=C||(0,h.nearlyEqual)(C,T,E.epsilon)}})});r.createLargerEqNumber=x},{"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/nearlyEqual":926,"../../utils/factory":931,"../../utils/number":937}],803:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSmallerNumber=r.createSmaller=void 0;var b=n("../../utils/bignumber/nearlyEqual"),h=n("../../utils/number"),m=n("../../utils/factory"),p=n("../../type/matrix/utils/algorithm03"),A=n("../../type/matrix/utils/algorithm07"),S=n("../../type/matrix/utils/algorithm12"),_=n("../../type/matrix/utils/algorithm14"),l=n("../../type/matrix/utils/algorithm13"),y="smaller",o=["typed","config","matrix","DenseMatrix"],f=(0,m.factory)(y,o,function(g){var D=g.typed,E=g.config,C=g.matrix,T=g.DenseMatrix,O=(0,p.createAlgorithm03)({typed:D}),I=(0,A.createAlgorithm07)({typed:D,DenseMatrix:T}),M=(0,S.createAlgorithm12)({typed:D,DenseMatrix:T}),F=(0,l.createAlgorithm13)({typed:D}),B=(0,_.createAlgorithm14)({typed:D}),j=D(y,{"boolean, boolean":function(L,R){return L<R},"number, number":function(L,R){return L<R&&!(0,h.nearlyEqual)(L,R,E.epsilon)},"BigNumber, BigNumber":function(L,R){return L.lt(R)&&!(0,b.nearlyEqual)(L,R,E.epsilon)},"Fraction, Fraction":function(L,R){return L.compare(R)===-1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(L,R){if(!L.equalBase(R))throw new Error("Cannot compare units with different base");return j(L.value,R.value)},"SparseMatrix, SparseMatrix":function(L,R){return I(L,R,j)},"SparseMatrix, DenseMatrix":function(L,R){return O(R,L,j,!0)},"DenseMatrix, SparseMatrix":function(L,R){return O(L,R,j,!1)},"DenseMatrix, DenseMatrix":function(L,R){return F(L,R,j)},"Array, Array":function(L,R){return j(C(L),C(R)).valueOf()},"Array, Matrix":function(L,R){return j(C(L),R)},"Matrix, Array":function(L,R){return j(L,C(R))},"SparseMatrix, any":function(L,R){return M(L,R,j,!1)},"DenseMatrix, any":function(L,R){return B(L,R,j,!1)},"any, SparseMatrix":function(L,R){return M(R,L,j,!0)},"any, DenseMatrix":function(L,R){return B(R,L,j,!0)},"Array, any":function(L,R){return B(C(L),R,j,!1).valueOf()},"any, Array":function(L,R){return B(C(R),L,j,!0).valueOf()}});return j});r.createSmaller=f;var x=(0,m.factory)(y,["typed","config"],function(g){var D=g.typed,E=g.config;return D(y,{"number, number":function(C,T){return C<T&&!(0,h.nearlyEqual)(C,T,E.epsilon)}})});r.createSmallerNumber=x},{"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/nearlyEqual":926,"../../utils/factory":931,"../../utils/number":937}],804:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSmallerEqNumber=r.createSmallerEq=void 0;var b=n("../../utils/bignumber/nearlyEqual"),h=n("../../utils/number"),m=n("../../utils/factory"),p=n("../../type/matrix/utils/algorithm03"),A=n("../../type/matrix/utils/algorithm07"),S=n("../../type/matrix/utils/algorithm12"),_=n("../../type/matrix/utils/algorithm14"),l=n("../../type/matrix/utils/algorithm13"),y="smallerEq",o=["typed","config","matrix","DenseMatrix"],f=(0,m.factory)(y,o,function(g){var D=g.typed,E=g.config,C=g.matrix,T=g.DenseMatrix,O=(0,p.createAlgorithm03)({typed:D}),I=(0,A.createAlgorithm07)({typed:D,DenseMatrix:T}),M=(0,S.createAlgorithm12)({typed:D,DenseMatrix:T}),F=(0,l.createAlgorithm13)({typed:D}),B=(0,_.createAlgorithm14)({typed:D}),j=D(y,{"boolean, boolean":function(L,R){return L<=R},"number, number":function(L,R){return L<=R||(0,h.nearlyEqual)(L,R,E.epsilon)},"BigNumber, BigNumber":function(L,R){return L.lte(R)||(0,b.nearlyEqual)(L,R,E.epsilon)},"Fraction, Fraction":function(L,R){return L.compare(R)!==1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(L,R){if(!L.equalBase(R))throw new Error("Cannot compare units with different base");return j(L.value,R.value)},"SparseMatrix, SparseMatrix":function(L,R){return I(L,R,j)},"SparseMatrix, DenseMatrix":function(L,R){return O(R,L,j,!0)},"DenseMatrix, SparseMatrix":function(L,R){return O(L,R,j,!1)},"DenseMatrix, DenseMatrix":function(L,R){return F(L,R,j)},"Array, Array":function(L,R){return j(C(L),C(R)).valueOf()},"Array, Matrix":function(L,R){return j(C(L),R)},"Matrix, Array":function(L,R){return j(L,C(R))},"SparseMatrix, any":function(L,R){return M(L,R,j,!1)},"DenseMatrix, any":function(L,R){return B(L,R,j,!1)},"any, SparseMatrix":function(L,R){return M(R,L,j,!0)},"any, DenseMatrix":function(L,R){return B(R,L,j,!0)},"Array, any":function(L,R){return B(C(L),R,j,!1).valueOf()},"any, Array":function(L,R){return B(C(R),L,j,!0).valueOf()}});return j});r.createSmallerEq=f;var x=(0,m.factory)(y,["typed","config"],function(g){var D=g.typed,E=g.config;return D(y,{"number, number":function(C,T){return C<=T||(0,h.nearlyEqual)(C,T,E.epsilon)}})});r.createSmallerEqNumber=x},{"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/bignumber/nearlyEqual":926,"../../utils/factory":931,"../../utils/number":937}],805:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUnequalNumber=r.createUnequal=void 0;var b=n("../../utils/factory"),h=n("../../type/matrix/utils/algorithm03"),m=n("../../type/matrix/utils/algorithm07"),p=n("../../type/matrix/utils/algorithm12"),A=n("../../type/matrix/utils/algorithm14"),S=n("../../type/matrix/utils/algorithm13"),_=["typed","config","equalScalar","matrix","DenseMatrix"],l=(0,b.factory)("unequal",_,function(o){var f=o.typed,x=(o.config,o.equalScalar),g=o.matrix,D=o.DenseMatrix,E=(0,h.createAlgorithm03)({typed:f}),C=(0,m.createAlgorithm07)({typed:f,DenseMatrix:D}),T=(0,p.createAlgorithm12)({typed:f,DenseMatrix:D}),O=(0,S.createAlgorithm13)({typed:f}),I=(0,A.createAlgorithm14)({typed:f}),M=f("unequal",{"any, any":function(B,j){return B===null?j!==null:j===null?B!==null:B===void 0?j!==void 0:j===void 0?B!==void 0:F(B,j)},"SparseMatrix, SparseMatrix":function(B,j){return C(B,j,F)},"SparseMatrix, DenseMatrix":function(B,j){return E(j,B,F,!0)},"DenseMatrix, SparseMatrix":function(B,j){return E(B,j,F,!1)},"DenseMatrix, DenseMatrix":function(B,j){return O(B,j,F)},"Array, Array":function(B,j){return M(g(B),g(j)).valueOf()},"Array, Matrix":function(B,j){return M(g(B),j)},"Matrix, Array":function(B,j){return M(B,g(j))},"SparseMatrix, any":function(B,j){return T(B,j,F,!1)},"DenseMatrix, any":function(B,j){return I(B,j,F,!1)},"any, SparseMatrix":function(B,j){return T(j,B,F,!0)},"any, DenseMatrix":function(B,j){return I(j,B,F,!0)},"Array, any":function(B,j){return I(g(B),j,F,!1).valueOf()},"any, Array":function(B,j){return I(g(j),B,F,!0).valueOf()}});function F(B,j){return!x(B,j)}return M});r.createUnequal=l;var y=(0,b.factory)("unequal",["typed","equalScalar"],function(o){var f=o.typed,x=o.equalScalar;return f("unequal",{"any, any":function(g,D){return g===null?D!==null:D===null?g!==null:g===void 0?D!==void 0:D===void 0?g!==void 0:!x(g,D)}})});r.createUnequalNumber=y},{"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm07":906,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],806:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetCartesian=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m=["typed","size","subset","compareNatural","Index","DenseMatrix"],p=(0,h.factory)("setCartesian",m,function(A){var S=A.typed,_=A.size,l=A.subset,y=A.compareNatural,o=A.Index,f=A.DenseMatrix;return S("setCartesian",{"Array | Matrix, Array | Matrix":function(x,g){var D=[];if(l(_(x),new o(0))!==0&&l(_(g),new o(0))!==0)for(var E=(0,b.flatten)(Array.isArray(x)?x:x.toArray()).sort(y),C=(0,b.flatten)(Array.isArray(g)?g:g.toArray()).sort(y),D=[],T=0;T<E.length;T++)for(var O=0;O<C.length;O++)D.push([E[T],C[O]]);return Array.isArray(x)&&Array.isArray(g)?D:new f(D)}})});r.createSetCartesian=p},{"../../utils/array":922,"../../utils/factory":931}],807:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetDifference=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m="setDifference",p=["typed","size","subset","compareNatural","Index","DenseMatrix"],A=(0,h.factory)(m,p,function(S){var _=S.typed,l=S.size,y=S.subset,o=S.compareNatural,f=S.Index,x=S.DenseMatrix;return _(m,{"Array | Matrix, Array | Matrix":function(g,D){if(y(l(g),new f(0))===0)O=[];else{if(y(l(D),new f(0))===0)return(0,b.flatten)(g.toArray());for(var E,C=(0,b.identify)((0,b.flatten)(Array.isArray(g)?g:g.toArray()).sort(o)),T=(0,b.identify)((0,b.flatten)(Array.isArray(D)?D:D.toArray()).sort(o)),O=[],I=0;I<C.length;I++){E=!1;for(var M=0;M<T.length;M++)if(o(C[I].value,T[M].value)===0&&C[I].identifier===T[M].identifier){E=!0;break}E||O.push(C[I])}}return Array.isArray(g)&&Array.isArray(D)?(0,b.generalize)(O):new x((0,b.generalize)(O))}})});r.createSetDifference=A},{"../../utils/array":922,"../../utils/factory":931}],808:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetDistinct=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m=["typed","size","subset","compareNatural","Index","DenseMatrix"],p=(0,h.factory)("setDistinct",m,function(A){var S=A.typed,_=A.size,l=A.subset,y=A.compareNatural,o=A.Index,f=A.DenseMatrix;return S("setDistinct",{"Array | Matrix":function(x){if(l(_(x),new o(0))===0)g=[];else{var g,D=(0,b.flatten)(Array.isArray(x)?x:x.toArray()).sort(y);(g=[]).push(D[0]);for(var E=1;E<D.length;E++)y(D[E],D[E-1])!==0&&g.push(D[E])}return Array.isArray(x)?g:new f(g)}})});r.createSetDistinct=p},{"../../utils/array":922,"../../utils/factory":931}],809:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetIntersect=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m=["typed","size","subset","compareNatural","Index","DenseMatrix"],p=(0,h.factory)("setIntersect",m,function(A){var S=A.typed,_=A.size,l=A.subset,y=A.compareNatural,o=A.Index,f=A.DenseMatrix;return S("setIntersect",{"Array | Matrix, Array | Matrix":function(x,g){if(l(_(x),new o(0))===0||l(_(g),new o(0))===0)C=[];else for(var D=(0,b.identify)((0,b.flatten)(Array.isArray(x)?x:x.toArray()).sort(y)),E=(0,b.identify)((0,b.flatten)(Array.isArray(g)?g:g.toArray()).sort(y)),C=[],T=0;T<D.length;T++)for(var O=0;O<E.length;O++)if(y(D[T].value,E[O].value)===0&&D[T].identifier===E[O].identifier){C.push(D[T]);break}return Array.isArray(x)&&Array.isArray(g)?(0,b.generalize)(C):new f((0,b.generalize)(C))}})});r.createSetIntersect=p},{"../../utils/array":922,"../../utils/factory":931}],810:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetIsSubset=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m=["typed","size","subset","compareNatural","Index"],p=(0,h.factory)("setIsSubset",m,function(A){var S=A.typed,_=A.size,l=A.subset,y=A.compareNatural,o=A.Index;return S("setIsSubset",{"Array | Matrix, Array | Matrix":function(f,x){if(l(_(f),new o(0))===0)return!0;if(l(_(x),new o(0))===0)return!1;for(var g,D=(0,b.identify)((0,b.flatten)(Array.isArray(f)?f:f.toArray()).sort(y)),E=(0,b.identify)((0,b.flatten)(Array.isArray(x)?x:x.toArray()).sort(y)),C=0;C<D.length;C++){g=!1;for(var T=0;T<E.length;T++)if(y(D[C].value,E[T].value)===0&&D[C].identifier===E[T].identifier){g=!0;break}if(g===!1)return!1}return!0}})});r.createSetIsSubset=p},{"../../utils/array":922,"../../utils/factory":931}],811:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetMultiplicity=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m="setMultiplicity",p=["typed","size","subset","compareNatural","Index"],A=(0,h.factory)(m,p,function(S){var _=S.typed,l=S.size,y=S.subset,o=S.compareNatural,f=S.Index;return _(m,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(x,g){if(y(l(g),new f(0))===0)return 0;for(var D=(0,b.flatten)(Array.isArray(g)?g:g.toArray()),E=0,C=0;C<D.length;C++)o(D[C],x)===0&&E++;return E}})});r.createSetMultiplicity=A},{"../../utils/array":922,"../../utils/factory":931}],812:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetPowerset=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m=["typed","size","subset","compareNatural","Index"],p=(0,h.factory)("setPowerset",m,function(A){var S=A.typed,_=A.size,l=A.subset,y=A.compareNatural,o=A.Index;return S("setPowerset",{"Array | Matrix":function(f){if(l(_(f),new o(0))===0)return[];for(var x=(0,b.flatten)(Array.isArray(f)?f:f.toArray()).sort(y),g=[],D=0;D.toString(2).length<=x.length;)g.push(function(E,C){for(var T=[],O=0;O<C.length;O++)C[O]==="1"&&T.push(E[O]);return T}(x,D.toString(2).split("").reverse())),D++;return function(E){for(var C=[],T=E.length-1;0<T;T--)for(var O=0;O<T;O++)E[O].length>E[O+1].length&&(C=E[O],E[O]=E[O+1],E[O+1]=C);return E}(g)}})});r.createSetPowerset=p},{"../../utils/array":922,"../../utils/factory":931}],813:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetSize=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m=["typed","compareNatural"],p=(0,h.factory)("setSize",m,function(A){var S=A.typed,_=A.compareNatural;return S("setSize",{"Array | Matrix":function(l){return Array.isArray(l)?(0,b.flatten)(l).length:(0,b.flatten)(l.toArray()).length},"Array | Matrix, boolean":function(l,y){if(y===!1||l.length===0)return Array.isArray(l)?(0,b.flatten)(l).length:(0,b.flatten)(l.toArray()).length;for(var o=(0,b.flatten)(Array.isArray(l)?l:l.toArray()).sort(_),f=1,x=1;x<o.length;x++)_(o[x],o[x-1])!==0&&f++;return f}})});r.createSetSize=p},{"../../utils/array":922,"../../utils/factory":931}],814:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetSymDifference=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m="setSymDifference",p=["typed","size","concat","subset","setDifference","Index"],A=(0,h.factory)(m,p,function(S){var _=S.typed,l=S.size,y=S.concat,o=S.subset,f=S.setDifference,x=S.Index;return _(m,{"Array | Matrix, Array | Matrix":function(g,D){if(o(l(g),new x(0))===0)return(0,b.flatten)(D);if(o(l(D),new x(0))===0)return(0,b.flatten)(g);var E=(0,b.flatten)(g),C=(0,b.flatten)(D);return y(f(E,C),f(C,E))}})});r.createSetSymDifference=A},{"../../utils/array":922,"../../utils/factory":931}],815:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSetUnion=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],p=(0,h.factory)("setUnion",m,function(A){var S=A.typed,_=A.size,l=A.concat,y=A.subset,o=A.setIntersect,f=A.setSymDifference,x=A.Index;return S("setUnion",{"Array | Matrix, Array | Matrix":function(g,D){if(y(_(g),new x(0))===0)return(0,b.flatten)(D);if(y(_(D),new x(0))===0)return(0,b.flatten)(g);var E=(0,b.flatten)(g),C=(0,b.flatten)(D);return l(f(E,C),o(E,C))}})});r.createSetUnion=p},{"../../utils/array":922,"../../utils/factory":931}],816:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createErf=void 0;var b=n("../../utils/collection"),h=n("../../utils/number"),m=["typed"],p=(0,n("../../utils/factory").factory)("erf",m,function(o){var f=(0,o.typed)("name",{number:function(x){var g=Math.abs(x);return y<=g?(0,h.sign)(x):g<=A?(0,h.sign)(x)*function(D){var E,C=D*D,T=_[0][4]*C,O=C;for(E=0;E<3;E+=1)T=(T+_[0][E])*C,O=(O+l[0][E])*C;return D*(T+_[0][3])/(O+l[0][3])}(g):g<=4?(0,h.sign)(x)*(1-function(D){var E,C=_[1][8]*D,T=D;for(E=0;E<7;E+=1)C=(C+_[1][E])*D,T=(T+l[1][E])*D;var O=(C+_[1][7])/(T+l[1][7]),I=parseInt(16*D)/16,M=(D-I)*(D+I);return Math.exp(-I*I)*Math.exp(-M)*O}(g)):(0,h.sign)(x)*(1-function(D){var E,C=1/(D*D),T=_[2][5]*C,O=C;for(E=0;E<4;E+=1)T=(T+_[2][E])*C,O=(O+l[2][E])*C;var I=C*(T+_[2][4])/(O+l[2][4]);I=(S-I)/D,C=parseInt(16*D)/16;var M=(D-C)*(D+C);return Math.exp(-C*C)*Math.exp(-M)*I}(g))},"Array | Matrix":function(x){return(0,b.deepMap)(x,f)}});return f});r.createErf=p;var A=.46875,S=.5641895835477563,_=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],l=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],y=Math.pow(2,53)},{"../../utils/collection":927,"../../utils/factory":931,"../../utils/number":937}],817:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMad=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m=n("./utils/improveErrorMessage"),p=["typed","abs","map","median","subtract"],A=(0,h.factory)("mad",p,function(S){var _=S.typed,l=S.abs,y=S.map,o=S.median,f=S.subtract;return _("mad",{"Array | Matrix":x,"...":x});function x(g){if((g=(0,b.flatten)(g.valueOf())).length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var D=o(g);return o(y(g,function(E){return l(f(E,D))}))}catch(E){throw E instanceof TypeError&&E.message.indexOf("median")!==-1?new TypeError(E.message.replace("median","mad")):(0,m.improveErrorMessage)(E,"mad")}}});r.createMad=A},{"../../utils/array":922,"../../utils/factory":931,"./utils/improveErrorMessage":827}],818:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMax=void 0;var b=n("../../utils/collection"),h=n("../../utils/factory"),m=n("./utils/improveErrorMessage"),p=["typed","larger"],A=(0,h.factory)("max",p,function(S){var _=S.typed,l=S.larger;return _("max",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(f,x){return(0,b.reduce)(f,x.valueOf(),y)},"...":function(f){if((0,b.containsCollections)(f))throw new TypeError("Scalar values expected in function max");return o(f)}});function y(f,x){try{return l(f,x)?f:x}catch(g){throw(0,m.improveErrorMessage)(g,"max",x)}}function o(f){var x;if((0,b.deepForEach)(f,function(g){try{isNaN(g)&&typeof g=="number"?x=NaN:x!==void 0&&!l(g,x)||(x=g)}catch(D){throw(0,m.improveErrorMessage)(D,"max",g)}}),x===void 0)throw new Error("Cannot calculate max of an empty array");return x}});r.createMax=A},{"../../utils/collection":927,"../../utils/factory":931,"./utils/improveErrorMessage":827}],819:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMean=void 0;var b=n("../../utils/collection"),h=n("../../utils/array"),m=n("../../utils/factory"),p=n("./utils/improveErrorMessage"),A=["typed","add","divide"],S=(0,m.factory)("mean",A,function(_){var l=_.typed,y=_.add,o=_.divide;return l("mean",{"Array | Matrix":f,"Array | Matrix, number | BigNumber":function(x,g){try{var D=(0,b.reduce)(x,g,y),E=Array.isArray(x)?(0,h.arraySize)(x):x.size();return o(D,E[g])}catch(C){throw(0,p.improveErrorMessage)(C,"mean")}},"...":function(x){if((0,b.containsCollections)(x))throw new TypeError("Scalar values expected in function mean");return f(x)}});function f(x){var g,D=0;if((0,b.deepForEach)(x,function(E){try{g=g===void 0?E:y(g,E),D++}catch(C){throw(0,p.improveErrorMessage)(C,"mean",E)}}),D===0)throw new Error("Cannot calculate the mean of an empty array");return o(g,D)}});r.createMean=S},{"../../utils/array":922,"../../utils/collection":927,"../../utils/factory":931,"./utils/improveErrorMessage":827}],820:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMedian=void 0;var b=n("../../utils/collection"),h=n("../../utils/array"),m=n("../../utils/factory"),p=n("./utils/improveErrorMessage"),A=["typed","add","divide","compare","partitionSelect"],S=(0,m.factory)("median",A,function(_){var l=_.typed,y=_.add,o=_.divide,f=_.compare,x=_.partitionSelect,g=l("median",{"Array | Matrix":D,"Array | Matrix, number | BigNumber":function(){throw new Error("median(A, dim) is not yet supported")},"...":function(T){if((0,b.containsCollections)(T))throw new TypeError("Scalar values expected in function median");return D(T)}});function D(T){try{var O=(T=(0,h.flatten)(T.valueOf())).length;if(O===0)throw new Error("Cannot calculate median of an empty array");if(O%2==0){for(var I=O/2-1,M=x(T,1+I),F=T[I],B=0;B<I;++B)0<f(T[B],F)&&(F=T[B]);return C(F,M)}var j=x(T,(O-1)/2);return E(j)}catch(L){throw(0,p.improveErrorMessage)(L,"median")}}var E=l({"number | BigNumber | Complex | Unit":function(T){return T}}),C=l({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(T,O){return o(y(T,O),2)}});return g});r.createMedian=S},{"../../utils/array":922,"../../utils/collection":927,"../../utils/factory":931,"./utils/improveErrorMessage":827}],821:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMin=void 0;var b=n("../../utils/collection"),h=n("../../utils/factory"),m=n("./utils/improveErrorMessage"),p=["typed","smaller"],A=(0,h.factory)("min",p,function(S){var _=S.typed,l=S.smaller;return _("min",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(f,x){return(0,b.reduce)(f,x.valueOf(),y)},"...":function(f){if((0,b.containsCollections)(f))throw new TypeError("Scalar values expected in function min");return o(f)}});function y(f,x){try{return l(f,x)?f:x}catch(g){throw(0,m.improveErrorMessage)(g,"min",x)}}function o(f){var x;if((0,b.deepForEach)(f,function(g){try{isNaN(g)&&typeof g=="number"?x=NaN:x!==void 0&&!l(g,x)||(x=g)}catch(D){throw(0,m.improveErrorMessage)(D,"min",g)}}),x===void 0)throw new Error("Cannot calculate min of an empty array");return x}});r.createMin=A},{"../../utils/collection":927,"../../utils/factory":931,"./utils/improveErrorMessage":827}],822:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMode=void 0;var b=n("../../utils/array"),h=n("../../utils/factory"),m=["typed","isNaN","isNumeric"],p=(0,h.factory)("mode",m,function(A){var S=A.typed,_=A.isNaN,l=A.isNumeric;return S("mode",{"Array | Matrix":y,"...":y});function y(o){if((o=(0,b.flatten)(o.valueOf())).length===0)throw new Error("Cannot calculate mode of an empty array");for(var f={},x=[],g=0,D=0;D<o.length;D++){var E=o[D];if(l(E)&&_(E))throw new Error("Cannot calculate mode of an array containing NaN values");E in f||(f[E]=0),f[E]++,f[E]===g?x.push(E):f[E]>g&&(g=f[E],x=[E])}return x}});r.createMode=p},{"../../utils/array":922,"../../utils/factory":931}],823:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createProd=void 0;var b=n("../../utils/collection"),h=n("../../utils/factory"),m=n("./utils/improveErrorMessage"),p=["typed","multiply"],A=(0,h.factory)("prod",p,function(S){var _=S.typed,l=S.multiply;return _("prod",{"Array | Matrix":y,"Array | Matrix, number | BigNumber":function(){throw new Error("prod(A, dim) is not yet supported")},"...":y});function y(o){var f;if((0,b.deepForEach)(o,function(x){try{f=f===void 0?x:l(f,x)}catch(g){throw(0,m.improveErrorMessage)(g,"prod",x)}}),f===void 0)throw new Error("Cannot calculate prod of an empty array");return f}});r.createProd=A},{"../../utils/collection":927,"../../utils/factory":931,"./utils/improveErrorMessage":827}],824:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createQuantileSeq=void 0;var b=n("../../utils/is"),h=n("../../utils/number"),m=n("../../utils/array"),p=["typed","add","multiply","partitionSelect","compare"],A=(0,n("../../utils/factory").factory)("quantileSeq",p,function(S){var _=S.typed,l=S.add,y=S.multiply,o=S.partitionSelect,f=S.compare;function x(D,E,C){var T=(0,m.flatten)(D),O=T.length;if(O===0)throw new Error("Cannot calculate quantile of an empty sequence");if((0,b.isNumber)(E)){var I=E*(O-1),M=I%1;if(M==0){var F=C?T[I]:o(T,I);return g(F),F}var B,j,L=Math.floor(I);if(C)B=T[L],j=T[L+1];else{j=o(T,L+1),B=T[L];for(var R=0;R<L;++R)0<f(T[R],B)&&(B=T[R])}return g(B),g(j),l(y(B,1-M),y(j,M))}var V=E.times(O-1);if(V.isInteger()){V=V.toNumber();var k=C?T[V]:o(T,V);return g(k),k}var U,G,H=V.floor(),X=V.minus(H),Z=H.toNumber();if(C)U=T[Z],G=T[Z+1];else{G=o(T,Z+1),U=T[Z];for(var J=0;J<Z;++J)0<f(T[J],U)&&(U=T[J])}g(U),g(G);var ee=new X.constructor(1);return l(y(U,ee.minus(X)),y(G,X))}var g=_({"number | BigNumber | Unit":function(D){return D}});return function(D,E,C){var T,O;if(arguments.length<2||3<arguments.length)throw new SyntaxError("Function quantileSeq requires two or three parameters");if((0,b.isCollection)(D)){if(typeof(C=C||!1)!="boolean")throw new TypeError("Unexpected type of argument in function quantileSeq");if(T=D.valueOf(),(0,b.isNumber)(E)){if(E<0)throw new Error("N/prob must be non-negative");if(E<=1)return x(T,E,C);if(1<E){if(!(0,h.isInteger)(E))throw new Error("N must be a positive integer");for(var I=E+1,M=new Array(E),F=0;F<E;)M[F]=x(T,++F/I,C);return M}}if((0,b.isBigNumber)(E)){var B=E.constructor;if(E.isNegative())throw new Error("N/prob must be non-negative");if(O=new B(1),E.lte(O))return new B(x(T,E,C));if(E.gt(O)){if(!E.isInteger())throw new Error("N must be a positive integer");var j=E.toNumber();if(4294967295<j)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var L=new B(j+1);M=new Array(j);for(var R=0;R<j;)M[R]=new B(x(T,new B(++R).div(L),C));return M}}if(Array.isArray(E)){M=new Array(E.length);for(var V=0;V<M.length;++V){var k=E[V];if((0,b.isNumber)(k)){if(k<0||1<k)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!(0,b.isBigNumber)(k))throw new TypeError("Unexpected type of argument in function quantileSeq");if(O=new k.constructor(1),k.isNegative()||k.gt(O))throw new Error("Probability must be between 0 and 1, inclusive")}M[V]=x(T,k,C)}return M}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}});r.createQuantileSeq=A},{"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937}],825:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createStd=void 0;var b=n("../../utils/factory"),h=["typed","sqrt","variance"],m=(0,b.factory)("std",h,function(p){var A=p.typed,S=p.sqrt,_=p.variance;return A("std",{"Array | Matrix":l,"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":l,"Array | Matrix, number | BigNumber, string":l,"...":function(y){return l(y)}});function l(y,o){if(y.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return S(_.apply(null,arguments))}catch(f){throw f instanceof TypeError&&f.message.indexOf(" variance")!==-1?new TypeError(f.message.replace(" variance"," std")):f}}});r.createStd=m},{"../../utils/factory":931}],826:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSum=void 0;var b=n("../../utils/collection"),h=n("../../utils/factory"),m=n("./utils/improveErrorMessage"),p=n("../../utils/noop"),A=["typed","config","add","?bignumber","?fraction"],S=(0,h.factory)("sum",A,function(_){var l=_.typed,y=_.config,o=_.add,f=_.bignumber,x=_.fraction;return l("sum",{"Array | Matrix":g,"Array | Matrix, number | BigNumber":function(D,E){try{return(0,b.reduce)(D,E,o)}catch(C){throw(0,m.improveErrorMessage)(C,"sum")}},"...":function(D){if((0,b.containsCollections)(D))throw new TypeError("Scalar values expected in function sum");return g(D)}});function g(D){var E;if((0,b.deepForEach)(D,function(C){try{E=E===void 0?C:o(E,C)}catch(T){throw(0,m.improveErrorMessage)(T,"sum",C)}}),E===void 0)switch(y.number){case"number":return 0;case"BigNumber":return f?f(0):(0,p.noBignumber)();case"Fraction":return x?x(0):(0,p.noFraction)();default:return 0}return E}});r.createSum=S},{"../../utils/collection":927,"../../utils/factory":931,"../../utils/noop":936,"./utils/improveErrorMessage":827}],827:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.improveErrorMessage=function(h,m,p){var A;return String(h).indexOf("Unexpected type")===-1?String(h).indexOf("complex numbers")===-1?h:(A=2<arguments.length?" (type: "+(0,b.typeOf)(p)+", value: "+JSON.stringify(p)+")":"",new TypeError("Cannot calculate "+m+", no ordering relation is defined for complex numbers"+A)):(A=2<arguments.length?" (type: "+(0,b.typeOf)(p)+", value: "+JSON.stringify(p)+")":" (type: "+h.data.actual+")",new TypeError("Cannot calculate "+m+", unexpected type of argument"+A))};var b=n("../../../utils/is")},{"../../../utils/is":933}],828:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeprecatedVar=r.createVariance=void 0;var b=n("../../utils/collection"),h=n("../../utils/is"),m=n("../../utils/factory"),p=n("./utils/improveErrorMessage"),A=n("../../utils/log"),S=["typed","add","subtract","multiply","divide","apply","isNaN"],_=(0,m.factory)("variance",S,function(y){var o=y.typed,f=y.add,x=y.subtract,g=y.multiply,D=y.divide,E=y.apply,C=y.isNaN;return o("variance",{"Array | Matrix":function(I){return T(I,"unbiased")},"Array | Matrix, string":T,"Array | Matrix, number | BigNumber":function(I,M){return O(I,M,"unbiased")},"Array | Matrix, number | BigNumber, string":O,"...":function(I){return T(I,"unbiased")}});function T(I,M){var j=0,F=0;if(I.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if((0,b.deepForEach)(I,function(R){try{j=f(j,R),F++}catch(V){throw(0,p.improveErrorMessage)(V,"variance",R)}}),F===0)throw new Error("Cannot calculate variance of an empty array");var B=D(j,F),j=0;if((0,b.deepForEach)(I,function(R){var V=x(R,B);j=f(j,g(V,V))}),C(j))return j;switch(M){case"uncorrected":return D(j,F);case"biased":return D(j,F+1);case"unbiased":var L=(0,h.isBigNumber)(j)?j.mul(0):0;return F===1?L:D(j,F-1);default:throw new Error('Unknown normalization "'+M+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function O(I,M,F){try{if(I.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return E(I,M,function(B){return T(B,F)})}catch(B){throw(0,p.improveErrorMessage)(B,"variance")}}});r.createVariance=_;var l=(0,m.factory)("var",["variance"],function(y){var o=y.variance;return function(){(0,A.warnOnce)('Function "var" has been renamed to "variance" in v6.0.0, please use the new function instead.');for(var f=arguments.length,x=new Array(f),g=0;g<f;g++)x[g]=arguments[g];return o.apply(o,x)}});r.createDeprecatedVar=l},{"../../utils/collection":927,"../../utils/factory":931,"../../utils/is":933,"../../utils/log":935,"./utils/improveErrorMessage":827}],829:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFormat=void 0;var b=n("../../utils/string"),h=n("../../utils/factory"),m=["typed"],p=(0,h.factory)("format",m,function(A){return(0,A.typed)("format",{any:b.format,"any, Object | function | number":b.format})});r.createFormat=p},{"../../utils/factory":931,"../../utils/string":941}],830:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createPrint=void 0;var b=n("../../utils/string"),h=n("../../utils/is"),m=n("../../utils/factory"),p=["typed"],A=(0,m.factory)("print",p,function(_){return(0,_.typed)("print",{"string, Object | Array":S,"string, Object | Array, number | Object":S})});function S(_,l,y){return _.replace(/\$([\w.]+)/g,function(o,f){for(var x=f.split("."),D=l[x.shift()];x.length&&D!==void 0;)var g=x.shift(),D=g?D[g]:D+".";return D!==void 0?(0,h.isString)(D)?D:(0,b.format)(D,y):o})}r.createPrint=A},{"../../utils/factory":931,"../../utils/is":933,"../../utils/string":941}],831:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAcos=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=["typed","config","Complex"],p=(0,b.factory)("acos",m,function(A){var S=A.typed,_=A.config,l=A.Complex,y=S("acos",{number:function(o){return-1<=o&&o<=1||_.predictable?Math.acos(o):new l(o,0).acos()},Complex:function(o){return o.acos()},BigNumber:function(o){return o.acos()},"Array | Matrix":function(o){return(0,h.deepMap)(o,y)}});return y});r.createAcos=p},{"../../utils/collection":927,"../../utils/factory":931}],832:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAcosh=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","config","Complex"],A=(0,b.factory)("acosh",p,function(S){var _=S.typed,l=S.config,y=S.Complex,o=_("acosh",{number:function(f){return 1<=f||l.predictable?(0,m.acoshNumber)(f):f<=-1?new y(Math.log(Math.sqrt(f*f-1)-f),Math.PI):new y(f,0).acosh()},Complex:function(f){return f.acosh()},BigNumber:function(f){return f.acosh()},"Array | Matrix":function(f){return(0,h.deepMap)(f,o)}});return o});r.createAcosh=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],833:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAcot=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","BigNumber"],A=(0,b.factory)("acot",p,function(S){var _=S.typed,l=S.BigNumber,y=_("acot",{number:m.acotNumber,Complex:function(o){return o.acot()},BigNumber:function(o){return new l(1).div(o).atan()},"Array | Matrix":function(o){return(0,h.deepMap)(o,y)}});return y});r.createAcot=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],834:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAcoth=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","config","Complex","BigNumber"],A=(0,b.factory)("acoth",p,function(S){var _=S.typed,l=S.config,y=S.Complex,o=S.BigNumber,f=_("acoth",{number:function(x){return 1<=x||x<=-1||l.predictable?(0,m.acothNumber)(x):new y(x,0).acoth()},Complex:function(x){return x.acoth()},BigNumber:function(x){return new o(1).div(x).atanh()},"Array | Matrix":function(x){return(0,h.deepMap)(x,f)}});return f});r.createAcoth=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],835:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAcsc=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","config","Complex","BigNumber"],A=(0,b.factory)("acsc",p,function(S){var _=S.typed,l=S.config,y=S.Complex,o=S.BigNumber,f=_("acsc",{number:function(x){return x<=-1||1<=x||l.predictable?(0,m.acscNumber)(x):new y(x,0).acsc()},Complex:function(x){return x.acsc()},BigNumber:function(x){return new o(1).div(x).asin()},"Array | Matrix":function(x){return(0,h.deepMap)(x,f)}});return f});r.createAcsc=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],836:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAcsch=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","BigNumber"],A=(0,b.factory)("acsch",p,function(S){var _=S.typed,l=S.BigNumber,y=_("acsch",{number:m.acschNumber,Complex:function(o){return o.acsch()},BigNumber:function(o){return new l(1).div(o).asinh()},"Array | Matrix":function(o){return(0,h.deepMap)(o,y)}});return y});r.createAcsch=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],837:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAsec=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","config","Complex","BigNumber"],A=(0,b.factory)("asec",p,function(S){var _=S.typed,l=S.config,y=S.Complex,o=S.BigNumber,f=_("asec",{number:function(x){return x<=-1||1<=x||l.predictable?(0,m.asecNumber)(x):new y(x,0).asec()},Complex:function(x){return x.asec()},BigNumber:function(x){return new o(1).div(x).acos()},"Array | Matrix":function(x){return(0,h.deepMap)(x,f)}});return f});r.createAsec=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],838:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAsech=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","config","Complex","BigNumber"],A=(0,b.factory)("asech",p,function(S){var _=S.typed,l=S.config,y=S.Complex,o=S.BigNumber,f=_("asech",{number:function(x){if(x<=1&&-1<=x||l.predictable){var g=1/x;if(0<g||l.predictable)return(0,m.asechNumber)(x);var D=Math.sqrt(g*g-1);return new y(Math.log(D-g),Math.PI)}return new y(x,0).asech()},Complex:function(x){return x.asech()},BigNumber:function(x){return new o(1).div(x).acosh()},"Array | Matrix":function(x){return(0,h.deepMap)(x,f)}});return f});r.createAsech=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],839:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAsin=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=["typed","config","Complex"],p=(0,b.factory)("asin",m,function(A){var S=A.typed,_=A.config,l=A.Complex,y=S("asin",{number:function(o){return-1<=o&&o<=1||_.predictable?Math.asin(o):new l(o,0).asin()},Complex:function(o){return o.asin()},BigNumber:function(o){return o.asin()},"Array | Matrix":function(o){return(0,h.deepMap)(o,y,!0)}});return y});r.createAsin=p},{"../../utils/collection":927,"../../utils/factory":931}],840:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAsinh=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed"],A=(0,b.factory)("asinh",p,function(S){var _=(0,S.typed)("asinh",{number:m.asinhNumber,Complex:function(l){return l.asinh()},BigNumber:function(l){return l.asinh()},"Array | Matrix":function(l){return(0,h.deepMap)(l,_,!0)}});return _});r.createAsinh=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],841:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAtan=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=["typed"],p=(0,b.factory)("atan",m,function(A){var S=(0,A.typed)("atan",{number:function(_){return Math.atan(_)},Complex:function(_){return _.atan()},BigNumber:function(_){return _.atan()},"Array | Matrix":function(_){return(0,h.deepMap)(_,S,!0)}});return S});r.createAtan=p},{"../../utils/collection":927,"../../utils/factory":931}],842:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAtan2=void 0;var b=n("../../utils/factory"),h=n("../../type/matrix/utils/algorithm02"),m=n("../../type/matrix/utils/algorithm03"),p=n("../../type/matrix/utils/algorithm09"),A=n("../../type/matrix/utils/algorithm11"),S=n("../../type/matrix/utils/algorithm12"),_=n("../../type/matrix/utils/algorithm13"),l=n("../../type/matrix/utils/algorithm14"),y=["typed","matrix","equalScalar","BigNumber","DenseMatrix"],o=(0,b.factory)("atan2",y,function(f){var x=f.typed,g=f.matrix,D=f.equalScalar,E=f.BigNumber,C=f.DenseMatrix,T=(0,h.createAlgorithm02)({typed:x,equalScalar:D}),O=(0,m.createAlgorithm03)({typed:x}),I=(0,p.createAlgorithm09)({typed:x,equalScalar:D}),M=(0,A.createAlgorithm11)({typed:x,equalScalar:D}),F=(0,S.createAlgorithm12)({typed:x,DenseMatrix:C}),B=(0,_.createAlgorithm13)({typed:x}),j=(0,l.createAlgorithm14)({typed:x}),L=x("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(R,V){return E.atan2(R,V)},"SparseMatrix, SparseMatrix":function(R,V){return I(R,V,L,!1)},"SparseMatrix, DenseMatrix":function(R,V){return T(V,R,L,!0)},"DenseMatrix, SparseMatrix":function(R,V){return O(R,V,L,!1)},"DenseMatrix, DenseMatrix":function(R,V){return B(R,V,L)},"Array, Array":function(R,V){return L(g(R),g(V)).valueOf()},"Array, Matrix":function(R,V){return L(g(R),V)},"Matrix, Array":function(R,V){return L(R,g(V))},"SparseMatrix, number | BigNumber":function(R,V){return M(R,V,L,!1)},"DenseMatrix, number | BigNumber":function(R,V){return j(R,V,L,!1)},"number | BigNumber, SparseMatrix":function(R,V){return F(V,R,L,!0)},"number | BigNumber, DenseMatrix":function(R,V){return j(V,R,L,!0)},"Array, number | BigNumber":function(R,V){return j(g(R),V,L,!1).valueOf()},"number | BigNumber, Array":function(R,V){return j(g(V),R,L,!0).valueOf()}});return L});r.createAtan2=o},{"../../type/matrix/utils/algorithm02":901,"../../type/matrix/utils/algorithm03":902,"../../type/matrix/utils/algorithm09":908,"../../type/matrix/utils/algorithm11":910,"../../type/matrix/utils/algorithm12":911,"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],843:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAtanh=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","config","Complex"],A=(0,b.factory)("atanh",p,function(S){var _=S.typed,l=S.config,y=S.Complex,o=_("atanh",{number:function(f){return f<=1&&-1<=f||l.predictable?(0,m.atanhNumber)(f):new y(f,0).atanh()},Complex:function(f){return f.atanh()},BigNumber:function(f){return f.atanh()},"Array | Matrix":function(f){return(0,h.deepMap)(f,o,!0)}});return o});r.createAtanh=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],844:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCos=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=["typed"],p=(0,b.factory)("cos",m,function(A){var S=(0,A.typed)("cos",{number:Math.cos,Complex:function(_){return _.cos()},BigNumber:function(_){return _.cos()},Unit:function(_){if(!_.hasBase(_.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return S(_.value)},"Array | Matrix":function(_){return(0,h.deepMap)(_,S)}});return S});r.createCos=p},{"../../utils/collection":927,"../../utils/factory":931}],845:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCosh=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../utils/number"),p=["typed"],A=(0,b.factory)("cosh",p,function(S){var _=(0,S.typed)("cosh",{number:m.cosh,Complex:function(l){return l.cosh()},BigNumber:function(l){return l.cosh()},Unit:function(l){if(!l.hasBase(l.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return _(l.value)},"Array | Matrix":function(l){return(0,h.deepMap)(l,_)}});return _});r.createCosh=A},{"../../utils/collection":927,"../../utils/factory":931,"../../utils/number":937}],846:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCot=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","BigNumber"],A=(0,b.factory)("cot",p,function(S){var _=S.typed,l=S.BigNumber,y=_("cot",{number:m.cotNumber,Complex:function(o){return o.cot()},BigNumber:function(o){return new l(1).div(o.tan())},Unit:function(o){if(!o.hasBase(o.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return y(o.value)},"Array | Matrix":function(o){return(0,h.deepMap)(o,y)}});return y});r.createCot=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],847:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCoth=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","BigNumber"],A=(0,b.factory)("coth",p,function(S){var _=S.typed,l=S.BigNumber,y=_("coth",{number:m.cothNumber,Complex:function(o){return o.coth()},BigNumber:function(o){return new l(1).div(o.tanh())},Unit:function(o){if(!o.hasBase(o.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return y(o.value)},"Array | Matrix":function(o){return(0,h.deepMap)(o,y)}});return y});r.createCoth=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],848:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCsc=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","BigNumber"],A=(0,b.factory)("csc",p,function(S){var _=S.typed,l=S.BigNumber,y=_("csc",{number:m.cscNumber,Complex:function(o){return o.csc()},BigNumber:function(o){return new l(1).div(o.sin())},Unit:function(o){if(!o.hasBase(o.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return y(o.value)},"Array | Matrix":function(o){return(0,h.deepMap)(o,y)}});return y});r.createCsc=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],849:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCsch=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","BigNumber"],A=(0,b.factory)("csch",p,function(S){var _=S.typed,l=S.BigNumber,y=_("csch",{number:m.cschNumber,Complex:function(o){return o.csch()},BigNumber:function(o){return new l(1).div(o.sinh())},Unit:function(o){if(!o.hasBase(o.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return y(o.value)},"Array | Matrix":function(o){return(0,h.deepMap)(o,y)}});return y});r.createCsch=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],850:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSec=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","BigNumber"],A=(0,b.factory)("sec",p,function(S){var _=S.typed,l=S.BigNumber,y=_("sec",{number:m.secNumber,Complex:function(o){return o.sec()},BigNumber:function(o){return new l(1).div(o.cos())},Unit:function(o){if(!o.hasBase(o.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return y(o.value)},"Array | Matrix":function(o){return(0,h.deepMap)(o,y)}});return y});r.createSec=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],851:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSech=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed","BigNumber"],A=(0,b.factory)("sech",p,function(S){var _=S.typed,l=S.BigNumber,y=_("sech",{number:m.sechNumber,Complex:function(o){return o.sech()},BigNumber:function(o){return new l(1).div(o.cosh())},Unit:function(o){if(!o.hasBase(o.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return y(o.value)},"Array | Matrix":function(o){return(0,h.deepMap)(o,y)}});return y});r.createSech=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],852:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSin=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=["typed"],p=(0,b.factory)("sin",m,function(A){var S=(0,A.typed)("sin",{number:Math.sin,Complex:function(_){return _.sin()},BigNumber:function(_){return _.sin()},Unit:function(_){if(!_.hasBase(_.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return S(_.value)},"Array | Matrix":function(_){return(0,h.deepMap)(_,S,!0)}});return S});r.createSin=p},{"../../utils/collection":927,"../../utils/factory":931}],853:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSinh=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../plain/number"),p=["typed"],A=(0,b.factory)("sinh",p,function(S){var _=(0,S.typed)("sinh",{number:m.sinhNumber,Complex:function(l){return l.sinh()},BigNumber:function(l){return l.sinh()},Unit:function(l){if(!l.hasBase(l.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return _(l.value)},"Array | Matrix":function(l){return(0,h.deepMap)(l,_,!0)}});return _});r.createSinh=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],854:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createTan=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=["typed"],p=(0,b.factory)("tan",m,function(A){var S=(0,A.typed)("tan",{number:Math.tan,Complex:function(_){return _.tan()},BigNumber:function(_){return _.tan()},Unit:function(_){if(!_.hasBase(_.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return S(_.value)},"Array | Matrix":function(_){return(0,h.deepMap)(_,S,!0)}});return S});r.createTan=p},{"../../utils/collection":927,"../../utils/factory":931}],855:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createTanh=void 0;var b=n("../../utils/factory"),h=n("../../utils/collection"),m=n("../../utils/number"),p=["typed"],A=(0,b.factory)("tanh",p,function(S){var _=(0,S.typed)("tanh",{number:m.tanh,Complex:function(l){return l.tanh()},BigNumber:function(l){return l.tanh()},Unit:function(l){if(!l.hasBase(l.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return _(l.value)},"Array | Matrix":function(l){return(0,h.deepMap)(l,_,!0)}});return _});r.createTanh=A},{"../../utils/collection":927,"../../utils/factory":931,"../../utils/number":937}],856:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createTo=void 0;var b=n("../../utils/factory"),h=n("../../type/matrix/utils/algorithm13"),m=n("../../type/matrix/utils/algorithm14"),p=["typed","matrix"],A=(0,b.factory)("to",p,function(S){var _=S.typed,l=S.matrix,y=(0,h.createAlgorithm13)({typed:_}),o=(0,m.createAlgorithm14)({typed:_}),f=_("to",{"Unit, Unit | string":function(x,g){return x.to(g)},"Matrix, Matrix":function(x,g){return y(x,g,f)},"Array, Array":function(x,g){return f(l(x),l(g)).valueOf()},"Array, Matrix":function(x,g){return f(l(x),g)},"Matrix, Array":function(x,g){return f(x,l(g))},"Matrix, any":function(x,g){return o(x,g,f,!1)},"any, Matrix":function(x,g){return o(g,x,f,!0)},"Array, any":function(x,g){return o(l(x),g,f,!1).valueOf()},"any, Array":function(x,g){return o(l(g),x,f,!0).valueOf()}});return f});r.createTo=A},{"../../type/matrix/utils/algorithm13":912,"../../type/matrix/utils/algorithm14":913,"../../utils/factory":931}],857:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createClone=void 0;var b=n("../../utils/object"),h=n("../../utils/factory"),m=["typed"],p=(0,h.factory)("clone",m,function(A){return(0,A.typed)("clone",{any:b.clone})});r.createClone=p},{"../../utils/factory":931,"../../utils/object":938}],858:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHasNumericValue=void 0;var b=n("../../utils/factory"),h="hasNumericValue",m=["typed","isNumeric"],p=(0,b.factory)(h,m,function(A){var S=A.typed,_=A.isNumeric;return S(h,{string:function(l){return 0<l.trim().length&&!isNaN(Number(l))},any:function(l){return _(l)}})});r.createHasNumericValue=p},{"../../utils/factory":931}],859:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIsInteger=void 0;var b=n("../../utils/collection"),h=n("../../utils/number"),m=n("../../utils/factory"),p=["typed"],A=(0,m.factory)("isInteger",p,function(S){var _=(0,S.typed)("isInteger",{number:h.isInteger,BigNumber:function(l){return l.isInt()},Fraction:function(l){return l.d===1&&isFinite(l.n)},"Array | Matrix":function(l){return(0,b.deepMap)(l,_)}});return _});r.createIsInteger=A},{"../../utils/collection":927,"../../utils/factory":931,"../../utils/number":937}],860:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIsNaN=void 0;var b=n("../../utils/collection"),h=n("../../utils/factory"),m=n("../../plain/number"),p=["typed"],A=(0,h.factory)("isNaN",p,function(S){return(0,S.typed)("isNaN",{number:m.isNaNNumber,BigNumber:function(_){return _.isNaN()},Fraction:function(){return!1},Complex:function(_){return _.isNaN()},Unit:function(_){return Number.isNaN(_.value)},"Array | Matrix":function(_){return(0,b.deepMap)(_,Number.isNaN)}})});r.createIsNaN=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],861:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIsNegative=void 0;var b=n("../../utils/collection"),h=n("../../utils/factory"),m=n("../../plain/number"),p=["typed"],A=(0,h.factory)("isNegative",p,function(S){var _=(0,S.typed)("isNegative",{number:m.isNegativeNumber,BigNumber:function(l){return l.isNeg()&&!l.isZero()&&!l.isNaN()},Fraction:function(l){return l.s<0},Unit:function(l){return _(l.value)},"Array | Matrix":function(l){return(0,b.deepMap)(l,_)}});return _});r.createIsNegative=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],862:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIsNumeric=void 0;var b=n("../../utils/collection"),h=n("../../utils/factory"),m=["typed"],p=(0,h.factory)("isNumeric",m,function(A){var S=(0,A.typed)("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(_){return(0,b.deepMap)(_,S)}});return S});r.createIsNumeric=p},{"../../utils/collection":927,"../../utils/factory":931}],863:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIsPositive=void 0;var b=n("../../utils/collection"),h=n("../../utils/factory"),m=n("../../plain/number"),p=["typed"],A=(0,h.factory)("isPositive",p,function(S){var _=(0,S.typed)("isPositive",{number:m.isPositiveNumber,BigNumber:function(l){return!l.isNeg()&&!l.isZero()&&!l.isNaN()},Fraction:function(l){return 0<l.s&&0<l.n},Unit:function(l){return _(l.value)},"Array | Matrix":function(l){return(0,b.deepMap)(l,_)}});return _});r.createIsPositive=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],864:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIsPrime=void 0;var b=n("../../utils/collection"),h=n("../../utils/factory"),m=["typed"],p=(0,h.factory)("isPrime",m,function(A){var S=(0,A.typed)("isPrime",{number:function(_){if(0*_!=0)return!1;if(_<=3)return 1<_;if(_%2==0||_%3==0)return!1;for(var l=5;l*l<=_;l+=6)if(_%l==0||_%(l+2)==0)return!1;return!0},BigNumber:function(_){if(0*_.toNumber()!=0)return!1;if(_.lte(3))return _.gt(1);if(_.mod(2).eq(0)||_.mod(3).eq(0))return!1;for(var l=5;_.gte(l*l);l+=6)if(_.mod(l).eq(0)||_.mod(l+2).eq(0))return!1;return!0},"Array | Matrix":function(_){return(0,b.deepMap)(_,S)}});return S});r.createIsPrime=p},{"../../utils/collection":927,"../../utils/factory":931}],865:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIsZero=void 0;var b=n("../../utils/collection"),h=n("../../utils/factory"),m=n("../../plain/number"),p=["typed"],A=(0,h.factory)("isZero",p,function(S){var _=(0,S.typed)("isZero",{number:m.isZeroNumber,BigNumber:function(l){return l.isZero()},Complex:function(l){return l.re===0&&l.im===0},Fraction:function(l){return l.d===1&&l.n===0},Unit:function(l){return _(l.value)},"Array | Matrix":function(l){return(0,b.deepMap)(l,_)}});return _});r.createIsZero=A},{"../../plain/number":874,"../../utils/collection":927,"../../utils/factory":931}],866:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNumeric=void 0;var b=n("../../utils/is"),h=n("../../utils/factory"),m=n("../../utils/noop"),p=["number","?bignumber","?fraction"],A=(0,h.factory)("numeric",p,function(S){var _=S.number,l=S.bignumber,y=S.fraction,o={string:!0,number:!0,BigNumber:!0,Fraction:!0},f={number:function(x){return _(x)},BigNumber:l?function(x){return l(x)}:m.noBignumber,Fraction:y?function(x){return y(x)}:m.noFraction};return function(x,g){var D=(0,b.typeOf)(x);if(!(D in o))throw new TypeError("Cannot convert "+x+' of type "'+D+'"; valid input types are '+Object.keys(o).join(", "));if(!(g in f))throw new TypeError("Cannot convert "+x+' to type "'+g+'"; valid output types are '+Object.keys(f).join(", "));return g===D?x:f[g](x)}});r.createNumeric=A},{"../../utils/factory":931,"../../utils/is":933,"../../utils/noop":936}],867:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeprecatedTypeof=r.createTypeOf=void 0;var b=n("../../utils/factory"),h=n("../../utils/is"),m=n("../../utils/log"),p=["typed"],A=(0,b.factory)("typeOf",p,function(_){return(0,_.typed)("typeOf",{any:h.typeOf})});r.createTypeOf=A;var S=(0,b.factory)("typeof",[],function(){return function(){(0,m.warnOnce)('Function "typeof" has been renamed to "typeOf" in v6.0.0, please use the new function instead.');for(var _=arguments.length,l=new Array(_),y=0;y<_;y++)l[y]=arguments[y];return h.typeOf.apply(h.typeOf,l)}});r.createDeprecatedTypeof=S},{"../../utils/factory":931,"../../utils/is":933,"../../utils/log":935}],868:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var b=[],h=(r.createReplacer=void 0,n("../utils/factory").factory)("replacer",b,function(){return function(m,p){return typeof p!="number"||isFinite(p)&&!isNaN(p)?p:{mathjs:"number",value:String(p)}}});r.createReplacer=h},{"../utils/factory":931}],869:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var b=["classes"],h=(r.createReviver=void 0,n("../utils/factory").factory)("reviver",b,function(m){var p=m.classes;return function(A,S){var _=p[S&&S.mathjs];return _&&typeof _.fromJSON=="function"?_.fromJSON(S):S}});r.createReviver=h},{"../utils/factory":931}],870:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.absNumber=p,r.addNumber=A,r.subtractNumber=S,r.multiplyNumber=_,r.divideNumber=l,r.unaryMinusNumber=y,r.unaryPlusNumber=o,r.cbrtNumber=f,r.ceilNumber=x,r.cubeNumber=g,r.expNumber=D,r.expm1Number=E,r.fixNumber=C,r.floorNumber=T,r.gcdNumber=O,r.lcmNumber=I,r.logNumber=M,r.log10Number=F,r.log2Number=B,r.log1pNumber=j,r.modNumber=L,r.nthRootNumber=R,r.signNumber=V,r.sqrtNumber=k,r.squareNumber=U,r.xgcdNumber=G,r.powNumber=H,r.roundNumber=X,r.normNumber=Z;var b=n("../../utils/number"),h="number",m="number, number";function p(J){return Math.abs(J)}function A(J,ee){return J+ee}function S(J,ee){return J-ee}function _(J,ee){return J*ee}function l(J,ee){return J/ee}function y(J){return-J}function o(J){return J}function f(J){return(0,b.cbrt)(J)}function x(J){return Math.ceil(J)}function g(J){return J*J*J}function D(J){return Math.exp(J)}function E(J){return(0,b.expm1)(J)}function C(J){return 0<J?Math.floor(J):Math.ceil(J)}function T(J){return Math.floor(J)}function O(J,ee){if(!(0,b.isInteger)(J)||!(0,b.isInteger)(ee))throw new Error("Parameters in function gcd must be integer numbers");for(var $;ee!==0;)$=J%ee,J=ee,ee=$;return J<0?-J:J}function I(J,ee){if(!(0,b.isInteger)(J)||!(0,b.isInteger)(ee))throw new Error("Parameters in function lcm must be integer numbers");if(J===0||ee===0)return 0;for(var $,W=J*ee;ee!==0;)ee=J%($=ee),J=$;return Math.abs(W/J)}function M(J){return Math.log(J)}function F(J){return(0,b.log10)(J)}function B(J){return(0,b.log2)(J)}function j(J){return(0,b.log1p)(J)}function L(J,ee){if(0<ee)return J-ee*Math.floor(J/ee);if(ee===0)return J;throw new Error("Cannot calculate mod for a negative divisor")}function R(J,ee){var $=ee<0;if($&&(ee=-ee),ee===0)throw new Error("Root must be non-zero");if(J<0&&Math.abs(ee)%2!=1)throw new Error("Root must be odd when a is negative.");if(J===0)return $?1/0:0;if(!isFinite(J))return $?0:J;var W=Math.pow(Math.abs(J),1/ee),W=J<0?-W:W;return $?1/W:W}function V(J){return(0,b.sign)(J)}function k(J){return Math.sqrt(J)}function U(J){return J*J}function G(J,ee){var $,W,Q,te=0,ce=1,oe=1,ue=0;if(!(0,b.isInteger)(J)||!(0,b.isInteger)(ee))throw new Error("Parameters in function xgcd must be integer numbers");for(;ee;)Q=J-(W=Math.floor(J/ee))*ee,te=ce-W*($=te),ce=$,oe=ue-W*($=oe),ue=$,J=ee,ee=Q;return J<0?[-J,-ce,-ue]:[J,J?ce:0,ue]}function H(J,ee){return J*J<1&&ee===1/0||1<J*J&&ee===-1/0?0:Math.pow(J,ee)}function X(J){var ee=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;return parseFloat((0,b.toFixed)(J,ee))}function Z(J){return Math.abs(J)}p.signature=h,l.signature=_.signature=S.signature=A.signature=m,T.signature=C.signature=E.signature=D.signature=g.signature=x.signature=f.signature=o.signature=y.signature=h,I.signature=O.signature=m,j.signature=B.signature=F.signature=M.signature=h,R.signature=L.signature=m,U.signature=k.signature=V.signature=h,X.signature=H.signature=G.signature=m,Z.signature=h},{"../../utils/number":937}],871:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bitAndNumber=m,r.bitNotNumber=p,r.bitOrNumber=A,r.bitXorNumber=S,r.leftShiftNumber=_,r.rightArithShiftNumber=l,r.rightLogShiftNumber=y;var b=n("../../utils/number"),h="number, number";function m(o,f){if(!(0,b.isInteger)(o)||!(0,b.isInteger)(f))throw new Error("Integers expected in function bitAnd");return o&f}function p(o){if(!(0,b.isInteger)(o))throw new Error("Integer expected in function bitNot");return~o}function A(o,f){if(!(0,b.isInteger)(o)||!(0,b.isInteger)(f))throw new Error("Integers expected in function bitOr");return o|f}function S(o,f){if(!(0,b.isInteger)(o)||!(0,b.isInteger)(f))throw new Error("Integers expected in function bitXor");return o^f}function _(o,f){if(!(0,b.isInteger)(o)||!(0,b.isInteger)(f))throw new Error("Integers expected in function leftShift");return o<<f}function l(o,f){if(!(0,b.isInteger)(o)||!(0,b.isInteger)(f))throw new Error("Integers expected in function rightArithShift");return o>>f}function y(o,f){if(!(0,b.isInteger)(o)||!(0,b.isInteger)(f))throw new Error("Integers expected in function rightLogShift");return o>>>f}m.signature=h,p.signature="number",y.signature=l.signature=_.signature=S.signature=A.signature=h},{"../../utils/number":937}],872:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.combinationsNumber=m;var b=n("../../utils/number"),h=n("../../utils/product");function m(p,A){if(!(0,b.isInteger)(p)||p<0)throw new TypeError("Positive integer value expected in function combinations");if(!(0,b.isInteger)(A)||A<0)throw new TypeError("Positive integer value expected in function combinations");if(p<A)throw new TypeError("k must be less than or equal to n");var S=p-A;return A<S?(0,h.product)(1+S,p)/(0,h.product)(1,A):(0,h.product)(A+1,p)/(0,h.product)(1,S)}m.signature="number, number"},{"../../utils/number":937,"../../utils/product":940}],873:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.phi=r.e=r.tau=r.pi=void 0;var b=Math.PI;r.pi=b;var h=2*Math.PI;r.tau=h;var m=Math.E;r.e=m,r.phi=1.618033988749895},{}],874:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var b=n("./arithmetic");Object.keys(b).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return b[o]}})});var h=n("./bitwise");Object.keys(h).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return h[o]}})});var m=n("./combinations");Object.keys(m).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return m[o]}})});var p=n("./constants");Object.keys(p).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return p[o]}})});var A=n("./logical");Object.keys(A).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return A[o]}})});var S=n("./relational");Object.keys(S).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return S[o]}})});var _=n("./probability");Object.keys(_).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return _[o]}})});var l=n("./trigonometry");Object.keys(l).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return l[o]}})});var y=n("./utils");Object.keys(y).forEach(function(o){o!=="default"&&o!=="__esModule"&&Object.defineProperty(r,o,{enumerable:!0,get:function(){return y[o]}})})},{"./arithmetic":870,"./bitwise":871,"./combinations":872,"./constants":873,"./logical":875,"./probability":876,"./relational":877,"./trigonometry":878,"./utils":879}],875:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.notNumber=h,r.orNumber=m,r.xorNumber=p,r.andNumber=A;var b="number, number";function h(S){return!S}function m(S,_){return!(!S&&!_)}function p(S,_){return!!S!=!!_}function A(S,_){return!(!S||!_)}h.signature="number",A.signature=p.signature=m.signature=b},{}],876:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.gammaNumber=m,r.gammaP=r.gammaG=void 0;var b=n("../../utils/number"),h=n("../../utils/product");function m(S){var _;if((0,b.isInteger)(S))return S<=0?isFinite(S)?1/0:NaN:171<S?1/0:(0,h.product)(1,S-1);if(S<.5)return Math.PI/(Math.sin(Math.PI*S)*m(1-S));if(171.35<=S)return 1/0;if(85<S){var l=S*S,y=l*S,o=y*S,f=o*S;return Math.sqrt(2*Math.PI/S)*Math.pow(S/Math.E,S)*(1+1/(12*S)+1/(288*l)-139/(51840*y)-571/(2488320*o)+163879/(209018880*f)+5246819/(75246796800*f*S))}--S,_=A[0];for(var x=1;x<A.length;++x)_+=A[x]/(S+x);var g=S+p+.5;return Math.sqrt(2*Math.PI)*Math.pow(g,S+.5)*Math.exp(-g)*_}m.signature="number";var p=4.7421875;r.gammaG=p;var A=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];r.gammaP=A},{"../../utils/number":937,"../../utils/product":940}],877:[function(n,a,r){},{}],878:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.acosNumber=m,r.acoshNumber=p,r.acotNumber=A,r.acothNumber=S,r.acscNumber=_,r.acschNumber=l,r.asecNumber=y,r.asechNumber=o,r.asinNumber=f,r.asinhNumber=x,r.atanNumber=g,r.atan2Number=D,r.atanhNumber=E,r.cosNumber=C,r.coshNumber=T,r.cotNumber=O,r.cothNumber=I,r.cscNumber=M,r.cschNumber=F,r.secNumber=B,r.sechNumber=j,r.sinNumber=L,r.sinhNumber=R,r.tanNumber=V,r.tanhNumber=k;var b=n("../../utils/number"),h="number";function m(U){return Math.acos(U)}function p(U){return(0,b.acosh)(U)}function A(U){return Math.atan(1/U)}function S(U){return isFinite(U)?(Math.log((U+1)/U)+Math.log(U/(U-1)))/2:0}function _(U){return Math.asin(1/U)}function l(U){var G=1/U;return Math.log(G+Math.sqrt(G*G+1))}function y(U){return Math.acos(1/U)}function o(U){var G=1/U,H=Math.sqrt(G*G-1);return Math.log(H+G)}function f(U){return Math.asin(U)}function x(U){return(0,b.asinh)(U)}function g(U){return Math.atan(U)}function D(U,G){return Math.atan2(U,G)}function E(U){return(0,b.atanh)(U)}function C(U){return Math.cos(U)}function T(U){return(0,b.cosh)(U)}function O(U){return 1/Math.tan(U)}function I(U){var G=Math.exp(2*U);return(G+1)/(G-1)}function M(U){return 1/Math.sin(U)}function F(U){return U===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(U)-Math.exp(-U)))*(0,b.sign)(U)}function B(U){return 1/Math.cos(U)}function j(U){return 2/(Math.exp(U)+Math.exp(-U))}function L(U){return Math.sin(U)}function R(U){return(0,b.sinh)(U)}function V(U){return Math.tan(U)}function k(U){return(0,b.tanh)(U)}g.signature=x.signature=f.signature=o.signature=y.signature=l.signature=_.signature=S.signature=A.signature=p.signature=m.signature=h,D.signature="number, number",k.signature=V.signature=R.signature=L.signature=j.signature=B.signature=F.signature=M.signature=I.signature=O.signature=T.signature=C.signature=E.signature=h},{"../../utils/number":937}],879:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isIntegerNumber=m,r.isNegativeNumber=p,r.isPositiveNumber=A,r.isZeroNumber=S,r.isNaNNumber=_;var b=n("../../utils/number"),h="number";function m(l){return(0,b.isInteger)(l)}function p(l){return l<0}function A(l){return 0<l}function S(l){return l===0}function _(l){return Number.isNaN(l)}_.signature=S.signature=A.signature=p.signature=m.signature=h},{"../../utils/number":937}],880:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBigNumberClass=void 0;var b,h=(b=n("decimal.js"))&&b.__esModule?b:{default:b},m=["?on","config"],p=(0,n("../../utils/factory").factory)("BigNumber",m,function(A){var S=A.on,_=A.config,l=h.default.clone({precision:_.precision});return l.prototype.type="BigNumber",l.prototype.isBigNumber=!0,l.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},l.fromJSON=function(y){return new l(y.value)},S&&S("config",function(y,o){y.precision!==o.precision&&l.config({precision:y.precision})}),l},{isClass:!0});r.createBigNumberClass=p},{"../../utils/factory":931,"decimal.js":55}],881:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBignumber=void 0;var b=n("../../../utils/factory"),h=n("../../../utils/collection"),m=["typed","BigNumber"],p=(0,b.factory)("bignumber",m,function(A){var S=A.typed,_=A.BigNumber,l=S("bignumber",{"":function(){return new _(0)},number:function(y){return new _(y+"")},string:function(y){return new _(y)},BigNumber:function(y){return y},Fraction:function(y){return new _(y.n).div(y.d).times(y.s)},null:function(){return new _(0)},"Array | Matrix":function(y){return(0,h.deepMap)(y,l)}});return l});r.createBignumber=p},{"../../../utils/collection":927,"../../../utils/factory":931}],882:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBoolean=void 0;var b=n("../utils/factory"),h=n("../utils/collection"),m=["typed"],p=(0,b.factory)("boolean",m,function(A){var S=(0,A.typed)("boolean",{"":function(){return!1},boolean:function(_){return _},number:function(_){return!!_},null:function(){return!1},BigNumber:function(_){return!_.isZero()},string:function(_){var l=_.toLowerCase();if(l==="true")return!0;if(l==="false")return!1;var y=Number(_);if(_!==""&&!isNaN(y))return!!y;throw new Error('Cannot convert "'+_+'" to a boolean')},"Array | Matrix":function(_){return(0,h.deepMap)(_,S)}});return S});r.createBoolean=p},{"../utils/collection":927,"../utils/factory":931}],883:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createChainClass=void 0;var b=n("../../utils/is"),h=n("../../utils/string"),m=n("../../utils/object"),p=["?on","math"],A=(0,n("../../utils/factory").factory)("Chain",p,function(S){var _=S.on,l=S.math;function y(g){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");(0,b.isChain)(g)?this.value=g.value:this.value=g}function o(g,D){(0,m.lazy)(y.prototype,g,function(){var E=D();if(typeof E=="function")return f(E)})}function f(g){return function(){for(var D=[this.value],E=0;E<arguments.length;E++)D[E+1]=arguments[E];return new y(g.apply(g,D))}}y.prototype.type="Chain",y.prototype.isChain=!0,y.prototype.done=function(){return this.value},y.prototype.valueOf=function(){return this.value},y.prototype.toString=function(){return(0,h.format)(this.value)},y.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},y.fromJSON=function(g){return new y(g.value)},y.createProxy=function(g,D){if(typeof g=="string")C=g,typeof(T=D)=="function"&&(y.prototype[C]=f(T));else for(var E in g)(function(O){(0,m.hasOwnProperty)(g,O)&&x[O]===void 0&&o(O,function(){return g[O]})})(E);var C,T};var x={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return y.createProxy(l),_&&_("import",function(g,D,E){E||o(g,D)}),y},{isClass:!0});r.createChainClass=A},{"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938,"../../utils/string":941}],884:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createChain=void 0;var b=n("../../../utils/factory"),h=["typed","Chain"],m=(0,b.factory)("chain",h,function(p){var A=p.typed,S=p.Chain;return A("chain",{"":function(){return new S},any:function(_){return new S(_)}})});r.createChain=m},{"../../../utils/factory":931}],885:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createComplexClass=void 0;var b,h=(b=n("complex.js"))&&b.__esModule?b:{default:b},m=n("../../utils/number"),p=n("../../utils/is");function A(l){return(A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(l)}var S=[],_=(0,n("../../utils/factory").factory)("Complex",S,function(){return h.default.prototype.type="Complex",h.default.prototype.isComplex=!0,h.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},h.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},h.default.prototype.format=function(l){var y,o=this.im,f=this.re,x=(0,m.format)(this.re,l),g=(0,m.format)(this.im,l),D=(0,p.isNumber)(l)?l:l?l.precision:null;return D!==null&&(y=Math.pow(10,-D),Math.abs(f/o)<y&&(f=0),Math.abs(o/f)<y&&(o=0)),o===0?x:f===0?o===1?"i":o===-1?"-i":g+"i":o<0?o===-1?x+" - i":x+" - "+g.substring(1)+"i":o===1?x+" + i":x+" + "+g+"i"},h.default.fromPolar=function(l){switch(arguments.length){case 1:var y=l;if(A(y)==="object")return(0,h.default)(y);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var o=l,f=arguments[1];if((0,p.isNumber)(o)){if((0,p.isUnit)(f)&&f.hasBase("ANGLE")&&(f=f.toNumber("rad")),(0,p.isNumber)(f))return new h.default({r:o,phi:f});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},h.default.prototype.valueOf=h.default.prototype.toString,h.default.fromJSON=function(l){return new h.default(l)},h.default.compare=function(l,y){return l.re>y.re?1:l.re<y.re?-1:l.im>y.im?1:l.im<y.im?-1:0},h.default},{isClass:!0});r.createComplexClass=_},{"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937,"complex.js":54}],886:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createComplex=void 0;var b=n("../../../utils/factory"),h=n("../../../utils/collection"),m=["typed","Complex"],p=(0,b.factory)("complex",m,function(A){var S=A.typed,_=A.Complex,l=S("complex",{"":function(){return _.ZERO},number:function(y){return new _(y,0)},"number, number":function(y,o){return new _(y,o)},"BigNumber, BigNumber":function(y,o){return new _(y.toNumber(),o.toNumber())},Fraction:function(y){return new _(y.valueOf(),0)},Complex:function(y){return y.clone()},string:function(y){return _(y)},null:function(){return _(0)},Object:function(y){if("re"in y&&"im"in y)return new _(y.re,y.im);if("r"in y&&"phi"in y||"abs"in y&&"arg"in y)return new _(y);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(y){return(0,h.deepMap)(y,l)}});return l});r.createComplex=p},{"../../../utils/collection":927,"../../../utils/factory":931}],887:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFractionClass=void 0;var b,h=(b=n("fraction.js"))&&b.__esModule?b:{default:b},m=[],p=(0,n("../../utils/factory").factory)("Fraction",m,function(){return h.default.prototype.type="Fraction",h.default.prototype.isFraction=!0,h.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},h.default.fromJSON=function(A){return new h.default(A)},h.default},{isClass:!0});r.createFractionClass=p},{"../../utils/factory":931,"fraction.js":57}],888:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFraction=void 0;var b=n("../../../utils/factory"),h=n("../../../utils/collection"),m=["typed","Fraction"],p=(0,b.factory)("fraction",m,function(A){var S=A.typed,_=A.Fraction,l=S("fraction",{number:function(y){if(!isFinite(y)||isNaN(y))throw new Error(y+" cannot be represented as a fraction");return new _(y)},string:function(y){return new _(y)},"number, number":function(y,o){return new _(y,o)},null:function(){return new _(0)},BigNumber:function(y){return new _(y.toString())},Fraction:function(y){return y},Object:function(y){return new _(y)},"Array | Matrix":function(y){return(0,h.deepMap)(y,l)}});return l});r.createFraction=p},{"../../../utils/collection":927,"../../../utils/factory":931}],889:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDenseMatrixClass=void 0;var b=n("../../utils/is"),h=n("../../utils/array"),m=n("../../utils/string"),p=n("../../utils/number"),A=n("../../utils/object"),S=n("../../error/DimensionError"),_=["Matrix"],l=(0,n("../../utils/factory").factory)("DenseMatrix",_,function(y){var o=y.Matrix;function f(D,E){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(E&&!(0,b.isString)(E))throw new Error("Invalid datatype: "+E);if((0,b.isMatrix)(D))D.type==="DenseMatrix"?(this._data=(0,A.clone)(D._data),this._size=(0,A.clone)(D._size)):(this._data=D.toArray(),this._size=D.size()),this._datatype=E||D._datatype;else if(D&&(0,b.isArray)(D.data)&&(0,b.isArray)(D.size))this._data=D.data,this._size=D.size,(0,h.validate)(this._data,this._size),this._datatype=E||D.datatype;else if((0,b.isArray)(D))this._data=function C(T){for(var O=0,I=T.length;O<I;O++){var M=T[O];(0,b.isArray)(M)?T[O]=C(M):M&&M.isMatrix===!0&&(T[O]=C(M.valueOf()))}return T}(D),this._size=(0,h.arraySize)(this._data),(0,h.validate)(this._data,this._size),this._datatype=E;else{if(D)throw new TypeError("Unsupported type of data ("+(0,b.typeOf)(D)+")");this._data=[],this._size=[0],this._datatype=E}}function x(D,E,C){if(E.length!==0)return D._size=E.slice(0),D._data=(0,h.resize)(D._data,D._size,C),D;for(var T=D._data;(0,b.isArray)(T);)T=T[0];return T}function g(D,E,C){for(var T=D._size.slice(0),O=!1;T.length<E.length;)T.push(0),O=!0;for(var I=0,M=E.length;I<M;I++)E[I]>T[I]&&(T[I]=E[I],O=!0);O&&x(D,T,C)}return(f.prototype=new o).createDenseMatrix=function(D,E){return new f(D,E)},f.prototype.type="DenseMatrix",f.prototype.isDenseMatrix=!0,f.prototype.getDataType=function(){return(0,h.getArrayDataType)(this._data,b.typeOf)},f.prototype.storage=function(){return"dense"},f.prototype.datatype=function(){return this._datatype},f.prototype.create=function(D,E){return new f(D,E)},f.prototype.subset=function(D,E,C){switch(arguments.length){case 1:return function(T,O){if(!(0,b.isIndex)(O))throw new TypeError("Invalid index");{if(O.isScalar())return T.get(O.min());var I=O.size();if(I.length!==T._size.length)throw new S.DimensionError(I.length,T._size.length);for(var M=O.min(),F=O.max(),B=0,j=T._size.length;B<j;B++)(0,h.validateIndex)(M[B],T._size[B]),(0,h.validateIndex)(F[B],T._size[B]);return new f(function L(R,V,k,U){var G=U===k-1,H=V.dimension(U);return G?H.map(function(X){return(0,h.validateIndex)(X,R.length),R[X]}).valueOf():H.map(function(X){(0,h.validateIndex)(X,R.length);var Z=R[X];return L(Z,V,k,U+1)}).valueOf()}(T._data,O,I.length,0),T._datatype)}}(this,D);case 2:case 3:return function(T,O,I,M){if(!O||O.isIndex!==!0)throw new TypeError("Invalid index");var F,B=O.size(),j=O.isScalar();if((0,b.isMatrix)(I)?(F=I.size(),I=I.valueOf()):F=(0,h.arraySize)(I),j){if(F.length!==0)throw new TypeError("Scalar expected");T.set(O.min(),I,M)}else{if(B.length<T._size.length)throw new S.DimensionError(B.length,T._size.length,"<");if(F.length<B.length){for(var L=0,R=0;B[L]===1&&F[L]===1;)L++;for(;B[L]===1;)R++,L++;I=(0,h.unsqueeze)(I,B.length,R,F)}if(!(0,A.deepStrictEqual)(B,F))throw new S.DimensionError(B,F,">");var V=O.max().map(function(U){return U+1});g(T,V,M);var k=B.length;(function U(G,H,X,Z,J){var ee=J===Z-1,$=H.dimension(J);ee?$.forEach(function(W,Q){(0,h.validateIndex)(W),G[W]=X[Q[0]]}):$.forEach(function(W,Q){(0,h.validateIndex)(W),U(G[W],H,X[Q[0]],Z,J+1)})})(T._data,O,I,k,0)}return T}(this,D,E,C);default:throw new SyntaxError("Wrong number of arguments")}},f.prototype.get=function(D){if(!(0,b.isArray)(D))throw new TypeError("Array expected");if(D.length!==this._size.length)throw new S.DimensionError(D.length,this._size.length);for(var E=0;E<D.length;E++)(0,h.validateIndex)(D[E],this._size[E]);for(var C=this._data,T=0,O=D.length;T<O;T++){var I=D[T];(0,h.validateIndex)(I,C.length),C=C[I]}return C},f.prototype.set=function(D,E,C){if(!(0,b.isArray)(D))throw new TypeError("Array expected");if(D.length<this._size.length)throw new S.DimensionError(D.length,this._size.length,"<");var T;g(this,D.map(function(F){return F+1}),C);for(var O=this._data,I=0,M=D.length-1;I<M;I++)T=D[I],(0,h.validateIndex)(T,O.length),O=O[T];return T=D[D.length-1],(0,h.validateIndex)(T,O.length),O[T]=E,this},f.prototype.resize=function(D,E,C){if(!(0,b.isArray)(D))throw new TypeError("Array expected");return x(C?this.clone():this,D,E)},f.prototype.reshape=function(D,E){var C=E?this.clone():this;return C._data=(0,h.reshape)(C._data,D),C._size=D.slice(0),C},f.prototype.clone=function(){return new f({data:(0,A.clone)(this._data),size:(0,A.clone)(this._size),datatype:this._datatype})},f.prototype.size=function(){return this._size.slice(0)},f.prototype.map=function(D){var E=this,C=function T(O,I){return(0,b.isArray)(O)?O.map(function(M,F){return T(M,I.concat(F))}):D(O,I,E)}(this._data,[]);return new f(C,this._datatype!==void 0?(0,h.getArrayDataType)(C,b.typeOf):void 0)},f.prototype.forEach=function(D){var E=this;(function C(T,O){(0,b.isArray)(T)?T.forEach(function(I,M){C(I,O.concat(M))}):D(T,O,E)})(this._data,[])},f.prototype.toArray=function(){return(0,A.clone)(this._data)},f.prototype.valueOf=function(){return this._data},f.prototype.format=function(D){return(0,m.format)(this._data,D)},f.prototype.toString=function(){return(0,m.format)(this._data)},f.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},f.prototype.diagonal=function(D){if(D){if((0,b.isBigNumber)(D)&&(D=D.toNumber()),!(0,b.isNumber)(D)||!(0,p.isInteger)(D))throw new TypeError("The parameter k must be an integer number")}else D=0;for(var E=0<D?D:0,C=D<0?-D:0,T=this._size[0],O=this._size[1],I=Math.min(T-C,O-E),M=[],F=0;F<I;F++)M[F]=this._data[F+C][F+E];return new f({data:M,size:[I],datatype:this._datatype})},f.diagonal=function(D,E,C,T){if(!(0,b.isArray)(D))throw new TypeError("Array expected, size parameter");if(D.length!==2)throw new Error("Only two dimensions matrix are supported");if(D=D.map(function(k){if((0,b.isBigNumber)(k)&&(k=k.toNumber()),!(0,b.isNumber)(k)||!(0,p.isInteger)(k)||k<1)throw new Error("Size values must be positive integers");return k}),C){if((0,b.isBigNumber)(C)&&(C=C.toNumber()),!(0,b.isNumber)(C)||!(0,p.isInteger)(C))throw new TypeError("The parameter k must be an integer number")}else C=0;var O,I=0<C?C:0,M=C<0?-C:0,F=D[0],B=D[1],j=Math.min(F-M,B-I);if((0,b.isArray)(E)){if(E.length!==j)throw new Error("Invalid value array length");O=function(k){return E[k]}}else if((0,b.isMatrix)(E)){var L=E.size();if(L.length!==1||L[0]!==j)throw new Error("Invalid matrix length");O=function(k){return E.get([k])}}else O=function(){return E};T=T||((0,b.isBigNumber)(O(0))?O(0).mul(0):0);var R=[];if(0<D.length){R=(0,h.resize)(R,D,T);for(var V=0;V<j;V++)R[V+M][V+I]=O(V)}return new f({data:R,size:[F,B]})},f.fromJSON=function(D){return new f(D)},f.prototype.swapRows=function(D,E){if(!((0,b.isNumber)(D)&&(0,p.isInteger)(D)&&(0,b.isNumber)(E)&&(0,p.isInteger)(E)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return(0,h.validateIndex)(D,this._size[0]),(0,h.validateIndex)(E,this._size[0]),f._swapRows(D,E,this._data),this},f._swapRows=function(D,E,C){var T=C[D];C[D]=C[E],C[E]=T},f},{isClass:!0});r.createDenseMatrixClass=l},{"../../error/DimensionError":399,"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937,"../../utils/object":938,"../../utils/string":941}],890:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var b=["smaller","larger"],h=(r.createFibonacciHeapClass=void 0,n("../../utils/factory").factory)("FibonacciHeap",b,function(m){var p=m.smaller,A=m.larger,S=1/Math.log((1+Math.sqrt(5))/2);function _(){if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function l(o,f,x){f.left.right=f.right,f.right.left=f.left,x.degree--,x.child===f&&(x.child=f.right),x.degree===0&&(x.child=null),f.left=o,f.right=o.right,((o.right=f).right.left=f).parent=null,f.mark=!1}_.prototype.type="FibonacciHeap",_.prototype.isFibonacciHeap=!0,_.prototype.insert=function(o,f){var x,g={key:o,value:f,degree:0};return this._minimum?(x=this._minimum,g.left=x,g.right=x.right,(x.right=g).right.left=g,p(o,x.key)&&(this._minimum=g)):((g.left=g).right=g,this._minimum=g),this._size++,g},_.prototype.size=function(){return this._size},_.prototype.clear=function(){this._minimum=null,this._size=0},_.prototype.isEmpty=function(){return this._size===0},_.prototype.extractMinimum=function(){var o=this._minimum;if(o===null)return o;for(var f=this._minimum,x=o.degree,g=o.child;0<x;){var D=g.right;g.left.right=g.right,g.right.left=g.left,g.left=f,g.right=f.right,((f.right=g).right.left=g).parent=null,g=D,x--}return o.left.right=o.right,o.right.left=o.left,f=o===o.right?null:function(E,C){var T,O=Math.floor(Math.log(C)*S)+1,I=new Array(O),M=0,F=E;if(F)for(M++,F=F.right;F!==E;)M++,F=F.right;for(;0<M;){for(var B,j=F.degree,L=F.right;T=I[j];)A(F.key,T.key)&&(B=T,T=F,F=B),y(T,F),I[j]=null,j++;I[j]=F,F=L,M--}E=null;for(var R=0;R<O;R++)(T=I[R])&&(E?(T.left.right=T.right,T.right.left=T.left,T.left=E,T.right=E.right,(E.right=T).right.left=T,p(T.key,E.key)&&(E=T)):E=T);return E}(f=o.right,this._size),this._size--,this._minimum=f,o},_.prototype.remove=function(o){this._minimum=function(f,x,g){x.key=g;var D=x.parent;return D&&p(x.key,D.key)&&(l(f,x,D),function E(C,T){var O=T.parent;O&&(T.mark?(l(C,T,O),E(O)):T.mark=!0)}(f,D)),p(x.key,f.key)&&(f=x),f}(this._minimum,o,-1),this.extractMinimum()};var y=function(o,f){o.left.right=o.right,o.right.left=o.left,(o.parent=f).child?(o.left=f.child,o.right=f.child.right,(f.child.right=o).right.left=o):((f.child=o).right=o).left=o,f.degree++,o.mark=!1};return _},{isClass:!0});r.createFibonacciHeapClass=h},{"../../utils/factory":931}],891:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createImmutableDenseMatrixClass=void 0;var b=n("../../utils/is"),h=n("../../utils/object"),m=["smaller","DenseMatrix"],p=(0,n("../../utils/factory").factory)("ImmutableDenseMatrix",m,function(A){var S=A.smaller,_=A.DenseMatrix;function l(y,o){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!(0,b.isString)(o))throw new Error("Invalid datatype: "+o);if((0,b.isMatrix)(y)||(0,b.isArray)(y)){var f=new _(y,o);this._data=f._data,this._size=f._size,this._datatype=f._datatype,this._min=null,this._max=null}else if(y&&(0,b.isArray)(y.data)&&(0,b.isArray)(y.size))this._data=y.data,this._size=y.size,this._datatype=y.datatype,this._min=y.min!==void 0?y.min:null,this._max=y.max!==void 0?y.max:null;else{if(y)throw new TypeError("Unsupported type of data ("+(0,b.typeOf)(y)+")");this._data=[],this._size=[0],this._datatype=o,this._min=null,this._max=null}}return(l.prototype=new _).type="ImmutableDenseMatrix",l.prototype.isImmutableDenseMatrix=!0,l.prototype.subset=function(y){switch(arguments.length){case 1:var o=_.prototype.subset.call(this,y);return(0,b.isMatrix)(o)?new l({data:o._data,size:o._size,datatype:o._datatype}):o;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},l.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},l.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},l.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},l.prototype.clone=function(){return new l({data:(0,h.clone)(this._data),size:(0,h.clone)(this._size),datatype:this._datatype})},l.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},l.fromJSON=function(y){return new l(y)},l.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},l.prototype.min=function(){var y;return this._min===null&&(y=null,this.forEach(function(o){y!==null&&!S(o,y)||(y=o)}),this._min=y!==null?y:void 0),this._min},l.prototype.max=function(){var y;return this._max===null&&(y=null,this.forEach(function(o){y!==null&&!S(y,o)||(y=o)}),this._max=y!==null?y:void 0),this._max},l},{isClass:!0});r.createImmutableDenseMatrixClass=p},{"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938}],892:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var b=[],h=(r.createMatrixClass=void 0,n("../../utils/factory").factory)("Matrix",b,function(){function m(){if(!(this instanceof m))throw new SyntaxError("Constructor must be called with the new operator")}return m.prototype.type="Matrix",m.prototype.isMatrix=!0,m.storage=function(p){throw new Error("Matrix.storage is deprecated since v6.0.0. Use the factory function math.matrix instead.")},m.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},m.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},m.prototype.create=function(p,A){throw new Error("Cannot invoke create on a Matrix interface")},m.prototype.subset=function(p,A,S){throw new Error("Cannot invoke subset on a Matrix interface")},m.prototype.get=function(p){throw new Error("Cannot invoke get on a Matrix interface")},m.prototype.set=function(p,A,S){throw new Error("Cannot invoke set on a Matrix interface")},m.prototype.resize=function(p,A){throw new Error("Cannot invoke resize on a Matrix interface")},m.prototype.reshape=function(p,A){throw new Error("Cannot invoke reshape on a Matrix interface")},m.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},m.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},m.prototype.map=function(p,A){throw new Error("Cannot invoke map on a Matrix interface")},m.prototype.forEach=function(p){throw new Error("Cannot invoke forEach on a Matrix interface")},m.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},m.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},m.prototype.format=function(p){throw new Error("Cannot invoke format on a Matrix interface")},m.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},m},{isClass:!0});r.createMatrixClass=h},{"../../utils/factory":931}],893:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIndexClass=void 0;var b=n("../../utils/is"),h=n("../../utils/object"),m=n("../../utils/number"),p=["ImmutableDenseMatrix"],A=(0,n("../../utils/factory").factory)("Index",p,function(S){var _=S.ImmutableDenseMatrix;function l(o){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var f=0,x=arguments.length;f<x;f++){var g=arguments[f];if((0,b.isRange)(g))this._dimensions.push(g),this._isScalar=!1;else if(Array.isArray(g)||(0,b.isMatrix)(g)){var D=y(g.valueOf());this._dimensions.push(D);var E=D.size();E.length===1&&E[0]===1||(this._isScalar=!1)}else if(typeof g=="number")this._dimensions.push(y([g]));else{if(typeof g!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(g)}}}function y(o){for(var f=0,x=o.length;f<x;f++)if(typeof o[f]!="number"||!(0,m.isInteger)(o[f]))throw new TypeError("Index parameters must be positive integer numbers");return new _(o)}return l.prototype.type="Index",l.prototype.isIndex=!0,l.prototype.clone=function(){var o=new l;return o._dimensions=(0,h.clone)(this._dimensions),o._isScalar=this._isScalar,o},l.create=function(o){var f=new l;return l.apply(f,o),f},l.prototype.size=function(){for(var o=[],f=0,x=this._dimensions.length;f<x;f++){var g=this._dimensions[f];o[f]=typeof g=="string"?1:g.size()[0]}return o},l.prototype.max=function(){for(var o=[],f=0,x=this._dimensions.length;f<x;f++){var g=this._dimensions[f];o[f]=typeof g=="string"?g:g.max()}return o},l.prototype.min=function(){for(var o=[],f=0,x=this._dimensions.length;f<x;f++){var g=this._dimensions[f];o[f]=typeof g=="string"?g:g.min()}return o},l.prototype.forEach=function(o){for(var f=0,x=this._dimensions.length;f<x;f++)o(this._dimensions[f],f,this)},l.prototype.dimension=function(o){return this._dimensions[o]||null},l.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},l.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},l.prototype.isScalar=function(){return this._isScalar},l.prototype.valueOf=l.prototype.toArray=function(){for(var o=[],f=0,x=this._dimensions.length;f<x;f++){var g=this._dimensions[f];o.push(typeof g=="string"?g:g.toArray())}return o},l.prototype.toString=function(){for(var o=[],f=0,x=this._dimensions.length;f<x;f++){var g=this._dimensions[f];typeof g=="string"?o.push(JSON.stringify(g)):o.push(g.toString())}return"["+o.join(", ")+"]"},l.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},l.fromJSON=function(o){return l.create(o.dimensions)},l},{isClass:!0});r.createIndexClass=A},{"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937,"../../utils/object":938}],894:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRangeClass=void 0;var b=n("../../utils/is"),h=n("../../utils/number"),m=[],p=(0,n("../../utils/factory").factory)("Range",m,function(){function A(S,_,l){if(!(this instanceof A))throw new SyntaxError("Constructor must be called with the new operator");var y=S!=null,o=_!=null,f=l!=null;if(y){if((0,b.isBigNumber)(S))S=S.toNumber();else if(typeof S!="number")throw new TypeError("Parameter start must be a number")}if(o){if((0,b.isBigNumber)(_))_=_.toNumber();else if(typeof _!="number")throw new TypeError("Parameter end must be a number")}if(f){if((0,b.isBigNumber)(l))l=l.toNumber();else if(typeof l!="number")throw new TypeError("Parameter step must be a number")}this.start=y?parseFloat(S):0,this.end=o?parseFloat(_):0,this.step=f?parseFloat(l):1}return A.prototype.type="Range",A.prototype.isRange=!0,A.parse=function(S){if(typeof S!="string")return null;var _=S.split(":").map(function(l){return parseFloat(l)});if(_.some(function(l){return isNaN(l)}))return null;switch(_.length){case 2:return new A(_[0],_[1]);case 3:return new A(_[0],_[2],_[1]);default:return null}},A.prototype.clone=function(){return new A(this.start,this.end,this.step)},A.prototype.size=function(){var S=0,_=this.start,l=this.step,y=this.end-_;return(0,h.sign)(l)===(0,h.sign)(y)?S=Math.ceil(y/l):y==0&&(S=0),isNaN(S)&&(S=0),[S]},A.prototype.min=function(){var S=this.size()[0];return 0<S?0<this.step?this.start:this.start+(S-1)*this.step:void 0},A.prototype.max=function(){var S=this.size()[0];return 0<S?0<this.step?this.start+(S-1)*this.step:this.start:void 0},A.prototype.forEach=function(S){var _=this.start,l=this.step,y=this.end,o=0;if(0<l)for(;_<y;)S(_,[o],this),_+=l,o++;else if(l<0)for(;y<_;)S(_,[o],this),_+=l,o++},A.prototype.map=function(S){var _=[];return this.forEach(function(l,y,o){_[y[0]]=S(l,y,o)}),_},A.prototype.toArray=function(){var S=[];return this.forEach(function(_,l){S[l[0]]=_}),S},A.prototype.valueOf=function(){return this.toArray()},A.prototype.format=function(S){var _=(0,h.format)(this.start,S);return this.step!==1&&(_+=":"+(0,h.format)(this.step,S)),_+=":"+(0,h.format)(this.end,S)},A.prototype.toString=function(){return this.format()},A.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},A.fromJSON=function(S){return new A(S.start,S.end,S.step)},A},{isClass:!0});r.createRangeClass=p},{"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937}],895:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var b=["addScalar","equalScalar","FibonacciHeap"],h=(r.createSpaClass=void 0,n("../../utils/factory").factory)("Spa",b,function(m){var p=m.addScalar,A=m.equalScalar,S=m.FibonacciHeap;function _(){if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new S}return _.prototype.type="Spa",_.prototype.isSpa=!0,_.prototype.set=function(l,y){var o;this._values[l]?this._values[l].value=y:(o=this._heap.insert(l,y),this._values[l]=o)},_.prototype.get=function(l){var y=this._values[l];return y?y.value:0},_.prototype.accumulate=function(l,y){var o=this._values[l];o?o.value=p(o.value,y):(o=this._heap.insert(l,y),this._values[l]=o)},_.prototype.forEach=function(l,y,o){var f=this._heap,x=this._values,g=[];for((E=f.extractMinimum())&&g.push(E);E&&E.key<=y;)E.key>=l&&(A(E.value,0)||o(E.key,E.value,this)),(E=f.extractMinimum())&&g.push(E);for(var D=0;D<g.length;D++){var E,C=g[D];x[(E=f.insert(C.key,C.value)).key]=E}},_.prototype.swap=function(l,y){var o,f=this._values[l],x=this._values[y];!f&&x?(f=this._heap.insert(l,x.value),this._heap.remove(x),this._values[l]=f,this._values[y]=void 0):f&&!x?(x=this._heap.insert(y,f.value),this._heap.remove(f),this._values[y]=x,this._values[l]=void 0):f&&x&&(o=f.value,f.value=x.value,x.value=o)},_},{isClass:!0});r.createSpaClass=h},{"../../utils/factory":931}],896:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSparseMatrixClass=void 0;var b=n("../../utils/is"),h=n("../../utils/number"),m=n("../../utils/string"),p=n("../../utils/object"),A=n("../../utils/array"),S=n("../../utils/factory"),_=n("../../error/DimensionError"),l=["typed","equalScalar","Matrix"],y=(0,S.factory)("SparseMatrix",l,function(o){var f=o.typed,x=o.equalScalar,g=o.Matrix;function D(M,F){if(!(this instanceof D))throw new SyntaxError("Constructor must be called with the new operator");if(F&&!(0,b.isString)(F))throw new Error("Invalid datatype: "+F);if((0,b.isMatrix)(M))(function(B,j,L){j.type==="SparseMatrix"?(B._values=j._values?(0,p.clone)(j._values):void 0,B._index=(0,p.clone)(j._index),B._ptr=(0,p.clone)(j._ptr),B._size=(0,p.clone)(j._size),B._datatype=L||j._datatype):E(B,j.valueOf(),L||j._datatype)})(this,M,F);else if(M&&(0,b.isArray)(M.index)&&(0,b.isArray)(M.ptr)&&(0,b.isArray)(M.size))this._values=M.values,this._index=M.index,this._ptr=M.ptr,this._size=M.size,this._datatype=F||M.datatype;else if((0,b.isArray)(M))E(this,M,F);else{if(M)throw new TypeError("Unsupported type of data ("+(0,b.typeOf)(M)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=F}}function E(M,F,B){M._values=[],M._index=[],M._ptr=[],M._datatype=B;var j=F.length,L=0,R=x,V=0;if((0,b.isString)(B)&&(R=f.find(x,[B,B])||x,V=f.convert(0,B)),0<j){var k=0;do{M._ptr.push(M._index.length);for(var U=0;U<j;U++){var G,H=F[U];(0,b.isArray)(H)?(k===0&&L<H.length&&(L=H.length),k<H.length&&(R(G=H[k],V)||(M._values.push(G),M._index.push(U)))):(k===0&&L<1&&(L=1),R(H,V)||(M._values.push(H),M._index.push(U)))}k++}while(k<L)}M._ptr.push(M._index.length),M._size=[j,L]}function C(M,F,B,j){if(B-F==0)return B;for(var L=F;L<B;L++)if(j[L]===M)return L;return F}function T(M,F,B,j,L,R,V){L.splice(M,0,j),R.splice(M,0,F);for(var k=B+1;k<V.length;k++)V[k]++}function O(M,F,B,j){var L=j||0,R=x,V=0;(0,b.isString)(M._datatype)&&(R=f.find(x,[M._datatype,M._datatype])||x,V=f.convert(0,M._datatype),L=f.convert(L,M._datatype));var k=!R(L,V),U=M._size[0],G=M._size[1];if(G<B){for(X=G;X<B;X++)if(M._ptr[X]=M._values.length,k)for(J=0;J<U;J++)M._values.push(L),M._index.push(J);M._ptr[B]=M._values.length}else B<G&&(M._ptr.splice(B+1,G-B),M._values.splice(M._ptr[B],M._values.length),M._index.splice(M._ptr[B],M._index.length));if(G=B,U<F){if(k){for(var H=0,X=0;X<G;X++){M._ptr[X]=M._ptr[X]+H,Q=M._ptr[X+1]+H;for(var Z=0,J=U;J<F;J++,Z++)M._values.splice(Q+Z,0,L),M._index.splice(Q+Z,0,J),H++}M._ptr[G]=M._values.length}}else if(F<U){var ee=0;for(X=0;X<G;X++){M._ptr[X]=M._ptr[X]-ee;for(var $=M._ptr[X],W=M._ptr[X+1]-ee,Q=$;Q<W;Q++)F-1<(J=M._index[Q])&&(M._values.splice(Q,1),M._index.splice(Q,1),ee++)}M._ptr[X]=M._values.length}return M._size[0]=F,M._size[1]=B,M}function I(M,F,B,j,L){for(var R,V=j[0],k=j[1],U=[],G=0;G<V;G++)for(U[G]=[],R=0;R<k;R++)U[G][R]=0;for(R=0;R<k;R++)for(var H=B[R],X=B[R+1],Z=H;Z<X;Z++)U[G=F[Z]][R]=M?L?(0,p.clone)(M[Z]):M[Z]:1;return U}return(D.prototype=new g).createSparseMatrix=function(M,F){return new D(M,F)},D.prototype.type="SparseMatrix",D.prototype.isSparseMatrix=!0,D.prototype.getDataType=function(){return(0,A.getArrayDataType)(this._values,b.typeOf)},D.prototype.storage=function(){return"sparse"},D.prototype.datatype=function(){return this._datatype},D.prototype.create=function(M,F){return new D(M,F)},D.prototype.density=function(){var M=this._size[0],F=this._size[1];return M!==0&&F!==0?this._index.length/(M*F):0},D.prototype.subset=function(M,F,B){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(j,L){if(!(0,b.isIndex)(L))throw new TypeError("Invalid index");if(L.isScalar())return j.get(L.min());var R,V,k,U,G=L.size();if(G.length!==j._size.length)throw new _.DimensionError(G.length,j._size.length);var H=L.min(),X=L.max();for(R=0,V=j._size.length;R<V;R++)(0,A.validateIndex)(H[R],j._size[R]),(0,A.validateIndex)(X[R],j._size[R]);var Z=j._values,J=j._index,ee=j._ptr,$=L.dimension(0),W=L.dimension(1),Q=[],te=[];$.forEach(function(we,le){te[we]=le[0],Q[we]=!0});var ce=Z?[]:void 0,oe=[],ue=[];return W.forEach(function(we){for(ue.push(oe.length),k=ee[we],U=ee[we+1];k<U;k++)R=J[k],Q[R]===!0&&(oe.push(te[R]),ce&&ce.push(Z[k]))}),ue.push(oe.length),new D({values:ce,index:oe,ptr:ue,size:G,datatype:j._datatype})}(this,M);case 2:case 3:return function(j,L,R,V){if(!L||L.isIndex!==!0)throw new TypeError("Invalid index");var k,U=L.size(),G=L.isScalar();if((0,b.isMatrix)(R)?(k=R.size(),R=R.toArray()):k=(0,A.arraySize)(R),G){if(k.length!==0)throw new TypeError("Scalar expected");j.set(L.min(),R,V)}else{if(U.length!==1&&U.length!==2)throw new _.DimensionError(U.length,j._size.length,"<");if(k.length<U.length){for(var H=0,X=0;U[H]===1&&k[H]===1;)H++;for(;U[H]===1;)X++,H++;R=(0,A.unsqueeze)(R,U.length,X,k)}if(!(0,p.deepStrictEqual)(U,k))throw new _.DimensionError(U,k,">");for(var Z=L.min()[0],J=L.min()[1],ee=k[0],$=k[1],W=0;W<ee;W++)for(var Q=0;Q<$;Q++){var te=R[W][Q];j.set([W+Z,Q+J],te,V)}}return j}(this,M,F,B);default:throw new SyntaxError("Wrong number of arguments")}},D.prototype.get=function(M){if(!(0,b.isArray)(M))throw new TypeError("Array expected");if(M.length!==this._size.length)throw new _.DimensionError(M.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var F=M[0],B=M[1];(0,A.validateIndex)(F,this._size[0]),(0,A.validateIndex)(B,this._size[1]);var j=C(F,this._ptr[B],this._ptr[B+1],this._index);return j<this._ptr[B+1]&&this._index[j]===F?this._values[j]:0},D.prototype.set=function(M,F,B){if(!(0,b.isArray)(M))throw new TypeError("Array expected");if(M.length!==this._size.length)throw new _.DimensionError(M.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var j=M[0],L=M[1],R=this._size[0],V=this._size[1],k=x,U=0;(0,b.isString)(this._datatype)&&(k=f.find(x,[this._datatype,this._datatype])||x,U=f.convert(0,this._datatype)),(R-1<j||V-1<L)&&(O(this,Math.max(j+1,R),Math.max(L+1,V),B),R=this._size[0],V=this._size[1]),(0,A.validateIndex)(j,R),(0,A.validateIndex)(L,V);var G=C(j,this._ptr[L],this._ptr[L+1],this._index);return G<this._ptr[L+1]&&this._index[G]===j?k(F,U)?function(H,X,Z,J,ee){Z.splice(H,1),J.splice(H,1);for(var $=X+1;$<ee.length;$++)ee[$]--}(G,L,this._values,this._index,this._ptr):this._values[G]=F:T(G,j,L,F,this._values,this._index,this._ptr),this},D.prototype.resize=function(M,F,B){if(!(0,b.isArray)(M))throw new TypeError("Array expected");if(M.length!==2)throw new Error("Only two dimensions matrix are supported");return M.forEach(function(j){if(!(0,b.isNumber)(j)||!(0,h.isInteger)(j)||j<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,m.format)(M)+")")}),O(B?this.clone():this,M[0],M[1],F)},D.prototype.reshape=function(M,F){if(!(0,b.isArray)(M))throw new TypeError("Array expected");if(M.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(M.forEach(function(Q){if(!(0,b.isNumber)(Q)||!(0,h.isInteger)(Q)||Q<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,m.format)(M)+")")}),this._size[0]*this._size[1]!=M[0]*M[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var B=F?this.clone():this;if(this._size[0]===M[0]&&this._size[1]===M[1])return B;for(var j=[],L=0;L<B._ptr.length;L++)for(var R=0;R<B._ptr[L+1]-B._ptr[L];R++)j.push(L);for(var V=B._values.slice(),k=B._index.slice(),U=0;U<B._index.length;U++){var G=k[U],H=j[U],X=G*B._size[1]+H;j[U]=X%M[1],k[U]=Math.floor(X/M[1])}B._values.length=0,B._index.length=0,B._ptr.length=M[1]+1,B._size=M.slice();for(var Z=0;Z<B._ptr.length;Z++)B._ptr[Z]=0;for(var J=0;J<V.length;J++){var ee=k[J],$=j[J],W=V[J];T(C(ee,B._ptr[$],B._ptr[$+1],B._index),ee,$,W,B._values,B._index,B._ptr)}return B},D.prototype.clone=function(){return new D({values:this._values?(0,p.clone)(this._values):void 0,index:(0,p.clone)(this._index),ptr:(0,p.clone)(this._ptr),size:(0,p.clone)(this._size),datatype:this._datatype})},D.prototype.size=function(){return this._size.slice(0)},D.prototype.map=function(M,F){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var B=this;return function(j,L,R,V,k,U,G){var H=[],X=[],Z=[],J=x,ee=0;(0,b.isString)(j._datatype)&&(J=f.find(x,[j._datatype,j._datatype])||x,ee=f.convert(0,j._datatype));for(var $=function(pe,ye,Ae){pe=U(pe,ye,Ae),J(pe,ee)||(H.push(pe),X.push(ye))},W=V;W<=k;W++){Z.push(H.length);var Q=j._ptr[W],te=j._ptr[W+1];if(G)for(var ce=Q;ce<te;ce++){var oe=j._index[ce];L<=oe&&oe<=R&&$(j._values[ce],oe-L,W-V)}else{for(var ue={},we=Q;we<te;we++){var le=j._index[we];ue[le]=j._values[we]}for(var fe=L;fe<=R;fe++){var ve=fe in ue?ue[fe]:0;$(ve,fe-L,W-V)}}}return Z.push(H.length),new D({values:H,index:X,ptr:Z,size:[R-L+1,k-V+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,function(j,L,R){return M(j,[L,R],B)},F)},D.prototype.forEach=function(M,F){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var B=this._size[0],j=this._size[1],L=0;L<j;L++){var R=this._ptr[L],V=this._ptr[L+1];if(F)for(var k=R;k<V;k++){var U=this._index[k];M(this._values[k],[U,L],this)}else{for(var G={},H=R;H<V;H++)G[this._index[H]]=this._values[H];for(var X=0;X<B;X++)M(X in G?G[X]:0,[X,L],this)}}},D.prototype.toArray=function(){return I(this._values,this._index,this._ptr,this._size,!0)},D.prototype.valueOf=function(){return I(this._values,this._index,this._ptr,this._size,!1)},D.prototype.format=function(M){for(var F=this._size[0],B=this._size[1],j=this.density(),L="Sparse Matrix ["+(0,m.format)(F,M)+" x "+(0,m.format)(B,M)+"] density: "+(0,m.format)(j,M)+`
`,R=0;R<B;R++)for(var V=this._ptr[R],k=this._ptr[R+1],U=V;U<k;U++){var G=this._index[U];L+=`
    (`+(0,m.format)(G,M)+", "+(0,m.format)(R,M)+") ==> "+(this._values?(0,m.format)(this._values[U],M):"X")}return L},D.prototype.toString=function(){return(0,m.format)(this.toArray())},D.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},D.prototype.diagonal=function(M){if(M){if((0,b.isBigNumber)(M)&&(M=M.toNumber()),!(0,b.isNumber)(M)||!(0,h.isInteger)(M))throw new TypeError("The parameter k must be an integer number")}else M=0;var F=0<M?M:0,B=M<0?-M:0,j=this._size[0],L=this._size[1],R=Math.min(j-B,L-F),V=[],k=[],U=[];U[0]=0;for(var G=F;G<L&&V.length<R;G++)for(var H=this._ptr[G],X=this._ptr[G+1],Z=H;Z<X;Z++){var J=this._index[Z];if(J===G-F+B){V.push(this._values[Z]),k[V.length-1]=J-B;break}}return U.push(V.length),new D({values:V,index:k,ptr:U,size:[R,1]})},D.fromJSON=function(M){return new D(M)},D.diagonal=function(M,F,B,j,L){if(!(0,b.isArray)(M))throw new TypeError("Array expected, size parameter");if(M.length!==2)throw new Error("Only two dimensions matrix are supported");if(M=M.map(function(oe){if((0,b.isBigNumber)(oe)&&(oe=oe.toNumber()),!(0,b.isNumber)(oe)||!(0,h.isInteger)(oe)||oe<1)throw new Error("Size values must be positive integers");return oe}),B){if((0,b.isBigNumber)(B)&&(B=B.toNumber()),!(0,b.isNumber)(B)||!(0,h.isInteger)(B))throw new TypeError("The parameter k must be an integer number")}else B=0;var R=x,V=0;(0,b.isString)(L)&&(R=f.find(x,[L,L])||x,V=f.convert(0,L));var k,U=0<B?B:0,G=B<0?-B:0,H=M[0],X=M[1],Z=Math.min(H-G,X-U);if((0,b.isArray)(F)){if(F.length!==Z)throw new Error("Invalid value array length");k=function(oe){return F[oe]}}else if((0,b.isMatrix)(F)){var J=F.size();if(J.length!==1||J[0]!==Z)throw new Error("Invalid matrix length");k=function(oe){return F.get([oe])}}else k=function(){return F};for(var ee=[],$=[],W=[],Q=0;Q<X;Q++){W.push(ee.length);var te,ce=Q-U;0<=ce&&ce<Z&&(R(te=k(ce),V)||($.push(ce+G),ee.push(te)))}return W.push(ee.length),new D({values:ee,index:$,ptr:W,size:[H,X]})},D.prototype.swapRows=function(M,F){if(!((0,b.isNumber)(M)&&(0,h.isInteger)(M)&&(0,b.isNumber)(F)&&(0,h.isInteger)(F)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return(0,A.validateIndex)(M,this._size[0]),(0,A.validateIndex)(F,this._size[0]),D._swapRows(M,F,this._size[1],this._values,this._index,this._ptr),this},D._forEachRow=function(M,F,B,j,L){for(var R=j[M],V=j[M+1],k=R;k<V;k++)L(B[k],F[k])},D._swapRows=function(M,F,B,j,L,R){for(var V=0;V<B;V++){var k,U,G,H=R[V],X=R[V+1],Z=C(M,H,X,L),J=C(F,H,X,L);Z<X&&J<X&&L[Z]===M&&L[J]===F?j&&(k=j[Z],j[Z]=j[J],j[J]=k):Z<X&&L[Z]===M&&(X<=J||L[J]!==F)?(U=j?j[Z]:void 0,L.splice(J,0,F),j&&j.splice(J,0,U),L.splice(J<=Z?Z+1:Z,1),j&&j.splice(J<=Z?Z+1:Z,1)):J<X&&L[J]===F&&(X<=Z||L[Z]!==M)&&(G=j?j[J]:void 0,L.splice(Z,0,M),j&&j.splice(Z,0,G),L.splice(Z<=J?J+1:J,1),j&&j.splice(Z<=J?J+1:J,1))}},D},{isClass:!0});r.createSparseMatrixClass=y},{"../../error/DimensionError":399,"../../utils/array":922,"../../utils/factory":931,"../../utils/is":933,"../../utils/number":937,"../../utils/object":938,"../../utils/string":941}],897:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createIndex=void 0;var b=n("../../../utils/factory"),h=n("../../../utils/is"),m=["typed","Index"],p=(0,b.factory)("index",m,function(A){var S=A.typed,_=A.Index;return S("index",{"...number | string | BigNumber | Range | Array | Matrix":function(l){var y=l.map(function(f){return(0,h.isBigNumber)(f)?f.toNumber():Array.isArray(f)||(0,h.isMatrix)(f)?f.map(function(x){return(0,h.isBigNumber)(x)?x.toNumber():x}):f}),o=new _;return _.apply(o,y),o}})});r.createIndex=p},{"../../../utils/factory":931,"../../../utils/is":933}],898:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createMatrix=void 0;var b=n("../../../utils/factory"),h=["typed","Matrix","DenseMatrix","SparseMatrix"],m=(0,b.factory)("matrix",h,function(p){var A=p.typed,S=(p.Matrix,p.DenseMatrix),_=p.SparseMatrix;return A("matrix",{"":function(){return l([])},string:function(y){return l([],y)},"string, string":function(y,o){return l([],y,o)},Array:function(y){return l(y)},Matrix:function(y){return l(y,y.storage())},"Array | Matrix, string":l,"Array | Matrix, string, string":l});function l(y,o,f){if(o==="dense"||o==="default"||o===void 0)return new S(y,f);if(o==="sparse")return new _(y,f);throw new TypeError("Unknown matrix type "+JSON.stringify(o)+".")}});r.createMatrix=m},{"../../../utils/factory":931}],899:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSparse=void 0;var b=n("../../../utils/factory"),h=["typed","SparseMatrix"],m=(0,b.factory)("sparse",h,function(p){var A=p.typed,S=p.SparseMatrix;return A("sparse",{"":function(){return new S([])},string:function(_){return new S([],_)},"Array | Matrix":function(_){return new S(_)},"Array | Matrix, string":function(_,l){return new S(_,l)}})});r.createSparse=m},{"../../../utils/factory":931}],900:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm01=void 0;var b=n("../../../utils/factory"),h=n("../../../error/DimensionError"),m=["typed"],p=(0,b.factory)("algorithm01",m,function(A){var S=A.typed;return function(_,l,y,o){var f=_._data,x=_._size,g=_._datatype,D=l._values,E=l._index,C=l._ptr,T=l._size,O=l._datatype;if(x.length!==T.length)throw new h.DimensionError(x.length,T.length);if(x[0]!==T[0]||x[1]!==T[1])throw new RangeError("Dimension mismatch. Matrix A ("+x+") must match Matrix B ("+T+")");if(!D)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");for(var I=x[0],M=x[1],F=typeof g=="string"&&g===O?g:void 0,B=F?S.find(y,[F,F]):y,j=[],L=0;L<I;L++)j[L]=[];for(var R=[],V=[],k=0;k<M;k++){for(var U=k+1,G=C[k],H=C[k+1],X=G;X<H;X++)R[L=E[X]]=o?B(D[X],f[L][k]):B(f[L][k],D[X]),V[L]=U;for(L=0;L<I;L++)V[L]===U?j[L][k]=R[L]:j[L][k]=f[L][k]}return _.createDenseMatrix({data:j,size:[I,M],datatype:F})}});r.createAlgorithm01=p},{"../../../error/DimensionError":399,"../../../utils/factory":931}],901:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm02=void 0;var b=n("../../../utils/factory"),h=n("../../../error/DimensionError"),m=["typed","equalScalar"],p=(0,b.factory)("algorithm02",m,function(A){var S=A.typed,_=A.equalScalar;return function(l,y,o,f){var x=l._data,g=l._size,D=l._datatype,E=y._values,C=y._index,T=y._ptr,O=y._size,I=y._datatype;if(g.length!==O.length)throw new h.DimensionError(g.length,O.length);if(g[0]!==O[0]||g[1]!==O[1])throw new RangeError("Dimension mismatch. Matrix A ("+g+") must match Matrix B ("+O+")");if(!E)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var M,F=g[0],B=g[1],j=_,L=0,R=o;typeof D=="string"&&D===I&&(M=D,j=S.find(_,[M,M]),L=S.convert(0,M),R=S.find(o,[M,M]));for(var V=[],k=[],U=[],G=0;G<B;G++){U[G]=k.length;for(var H=T[G],X=T[G+1],Z=H;Z<X;Z++){var J=C[Z],ee=f?R(E[Z],x[J][G]):R(x[J][G],E[Z]);j(ee,L)||(k.push(J),V.push(ee))}}return U[B]=k.length,y.createSparseMatrix({values:V,index:k,ptr:U,size:[F,B],datatype:M})}});r.createAlgorithm02=p},{"../../../error/DimensionError":399,"../../../utils/factory":931}],902:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm03=void 0;var b=n("../../../utils/factory"),h=n("../../../error/DimensionError"),m=["typed"],p=(0,b.factory)("algorithm03",m,function(A){var S=A.typed;return function(_,l,y,o){var f=_._data,x=_._size,g=_._datatype,D=l._values,E=l._index,C=l._ptr,T=l._size,O=l._datatype;if(x.length!==T.length)throw new h.DimensionError(x.length,T.length);if(x[0]!==T[0]||x[1]!==T[1])throw new RangeError("Dimension mismatch. Matrix A ("+x+") must match Matrix B ("+T+")");if(!D)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var I,M=x[0],F=x[1],B=0,j=y;typeof g=="string"&&g===O&&(I=g,B=S.convert(0,I),j=S.find(y,[I,I]));for(var L=[],R=0;R<M;R++)L[R]=[];for(var V=[],k=[],U=0;U<F;U++){for(var G=U+1,H=C[U],X=C[U+1],Z=H;Z<X;Z++){var J=E[Z];V[J]=o?j(D[Z],f[J][U]):j(f[J][U],D[Z]),k[J]=G}for(var ee=0;ee<M;ee++)k[ee]===G?L[ee][U]=V[ee]:L[ee][U]=o?j(B,f[ee][U]):j(f[ee][U],B)}return _.createDenseMatrix({data:L,size:[M,F],datatype:I})}});r.createAlgorithm03=p},{"../../../error/DimensionError":399,"../../../utils/factory":931}],903:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm04=void 0;var b=n("../../../utils/factory"),h=n("../../../error/DimensionError"),m=["typed","equalScalar"],p=(0,b.factory)("algorithm04",m,function(A){var S=A.typed,_=A.equalScalar;return function(l,y,o){var f=l._values,x=l._index,g=l._ptr,D=l._size,E=l._datatype,C=y._values,T=y._index,O=y._ptr,I=y._size,M=y._datatype;if(D.length!==I.length)throw new h.DimensionError(D.length,I.length);if(D[0]!==I[0]||D[1]!==I[1])throw new RangeError("Dimension mismatch. Matrix A ("+D+") must match Matrix B ("+I+")");var F,B=D[0],j=D[1],L=_,R=0,V=o;typeof E=="string"&&E===M&&(F=E,L=S.find(_,[F,F]),R=S.convert(0,F),V=S.find(o,[F,F]));for(var k=f&&C?[]:void 0,U=[],G=[],H=f&&C?[]:void 0,X=f&&C?[]:void 0,Z=[],J=[],ee=0;ee<j;ee++){G[ee]=U.length;for(var $,W,Q=ee+1,te=g[ee],ce=g[ee+1],oe=te;oe<ce;oe++)W=x[oe],U.push(W),Z[W]=Q,H&&(H[W]=f[oe]);for(te=O[ee],ce=O[ee+1],oe=te;oe<ce;oe++)Z[W=T[oe]]===Q?H&&(L($=V(H[W],C[oe]),R)?Z[W]=null:H[W]=$):(U.push(W),J[W]=Q,X&&(X[W]=C[oe]));if(H&&X)for(oe=G[ee];oe<U.length;)Z[W=U[oe]]===Q?(k[oe]=H[W],oe++):J[W]===Q?(k[oe]=X[W],oe++):U.splice(oe,1)}return G[j]=U.length,l.createSparseMatrix({values:k,index:U,ptr:G,size:[B,j],datatype:F})}});r.createAlgorithm04=p},{"../../../error/DimensionError":399,"../../../utils/factory":931}],904:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm05=void 0;var b=n("../../../utils/factory"),h=n("../../../error/DimensionError"),m=["typed","equalScalar"],p=(0,b.factory)("algorithm05",m,function(A){var S=A.typed,_=A.equalScalar;return function(l,y,o){var f=l._values,x=l._index,g=l._ptr,D=l._size,E=l._datatype,C=y._values,T=y._index,O=y._ptr,I=y._size,M=y._datatype;if(D.length!==I.length)throw new h.DimensionError(D.length,I.length);if(D[0]!==I[0]||D[1]!==I[1])throw new RangeError("Dimension mismatch. Matrix A ("+D+") must match Matrix B ("+I+")");var F,B=D[0],j=D[1],L=_,R=0,V=o;typeof E=="string"&&E===M&&(F=E,L=S.find(_,[F,F]),R=S.convert(0,F),V=S.find(o,[F,F]));for(var k,U=f&&C?[]:void 0,G=[],H=[],X=U?[]:void 0,Z=U?[]:void 0,J=[],ee=[],$=0;$<j;$++){H[$]=G.length;for(var W=$+1,Q=g[$],te=g[$+1];Q<te;Q++)k=x[Q],G.push(k),J[k]=W,X&&(X[k]=f[Q]);for(Q=O[$],te=O[$+1];Q<te;Q++)J[k=T[Q]]!==W&&G.push(k),ee[k]=W,Z&&(Z[k]=C[Q]);if(U)for(Q=H[$];Q<G.length;){var ce,oe=J[k=G[Q]],ue=ee[k];oe!==W&&ue!==W||(L(ce=V(oe===W?X[k]:R,ue===W?Z[k]:R),R)?G.splice(Q,1):(U.push(ce),Q++))}}return H[j]=G.length,l.createSparseMatrix({values:U,index:G,ptr:H,size:[B,j],datatype:F})}});r.createAlgorithm05=p},{"../../../error/DimensionError":399,"../../../utils/factory":931}],905:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm06=void 0;var b=n("../../../utils/factory"),h=n("../../../error/DimensionError"),m=n("../../../utils/collection"),p=["typed","equalScalar"],A=(0,b.factory)("algorithm06",p,function(S){var _=S.typed,l=S.equalScalar;return function(y,o,f){var x=y._values,g=y._size,D=y._datatype,E=o._values,C=o._size,T=o._datatype;if(g.length!==C.length)throw new h.DimensionError(g.length,C.length);if(g[0]!==C[0]||g[1]!==C[1])throw new RangeError("Dimension mismatch. Matrix A ("+g+") must match Matrix B ("+C+")");var O,I=g[0],M=g[1],F=l,B=0,j=f;typeof D=="string"&&D===T&&(O=D,F=_.find(l,[O,O]),B=_.convert(0,O),j=_.find(f,[O,O]));for(var L=x&&E?[]:void 0,R=[],V=[],k=L?[]:void 0,U=[],G=[],H=0;H<M;H++){V[H]=R.length;var X=H+1;if((0,m.scatter)(y,H,U,k,G,X,R,j),(0,m.scatter)(o,H,U,k,G,X,R,j),k)for(var Z=V[H];Z<R.length;){var J,ee=R[Z];G[ee]!==X||F(J=k[ee],B)?R.splice(Z,1):(L.push(J),Z++)}else for(var $=V[H];$<R.length;)G[R[$]]!==X?R.splice($,1):$++}return V[M]=R.length,y.createSparseMatrix({values:L,index:R,ptr:V,size:[I,M],datatype:O})}});r.createAlgorithm06=A},{"../../../error/DimensionError":399,"../../../utils/collection":927,"../../../utils/factory":931}],906:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm07=void 0;var b=n("../../../utils/factory"),h=n("../../../error/DimensionError"),m=["typed","DenseMatrix"],p=(0,b.factory)("algorithm07",m,function(A){var S=A.typed,_=A.DenseMatrix;return function(y,o,f){var x=y._size,g=y._datatype,D=o._size,E=o._datatype;if(x.length!==D.length)throw new h.DimensionError(x.length,D.length);if(x[0]!==D[0]||x[1]!==D[1])throw new RangeError("Dimension mismatch. Matrix A ("+x+") must match Matrix B ("+D+")");var C,T=x[0],O=x[1],I=0,M=f;typeof g=="string"&&g===E&&(C=g,I=S.convert(0,C),M=S.find(f,[C,C]));for(var F=[],B=0;B<T;B++)F[B]=[];for(var j=[],L=[],R=[],V=[],k=0;k<O;k++){var U=k+1;for(l(y,k,R,j,U),l(o,k,V,L,U),B=0;B<T;B++){var G=R[B]===U?j[B]:I,H=V[B]===U?L[B]:I;F[B][k]=M(G,H)}}return new _({data:F,size:[T,O],datatype:C})};function l(y,o,f,x,g){for(var D=y._values,E=y._index,C=y._ptr,T=C[o],O=C[o+1];T<O;T++){var I=E[T];f[I]=g,x[I]=D[T]}}});r.createAlgorithm07=p},{"../../../error/DimensionError":399,"../../../utils/factory":931}],907:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm08=void 0;var b=n("../../../utils/factory"),h=n("../../../error/DimensionError"),m=["typed","equalScalar"],p=(0,b.factory)("algorithm08",m,function(A){var S=A.typed,_=A.equalScalar;return function(l,y,o){var f=l._values,x=l._index,g=l._ptr,D=l._size,E=l._datatype,C=y._values,T=y._index,O=y._ptr,I=y._size,M=y._datatype;if(D.length!==I.length)throw new h.DimensionError(D.length,I.length);if(D[0]!==I[0]||D[1]!==I[1])throw new RangeError("Dimension mismatch. Matrix A ("+D+") must match Matrix B ("+I+")");if(!f||!C)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var F,B=D[0],j=D[1],L=_,R=0,V=o;typeof E=="string"&&E===M&&(F=E,L=S.find(_,[F,F]),R=S.convert(0,F),V=S.find(o,[F,F]));for(var k,U=[],G=[],H=[],X=[],Z=[],J=0;J<j;J++){H[J]=G.length;for(var ee=J+1,$=g[J],W=g[J+1],Q=$;Q<W;Q++)Z[k=x[Q]]=ee,X[k]=f[Q],G.push(k);for($=O[J],W=O[J+1],Q=$;Q<W;Q++)Z[k=T[Q]]===ee&&(X[k]=V(X[k],C[Q]));for(Q=H[J];Q<G.length;){var te=X[k=G[Q]];L(te,R)?G.splice(Q,1):(U.push(te),Q++)}}return H[j]=G.length,l.createSparseMatrix({values:U,index:G,ptr:H,size:[B,j],datatype:F})}});r.createAlgorithm08=p},{"../../../error/DimensionError":399,"../../../utils/factory":931}],908:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm09=void 0;var b=n("../../../utils/factory"),h=n("../../../error/DimensionError"),m=["typed","equalScalar"],p=(0,b.factory)("algorithm09",m,function(A){var S=A.typed,_=A.equalScalar;return function(l,y,o){var f=l._values,x=l._index,g=l._ptr,D=l._size,E=l._datatype,C=y._values,T=y._index,O=y._ptr,I=y._size,M=y._datatype;if(D.length!==I.length)throw new h.DimensionError(D.length,I.length);if(D[0]!==I[0]||D[1]!==I[1])throw new RangeError("Dimension mismatch. Matrix A ("+D+") must match Matrix B ("+I+")");var F,B=D[0],j=D[1],L=_,R=0,V=o;typeof E=="string"&&E===M&&(F=E,L=S.find(_,[F,F]),R=S.convert(0,F),V=S.find(o,[F,F]));for(var k,U,G,H=f&&C?[]:void 0,X=[],Z=[],J=H?[]:void 0,ee=[],$=0;$<j;$++){Z[$]=X.length;var W=$+1;if(J)for(U=O[$],G=O[$+1],k=U;k<G;k++)ee[ce=T[k]]=W,J[ce]=C[k];for(U=g[$],G=g[$+1],k=U;k<G;k++){var Q,te,ce=x[k];J?(Q=ee[ce]===W?J[ce]:R,L(te=V(f[k],Q),R)||(X.push(ce),H.push(te))):X.push(ce)}}return Z[j]=X.length,l.createSparseMatrix({values:H,index:X,ptr:Z,size:[B,j],datatype:F})}});r.createAlgorithm09=p},{"../../../error/DimensionError":399,"../../../utils/factory":931}],909:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var b=["typed","DenseMatrix"],h=(r.createAlgorithm10=void 0,n("../../../utils/factory").factory)("algorithm10",b,function(m){var p=m.typed,A=m.DenseMatrix;return function(S,_,l,y){var o=S._values,f=S._index,x=S._ptr,g=S._size,D=S._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var E,C=g[0],T=g[1],O=l;typeof D=="string"&&(E=D,_=p.convert(_,E),O=p.find(l,[E,E]));for(var I=[],M=[],F=[],B=0;B<T;B++){for(var j=B+1,L=x[B],R=x[B+1],V=L;V<R;V++){var k=f[V];M[k]=o[V],F[k]=j}for(var U=0;U<C;U++)B===0&&(I[U]=[]),F[U]===j?I[U][B]=y?O(_,M[U]):O(M[U],_):I[U][B]=_}return new A({data:I,size:[C,T],datatype:E})}});r.createAlgorithm10=h},{"../../../utils/factory":931}],910:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var b=["typed","equalScalar"],h=(r.createAlgorithm11=void 0,n("../../../utils/factory").factory)("algorithm11",b,function(m){var p=m.typed,A=m.equalScalar;return function(S,_,l,y){var o=S._values,f=S._index,x=S._ptr,g=S._size,D=S._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var E,C=g[0],T=g[1],O=A,I=0,M=l;typeof D=="string"&&(E=D,O=p.find(A,[E,E]),I=p.convert(0,E),_=p.convert(_,E),M=p.find(l,[E,E]));for(var F=[],B=[],j=[],L=0;L<T;L++){j[L]=B.length;for(var R=x[L],V=x[L+1],k=R;k<V;k++){var U=f[k],G=y?M(_,o[k]):M(o[k],_);O(G,I)||(B.push(U),F.push(G))}}return j[T]=B.length,S.createSparseMatrix({values:F,index:B,ptr:j,size:[C,T],datatype:E})}});r.createAlgorithm11=h},{"../../../utils/factory":931}],911:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var b=["typed","DenseMatrix"],h=(r.createAlgorithm12=void 0,n("../../../utils/factory").factory)("algorithm12",b,function(m){var p=m.typed,A=m.DenseMatrix;return function(S,_,l,y){var o=S._values,f=S._index,x=S._ptr,g=S._size,D=S._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var E,C=g[0],T=g[1],O=l;typeof D=="string"&&(E=D,_=p.convert(_,E),O=p.find(l,[E,E]));for(var I=[],M=[],F=[],B=0;B<T;B++){for(var j=B+1,L=x[B],R=x[B+1],V=L;V<R;V++){var k=f[V];M[k]=o[V],F[k]=j}for(var U=0;U<C;U++)B===0&&(I[U]=[]),F[U]===j?I[U][B]=y?O(_,M[U]):O(M[U],_):I[U][B]=y?O(_,0):O(0,_)}return new A({data:I,size:[C,T],datatype:E})}});r.createAlgorithm12=h},{"../../../utils/factory":931}],912:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm13=void 0;var b=n("../../../utils/factory"),h=n("../../../error/DimensionError"),m=["typed"],p=(0,b.factory)("algorithm13",m,function(A){var S=A.typed;return function(_,l,y){var o=_._data,f=_._size,x=_._datatype,g=l._data,D=l._size,E=l._datatype,C=[];if(f.length!==D.length)throw new h.DimensionError(f.length,D.length);for(var T,O=0;O<f.length;O++){if(f[O]!==D[O])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+D+")");C[O]=f[O]}var I=y;typeof x=="string"&&x===E&&(T=x,I=S.find(y,[T,T]));var M=0<C.length?function F(B,j,L,R,V,k){var U=[];if(j===L.length-1)for(var G=0;G<R;G++)U[G]=B(V[G],k[G]);else for(var H=0;H<R;H++)U[H]=F(B,j+1,L,L[j+1],V[H],k[H]);return U}(I,0,C,C[0],o,g):[];return _.createDenseMatrix({data:M,size:C,datatype:T})}});r.createAlgorithm13=p},{"../../../error/DimensionError":399,"../../../utils/factory":931}],913:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createAlgorithm14=void 0;var b=n("../../../utils/factory"),h=n("../../../utils/object"),m=["typed"],p=(0,b.factory)("algorithm14",m,function(A){var S=A.typed;return function(_,l,y,o){var f,x=_._data,g=_._size,D=_._datatype,E=y;typeof D=="string"&&(f=D,l=S.convert(l,f),E=S.find(y,[f,f]));var C=0<g.length?function T(O,I,M,F,B,j,L){var R=[];if(I===M.length-1)for(var V=0;V<F;V++)R[V]=L?O(j,B[V]):O(B[V],j);else for(var k=0;k<F;k++)R[k]=T(O,I+1,M,M[I+1],B[k],j,L);return R}(E,0,g,g[0],x,l,o):[];return _.createDenseMatrix({data:C,size:(0,h.clone)(g),datatype:f})}});r.createAlgorithm14=p},{"../../../utils/factory":931,"../../../utils/object":938}],914:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createNumber=void 0;var b=n("../utils/factory"),h=n("../utils/collection"),m=["typed"],p=(0,b.factory)("number",m,function(A){var S=(0,A.typed)("number",{"":function(){return 0},number:function(_){return _},string:function(_){if(_==="NaN")return NaN;var l=Number(_);if(isNaN(l))throw new SyntaxError('String "'+_+'" is no valid number');return l},BigNumber:function(_){return _.toNumber()},Fraction:function(_){return _.valueOf()},Unit:function(){throw new Error("Second argument with valueless unit expected")},null:function(){return 0},"Unit, string | Unit":function(_,l){return _.toNumber(l)},"Array | Matrix":function(_){return(0,h.deepMap)(_,S)}});return S.fromJSON=function(_){return parseFloat(_.value)},S});r.createNumber=p},{"../utils/collection":927,"../utils/factory":931}],915:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0});var b=[],h=(r.createResultSet=void 0,n("../../utils/factory").factory)("ResultSet",b,function(){function m(p){if(!(this instanceof m))throw new SyntaxError("Constructor must be called with the new operator");this.entries=p||[]}return m.prototype.type="ResultSet",m.prototype.isResultSet=!0,m.prototype.valueOf=function(){return this.entries},m.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},m.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},m.fromJSON=function(p){return new m(p.entries)},m},{isClass:!0});r.createResultSet=h},{"../../utils/factory":931}],916:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createString=void 0;var b=n("../utils/factory"),h=n("../utils/collection"),m=n("../utils/number"),p=["typed"],A=(0,b.factory)("string",p,function(S){var _=(0,S.typed)("string",{"":function(){return""},number:m.format,null:function(){return"null"},boolean:function(l){return l+""},string:function(l){return l},"Array | Matrix":function(l){return(0,h.deepMap)(l,_)},any:function(l){return String(l)}});return _});r.createString=A},{"../utils/collection":927,"../utils/factory":931,"../utils/number":937}],917:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUnitClass=void 0;var b=n("../../utils/is"),h=n("../../utils/factory"),m=n("../../utils/string"),p=n("../../utils/object"),A=n("../../utils/bignumber/constants");function S(o){return(S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(o)}function _(){return(_=Object.assign||function(o){for(var f=1;f<arguments.length;f++){var x=arguments[f];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(o[g]=x[g])}return o}).apply(this,arguments)}var l=["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],y=(0,h.factory)("Unit",l,function(o){var f,x,g,D=o.on,E=o.config,C=o.addScalar,T=o.subtract,O=o.multiplyScalar,I=o.divideScalar,M=o.pow,F=o.abs,B=o.fix,j=o.round,L=o.equal,R=o.isNumeric,V=o.format,k=o.number,U=o.Complex,G=o.BigNumber,H=o.Fraction,X=k;function Z(Ne,Be){if(!(this instanceof Z))throw new Error("Constructor must be called with the new operator");if(Ne!=null&&!R(Ne)&&!(0,b.isComplex)(Ne))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(Be!==void 0&&(typeof Be!="string"||Be===""))throw new TypeError("Second parameter in Unit constructor must be a string");if(Be!==void 0){var $e=Z.parse(Be);this.units=$e.units,this.dimensions=$e.dimensions}else{this.units=[{unit:ve,prefix:ue.NONE,power:0}],this.dimensions=[];for(var Le=0;Le<we.length;Le++)this.dimensions[Le]=0}this.value=Ne!=null?this._normalize(Ne):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function J(){for(;g===" "||g==="	";)$()}function ee(Ne){return"0"<=Ne&&Ne<="9"}function $(){x++,g=f.charAt(x)}function W(Ne){x=Ne,g=f.charAt(x)}function Q(){var Ne="",Be=x;if(g==="+"?$():g==="-"&&(Ne+=g,$()),!function(qe){return"0"<=qe&&qe<="9"||qe==="."}(g))return W(Be),null;if(g==="."){if(Ne+=g,$(),!ee(g))return W(Be),null}else{for(;ee(g);)Ne+=g,$();g==="."&&(Ne+=g,$())}for(;ee(g);)Ne+=g,$();if(g==="E"||g==="e"){var $e="",Le=x;if($e+=g,$(),g!=="+"&&g!=="-"||($e+=g,$()),!ee(g))return W(Le),Ne;for(Ne+=$e;ee(g);)Ne+=g,$()}return Ne}function te(Ne){return g===Ne&&($(),Ne)}function ce(Ne){if((0,p.hasOwnProperty)(pe,Ne)){var Be=pe[Ne];return{unit:Be,prefix:Be.prefixes[""]}}for(var $e in pe)if((0,p.hasOwnProperty)(pe,$e)&&(0,m.endsWith)(Ne,$e)){var Le=pe[$e],qe=Ne.length-$e.length,ze=Ne.substring(0,qe),Ee=(0,p.hasOwnProperty)(Le.prefixes,ze)?Le.prefixes[ze]:void 0;if(Ee!==void 0)return{unit:Le,prefix:Ee}}return null}function oe(Ne){return Ne.equalBase(le.NONE)&&Ne.value!==null&&!E.predictable?Ne.value:Ne}Z.prototype.type="Unit",Z.prototype.isUnit=!0,Z.parse=function(Ne,Be){if(Be=Be||{},x=-1,g="",typeof(f=Ne)!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var $e=new Z,Le=1,qe=!($e.units=[]);$(),J();var ze=Q(),Ee=null;if(ze){if(E.number==="BigNumber")Ee=new G(ze);else if(E.number==="Fraction")try{Ee=new H(ze)}catch{Ee=parseFloat(ze)}else Ee=parseFloat(ze);J(),te("*")?(Le=1,qe=!0):te("/")&&(Le=-1,qe=!0)}for(var Se=[],Me=1;;){for(J();g==="(";)Se.push(Le),Me*=Le,Le=1,$(),J();var me=void 0;if(!g)break;var Ve=g;if((me=function(){for(var dt="",ft=f.charCodeAt(x);48<=ft&&ft<=57||65<=ft&&ft<=90||97<=ft&&ft<=122;)dt+=g,$(),ft=f.charCodeAt(x);return(65<=(ft=dt.charCodeAt(0))&&ft<=90||97<=ft&&ft<=122)&&dt||null}())===null)throw new SyntaxError('Unexpected "'+Ve+'" in "'+f+'" at index '+x.toString());var Xe=ce(me);if(Xe===null)throw new SyntaxError('Unit "'+me+'" not found.');var rt=Le*Me;if(J(),te("^")){J();var lt=Q();if(lt===null)throw new SyntaxError('In "'+Ne+'", "^" must be followed by a floating-point number');rt*=lt}$e.units.push({unit:Xe.unit,prefix:Xe.prefix,power:rt});for(var nt,it=0;it<we.length;it++)$e.dimensions[it]+=(Xe.unit.dimensions[it]||0)*rt;for(J();g===")";){if(Se.length===0)throw new SyntaxError('Unmatched ")" in "'+f+'" at index '+x.toString());Me/=Se.pop(),$(),J()}qe=!1,te("*")?(Le=1,qe=!0):te("/")?(Le=-1,qe=!0):Le=1,Xe.unit.base&&(nt=Xe.unit.base.key,be.auto[nt]={unit:Xe.unit,prefix:Xe.prefix})}if(J(),g)throw new SyntaxError('Could not parse: "'+Ne+'"');if(qe)throw new SyntaxError('Trailing characters: "'+Ne+'"');if(Se.length!==0)throw new SyntaxError('Unmatched "(" in "'+f+'"');if($e.units.length===0&&!Be.allowNoUnits)throw new SyntaxError('"'+Ne+'" contains no units');return $e.value=Ee!==void 0?$e._normalize(Ee):null,$e},Z.prototype.clone=function(){var Ne=new Z;Ne.fixPrefix=this.fixPrefix,Ne.skipAutomaticSimplification=this.skipAutomaticSimplification,Ne.value=(0,p.clone)(this.value),Ne.dimensions=this.dimensions.slice(0),Ne.units=[];for(var Be=0;Be<this.units.length;Be++)for(var $e in Ne.units[Be]={},this.units[Be])(0,p.hasOwnProperty)(this.units[Be],$e)&&(Ne.units[Be][$e]=this.units[Be][$e]);return Ne},Z.prototype._isDerived=function(){return this.units.length!==0&&(1<this.units.length||1e-15<Math.abs(this.units[0].power-1))},Z.prototype._normalize=function(Ne){var Be,$e,Le,qe;if(Ne==null||this.units.length===0)return Ne;if(this._isDerived()){for(var ze=Ne,Ee=Z._getNumberConverter((0,b.typeOf)(Ne)),Se=0;Se<this.units.length;Se++)Be=Ee(this.units[Se].unit.value),qe=Ee(this.units[Se].prefix.value),Le=Ee(this.units[Se].power),ze=O(ze,M(O(Be,qe),Le));return ze}return Be=(Ee=Z._getNumberConverter((0,b.typeOf)(Ne)))(this.units[0].unit.value),$e=Ee(this.units[0].unit.offset),qe=Ee(this.units[0].prefix.value),O(C(Ne,$e),O(Be,qe))},Z.prototype._denormalize=function(Ne,Be){var $e,Le,qe,ze;if(Ne==null||this.units.length===0)return Ne;if(this._isDerived()){for(var Ee=Ne,Se=Z._getNumberConverter((0,b.typeOf)(Ne)),Me=0;Me<this.units.length;Me++)$e=Se(this.units[Me].unit.value),ze=Se(this.units[Me].prefix.value),qe=Se(this.units[Me].power),Ee=I(Ee,M(O($e,ze),qe));return Ee}return $e=(Se=Z._getNumberConverter((0,b.typeOf)(Ne)))(this.units[0].unit.value),ze=Se(this.units[0].prefix.value),Le=Se(this.units[0].unit.offset),T(I(I(Ne,$e),Be??ze),Le)},Z.isValuelessUnit=function(Ne){return ce(Ne)!==null},Z.prototype.hasBase=function(Ne){if(typeof Ne=="string"&&(Ne=le[Ne]),!Ne)return!1;for(var Be=0;Be<we.length;Be++)if(1e-12<Math.abs((this.dimensions[Be]||0)-(Ne.dimensions[Be]||0)))return!1;return!0},Z.prototype.equalBase=function(Ne){for(var Be=0;Be<we.length;Be++)if(1e-12<Math.abs((this.dimensions[Be]||0)-(Ne.dimensions[Be]||0)))return!1;return!0},Z.prototype.equals=function(Ne){return this.equalBase(Ne)&&L(this.value,Ne.value)},Z.prototype.multiply=function(Ne){for(var Be=this.clone(),$e=0;$e<we.length;$e++)Be.dimensions[$e]=(this.dimensions[$e]||0)+(Ne.dimensions[$e]||0);for(var Le,qe,ze=0;ze<Ne.units.length;ze++){var Ee={};for(var Se in Ne.units[ze])Ee[Se]=Ne.units[ze][Se];Be.units.push(Ee)}return this.value!==null||Ne.value!==null?(Le=this.value===null?this._normalize(1):this.value,qe=Ne.value===null?Ne._normalize(1):Ne.value,Be.value=O(Le,qe)):Be.value=null,Be.skipAutomaticSimplification=!1,oe(Be)},Z.prototype.divide=function(Ne){for(var Be=this.clone(),$e=0;$e<we.length;$e++)Be.dimensions[$e]=(this.dimensions[$e]||0)-(Ne.dimensions[$e]||0);for(var Le,qe,ze=0;ze<Ne.units.length;ze++){var Ee={};for(var Se in Ne.units[ze])Ee[Se]=Ne.units[ze][Se];Ee.power=-Ee.power,Be.units.push(Ee)}return this.value!==null||Ne.value!==null?(Le=this.value===null?this._normalize(1):this.value,qe=Ne.value===null?Ne._normalize(1):Ne.value,Be.value=I(Le,qe)):Be.value=null,Be.skipAutomaticSimplification=!1,oe(Be)},Z.prototype.pow=function(Ne){for(var Be=this.clone(),$e=0;$e<we.length;$e++)Be.dimensions[$e]=(this.dimensions[$e]||0)*Ne;for(var Le=0;Le<Be.units.length;Le++)Be.units[Le].power*=Ne;return Be.value!==null?Be.value=M(Be.value,Ne):Be.value=null,Be.skipAutomaticSimplification=!1,oe(Be)},Z.prototype.abs=function(){var Ne=this.clone();for(var Be in Ne.value=Ne.value!==null?F(Ne.value):null,Ne.units)Ne.units[Be].unit.name!=="VA"&&Ne.units[Be].unit.name!=="VAR"||(Ne.units[Be].unit=pe.W);return Ne},Z.prototype.to=function(Ne){var Be,$e=this.value===null?this._normalize(1):this.value;if(typeof Ne=="string"){if(Be=Z.parse(Ne),!this.equalBase(Be))throw new Error("Units do not match ('".concat(Be.toString(),"' != '").concat(this.toString(),"')"));if(Be.value!==null)throw new Error("Cannot convert to a unit with a value");return Be.value=(0,p.clone)($e),Be.fixPrefix=!0,Be.skipAutomaticSimplification=!0,Be}if((0,b.isUnit)(Ne)){if(!this.equalBase(Ne))throw new Error("Units do not match ('".concat(Ne.toString(),"' != '").concat(this.toString(),"')"));if(Ne.value!==null)throw new Error("Cannot convert to a unit with a value");return(Be=Ne.clone()).value=(0,p.clone)($e),Be.fixPrefix=!0,Be.skipAutomaticSimplification=!0,Be}throw new Error("String or Unit expected as parameter")},Z.prototype.toNumber=function(Ne){return X(this.toNumeric(Ne))},Z.prototype.toNumeric=function(Ne){var Be=Ne?this.to(Ne):this.clone();return Be._isDerived()||Be.units.length===0?Be._denormalize(Be.value):Be._denormalize(Be.value,Be.units[0].prefix.value)},Z.prototype.toString=function(){return this.format()},Z.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},Z.fromJSON=function(Ne){var Be=new Z(Ne.value,Ne.unit);return Be.fixPrefix=Ne.fixPrefix||!1,Be},Z.prototype.valueOf=Z.prototype.toString,Z.prototype.simplify=function(){var Ne,Be,$e=this.clone(),Le=[];for(var qe in ne)if($e.hasBase(le[qe])){Ne=qe;break}if(Ne==="NONE")$e.units=[];else if(Ne&&(0,p.hasOwnProperty)(ne,Ne)&&(Be=ne[Ne]),Be)$e.units=[{unit:Be.unit,prefix:Be.prefix,power:1}];else{for(var ze=!1,Ee=0;Ee<we.length;Ee++){var Se=we[Ee];1e-12<Math.abs($e.dimensions[Ee]||0)&&((0,p.hasOwnProperty)(ne,Se)?Le.push({unit:ne[Se].unit,prefix:ne[Se].prefix,power:$e.dimensions[Ee]||0}):ze=!0)}Le.length<$e.units.length&&!ze&&($e.units=Le)}return $e},Z.prototype.toSI=function(){for(var Ne=this.clone(),Be=[],$e=0;$e<we.length;$e++){var Le=we[$e];if(1e-12<Math.abs(Ne.dimensions[$e]||0)){if(!(0,p.hasOwnProperty)(be.si,Le))throw new Error("Cannot express custom unit "+Le+" in SI units");Be.push({unit:be.si[Le].unit,prefix:be.si[Le].prefix,power:Ne.dimensions[$e]||0})}}return Ne.units=Be,Ne.fixPrefix=!0,Ne.skipAutomaticSimplification=!0,Ne},Z.prototype.formatUnits=function(){for(var Ne="",Be="",$e=0,Le=0,qe=0;qe<this.units.length;qe++)0<this.units[qe].power?($e++,Ne+=" "+this.units[qe].prefix.name+this.units[qe].unit.name,1e-15<Math.abs(this.units[qe].power-1)&&(Ne+="^"+this.units[qe].power)):this.units[qe].power<0&&Le++;if(0<Le)for(var ze=0;ze<this.units.length;ze++)this.units[ze].power<0&&(0<$e?(Be+=" "+this.units[ze].prefix.name+this.units[ze].unit.name,1e-15<Math.abs(this.units[ze].power+1)&&(Be+="^"+-this.units[ze].power)):(Be+=" "+this.units[ze].prefix.name+this.units[ze].unit.name,Be+="^"+this.units[ze].power));Ne=Ne.substr(1),Be=Be.substr(1),1<$e&&0<Le&&(Ne="("+Ne+")"),1<Le&&0<$e&&(Be="("+Be+")");var Ee=Ne;return 0<$e&&0<Le&&(Ee+=" / "),Ee+=Be},Z.prototype.format=function(Ne){var Be=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),$e=!1;for(var Le in Be.value!==void 0&&Be.value!==null&&(0,b.isComplex)(Be.value)&&($e=Math.abs(Be.value.re)<1e-14),Be.units)Be.units[Le].unit&&(Be.units[Le].unit.name==="VA"&&$e?Be.units[Le].unit=pe.VAR:Be.units[Le].unit.name!=="VAR"||$e||(Be.units[Le].unit=pe.VA));Be.units.length!==1||Be.fixPrefix||Math.abs(Be.units[0].power-Math.round(Be.units[0].power))<1e-14&&(Be.units[0].prefix=Be._bestPrefix());var qe=Be._denormalize(Be.value),ze=Be.value!==null?V(qe,Ne||{}):"",Ee=Be.formatUnits();return Be.value&&(0,b.isComplex)(Be.value)&&(ze="("+ze+")"),0<Ee.length&&0<ze.length&&(ze+=" "),ze+=Ee},Z.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(1e-14<=Math.abs(this.units[0].power-Math.round(this.units[0].power)))throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var Ne=this.value!==null?F(this.value):0,Be=F(this.units[0].unit.value),$e=this.units[0].prefix;if(Ne===0)return $e;var Le=this.units[0].power,qe=Math.log(Ne/Math.pow($e.value*Be,Le))/Math.LN10-1.2;if(-2.200001<qe&&qe<1.800001)return $e;qe=Math.abs(qe);var ze,Ee,Se=this.units[0].unit.prefixes;for(var Me in Se)(0,p.hasOwnProperty)(Se,Me)&&(!(ze=Se[Me]).scientific||((Ee=Math.abs(Math.log(Ne/Math.pow(ze.value*Be,Le))/Math.LN10-1.2))<qe||Ee===qe&&ze.name.length<$e.name.length)&&($e=ze,qe=Ee));return $e};var ue={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!(Z.prototype.splitUnit=function(Ne){for(var Be=this.clone(),$e=[],Le=0;Le<Ne.length&&(Be=Be.to(Ne[Le]),Le!==Ne.length-1);Le++){var qe=Be.toNumeric(),ze=j(qe),Ee=new Z(L(ze,qe)?ze:B(Be.toNumeric()),Ne[Le].toString());$e.push(Ee),Be=T(Be,Ee)}for(var Se=0,Me=0;Me<$e.length;Me++)Se=C(Se,$e[Me].value);return L(Se,this.value)&&(Be.value=0),$e.push(Be),$e})},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};ue.SHORTLONG=_({},ue.SHORT,ue.LONG),ue.BINARY_SHORT=_({},ue.BINARY_SHORT_SI,ue.BINARY_SHORT_IEC),ue.BINARY_LONG=_({},ue.BINARY_LONG_SI,ue.BINARY_LONG_IEC);var we=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],le={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var fe in le)le[fe].key=fe;var ve={name:"",base:{},value:1,offset:0,dimensions:we.map(function(Ne){return 0})},pe={meter:{name:"meter",base:le.LENGTH,prefixes:ue.LONG,value:1,offset:0},inch:{name:"inch",base:le.LENGTH,prefixes:ue.NONE,value:.0254,offset:0},foot:{name:"foot",base:le.LENGTH,prefixes:ue.NONE,value:.3048,offset:0},yard:{name:"yard",base:le.LENGTH,prefixes:ue.NONE,value:.9144,offset:0},mile:{name:"mile",base:le.LENGTH,prefixes:ue.NONE,value:1609.344,offset:0},link:{name:"link",base:le.LENGTH,prefixes:ue.NONE,value:.201168,offset:0},rod:{name:"rod",base:le.LENGTH,prefixes:ue.NONE,value:5.0292,offset:0},chain:{name:"chain",base:le.LENGTH,prefixes:ue.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:le.LENGTH,prefixes:ue.NONE,value:1e-10,offset:0},m:{name:"m",base:le.LENGTH,prefixes:ue.SHORT,value:1,offset:0},in:{name:"in",base:le.LENGTH,prefixes:ue.NONE,value:.0254,offset:0},ft:{name:"ft",base:le.LENGTH,prefixes:ue.NONE,value:.3048,offset:0},yd:{name:"yd",base:le.LENGTH,prefixes:ue.NONE,value:.9144,offset:0},mi:{name:"mi",base:le.LENGTH,prefixes:ue.NONE,value:1609.344,offset:0},li:{name:"li",base:le.LENGTH,prefixes:ue.NONE,value:.201168,offset:0},rd:{name:"rd",base:le.LENGTH,prefixes:ue.NONE,value:5.02921,offset:0},ch:{name:"ch",base:le.LENGTH,prefixes:ue.NONE,value:20.1168,offset:0},mil:{name:"mil",base:le.LENGTH,prefixes:ue.NONE,value:254e-7,offset:0},m2:{name:"m2",base:le.SURFACE,prefixes:ue.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:le.SURFACE,prefixes:ue.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:le.SURFACE,prefixes:ue.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:le.SURFACE,prefixes:ue.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:le.SURFACE,prefixes:ue.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:le.SURFACE,prefixes:ue.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:le.SURFACE,prefixes:ue.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:le.SURFACE,prefixes:ue.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:le.SURFACE,prefixes:ue.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:le.SURFACE,prefixes:ue.NONE,value:1e4,offset:0},m3:{name:"m3",base:le.VOLUME,prefixes:ue.CUBIC,value:1,offset:0},L:{name:"L",base:le.VOLUME,prefixes:ue.SHORT,value:.001,offset:0},l:{name:"l",base:le.VOLUME,prefixes:ue.SHORT,value:.001,offset:0},litre:{name:"litre",base:le.VOLUME,prefixes:ue.LONG,value:.001,offset:0},cuin:{name:"cuin",base:le.VOLUME,prefixes:ue.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:le.VOLUME,prefixes:ue.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:le.VOLUME,prefixes:ue.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:le.VOLUME,prefixes:ue.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:le.VOLUME,prefixes:ue.NONE,value:15e-6,offset:0},drop:{name:"drop",base:le.VOLUME,prefixes:ue.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:le.VOLUME,prefixes:ue.NONE,value:5e-8,offset:0},minim:{name:"minim",base:le.VOLUME,prefixes:ue.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:le.VOLUME,prefixes:ue.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:le.VOLUME,prefixes:ue.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:le.VOLUME,prefixes:ue.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:le.VOLUME,prefixes:ue.NONE,value:1e-6,offset:0},cup:{name:"cup",base:le.VOLUME,prefixes:ue.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:le.VOLUME,prefixes:ue.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:le.VOLUME,prefixes:ue.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:le.VOLUME,prefixes:ue.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:le.VOLUME,prefixes:ue.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:le.VOLUME,prefixes:ue.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:le.VOLUME,prefixes:ue.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:le.VOLUME,prefixes:ue.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:le.VOLUME,prefixes:ue.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:le.VOLUME,prefixes:ue.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:le.VOLUME,prefixes:ue.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:le.VOLUME,prefixes:ue.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:le.VOLUME,prefixes:ue.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:le.VOLUME,prefixes:ue.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:le.VOLUME,prefixes:ue.NONE,value:.1173478,offset:0},obl:{name:"obl",base:le.VOLUME,prefixes:ue.NONE,value:.1589873,offset:0},g:{name:"g",base:le.MASS,prefixes:ue.SHORT,value:.001,offset:0},gram:{name:"gram",base:le.MASS,prefixes:ue.LONG,value:.001,offset:0},ton:{name:"ton",base:le.MASS,prefixes:ue.SHORT,value:907.18474,offset:0},t:{name:"t",base:le.MASS,prefixes:ue.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:le.MASS,prefixes:ue.LONG,value:1e3,offset:0},grain:{name:"grain",base:le.MASS,prefixes:ue.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:le.MASS,prefixes:ue.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:le.MASS,prefixes:ue.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:le.MASS,prefixes:ue.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:le.MASS,prefixes:ue.NONE,value:45.359237,offset:0},stick:{name:"stick",base:le.MASS,prefixes:ue.NONE,value:.115,offset:0},stone:{name:"stone",base:le.MASS,prefixes:ue.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:le.MASS,prefixes:ue.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:le.MASS,prefixes:ue.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:le.MASS,prefixes:ue.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:le.MASS,prefixes:ue.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:le.MASS,prefixes:ue.NONE,value:45.359237,offset:0},s:{name:"s",base:le.TIME,prefixes:ue.SHORT,value:1,offset:0},min:{name:"min",base:le.TIME,prefixes:ue.NONE,value:60,offset:0},h:{name:"h",base:le.TIME,prefixes:ue.NONE,value:3600,offset:0},second:{name:"second",base:le.TIME,prefixes:ue.LONG,value:1,offset:0},sec:{name:"sec",base:le.TIME,prefixes:ue.LONG,value:1,offset:0},minute:{name:"minute",base:le.TIME,prefixes:ue.NONE,value:60,offset:0},hour:{name:"hour",base:le.TIME,prefixes:ue.NONE,value:3600,offset:0},day:{name:"day",base:le.TIME,prefixes:ue.NONE,value:86400,offset:0},week:{name:"week",base:le.TIME,prefixes:ue.NONE,value:604800,offset:0},month:{name:"month",base:le.TIME,prefixes:ue.NONE,value:2629800,offset:0},year:{name:"year",base:le.TIME,prefixes:ue.NONE,value:31557600,offset:0},decade:{name:"decade",base:le.TIME,prefixes:ue.NONE,value:315576e3,offset:0},century:{name:"century",base:le.TIME,prefixes:ue.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:le.TIME,prefixes:ue.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:le.FREQUENCY,prefixes:ue.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:le.FREQUENCY,prefixes:ue.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:le.ANGLE,prefixes:ue.SHORT,value:1,offset:0},radian:{name:"radian",base:le.ANGLE,prefixes:ue.LONG,value:1,offset:0},deg:{name:"deg",base:le.ANGLE,prefixes:ue.SHORT,value:null,offset:0},degree:{name:"degree",base:le.ANGLE,prefixes:ue.LONG,value:null,offset:0},grad:{name:"grad",base:le.ANGLE,prefixes:ue.SHORT,value:null,offset:0},gradian:{name:"gradian",base:le.ANGLE,prefixes:ue.LONG,value:null,offset:0},cycle:{name:"cycle",base:le.ANGLE,prefixes:ue.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:le.ANGLE,prefixes:ue.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:le.ANGLE,prefixes:ue.NONE,value:null,offset:0},A:{name:"A",base:le.CURRENT,prefixes:ue.SHORT,value:1,offset:0},ampere:{name:"ampere",base:le.CURRENT,prefixes:ue.LONG,value:1,offset:0},K:{name:"K",base:le.TEMPERATURE,prefixes:ue.NONE,value:1,offset:0},degC:{name:"degC",base:le.TEMPERATURE,prefixes:ue.NONE,value:1,offset:273.15},degF:{name:"degF",base:le.TEMPERATURE,prefixes:ue.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:le.TEMPERATURE,prefixes:ue.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:le.TEMPERATURE,prefixes:ue.NONE,value:1,offset:0},celsius:{name:"celsius",base:le.TEMPERATURE,prefixes:ue.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:le.TEMPERATURE,prefixes:ue.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:le.TEMPERATURE,prefixes:ue.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:le.AMOUNT_OF_SUBSTANCE,prefixes:ue.SHORT,value:1,offset:0},mole:{name:"mole",base:le.AMOUNT_OF_SUBSTANCE,prefixes:ue.LONG,value:1,offset:0},cd:{name:"cd",base:le.LUMINOUS_INTENSITY,prefixes:ue.SHORT,value:1,offset:0},candela:{name:"candela",base:le.LUMINOUS_INTENSITY,prefixes:ue.LONG,value:1,offset:0},N:{name:"N",base:le.FORCE,prefixes:ue.SHORT,value:1,offset:0},newton:{name:"newton",base:le.FORCE,prefixes:ue.LONG,value:1,offset:0},dyn:{name:"dyn",base:le.FORCE,prefixes:ue.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:le.FORCE,prefixes:ue.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:le.FORCE,prefixes:ue.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:le.FORCE,prefixes:ue.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:le.FORCE,prefixes:ue.LONG,value:4448.2216,offset:0},J:{name:"J",base:le.ENERGY,prefixes:ue.SHORT,value:1,offset:0},joule:{name:"joule",base:le.ENERGY,prefixes:ue.SHORT,value:1,offset:0},erg:{name:"erg",base:le.ENERGY,prefixes:ue.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:le.ENERGY,prefixes:ue.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:le.ENERGY,prefixes:ue.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:le.ENERGY,prefixes:ue.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:le.ENERGY,prefixes:ue.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:le.POWER,prefixes:ue.SHORT,value:1,offset:0},watt:{name:"watt",base:le.POWER,prefixes:ue.LONG,value:1,offset:0},hp:{name:"hp",base:le.POWER,prefixes:ue.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:le.POWER,prefixes:ue.SHORT,value:U.I,offset:0},VA:{name:"VA",base:le.POWER,prefixes:ue.SHORT,value:1,offset:0},Pa:{name:"Pa",base:le.PRESSURE,prefixes:ue.SHORT,value:1,offset:0},psi:{name:"psi",base:le.PRESSURE,prefixes:ue.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:le.PRESSURE,prefixes:ue.NONE,value:101325,offset:0},bar:{name:"bar",base:le.PRESSURE,prefixes:ue.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:le.PRESSURE,prefixes:ue.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:le.PRESSURE,prefixes:ue.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:le.PRESSURE,prefixes:ue.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:le.PRESSURE,prefixes:ue.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:le.ELECTRIC_CHARGE,prefixes:ue.LONG,value:1,offset:0},C:{name:"C",base:le.ELECTRIC_CHARGE,prefixes:ue.SHORT,value:1,offset:0},farad:{name:"farad",base:le.ELECTRIC_CAPACITANCE,prefixes:ue.LONG,value:1,offset:0},F:{name:"F",base:le.ELECTRIC_CAPACITANCE,prefixes:ue.SHORT,value:1,offset:0},volt:{name:"volt",base:le.ELECTRIC_POTENTIAL,prefixes:ue.LONG,value:1,offset:0},V:{name:"V",base:le.ELECTRIC_POTENTIAL,prefixes:ue.SHORT,value:1,offset:0},ohm:{name:"ohm",base:le.ELECTRIC_RESISTANCE,prefixes:ue.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:le.ELECTRIC_INDUCTANCE,prefixes:ue.LONG,value:1,offset:0},H:{name:"H",base:le.ELECTRIC_INDUCTANCE,prefixes:ue.SHORT,value:1,offset:0},siemens:{name:"siemens",base:le.ELECTRIC_CONDUCTANCE,prefixes:ue.LONG,value:1,offset:0},S:{name:"S",base:le.ELECTRIC_CONDUCTANCE,prefixes:ue.SHORT,value:1,offset:0},weber:{name:"weber",base:le.MAGNETIC_FLUX,prefixes:ue.LONG,value:1,offset:0},Wb:{name:"Wb",base:le.MAGNETIC_FLUX,prefixes:ue.SHORT,value:1,offset:0},tesla:{name:"tesla",base:le.MAGNETIC_FLUX_DENSITY,prefixes:ue.LONG,value:1,offset:0},T:{name:"T",base:le.MAGNETIC_FLUX_DENSITY,prefixes:ue.SHORT,value:1,offset:0},b:{name:"b",base:le.BIT,prefixes:ue.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:le.BIT,prefixes:ue.BINARY_LONG,value:1,offset:0},B:{name:"B",base:le.BIT,prefixes:ue.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:le.BIT,prefixes:ue.BINARY_LONG,value:8,offset:0}},ye={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function Ae(Ne){var Be;Ne.number==="BigNumber"?(Be=(0,A.createBigNumberPi)(G),pe.rad.value=new G(1),pe.deg.value=Be.div(180),pe.grad.value=Be.div(200),pe.cycle.value=Be.times(2),pe.arcsec.value=Be.div(648e3),pe.arcmin.value=Be.div(10800)):(pe.rad.value=1,pe.deg.value=Math.PI/180,pe.grad.value=Math.PI/200,pe.cycle.value=2*Math.PI,pe.arcsec.value=Math.PI/648e3,pe.arcmin.value=Math.PI/10800),pe.radian.value=pe.rad.value,pe.degree.value=pe.deg.value,pe.gradian.value=pe.grad.value}Ae(E),D&&D("config",function(Ne,Be){Ne.number!==Be.number&&Ae(Ne)});var be={si:{NONE:{unit:ve,prefix:ue.NONE[""]},LENGTH:{unit:pe.m,prefix:ue.SHORT[""]},MASS:{unit:pe.g,prefix:ue.SHORT.k},TIME:{unit:pe.s,prefix:ue.SHORT[""]},CURRENT:{unit:pe.A,prefix:ue.SHORT[""]},TEMPERATURE:{unit:pe.K,prefix:ue.SHORT[""]},LUMINOUS_INTENSITY:{unit:pe.cd,prefix:ue.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:pe.mol,prefix:ue.SHORT[""]},ANGLE:{unit:pe.rad,prefix:ue.SHORT[""]},BIT:{unit:pe.bits,prefix:ue.SHORT[""]},FORCE:{unit:pe.N,prefix:ue.SHORT[""]},ENERGY:{unit:pe.J,prefix:ue.SHORT[""]},POWER:{unit:pe.W,prefix:ue.SHORT[""]},PRESSURE:{unit:pe.Pa,prefix:ue.SHORT[""]},ELECTRIC_CHARGE:{unit:pe.C,prefix:ue.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:pe.F,prefix:ue.SHORT[""]},ELECTRIC_POTENTIAL:{unit:pe.V,prefix:ue.SHORT[""]},ELECTRIC_RESISTANCE:{unit:pe.ohm,prefix:ue.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:pe.H,prefix:ue.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:pe.S,prefix:ue.SHORT[""]},MAGNETIC_FLUX:{unit:pe.Wb,prefix:ue.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:pe.T,prefix:ue.SHORT[""]},FREQUENCY:{unit:pe.Hz,prefix:ue.SHORT[""]}}};be.cgs=JSON.parse(JSON.stringify(be.si)),be.cgs.LENGTH={unit:pe.m,prefix:ue.SHORT.c},be.cgs.MASS={unit:pe.g,prefix:ue.SHORT[""]},be.cgs.FORCE={unit:pe.dyn,prefix:ue.SHORT[""]},be.cgs.ENERGY={unit:pe.erg,prefix:ue.NONE[""]},be.us=JSON.parse(JSON.stringify(be.si)),be.us.LENGTH={unit:pe.ft,prefix:ue.NONE[""]},be.us.MASS={unit:pe.lbm,prefix:ue.NONE[""]},be.us.TEMPERATURE={unit:pe.degF,prefix:ue.NONE[""]},be.us.FORCE={unit:pe.lbf,prefix:ue.NONE[""]},be.us.ENERGY={unit:pe.BTU,prefix:ue.BTU[""]},be.us.POWER={unit:pe.hp,prefix:ue.NONE[""]},be.us.PRESSURE={unit:pe.psi,prefix:ue.NONE[""]},be.auto=JSON.parse(JSON.stringify(be.si));var ne=be.auto;for(var re in Z.setUnitSystem=function(Ne){if(!(0,p.hasOwnProperty)(be,Ne))throw new Error("Unit system "+Ne+" does not exist. Choices are: "+Object.keys(be).join(", "));ne=be[Ne]},Z.getUnitSystem=function(){for(var Ne in be)if(be[Ne]===ne)return Ne},Z.typeConverters={BigNumber:function(Ne){return new G(Ne+"")},Fraction:function(Ne){return new H(Ne)},Complex:function(Ne){return Ne},number:function(Ne){return Ne}},Z._getNumberConverter=function(Ne){if(!Z.typeConverters[Ne])throw new TypeError('Unsupported type "'+Ne+'"');return Z.typeConverters[Ne]},pe){var de=pe[re];de.dimensions=de.base.dimensions}for(var Ce in ye)if((0,p.hasOwnProperty)(ye,Ce)){var je=pe[ye[Ce]],xe={};for(var Ie in je)(0,p.hasOwnProperty)(je,Ie)&&(xe[Ie]=je[Ie]);xe.name=Ce,pe[Ce]=xe}return Z.createUnit=function(Ne,Be){if(S(Ne)!=="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(Be&&Be.override){for(var $e in Ne)if((0,p.hasOwnProperty)(Ne,$e)&&Z.deleteUnit($e),Ne[$e].aliases)for(var Le=0;Le<Ne[$e].aliases.length;Le++)Z.deleteUnit(Ne[$e].aliases[Le])}var qe;for(var ze in Ne)(0,p.hasOwnProperty)(Ne,ze)&&(qe=Z.createUnitSingle(ze,Ne[ze]));return qe},Z.createUnitSingle=function(Ne,Be,$e){if(Be==null&&(Be={}),typeof Ne!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if((0,p.hasOwnProperty)(pe,Ne))throw new Error('Cannot create unit "'+Ne+'": a unit with that name already exists');(function(kt){for(var Mt,Ot=0;Ot<kt.length;Ot++){var Lt=kt.charAt(Ot),Ft=function(Pt){return/^[a-zA-Z]$/.test(Pt)};if(Ot===0&&!Ft(Lt))throw new Error('Invalid unit name (must begin with alpha character): "'+kt+'"');if(0<Ot&&!(Ft(Lt)||"0"<=(Mt=Lt)&&Mt<="9"))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+kt+'"')}})(Ne);var Le,qe,ze,Ee=null,Se=[],Me=0;if(Be&&Be.type==="Unit")Ee=Be.clone();else if(typeof Be=="string")Be!==""&&(Le=Be);else{if(S(Be)!=="object")throw new TypeError('Cannot create unit "'+Ne+'" from "'+Be.toString()+'": expecting "string" or "Unit" or "Object"');Le=Be.definition,qe=Be.prefixes,Me=Be.offset,ze=Be.baseName,Be.aliases&&(Se=Be.aliases.valueOf())}if(Se){for(var me=0;me<Se.length;me++)if((0,p.hasOwnProperty)(pe,Se[me]))throw new Error('Cannot create alias "'+Se[me]+'": a unit with that name already exists')}if(Le&&typeof Le=="string"&&!Ee)try{Ee=Z.parse(Le,{allowNoUnits:!0})}catch(kt){throw kt.message='Could not create unit "'+Ne+'" from "'+Le+'": '+kt.message,kt}else Le&&Le.type==="Unit"&&(Ee=Le.clone());Se=Se||[],Me=Me||0,qe=qe&&qe.toUpperCase&&ue[qe.toUpperCase()]||ue.NONE;var Ve={};if(Ee){var Xe,rt=!(Ve={name:Ne,value:Ee.value,dimensions:Ee.dimensions.slice(0),prefixes:qe,offset:Me});for(var lt in le)if((0,p.hasOwnProperty)(le,lt)){for(var nt=!0,it=0;it<we.length;it++)if(1e-12<Math.abs((Ve.dimensions[it]||0)-(le[lt].dimensions[it]||0))){nt=!1;break}if(nt){rt=!0,Ve.base=le[lt];break}}rt||(ze=ze||Ne+"_STUFF",(Xe={dimensions:Ee.dimensions.slice(0)}).key=ze,le[ze]=Xe,ne[ze]={unit:Ve,prefix:ue.NONE[""]},Ve.base=le[ze])}else{if(ze=ze||Ne+"_STUFF",0<=we.indexOf(ze))throw new Error('Cannot create new base unit "'+Ne+'": a base unit with that name already exists (and cannot be overridden)');for(var dt in we.push(ze),le)(0,p.hasOwnProperty)(le,dt)&&(le[dt].dimensions[we.length-1]=0);for(var ft={dimensions:[]},yt=0;yt<we.length;yt++)ft.dimensions[yt]=0;ft.dimensions[we.length-1]=1,ft.key=ze,le[ze]=ft,Ve={name:Ne,value:1,dimensions:le[ze].dimensions.slice(0),prefixes:qe,offset:Me,base:le[ze]},ne[ze]={unit:Ve,prefix:ue.NONE[""]}}Z.UNITS[Ne]=Ve;for(var bt=0;bt<Se.length;bt++){var wt=Se[bt],xt={};for(var Tt in Ve)(0,p.hasOwnProperty)(Ve,Tt)&&(xt[Tt]=Ve[Tt]);xt.name=wt,Z.UNITS[wt]=xt}return new Z(null,Ne)},Z.deleteUnit=function(Ne){delete Z.UNITS[Ne]},Z.PREFIXES=ue,Z.BASE_DIMENSIONS=we,Z.BASE_UNITS=le,Z.UNIT_SYSTEMS=be,Z.UNITS=pe,Z},{isClass:!0});r.createUnitClass=y},{"../../utils/bignumber/constants":924,"../../utils/factory":931,"../../utils/is":933,"../../utils/object":938,"../../utils/string":941}],918:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createCreateUnit=void 0;var b=n("../../../utils/factory"),h=["typed","Unit"],m=(0,b.factory)("createUnit",h,function(p){var A=p.typed,S=p.Unit;return A("createUnit",{"Object, Object":function(_,l){return S.createUnit(_,l)},Object:function(_){return S.createUnit(_,{})},"string, Unit | string | Object, Object":function(_,l,y){var o={};return o[_]=l,S.createUnit(o,y)},"string, Unit | string | Object":function(_,l){var y={};return y[_]=l,S.createUnit(y,{})},string:function(_){var l={};return l[_]={},S.createUnit(l,{})}})});r.createCreateUnit=m},{"../../../utils/factory":931}],919:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createSplitUnit=void 0;var b=n("../../../utils/factory"),h=["typed"],m=(0,b.factory)("splitUnit",h,function(p){return(0,p.typed)("splitUnit",{"Unit, Array":function(A,S){return A.splitUnit(S)}})});r.createSplitUnit=m},{"../../../utils/factory":931}],920:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createUnitFunction=void 0;var b=n("../../../utils/factory"),h=n("../../../utils/collection"),m=["typed","Unit"],p=(0,b.factory)("unit",m,function(A){var S=A.typed,_=A.Unit,l=S("unit",{Unit:function(y){return y.clone()},string:function(y){return _.isValuelessUnit(y)?new _(null,y):_.parse(y,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(y,o){return new _(y,o)},"Array | Matrix":function(y){return(0,h.deepMap)(y,l)}});return l});r.createUnitFunction=p},{"../../../utils/collection":927,"../../../utils/factory":931}],921:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createPlanckTemperature=r.createPlanckCharge=r.createPlanckTime=r.createPlanckMass=r.createPlanckLength=r.createGravity=r.createMolarMassC12=r.createMolarMass=r.createWienDisplacement=r.createStefanBoltzmann=r.createSecondRadiation=r.createSackurTetrode=r.createMolarVolume=r.createMolarPlanckConstant=r.createGasConstant=r.createLoschmidt=r.createFirstRadiation=r.createFaraday=r.createBoltzmann=r.createAvogadro=r.createAtomicMass=r.createEfimovFactor=r.createWeakMixingAngle=r.createThomsonCrossSection=r.createRydberg=r.createQuantumOfCirculation=r.createNeutronMass=r.createDeuteronMass=r.createProtonMass=r.createHartreeEnergy=r.createFineStructure=r.createFermiCoupling=r.createElectronMass=r.createClassicalElectronRadius=r.createBohrRadius=r.createJosephson=r.createKlitzing=r.createNuclearMagneton=r.createMagneticFluxQuantum=r.createInverseConductanceQuantum=r.createConductanceQuantum=r.createBohrMagneton=r.createElementaryCharge=r.createCoulomb=r.createVacuumImpedance=r.createElectricConstant=r.createMagneticConstant=r.createReducedPlanckConstant=r.createPlanckConstant=r.createGravitationConstant=r.createSpeedOfLight=void 0;var b=n("../../utils/factory"),h=Ce("speedOfLight","299792458","m s^-1");r.createSpeedOfLight=h;var m=Ce("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2");r.createGravitationConstant=m;var p=Ce("planckConstant","6.62607015e-34","J s");r.createPlanckConstant=p;var A=Ce("reducedPlanckConstant","1.0545718176461565e-34","J s");r.createReducedPlanckConstant=A;var S=Ce("magneticConstant","1.25663706212e-6","N A^-2");r.createMagneticConstant=S;var _=Ce("electricConstant","8.8541878128e-12","F m^-1");r.createElectricConstant=_;var l=Ce("vacuumImpedance","376.730313667","ohm");r.createVacuumImpedance=l;var y=Ce("coulomb","8.987551792261171e9","N m^2 C^-2");r.createCoulomb=y;var o=Ce("elementaryCharge","1.602176634e-19","C");r.createElementaryCharge=o;var f=Ce("bohrMagneton","9.2740100783e-24","J T^-1");r.createBohrMagneton=f;var x=Ce("conductanceQuantum","7.748091729863649e-5","S");r.createConductanceQuantum=x;var g=Ce("inverseConductanceQuantum","12906.403729652257","ohm");r.createInverseConductanceQuantum=g;var D=Ce("magneticFluxQuantum","2.0678338484619295e-15","Wb");r.createMagneticFluxQuantum=D;var E=Ce("nuclearMagneton","5.0507837461e-27","J T^-1");r.createNuclearMagneton=E;var C=Ce("klitzing","25812.807459304513","ohm");r.createKlitzing=C;var T=Ce("josephson","4.835978484169836e14 Hz V","Hz V^-1");r.createJosephson=T;var O=Ce("bohrRadius","5.29177210903e-11","m");r.createBohrRadius=O;var I=Ce("classicalElectronRadius","2.8179403262e-15","m");r.createClassicalElectronRadius=I;var M=Ce("electronMass","9.1093837015e-31","kg");r.createElectronMass=M;var F=Ce("fermiCoupling","1.1663787e-5","GeV^-2");r.createFermiCoupling=F;var B=je("fineStructure",.0072973525693);r.createFineStructure=B;var j=Ce("hartreeEnergy","4.3597447222071e-18","J");r.createHartreeEnergy=j;var L=Ce("protonMass","1.67262192369e-27","kg");r.createProtonMass=L;var R=Ce("deuteronMass","3.3435830926e-27","kg");r.createDeuteronMass=R;var V=Ce("neutronMass","1.6749271613e-27","kg");r.createNeutronMass=V;var k=Ce("quantumOfCirculation","3.6369475516e-4","m^2 s^-1");r.createQuantumOfCirculation=k;var U=Ce("rydberg","10973731.568160","m^-1");r.createRydberg=U;var G=Ce("thomsonCrossSection","6.6524587321e-29","m^2");r.createThomsonCrossSection=G;var H=je("weakMixingAngle",.2229);r.createWeakMixingAngle=H;var X=je("efimovFactor",22.7);r.createEfimovFactor=X;var Z=Ce("atomicMass","1.66053906660e-27","kg");r.createAtomicMass=Z;var J=Ce("avogadro","6.02214076e23","mol^-1");r.createAvogadro=J;var ee=Ce("boltzmann","1.380649e-23","J K^-1");r.createBoltzmann=ee;var $=Ce("faraday","96485.33212331001","C mol^-1");r.createFaraday=$;var W=Ce("firstRadiation","3.7417718521927573e-16","W m^2");r.createFirstRadiation=W;var Q=Ce("loschmidt","2.686780111798444e25","m^-3");r.createLoschmidt=Q;var te=Ce("gasConstant","8.31446261815324","J K^-1 mol^-1");r.createGasConstant=te;var ce=Ce("molarPlanckConstant","3.990312712893431e-10","J s mol^-1");r.createMolarPlanckConstant=ce;var oe=Ce("molarVolume","0.022413969545014137","m^3 mol^-1");r.createMolarVolume=oe;var ue=je("sackurTetrode",-1.16487052358);r.createSackurTetrode=ue;var we=Ce("secondRadiation","0.014387768775039337","m K");r.createSecondRadiation=we;var le=Ce("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4");r.createStefanBoltzmann=le;var fe=Ce("wienDisplacement","2.897771955e-3","m K");r.createWienDisplacement=fe;var ve=Ce("molarMass","0.99999999965e-3","kg mol^-1");r.createMolarMass=ve;var pe=Ce("molarMassC12","11.9999999958e-3","kg mol^-1");r.createMolarMassC12=pe;var ye=Ce("gravity","9.80665","m s^-2");r.createGravity=ye;var Ae=Ce("planckLength","1.616255e-35","m");r.createPlanckLength=Ae;var be=Ce("planckMass","2.176435e-8","kg");r.createPlanckMass=be;var ne=Ce("planckTime","5.391245e-44","s");r.createPlanckTime=ne;var re=Ce("planckCharge","1.87554603778e-18","C");r.createPlanckCharge=re;var de=Ce("planckTemperature","1.416785e+32","K");function Ce(xe,Ie,Ne){return(0,b.factory)(xe,["config","Unit","BigNumber"],function(Be){var $e=Be.config,Le=Be.Unit,qe=Be.BigNumber,ze=new Le($e.number==="BigNumber"?new qe(Ie):parseFloat(Ie),Ne);return ze.fixPrefix=!0,ze})}function je(xe,Ie){return(0,b.factory)(xe,["config","BigNumber"],function(Ne){var Be=Ne.config,$e=Ne.BigNumber;return Be.number==="BigNumber"?new $e(Ie):Ie})}r.createPlanckTemperature=de},{"../../utils/factory":931}],922:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.arraySize=S,r.validate=function(l,y){if(y.length===0){if(Array.isArray(l))throw new p.DimensionError(l.length,0)}else(function o(f,x,g){var D,E=f.length;if(E!==x[g])throw new p.DimensionError(E,x[g]);if(g<x.length-1){var C=g+1;for(D=0;D<E;D++){var T=f[D];if(!Array.isArray(T))throw new p.DimensionError(x.length-1,x.length,"<");o(f[D],x,C)}}else for(D=0;D<E;D++)if(Array.isArray(f[D]))throw new p.DimensionError(x.length+1,x.length,">")})(l,y,0)},r.validateIndex=function(l,y){if(!(0,h.isNumber)(l)||!(0,b.isInteger)(l))throw new TypeError("Index must be an integer (value: "+l+")");if(l<0||typeof y=="number"&&y<=l)throw new A.IndexError(l,y)},r.resize=function(l,y,o){if(!Array.isArray(l)||!Array.isArray(y))throw new TypeError("Array expected");if(y.length===0)throw new Error("Resizing to scalar is not supported");y.forEach(function(x){if(!(0,h.isNumber)(x)||!(0,b.isInteger)(x)||x<0)throw new TypeError("Invalid size, must contain positive integers (size: "+(0,m.format)(y)+")")});var f=o!==void 0?o:0;return function x(g,D,E,C){var T,O,I=g.length,M=D[E],F=Math.min(I,M);if(g.length=M,E<D.length-1){var B=E+1;for(T=0;T<F;T++)O=g[T],Array.isArray(O)||(O=[O],g[T]=O),x(O,D,B,C);for(T=F;T<M;T++)O=[],g[T]=O,x(O,D,B,C)}else{for(T=0;T<F;T++)for(;Array.isArray(g[T]);)g[T]=g[T][0];for(T=F;T<M;T++)g[T]=C}}(l,y,0,f),l},r.reshape=function(l,y){var o,f=_(l);function x(E){return E.reduce(function(C,T){return C*T})}if(!Array.isArray(l)||!Array.isArray(y))throw new TypeError("Array expected");if(y.length===0)throw new p.DimensionError(0,x(S(l)),"!=");for(var g=1,D=0;D<y.length;D++)g*=y[D];if(f.length!==g)throw new p.DimensionError(x(y),x(S(l)),"!=");try{o=function(E,C){for(var T,O=E,I=C.length-1;0<I;I--){var M=C[I];T=[];for(var F=O.length/M,B=0;B<F;B++)T.push(O.slice(B*M,(B+1)*M));O=T}return O}(f,y)}catch(E){throw E instanceof p.DimensionError?new p.DimensionError(x(y),x(S(l)),"!="):E}return o},r.squeeze=function(l,y){for(var o=y||S(l);Array.isArray(l)&&l.length===1;)l=l[0],o.shift();for(var f=o.length;o[f-1]===1;)f--;return f<o.length&&(l=function x(g,D,E){var C,T;if(E<D){var O=E+1;for(C=0,T=g.length;C<T;C++)g[C]=x(g[C],D,O)}else for(;Array.isArray(g);)g=g[0];return g}(l,f,0),o.length=f),l},r.unsqueeze=function(l,y,o,f){var x=f||S(l);if(o)for(var g=0;g<o;g++)l=[l],x.unshift(1);for(l=function D(E,C,T){var O,I;if(Array.isArray(E)){var M=T+1;for(O=0,I=E.length;O<I;O++)E[O]=D(E[O],C,M)}else for(var F=T;F<C;F++)E=[E];return E}(l,y,0);x.length<y;)x.push(1);return l},r.flatten=_,r.map=function(l,y){return Array.prototype.map.call(l,y)},r.forEach=function(l,y){Array.prototype.forEach.call(l,y)},r.filter=function(l,y){if(S(l).length===1)return Array.prototype.filter.call(l,y);throw new Error("Only one dimensional matrices supported")},r.filterRegExp=function(l,y){if(S(l).length===1)return Array.prototype.filter.call(l,function(o){return y.test(o)});throw new Error("Only one dimensional matrices supported")},r.join=function(l,y){return Array.prototype.join.call(l,y)},r.identify=function(l){if(!Array.isArray(l))throw new TypeError("Array input expected");if(l.length===0)return l;var y=[],o=0;y[0]={value:l[0],identifier:0};for(var f=1;f<l.length;f++)l[f]===l[f-1]?o++:o=0,y.push({value:l[f],identifier:o});return y},r.generalize=function(l){if(!Array.isArray(l))throw new TypeError("Array input expected");if(l.length===0)return l;for(var y=[],o=0;o<l.length;o++)y.push(l[o].value);return y},r.getArrayDataType=function l(y,o){for(var f,x=0,g=0;g<y.length;g++){var D=y[g],E=Array.isArray(D);if(g===0&&E&&(x=D.length),E&&D.length!==x)return;var C=E?l(D,o):o(D);if(f===void 0)f=C;else if(f!==C)return"mixed"}return f},r.last=function(l){return l[l.length-1]},r.initial=function(l){return l.slice(0,l.length-1)},r.contains=function(l,y){return l.indexOf(y)!==-1};var b=n("./number"),h=n("./is"),m=n("./string"),p=n("../error/DimensionError"),A=n("../error/IndexError");function S(l){for(var y=[];Array.isArray(l);)y.push(l.length),l=l[0];return y}function _(l){if(!Array.isArray(l))return l;var y=[];return l.forEach(function o(f){Array.isArray(f)?f.forEach(o):y.push(f)}),y}},{"../error/DimensionError":399,"../error/IndexError":400,"./is":933,"./number":937,"./string":941}],923:[function(n,a,r){function b(p){if(p.isFinite()&&!p.isInteger())throw new Error("Integer expected in function bitNot");var A=p.constructor,S=A.precision;A.config({precision:1e9});var _=p.plus(new A(1));return _.s=-_.s||null,A.config({precision:S}),_}function h(p,A,S){var _,l,y,o,f,x=p.constructor,g=+(p.s<0),D=+(A.s<0);if(g){_=m(b(p));for(var E=0;E<_.length;++E)_[E]^=1}else _=m(p);if(D){l=m(b(A));for(var C=0;C<l.length;++C)l[C]^=1}else l=m(A);f=_.length<=l.length?(y=_,o=l,g):(y=l,o=_,D);var T=y.length,O=o.length,I=1^S(g,D),M=new x(1^I),F=new x(1),B=new x(2),j=x.precision;for(x.config({precision:1e9});0<T;)S(y[--T],o[--O])===I&&(M=M.plus(F)),F=F.times(B);for(;0<O;)S(f,o[--O])===I&&(M=M.plus(F)),F=F.times(B);return x.config({precision:j}),I==0&&(M.s=-M.s),M}function m(p){for(var A=p.d,S=A[0]+"",_=1;_<A.length;++_){for(var l=A[_]+"",y=7-l.length;y--;)l="0"+l;S+=l}for(var o=S.length;S.charAt(o)==="0";)o--;var f=p.e,x=S.slice(0,o+1||1),g=x.length;if(0<f)if(++f>g)for(f-=g;f--;)x+="0";else f<g&&(x=x.slice(0,f)+"."+x.slice(f));for(var D=[0],E=0;E<x.length;){for(var C=D.length;C--;)D[C]*=10;D[0]+=parseInt(x.charAt(E++));for(var T=0;T<D.length;++T)1<D[T]&&(D[T+1]!==null&&D[T+1]!==void 0||(D[T+1]=0),D[T+1]+=D[T]>>1,D[T]&=1)}return D.reverse()}Object.defineProperty(r,"__esModule",{value:!0}),r.bitAndBigNumber=function(p,A){if(p.isFinite()&&!p.isInteger()||A.isFinite()&&!A.isInteger())throw new Error("Integers expected in function bitAnd");var S=p.constructor;if(p.isNaN()||A.isNaN())return new S(NaN);if(p.isZero()||A.eq(-1)||p.eq(A))return p;if(A.isZero()||p.eq(-1))return A;if(!p.isFinite()||!A.isFinite()){if(!p.isFinite()&&!A.isFinite())return p.isNegative()===A.isNegative()?p:new S(0);if(!p.isFinite())return A.isNegative()?p:p.isNegative()?new S(0):A;if(!A.isFinite())return p.isNegative()?A:A.isNegative()?new S(0):p}return h(p,A,function(_,l){return _&l})},r.bitNotBigNumber=b,r.bitOrBigNumber=function(p,A){if(p.isFinite()&&!p.isInteger()||A.isFinite()&&!A.isInteger())throw new Error("Integers expected in function bitOr");var S=p.constructor;if(p.isNaN()||A.isNaN())return new S(NaN);var _=new S(-1);return p.isZero()||A.eq(_)||p.eq(A)?A:A.isZero()||p.eq(_)?p:p.isFinite()&&A.isFinite()?h(p,A,function(l,y){return l|y}):!p.isFinite()&&!p.isNegative()&&A.isNegative()||p.isNegative()&&!A.isNegative()&&!A.isFinite()?_:p.isNegative()&&A.isNegative()?p.isFinite()?p:A:p.isFinite()?A:p},r.bitwise=h,r.bitXor=function(p,A){if(p.isFinite()&&!p.isInteger()||A.isFinite()&&!A.isInteger())throw new Error("Integers expected in function bitXor");var S=p.constructor;if(p.isNaN()||A.isNaN())return new S(NaN);if(p.isZero())return A;if(A.isZero())return p;if(p.eq(A))return new S(0);var _=new S(-1);return p.eq(_)?b(A):A.eq(_)?b(p):p.isFinite()&&A.isFinite()?h(p,A,function(l,y){return l^y}):p.isFinite()||A.isFinite()?new S(p.isNegative()===A.isNegative()?1/0:-1/0):_},r.leftShiftBigNumber=function(p,A){if(p.isFinite()&&!p.isInteger()||A.isFinite()&&!A.isInteger())throw new Error("Integers expected in function leftShift");var S=p.constructor;return p.isNaN()||A.isNaN()||A.isNegative()&&!A.isZero()?new S(NaN):p.isZero()||A.isZero()?p:!p.isFinite()&&!A.isFinite()?new S(NaN):A.lt(55)?p.times(Math.pow(2,A.toNumber())+""):p.times(new S(2).pow(A))},r.rightArithShiftBigNumber=function(p,A){if(p.isFinite()&&!p.isInteger()||A.isFinite()&&!A.isInteger())throw new Error("Integers expected in function rightArithShift");var S=p.constructor;return p.isNaN()||A.isNaN()||A.isNegative()&&!A.isZero()?new S(NaN):p.isZero()||A.isZero()?p:A.isFinite()?A.lt(55)?p.div(Math.pow(2,A.toNumber())+"").floor():p.div(new S(2).pow(A)).floor():p.isNegative()?new S(-1):p.isFinite()?new S(0):new S(NaN)}},{}],924:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBigNumberTau=r.createBigNumberPi=r.createBigNumberPhi=r.createBigNumberE=void 0;var b=n("../function"),h=(0,b.memoize)(function(_){return new _(1).exp()},S);r.createBigNumberE=h;var m=(0,b.memoize)(function(_){return new _(1).plus(new _(5).sqrt()).div(2)},S);r.createBigNumberPhi=m;var p=(0,b.memoize)(function(_){return _.acos(-1)},S);r.createBigNumberPi=p;var A=(0,b.memoize)(function(_){return p(_).times(2)},S);function S(_){return _[0].precision}r.createBigNumberTau=A},{"../function":932}],925:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.format=function A(S,_){if(typeof _=="function")return _(S);if(!S.isFinite())return S.isNaN()?"NaN":S.gt(0)?"Infinity":"-Infinity";var l="auto",y;switch(_!==void 0&&(_.notation&&(l=_.notation),typeof _=="number"?y=_:_.precision&&(y=_.precision)),l){case"fixed":return p(S,y);case"exponential":return m(S,y);case"engineering":return h(S,y);case"auto":if(_&&_.exponential&&(_.exponential.lower!==void 0||_.exponential.upper!==void 0)){var o=(0,b.mapObject)(_,function(E){return E});return(o.exponential=void 0)!==_.exponential.lower&&(o.lowerExp=Math.round(Math.log(_.exponential.lower)/Math.LN10)),_.exponential.upper!==void 0&&(o.upperExp=Math.round(Math.log(_.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(_)+" with "+JSON.stringify(o)),A(S,o)}var f=_&&_.lowerExp!==void 0?_.lowerExp:-3,x=_&&_.upperExp!==void 0?_.upperExp:5;if(S.isZero())return"0";var g=S.toSignificantDigits(y),D=g.e;return(f<=D&&D<x?g.toFixed():m(S,y)).replace(/((\.\d*?)(0+))($|e)/,function(){var E=arguments[2],C=arguments[4];return E!=="."?E+C:C});default:throw new Error('Unknown notation "'+l+'". Choose "auto", "exponential", or "fixed".')}},r.toEngineering=h,r.toExponential=m,r.toFixed=p;var b=n("../object");function h(A,S){var _=A.e,l=_%3==0?_:_<0?_-3-_%3:_-_%3,y=A.mul(Math.pow(10,-l)),o=y.toPrecision(S);return o.indexOf("e")!==-1&&(o=y.toString()),o+"e"+(0<=_?"+":"")+l.toString()}function m(A,S){return S!==void 0?A.toExponential(S-1):A.toExponential()}function p(A,S){return A.toFixed(S)}},{"../object":938}],926:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.nearlyEqual=function(b,h,m){if(m==null)return b.eq(h);if(b.eq(h))return!0;if(b.isNaN()||h.isNaN())return!1;if(b.isFinite()&&h.isFinite()){var p=b.minus(h).abs();if(p.isZero())return!0;var A=b.constructor.max(b.abs(),h.abs());return p.lte(A.times(m))}return!1}},{}],927:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.containsCollections=function(A){for(var S=0;S<A.length;S++)if((0,b.isCollection)(A[S]))return!0;return!1},r.deepForEach=function A(S,_){(0,b.isMatrix)(S)&&(S=S.valueOf());for(var l=0,y=S.length;l<y;l++){var o=S[l];Array.isArray(o)?A(o,_):_(o)}},r.deepMap=function A(S,_,l){return S&&typeof S.map=="function"?S.map(function(y){return A(y,_)}):_(S)},r.reduce=function(A,S,_){var l=Array.isArray(A)?(0,m.arraySize)(A):A.size();if(S<0||S>=l.length)throw new h.IndexError(S,l.length);return(0,b.isMatrix)(A)?A.create(p(A.valueOf(),S,_)):p(A,S,_)},r.scatter=function(A,S,_,l,y,o,f,x,g,D,E){var C,T,O,I,M=A._values,F=A._index,B=A._ptr;if(l)for(T=B[S],O=B[S+1],C=T;C<O;C++)I=F[C],_[I]!==o?(_[I]=o,f.push(I),D?(l[I]=g?x(M[C],E):x(E,M[C]),y[I]=o):l[I]=M[C]):(l[I]=g?x(M[C],l[I]):x(l[I],M[C]),y[I]=o);else for(T=B[S],O=B[S+1],C=T;C<O;C++)I=F[C],_[I]!==o?(_[I]=o,f.push(I)):y[I]=o};var b=n("./is"),h=n("../error/IndexError"),m=n("./array");function p(A,S,_){var l,y,o,f;if(S<=0){if(Array.isArray(A[0])){for(f=function(x){var g,D,E=x.length,C=x[0].length,T=[];for(D=0;D<C;D++){var O=[];for(g=0;g<E;g++)O.push(x[g][D]);T.push(O)}return T}(A),y=[],l=0;l<f.length;l++)y[l]=p(f[l],S-1,_);return y}for(o=A[0],l=1;l<A.length;l++)o=_(o,A[l]);return o}for(y=[],l=0;l<A.length;l++)y[l]=p(A[l],S-1,_);return y}},{"../error/IndexError":400,"./array":922,"./is":933}],928:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.complexEquals=function(h,m,p){return(0,b.nearlyEqual)(h.re,m.re,p)&&(0,b.nearlyEqual)(h.im,m.im,p)};var b=n("./number")},{"./number":937}],929:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getSafeProperty=function(l,y){if(A(l)&&m(l,y))return l[y];throw typeof l[y]=="function"&&p(l,y)?new Error('Cannot access method "'+y+'" as a property'):new Error('No access to property "'+y+'"')},r.setSafeProperty=function(l,y,o){if(A(l)&&m(l,y))return l[y]=o;throw new Error('No access to property "'+y+'"')},r.isSafeProperty=m,r.validateSafeMethod=function(l,y){if(!p(l,y))throw new Error('No access to method "'+y+'"')},r.isSafeMethod=p,r.isPlainObject=A;var b=n("./object");function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(l)}function m(l,y){return!(!l||h(l)!=="object")&&(!!(0,b.hasOwnProperty)(S,y)||!(y in Object.prototype)&&!(y in Function.prototype))}function p(l,y){return l!=null&&typeof l[y]=="function"&&!((0,b.hasOwnProperty)(l,y)&&Object.getPrototypeOf&&y in Object.getPrototypeOf(l))&&(!!(0,b.hasOwnProperty)(_,y)||!(y in Object.prototype)&&!(y in Function.prototype))}function A(l){return h(l)==="object"&&l&&l.constructor===Object}var S={length:!0,name:!0},_={toString:!0,valueOf:!0,toLocaleString:!0}},{"./object":938}],930:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.mixin=function(m){var p=new h.default;return m.on=p.on.bind(p),m.off=p.off.bind(p),m.once=p.once.bind(p),m.emit=p.emit.bind(p),m};var b,h=(b=n("tiny-emitter"))&&b.__esModule?b:{default:b}},{"tiny-emitter":945}],931:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.factory=function(l,y,o,f){function x(g){var D=(0,h.pickShallow)(g,y.map(_));return A(l,y,g),o(D)}return x.isFactory=!0,x.fn=l,x.dependencies=y.slice().sort(),f&&(x.meta=f),x},r.sortFactories=m,r.create=function(l){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return m(l).forEach(function(o){return o(y)}),y},r.isFactory=p,r.assertDependencies=A,r.isOptionalDependency=S,r.stripOptionalNotation=_;var b=n("./array"),h=n("./object");function m(l){var y={};l.forEach(function(x){y[x.fn]=x});var o=[];function f(x){for(var g=0;g<o.length&&!function D(E,C){return!!(p(E)&&((0,b.contains)(E.dependencies,C.fn||C.name)||E.dependencies.some(function(T){return D(y[T],C)})))}(o[g],x);)g++;o.splice(g,0,x)}return l.filter(p).forEach(f),l.filter(function(x){return!p(x)}).forEach(f),o}function p(l){return typeof l=="function"&&typeof l.fn=="string"&&Array.isArray(l.dependencies)}function A(l,y,o){if(!y.filter(function(x){return!S(x)}).every(function(x){return o[x]!==void 0})){var f=y.filter(function(x){return o[x]===void 0});throw new Error('Cannot create function "'.concat(l,'", ')+"some dependencies are missing: ".concat(f.map(function(x){return'"'.concat(x,'"')}).join(", "),"."))}}function S(l){return l&&l[0]==="?"}function _(l){return l&&l[0]==="?"?l.slice(1):l}},{"./array":922,"./object":938}],932:[function(n,a,r){function b(h){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(h)}Object.defineProperty(r,"__esModule",{value:!0}),r.memoize=function(h,m){return function p(){b(p.cache)!=="object"&&(p.cache={});for(var A=[],S=0;S<arguments.length;S++)A[S]=arguments[S];var _=m?m(A):JSON.stringify(A);return _ in p.cache||(p.cache[_]=h.apply(h,A)),p.cache[_]}},r.memoizeCompare=function(h,m){function p(){for(var A=[],S=0;S<arguments.length;S++)A[S]=arguments[S];for(var _=0;_<p.cache.length;_++){var l=p.cache[_];if(m(A,l.args))return l.res}var y=h.apply(h,A);return p.cache.unshift({args:A,res:y}),y}return p.cache=[],p},r.maxArgumentCount=function(h){return Object.keys(h.signatures||{}).reduce(function(m,p){var A=(p.match(/,/g)||[]).length+1;return Math.max(m,A)},-1)}},{}],933:[function(n,a,r){function b(D){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(D)}function h(D){return D&&D.constructor.prototype.isBigNumber===!0||!1}function m(D){return D&&b(D)==="object"&&Object.getPrototypeOf(D).isComplex===!0||!1}function p(D){return D&&b(D)==="object"&&Object.getPrototypeOf(D).isFraction===!0||!1}function A(D){return D&&D.constructor.prototype.isUnit===!0||!1}Object.defineProperty(r,"__esModule",{value:!0}),r.isNumber=function(D){return typeof D=="number"},r.isBigNumber=h,r.isComplex=m,r.isFraction=p,r.isUnit=A,r.isString=function(D){return typeof D=="string"},r.isMatrix=_,r.isCollection=function(D){return Array.isArray(D)||_(D)},r.isDenseMatrix=function(D){return D&&D.isDenseMatrix&&D.constructor.prototype.isMatrix===!0||!1},r.isSparseMatrix=function(D){return D&&D.isSparseMatrix&&D.constructor.prototype.isMatrix===!0||!1},r.isRange=l,r.isIndex=y,r.isBoolean=function(D){return typeof D=="boolean"},r.isResultSet=o,r.isHelp=f,r.isFunction=function(D){return typeof D=="function"},r.isDate=function(D){return D instanceof Date},r.isRegExp=function(D){return D instanceof RegExp},r.isObject=function(D){return!(!D||b(D)!=="object"||D.constructor!==Object||m(D)||p(D))},r.isNull=function(D){return D===null},r.isUndefined=function(D){return D===void 0},r.isAccessorNode=function(D){return D&&D.isAccessorNode===!0&&D.constructor.prototype.isNode===!0||!1},r.isArrayNode=function(D){return D&&D.isArrayNode===!0&&D.constructor.prototype.isNode===!0||!1},r.isAssignmentNode=function(D){return D&&D.isAssignmentNode===!0&&D.constructor.prototype.isNode===!0||!1},r.isBlockNode=function(D){return D&&D.isBlockNode===!0&&D.constructor.prototype.isNode===!0||!1},r.isConditionalNode=function(D){return D&&D.isConditionalNode===!0&&D.constructor.prototype.isNode===!0||!1},r.isConstantNode=function(D){return D&&D.isConstantNode===!0&&D.constructor.prototype.isNode===!0||!1},r.isFunctionAssignmentNode=function(D){return D&&D.isFunctionAssignmentNode===!0&&D.constructor.prototype.isNode===!0||!1},r.isFunctionNode=function(D){return D&&D.isFunctionNode===!0&&D.constructor.prototype.isNode===!0||!1},r.isIndexNode=function(D){return D&&D.isIndexNode===!0&&D.constructor.prototype.isNode===!0||!1},r.isNode=x,r.isObjectNode=function(D){return D&&D.isObjectNode===!0&&D.constructor.prototype.isNode===!0||!1},r.isOperatorNode=function(D){return D&&D.isOperatorNode===!0&&D.constructor.prototype.isNode===!0||!1},r.isParenthesisNode=function(D){return D&&D.isParenthesisNode===!0&&D.constructor.prototype.isNode===!0||!1},r.isRangeNode=function(D){return D&&D.isRangeNode===!0&&D.constructor.prototype.isNode===!0||!1},r.isSymbolNode=function(D){return D&&D.isSymbolNode===!0&&D.constructor.prototype.isNode===!0||!1},r.isChain=g,r.typeOf=function(D){var E=b(D);return E!=="object"?E==="function"?"Function":E:D===null?"null":Array.isArray(D)?"Array":D instanceof Date?"Date":D instanceof RegExp?"RegExp":h(D)?"BigNumber":m(D)?"Complex":p(D)?"Fraction":_(D)?"Matrix":A(D)?"Unit":y(D)?"Index":l(D)?"Range":o(D)?"ResultSet":x(D)?D.type:g(D)?"Chain":f(D)?"Help":"Object"},r.isArray=void 0;var S=Array.isArray;function _(D){return D&&D.constructor.prototype.isMatrix===!0||!1}function l(D){return D&&D.constructor.prototype.isRange===!0||!1}function y(D){return D&&D.constructor.prototype.isIndex===!0||!1}function o(D){return D&&D.constructor.prototype.isResultSet===!0||!1}function f(D){return D&&D.constructor.prototype.isHelp===!0||!1}function x(D){return D&&D.isNode===!0&&D.constructor.prototype.isNode===!0||!1}function g(D){return D&&D.constructor.prototype.isChain===!0||!1}r.isArray=S},{}],934:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.escapeLatex=l,r.toSymbol=function(y,o){return(o=o!==void 0&&o)?(0,m.hasOwnProperty)(_,y)?_[y]:"\\mathrm{"+l(y)+"}":(0,m.hasOwnProperty)(p,y)?p[y]:l(y)},r.defaultTemplate=r.latexFunctions=r.latexOperators=r.latexSymbols=void 0;var b,h=(b=n("escape-latex"))&&b.__esModule?b:{default:b},m=n("./object"),p={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"};r.latexSymbols=p;var A={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"};r.latexOperators=A;var S={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(A.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(A.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(A.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(A.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(A.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(A.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(A.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(A.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(A.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(A.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(A.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(A.bitAnd,"${args[1]}\\right)")},bitNot:{1:A.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(A.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(A.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(A.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(A.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(A.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(A.and,"${args[1]}\\right)")},not:{1:A.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(A.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(A.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(A.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(A.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(A.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(A.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(A.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(A.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(A.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(A.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(A.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(A.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(A.to,"${args[1]}\\right)")},numeric:function(y){return y.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(p.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}};r.latexFunctions=S,r.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var _={deg:"^\\circ"};function l(y){return(0,h.default)(y,{preserveFormatting:!0})}},{"./object":938,"escape-latex":56}],935:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.warnOnce=void 0;var b,h=(b={},function(){for(var m=arguments.length,p=new Array(m),A=0;A<m;A++)p[A]=arguments[A];var S,_=p.join(", ");b[_]||(b[_]=!0,(S=console).warn.apply(S,["Warning:"].concat(p)))});r.warnOnce=h},{}],936:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.noBignumber=function(){throw new Error('No "bignumber" implementation available')},r.noFraction=function(){throw new Error('No "fraction" implementation available')},r.noMatrix=function(){throw new Error('No "matrix" implementation available')},r.noIndex=function(){throw new Error('No "index" implementation available')},r.noSubset=function(){throw new Error('No "matrix" implementation available')}},{}],937:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isInteger=function(j){return typeof j=="boolean"||!!isFinite(j)&&j===Math.round(j)},r.format=function(j,L){if(typeof L=="function")return L(j);{if(j===1/0)return"Infinity";if(j===-1/0)return"-Infinity";if(isNaN(j))return"NaN"}var R,V="auto";switch(L&&(L.notation&&(V=L.notation),(0,h.isNumber)(L)?R=L:(0,h.isNumber)(L.precision)&&(R=L.precision)),V){case"fixed":return f(j,R);case"exponential":return x(j,R);case"engineering":return o(j,R);case"auto":if(!L||!L.exponential||L.exponential.lower===void 0&&L.exponential.upper===void 0)return g(j,R,L&&L).replace(/((\.\d*?)(0+))($|e)/,function(){var U=arguments[2],G=arguments[4];return U!=="."?U+G:G});var k=(0,b.mapObject)(L,function(U){return U});return(k.exponential=void 0)!==L.exponential.lower&&(k.lowerExp=Math.round(Math.log(L.exponential.lower)/Math.LN10)),L.exponential.upper!==void 0&&(k.upperExp=Math.round(Math.log(L.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(L)+" with "+JSON.stringify(k)),g(j,R,k);default:throw new Error('Unknown notation "'+V+'". Choose "auto", "exponential", or "fixed".')}},r.splitNumber=y,r.toEngineering=o,r.toFixed=f,r.toExponential=x,r.toPrecision=g,r.roundDigits=D,r.digits=function(j){return j.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},r.nearlyEqual=function(j,L,R){if(R==null)return j===L;if(j===L)return!0;if(isNaN(j)||isNaN(L))return!1;if(isFinite(j)&&isFinite(L)){var V=Math.abs(j-L);return V<C||V<=Math.max(Math.abs(j),Math.abs(L))*R}return!1},r.tanh=r.sinh=r.cosh=r.atanh=r.asinh=r.acosh=r.DBL_EPSILON=r.expm1=r.cbrt=r.log1p=r.log10=r.log2=r.sign=void 0;var b=n("./object"),h=n("./is"),m=Math.sign||function(j){return 0<j?1:j<0?-1:0};r.sign=m;var p=Math.log2||function(j){return Math.log(j)/Math.LN2};r.log2=p;var A=Math.log10||function(j){return Math.log(j)/Math.LN10};r.log10=A;var S=Math.log1p||function(j){return Math.log(j+1)};r.log1p=S;var _=Math.cbrt||function(j){if(j===0)return j;var L,R=j<0;return R&&(j=-j),L=isFinite(j)?(j/((L=Math.exp(Math.log(j)/3))*L)+2*L)/3:j,R?-L:L};r.cbrt=_;var l=Math.expm1||function(j){return 2e-4<=j||j<=-2e-4?Math.exp(j)-1:j+j*j/2+j*j*j/6};function y(j){var L=String(j).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!L)throw new SyntaxError("Invalid number "+j);var R=L[1],V=L[2],k=parseFloat(L[4]||"0"),U=V.indexOf(".");k+=U!==-1?U-1:V.length-1;var G=V.replace(".","").replace(/^0*/,function(H){return k-=H.length,""}).replace(/0*$/,"").split("").map(function(H){return parseInt(H)});return G.length===0&&(G.push(0),k++),{sign:R,coefficients:G,exponent:k}}function o(j,L){if(isNaN(j)||!isFinite(j))return String(j);var R=D(y(j),L),V=R.exponent,k=R.coefficients,U=V%3==0?V:V<0?V-3-V%3:V-V%3;if((0,h.isNumber)(L))for(;L>k.length||V-U+1>k.length;)k.push(0);else for(var G=Math.abs(V-U)-(k.length-1),H=0;H<G;H++)k.push(0);for(var X=Math.abs(V-U),Z=1;0<X;)Z++,X--;var J=k.slice(Z).join(""),ee=(0,h.isNumber)(L)&&J.length||J.match(/[1-9]/)?"."+J:"",$=k.slice(0,Z).join("")+ee+"e"+(0<=V?"+":"")+U.toString();return R.sign+$}function f(j,L){if(isNaN(j)||!isFinite(j))return String(j);var R=y(j),V=typeof L=="number"?D(R,R.exponent+1+L):R,k=V.coefficients,U=V.exponent+1,G=U+(L||0);return k.length<G&&(k=k.concat(E(G-k.length))),U<0&&(k=E(1-U).concat(k),U=1),U<k.length&&k.splice(U,0,U===0?"0.":"."),V.sign+k.join("")}function x(j,L){if(isNaN(j)||!isFinite(j))return String(j);var R=y(j),V=L?D(R,L):R,k=V.coefficients,U=V.exponent;k.length<L&&(k=k.concat(E(L-k.length)));var G=k.shift();return V.sign+G+(0<k.length?"."+k.join(""):"")+"e"+(0<=U?"+":"")+U}function g(j,L,R){if(isNaN(j)||!isFinite(j))return String(j);var V=R&&R.lowerExp!==void 0?R.lowerExp:-3,k=R&&R.upperExp!==void 0?R.upperExp:5,U=y(j),G=L?D(U,L):U;if(G.exponent<V||G.exponent>=k)return x(j,L);var H=G.coefficients,X=G.exponent;H.length<L&&(H=H.concat(E(L-H.length))),H=H.concat(E(X-H.length+1+(H.length<L?L-H.length:0)));var Z=0<X?X:0;return Z<(H=E(-X).concat(H)).length-1&&H.splice(Z+1,0,"."),G.sign+H.join("")}function D(j,L){for(var R={sign:j.sign,coefficients:j.coefficients,exponent:j.exponent},V=R.coefficients;L<=0;)V.unshift(0),R.exponent++,L++;if(V.length>L&&5<=V.splice(L,V.length-L)[0]){var k=L-1;for(V[k]++;V[k]===10;)V.pop(),k===0&&(V.unshift(0),R.exponent++,k++),V[--k]++}return R}function E(j){for(var L=[],R=0;R<j;R++)L.push(0);return L}r.expm1=l;var C=Number.EPSILON||2220446049250313e-31;r.DBL_EPSILON=C;var T=Math.acosh||function(j){return Math.log(Math.sqrt(j*j-1)+j)};r.acosh=T;var O=Math.asinh||function(j){return Math.log(Math.sqrt(j*j+1)+j)};r.asinh=O;var I=Math.atanh||function(j){return Math.log((1+j)/(1-j))/2};r.atanh=I;var M=Math.cosh||function(j){return(Math.exp(j)+Math.exp(-j))/2};r.cosh=M;var F=Math.sinh||function(j){return(Math.exp(j)-Math.exp(-j))/2};r.sinh=F;var B=Math.tanh||function(j){var L=Math.exp(2*j);return(L-1)/(L+1)};r.tanh=B},{"./is":933,"./object":938}],938:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.clone=function l(y){var o=h(y);if(o==="number"||o==="string"||o==="boolean"||y==null)return y;if(typeof y.clone=="function")return y.clone();if(Array.isArray(y))return y.map(function(f){return l(f)});if(y instanceof Date)return new Date(y.valueOf());if((0,b.isBigNumber)(y))return y;if(y instanceof RegExp)throw new TypeError("Cannot clone "+y);return m(y,l)},r.mapObject=m,r.extend=function(l,y){for(var o in y)p(y,o)&&(l[o]=y[o]);return l},r.deepExtend=function l(y,o){if(Array.isArray(o))throw new TypeError("Arrays are not supported by deepExtend");for(var f in o)if(p(o,f))if(o[f]&&o[f].constructor===Object)y[f]===void 0&&(y[f]={}),y[f]&&y[f].constructor===Object?l(y[f],o[f]):y[f]=o[f];else{if(Array.isArray(o[f]))throw new TypeError("Arrays are not supported by deepExtend");y[f]=o[f]}return y},r.deepStrictEqual=function l(y,o){var f,x,g;{if(Array.isArray(y)){if(!Array.isArray(o)||y.length!==o.length)return!1;for(x=0,g=y.length;x<g;x++)if(!l(y[x],o[x]))return!1;return!0}if(typeof y=="function")return y===o;if(y instanceof Object){if(Array.isArray(o)||!(o instanceof Object))return!1;for(f in y)if(!(f in o&&l(y[f],o[f])))return!1;for(f in o)if(!(f in y&&l(y[f],o[f])))return!1;return!0}return y===o}},r.deepFlatten=function(l){var y={};return function o(f,x){for(var g in f){var D;p(f,g)&&(h(D=f[g])==="object"&&D!==null?o(D,x):x[g]=D)}}(l,y),y},r.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch{}return!1},r.lazy=function(l,y,o){var f,x=!0;Object.defineProperty(l,y,{get:function(){return x&&(f=o(),x=!1),f},set:function(g){f=g,x=!1},configurable:!0,enumerable:!0})},r.traverse=function l(y,o){if(o&&typeof o=="string")return l(y,o.split("."));var f=y;if(o)for(var x=0;x<o.length;x++){var g=o[x];g in f||(f[g]={}),f=f[g]}return f},r.hasOwnProperty=p,r.isLegacyFactory=function(l){return l&&typeof l.factory=="function"},r.get=A,r.set=S,r.pick=function(l,y,o){for(var f={},x=0;x<y.length;x++){var g=y[x],D=A(l,g);D!==void 0&&S(f,g,o?o(D,g):D)}return f},r.pickShallow=function(l,y){for(var o={},f=0;f<y.length;f++){var x=y[f],g=l[x];g!==void 0&&(o[x]=g)}return o},r.values=function(l){return Object.keys(l).map(function(y){return l[y]})};var b=n("./is");function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(l)}function m(l,y){var o={};for(var f in l)p(l,f)&&(o[f]=y(l[f]));return o}function p(l,y){return l&&Object.hasOwnProperty.call(l,y)}function A(l,y){if(typeof y=="string")return _(y)?A(l,y.split(".")):l[y];for(var x=l,o=0;o<y.length;o++)var f=y[o],x=x?x[f]:void 0;return x}function S(l,y,o){if(typeof y=="string")return _(y)?S(l,y.split("."),o):(l[y]=o,l);for(var f=l,x=0;x<y.length-1;x++){var g=y[x];f[g]===void 0&&(f[g]={}),f=f[g]}return 0<y.length&&(f[y[y.length-1]]=o),l}function _(l){return l.indexOf(".")!==-1}},{"./is":933}],939:[function(n,a,r){Number.isFinite=Number.isFinite||function(b){return typeof b=="number"&&isFinite(b)},Number.isNaN=Number.isNaN||function(b){return b!=b}},{}],940:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.product=function b(h,m){if(m<h)return 1;if(m===h)return m;var p=m+h>>1;return b(h,p)*b(1+p,m)}},{}],941:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.endsWith=function(S,_){var l=S.length-_.length,y=S.length;return S.substring(l,y)===_},r.format=A,r.stringify=function(S){for(var _=String(S),l="",y=0;y<_.length;){var o=_.charAt(y);o==="\\"?(l+=o,y++,(o=_.charAt(y))!==""&&'"\\/bfnrtu'.indexOf(o)!==-1||(l+="\\"),l+=o):l+=o==='"'?'\\"':o,y++}return'"'+l+'"'},r.escape=function(S){var _=String(S);return _=_.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},r.compareText=function(S,_){if(!(0,b.isString)(S))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+(0,b.typeOf)(S)+", index: 0)");if((0,b.isString)(_))return S===_?0:_<S?1:-1;throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+(0,b.typeOf)(_)+", index: 1)")};var b=n("./is"),h=n("./number"),m=n("./bignumber/formatter");function p(S){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(S)}function A(S,_){return typeof S=="number"?(0,h.format)(S,_):(0,b.isBigNumber)(S)?(0,m.format)(S,_):function(l){return l&&p(l)==="object"&&typeof l.s=="number"&&typeof l.n=="number"&&typeof l.d=="number"||!1}(S)?_&&_.fraction==="decimal"?S.toString():S.s*S.n+"/"+S.d:Array.isArray(S)?function l(y,o){{if(Array.isArray(y)){for(var f="[",x=y.length,g=0;g<x;g++)g!==0&&(f+=", "),f+=l(y[g],o);return f+="]"}return A(y,o)}}(S,_):(0,b.isString)(S)?'"'+S+'"':typeof S=="function"?S.syntax?String(S.syntax):"function":S&&p(S)==="object"?typeof S.format=="function"?S.format(_):S&&S.toString(_)!=={}.toString()?S.toString(_):"{"+Object.keys(S).map(function(l){return'"'+l+'": '+A(S[l],_)}).join(", ")+"}":String(S)}},{"./bignumber/formatter":925,"./is":933,"./number":937}],942:[function(n,a,r){Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="6.6.5"},{}],943:[function(n,a,r){a.exports=n("../../lib/entry/mainAny")},{"../../lib/entry/mainAny":395}],944:[function(n,a,r){(function(b){var h=[],m=b===void 0?window:b,p=Math.pow(256,6),A=Math.pow(2,52),S=2*A,_=Math.random;function l(f){var x,g=f.length,D=this,E=0,C=D.i=D.j=0,T=D.S=[];for(g||(f=[g++]);E<256;)T[E]=E++;for(E=0;E<256;E++)T[E]=T[C=255&C+f[E%g]+(x=T[E])],T[C]=x;(D.g=function(O){for(var I,M=0,F=D.i,B=D.j,j=D.S;O--;)I=j[F=255&F+1],M=256*M+j[255&(j[F]=j[B=255&B+I])+(j[B]=I)];return D.i=F,D.j=B,M})(256)}function y(f,x){for(var g,D=f+"",E=0;E<D.length;)x[255&E]=255&(g^=19*x[255&E])+D.charCodeAt(E++);return o(x)}function o(f){return String.fromCharCode.apply(0,f)}a.exports=function(f,x){if(x&&x.global===!0)return x.global=!1,Math.random=a.exports(f,x),x.global=!0,Math.random;var g=[],D=(y(function E(C,T){var O,I=[],M=(typeof C)[0];if(T&&M=="o")for(O in C)try{I.push(E(C[O],T-1))}catch{}return I.length?I:M=="s"?C:C+"\0"}(x&&x.entropy?[f,o(h)]:0 in arguments?f:function(E){try{return m.crypto.getRandomValues(E=new Uint8Array(256)),o(E)}catch{return[+new Date,m,m.navigator&&m.navigator.plugins,m.screen,o(h)]}}(),3),g),new l(g));return y(o(D.S),h),function(){for(var E=D.g(6),C=p,T=0;E<A;)E=256*(E+T),C*=256,T=D.g(1);for(;S<=E;)E/=2,C/=2,T>>>=1;return(E+T)/C}},a.exports.resetGlobal=function(){Math.random=_},y(Math.random(),h)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],945:[function(n,a,r){function b(){}b.prototype={on:function(h,m,p){var A=this.e||(this.e={});return(A[h]||(A[h]=[])).push({fn:m,ctx:p}),this},once:function(h,m,p){var A=this;function S(){A.off(h,S),m.apply(p,arguments)}return S._=m,this.on(h,S,p)},emit:function(h){for(var m=[].slice.call(arguments,1),p=((this.e||(this.e={}))[h]||[]).slice(),A=0,S=p.length;A<S;A++)p[A].fn.apply(p[A].ctx,m);return this},off:function(h,m){var p=this.e||(this.e={}),A=p[h],S=[];if(A&&m)for(var _=0,l=A.length;_<l;_++)A[_].fn!==m&&A[_].fn._!==m&&S.push(A[_]);return S.length?p[h]=S:delete p[h],this}},a.exports=b,a.exports.TinyEmitter=b},{}],946:[function(n,a,r){var b,h;b=this,h=function(){function m(){return!0}function p(){return!1}function A(){}return function S(){var _=[{name:"number",test:function(fe){return typeof fe=="number"}},{name:"string",test:function(fe){return typeof fe=="string"}},{name:"boolean",test:function(fe){return typeof fe=="boolean"}},{name:"Function",test:function(fe){return typeof fe=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(fe){return fe instanceof Date}},{name:"RegExp",test:function(fe){return fe instanceof RegExp}},{name:"Object",test:function(fe){return typeof fe=="object"&&fe!==null&&fe.constructor===Object}},{name:"null",test:function(fe){return fe===null}},{name:"undefined",test:function(fe){return fe===void 0}}],l={name:"any",test:m},y=[],o=[],f={types:_,conversions:o,ignore:y};function x(fe){var ve=oe(f.types,function(ye){return ye.name===fe});if(ve)return ve;if(fe==="any")return l;var pe=oe(f.types,function(ye){return ye.name.toLowerCase()===fe.toLowerCase()});throw new TypeError('Unknown type "'+fe+'"'+(pe?'. Did you mean "'+pe.name+'"?':""))}function g(fe){return fe===l?999:f.types.indexOf(fe)}function D(fe){var ve=oe(f.types,function(pe){return pe.test(fe)});if(ve)return ve.name;throw new TypeError("Value has unknown type. Value: "+fe)}function E(fe){return fe.map(function(ve){var pe=ve.types.map(j);return(ve.restParam?"...":"")+pe.join("|")}).join(",")}function C(fe,ve){var pe=fe.indexOf("...")===0,ye=(pe?3<fe.length?fe.slice(3):"any":fe).split("|").map(ee).filter($).filter(J),Ae=function(re,de){var Ce={};return re.forEach(function(je){de.indexOf(je.from)!==-1||de.indexOf(je.to)===-1||Ce[je.from]||(Ce[je.from]=je)}),Object.keys(Ce).map(function(je){return Ce[je]})}(ve,ye),be=ye.map(function(re){var de=x(re);return{name:re,typeIndex:g(de),test:de.test,conversion:null,conversionIndex:-1}}),ne=Ae.map(function(re){var de=x(re.from);return{name:re.from,typeIndex:g(de),test:de.test,conversion:re,conversionIndex:ve.indexOf(re)}});return{types:be.concat(ne),restParam:pe}}function T(fe){var ve=te(fe);return!!ve&&ve.restParam}function O(fe){return fe.types.some(function(ve){return ve.conversion!=null})}function I(fe){if(fe&&fe.types.length!==0){if(fe.types.length===1)return x(fe.types[0].name).test;if(fe.types.length===2){var ve=x(fe.types[0].name).test,pe=x(fe.types[1].name).test;return function(Ae){return ve(Ae)||pe(Ae)}}var ye=fe.types.map(function(Ae){return x(Ae.name).test});return function(Ae){for(var be=0;be<ye.length;be++)if(ye[be](Ae))return!0;return!1}}return m}function M(fe){var ve,pe,ye,Ae;if(T(fe)){var be=(ve=(Ae=fe).slice(0,Ae.length-1).map(I)).length,ne=I(te(fe));return function(re){for(var de=0;de<ve.length;de++)if(!ve[de](re[de]))return!1;return function(Ce){for(var je=be;je<Ce.length;je++)if(!ne(Ce[je]))return!1;return!0}(re)&&re.length>=be+1}}return fe.length===0?function(re){return re.length===0}:fe.length===1?(pe=I(fe[0]),function(re){return pe(re[0])&&re.length===1}):fe.length===2?(pe=I(fe[0]),ye=I(fe[1]),function(re){return pe(re[0])&&ye(re[1])&&re.length===2}):(ve=fe.map(I),function(re){for(var de=0;de<ve.length;de++)if(!ve[de](re[de]))return!1;return re.length===ve.length})}function F(fe,ve){return ve<fe.params.length?fe.params[ve]:T(fe.params)?te(fe.params):null}function B(fe,ve,pe){var ye=F(fe,ve);return(ye?pe?ye.types.filter(L):ye.types:[]).map(j)}function j(fe){return fe.name}function L(fe){return fe.conversion===null||fe.conversion===void 0}function R(fe,ve){var pe=function(ye){for(var Ae={},be=0;be<ye.length;be++)Ae[ye[be]]=!0;return Object.keys(Ae)}(ue(fe,function(ye){return B(ye,ve,!1)}));return pe.indexOf("any")!==-1?["any"]:pe}function V(fe){for(var ve=999,pe=0;pe<fe.types.length;pe++)L(fe.types[pe])&&(ve=Math.min(ve,fe.types[pe].typeIndex));return ve}function k(fe){for(var ve=999,pe=0;pe<fe.types.length;pe++)L(fe.types[pe])||(ve=Math.min(ve,fe.types[pe].conversionIndex));return ve}function U(fe,ve){var pe,ye=Math.min(fe.params.length,ve.params.length),Ae=fe.params.some(O)-ve.params.some(O);if(Ae!==0)return Ae;for(pe=0;pe<ye;pe++)if((Ae=O(fe.params[pe])-O(ve.params[pe]))!=0)return Ae;for(pe=0;pe<ye;pe++)if((Ae=function(be,ne){var re=be.restParam-ne.restParam;return re!==0||(re=O(be)-O(ne))!=0||(re=V(be)-V(ne))!=0?re:k(be)-k(ne)}(fe.params[pe],ve.params[pe]))!==0)return Ae;return fe.params.length-ve.params.length}function G(fe){var ve,pe,ye,Ae,be=[],ne=[];switch(fe.types.forEach(function(re){re.conversion&&(be.push(x(re.conversion.from).test),ne.push(re.conversion.convert))}),ne.length){case 0:return function(re){return re};case 1:return ve=be[0],ye=ne[0],function(re){return ve(re)?ye(re):re};case 2:return ve=be[0],pe=be[1],ye=ne[0],Ae=ne[1],function(re){return ve(re)?ye(re):pe(re)?Ae(re):re};default:return function(re){for(var de=0;de<ne.length;de++)if(be[de](re))return ne[de](re);return re}}}function H(fe,ve){return function pe(ye,Ae,be){if(Ae<ye.length){var ne,re=ye[Ae],de=ve?re.types.filter(L):re.types;return ue(re.restParam?(ne=de.filter(L)).length<de.length?[ne,de]:[de]:de.map(function(Ce){return[Ce]}),function(Ce){return pe(ye,Ae+1,be.concat([Ce]))})}return[be.map(function(Ce,je){return{types:Ce,restParam:je===ye.length-1&&T(ye)}})]}(fe,0,[])}function X(fe,ve){for(var pe=Math.max(fe.params.length,ve.params.length),ye=0;ye<pe;ye++)if(!function(de,Ce){for(var je=0;je<de.length;je++)if(function(xe,Ie){return xe.indexOf(Ie)!==-1}(Ce,de[je]))return 1}(B(fe,ye,!0),B(ve,ye,!0)))return!1;var Ae=fe.params.length,be=ve.params.length,ne=T(fe.params),re=T(ve.params);return ne?re?Ae===be:Ae<=be:re?be<=Ae:Ae===be}function Z(fe,ve){if(Object.keys(ve).length===0)throw new SyntaxError("No signatures provided");var pe=[];Object.keys(ve).map(function(Pt){return function(It,Rt,Ht){var rn=[];return It.trim()!==""&&(rn=It.split(",").map(ee).map(function(Zt,Jt,an){var Wt=C(Zt,Ht);if(Wt.restParam&&Jt!==an.length-1)throw new SyntaxError('Unexpected rest parameter "'+Zt+'": only allowed for the last parameter');return Wt})),rn.some(Q)?null:{params:rn,fn:Rt}}(Pt,ve[Pt],f.conversions)}).filter(W).forEach(function(Pt){var It=oe(pe,function(Rt){return X(Rt,Pt)});if(It)throw new TypeError('Conflicting signatures "'+E(It.params)+'" and "'+E(Pt.params)+'".');pe.push(Pt)});var ye=ue(pe,function(Pt){return(Pt?H(Pt.params,!1):[]).map(function(It){return{params:It,fn:Pt.fn}})}).filter(W);ye.sort(U);var Ae=ye[0]&&ye[0].params.length<=2&&!T(ye[0].params),be=ye[1]&&ye[1].params.length<=2&&!T(ye[1].params),ne=ye[2]&&ye[2].params.length<=2&&!T(ye[2].params),re=ye[3]&&ye[3].params.length<=2&&!T(ye[3].params),de=ye[4]&&ye[4].params.length<=2&&!T(ye[4].params),Ce=ye[5]&&ye[5].params.length<=2&&!T(ye[5].params),je=Ae&&be&&ne&&re&&de&&Ce,xe=ye.map(function(Pt){return M(Pt.params)}),Ie=Ae?I(ye[0].params[0]):p,Ne=be?I(ye[1].params[0]):p,Be=ne?I(ye[2].params[0]):p,$e=re?I(ye[3].params[0]):p,Le=de?I(ye[4].params[0]):p,qe=Ce?I(ye[5].params[0]):p,ze=Ae?I(ye[0].params[1]):p,Ee=be?I(ye[1].params[1]):p,Se=ne?I(ye[2].params[1]):p,Me=re?I(ye[3].params[1]):p,me=de?I(ye[4].params[1]):p,Ve=Ce?I(ye[5].params[1]):p,Xe=ye.map(function(Pt){return function(It,Rt){var Ht,rn,Zt=Rt;It.some(O)&&(Ht=T(It),rn=It.map(G),Zt=function(){for(var Wt=[],nn=Ht?arguments.length-1:arguments.length,Je=0;Je<nn;Je++)Wt[Je]=rn[Je](arguments[Je]);return Ht&&(Wt[nn]=arguments[nn].map(rn[nn])),Rt.apply(null,Wt)});var Jt,an=Zt;return T(It)&&(Jt=It.length-1,an=function(){return Zt.apply(null,ce(arguments,0,Jt).concat([ce(arguments,Jt)]))}),an}(Pt.params,Pt.fn)}),rt=Ae?Xe[0]:A,lt=be?Xe[1]:A,nt=ne?Xe[2]:A,it=re?Xe[3]:A,dt=de?Xe[4]:A,ft=Ce?Xe[5]:A,yt=Ae?ye[0].params.length:-1,bt=be?ye[1].params.length:-1,wt=ne?ye[2].params.length:-1,xt=re?ye[3].params.length:-1,Tt=de?ye[4].params.length:-1,kt=Ce?ye[5].params.length:-1,Mt=je?6:0,Ot=ye.length,Lt=function(){for(var Pt=Mt;Pt<Ot;Pt++)if(xe[Pt](arguments))return Xe[Pt].apply(null,arguments);throw function(It,Rt,Ht){for(var rn,Zt=It||"unnamed",Jt=Ht,an=0;an<Rt.length;an++){var Wt=Jt.filter(function(Oe){var Ue=I(F(Oe,an));return(an<Oe.params.length||T(Oe.params))&&Ue(Rt[an])});if(Wt.length===0){if(0<(rn=R(Jt,an)).length){var nn,Je=D(Rt[an]);return(nn=new TypeError("Unexpected type of argument in function "+Zt+" (expected: "+rn.join(" or ")+", actual: "+Je+", index: "+an+")")).data={category:"wrongType",fn:Zt,index:an,actual:Je,expected:rn},nn}}else Jt=Wt}var Et=Jt.map(function(Oe){return T(Oe.params)?1/0:Oe.params.length});if(Rt.length<Math.min.apply(null,Et))return rn=R(Jt,an),(nn=new TypeError("Too few arguments in function "+Zt+" (expected: "+rn.join(" or ")+", index: "+Rt.length+")")).data={category:"tooFewArgs",fn:Zt,index:Rt.length,expected:rn},nn;var _e=Math.max.apply(null,Et);return Rt.length>_e?(nn=new TypeError("Too many arguments in function "+Zt+" (expected: "+_e+", actual: "+Rt.length+")")).data={category:"tooManyArgs",fn:Zt,index:Rt.length,expectedLength:_e}:(nn=new TypeError('Arguments of type "'+Rt.join(", ")+'" do not match any of the defined signatures of function '+Zt+".")).data={category:"mismatch",actual:Rt.map(D)},nn}(fe,arguments,ye)},Ft=function(Pt,It){return arguments.length===yt&&Ie(Pt)&&ze(It)?rt.apply(null,arguments):arguments.length===bt&&Ne(Pt)&&Ee(It)?lt.apply(null,arguments):arguments.length===wt&&Be(Pt)&&Se(It)?nt.apply(null,arguments):arguments.length===xt&&$e(Pt)&&Me(It)?it.apply(null,arguments):arguments.length===Tt&&Le(Pt)&&me(It)?dt.apply(null,arguments):arguments.length===kt&&qe(Pt)&&Ve(It)?ft.apply(null,arguments):Lt.apply(null,arguments)};try{Object.defineProperty(Ft,"name",{value:fe})}catch{}return Ft.signatures=function(Pt){var It={};return Pt.forEach(function(Rt){Rt.params.some(O)||H(Rt.params,!0).forEach(function(Ht){It[E(Ht)]=Rt.fn})}),It}(ye),Ft}function J(fe){return f.ignore.indexOf(fe)===-1}function ee(fe){return fe.trim()}function $(fe){return!!fe}function W(fe){return fe!==null}function Q(fe){return fe.types.length===0}function te(fe){return fe[fe.length-1]}function ce(fe,ve,pe){return Array.prototype.slice.call(fe,ve,pe)}function oe(fe,ve){for(var pe=0;pe<fe.length;pe++)if(ve(fe[pe]))return fe[pe]}function ue(fe,ve){return Array.prototype.concat.apply([],fe.map(ve))}function we(fe){for(var ve="",pe=0;pe<fe.length;pe++){var ye=fe[pe];if((typeof ye.signatures=="object"||typeof ye.signature=="string")&&ye.name!==""){if(ve==="")ve=ye.name;else if(ve!==ye.name){var Ae=new Error("Function names do not match (expected: "+ve+", actual: "+ye.name+")");throw Ae.data={actual:ye.name,expected:ve},Ae}}}return ve}function le(fe){var ve,pe={};function ye(re,de){if(pe.hasOwnProperty(re)&&de!==pe[re])throw(ve=new Error('Signature "'+re+'" is defined twice')).data={signature:re},ve}for(var Ae=0;Ae<fe.length;Ae++){var be=fe[Ae];if(typeof be.signatures=="object")for(var ne in be.signatures)be.signatures.hasOwnProperty(ne)&&(ye(ne,be.signatures[ne]),pe[ne]=be.signatures[ne]);else{if(typeof be.signature!="string")throw(ve=new TypeError("Function is no typed-function (index: "+Ae+")")).data={index:Ae},ve;ye(be.signature,be),pe[be.signature]=be}}return pe}return(f=Z("typed",{"string, Object":Z,Object:function(fe){var ve=[];for(var pe in fe)fe.hasOwnProperty(pe)&&ve.push(fe[pe]);return Z(we(ve),fe)},"...Function":function(fe){return Z(we(fe),le(fe))},"string, ...Function":function(fe,ve){return Z(fe,le(ve))}})).create=S,f.types=_,f.conversions=o,f.ignore=y,f.convert=function(fe,ve){var pe=D(fe);if(ve===pe)return fe;for(var ye=0;ye<f.conversions.length;ye++){var Ae=f.conversions[ye];if(Ae.from===pe&&Ae.to===ve)return Ae.convert(fe)}throw new Error("Cannot convert from "+pe+" to "+ve)},f.find=function(fe,ve){if(!fe.signatures)throw new TypeError("Function is no typed-function");var pe;if(typeof ve=="string"){pe=ve.split(",");for(var ye=0;ye<pe.length;ye++)pe[ye]=pe[ye].trim()}else{if(!Array.isArray(ve))throw new TypeError("String array or a comma separated string expected");pe=ve}var Ae=pe.join(","),be=fe.signatures[Ae];if(be)return be;throw new TypeError("Signature not found (signature: "+(fe.name||"unnamed")+"("+pe.join(", ")+"))")},f.addType=function(fe,ve){if(!fe||typeof fe.name!="string"||typeof fe.test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");if(ve!==!1){for(var pe=0;pe<f.types.length;pe++)if(f.types[pe].name==="Object")return void f.types.splice(pe,0,fe)}f.types.push(fe)},f.addConversion=function(fe){if(!fe||typeof fe.from!="string"||typeof fe.to!="string"||typeof fe.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");f.conversions.push(fe)},f}()},typeof r=="object"?a.exports=h():b.typed=h()},{}]},{},[5])(5)})})(quantumCircuit_min);var quantumCircuit_minExports=quantumCircuit_min.exports;const QuantumCircuit=getDefaultExportFromCjs(quantumCircuit_minExports),circuit=new QuantumCircuit,channel$4=new BroadcastChannel("zen");class Pattern{constructor(u=null,n=!1){Bt(this,"_parent",null);Bt(this,"_id","");Bt(this,"_value",0);Bt(this,"stack",[]);Bt(this,"_t",0);Bt(this,"_q",16);Bt(this,"_bpm",120);Bt(this,"_state",{});Bt(this,"aliases",{a:"add",an:"and",b:"bin",bm:"btms",bs:"bts",cl:"clamp",c:"coin",cc:"midicc",co:"cosine",ct:"count",ctr:"counter",cu:"curve",d:"div",dr:"divr",e:"else",eq:"eq",ev:"every",i:"if",intrp:"interpolate",inv:"inversion",in:"invert",la:"layer",mo:"mod",m:"mul",n:"not",no:"noise",nb:"ntbin",o:"or",of:"often",pu:"pulse",rd:"random",ra:"range",r:"rarely",sa:"saw",se:"seq",v:"set",si:"sine",sq:"square",st:"step",so:"sometimes",s:"sub",sr:"subr",t:"toggle",tr:"tri",trig:"trigger",tu:"tune",u:"use",x:"xor",qm:"qmeasurement",qms:"qmeasurements",qpb:"qprobability",qpbs:"qprobabilities",qph:"qphase",qphs:"qphases",qr:"qresult"});return this._id=nanoid(),this._parent=u,this.reset(),n&&(this.set=this.trigger),new Proxy(this,{get:(a,r)=>{if(r in a)return a[r];const b=this.aliases[r]||r;return b in a?a[b]:a[r]}})}rng(u){return get_store_value(randomSequence)[u%256]||Math.random()}handleTypes(u,n=null,a=!0){const r=n??this._t;return u instanceof Pattern?u.get(r,this._q,this._bpm)||0:typeof u=="function"?u(r,this._q):typeof u=="string"?parsePattern(u,r,this._q,this._id,a):u}handleLoop(u,n,a,r,b=!1){this._state[n]=b||!this._state[n]?[]:this._state[n];const h=a>0&&a<=this._state[n].length?this._state[n][+u%a]:r;return a>0&&a>this._state[n].length&&this._state[n].push(r),h}reset(){var u;return this.stack=[],this._value=0,this._state={persist:((u=this._state)==null?void 0:u.persist)||!1},this}normalise(u=1,n=1){return this.stack.push(a=>calculateNormalisedPosition(a,this._q,+this.handleTypes(u),+this.handleTypes(n))),this}divisions(u=1){return this.q().div(u),this}t(){return this.stack.push(()=>this._t),this}c(){return this.stack.push(()=>Math.floor(this._t/this._q)),this}q(){return this.stack.push(()=>this._q),this}p(u=!1){return new Pattern(this,u)}set(u){return this.stack.push(n=>this.handleTypes(u,+n)),this}trigger(u){return this.stack.push(n=>this.handleTypes(u,+n,!1)),this}count(u=1){let n=0;return this.stack.push(a=>this.handleTypes(u,+a,!1)?n++:n),this}counter(u=0,n){let a=0;return this.stack.push(r=>{a=this.handleTypes(n,+r,!1)?0:a+1;const h=+this.handleTypes(u);return h===0?a:a%h}),this}hold(u){let n=0;return this.stack.push(a=>(this.handleTypes(u,this._t,!1)&&(n=a),n)),this}use(u){return this.stack.push(...u.stack),this}value(){return this._value}not(u){return this.stack.push(()=>this.handleTypes(u)?0:1),this}toggle(u){const n=this._state;return this.set(u).fn(a=>n.toggle=a?!n.toggle:n.toggle).if(),this}io(u,n){return this.stack.push(()=>(this.handleTypes(u)&&(this._state.io=!0),this.handleTypes(n)&&(this._state.io=!1),this._state.io?1:0)),this}if(u=1,n=0){return this.stack.push(a=>[a].flat().every(r=>!!r)?this.handleTypes(u):this.handleTypes(n)),this}else(u){return this.stack.push(n=>[n].flat().every(a=>!a)?this.handleTypes(u):n),this}mtr(u,n,a=0,r=1){return this.stack.push(b=>{const[h=0,m=1,p=0,A=1]=[u,n,a,r].map(S=>this.handleTypes(S));return mapToRange$1(+b,+p,+A,+h,+m,0)}),this}add(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>a+ +this.handleTypes(u))),this}sub(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>a-+this.handleTypes(u))),this}subr(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>+this.handleTypes(u)-a)),this}mul(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>a*+this.handleTypes(u))),this}div(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>a/+this.handleTypes(u))),this}divr(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>+this.handleTypes(u)/a)),this}mod(u){return this.stack.push(n=>{const a=+this.handleTypes(u);return handleArrayOrSingleValue(n,r=>(r%a+a)%a)}),this}and(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>a&&+this.handleTypes(u,this._t,!1))),this}or(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>a||+this.handleTypes(u,this._t,!1))),this}xor(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>a^+this.handleTypes(u,this._t,!1))),this}range(u=0,n=1,a=1){return this.normalise(a).mtr(u,n),this}sine(u=0,n=1,a=1){return this.normalise(a).mul(360*(Math.PI/180)).sin().mtr(u,n,-1,1),this}cosine(u=0,n=1,a=1){return this.normalise(a).mul(360*(Math.PI/180)).cos().mtr(u,n,-1,1),this}saw(...u){return this.range(...u)}curve(u=0,n=1,a=.5,r=1){return this.normalise(r).pow(a).mtr(u,n),this}tri(u=0,n=1,a=1){return this.normalise(a).sub(.5).abs().mul(2),this}pulse(u=0,n=1,a=.5,r=1){return this.normalise(r).mod(1).lt(+a).mtr(u,n),this}square(u=0,n=1,a=1){return this.pulse(u,n,.5,a),this}random(u=0,n=1,a=0){return this.fn(r=>this.rng(+r)).mtr(u,n).step(a),this}noise(u=0,n=1,a=1,r=4){return this.normalise(a,r).fn(b=>get_store_value(noise).simplex2(b,0)).mtr(u,n,-1,1),this}every(u){return this.mod(u).eq(0),this}bin(u="10000000",n=1){const a=u.replace(/\s+/g,"").split("").map(r=>parseInt(r)?1:0);return this.mod(this.p().divisions(n)).div(this.p().divisions(n).div(a.length)).atr(a),this}ntbin(u=0,n=8,a=1){return this.bin(numberToBinary(+u,n),a)}seq(u=[],n=1){return this.normalise(n).mul(u.length).floor().mod(u.length).atr(u),this}step(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>roundToFactor$1(a,+this.handleTypes(u)))),this}snap(u){return this.stack.push(n=>{const a=this.handleTypes(u);return Array.isArray(a)?handleArrayOrSingleValue(n,r=>roundToNearest(r,a)):n}),this}tune(u){return this.stack.push(n=>{const a=this.handleTypes(u);if(!Array.isArray(a))return n;const r=Math.min(...a),b=Math.max(...a),h=Math.floor((b-r)/12)+1;return handleArrayOrSingleValue(n,m=>roundToNearest(Math.round(m)%(h*12),a.map(p=>p-r+r%12))+Math.floor(m/12)*12)}),this}clamp(...u){return this.stack.push(n=>{const[a=0,r=1]=u.map(b=>this.handleTypes(b));return handleArrayOrSingleValue(n,b=>clamp$2(b,+a,+r))}),this}gt(u){return this.stack.push(n=>{const a=this.handleTypes(u);return[n].flat().every(r=>r>+a)?1:0}),this}lt(u=1){return this.stack.push(n=>{const a=this.handleTypes(u);return[n].flat().every(r=>r<+a)?1:0}),this}gte(u){return this.stack.push(n=>{const a=this.handleTypes(u);return[n].flat().every(r=>r>=+a)?1:0}),this}lte(u){return this.stack.push(n=>{const a=this.handleTypes(u);return[n].flat().every(r=>r<=+a)?1:0}),this}eq(u){return this.stack.push(n=>{const a=this.handleTypes(u);return[n].flat().every(r=>r==a)?1:0}),this}neq(u){return this.stack.push(n=>{const a=this.handleTypes(u);return[n].flat().every(r=>r!=a)?1:0}),this}invert(){return this.stack.push(u=>[u].flat().every(n=>!!n)?0:1),this}odd(){return this.fn(u=>odd(+u)?1:0),this}even(){return this.fn(u=>even(+u)?1:0),this}bts(){return this.fn(u=>handleArrayOrSingleValue(u,n=>n*(60/this._bpm))),this}btms(){return this.fn(u=>handleArrayOrSingleValue(u,n=>n*(6e4/this._bpm))),this}ttms(){return this.fn(u=>handleArrayOrSingleValue(u,n=>n*(6e4/this._bpm*4/this._q))),this}fn(u){return this.stack.push(u),this}inversion(u){return this.stack.push(n=>{const a=this.handleTypes(u),r=[n].flat(),b=r.length,h=r.slice(0,+a%b);return[...r.slice(+a%b),...h.map(p=>p+12)].map(p=>p+12*Math.floor(+a%(b*4)/b))}),this}at(u){return this.stack.push(n=>{const a=[this.handleTypes(u)].flat().map(b=>b<0?n.length+b:b);return a.length===1?n[a[0]]:typeof n==="object"?a.map(b=>n[b]).flat():a.map(b=>n[Math.floor(+b)%n.length]).flat()}),this}atr(u){return this.fn(n=>{const a=[this.handleTypes(u)].flat();return a[Math.floor(+n)%a.length]}),this}layer(u){return this.stack.push(n=>[n].flat().concat(this.handleTypes(u))),this}sin(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.sin(+n))),this}cos(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.cos(+n))),this}tan(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.tan(+n))),this}asin(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.asin(+n))),this}acos(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.acos(+n))),this}atan(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.atan(+n))),this}atan2(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>Math.atan2(+a,+this.handleTypes(u)))),this}abs(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.abs(+n))),this}ceil(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.ceil(+n))),this}floor(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.floor(+n))),this}round(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.round(+n))),this}exp(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.exp(+n))),this}log(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.log(+n))),this}max(u=0){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>Math.max(+a,+this.handleTypes(u)))),this}min(u=0){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>Math.min(+a,+this.handleTypes(u)))),this}pow(u=2){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>Math.pow(+a,+this.handleTypes(u)))),this}sqrt(){return this.stack.push(u=>handleArrayOrSingleValue(u,n=>Math.sqrt(+n))),this}interpolate(u){return this.stack.push(n=>handleArrayOrSingleValue(n,a=>interpolate(+a,+this.handleTypes(u),.5))),this}degrade(u){return this.and(this.p().random().gt(u)),this}sometimes(){return this.t().fn(u=>this.rng(+u)).gt(.5),this}coin(){return this.sometimes(),this}rarely(){return this.t().fn(u=>this.rng(+u)).gt(.25),this}often(){return this.t().fn(u=>this.rng(+u)).gt(.75),this}markov(u,n=0,a=1){let r=[0];const b=+this.handleTypes(n)||this._q;for(let h=0;h<b;h++){const m=r[r.length-1],p=weightedChoice(u[m]);r.push(p)}return this.seq(r,a),this}midicc(u,n=0,a=1){return this.stack.push(()=>{const r=getCC(+this.handleTypes(u),+this.handleTypes(n));return r!==void 0?r:+this.handleTypes(a)}),this}midinote(u){return this.stack.push(()=>getNotes(+this.handleTypes(u))),this}midifile(u,n="n"){let a;return parseMidiFile(u,this._q).then(r=>a=r),this.stack.push(r=>{const b=+r%(a.bars*this._q),m=Object.keys(a.notes).map(S=>+S).reduce((S,_)=>+_<=b?+_:S,0),p=(b-m)/4,A=Math.max(a.durs[m]-p,0);return{n:a.notes[m],e:a.events.includes(b),dur:A}[n]||0}),this}once(){return this.stack.push(()=>{const u=this._state.once?0:1;return this._state.once=!0,u}),this}persist(u){const n=memoize(a=>this._state.persist);return this.stack.push(a=>{const r=u(a,n(this._t));return this._state.persist=r,r}),this}cache(u=1,n=1){return this.stack.push(a=>{const r=clamp$2(+this.handleTypes(u),0,256),b=+this.handleTypes(n),h=b>0?this._t%(b*r)===0:!1;return this.handleLoop(this._t,"cache",r,+a,h)}),this}qmeasurement(u=0,n=0,a=0){return this.stack.push(r=>{const b=+this.handleTypes(u),h=clamp$2(+this.handleTypes(n),0,256),m=circuit.measure(b)||0,p=+a>0?+r%(+a*h)===0:!1;return this.handleLoop(+r,"measure",h,m,p)}),this}qmeasurements(u=0,n=0){return this.stack.push(a=>{const r=clamp$2(+this.handleTypes(u),0,256),b=circuit.measureAll()||[],h=+n>0?+a%(+n*r)===0:!1;return this.handleLoop(+a,"measures",r,b,h)}),this}qprobability(u,n=0,a=0){return this.stack.push(r=>{const b=circuit.numAmplitudes(),h=+this.handleTypes(u)%b,m=clamp$2(+this.handleTypes(n),0,256),p=+pow(abs(round(circuit.state[h]||complex(0,0),14)),2),A=+a>0?+r%(+a*m)===0:!1;return this.handleLoop(+r,"amplitude",m,parseFloat(p.toFixed(5)),A)}),this}qprobabilities(u=0,n=0){return this.stack.push(a=>{const r=clamp$2(+this.handleTypes(u),0,256),b=circuit.numAmplitudes(),h=Array.from({length:b},(p,A)=>{const S=round(circuit.state[A]||complex(0,0),14),_=+pow(abs(S),2);return parseFloat(_.toFixed(5))}),m=+n>0?+a%(+n*r)===0:!1;return this.handleLoop(+a,"amplitudes",r,h,m)}),this}qphase(u,n=0,a=0){return this.stack.push(r=>{const b=clamp$2(+this.handleTypes(n),0,256),h=circuit.stateAsArray(),m=+this.handleTypes(u)%h.length,p=mapToRange$1(h[m].phase,-Math.PI,Math.PI,0,1,0),A=+a>0?+r%(+a*b)===0:!1;return this.handleLoop(+r,"phase",b,p,A)}),this}qphases(u=0,n=0){return this.stack.push(a=>{const r=clamp$2(+this.handleTypes(u),0,256),h=circuit.stateAsArray().map(p=>mapToRange$1(p.phase,-Math.PI,Math.PI,0,1,0)),m=+n>0?+a%(+n*r)===0:!1;return this.handleLoop(+a,"phases",r,h,m)}),this}qresult(){return this.qmeasurements().fn(u=>parseInt(u.reverse().join(""),2)),this}print(u=""){return this.stack.push(n=>{const a=u?`${u}: ${n}`:n;return channel$4.postMessage({type:"pattern",message:a}),n}),this}get(u,n,a){this._t=u,this._q=n,this._bpm=a||this._bpm;const r=this.stack.length?this.stack.reduce((b,h)=>h(b),u):null;return this._value=r||0,r}has(){return!!this.stack.length}static methods(){const u=Object.keys(new Pattern().aliases);return Object.getOwnPropertyNames(Pattern.prototype).concat(u).filter(n=>!["constructor","handleTypes","handleLoop","_","get","has"].includes(n))}call(u,...n){if(typeof this[u]=="function")return this[u].apply(this,n);throw new Error(`Method ${u} does not exist on Pattern`)}}const min=(N,u)=>N<=u?N:u;function mapToRange$1(N,u,n,a,r,b=.5){return roundToFactor$1((N-u)*(r-a)/(n-u)+a,b)}function roundToFactor$1(N,u=1){return u?Math.round(N/u)*u:N}function clamp$2(N,u,n){return Math.min(Math.max(N,u),n)}function createCount(N=0){let u=N-1;return function(){return u=u+1,u}}function numberToBinary(N,u=16){return(N>>>0).toString(2).padEnd(u,"0")}const mod=(N,u)=>(N%u+u)%u,_reduced=(N,u)=>(...n)=>u(N(...n)),pipe=(...N)=>N.reduce(_reduced);function memoize(N){let u={};return(...n)=>{let a=n.map(r=>JSON.stringify(r)).join("-");return a in u?u[a]:u[a]=N(...n)}}function handleArrayOrSingleValue(N,u){return Array.isArray(N)?singleValueArrayToSingleValue(N.map(u)):u(N)}function singleValueArrayToSingleValue(N){return Array.isArray(N)&&N.length===1&&(N=N[0]),N}function calculateNormalisedPosition(N,u,n,a=1){return+(Array.isArray(N)?N[0]:N)/u*n%a}function odd(N){return N%2===1}function even(N){return N%2===0}function roundToNearest(N,u){return u.reduce((n,a)=>Math.abs(a-N)<Math.abs(n-N)?a:n)}function interpolate(N,u,n){return N+(u-N)*n}function loopArray(N,u){let n=0;for(;N.length<u;)N.push(N[n]),n++;return N}function debounce(N,u){let n=null;return(...a)=>{n&&clearTimeout(n),n=setTimeout(()=>N(...a),u)}}function calculateRectHeightAndWidth(N){let u=Math.floor(Math.sqrt(N)),n=Math.ceil(N/u);for(;n*u<N;)n+=1,u=Math.ceil(N/n);return{width:n,height:u}}function weightedChoice(N){const u=N.reduce((a,r)=>a+r,0);let n=Math.random()*u;for(let a=0;a<N.length;a++){if(n<N[a])return a;n-=N[a]}return N.length-1}function euclid(N,u){if(N<0||u<0||u<N)return[];let n=new Array(N).fill([1]),a=new Array(u-N).fill([0]),r=n.length,b=Math.min(r,a.length),h=0;for(;b>h;){h===0&&(h=1);for(let p=0;p<b;p++)n[p]=[...n[p],...a[p]];b===r?a=a.slice(b):(a=n.slice(b),n=n.slice(0,b)),r=n.length,b=Math.min(r,a.length)}return[...n.flat(),...a.flat()]}function euclidean(N,u){return memoize(euclid)(N,u)}function initMidiClock(){wm.enable(()=>{wm.inputs.forEach((N,u)=>{let n=0,a=!1;N.addListener("start","all",()=>{n=0,a=!0}),N.addListener("stop","all",()=>{a=!1}),N.addListener("continue","all",()=>{a=!0}),N.addListener("clock","all",r=>{if(!a||!getActiveMidiClock()||getClockSource()==="internal"||getMidiClockDevice()!==u)return;const b=getQ(),h=getBpm(),{srcBpm:m,relativeBpm:p}=getMidiClockConfig(),A=p?Math.round(m/h*96):96,S=euclidean(b,A),l=Math.floor(n/A)*b+S.slice(0,n%A).reduce((y,o)=>y+o,0);setT(l),S[n%A]&&evaluate(l,immediate()),n++})})})}function initMidiTriggers(){wm.enable(()=>{wm.inputs.forEach((N,u)=>{N.addListener("noteon","all",n=>{getMode()!=="noteon"||getMidiTriggerDevice()!==u||evaluate(getT(),immediate())})})})}const aliases={_am:"_amp",_ch:"_chorus",_chd:"_chdepth",_chl:"_chlfo",_chs:"_chspread",_co:"_cutoff",_de:"_delay",_dec:"_dcolour",_def:"_dfilter",_des:"_dspread",_det:"_dtime",_drf:"_drift",_di:"_dist",_dir:"_direction",_dt:"_detune",_drv:"_drive",_f:"_fil",_ga:"_gain",_gp:"_grainpan",_gr:"_grainrate",_gs:"_grainsize",_gsl:"_grainslope",_ha:"_harm",_hc:"_hicut",_lc:"_locut",_li:"_lthresh",_ls:"_loopsize",_lfor:"_lforate",_lfod:"_lfodepth",_mi:"_modi",_os:"_osc",_pa:"_pan",_ra:"_rate",_rda:"_rdamp",_rde:"_rdecay",_rdi:"_rdiff",_re:"_reverb",_ri:"_ring",_rif:"_ringf",_rim:"_ringmode",_ris:"_ringspread",_rj:"_rjitter",_rs:"_rsize",_sl:"_slide",_v:"_vol",ac:"acurve",am:"amp",ba:"bank",be:"begin",ch:"chorus",chd:"chdepth",chl:"chlfo",chs:"chspread",co:"cutoff",cu:"cut",dc:"dcurve",de:"delay",dec:"dcolour",def:"dfilter",des:"dspread",det:"dtime",di:"dist",dr:"direction",drf:"drift",drv:"drive",dt:"detune",du:"dur",en:"end",f:"fil",fa:"fila",fac:"filacurve",fd:"fild",fdc:"fildcurve",fr:"filr",frc:"filrcurve",fs:"fils",ga:"gain",gp:"grainpan",gr:"grainrate",gs:"grainsize",gsl:"grainslope",ha:"harm",hc:"hicut",ho:"hold",la:"lag",lc:"locut",lfor:"lforate",lfod:"lfodepth",li:"lthresh",lo:"loop",ls:"loopsize",ma:"moda",mac:"modacurve",md:"modd",mdc:"moddcurve",mi:"modi",mr:"modr",mrc:"modrcurve",ms:"mods",on:"oneshot",os:"osc",pa:"pan",ra:"rate",rc:"rcurve",rda:"rdamp",rde:"rdecay",rdi:"rdiff",re:"reverb",ri:"ring",rif:"ringf",rim:"ringmode",ris:"ringspread",rj:"rjitter",rs:"rsize",sl:"slide",sp:"snap",st:"strum",in:"inst",v:"vol"},formatEventParams=(N,u)=>Object.entries(N).filter(([a,r])=>r!==null).reduce((a,[r,b])=>(r=u[r]||aliases[r]||r,{...a,[r.startsWith("_")?r.substring(1):r]:b}),{}),formatMutationParams=(N,u,n)=>({...Object.entries(N).filter(([a,r])=>a.startsWith("_")&&r!==null&&r!==void 0).reduce((a,[r,b])=>(r=u[r]||aliases[r]||r,{...a,[r.substring(1)]:b}),{}),lag:N.lag||N.la||n});class Stream{constructor(u){Bt(this,"id");Bt(this,"_t",0);Bt(this,"_s",16);Bt(this,"_q",16);Bt(this,"_bpm",120);Bt(this,"p");Bt(this,"px");Bt(this,"py");Bt(this,"pz");Bt(this,"_tPattern",null);Bt(this,"_xPattern",null);Bt(this,"_yPattern",null);Bt(this,"_zPattern",null);Bt(this,"_xyzPattern",null);Bt(this,"_ePattern",null);Bt(this,"_mPattern",null);Bt(this,"_mutePattern",null);Bt(this,"_soloPattern",null);Bt(this,"map",{});Bt(this,"_aliases",{solo:"so",mute:"mu",set:"v"});this.id=u;const n={get:(a,r)=>r in a?a[r]:a[r]=new Pattern(this)};this.p=new Proxy({},n),this.px=new Proxy({},n),this.py=new Proxy({},n),this.pz=new Proxy({},n),Object.entries(this._aliases).forEach(([a,r])=>{this[r]=this[a]})}get t(){return this._tPattern=this._tPattern||new Pattern(this),this._tPattern}get x(){return this._xPattern=this._xPattern||new Pattern(this),this._xPattern}get y(){return this._yPattern=this._yPattern||new Pattern(this),this._yPattern}get z(){return this._zPattern=this._zPattern||new Pattern(this),this._zPattern}get xyz(){return this._xyzPattern=this._xyzPattern||new Pattern(this),this._xyzPattern}get e(){return this._ePattern=this._ePattern||new Pattern(this,!0),this._ePattern}get m(){return this._mPattern=this._mPattern||new Pattern(this,!0),this._mPattern}get mute(){return this._mutePattern=this._mutePattern||new Pattern(this),this._mutePattern}get solo(){return this._soloPattern=this._soloPattern||new Pattern(this),this._soloPattern}get i(){return+this.id.slice(1)}evaluateGroup(u,n,a,r){return Object.entries(u).map(([b,h])=>[b,h.get(n,a,r)]).filter(([b,h])=>h!=null).reduce((b,[h,m])=>({...b,[h]:m}),{})}set(u){return Object.entries(u).forEach(([n,a])=>{this.p[n].set(a)}),this}get(u,n,a,r,b){const h=+(this.t.has()?this.t.get(u,n)||0:u),m=[this.xyz.get(h,a,r)].flat(),p=+(m[0]||this.x.get(h,a,r)||0),A=+(m[1]||this.y.get(h,a,r)||0),S=+(m[2]||this.z.get(h,a,r)||0),{id:_}=this,l=!!this.mute.get(h,n,r),y=!!this.solo.get(h,n,r),o=!l&&this.e.get(h,n,r),f=!l&&this.m.get(h,n,r),x=6e4/r/n,g=o||f?{track:+_.slice(1),_track:+_.slice(1),...this.evaluateGroup(b.p,h,n,r),...this.evaluateGroup(b.px,p*a,a,r),...this.evaluateGroup(b.py,A*a,a,r),...this.evaluateGroup(b.pz,S*a,a,r),...this.evaluateGroup(this.p,h,n,r),...this.evaluateGroup(this.px,p*a,a,r),...this.evaluateGroup(this.py,A*a,a,r),...this.evaluateGroup(this.pz,S*a,a,r),bpm:r,q:n}:{};return{id:_,e:o,m:f,mute:l,solo:y,x:mod(p,a),y:mod(A,a),z:mod(S,a),eparams:formatEventParams(g,this.map),mparams:formatMutationParams(g,this.map,x)}}reset(){const{_tPattern:u,_xPattern:n,_yPattern:a,_zPattern:r,_xyzPattern:b,_ePattern:h,_mPattern:m,_soloPattern:p,_mutePattern:A}=this;[u,n,a,r,b,h,m,p,A].forEach(S=>S==null?void 0:S.reset()),Object.values(this.p).forEach(S=>S.reset()),Object.values(this.px).forEach(S=>S.reset()),Object.values(this.py).forEach(S=>S.reset()),Object.values(this.pz).forEach(S=>S.reset())}}class Zen extends Stream{constructor(){super("z");Bt(this,"_tPattern",null);Bt(this,"_bpmPattern",null);Bt(this,"_swingPattern",null);Bt(this,"_swingnPattern",null);Bt(this,"_seedPattern",null);Bt(this,"_latencyPattern",null);Bt(this,"_gridPattern",null);Bt(this,"_clockPattern",null);Bt(this,"_modePattern",null);Bt(this,"_update",1)}get t(){return this._tPattern=this._tPattern||new Pattern,this._tPattern}get bpm(){return this._bpmPattern=this._bpmPattern||new Pattern,this._bpmPattern}get swing(){return this._swingPattern=this._swingPattern||new Pattern,this._swingPattern}get swingn(){return this._swingnPattern=this._swingnPattern||new Pattern,this._swingnPattern}get seed(){return this._seedPattern=this._seedPattern||new Pattern,this._seedPattern}get latency(){return this._latencyPattern=this._latencyPattern||new Pattern,this._latencyPattern}get grid(){return this._gridPattern=this._gridPattern||new Pattern,this._gridPattern}get clock(){return this._clockPattern=this._clockPattern||new Pattern,this._clockPattern}get mode(){return this._modePattern=this._modePattern||new Pattern,this._modePattern}get s(){return this._s}set s(n){this._s=clamp$2(Math.floor(n),1,48)}get q(){return this._q}set q(n){this._q=clamp$2(Math.floor(n),1,64)}get c(){return Math.floor(this._t/this._q)}get update(){return this._update}set update(n){this._update=clamp$2(Math.floor(n),1,this._q*16)}getTime(n){const a=this.t.get(n,this._q),r=n;return this._t=a!==null?Array.isArray(a)?a[0]:a:r,Math.floor(this._t)}getBpm(){const n=this.bpm.get(this._t,this._q);return n!==null?Array.isArray(n)?n[0]:n:120}getClock(){return this.clock.get(this._t,this._q)||{}}getMode(){return this.mode.get(this._t,this._q)||{}}getSwing(){const n=this.swing.get(this._t,this._q);return n!==null?Array.isArray(n)?n[0]:n:0}getSwingN(){const n=this.swingn.get(this._t,this._q);return n!==null?Array.isArray(n)?n[0]:n:16}getSeed(){return this.seed.get(this._t,this._q)}getLatency(){return this.latency.get(this._t,this._q)}resetGlobals(){[this._bpmPattern,this._tPattern,this._seedPattern,this._gridPattern,this._modePattern].forEach(n=>n==null?void 0:n.reset())}}const channel$3=new BroadcastChannel("zen");let Data$1=class{constructor(){Bt(this,"data",{});Bt(this,"key","");Bt(this,"_worker");return this._worker=new Worker(new URL(""+new URL("../workers/data-6b4fabd6.js",import.meta.url).href,self.location)),this._worker.addEventListener("message",u=>{const{message:n,data:a,key:r}=u.data;if(r==="fetch")return channel$3.postMessage({type:"info",message:"Fetch is a reserved key"});channel$3.postMessage({type:"info",message:n}),a&&(localStorage.setItem(`z.data.${r}`,JSON.stringify(a)),this.data[r]=a)}),new Proxy(this,{get:(u,n)=>{const a=String(n);if(a==="fetch")return(b,h)=>this._worker.postMessage({endpoint:b,key:h});if(a in this.data)return this.data[a];const r=localStorage.getItem(`z.data.${String(a)}`)||"{}";return this.data[a]=JSON.parse(r),this.data[a]}})}get keys(){return Object.keys(this.data)}},Visuals$1=class{constructor(){Bt(this,"data",[]);Bt(this,"activeStreams",[]);Bt(this,"colours",[[52,152,219],[46,204,113],[231,76,60]]);Bt(this,"mColour",[51,51,51,255])}convertPositionToVector(u,n){return{x:u.x,y:u.y,z:u.z,colour:[...this.colours[n%this.colours.length],(u.e?1:.25)*255],weight:u.e?1:.5}}get(u){return this.activeStreams=[...new Set([...this.activeStreams,...u.filter(({e:n,m:a})=>!!n||!!a).map(({id:n})=>n)])],this.data=u.filter(({id:n})=>this.activeStreams.includes(n)).map((n,a)=>this.convertPositionToVector(n,a)),this.data}};function handleTypes(N,u,n,a){return N instanceof Pattern?N.get(u,n,120)||0:typeof N=="function"?N(u,n):typeof N=="string"?parsePattern(N,u,n,a,!0):N}const channel$2=new BroadcastChannel("zen");class Wire{constructor(u){Bt(this,"_t",0);Bt(this,"_q",16);Bt(this,"_id");Bt(this,"row");Bt(this,"_offset",0);Bt(this,"_stack",[]);Bt(this,"_feedback",-1);this._id=u,this.row=+u.slice(1),Object.entries(circuit.basicGates).forEach(([n,a])=>{this[n]=(r,b,h)=>this.configureGate(n,a,r,b,h)}),this.configureGate=this.configureGate.bind(this)}get feedback(){return this._feedback}set feedback(u){this._feedback=u}configureGate(u,n,a,r,b){this._offset>0&&this._offset++;const h=n.numControlQubits>0,m=n.params.length>0,p=[h?a:[]].flat().map(E=>(E||0)%get_store_value(nStreams))||[],A=[m?h?r:a:[]].flat().filter(E=>E!=null),S=[h?m?b:r:m?r:a].flat()[0]||0;this._offset+=S;const _=p.filter(E=>E!==this.row).filter((E,C)=>C<n.numControlQubits),l=circuit.gates[this.row]||[],y=l.findIndex(E=>E===null),o=y!==-1?y+this._offset:l.length+this._offset,f=u==="measure"?{name:"c",bit:this.row}:{},x=h?circuit.insertGate(u,o,[this.row,..._],{creg:f}):circuit.addGate(u,o,this.row,{creg:f}),{wires:g,col:D}=circuit.getGatePosById(x);return this._stack.push(()=>{if(!m)return;const E={creg:f,params:A.length?A.filter((C,T)=>T<n.params.length).reduce((C,T,O)=>({...C,[n.params[O]]:+handleTypes(T||0,this._t,this._q,`${this.row}`)*(n.params[O]==="theta"?1:2)*Math.PI}),{}):{theta:0,phi:0,lambda:0}};g.forEach(C=>{circuit.gates[C][D].options=E})}),this}x(u=0){return this.configureGate("x",circuit.basicGates.x,u)}y(u=0){return this.configureGate("y",circuit.basicGates.y,u)}z(u=0){return this.configureGate("z",circuit.basicGates.z,u)}h(u=0){return this.configureGate("h",circuit.basicGates.h,u)}rx(u=0,n=0){return this.configureGate("rx",circuit.basicGates.rx,u,n)}ry(u=0,n=0){return this.configureGate("ry",circuit.basicGates.ry,u,n)}rz(u=0,n=0){return this.configureGate("rz",circuit.basicGates.rz,u,n)}cx(u=[],n=0){return this.configureGate("cx",circuit.basicGates.cx,u,n)}ccx(u=[],n=0){return this.configureGate("ccx",circuit.basicGates.ccx,u,n)}u3(u,n=0){return this.configureGate("u3",circuit.basicGates.u3,u,n)}fb(u=this.row){return this._stack.push(()=>{this.feedback=+handleTypes(u,this._t,this._q,`${this.row}`)}),this}random(u=4,n=8){return circuit.randomCircuit(u,n),this}import(u){return circuit.importQASM(u,function(n){n.length&&console.error(n)}),this}update(u,n){const[a,r,b]=u.split("."),m=(circuit.gates[this.row]||[]).filter(p=>p&&p.name===a)[+r];return m?(this._stack.push(()=>{m.options={...m.options,params:Object.entries(m.options.params||{}).reduce((p,[A,S],_)=>({...p,[A]:_===+b?+handleTypes(n,this._t,this._q,`${this.row}`)*(A==="theta"?1:2)*Math.PI:S}),{})}}),this):channel$2.postMessage({type:"error",message:`Can't find gate ${a}.${r}`})}clear(){this._stack=[],this._offset=0,this.feedback=-1}build(u,n){this._t=u,this._q=n,this._stack.forEach(a=>a())}}const clamp$1=(N,u,n)=>Math.min(Math.max(N,u),n),bts=N=>u=>u*(60/N),btms=N=>u=>u*(60/N)*1e3,helpers={clamp:clamp$1,bts,btms,seed:seed$1,...Math};function mapToStepRange(N,u,n,a,r,b=.5){return roundToFactor(mapToRange(N,u,n,a,r),b)}function mapToRange(N,u,n,a,r){return(N-u)*(r-a)/(n-u)+a}function roundToFactor(N,u=1){const n=N/u;return Math.round(n)*u}class Midi{constructor(){Bt(this,"history",{});Bt(this,"inputs",[]);Bt(this,"outputs",[]);Bt(this,"noteoffs",{});this.init()}async init(){await wm.enable().then(()=>{this.inputs=wm.inputs.map(u=>u.name),this.outputs=wm.outputs.map(u=>u.name)})}storeHistory(u,n,a,r,b){const h=this.history||{};a&&(h.device=a),r&&(h.channels=r),u&&(h.notes=[...h.notes||[],u]),n&&(h.ccs=[...h.ccs||[],...n]),b&&(h.mididelay=b),this.history=h}getCCsFromParams(u={}){return Object.keys(u).reduce((n,a)=>a.startsWith("cc")?[...n,{cc:+a.replace("cc",""),value:mapToStepRange(+u[a],0,1,0,127,1)}]:n,[])}trigger(u={},n){const{midi:a,midichan:r,mididelay:b=0,n:h,dur:m=1e3,amp:p=.5,nudge:A=0}=u,S=this.outputs[+a];if(!S)return;const _=h||60,l=r?Array.isArray(r)?r:[+r]:void 0,y=wm.getOutputByName(S),o=n*1e3+ +b+ +A,f={time:`+${o}`,attack:+p,channels:l};this.noteoffs[_]&&clearTimeout(this.noteoffs[_]);const x=setTimeout(()=>{y.stopNote(_,{channels:l}),this.history.notes=this.history.notes.filter(D=>D!==_),delete this.noteoffs[_]},o+ +m);this.noteoffs={...this.noteoffs,[_]:x},y.playNote(_,{...f,time:`+${o}`});const g=this.getCCsFromParams(u);g.forEach(({cc:D,value:E})=>{const C=this.history.ccs||{};C[D]!==E&&y.sendControlChange(D,C[E]?E:0,f)}),this.storeHistory(+_,g,y,l,+b)}cut(u){if(!this.history.device)return;const n=this.history.mididelay||0,a={time:`+${u*1e3+n-10}`,...this.history};this.history.device.sendNoteOff(this.history.notes,a),this.history.notes=[]}mutate(u,n){if(!this.history.device)return;const{mididelay:a=0,nudge:r=0}=u,h={time:`+${n*1e3+ +a-10+ +r}`,...this.history},m=this.getCCsFromParams(u);m.forEach(({cc:p,value:A})=>{const S=this.history.ccs||{};S[p]!==A&&this.history.device.sendControlChange(p,S[A]?A:0,h)}),this.storeHistory(0,m)}}async function enableMidi(){await wm.enable()}enableMidi();const midiStreams=new Array(32).fill(0).map((N,u)=>new Midi).reduce((N,u,n)=>({...N,[`s${n}`]:u}),{});function handleMidiEvent(N,u,n){const{cut:a,n:r=60,strum:b=0,midi:h}=n;(a!==void 0?[+a].flat():[]).forEach(p=>{var A;(A=midiStreams[`s${p}`])==null||A.cut(N)}),h!==void 0&&[h].flat().forEach((p,A)=>{[r].flat().forEach((S,_)=>{const l=Object.entries(n).reduce((y,[o,f])=>({...y,[o]:Array.isArray(f)?f[A%f.length]:f}),{});l.n=S,l.midi=p,midiStreams[u].trigger(l,N+_*(b/1e3))})})}function handleMidiMutation(N,u,n){var a;(a=midiStreams[u])==null||a.mutate(n,N)}var rnbo_webaudio={exports:{}};/*!
 * 
 * Copyright (c) 2022 Cycling '74
 *
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * v1.3.2
 *
 */(function(module,exports){var factory;factory=function(){return(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{__webpack_require__(852).Float32Buffer,__webpack_require__(852).Float64Buffer,__webpack_require__(852).Float32MultiBuffer,__webpack_require__(852).Float64MultiBuffer,__webpack_require__(852).IntBuffer,__webpack_require__(852).UInt8Buffer,__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2;function nextpoweroftwo(N){return N===0?1:(N--,N|=N>>1,N|=N>>2,N|=N>>4,N|=N>>8,1+(N|=N>>16))}function TAG(N){let u=0;for(let n=0;n<N.length;n++)u=N.charCodeAt(n)+(u<<6)+(u<<16)-u;return 0|u}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}Xoshiro.reset,Xoshiro.next,module.exports={deserializeSrc:function(N){return _evalSrc(N)},deserializeJSON:function(N){var u=N;return typeof u=="string"&&(u={src:N}),_evalSrc(u.src)},extractOptionsFromJSON:function(N){var u=N;return typeof u=="string"&&(u=JSON.parse(N)),u.options?u.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:N=>{function u(){let V=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,k=this.getChannels();return k?V/k:0}function n(V,k){let U=V*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*k;this.requestedChannels=k,this.dataRef.requestSizeInBytes(U,!1)}function a(V,k){return this[this.getChannels()*Math.floor(k)+V]}function r(V,k){const U=this.getChannels();return V<0||V>=U||k<0||k>=this.getSize()?0:this[U*Math.floor(k)+V]}function b(V,k,U){this[this.getChannels()*Math.floor(k)+V]=U}function h(V,k,U){const G=this.getChannels();V<0||V>=G||k<0||k>=this.getSize()||(this[G*Math.floor(k)+V]=U)}function m(){return this.dataRef.channels}function p(){return this.dataRef.sampleRate}function A(V){this.dataRef.sampleRate=V}function S(){this.dataRef.clear()}function _(V){if(V!==this.dataRef.channels){let k=this.getSize();return this.clear(),this.dataRef.channels=V,this.setSize(k)}return this}function l(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&this.requestedChannels!==0&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let V;if(this.dataRef.isInternallyAllocated){let U=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);U/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,V=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,U)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let k=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return V?k.set(V):this.dataRef.wantsFillFlag=!0,E(k,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&C(k),k}return this}function y(V){let k=this.getChannels();return this.requestedChannels=k,this.dataRef.requestSizeInBytes(V*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*k,!0),this.allocateIfNeeded()}function o(){this.fill&&this.fill(0)}function f(){return this.touched}function x(V){this.touched=V}function g(V){this.dataRef.setWantsFill(V)}function D(){return this.dataRef.getIndex()}function E(V,k,U){V.dataRef=k,V.BASEARRAYVIEW=U,V.getSize=u,V.requestSize=n,V.setSize=y,V.allocateIfNeeded=l,V.setZero=o,V.clear=S,V.getChannels=m,V.getSampleRate=p,V.setWantsFill=g,V.getIndex=D,k.setZero=function(){V.setZero()},V.touched=!1,V.getTouched=f,V.setTouched=x}function C(V){V.getSample=a,V.getSampleSafe=r,V.setSample=b,V.setSampleSafe=h,V.setChannels=_,V.setSampleRate=A,V.isAudioBuffer=!0,V.requestedChannels=0}let T=function(V,k){let U;return U=V.arrayBuffer?new k(V.arrayBuffer):{},E(U,V,k),U};(T.prototype=Object.create(null)).constructor=T;let O=function(V,k){let U=T.call(this,V,k);return C(U),U};(O.prototype=Object.create(T)).constructor=O;let I=function(V){return O.call(this,V,Float32Array)};(I.prototype=Object.create(O.prototype)).constructor=I;let M=function(V){return O.call(this,V,Float64Array)};(M.prototype=Object.create(O.prototype)).constructor=M;let F=function(V,k){let U=new k(V.dataRefs[V.current]);return U.multiRef=V,U.setCurrent=function(G){this.multiRef.setCurrent(Math.round(G))},U.getIndex=function(){return this.multiRef.getIndex()},U};F.prototype=Object.create(null),F.constructor=F;let B=function(V){return F.call(this,V,I)};(B.prototype=Object.create(F.prototype)).constructor=B;let j=function(V){return F.call(this,V,M)};(j.prototype=Object.create(F.prototype)).constructor=j;let L=function(V){return T.call(this,V,Int32Array)};(L.prototype=Object.create(T.prototype)).constructor=L;let R=function(V){return T.call(this,V,Uint8Array)};(R.prototype=Object.create(T.prototype)).constructor=R,N.exports={Float32Buffer:I,Float64Buffer:M,Float32MultiBuffer:B,Float64MultiBuffer:j,IntBuffer:L,UInt8Buffer:R}},126:N=>{var u=function(){};(u.prototype=Object.create(null)).constructor=u,u.prototype.setEngineAndPatcher=function(){},u.prototype.initialize=function(){},u.prototype.getNumParameters=function(){return 0},u.prototype.setParameterValue=function(){},u.prototype.prepareToProcess=function(){},u.prototype.process=function(){},N.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new u}}},925:N=>{function u(n,a,r,b){r[b]=n[a]+0x9e3779b97f4a7c15n,r[b]=0xbf58476d1ce4e5b9n*(r[b]^r[b]>>30n),r[b]=0x94d049bb133111ebn*(r[b]^r[b]>>27n),r[b]=r[b]^r[b]>>31n}N.exports={reset:function(n,a){let r=new BigUint64Array(1);r[0]=BigInt(Math.trunc(1e6*n)),u(r,0,a,0),u(a,0,a,1),u(a,1,a,2),u(a,2,a,3)},next:function(n){let a=new BigUint64Array(1),r=new BigUint64Array(1);return r[0]=n[0]+n[3],a[0]=n[1]<<17n,n[2]^=n[0],n[3]^=n[1],n[1]^=n[2],n[0]^=n[3],n[2]^=a[0],n[3]=n[3]<<45n|n[3]>>19n,r[0]=r[0]>>11n,2220446049250313e-31*Number(r[0])-1}}},766:(N,u)=>{u.byteLength=function(S){var _=p(S),l=_[0],y=_[1];return 3*(l+y)/4-y},u.toByteArray=function(S){var _,l,y=p(S),o=y[0],f=y[1],x=new r(function(E,C,T){return 3*(C+T)/4-T}(0,o,f)),g=0,D=f>0?o-4:o;for(l=0;l<D;l+=4)_=a[S.charCodeAt(l)]<<18|a[S.charCodeAt(l+1)]<<12|a[S.charCodeAt(l+2)]<<6|a[S.charCodeAt(l+3)],x[g++]=_>>16&255,x[g++]=_>>8&255,x[g++]=255&_;return f===2&&(_=a[S.charCodeAt(l)]<<2|a[S.charCodeAt(l+1)]>>4,x[g++]=255&_),f===1&&(_=a[S.charCodeAt(l)]<<10|a[S.charCodeAt(l+1)]<<4|a[S.charCodeAt(l+2)]>>2,x[g++]=_>>8&255,x[g++]=255&_),x},u.fromByteArray=function(S){for(var _,l=S.length,y=l%3,o=[],f=16383,x=0,g=l-y;x<g;x+=f)o.push(A(S,x,x+f>g?g:x+f));return y===1?(_=S[l-1],o.push(n[_>>2]+n[_<<4&63]+"==")):y===2&&(_=(S[l-2]<<8)+S[l-1],o.push(n[_>>10]+n[_>>4&63]+n[_<<2&63]+"=")),o.join("")};for(var n=[],a=[],r=typeof Uint8Array<"u"?Uint8Array:Array,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,m=b.length;h<m;++h)n[h]=b[h],a[b.charCodeAt(h)]=h;function p(S){var _=S.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=S.indexOf("=");return l===-1&&(l=_),[l,l===_?0:4-l%4]}function A(S,_,l){for(var y,o,f=[],x=_;x<l;x+=3)y=(S[x]<<16&16711680)+(S[x+1]<<8&65280)+(255&S[x+2]),f.push(n[(o=y)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return f.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},834:(N,u,n)=>{/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const a=n(766),r=n(181),b=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;u.Buffer=p,u.SlowBuffer=function(ne){return+ne!=ne&&(ne=0),p.alloc(+ne)},u.INSPECT_MAX_BYTES=50;const h=2147483647;function m(ne){if(ne>h)throw new RangeError('The value "'+ne+'" is invalid for option "size"');const re=new Uint8Array(ne);return Object.setPrototypeOf(re,p.prototype),re}function p(ne,re,de){if(typeof ne=="number"){if(typeof re=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(ne)}return A(ne,re,de)}function A(ne,re,de){if(typeof ne=="string")return function(xe,Ie){if(typeof Ie=="string"&&Ie!==""||(Ie="utf8"),!p.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);const Ne=0|f(xe,Ie);let Be=m(Ne);const $e=Be.write(xe,Ie);return $e!==Ne&&(Be=Be.slice(0,$e)),Be}(ne,re);if(ArrayBuffer.isView(ne))return function(xe){if(ve(xe,Uint8Array)){const Ie=new Uint8Array(xe);return y(Ie.buffer,Ie.byteOffset,Ie.byteLength)}return l(xe)}(ne);if(ne==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne);if(ve(ne,ArrayBuffer)||ne&&ve(ne.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(ne,SharedArrayBuffer)||ne&&ve(ne.buffer,SharedArrayBuffer)))return y(ne,re,de);if(typeof ne=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ce=ne.valueOf&&ne.valueOf();if(Ce!=null&&Ce!==ne)return p.from(Ce,re,de);const je=function(xe){if(p.isBuffer(xe)){const Ie=0|o(xe.length),Ne=m(Ie);return Ne.length===0||xe.copy(Ne,0,0,Ie),Ne}return xe.length!==void 0?typeof xe.length!="number"||pe(xe.length)?m(0):l(xe):xe.type==="Buffer"&&Array.isArray(xe.data)?l(xe.data):void 0}(ne);if(je)return je;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ne[Symbol.toPrimitive]=="function")return p.from(ne[Symbol.toPrimitive]("string"),re,de);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne)}function S(ne){if(typeof ne!="number")throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function _(ne){return S(ne),m(ne<0?0:0|o(ne))}function l(ne){const re=ne.length<0?0:0|o(ne.length),de=m(re);for(let Ce=0;Ce<re;Ce+=1)de[Ce]=255&ne[Ce];return de}function y(ne,re,de){if(re<0||ne.byteLength<re)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<re+(de||0))throw new RangeError('"length" is outside of buffer bounds');let Ce;return Ce=re===void 0&&de===void 0?new Uint8Array(ne):de===void 0?new Uint8Array(ne,re):new Uint8Array(ne,re,de),Object.setPrototypeOf(Ce,p.prototype),Ce}function o(ne){if(ne>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return 0|ne}function f(ne,re){if(p.isBuffer(ne))return ne.length;if(ArrayBuffer.isView(ne)||ve(ne,ArrayBuffer))return ne.byteLength;if(typeof ne!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ne);const de=ne.length,Ce=arguments.length>2&&arguments[2]===!0;if(!Ce&&de===0)return 0;let je=!1;for(;;)switch(re){case"ascii":case"latin1":case"binary":return de;case"utf8":case"utf-8":return we(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*de;case"hex":return de>>>1;case"base64":return le(ne).length;default:if(je)return Ce?-1:we(ne).length;re=(""+re).toLowerCase(),je=!0}}function x(ne,re,de){let Ce=!1;if((re===void 0||re<0)&&(re=0),re>this.length||((de===void 0||de>this.length)&&(de=this.length),de<=0)||(de>>>=0)<=(re>>>=0))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return V(this,re,de);case"utf8":case"utf-8":return B(this,re,de);case"ascii":return L(this,re,de);case"latin1":case"binary":return R(this,re,de);case"base64":return F(this,re,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,re,de);default:if(Ce)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),Ce=!0}}function g(ne,re,de){const Ce=ne[re];ne[re]=ne[de],ne[de]=Ce}function D(ne,re,de,Ce,je){if(ne.length===0)return-1;if(typeof de=="string"?(Ce=de,de=0):de>2147483647?de=2147483647:de<-2147483648&&(de=-2147483648),pe(de=+de)&&(de=je?0:ne.length-1),de<0&&(de=ne.length+de),de>=ne.length){if(je)return-1;de=ne.length-1}else if(de<0){if(!je)return-1;de=0}if(typeof re=="string"&&(re=p.from(re,Ce)),p.isBuffer(re))return re.length===0?-1:E(ne,re,de,Ce,je);if(typeof re=="number")return re&=255,typeof Uint8Array.prototype.indexOf=="function"?je?Uint8Array.prototype.indexOf.call(ne,re,de):Uint8Array.prototype.lastIndexOf.call(ne,re,de):E(ne,[re],de,Ce,je);throw new TypeError("val must be string, number or Buffer")}function E(ne,re,de,Ce,je){let xe,Ie=1,Ne=ne.length,Be=re.length;if(Ce!==void 0&&((Ce=String(Ce).toLowerCase())==="ucs2"||Ce==="ucs-2"||Ce==="utf16le"||Ce==="utf-16le")){if(ne.length<2||re.length<2)return-1;Ie=2,Ne/=2,Be/=2,de/=2}function $e(Le,qe){return Ie===1?Le[qe]:Le.readUInt16BE(qe*Ie)}if(je){let Le=-1;for(xe=de;xe<Ne;xe++)if($e(ne,xe)===$e(re,Le===-1?0:xe-Le)){if(Le===-1&&(Le=xe),xe-Le+1===Be)return Le*Ie}else Le!==-1&&(xe-=xe-Le),Le=-1}else for(de+Be>Ne&&(de=Ne-Be),xe=de;xe>=0;xe--){let Le=!0;for(let qe=0;qe<Be;qe++)if($e(ne,xe+qe)!==$e(re,qe)){Le=!1;break}if(Le)return xe}return-1}function C(ne,re,de,Ce){de=Number(de)||0;const je=ne.length-de;Ce?(Ce=Number(Ce))>je&&(Ce=je):Ce=je;const xe=re.length;let Ie;for(Ce>xe/2&&(Ce=xe/2),Ie=0;Ie<Ce;++Ie){const Ne=parseInt(re.substr(2*Ie,2),16);if(pe(Ne))return Ie;ne[de+Ie]=Ne}return Ie}function T(ne,re,de,Ce){return fe(we(re,ne.length-de),ne,de,Ce)}function O(ne,re,de,Ce){return fe(function(je){const xe=[];for(let Ie=0;Ie<je.length;++Ie)xe.push(255&je.charCodeAt(Ie));return xe}(re),ne,de,Ce)}function I(ne,re,de,Ce){return fe(le(re),ne,de,Ce)}function M(ne,re,de,Ce){return fe(function(je,xe){let Ie,Ne,Be;const $e=[];for(let Le=0;Le<je.length&&!((xe-=2)<0);++Le)Ie=je.charCodeAt(Le),Ne=Ie>>8,Be=Ie%256,$e.push(Be),$e.push(Ne);return $e}(re,ne.length-de),ne,de,Ce)}function F(ne,re,de){return re===0&&de===ne.length?a.fromByteArray(ne):a.fromByteArray(ne.slice(re,de))}function B(ne,re,de){de=Math.min(ne.length,de);const Ce=[];let je=re;for(;je<de;){const xe=ne[je];let Ie=null,Ne=xe>239?4:xe>223?3:xe>191?2:1;if(je+Ne<=de){let Be,$e,Le,qe;switch(Ne){case 1:xe<128&&(Ie=xe);break;case 2:Be=ne[je+1],(192&Be)==128&&(qe=(31&xe)<<6|63&Be,qe>127&&(Ie=qe));break;case 3:Be=ne[je+1],$e=ne[je+2],(192&Be)==128&&(192&$e)==128&&(qe=(15&xe)<<12|(63&Be)<<6|63&$e,qe>2047&&(qe<55296||qe>57343)&&(Ie=qe));break;case 4:Be=ne[je+1],$e=ne[je+2],Le=ne[je+3],(192&Be)==128&&(192&$e)==128&&(192&Le)==128&&(qe=(15&xe)<<18|(63&Be)<<12|(63&$e)<<6|63&Le,qe>65535&&qe<1114112&&(Ie=qe))}}Ie===null?(Ie=65533,Ne=1):Ie>65535&&(Ie-=65536,Ce.push(Ie>>>10&1023|55296),Ie=56320|1023&Ie),Ce.push(Ie),je+=Ne}return function(xe){const Ie=xe.length;if(Ie<=j)return String.fromCharCode.apply(String,xe);let Ne="",Be=0;for(;Be<Ie;)Ne+=String.fromCharCode.apply(String,xe.slice(Be,Be+=j));return Ne}(Ce)}u.kMaxLength=h,p.TYPED_ARRAY_SUPPORT=function(){try{const ne=new Uint8Array(1),re={foo:function(){return 42}};return Object.setPrototypeOf(re,Uint8Array.prototype),Object.setPrototypeOf(ne,re),ne.foo()===42}catch{return!1}}(),p.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}}),p.poolSize=8192,p.from=function(ne,re,de){return A(ne,re,de)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array),p.alloc=function(ne,re,de){return function(Ce,je,xe){return S(Ce),Ce<=0?m(Ce):je!==void 0?typeof xe=="string"?m(Ce).fill(je,xe):m(Ce).fill(je):m(Ce)}(ne,re,de)},p.allocUnsafe=function(ne){return _(ne)},p.allocUnsafeSlow=function(ne){return _(ne)},p.isBuffer=function(ne){return ne!=null&&ne.t===!0&&ne!==p.prototype},p.compare=function(ne,re){if(ve(ne,Uint8Array)&&(ne=p.from(ne,ne.offset,ne.byteLength)),ve(re,Uint8Array)&&(re=p.from(re,re.offset,re.byteLength)),!p.isBuffer(ne)||!p.isBuffer(re))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ne===re)return 0;let de=ne.length,Ce=re.length;for(let je=0,xe=Math.min(de,Ce);je<xe;++je)if(ne[je]!==re[je]){de=ne[je],Ce=re[je];break}return de<Ce?-1:Ce<de?1:0},p.isEncoding=function(ne){switch(String(ne).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(ne,re){if(!Array.isArray(ne))throw new TypeError('"list" argument must be an Array of Buffers');if(ne.length===0)return p.alloc(0);let de;if(re===void 0)for(re=0,de=0;de<ne.length;++de)re+=ne[de].length;const Ce=p.allocUnsafe(re);let je=0;for(de=0;de<ne.length;++de){let xe=ne[de];if(ve(xe,Uint8Array))je+xe.length>Ce.length?(p.isBuffer(xe)||(xe=p.from(xe)),xe.copy(Ce,je)):Uint8Array.prototype.set.call(Ce,xe,je);else{if(!p.isBuffer(xe))throw new TypeError('"list" argument must be an Array of Buffers');xe.copy(Ce,je)}je+=xe.length}return Ce},p.byteLength=f,p.prototype.t=!0,p.prototype.swap16=function(){const ne=this.length;if(ne%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let re=0;re<ne;re+=2)g(this,re,re+1);return this},p.prototype.swap32=function(){const ne=this.length;if(ne%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let re=0;re<ne;re+=4)g(this,re,re+3),g(this,re+1,re+2);return this},p.prototype.swap64=function(){const ne=this.length;if(ne%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let re=0;re<ne;re+=8)g(this,re,re+7),g(this,re+1,re+6),g(this,re+2,re+5),g(this,re+3,re+4);return this},p.prototype.toString=function(){const ne=this.length;return ne===0?"":arguments.length===0?B(this,0,ne):x.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(ne){if(!p.isBuffer(ne))throw new TypeError("Argument must be a Buffer");return this===ne||p.compare(this,ne)===0},p.prototype.inspect=function(){let ne="";const re=u.INSPECT_MAX_BYTES;return ne=this.toString("hex",0,re).replace(/(.{2})/g,"$1 ").trim(),this.length>re&&(ne+=" ... "),"<Buffer "+ne+">"},b&&(p.prototype[b]=p.prototype.inspect),p.prototype.compare=function(ne,re,de,Ce,je){if(ve(ne,Uint8Array)&&(ne=p.from(ne,ne.offset,ne.byteLength)),!p.isBuffer(ne))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ne);if(re===void 0&&(re=0),de===void 0&&(de=ne?ne.length:0),Ce===void 0&&(Ce=0),je===void 0&&(je=this.length),re<0||de>ne.length||Ce<0||je>this.length)throw new RangeError("out of range index");if(Ce>=je&&re>=de)return 0;if(Ce>=je)return-1;if(re>=de)return 1;if(this===ne)return 0;let xe=(je>>>=0)-(Ce>>>=0),Ie=(de>>>=0)-(re>>>=0);const Ne=Math.min(xe,Ie),Be=this.slice(Ce,je),$e=ne.slice(re,de);for(let Le=0;Le<Ne;++Le)if(Be[Le]!==$e[Le]){xe=Be[Le],Ie=$e[Le];break}return xe<Ie?-1:Ie<xe?1:0},p.prototype.includes=function(ne,re,de){return this.indexOf(ne,re,de)!==-1},p.prototype.indexOf=function(ne,re,de){return D(this,ne,re,de,!0)},p.prototype.lastIndexOf=function(ne,re,de){return D(this,ne,re,de,!1)},p.prototype.write=function(ne,re,de,Ce){if(re===void 0)Ce="utf8",de=this.length,re=0;else if(de===void 0&&typeof re=="string")Ce=re,de=this.length,re=0;else{if(!isFinite(re))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");re>>>=0,isFinite(de)?(de>>>=0,Ce===void 0&&(Ce="utf8")):(Ce=de,de=void 0)}const je=this.length-re;if((de===void 0||de>je)&&(de=je),ne.length>0&&(de<0||re<0)||re>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ce||(Ce="utf8");let xe=!1;for(;;)switch(Ce){case"hex":return C(this,ne,re,de);case"utf8":case"utf-8":return T(this,ne,re,de);case"ascii":case"latin1":case"binary":return O(this,ne,re,de);case"base64":return I(this,ne,re,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,ne,re,de);default:if(xe)throw new TypeError("Unknown encoding: "+Ce);Ce=(""+Ce).toLowerCase(),xe=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.i||this,0)}};const j=4096;function L(ne,re,de){let Ce="";de=Math.min(ne.length,de);for(let je=re;je<de;++je)Ce+=String.fromCharCode(127&ne[je]);return Ce}function R(ne,re,de){let Ce="";de=Math.min(ne.length,de);for(let je=re;je<de;++je)Ce+=String.fromCharCode(ne[je]);return Ce}function V(ne,re,de){const Ce=ne.length;(!re||re<0)&&(re=0),(!de||de<0||de>Ce)&&(de=Ce);let je="";for(let xe=re;xe<de;++xe)je+=ye[ne[xe]];return je}function k(ne,re,de){const Ce=ne.slice(re,de);let je="";for(let xe=0;xe<Ce.length-1;xe+=2)je+=String.fromCharCode(Ce[xe]+256*Ce[xe+1]);return je}function U(ne,re,de){if(ne%1!=0||ne<0)throw new RangeError("offset is not uint");if(ne+re>de)throw new RangeError("Trying to access beyond buffer length")}function G(ne,re,de,Ce,je,xe){if(!p.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(re>je||re<xe)throw new RangeError('"value" argument is out of bounds');if(de+Ce>ne.length)throw new RangeError("Index out of range")}function H(ne,re,de,Ce,je){te(re,Ce,je,ne,de,7);let xe=Number(re&BigInt(4294967295));ne[de++]=xe,xe>>=8,ne[de++]=xe,xe>>=8,ne[de++]=xe,xe>>=8,ne[de++]=xe;let Ie=Number(re>>BigInt(32)&BigInt(4294967295));return ne[de++]=Ie,Ie>>=8,ne[de++]=Ie,Ie>>=8,ne[de++]=Ie,Ie>>=8,ne[de++]=Ie,de}function X(ne,re,de,Ce,je){te(re,Ce,je,ne,de,7);let xe=Number(re&BigInt(4294967295));ne[de+7]=xe,xe>>=8,ne[de+6]=xe,xe>>=8,ne[de+5]=xe,xe>>=8,ne[de+4]=xe;let Ie=Number(re>>BigInt(32)&BigInt(4294967295));return ne[de+3]=Ie,Ie>>=8,ne[de+2]=Ie,Ie>>=8,ne[de+1]=Ie,Ie>>=8,ne[de]=Ie,de+8}function Z(ne,re,de,Ce,je,xe){if(de+Ce>ne.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("Index out of range")}function J(ne,re,de,Ce,je){return re=+re,de>>>=0,je||Z(ne,0,de,4),r.write(ne,re,de,Ce,23,4),de+4}function ee(ne,re,de,Ce,je){return re=+re,de>>>=0,je||Z(ne,0,de,8),r.write(ne,re,de,Ce,52,8),de+8}p.prototype.slice=function(ne,re){const de=this.length;(ne=~~ne)<0?(ne+=de)<0&&(ne=0):ne>de&&(ne=de),(re=re===void 0?de:~~re)<0?(re+=de)<0&&(re=0):re>de&&(re=de),re<ne&&(re=ne);const Ce=this.subarray(ne,re);return Object.setPrototypeOf(Ce,p.prototype),Ce},p.prototype.readUintLE=p.prototype.readUIntLE=function(ne,re,de){ne>>>=0,re>>>=0,de||U(ne,re,this.length);let Ce=this[ne],je=1,xe=0;for(;++xe<re&&(je*=256);)Ce+=this[ne+xe]*je;return Ce},p.prototype.readUintBE=p.prototype.readUIntBE=function(ne,re,de){ne>>>=0,re>>>=0,de||U(ne,re,this.length);let Ce=this[ne+--re],je=1;for(;re>0&&(je*=256);)Ce+=this[ne+--re]*je;return Ce},p.prototype.readUint8=p.prototype.readUInt8=function(ne,re){return ne>>>=0,re||U(ne,1,this.length),this[ne]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(ne,re){return ne>>>=0,re||U(ne,2,this.length),this[ne]|this[ne+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(ne,re){return ne>>>=0,re||U(ne,2,this.length),this[ne]<<8|this[ne+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(ne,re){return ne>>>=0,re||U(ne,4,this.length),(this[ne]|this[ne+1]<<8|this[ne+2]<<16)+16777216*this[ne+3]},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(ne,re){return ne>>>=0,re||U(ne,4,this.length),16777216*this[ne]+(this[ne+1]<<16|this[ne+2]<<8|this[ne+3])},p.prototype.readBigUInt64LE=Ae(function(ne){ce(ne>>>=0,"offset");const re=this[ne],de=this[ne+7];re!==void 0&&de!==void 0||oe(ne,this.length-8);const Ce=re+256*this[++ne]+65536*this[++ne]+this[++ne]*2**24,je=this[++ne]+256*this[++ne]+65536*this[++ne]+de*2**24;return BigInt(Ce)+(BigInt(je)<<BigInt(32))}),p.prototype.readBigUInt64BE=Ae(function(ne){ce(ne>>>=0,"offset");const re=this[ne],de=this[ne+7];re!==void 0&&de!==void 0||oe(ne,this.length-8);const Ce=re*2**24+65536*this[++ne]+256*this[++ne]+this[++ne],je=this[++ne]*2**24+65536*this[++ne]+256*this[++ne]+de;return(BigInt(Ce)<<BigInt(32))+BigInt(je)}),p.prototype.readIntLE=function(ne,re,de){ne>>>=0,re>>>=0,de||U(ne,re,this.length);let Ce=this[ne],je=1,xe=0;for(;++xe<re&&(je*=256);)Ce+=this[ne+xe]*je;return je*=128,Ce>=je&&(Ce-=Math.pow(2,8*re)),Ce},p.prototype.readIntBE=function(ne,re,de){ne>>>=0,re>>>=0,de||U(ne,re,this.length);let Ce=re,je=1,xe=this[ne+--Ce];for(;Ce>0&&(je*=256);)xe+=this[ne+--Ce]*je;return je*=128,xe>=je&&(xe-=Math.pow(2,8*re)),xe},p.prototype.readInt8=function(ne,re){return ne>>>=0,re||U(ne,1,this.length),128&this[ne]?-1*(255-this[ne]+1):this[ne]},p.prototype.readInt16LE=function(ne,re){ne>>>=0,re||U(ne,2,this.length);const de=this[ne]|this[ne+1]<<8;return 32768&de?4294901760|de:de},p.prototype.readInt16BE=function(ne,re){ne>>>=0,re||U(ne,2,this.length);const de=this[ne+1]|this[ne]<<8;return 32768&de?4294901760|de:de},p.prototype.readInt32LE=function(ne,re){return ne>>>=0,re||U(ne,4,this.length),this[ne]|this[ne+1]<<8|this[ne+2]<<16|this[ne+3]<<24},p.prototype.readInt32BE=function(ne,re){return ne>>>=0,re||U(ne,4,this.length),this[ne]<<24|this[ne+1]<<16|this[ne+2]<<8|this[ne+3]},p.prototype.readBigInt64LE=Ae(function(ne){ce(ne>>>=0,"offset");const re=this[ne],de=this[ne+7];re!==void 0&&de!==void 0||oe(ne,this.length-8);const Ce=this[ne+4]+256*this[ne+5]+65536*this[ne+6]+(de<<24);return(BigInt(Ce)<<BigInt(32))+BigInt(re+256*this[++ne]+65536*this[++ne]+this[++ne]*16777216)}),p.prototype.readBigInt64BE=Ae(function(ne){ce(ne>>>=0,"offset");const re=this[ne],de=this[ne+7];re!==void 0&&de!==void 0||oe(ne,this.length-8);const Ce=(re<<24)+65536*this[++ne]+256*this[++ne]+this[++ne];return(BigInt(Ce)<<BigInt(32))+BigInt(this[++ne]*16777216+65536*this[++ne]+256*this[++ne]+de)}),p.prototype.readFloatLE=function(ne,re){return ne>>>=0,re||U(ne,4,this.length),r.read(this,ne,!0,23,4)},p.prototype.readFloatBE=function(ne,re){return ne>>>=0,re||U(ne,4,this.length),r.read(this,ne,!1,23,4)},p.prototype.readDoubleLE=function(ne,re){return ne>>>=0,re||U(ne,8,this.length),r.read(this,ne,!0,52,8)},p.prototype.readDoubleBE=function(ne,re){return ne>>>=0,re||U(ne,8,this.length),r.read(this,ne,!1,52,8)},p.prototype.writeUintLE=p.prototype.writeUIntLE=function(ne,re,de,Ce){ne=+ne,re>>>=0,de>>>=0,Ce||G(this,ne,re,de,Math.pow(2,8*de)-1,0);let je=1,xe=0;for(this[re]=255&ne;++xe<de&&(je*=256);)this[re+xe]=ne/je&255;return re+de},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(ne,re,de,Ce){ne=+ne,re>>>=0,de>>>=0,Ce||G(this,ne,re,de,Math.pow(2,8*de)-1,0);let je=de-1,xe=1;for(this[re+je]=255&ne;--je>=0&&(xe*=256);)this[re+je]=ne/xe&255;return re+de},p.prototype.writeUint8=p.prototype.writeUInt8=function(ne,re,de){return ne=+ne,re>>>=0,de||G(this,ne,re,1,255,0),this[re]=255&ne,re+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(ne,re,de){return ne=+ne,re>>>=0,de||G(this,ne,re,2,65535,0),this[re]=255&ne,this[re+1]=ne>>>8,re+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(ne,re,de){return ne=+ne,re>>>=0,de||G(this,ne,re,2,65535,0),this[re]=ne>>>8,this[re+1]=255&ne,re+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(ne,re,de){return ne=+ne,re>>>=0,de||G(this,ne,re,4,4294967295,0),this[re+3]=ne>>>24,this[re+2]=ne>>>16,this[re+1]=ne>>>8,this[re]=255&ne,re+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(ne,re,de){return ne=+ne,re>>>=0,de||G(this,ne,re,4,4294967295,0),this[re]=ne>>>24,this[re+1]=ne>>>16,this[re+2]=ne>>>8,this[re+3]=255&ne,re+4},p.prototype.writeBigUInt64LE=Ae(function(ne,re=0){return H(this,ne,re,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=Ae(function(ne,re=0){return X(this,ne,re,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(ne,re,de,Ce){if(ne=+ne,re>>>=0,!Ce){const Ne=Math.pow(2,8*de-1);G(this,ne,re,de,Ne-1,-Ne)}let je=0,xe=1,Ie=0;for(this[re]=255&ne;++je<de&&(xe*=256);)ne<0&&Ie===0&&this[re+je-1]!==0&&(Ie=1),this[re+je]=(ne/xe>>0)-Ie&255;return re+de},p.prototype.writeIntBE=function(ne,re,de,Ce){if(ne=+ne,re>>>=0,!Ce){const Ne=Math.pow(2,8*de-1);G(this,ne,re,de,Ne-1,-Ne)}let je=de-1,xe=1,Ie=0;for(this[re+je]=255&ne;--je>=0&&(xe*=256);)ne<0&&Ie===0&&this[re+je+1]!==0&&(Ie=1),this[re+je]=(ne/xe>>0)-Ie&255;return re+de},p.prototype.writeInt8=function(ne,re,de){return ne=+ne,re>>>=0,de||G(this,ne,re,1,127,-128),ne<0&&(ne=255+ne+1),this[re]=255&ne,re+1},p.prototype.writeInt16LE=function(ne,re,de){return ne=+ne,re>>>=0,de||G(this,ne,re,2,32767,-32768),this[re]=255&ne,this[re+1]=ne>>>8,re+2},p.prototype.writeInt16BE=function(ne,re,de){return ne=+ne,re>>>=0,de||G(this,ne,re,2,32767,-32768),this[re]=ne>>>8,this[re+1]=255&ne,re+2},p.prototype.writeInt32LE=function(ne,re,de){return ne=+ne,re>>>=0,de||G(this,ne,re,4,2147483647,-2147483648),this[re]=255&ne,this[re+1]=ne>>>8,this[re+2]=ne>>>16,this[re+3]=ne>>>24,re+4},p.prototype.writeInt32BE=function(ne,re,de){return ne=+ne,re>>>=0,de||G(this,ne,re,4,2147483647,-2147483648),ne<0&&(ne=4294967295+ne+1),this[re]=ne>>>24,this[re+1]=ne>>>16,this[re+2]=ne>>>8,this[re+3]=255&ne,re+4},p.prototype.writeBigInt64LE=Ae(function(ne,re=0){return H(this,ne,re,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=Ae(function(ne,re=0){return X(this,ne,re,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeFloatLE=function(ne,re,de){return J(this,ne,re,!0,de)},p.prototype.writeFloatBE=function(ne,re,de){return J(this,ne,re,!1,de)},p.prototype.writeDoubleLE=function(ne,re,de){return ee(this,ne,re,!0,de)},p.prototype.writeDoubleBE=function(ne,re,de){return ee(this,ne,re,!1,de)},p.prototype.copy=function(ne,re,de,Ce){if(!p.isBuffer(ne))throw new TypeError("argument should be a Buffer");if(de||(de=0),Ce||Ce===0||(Ce=this.length),re>=ne.length&&(re=ne.length),re||(re=0),Ce>0&&Ce<de&&(Ce=de),Ce===de||ne.length===0||this.length===0)return 0;if(re<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("Index out of range");if(Ce<0)throw new RangeError("sourceEnd out of bounds");Ce>this.length&&(Ce=this.length),ne.length-re<Ce-de&&(Ce=ne.length-re+de);const je=Ce-de;return this===ne&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(re,de,Ce):Uint8Array.prototype.set.call(ne,this.subarray(de,Ce),re),je},p.prototype.fill=function(ne,re,de,Ce){if(typeof ne=="string"){if(typeof re=="string"?(Ce=re,re=0,de=this.length):typeof de=="string"&&(Ce=de,de=this.length),Ce!==void 0&&typeof Ce!="string")throw new TypeError("encoding must be a string");if(typeof Ce=="string"&&!p.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce);if(ne.length===1){const xe=ne.charCodeAt(0);(Ce==="utf8"&&xe<128||Ce==="latin1")&&(ne=xe)}}else typeof ne=="number"?ne&=255:typeof ne=="boolean"&&(ne=Number(ne));if(re<0||this.length<re||this.length<de)throw new RangeError("Out of range index");if(de<=re)return this;let je;if(re>>>=0,de=de===void 0?this.length:de>>>0,ne||(ne=0),typeof ne=="number")for(je=re;je<de;++je)this[je]=ne;else{const xe=p.isBuffer(ne)?ne:p.from(ne,Ce),Ie=xe.length;if(Ie===0)throw new TypeError('The value "'+ne+'" is invalid for argument "value"');for(je=0;je<de-re;++je)this[je+re]=xe[je%Ie]}return this};const $={};function W(ne,re,de){$[ne]=class extends de{constructor(){super(),Object.defineProperty(this,"message",{value:re.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ne}]`,this.stack,delete this.name}get code(){return ne}set code(Ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ce,writable:!0})}toString(){return`${this.name} [${ne}]: ${this.message}`}}}function Q(ne){let re="",de=ne.length;const Ce=ne[0]==="-"?1:0;for(;de>=Ce+4;de-=3)re=`_${ne.slice(de-3,de)}${re}`;return`${ne.slice(0,de)}${re}`}function te(ne,re,de,Ce,je,xe){if(ne>de||ne<re){const Ie=typeof re=="bigint"?"n":"";let Ne;throw Ne=xe>3?re===0||re===BigInt(0)?`>= 0${Ie} and < 2${Ie} ** ${8*(xe+1)}${Ie}`:`>= -(2${Ie} ** ${8*(xe+1)-1}${Ie}) and < 2 ** ${8*(xe+1)-1}${Ie}`:`>= ${re}${Ie} and <= ${de}${Ie}`,new $.ERR_OUT_OF_RANGE("value",Ne,ne)}(function(Ie,Ne,Be){ce(Ne,"offset"),Ie[Ne]!==void 0&&Ie[Ne+Be]!==void 0||oe(Ne,Ie.length-(Be+1))})(Ce,je,xe)}function ce(ne,re){if(typeof ne!="number")throw new $.ERR_INVALID_ARG_TYPE(re,"number",ne)}function oe(ne,re,de){throw Math.floor(ne)!==ne?(ce(ne,de),new $.ERR_OUT_OF_RANGE(de||"offset","an integer",ne)):re<0?new $.ERR_BUFFER_OUT_OF_BOUNDS:new $.ERR_OUT_OF_RANGE(de||"offset",`>= ${de?1:0} and <= ${re}`,ne)}W("ERR_BUFFER_OUT_OF_BOUNDS",function(ne){return ne?`${ne} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),W("ERR_INVALID_ARG_TYPE",function(ne,re){return`The "${ne}" argument must be of type number. Received type ${typeof re}`},TypeError),W("ERR_OUT_OF_RANGE",function(ne,re,de){let Ce=`The value of "${ne}" is out of range.`,je=de;return Number.isInteger(de)&&Math.abs(de)>4294967296?je=Q(String(de)):typeof de=="bigint"&&(je=String(de),(de>BigInt(2)**BigInt(32)||de<-(BigInt(2)**BigInt(32)))&&(je=Q(je)),je+="n"),Ce+=` It must be ${re}. Received ${je}`,Ce},RangeError);const ue=/[^+/0-9A-Za-z-_]/g;function we(ne,re){let de;re=re||1/0;const Ce=ne.length;let je=null;const xe=[];for(let Ie=0;Ie<Ce;++Ie){if(de=ne.charCodeAt(Ie),de>55295&&de<57344){if(!je){if(de>56319){(re-=3)>-1&&xe.push(239,191,189);continue}if(Ie+1===Ce){(re-=3)>-1&&xe.push(239,191,189);continue}je=de;continue}if(de<56320){(re-=3)>-1&&xe.push(239,191,189),je=de;continue}de=65536+(je-55296<<10|de-56320)}else je&&(re-=3)>-1&&xe.push(239,191,189);if(je=null,de<128){if((re-=1)<0)break;xe.push(de)}else if(de<2048){if((re-=2)<0)break;xe.push(de>>6|192,63&de|128)}else if(de<65536){if((re-=3)<0)break;xe.push(de>>12|224,de>>6&63|128,63&de|128)}else{if(!(de<1114112))throw new Error("Invalid code point");if((re-=4)<0)break;xe.push(de>>18|240,de>>12&63|128,de>>6&63|128,63&de|128)}}return xe}function le(ne){return a.toByteArray(function(re){if((re=(re=re.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;re.length%4!=0;)re+="=";return re}(ne))}function fe(ne,re,de,Ce){let je;for(je=0;je<Ce&&!(je+de>=re.length||je>=ne.length);++je)re[je+de]=ne[je];return je}function ve(ne,re){return ne instanceof re||ne!=null&&ne.constructor!=null&&ne.constructor.name!=null&&ne.constructor.name===re.name}function pe(ne){return ne!=ne}const ye=function(){const ne="0123456789abcdef",re=new Array(256);for(let de=0;de<16;++de){const Ce=16*de;for(let je=0;je<16;++je)re[Ce+je]=ne[de]+ne[je]}return re}();function Ae(ne){return typeof BigInt>"u"?be:ne}function be(){throw new Error("BigInt not supported")}},181:(N,u)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */u.read=function(n,a,r,b,h){var m,p,A=8*h-b-1,S=(1<<A)-1,_=S>>1,l=-7,y=r?h-1:0,o=r?-1:1,f=n[a+y];for(y+=o,m=f&(1<<-l)-1,f>>=-l,l+=A;l>0;m=256*m+n[a+y],y+=o,l-=8);for(p=m&(1<<-l)-1,m>>=-l,l+=b;l>0;p=256*p+n[a+y],y+=o,l-=8);if(m===0)m=1-_;else{if(m===S)return p?NaN:1/0*(f?-1:1);p+=Math.pow(2,b),m-=_}return(f?-1:1)*p*Math.pow(2,m-b)},u.write=function(n,a,r,b,h,m){var p,A,S,_=8*m-h-1,l=(1<<_)-1,y=l>>1,o=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=b?0:m-1,x=b?1:-1,g=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(A=isNaN(a)?1:0,p=l):(p=Math.floor(Math.log(a)/Math.LN2),a*(S=Math.pow(2,-p))<1&&(p--,S*=2),(a+=p+y>=1?o/S:o*Math.pow(2,1-y))*S>=2&&(p++,S/=2),p+y>=l?(A=0,p=l):p+y>=1?(A=(a*S-1)*Math.pow(2,h),p+=y):(A=a*Math.pow(2,y-1)*Math.pow(2,h),p=0));h>=8;n[r+f]=255&A,f+=x,A/=256,h-=8);for(p=p<<h|A,_+=h;_>0;n[r+f]=255&p,f+=x,p/=256,_-=8);n[r+f-x]|=128*g}},845:(N,u,n)=>{var a={};(0,n(761).assign)(a,n(880),n(380),n(271)),N.exports=a},880:(N,u,n)=>{var a=n(789),r=n(761),b=n(944),h=n(950),m=n(744),p=Object.prototype.toString;function A(_){if(!(this instanceof A))return new A(_);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},_||{});var l=this.options;l.raw&&l.windowBits>0?l.windowBits=-l.windowBits:l.gzip&&l.windowBits>0&&l.windowBits<16&&(l.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var y=a.deflateInit2(this.strm,l.level,l.method,l.windowBits,l.memLevel,l.strategy);if(y!==0)throw new Error(h[y]);if(l.header&&a.deflateSetHeader(this.strm,l.header),l.dictionary){var o;if(o=typeof l.dictionary=="string"?b.string2buf(l.dictionary):p.call(l.dictionary)==="[object ArrayBuffer]"?new Uint8Array(l.dictionary):l.dictionary,(y=a.deflateSetDictionary(this.strm,o))!==0)throw new Error(h[y]);this.u=!0}}function S(_,l){var y=new A(l);if(y.push(_,!0),y.err)throw y.msg||h[y.err];return y.result}A.prototype.push=function(_,l){var y,o,f=this.strm,x=this.options.chunkSize;if(this.ended)return!1;o=l===~~l?l:l===!0?4:0,typeof _=="string"?f.input=b.string2buf(_):p.call(_)==="[object ArrayBuffer]"?f.input=new Uint8Array(_):f.input=_,f.next_in=0,f.avail_in=f.input.length;do{if(f.avail_out===0&&(f.output=new r.Buf8(x),f.next_out=0,f.avail_out=x),(y=a.deflate(f,o))!==1&&y!==0)return this.onEnd(y),this.ended=!0,!1;f.avail_out!==0&&(f.avail_in!==0||o!==4&&o!==2)||(this.options.to==="string"?this.onData(b.buf2binstring(r.shrinkBuf(f.output,f.next_out))):this.onData(r.shrinkBuf(f.output,f.next_out)))}while((f.avail_in>0||f.avail_out===0)&&y!==1);return o===4?(y=a.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===0):o!==2||(this.onEnd(0),f.avail_out=0,!0)},A.prototype.onData=function(_){this.chunks.push(_)},A.prototype.onEnd=function(_){_===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},u.Deflate=A,u.deflate=S,u.deflateRaw=function(_,l){return(l=l||{}).raw=!0,S(_,l)},u.gzip=function(_,l){return(l=l||{}).gzip=!0,S(_,l)}},380:(N,u,n)=>{var a=n(20),r=n(761),b=n(944),h=n(271),m=n(950),p=n(744),A=n(357),S=Object.prototype.toString;function _(y){if(!(this instanceof _))return new _(y);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},y||{});var o=this.options;o.raw&&o.windowBits>=0&&o.windowBits<16&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),!(o.windowBits>=0&&o.windowBits<16)||y&&y.windowBits||(o.windowBits+=32),o.windowBits>15&&o.windowBits<48&&!(15&o.windowBits)&&(o.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var f=a.inflateInit2(this.strm,o.windowBits);if(f!==h.Z_OK)throw new Error(m[f]);if(this.header=new A,a.inflateGetHeader(this.strm,this.header),o.dictionary&&(typeof o.dictionary=="string"?o.dictionary=b.string2buf(o.dictionary):S.call(o.dictionary)==="[object ArrayBuffer]"&&(o.dictionary=new Uint8Array(o.dictionary)),o.raw&&(f=a.inflateSetDictionary(this.strm,o.dictionary))!==h.Z_OK))throw new Error(m[f])}function l(y,o){var f=new _(o);if(f.push(y,!0),f.err)throw f.msg||m[f.err];return f.result}_.prototype.push=function(y,o){var f,x,g,D,E,C=this.strm,T=this.options.chunkSize,O=this.options.dictionary,I=!1;if(this.ended)return!1;x=o===~~o?o:o===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof y=="string"?C.input=b.binstring2buf(y):S.call(y)==="[object ArrayBuffer]"?C.input=new Uint8Array(y):C.input=y,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new r.Buf8(T),C.next_out=0,C.avail_out=T),(f=a.inflate(C,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&O&&(f=a.inflateSetDictionary(this.strm,O)),f===h.Z_BUF_ERROR&&I===!0&&(f=h.Z_OK,I=!1),f!==h.Z_STREAM_END&&f!==h.Z_OK)return this.onEnd(f),this.ended=!0,!1;C.next_out&&(C.avail_out!==0&&f!==h.Z_STREAM_END&&(C.avail_in!==0||x!==h.Z_FINISH&&x!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(g=b.utf8border(C.output,C.next_out),D=C.next_out-g,E=b.buf2string(C.output,g),C.next_out=D,C.avail_out=T-D,D&&r.arraySet(C.output,C.output,g,D,0),this.onData(E)):this.onData(r.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(I=!0)}while((C.avail_in>0||C.avail_out===0)&&f!==h.Z_STREAM_END);return f===h.Z_STREAM_END&&(x=h.Z_FINISH),x===h.Z_FINISH?(f=a.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===h.Z_OK):x!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),C.avail_out=0,!0)},_.prototype.onData=function(y){this.chunks.push(y)},_.prototype.onEnd=function(y){y===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},u.Inflate=_,u.inflate=l,u.inflateRaw=function(y,o){return(o=o||{}).raw=!0,l(y,o)},u.ungzip=l},761:(N,u)=>{var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function a(h,m){return Object.prototype.hasOwnProperty.call(h,m)}u.assign=function(h){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var p=m.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var A in p)a(p,A)&&(h[A]=p[A])}}return h},u.shrinkBuf=function(h,m){return h.length===m?h:h.subarray?h.subarray(0,m):(h.length=m,h)};var r={arraySet:function(h,m,p,A,S){if(m.subarray&&h.subarray)h.set(m.subarray(p,p+A),S);else for(var _=0;_<A;_++)h[S+_]=m[p+_]},flattenChunks:function(h){var m,p,A,S,_,l;for(A=0,m=0,p=h.length;m<p;m++)A+=h[m].length;for(l=new Uint8Array(A),S=0,m=0,p=h.length;m<p;m++)_=h[m],l.set(_,S),S+=_.length;return l}},b={arraySet:function(h,m,p,A,S){for(var _=0;_<A;_++)h[S+_]=m[p+_]},flattenChunks:function(h){return[].concat.apply([],h)}};u.setTyped=function(h){h?(u.Buf8=Uint8Array,u.Buf16=Uint16Array,u.Buf32=Int32Array,u.assign(u,r)):(u.Buf8=Array,u.Buf16=Array,u.Buf32=Array,u.assign(u,b))},u.setTyped(n)},944:(N,u,n)=>{var a=n(761),r=!0,b=!0;try{String.fromCharCode.apply(null,[0])}catch{r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{b=!1}for(var h=new a.Buf8(256),m=0;m<256;m++)h[m]=m>=252?6:m>=248?5:m>=240?4:m>=224?3:m>=192?2:1;function p(A,S){if(S<65534&&(A.subarray&&b||!A.subarray&&r))return String.fromCharCode.apply(null,a.shrinkBuf(A,S));for(var _="",l=0;l<S;l++)_+=String.fromCharCode(A[l]);return _}h[254]=h[254]=1,u.string2buf=function(A){var S,_,l,y,o,f=A.length,x=0;for(y=0;y<f;y++)(64512&(_=A.charCodeAt(y)))==55296&&y+1<f&&(64512&(l=A.charCodeAt(y+1)))==56320&&(_=65536+(_-55296<<10)+(l-56320),y++),x+=_<128?1:_<2048?2:_<65536?3:4;for(S=new a.Buf8(x),o=0,y=0;o<x;y++)(64512&(_=A.charCodeAt(y)))==55296&&y+1<f&&(64512&(l=A.charCodeAt(y+1)))==56320&&(_=65536+(_-55296<<10)+(l-56320),y++),_<128?S[o++]=_:_<2048?(S[o++]=192|_>>>6,S[o++]=128|63&_):_<65536?(S[o++]=224|_>>>12,S[o++]=128|_>>>6&63,S[o++]=128|63&_):(S[o++]=240|_>>>18,S[o++]=128|_>>>12&63,S[o++]=128|_>>>6&63,S[o++]=128|63&_);return S},u.buf2binstring=function(A){return p(A,A.length)},u.binstring2buf=function(A){for(var S=new a.Buf8(A.length),_=0,l=S.length;_<l;_++)S[_]=A.charCodeAt(_);return S},u.buf2string=function(A,S){var _,l,y,o,f=S||A.length,x=new Array(2*f);for(l=0,_=0;_<f;)if((y=A[_++])<128)x[l++]=y;else if((o=h[y])>4)x[l++]=65533,_+=o-1;else{for(y&=o===2?31:o===3?15:7;o>1&&_<f;)y=y<<6|63&A[_++],o--;o>1?x[l++]=65533:y<65536?x[l++]=y:(y-=65536,x[l++]=55296|y>>10&1023,x[l++]=56320|1023&y)}return p(x,l)},u.utf8border=function(A,S){var _;for((S=S||A.length)>A.length&&(S=A.length),_=S-1;_>=0&&(192&A[_])==128;)_--;return _<0||_===0?S:_+h[A[_]]>S?_:S}},562:N=>{N.exports=function(u,n,a,r){for(var b=65535&u|0,h=u>>>16&65535|0,m=0;a!==0;){a-=m=a>2e3?2e3:a;do h=h+(b=b+n[r++]|0)|0;while(--m);b%=65521,h%=65521}return b|h<<16|0}},271:N=>{N.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},299:N=>{var u=function(){for(var n,a=[],r=0;r<256;r++){n=r;for(var b=0;b<8;b++)n=1&n?3988292384^n>>>1:n>>>1;a[r]=n}return a}();N.exports=function(n,a,r,b){var h=u,m=b+r;n^=-1;for(var p=b;p<m;p++)n=n>>>8^h[255&(n^a[p])];return-1^n}},789:(N,u,n)=>{var a,r=n(761),b=n(564),h=n(562),m=n(299),p=n(950),A=-2,S=258,_=262,l=103,y=113,o=666;function f(k,U){return k.msg=p[U],U}function x(k){return(k<<1)-(k>4?9:0)}function g(k){for(var U=k.length;--U>=0;)k[U]=0}function D(k){var U=k.state,G=U.pending;G>k.avail_out&&(G=k.avail_out),G!==0&&(r.arraySet(k.output,U.pending_buf,U.pending_out,G,k.next_out),k.next_out+=G,U.pending_out+=G,k.total_out+=G,k.avail_out-=G,U.pending-=G,U.pending===0&&(U.pending_out=0))}function E(k,U){b.h(k,k.block_start>=0?k.block_start:-1,k.strstart-k.block_start,U),k.block_start=k.strstart,D(k.strm)}function C(k,U){k.pending_buf[k.pending++]=U}function T(k,U){k.pending_buf[k.pending++]=U>>>8&255,k.pending_buf[k.pending++]=255&U}function O(k,U){var G,H,X=k.max_chain_length,Z=k.strstart,J=k.prev_length,ee=k.nice_match,$=k.strstart>k.w_size-_?k.strstart-(k.w_size-_):0,W=k.window,Q=k.w_mask,te=k.prev,ce=k.strstart+S,oe=W[Z+J-1],ue=W[Z+J];k.prev_length>=k.good_match&&(X>>=2),ee>k.lookahead&&(ee=k.lookahead);do if(W[(G=U)+J]===ue&&W[G+J-1]===oe&&W[G]===W[Z]&&W[++G]===W[Z+1]){Z+=2,G++;do;while(W[++Z]===W[++G]&&W[++Z]===W[++G]&&W[++Z]===W[++G]&&W[++Z]===W[++G]&&W[++Z]===W[++G]&&W[++Z]===W[++G]&&W[++Z]===W[++G]&&W[++Z]===W[++G]&&Z<ce);if(H=S-(ce-Z),Z=ce-S,H>J){if(k.match_start=U,J=H,H>=ee)break;oe=W[Z+J-1],ue=W[Z+J]}}while((U=te[U&Q])>$&&--X!=0);return J<=k.lookahead?J:k.lookahead}function I(k){var U,G,H,X,Z,J,ee,$,W,Q,te=k.w_size;do{if(X=k.window_size-k.lookahead-k.strstart,k.strstart>=te+(te-_)){r.arraySet(k.window,k.window,te,te,0),k.match_start-=te,k.strstart-=te,k.block_start-=te,U=G=k.hash_size;do H=k.head[--U],k.head[U]=H>=te?H-te:0;while(--G);U=G=te;do H=k.prev[--U],k.prev[U]=H>=te?H-te:0;while(--G);X+=te}if(k.strm.avail_in===0)break;if(J=k.strm,ee=k.window,$=k.strstart+k.lookahead,W=X,Q=void 0,(Q=J.avail_in)>W&&(Q=W),G=Q===0?0:(J.avail_in-=Q,r.arraySet(ee,J.input,J.next_in,Q,$),J.state.wrap===1?J.adler=h(J.adler,ee,Q,$):J.state.wrap===2&&(J.adler=m(J.adler,ee,Q,$)),J.next_in+=Q,J.total_in+=Q,Q),k.lookahead+=G,k.lookahead+k.insert>=3)for(Z=k.strstart-k.insert,k.ins_h=k.window[Z],k.ins_h=(k.ins_h<<k.hash_shift^k.window[Z+1])&k.hash_mask;k.insert&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[Z+3-1])&k.hash_mask,k.prev[Z&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=Z,Z++,k.insert--,!(k.lookahead+k.insert<3)););}while(k.lookahead<_&&k.strm.avail_in!==0)}function M(k,U){for(var G,H;;){if(k.lookahead<_){if(I(k),k.lookahead<_&&U===0)return 1;if(k.lookahead===0)break}if(G=0,k.lookahead>=3&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+3-1])&k.hash_mask,G=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),G!==0&&k.strstart-G<=k.w_size-_&&(k.match_length=O(k,G)),k.match_length>=3)if(H=b.l(k,k.strstart-k.match_start,k.match_length-3),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=3){k.match_length--;do k.strstart++,k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+3-1])&k.hash_mask,G=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart;while(--k.match_length!=0);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+1])&k.hash_mask;else H=b.l(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(H&&(E(k,!1),k.strm.avail_out===0))return 1}return k.insert=k.strstart<2?k.strstart:2,U===4?(E(k,!0),k.strm.avail_out===0?3:4):k.last_lit&&(E(k,!1),k.strm.avail_out===0)?1:2}function F(k,U){for(var G,H,X;;){if(k.lookahead<_){if(I(k),k.lookahead<_&&U===0)return 1;if(k.lookahead===0)break}if(G=0,k.lookahead>=3&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+3-1])&k.hash_mask,G=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=2,G!==0&&k.prev_length<k.max_lazy_match&&k.strstart-G<=k.w_size-_&&(k.match_length=O(k,G),k.match_length<=5&&(k.strategy===1||k.match_length===3&&k.strstart-k.match_start>4096)&&(k.match_length=2)),k.prev_length>=3&&k.match_length<=k.prev_length){X=k.strstart+k.lookahead-3,H=b.l(k,k.strstart-1-k.prev_match,k.prev_length-3),k.lookahead-=k.prev_length-1,k.prev_length-=2;do++k.strstart<=X&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+3-1])&k.hash_mask,G=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart);while(--k.prev_length!=0);if(k.match_available=0,k.match_length=2,k.strstart++,H&&(E(k,!1),k.strm.avail_out===0))return 1}else if(k.match_available){if((H=b.l(k,0,k.window[k.strstart-1]))&&E(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return 1}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(H=b.l(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<2?k.strstart:2,U===4?(E(k,!0),k.strm.avail_out===0?3:4):k.last_lit&&(E(k,!1),k.strm.avail_out===0)?1:2}function B(k,U,G,H,X){this.good_length=k,this.max_lazy=U,this.nice_length=G,this.max_chain=H,this.func=X}function j(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function L(k){var U;return k&&k.state?(k.total_in=k.total_out=0,k.data_type=2,(U=k.state).pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?42:y,k.adler=U.wrap===2?0:1,U.last_flush=0,b.p(U),0):f(k,A)}function R(k){var U,G=L(k);return G===0&&((U=k.state).window_size=2*U.w_size,g(U.head),U.max_lazy_match=a[U.level].max_lazy,U.good_match=a[U.level].good_length,U.nice_match=a[U.level].nice_length,U.max_chain_length=a[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=2,U.match_available=0,U.ins_h=0),G}function V(k,U,G,H,X,Z){if(!k)return A;var J=1;if(U===-1&&(U=6),H<0?(J=0,H=-H):H>15&&(J=2,H-=16),X<1||X>9||G!==8||H<8||H>15||U<0||U>9||Z<0||Z>4)return f(k,A);H===8&&(H=9);var ee=new j;return k.state=ee,ee.strm=k,ee.wrap=J,ee.gzhead=null,ee.w_bits=H,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=X+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+3-1)/3),ee.window=new r.Buf8(2*ee.w_size),ee.head=new r.Buf16(ee.hash_size),ee.prev=new r.Buf16(ee.w_size),ee.lit_bufsize=1<<X+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new r.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=U,ee.strategy=Z,ee.method=G,R(k)}a=[new B(0,0,0,0,function(k,U){var G=65535;for(G>k.pending_buf_size-5&&(G=k.pending_buf_size-5);;){if(k.lookahead<=1){if(I(k),k.lookahead===0&&U===0)return 1;if(k.lookahead===0)break}k.strstart+=k.lookahead,k.lookahead=0;var H=k.block_start+G;if((k.strstart===0||k.strstart>=H)&&(k.lookahead=k.strstart-H,k.strstart=H,E(k,!1),k.strm.avail_out===0)||k.strstart-k.block_start>=k.w_size-_&&(E(k,!1),k.strm.avail_out===0))return 1}return k.insert=0,U===4?(E(k,!0),k.strm.avail_out===0?3:4):(k.strstart>k.block_start&&(E(k,!1),k.strm.avail_out),1)}),new B(4,4,8,4,M),new B(4,5,16,8,M),new B(4,6,32,32,M),new B(4,4,16,16,F),new B(8,16,32,32,F),new B(8,16,128,128,F),new B(8,32,128,256,F),new B(32,128,258,1024,F),new B(32,258,258,4096,F)],u.deflateInit=function(k,U){return V(k,U,8,15,8,0)},u.deflateInit2=V,u.deflateReset=R,u.deflateResetKeep=L,u.deflateSetHeader=function(k,U){return k&&k.state?k.state.wrap!==2?A:(k.state.gzhead=U,0):A},u.deflate=function(k,U){var G,H,X,Z;if(!k||!k.state||U>5||U<0)return k?f(k,A):A;if(H=k.state,!k.output||!k.input&&k.avail_in!==0||H.status===o&&U!==4)return f(k,k.avail_out===0?-5:A);if(H.strm=k,G=H.last_flush,H.last_flush=U,H.status===42)if(H.wrap===2)k.adler=0,C(H,31),C(H,139),C(H,8),H.gzhead?(C(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),C(H,255&H.gzhead.time),C(H,H.gzhead.time>>8&255),C(H,H.gzhead.time>>16&255),C(H,H.gzhead.time>>24&255),C(H,H.level===9?2:H.strategy>=2||H.level<2?4:0),C(H,255&H.gzhead.os),H.gzhead.extra&&H.gzhead.extra.length&&(C(H,255&H.gzhead.extra.length),C(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(k.adler=m(k.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(C(H,0),C(H,0),C(H,0),C(H,0),C(H,0),C(H,H.level===9?2:H.strategy>=2||H.level<2?4:0),C(H,3),H.status=y);else{var J=8+(H.w_bits-8<<4)<<8;J|=(H.strategy>=2||H.level<2?0:H.level<6?1:H.level===6?2:3)<<6,H.strstart!==0&&(J|=32),J+=31-J%31,H.status=y,T(H,J),H.strstart!==0&&(T(H,k.adler>>>16),T(H,65535&k.adler)),k.adler=1}if(H.status===69)if(H.gzhead.extra){for(X=H.pending;H.gzindex<(65535&H.gzhead.extra.length)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>X&&(k.adler=m(k.adler,H.pending_buf,H.pending-X,X)),D(k),X=H.pending,H.pending!==H.pending_buf_size));)C(H,255&H.gzhead.extra[H.gzindex]),H.gzindex++;H.gzhead.hcrc&&H.pending>X&&(k.adler=m(k.adler,H.pending_buf,H.pending-X,X)),H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(H.status===73)if(H.gzhead.name){X=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>X&&(k.adler=m(k.adler,H.pending_buf,H.pending-X,X)),D(k),X=H.pending,H.pending===H.pending_buf_size)){Z=1;break}Z=H.gzindex<H.gzhead.name.length?255&H.gzhead.name.charCodeAt(H.gzindex++):0,C(H,Z)}while(Z!==0);H.gzhead.hcrc&&H.pending>X&&(k.adler=m(k.adler,H.pending_buf,H.pending-X,X)),Z===0&&(H.gzindex=0,H.status=91)}else H.status=91;if(H.status===91)if(H.gzhead.comment){X=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>X&&(k.adler=m(k.adler,H.pending_buf,H.pending-X,X)),D(k),X=H.pending,H.pending===H.pending_buf_size)){Z=1;break}Z=H.gzindex<H.gzhead.comment.length?255&H.gzhead.comment.charCodeAt(H.gzindex++):0,C(H,Z)}while(Z!==0);H.gzhead.hcrc&&H.pending>X&&(k.adler=m(k.adler,H.pending_buf,H.pending-X,X)),Z===0&&(H.status=l)}else H.status=l;if(H.status===l&&(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&D(k),H.pending+2<=H.pending_buf_size&&(C(H,255&k.adler),C(H,k.adler>>8&255),k.adler=0,H.status=y)):H.status=y),H.pending!==0){if(D(k),k.avail_out===0)return H.last_flush=-1,0}else if(k.avail_in===0&&x(U)<=x(G)&&U!==4)return f(k,-5);if(H.status===o&&k.avail_in!==0)return f(k,-5);if(k.avail_in!==0||H.lookahead!==0||U!==0&&H.status!==o){var ee=H.strategy===2?function($,W){for(var Q;;){if($.lookahead===0&&(I($),$.lookahead===0)){if(W===0)return 1;break}if($.match_length=0,Q=b.l($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,Q&&(E($,!1),$.strm.avail_out===0))return 1}return $.insert=0,W===4?(E($,!0),$.strm.avail_out===0?3:4):$.last_lit&&(E($,!1),$.strm.avail_out===0)?1:2}(H,U):H.strategy===3?function($,W){for(var Q,te,ce,oe,ue=$.window;;){if($.lookahead<=S){if(I($),$.lookahead<=S&&W===0)return 1;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=3&&$.strstart>0&&(te=ue[ce=$.strstart-1])===ue[++ce]&&te===ue[++ce]&&te===ue[++ce]){oe=$.strstart+S;do;while(te===ue[++ce]&&te===ue[++ce]&&te===ue[++ce]&&te===ue[++ce]&&te===ue[++ce]&&te===ue[++ce]&&te===ue[++ce]&&te===ue[++ce]&&ce<oe);$.match_length=S-(oe-ce),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=3?(Q=b.l($,1,$.match_length-3),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(Q=b.l($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),Q&&(E($,!1),$.strm.avail_out===0))return 1}return $.insert=0,W===4?(E($,!0),$.strm.avail_out===0?3:4):$.last_lit&&(E($,!1),$.strm.avail_out===0)?1:2}(H,U):a[H.level].func(H,U);if(ee!==3&&ee!==4||(H.status=o),ee===1||ee===3)return k.avail_out===0&&(H.last_flush=-1),0;if(ee===2&&(U===1?b.g(H):U!==5&&(b.m(H,0,0,!1),U===3&&(g(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),D(k),k.avail_out===0))return H.last_flush=-1,0}return U!==4?0:H.wrap<=0?1:(H.wrap===2?(C(H,255&k.adler),C(H,k.adler>>8&255),C(H,k.adler>>16&255),C(H,k.adler>>24&255),C(H,255&k.total_in),C(H,k.total_in>>8&255),C(H,k.total_in>>16&255),C(H,k.total_in>>24&255)):(T(H,k.adler>>>16),T(H,65535&k.adler)),D(k),H.wrap>0&&(H.wrap=-H.wrap),H.pending!==0?0:1)},u.deflateEnd=function(k){var U;return k&&k.state?(U=k.state.status)!==42&&U!==69&&U!==73&&U!==91&&U!==l&&U!==y&&U!==o?f(k,A):(k.state=null,U===y?f(k,-3):0):A},u.deflateSetDictionary=function(k,U){var G,H,X,Z,J,ee,$,W,Q=U.length;if(!k||!k.state||(Z=(G=k.state).wrap)===2||Z===1&&G.status!==42||G.lookahead)return A;for(Z===1&&(k.adler=h(k.adler,U,Q,0)),G.wrap=0,Q>=G.w_size&&(Z===0&&(g(G.head),G.strstart=0,G.block_start=0,G.insert=0),W=new r.Buf8(G.w_size),r.arraySet(W,U,Q-G.w_size,G.w_size,0),U=W,Q=G.w_size),J=k.avail_in,ee=k.next_in,$=k.input,k.avail_in=Q,k.next_in=0,k.input=U,I(G);G.lookahead>=3;){H=G.strstart,X=G.lookahead-2;do G.ins_h=(G.ins_h<<G.hash_shift^G.window[H+3-1])&G.hash_mask,G.prev[H&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=H,H++;while(--X);G.strstart=H,G.lookahead=2,I(G)}return G.strstart+=G.lookahead,G.block_start=G.strstart,G.insert=G.lookahead,G.lookahead=0,G.match_length=G.prev_length=2,G.match_available=0,k.next_in=ee,k.input=$,k.avail_in=J,G.wrap=Z,0},u.deflateInfo="pako deflate (from Nodeca project)"},357:N=>{N.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},980:N=>{N.exports=function(u,n){var a,r,b,h,m,p,A,S,_,l,y,o,f,x,g,D,E,C,T,O,I,M,F,B,j;a=u.state,r=u.next_in,B=u.input,b=r+(u.avail_in-5),h=u.next_out,j=u.output,m=h-(n-u.avail_out),p=h+(u.avail_out-257),A=a.dmax,S=a.wsize,_=a.whave,l=a.wnext,y=a.window,o=a.hold,f=a.bits,x=a.lencode,g=a.distcode,D=(1<<a.lenbits)-1,E=(1<<a.distbits)-1;e:do{f<15&&(o+=B[r++]<<f,f+=8,o+=B[r++]<<f,f+=8),C=x[o&D];t:for(;;){if(o>>>=T=C>>>24,f-=T,(T=C>>>16&255)==0)j[h++]=65535&C;else{if(!(16&T)){if(!(64&T)){C=x[(65535&C)+(o&(1<<T)-1)];continue t}if(32&T){a.mode=12;break e}u.msg="invalid literal/length code",a.mode=30;break e}O=65535&C,(T&=15)&&(f<T&&(o+=B[r++]<<f,f+=8),O+=o&(1<<T)-1,o>>>=T,f-=T),f<15&&(o+=B[r++]<<f,f+=8,o+=B[r++]<<f,f+=8),C=g[o&E];n:for(;;){if(o>>>=T=C>>>24,f-=T,!(16&(T=C>>>16&255))){if(!(64&T)){C=g[(65535&C)+(o&(1<<T)-1)];continue n}u.msg="invalid distance code",a.mode=30;break e}if(I=65535&C,f<(T&=15)&&(o+=B[r++]<<f,(f+=8)<T&&(o+=B[r++]<<f,f+=8)),(I+=o&(1<<T)-1)>A){u.msg="invalid distance too far back",a.mode=30;break e}if(o>>>=T,f-=T,I>(T=h-m)){if((T=I-T)>_&&a.sane){u.msg="invalid distance too far back",a.mode=30;break e}if(M=0,F=y,l===0){if(M+=S-T,T<O){O-=T;do j[h++]=y[M++];while(--T);M=h-I,F=j}}else if(l<T){if(M+=S+l-T,(T-=l)<O){O-=T;do j[h++]=y[M++];while(--T);if(M=0,l<O){O-=T=l;do j[h++]=y[M++];while(--T);M=h-I,F=j}}}else if(M+=l-T,T<O){O-=T;do j[h++]=y[M++];while(--T);M=h-I,F=j}for(;O>2;)j[h++]=F[M++],j[h++]=F[M++],j[h++]=F[M++],O-=3;O&&(j[h++]=F[M++],O>1&&(j[h++]=F[M++]))}else{M=h-I;do j[h++]=j[M++],j[h++]=j[M++],j[h++]=j[M++],O-=3;while(O>2);O&&(j[h++]=j[M++],O>1&&(j[h++]=j[M++]))}break}}break}}while(r<b&&h<p);r-=O=f>>3,o&=(1<<(f-=O<<3))-1,u.next_in=r,u.next_out=h,u.avail_in=r<b?b-r+5:5-(r-b),u.avail_out=h<p?p-h+257:257-(h-p),a.hold=o,a.bits=f}},20:(N,u,n)=>{var a=n(761),r=n(562),b=n(299),h=n(980),m=n(881),p=-2,A=12,S=30;function _(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(O){var I;return O&&O.state?(I=O.state,O.total_in=O.total_out=I.total=0,O.msg="",I.wrap&&(O.adler=1&I.wrap),I.mode=1,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new a.Buf32(852),I.distcode=I.distdyn=new a.Buf32(592),I.sane=1,I.back=-1,0):p}function o(O){var I;return O&&O.state?((I=O.state).wsize=0,I.whave=0,I.wnext=0,y(O)):p}function f(O,I){var M,F;return O&&O.state?(F=O.state,I<0?(M=0,I=-I):(M=1+(I>>4),I<48&&(I&=15)),I&&(I<8||I>15)?p:(F.window!==null&&F.wbits!==I&&(F.window=null),F.wrap=M,F.wbits=I,o(O))):p}function x(O,I){var M,F;return O?(F=new l,O.state=F,F.window=null,(M=f(O,I))!==0&&(O.state=null),M):p}var g,D,E=!0;function C(O){if(E){var I;for(g=new a.Buf32(512),D=new a.Buf32(32),I=0;I<144;)O.lens[I++]=8;for(;I<256;)O.lens[I++]=9;for(;I<280;)O.lens[I++]=7;for(;I<288;)O.lens[I++]=8;for(m(1,O.lens,0,288,g,0,O.work,{bits:9}),I=0;I<32;)O.lens[I++]=5;m(2,O.lens,0,32,D,0,O.work,{bits:5}),E=!1}O.lencode=g,O.lenbits=9,O.distcode=D,O.distbits=5}function T(O,I,M,F){var B,j=O.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new a.Buf8(j.wsize)),F>=j.wsize?(a.arraySet(j.window,I,M-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):((B=j.wsize-j.wnext)>F&&(B=F),a.arraySet(j.window,I,M-F,B,j.wnext),(F-=B)?(a.arraySet(j.window,I,M-F,F,0),j.wnext=F,j.whave=j.wsize):(j.wnext+=B,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=B))),0}u.inflateReset=o,u.inflateReset2=f,u.inflateResetKeep=y,u.inflateInit=function(O){return x(O,15)},u.inflateInit2=x,u.inflate=function(O,I){var M,F,B,j,L,R,V,k,U,G,H,X,Z,J,ee,$,W,Q,te,ce,oe,ue,we,le,fe=0,ve=new a.Buf8(4),pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return p;(M=O.state).mode===A&&(M.mode=13),L=O.next_out,B=O.output,V=O.avail_out,j=O.next_in,F=O.input,R=O.avail_in,k=M.hold,U=M.bits,G=R,H=V,ue=0;e:for(;;)switch(M.mode){case 1:if(M.wrap===0){M.mode=13;break}for(;U<16;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}if(2&M.wrap&&k===35615){M.check=0,ve[0]=255&k,ve[1]=k>>>8&255,M.check=b(M.check,ve,2,0),k=0,U=0,M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&k)<<8)+(k>>8))%31){O.msg="incorrect header check",M.mode=S;break}if((15&k)!=8){O.msg="unknown compression method",M.mode=S;break}if(U-=4,oe=8+(15&(k>>>=4)),M.wbits===0)M.wbits=oe;else if(oe>M.wbits){O.msg="invalid window size",M.mode=S;break}M.dmax=1<<oe,O.adler=M.check=1,M.mode=512&k?10:A,k=0,U=0;break;case 2:for(;U<16;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}if(M.flags=k,(255&M.flags)!=8){O.msg="unknown compression method",M.mode=S;break}if(57344&M.flags){O.msg="unknown header flags set",M.mode=S;break}M.head&&(M.head.text=k>>8&1),512&M.flags&&(ve[0]=255&k,ve[1]=k>>>8&255,M.check=b(M.check,ve,2,0)),k=0,U=0,M.mode=3;case 3:for(;U<32;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}M.head&&(M.head.time=k),512&M.flags&&(ve[0]=255&k,ve[1]=k>>>8&255,ve[2]=k>>>16&255,ve[3]=k>>>24&255,M.check=b(M.check,ve,4,0)),k=0,U=0,M.mode=4;case 4:for(;U<16;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}M.head&&(M.head.xflags=255&k,M.head.os=k>>8),512&M.flags&&(ve[0]=255&k,ve[1]=k>>>8&255,M.check=b(M.check,ve,2,0)),k=0,U=0,M.mode=5;case 5:if(1024&M.flags){for(;U<16;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}M.length=k,M.head&&(M.head.extra_len=k),512&M.flags&&(ve[0]=255&k,ve[1]=k>>>8&255,M.check=b(M.check,ve,2,0)),k=0,U=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&((X=M.length)>R&&(X=R),X&&(M.head&&(oe=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Array(M.head.extra_len)),a.arraySet(M.head.extra,F,j,X,oe)),512&M.flags&&(M.check=b(M.check,F,X,j)),R-=X,j+=X,M.length-=X),M.length))break e;M.length=0,M.mode=7;case 7:if(2048&M.flags){if(R===0)break e;X=0;do oe=F[j+X++],M.head&&oe&&M.length<65536&&(M.head.name+=String.fromCharCode(oe));while(oe&&X<R);if(512&M.flags&&(M.check=b(M.check,F,X,j)),R-=X,j+=X,oe)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=8;case 8:if(4096&M.flags){if(R===0)break e;X=0;do oe=F[j+X++],M.head&&oe&&M.length<65536&&(M.head.comment+=String.fromCharCode(oe));while(oe&&X<R);if(512&M.flags&&(M.check=b(M.check,F,X,j)),R-=X,j+=X,oe)break e}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;U<16;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}if(k!==(65535&M.check)){O.msg="header crc mismatch",M.mode=S;break}k=0,U=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),O.adler=M.check=0,M.mode=A;break;case 10:for(;U<32;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}O.adler=M.check=_(k),k=0,U=0,M.mode=11;case 11:if(M.havedict===0)return O.next_out=L,O.avail_out=V,O.next_in=j,O.avail_in=R,M.hold=k,M.bits=U,2;O.adler=M.check=1,M.mode=A;case A:if(I===5||I===6)break e;case 13:if(M.last){k>>>=7&U,U-=7&U,M.mode=27;break}for(;U<3;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}switch(M.last=1&k,U-=1,3&(k>>>=1)){case 0:M.mode=14;break;case 1:if(C(M),M.mode=20,I===6){k>>>=2,U-=2;break e}break;case 2:M.mode=17;break;case 3:O.msg="invalid block type",M.mode=S}k>>>=2,U-=2;break;case 14:for(k>>>=7&U,U-=7&U;U<32;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}if((65535&k)!=(k>>>16^65535)){O.msg="invalid stored block lengths",M.mode=S;break}if(M.length=65535&k,k=0,U=0,M.mode=15,I===6)break e;case 15:M.mode=16;case 16:if(X=M.length){if(X>R&&(X=R),X>V&&(X=V),X===0)break e;a.arraySet(B,F,j,X,L),R-=X,j+=X,V-=X,L+=X,M.length-=X;break}M.mode=A;break;case 17:for(;U<14;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}if(M.nlen=257+(31&k),k>>>=5,U-=5,M.ndist=1+(31&k),k>>>=5,U-=5,M.ncode=4+(15&k),k>>>=4,U-=4,M.nlen>286||M.ndist>30){O.msg="too many length or distance symbols",M.mode=S;break}M.have=0,M.mode=18;case 18:for(;M.have<M.ncode;){for(;U<3;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}M.lens[pe[M.have++]]=7&k,k>>>=3,U-=3}for(;M.have<19;)M.lens[pe[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,we={bits:M.lenbits},ue=m(0,M.lens,0,19,M.lencode,0,M.work,we),M.lenbits=we.bits,ue){O.msg="invalid code lengths set",M.mode=S;break}M.have=0,M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;$=(fe=M.lencode[k&(1<<M.lenbits)-1])>>>16&255,W=65535&fe,!((ee=fe>>>24)<=U);){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}if(W<16)k>>>=ee,U-=ee,M.lens[M.have++]=W;else{if(W===16){for(le=ee+2;U<le;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}if(k>>>=ee,U-=ee,M.have===0){O.msg="invalid bit length repeat",M.mode=S;break}oe=M.lens[M.have-1],X=3+(3&k),k>>>=2,U-=2}else if(W===17){for(le=ee+3;U<le;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}U-=ee,oe=0,X=3+(7&(k>>>=ee)),k>>>=3,U-=3}else{for(le=ee+7;U<le;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}U-=ee,oe=0,X=11+(127&(k>>>=ee)),k>>>=7,U-=7}if(M.have+X>M.nlen+M.ndist){O.msg="invalid bit length repeat",M.mode=S;break}for(;X--;)M.lens[M.have++]=oe}}if(M.mode===S)break;if(M.lens[256]===0){O.msg="invalid code -- missing end-of-block",M.mode=S;break}if(M.lenbits=9,we={bits:M.lenbits},ue=m(1,M.lens,0,M.nlen,M.lencode,0,M.work,we),M.lenbits=we.bits,ue){O.msg="invalid literal/lengths set",M.mode=S;break}if(M.distbits=6,M.distcode=M.distdyn,we={bits:M.distbits},ue=m(2,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,we),M.distbits=we.bits,ue){O.msg="invalid distances set",M.mode=S;break}if(M.mode=20,I===6)break e;case 20:M.mode=21;case 21:if(R>=6&&V>=258){O.next_out=L,O.avail_out=V,O.next_in=j,O.avail_in=R,M.hold=k,M.bits=U,h(O,H),L=O.next_out,B=O.output,V=O.avail_out,j=O.next_in,F=O.input,R=O.avail_in,k=M.hold,U=M.bits,M.mode===A&&(M.back=-1);break}for(M.back=0;$=(fe=M.lencode[k&(1<<M.lenbits)-1])>>>16&255,W=65535&fe,!((ee=fe>>>24)<=U);){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}if($&&!(240&$)){for(Q=ee,te=$,ce=W;$=(fe=M.lencode[ce+((k&(1<<Q+te)-1)>>Q)])>>>16&255,W=65535&fe,!(Q+(ee=fe>>>24)<=U);){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}k>>>=Q,U-=Q,M.back+=Q}if(k>>>=ee,U-=ee,M.back+=ee,M.length=W,$===0){M.mode=26;break}if(32&$){M.back=-1,M.mode=A;break}if(64&$){O.msg="invalid literal/length code",M.mode=S;break}M.extra=15&$,M.mode=22;case 22:if(M.extra){for(le=M.extra;U<le;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}M.length+=k&(1<<M.extra)-1,k>>>=M.extra,U-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=23;case 23:for(;$=(fe=M.distcode[k&(1<<M.distbits)-1])>>>16&255,W=65535&fe,!((ee=fe>>>24)<=U);){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}if(!(240&$)){for(Q=ee,te=$,ce=W;$=(fe=M.distcode[ce+((k&(1<<Q+te)-1)>>Q)])>>>16&255,W=65535&fe,!(Q+(ee=fe>>>24)<=U);){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}k>>>=Q,U-=Q,M.back+=Q}if(k>>>=ee,U-=ee,M.back+=ee,64&$){O.msg="invalid distance code",M.mode=S;break}M.offset=W,M.extra=15&$,M.mode=24;case 24:if(M.extra){for(le=M.extra;U<le;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}M.offset+=k&(1<<M.extra)-1,k>>>=M.extra,U-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){O.msg="invalid distance too far back",M.mode=S;break}M.mode=25;case 25:if(V===0)break e;if(X=H-V,M.offset>X){if((X=M.offset-X)>M.whave&&M.sane){O.msg="invalid distance too far back",M.mode=S;break}X>M.wnext?(X-=M.wnext,Z=M.wsize-X):Z=M.wnext-X,X>M.length&&(X=M.length),J=M.window}else J=B,Z=L-M.offset,X=M.length;X>V&&(X=V),V-=X,M.length-=X;do B[L++]=J[Z++];while(--X);M.length===0&&(M.mode=21);break;case 26:if(V===0)break e;B[L++]=M.length,V--,M.mode=21;break;case 27:if(M.wrap){for(;U<32;){if(R===0)break e;R--,k|=F[j++]<<U,U+=8}if(H-=V,O.total_out+=H,M.total+=H,H&&(O.adler=M.check=M.flags?b(M.check,B,H,L-H):r(M.check,B,H,L-H)),H=V,(M.flags?k:_(k))!==M.check){O.msg="incorrect data check",M.mode=S;break}k=0,U=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;U<32;){if(R===0)break e;R--,k+=F[j++]<<U,U+=8}if(k!==(4294967295&M.total)){O.msg="incorrect length check",M.mode=S;break}k=0,U=0}M.mode=29;case 29:ue=1;break e;case S:ue=-3;break e;case 31:return-4;default:return p}return O.next_out=L,O.avail_out=V,O.next_in=j,O.avail_in=R,M.hold=k,M.bits=U,(M.wsize||H!==O.avail_out&&M.mode<S&&(M.mode<27||I!==4))&&T(O,O.output,O.next_out,H-O.avail_out)?(M.mode=31,-4):(G-=O.avail_in,H-=O.avail_out,O.total_in+=G,O.total_out+=H,M.total+=H,M.wrap&&H&&(O.adler=M.check=M.flags?b(M.check,B,H,O.next_out-H):r(M.check,B,H,O.next_out-H)),O.data_type=M.bits+(M.last?64:0)+(M.mode===A?128:0)+(M.mode===20||M.mode===15?256:0),(G===0&&H===0||I===4)&&ue===0&&(ue=-5),ue)},u.inflateEnd=function(O){if(!O||!O.state)return p;var I=O.state;return I.window&&(I.window=null),O.state=null,0},u.inflateGetHeader=function(O,I){var M;return O&&O.state&&2&(M=O.state).wrap?(M.head=I,I.done=!1,0):p},u.inflateSetDictionary=function(O,I){var M,F=I.length;return O&&O.state?(M=O.state).wrap!==0&&M.mode!==11?p:M.mode===11&&r(1,I,F,0)!==M.check?-3:T(O,I,F,F)?(M.mode=31,-4):(M.havedict=1,0):p},u.inflateInfo="pako inflate (from Nodeca project)"},881:(N,u,n)=>{var a=n(761),r=15,b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];N.exports=function(A,S,_,l,y,o,f,x){var g,D,E,C,T,O,I,M,F,B=x.bits,j=0,L=0,R=0,V=0,k=0,U=0,G=0,H=0,X=0,Z=0,J=null,ee=0,$=new a.Buf16(16),W=new a.Buf16(16),Q=null,te=0;for(j=0;j<=r;j++)$[j]=0;for(L=0;L<l;L++)$[S[_+L]]++;for(k=B,V=r;V>=1&&$[V]===0;V--);if(k>V&&(k=V),V===0)return y[o++]=20971520,y[o++]=20971520,x.bits=1,0;for(R=1;R<V&&$[R]===0;R++);for(k<R&&(k=R),H=1,j=1;j<=r;j++)if(H<<=1,(H-=$[j])<0)return-1;if(H>0&&(A===0||V!==1))return-1;for(W[1]=0,j=1;j<r;j++)W[j+1]=W[j]+$[j];for(L=0;L<l;L++)S[_+L]!==0&&(f[W[S[_+L]]++]=L);if(A===0?(J=Q=f,O=19):A===1?(J=b,ee-=257,Q=h,te-=257,O=256):(J=m,Q=p,O=-1),Z=0,L=0,j=R,T=o,U=k,G=0,E=-1,C=(X=1<<k)-1,A===1&&X>852||A===2&&X>592)return 1;for(;;){I=j-G,f[L]<O?(M=0,F=f[L]):f[L]>O?(M=Q[te+f[L]],F=J[ee+f[L]]):(M=96,F=0),g=1<<j-G,R=D=1<<U;do y[T+(Z>>G)+(D-=g)]=I<<24|M<<16|F|0;while(D!==0);for(g=1<<j-1;Z&g;)g>>=1;if(g!==0?(Z&=g-1,Z+=g):Z=0,L++,--$[j]==0){if(j===V)break;j=S[_+f[L]]}if(j>k&&(Z&C)!==E){for(G===0&&(G=k),T+=R,H=1<<(U=j-G);U+G<V&&!((H-=$[U+G])<=0);)U++,H<<=1;if(X+=1<<U,A===1&&X>852||A===2&&X>592)return 1;y[E=Z&C]=k<<24|U<<16|T-o|0}}return Z!==0&&(y[T+Z]=j-G<<24|4194304|0),x.bits=k,0}},950:N=>{N.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},564:(N,u,n)=>{var a=n(761);function r(W){for(var Q=W.length;--Q>=0;)W[Q]=0}var b=256,h=286,m=30,p=15,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],y=new Array(576);r(y);var o=new Array(60);r(o);var f=new Array(512);r(f);var x=new Array(256);r(x);var g=new Array(29);r(g);var D,E,C,T=new Array(m);function O(W,Q,te,ce,oe){this.static_tree=W,this.extra_bits=Q,this.extra_base=te,this.elems=ce,this.max_length=oe,this.has_stree=W&&W.length}function I(W,Q){this.dyn_tree=W,this.max_code=0,this.stat_desc=Q}function M(W){return W<256?f[W]:f[256+(W>>>7)]}function F(W,Q){W.pending_buf[W.pending++]=255&Q,W.pending_buf[W.pending++]=Q>>>8&255}function B(W,Q,te){W.bi_valid>16-te?(W.bi_buf|=Q<<W.bi_valid&65535,F(W,W.bi_buf),W.bi_buf=Q>>16-W.bi_valid,W.bi_valid+=te-16):(W.bi_buf|=Q<<W.bi_valid&65535,W.bi_valid+=te)}function j(W,Q,te){B(W,te[2*Q],te[2*Q+1])}function L(W,Q){var te=0;do te|=1&W,W>>>=1,te<<=1;while(--Q>0);return te>>>1}function R(W,Q,te){var ce,oe,ue=new Array(16),we=0;for(ce=1;ce<=p;ce++)ue[ce]=we=we+te[ce-1]<<1;for(oe=0;oe<=Q;oe++){var le=W[2*oe+1];le!==0&&(W[2*oe]=L(ue[le]++,le))}}function V(W){var Q;for(Q=0;Q<h;Q++)W.dyn_ltree[2*Q]=0;for(Q=0;Q<m;Q++)W.dyn_dtree[2*Q]=0;for(Q=0;Q<19;Q++)W.bl_tree[2*Q]=0;W.dyn_ltree[512]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function k(W){W.bi_valid>8?F(W,W.bi_buf):W.bi_valid>0&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function U(W,Q,te,ce){var oe=2*Q,ue=2*te;return W[oe]<W[ue]||W[oe]===W[ue]&&ce[Q]<=ce[te]}function G(W,Q,te){for(var ce=W.heap[te],oe=te<<1;oe<=W.heap_len&&(oe<W.heap_len&&U(Q,W.heap[oe+1],W.heap[oe],W.depth)&&oe++,!U(Q,ce,W.heap[oe],W.depth));)W.heap[te]=W.heap[oe],te=oe,oe<<=1;W.heap[te]=ce}function H(W,Q,te){var ce,oe,ue,we,le=0;if(W.last_lit!==0)do ce=W.pending_buf[W.d_buf+2*le]<<8|W.pending_buf[W.d_buf+2*le+1],oe=W.pending_buf[W.l_buf+le],le++,ce===0?j(W,oe,Q):(j(W,(ue=x[oe])+b+1,Q),(we=A[ue])!==0&&B(W,oe-=g[ue],we),j(W,ue=M(--ce),te),(we=S[ue])!==0&&B(W,ce-=T[ue],we));while(le<W.last_lit);j(W,256,Q)}function X(W,Q){var te,ce,oe,ue=Q.dyn_tree,we=Q.stat_desc.static_tree,le=Q.stat_desc.has_stree,fe=Q.stat_desc.elems,ve=-1;for(W.heap_len=0,W.heap_max=573,te=0;te<fe;te++)ue[2*te]!==0?(W.heap[++W.heap_len]=ve=te,W.depth[te]=0):ue[2*te+1]=0;for(;W.heap_len<2;)ue[2*(oe=W.heap[++W.heap_len]=ve<2?++ve:0)]=1,W.depth[oe]=0,W.opt_len--,le&&(W.static_len-=we[2*oe+1]);for(Q.max_code=ve,te=W.heap_len>>1;te>=1;te--)G(W,ue,te);oe=fe;do te=W.heap[1],W.heap[1]=W.heap[W.heap_len--],G(W,ue,1),ce=W.heap[1],W.heap[--W.heap_max]=te,W.heap[--W.heap_max]=ce,ue[2*oe]=ue[2*te]+ue[2*ce],W.depth[oe]=(W.depth[te]>=W.depth[ce]?W.depth[te]:W.depth[ce])+1,ue[2*te+1]=ue[2*ce+1]=oe,W.heap[1]=oe++,G(W,ue,1);while(W.heap_len>=2);W.heap[--W.heap_max]=W.heap[1],function(pe,ye){var Ae,be,ne,re,de,Ce,je=ye.dyn_tree,xe=ye.max_code,Ie=ye.stat_desc.static_tree,Ne=ye.stat_desc.has_stree,Be=ye.stat_desc.extra_bits,$e=ye.stat_desc.extra_base,Le=ye.stat_desc.max_length,qe=0;for(re=0;re<=p;re++)pe.bl_count[re]=0;for(je[2*pe.heap[pe.heap_max]+1]=0,Ae=pe.heap_max+1;Ae<573;Ae++)(re=je[2*je[2*(be=pe.heap[Ae])+1]+1]+1)>Le&&(re=Le,qe++),je[2*be+1]=re,be>xe||(pe.bl_count[re]++,de=0,be>=$e&&(de=Be[be-$e]),Ce=je[2*be],pe.opt_len+=Ce*(re+de),Ne&&(pe.static_len+=Ce*(Ie[2*be+1]+de)));if(qe!==0){do{for(re=Le-1;pe.bl_count[re]===0;)re--;pe.bl_count[re]--,pe.bl_count[re+1]+=2,pe.bl_count[Le]--,qe-=2}while(qe>0);for(re=Le;re!==0;re--)for(be=pe.bl_count[re];be!==0;)(ne=pe.heap[--Ae])>xe||(je[2*ne+1]!==re&&(pe.opt_len+=(re-je[2*ne+1])*je[2*ne],je[2*ne+1]=re),be--)}}(W,Q),R(ue,ve,W.bl_count)}function Z(W,Q,te){var ce,oe,ue=-1,we=Q[1],le=0,fe=7,ve=4;for(we===0&&(fe=138,ve=3),Q[2*(te+1)+1]=65535,ce=0;ce<=te;ce++)oe=we,we=Q[2*(ce+1)+1],++le<fe&&oe===we||(le<ve?W.bl_tree[2*oe]+=le:oe!==0?(oe!==ue&&W.bl_tree[2*oe]++,W.bl_tree[32]++):le<=10?W.bl_tree[34]++:W.bl_tree[36]++,le=0,ue=oe,we===0?(fe=138,ve=3):oe===we?(fe=6,ve=3):(fe=7,ve=4))}function J(W,Q,te){var ce,oe,ue=-1,we=Q[1],le=0,fe=7,ve=4;for(we===0&&(fe=138,ve=3),ce=0;ce<=te;ce++)if(oe=we,we=Q[2*(ce+1)+1],!(++le<fe&&oe===we)){if(le<ve)do j(W,oe,W.bl_tree);while(--le!=0);else oe!==0?(oe!==ue&&(j(W,oe,W.bl_tree),le--),j(W,16,W.bl_tree),B(W,le-3,2)):le<=10?(j(W,17,W.bl_tree),B(W,le-3,3)):(j(W,18,W.bl_tree),B(W,le-11,7));le=0,ue=oe,we===0?(fe=138,ve=3):oe===we?(fe=6,ve=3):(fe=7,ve=4)}}r(T);var ee=!1;function $(W,Q,te,ce){B(W,0+(ce?1:0),3),function(oe,ue,we,le){k(oe),le&&(F(oe,we),F(oe,~we)),a.arraySet(oe.pending_buf,oe.window,ue,we,oe.pending),oe.pending+=we}(W,Q,te,!0)}u.p=function(W){ee||(function(){var Q,te,ce,oe,ue,we=new Array(16);for(ce=0,oe=0;oe<28;oe++)for(g[oe]=ce,Q=0;Q<1<<A[oe];Q++)x[ce++]=oe;for(x[ce-1]=oe,ue=0,oe=0;oe<16;oe++)for(T[oe]=ue,Q=0;Q<1<<S[oe];Q++)f[ue++]=oe;for(ue>>=7;oe<m;oe++)for(T[oe]=ue<<7,Q=0;Q<1<<S[oe]-7;Q++)f[256+ue++]=oe;for(te=0;te<=p;te++)we[te]=0;for(Q=0;Q<=143;)y[2*Q+1]=8,Q++,we[8]++;for(;Q<=255;)y[2*Q+1]=9,Q++,we[9]++;for(;Q<=279;)y[2*Q+1]=7,Q++,we[7]++;for(;Q<=287;)y[2*Q+1]=8,Q++,we[8]++;for(R(y,287,we),Q=0;Q<m;Q++)o[2*Q+1]=5,o[2*Q]=L(Q,5);D=new O(y,A,257,h,p),E=new O(o,S,0,m,p),C=new O(new Array(0),_,0,19,7)}(),ee=!0),W.l_desc=new I(W.dyn_ltree,D),W.d_desc=new I(W.dyn_dtree,E),W.bl_desc=new I(W.bl_tree,C),W.bi_buf=0,W.bi_valid=0,V(W)},u.m=$,u.h=function(W,Q,te,ce){var oe,ue,we=0;W.level>0?(W.strm.data_type===2&&(W.strm.data_type=function(le){var fe,ve=4093624447;for(fe=0;fe<=31;fe++,ve>>>=1)if(1&ve&&le.dyn_ltree[2*fe]!==0)return 0;if(le.dyn_ltree[18]!==0||le.dyn_ltree[20]!==0||le.dyn_ltree[26]!==0)return 1;for(fe=32;fe<b;fe++)if(le.dyn_ltree[2*fe]!==0)return 1;return 0}(W)),X(W,W.l_desc),X(W,W.d_desc),we=function(le){var fe;for(Z(le,le.dyn_ltree,le.l_desc.max_code),Z(le,le.dyn_dtree,le.d_desc.max_code),X(le,le.bl_desc),fe=18;fe>=3&&le.bl_tree[2*l[fe]+1]===0;fe--);return le.opt_len+=3*(fe+1)+5+5+4,fe}(W),oe=W.opt_len+3+7>>>3,(ue=W.static_len+3+7>>>3)<=oe&&(oe=ue)):oe=ue=te+5,te+4<=oe&&Q!==-1?$(W,Q,te,ce):W.strategy===4||ue===oe?(B(W,2+(ce?1:0),3),H(W,y,o)):(B(W,4+(ce?1:0),3),function(le,fe,ve,pe){var ye;for(B(le,fe-257,5),B(le,ve-1,5),B(le,pe-4,4),ye=0;ye<pe;ye++)B(le,le.bl_tree[2*l[ye]+1],3);J(le,le.dyn_ltree,fe-1),J(le,le.dyn_dtree,ve-1)}(W,W.l_desc.max_code+1,W.d_desc.max_code+1,we+1),H(W,W.dyn_ltree,W.dyn_dtree)),V(W),ce&&k(W)},u.l=function(W,Q,te){return W.pending_buf[W.d_buf+2*W.last_lit]=Q>>>8&255,W.pending_buf[W.d_buf+2*W.last_lit+1]=255&Q,W.pending_buf[W.l_buf+W.last_lit]=255&te,W.last_lit++,Q===0?W.dyn_ltree[2*te]++:(W.matches++,Q--,W.dyn_ltree[2*(x[te]+b+1)]++,W.dyn_dtree[2*M(Q)]++),W.last_lit===W.lit_bufsize-1},u.g=function(W){B(W,2,3),j(W,256,y),function(Q){Q.bi_valid===16?(F(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):Q.bi_valid>=8&&(Q.pending_buf[Q.pending++]=255&Q.bi_buf,Q.bi_buf>>=8,Q.bi_valid-=8)}(W)}},744:N=>{N.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},347:(N,u,n)=>{var a,r;n.d(u,{s:()=>a,S:()=>r}),function(b){b[b.Inport=0]="Inport",b[b.Outport=1]="Outport",b[b.Undefined=2]="Undefined"}(a||(a={})),function(b){b[b.STOPPED=0]="STOPPED",b[b.RUNNING=1]="RUNNING"}(r||(r={}))},676:(N,u,n)=>{n.d(u,{D:()=>a});const a=0},641:(N,u,n)=>{var a;n.d(u,{OM:()=>h,Le:()=>b,nc:()=>r,n_:()=>m}),function(p){p[p.Float32Audio=0]="Float32Audio",p[p.TypedArray=1]="TypedArray"}(a||(a={}));class r{constructor(){this.type=a.TypedArray}serialize(){return{type:this.type}}}class b{constructor(A,S){this.channels=0,this.sampleRate=0,this.type=a.Float32Audio,this.channels=A,this.sampleRate=S}static fromAudioBuffer(A){return new b(A.numberOfChannels,A.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}class h{constructor(A,S){this.buffer=A,this._=S}getAsAudioBuffer(A){if(this._ instanceof b&&this._.channels>0){const l=new Float32Array(this.buffer),y=l.length/this._.channels,o=A.createBuffer(this._.channels,y,this._.sampleRate);for(let f=0;f<this._.channels;f++){const x=o.getChannelData(f);for(let g=0,D=x.length;g<D;g++)x[g]=l[g*o.numberOfChannels+f]}return o}const S=new Float32Array(this.buffer),_=A.createBuffer(1,S.length,A.sampleRate);return _.copyToChannel(S,0),_}}const m=p=>{switch(p.type){case a.Float32Audio:return new b(p.channels,p.sampleRate);case a.TypedArray:return new r;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${p.type}`)}}},191:(N,u,n)=>{n.d(u,{v:()=>m});var a=n(163),r=n(347),b=n(389),h=n(133);class m{constructor(){this.I=0,this.M=44100,this.A=64,this.outgoingEvent=new b.BM,this.parameterChangeEvent=new b.BM,this.B=this.sampsToMs(this.A)}static getNonConversionObject(){return{applyStepsToNormalizedParameterValue:function(A){return A},convertToNormalizedParameterValue:function(A){return A},convertFromNormalizedParameterValue:function(A){return A},getNumParameters:function(){return 0},constrainParameterValue:function(A){return A},isPolyphonic:!1,subpatches:[]}}static deserializeConversion(A){if(A){const S={},_=Object.keys(A);for(let l=0;l<_.length;l++){const y=_[l];if(y==="subpatches"){const o=Object.keys(A.subpatches);for(let f=0;f<o.length;f++){const x=o[f],g=A.subpatches[x],D=m.deserializeConversion(g);g.isPolyphonic?S[x]=[D]:S[x]=D}}else S[y]=h.evalFunction(A[y])}return S}return this.getNonConversionObject()}getSampleRate(){return this.M}getSamplesPerBlock(){return this.A}sampsToMs(A){return A/this.M*1e3}getNumInputChannels(){return this.T?this.T.numInputChannels:0}getNumOutputChannels(){return this.T?this.T.numOutputChannels:0}getNumMIDIInputPorts(){return this.T?this.T.numMidiInputPorts:0}getNumMIDIOutputPorts(){return this.T?this.T.numMidiOutputPorts:0}getNumParameters(){return this.T?this.T.numParameters:0}getNumSignalInParameters(){return this.T?this.T.numSignalInParameters:0}getNumSignalOutParameters(){return this.T?this.T.numSignalOutParameters:0}getPatcherSerial(){return this.T!==void 0?this.T.patcherSerial:0}getParameterName(A){if(!this.T||A>=this.T.parameters.length)throw new Error(`Parameter index ${A} out of bounds.`);return this.T.parameters[A].name}getParameterId(A){if(!this.T||A>=this.T.parameters.length)throw new Error(`Parameter index ${A} out of bounds.`);return this.T.parameters[A].paramId}getParameterToNormalizedFunction(A){return S=>this.P.convertToNormalizedParameterValue(A,S)}getParameterFromNormalizedFunction(A){return S=>this.P.convertFromNormalizedParameterValue(A,S)}constrainParameterValue(A){return S=>this.P.constrainParameterValue(A,S)}getParameterInfo(A){if(!this.T||A>=this.T.parameters.length)throw new Error(`Parameter index ${A} out of bounds.`);const S=this.T.parameters[A];let _,l;switch(S.type){case"ParameterTypeBang":l=h.ParameterTypeBang;break;case"ParameterTypeCount":l=h.ParameterTypeCount;break;case"ParameterTypeList":l=h.ParameterTypeList;break;case"ParameterTypeNumber":l=h.ParameterTypeNumber;break;case"ParameterTypeSignal":l=h.ParameterTypeSignal;break;default:throw new Error(`Unknown Parameter Type from patcher description ${S.type}`)}switch(S.ioType){case"IOTypeInput":_=h.IOTypeInput;break;case"IOTypeOutput":_=h.IOTypeOutput;break;case"IOTypeUndefined":_=h.IOTypeUndefined;break;default:throw new Error(`Unknown Parameter IOType from patcher description ${S.type}`)}return{displayName:S.displayName,enumValues:S.enumValues,exponent:S.exponent,id:S.paramId,index:A,initialValue:S.initialValue,ioType:_,isEnum:S.isEnum,max:S.maximum,min:S.minimum,name:S.name,signalIndex:S.signalIndex,steps:S.steps,type:l,unit:S.unit,visible:S.visible}}getNumExternalDataRefs(){return this.T!==void 0?this.T.externalDataRefs.length:0}getExternalDataId(A){return this.T!==void 0?this.T.externalDataRefs[A].id:""}getExternalDataRefIds(){let A;return this.T&&(A=[],Object.keys(this.T.externalDataRefs).forEach(S=>{let _=this.T.externalDataRefs[S];A.push(_.id)})),A}getExternalDataRefInfos(){return this.T!==void 0?this.T.externalDataRefs:[]}getNumMessages(){return this.T!==void 0?this.T.inports.length+this.T.outports.length:0}getMessageInfos(){let A=[];return this.T!==void 0&&(Object.keys(this.T.outports).forEach(S=>{A.push({tag:this.T.outports[S].tag,type:r.s.Outport,meta:this.T.outports[S].meta})}),Object.keys(this.T.inports).forEach(S=>{A.push({tag:this.T.inports[S].tag,type:r.s.Inport,meta:this.T.inports[S].meta})})),A}removeAllSubscriptions(){this.outgoingEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}setPatcherDesc(A){return(0,a.mG)(this,void 0,void 0,function*(){this.T=A,this.P=m.deserializeConversion(this.T.paramConversion)})}}},916:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>WASMEngine});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(163),_baseEngine__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(191),_wasmHelper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(158),_event__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(555);class WASMEngine extends _baseEngine__WEBPACK_IMPORTED_MODULE_0__.v{getCurrentTime(){return this.R.getCurrentTime()}setCurrentTime(N){this.R.isReady()&&this.R.setCurrentTime(N)}prepareToProcess(N,u,n){(n||N!==this.M||u!==this.A)&&this.R.prepareToProcess(N,u)}process(N,u,n,a,r,b,h){this.R.process(N,u,n,a,r)}scheduleMidiEvent(N,u){this.scheduleEvent(new _event__WEBPACK_IMPORTED_MODULE_2__.Ym(this.I,N,u))}handleParameterEvent(N){this.parameterChangeEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.DB(N.time,N.index,N.value,N.source))}handleMidiEvent(N){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.Ym(N.time,N.port,[N.b1,N.b2,N.b3],void 0))}handleMessageEvent(N){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.f3(N.time,this.R.resolveTag(N.tag),N.type===0?N.numValue:N.type===1?this.R.retrieveArray(N.listValue):void 0,this.R.resolveTag(N.objectId)))}handlePresetEvent(N){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.bt(N.time,_event__WEBPACK_IMPORTED_MODULE_2__.l0.Touched))}getParameterValue(N){return this.R.getParameterValue(N)}get isSync(){return!0}scheduleEvent(N){this.R.scheduleEvent(N)}setPatcherCode(code){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){return new Promise((resolve,reject)=>{let restoredRnboModule;const restoredWASM=code+"restoredRnboModule = rnbo_module;";eval(restoredWASM),restoredRnboModule().then(N=>(delete N.then,this.R=new _wasmHelper__WEBPACK_IMPORTED_MODULE_1__.z(this,N),resolve()))})})}setExternalData(N,u,n){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){this.R.setExternalData(N,u,n)})}releaseExternalData(N){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){const[u,n]=this.R.releaseExternalData(N);return{data:u,typeDesc:n}})}getPreset(){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){return JSON.parse(this.R.getPreset())})}setPreset(N){this.R.setPreset(JSON.stringify(N))}}},158:(N,u,n)=>{n.d(u,{z:()=>h});var a=n(641),r=n(555),b=n(856);class h{constructor(p,A){this.O=0,this.C=0,this.N=!1,this.k=new b.aO,this.U=A;let S=new this.U.CoreObject;this.j=S;let _={handleParameterEvent:p.handleParameterEvent.bind(p),handleMidiEvent:p.handleMidiEvent.bind(p),handleMessageEvent:p.handleMessageEvent.bind(p),handlePresetEvent:p.handlePresetEvent.bind(p)},l=this.U.EventHandler.implement(_);this.F=S.createParameterInterface(l);for(let y=0;y<S.getNumParameters();y++){let o=S.getParameterInfo(y);this.k.addParam(o,S.getParameterName(y))}this.O=S.getNumInputChannels()+S.getNumSignalInParameters(),this.C=S.getNumOutputChannels(),this.N=!0}isReady(){return this.N}pushArray(p){let A=this.j.getArrayPassingHEAP(p.length);return this.U.HEAPF64.set(p,A>>3),A}retrieveArray(p){let A=[];for(let S=0;S<p.size();S++)A.push(p.get(S));return A}setExternalData(p,A,S){const _=new Uint8Array(A),l=this.j.getNewMemoryBuffer(_.byteLength);this.U.HEAPU8.set(_,l),S instanceof a.Le?this.j.setExternalAudioBuffer(p,l,_.byteLength,S.channels,S.sampleRate):S instanceof a.nc&&this.j.setExternalUntypedBuffer(p,l,_.byteLength)}releaseExternalData(p){let A,S=this.j.getDataRefIndex(p),_=this.j.getDataRefType(S),l=this.j.getDataRefData(S),y=new Uint8Array(l.sizeInBytes);return y.set(this.U.HEAPU8.subarray(l.data,l.data+l.sizeInBytes)),A=_.type==1?new a.Le(_.channels,_.sampleRate):new a.nc,this.j.releaseDataRef(S),[y.buffer,A]}getCurrentTime(){return this.j.getCurrentTime()}setCurrentTime(p){this.j.setCurrentTime(p)}prepareToProcess(p,A){this.j.prepareToProcess(p,A)}process(p,A,S,_,l,y){let o=0,f=0;for(let x=0;x<A&&o<this.O;x++){let g=p[x],D=this.j.getInputChannel(o);this.U.HEAPF64.set(g,D>>3),o++}if(y)for(let x=o;x<this.O;x++){let g=this.k.getParamName(x);if(g!==void 0){let D=this.j.getInputChannel(x);this.U.HEAPF64.set(this.k.getParamArray(x,y[g],l),D>>3),o++}}this.j.process(o,this.C,l);for(let x=0;x<_&&f<this.C;x++){let g=S[x],D=this.j.getOutputChannel(f)>>3;g.set(this.U.HEAPF64.subarray(D,D+g.length)),f++}}resolveTag(p){return this.j.resolveTag(p)}scheduleEvent(p){p.type===r.m5.MIDIEvent?this.j.scheduleMidiEvent(p.time,p.port,p.data[0],p.data[1],p.data[2]):p.type===r.m5.ParameterEvent?this.j.scheduleParameterEvent(p.target,p.time,p.value,p.source):p.type===r.m5.MessageEvent?Array.isArray(p.payload)?this.j.sendListMessage(p.tag,p.objectId,this.pushArray(p.payload),p.payload.length,p.time):typeof p.payload=="number"?this.j.sendNumMessage(p.tag,p.objectId,p.payload,p.time):p.payload===void 0&&this.j.sendBangMessage(p.tag,p.objectId,p.time):p.type===r.m5.TransportEvent?this.j.scheduleTransportEvent(p.time,p.state):p.type===r.m5.TempoEvent?this.j.scheduleTempoEvent(p.time,p.tempo):p.type===r.m5.BeatTimeEvent?this.j.scheduleBeatTimeEvent(p.time,p.beattime):p.type===r.m5.TimeSignatureEvent&&this.j.scheduleTimeSignatureEvent(p.time,p.numerator,p.denominator)}getNumParameters(){return this.j.getNumParameters()}getParameterValue(p){return this.j.getParameterValue(p)}numIns(){return this.O}numOuts(){return this.C}getPreset(){return this.j.getPreset()}setPreset(p){this.j.setPreset(p)}}},555:(N,u,n)=>{n.d(u,{j4:()=>p,J0:()=>g,J9:()=>A,Lk:()=>S,VH:()=>r,m5:()=>a,Ym:()=>l,f3:()=>_,DB:()=>y,bt:()=>o,l0:()=>b,j6:()=>E,gs:()=>x,QU:()=>D,cr:()=>f,gA:()=>h,f4:()=>C});var a,r,b,h,m=n(676);(function(T){T[T.BufferTransfer=0]="BufferTransfer",T[T.ClockEvent=1]="ClockEvent",T[T.DataRefEvent=2]="DataRefEvent",T[T.MessageEvent=3]="MessageEvent",T[T.MIDIEvent=4]="MIDIEvent",T[T.ParameterEvent=5]="ParameterEvent",T[T.PresetEvent=6]="PresetEvent",T[T.StartupEvent=7]="StartupEvent",T[T.TransportEvent=8]="TransportEvent",T[T.TempoEvent=9]="TempoEvent",T[T.BeatTimeEvent=10]="BeatTimeEvent",T[T.TimeSignatureEvent=11]="TimeSignatureEvent"})(a||(a={}));class p{constructor(O=m.D,I){this.invalid=!1,this.time=O,this.eventTarget=I}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}class A extends p{constructor(O,I,M,F){super(O,F),this.type=a.ClockEvent,this.clockIndex=I,this.value=M}get hasValue(){return this.value!==void 0}serialize(){return Object.assign(super.serialize(),{clockIndex:this.clockIndex,type:this.type,value:this.value})}}(function(T){T[T.Update=1]="Update"})(r||(r={}));class S extends p{constructor(O,I,M,F){super(O,F),this.type=a.DataRefEvent,this.dataRefIndex=I,this.action=M}serialize(){return Object.assign(super.serialize(),{action:this.action,dataRefIndex:this.dataRefIndex,type:this.type})}}class _ extends p{constructor(O,I,M,F="",B){super(O,B),this.type=a.MessageEvent,this.objectId=F,this.tag=I,this.payload=M}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class l extends p{constructor(O,I,M,F){if(super(O,F),this.type=a.MIDIEvent,M.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${M.length}`);if(this.data=M,this.data.length<3){const j=M.length;this.data.length=3,this.data=this.data.fill(void 0,j,3)}let B=0;for(let j=0;j<3;j++)M[j]!==void 0&&B++;if(B<1)throw new Error("MIDIData must at least have the first byte set.");this.length=B,this.status=240&M[0],this.channel=15&M[0],this.port=I}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class y extends p{constructor(O,I,M,F,B){super(O,B),this.type=a.ParameterEvent,this.target=I,this.value=M,this.source=F}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}(function(T){T[T.Set=1]="Set",T[T.Touched=2]="Touched"})(b||(b={}));class o extends p{constructor(O,I,M){super(O,void 0),this.type=a.PresetEvent,this.action=I,this.preset=M}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}class f extends p{constructor(O,I){super(O,void 0),this.type=a.TransportEvent,this.state=I}serialize(){return Object.assign(super.serialize(),{state:this.state,type:this.type})}}class x extends p{constructor(O,I){super(O,void 0),this.type=a.TempoEvent,this.tempo=I}serialize(){return Object.assign(super.serialize(),{tempo:this.tempo,type:this.type})}}class g extends p{constructor(O,I){super(O,void 0),this.type=a.BeatTimeEvent,this.beattime=I}serialize(){return Object.assign(super.serialize(),{beattime:this.beattime,type:this.type})}}class D extends p{constructor(O,I,M){super(O,void 0),this.type=a.TimeSignatureEvent,this.numerator=I,this.denominator=M}serialize(){return Object.assign(super.serialize(),{numerator:this.numerator,denominator:this.denominator,type:this.type})}}(function(T){T[T.BEGIN=0]="BEGIN",T[T.END=1]="END"})(h||(h={}));class E extends p{constructor(O,I){super(O,void 0),this.type=a.StartupEvent,this.phase=I}serialize(){return Object.assign(super.serialize(),{phase:this.phase,type:this.type})}}const C=T=>{switch(T.type){case a.ClockEvent:return new A(T.time,T.clockIndex,T.value,T.eventTarget);case a.DataRefEvent:return new S(T.time,T.dataRefIndex,T.action,T.eventTarget);case a.MessageEvent:return new _(T.time,T.tag,T.payload,T.objectId,T.eventTarget);case a.MIDIEvent:return new l(T.time,T.port,T.data,T.eventTarget);case a.ParameterEvent:return new y(T.time,T.target,T.value,T.source,T.eventTarget);case a.PresetEvent:return new o(T.time,T.action,T.preset);case a.TransportEvent:return new f(T.time,T.state);case a.TempoEvent:return new x(T.time,T.tempo);case a.BeatTimeEvent:return new g(T.time,T.beattime);case a.TimeSignatureEvent:return new D(T.time,T.numerator,T.denominator);case a.StartupEvent:return new E(T.time,T.phase);default:throw new Error(`Unable to deserialize RNBOEvent of type ${T.type}`)}}},400:(N,u,n)=>{var a,r;n.d(u,{r:()=>a,E:()=>r}),function(b){b[b.Number=0]="Number",b[b.Bang=1]="Bang",b[b.List=2]="List",b[b.Signal=3]="Signal",b[b.Count=4]="Count",b[b.Enum=5]="Enum"}(a||(a={})),function(b){b[b.All=0]="All",b[b.Internal=1]="Internal"}(r||(r={}))},856:(N,u,n)=>{n.d(u,{jN:()=>p,IR:()=>b,V2:()=>m,BX:()=>h,EX:()=>a.E,rH:()=>a.r,aO:()=>_,zT:()=>S});var a=n(400),r=n(389);function b(l){return class extends l{constructor(...y){super(),this.changeEvent=new r.BM,this.L=new r.BM;const o=y[0];this.X=o.notificationSetting,this.convertFromNormalizedValue=o.scaling.convertFromNormalized,this.convertToNormalizedValue=o.scaling.convertToNormalized,this.constrainParameterValue=o.scaling.constrainParameterValue,this.initialValue=o.initialValue,this.V=o.initialValue,this.displayName=o.displayName||o.name,this.exponent=o.exponent,this.id=o.id,this.index=o.index,this.min=o.min,this.max=o.max,this.name=o.name,this.steps=o.steps,this.unit=o.unit||""}get notificationSetting(){return this.X}get normalizedValue(){return this.convertToNormalizedValue(this.V)}set normalizedValue(y){this.q(this.convertFromNormalizedValue(y))}$(y){this.X=y}q(y){y=this.constrainParameterValue(y),this.V!==y&&(this.V=y,this.L.emit(this),this.notificationSetting===a.E.All&&this.changeEvent.emit(y))}W(y){this.V=y,this.changeEvent.emit(y)}}}class h extends b(Object){constructor(y){super(y),this.type=a.r.Number}get value(){return this.V}set value(y){this.q(y)}}class m extends b(Object){constructor(y){super(y),this.type=a.r.Enum,this.G=y.enumValues}get enumValues(){return this.G.slice()}get enumValue(){return this.G[this.value]}set enumValue(y){const o=this.G.indexOf(y);if(o<0)throw new Error(`Invalid EnumValue. ${y} is not an available value on the enum parameter ${this.name}`);this.value=o}get value(){return this.V}set value(y){this.q(y)}}class p extends b(Object){constructor(){super(...arguments),this.type=a.r.Bang}get isActive(){return this.V===1}bang(){this.q(1)}}var A=n(133);const S=(l,y,o,f)=>l.type===a.r.Number&&l.enumValues.length?new m(Object.assign(Object.assign({},l),{scaling:f,index:y,notificationSetting:o})):l.type===a.r.Bang?new p(Object.assign(Object.assign({},l),{scaling:f,index:y,notificationSetting:o})):(l.type,a.r.Number,new h(Object.assign(Object.assign({},l),{scaling:f,index:y,notificationSetting:o})));class _{constructor(){this.K={},this.Y=new Float32Array(128)}addParam(y,o){y.type==A.ParameterTypeSignal&&y.ioType===A.IOTypeInput&&(this.K[y.signalIndex]={name:o,param:new Float32Array(128)})}getParamName(y){let o=this.K[y];return o!==void 0?o.name:void 0}getParamArray(y,o,f){if(o.length==f)return o;{let x=this.K[y];return x.param.length!=f&&(x.param=new Float32Array(f)),x.param.fill(o[0])}}}},389:(N,u,n)=>{n.d(u,{f8:()=>a,e1:()=>r,I7:()=>b,EL:()=>m,BM:()=>A});const a=(()=>{try{if(typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function"){const S=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(S instanceof WebAssembly.Module)return new WebAssembly.Instance(S)instanceof WebAssembly.Instance}}catch{}return!1})();class r{fromRNBOtime(_){return .001*_}toRNBOtime(_){return 1e3*_}}const b=typeof isSecureContext<"u"&&isSecureContext&&typeof AudioWorkletNode<"u";let h=Math.pow(10,4);const m=()=>(h>=Number.MAX_SAFE_INTEGER&&(h=Math.pow(10,4)),parseInt(`${Date.now().toString(10).slice(-3)}${(h++).toString(10).slice(-4)}`,10)),p=S=>S.slice();class A{constructor(){this.Z=[],this.H=[]}get listenerCount(){return this.Z.length+this.H.length}emit(_){if(this.Z.length){const l=p(this.Z);for(let y=0,o=l.length;y<o;y++)l[y](_)}if(this.H.length){const l=p(this.H);for(let y=0,o=l.length;y<o;y++)l[y](_);l.forEach(y=>this.unsubscribe(y))}}once(_){return this.H.push(_),{unsubscribe:()=>this.unsubscribe(_)}}subscribe(_){return this.Z.push(_),{unsubscribe:()=>this.unsubscribe(_)}}unsubscribe(_){const l=this.Z.indexOf(_);l>=0&&this.Z.splice(l,1);const y=this.H.indexOf(_);y>=0&&this.H.splice(y,1)}removeAllSubscriptions(){this.Z=[],this.H=[]}}},163:(N,u,n)=>{function a(r,b,h,m){return new(h||(h=Promise))(function(p,A){function S(y){try{l(m.next(y))}catch(o){A(o)}}function _(y){try{l(m.throw(y))}catch(o){A(o)}}function l(y){var o;y.done?p(y.value):(o=y.value,o instanceof h?o:new h(function(f){f(o)})).then(S,_)}l((m=m.apply(r,b||[])).next())})}n.d(u,{mG:()=>a})},264:N=>{N.exports={src:[{code:'class RNBOPatcher{constructor(){this._currentTime=0,this.audioProcessSampleCount=0,this.sampleOffsetIntoNextAudioBuffer=0,this.vs=0,this.maxvs=0,this.sr=44100,this.invsr=2267573696e-14,this.zeroBuffer=0,this.dummyBuffer=0,this.voiceIndex=0,this.noteNumber=0}getParameterIndexForID(e){return-1}getNumMidiInputPorts(){return 0}processMidiEvent(e,t,s,r){this.updateTime(e)}getNumMidiOutputPorts(){return 0}process(e,t,s,r,i){this.vs=i,this.updateTime(this.getEngine().getCurrentTime()),this.audioProcessSampleCount=this.msToSamps(this._currentTime,this.sr)}prepareToProcess(e,t){this.vs=t,this.maxvs=t,this.zeroBuffer=resizeSignal(this.zeroBuffer,0,t),this.dummyBuffer=resizeSignal(this.dummyBuffer,0,t),this.sr=e,this.invsr=1/e}msToSamps(e,t){return rnbo_floor(e*t*.001)}sampsToMs(e){return e*(1e3*this.invsr)}getNumInputChannels(){return 0}getNumOutputChannels(){return 0}getDataRef(e){return 0}getNumDataRefs(){return 0}fillDataRef(e,t){e}processDataViewUpdate(e,t){this.updateTime(t)}initialize(e){this.assign_defaults(),this.setState(e),this.initializeObjects(e),this.allocateDataRefs(),this.startup(e)}initializeObjects(e){}allocateDataRefs(){}startup(e){}setIsMuted(e){}getPatcherSerial(){return 7}getState(e){e[eventTargetKey]=this,e[patcherSerialKey]=this.getPatcherSerial(),e.p7=1,e.p7_noteNumber=this.noteNumber}setState(e){e[patcherSerialKey]==this.getPatcherSerial()&&(containsValue(e[eventTargetKey])&&this.getEngine().updatePatcherEventTarget(e[eventTargetKey],this),containsValue(e.p7_noteNumber)&&(this.noteNumber=e.p7_noteNumber))}setParameterValue(e,t,s){this.updateTime(s)}processParameterEvent(e,t,s){this.setParameterValue(e,t,s)}processNormalizedParameterEvent(e,t,s){this.setParameterValueNormalized(e,t,s)}getParameterValue(e){return 0}getNumSignalInParameters(){return 0}getNumParameters(){return 0}getParameterName(e){return"bogus"}getParameterId(e){return"bogus"}getParameterInfo(e,t){e}sendParameter(e){this.getEngine().notifyParameterValueChanged(e,this.getParameterValue(e))}processClockEvent(e,t,s,r){this.updateTime(e)}processOutletAtCurrentTime(e,t,s){}processOutletEvent(e,t,s,r){this.updateTime(r),this.processOutletAtCurrentTime(e,t,s)}sendOutlet(e,t){this.getEngine().sendOutlet(this,e,t)}schedule(e,t){this.getEngine().scheduleClockEvent(this,e,t+this._currentTime)}scheduleValue(e,t,s){this.getEngine().scheduleClockEventWithValue(this,e,t+this._currentTime,s)}stop(e){this.getEngine().flushClockEvents(this,e,!1)}stopWithValue(e,v){this.getEngine().flushClockEventsWithValue(this,e,v,!1)}processNumMessage(e,o,t,s){this.updateTime(t)}processListMessage(e,o,t,s){this.updateTime(t)}resolveTag(e){return""}sendMidiEvent(e,t,s,r){this.getEngine().sendMidiEvent(e,t,s,r)}sendMidiEventList(e,t){this.getEngine().sendMidiEventList(e,t)}updateTime(e){this._currentTime=e,this.sampleOffsetIntoNextAudioBuffer=this.msToSamps(e,this.sr)-this.vs-this.audioProcessSampleCount}assign_defaults(){}setEngineAndPatcher(e,t){this._engineInterface=e,this._parentPatcher=t}getEngine(){return this._engineInterface}getPatcher(){return this._parentPatcher}}rnboObj=new RNBOPatcher;',encoding:"utf-8",type:"js"}],options:{classname:"rnbomatic",minifyOutput:!0},desc:{parameters:[],numParameters:0,numSignalInParameters:0,layouts:[{name:"layout",boxes:[]}],numInputChannels:0,numOutputChannels:0,patcherSerial:0,externalDataRefs:[]}}}},__webpack_module_cache__={};function __webpack_require__(N){var u=__webpack_module_cache__[N];if(u!==void 0)return u.exports;var n=__webpack_module_cache__[N]={exports:{}};return __webpack_modules__[N](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=N=>{var u=N&&N.J?()=>N.default:()=>N;return __webpack_require__.d(u,{a:u}),u},__webpack_require__.d=(N,u)=>{for(var n in u)__webpack_require__.o(u,n)&&!__webpack_require__.o(N,n)&&Object.defineProperty(N,n,{enumerable:!0,get:u[n]})},__webpack_require__.o=(N,u)=>Object.prototype.hasOwnProperty.call(N,u),__webpack_require__.r=N=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"J",{value:!0})};var __webpack_exports__={};return(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BangParameter:()=>h.jN,BaseDevice:()=>x,BaseEvent:()=>p.j4,BeatTimeEvent:()=>p.J0,CommonParameterMixin:()=>h.IR,DataBuffer:()=>r.OM,DeviceType:()=>o,EnumParameter:()=>h.V2,EventSubject:()=>b.BM,EventType:()=>p.m5,MIDIEvent:()=>p.Ym,MessageEvent:()=>p.f3,MessagePortType:()=>a.s,NumberParameter:()=>h.BX,ParameterNotificationSetting:()=>h.EX,ParameterType:()=>h.rH,PresetEvent:()=>p.bt,RNBOPresetEventAction:()=>p.l0,ScriptDevice:()=>B,TempoEvent:()=>p.gs,TimeNow:()=>G.D,TimeSignatureEvent:()=>p.QU,TransportEvent:()=>p.cr,TransportState:()=>a.S,WorkletDevice:()=>U,createDevice:()=>Z,version:()=>H});var N=__webpack_require__(163),u=__webpack_require__(845),n=__webpack_require__.n(u),a=__webpack_require__(347),r=__webpack_require__(641),b=__webpack_require__(389),h=__webpack_require__(856),m=__webpack_require__(400),p=__webpack_require__(555);const A={notificationSetting:m.E.All};class S{constructor(ee){this.tt=new Map,this.et=new Map,this.id=(0,b.EL)(),this.parameterChangeEvent=new b.BM,this.rt=W=>{const Q=this.tt.get(W.target);if(!Q)return;const te=W.value;Q.type!==m.r.Bang&&te===Q.value||(Q.W(te),this.parameterChangeEvent.emit(Q))},this.nt=W=>{const Q=W.index,te=W.type===m.r.Bang?1:W.value,ce=new p.DB(0,Q,te,this.id,void 0);this.it&&this.it.scheduleEvent(ce),this.notificationSetting===m.E.All&&this.parameterChangeEvent.emit(W)};const $=Object.assign({},A,ee);this.X=$.notificationSetting}st(ee){return this.tt.get(ee)||void 0}ot(){for(const ee of this.tt.values())ee.L.removeAllSubscriptions(),ee.changeEvent.removeAllSubscriptions();this.tt.clear(),this.et.clear()}ut(){if(!this.it)throw new Error("Cannot populate ParameterInterface without setting engine first.");this.ot();for(let ee=0,$=this.it.getNumParameters();ee<$;ee++){const W=this.it.getParameterInfo(ee);if(!W||!W.visible)continue;const Q=(0,h.zT)(W,ee,this.notificationSetting,{convertFromNormalized:this.it.getParameterFromNormalizedFunction(ee),convertToNormalized:this.it.getParameterToNormalizedFunction(ee),constrainParameterValue:this.it.constrainParameterValue(ee)});Q.L.subscribe(this.nt),this.tt.set(ee,Q),this.et.set(W.id,Q)}}setEngine(ee){if(this.it)throw new Error("ParamInterface already has an engine, which can't be overridden.");this.it=ee,this.it.parameterChangeEvent.subscribe(this.rt),this.ut()}get notificationSetting(){return this.X}set notificationSetting(ee){for(const $ of this.tt.values())$.$(ee);this.X=ee}get numParameters(){return this.tt.size}get parameters(){return Array.from(this.tt.values())}get parametersById(){return this.et}getParameterName(ee){const $=this.st(ee);return $?$.name:void 0}destroy(){this.it.parameterChangeEvent.unsubscribe(this.rt),this.it=void 0,this.ot(),this.parameterChangeEvent.removeAllSubscriptions()}}var _;function l(J){return J.file!==void 0}function y(J){return J.url!==void 0}(function(J){J[J.AudioBuffer=1]="AudioBuffer",J[J.DataBuffer=2]="DataBuffer",J[J.ReferenceBuffer=3]="ReferenceBuffer"})(_||(_={}));var o,f=__webpack_require__(834).Buffer;(function(J){J.Script="script",J.Worklet="worklet",J.Invalid="invalid"})(o||(o={}));class x{constructor({context:ee,parameterNotificationSetting:$,type:W}){this.ht=!1,this.ft="wasm",this.ct=new b.e1,this.lt=!0,this.midiEvent=new b.BM,this.messageEvent=new b.BM,this.parameterChangeEvent=new b.BM,this.invalidateEvent=new b.BM,this.presetTouchedEvent=new b.BM,this.dt=Q=>{switch(Q.type){case p.m5.ClockEvent:case p.m5.DataRefEvent:case p.m5.StartupEvent:break;case p.m5.MIDIEvent:return void this.midiEvent.emit(Q);case p.m5.MessageEvent:return void this.messageEvent.emit(Q);case p.m5.PresetEvent:if(Q.action==p.l0.Touched)return void this.presetTouchedEvent.emit();default:throw console.error(Q),new Error(`Unknown or unsupported RNBOEvent type "${Q.type}"`)}},this.gt=Q=>{this.parameterChangeEvent.emit(Q)},this._t=ee,this.yt=W,this.F=new S({notificationSetting:$})}vt(){if(this.ht)throw new Error("Error while trying to overwrite immutable patcher of an existing device. Please create a new Device using RNBO.createDevice instead.")}It(ee,$,W){this.it&&this.it.prepareToProcess(ee,$,W)}wt(){if(this.isInvalid)throw new Error("Error: This device has become invalid due to creating a new device from it and is therefore unusable.")}Et(ee){const $=f.from(ee.code,ee.encoding);return ee.compression==="zlib"?n().inflate($.toString("binary"),{to:"string"}):$.toString("utf-8")}get context(){return this.wt(),this._t}get inports(){return this.wt(),this.it.getMessageInfos().filter(ee=>ee.type===a.s.Inport)}get isValid(){return this.lt}get isInvalid(){return!this.lt}get numInputChannels(){return this.wt(),this.it?this.it.getNumInputChannels():0}get numOutputChannels(){return this.wt(),this.it?this.it.getNumOutputChannels():0}get numMIDIInputPorts(){return this.wt(),this.it?this.it.getNumMIDIInputPorts():0}get numMIDIOutputPorts(){return this.wt(),this.it?this.it.getNumMIDIOutputPorts():0}get numParameters(){return this.wt(),this.F.numParameters}get outports(){return this.wt(),this.it.getMessageInfos().filter(ee=>ee.type===a.s.Outport)}get parameters(){return this.wt(),this.F.parameters}get messages(){return this.wt(),this.it.getMessageInfos()}get parametersById(){return this.wt(),this.F.parametersById}get parameterNotificationSetting(){return this.wt(),this.F.notificationSetting}set parameterNotificationSetting(ee){this.wt(),this.F.notificationSetting=ee}get sourceType(){return this.ft}get type(){return this.isInvalid?o.Invalid:this.yt}get dataBufferIds(){return this.it.getExternalDataRefIds()}get dataBufferDescriptions(){return this.it.getExternalDataRefInfos()}setDataBuffer(ee,$,W,Q){return(0,N.mG)(this,void 0,void 0,function*(){if(!this.dataBufferDescriptions.find(oe=>oe.id===ee))throw new Error(`Unknown DataBuffer id. A DataBuffer with the id "${ee}" does not exist within the device.`);let te,ce;if($ instanceof AudioBuffer){ce=r.Le.fromAudioBuffer($);const oe=$.numberOfChannels,ue=new Float32Array($.length*$.numberOfChannels),we=[];for(let le=0;le<oe;le++){const fe=new Float32Array($.length);$.copyFromChannel(fe,le,0),we.push(fe)}for(let le=0;le<oe;le++)for(let fe=0,ve=$.length;fe<ve;fe++)ue[fe*oe+le]=we[le][fe];te=ue.buffer}else{if(!W||W<0||isNaN(W))throw new Error("Invalid channel count. Expecting a numeric value >= 1");if(!Q||Q<0||isNaN(Q))throw new Error("Invalid sample rate. Expecting a numeric value >= 1");te=ArrayBuffer.isView($)?$.buffer.slice(0):$.slice(0),ce=new r.Le(W,Q)}yield this.it.setExternalData(ee,te,ce)})}releaseDataBuffer(ee){return(0,N.mG)(this,void 0,void 0,function*(){if(!this.dataBufferDescriptions.find(Q=>Q.id===ee))throw new Error(`Unknown DataBuffer id. A DataBuffer with the id "${ee}" does not exist within the device.`);const{data:$,typeDesc:W}=yield this.it.releaseExternalData(ee);return new r.OM($,W)})}static fetchAudioData(ee,$){return(0,N.mG)(this,void 0,void 0,function*(){let W=yield fetch(ee),Q=yield W.arrayBuffer();return new Promise((te,ce)=>{$.decodeAudioData(Q,te,ce)})})}static bufferDescriptionHasRemoteURL(ee){return!!y(ee)||!(!l(ee)||!ee.file.startsWith("http:")&&!ee.file.startsWith("https:"))}loadDataBufferDependencies(ee){return(0,N.mG)(this,void 0,void 0,function*(){return Promise.all(ee.map($=>(0,N.mG)(this,void 0,void 0,function*(){try{let W;if(y($)?W=$.url:l($)&&(W=$.file),W){const Q=yield x.fetchAudioData(W,this.context);return this.setDataBuffer($.id,Q),{type:"success",id:$.id}}throw new Error(`Skipping invalid buffer info id: ${$.id}, type: ${$.type}`)}catch(W){return{type:"fail",error:W,id:$.id}}})))})}scheduleEvent(ee){this.wt(),this.it&&this.it.scheduleEvent(ee)}destroy(){this.wt(),this.F.destroy(),this.it&&this.it.removeAllSubscriptions(),this.it=void 0,this.Mt&&this.Mt.disconnect(),this.Mt=void 0,delete this.F,delete this.ct,delete this._t,this.lt=!1,this.invalidateEvent.emit(),this.invalidateEvent.removeAllSubscriptions(),this.messageEvent.removeAllSubscriptions(),this.midiEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}getPreset(){return(0,N.mG)(this,void 0,void 0,function*(){return this.it.getPreset()})}setPreset(ee){return this.it.setPreset(ee)}}var g=__webpack_require__(191),D=__webpack_require__(133);const E=__webpack_require__(264);function C(J,ee){return J.time-ee.time}function T(J){J.sort(C)}class O extends g.v{constructor(){super(),this.At=!1,this.Bt=!1,this.Tt=void 0,this.St=-1,this.Pt=[],this.At=!1,this.setPatcherDesc(E.desc),this.setPatcherCode(E.src[0].code)}Rt(ee){const $=ee.eventTarget||this.Dt;if(ee.time=Math.max(ee.time,this.I),this.Tt=ee,ee.type===p.m5.ParameterEvent){const W=ee;$.setParameterValue(W.target,W.value,ee.time)}else if(ee.type===p.m5.MIDIEvent){const W=ee;$.processMidiEvent(W.time,W.port,W.data,W.length)}else if(ee.type===p.m5.ClockEvent){const W=ee;$.processClockEvent(W.time,W.clockIndex,W.hasValue,W.value)}else if(ee.type===p.m5.DataRefEvent){const W=ee;W.action===p.VH.Update&&$.processDataViewUpdate(W.dataRefIndex,W.time)}else if(ee.type===p.m5.MessageEvent){const W=ee;Array.isArray(W.payload)?$.processListMessage(D.TAG(W.tag),D.TAG(W.objectId),W.time,W.payload):W.payload===void 0?$.processBangMessage(D.TAG(W.tag),D.TAG(W.objectId),W.time):$.processNumMessage(D.TAG(W.tag),D.TAG(W.objectId),W.time,W.payload)}else if(ee.type===p.m5.PresetEvent){const W=ee;W.action===p.l0.Set&&(this.Bt=!0,this.Dt.setPreset(W.time,W.preset),this.Bt=!1)}else if(ee.type===p.m5.TransportEvent){const W=ee;this.Dt.processTransportEvent(W.time,W.state)}else if(ee.type===p.m5.TempoEvent){const W=ee;this.Dt.processTempoEvent(W.time,W.tempo)}else if(ee.type===p.m5.BeatTimeEvent){const W=ee;this.Dt.processBeatTimeEvent(W.time,W.beattime)}else if(ee.type===p.m5.TimeSignatureEvent){const W=ee;this.Dt.processTimeSignatureEvent(W.time,W.numerator,W.denominator)}else if(ee.type===p.m5.StartupEvent){const W=ee;this.Bt=W.phase===p.gA.BEGIN}this.Tt=void 0}getCurrentTime(){return this.I}setCurrentTime(ee){this.I=ee}prepareToProcess(ee,$,W){(W||ee!==this.M||$!==this.A)&&(this.M=ee,this.A=$,this.B=this.sampsToMs(this.A),this.isSync&&this.Dt.prepareToProcess(this.M,this.A))}process(ee,$,W,Q,te,ce,oe){const ue=Math.min($,this.getNumInputChannels()+this.getNumSignalInParameters()),we=Math.min(Q,this.getNumOutputChannels()),le=Math.min(te,this.A);for(this.St=this.I+this.B,this.midiInput!==void 0&&(this.Pt.push.apply(this.Pt,ce),this.At=!0),this.At&&(T(this.Pt),this.At=!1);this.Pt.length>0&&this.Pt[0].time<this.St;)this.Rt(this.Pt.shift());this.Dt.process(ee,ue,W,we,le),this.I=this.St,this.St=-1}scheduleMidiEvent(ee,$){this.scheduleEvent(new p.Ym(this.I,ee,$,this.Dt))}notifyParameterValueChanged(ee,$){let W=this.Tt?this.Tt.source:void 0;this.parameterChangeEvent.emit(new p.DB(this.getCurrentTime(),ee,$,W))}scheduleParameterChange(ee,$,W){this.scheduleEvent(new p.DB(this.getCurrentTime(),ee,$,void 0))}sendNumMessage(ee,$,W){const Q=new p.f3(this.I,this.Dt.resolveTag(ee),W,this.Dt.resolveTag($));this.outgoingEvent.emit(Q)}sendBangMessage(ee,$){const W=new p.f3(this.I,this.Dt.resolveTag(ee),void 0,this.Dt.resolveTag($));this.outgoingEvent.emit(W)}sendListMessage(ee,$,W){const Q=new p.f3(this.I,this.Dt.resolveTag(ee),W,this.Dt.resolveTag($));this.outgoingEvent.emit(Q)}getParameterValue(ee){return this.Dt.getParameterValue(ee)}flushClockEvents(ee,$,W){this.flushClockEventsWithValue(ee,$,void 0,W)}flushClockEventsWithValue(ee,$,W,Q){for(let te=0;te<this.Pt.length;te++)if(this.Pt[te]instanceof p.J9){const ce=this.Pt[te];ce.eventTarget!==ee||ce.clockIndex!==$&&ce.clockIndex!==void 0||W!==void 0&&ce.value!==W||(this.Pt.splice(te,1),Q&&this.Rt(ce),te--)}}deleteClockEvents(ee){this.flushClockEvents(ee,void 0,!1)}scheduleClockEvent(ee,$,W){this.scheduleClockEventWithValue(ee,$,W,void 0)}scheduleClockEventWithValue(ee,$,W,Q){this.scheduleEvent(new p.J9(W,$,Q,ee))}sendMidiEvent(ee,$,W,Q){const te=new p.Ym(this.getCurrentTime(),ee,[$,W,Q],void 0);this.outgoingEvent.emit(te)}sendMidiEventList(ee,$){let W;for(W=2;W<$.length;W+=3)this.sendMidiEvent(ee,$[W-2],$[W-1],$[W]);if(W-=3,W<$.length){var Q=W-$.length;this.sendMidiEvent(ee,$[W],Q>1?$[W+1]:void 0,Q>2?$[W+2]:void 0)}}sendOutlet(ee,$,W){console.log("sendOutlet",ee,$,W)}updatePatcherEventTarget(ee,$){for(let W=0;W<this.Pt.length;W++)this.Pt[W].eventTarget===ee&&(this.Pt[W].eventTarget=$,this.Pt[W].invalid=!1)}rescheduleEventTarget(ee){for(let $=0;$<this.Pt.length;$++)this.Pt[$].eventTarget===ee&&(this.Pt[$].invalid=!1)}isInProcess(){return this.St>-1}sendDataRefUpdated(ee){this.scheduleEvent(new p.Lk(this.getCurrentTime(),ee,p.VH.Update,this.Dt))}get isSync(){return!0}scheduleEvent(ee){this.Pt.push(ee),this.isInProcess()?T(this.Pt):this.At=!0}setPatcherCode(ee){return(0,N.mG)(this,void 0,void 0,function*(){const $={};this.Dt&&this.Dt.getState($),this.Dt=D.deserializeSrc(ee);for(let W=0;W<this.Pt.length;W++)this.Pt[W].eventTarget&&(this.Pt[W].invalid=!0);this.Dt.setEngineAndPatcher(this,null),this.scheduleEvent(new p.j6(this.I,p.gA.BEGIN)),this.Dt.initialize($),this.scheduleEvent(new p.j6(this.I,p.gA.END)),this.Dt.prepareToProcess(this.M,this.A,!0);for(let W=this.Pt.length-1;W>=0;W--)this.Pt[W].invalid&&this.Pt.splice(W,1)})}setExternalData(ee,$,W){return(0,N.mG)(this,void 0,void 0,function*(){const Q=this.Dt.getNumDataRefs();for(let te=0;te<Q;te++){const ce=this.Dt.getDataRef(te);if(ce.name==ee){ce.arrayBuffer=$,W instanceof r.Le&&(ce.channels=W.channels,ce.sampleRate=W.sampleRate),this.sendDataRefUpdated(te);break}}})}releaseExternalData(ee){return(0,N.mG)(this,void 0,void 0,function*(){const $=this.Dt.getNumDataRefs();let W,Q;for(let te=0;te<$;te++){const ce=this.Dt.getDataRef(te);if(ce.name==ee){W=ce.arrayBuffer,ce.arrayBuffer=new ArrayBuffer(0),ce.channels?(Q=new r.Le(ce.channels,ce.sampleRate),ce.channels=0,ce.sampleRate=0):Q=new r.nc,this.sendDataRefUpdated(te);break}}if(!W)throw new Error(`Invalid DataBuffer. No DataBuffer with id ${ee} found.`);return{data:W,typeDesc:Q}})}getPreset(){return(0,N.mG)(this,void 0,void 0,function*(){let ee={};return this.Dt.getPreset(ee),ee})}setPreset(ee){this.scheduleEvent(new p.bt(this.I,p.l0.Set,ee))}presetTouched(){this.Bt||this.outgoingEvent.emit(new p.bt(this.I,p.l0.Touched,void 0))}}var I,M,F=__webpack_require__(916);class B extends x{constructor({bufferSize:ee=1024,context:$,parameterNotificationSetting:W},Q){super({context:$,parameterNotificationSetting:W,type:o.Script}),this.bufferSize=ee,this.it=Q&&Q.sourceType!=="wasm"?Q.it:void 0}Ot(ee){const $=[],W=[],Q=ee.inputBuffer,te=ee.outputBuffer,ce=Q?Q.numberOfChannels:0,oe=te?te.numberOfChannels:0;for(let ue=0;ue<Math.max(ce,oe);ue++)ue<ce&&($[ue]=Q.getChannelData(ue)),ue<oe&&(W[ue]=te.getChannelData(ue));this.Ct(1e3*ee.playbackTime),this.It(ee.outputBuffer.sampleRate,this.bufferSize,!1),this.Nt($,ce,W,oe,this.bufferSize,null,null)}Nt(ee,$,W,Q,te,ce,oe){this.it&&this.it.process(ee,$,W,Q,te,ce||void 0,oe||void 0)}Ct(ee){this.it&&this.it.setCurrentTime(ee)}get node(){return this.wt(),this.Mt}setPatcher(ee,$){return(0,N.mG)(this,void 0,void 0,function*(){this.vt(),this.it||(this.it=$.type==="wasm"?new F.s:new O),this.ft=$.type,yield this.it.setPatcherDesc(ee),yield this.it.setPatcherCode(this.Et($)),this.F.setEngine(this.it),this.F.parameterChangeEvent.subscribe(this.gt),this.it.outgoingEvent.subscribe(this.dt),this.Mt=this.context.createScriptProcessor(this.bufferSize,this.numInputChannels,Math.max(this.numOutputChannels,1)),this.node.onaudioprocess=this.Ot.bind(this)})}}(function(J){J[J.LoadPatcher=0]="LoadPatcher",J[J.ScheduleEvent=1]="ScheduleEvent",J[J.TransferBuffer=2]="TransferBuffer",J[J.ReleaseBuffer=3]="ReleaseBuffer",J[J.SetPreset=4]="SetPreset",J[J.GetPreset=5]="GetPreset"})(I||(I={})),function(J){J[J.LoadPatcherFinished=1e3]="LoadPatcherFinished",J[J.OutgoingEvent=1002]="OutgoingEvent",J[J.ReleasedBuffer=1003]="ReleasedBuffer",J[J.TransferBufferFinished=1004]="TransferBufferFinished",J[J.GetPresetResponse=1005]="GetPresetResponse"}(M||(M={}));class j extends g.v{constructor(){super(),this.kt=new b.BM,this.xt=new b.BM,this.Ut=ee=>{if(ee.id!==M.OutgoingEvent||ee.payload.type!==p.m5.ParameterEvent)if(ee.id!==M.OutgoingEvent){if(ee.id!==M.LoadPatcherFinished&&ee.id!==M.TransferBufferFinished&&ee.id!==M.ReleasedBuffer&&ee.id!==M.GetPresetResponse)throw new Error(`Unhandled RNBOProcessor event with type ${ee.id}`)}else this.outgoingEvent.emit(ee.payload);else this.parameterChangeEvent.emit(ee.payload)},this.kt.subscribe(this.Ut)}get eventSubjects(){return{fromProcessorEvent:this.kt,toProcessorEvent:this.xt}}notifyParameterValueChanged(ee,$,W,Q){this.parameterChangeEvent.emit(new p.DB(ee,$,W,Q,void 0))}prepareToProcess(ee,$,W){}process(ee,$,W,Q,te,ce,oe){throw new Error}get isSync(){return!1}scheduleEvent(ee){this.xt.emit({id:I.ScheduleEvent,payload:ee})}setExternalData(ee,$,W){return new Promise((Q,te)=>{const ce=this.kt.subscribe(oe=>{oe.id===M.TransferBufferFinished&&oe.payload.memoryId===ee&&(ce.unsubscribe(),Q())});this.xt.emit({id:I.TransferBuffer,payload:{memoryId:ee,data:$,typeDesc:W}})})}releaseExternalData(ee){return new Promise(($,W)=>{const Q=this.kt.subscribe(te=>{te.id===M.ReleasedBuffer&&te.payload.memoryId===ee&&(Q.unsubscribe(),$({data:te.payload.data,typeDesc:(0,r.n_)(te.payload.typeDesc)}))});this.xt.emit({id:I.ReleaseBuffer,payload:{memoryId:ee}})})}getPreset(){return(0,N.mG)(this,void 0,void 0,function*(){return new Promise((ee,$)=>{const W=this.kt.subscribe(Q=>{Q.id===M.GetPresetResponse&&(W.unsubscribe(),ee(Q.payload.preset))});this.xt.emit({id:I.GetPreset})})})}setPreset(ee){this.xt.emit({id:I.SetPreset,payload:{preset:ee}})}setPatcherCode(ee){return(0,N.mG)(this,void 0,void 0,function*(){})}}const L=()=>{if(!b.I7)throw new Error("Missing AudioWorklet Support");return class extends AudioWorkletNode{constructor(J,ee,$,W){super(J,ee,W),this.jt=Q=>{const[te,ce]=Q.data;if(te!==M.OutgoingEvent)if(te!==M.LoadPatcherFinished)if(te!==M.TransferBufferFinished)if(te!==M.ReleasedBuffer){if(te!==M.GetPresetResponse)throw new Error(`Unable to handle received processor message of type ${te}`);this.zt.fromProcessorEvent.emit({id:te,payload:ce})}else this.zt.fromProcessorEvent.emit({id:te,payload:ce});else this.zt.fromProcessorEvent.emit({id:te,payload:ce});else this.zt.fromProcessorEvent.emit({id:te,payload:ce});else this.zt.fromProcessorEvent.emit({id:te,payload:(0,p.f4)(ce)})},this.Ft=Q=>{Q.id!==I.ScheduleEvent?Q.id!==I.TransferBuffer?Q.id!==I.ReleaseBuffer?Q.id!==I.GetPreset?Q.id!==I.SetPreset||this.port.postMessage([Q.id,{preset:Q.payload.preset}]):this.port.postMessage([Q.id]):this.port.postMessage([Q.id,{memoryId:Q.payload.memoryId}]):this.port.postMessage([Q.id,{data:Q.payload.data,memoryId:Q.payload.memoryId,typeDesc:Q.payload.typeDesc.serialize()}],[Q.payload.data]):this.port.postMessage([Q.id,Q.payload.serialize()])},this.zt=$,this.zt.toProcessorEvent.subscribe(this.Ft),this.port.onmessage=this.jt,this.port.start()}loadPatcher(){return(0,N.mG)(this,void 0,void 0,function*(){return new Promise(J=>{const ee=this.zt.fromProcessorEvent.subscribe($=>{$.id===M.LoadPatcherFinished&&(ee.unsubscribe(),J())});this.port.postMessage([I.LoadPatcher])})})}}};var R=__webpack_require__(834).Buffer;const V=__webpack_require__(264),k={js:'(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{var Float32Buffer=__webpack_require__(852).Float32Buffer,Float64Buffer=__webpack_require__(852).Float64Buffer,Float32MultiBuffer=__webpack_require__(852).Float32MultiBuffer,Float64MultiBuffer=__webpack_require__(852).Float64MultiBuffer,IntBuffer=__webpack_require__(852).IntBuffer,UInt8Buffer=__webpack_require__(852).UInt8Buffer,ExternalLoaderFactory=__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var patcherSerialKey="XX__PatcherSerialKey__XX",eventTargetKey="XX__EventTargetKey__XX",ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2,INVALID_INDEX=Number.MAX_SAFE_INTEGER;function rand01(){return Math.random()}function pi01(){return Math.PI}var rnbo_abs=Math.abs,rnbo_fabs=Math.abs,rnbo_acos=Math.acos,rnbo_acosh=Math.acosh,rnbo_asin=Math.asin,rnbo_asinh=Math.asinh,rnbo_atan=Math.atan,rnbo_atan2=Math.atan2,rnbo_atanh=Math.atanh,rnbo_cbrt=Math.cbrt,rnbo_ceil=Math.ceil,rnbo_cos=Math.cos,rnbo_cosh=Math.cosh,rnbo_exp=Math.exp,rnbo_expm1=Math.expm1,rnbo_floor=Math.floor,rnbo_fround=Math.round,rnbo_imul=Math.imul,rnbo_log=Math.log,rnbo_log10=Math.log10,rnbo_log1p=Math.log1p,rnbo_log2=Math.log2,rnbo_pow=Math.pow,rnbo_round=rnbo_fround,rnbo_sign=Math.sign,rnbo_sin=Math.sin,rnbo_sinh=Math.sinh,rnbo_sqrt=Math.sqrt,rnbo_tan=Math.tan,rnbo_tanh=Math.tanh,trunc=Math.trunc,rnbo_trunc=Math.trunc,rnbo_number_max=()=>Math.MAX_VALUE,rnbo_isnan=isNaN;function fixnan(t){return isNaN(t)?0:t}function fract(t){return t%1}function fixdenorm(t){return t}function isdenorm(t){return!1}var fastsin=Math.sin,fastcos=Math.cos,fastexp=Math.exp,fastpow=Math.pow,fasttan=Math.tan;function nextpoweroftwo(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1)}var MAX_32BIT_INT=Math.pow(2,32);function uint32_add(t,e){var r=t+e;return r>=MAX_32BIT_INT&&(r-=MAX_32BIT_INT),Math.trunc(r)}function uint32_trunc(t){return t>>>0}function uint32_rshift(t,e){return t>>>e}function imod(t,e){return(0|t)%(0|e)}function imod_nocast(t,e){return t%e}function getArrayValueAtIndex(t,e){return t[e]}function allocateArray(t,e){return new Array(t)}function createListCopy(t){return t.slice(0)}function jsCreateListCopy(t){return createListCopy(t)}function list(){let t=[];for(let e=0;e<arguments.length;e++){let r=arguments[e];if(Array.isArray(r))for(let e=0;e<r.length;e++)t.push(r[e]);else t.push(r)}return t}function resizeSignal(t,e,r){for(var n=t||[],i=e;i<r;i++)n[i]=0;return n}function zeroSignal(t,e){t&&t.fill(0)}function fillSignal(t,e,r,n){t&&t.fill(r,n)}function copySignal(t,e,r){for(let n=0;n<r;n++)t[n]=e[n]}function containsValue(t){return void 0!==t}function addressOf(t){return t}function systemticks(){return Date.now()}function bitwiseFloat(t){var e=new Uint32Array(1);return e[0]=t,new DataView(e.buffer).getFloat32(0,!0)}function imul(t,e){return Math.imul(t,e)}var MIDI_StatusByteReceived=1,MIDI_SecondByteReceived=2,MIDI_NoteOff=3,MIDI_NoteOn=4,MIDI_Aftertouch=5,MIDI_CC=6,MIDI_ProgramChange=7,MIDI_ChannelPressure=8,MIDI_PitchBend=9,MIDI_Sysex_Started=10,MIDI_Sysex_Complete=11,MIDI_Generic=99,MIDI_InvalidByte=-1,MIDI_NoteOffMask=128,MIDI_NoteOnMask=144,MIDI_AfterTouchMask=160,MIDI_CCMask=176,MIDI_ProgramChangeMask=192,MIDI_ChannelPressureMask=208,MIDI_PitchBendMask=224,MIDI_QuarterFrame=241,MIDI_SongPos=242,MIDI_SongSel=243,MIDI_TuneRequest=246,MIDI_SysexStart=240,MIDI_SysexEnd=247,MIDI_Clock=248,MIDI_Start=250,MIDI_Continue=251,MIDI_Stop=252,MIDI_ActiveSense=254,MIDI_Reset=255,MIDI_CC_Sustain=64,MIDI_CC_Sostenuto=66,MIDI_CC_AllNotesOff=123,MIDI_CC_PressureMSB=70,MIDI_CC_PressureLSB=102,MIDI_CC_TimbreMSB=74,MIDI_CC_TimbreLSB=106,MIDI_NoteState_Off=0,MIDI_NoteState_On=1,MIDI_NoteState_Sustained=2,CLOCKS_PER_SEC=1;function parseMidi(t,e,r){if(240==e)return MIDI_Sysex_Started;if(t==MIDI_Sysex_Started)return 247==e?MIDI_Sysex_Complete:e<=127?t:MIDI_InvalidByte;if(e>127)return MIDI_StatusByteReceived;var n=240&r;return t==MIDI_StatusByteReceived?n==MIDI_ProgramChangeMask?MIDI_ProgramChange:n==MIDI_ChannelPressureMask?MIDI_ChannelPressure:MIDI_SecondByteReceived:t==MIDI_SecondByteReceived?n==MIDI_NoteOffMask||n==MIDI_NoteOnMask&&0==e?MIDI_NoteOff:n==MIDI_NoteOnMask?MIDI_NoteOn:n==MIDI_AfterTouchMask?MIDI_Aftertouch:n==MIDI_CCMask?MIDI_CC:n==MIDI_PitchBendMask?MIDI_PitchBend:MIDI_Generic:t}function getMIDIChannel(t){var e=240&t;return e>=128&&e<=224?15&t:0}function initDataRef(t,e){var r={};return r.name=t,r.isValid=!1,r.wantsFillFlag=!1,r.bytesToAllocate=0,r.channels=0,r.sampleRate=0,r.internal=e,r.index=-1,r.wantsFill=function(){return this.wantsFillFlag},r.setWantsFill=function(t){this.wantsFillFlag=t},r.requestSizeInBytes=function(t,e){(t>this.bytesToAllocate||e)&&(this.bytesToAllocate=t)},r.getRequestedSizeInBytes=function(){return this.bytesToAllocate},r.resetRequestedSizeInByte=function(){this.bytesToAllocate=0},r.getSizeInBytes=function(){return this.arrayBuffer.byteLength},r.hasRequestedSize=function(){return this.bytesToAllocate>0},r.isInternal=function(){return this.internal},r.getIndex=function(){return this.index},r.setIndex=function(t){this.index=t},r.clear=function(){r.arrayBuffer=new ArrayBuffer(0)},r.clear(),r}function initMultiRef(){var t={index:0,current:0,dataRefs:[],count:0};for(let e=0;e<arguments.length;e++)t.dataRefs.push(arguments[e]),t.count++;return t.setCurrent=function(t){t>=0&&t<this.count&&(this.current=t)},t.getIndex=function(){return this.index},t.setIndex=function(t){this.index=t},t}function updateMultiRef(t,e,r){e.setCurrent&&e.getIndex&&(e.setCurrent(r),t.getEngine().sendDataRefUpdated(e.getIndex()))}function updateDataRef(t,e){t.getEngine().sendDataRefUpdated(e.getIndex())}function FIXEDSIZEARRAYINIT(){let t=arguments[0];if(void 0!==t){let e=new Array(t);if(e.fill(0),void 0!==arguments[1]){let r=Array.from(arguments);r.splice(0,1);for(let n=0;n<t;n++)e[n]=FIXEDSIZEARRAYINIT.apply(null,r)}return e}return new Array}function TAG(t){let e=0;for(let r=0;r<t.length;r++){e=t.charCodeAt(r)+(e<<6)+(e<<16)-e}return 0|e}function serializeArrayToList(t,e){return t}function deserializeArrayFromList(t,e,r){t}function serializeDataRef(t){return t.resetRequestedSizeInByte(),t}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}function getSubState(t,e){return void 0===t[e]&&(t[e]={}),t[e]}function getSubStateAt(t,e,r){return void 0===t[e]&&(t[e]=[]),void 0===t[e][r]&&(t[e][r]={}),t[e][r]}function stateIsEmpty(t){return 0===Object.keys(t).length}function TransportState(t){return t}function RNBO_UNUSED(){}let xoshiro_reset=Xoshiro.reset,xoshiro_next=Xoshiro.next;module.exports={deserializeSrc:function(t){return _evalSrc(t)},deserializeJSON:function(t){var e=t;return"string"==typeof e&&(e={src:t}),_evalSrc(e.src)},extractOptionsFromJSON:function(t){var e=t;return"string"==typeof e&&(e=JSON.parse(t)),e.options?e.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:t=>{function e(){let t=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,e=this.getChannels();return e?t/e:0}function r(t,e){let r=t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e;this.requestedChannels=e,this.dataRef.requestSizeInBytes(r,!1)}function n(t,e){return this[this.getChannels()*Math.floor(e)+t]}function i(t,e){const r=this.getChannels();return t<0||t>=r||e<0||e>=this.getSize()?0:this[r*Math.floor(e)+t]}function s(t,e,r){this[this.getChannels()*Math.floor(e)+t]=r}function o(t,e,r){const n=this.getChannels();t<0||t>=n||e<0||e>=this.getSize()||(this[n*Math.floor(e)+t]=r)}function u(){return this.dataRef.channels}function a(){return this.dataRef.sampleRate}function h(t){this.dataRef.sampleRate=t}function f(){this.dataRef.clear()}function c(t){if(t!==this.dataRef.channels){let e=this.getSize();return this.clear(),this.dataRef.channels=t,this.setSize(e)}return this}function l(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&0!==this.requestedChannels&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let t;if(this.dataRef.isInternallyAllocated){let e=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);e/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,t=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,e)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let e=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return t?e.set(t):this.dataRef.wantsFillFlag=!0,b(e,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&I(e),e}return this}function d(t){let e=this.getChannels();return this.requestedChannels=e,this.dataRef.requestSizeInBytes(t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e,!0),this.allocateIfNeeded()}function p(){this.fill&&this.fill(0)}function m(){return this.touched}function g(t){this.touched=t}function _(t){this.dataRef.setWantsFill(t)}function y(){return this.dataRef.getIndex()}function b(t,n,i){t.dataRef=n,t.BASEARRAYVIEW=i,t.getSize=e,t.requestSize=r,t.setSize=d,t.allocateIfNeeded=l,t.setZero=p,t.clear=f,t.getChannels=u,t.getSampleRate=a,t.setWantsFill=_,t.getIndex=y,n.setZero=function(){t.setZero()},t.touched=!1,t.getTouched=m,t.setTouched=g}function I(t){t.getSample=n,t.getSampleSafe=i,t.setSample=s,t.setSampleSafe=o,t.setChannels=c,t.setSampleRate=h,t.isAudioBuffer=!0,t.requestedChannels=0}let w=function(t,e){let r;return r=t.arrayBuffer?new e(t.arrayBuffer):{},b(r,t,e),r};(w.prototype=Object.create(null)).constructor=w;let v=function(t,e){let r=w.call(this,t,e);return I(r),r};(v.prototype=Object.create(w)).constructor=v;let M=function(t){return v.call(this,t,Float32Array)};(M.prototype=Object.create(v.prototype)).constructor=M;let E=function(t){return v.call(this,t,Float64Array)};(E.prototype=Object.create(v.prototype)).constructor=E;let T=function(t,e){let r=new e(t.dataRefs[t.current]);return r.multiRef=t,r.setCurrent=function(t){this.multiRef.setCurrent(Math.round(t))},r.getIndex=function(){return this.multiRef.getIndex()},r};T.prototype=Object.create(null),T.constructor=T;let B=function(t){return T.call(this,t,M)};(B.prototype=Object.create(T.prototype)).constructor=B;let S=function(t){return T.call(this,t,E)};(S.prototype=Object.create(T.prototype)).constructor=S;let A=function(t){return w.call(this,t,Int32Array)};(A.prototype=Object.create(w.prototype)).constructor=A;let P=function(t){return w.call(this,t,Uint8Array)};(P.prototype=Object.create(w.prototype)).constructor=P,t.exports={Float32Buffer:M,Float64Buffer:E,Float32MultiBuffer:B,Float64MultiBuffer:S,IntBuffer:A,UInt8Buffer:P}},126:t=>{var e=function(){};(e.prototype=Object.create(null)).constructor=e,e.prototype.setEngineAndPatcher=function(){},e.prototype.initialize=function(){},e.prototype.getNumParameters=function(){return 0},e.prototype.setParameterValue=function(){},e.prototype.prepareToProcess=function(){},e.prototype.process=function(){},t.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new e}}},925:t=>{function e(t,e,r,n){r[n]=t[e]+0x9e3779b97f4a7c15n,r[n]=0xbf58476d1ce4e5b9n*(r[n]^r[n]>>30n),r[n]=0x94d049bb133111ebn*(r[n]^r[n]>>27n),r[n]=r[n]^r[n]>>31n}t.exports={reset:function(t,r){let n=new BigUint64Array(1);n[0]=BigInt(Math.trunc(1e6*t)),e(n,0,r,0),e(r,0,r,1),e(r,1,r,2),e(r,2,r,3)},next:function(t){let e=new BigUint64Array(1),r=new BigUint64Array(1);return r[0]=t[0]+t[3],e[0]=t[1]<<17n,t[2]^=t[0],t[3]^=t[1],t[1]^=t[2],t[0]^=t[3],t[2]^=e[0],t[3]=t[3]<<45n|t[3]>>19n,r[0]=r[0]>>11n,2220446049250313e-31*Number(r[0])-1}}},766:(t,e)=>{e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,s=a(t),o=s[0],u=s[1],h=new i(function(t,e,r){return 3*(e+r)/4-r}(0,o,u)),f=0,c=u>0?o-4:o;for(r=0;r<c;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],h[f++]=e>>16&255,h[f++]=e>>8&255,h[f++]=255&e;2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,h[f++]=255&e);1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,h[f++]=e>>8&255,h[f++]=255&e);return h},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=16383,u=0,a=n-i;u<a;u+=o)s.push(h(t,u,u+o>a?a:u+o));1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=s.length;o<u;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t,e,n){for(var i,s,o=[],u=e;u<n;u+=3)i=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},834:(t,e,r)=>{\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\nconst n=r(766),i=r(181),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function u(t){if(t>o)throw new RangeError(\'The value "\'+t+\'" is invalid for option "size"\');const e=new Uint8Array(t);return Object.setPrototypeOf(e,a.prototype),e}function a(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError(\'The "string" argument must be of type string. Received type number\');return c(t)}return h(t,e,r)}function h(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|m(t,e);let n=u(r);const i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(J(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(J(t,ArrayBuffer)||t&&J(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(J(t,SharedArrayBuffer)||t&&J(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError(\'The "value" argument must not be of type number. Received type number\');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return a.from(n,e,r);const i=function(t){if(a.isBuffer(t)){const e=0|p(t.length),r=u(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||Y(t.length)?u(0):l(t);if("Buffer"===t.type&&Array.isArray(t.data))return l(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw new TypeError(\'"size" argument must be of type number\');if(t<0)throw new RangeError(\'The value "\'+t+\'" is invalid for option "size"\')}function c(t){return f(t),u(t<0?0:0|p(t))}function l(t){const e=t.length<0?0:0|p(t.length),r=u(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError(\'"offset" is outside of buffer bounds\');if(t.byteLength<e+(r||0))throw new RangeError(\'"length" is outside of buffer bounds\');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,a.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function m(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||J(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError(\'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type \'+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,r);case"utf8":case"utf-8":return B(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return P(this,e,r);case"base64":return T(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){let s,o=1,u=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,u/=2,a/=2,r/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let n=-1;for(s=r;s<u;s++)if(h(t,s)===h(e,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===a)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+a>u&&(r=u-a),s=r;s>=0;s--){let r=!0;for(let n=0;n<a;n++)if(h(t,s+n)!==h(e,n)){r=!1;break}if(r)return s}return-1}function I(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=e.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(e.substr(2*o,2),16);if(Y(n))return o;t[r+o]=n}return o}function w(t,e,r,n){return K(W(e,t.length-r),t,r,n)}function v(t,e,r,n){return K(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function M(t,e,r,n){return K(G(e),t,r,n)}function E(t,e,r,n){return K(function(t,e){let r,n,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function T(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function B(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=r){let r,n,u,a;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[i+1],128==(192&r)&&(a=(31&e)<<6|63&r,a>127&&(s=a));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(a=(15&e)<<12|(63&r)<<6|63&n,a>2047&&(a<55296||a>57343)&&(s=a));break;case 4:r=t[i+1],n=t[i+2],u=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&u)&&(a=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&u,a>65535&&a<1114112&&(s=a))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(t){const e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=S));return r}(n)}e.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,e,r){return h(t,e,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(t,e,r){return function(t,e,r){return f(t),t<=0?u(t):void 0!==e?"string"==typeof r?u(t).fill(e,r):u(t).fill(e):u(t)}(t,e,r)},a.allocUnsafe=function(t){return c(t)},a.allocUnsafeSlow=function(t){return c(t)},a.isBuffer=function(t){return null!=t&&!0===t.t&&t!==a.prototype},a.compare=function(t,e){if(J(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),J(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError(\'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array\');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===t.length)return a.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=a.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(J(e,Uint8Array))i+e.length>n.length?(a.isBuffer(e)||(e=a.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!a.isBuffer(e))throw new TypeError(\'"list" argument must be an Array of Buffers\');e.copy(n,i)}i+=e.length}return n},a.byteLength=m,a.prototype.t=!0,a.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)_(this,e,e+1);return this},a.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},a.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},a.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?B(this,0,t):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(a.prototype[s]=a.prototype.inspect),a.prototype.compare=function(t,e,r,n,i){if(J(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError(\'The "target" argument must be one of type Buffer or Uint8Array. Received type \'+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0);const u=Math.min(s,o),h=this.slice(n,i),f=t.slice(e,r);for(let t=0;t<u;++t)if(h[t]!==f[t]){s=h[t],o=f[t];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},a.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return I(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":case"latin1":case"binary":return v(this,t,e,r);case"base64":return M(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.i||this,0)}};const S=4096;function A(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function P(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function O(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=Z[t[n]];return i}function D(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function N(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,r,n,i,s){if(!a.isBuffer(t))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(e>i||e<s)throw new RangeError(\'"value" argument is out of bounds\');if(r+n>t.length)throw new RangeError("Index out of range")}function x(t,e,r,n,i){$(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function C(t,e,r,n,i){$(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function k(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(t,e,r,n,s){return e=+e,r>>>=0,s||k(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function j(t,e,r,n,s){return e=+e,r>>>=0,s||k(t,0,r,8),i.write(t,e,r,n,52,8),r+8}a.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readBigUInt64LE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),a.prototype.readBigUInt64BE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),a.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=e,i=1,s=this[t+--n];for(;n>0&&(i*=256);)s+=this[t+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},a.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readBigInt64LE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),a.prototype.readBigInt64BE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),a.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){R(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){R(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigUInt64LE=H((function(t,e=0){return x(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=H((function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,t,e,r,n-1,-n)}let i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,t,e,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigInt64LE=H((function(t,e=0){return x(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=H((function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(t,e,r){return U(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return U(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return j(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return j(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const s=a.isBuffer(t)?t:a.from(t,n),o=s.length;if(0===o)throw new TypeError(\'The value "\'+t+\'" is invalid for argument "value"\');for(i=0;i<r-e;++i)this[i+e]=s[i%o]}return this};const X={};function z(t,e,r){X[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function $(t,e,r,n,i,s){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new X.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||L(e,t.length-(r+1))}(n,i,s)}function V(t,e){if("number"!=typeof t)throw new X.ERR_INVALID_ARG_TYPE(e,"number",t)}function L(t,e,r){if(Math.floor(t)!==t)throw V(t,r),new X.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new X.ERR_BUFFER_OUT_OF_BOUNDS;throw new X.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function G(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function J(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Y(t){return t!=t}const Z=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function H(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},181:(t,e)=>{\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\ne.read=function(t,e,r,n,i){var s,o,u=8*i-n-1,a=(1<<u)-1,h=a>>1,f=-7,c=r?i-1:0,l=r?-1:1,d=t[e+c];for(c+=l,s=d&(1<<-f)-1,d>>=-f,f+=u;f>0;s=256*s+t[e+c],c+=l,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=256*o+t[e+c],c+=l,f-=8);if(0===s)s=1-h;else{if(s===a)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=h}return(d?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,u,a,h=8*s-i-1,f=(1<<h)-1,c=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-o))<1&&(o--,a*=2),(e+=o+c>=1?l/a:l*Math.pow(2,1-c))*a>=2&&(o++,a/=2),o+c>=f?(u=0,o=f):o+c>=1?(u=(e*a-1)*Math.pow(2,i),o+=c):(u=e*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&u,d+=p,u/=256,i-=8);for(o=o<<i|u,h+=i;h>0;t[r+d]=255&o,d+=p,o/=256,h-=8);t[r+d-p]|=128*m}},264:t=>{t.exports={src:[{code:\'class RNBOPatcher{constructor(){this._currentTime=0,this.audioProcessSampleCount=0,this.sampleOffsetIntoNextAudioBuffer=0,this.vs=0,this.maxvs=0,this.sr=44100,this.invsr=2267573696e-14,this.zeroBuffer=0,this.dummyBuffer=0,this.voiceIndex=0,this.noteNumber=0}getParameterIndexForID(e){return-1}getNumMidiInputPorts(){return 0}processMidiEvent(e,t,s,r){this.updateTime(e)}getNumMidiOutputPorts(){return 0}process(e,t,s,r,i){this.vs=i,this.updateTime(this.getEngine().getCurrentTime()),this.audioProcessSampleCount=this.msToSamps(this._currentTime,this.sr)}prepareToProcess(e,t){this.vs=t,this.maxvs=t,this.zeroBuffer=resizeSignal(this.zeroBuffer,0,t),this.dummyBuffer=resizeSignal(this.dummyBuffer,0,t),this.sr=e,this.invsr=1/e}msToSamps(e,t){return rnbo_floor(e*t*.001)}sampsToMs(e){return e*(1e3*this.invsr)}getNumInputChannels(){return 0}getNumOutputChannels(){return 0}getDataRef(e){return 0}getNumDataRefs(){return 0}fillDataRef(e,t){e}processDataViewUpdate(e,t){this.updateTime(t)}initialize(e){this.assign_defaults(),this.setState(e),this.initializeObjects(e),this.allocateDataRefs(),this.startup(e)}initializeObjects(e){}allocateDataRefs(){}startup(e){}setIsMuted(e){}getPatcherSerial(){return 7}getState(e){e[eventTargetKey]=this,e[patcherSerialKey]=this.getPatcherSerial(),e.p7=1,e.p7_noteNumber=this.noteNumber}setState(e){e[patcherSerialKey]==this.getPatcherSerial()&&(containsValue(e[eventTargetKey])&&this.getEngine().updatePatcherEventTarget(e[eventTargetKey],this),containsValue(e.p7_noteNumber)&&(this.noteNumber=e.p7_noteNumber))}setParameterValue(e,t,s){this.updateTime(s)}processParameterEvent(e,t,s){this.setParameterValue(e,t,s)}processNormalizedParameterEvent(e,t,s){this.setParameterValueNormalized(e,t,s)}getParameterValue(e){return 0}getNumSignalInParameters(){return 0}getNumParameters(){return 0}getParameterName(e){return"bogus"}getParameterId(e){return"bogus"}getParameterInfo(e,t){e}sendParameter(e){this.getEngine().notifyParameterValueChanged(e,this.getParameterValue(e))}processClockEvent(e,t,s,r){this.updateTime(e)}processOutletAtCurrentTime(e,t,s){}processOutletEvent(e,t,s,r){this.updateTime(r),this.processOutletAtCurrentTime(e,t,s)}sendOutlet(e,t){this.getEngine().sendOutlet(this,e,t)}schedule(e,t){this.getEngine().scheduleClockEvent(this,e,t+this._currentTime)}scheduleValue(e,t,s){this.getEngine().scheduleClockEventWithValue(this,e,t+this._currentTime,s)}stop(e){this.getEngine().flushClockEvents(this,e,!1)}stopWithValue(e,v){this.getEngine().flushClockEventsWithValue(this,e,v,!1)}processNumMessage(e,o,t,s){this.updateTime(t)}processListMessage(e,o,t,s){this.updateTime(t)}resolveTag(e){return""}sendMidiEvent(e,t,s,r){this.getEngine().sendMidiEvent(e,t,s,r)}sendMidiEventList(e,t){this.getEngine().sendMidiEventList(e,t)}updateTime(e){this._currentTime=e,this.sampleOffsetIntoNextAudioBuffer=this.msToSamps(e,this.sr)-this.vs-this.audioProcessSampleCount}assign_defaults(){}setEngineAndPatcher(e,t){this._engineInterface=e,this._parentPatcher=t}getEngine(){return this._engineInterface}getPatcher(){return this._parentPatcher}}rnboObj=new RNBOPatcher;\',encoding:"utf-8",type:"js"}],options:{classname:"rnbomatic",minifyOutput:!0},desc:{parameters:[],numParameters:0,numSignalInParameters:0,layouts:[{name:"layout",boxes:[]}],numInputChannels:0,numOutputChannels:0,patcherSerial:0,externalDataRefs:[]}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](r,r.exports,__webpack_require__),r.exports}var __webpack_exports__={};(()=>{var t;function e(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{a(n.next(t))}catch(t){s(t)}}function u(t){try{a(n.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,u)}a((n=n.apply(t,e||[])).next())}))}!function(t){t[t.Float32Audio=0]="Float32Audio",t[t.TypedArray=1]="TypedArray"}(t||(t={}));class r{constructor(){this.type=t.TypedArray}serialize(){return{type:this.type}}}class n{constructor(e,r){this.channels=0,this.sampleRate=0,this.type=t.Float32Audio,this.channels=e,this.sampleRate=r}static fromAudioBuffer(t){return new n(t.numberOfChannels,t.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}var i,s;!function(t){t[t.Inport=0]="Inport",t[t.Outport=1]="Outport",t[t.Undefined=2]="Undefined"}(i||(i={})),function(t){t[t.STOPPED=0]="STOPPED",t[t.RUNNING=1]="RUNNING"}(s||(s={}));(()=>{try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const t=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly.Module)return new WebAssembly.Instance(t)instanceof WebAssembly.Instance}}catch(t){}})();"undefined"!=typeof isSecureContext&&isSecureContext;Math.pow(10,4);const o=t=>t.slice();class u{constructor(){this.o=[],this.u=[]}get listenerCount(){return this.o.length+this.u.length}emit(t){if(this.o.length){const e=o(this.o);for(let r=0,n=e.length;r<n;r++)e[r](t)}if(this.u.length){const e=o(this.u);for(let r=0,n=e.length;r<n;r++)e[r](t);e.forEach((t=>this.unsubscribe(t)))}}once(t){return this.u.push(t),{unsubscribe:()=>this.unsubscribe(t)}}subscribe(t){return this.o.push(t),{unsubscribe:()=>this.unsubscribe(t)}}unsubscribe(t){const e=this.o.indexOf(t);e>=0&&this.o.splice(e,1);const r=this.u.indexOf(t);r>=0&&this.u.splice(r,1)}removeAllSubscriptions(){this.o=[],this.u=[]}}var a=__webpack_require__(133);class h{constructor(){this.h=0,this.l=44100,this.p=64,this.outgoingEvent=new u,this.parameterChangeEvent=new u,this.m=this.sampsToMs(this.p)}static getNonConversionObject(){return{applyStepsToNormalizedParameterValue:function(t){return t},convertToNormalizedParameterValue:function(t){return t},convertFromNormalizedParameterValue:function(t){return t},getNumParameters:function(){return 0},constrainParameterValue:function(t){return t},isPolyphonic:!1,subpatches:[]}}static deserializeConversion(t){if(t){const e={},r=Object.keys(t);for(let n=0;n<r.length;n++){const i=r[n];if("subpatches"===i){const r=Object.keys(t.subpatches);for(let n=0;n<r.length;n++){const i=r[n],s=t.subpatches[i],o=h.deserializeConversion(s);s.isPolyphonic?e[i]=[o]:e[i]=o}}else e[i]=a.evalFunction(t[i])}return e}return this.getNonConversionObject()}getSampleRate(){return this.l}getSamplesPerBlock(){return this.p}sampsToMs(t){return t/this.l*1e3}getNumInputChannels(){return this.g?this.g.numInputChannels:0}getNumOutputChannels(){return this.g?this.g.numOutputChannels:0}getNumMIDIInputPorts(){return this.g?this.g.numMidiInputPorts:0}getNumMIDIOutputPorts(){return this.g?this.g.numMidiOutputPorts:0}getNumParameters(){return this.g?this.g.numParameters:0}getNumSignalInParameters(){return this.g?this.g.numSignalInParameters:0}getNumSignalOutParameters(){return this.g?this.g.numSignalOutParameters:0}getPatcherSerial(){return void 0!==this.g?this.g.patcherSerial:0}getParameterName(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);return this.g.parameters[t].name}getParameterId(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);return this.g.parameters[t].paramId}getParameterToNormalizedFunction(t){return e=>this._.convertToNormalizedParameterValue(t,e)}getParameterFromNormalizedFunction(t){return e=>this._.convertFromNormalizedParameterValue(t,e)}constrainParameterValue(t){return e=>this._.constrainParameterValue(t,e)}getParameterInfo(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);const e=this.g.parameters[t];let r,n;switch(e.type){case"ParameterTypeBang":n=a.ParameterTypeBang;break;case"ParameterTypeCount":n=a.ParameterTypeCount;break;case"ParameterTypeList":n=a.ParameterTypeList;break;case"ParameterTypeNumber":n=a.ParameterTypeNumber;break;case"ParameterTypeSignal":n=a.ParameterTypeSignal;break;default:throw new Error(`Unknown Parameter Type from patcher description ${e.type}`)}switch(e.ioType){case"IOTypeInput":r=a.IOTypeInput;break;case"IOTypeOutput":r=a.IOTypeOutput;break;case"IOTypeUndefined":r=a.IOTypeUndefined;break;default:throw new Error(`Unknown Parameter IOType from patcher description ${e.type}`)}return{displayName:e.displayName,enumValues:e.enumValues,exponent:e.exponent,id:e.paramId,index:t,initialValue:e.initialValue,ioType:r,isEnum:e.isEnum,max:e.maximum,min:e.minimum,name:e.name,signalIndex:e.signalIndex,steps:e.steps,type:n,unit:e.unit,visible:e.visible}}getNumExternalDataRefs(){return void 0!==this.g?this.g.externalDataRefs.length:0}getExternalDataId(t){return void 0!==this.g?this.g.externalDataRefs[t].id:""}getExternalDataRefIds(){let t;return this.g&&(t=[],Object.keys(this.g.externalDataRefs).forEach((e=>{let r=this.g.externalDataRefs[e];t.push(r.id)}))),t}getExternalDataRefInfos(){return void 0!==this.g?this.g.externalDataRefs:[]}getNumMessages(){return void 0!==this.g?this.g.inports.length+this.g.outports.length:0}getMessageInfos(){let t=[];return void 0!==this.g&&(Object.keys(this.g.outports).forEach((e=>{t.push({tag:this.g.outports[e].tag,type:i.Outport,meta:this.g.outports[e].meta})})),Object.keys(this.g.inports).forEach((e=>{t.push({tag:this.g.inports[e].tag,type:i.Inport,meta:this.g.inports[e].meta})}))),t}removeAllSubscriptions(){this.outgoingEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}setPatcherDesc(t){return e(this,void 0,void 0,(function*(){this.g=t,this._=h.deserializeConversion(this.g.paramConversion)}))}}var f,c,l,d;!function(t){t[t.BufferTransfer=0]="BufferTransfer",t[t.ClockEvent=1]="ClockEvent",t[t.DataRefEvent=2]="DataRefEvent",t[t.MessageEvent=3]="MessageEvent",t[t.MIDIEvent=4]="MIDIEvent",t[t.ParameterEvent=5]="ParameterEvent",t[t.PresetEvent=6]="PresetEvent",t[t.StartupEvent=7]="StartupEvent",t[t.TransportEvent=8]="TransportEvent",t[t.TempoEvent=9]="TempoEvent",t[t.BeatTimeEvent=10]="BeatTimeEvent",t[t.TimeSignatureEvent=11]="TimeSignatureEvent"}(f||(f={}));class p{constructor(t=0,e){this.invalid=!1,this.time=t,this.eventTarget=e}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}class m extends p{constructor(t,e,r,n){super(t,n),this.type=f.ClockEvent,this.clockIndex=e,this.value=r}get hasValue(){return void 0!==this.value}serialize(){return Object.assign(super.serialize(),{clockIndex:this.clockIndex,type:this.type,value:this.value})}}!function(t){t[t.Update=1]="Update"}(c||(c={}));class g extends p{constructor(t,e,r,n){super(t,n),this.type=f.DataRefEvent,this.dataRefIndex=e,this.action=r}serialize(){return Object.assign(super.serialize(),{action:this.action,dataRefIndex:this.dataRefIndex,type:this.type})}}class _ extends p{constructor(t,e,r,n="",i){super(t,i),this.type=f.MessageEvent,this.objectId=n,this.tag=e,this.payload=r}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class y extends p{constructor(t,e,r,n){if(super(t,n),this.type=f.MIDIEvent,r.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${r.length}`);if(this.data=r,this.data.length<3){const t=r.length;this.data.length=3,this.data=this.data.fill(void 0,t,3)}let i=0;for(let t=0;t<3;t++)void 0!==r[t]&&i++;if(i<1)throw new Error("MIDIData must at least have the first byte set.");this.length=i,this.status=240&r[0],this.channel=15&r[0],this.port=e}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class b extends p{constructor(t,e,r,n,i){super(t,i),this.type=f.ParameterEvent,this.target=e,this.value=r,this.source=n}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}!function(t){t[t.Set=1]="Set",t[t.Touched=2]="Touched"}(l||(l={}));class I extends p{constructor(t,e,r){super(t,void 0),this.type=f.PresetEvent,this.action=e,this.preset=r}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}class w extends p{constructor(t,e){super(t,void 0),this.type=f.TransportEvent,this.state=e}serialize(){return Object.assign(super.serialize(),{state:this.state,type:this.type})}}class v extends p{constructor(t,e){super(t,void 0),this.type=f.TempoEvent,this.tempo=e}serialize(){return Object.assign(super.serialize(),{tempo:this.tempo,type:this.type})}}class M extends p{constructor(t,e){super(t,void 0),this.type=f.BeatTimeEvent,this.beattime=e}serialize(){return Object.assign(super.serialize(),{beattime:this.beattime,type:this.type})}}class E extends p{constructor(t,e,r){super(t,void 0),this.type=f.TimeSignatureEvent,this.numerator=e,this.denominator=r}serialize(){return Object.assign(super.serialize(),{numerator:this.numerator,denominator:this.denominator,type:this.type})}}!function(t){t[t.BEGIN=0]="BEGIN",t[t.END=1]="END"}(d||(d={}));class T extends p{constructor(t,e){super(t,void 0),this.type=f.StartupEvent,this.phase=e}serialize(){return Object.assign(super.serialize(),{phase:this.phase,type:this.type})}}const B=__webpack_require__(264);function S(t,e){return t.time-e.time}function A(t){t.sort(S)}class P extends h{constructor(){super(),this.I=!1,this.v=!1,this.M=void 0,this.T=-1,this.B=[],this.I=!1,this.setPatcherDesc(B.desc),this.setPatcherCode(B.src[0].code)}S(t){const e=t.eventTarget||this.A;if(t.time=Math.max(t.time,this.h),this.M=t,t.type===f.ParameterEvent){const r=t;e.setParameterValue(r.target,r.value,t.time)}else if(t.type===f.MIDIEvent){const r=t;e.processMidiEvent(r.time,r.port,r.data,r.length)}else if(t.type===f.ClockEvent){const r=t;e.processClockEvent(r.time,r.clockIndex,r.hasValue,r.value)}else if(t.type===f.DataRefEvent){const r=t;r.action===c.Update&&e.processDataViewUpdate(r.dataRefIndex,r.time)}else if(t.type===f.MessageEvent){const r=t;Array.isArray(r.payload)?e.processListMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time,r.payload):void 0===r.payload?e.processBangMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time):e.processNumMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time,r.payload)}else if(t.type===f.PresetEvent){const e=t;e.action===l.Set&&(this.v=!0,this.A.setPreset(e.time,e.preset),this.v=!1)}else if(t.type===f.TransportEvent){const e=t;this.A.processTransportEvent(e.time,e.state)}else if(t.type===f.TempoEvent){const e=t;this.A.processTempoEvent(e.time,e.tempo)}else if(t.type===f.BeatTimeEvent){const e=t;this.A.processBeatTimeEvent(e.time,e.beattime)}else if(t.type===f.TimeSignatureEvent){const e=t;this.A.processTimeSignatureEvent(e.time,e.numerator,e.denominator)}else if(t.type===f.StartupEvent){const e=t;this.v=e.phase===d.BEGIN}this.M=void 0}getCurrentTime(){return this.h}setCurrentTime(t){this.h=t}prepareToProcess(t,e,r){(r||t!==this.l||e!==this.p)&&(this.l=t,this.p=e,this.m=this.sampsToMs(this.p),this.isSync&&this.A.prepareToProcess(this.l,this.p))}process(t,e,r,n,i,s,o){const u=Math.min(e,this.getNumInputChannels()+this.getNumSignalInParameters()),a=Math.min(n,this.getNumOutputChannels()),h=Math.min(i,this.p);for(this.T=this.h+this.m,void 0!==this.midiInput&&(this.B.push.apply(this.B,s),this.I=!0),this.I&&(A(this.B),this.I=!1);this.B.length>0&&this.B[0].time<this.T;)this.S(this.B.shift());this.A.process(t,u,r,a,h),this.h=this.T,this.T=-1}scheduleMidiEvent(t,e){this.scheduleEvent(new y(this.h,t,e,this.A))}notifyParameterValueChanged(t,e){let r=this.M?this.M.source:void 0;this.parameterChangeEvent.emit(new b(this.getCurrentTime(),t,e,r))}scheduleParameterChange(t,e,r){this.scheduleEvent(new b(this.getCurrentTime(),t,e,void 0))}sendNumMessage(t,e,r){const n=new _(this.h,this.A.resolveTag(t),r,this.A.resolveTag(e));this.outgoingEvent.emit(n)}sendBangMessage(t,e){const r=new _(this.h,this.A.resolveTag(t),void 0,this.A.resolveTag(e));this.outgoingEvent.emit(r)}sendListMessage(t,e,r){const n=new _(this.h,this.A.resolveTag(t),r,this.A.resolveTag(e));this.outgoingEvent.emit(n)}getParameterValue(t){return this.A.getParameterValue(t)}flushClockEvents(t,e,r){this.flushClockEventsWithValue(t,e,void 0,r)}flushClockEventsWithValue(t,e,r,n){for(let i=0;i<this.B.length;i++)if(this.B[i]instanceof m){const s=this.B[i];s.eventTarget!==t||s.clockIndex!==e&&void 0!==s.clockIndex||void 0!==r&&s.value!==r||(this.B.splice(i,1),n&&this.S(s),i--)}}deleteClockEvents(t){this.flushClockEvents(t,void 0,!1)}scheduleClockEvent(t,e,r){this.scheduleClockEventWithValue(t,e,r,void 0)}scheduleClockEventWithValue(t,e,r,n){this.scheduleEvent(new m(r,e,n,t))}sendMidiEvent(t,e,r,n){const i=new y(this.getCurrentTime(),t,[e,r,n],void 0);this.outgoingEvent.emit(i)}sendMidiEventList(t,e){let r;for(r=2;r<e.length;r+=3)this.sendMidiEvent(t,e[r-2],e[r-1],e[r]);if(r-=3,r<e.length){var n=r-e.length;this.sendMidiEvent(t,e[r],n>1?e[r+1]:void 0,n>2?e[r+2]:void 0)}}sendOutlet(t,e,r){console.log("sendOutlet",t,e,r)}updatePatcherEventTarget(t,e){for(let r=0;r<this.B.length;r++)this.B[r].eventTarget===t&&(this.B[r].eventTarget=e,this.B[r].invalid=!1)}rescheduleEventTarget(t){for(let e=0;e<this.B.length;e++)this.B[e].eventTarget===t&&(this.B[e].invalid=!1)}isInProcess(){return this.T>-1}sendDataRefUpdated(t){this.scheduleEvent(new g(this.getCurrentTime(),t,c.Update,this.A))}get isSync(){return!0}scheduleEvent(t){this.B.push(t),this.isInProcess()?A(this.B):this.I=!0}setPatcherCode(t){return e(this,void 0,void 0,(function*(){const e={};this.A&&this.A.getState(e),this.A=a.deserializeSrc(t);for(let t=0;t<this.B.length;t++)this.B[t].eventTarget&&(this.B[t].invalid=!0);this.A.setEngineAndPatcher(this,null),this.scheduleEvent(new T(this.h,d.BEGIN)),this.A.initialize(e),this.scheduleEvent(new T(this.h,d.END)),this.A.prepareToProcess(this.l,this.p,!0);for(let t=this.B.length-1;t>=0;t--)this.B[t].invalid&&this.B.splice(t,1)}))}setExternalData(t,r,i){return e(this,void 0,void 0,(function*(){const e=this.A.getNumDataRefs();for(let s=0;s<e;s++){const e=this.A.getDataRef(s);if(e.name==t){e.arrayBuffer=r,i instanceof n&&(e.channels=i.channels,e.sampleRate=i.sampleRate),this.sendDataRefUpdated(s);break}}}))}releaseExternalData(t){return e(this,void 0,void 0,(function*(){const e=this.A.getNumDataRefs();let i,s;for(let o=0;o<e;o++){const e=this.A.getDataRef(o);if(e.name==t){i=e.arrayBuffer,e.arrayBuffer=new ArrayBuffer(0),e.channels?(s=new n(e.channels,e.sampleRate),e.channels=0,e.sampleRate=0):s=new r,this.sendDataRefUpdated(o);break}}if(!i)throw new Error(`Invalid DataBuffer. No DataBuffer with id ${t} found.`);return{data:i,typeDesc:s}}))}getPreset(){return e(this,void 0,void 0,(function*(){let t={};return this.A.getPreset(t),t}))}setPreset(t){this.scheduleEvent(new I(this.h,l.Set,t))}presetTouched(){this.v||this.outgoingEvent.emit(new I(this.h,l.Touched,void 0))}}var O,D;function N(t){return class extends t{constructor(...t){super(),this.changeEvent=new u,this.P=new u;const e=t[0];this.O=e.notificationSetting,this.convertFromNormalizedValue=e.scaling.convertFromNormalized,this.convertToNormalizedValue=e.scaling.convertToNormalized,this.constrainParameterValue=e.scaling.constrainParameterValue,this.initialValue=e.initialValue,this.D=e.initialValue,this.displayName=e.displayName||e.name,this.exponent=e.exponent,this.id=e.id,this.index=e.index,this.min=e.min,this.max=e.max,this.name=e.name,this.steps=e.steps,this.unit=e.unit||""}get notificationSetting(){return this.O}get normalizedValue(){return this.convertToNormalizedValue(this.D)}set normalizedValue(t){this.N(this.convertFromNormalizedValue(t))}R(t){this.O=t}N(t){t=this.constrainParameterValue(t),this.D!==t&&(this.D=t,this.P.emit(this),this.notificationSetting===D.All&&this.changeEvent.emit(t))}C(t){this.D=t,this.changeEvent.emit(t)}}}!function(t){t[t.Number=0]="Number",t[t.Bang=1]="Bang",t[t.List=2]="List",t[t.Signal=3]="Signal",t[t.Count=4]="Count",t[t.Enum=5]="Enum"}(O||(O={})),function(t){t[t.All=0]="All",t[t.Internal=1]="Internal"}(D||(D={}));N(Object);N(Object);N(Object);class R{constructor(){this.k={},this.U=new Float32Array(128)}addParam(t,e){t.type==a.ParameterTypeSignal&&t.ioType===a.IOTypeInput&&(this.k[t.signalIndex]={name:e,param:new Float32Array(128)})}getParamName(t){let e=this.k[t];return void 0!==e?e.name:void 0}getParamArray(t,e,r){if(e.length==r)return e;{let n=this.k[t];return n.param.length!=r&&(n.param=new Float32Array(r)),n.param.fill(e[0])}}}var x,C;!function(t){t[t.LoadPatcher=0]="LoadPatcher",t[t.ScheduleEvent=1]="ScheduleEvent",t[t.TransferBuffer=2]="TransferBuffer",t[t.ReleaseBuffer=3]="ReleaseBuffer",t[t.SetPreset=4]="SetPreset",t[t.GetPreset=5]="GetPreset"}(x||(x={})),function(t){t[t.LoadPatcherFinished=1e3]="LoadPatcherFinished",t[t.OutgoingEvent=1002]="OutgoingEvent",t[t.ReleasedBuffer=1003]="ReleasedBuffer",t[t.TransferBufferFinished=1004]="TransferBufferFinished",t[t.GetPresetResponse=1005]="GetPresetResponse"}(C||(C={}));var k=__webpack_require__(834).Buffer;const U=JSON.parse(k.from("XXXX___RNBOPATCHERDESC_REPLACE___XXXX","base64").toString("utf-8")),j=k.from("XXXX___RNBOPATCHERSRC_REPLACE___XXXX","base64").toString("utf-8");class X extends AudioWorkletProcessor{constructor(i){super(i),this.j=new P,this.X=[],this.F=[],this.$=new R,this.V=i=>e(this,void 0,void 0,(function*(){switch(i.data[0]){case x.LoadPatcher:yield this.j.setPatcherDesc(U),yield this.j.setPatcherCode(j);for(let t=0;t<this.j.getNumParameters();t++){const e=this.j.getParameterInfo(t);this.$.addParam(e,this.j.getParameterName(t))}this.X=new Array(this.j.getNumInputChannels()+this.j.getNumSignalInParameters()),this.F=new Array(this.j.getNumOutputChannels()+this.j.getNumSignalOutParameters()),this.j.process([],0,[[]],1,0),this.port.postMessage([C.LoadPatcherFinished]);break;case x.ScheduleEvent:this.j.scheduleEvent((t=>{switch(t.type){case f.ClockEvent:return new m(t.time,t.clockIndex,t.value,t.eventTarget);case f.DataRefEvent:return new g(t.time,t.dataRefIndex,t.action,t.eventTarget);case f.MessageEvent:return new _(t.time,t.tag,t.payload,t.objectId,t.eventTarget);case f.MIDIEvent:return new y(t.time,t.port,t.data,t.eventTarget);case f.ParameterEvent:return new b(t.time,t.target,t.value,t.source,t.eventTarget);case f.PresetEvent:return new I(t.time,t.action,t.preset);case f.TransportEvent:return new w(t.time,t.state);case f.TempoEvent:return new v(t.time,t.tempo);case f.BeatTimeEvent:return new M(t.time,t.beattime);case f.TimeSignatureEvent:return new E(t.time,t.numerator,t.denominator);case f.StartupEvent:return new T(t.time,t.phase);default:throw new Error(`Unable to deserialize RNBOEvent of type ${t.type}`)}})(i.data[1]));break;case x.TransferBuffer:{const e=i.data[1];this.j.setExternalData(e.memoryId,e.data,(e=>{switch(e.type){case t.Float32Audio:return new n(e.channels,e.sampleRate);case t.TypedArray:return new r;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${e.type}`)}})(e.typeDesc)),this.port.postMessage([C.TransferBufferFinished,{memoryId:e.memoryId}]);break}case x.ReleaseBuffer:{const t=i.data[1],{data:e,typeDesc:r}=yield this.j.releaseExternalData(t.memoryId);this.port.postMessage([C.ReleasedBuffer,{memoryId:t.memoryId,data:e,typeDesc:r.serialize()}],[e]);break}case x.GetPreset:{const t=yield this.j.getPreset();this.port.postMessage([C.GetPresetResponse,{preset:t}]);break}case x.SetPreset:{const t=i.data[1];this.j.setPreset(t.preset)}}})),this.L=t=>{this.port.postMessage([C.OutgoingEvent,t.serialize()])},this.q=t=>{this.port.postMessage([C.OutgoingEvent,t.serialize()])},this.j.outgoingEvent.subscribe(this.L),this.j.parameterChangeEvent.subscribe(this.q),this.port.onmessage=this.V,this.port.start()}static get parameterDescriptors(){return XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX}process(t,e,r){let n,i,s=0,o=0;for(n=0;n<t.length;n++){const e=t[n];for(i=0;i<e.length&&(s<this.X.length&&e[i].length);i++)this.X[s]=e[i],s++}for(n=0;n<e.length;n++){const t=e[n];for(i=0;i<t.length&&o<this.F.length;i++)this.F[o]=t[i],o++}let u=0;o>0&&this.F.length&&this.F[0]?u=this.F[0].length:e.length&&e[0]&&e[0].length&&e[0][0]?u=e[0][0].length:s>0&&this.X.length&&this.X[0]?u=this.X[0].length:t.length&&t[0]&&t[0].length&&t[0][0]&&(u=t[0][0].length),u||(u=128);for(let t=s;t<this.X.length;t++){const e=this.$.getParamName(t);void 0!==e&&(this.X[t]=this.$.getParamArray(t,r[e],u),s++)}return this.j.setCurrentTime(1e3*currentTime),this.j.prepareToProcess(sampleRate,u),this.j.process(this.X,s,this.F,o,u),!0}}let z="XXXX---RNBOPROCESSORNAME_REPLACE---XXXX";z.startsWith("XXXX---RNBOPROCESSORNAME_REPLACE---")&&(z="RNBOProcessor"),registerProcessor(z,X)})()})();',wasm:'(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{var Float32Buffer=__webpack_require__(852).Float32Buffer,Float64Buffer=__webpack_require__(852).Float64Buffer,Float32MultiBuffer=__webpack_require__(852).Float32MultiBuffer,Float64MultiBuffer=__webpack_require__(852).Float64MultiBuffer,IntBuffer=__webpack_require__(852).IntBuffer,UInt8Buffer=__webpack_require__(852).UInt8Buffer,ExternalLoaderFactory=__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var patcherSerialKey="XX__PatcherSerialKey__XX",eventTargetKey="XX__EventTargetKey__XX",ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2,INVALID_INDEX=Number.MAX_SAFE_INTEGER;function rand01(){return Math.random()}function pi01(){return Math.PI}var rnbo_abs=Math.abs,rnbo_fabs=Math.abs,rnbo_acos=Math.acos,rnbo_acosh=Math.acosh,rnbo_asin=Math.asin,rnbo_asinh=Math.asinh,rnbo_atan=Math.atan,rnbo_atan2=Math.atan2,rnbo_atanh=Math.atanh,rnbo_cbrt=Math.cbrt,rnbo_ceil=Math.ceil,rnbo_cos=Math.cos,rnbo_cosh=Math.cosh,rnbo_exp=Math.exp,rnbo_expm1=Math.expm1,rnbo_floor=Math.floor,rnbo_fround=Math.round,rnbo_imul=Math.imul,rnbo_log=Math.log,rnbo_log10=Math.log10,rnbo_log1p=Math.log1p,rnbo_log2=Math.log2,rnbo_pow=Math.pow,rnbo_round=rnbo_fround,rnbo_sign=Math.sign,rnbo_sin=Math.sin,rnbo_sinh=Math.sinh,rnbo_sqrt=Math.sqrt,rnbo_tan=Math.tan,rnbo_tanh=Math.tanh,trunc=Math.trunc,rnbo_trunc=Math.trunc,rnbo_number_max=()=>Math.MAX_VALUE,rnbo_isnan=isNaN;function fixnan(t){return isNaN(t)?0:t}function fract(t){return t%1}function fixdenorm(t){return t}function isdenorm(t){return!1}var fastsin=Math.sin,fastcos=Math.cos,fastexp=Math.exp,fastpow=Math.pow,fasttan=Math.tan;function nextpoweroftwo(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1)}var MAX_32BIT_INT=Math.pow(2,32);function uint32_add(t,e){var n=t+e;return n>=MAX_32BIT_INT&&(n-=MAX_32BIT_INT),Math.trunc(n)}function uint32_trunc(t){return t>>>0}function uint32_rshift(t,e){return t>>>e}function imod(t,e){return(0|t)%(0|e)}function imod_nocast(t,e){return t%e}function getArrayValueAtIndex(t,e){return t[e]}function allocateArray(t,e){return new Array(t)}function createListCopy(t){return t.slice(0)}function jsCreateListCopy(t){return createListCopy(t)}function list(){let t=[];for(let e=0;e<arguments.length;e++){let n=arguments[e];if(Array.isArray(n))for(let e=0;e<n.length;e++)t.push(n[e]);else t.push(n)}return t}function resizeSignal(t,e,n){for(var r=t||[],i=e;i<n;i++)r[i]=0;return r}function zeroSignal(t,e){t&&t.fill(0)}function fillSignal(t,e,n,r){t&&t.fill(n,r)}function copySignal(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function containsValue(t){return void 0!==t}function addressOf(t){return t}function systemticks(){return Date.now()}function bitwiseFloat(t){var e=new Uint32Array(1);return e[0]=t,new DataView(e.buffer).getFloat32(0,!0)}function imul(t,e){return Math.imul(t,e)}var MIDI_StatusByteReceived=1,MIDI_SecondByteReceived=2,MIDI_NoteOff=3,MIDI_NoteOn=4,MIDI_Aftertouch=5,MIDI_CC=6,MIDI_ProgramChange=7,MIDI_ChannelPressure=8,MIDI_PitchBend=9,MIDI_Sysex_Started=10,MIDI_Sysex_Complete=11,MIDI_Generic=99,MIDI_InvalidByte=-1,MIDI_NoteOffMask=128,MIDI_NoteOnMask=144,MIDI_AfterTouchMask=160,MIDI_CCMask=176,MIDI_ProgramChangeMask=192,MIDI_ChannelPressureMask=208,MIDI_PitchBendMask=224,MIDI_QuarterFrame=241,MIDI_SongPos=242,MIDI_SongSel=243,MIDI_TuneRequest=246,MIDI_SysexStart=240,MIDI_SysexEnd=247,MIDI_Clock=248,MIDI_Start=250,MIDI_Continue=251,MIDI_Stop=252,MIDI_ActiveSense=254,MIDI_Reset=255,MIDI_CC_Sustain=64,MIDI_CC_Sostenuto=66,MIDI_CC_AllNotesOff=123,MIDI_CC_PressureMSB=70,MIDI_CC_PressureLSB=102,MIDI_CC_TimbreMSB=74,MIDI_CC_TimbreLSB=106,MIDI_NoteState_Off=0,MIDI_NoteState_On=1,MIDI_NoteState_Sustained=2,CLOCKS_PER_SEC=1;function parseMidi(t,e,n){if(240==e)return MIDI_Sysex_Started;if(t==MIDI_Sysex_Started)return 247==e?MIDI_Sysex_Complete:e<=127?t:MIDI_InvalidByte;if(e>127)return MIDI_StatusByteReceived;var r=240&n;return t==MIDI_StatusByteReceived?r==MIDI_ProgramChangeMask?MIDI_ProgramChange:r==MIDI_ChannelPressureMask?MIDI_ChannelPressure:MIDI_SecondByteReceived:t==MIDI_SecondByteReceived?r==MIDI_NoteOffMask||r==MIDI_NoteOnMask&&0==e?MIDI_NoteOff:r==MIDI_NoteOnMask?MIDI_NoteOn:r==MIDI_AfterTouchMask?MIDI_Aftertouch:r==MIDI_CCMask?MIDI_CC:r==MIDI_PitchBendMask?MIDI_PitchBend:MIDI_Generic:t}function getMIDIChannel(t){var e=240&t;return e>=128&&e<=224?15&t:0}function initDataRef(t,e){var n={};return n.name=t,n.isValid=!1,n.wantsFillFlag=!1,n.bytesToAllocate=0,n.channels=0,n.sampleRate=0,n.internal=e,n.index=-1,n.wantsFill=function(){return this.wantsFillFlag},n.setWantsFill=function(t){this.wantsFillFlag=t},n.requestSizeInBytes=function(t,e){(t>this.bytesToAllocate||e)&&(this.bytesToAllocate=t)},n.getRequestedSizeInBytes=function(){return this.bytesToAllocate},n.resetRequestedSizeInByte=function(){this.bytesToAllocate=0},n.getSizeInBytes=function(){return this.arrayBuffer.byteLength},n.hasRequestedSize=function(){return this.bytesToAllocate>0},n.isInternal=function(){return this.internal},n.getIndex=function(){return this.index},n.setIndex=function(t){this.index=t},n.clear=function(){n.arrayBuffer=new ArrayBuffer(0)},n.clear(),n}function initMultiRef(){var t={index:0,current:0,dataRefs:[],count:0};for(let e=0;e<arguments.length;e++)t.dataRefs.push(arguments[e]),t.count++;return t.setCurrent=function(t){t>=0&&t<this.count&&(this.current=t)},t.getIndex=function(){return this.index},t.setIndex=function(t){this.index=t},t}function updateMultiRef(t,e,n){e.setCurrent&&e.getIndex&&(e.setCurrent(n),t.getEngine().sendDataRefUpdated(e.getIndex()))}function updateDataRef(t,e){t.getEngine().sendDataRefUpdated(e.getIndex())}function FIXEDSIZEARRAYINIT(){let t=arguments[0];if(void 0!==t){let e=new Array(t);if(e.fill(0),void 0!==arguments[1]){let n=Array.from(arguments);n.splice(0,1);for(let r=0;r<t;r++)e[r]=FIXEDSIZEARRAYINIT.apply(null,n)}return e}return new Array}function TAG(t){let e=0;for(let n=0;n<t.length;n++){e=t.charCodeAt(n)+(e<<6)+(e<<16)-e}return 0|e}function serializeArrayToList(t,e){return t}function deserializeArrayFromList(t,e,n){t}function serializeDataRef(t){return t.resetRequestedSizeInByte(),t}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}function getSubState(t,e){return void 0===t[e]&&(t[e]={}),t[e]}function getSubStateAt(t,e,n){return void 0===t[e]&&(t[e]=[]),void 0===t[e][n]&&(t[e][n]={}),t[e][n]}function stateIsEmpty(t){return 0===Object.keys(t).length}function TransportState(t){return t}function RNBO_UNUSED(){}let xoshiro_reset=Xoshiro.reset,xoshiro_next=Xoshiro.next;module.exports={deserializeSrc:function(t){return _evalSrc(t)},deserializeJSON:function(t){var e=t;return"string"==typeof e&&(e={src:t}),_evalSrc(e.src)},extractOptionsFromJSON:function(t){var e=t;return"string"==typeof e&&(e=JSON.parse(t)),e.options?e.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:t=>{function e(){let t=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,e=this.getChannels();return e?t/e:0}function n(t,e){let n=t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e;this.requestedChannels=e,this.dataRef.requestSizeInBytes(n,!1)}function r(t,e){return this[this.getChannels()*Math.floor(e)+t]}function i(t,e){const n=this.getChannels();return t<0||t>=n||e<0||e>=this.getSize()?0:this[n*Math.floor(e)+t]}function s(t,e,n){this[this.getChannels()*Math.floor(e)+t]=n}function a(t,e,n){const r=this.getChannels();t<0||t>=r||e<0||e>=this.getSize()||(this[r*Math.floor(e)+t]=n)}function o(){return this.dataRef.channels}function u(){return this.dataRef.sampleRate}function h(t){this.dataRef.sampleRate=t}function c(){this.dataRef.clear()}function f(t){if(t!==this.dataRef.channels){let e=this.getSize();return this.clear(),this.dataRef.channels=t,this.setSize(e)}return this}function _(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&0!==this.requestedChannels&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let t;if(this.dataRef.isInternallyAllocated){let e=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);e/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,t=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,e)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let e=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return t?e.set(t):this.dataRef.wantsFillFlag=!0,y(e,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&m(e),e}return this}function l(t){let e=this.getChannels();return this.requestedChannels=e,this.dataRef.requestSizeInBytes(t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e,!0),this.allocateIfNeeded()}function I(){this.fill&&this.fill(0)}function M(){return this.touched}function b(t){this.touched=t}function p(t){this.dataRef.setWantsFill(t)}function d(){return this.dataRef.getIndex()}function y(t,r,i){t.dataRef=r,t.BASEARRAYVIEW=i,t.getSize=e,t.requestSize=n,t.setSize=l,t.allocateIfNeeded=_,t.setZero=I,t.clear=c,t.getChannels=o,t.getSampleRate=u,t.setWantsFill=p,t.getIndex=d,r.setZero=function(){t.setZero()},t.touched=!1,t.getTouched=M,t.setTouched=b}function m(t){t.getSample=r,t.getSampleSafe=i,t.setSample=s,t.setSampleSafe=a,t.setChannels=f,t.setSampleRate=h,t.isAudioBuffer=!0,t.requestedChannels=0}let v=function(t,e){let n;return n=t.arrayBuffer?new e(t.arrayBuffer):{},y(n,t,e),n};(v.prototype=Object.create(null)).constructor=v;let D=function(t,e){let n=v.call(this,t,e);return m(n),n};(D.prototype=Object.create(v)).constructor=D;let S=function(t){return D.call(this,t,Float32Array)};(S.prototype=Object.create(D.prototype)).constructor=S;let w=function(t){return D.call(this,t,Float64Array)};(w.prototype=Object.create(D.prototype)).constructor=w;let A=function(t,e){let n=new e(t.dataRefs[t.current]);return n.multiRef=t,n.setCurrent=function(t){this.multiRef.setCurrent(Math.round(t))},n.getIndex=function(){return this.multiRef.getIndex()},n};A.prototype=Object.create(null),A.constructor=A;let g=function(t){return A.call(this,t,S)};(g.prototype=Object.create(A.prototype)).constructor=g;let O=function(t){return A.call(this,t,w)};(O.prototype=Object.create(A.prototype)).constructor=O;let P=function(t){return v.call(this,t,Int32Array)};(P.prototype=Object.create(v.prototype)).constructor=P;let T=function(t){return v.call(this,t,Uint8Array)};(T.prototype=Object.create(v.prototype)).constructor=T,t.exports={Float32Buffer:S,Float64Buffer:w,Float32MultiBuffer:g,Float64MultiBuffer:O,IntBuffer:P,UInt8Buffer:T}},126:t=>{var e=function(){};(e.prototype=Object.create(null)).constructor=e,e.prototype.setEngineAndPatcher=function(){},e.prototype.initialize=function(){},e.prototype.getNumParameters=function(){return 0},e.prototype.setParameterValue=function(){},e.prototype.prepareToProcess=function(){},e.prototype.process=function(){},t.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new e}}},925:t=>{function e(t,e,n,r){n[r]=t[e]+0x9e3779b97f4a7c15n,n[r]=0xbf58476d1ce4e5b9n*(n[r]^n[r]>>30n),n[r]=0x94d049bb133111ebn*(n[r]^n[r]>>27n),n[r]=n[r]^n[r]>>31n}t.exports={reset:function(t,n){let r=new BigUint64Array(1);r[0]=BigInt(Math.trunc(1e6*t)),e(r,0,n,0),e(n,0,n,1),e(n,1,n,2),e(n,2,n,3)},next:function(t){let e=new BigUint64Array(1),n=new BigUint64Array(1);return n[0]=t[0]+t[3],e[0]=t[1]<<17n,t[2]^=t[0],t[3]^=t[1],t[1]^=t[2],t[0]^=t[3],t[2]^=e[0],t[3]=t[3]<<45n|t[3]>>19n,n[0]=n[0]>>11n,2220446049250313e-31*Number(n[0])-1}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}var __webpack_exports__={};(()=>{var t;!function(t){t[t.Float32Audio=0]="Float32Audio",t[t.TypedArray=1]="TypedArray"}(t||(t={}));class e{constructor(){this.type=t.TypedArray}serialize(){return{type:this.type}}}class n{constructor(e,n){this.channels=0,this.sampleRate=0,this.type=t.Float32Audio,this.channels=e,this.sampleRate=n}static fromAudioBuffer(t){return new n(t.numberOfChannels,t.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}var r,i,s,a;!function(t){t[t.BufferTransfer=0]="BufferTransfer",t[t.ClockEvent=1]="ClockEvent",t[t.DataRefEvent=2]="DataRefEvent",t[t.MessageEvent=3]="MessageEvent",t[t.MIDIEvent=4]="MIDIEvent",t[t.ParameterEvent=5]="ParameterEvent",t[t.PresetEvent=6]="PresetEvent",t[t.StartupEvent=7]="StartupEvent",t[t.TransportEvent=8]="TransportEvent",t[t.TempoEvent=9]="TempoEvent",t[t.BeatTimeEvent=10]="BeatTimeEvent",t[t.TimeSignatureEvent=11]="TimeSignatureEvent"}(r||(r={}));class o{constructor(t=0,e){this.invalid=!1,this.time=t,this.eventTarget=e}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}!function(t){t[t.Update=1]="Update"}(i||(i={}));class u extends o{constructor(t,e,n,i="",s){super(t,s),this.type=r.MessageEvent,this.objectId=i,this.tag=e,this.payload=n}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class h extends o{constructor(t,e,n,i){if(super(t,i),this.type=r.MIDIEvent,n.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${n.length}`);if(this.data=n,this.data.length<3){const t=n.length;this.data.length=3,this.data=this.data.fill(void 0,t,3)}let s=0;for(let t=0;t<3;t++)void 0!==n[t]&&s++;if(s<1)throw new Error("MIDIData must at least have the first byte set.");this.length=s,this.status=240&n[0],this.channel=15&n[0],this.port=e}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class c extends o{constructor(t,e,n,i,s){super(t,s),this.type=r.ParameterEvent,this.target=e,this.value=n,this.source=i}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}!function(t){t[t.Set=1]="Set",t[t.Touched=2]="Touched"}(s||(s={}));class f extends o{constructor(t,e,n){super(t,void 0),this.type=r.PresetEvent,this.action=e,this.preset=n}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}!function(t){t[t.BEGIN=0]="BEGIN",t[t.END=1]="END"}(a||(a={}));var _,l;!function(t){t[t.Number=0]="Number",t[t.Bang=1]="Bang",t[t.List=2]="List",t[t.Signal=3]="Signal",t[t.Count=4]="Count",t[t.Enum=5]="Enum"}(_||(_={})),function(t){t[t.All=0]="All",t[t.Internal=1]="Internal"}(l||(l={}));(()=>{try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const t=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly.Module)return new WebAssembly.Instance(t)instanceof WebAssembly.Instance}}catch(t){}})();"undefined"!=typeof isSecureContext&&isSecureContext;Math.pow(10,4);const I=t=>t.slice();class M{constructor(){this.t=[],this.i=[]}get listenerCount(){return this.t.length+this.i.length}emit(t){if(this.t.length){const e=I(this.t);for(let n=0,r=e.length;n<r;n++)e[n](t)}if(this.i.length){const e=I(this.i);for(let n=0,r=e.length;n<r;n++)e[n](t);e.forEach((t=>this.unsubscribe(t)))}}once(t){return this.i.push(t),{unsubscribe:()=>this.unsubscribe(t)}}subscribe(t){return this.t.push(t),{unsubscribe:()=>this.unsubscribe(t)}}unsubscribe(t){const e=this.t.indexOf(t);e>=0&&this.t.splice(e,1);const n=this.i.indexOf(t);n>=0&&this.i.splice(n,1)}removeAllSubscriptions(){this.t=[],this.i=[]}}function b(t){return class extends t{constructor(...t){super(),this.changeEvent=new M,this.o=new M;const e=t[0];this.u=e.notificationSetting,this.convertFromNormalizedValue=e.scaling.convertFromNormalized,this.convertToNormalizedValue=e.scaling.convertToNormalized,this.constrainParameterValue=e.scaling.constrainParameterValue,this.initialValue=e.initialValue,this.h=e.initialValue,this.displayName=e.displayName||e.name,this.exponent=e.exponent,this.id=e.id,this.index=e.index,this.min=e.min,this.max=e.max,this.name=e.name,this.steps=e.steps,this.unit=e.unit||""}get notificationSetting(){return this.u}get normalizedValue(){return this.convertToNormalizedValue(this.h)}set normalizedValue(t){this._(this.convertFromNormalizedValue(t))}l(t){this.u=t}_(t){t=this.constrainParameterValue(t),this.h!==t&&(this.h=t,this.o.emit(this),this.notificationSetting===l.All&&this.changeEvent.emit(t))}I(t){this.h=t,this.changeEvent.emit(t)}}}b(Object);b(Object);b(Object);var p=__webpack_require__(133);class d{constructor(){this.M={},this.p=new Float32Array(128)}addParam(t,e){t.type==p.ParameterTypeSignal&&t.ioType===p.IOTypeInput&&(this.M[t.signalIndex]={name:e,param:new Float32Array(128)})}getParamName(t){let e=this.M[t];return void 0!==e?e.name:void 0}getParamArray(t,e,n){if(e.length==n)return e;{let r=this.M[t];return r.param.length!=n&&(r.param=new Float32Array(n)),r.param.fill(e[0])}}}class y{constructor(t,e){this.m=0,this.v=0,this.D=!1,this.S=new d,this.A=e;let n=new this.A.CoreObject;this.g=n;let r={handleParameterEvent:t.handleParameterEvent.bind(t),handleMidiEvent:t.handleMidiEvent.bind(t),handleMessageEvent:t.handleMessageEvent.bind(t),handlePresetEvent:t.handlePresetEvent.bind(t)},i=this.A.EventHandler.implement(r);this.O=n.createParameterInterface(i);for(let t=0;t<n.getNumParameters();t++){let e=n.getParameterInfo(t);this.S.addParam(e,n.getParameterName(t))}this.m=n.getNumInputChannels()+n.getNumSignalInParameters(),this.v=n.getNumOutputChannels(),this.D=!0}isReady(){return this.D}pushArray(t){let e=this.g.getArrayPassingHEAP(t.length);return this.A.HEAPF64.set(t,e>>3),e}retrieveArray(t){let e=[];for(let n=0;n<t.size();n++)e.push(t.get(n));return e}setExternalData(t,r,i){const s=new Uint8Array(r),a=this.g.getNewMemoryBuffer(s.byteLength);this.A.HEAPU8.set(s,a),i instanceof n?this.g.setExternalAudioBuffer(t,a,s.byteLength,i.channels,i.sampleRate):i instanceof e&&this.g.setExternalUntypedBuffer(t,a,s.byteLength)}releaseExternalData(t){let r,i=this.g.getDataRefIndex(t),s=this.g.getDataRefType(i),a=this.g.getDataRefData(i),o=new Uint8Array(a.sizeInBytes);return o.set(this.A.HEAPU8.subarray(a.data,a.data+a.sizeInBytes)),r=1==s.type?new n(s.channels,s.sampleRate):new e,this.g.releaseDataRef(i),[o.buffer,r]}getCurrentTime(){return this.g.getCurrentTime()}setCurrentTime(t){this.g.setCurrentTime(t)}prepareToProcess(t,e){this.g.prepareToProcess(t,e)}process(t,e,n,r,i,s){let a=0,o=0;for(let n=0;n<e&&a<this.m;n++){let e=t[n],r=this.g.getInputChannel(a);this.A.HEAPF64.set(e,r>>3),a++}if(s)for(let t=a;t<this.m;t++){let e=this.S.getParamName(t);if(void 0!==e){let n=this.g.getInputChannel(t);this.A.HEAPF64.set(this.S.getParamArray(t,s[e],i),n>>3),a++}}this.g.process(a,this.v,i);for(let t=0;t<r&&o<this.v;t++){let e=n[t],r=this.g.getOutputChannel(o)>>3;e.set(this.A.HEAPF64.subarray(r,r+e.length)),o++}}resolveTag(t){return this.g.resolveTag(t)}scheduleEvent(t){t.type===r.MIDIEvent?this.g.scheduleMidiEvent(t.time,t.port,t.data[0],t.data[1],t.data[2]):t.type===r.ParameterEvent?this.g.scheduleParameterEvent(t.target,t.time,t.value,t.source):t.type===r.MessageEvent?Array.isArray(t.payload)?this.g.sendListMessage(t.tag,t.objectId,this.pushArray(t.payload),t.payload.length,t.time):"number"==typeof t.payload?this.g.sendNumMessage(t.tag,t.objectId,t.payload,t.time):void 0===t.payload&&this.g.sendBangMessage(t.tag,t.objectId,t.time):t.type===r.TransportEvent?this.g.scheduleTransportEvent(t.time,t.state):t.type===r.TempoEvent?this.g.scheduleTempoEvent(t.time,t.tempo):t.type===r.BeatTimeEvent?this.g.scheduleBeatTimeEvent(t.time,t.beattime):t.type===r.TimeSignatureEvent&&this.g.scheduleTimeSignatureEvent(t.time,t.numerator,t.denominator)}getNumParameters(){return this.g.getNumParameters()}getParameterValue(t){return this.g.getParameterValue(t)}numIns(){return this.m}numOuts(){return this.v}getPreset(){return this.g.getPreset()}setPreset(t){this.g.setPreset(t)}}var m,v;!function(t){t[t.LoadPatcher=0]="LoadPatcher",t[t.ScheduleEvent=1]="ScheduleEvent",t[t.TransferBuffer=2]="TransferBuffer",t[t.ReleaseBuffer=3]="ReleaseBuffer",t[t.SetPreset=4]="SetPreset",t[t.GetPreset=5]="GetPreset"}(m||(m={})),function(t){t[t.LoadPatcherFinished=1e3]="LoadPatcherFinished",t[t.OutgoingEvent=1002]="OutgoingEvent",t[t.ReleasedBuffer=1003]="ReleasedBuffer",t[t.TransferBufferFinished=1004]="TransferBufferFinished",t[t.GetPresetResponse=1005]="GetPresetResponse"}(v||(v={}));class D extends AudioWorkletProcessor{constructor(r){super(r),this.P=128,this.T=r=>{switch(r.data[0]){case m.LoadPatcher:rnbo_module().then((t=>{this.C=new y(this,t),this.port.postMessage([v.LoadPatcherFinished])}));break;case m.ScheduleEvent:const i=r.data[1];this.C.scheduleEvent(i);break;case m.TransferBuffer:{const i=r.data[1],s=(r=>{switch(r.type){case t.Float32Audio:return new n(r.channels,r.sampleRate);case t.TypedArray:return new e;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${r.type}`)}})(i.typeDesc);this.C.setExternalData(i.memoryId,i.data,s),this.port.postMessage([v.TransferBufferFinished,{memoryId:i.memoryId}]);break}case m.ReleaseBuffer:{const t=r.data[1],[e,n]=this.C.releaseExternalData(t.memoryId);this.port.postMessage([v.ReleasedBuffer,{memoryId:t.memoryId,data:e,typeDesc:n.serialize()}],[e]);break}case m.GetPreset:{const t=JSON.parse(this.C.getPreset());this.port.postMessage([v.GetPresetResponse,{preset:t}]);break}case m.SetPreset:{const t=r.data[1];this.C.setPreset(JSON.stringify(t.preset))}}},this.port.onmessage=this.T,this.port.start()}static get parameterDescriptors(){return XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX}handleParameterEvent(t){this.port.postMessage([v.OutgoingEvent,new c(t.time,t.index,t.value,t.source,void 0).serialize()])}handleMidiEvent(t){const e=new h(t.time,t.port,[t.b1,t.b2,t.b3],void 0);this.port.postMessage([v.OutgoingEvent,e.serialize()])}handleMessageEvent(t){const e=new u(t.time,this.C.resolveTag(t.tag),0==t.type?t.numValue:1===t.type?this.C.retrieveArray(t.listValue):void 0,this.C.resolveTag(t.objectId));this.port.postMessage([v.OutgoingEvent,e.serialize()])}handlePresetEvent(t){const e=new f(t.time,s.Touched);this.port.postMessage([v.OutgoingEvent,e.serialize()])}process(t,e,n){let r=0,i=0;if(!this.C||!this.C.isReady())return!0;let s=0;e.length&&e[0]&&e[0].length&&e[0][0]?s=e[0][0].length:t.length&&t[0]&&t[0].length&&t[0][0]&&(s=t[0][0].length),s||(s=this.P),this.P<s&&(this.P=s),this.C.setCurrentTime(1e3*currentTime),this.C.prepareToProcess(sampleRate,s);const a=[];for(let e=0;e<t.length&&r<this.C.numIns();e++){const n=t[e];for(let t=0;t<n.length&&r<this.C.numIns()&&n[t].length>0;t++)a.push(n[t]),r++}const o=[];for(let t=0;t<e.length&&i<this.C.numOuts();t++){const n=e[t];for(let t=0;t<n.length&&i<this.C.numOuts();t++)o.push(n[t]),i++}return this.C.process(a,r,o,i,s,n),!0}}let S="XXXX---RNBOPROCESSORNAME_REPLACE---XXXX";S.startsWith("XXXX---RNBOPROCESSORNAME_REPLACE---")&&(S="RNBOProcessor"),registerProcessor(S,D)})()})();'};class U extends x{constructor({context:ee,parameterNotificationSetting:$},W){super({context:ee,parameterNotificationSetting:$,type:o.Worklet}),W?this.it=W.it:(this.it=new j,this.it.setPatcherDesc(V.desc),this.it.setPatcherCode(V.src[0].code)),this.Mt=W?W.node:void 0}Lt(){let ee="[";const $=this.it.getNumParameters();let W=!0;for(let Q=0;Q<$;Q++){const te=this.it.getParameterInfo(Q);if(te&&te.type!==void 0&&te.type===D.ParameterTypeSignal&&te.ioType!==void 0&&te.ioType===D.IOTypeInput){const ce=te.min===void 0?0:te.min,oe=te.max===void 0?1:te.max;W||(ee+=", "),ee+="{ name: '"+te.name+"', automationRate: 'a-rate', minValue: "+ce+", maxValue: "+oe+"}",W=!1}}return ee+="]",ee}get node(){return this.wt(),this.Mt}setPatcher(ee,$){return(0,N.mG)(this,void 0,void 0,function*(){if(!this.it)throw new Error("Attempt to set patcher on a WorkletDevice without assigning engine first.");this.vt(),yield this.it.setPatcherDesc(ee),this.F.setEngine(this.it),this.it.outgoingEvent.subscribe(this.dt),this.it.prepareToProcess(this.context.sampleRate,128,!1),this.ft=$.type;const W=k[$.type];let Q=this.numInputChannels,te=this.numOutputChannels;Q<1&&(Q=1),te<1&&(te=1);const ce=`RNBOProcessor-${(0,b.EL)()}`;let oe=W.replace("XXXX---RNBOPROCESSORNAME_REPLACE---XXXX",ce).replace("XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX",this.Lt());switch($.type){case"js":oe=oe.replace("XXXX___RNBOPATCHERDESC_REPLACE___XXXX",R.from(JSON.stringify(ee),"utf-8").toString("base64")).replace("XXXX___RNBOPATCHERSRC_REPLACE___XXXX",R.from(this.Et($),"utf-8").toString("base64"));break;case"wasm":oe=this.Et($)+`

`+oe}const ue=URL.createObjectURL(new Blob([oe],{type:"text/javascript"}));yield this.context.audioWorklet.addModule(ue),this.Mt=new(L())(this.context,ce,this.it.eventSubjects,{numberOfInputs:Q,numberOfOutputs:1,outputChannelCount:[te]}),yield this.Mt.loadPatcher(),this.F.parameterChangeEvent.subscribe(this.gt)})}}var G=__webpack_require__(676);const H="1.3.2",X={bufferSize:1024,parameterNotificationSetting:h.EX.All};function Z(J,ee){var $,W,Q,te;return(0,N.mG)(this,void 0,void 0,function*(){const{context:ce,patcher:oe,type:ue="auto"}=J,we=((W=($=oe.desc)===null||$===void 0?void 0:$.meta)===null||W===void 0?void 0:W.rnboversion)||oe.desc.rnboVersion;if(we!==H&&(console.error||console.log)(`
Warning: The patcher was exported with a RNBO version does not match the version of @rnbo/js:
@rnbo/js	v${H}
patcher		v${we}
In order to have full compatibility and avoid unexpected behavior please ensure that you use the version of @rnbo/js that matches the version of RNBO you used to export your patcher.`.trim()),!(!((Q=oe.src)===null||Q===void 0)&&Q.length)||!Array.isArray(oe.src))throw new Error("Incompatible patcher. Please export you patch with a newer, matching version of RNBO or adjust the version of @rnbo/js you are using.");if(!new Set((te=oe.src)===null||te===void 0?void 0:te.map(ye=>ye.type)).has("js")&&!b.f8)throw new Error("Incompatible browser. RNBO requires WASM support in order to run your exported patch as a Device.");const le=oe.src.find(ye=>b.f8&&ye.type==="wasm")||oe.src.find(ye=>ye.type==="js"),fe=Object.assign({},X,J.options);if(!ce)throw new Error("Missing argument context");if(ue===o.Worklet&&!b.I7)throw new Error("Failed to create WorkletDevice due to missing AudioWorklet support. Please use the Device.Script or 'auto' option instead");const ve=ue==="auto"?b.I7?o.Worklet:o.Script:ue;if(ve!==o.Script&&ve!==o.Worklet)throw new Error(`Unknown Device type ${ve}. Please make sure to use either 'auto' or a valid DeviceType`);let pe;if(ve===o.Script){if(ee&&!(ee instanceof B))throw new Error("Error: Creating a device from an existing device cannot alter the type of the device. Please make sure to use a consistent 'type' parameter.");pe=new B({bufferSize:fe.bufferSize,parameterNotificationSetting:fe.parameterNotificationSetting,context:ce},(ee==null?void 0:ee.sourceType)===le.type?ee:void 0)}else if(ve===o.Worklet){if(ee&&!(ee instanceof U))throw new Error("Error: Creating a device from an existing device cannot alter the type of the device. Please make sure to use a consistent 'type' parameter.");pe=new U({context:ce,parameterNotificationSetting:fe.parameterNotificationSetting},ee)}return ee&&ee.destroy(),pe=pe,yield pe.setPatcher(oe.desc,le),pe})}})(),__webpack_exports__})()},module.exports=factory()})(rnbo_webaudio);var rnbo_webaudioExports=rnbo_webaudio.exports;const dummy=new Oscillator({volume:-1/0,frequency:0,type:"sine1"}).start();class RNBODevice{constructor(){Bt(this,"defaults",{});Bt(this,"input");Bt(this,"output");Bt(this,"device");Bt(this,"ready",!1);Bt(this,"context",context.rawContext._nativeAudioContext||context.rawContext._context);Bt(this,"params");Bt(this,"patcher",null);Bt(this,"state",{last:60});this.input=new Gain(1),this.output=new Gain(1),dummy.connect(this.output),dummy.connect(this.input)}async initDevice(){var u;return(u=this.patcher)==null?void 0:u.then(n=>rnbo_webaudioExports.createDevice({context:this.context,patcher:n}).then(a=>{this.device=a,a.node.connect(this.output._gainNode._nativeAudioNode),this.input._gainNode._nativeAudioNode.connect(a.node),this.ready=!0}))}messageDevice(u,n,a){const r=new rnbo_webaudioExports.MessageEvent(a*1e3-10,u,[n]);this.device.scheduleEvent(r)}connect(u){this.output.connect(u)}disconnect(){this.output.disconnect()}setParams(u,n){Object.entries(u).filter(([a,r])=>this.params.includes(a)).forEach(([a,r])=>{a!=="i"&&this.state[a]===r||(this.state[a]=r,this[a]&&this[a](r,n))})}mutate(u={},n,a=100){if(!this.ready)return;const{nudge:r}=u,b=Object.entries(u).reduce((h,[m,p])=>({...h,[`_${m}`]:p}),{});this.setParams(b,n),this.messageDevice("mutate",a,n+(r||0)/1e3)}}class BaseSynth extends RNBODevice{constructor(){super();Bt(this,"defaults",{dur:1e3,n:60,pan:.5,vol:1,amp:1,hold:0,a:10,d:100,s:.8,r:500,moda:10,modd:100,mods:.8,modr:500,fila:10,fild:100,fils:.8,filr:500,res:0,cutoff:2e4,detune:0});this.dur=this.dur.bind(this),this.n=this.n.bind(this),this._n=this._n.bind(this),this.pan=this.pan.bind(this),this._pan=this._pan.bind(this),this.vol=this.vol.bind(this),this._vol=this._vol.bind(this),this.amp=this.amp.bind(this),this._amp=this._amp.bind(this),this.hold=this.hold.bind(this),this.a=this.a.bind(this),this.acurve=this.acurve.bind(this),this.d=this.d.bind(this),this.dcurve=this.dcurve.bind(this),this.s=this.s.bind(this),this.r=this.r.bind(this),this.rcurve=this.rcurve.bind(this),this.moda=this.moda.bind(this),this.modacurve=this.modacurve.bind(this),this.modd=this.modd.bind(this),this.moddcurve=this.moddcurve.bind(this),this.mods=this.mods.bind(this),this.modr=this.modr.bind(this),this.modrcurve=this.modrcurve.bind(this),this.fila=this.fila.bind(this),this.filacurve=this.filacurve.bind(this),this.fild=this.fild.bind(this),this.fildcurve=this.fildcurve.bind(this),this.fils=this.fils.bind(this),this.filr=this.filr.bind(this),this.filrcurve=this.filrcurve.bind(this),this.res=this.res.bind(this),this._res=this._res.bind(this),this.cutoff=this.cutoff.bind(this),this._cutoff=this._cutoff.bind(this),this.detune=this.detune.bind(this),this._detune=this._detune.bind(this)}play(n={},a){if(!this.ready)return;const r={...this.defaults,...n},{n:b,amp:h,nudge:m}=r;this.release(b,a),this.setParams(r,a);const p=new rnbo_webaudioExports.MIDIEvent(a*1e3+(m||0)+10,0,[144,b||60,h*127]);this.device.scheduleEvent(p)}release(n,a){if(!this.ready)return;const r=new rnbo_webaudioExports.MIDIEvent(a*1e3+10,0,[128,n,0]);this.device.scheduleEvent(r)}cut(n,a=5){this.ready&&this.messageDevice("cut",a,n)}dur(n=1e3,a){this.messageDevice("dur",n,a)}n(n=60,a){this.messageDevice("n",n,a)}_n(n=60,a){this.messageDevice("_n",n,a)}nudge(n=0,a){}pan(n=.5,a){this.messageDevice("pan",n,a)}_pan(n=.5,a){this.messageDevice("_pan",n,a)}amp(n=1,a){this.messageDevice("amp",n,a)}_amp(n=1,a){this.messageDevice("_amp",n,a)}vol(n=1,a){this.messageDevice("vol",n,a)}_vol(n=1,a){this.messageDevice("_vol",n,a)}hold(n,a){this.messageDevice("hold",n,a)}a(n=10,a){this.messageDevice("a",n,a)}d(n=100,a){this.messageDevice("d",n,a)}s(n=.5,a){this.messageDevice("s",n,a)}r(n=1e3,a){this.messageDevice("r",n,a)}acurve(n,a){this.messageDevice("acurve",n,a)}dcurve(n,a){this.messageDevice("dcurve",n,a)}rcurve(n,a){this.messageDevice("rcurve",n,a)}moda(n=10,a){this.messageDevice("moda",n,a)}modd(n=100,a){this.messageDevice("modd",n,a)}mods(n=.8,a){this.messageDevice("mods",n,a)}modr(n=1e3,a){this.messageDevice("modr",n,a)}modacurve(n,a){this.messageDevice("modacurve",n,a)}moddcurve(n,a){this.messageDevice("moddcurve",n,a)}modrcurve(n,a){this.messageDevice("modrcurve",n,a)}fila(n=10,a){this.messageDevice("fila",n,a)}fild(n=100,a){this.messageDevice("fild",n,a)}fils(n=.8,a){this.messageDevice("fils",n,a)}filr(n=1e3,a){this.messageDevice("filr",n,a)}filacurve(n,a){this.messageDevice("filacurve",n,a)}fildcurve(n,a){this.messageDevice("fildcurve",n,a)}filrcurve(n,a){this.messageDevice("filrcurve",n,a)}res(n=0,a){this.messageDevice("res",n,a)}_res(n=0,a){this.messageDevice("_res",n,a)}cutoff(n=2e4,a){this.messageDevice("cutoff",n,a)}_cutoff(n=2e4,a){this.messageDevice("_cutoff",n,a)}detune(n=0,a){this.messageDevice("detune",n,a)}_detune(n=0,a){this.messageDevice("_detune",n,a)}}const patcher$b=fetch(new URL(""+new URL("../assets/synth.export.bf528032.json",import.meta.url).href,self.location)).then(N=>N.json()),patcherLite=fetch(new URL(""+new URL("../assets/synth-lite.export.29519492.json",import.meta.url).href,self.location)).then(N=>N.json());let Synth$2=class extends BaseSynth{constructor(u={}){super(),this.defaults={...this.defaults,osc:0,drift:0,modi:0,harm:1},this.patcher=u.lite?patcherLite:patcher$b,this.initDevice(),this.osc=this.osc.bind(this),this._osc=this._osc.bind(this),this.drift=this.drift.bind(this),this._drift=this._drift.bind(this),this.modi=this.modi.bind(this),this._modi=this._modi.bind(this),this.harm=this.harm.bind(this),this._harm=this._harm.bind(this),this.params=Object.getOwnPropertyNames(this)}osc(u=0,n){this.messageDevice("osc",u,n)}_osc(u=0,n){this.messageDevice("_osc",u,n)}drift(u=0,n){this.messageDevice("drift",u,n)}_drift(u=0,n){this.messageDevice("_drift",u,n)}modi(u=0,n){this.messageDevice("modi",u,n)}_modi(u=0,n){this.messageDevice("_modi",u,n)}harm(u=1,n){this.messageDevice("harm",u,n)}_harm(u=1,n){this.messageDevice("_harm",u,n)}};fetch(new URL(""+new URL("../assets/synth-gen.export.562f0fb5.json",import.meta.url).href,self.location)).then(N=>N.json());const patcher$a=fetch(new URL(""+new URL("../assets/superfm.export.27e59195.json",import.meta.url).href,self.location)).then(N=>N.json());let Synth$1=class extends BaseSynth{constructor(){super(),this.defaults={...this.defaults,a:10,d:100,s:.8,r:125,op1ratio:1,op1gain:1,op1fb:0,op2a:10,op2d:100,op2s:.8,op2r:1e3,op2ratio:1,op2gain:1,op2fb:0,op3a:10,op3d:100,op3s:.8,op3r:1e3,op3ratio:1,op3gain:1,op3fb:0},this.patcher=patcher$a,this.initDevice(),this.op1ratio=this.op1ratio.bind(this),this._op1ratio=this._op1ratio.bind(this),this.op1gain=this.op1gain.bind(this),this._op1gain=this._op1gain.bind(this),this.op1fb=this.op1fb.bind(this),this._op1fb=this._op1fb.bind(this),this.op2a=this.op2a.bind(this),this.op2d=this.op2d.bind(this),this.op2s=this.op2s.bind(this),this.op2r=this.op2r.bind(this),this.op2ratio=this.op2ratio.bind(this),this._op2ratio=this._op2ratio.bind(this),this.op2gain=this.op2gain.bind(this),this._op2gain=this._op2gain.bind(this),this.op2fb=this.op2fb.bind(this),this._op2fb=this._op2fb.bind(this),this.op3a=this.op3a.bind(this),this.op3d=this.op3d.bind(this),this.op3s=this.op3s.bind(this),this.op3r=this.op3r.bind(this),this.op3ratio=this.op3ratio.bind(this),this._op3ratio=this._op3ratio.bind(this),this.op3gain=this.op3gain.bind(this),this._op3gain=this._op3gain.bind(this),this.op3fb=this.op3fb.bind(this),this._op3fb=this._op3fb.bind(this),this.params=Object.getOwnPropertyNames(this)}op1ratio(u=0,n){this.messageDevice("op1ratio",u,n)}_op1ratio(u=0,n){this.messageDevice("_op1ratio",u,n)}op1gain(u=0,n){this.messageDevice("op1gain",u,n)}_op1gain(u=0,n){this.messageDevice("_op1gain",u,n)}op1fb(u=0,n){this.messageDevice("op1fb",u,n)}_op1fb(u=0,n){this.messageDevice("_op1fb",u,n)}op2a(u=0,n){this.messageDevice("op2a",u,n)}op2d(u=0,n){this.messageDevice("op2d",u,n)}op2s(u=0,n){this.messageDevice("op2s",u,n)}op2r(u=0,n){this.messageDevice("op2r",u,n)}op2ratio(u=0,n){this.messageDevice("op2ratio",u,n)}_op2ratio(u=0,n){this.messageDevice("_op2ratio",u,n)}op2gain(u=0,n){this.messageDevice("op2gain",u,n)}_op2gain(u=0,n){this.messageDevice("_op2gain",u,n)}op2fb(u=0,n){this.messageDevice("op2fb",u,n)}_op2fb(u=0,n){this.messageDevice("_op2fb",u,n)}op3a(u=0,n){this.messageDevice("op3a",u,n)}op3d(u=0,n){this.messageDevice("op3d",u,n)}op3s(u=0,n){this.messageDevice("op3s",u,n)}op3r(u=0,n){this.messageDevice("op3r",u,n)}op3ratio(u=0,n){this.messageDevice("op3ratio",u,n)}_op3ratio(u=0,n){this.messageDevice("_op3ratio",u,n)}op3gain(u=0,n){this.messageDevice("op3gain",u,n)}_op3gain(u=0,n){this.messageDevice("_op3gain",u,n)}op3fb(u=0,n){this.messageDevice("op3fb",u,n)}_op3fb(u=0,n){this.messageDevice("_op3fb",u,n)}};const samples$2={};class BaseSamplingDevice extends BaseSynth{constructor(){super();Bt(this,"nextBuffer",0);Bt(this,"banks",{});Bt(this,"currentBank","");Bt(this,"buffers",{});this.bank=this.bank.bind(this),this.i=this.i.bind(this)}async bank(n){this.currentBank=n}async loadSample(n,a){if(!this.ready)return;const r=this.banks[n][a],b=Object.values(this.buffers).indexOf(r);if(b<0){const h=`${n}-${a}`,m=samples$2[h]||await fetch(r).then(A=>A.arrayBuffer()).then(A=>this.context.decodeAudioData(A)).catch(A=>console.log(A)),p=`b${this.nextBuffer}`;this.device.setDataBuffer(p,m),this.buffers[p]=r,samples$2[h]=m,this.nextBuffer=(this.nextBuffer+1)%32}return b}async i(n,a){if(!this.currentBank)return;const r=n%this.banks[this.currentBank].length,b=await this.loadSample(this.currentBank,r);this.messageDevice("i",b,a)}}const patcher$9=fetch(new URL(""+new URL("../assets/sampler.export.6467d9b8.json",import.meta.url).href,self.location)).then(N=>N.json());class Sampler extends BaseSamplingDevice{constructor(){super(),this.defaults={...this.defaults,i:0,snap:0,rate:1,a:5,d:10,s:1,r:100,bpm:120,begin:0,end:1,loop:0,oneshot:0,loopsize:1},this.patcher=patcher$9,this.initDevice(),this.snap=this.snap.bind(this),this.rate=this.rate.bind(this),this._rate=this._rate.bind(this),this.begin=this.begin.bind(this),this.end=this.end.bind(this),this.loop=this.loop.bind(this),this.loopsize=this.loopsize.bind(this),this._loopsize=this._loopsize.bind(this),this.oneshot=this.oneshot.bind(this),this.bpm=this.bpm.bind(this),this.params=Object.getOwnPropertyNames(this)}snap(u=0,n){this.messageDevice("snap",u,n)}rate(u=1,n){this.messageDevice("rate",u,n)}_rate(u=1,n){this.messageDevice("_rate",u,n)}begin(u=0,n){this.messageDevice("begin",u,n)}end(u=1,n){this.messageDevice("end",u,n)}loop(u=0,n){this.messageDevice("loop",u,n)}loopsize(u=1,n){this.messageDevice("loopsize",u,n)}_loopsize(u=1,n){this.messageDevice("_loopsize",u,n)}oneshot(u=0,n){this.messageDevice("oneshot",u,n)}bpm(u=120,n){this.messageDevice("bpm",u,n)}}const patcher$8=fetch(new URL(""+new URL("../assets/granular.export.a872c07b.json",import.meta.url).href,self.location)).then(N=>N.json());class Granular extends BaseSamplingDevice{constructor(){super(),this.defaults={...this.defaults,i:0,snap:0,rate:1,a:0,d:10,s:1,r:100,bpm:60,grainrate:16,grainsize:.125,grainslope:.01,grainpan:.2,direction:1,begin:0,end:1},this.patcher=patcher$8,this.initDevice(),this.snap=this.snap.bind(this),this.rate=this.rate.bind(this),this._rate=this._rate.bind(this),this.grainrate=this.grainrate.bind(this),this._grainrate=this._grainrate.bind(this),this.grainsize=this.grainsize.bind(this),this._grainsize=this._grainsize.bind(this),this.grainslope=this.grainslope.bind(this),this._grainslope=this._grainslope.bind(this),this.grainpan=this.grainpan.bind(this),this._grainpan=this._grainpan.bind(this),this.direction=this.direction.bind(this),this._direction=this._direction.bind(this),this.begin=this.begin.bind(this),this.end=this.end.bind(this),this.loop=this.loop.bind(this),this.bpm=this.bpm.bind(this),this.params=Object.getOwnPropertyNames(this)}snap(u=0,n){this.messageDevice("snap",u,n)}rate(u=1,n){this.messageDevice("rate",u,n)}_rate(u=1,n){this.messageDevice("_rate",u,n)}grainrate(u=16,n){this.messageDevice("grainrate",u,n)}_grainrate(u=16,n){this.messageDevice("_grainrate",u,n)}grainsize(u=.125,n){this.messageDevice("grainsize",u,n)}_grainsize(u=.125,n){this.messageDevice("_grainsize",u,n)}grainslope(u=.01,n){this.messageDevice("grainslope",u,n)}_grainslope(u=.01,n){this.messageDevice("_grainslope",u,n)}grainpan(u=.2,n){this.messageDevice("grainpan",u,n)}_grainpan(u=.2,n){this.messageDevice("_grainpan",u,n)}direction(u=1,n){this.messageDevice("direction",u,n)}_direction(u=1,n){this.messageDevice("_direction",u,n)}begin(u=0,n){this.messageDevice("begin",u,n)}end(u=1,n){this.messageDevice("end",u,n)}loop(u=0,n){this.messageDevice("loop",u,n)}bpm(u=120,n){this.messageDevice("bpm",u,n)}}const patcher$7=fetch(new URL(""+new URL("../assets/additive.export.a0581da3.json",import.meta.url).href,self.location)).then(N=>N.json());class Synth extends BaseSynth{constructor(){super(),this.defaults={...this.defaults,osc:0,drift:1,pmuln:0,pmul:0,pdisp:0,pexp:.1},this.patcher=patcher$7,this.initDevice(),this.osc=this.osc.bind(this),this._osc=this._osc.bind(this),this.drift=this.drift.bind(this),this._drift=this._drift.bind(this),this.pmuln=this.pmuln.bind(this),this._pmuln=this._pmuln.bind(this),this.pmul=this.pmul.bind(this),this._pmul=this._pmul.bind(this),this.pdisp=this.pdisp.bind(this),this._pdisp=this._pdisp.bind(this),this.pexp=this.pexp.bind(this),this._pexp=this._pexp.bind(this),this.params=Object.getOwnPropertyNames(this)}osc(u=0,n){this.messageDevice("osc",u,n)}_osc(u=0,n){this.messageDevice("_osc",u,n)}drift(u=0,n){this.messageDevice("drift",u,n)}_drift(u=0,n){this.messageDevice("_drift",u,n)}pmuln(u=0,n){this.messageDevice("pmuln",u,n)}_pmuln(u=0,n){this.messageDevice("_pmuln",u,n)}pmul(u=0,n){this.messageDevice("pmul",u,n)}_pmul(u=0,n){this.messageDevice("_pmul",u,n)}pdisp(u=0,n){this.messageDevice("pdisp",u,n)}_pdisp(u=0,n){this.messageDevice("_pdisp",u,n)}pexp(u=0,n){this.messageDevice("pexp",u,n)}_pexp(u=0,n){this.messageDevice("_pexp",u,n)}}const patcher$6=fetch(new URL(""+new URL("../assets/acid.export.a0c8e199.json",import.meta.url).href,self.location)).then(N=>N.json());class AcidSynth extends BaseSynth{constructor(){super(),this.defaults={...this.defaults,slide:10,fil:.5,osc:.6,sub:.5,dur:100,a:10,d:100,s:.5,r:50,fila:10,fild:100,fils:.1,filr:100,res:.8,cutoff:7500},this.patcher=patcher$6,this.initDevice(),this.slide=this.slide.bind(this),this.fil=this.fil.bind(this),this._fil=this._fil.bind(this),this.osc=this.osc.bind(this),this._osc=this._osc.bind(this),this.sub=this.sub.bind(this),this._sub=this._sub.bind(this),this.params=Object.getOwnPropertyNames(this)}osc(u=.6,n){this.messageDevice("osc",u,n)}_osc(u=.6,n){this.messageDevice("_osc",u,n)}slide(u=10,n){this.messageDevice("slide",u,n)}fil(u=.5,n){this.messageDevice("fil",u,n)}_fil(u=.5,n){this.messageDevice("_fil",u,n)}sub(u=.5,n){this.messageDevice("sub",u,n)}_sub(u=.5,n){this.messageDevice("_sub",u,n)}}const patcher$5=fetch(new URL(""+new URL("../assets/drone.export.6a7fa125.json",import.meta.url).href,self.location)).then(N=>N.json());class DroneSynth extends BaseSynth{constructor(){super(),this.defaults={...this.defaults,vol:1,amp:1,lforate:.1,lfodepth:.1,spread:1,offset:0,damp:.5,dynamic:.5,rand:1,slide:100,pitch:.5,dur:4e4,a:1e3,d:0,s:1,r:1e3,res:1,moda:5e3,modd:5e3},this.patcher=patcher$5,this.initDevice(),this.lforate=this.lforate.bind(this),this._lforate=this._lforate.bind(this),this.lfodepth=this.lfodepth.bind(this),this._lfodepth=this._lfodepth.bind(this),this.spread=this.spread.bind(this),this._spread=this._spread.bind(this),this.offset=this.offset.bind(this),this._offset=this._offset.bind(this),this.damp=this.damp.bind(this),this._damp=this._damp.bind(this),this.dynamic=this.dynamic.bind(this),this._dynamic=this._dynamic.bind(this),this.rand=this.rand.bind(this),this._rand=this._rand.bind(this),this.slide=this.slide.bind(this),this._slide=this._slide.bind(this),this.pitch=this.pitch.bind(this),this._pitch=this._pitch.bind(this),this.params=Object.getOwnPropertyNames(this)}play(u={},n){if(!this.ready)return;const a={...this.defaults,...u},{n:r=60,amp:b=1}=a;this.setParams(a,n);const h=new rnbo_webaudioExports.MIDIEvent(n*1e3,0,[144,r,b*127]);this.device.scheduleEvent(h)}lforate(u=.1,n){this.messageDevice("osc",u,n)}_lforate(u=.1,n){this.messageDevice("_osc",u,n)}lfodepth(u=.1,n){this.messageDevice("drift",u,n)}_lfodepth(u=.1,n){this.messageDevice("_drift",u,n)}spread(u=1,n){this.messageDevice("spread",u,n)}_spread(u=1,n){this.messageDevice("_spread",u,n)}offset(u=0,n){this.messageDevice("offset",u,n)}_offset(u=0,n){this.messageDevice("_offset",u,n)}damp(u=.5,n){this.messageDevice("damp",u,n)}_damp(u=.5,n){this.messageDevice("_damp",u,n)}dynamic(u=.5,n){this.messageDevice("dynamic",u,n)}_dynamic(u=.5,n){this.messageDevice("_dynamic",u,n)}rand(u=1,n){this.messageDevice("rand",u,n)}_rand(u=1,n){this.messageDevice("_rand",u,n)}slide(u=100,n){this.messageDevice("slide",u,n)}_slide(u=100,n){this.messageDevice("_slide",u,n)}pitch(u=.5,n){this.messageDevice("pitch",u,n)}_pitch(u=.5,n){this.messageDevice("_pitch",u,n)}}const patcher$4=fetch(new URL(""+new URL("../assets/sub.export.6fba58bd.json",import.meta.url).href,self.location)).then(N=>N.json());class SubSynth extends BaseSynth{constructor(){super(),this.defaults={...this.defaults,dur:1e3,a:100,d:100,s:.75,r:1e3,fila:0,fild:100,fils:1,filr:100,res:0,moda:10,modd:0,lfodepth:0,lforate:1},this.patcher=patcher$4,this.initDevice(),this.fat=this.fat.bind(this),this._fat=this._fat.bind(this),this.slide=this.slide.bind(this),this.lforate=this.lforate.bind(this),this._lforate=this._lforate.bind(this),this.lfodepth=this.lfodepth.bind(this),this._lfodepth=this._lfodepth.bind(this),this.params=Object.getOwnPropertyNames(this)}play(u={},n=0){if(!this.ready)return;const a={...this.defaults,...u},{n:r,amp:b}=a;this.setParams(a,n);const h=new rnbo_webaudioExports.MIDIEvent(n*1e3,0,[144,r||60,b*127]);this.device.scheduleEvent(h)}fat(u=0,n){this.messageDevice("fat",u,n)}_fat(u=0,n){this.messageDevice("_fat",u,n)}slide(u=10,n){this.messageDevice("slide",u,n)}lforate(u=1,n){this.messageDevice("lforate",u,n)}_lforate(u=1,n){this.messageDevice("_lforate",u,n)}lfodepth(u=0,n){this.messageDevice("lfodepth",u,n)}_lfodepth(u=0,n){this.messageDevice("_lfodepth",u,n)}}const patcher$3=fetch(new URL(""+new URL("../assets/wavetable.export.4e74a402.json",import.meta.url).href,self.location)).then(N=>N.json());class Wavetable extends BaseSamplingDevice{constructor(){super(),this.defaults={...this.defaults,dur:1e3,tablesize:256,rows:16,xlfo:.01,ylfo:.05,i:0,cutoff:500,res:.5},this.patcher=patcher$3,this.initDevice(),this.tablesize=this.tablesize.bind(this),this.rows=this.rows.bind(this),this.xlfo=this.xlfo.bind(this),this._xlfo=this._xlfo.bind(this),this.ylfo=this.ylfo.bind(this),this._ylfo=this._ylfo.bind(this),this.params=Object.getOwnPropertyNames(this)}tablesize(u=256,n){this.messageDevice("tablesize",u,n)}rows(u=16,n){this.messageDevice("rows",u,n)}xlfo(u=0,n){this.messageDevice("xlfo",u,n)}_xlfo(u=0,n){this.messageDevice("_xlfo",u,n)}ylfo(u=0,n){this.messageDevice("ylfo",u,n)}_ylfo(u=0,n){this.messageDevice("_ylfo",u,n)}}fetch(new URL(""+new URL("../assets/fx.export.7977c06e.json",import.meta.url).href,self.location)).then(N=>N.json());const patcher$2=fetch(new URL(""+new URL("../assets/fx-channel.export.ba7289dd.json",import.meta.url).href,self.location)).then(N=>N.json());class FXChannel extends RNBODevice{constructor(){super(),this.defaults={dist:0,drive:.25,ring:0,ringf:.25,ringspread:0,ringmode:0,hicut:0,locut:0,chorus:0,chdepth:.25,chlfo:.25,chspread:.25,gain:1,lthresh:1},this.patcher=patcher$2,this.initDevice(),this.dist=this.dist.bind(this),this._dist=this._dist.bind(this),this.drive=this.drive.bind(this),this._drive=this._drive.bind(this),this.ring=this.ring.bind(this),this._ring=this._ring.bind(this),this.ringf=this.ringf.bind(this),this._ringf=this._ringf.bind(this),this.ringspread=this.ringspread.bind(this),this._ringspread=this._ringspread.bind(this),this.ringmode=this.ringmode.bind(this),this._ringmode=this._ringmode.bind(this),this.hicut=this.hicut.bind(this),this._hicut=this._hicut.bind(this),this.locut=this.locut.bind(this),this._locut=this._locut.bind(this),this.chorus=this.chorus.bind(this),this._chorus=this._chorus.bind(this),this.chdepth=this.chdepth.bind(this),this._chdepth=this._chdepth.bind(this),this.chlfo=this.chlfo.bind(this),this._chlfo=this._chlfo.bind(this),this.chspread=this.chspread.bind(this),this._chspread=this._chspread.bind(this),this.gain=this.gain.bind(this),this._gain=this._gain.bind(this),this.lthresh=this.lthresh.bind(this),this._lthresh=this._lthresh.bind(this),this.params=Object.getOwnPropertyNames(this)}set(u={},n){if(!this.ready)return;const a={...this.defaults,...u};this.setParams(a,n);const r=new rnbo_webaudioExports.MIDIEvent(n*1e3,0,[144,60,127]);this.device.scheduleEvent(r)}dist(u=0,n){this.messageDevice("dist",u,n)}_dist(u=0,n){this.messageDevice("_dist",u,n)}drive(u=.5,n){this.messageDevice("drive",u,n)}_drive(u=.5,n){this.messageDevice("_drive",u,n)}ring(u=0,n){this.messageDevice("ring",u,n)}_ring(u=0,n){this.messageDevice("_ring",u,n)}ringf(u=.25,n){this.messageDevice("ringf",u,n)}_ringf(u=.25,n){this.messageDevice("_ringf",u,n)}ringspread(u=0,n){this.messageDevice("ringspread",u,n)}_ringspread(u=0,n){this.messageDevice("_ringspread",u,n)}ringmode(u=0,n){this.messageDevice("ringmode",u,n)}_ringmode(u=0,n){this.messageDevice("_ringmode",u,n)}chorus(u=0,n){this.messageDevice("chorus",u,n)}_chorus(u=0,n){this.messageDevice("_chorus",u,n)}chdepth(u=.25,n){this.messageDevice("chdepth",u,n)}_chdepth(u=.25,n){this.messageDevice("_chdepth",u,n)}chlfo(u=.25,n){this.messageDevice("chlfo",u,n)}_chlfo(u=.25,n){this.messageDevice("_chlfo",u,n)}chspread(u=.25,n){this.messageDevice("chspread",u,n)}_chspread(u=.25,n){this.messageDevice("_chspread",u,n)}hicut(u=0,n){this.messageDevice("hicut",u,n)}_hicut(u=0,n){this.messageDevice("_hicut",u,n)}locut(u=0,n){this.messageDevice("locut",u,n)}_locut(u=0,n){this.messageDevice("_locut",u,n)}gain(u=1,n){this.messageDevice("gain",u,n)}_gain(u=1,n){this.messageDevice("_gain",u,n)}lthresh(u=1,n){this.messageDevice("lthresh",u,n)}_lthresh(u=1,n){this.messageDevice("_lthresh",u,n)}}fetch(new URL(""+new URL("../assets/fx-reverb.export.799a4f40.json",import.meta.url).href,self.location)).then(N=>N.json());const patcher$1=fetch(new URL(""+new URL("../assets/fx-delay.export.9ce6e69c.json",import.meta.url).href,self.location)).then(N=>N.json());class FXDelay extends RNBODevice{constructor(){super(),this.defaults={delay:0,dtime:500,dfb:.5,dspread:0,dcolour:.5,dfilter:0},this.patcher=patcher$1,this.initDevice(),this.delay=this.delay.bind(this),this._delay=this._delay.bind(this),this.dtime=this.dtime.bind(this),this._dtime=this._dtime.bind(this),this.dfb=this.dfb.bind(this),this._dfb=this._dfb.bind(this),this.dspread=this.dspread.bind(this),this._dspread=this._dspread.bind(this),this.dcolour=this.dcolour.bind(this),this._dcolour=this._dcolour.bind(this),this.dfilter=this.dfilter.bind(this),this._dfilter=this._dfilter.bind(this),this.params=Object.getOwnPropertyNames(this)}set(u={},n){if(!this.ready)return;const a={...this.defaults,...u};this.setParams(a,n);const r=new rnbo_webaudioExports.MIDIEvent(n*1e3,0,[144,60,127]);this.device.scheduleEvent(r)}delay(u=0,n){this.messageDevice("delay",u,n)}_delay(u=0,n){this.messageDevice("_delay",u,n)}dtime(u=500,n){this.messageDevice("dtime",u,n)}_dtime(u=500,n){this.messageDevice("_dtime",u,n)}dfb(u=.5,n){this.messageDevice("dfb",u,n)}_dfb(u=.5,n){this.messageDevice("_dfb",u,n)}dspread(u=0,n){this.messageDevice("dspread",u,n)}_dspread(u=0,n){this.messageDevice("_dspread",u,n)}dcolour(u=.25,n){this.messageDevice("dcolour",u,n)}_dcolour(u=.25,n){this.messageDevice("_dcolour",u,n)}dfilter(u=0,n){this.messageDevice("dfilter",u,n)}_dfilter(u=0,n){this.messageDevice("_dfilter",u,n)}}const patcher=fetch(new URL(""+new URL("../assets/reverb-gen.export.83d0610a.json",import.meta.url).href,self.location)).then(N=>N.json());class ReverbGen extends RNBODevice{constructor(){super(),this.defaults={reverb:0,rsize:.25,rdamp:.5,rtime:.25,rspread:.1,rwidth:.1,rearly:.01,rtail:.01},this.patcher=patcher,this.initDevice(),this.reverb=this.reverb.bind(this),this._reverb=this._reverb.bind(this),this.rsize=this.rsize.bind(this),this._rsize=this._rsize.bind(this),this.rtime=this.rtime.bind(this),this._rtime=this._rtime.bind(this),this.rdamp=this.rdamp.bind(this),this._rdamp=this._rdamp.bind(this),this.rspread=this.rspread.bind(this),this._rspread=this._rspread.bind(this),this.rwidth=this.rwidth.bind(this),this._rwidth=this._rwidth.bind(this),this.rearly=this.rearly.bind(this),this._rearly=this._rearly.bind(this),this.rtail=this.rtail.bind(this),this._rtail=this._rtail.bind(this),this.params=Object.getOwnPropertyNames(this)}set(u={},n){if(!this.ready)return;const a={...this.defaults,...u};this.setParams(a,n);const r=new rnbo_webaudioExports.MIDIEvent(n*1e3,0,[144,60,127]);this.device.scheduleEvent(r)}reverb(u=0,n){this.messageDevice("reverb",u,n)}_reverb(u=0,n){this.messageDevice("_reverb",u,n)}rsize(u=.25,n){this.messageDevice("rsize",u,n)}_rsize(u=.25,n){this.messageDevice("_rsize",u,n)}rtime(u=.25,n){this.messageDevice("rtime",u,n)}_rtime(u=.25,n){this.messageDevice("_rtime",u,n)}rdamp(u=.25,n){this.messageDevice("rdamp",u,n)}_rdamp(u=.25,n){this.messageDevice("_rdamp",u,n)}rspread(u=.25,n){this.messageDevice("rspread",u,n)}_rspread(u=.25,n){this.messageDevice("_rspread",u,n)}rwidth(u=.25,n){this.messageDevice("rwidth",u,n)}_rwidth(u=.25,n){this.messageDevice("_rwidth",u,n)}rearly(u=.25,n){this.messageDevice("rearly",u,n)}_rearly(u=.25,n){this.messageDevice("_rearly",u,n)}rtail(u=.25,n){this.messageDevice("rtail",u,n)}_rtail(u=.25,n){this.messageDevice("_rtail",u,n)}}const CtSynth=Synth$2,CtSuperFM=Synth$1,CtSampler=Sampler,CtGranulator=Granular,CtAdditive=Synth,CtFXChannel=FXChannel,CtAcidSynth=AcidSynth,CtDroneSynth=DroneSynth,CtSubSynth=SubSynth,CtWavetable=Wavetable,CtFXDelay=FXDelay,CtReverbGen=ReverbGen;class Channel{constructor(u,n){Bt(this,"input");Bt(this,"_busses");Bt(this,"_destination");Bt(this,"_out");Bt(this,"_fx");Bt(this,"_reverb");Bt(this,"_delay");Bt(this,"_fader");Bt(this,"_output");this._destination=u,this._out=n,this.input=new Gain(1),this._busses=Array.from({length:4},()=>new Gain(0)),this._fader=new Gain(1),this._output=new Split({context,channels:2}),this._fader.connect(this._output),this.input.fan(this._fader,...this._busses),this._output.connect(u,0,n),this._output.connect(u,1,n+1)}routeOut(u){u!==this._out&&(this._output.disconnect(),this._output.connect(this._destination,0,u),this._output.connect(this._destination,1,u+1),this._out=u)}routeBus(u,n){this._busses[u].connect(n)}send(u,n,a=0,r=10){this._busses[u].gain.rampTo(n,r/1e3,a)}set(u,n){const{dist:a=0,ring:r=0,chorus:b=0,hicut:h=0,locut:m=0,level:p=1}=u;this._fx||[a,r,b,h,m].reduce((A,S)=>A+S,0)>0&&this.initFX(),u.reverb>0&&!this._reverb&&this.initReverb(),u.delay>0&&!this._delay&&this.initDelay(),this._fx&&this._fx.set(u,n),this._reverb&&this._reverb.set(u,n),this._delay&&this._delay.set(u,n),this._fader.gain.rampTo(p,.1,n)}mutate(u,n,a=100){var r,b,h;(r=this._fx)==null||r.mutate(u,n,a),(b=this._reverb)==null||b.mutate(u,n,a),(h=this._delay)==null||h.mutate(u,n,a),u.level!==void 0&&this._fader.gain.rampTo(u.level,a/1e3,n)}initFX(){this._fx=new CtFXChannel,this._handleInternalRouting()}initDelay(){this._delay=new CtFXDelay,this._handleInternalRouting()}initReverb(){this._reverb=new CtReverbGen,this._handleInternalRouting()}_handleInternalRouting(){const{_fx:u,_reverb:n,_delay:a,input:r,_fader:b}=this,h=[u,a,n];h.forEach(A=>A&&A.disconnect()),r.disconnect(),r.fan(...this._busses);const m=h.find(Boolean),p=[...h].reverse().find(Boolean);r.connect((m==null?void 0:m.input)||b),p==null||p.connect(b),h.filter(Boolean).reduce((A,S)=>(A&&S&&A.connect(S.input),S),null)}}const limiter=new Limiter({threshold:-20}),destination=getDestination();destination.channelCount=destination.maxChannelCount;destination.channelCount===2&&destination.chain(limiter);const output=new Merge({channels:destination.maxChannelCount});output.connect(destination);const fxChannels={fx0:new Channel(output,0),fx1:new Channel(output,0),fx2:new Channel(output,0),fx3:new Channel(output,0)},channels={},getChannel=(N,u)=>(channels[N]||(channels[N]=new Channel(output,u),["fx0","fx1","fx2","fx3"].forEach((n,a)=>{channels[N].routeBus(a,fxChannels[n].input)})),channels[N].routeOut(u),channels[N]),samples$1=writable$1({}),otoChannel$1=new BroadcastChannel("oto"),synths=writable$1({}),synthTypes=["synth","sampler","granular","additive","acid","drone","sub","superfm","wavetable"],makeSynth=N=>{switch(N){case"synth":return new CtSynth({lite:!0});case"sampler":return new CtSampler;case"granular":return new CtGranulator;case"additive":return new CtAdditive;case"acid":return new CtAcidSynth;case"drone":return new CtDroneSynth;case"sub":return new CtSubSynth;case"superfm":return new CtSuperFM;case"wavetable":return new CtWavetable;default:return null}},connect=(N,u,n,a)=>{if(!N)return;const r=getChannel(u,n);return N.connect(r.input),synths.update(b=>({...b,[u]:{...b[u],[a]:N}})),N},handleSynthEvent=(N,u)=>{const{cut:n,n:a=60,strum:r=0,inst:b,cutr:h=10,track:m,out:p=0}=u,A=m*2;(n!==void 0?[n].flat():[]).forEach(l=>{const y=+l*2,o=get_store_value(synths)[y]||{};Object.values(o).forEach(f=>f==null?void 0:f.cut(N,h))}),[b].flat().forEach((l,y)=>{if(l=typeof l=="number"?synthTypes[l]:l,!synthTypes.includes(l))return;const o=get_store_value(synths),f=o[A]&&o[A][l]?o[A][l]:connect(makeSynth(l),A,p,l);[a].flat().forEach((x,g)=>{const D=Object.entries(u).reduce((E,[C,T])=>({...E,[C]:Array.isArray(T)?T[y%T.length]:T}),{});D.n=x,f.play(D,N+g*(r/1e3))})});const _=getChannel(A,p);_.set(u,N),[u.fx0,u.fx1,u.fx2,u.fx3].forEach((l=0,y)=>{l!==void 0&&_.send(y,l,N)})},handleSynthMutation=(N,u)=>{const{lag:n=500,track:a,out:r=0}=u,b=a*2,{n:h}=u,m=h!==void 0?{...u,n:Array.isArray(h)?h[0]:h}:u,p=get_store_value(synths);Object.values(p[b]||{}).forEach(S=>S.mutate(m,N,n));const A=getChannel(b,r);A.mutate(m,N,n),[u.fx0,u.fx1,u.fx2,u.fx3].forEach((S,_)=>{S!==void 0&&A.send(_,S,N,n)})},fetchSamples=N=>{fetch(N).then(u=>u.json()).then(u=>{u&&(otoChannel$1.postMessage({type:"success",message:"Loaded samples from "+N}),samples$1.update(n=>({...n,...u})))}).catch(u=>console.log("No samples available at "+N))};fetchSamples("/samples/samples.json");fetchSamples("http://localhost:6060/samples.json");const updateSynthsSamples=N=>{Object.values(N).forEach(({sampler:u,granular:n,wavetable:a})=>[u,n,a].forEach(r=>r&&(r.banks={...r.banks,...get_store_value(samples$1)})))};synths.subscribe(N=>updateSynthsSamples(N));samples$1.subscribe(N=>{updateSynthsSamples(get_store_value(synths)),otoChannel$1.postMessage({type:"info",message:`Sample banks ->
`+Object.keys(N).join(", ")+`
`})});const handleFxEvent=(N,u,n)=>{if(!["fx0","fx1","fx2","fx3"].includes(u))return;const{out:a=0}=n;fxChannels[u].routeOut(a),fxChannels[u].set(n,N)},handleFxMutation=(N,u,n)=>{if(!["fx0","fx1","fx2","fx3"].includes(u))return;const{lag:a=500,out:r=0}=n;fxChannels[u].routeOut(r),fxChannels[u].mutate(n,N,a)},channel$1=new BroadcastChannel("zen");channel$1.onmessage=({data:{type:N,data:u}})=>{if(N!=="action")return;const{time:n,delta:a,events:r,mutations:b}=u;r.forEach(({id:h,eparams:m})=>{handleEvent(n,a,h,m)}),b.forEach(({id:h,mparams:m})=>{handleMutation(n,a,h,m)})};function handleEvent(N,u,n,a){handleMidiEvent(u,n,a),n.startsWith("s")&&handleSynthEvent(N,a),n.startsWith("fx")&&handleFxEvent(N,n,a)}function handleMutation(N,u,n,a){handleMidiMutation(u,n,a),n.startsWith("s")&&handleSynthMutation(N,a),n.startsWith("fx")&&handleFxMutation(N,n,a)}function loadSamples(N,u){samples$1.update(n=>(Object.keys(N).forEach(a=>{const r=N[a].map(b=>u?`${u}/${b}`:b);n[a]?n[a]=[...n[a],...r]:n[a]=r}),{...n}))}const editorValue=writable$1(""),t=writable$1(0),c=writable$1(0),q=writable$1(16),s=writable$1(16),editorConsole=writable$1({}),isPlaying=writable$1(!1),gates=writable$1([[],[],[],[],[],[],[],[]]),measurements$1=writable$1([0,0,0,0,0,0,0,0]),inputs=writable$1([0,0,0,0,0,0,0,0]),showCircuit=writable$1(!1),toggleCircuit=()=>showCircuit.update(N=>{const u=!N;return localStorage.setItem("z.circuit",u?"true":""),u});function initCircuit(){if(typeof localStorage>"u")return;localStorage.getItem("z.circuit")&&showCircuit.set(!0)}initCircuit();const messages=writable$1([]),initialMessages=[{type:"success",message:"Welcome to Zen!"},{type:"info",message:"shift + enter to play."},{type:"info",message:`esc to stop.
`},{type:"success",message:"Commands ->"},{type:"info",message:`instruments()
midi()
samples()
scales()
chords()
print()
clear()
`},{type:"credit",message:` Cephas Teom ${new Date().getFullYear()}`}];initialMessages.forEach((N,u)=>{setTimeout(()=>{messages.update(n=>[...n,N])},(u+1)*300)});const print$1=(N,u)=>{messages.update(n=>[...n,{type:N,message:u}])},clear=()=>messages.set([]),visualsTypes=writable$1(["grid","sphere","none"]),visualsData=writable$1([]),gridData=writable$1([]);gridData.subscribe(N=>{N&&N.length?(get_store_value(visualsType)==="sphere"&&visualsType.set("grid"),visualsTypes.set(["grid","none"])):visualsTypes.set(["grid","sphere","none"])});const visualsType=writable$1("grid"),toggleVisuals=()=>{const N=get_store_value(visualsTypes),u=get_store_value(visualsType),n=N.indexOf(u),a=N[(n+1)%N.length];localStorage.setItem("z.visuals",a),visualsType.set(a)},showVisuals=derived(visualsType,N=>N!=="none");function initVisuals(){if(typeof localStorage>"u")return;const N=localStorage.getItem("z.visuals");N&&visualsType.set(N)}initVisuals();const zenChannel=new BroadcastChannel("zen");zenChannel.onmessage=({data:{message:N,type:u,data:n}})=>{if(u==="error"&&get_store_value(editorConsole)!==N)return editorConsole.set({type:u,message:N});if(["error","info","pattern","success","credit"].includes(u)&&print$1(u,N.toString()),u!=="action")return;const{t:a,c:r,q:b,s:h,delta:m,v:p,grid:A,gates:S,measurements:_,feedback:l,inputs:y}=n;setTimeout(()=>{t.set(a),c.set(r),q.set(b),s.set(h),gates.set(S),measurements$1.set(_),inputs.set(y),visualsData.set(p),gridData.set(A)},m*1e3)};const channel=new BroadcastChannel("zen"),otoChannel=new BroadcastChannel("oto"),samplesMessage=writable$1("");otoChannel.onmessage=({data:{message:N}})=>N.includes("Sample banks")&&samplesMessage.set(N);const lastCode=writable$1(""),code=writable$1(""),setCode=N=>code.set(N+`
`+Date.now());initMidiTriggers();const z=new Zen;window.z=z;const streams=Array(get_store_value(nStreams)).fill(0).map((N,u)=>new Stream("s"+u));window.streams=streams;streams.forEach(N=>window[N.id]=N);const fxstreams=Array(2).fill(0).map((N,u)=>new Stream("fx"+u));window.fxstreams=fxstreams;fxstreams.forEach(N=>window[N.id]=N);const qubits=Array(get_store_value(nStreams)).fill(0).map((N,u)=>new Wire("q"+u));window.qubits=qubits;qubits.forEach(N=>window[N._id]=N);const v=new Visuals$1;window.v=v;const d=new Data$1;window.d=d;Pattern.methods().forEach(N=>{const u=(...n)=>new Pattern().call(N,...n);Object.defineProperty(window,`$${N}`,{value:u,writable:!0,enumerable:!1,configurable:!1})});const print=N=>print$1("info",N.toString());window.print=print;const scales=()=>print$1("info",`Scales ->
`+Object.keys(modes).join(", "));window.scales=scales;const chords=()=>print$1("info",`Chords ->
`+Object.keys(triads).join(", "));window.chords=chords;const samples=()=>print$1("info",get_store_value(samplesMessage));window.samples=samples;const instruments=()=>print$1("info",`Instruments ->
0: synth
1: sampler
2: granular
3: additive
4: acid
5: drone
6: sub
7: superfm
8: wavetable`);window.instruments=instruments;const midi=()=>print$1("info",`Inputs ->
${wm.inputs.reduce((N,u,n)=>`${N}${n}: ${u.name},
`,"")}Outputs ->
${wm.outputs.reduce((N,u,n)=>`${N}${n}: ${u.name},
`,"")}`);window.midi=midi;window.clear=clear;window.loadSamples=loadSamples;const{bts:initBts,btms:initBtms,clamp,seed}=helpers,exportCircuit=(N="qasm")=>N==="qasm"?circuit.exportToQASM():circuit.exportToQiskit();window.exportCircuit=exportCircuit;let measurements=[];code.subscribe(code=>{streams.forEach(N=>N.reset()),fxstreams.forEach(N=>N.reset()),qubits.forEach(N=>N.clear()),z.reset(),z.resetGlobals(),circuit.clear(),circuit.numQubits=1;const bts=initBts(getBpm()),btms=initBtms(getBpm()),ms=btms;try{eval(code),lastCode.set(code);const{src="internal",device=0,srcBpm=120,relativeBpm=!1}=z.getClock();clockSource.set(src==="midi"?"midi":"internal"),midiClockDevice.set(device),midiClockConfig.set({srcBpm,relativeBpm});const{trigger="division",device:midiDevice=0}=z.getMode();mode.set(trigger),midiTriggerDevice.set(midiDevice)}catch(e){print$1("error",e.message),eval(get_store_value(lastCode))}});function evaluate(N,u){const n=z.getTime(N),a=z.s,r=z.q,b=z.c;setQ(r);const h=z.getSeed();h!==null&&seed(h);const m=z.getLatency();m!==null&&(context.lookAhead=Math.floor(m/1e3)),loop.interval=`${z.q}n`;const p=z.getBpm();p!==getBpm()&&(Transport.bpm.setValueAtTime(p,u),bpm.set(p)),Transport.swing=z.getSwing(),Transport.swingSubdivision=`${z.getSwingN()}n`,qubits.forEach(T=>T.build(n,r));const A=qubits.map(T=>T.feedback),S=A.map(T=>T>-1&&T<measurements.length?measurements[T]:0),_=circuit.gates;_.flat().length&&(circuit.run(S),measurements=circuit.measureAll());const l=[...streams,...fxstreams].map(T=>T.get(n,r,a,getBpm(),z)),y=l.filter(({solo:T})=>T),o=y.length?y:l,f=o.filter(({e:T})=>T),x=o.filter(({m:T})=>T),g=v.get(o.filter(({id:T})=>T.startsWith("s")).map(({x:T,y:O,z:I,id:M,e:F,m:B})=>({x:T,y:O,z:I,id:M,e:!!F,m:!!B}))),D=z.grid.get(n,r),E=u-immediate(),C={time:u,delta:E,t:n,s:a,q:r,c:b,events:f,mutations:x,gates:_,measurements,feedback:A,inputs:S,v:g,grid:D};channel.postMessage({type:"action",data:C})}let counter=createCount(0);const loop=new Loop(N=>{const u=counter();setT(u),getMode()==="division"&&evaluate(u,N)},`${z.q}n`).start(0),play=()=>{if(getClockSource()==="internal")return Transport.start("+0.1");Transport.stop(immediate()),!get_store_value(activeMidiClock)&&initMidiClock(),activeMidiClock.set(!0)},stop=()=>{Transport.stop(immediate()),counter=createCount(0),setT(0),activeMidiClock.set(!1)};async function startAudio(){await start(),console.log("started audio"),print$1("success","Started audio"),window.removeEventListener("keydown",startAudio),window.removeEventListener("click",startAudio),window.removeEventListener("touchstart",startAudio)}const presets=writable$1({}),activePreset=writable$1("");function initPresets(){const N=JSON.parse(localStorage.getItem("z.presets")||"{}");presets.update(u=>({...u,...N}))}initPresets();const presetKeys=derived(presets,N=>Object.keys(N).sort((u,n)=>u.localeCompare(n)));function savePreset(N){const u=JSON.parse(localStorage.getItem("z.presets")||"{}");u[N]=get_store_value(editorValue),localStorage.setItem("z.presets",JSON.stringify(u)),presets.update(n=>({...n,...u})),activePreset.set(N)}function deletePreset(N){const u=get_store_value(presets);delete u[N],presets.set({...u}),localStorage.setItem("z.presets",JSON.stringify(u))}const options={language:"javascript",theme:"vs-dark",fontSize:14,lineNumbers:"off",minimap:{enabled:!1},automaticLayout:!0,renderLineHighlight:"none",quickSuggestions:!1,wordWrap:"on",scrollbar:{vertical:"hidden",horizontal:"hidden",verticalScrollbarSize:0,horizontalScrollbarSize:0,useShadows:!1,verticalHasArrows:!1,horizontalHasArrows:!1,arrowSize:0},suggestOnTriggerCharacters:!1,acceptSuggestionOnEnter:"off",acceptSuggestionOnCommitCharacter:!1,wordBasedSuggestions:!1,snippetSuggestions:"none",roundedSelection:!1,tabSize:2,parameterHints:{enabled:!1},hover:{enabled:!1}},example=`s0.set({inst:0,cut:0,reverb:.5,delay:.25,vol:.5,modi:1.25,mods:0.1})
s0.p.n.set('Cpro%16..*16 | Cpro%16..?*16').s(12)
s0.p.s.noise(0.05,0.5,0.25)
s0.e.every(4).or($every(3))
`,parseGate=(N,u,n,a)=>{var p;if(!u)return N;const r=u.connector<1?u.name:"",b=Object.values(((p=u.options)==null?void 0:p.params)||{});let m=[circuit.gates.map((A,S)=>A[n]&&A[n].connector>0?S:null).filter(A=>A!==null),b].reduce((A,S,_,l)=>A+(S.length?JSON.stringify(S)+", ":""),"");return m.endsWith(", ")&&(m=m.slice(0,-2)),r?N+"."+r+"("+m+")":N},parseQasm=N=>{const u=N.indexOf('"OPENQASM'),n=N.indexOf('n"',u)+2,a=N.substring(u,n);if(a.length<10)return N;circuit.importQASM(a.replace(/\\n/g,`
`).replace(/\\"/g,'"').slice(1,-1),b=>console.log(b));const r=circuit.gates.reduce((b,h,m)=>{const p=h.reduce(parseGate,"");let A=b;return p&&(A+=`s${m}.wire`+p),A+`
`},"");return N.replace(a,r)},parseCode=N=>pipe(parseQasm)(N),Editor_svelte_svelte_type_style_lang="",{window:window_1}=globals;function create_fragment$b(N){let u,n,a,r,b,h,m,p,A,S,_,l,y=N[0].message+"",o,f,x;return{c(){u=element("div"),n=element("div"),a=space(),r=element("div"),b=element("ul"),h=element("li"),m=element("span"),p=text(N[4]),A=text(":"),_=space(),l=element("span"),o=text(y),this.h()},l(g){u=claim_element(g,"DIV",{class:!0});var D=children(u);n=claim_element(D,"DIV",{class:!0}),children(n).forEach(detach),a=claim_space(D),r=claim_element(D,"DIV",{class:!0});var E=children(r);b=claim_element(E,"UL",{class:!0});var C=children(b);h=claim_element(C,"LI",{class:!0});var T=children(h);m=claim_element(T,"SPAN",{class:!0});var O=children(m);p=claim_text(O,N[4]),A=claim_text(O,":"),O.forEach(detach),_=claim_space(T),l=claim_element(T,"SPAN",{});var I=children(l);o=claim_text(I,y),I.forEach(detach),T.forEach(detach),C.forEach(detach),E.forEach(detach),D.forEach(detach),this.h()},h(){attr(n,"class","editor svelte-1l896jl"),attr(m,"class",S=null_to_empty(N[4])+" svelte-1l896jl"),attr(h,"class","svelte-1l896jl"),toggle_class(h,"hidden",!N[4]),attr(b,"class","svelte-1l896jl"),attr(r,"class","notices svelte-1l896jl"),attr(u,"class","container svelte-1l896jl"),toggle_class(u,"flash",N[3])},m(g,D){insert_hydration(g,u,D),append_hydration(u,n),N[6](n),append_hydration(u,a),append_hydration(u,r),append_hydration(r,b),append_hydration(b,h),append_hydration(h,m),append_hydration(m,p),append_hydration(m,A),append_hydration(h,_),append_hydration(h,l),append_hydration(l,o),f||(x=listen(window_1,"resize",N[5]),f=!0)},p(g,[D]){D&16&&set_data(p,g[4]),D&16&&S!==(S=null_to_empty(g[4])+" svelte-1l896jl")&&attr(m,"class",S),D&1&&y!==(y=g[0].message+"")&&set_data(o,y),D&16&&toggle_class(h,"hidden",!g[4]),D&8&&toggle_class(u,"flash",g[3])},i:noop,o:noop,d(g){g&&detach(u),N[6](null),f=!1,x()}}}function instance$b(N,u,n){let a,r,b;component_subscribe(N,editorConsole,y=>n(0,r=y)),component_subscribe(N,presets,y=>n(8,b=y));let h,m,p,A=!1;function S(){editorConsole.set({});const y=parseCode(h.getValue());setCode(y);const o=h.getPosition(),f=h.getModel();f&&f.pushEditOperations([],[{range:f.getFullModelRange(),text:y}],()=>null),o&&h.setPosition(o),play(),isPlaying.set(!0),n(3,A=!0),setTimeout(()=>n(3,A=!1),400)}onMount(async()=>{m=await loader.init(),n(1,h=m.editor.create(p,options));const y=m.editor.createModel(localStorage.getItem("z.code")||example,void 0,m.Uri.file("sample.js"));h.setModel(y),editorValue.set(h.getValue()),h.onKeyDown(o=>{editorValue.set(h.getValue()),localStorage.setItem("z.code",h.getValue()),o.keyCode===9&&(stop(),isPlaying.set(!1)),o.keyCode===3&&o.shiftKey&&(o.preventDefault(),S())}),activePreset.subscribe(o=>{o&&b[o]&&(h.setValue(b[o]||""),editorValue.set(h.getValue()))}),isPlaying.subscribe(o=>o?S():stop()),window.addEventListener("onLoadCode",o=>{const f=o.detail.code;f!==""&&(h.setValue(f),editorValue.set(h.getValue()))})}),onDestroy(()=>{m==null||m.editor.getModels().forEach(y=>y.dispose())});const _=()=>{h==null||h.layout({})};function l(y){binding_callbacks[y?"unshift":"push"](()=>{p=y,n(2,p)})}return N.$$.update=()=>{N.$$.dirty&1&&n(4,a=r.type?r.type.charAt(0).toUpperCase()+r.type.slice(1):null)},[r,h,p,A,a,_,l]}class Editor extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$b,create_fragment$b,safe_not_equal,{})}}function create_fragment$a(N){let u,n,a;return{c(){u=element("div"),this.h()},l(r){u=claim_element(r,"DIV",{style:!0,class:!0}),children(u).forEach(detach),this.h()},h(){attr(u,"style",N[0]),attr(u,"class","m-0")},m(r,b){insert_hydration(r,u,b),n||(a=action_destroyer(N[1].call(null,u)),n=!0)},p(r,[b]){b&1&&attr(u,"style",r[0])},i:noop,o:noop,d(r){r&&detach(u),n=!1,a()}}}function augmentClasses(N,u){return u.forEach(([n,a])=>N[n]=a),N}function instance$a(N,u,n){let{target:a=void 0}=u,{sketch:r=void 0}=u,{parentDivStyle:b="display: block;"}=u,{debug:h=!1}=u,m;const p=createEventDispatcher(),A={ref(){p("ref",a)},instance(){p("instance",m)}};function S(_){return n(2,a=_),{destroy(){n(2,a=void 0)}}}return onMount(async()=>{const _=await __vitePreload(()=>Promise.resolve().then(()=>p5_min$1),void 0,import.meta.url),{default:l}=_,o=Object.entries(_).filter(([f,x])=>x instanceof Function&&f[0]!=="_"&&f!=="default");h&&console.log("available p5 native classes",o),m=new l(f=>(f=augmentClasses(f,o),h&&console.log("p5 instance",f),window._p5Instance=f,r(f)),a),A.ref(),A.instance()}),N.$$set=_=>{"target"in _&&n(2,a=_.target),"sketch"in _&&n(3,r=_.sketch),"parentDivStyle"in _&&n(0,b=_.parentDivStyle),"debug"in _&&n(4,h=_.debug)},[b,S,a,r,h]}class P5 extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$a,create_fragment$a,safe_not_equal,{target:2,sketch:3,parentDivStyle:0,debug:4})}}var p5_min$2={exports:{}};/*! p5.js v1.9.2 March 19, 2024 */(function(N,u){(function(n){N.exports=n()})(function(){var n;return function a(r,b,h){function m(S,_){if(!b[S]){if(!r[S]){var l=typeof commonjsRequire=="function"&&commonjsRequire;if(!_&&l)return l(S,!0);if(p)return p(S,!0);throw(_=new Error("Cannot find module '"+S+"'")).code="MODULE_NOT_FOUND",_}l=b[S]={exports:{}},r[S][0].call(l.exports,function(y){return m(r[S][1][y]||y)},l,l.exports,a,r,b,h)}return b[S].exports}for(var p=typeof commonjsRequire=="function"&&commonjsRequire,A=0;A<h.length;A++)m(h[A]);return m}({1:[function(a,r,b){b.byteLength=function(f){var f=l(f),o=f[0],f=f[1];return 3*(o+f)/4-f},b.toByteArray=function(y){var o,f,g=l(y),x=g[0],g=g[1],D=new p(function(T,O){return 3*(T+O)/4-O}(x,g)),E=0,C=0<g?x-4:x;for(f=0;f<C;f+=4)o=m[y.charCodeAt(f)]<<18|m[y.charCodeAt(f+1)]<<12|m[y.charCodeAt(f+2)]<<6|m[y.charCodeAt(f+3)],D[E++]=o>>16&255,D[E++]=o>>8&255,D[E++]=255&o;return g===2&&(o=m[y.charCodeAt(f)]<<2|m[y.charCodeAt(f+1)]>>4,D[E++]=255&o),g===1&&(o=m[y.charCodeAt(f)]<<10|m[y.charCodeAt(f+1)]<<4|m[y.charCodeAt(f+2)]>>2,D[E++]=o>>8&255,D[E++]=255&o),D},b.fromByteArray=function(y){for(var o,f=y.length,x=f%3,g=[],D=0,E=f-x;D<E;D+=16383)g.push(function(C,T,O){for(var I,M=[],F=T;F<O;F+=3)I=(C[F]<<16&16711680)+(C[F+1]<<8&65280)+(255&C[F+2]),M.push(function(B){return h[B>>18&63]+h[B>>12&63]+h[B>>6&63]+h[63&B]}(I));return M.join("")}(y,D,E<D+16383?E:D+16383));return x==1?(o=y[f-1],g.push(h[o>>2]+h[o<<4&63]+"==")):x==2&&(o=(y[f-2]<<8)+y[f-1],g.push(h[o>>10]+h[o>>4&63]+h[o<<2&63]+"=")),g.join("")};for(var h=[],m=[],p=typeof Uint8Array<"u"?Uint8Array:Array,A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,_=A.length;S<_;++S)h[S]=A[S],m[A.charCodeAt(S)]=S;function l(y){var o=y.length;if(0<o%4)throw new Error("Invalid string. Length must be a multiple of 4");return y=y.indexOf("="),o=(y=y===-1?o:y)===o?0:4-y%4,[y,o]}m["-".charCodeAt(0)]=62,m["_".charCodeAt(0)]=63},{}],2:[function(a,r,b){},{}],3:[function(a,r,b){},{}],4:[function(a,r,b){(function(l){var m=a("base64-js"),p=a("ieee754"),A=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,S=(b.Buffer=l,b.SlowBuffer=function($){return+$!=$&&($=0),l.alloc(+$)},b.INSPECT_MAX_BYTES=50,2147483647);function _($){if(S<$)throw new RangeError('The value "'+$+'" is invalid for option "size"');return $=new Uint8Array($),Object.setPrototypeOf($,l.prototype),$}function l($,W,Q){if(typeof $!="number")return y($,W,Q);if(typeof W=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f($)}function y($,W,Q){if(typeof $=="string"){var te=$,ce=W;if(l.isEncoding(ce=typeof ce=="string"&&ce!==""?ce:"utf8"))return oe=0|D(te,ce),ue=_(oe),ue=(te=ue.write(te,ce))!==oe?ue.slice(0,te):ue;throw new TypeError("Unknown encoding: "+ce)}if(ArrayBuffer.isView($))return x($);if($!=null){if(Z($,ArrayBuffer)||$&&Z($.buffer,ArrayBuffer)){var oe=$,te=W,ue=Q;if(te<0||oe.byteLength<te)throw new RangeError('"offset" is outside of buffer bounds');if(oe.byteLength<te+(ue||0))throw new RangeError('"length" is outside of buffer bounds');return oe=te===void 0&&ue===void 0?new Uint8Array(oe):ue===void 0?new Uint8Array(oe,te):new Uint8Array(oe,te,ue),Object.setPrototypeOf(oe,l.prototype),oe}if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(ce=$.valueOf&&$.valueOf(),ce!=null&&ce!==$)return l.from(ce,W,Q);var we=function(le){{var fe,ve;if(l.isBuffer(le))return fe=0|g(le.length),(ve=_(fe)).length!==0&&le.copy(ve,0,0,fe),ve}if(le.length!==void 0)return typeof le.length!="number"||J(le.length)?_(0):x(le);if(le.type==="Buffer"&&Array.isArray(le.data))return x(le.data)}($);if(we)return we;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return l.from($[Symbol.toPrimitive]("string"),W,Q)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}function o($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function f($){return o($),_($<0?0:0|g($))}function x($){for(var W=$.length<0?0:0|g($.length),Q=_(W),te=0;te<W;te+=1)Q[te]=255&$[te];return Q}function g($){if(S<=$)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return 0|$}function D($,W){if(l.isBuffer($))return $.length;if(ArrayBuffer.isView($)||Z($,ArrayBuffer))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);var Q=$.length,te=2<arguments.length&&arguments[2]===!0;if(!te&&Q===0)return 0;for(var ce=!1;;)switch(W){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":return G($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Q;case"hex":return Q>>>1;case"base64":return H($).length;default:if(ce)return te?-1:G($).length;W=(""+W).toLowerCase(),ce=!0}}function E($,W,Q){var te,ce=!1;if((W=W===void 0||W<0?0:W)>this.length||(Q=Q===void 0||Q>this.length?this.length:Q)<=0||(Q>>>=0)<=(W>>>=0))return"";for($=$||"utf8";;)switch($){case"hex":var oe=this,ne=W,ue=Q,ve=oe.length;(!ue||ue<0||ve<ue)&&(ue=ve);for(var we="",le=ne=!ne||ne<0?0:ne;le<ue;++le)we+=ee[oe[le]];return we;case"utf8":case"utf-8":return F(this,W,Q);case"ascii":var fe=this,ve=W,pe=Q,ye="";pe=Math.min(fe.length,pe);for(var Ae=ve;Ae<pe;++Ae)ye+=String.fromCharCode(127&fe[Ae]);return ye;case"latin1":case"binary":var be=this,ne=W,re=Q,de="";re=Math.min(be.length,re);for(var Ce=ne;Ce<re;++Ce)de+=String.fromCharCode(be[Ce]);return de;case"base64":return je=this,te=Q,(xe=W)===0&&te===je.length?m.fromByteArray(je):m.fromByteArray(je.slice(xe,te));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var je=W,xe=Q,Ie=this.slice(je,xe),Ne="",Be=0;Be<Ie.length;Be+=2)Ne+=String.fromCharCode(Ie[Be]+256*Ie[Be+1]);return Ne;default:if(ce)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),ce=!0}}function C($,W,Q){var te=$[W];$[W]=$[Q],$[Q]=te}function T($,W,Q,te,ce){if($.length===0)return-1;if(typeof Q=="string"?(te=Q,Q=0):2147483647<Q?Q=2147483647:Q<-2147483648&&(Q=-2147483648),(Q=(Q=J(Q=+Q)?ce?0:$.length-1:Q)<0?$.length+Q:Q)>=$.length){if(ce)return-1;Q=$.length-1}else if(Q<0){if(!ce)return-1;Q=0}if(typeof W=="string"&&(W=l.from(W,te)),l.isBuffer(W))return W.length===0?-1:O($,W,Q,te,ce);if(typeof W=="number")return W&=255,typeof Uint8Array.prototype.indexOf=="function"?(ce?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call($,W,Q):O($,[W],Q,te,ce);throw new TypeError("val must be string, number or Buffer")}function O($,W,Q,te,ce){var oe=1,ue=$.length,we=W.length;if(te!==void 0&&((te=String(te).toLowerCase())==="ucs2"||te==="ucs-2"||te==="utf16le"||te==="utf-16le")){if($.length<2||W.length<2)return-1;ue/=oe=2,we/=2,Q/=2}function le(Ae,be){return oe===1?Ae[be]:Ae.readUInt16BE(be*oe)}if(ce)for(var fe=-1,ve=Q;ve<ue;ve++)if(le($,ve)===le(W,fe===-1?0:ve-fe)){if(ve-(fe=fe===-1?ve:fe)+1===we)return fe*oe}else fe!==-1&&(ve-=ve-fe),fe=-1;else for(ve=Q=ue<Q+we?ue-we:Q;0<=ve;ve--){for(var pe=!0,ye=0;ye<we;ye++)if(le($,ve+ye)!==le(W,ye)){pe=!1;break}if(pe)return ve}return-1}function I($,W,Q,te){return X(function(ce){for(var oe=[],ue=0;ue<ce.length;++ue)oe.push(255&ce.charCodeAt(ue));return oe}(W),$,Q,te)}function M($,W,Q,te){return X(function(ce,oe){for(var ue,we,le=[],fe=0;fe<ce.length&&!((oe-=2)<0);++fe)we=ce.charCodeAt(fe),ue=we>>8,we=we%256,le.push(we),le.push(ue);return le}(W,$.length-Q),$,Q,te)}function F($,W,Q){Q=Math.min($.length,Q);for(var te=[],ce=W;ce<Q;){var oe,ue,we,le,fe=$[ce],ve=null,pe=239<fe?4:223<fe?3:191<fe?2:1;if(ce+pe<=Q)switch(pe){case 1:fe<128&&(ve=fe);break;case 2:(192&(oe=$[ce+1]))==128&&127<(le=(31&fe)<<6|63&oe)&&(ve=le);break;case 3:oe=$[ce+1],ue=$[ce+2],(192&oe)==128&&(192&ue)==128&&2047<(le=(15&fe)<<12|(63&oe)<<6|63&ue)&&(le<55296||57343<le)&&(ve=le);break;case 4:oe=$[ce+1],ue=$[ce+2],we=$[ce+3],(192&oe)==128&&(192&ue)==128&&(192&we)==128&&65535<(le=(15&fe)<<18|(63&oe)<<12|(63&ue)<<6|63&we)&&le<1114112&&(ve=le)}ve===null?(ve=65533,pe=1):65535<ve&&(ve-=65536,te.push(ve>>>10&1023|55296),ve=56320|1023&ve),te.push(ve),ce+=pe}var ye=te,Ae=ye.length;if(Ae<=B)return String.fromCharCode.apply(String,ye);for(var be="",ne=0;ne<Ae;)be+=String.fromCharCode.apply(String,ye.slice(ne,ne+=B));return be}b.kMaxLength=S,(l.TYPED_ARRAY_SUPPORT=function(){try{var $=new Uint8Array(1),W={foo:function(){return 42}};return Object.setPrototypeOf(W,Uint8Array.prototype),Object.setPrototypeOf($,W),$.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=y,Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function($,W,Q){return W=W,Q=Q,o($=$),!($<=0)&&W!==void 0?typeof Q=="string"?_($).fill(W,Q):_($).fill(W):_($)},l.allocUnsafe=f,l.allocUnsafeSlow=f,l.isBuffer=function($){return $!=null&&$._isBuffer===!0&&$!==l.prototype},l.compare=function($,W){if(Z($,Uint8Array)&&($=l.from($,$.offset,$.byteLength)),Z(W,Uint8Array)&&(W=l.from(W,W.offset,W.byteLength)),!l.isBuffer($)||!l.isBuffer(W))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($===W)return 0;for(var Q=$.length,te=W.length,ce=0,oe=Math.min(Q,te);ce<oe;++ce)if($[ce]!==W[ce]){Q=$[ce],te=W[ce];break}return Q<te?-1:te<Q?1:0},l.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function($,W){if(!Array.isArray($))throw new TypeError('"list" argument must be an Array of Buffers');if($.length===0)return l.alloc(0);if(W===void 0)for(ce=W=0;ce<$.length;++ce)W+=$[ce].length;for(var Q=l.allocUnsafe(W),te=0,ce=0;ce<$.length;++ce){var oe=$[ce];if(Z(oe,Uint8Array)&&(oe=l.from(oe)),!l.isBuffer(oe))throw new TypeError('"list" argument must be an Array of Buffers');oe.copy(Q,te),te+=oe.length}return Q},l.byteLength=D,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var $=this.length;if($%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var W=0;W<$;W+=2)C(this,W,W+1);return this},l.prototype.swap32=function(){var $=this.length;if($%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var W=0;W<$;W+=4)C(this,W,W+3),C(this,W+1,W+2);return this},l.prototype.swap64=function(){var $=this.length;if($%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var W=0;W<$;W+=8)C(this,W,W+7),C(this,W+1,W+6),C(this,W+2,W+5),C(this,W+3,W+4);return this},l.prototype.toLocaleString=l.prototype.toString=function(){var $=this.length;return $===0?"":arguments.length===0?F(this,0,$):E.apply(this,arguments)},l.prototype.equals=function($){if(l.isBuffer($))return this===$||l.compare(this,$)===0;throw new TypeError("Argument must be a Buffer")},l.prototype.inspect=function(){var W="",$=b.INSPECT_MAX_BYTES,W=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim();return this.length>$&&(W+=" ... "),"<Buffer "+W+">"},A&&(l.prototype[A]=l.prototype.inspect),l.prototype.compare=function($,W,Q,te,ce){if(Z($,Uint8Array)&&($=l.from($,$.offset,$.byteLength)),!l.isBuffer($))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $);if(Q===void 0&&(Q=$?$.length:0),te===void 0&&(te=0),ce===void 0&&(ce=this.length),(W=W===void 0?0:W)<0||Q>$.length||te<0||ce>this.length)throw new RangeError("out of range index");if(ce<=te&&Q<=W)return 0;if(ce<=te)return-1;if(Q<=W)return 1;if(this===$)return 0;for(var oe=(ce>>>=0)-(te>>>=0),ue=(Q>>>=0)-(W>>>=0),we=Math.min(oe,ue),le=this.slice(te,ce),fe=$.slice(W,Q),ve=0;ve<we;++ve)if(le[ve]!==fe[ve]){oe=le[ve],ue=fe[ve];break}return oe<ue?-1:ue<oe?1:0},l.prototype.includes=function($,W,Q){return this.indexOf($,W,Q)!==-1},l.prototype.indexOf=function($,W,Q){return T(this,$,W,Q,!0)},l.prototype.lastIndexOf=function($,W,Q){return T(this,$,W,Q,!1)},l.prototype.write=function($,W,Q,te){if(W===void 0)te="utf8",Q=this.length,W=0;else if(Q===void 0&&typeof W=="string")te=W,Q=this.length,W=0;else{if(!isFinite(W))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");W>>>=0,isFinite(Q)?(Q>>>=0,te===void 0&&(te="utf8")):(te=Q,Q=void 0)}var ce=this.length-W;if((Q===void 0||ce<Q)&&(Q=ce),0<$.length&&(Q<0||W<0)||W>this.length)throw new RangeError("Attempt to write outside buffer bounds");te=te||"utf8";for(var oe,ue,we,le=!1;;)switch(te){case"hex":var fe=this,ve=$,pe=W,ye=Q,Ae=(pe=Number(pe)||0,fe.length-pe);(!ye||Ae<(ye=Number(ye)))&&(ye=Ae),(Ae=ve.length)/2<ye&&(ye=Ae/2);for(var be=0;be<ye;++be){var ne=parseInt(ve.substr(2*be,2),16);if(J(ne))return be;fe[pe+be]=ne}return be;case"utf8":case"utf-8":return Ae=W,we=Q,X(G($,(ue=this).length-Ae),ue,Ae,we);case"ascii":return I(this,$,W,Q);case"latin1":case"binary":return I(this,$,W,Q);case"base64":return ue=this,we=W,oe=Q,X(H($),ue,we,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,$,W,Q);default:if(le)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),le=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function j($,W,Q){if($%1!=0||$<0)throw new RangeError("offset is not uint");if(Q<$+W)throw new RangeError("Trying to access beyond buffer length")}function L($,W,Q,te,ce,oe){if(!l.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(ce<W||W<oe)throw new RangeError('"value" argument is out of bounds');if(Q+te>$.length)throw new RangeError("Index out of range")}function R($,W,Q,te){if(Q+te>$.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function V($,W,Q,te,ce){return W=+W,Q>>>=0,ce||R($,0,Q,4),p.write($,W,Q,te,23,4),Q+4}function k($,W,Q,te,ce){return W=+W,Q>>>=0,ce||R($,0,Q,8),p.write($,W,Q,te,52,8),Q+8}l.prototype.slice=function($,W){var Q=this.length,Q=(($=~~$)<0?($+=Q)<0&&($=0):Q<$&&($=Q),(W=W===void 0?Q:~~W)<0?(W+=Q)<0&&(W=0):Q<W&&(W=Q),W<$&&(W=$),this.subarray($,W));return Object.setPrototypeOf(Q,l.prototype),Q},l.prototype.readUIntLE=function($,W,Q){$>>>=0,W>>>=0,Q||j($,W,this.length);for(var te=this[$],ce=1,oe=0;++oe<W&&(ce*=256);)te+=this[$+oe]*ce;return te},l.prototype.readUIntBE=function($,W,Q){$>>>=0,W>>>=0,Q||j($,W,this.length);for(var te=this[$+--W],ce=1;0<W&&(ce*=256);)te+=this[$+--W]*ce;return te},l.prototype.readUInt8=function($,W){return $>>>=0,W||j($,1,this.length),this[$]},l.prototype.readUInt16LE=function($,W){return $>>>=0,W||j($,2,this.length),this[$]|this[$+1]<<8},l.prototype.readUInt16BE=function($,W){return $>>>=0,W||j($,2,this.length),this[$]<<8|this[$+1]},l.prototype.readUInt32LE=function($,W){return $>>>=0,W||j($,4,this.length),(this[$]|this[$+1]<<8|this[$+2]<<16)+16777216*this[$+3]},l.prototype.readUInt32BE=function($,W){return $>>>=0,W||j($,4,this.length),16777216*this[$]+(this[$+1]<<16|this[$+2]<<8|this[$+3])},l.prototype.readIntLE=function($,W,Q){$>>>=0,W>>>=0,Q||j($,W,this.length);for(var te=this[$],ce=1,oe=0;++oe<W&&(ce*=256);)te+=this[$+oe]*ce;return(ce*=128)<=te&&(te-=Math.pow(2,8*W)),te},l.prototype.readIntBE=function($,W,Q){$>>>=0,W>>>=0,Q||j($,W,this.length);for(var te=W,ce=1,oe=this[$+--te];0<te&&(ce*=256);)oe+=this[$+--te]*ce;return(ce*=128)<=oe&&(oe-=Math.pow(2,8*W)),oe},l.prototype.readInt8=function($,W){return $>>>=0,W||j($,1,this.length),128&this[$]?-1*(255-this[$]+1):this[$]},l.prototype.readInt16LE=function($,W){return $>>>=0,W||j($,2,this.length),W=this[$]|this[$+1]<<8,32768&W?4294901760|W:W},l.prototype.readInt16BE=function($,W){return $>>>=0,W||j($,2,this.length),W=this[$+1]|this[$]<<8,32768&W?4294901760|W:W},l.prototype.readInt32LE=function($,W){return $>>>=0,W||j($,4,this.length),this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24},l.prototype.readInt32BE=function($,W){return $>>>=0,W||j($,4,this.length),this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]},l.prototype.readFloatLE=function($,W){return $>>>=0,W||j($,4,this.length),p.read(this,$,!0,23,4)},l.prototype.readFloatBE=function($,W){return $>>>=0,W||j($,4,this.length),p.read(this,$,!1,23,4)},l.prototype.readDoubleLE=function($,W){return $>>>=0,W||j($,8,this.length),p.read(this,$,!0,52,8)},l.prototype.readDoubleBE=function($,W){return $>>>=0,W||j($,8,this.length),p.read(this,$,!1,52,8)},l.prototype.writeUIntLE=function($,W,Q,te){$=+$,W>>>=0,Q>>>=0,te||L(this,$,W,Q,Math.pow(2,8*Q)-1,0);var ce=1,oe=0;for(this[W]=255&$;++oe<Q&&(ce*=256);)this[W+oe]=$/ce&255;return W+Q},l.prototype.writeUIntBE=function($,W,Q,te){$=+$,W>>>=0,Q>>>=0,te||L(this,$,W,Q,Math.pow(2,8*Q)-1,0);var ce=Q-1,oe=1;for(this[W+ce]=255&$;0<=--ce&&(oe*=256);)this[W+ce]=$/oe&255;return W+Q},l.prototype.writeUInt8=function($,W,Q){return $=+$,W>>>=0,Q||L(this,$,W,1,255,0),this[W]=255&$,W+1},l.prototype.writeUInt16LE=function($,W,Q){return $=+$,W>>>=0,Q||L(this,$,W,2,65535,0),this[W]=255&$,this[W+1]=$>>>8,W+2},l.prototype.writeUInt16BE=function($,W,Q){return $=+$,W>>>=0,Q||L(this,$,W,2,65535,0),this[W]=$>>>8,this[W+1]=255&$,W+2},l.prototype.writeUInt32LE=function($,W,Q){return $=+$,W>>>=0,Q||L(this,$,W,4,4294967295,0),this[W+3]=$>>>24,this[W+2]=$>>>16,this[W+1]=$>>>8,this[W]=255&$,W+4},l.prototype.writeUInt32BE=function($,W,Q){return $=+$,W>>>=0,Q||L(this,$,W,4,4294967295,0),this[W]=$>>>24,this[W+1]=$>>>16,this[W+2]=$>>>8,this[W+3]=255&$,W+4},l.prototype.writeIntLE=function($,W,Q,te){$=+$,W>>>=0,te||L(this,$,W,Q,(te=Math.pow(2,8*Q-1))-1,-te);var ce=0,oe=1,ue=0;for(this[W]=255&$;++ce<Q&&(oe*=256);)$<0&&ue===0&&this[W+ce-1]!==0&&(ue=1),this[W+ce]=($/oe>>0)-ue&255;return W+Q},l.prototype.writeIntBE=function($,W,Q,te){$=+$,W>>>=0,te||L(this,$,W,Q,(te=Math.pow(2,8*Q-1))-1,-te);var ce=Q-1,oe=1,ue=0;for(this[W+ce]=255&$;0<=--ce&&(oe*=256);)$<0&&ue===0&&this[W+ce+1]!==0&&(ue=1),this[W+ce]=($/oe>>0)-ue&255;return W+Q},l.prototype.writeInt8=function($,W,Q){return $=+$,W>>>=0,Q||L(this,$,W,1,127,-128),this[W]=255&($=$<0?255+$+1:$),W+1},l.prototype.writeInt16LE=function($,W,Q){return $=+$,W>>>=0,Q||L(this,$,W,2,32767,-32768),this[W]=255&$,this[W+1]=$>>>8,W+2},l.prototype.writeInt16BE=function($,W,Q){return $=+$,W>>>=0,Q||L(this,$,W,2,32767,-32768),this[W]=$>>>8,this[W+1]=255&$,W+2},l.prototype.writeInt32LE=function($,W,Q){return $=+$,W>>>=0,Q||L(this,$,W,4,2147483647,-2147483648),this[W]=255&$,this[W+1]=$>>>8,this[W+2]=$>>>16,this[W+3]=$>>>24,W+4},l.prototype.writeInt32BE=function($,W,Q){return $=+$,W>>>=0,Q||L(this,$,W,4,2147483647,-2147483648),this[W]=($=$<0?4294967295+$+1:$)>>>24,this[W+1]=$>>>16,this[W+2]=$>>>8,this[W+3]=255&$,W+4},l.prototype.writeFloatLE=function($,W,Q){return V(this,$,W,!0,Q)},l.prototype.writeFloatBE=function($,W,Q){return V(this,$,W,!1,Q)},l.prototype.writeDoubleLE=function($,W,Q){return k(this,$,W,!0,Q)},l.prototype.writeDoubleBE=function($,W,Q){return k(this,$,W,!1,Q)},l.prototype.copy=function($,W,Q,te){if(!l.isBuffer($))throw new TypeError("argument should be a Buffer");if(Q=Q||0,te||te===0||(te=this.length),W>=$.length&&(W=$.length),(te=0<te&&te<Q?Q:te)===Q||$.length===0||this.length===0)return 0;if((W=W||0)<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length);var ce=(te=$.length-W<te-Q?$.length-W+Q:te)-Q;if(this===$&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(W,Q,te);else if(this===$&&Q<W&&W<te)for(var oe=ce-1;0<=oe;--oe)$[oe+W]=this[oe+Q];else Uint8Array.prototype.set.call($,this.subarray(Q,te),W);return ce},l.prototype.fill=function($,W,Q,te){if(typeof $=="string"){if(typeof W=="string"?(te=W,W=0,Q=this.length):typeof Q=="string"&&(te=Q,Q=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!l.isEncoding(te))throw new TypeError("Unknown encoding: "+te);var ce;$.length===1&&(ce=$.charCodeAt(0),(te==="utf8"&&ce<128||te==="latin1")&&($=ce))}else typeof $=="number"?$&=255:typeof $=="boolean"&&($=Number($));if(W<0||this.length<W||this.length<Q)throw new RangeError("Out of range index");var oe;if(!(Q<=W))if(W>>>=0,Q=Q===void 0?this.length:Q>>>0,typeof($=$||0)=="number")for(oe=W;oe<Q;++oe)this[oe]=$;else{var ue=l.isBuffer($)?$:l.from($,te),we=ue.length;if(we===0)throw new TypeError('The value "'+$+'" is invalid for argument "value"');for(oe=0;oe<Q-W;++oe)this[oe+W]=ue[oe%we]}return this};var U=/[^+/0-9A-Za-z-_]/g;function G($,W){W=W||1/0;for(var Q,te=$.length,ce=null,oe=[],ue=0;ue<te;++ue){if(55295<(Q=$.charCodeAt(ue))&&Q<57344){if(!ce){if(56319<Q){-1<(W-=3)&&oe.push(239,191,189);continue}if(ue+1===te){-1<(W-=3)&&oe.push(239,191,189);continue}ce=Q;continue}if(Q<56320){-1<(W-=3)&&oe.push(239,191,189),ce=Q;continue}Q=65536+(ce-55296<<10|Q-56320)}else ce&&-1<(W-=3)&&oe.push(239,191,189);if(ce=null,Q<128){if(--W<0)break;oe.push(Q)}else if(Q<2048){if((W-=2)<0)break;oe.push(Q>>6|192,63&Q|128)}else if(Q<65536){if((W-=3)<0)break;oe.push(Q>>12|224,Q>>6&63|128,63&Q|128)}else{if(!(Q<1114112))throw new Error("Invalid code point");if((W-=4)<0)break;oe.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,63&Q|128)}}return oe}function H($){return m.toByteArray(function(W){if((W=(W=W.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;W.length%4!=0;)W+="=";return W}($))}function X($,W,Q,te){for(var ce=0;ce<te&&!(ce+Q>=W.length||ce>=$.length);++ce)W[ce+Q]=$[ce];return ce}function Z($,W){return $ instanceof W||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===W.name}function J($){return $!=$}var ee=function(){for(var $="0123456789abcdef",W=new Array(256),Q=0;Q<16;++Q)for(var te=16*Q,ce=0;ce<16;++ce)W[te+ce]=$[Q]+$[ce];return W}()}).call(this,a("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:251}],5:[function(a,r,b){r.exports=function(h){if(typeof h!="function")throw TypeError(String(h)+" is not a function");return h}},{}],6:[function(a,r,b){var h=a("../internals/is-object");r.exports=function(m){if(h(m)||m===null)return m;throw TypeError("Can't set "+String(m)+" as a prototype")}},{"../internals/is-object":75}],7:[function(p,r,b){var h=p("../internals/well-known-symbol"),m=p("../internals/object-create"),p=p("../internals/object-define-property"),A=h("unscopables"),S=Array.prototype;S[A]==null&&p.f(S,A,{configurable:!0,value:m(null)}),r.exports=function(_){S[A][_]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],8:[function(a,r,b){var h=a("../internals/string-multibyte").charAt;r.exports=function(m,p,A){return p+(A?h(m,p).length:1)}},{"../internals/string-multibyte":124}],9:[function(a,r,b){r.exports=function(h,m,p){if(h instanceof m)return h;throw TypeError("Incorrect "+(p?p+" ":"")+"invocation")}},{}],10:[function(a,r,b){var h=a("../internals/is-object");r.exports=function(m){if(h(m))return m;throw TypeError(String(m)+" is not an object")}},{"../internals/is-object":75}],11:[function(a,r,b){r.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(R,r,b){function h(k){return _(k)&&l(V,y(k))}var m,p=R("../internals/array-buffer-native"),A=R("../internals/descriptors"),S=R("../internals/global"),_=R("../internals/is-object"),l=R("../internals/has"),y=R("../internals/classof"),o=R("../internals/create-non-enumerable-property"),f=R("../internals/redefine"),x=R("../internals/object-define-property").f,g=R("../internals/object-get-prototype-of"),D=R("../internals/object-set-prototype-of"),B=R("../internals/well-known-symbol"),R=R("../internals/uid"),E=S.Int8Array,C=E&&E.prototype,T=S.Uint8ClampedArray,T=T&&T.prototype,O=E&&g(E),I=C&&g(C),M=Object.prototype,F=M.isPrototypeOf,B=B("toStringTag"),j=R("TYPED_ARRAY_TAG"),L=p&&!!D&&y(S.opera)!=="Opera",R=!1,V={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(m in V)S[m]||(L=!1);if((!L||typeof O!="function"||O===Function.prototype)&&(O=function(){throw TypeError("Incorrect invocation")},L))for(m in V)S[m]&&D(S[m],O);if((!L||!I||I===M)&&(I=O.prototype,L))for(m in V)S[m]&&D(S[m].prototype,I);if(L&&g(T)!==I&&D(T,I),A&&!l(I,B))for(m in R=!0,x(I,B,{get:function(){return _(this)?this[j]:void 0}}),V)S[m]&&o(S[m],j,m);r.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:R&&j,aTypedArray:function(k){if(h(k))return k;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(k){if(D){if(F.call(O,k))return k}else for(var U in V)if(l(V,m)&&(U=S[U],U&&(k===U||F.call(U,k))))return k;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(k,U,G){if(A){if(G)for(var H in V)H=S[H],H&&l(H.prototype,k)&&delete H.prototype[k];I[k]&&!G||f(I,k,!G&&L&&C[k]||U)}},exportTypedArrayStaticMethod:function(k,U,G){var H,X;if(A){if(D){if(G)for(H in V)(X=S[H])&&l(X,k)&&delete X[k];if(O[k]&&!G)return;try{return f(O,k,!G&&L&&E[k]||U)}catch{}}for(H in V)!(X=S[H])||X[k]&&!G||f(X,k,U)}},isView:function(k){return k=y(k),k==="DataView"||l(V,k)},isTypedArray:h,TypedArray:O,TypedArrayPrototype:I}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/uid":146,"../internals/well-known-symbol":149}],13:[function(Q,r,b){function h(pe){return[255&pe]}function m(pe){return[255&pe,pe>>8&255]}function p(pe){return[255&pe,pe>>8&255,pe>>16&255,pe>>24&255]}function A(pe){return pe[3]<<24|pe[2]<<16|pe[1]<<8|pe[0]}function S(pe){return oe(pe,23,4)}function _(pe){return oe(pe,52,8)}function l(pe,ye){R(pe[Z],ye,{get:function(){return U(this)[ye]}})}function y(de,ye,re,be){if(re=M(re),de=U(de),re+ye>de.byteLength)throw ce(J);var ne=U(de.buffer).bytes,re=re+de.byteOffset,de=ne.slice(re,re+ye);return be?de:de.reverse()}function o(pe,ye,Ae,be,ne,re){if(Ae=M(Ae),pe=U(pe),Ae+ye>pe.byteLength)throw ce(J);for(var de=U(pe.buffer).bytes,Ce=Ae+pe.byteOffset,je=be(+ne),xe=0;xe<ye;xe++)de[Ce+xe]=je[re?xe:ye-xe-1]}var f=Q("../internals/global"),x=Q("../internals/descriptors"),g=Q("../internals/array-buffer-native"),D=Q("../internals/create-non-enumerable-property"),E=Q("../internals/redefine-all"),C=Q("../internals/fails"),T=Q("../internals/an-instance"),O=Q("../internals/to-integer"),I=Q("../internals/to-length"),M=Q("../internals/to-index"),F=Q("../internals/ieee754"),B=Q("../internals/object-get-prototype-of"),j=Q("../internals/object-set-prototype-of"),L=Q("../internals/object-get-own-property-names").f,R=Q("../internals/object-define-property").f,V=Q("../internals/array-fill"),k=Q("../internals/set-to-string-tag"),Q=Q("../internals/internal-state"),U=Q.get,G=Q.set,H="ArrayBuffer",X="DataView",Z="prototype",J="Wrong index",ee=f[H],$=ee,W=f[X],Q=W&&W[Z],te=Object.prototype,ce=f.RangeError,oe=F.pack,ue=F.unpack;if(g){if(!C(function(){ee(1)})||!C(function(){new ee(-1)})||C(function(){return new ee,new ee(1.5),new ee(NaN),ee.name!=H})){for(var we,f=($=function(Ae){return T(this,$),new ee(M(Ae))})[Z]=ee[Z],le=L(ee),fe=0;le.length>fe;)(we=le[fe++])in $||D($,we,ee[we]);f.constructor=$}j&&B(Q)!==te&&j(Q,te);var F=new W(new $(2)),ve=Q.setInt8;F.setInt8(0,2147483648),F.setInt8(1,2147483649),!F.getInt8(0)&&F.getInt8(1)||E(Q,{setInt8:function(ye,Ae){ve.call(this,ye,Ae<<24>>24)},setUint8:function(ye,Ae){ve.call(this,ye,Ae<<24>>24)}},{unsafe:!0})}else $=function(pe){T(this,$,H),pe=M(pe),G(this,{bytes:V.call(new Array(pe),0),byteLength:pe}),x||(this.byteLength=pe)},W=function(pe,ne,Ae){T(this,W,X),T(pe,$,X);var be=U(pe).byteLength,ne=O(ne);if(ne<0||be<ne)throw ce("Wrong offset");if(be<ne+(Ae=Ae===void 0?be-ne:I(Ae)))throw ce("Wrong length");G(this,{buffer:pe,byteLength:Ae,byteOffset:ne}),x||(this.buffer=pe,this.byteLength=Ae,this.byteOffset=ne)},x&&(l($,"byteLength"),l(W,"buffer"),l(W,"byteLength"),l(W,"byteOffset")),E(W[Z],{getInt8:function(pe){return y(this,1,pe)[0]<<24>>24},getUint8:function(pe){return y(this,1,pe)[0]},getInt16:function(pe){return pe=y(this,2,pe,1<arguments.length?arguments[1]:void 0),(pe[1]<<8|pe[0])<<16>>16},getUint16:function(pe){return pe=y(this,2,pe,1<arguments.length?arguments[1]:void 0),pe[1]<<8|pe[0]},getInt32:function(pe){return A(y(this,4,pe,1<arguments.length?arguments[1]:void 0))},getUint32:function(pe){return A(y(this,4,pe,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(pe){return ue(y(this,4,pe,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(pe){return ue(y(this,8,pe,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(pe,ye){o(this,1,pe,h,ye)},setUint8:function(pe,ye){o(this,1,pe,h,ye)},setInt16:function(pe,ye){o(this,2,pe,m,ye,2<arguments.length?arguments[2]:void 0)},setUint16:function(pe,ye){o(this,2,pe,m,ye,2<arguments.length?arguments[2]:void 0)},setInt32:function(pe,ye){o(this,4,pe,p,ye,2<arguments.length?arguments[2]:void 0)},setUint32:function(pe,ye){o(this,4,pe,p,ye,2<arguments.length?arguments[2]:void 0)},setFloat32:function(pe,ye){o(this,4,pe,S,ye,2<arguments.length?arguments[2]:void 0)},setFloat64:function(pe,ye){o(this,8,pe,_,ye,2<arguments.length?arguments[2]:void 0)}});k($,H),k(W,X),r.exports={ArrayBuffer:$,DataView:W}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/to-index":134,"../internals/to-integer":136,"../internals/to-length":137}],14:[function(a,r,b){var h=a("../internals/to-object"),m=a("../internals/to-absolute-index"),p=a("../internals/to-length"),A=Math.min;r.exports=[].copyWithin||function(x,_){var l=h(this),y=p(l.length),o=m(x,y),f=m(_,y),x=2<arguments.length?arguments[2]:void 0,g=A((x===void 0?y:m(x,y))-f,y-o),D=1;for(f<o&&o<f+g&&(D=-1,f+=g-1,o+=g-1);0<g--;)f in l?l[o]=l[f]:delete l[o],o+=D,f+=D;return l}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],15:[function(a,r,b){var h=a("../internals/to-object"),m=a("../internals/to-absolute-index"),p=a("../internals/to-length");r.exports=function(A){for(var S=h(this),_=p(S.length),y=arguments.length,l=m(1<y?arguments[1]:void 0,_),y=2<y?arguments[2]:void 0,o=y===void 0?_:m(y,_);l<o;)S[l++]=A;return S}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],16:[function(p,r,b){var h=p("../internals/array-iteration").forEach,m=p("../internals/array-method-is-strict"),p=p("../internals/array-method-uses-to-length"),m=m("forEach"),p=p("forEach");r.exports=m&&p?[].forEach:function(A){return h(this,A,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(a,r,b){var h=a("../internals/function-bind-context"),m=a("../internals/to-object"),p=a("../internals/call-with-safe-iteration-closing"),A=a("../internals/is-array-iterator-method"),S=a("../internals/to-length"),_=a("../internals/create-property"),l=a("../internals/get-iterator-method");r.exports=function(T){var o,f,x,g,D,E,C=m(T),T=typeof this=="function"?this:Array,O=arguments.length,I=1<O?arguments[1]:void 0,M=I!==void 0,F=l(C),B=0;if(M&&(I=h(I,2<O?arguments[2]:void 0,2)),F==null||T==Array&&A(F))for(f=new T(o=S(C.length));B<o;B++)E=M?I(C[B],B):C[B],_(f,B,E);else for(D=(g=F.call(C)).next,f=new T;!(x=D.call(g)).done;B++)E=M?p(g,I,[x.value,B],!0):x.value,_(f,B,E);return f.length=B,f}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],18:[function(a,r,b){function h(S){return function(_,l,y){var o,f=m(_),x=p(f.length),g=A(y,x);if(S&&l!=l){for(;g<x;)if((o=f[g++])!=o)return!0}else for(;g<x;g++)if((S||g in f)&&f[g]===l)return S||g||0;return!S&&-1}}var m=a("../internals/to-indexed-object"),p=a("../internals/to-length"),A=a("../internals/to-absolute-index");r.exports={includes:h(!0),indexOf:h(!1)}},{"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137}],19:[function(a,r,b){function h(y){var o=y==1,f=y==2,x=y==3,g=y==4,D=y==6,E=y==5||D;return function(C,T,O,I){for(var M,F,B=A(C),j=p(B),L=m(T,O,3),R=S(j.length),V=0,T=I||_,k=o?T(C,R):f?T(C,0):void 0;V<R;V++)if((E||V in j)&&(F=L(M=j[V],V,B),y)){if(o)k[V]=F;else if(F)switch(y){case 3:return!0;case 5:return M;case 6:return V;case 2:l.call(k,M)}else if(g)return!1}return D?-1:x||g?g:k}}var m=a("../internals/function-bind-context"),p=a("../internals/indexed-object"),A=a("../internals/to-object"),S=a("../internals/to-length"),_=a("../internals/array-species-create"),l=[].push;r.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],20:[function(y,r,b){var h=y("../internals/to-indexed-object"),m=y("../internals/to-integer"),p=y("../internals/to-length"),l=y("../internals/array-method-is-strict"),y=y("../internals/array-method-uses-to-length"),A=Math.min,S=[].lastIndexOf,_=!!S&&1/[1].lastIndexOf(1,-0)<0,l=l("lastIndexOf"),y=y("indexOf",{ACCESSORS:!0,1:0});r.exports=_||!l||!y?function(o){if(_)return S.apply(this,arguments)||0;var f=h(this),x=p(f.length),g=x-1;for((g=1<arguments.length?A(g,m(arguments[1])):g)<0&&(g=x+g);0<=g;g--)if(g in f&&f[g]===o)return g||0;return-1}:S},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":135,"../internals/to-integer":136,"../internals/to-length":137}],21:[function(a,r,b){var h=a("../internals/fails"),m=a("../internals/well-known-symbol"),p=a("../internals/engine-v8-version"),A=m("species");r.exports=function(S){return 51<=p||!h(function(){var _=[];return(_.constructor={})[A]=function(){return{foo:1}},_[S](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":149}],22:[function(a,r,b){var h=a("../internals/fails");r.exports=function(m,p){var A=[][m];return!!A&&h(function(){A.call(null,p||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(a,r,b){function h(l){throw l}var m=a("../internals/descriptors"),p=a("../internals/fails"),A=a("../internals/has"),S=Object.defineProperty,_={};r.exports=function(l,y){var o,f,x,g;return A(_,l)?_[l]:(o=[][l],f=!!A(y=y||{},"ACCESSORS")&&y.ACCESSORS,x=A(y,0)?y[0]:h,g=A(y,1)?y[1]:void 0,_[l]=!!o&&!p(function(){if(f&&!m)return!0;var D={length:-1};f?S(D,1,{enumerable:!0,get:h}):D[1]=1,o.call(D,x,g)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(a,r,b){function h(_){return function(l,y,o,f){m(y);var x=p(l),g=A(x),D=S(x.length),E=_?D-1:0,C=_?-1:1;if(o<2)for(;;){if(E in g){f=g[E],E+=C;break}if(E+=C,_?E<0:D<=E)throw TypeError("Reduce of empty array with no initial value")}for(;_?0<=E:E<D;E+=C)E in g&&(f=y(f,g[E],E,x));return f}}var m=a("../internals/a-function"),p=a("../internals/to-object"),A=a("../internals/indexed-object"),S=a("../internals/to-length");r.exports={left:h(!1),right:h(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],25:[function(a,r,b){var h=a("../internals/is-object"),m=a("../internals/is-array"),p=a("../internals/well-known-symbol")("species");r.exports=function(A,S){var _;return new((_=m(A)&&(typeof(_=A.constructor)=="function"&&(_===Array||m(_.prototype))||h(_)&&(_=_[p])===null)?void 0:_)===void 0?Array:_)(S===0?0:S)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":149}],26:[function(a,r,b){var h=a("../internals/an-object");r.exports=function(m,p,A,S){try{return S?p(h(A)[0],A[1]):p(A)}catch(_){throw S=m.return,S!==void 0&&h(S.call(m)),_}}},{"../internals/an-object":10}],27:[function(a,r,b){var h=a("../internals/well-known-symbol")("iterator"),m=!1;try{var p=0,A={next:function(){return{done:!!p++}},return:function(){m=!0}};A[h]=function(){return this},Array.from(A,function(){throw 2})}catch{}r.exports=function(S,_){if(!_&&!m)return!1;var l=!1;try{var y={};y[h]=function(){return{next:function(){return{done:l=!0}}}},S(y)}catch{}return l}},{"../internals/well-known-symbol":149}],28:[function(a,r,b){var h={}.toString;r.exports=function(m){return h.call(m).slice(8,-1)}},{}],29:[function(a,r,b){var h=a("../internals/to-string-tag-support"),m=a("../internals/classof-raw"),p=a("../internals/well-known-symbol")("toStringTag"),A=m(function(){return arguments}())=="Arguments";r.exports=h?m:function(S){var _;return S===void 0?"Undefined":S===null?"Null":typeof(_=function(l,y){try{return l[y]}catch{}}(S=Object(S),p))=="string"?_:A?m(S):(_=m(S))=="Object"&&typeof S.callee=="function"?"Arguments":_}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":142,"../internals/well-known-symbol":149}],30:[function(x,r,b){var h=x("../internals/object-define-property").f,m=x("../internals/object-create"),p=x("../internals/redefine-all"),A=x("../internals/function-bind-context"),S=x("../internals/an-instance"),_=x("../internals/iterate"),l=x("../internals/define-iterator"),y=x("../internals/set-species"),o=x("../internals/descriptors"),f=x("../internals/internal-metadata").fastKey,x=x("../internals/internal-state"),g=x.set,D=x.getterFor;r.exports={getConstructor:function(E,C,T,O){function I(j,L,R){var V,k=B(j),U=M(j,L);return U?U.value=R:(k.last=U={index:V=f(L,!0),key:L,value:R,previous:L=k.last,next:void 0,removed:!1},k.first||(k.first=U),L&&(L.next=U),o?k.size++:j.size++,V!=="F"&&(k.index[V]=U)),j}function M(V,L){var R,V=B(V),k=f(L);if(k!=="F")return V.index[k];for(R=V.first;R;R=R.next)if(R.key==L)return R}var F=E(function(j,L){S(j,F,C),g(j,{type:C,index:m(null),first:void 0,last:void 0,size:0}),o||(j.size=0),L!=null&&_(L,j[O],j,T)}),B=D(C);return p(F.prototype,{clear:function(){for(var j=B(this),L=j.index,R=j.first;R;)R.removed=!0,R.previous&&(R.previous=R.previous.next=void 0),delete L[R.index],R=R.next;j.first=j.last=void 0,o?j.size=0:this.size=0},delete:function(k){var L,R,V=B(this),k=M(this,k);return k&&(L=k.next,R=k.previous,delete V.index[k.index],k.removed=!0,R&&(R.next=L),L&&(L.previous=R),V.first==k&&(V.first=L),V.last==k&&(V.last=R),o?V.size--:this.size--),!!k},forEach:function(j){for(var L,R=B(this),V=A(j,1<arguments.length?arguments[1]:void 0,3);L=L?L.next:R.first;)for(V(L.value,L.key,this);L&&L.removed;)L=L.previous},has:function(j){return!!M(this,j)}}),p(F.prototype,T?{get:function(j){return j=M(this,j),j&&j.value},set:function(j,L){return I(this,j===0?0:j,L)}}:{add:function(j){return I(this,j=j===0?0:j,j)}}),o&&h(F.prototype,"size",{get:function(){return B(this).size}}),F},setStrong:function(E,C,T){var O=C+" Iterator",I=D(C),M=D(O);l(E,C,function(F,B){g(this,{type:O,target:F,state:I(F),kind:B,last:void 0})},function(){for(var F=M(this),B=F.kind,j=F.last;j&&j.removed;)j=j.previous;return F.target&&(F.last=j=j?j.next:F.state.first)?B=="keys"?{value:j.key,done:!1}:B=="values"?{value:j.value,done:!1}:{value:[j.key,j.value],done:!1}:{value:F.target=void 0,done:!0}},T?"entries":"values",!T,!0),y(C)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":108,"../internals/set-species":117}],31:[function(g,r,b){function h(I){return I.frozen||(I.frozen=new m)}function m(){this.entries=[]}function p(I,M){return C(I.entries,function(F){return F[0]===M})}var A=g("../internals/redefine-all"),S=g("../internals/internal-metadata").getWeakData,_=g("../internals/an-object"),l=g("../internals/is-object"),y=g("../internals/an-instance"),o=g("../internals/iterate"),f=g("../internals/array-iteration"),x=g("../internals/has"),g=g("../internals/internal-state"),D=g.set,E=g.getterFor,C=f.find,T=f.findIndex,O=0;m.prototype={get:function(I){if(I=p(this,I),I)return I[1]},has:function(I){return!!p(this,I)},set:function(I,M){var F=p(this,I);F?F[1]=M:this.entries.push([I,M])},delete:function(I){var M=T(this.entries,function(F){return F[0]===I});return~M&&this.entries.splice(M,1),!!~M}},r.exports={getConstructor:function(I,M,F,B){function j(V,k,U){var G=R(V),H=S(_(k),!0);return H===!0?h(G).set(k,U):H[G.id]=U,V}var L=I(function(V,k){y(V,L,M),D(V,{type:M,id:O++,frozen:void 0}),k!=null&&o(k,V[B],V,F)}),R=E(M);return A(L.prototype,{delete:function(V){var k,U=R(this);return!!l(V)&&((k=S(V))===!0?h(U).delete(V):k&&x(k,U.id)&&delete k[U.id])},has:function(V){var k,U=R(this);return!!l(V)&&((k=S(V))===!0?h(U).has(V):k&&x(k,U.id))}}),A(L.prototype,F?{get:function(V){var k,U=R(this);if(l(V))return(k=S(V))===!0?h(U).get(V):k?k[U.id]:void 0},set:function(V,k){return j(this,V,k)}}:{add:function(V){return j(this,V,!0)}}),L}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":108}],32:[function(a,r,b){var h=a("../internals/export"),m=a("../internals/global"),p=a("../internals/is-forced"),A=a("../internals/redefine"),S=a("../internals/internal-metadata"),_=a("../internals/iterate"),l=a("../internals/an-instance"),y=a("../internals/is-object"),o=a("../internals/fails"),f=a("../internals/check-correctness-of-iteration"),x=a("../internals/set-to-string-tag"),g=a("../internals/inherit-if-required");r.exports=function(D,E,C){function T(H){var X=k[H];A(k,H,H=="add"?function(Z){return X.call(this,Z===0?0:Z),this}:H=="delete"?function(Z){return!(L&&!y(Z))&&X.call(this,Z===0?0:Z)}:H=="get"?function(Z){return L&&!y(Z)?void 0:X.call(this,Z===0?0:Z)}:H=="has"?function(Z){return!(L&&!y(Z))&&X.call(this,Z===0?0:Z)}:function(Z,J){return X.call(this,Z===0?0:Z,J),this})}var O,I,M,F,B,j=D.indexOf("Map")!==-1,L=D.indexOf("Weak")!==-1,R=j?"set":"add",V=m[D],k=V&&V.prototype,U=V,G={};return p(D,typeof V!="function"||!(L||k.forEach&&!o(function(){new V().entries().next()})))?(U=C.getConstructor(E,D,j,R),S.REQUIRED=!0):p(D,!0)&&(I=(O=new U)[R](L?{}:-0,1)!=O,M=o(function(){O.has(1)}),F=f(function(H){new V(H)}),B=!L&&o(function(){for(var H=new V,X=5;X--;)H[R](X,X);return!H.has(-0)}),F||(((U=E(function(H,X){return l(H,U,D),H=g(new V,H,U),X!=null&&_(X,H[R],H,j),H})).prototype=k).constructor=U),(M||B)&&(T("delete"),T("has"),j&&T("get")),(B||I)&&T(R),L&&k.clear&&delete k.clear),G[D]=U,h({global:!0,forced:U!=V},G),x(U,D),L||C.setStrong(U,D,j),U}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":109,"../internals/set-to-string-tag":118}],33:[function(a,r,b){var h=a("../internals/has"),m=a("../internals/own-keys"),p=a("../internals/object-get-own-property-descriptor"),A=a("../internals/object-define-property");r.exports=function(S,_){for(var l=m(_),y=A.f,o=p.f,f=0;f<l.length;f++){var x=l[f];h(S,x)||y(S,x,o(_,x))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":104}],34:[function(a,r,b){var h=a("../internals/well-known-symbol")("match");r.exports=function(m){var p=/./;try{"/./"[m](p)}catch{try{return p[h]=!1,"/./"[m](p)}catch{}}return!1}},{"../internals/well-known-symbol":149}],35:[function(a,r,b){a=a("../internals/fails"),r.exports=!a(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},{"../internals/fails":51}],36:[function(a,r,b){var h=a("../internals/require-object-coercible"),m=/"/g;r.exports=function(l,A,S,_){var l=String(h(l)),y="<"+A;return S!==""&&(y+=" "+S+'="'+String(_).replace(m,"&quot;")+'"'),y+">"+l+"</"+A+">"}},{"../internals/require-object-coercible":114}],37:[function(a,r,b){function h(){return this}var m=a("../internals/iterators-core").IteratorPrototype,p=a("../internals/object-create"),A=a("../internals/create-property-descriptor"),S=a("../internals/set-to-string-tag"),_=a("../internals/iterators");r.exports=function(l,y,o){return y+=" Iterator",l.prototype=p(m,{next:A(1,o)}),S(l,y,!1,!0),_[y]=h,l}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":118}],38:[function(a,r,b){var h=a("../internals/descriptors"),m=a("../internals/object-define-property"),p=a("../internals/create-property-descriptor");r.exports=h?function(A,S,_){return m.f(A,S,p(1,_))}:function(A,S,_){return A[S]=_,A}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(a,r,b){r.exports=function(h,m){return{enumerable:!(1&h),configurable:!(2&h),writable:!(4&h),value:m}}},{}],40:[function(a,r,b){var h=a("../internals/to-primitive"),m=a("../internals/object-define-property"),p=a("../internals/create-property-descriptor");r.exports=function(A,S,_){S=h(S),S in A?m.f(A,S,p(0,_)):A[S]=_}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":141}],41:[function(g,r,b){function h(){return this}var m=g("../internals/export"),p=g("../internals/create-iterator-constructor"),A=g("../internals/object-get-prototype-of"),S=g("../internals/object-set-prototype-of"),_=g("../internals/set-to-string-tag"),l=g("../internals/create-non-enumerable-property"),y=g("../internals/redefine"),o=g("../internals/well-known-symbol"),f=g("../internals/is-pure"),x=g("../internals/iterators"),g=g("../internals/iterators-core"),D=g.IteratorPrototype,E=g.BUGGY_SAFARI_ITERATORS,C=o("iterator"),T="values",O="entries";r.exports=function(I,M,F,G,j,L,R){p(F,M,G);function V($){if($===j&&J)return J;if(!E&&$ in X)return X[$];switch($){case"keys":case T:case O:return function(){return new F(this,$)}}return function(){return new F(this)}}var k,U,G=M+" Iterator",H=!1,X=I.prototype,Z=X[C]||X["@@iterator"]||j&&X[j],J=!E&&Z||V(j),ee=M=="Array"&&X.entries||Z;if(ee&&(ee=A(ee.call(new I)),D!==Object.prototype&&ee.next&&(f||A(ee)===D||(S?S(ee,D):typeof ee[C]!="function"&&l(ee,C,h)),_(ee,G,!0,!0),f&&(x[G]=h))),j==T&&Z&&Z.name!==T&&(H=!0,J=function(){return Z.call(this)}),f&&!R||X[C]===J||l(X,C,J),x[M]=J,j)if(k={values:V(T),keys:L?J:V("keys"),entries:V(O)},R)for(U in k)!E&&!H&&U in X||y(X,U,k[U]);else m({target:M,proto:!0,forced:E||H},k);return k}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149}],42:[function(a,r,b){var h=a("../internals/path"),m=a("../internals/has"),p=a("../internals/well-known-symbol-wrapped"),A=a("../internals/object-define-property").f;r.exports=function(S){var _=h.Symbol||(h.Symbol={});m(_,S)||A(_,S,{value:p.f(S)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":105,"../internals/well-known-symbol-wrapped":148}],43:[function(a,r,b){a=a("../internals/fails"),r.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(m,r,b){var h=m("../internals/global"),m=m("../internals/is-object"),p=h.document,A=m(p)&&m(p.createElement);r.exports=function(S){return A?p.createElement(S):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(a,r,b){r.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(a,r,b){a=a("../internals/engine-user-agent"),r.exports=/(iphone|ipod|ipad).*applewebkit/i.test(a)},{"../internals/engine-user-agent":47}],47:[function(a,r,b){a=a("../internals/get-built-in"),r.exports=a("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(p,r,b){var h,m,A=p("../internals/global"),p=p("../internals/engine-user-agent"),A=A.process,A=A&&A.versions,A=A&&A.v8;A?m=(h=A.split("."))[0]+h[1]:p&&(!(h=p.match(/Edge\/(\d+)/))||74<=h[1])&&(h=p.match(/Chrome\/(\d+)/))&&(m=h[1]),r.exports=m&&+m},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(a,r,b){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(a,r,b){var h=a("../internals/global"),m=a("../internals/object-get-own-property-descriptor").f,p=a("../internals/create-non-enumerable-property"),A=a("../internals/redefine"),S=a("../internals/set-global"),_=a("../internals/copy-constructor-properties"),l=a("../internals/is-forced");r.exports=function(y,o){var f,x,g,D=y.target,E=y.global,C=y.stat,T=E?h:C?h[D]||S(D,{}):(h[D]||{}).prototype;if(T)for(f in o){if(x=o[f],g=y.noTargetGet?(g=m(T,f))&&g.value:T[f],!l(E?f:D+(C?".":"#")+f,y.forced)&&g!==void 0){if(typeof x==typeof g)continue;_(x,g)}(y.sham||g&&g.sham)&&p(x,"sham",!0),A(T,f,x,y)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":109,"../internals/set-global":116}],51:[function(a,r,b){r.exports=function(h){try{return!!h()}catch{return!0}}},{}],52:[function(o,r,b){o("../modules/es.regexp.exec");var h=o("../internals/redefine"),m=o("../internals/fails"),p=o("../internals/well-known-symbol"),A=o("../internals/regexp-exec"),S=o("../internals/create-non-enumerable-property"),_=p("species"),l=!m(function(){var g=/./;return g.exec=function(){var D=[];return D.groups={a:"7"},D},"".replace(g,"$<a>")!=="7"}),y="a".replace(/./,"$0")==="$0",o=p("replace"),f=!!/./[o]&&/./[o]("a","$0")==="",x=!m(function(){var D=/(?:)/,g=D.exec,D=(D.exec=function(){return g.apply(this,arguments)},"ab".split(D));return D.length!==2||D[0]!=="a"||D[1]!=="b"});r.exports=function(g,D,E,C){var T,O,I=p(g),M=!m(function(){var B={};return B[I]=function(){return 7},""[g](B)!=7}),F=M&&!m(function(){var B=!1,j=/a/;return g==="split"&&((j={constructor:{}}).constructor[_]=function(){return j},j.flags="",j[I]=/./[I]),j.exec=function(){return B=!0,null},j[I](""),!B});M&&F&&(g!=="replace"||l&&y&&!f)&&(g!=="split"||x)||(T=/./[I],E=(F=E(I,""[g],function(B,j,L,R,V){return j.exec===A?M&&!V?{done:!0,value:T.call(j,L,R)}:{done:!0,value:B.call(L,j,R)}:{done:!1}},{REPLACE_KEEPS_$0:y,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}))[0],O=F[1],h(String.prototype,g,E),h(RegExp.prototype,I,D==2?function(B,j){return O.call(B,this,j)}:function(B){return O.call(B,this)})),C&&S(RegExp.prototype[I],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-exec":111,"../internals/well-known-symbol":149,"../modules/es.regexp.exec":192}],53:[function(a,r,b){function h(S,_,l,y,o,f,x,g){for(var D,E=o,C=0,T=!!x&&A(x,g,3);C<y;){if(C in l){if(D=T?T(l[C],C,_):l[C],0<f&&m(D))E=h(S,_,D,p(D.length),E,f-1)-1;else{if(9007199254740991<=E)throw TypeError("Exceed the acceptable array length");S[E]=D}E++}C++}return E}var m=a("../internals/is-array"),p=a("../internals/to-length"),A=a("../internals/function-bind-context");r.exports=h},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":137}],54:[function(a,r,b){a=a("../internals/fails"),r.exports=!a(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(a,r,b){var h=a("../internals/a-function");r.exports=function(m,p,A){if(h(m),p===void 0)return m;switch(A){case 0:return function(){return m.call(p)};case 1:return function(S){return m.call(p,S)};case 2:return function(S,_){return m.call(p,S,_)};case 3:return function(S,_,l){return m.call(p,S,_,l)}}return function(){return m.apply(p,arguments)}}},{"../internals/a-function":5}],56:[function(a,r,b){var h=a("../internals/a-function"),m=a("../internals/is-object"),p=[].slice,A={};r.exports=Function.bind||function(S){var _=h(this),l=p.call(arguments,1),y=function(){var o=l.concat(p.call(arguments));if(this instanceof y){var f=_,x=o.length,g=o;if(!(x in A)){for(var D=[],E=0;E<x;E++)D[E]="a["+E+"]";A[x]=Function("C,a","return new C("+D.join(",")+")")}return A[x](f,g)}return _.apply(S,o)};return m(_.prototype)&&(y.prototype=_.prototype),y}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(a,r,b){function h(A){return typeof A=="function"?A:void 0}var m=a("../internals/path"),p=a("../internals/global");r.exports=function(A,S){return arguments.length<2?h(m[A])||h(p[A]):m[A]&&m[A][S]||p[A]&&p[A][S]}},{"../internals/global":60,"../internals/path":105}],58:[function(a,r,b){var h=a("../internals/classof"),m=a("../internals/iterators"),p=a("../internals/well-known-symbol")("iterator");r.exports=function(A){if(A!=null)return A[p]||A["@@iterator"]||m[h(A)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":149}],59:[function(a,r,b){var h=a("../internals/an-object"),m=a("../internals/get-iterator-method");r.exports=function(p){var A=m(p);if(typeof A!="function")throw TypeError(String(p)+" is not iterable");return h(A.call(p))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(a,r,b){(function(h){function m(p){return p&&p.Math==Math&&p}r.exports=m(typeof globalThis=="object"&&globalThis)||m(typeof window=="object"&&window)||m(typeof self=="object"&&self)||m(typeof h=="object"&&h)||Function("return this")()}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(a,r,b){var h={}.hasOwnProperty;r.exports=function(m,p){return h.call(m,p)}},{}],62:[function(a,r,b){r.exports={}},{}],63:[function(a,r,b){var h=a("../internals/global");r.exports=function(m,p){var A=h.console;A&&A.error&&(arguments.length===1?A.error(m):A.error(m,p))}},{"../internals/global":60}],64:[function(a,r,b){a=a("../internals/get-built-in"),r.exports=a("document","documentElement")},{"../internals/get-built-in":57}],65:[function(a,r,b){var h=a("../internals/descriptors"),m=a("../internals/fails"),p=a("../internals/document-create-element");r.exports=!h&&!m(function(){return Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(a,r,b){var h=Math.abs,m=Math.pow,p=Math.floor,A=Math.log,S=Math.LN2;r.exports={pack:function(_,l,E){var o,f,x,g=new Array(E),D=8*E-l-1,E=(1<<D)-1,C=E>>1,T=l===23?m(2,-24)-m(2,-77):0,O=_<0||_===0&&1/_<0?1:0,I=0;for((_=h(_))!=_||_===1/0?(f=_!=_?1:0,o=E):(o=p(A(_)/S),_*(x=m(2,-o))<1&&(o--,x*=2),2<=(_+=1<=o+C?T/x:T*m(2,1-C))*x&&(o++,x/=2),E<=o+C?(f=0,o=E):1<=o+C?(f=(_*x-1)*m(2,l),o+=C):(f=_*m(2,C-1)*m(2,l),o=0));8<=l;g[I++]=255&f,f/=256,l-=8);for(o=o<<l|f,D+=l;0<D;g[I++]=255&o,o/=256,D-=8);return g[--I]|=128*O,g},unpack:function(_,l){var y,o=_.length,E=8*o-l-1,f=(1<<E)-1,x=f>>1,g=E-7,D=o-1,E=_[D--],C=127&E;for(E>>=7;0<g;C=256*C+_[D],D--,g-=8);for(y=C&(1<<-g)-1,C>>=-g,g+=l;0<g;y=256*y+_[D],D--,g-=8);if(C===0)C=1-x;else{if(C===f)return y?NaN:E?-1/0:1/0;y+=m(2,l),C-=x}return(E?-1:1)*y*m(2,C-l)}}},{}],67:[function(a,r,b){var h=a("../internals/fails"),m=a("../internals/classof-raw"),p="".split;r.exports=h(function(){return!Object("z").propertyIsEnumerable(0)})?function(A){return m(A)=="String"?p.call(A,""):Object(A)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(a,r,b){var h=a("../internals/is-object"),m=a("../internals/object-set-prototype-of");r.exports=function(p,A,S){return m&&typeof(A=A.constructor)=="function"&&A!==S&&h(A=A.prototype)&&A!==S.prototype&&m(p,A),p}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(h,r,b){var h=h("../internals/shared-store"),m=Function.toString;typeof h.inspectSource!="function"&&(h.inspectSource=function(p){return m.call(p)}),r.exports=h.inspectSource},{"../internals/shared-store":120}],70:[function(a,r,b){function h(g){S(g,y,{value:{objectID:"O"+ ++o,weakData:{}}})}var m=a("../internals/hidden-keys"),p=a("../internals/is-object"),A=a("../internals/has"),S=a("../internals/object-define-property").f,_=a("../internals/uid"),l=a("../internals/freezing"),y=_("meta"),o=0,f=Object.isExtensible||function(){return!0},x=r.exports={REQUIRED:!1,fastKey:function(g,D){if(!p(g))return typeof g=="symbol"?g:(typeof g=="string"?"S":"P")+g;if(!A(g,y)){if(!f(g))return"F";if(!D)return"E";h(g)}return g[y].objectID},getWeakData:function(g,D){if(!A(g,y)){if(!f(g))return!0;if(!D)return!1;h(g)}return g[y].weakData},onFreeze:function(g){return l&&x.REQUIRED&&f(g)&&!A(g,y)&&h(g),g}};m[y]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":146}],71:[function(E,r,b){var h,m,p,A,S,_,l,y,o=E("../internals/native-weak-map"),C=E("../internals/global"),f=E("../internals/is-object"),x=E("../internals/create-non-enumerable-property"),g=E("../internals/has"),D=E("../internals/shared-key"),E=E("../internals/hidden-keys"),C=C.WeakMap;l=o?(h=new C,m=h.get,p=h.has,A=h.set,S=function(T,O){return A.call(h,T,O),O},_=function(T){return m.call(h,T)||{}},function(T){return p.call(h,T)}):(E[y=D("state")]=!0,S=function(T,O){return x(T,y,O),O},_=function(T){return g(T,y)?T[y]:{}},function(T){return g(T,y)}),r.exports={set:S,get:_,has:l,enforce:function(T){return l(T)?_(T):S(T,{})},getterFor:function(T){return function(O){if(f(O)&&(O=_(O)).type===T)return O;throw TypeError("Incompatible receiver, "+T+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":119}],72:[function(a,r,b){var h=a("../internals/well-known-symbol"),m=a("../internals/iterators"),p=h("iterator"),A=Array.prototype;r.exports=function(S){return S!==void 0&&(m.Array===S||A[p]===S)}},{"../internals/iterators":80,"../internals/well-known-symbol":149}],73:[function(a,r,b){var h=a("../internals/classof-raw");r.exports=Array.isArray||function(m){return h(m)=="Array"}},{"../internals/classof-raw":28}],74:[function(a,r,b){function h(y,o){return(y=S[A(y)])==l||y!=_&&(typeof o=="function"?m(o):!!o)}var m=a("../internals/fails"),p=/#|\.prototype\./,A=h.normalize=function(y){return String(y).replace(p,".").toLowerCase()},S=h.data={},_=h.NATIVE="N",l=h.POLYFILL="P";r.exports=h},{"../internals/fails":51}],75:[function(a,r,b){r.exports=function(h){return typeof h=="object"?h!==null:typeof h=="function"}},{}],76:[function(a,r,b){r.exports=!1},{}],77:[function(a,r,b){var h=a("../internals/is-object"),m=a("../internals/classof-raw"),p=a("../internals/well-known-symbol")("match");r.exports=function(A){var S;return h(A)&&((S=A[p])!==void 0?!!S:m(A)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":149}],78:[function(a,r,b){function h(y,o){this.stopped=y,this.result=o}var m=a("../internals/an-object"),p=a("../internals/is-array-iterator-method"),A=a("../internals/to-length"),S=a("../internals/function-bind-context"),_=a("../internals/get-iterator-method"),l=a("../internals/call-with-safe-iteration-closing");(r.exports=function(y,o,f,x,g){var D,E,C,T,O,I,M=S(o,f,x?2:1);if(g)D=y;else{if(typeof(o=_(y))!="function")throw TypeError("Target is not iterable");if(p(o)){for(E=0,C=A(y.length);E<C;E++)if((T=x?M(m(I=y[E])[0],I[1]):M(y[E]))&&T instanceof h)return T;return new h(!1)}D=o.call(y)}for(O=D.next;!(I=O.call(D)).done;)if(typeof(T=l(D,M,I.value,x))=="object"&&T&&T instanceof h)return T;return new h(!1)}).stop=function(y){return new h(!0,y)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137}],79:[function(_,r,b){var h,m,p=_("../internals/object-get-prototype-of"),A=_("../internals/create-non-enumerable-property"),S=_("../internals/has"),l=_("../internals/well-known-symbol"),_=_("../internals/is-pure"),l=l("iterator"),y=!1;[].keys&&("next"in(m=[].keys())?(p=p(p(m)))!==Object.prototype&&(h=p):y=!0),h==null&&(h={}),_||S(h,l)||A(h,l,function(){return this}),r.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:y}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":149}],80:[function(a,r,b){r.exports={}},{}],81:[function(a,r,b){r.exports=Math.sign||function(h){return(h=+h)==0||h!=h?h:h<0?-1:1}},{}],82:[function(x,r,b){var h,m,p,A,S,_,l,y,o=x("../internals/global"),O=x("../internals/object-get-own-property-descriptor").f,T=x("../internals/classof-raw"),f=x("../internals/task").set,x=x("../internals/engine-is-ios"),g=o.MutationObserver||o.WebKitMutationObserver,D=o.process,E=o.Promise,C=T(D)=="process",T=O(o,"queueMicrotask"),O=T&&T.value;O||(h=function(){var I,M;for(C&&(I=D.domain)&&I.exit();m;){M=m.fn,m=m.next;try{M()}catch(F){throw m?A():p=void 0,F}}p=void 0,I&&I.enter()},A=C?function(){D.nextTick(h)}:g&&!x?(S=!0,_=document.createTextNode(""),new g(h).observe(_,{characterData:!0}),function(){_.data=S=!S}):E&&E.resolve?(l=E.resolve(void 0),y=l.then,function(){y.call(l,h)}):function(){f.call(o,h)}),r.exports=O||function(I){I={fn:I,next:void 0},p&&(p.next=I),m||(m=I,A()),p=I}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":131}],83:[function(a,r,b){a=a("../internals/global"),r.exports=a.Promise},{"../internals/global":60}],84:[function(a,r,b){a=a("../internals/fails"),r.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(a,r,b){var h=a("../internals/fails"),m=a("../internals/well-known-symbol"),p=a("../internals/is-pure"),A=m("iterator");r.exports=!h(function(){var S=new URL("b?a=1&b=2&c=3","http://a"),_=S.searchParams,l="";return S.pathname="c%20d",_.forEach(function(y,o){_.delete("b"),l+=o+y}),p&&!S.toJSON||!_.sort||S.href!=="http://a/c%20d?a=1&c=3"||_.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!_[A]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||l!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":149}],86:[function(h,r,b){var m=h("../internals/global"),h=h("../internals/inspect-source"),m=m.WeakMap;r.exports=typeof m=="function"&&/native code/.test(h(m))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(a,r,b){function h(p){var A,S;this.promise=new p(function(_,l){if(A!==void 0||S!==void 0)throw TypeError("Bad Promise constructor");A=_,S=l}),this.resolve=m(A),this.reject=m(S)}var m=a("../internals/a-function");r.exports.f=function(p){return new h(p)}},{"../internals/a-function":5}],88:[function(a,r,b){var h=a("../internals/is-regexp");r.exports=function(m){if(h(m))throw TypeError("The method doesn't accept regular expressions");return m}},{"../internals/is-regexp":77}],89:[function(a,r,b){var h=a("../internals/global").isFinite;r.exports=Number.isFinite||function(m){return typeof m=="number"&&h(m)}},{"../internals/global":60}],90:[function(a,r,b){var h=a("../internals/descriptors"),m=a("../internals/fails"),p=a("../internals/object-keys"),A=a("../internals/object-get-own-property-symbols"),S=a("../internals/object-property-is-enumerable"),_=a("../internals/to-object"),l=a("../internals/indexed-object"),y=Object.assign,o=Object.defineProperty;r.exports=!y||m(function(){var f,x,g,D;return!(!h||y({b:1},y(o({},"a",{enumerable:!0,get:function(){o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(x={},D="abcdefghijklmnopqrst",(f={})[g=Symbol()]=7,D.split("").forEach(function(E){x[E]=E}),y({},f)[g]!=7||p(y({},x)).join("")!=D)})?function(f,x){for(var g=_(f),D=arguments.length,E=1,C=A.f,T=S.f;E<D;)for(var O,I=l(arguments[E++]),M=C?p(I).concat(C(I)):p(I),F=M.length,B=0;B<F;)O=M[B++],h&&!T.call(I,O)||(g[O]=I[O]);return g}:y},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":138}],91:[function(o,r,b){function h(){}var m,p=o("../internals/an-object"),A=o("../internals/object-define-properties"),S=o("../internals/enum-bug-keys"),_=o("../internals/hidden-keys"),l=o("../internals/html"),y=o("../internals/document-create-element"),o=o("../internals/shared-key"),f="prototype",x="script",g=o("IE_PROTO"),D=function(C){return"<"+x+">"+C+"</"+x+">"},E=function(){try{m=document.domain&&new ActiveXObject("htmlfile")}catch{}E=m?((C=m).write(D("")),C.close(),T=C.parentWindow.Object,C=null,T):(C=y("iframe"),T="java"+x+":",C.style.display="none",l.appendChild(C),C.src=String(T),(T=C.contentWindow.document).open(),T.write(D("document.F=Object")),T.close(),T.F);for(var C,T,O=S.length;O--;)delete E[f][S[O]];return E()};_[g]=!0,r.exports=Object.create||function(C,T){var O;return C!==null?(h[f]=p(C),O=new h,h[f]=null,O[g]=C):O=E(),T===void 0?O:A(O,T)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":119}],92:[function(a,r,b){var h=a("../internals/descriptors"),m=a("../internals/object-define-property"),p=a("../internals/an-object"),A=a("../internals/object-keys");r.exports=h?Object.defineProperties:function(S,_){p(S);for(var l,y=A(_),o=y.length,f=0;f<o;)m.f(S,l=y[f++],_[l]);return S}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(a,r,b){var h=a("../internals/descriptors"),m=a("../internals/ie8-dom-define"),p=a("../internals/an-object"),A=a("../internals/to-primitive"),S=Object.defineProperty;b.f=h?S:function(_,l,y){if(p(_),l=A(l,!0),p(y),m)try{return S(_,l,y)}catch{}if("get"in y||"set"in y)throw TypeError("Accessors not supported");return"value"in y&&(_[l]=y.value),_}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":141}],94:[function(a,r,b){var h=a("../internals/descriptors"),m=a("../internals/object-property-is-enumerable"),p=a("../internals/create-property-descriptor"),A=a("../internals/to-indexed-object"),S=a("../internals/to-primitive"),_=a("../internals/has"),l=a("../internals/ie8-dom-define"),y=Object.getOwnPropertyDescriptor;b.f=h?y:function(o,f){if(o=A(o),f=S(f,!0),l)try{return y(o,f)}catch{}if(_(o,f))return p(!m.f.call(o,f),o[f])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":135,"../internals/to-primitive":141}],95:[function(a,r,b){var h=a("../internals/to-indexed-object"),m=a("../internals/object-get-own-property-names").f,p={}.toString,A=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];r.exports.f=function(S){if(!A||p.call(S)!="[object Window]")return m(h(S));try{return m(S)}catch{return A.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":135}],96:[function(a,r,b){var h=a("../internals/object-keys-internal"),m=a("../internals/enum-bug-keys").concat("length","prototype");b.f=Object.getOwnPropertyNames||function(p){return h(p,m)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(a,r,b){b.f=Object.getOwnPropertySymbols},{}],98:[function(A,r,b){var h=A("../internals/has"),m=A("../internals/to-object"),p=A("../internals/shared-key"),A=A("../internals/correct-prototype-getter"),S=p("IE_PROTO"),_=Object.prototype;r.exports=A?Object.getPrototypeOf:function(l){return l=m(l),h(l,S)?l[S]:typeof l.constructor=="function"&&l instanceof l.constructor?l.constructor.prototype:l instanceof Object?_:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":119,"../internals/to-object":138}],99:[function(a,r,b){var h=a("../internals/has"),m=a("../internals/to-indexed-object"),p=a("../internals/array-includes").indexOf,A=a("../internals/hidden-keys");r.exports=function(S,_){var l,y=m(S),o=0,f=[];for(l in y)!h(A,l)&&h(y,l)&&f.push(l);for(;_.length>o;)!h(y,l=_[o++])||~p(f,l)||f.push(l);return f}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":135}],100:[function(a,r,b){var h=a("../internals/object-keys-internal"),m=a("../internals/enum-bug-keys");r.exports=Object.keys||function(p){return h(p,m)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(a,r,b){var h={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,p=m&&!h.call({1:2},1);b.f=p?function(A){return A=m(this,A),!!A&&A.enumerable}:h},{}],102:[function(a,r,b){var h=a("../internals/an-object"),m=a("../internals/a-possible-prototype");r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var p,A=!1,S={};try{(p=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(S,[]),A=S instanceof Array}catch{}return function(_,l){return h(_),m(l),A?p.call(_,l):_.__proto__=l,_}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(a,r,b){var h=a("../internals/to-string-tag-support"),m=a("../internals/classof");r.exports=h?{}.toString:function(){return"[object "+m(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":142}],104:[function(a,r,b){var h=a("../internals/get-built-in"),m=a("../internals/object-get-own-property-names"),p=a("../internals/object-get-own-property-symbols"),A=a("../internals/an-object");r.exports=h("Reflect","ownKeys")||function(S){var _=m.f(A(S)),l=p.f;return l?_.concat(l(S)):_}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],105:[function(a,r,b){a=a("../internals/global"),r.exports=a},{"../internals/global":60}],106:[function(a,r,b){r.exports=function(h){try{return{error:!1,value:h()}}catch(m){return{error:!0,value:m}}}},{}],107:[function(a,r,b){var h=a("../internals/an-object"),m=a("../internals/is-object"),p=a("../internals/new-promise-capability");r.exports=function(A,S){return h(A),m(S)&&S.constructor===A?S:((0,(A=p.f(A)).resolve)(S),A.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],108:[function(a,r,b){var h=a("../internals/redefine");r.exports=function(m,p,A){for(var S in p)h(m,S,p[S],A);return m}},{"../internals/redefine":109}],109:[function(_,r,b){var h=_("../internals/global"),m=_("../internals/create-non-enumerable-property"),p=_("../internals/has"),A=_("../internals/set-global"),S=_("../internals/inspect-source"),_=_("../internals/internal-state"),l=_.get,y=_.enforce,o=String(String).split("String");(r.exports=function(f,x,g,T){var E=!!T&&!!T.unsafe,C=!!T&&!!T.enumerable,T=!!T&&!!T.noTargetGet;typeof g=="function"&&(typeof x!="string"||p(g,"name")||m(g,"name",x),y(g).source=o.join(typeof x=="string"?x:"")),f===h?C?f[x]=g:A(x,g):(E?!T&&f[x]&&(C=!0):delete f[x],C?f[x]=g:m(f,x,g))})(Function.prototype,"toString",function(){return typeof this=="function"&&l(this).source||S(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":116}],110:[function(a,r,b){var h=a("./classof-raw"),m=a("./regexp-exec");r.exports=function(p,A){var S=p.exec;if(typeof S=="function"){if(S=S.call(p,A),typeof S!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return S}if(h(p)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return m.call(p,A)}},{"./classof-raw":28,"./regexp-exec":111}],111:[function(A,r,b){var h,m,p=A("./regexp-flags"),A=A("./regexp-sticky-helpers"),S=RegExp.prototype.exec,_=String.prototype.replace,l=S,y=(h=/a/,m=/b*/g,S.call(h,"a"),S.call(m,"a"),h.lastIndex!==0||m.lastIndex!==0),o=A.UNSUPPORTED_Y||A.BROKEN_CARET,f=/()??/.exec("")[1]!==void 0;r.exports=l=y||f||o?function(x){var g,D,E,C,T=this,O=o&&T.sticky,I=p.call(T),M=T.source,F=0,B=x;return O&&((I=I.replace("y","")).indexOf("g")===-1&&(I+="g"),B=String(x).slice(T.lastIndex),0<T.lastIndex&&(!T.multiline||T.multiline&&x[T.lastIndex-1]!==`
`)&&(M="(?: "+M+")",B=" "+B,F++),D=new RegExp("^(?:"+M+")",I)),f&&(D=new RegExp("^"+M+"$(?!\\s)",I)),y&&(g=T.lastIndex),E=S.call(O?D:T,B),O?E?(E.input=E.input.slice(F),E[0]=E[0].slice(F),E.index=T.lastIndex,T.lastIndex+=E[0].length):T.lastIndex=0:y&&E&&(T.lastIndex=T.global?E.index+E[0].length:g),f&&E&&1<E.length&&_.call(E[0],D,function(){for(C=1;C<arguments.length-2;C++)arguments[C]===void 0&&(E[C]=void 0)}),E}:l},{"./regexp-flags":112,"./regexp-sticky-helpers":113}],112:[function(a,r,b){var h=a("../internals/an-object");r.exports=function(){var m=h(this),p="";return m.global&&(p+="g"),m.ignoreCase&&(p+="i"),m.multiline&&(p+="m"),m.dotAll&&(p+="s"),m.unicode&&(p+="u"),m.sticky&&(p+="y"),p}},{"../internals/an-object":10}],113:[function(a,r,b){a=a("./fails");function h(m,p){return RegExp(m,p)}b.UNSUPPORTED_Y=a(function(){var m=h("a","y");return m.lastIndex=2,m.exec("abcd")!=null}),b.BROKEN_CARET=a(function(){var m=h("^r","gy");return m.lastIndex=2,m.exec("str")!=null})},{"./fails":51}],114:[function(a,r,b){r.exports=function(h){if(h==null)throw TypeError("Can't call method on "+h);return h}},{}],115:[function(a,r,b){r.exports=Object.is||function(h,m){return h===m?h!==0||1/h==1/m:h!=h&&m!=m}},{}],116:[function(a,r,b){var h=a("../internals/global"),m=a("../internals/create-non-enumerable-property");r.exports=function(p,A){try{m(h,p,A)}catch{h[p]=A}return A}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],117:[function(a,r,b){var h=a("../internals/get-built-in"),m=a("../internals/object-define-property"),p=a("../internals/well-known-symbol"),A=a("../internals/descriptors"),S=p("species");r.exports=function(l){var l=h(l),y=m.f;A&&l&&!l[S]&&y(l,S,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],118:[function(a,r,b){var h=a("../internals/object-define-property").f,m=a("../internals/has"),p=a("../internals/well-known-symbol")("toStringTag");r.exports=function(A,S,_){A&&!m(A=_?A:A.prototype,p)&&h(A,p,{configurable:!0,value:S})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],119:[function(a,r,b){var h=a("../internals/shared"),m=a("../internals/uid"),p=h("keys");r.exports=function(A){return p[A]||(p[A]=m(A))}},{"../internals/shared":121,"../internals/uid":146}],120:[function(h,r,b){var p=h("../internals/global"),h=h("../internals/set-global"),m="__core-js_shared__",p=p[m]||h(m,{});r.exports=p},{"../internals/global":60,"../internals/set-global":116}],121:[function(a,r,b){var h=a("../internals/is-pure"),m=a("../internals/shared-store");(r.exports=function(p,A){return m[p]||(m[p]=A!==void 0?A:{})})("versions",[]).push({version:"3.6.5",mode:h?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":120}],122:[function(a,r,b){var h=a("../internals/an-object"),m=a("../internals/a-function"),p=a("../internals/well-known-symbol")("species");r.exports=function(_,S){var _=h(_).constructor;return _===void 0||(_=h(_)[p])==null?S:m(_)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":149}],123:[function(a,r,b){var h=a("../internals/fails");r.exports=function(m){return h(function(){var p=""[m]('"');return p!==p.toLowerCase()||3<p.split('"').length})}},{"../internals/fails":51}],124:[function(a,r,b){function h(A){return function(y,o){var l,y=String(p(y)),o=m(o),f=y.length;return o<0||f<=o?A?"":void 0:(l=y.charCodeAt(o))<55296||56319<l||o+1===f||(f=y.charCodeAt(o+1))<56320||57343<f?A?y.charAt(o):l:A?y.slice(o,o+2):f-56320+(l-55296<<10)+65536}}var m=a("../internals/to-integer"),p=a("../internals/require-object-coercible");r.exports={codeAt:h(!1),charAt:h(!0)}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],125:[function(a,r,b){a=a("../internals/engine-user-agent"),r.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},{"../internals/engine-user-agent":47}],126:[function(a,r,b){function h(_){return function(f,D,g){var f=String(A(f)),x=f.length,g=g===void 0?" ":String(g),D=m(D);return D<=x||g==""?f:((x=p.call(g,S((D=D-x)/g.length))).length>D&&(x=x.slice(0,D)),_?f+x:x+f)}}var m=a("../internals/to-length"),p=a("../internals/string-repeat"),A=a("../internals/require-object-coercible"),S=Math.ceil;r.exports={start:h(!1),end:h(!0)}},{"../internals/require-object-coercible":114,"../internals/string-repeat":128,"../internals/to-length":137}],127:[function(a,r,b){function h(E){return E+22+75*(E<26)}function m(E){var C,T=[],O=(E=function(Z){for(var J=[],ee=0,$=Z.length;ee<$;){var W,Q=Z.charCodeAt(ee++);55296<=Q&&Q<=56319&&ee<$?(64512&(W=Z.charCodeAt(ee++)))==56320?J.push(((1023&Q)<<10)+(1023&W)+65536):(J.push(Q),ee--):J.push(Q)}return J}(E)).length,I=128,M=0,F=72;for(R=0;R<E.length;R++)(C=E[R])<128&&T.push(D(C));var B=T.length,j=B;for(B&&T.push("-");j<O;){for(var L=p,R=0;R<E.length;R++)I<=(C=E[R])&&C<L&&(L=C);var V=j+1;if(L-I>g((p-M)/V))throw RangeError(f);for(M+=(L-I)*V,I=L,R=0;R<E.length;R++){if((C=E[R])<I&&++M>p)throw RangeError(f);if(C==I){for(var k=M,U=A;;U+=A){var G=U<=F?1:F+S<=U?S:U-F;if(k<G)break;var H=k-G,X=A-G;T.push(D(h(G+H%X))),k=g(H/X)}T.push(D(h(k))),F=function(Z,J,ee){var $=0;for(Z=ee?g(Z/l):Z>>1,Z+=g(Z/J);x*S>>1<Z;$+=A)Z=g(Z/x);return g($+(x+1)*Z/(Z+_))}(M,V,j==B),M=0,++j}}++M,++I}return T.join("")}var p=2147483647,A=36,S=26,_=38,l=700,y=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,f="Overflow: input needs wider integers to process",x=A-1,g=Math.floor,D=String.fromCharCode;r.exports=function(E){for(var C,T=[],O=E.toLowerCase().replace(o,".").split("."),I=0;I<O.length;I++)C=O[I],T.push(y.test(C)?"xn--"+m(C):C);return T.join(".")}},{}],128:[function(a,r,b){var h=a("../internals/to-integer"),m=a("../internals/require-object-coercible");r.exports="".repeat||function(p){var A=String(m(this)),S="",_=h(p);if(_<0||_==1/0)throw RangeError("Wrong number of repetitions");for(;0<_;(_>>>=1)&&(A+=A))1&_&&(S+=A);return S}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],129:[function(a,r,b){var h=a("../internals/fails"),m=a("../internals/whitespaces");r.exports=function(p){return h(function(){return!!m[p]()||""[p]()!=""||m[p].name!==p})}},{"../internals/fails":51,"../internals/whitespaces":150}],130:[function(p,r,b){function h(_){return function(l){return l=String(m(l)),1&_&&(l=l.replace(A,"")),l=2&_?l.replace(S,""):l}}var m=p("../internals/require-object-coercible"),p="["+p("../internals/whitespaces")+"]",A=RegExp("^"+p+p+"*"),S=RegExp(p+p+"*$");r.exports={start:h(1),end:h(2),trim:h(3)}},{"../internals/require-object-coercible":114,"../internals/whitespaces":150}],131:[function(x,r,b){function h(j){return function(){B(j)}}function m(j){B(j.data)}function p(j){S.postMessage(j+"",g.protocol+"//"+g.host)}var A,S=x("../internals/global"),_=x("../internals/fails"),l=x("../internals/classof-raw"),y=x("../internals/function-bind-context"),o=x("../internals/html"),f=x("../internals/document-create-element"),x=x("../internals/engine-is-ios"),g=S.location,D=S.setImmediate,E=S.clearImmediate,C=S.process,T=S.MessageChannel,O=S.Dispatch,I=0,M={},F="onreadystatechange",B=function(j){var L;M.hasOwnProperty(j)&&(L=M[j],delete M[j],L())};D&&E||(D=function(j){for(var L=[],R=1;R<arguments.length;)L.push(arguments[R++]);return M[++I]=function(){(typeof j=="function"?j:Function(j)).apply(void 0,L)},A(I),I},E=function(j){delete M[j]},l(C)=="process"?A=function(j){C.nextTick(h(j))}:O&&O.now?A=function(j){O.now(h(j))}:T&&!x?(x=(l=new T).port2,l.port1.onmessage=m,A=y(x.postMessage,x,1)):!S.addEventListener||typeof postMessage!="function"||S.importScripts||_(p)||g.protocol==="file:"?A=F in f("script")?function(j){o.appendChild(f("script"))[F]=function(){o.removeChild(this),B(j)}}:function(j){setTimeout(h(j),0)}:(A=p,S.addEventListener("message",m,!1))),r.exports={set:D,clear:E}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],132:[function(a,r,b){var h=a("../internals/classof-raw");r.exports=function(m){if(typeof m!="number"&&h(m)!="Number")throw TypeError("Incorrect invocation");return+m}},{"../internals/classof-raw":28}],133:[function(a,r,b){var h=a("../internals/to-integer"),m=Math.max,p=Math.min;r.exports=function(A,S){return A=h(A),A<0?m(A+S,0):p(A,S)}},{"../internals/to-integer":136}],134:[function(a,r,b){var h=a("../internals/to-integer"),m=a("../internals/to-length");r.exports=function(A){if(A===void 0)return 0;var A=h(A),S=m(A);if(A!==S)throw RangeError("Wrong length or index");return S}},{"../internals/to-integer":136,"../internals/to-length":137}],135:[function(a,r,b){var h=a("../internals/indexed-object"),m=a("../internals/require-object-coercible");r.exports=function(p){return h(m(p))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":114}],136:[function(a,r,b){var h=Math.ceil,m=Math.floor;r.exports=function(p){return isNaN(p=+p)?0:(0<p?m:h)(p)}},{}],137:[function(a,r,b){var h=a("../internals/to-integer"),m=Math.min;r.exports=function(p){return 0<p?m(h(p),9007199254740991):0}},{"../internals/to-integer":136}],138:[function(a,r,b){var h=a("../internals/require-object-coercible");r.exports=function(m){return Object(h(m))}},{"../internals/require-object-coercible":114}],139:[function(a,r,b){var h=a("../internals/to-positive-integer");r.exports=function(m,p){if(m=h(m),m%p)throw RangeError("Wrong offset");return m}},{"../internals/to-positive-integer":140}],140:[function(a,r,b){var h=a("../internals/to-integer");r.exports=function(m){if(m=h(m),m<0)throw RangeError("The argument can't be less than 0");return m}},{"../internals/to-integer":136}],141:[function(a,r,b){var h=a("../internals/is-object");r.exports=function(m,p){if(!h(m))return m;var A,S;if(p&&typeof(A=m.toString)=="function"&&!h(S=A.call(m))||typeof(A=m.valueOf)=="function"&&!h(S=A.call(m))||!p&&typeof(A=m.toString)=="function"&&!h(S=A.call(m)))return S;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],142:[function(a,r,b){var h={};h[a("../internals/well-known-symbol")("toStringTag")]="z",r.exports=String(h)==="[object z]"},{"../internals/well-known-symbol":149}],143:[function(a,r,b){function h(ne,re){for(var de=0,Ce=re.length,je=new(pe(ne))(Ce);de<Ce;)je[de]=re[de++];return je}function m(ne,re){W(ne,re,{get:function(){return ee(this)[re]}})}function p(ne){return ne instanceof oe||(ne=B(ne))=="ArrayBuffer"||ne=="SharedArrayBuffer"}function A(ne,re){return ye(ne)&&typeof re!="symbol"&&re in ne&&String(+re)==String(re)}function S(ne,re){return A(ne,re=M(re,!0))?E(2,ne[re]):Q(ne,re)}function _(ne,re,de){return!(A(ne,re=M(re,!0))&&j(de)&&F(de,"value"))||F(de,"get")||F(de,"set")||de.configurable||F(de,"writable")&&!de.writable||F(de,"enumerable")&&!de.enumerable?W(ne,re,de):(ne[re]=de.value,ne)}var l=a("../internals/export"),y=a("../internals/global"),o=a("../internals/descriptors"),f=a("../internals/typed-array-constructors-require-wrappers"),x=a("../internals/array-buffer-view-core"),g=a("../internals/array-buffer"),D=a("../internals/an-instance"),E=a("../internals/create-property-descriptor"),C=a("../internals/create-non-enumerable-property"),T=a("../internals/to-length"),O=a("../internals/to-index"),I=a("../internals/to-offset"),M=a("../internals/to-primitive"),F=a("../internals/has"),B=a("../internals/classof"),j=a("../internals/is-object"),L=a("../internals/object-create"),R=a("../internals/object-set-prototype-of"),V=a("../internals/object-get-own-property-names").f,k=a("../internals/typed-array-from"),U=a("../internals/array-iteration").forEach,G=a("../internals/set-species"),H=a("../internals/object-define-property"),X=a("../internals/object-get-own-property-descriptor"),Z=a("../internals/internal-state"),J=a("../internals/inherit-if-required"),ee=Z.get,$=Z.set,W=H.f,Q=X.f,te=Math.round,ce=y.RangeError,oe=g.ArrayBuffer,ue=g.DataView,we=x.NATIVE_ARRAY_BUFFER_VIEWS,le=x.TYPED_ARRAY_TAG,fe=x.TypedArray,ve=x.TypedArrayPrototype,pe=x.aTypedArrayConstructor,ye=x.isTypedArray,Ae="BYTES_PER_ELEMENT",be="Wrong length";o?(we||(X.f=S,H.f=_,m(ve,"buffer"),m(ve,"byteOffset"),m(ve,"byteLength"),m(ve,"length")),l({target:"Object",stat:!0,forced:!we},{getOwnPropertyDescriptor:S,defineProperty:_}),r.exports=function(Le,re,de){function Ce(ze,Ee){W(ze,Ee,{get:function(){var Se=this,Me=Ee;return(Se=ee(Se)).view[Ie](Me*je+Se.byteOffset,!0)},set:function(Se){var Me=this,me=Ee;Me=ee(Me),de&&(Se=(Se=te(Se))<0?0:255<Se?255:255&Se),Me.view[Ne](me*je+Me.byteOffset,Se,!0)},enumerable:!0})}var je=Le.match(/\d+$/)[0]/8,xe=Le+(de?"Clamped":"")+"Array",Ie="get"+Le,Ne="set"+Le,Be=y[xe],$e=Be,Le=$e&&$e.prototype,qe={};we?f&&($e=re(function(ze,Ee,Se,Me){return D(ze,$e,xe),J(j(Ee)?p(Ee)?Me!==void 0?new Be(Ee,I(Se,je),Me):Se!==void 0?new Be(Ee,I(Se,je)):new Be(Ee):ye(Ee)?h($e,Ee):k.call($e,Ee):new Be(O(Ee)),ze,$e)}),R&&R($e,fe),U(V(Be),function(ze){ze in $e||C($e,ze,Be[ze])}),$e.prototype=Le):($e=re(function(ze,Ee,Se,Me){D(ze,$e,xe);var me,Ve,Xe=0,rt=0;if(j(Ee)){if(!p(Ee))return ye(Ee)?h($e,Ee):k.call($e,Ee);var lt=Ee,rt=I(Se,je),Se=Ee.byteLength;if(Me===void 0){if(Se%je||(me=Se-rt)<0)throw ce(be)}else if(Se<(me=T(Me)*je)+rt)throw ce(be);Ve=me/je}else Ve=O(Ee),lt=new oe(me=Ve*je);for($(ze,{buffer:lt,byteOffset:rt,byteLength:me,length:Ve,view:new ue(lt)});Xe<Ve;)Ce(ze,Xe++)}),R&&R($e,fe),Le=$e.prototype=L(ve)),Le.constructor!==$e&&C(Le,"constructor",$e),le&&C(Le,le,xe),qe[xe]=$e,l({global:!0,forced:$e!=Be,sham:!we},qe),Ae in $e||C($e,Ae,je),Ae in Le||C(Le,Ae,je),G(xe)}):r.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":117,"../internals/to-index":134,"../internals/to-length":137,"../internals/to-offset":139,"../internals/to-primitive":141,"../internals/typed-array-constructors-require-wrappers":144,"../internals/typed-array-from":145}],144:[function(A,r,b){var h=A("../internals/global"),m=A("../internals/fails"),p=A("../internals/check-correctness-of-iteration"),A=A("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,S=h.ArrayBuffer,_=h.Int8Array;r.exports=!A||!m(function(){_(1)})||!m(function(){new _(-1)})||!p(function(l){new _,new _(null),new _(1.5),new _(l)},!0)||m(function(){return new _(new S(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],145:[function(a,r,b){var h=a("../internals/to-object"),m=a("../internals/to-length"),p=a("../internals/get-iterator-method"),A=a("../internals/is-array-iterator-method"),S=a("../internals/function-bind-context"),_=a("../internals/array-buffer-view-core").aTypedArrayConstructor;r.exports=function(l){var y,o,f,x,g,D,E=h(l),C=arguments.length,T=1<C?arguments[1]:void 0,O=T!==void 0,I=p(E);if(I!=null&&!A(I))for(D=(g=I.call(E)).next,E=[];!(x=D.call(g)).done;)E.push(x.value);for(O&&2<C&&(T=S(T,arguments[2],2)),o=m(E.length),f=new(_(this))(o),y=0;y<o;y++)f[y]=O?T(E[y],y):E[y];return f}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],146:[function(a,r,b){var h=0,m=Math.random();r.exports=function(p){return"Symbol("+String(p===void 0?"":p)+")_"+(++h+m).toString(36)}},{}],147:[function(a,r,b){a=a("../internals/native-symbol"),r.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],148:[function(a,r,b){a=a("../internals/well-known-symbol"),b.f=a},{"../internals/well-known-symbol":149}],149:[function(_,r,b){var h=_("../internals/global"),m=_("../internals/shared"),p=_("../internals/has"),A=_("../internals/uid"),S=_("../internals/native-symbol"),_=_("../internals/use-symbol-as-uid"),l=m("wks"),y=h.Symbol,o=_?y:y&&y.withoutSetter||A;r.exports=function(f){return p(l,f)||(S&&p(y,f)?l[f]=y[f]:l[f]=o("Symbol."+f)),l[f]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":121,"../internals/uid":146,"../internals/use-symbol-as-uid":147}],150:[function(a,r,b){r.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],151:[function(p,r,b){var h=p("../internals/export"),m=p("../internals/global"),S=p("../internals/array-buffer"),p=p("../internals/set-species"),A="ArrayBuffer",S=S[A];h({global:!0,forced:m[A]!==S},{ArrayBuffer:S}),p(A)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":117}],152:[function(E,r,b){var h=E("../internals/export"),m=E("../internals/fails"),p=E("../internals/is-array"),A=E("../internals/is-object"),S=E("../internals/to-object"),_=E("../internals/to-length"),l=E("../internals/create-property"),y=E("../internals/array-species-create"),o=E("../internals/array-method-has-species-support"),D=E("../internals/well-known-symbol"),E=E("../internals/engine-v8-version"),f=D("isConcatSpreadable"),x=9007199254740991,g="Maximum allowed index exceeded",D=51<=E||!m(function(){var C=[];return C[f]=!1,C.concat()[0]!==C}),E=o("concat");h({target:"Array",proto:!0,forced:!D||!E},{concat:function(C){for(var T,O,I,M,F,B=S(this),j=y(B,0),L=0,R=-1,V=arguments.length;R<V;R++)if(F=void 0,!A(M=I=R===-1?B:arguments[R])||((F=M[f])!==void 0?!F:!p(M))){if(x<=L)throw TypeError(g);l(j,L++,I)}else{if(O=_(I.length),x<L+O)throw TypeError(g);for(T=0;T<O;T++,L++)T in I&&l(j,L,I[T])}return j.length=L,j}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":137,"../internals/to-object":138,"../internals/well-known-symbol":149}],153:[function(p,r,b){var h=p("../internals/export"),m=p("../internals/array-copy-within"),p=p("../internals/add-to-unscopables");h({target:"Array",proto:!0},{copyWithin:m}),p("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],154:[function(A,r,b){var h=A("../internals/export"),m=A("../internals/array-iteration").every,p=A("../internals/array-method-is-strict"),A=A("../internals/array-method-uses-to-length"),p=p("every"),A=A("every");h({target:"Array",proto:!0,forced:!p||!A},{every:function(S){return m(this,S,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],155:[function(p,r,b){var h=p("../internals/export"),m=p("../internals/array-fill"),p=p("../internals/add-to-unscopables");h({target:"Array",proto:!0},{fill:m}),p("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],156:[function(A,r,b){var h=A("../internals/export"),m=A("../internals/array-iteration").filter,p=A("../internals/array-method-has-species-support"),A=A("../internals/array-method-uses-to-length"),p=p("filter"),A=A("filter");h({target:"Array",proto:!0,forced:!p||!A},{filter:function(S){return m(this,S,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(_,r,b){var h=_("../internals/export"),m=_("../internals/array-iteration").findIndex,p=_("../internals/add-to-unscopables"),_=_("../internals/array-method-uses-to-length"),A="findIndex",S=!0,_=_(A);A in[]&&Array(1)[A](function(){S=!1}),h({target:"Array",proto:!0,forced:S||!_},{findIndex:function(l){return m(this,l,1<arguments.length?arguments[1]:void 0)}}),p(A)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(a,r,b){var h=a("../internals/export"),m=a("../internals/flatten-into-array"),p=a("../internals/to-object"),A=a("../internals/to-length"),S=a("../internals/a-function"),_=a("../internals/array-species-create");h({target:"Array",proto:!0},{flatMap:function(l){var y,o=p(this),f=A(o.length);return S(l),(y=_(o,0)).length=m(y,o,o,f,0,1,l,1<arguments.length?arguments[1]:void 0),y}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":137,"../internals/to-object":138}],159:[function(a,r,b){var h=a("../internals/export"),m=a("../internals/flatten-into-array"),p=a("../internals/to-object"),A=a("../internals/to-length"),S=a("../internals/to-integer"),_=a("../internals/array-species-create");h({target:"Array",proto:!0},{flat:function(){var l=arguments.length?arguments[0]:void 0,y=p(this),o=A(y.length),f=_(y,0);return f.length=m(f,y,y,o,0,l===void 0?1:S(l)),f}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],160:[function(m,r,b){var h=m("../internals/export"),m=m("../internals/array-for-each");h({target:"Array",proto:!0,forced:[].forEach!=m},{forEach:m})},{"../internals/array-for-each":16,"../internals/export":50}],161:[function(a,r,b){var h=a("../internals/export"),m=a("../internals/array-from");h({target:"Array",stat:!0,forced:!a("../internals/check-correctness-of-iteration")(function(p){Array.from(p)})},{from:m})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],162:[function(a,r,b){var h=a("../internals/export"),m=a("../internals/array-includes").includes,p=a("../internals/add-to-unscopables");h({target:"Array",proto:!0,forced:!a("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(A){return m(this,A,1<arguments.length?arguments[1]:void 0)}}),p("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],163:[function(_,r,b){var h=_("../internals/export"),m=_("../internals/array-includes").indexOf,S=_("../internals/array-method-is-strict"),_=_("../internals/array-method-uses-to-length"),p=[].indexOf,A=!!p&&1/[1].indexOf(1,-0)<0,S=S("indexOf"),_=_("indexOf",{ACCESSORS:!0,1:0});h({target:"Array",proto:!0,forced:A||!S||!_},{indexOf:function(l){return A?p.apply(this,arguments)||0:m(this,l,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(S,r,b){var h=S("../internals/to-indexed-object"),m=S("../internals/add-to-unscopables"),p=S("../internals/iterators"),A=S("../internals/internal-state"),S=S("../internals/define-iterator"),_="Array Iterator",l=A.set,y=A.getterFor(_);r.exports=S(Array,"Array",function(o,f){l(this,{type:_,target:h(o),index:0,kind:f})},function(){var o=y(this),f=o.target,x=o.kind,g=o.index++;return!f||g>=f.length?{value:o.target=void 0,done:!0}:x=="keys"?{value:g,done:!1}:x=="values"?{value:f[g],done:!1}:{value:[g,f[g]],done:!1}},"values"),p.Arguments=p.Array,m("keys"),m("values"),m("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":135}],165:[function(S,r,b){var h=S("../internals/export"),A=S("../internals/indexed-object"),m=S("../internals/to-indexed-object"),S=S("../internals/array-method-is-strict"),p=[].join,A=A!=Object,S=S("join",",");h({target:"Array",proto:!0,forced:A||!S},{join:function(_){return p.call(m(this),_===void 0?",":_)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":135}],166:[function(m,r,b){var h=m("../internals/export"),m=m("../internals/array-last-index-of");h({target:"Array",proto:!0,forced:m!==[].lastIndexOf},{lastIndexOf:m})},{"../internals/array-last-index-of":20,"../internals/export":50}],167:[function(A,r,b){var h=A("../internals/export"),m=A("../internals/array-iteration").map,p=A("../internals/array-method-has-species-support"),A=A("../internals/array-method-uses-to-length"),p=p("map"),A=A("map");h({target:"Array",proto:!0,forced:!p||!A},{map:function(S){return m(this,S,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],168:[function(f,r,b){var h=f("../internals/export"),m=f("../internals/is-object"),p=f("../internals/is-array"),A=f("../internals/to-absolute-index"),S=f("../internals/to-length"),_=f("../internals/to-indexed-object"),l=f("../internals/create-property"),y=f("../internals/well-known-symbol"),o=f("../internals/array-method-has-species-support"),f=f("../internals/array-method-uses-to-length"),o=o("slice"),f=f("slice",{ACCESSORS:!0,0:0,1:2}),x=y("species"),g=[].slice,D=Math.max;h({target:"Array",proto:!0,forced:!o||!f},{slice:function(E,C){var T,O,I,M=_(this),F=S(M.length),B=A(E,F),j=A(C===void 0?F:C,F);if(p(M)&&((T=typeof(T=M.constructor)=="function"&&(T===Array||p(T.prototype))||m(T)&&(T=T[x])===null?void 0:T)===Array||T===void 0))return g.call(M,B,j);for(O=new(T===void 0?Array:T)(D(j-B,0)),I=0;B<j;B++,I++)B in M&&l(O,I,M[B]);return O.length=I,O}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137,"../internals/well-known-symbol":149}],169:[function(A,r,b){var h=A("../internals/export"),m=A("../internals/array-iteration").some,p=A("../internals/array-method-is-strict"),A=A("../internals/array-method-uses-to-length"),p=p("some"),A=A("some");h({target:"Array",proto:!0,forced:!p||!A},{some:function(S){return m(this,S,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],170:[function(o,r,b){var h=o("../internals/export"),m=o("../internals/to-absolute-index"),p=o("../internals/to-integer"),A=o("../internals/to-length"),S=o("../internals/to-object"),_=o("../internals/array-species-create"),l=o("../internals/create-property"),y=o("../internals/array-method-has-species-support"),o=o("../internals/array-method-uses-to-length"),y=y("splice"),o=o("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,x=Math.min;h({target:"Array",proto:!0,forced:!y||!o},{splice:function(L,D){var E,C,T,O,I,M,F=S(this),B=A(F.length),j=m(L,B),L=arguments.length;if(L===0?E=C=0:C=L===1?(E=0,B-j):(E=L-2,x(f(p(D),0),B-j)),9007199254740991<B+E-C)throw TypeError("Maximum allowed length exceeded");for(T=_(F,C),O=0;O<C;O++)(I=j+O)in F&&l(T,O,F[I]);if(E<(T.length=C)){for(O=j;O<B-C;O++)M=O+E,(I=O+C)in F?F[M]=F[I]:delete F[M];for(O=B;B-C+E<O;O--)delete F[O-1]}else if(C<E)for(O=B-C;j<O;O--)M=O+E-1,(I=O+C-1)in F?F[M]=F[I]:delete F[M];for(O=0;O<E;O++)F[O+j]=arguments[O+2];return F.length=B-C+E,T}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":133,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],171:[function(a,r,b){a("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],172:[function(a,r,b){a("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],173:[function(m,r,b){var h=m("../internals/descriptors"),m=m("../internals/object-define-property").f,p=Function.prototype,A=p.toString,S=/^\s*function ([^ (]*)/;!h||"name"in p||m(p,"name",{configurable:!0,get:function(){try{return A.call(this).match(S)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],174:[function(m,r,b){var h=m("../internals/collection"),m=m("../internals/collection-strong");r.exports=h("Map",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},m)},{"../internals/collection":32,"../internals/collection-strong":30}],175:[function(h,r,b){var h=h("../internals/export"),m=Math.hypot,p=Math.abs,A=Math.sqrt;h({target:"Math",stat:!0,forced:!!m&&m(1/0,NaN)!==1/0},{hypot:function(S,_){for(var l,y,o=0,f=0,x=arguments.length,g=0;f<x;)g<(l=p(arguments[f++]))?(o=o*(y=g/l)*y+1,g=l):o+=0<l?(y=l/g)*y:l;return g===1/0?1/0:g*A(o)}})},{"../internals/export":50}],176:[function(h,r,b){var h=h("../internals/export"),m=Math.log,p=Math.LN2;h({target:"Math",stat:!0},{log2:function(A){return m(A)/p}})},{"../internals/export":50}],177:[function(a,r,b){a("../internals/export")({target:"Math",stat:!0},{sign:a("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],178:[function(a,r,b){function h(R){var V,k,U,G,H,X,Z,J=o(R,!1);if(typeof J=="string"&&2<J.length){if((R=(J=C(J)).charCodeAt(0))===43||R===45){if((V=J.charCodeAt(2))===88||V===120)return NaN}else if(R===48){switch(J.charCodeAt(1)){case 66:case 98:k=2,U=49;break;case 79:case 111:k=8,U=55;break;default:return+J}for(H=(G=J.slice(2)).length,X=0;X<H;X++)if((Z=G.charCodeAt(X))<48||U<Z)return NaN;return parseInt(G,k)}}return+J}var m=a("../internals/descriptors"),p=a("../internals/global"),A=a("../internals/is-forced"),S=a("../internals/redefine"),_=a("../internals/has"),l=a("../internals/classof-raw"),y=a("../internals/inherit-if-required"),o=a("../internals/to-primitive"),f=a("../internals/fails"),x=a("../internals/object-create"),g=a("../internals/object-get-own-property-names").f,D=a("../internals/object-get-own-property-descriptor").f,E=a("../internals/object-define-property").f,C=a("../internals/string-trim").trim,T="Number",O=p[T],I=O.prototype,M=l(x(I))==T;if(A(T,!O(" 0o1")||!O("0b1")||O("+0x1"))){for(var F,B=function(V){var V=arguments.length<1?0:V,k=this;return k instanceof B&&(M?f(function(){I.valueOf.call(k)}):l(k)!=T)?y(new O(h(V)),k,B):h(V)},j=m?g(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),L=0;j.length>L;L++)_(O,F=j[L])&&!_(B,F)&&E(B,F,D(O,F));(B.prototype=I).constructor=B,S(p,T,B)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/string-trim":130,"../internals/to-primitive":141}],179:[function(a,r,b){a("../internals/export")({target:"Number",stat:!0},{isFinite:a("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],180:[function(_,r,b){function h(o,f,x){return f===0?x:f%2==1?h(o,f-1,x*o):h(o*o,f/2,x)}var m=_("../internals/export"),p=_("../internals/to-integer"),A=_("../internals/this-number-value"),S=_("../internals/string-repeat"),_=_("../internals/fails"),l=1 .toFixed,y=Math.floor;m({target:"Number",proto:!0,forced:l&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!_(function(){l.call({})})},{toFixed:function(T){function f(F,B){for(var j=-1,L=B;++j<6;)L+=F*O[j],O[j]=L%1e7,L=y(L/1e7)}function x(F){for(var B=6,j=0;0<=--B;)j+=O[B],O[B]=y(j/F),j=j%F*1e7}function g(){for(var F,B=6,j="";0<=--B;)j===""&&B!==0&&O[B]===0||(F=String(O[B]),j=j===""?F:j+S.call("0",7-F.length)+F);return j}var D,E,C=A(this),T=p(T),O=[0,0,0,0,0,0],I="",M="0";if(T<0||20<T)throw RangeError("Incorrect fraction digits");if(C!=C)return"NaN";if(C<=-1e21||1e21<=C)return String(C);if(C<0&&(I="-",C=-C),1e-21<C)if(C=(D=function(F){for(var B=0,j=F;4096<=j;)B+=12,j/=4096;for(;2<=j;)B+=1,j/=2;return B}(C*h(2,69,1))-69)<0?C*h(2,-D,1):C/h(2,D,1),C*=4503599627370496,0<(D=52-D)){for(f(0,C),E=T;7<=E;)f(1e7,0),E-=7;for(f(h(10,E,1),0),E=D-1;23<=E;)x(1<<23),E-=23;x(1<<E),f(1,1),x(2),M=g()}else f(0,C),f(1<<-D,0),M=g()+S.call("0",T);return M=0<T?I+((C=M.length)<=T?"0."+S.call("0",T-C)+M:M.slice(0,C-T)+"."+M.slice(C-T)):I+M}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":128,"../internals/this-number-value":132,"../internals/to-integer":136}],181:[function(m,r,b){var h=m("../internals/export"),m=m("../internals/object-assign");h({target:"Object",stat:!0,forced:Object.assign!==m},{assign:m})},{"../internals/export":50,"../internals/object-assign":90}],182:[function(a,r,b){var h=a("../internals/export"),m=a("../internals/iterate"),p=a("../internals/create-property");h({target:"Object",stat:!0},{fromEntries:function(A){var S={};return m(A,function(_,l){p(S,_,l)},void 0,!0),S}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],183:[function(A,r,b){var h=A("../internals/export"),S=A("../internals/fails"),m=A("../internals/to-indexed-object"),p=A("../internals/object-get-own-property-descriptor").f,A=A("../internals/descriptors"),S=S(function(){p(1)});h({target:"Object",stat:!0,forced:!A||S,sham:!A},{getOwnPropertyDescriptor:function(_,l){return p(m(_),l)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":135}],184:[function(p,r,b){var h=p("../internals/export"),m=p("../internals/fails"),p=p("../internals/object-get-own-property-names-external").f;h({target:"Object",stat:!0,forced:m(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:p})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],185:[function(S,r,b){var h=S("../internals/export"),m=S("../internals/fails"),p=S("../internals/to-object"),A=S("../internals/object-get-prototype-of"),S=S("../internals/correct-prototype-getter");h({target:"Object",stat:!0,forced:m(function(){A(1)}),sham:!S},{getPrototypeOf:function(_){return A(p(_))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":138}],186:[function(a,r,b){var h=a("../internals/export"),m=a("../internals/to-object"),p=a("../internals/object-keys");h({target:"Object",stat:!0,forced:a("../internals/fails")(function(){p(1)})},{keys:function(A){return p(m(A))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":138}],187:[function(p,r,b){var h=p("../internals/to-string-tag-support"),m=p("../internals/redefine"),p=p("../internals/object-to-string");h||m(Object.prototype,"toString",p,{unsafe:!0})},{"../internals/object-to-string":103,"../internals/redefine":109,"../internals/to-string-tag-support":142}],188:[function(de,r,b){var h,m,p,A,S=de("../internals/export"),_=de("../internals/is-pure"),l=de("../internals/global"),y=de("../internals/get-built-in"),o=de("../internals/native-promise-constructor"),f=de("../internals/redefine"),x=de("../internals/redefine-all"),g=de("../internals/set-to-string-tag"),D=de("../internals/set-species"),E=de("../internals/is-object"),C=de("../internals/a-function"),T=de("../internals/an-instance"),O=de("../internals/classof-raw"),I=de("../internals/inspect-source"),M=de("../internals/iterate"),F=de("../internals/check-correctness-of-iteration"),B=de("../internals/species-constructor"),j=de("../internals/task").set,L=de("../internals/microtask"),R=de("../internals/promise-resolve"),V=de("../internals/host-report-errors"),k=de("../internals/new-promise-capability"),U=de("../internals/perform"),G=de("../internals/internal-state"),H=de("../internals/is-forced"),Ce=de("../internals/well-known-symbol"),X=de("../internals/engine-v8-version"),Z=Ce("species"),J="Promise",ee=G.get,$=G.set,W=G.getterFor(J),Q=o,te=l.TypeError,ce=l.document,oe=l.process,ue=y("fetch"),we=k.f,le=we,fe=O(oe)=="process",ve=!!(ce&&ce.createEvent&&l.dispatchEvent),pe="unhandledrejection",ye="rejectionhandled",Ae=1,be=2,ne=1,re=2,de=H(J,function(){var qe,ze;return I(Q)===String(Q)&&(X===66||!fe&&typeof PromiseRejectionEvent!="function")?!0:!(!_||Q.prototype.finally)||!(51<=X&&/native code/.test(Q))&&(ze=function(Ee){Ee(function(){},function(){})},((qe=Q.resolve(1)).constructor={})[Z]=ze,!(qe.then(function(){})instanceof ze))}),Ce=de||!F(function(qe){Q.all(qe).catch(function(){})}),je=function(qe){var ze;return!(!E(qe)||typeof(ze=qe.then)!="function")&&ze},xe=function(qe,ze,Ee){var Se;ze.notified||(ze.notified=!0,Se=ze.reactions,L(function(){for(var Me,me,Ve=ze.value,Xe=ze.state==Ae,rt=0;Se.length>rt;){var lt,nt,it,dt=Se[rt++],ft=Xe?dt.ok:dt.fail,yt=dt.resolve,bt=dt.reject,wt=dt.domain;try{ft?(Xe||(ze.rejection===re&&function(xt,Tt){j.call(l,function(){fe?oe.emit("rejectionHandled",xt):Ie(ye,xt,Tt.value)})}(qe,ze),ze.rejection=ne),ft===!0?lt=Ve:(wt&&wt.enter(),lt=ft(Ve),wt&&(wt.exit(),it=!0)),lt===dt.promise?bt(te("Promise-chain cycle")):(nt=je(lt))?nt.call(lt,yt,bt):yt(lt)):bt(Ve)}catch(xt){wt&&!it&&wt.exit(),bt(xt)}}ze.reactions=[],ze.notified=!1,Ee&&!ze.rejection&&(Me=qe,me=ze,j.call(l,function(){var xt=me.value,Tt=Ne(me);if(Tt&&(Tt=U(function(){fe?oe.emit("unhandledRejection",xt,Me):Ie(pe,Me,xt)}),me.rejection=fe||Ne(me)?re:ne,Tt.error))throw Tt.value}))}))},Ie=function(qe,ze,Ee){var Se;ve?((Se=ce.createEvent("Event")).promise=ze,Se.reason=Ee,Se.initEvent(qe,!1,!0),l.dispatchEvent(Se)):Se={promise:ze,reason:Ee},(ze=l["on"+qe])?ze(Se):qe===pe&&V("Unhandled promise rejection",Ee)},Ne=function(qe){return qe.rejection!==ne&&!qe.parent},Be=function(qe,ze,Ee,Se){return function(Me){qe(ze,Ee,Me,Se)}},$e=function(qe,ze,Ee,Se){ze.done||(ze.done=!0,(ze=Se||ze).value=Ee,ze.state=be,xe(qe,ze,!0))},Le=function(qe,ze,Ee,Se){if(!ze.done){ze.done=!0,Se&&(ze=Se);try{if(qe===Ee)throw te("Promise can't be resolved itself");var Me=je(Ee);Me?L(function(){var me={done:!1};try{Me.call(Ee,Be(Le,qe,me,ze),Be($e,qe,me,ze))}catch(Ve){$e(qe,me,Ve,ze)}}):(ze.value=Ee,ze.state=Ae,xe(qe,ze,!1))}catch(me){$e(qe,{done:!1},me,ze)}}};de&&(Q=function(qe){T(this,Q,J),C(qe),h.call(this);var ze=ee(this);try{qe(Be(Le,this,ze),Be($e,this,ze))}catch(Ee){$e(this,ze,Ee)}},(h=function(qe){$(this,{type:J,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=x(Q.prototype,{then:function(qe,ze){var Ee=W(this),Se=we(B(this,Q));return Se.ok=typeof qe!="function"||qe,Se.fail=typeof ze=="function"&&ze,Se.domain=fe?oe.domain:void 0,Ee.parent=!0,Ee.reactions.push(Se),Ee.state!=0&&xe(this,Ee,!1),Se.promise},catch:function(qe){return this.then(void 0,qe)}}),m=function(){var qe=new h,ze=ee(qe);this.promise=qe,this.resolve=Be(Le,qe,ze),this.reject=Be($e,qe,ze)},k.f=we=function(qe){return qe===Q||qe===p?new m:le(qe)},_||typeof o!="function"||(A=o.prototype.then,f(o.prototype,"then",function(qe,ze){var Ee=this;return new Q(function(Se,Me){A.call(Ee,Se,Me)}).then(qe,ze)},{unsafe:!0}),typeof ue=="function"&&S({global:!0,enumerable:!0,forced:!0},{fetch:function(qe){return R(Q,ue.apply(l,arguments))}}))),S({global:!0,wrap:!0,forced:de},{Promise:Q}),g(Q,J,!1,!0),D(J),p=y(J),S({target:J,stat:!0,forced:de},{reject:function(qe){var ze=we(this);return ze.reject.call(void 0,qe),ze.promise}}),S({target:J,stat:!0,forced:_||de},{resolve:function(qe){return R(_&&this===p?Q:this,qe)}}),S({target:J,stat:!0,forced:Ce},{all:function(qe){var ze=this,Ee=we(ze),Se=Ee.resolve,Me=Ee.reject,me=U(function(){var Ve=C(ze.resolve),Xe=[],rt=0,lt=1;M(qe,function(nt){var it=rt++,dt=!1;Xe.push(void 0),lt++,Ve.call(ze,nt).then(function(ft){dt||(dt=!0,Xe[it]=ft,--lt||Se(Xe))},Me)}),--lt||Se(Xe)});return me.error&&Me(me.value),Ee.promise},race:function(qe){var ze=this,Ee=we(ze),Se=Ee.reject,Me=U(function(){var me=C(ze.resolve);M(qe,function(Ve){me.call(ze,Ve).then(Ee.resolve,Se)})});return Me.error&&Se(Me.value),Ee.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":106,"../internals/promise-resolve":107,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-species":117,"../internals/set-to-string-tag":118,"../internals/species-constructor":122,"../internals/task":131,"../internals/well-known-symbol":149}],189:[function(l,r,b){var h=l("../internals/export"),x=l("../internals/get-built-in"),m=l("../internals/a-function"),p=l("../internals/an-object"),A=l("../internals/is-object"),S=l("../internals/object-create"),_=l("../internals/function-bind"),l=l("../internals/fails"),y=x("Reflect","construct"),o=l(function(){function g(){}return!(y(function(){},[],g)instanceof g)}),f=!l(function(){y(function(){})}),x=o||f;h({target:"Reflect",stat:!0,forced:x,sham:x},{construct:function(g,D){m(g),p(D);var E=arguments.length<3?g:m(arguments[2]);if(f&&!o)return y(g,D,E);if(g==E){switch(D.length){case 0:return new g;case 1:return new g(D[0]);case 2:return new g(D[0],D[1]);case 3:return new g(D[0],D[1],D[2]);case 4:return new g(D[0],D[1],D[2],D[3])}var C=[null];return C.push.apply(C,D),new(_.apply(g,C))}return C=E.prototype,E=S(A(C)?C:Object.prototype),C=Function.apply.call(g,E,D),A(C)?C:E}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],190:[function(a,r,b){var h=a("../internals/export"),m=a("../internals/is-object"),p=a("../internals/an-object"),A=a("../internals/has"),S=a("../internals/object-get-own-property-descriptor"),_=a("../internals/object-get-prototype-of");h({target:"Reflect",stat:!0},{get:function l(y,o){var f,x=arguments.length<3?y:arguments[2];return p(y)===x?y[o]:(f=S.f(y,o))?A(f,"value")?f.value:f.get===void 0?void 0:f.get.call(x):m(f=_(y))?l(f,o,x):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],191:[function(a,r,b){var h=a("../internals/descriptors"),m=a("../internals/global"),p=a("../internals/is-forced"),A=a("../internals/inherit-if-required"),S=a("../internals/object-define-property").f,_=a("../internals/object-get-own-property-names").f,l=a("../internals/is-regexp"),y=a("../internals/regexp-flags"),o=a("../internals/regexp-sticky-helpers"),f=a("../internals/redefine"),x=a("../internals/fails"),g=a("../internals/internal-state").set,D=a("../internals/set-species"),E=a("../internals/well-known-symbol")("match"),C=m.RegExp,T=C.prototype,O=/a/g,I=/a/g,M=new C(O)!==O,F=o.UNSUPPORTED_Y;if(h&&p("RegExp",!M||F||x(function(){return I[E]=!1,C(O)!=O||C(I)==I||C(O,"i")!="/a/i"}))){for(var B=function(R,V){var k,U=this instanceof B,G=l(R),H=V===void 0;return!U&&G&&R.constructor===B&&H?R:(M?G&&!H&&(R=R.source):R instanceof B&&(H&&(V=y.call(R)),R=R.source),F&&(k=!!V&&-1<V.indexOf("y"))&&(V=V.replace(/y/g,"")),G=A(M?new C(R,V):C(R,V),U?this:T,B),F&&k&&g(G,{sticky:k}),G)},j=_(C),L=0;j.length>L;)(function(R){R in B||S(B,R,{configurable:!0,get:function(){return C[R]},set:function(V){C[R]=V}})})(j[L++]);(T.constructor=B).prototype=T,f(m,"RegExp",B)}D("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/regexp-flags":112,"../internals/regexp-sticky-helpers":113,"../internals/set-species":117,"../internals/well-known-symbol":149}],192:[function(m,r,b){var h=m("../internals/export"),m=m("../internals/regexp-exec");h({target:"RegExp",proto:!0,forced:/./.exec!==m},{exec:m})},{"../internals/export":50,"../internals/regexp-exec":111}],193:[function(A,r,b){var h=A("../internals/redefine"),m=A("../internals/an-object"),l=A("../internals/fails"),p=A("../internals/regexp-flags"),A="toString",S=RegExp.prototype,_=S[A],l=l(function(){return _.call({source:"a",flags:"b"})!="/a/b"}),y=_.name!=A;(l||y)&&h(RegExp.prototype,A,function(){var o=m(this),f=String(o.source),x=o.flags;return"/"+f+"/"+String(x===void 0&&o instanceof RegExp&&!("flags"in S)?p.call(o):x)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-flags":112}],194:[function(m,r,b){var h=m("../internals/collection"),m=m("../internals/collection-strong");r.exports=h("Set",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},m)},{"../internals/collection":32,"../internals/collection-strong":30}],195:[function(_,r,b){var h=_("../internals/export"),m=_("../internals/object-get-own-property-descriptor").f,p=_("../internals/to-length"),A=_("../internals/not-a-regexp"),S=_("../internals/require-object-coercible"),o=_("../internals/correct-is-regexp-logic"),_=_("../internals/is-pure"),l="".endsWith,y=Math.min,o=o("endsWith");h({target:"String",proto:!0,forced:!!(_||o||!(h=m(String.prototype,"endsWith"))||h.writable)&&!o},{endsWith:function(f){var x=String(S(this)),g=(A(f),1<arguments.length?arguments[1]:void 0),D=p(x.length),g=g===void 0?D:y(p(g),D),D=String(f);return l?l.call(x,D,g):x.slice(g-D.length,g)===D}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],196:[function(a,r,b){var h=a("../internals/export"),m=a("../internals/not-a-regexp"),p=a("../internals/require-object-coercible");h({target:"String",proto:!0,forced:!a("../internals/correct-is-regexp-logic")("includes")},{includes:function(A){return!!~String(p(this)).indexOf(m(A),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":114}],197:[function(p,r,b){var h=p("../internals/string-multibyte").charAt,m=p("../internals/internal-state"),p=p("../internals/define-iterator"),A="String Iterator",S=m.set,_=m.getterFor(A);p(String,"String",function(l){S(this,{type:A,string:String(l),index:0})},function(){var l=_(this),y=l.string,o=l.index;return o>=y.length?{value:void 0,done:!0}:(y=h(y,o),l.index+=y.length,{value:y,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":124}],198:[function(a,r,b){var h=a("../internals/fix-regexp-well-known-symbol-logic"),m=a("../internals/an-object"),p=a("../internals/to-length"),A=a("../internals/require-object-coercible"),S=a("../internals/advance-string-index"),_=a("../internals/regexp-exec-abstract");h("match",1,function(l,y,o){return[function(f){var x=A(this),g=f==null?void 0:f[l];return g!==void 0?g.call(f,x):new RegExp(f)[l](String(x))},function(f){var x=o(y,f,this);if(x.done)return x.value;var g=m(f),D=String(this);if(!g.global)return _(g,D);for(var E=g.unicode,C=[],T=g.lastIndex=0;(O=_(g,D))!==null;){var O=String(O[0]);(C[T]=O)===""&&(g.lastIndex=S(D,p(g.lastIndex),E)),T++}return T===0?null:C}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-length":137}],199:[function(a,r,b){var h=a("../internals/export"),m=a("../internals/string-pad").start;h({target:"String",proto:!0,forced:a("../internals/string-pad-webkit-bug")},{padStart:function(p){return m(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":126,"../internals/string-pad-webkit-bug":125}],200:[function(a,r,b){a("../internals/export")({target:"String",proto:!0},{repeat:a("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":128}],201:[function(a,r,b){var h=a("../internals/fix-regexp-well-known-symbol-logic"),m=a("../internals/an-object"),p=a("../internals/to-object"),A=a("../internals/to-length"),S=a("../internals/to-integer"),_=a("../internals/require-object-coercible"),l=a("../internals/advance-string-index"),y=a("../internals/regexp-exec-abstract"),o=Math.max,f=Math.min,x=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,D=/\$([$&'`]|\d\d?)/g;h("replace",2,function(E,C,T,O){var I=O.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,M=O.REPLACE_KEEPS_$0,F=I?"$":"$0";return[function(B,j){var L=_(this),R=B==null?void 0:B[E];return R!==void 0?R.call(B,L,j):C.call(String(L),B,j)},function(B,j){if(!I&&M||typeof j=="string"&&j.indexOf(F)===-1){var L=T(C,B,this,j);if(L.done)return L.value}for(var R,V=m(B),k=String(this),U=typeof j=="function",G=(U||(j=String(j)),V.global),H=(G&&(R=V.unicode,V.lastIndex=0),[]);($=y(V,k))!==null&&(H.push($),G);)String($[0])===""&&(V.lastIndex=l(k,A(V.lastIndex),R));for(var X,Z="",J=0,ee=0;ee<H.length;ee++){for(var $=H[ee],W=String($[0]),Q=o(f(S($.index),k.length),0),te=[],ce=1;ce<$.length;ce++)te.push((X=$[ce])===void 0?X:String(X));var oe=$.groups,ue=U?(ue=[W].concat(te,Q,k),oe!==void 0&&ue.push(oe),String(j.apply(void 0,ue))):function(we,le,fe,ve,pe,ye){var Ae=fe+we.length,be=ve.length,ne=D;return pe!==void 0&&(pe=p(pe),ne=g),C.call(ye,ne,function(re,de){var Ce;switch(de.charAt(0)){case"$":return"$";case"&":return we;case"`":return le.slice(0,fe);case"'":return le.slice(Ae);case"<":Ce=pe[de.slice(1,-1)];break;default:var je,xe=+de;if(xe==0)return re;if(be<xe)return(je=x(xe/10))!==0&&je<=be?ve[je-1]===void 0?de.charAt(1):ve[je-1]+de.charAt(1):re;Ce=ve[xe-1]}return Ce===void 0?"":Ce})}(W,k,Q,te,oe,j);J<=Q&&(Z+=k.slice(J,Q)+ue,J=Q+W.length)}return Z+k.slice(J)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],202:[function(a,r,b){var h=a("../internals/fix-regexp-well-known-symbol-logic"),m=a("../internals/an-object"),p=a("../internals/require-object-coercible"),A=a("../internals/same-value"),S=a("../internals/regexp-exec-abstract");h("search",1,function(_,l,y){return[function(o){var f=p(this),x=o==null?void 0:o[_];return x!==void 0?x.call(o,f):new RegExp(o)[_](String(f))},function(o){var f,x=y(l,o,this);return x.done?x.value:(x=m(o),o=String(this),f=x.lastIndex,A(f,0)||(x.lastIndex=0),o=S(x,o),A(x.lastIndex,f)||(x.lastIndex=f),o===null?-1:o.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/same-value":115}],203:[function(f,r,b){var h=f("../internals/fix-regexp-well-known-symbol-logic"),m=f("../internals/is-regexp"),p=f("../internals/an-object"),A=f("../internals/require-object-coercible"),S=f("../internals/species-constructor"),_=f("../internals/advance-string-index"),l=f("../internals/to-length"),y=f("../internals/regexp-exec-abstract"),o=f("../internals/regexp-exec"),f=f("../internals/fails"),x=[].push,g=Math.min,D=4294967295,E=!f(function(){return!RegExp(D,"y")});h("split",2,function(C,T,O){var I="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(M,F){var B=String(A(this)),j=F===void 0?D:F>>>0;if(j==0)return[];if(M===void 0)return[B];if(!m(M))return T.call(B,M,j);for(var L,R,V,k=[],F=(M.ignoreCase?"i":"")+(M.multiline?"m":"")+(M.unicode?"u":"")+(M.sticky?"y":""),U=0,G=new RegExp(M.source,F+"g");(L=o.call(G,B))&&!(U<(R=G.lastIndex)&&(k.push(B.slice(U,L.index)),1<L.length&&L.index<B.length&&x.apply(k,L.slice(1)),V=L[0].length,U=R,k.length>=j));)G.lastIndex===L.index&&G.lastIndex++;return U===B.length?!V&&G.test("")||k.push(""):k.push(B.slice(U)),k.length>j?k.slice(0,j):k}:"0".split(void 0,0).length?function(M,F){return M===void 0&&F===0?[]:T.call(this,M,F)}:T;return[function(M,F){var B=A(this),j=M==null?void 0:M[C];return j!==void 0?j.call(M,B,F):I.call(String(B),M,F)},function(L,F){var B=O(I,L,this,F,I!==T);if(B.done)return B.value;var B=p(L),j=String(this),L=S(B,RegExp),R=B.unicode,V=(B.ignoreCase?"i":"")+(B.multiline?"m":"")+(B.unicode?"u":"")+(E?"y":"g"),k=new L(E?B:"^(?:"+B.source+")",V),U=F===void 0?D:F>>>0;if(U==0)return[];if(j.length===0)return y(k,j)===null?[j]:[];for(var G=0,H=0,X=[];H<j.length;){k.lastIndex=E?H:0;var Z,J=y(k,E?j:j.slice(H));if(J===null||(Z=g(l(k.lastIndex+(E?0:H)),j.length))===G)H=_(j,H,R);else{if(X.push(j.slice(G,H)),X.length===U)return X;for(var ee=1;ee<=J.length-1;ee++)if(X.push(J[ee]),X.length===U)return X;H=G=Z}}return X.push(j.slice(G)),X}]},!E)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":111,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/species-constructor":122,"../internals/to-length":137}],204:[function(_,r,b){var h=_("../internals/export"),m=_("../internals/object-get-own-property-descriptor").f,p=_("../internals/to-length"),A=_("../internals/not-a-regexp"),S=_("../internals/require-object-coercible"),o=_("../internals/correct-is-regexp-logic"),_=_("../internals/is-pure"),l="".startsWith,y=Math.min,o=o("startsWith");h({target:"String",proto:!0,forced:!!(_||o||!(h=m(String.prototype,"startsWith"))||h.writable)&&!o},{startsWith:function(D){var x=String(S(this)),g=(A(D),p(y(1<arguments.length?arguments[1]:void 0,x.length))),D=String(D);return l?l.call(x,D,g):x.slice(g,g+D.length)===D}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],205:[function(a,r,b){var h=a("../internals/export"),m=a("../internals/create-html");h({target:"String",proto:!0,forced:a("../internals/string-html-forced")("sub")},{sub:function(){return m(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":123}],206:[function(a,r,b){var h=a("../internals/export"),m=a("../internals/string-trim").trim;h({target:"String",proto:!0,forced:a("../internals/string-trim-forced")("trim")},{trim:function(){return m(this)}})},{"../internals/export":50,"../internals/string-trim":130,"../internals/string-trim-forced":129}],207:[function(g,r,b){var h,m,p,A,S,_=g("../internals/export"),l=g("../internals/descriptors"),y=g("../internals/global"),o=g("../internals/has"),f=g("../internals/is-object"),x=g("../internals/object-define-property").f,g=g("../internals/copy-constructor-properties"),D=y.Symbol;!l||typeof D!="function"||"description"in D.prototype&&D().description===void 0||(h={},g(m=function(){var E=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),C=this instanceof m?new D(E):E===void 0?D():D(E);return E===""&&(h[C]=!0),C},D),(y=m.prototype=D.prototype).constructor=m,p=y.toString,A=String(D("test"))=="Symbol(test)",S=/^Symbol\((.*)\)[^)]+$/,x(y,"description",{configurable:!0,get:function(){var E=f(this)?this.valueOf():this,C=p.call(E);return o(h,E)?"":(E=A?C.slice(7,-1):C.replace(S,"$1"))===""?void 0:E}}),_({global:!0,forced:!0},{Symbol:m}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],208:[function(a,r,b){a("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],209:[function(le,r,b){function h(Me,me){var Ve=Ce[Me]=B(ye[we]);return fe(Ve,{type:ue,tag:Me,description:me}),o||(Ve.description=me),Ve}function m(Me,Xe){T(Me);var Ve=I(Xe),Xe=j(Ve).concat(Se(Ve));return ce(Xe,function(rt){o&&!Ee.call(Ve,rt)||ze(Me,rt,Ve[rt])}),Me}function p(Xe,rt){var Ve,Xe=I(Xe),rt=M(rt,!0);if(Xe!==pe||!D(Ce,rt)||D(je,rt))return!(Ve=be(Xe,rt))||!D(Ce,rt)||D(Xe,oe)&&Xe[oe][rt]||(Ve.enumerable=!0),Ve}function A(me){var me=re(I(me)),Ve=[];return ce(me,function(Xe){D(Ce,Xe)||D(J,Xe)||Ve.push(Xe)}),Ve}var S=le("../internals/export"),_=le("../internals/global"),l=le("../internals/get-built-in"),y=le("../internals/is-pure"),o=le("../internals/descriptors"),f=le("../internals/native-symbol"),x=le("../internals/use-symbol-as-uid"),g=le("../internals/fails"),D=le("../internals/has"),E=le("../internals/is-array"),C=le("../internals/is-object"),T=le("../internals/an-object"),O=le("../internals/to-object"),I=le("../internals/to-indexed-object"),M=le("../internals/to-primitive"),F=le("../internals/create-property-descriptor"),B=le("../internals/object-create"),j=le("../internals/object-keys"),L=le("../internals/object-get-own-property-names"),R=le("../internals/object-get-own-property-names-external"),V=le("../internals/object-get-own-property-symbols"),k=le("../internals/object-get-own-property-descriptor"),U=le("../internals/object-define-property"),G=le("../internals/object-property-is-enumerable"),H=le("../internals/create-non-enumerable-property"),X=le("../internals/redefine"),Z=le("../internals/shared"),Ne=le("../internals/shared-key"),J=le("../internals/hidden-keys"),ee=le("../internals/uid"),$=le("../internals/well-known-symbol"),W=le("../internals/well-known-symbol-wrapped"),Q=le("../internals/define-well-known-symbol"),te=le("../internals/set-to-string-tag"),Be=le("../internals/internal-state"),ce=le("../internals/array-iteration").forEach,oe=Ne("hidden"),ue="Symbol",we="prototype",le=$("toPrimitive"),fe=Be.set,ve=Be.getterFor(ue),pe=Object[we],ye=_.Symbol,Ae=l("JSON","stringify"),be=k.f,ne=U.f,re=R.f,de=G.f,Ce=Z("symbols"),je=Z("op-symbols"),xe=Z("string-to-symbol-registry"),Ie=Z("symbol-to-string-registry"),Ne=Z("wks"),Be=_.QObject,$e=!Be||!Be[we]||!Be[we].findChild,Le=o&&g(function(){return B(ne({},"a",{get:function(){return ne(this,"a",{value:7}).a}})).a!=7})?function(Me,me,Ve){var Xe=be(pe,me);Xe&&delete pe[me],ne(Me,me,Ve),Xe&&Me!==pe&&ne(pe,me,Xe)}:ne,qe=x?function(Me){return typeof Me=="symbol"}:function(Me){return Object(Me)instanceof ye},ze=function(Me,me,Ve){return Me===pe&&ze(je,me,Ve),T(Me),me=M(me,!0),T(Ve),(D(Ce,me)?(Ve.enumerable?(D(Me,oe)&&Me[oe][me]&&(Me[oe][me]=!1),Ve=B(Ve,{enumerable:F(0,!1)})):(D(Me,oe)||ne(Me,oe,F(1,{})),Me[oe][me]=!0),Le):ne)(Me,me,Ve)},Ee=function(me){var me=M(me,!0),Ve=de.call(this,me);return!(this===pe&&D(Ce,me)&&!D(je,me))&&(!(Ve||!D(this,me)||!D(Ce,me)||D(this,oe)&&this[oe][me])||Ve)},Se=function(Ve){var me=Ve===pe,Ve=re(me?je:I(Ve)),Xe=[];return ce(Ve,function(rt){!D(Ce,rt)||me&&!D(pe,rt)||Xe.push(Ce[rt])}),Xe};f||(X((ye=function(){if(this instanceof ye)throw TypeError("Symbol is not a constructor");var Me=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,me=ee(Me),Ve=function(Xe){this===pe&&Ve.call(je,Xe),D(this,oe)&&D(this[oe],me)&&(this[oe][me]=!1),Le(this,me,F(1,Xe))};return o&&$e&&Le(pe,me,{configurable:!0,set:Ve}),h(me,Me)})[we],"toString",function(){return ve(this).tag}),X(ye,"withoutSetter",function(Me){return h(ee(Me),Me)}),G.f=Ee,U.f=ze,k.f=p,L.f=R.f=A,V.f=Se,W.f=function(Me){return h($(Me),Me)},o&&(ne(ye[we],"description",{configurable:!0,get:function(){return ve(this).description}}),y||X(pe,"propertyIsEnumerable",Ee,{unsafe:!0}))),S({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:ye}),ce(j(Ne),function(Me){Q(Me)}),S({target:ue,stat:!0,forced:!f},{for:function(Ve){var me,Ve=String(Ve);return D(xe,Ve)?xe[Ve]:(me=ye(Ve),xe[Ve]=me,Ie[me]=Ve,me)},keyFor:function(Me){if(!qe(Me))throw TypeError(Me+" is not a symbol");if(D(Ie,Me))return Ie[Me]},useSetter:function(){$e=!0},useSimple:function(){$e=!1}}),S({target:"Object",stat:!0,forced:!f,sham:!o},{create:function(Me,me){return me===void 0?B(Me):m(B(Me),me)},defineProperty:ze,defineProperties:m,getOwnPropertyDescriptor:p}),S({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:A,getOwnPropertySymbols:Se}),S({target:"Object",stat:!0,forced:g(function(){V.f(1)})},{getOwnPropertySymbols:function(Me){return V.f(O(Me))}}),Ae&&S({target:"JSON",stat:!0,forced:!f||g(function(){var Me=ye();return Ae([Me])!="[null]"||Ae({a:Me})!="{}"||Ae(Object(Me))!="{}"})},{stringify:function(Me,me,Ve){for(var Xe,rt=[Me],lt=1;lt<arguments.length;)rt.push(arguments[lt++]);if((C(Xe=me)||Me!==void 0)&&!qe(Me))return E(me)||(me=function(nt,it){if(typeof Xe=="function"&&(it=Xe.call(this,nt,it)),!qe(it))return it}),rt[1]=me,Ae.apply(null,rt)}}),ye[we][le]||H(ye[we],le,ye[we].valueOf),te(ye,ue),J[oe]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/shared":121,"../internals/shared-key":119,"../internals/to-indexed-object":135,"../internals/to-object":138,"../internals/to-primitive":141,"../internals/uid":146,"../internals/use-symbol-as-uid":147,"../internals/well-known-symbol":149,"../internals/well-known-symbol-wrapped":148}],210:[function(a,r,b){var h=a("../internals/array-buffer-view-core"),m=a("../internals/array-copy-within"),p=h.aTypedArray;(0,h.exportTypedArrayMethod)("copyWithin",function(A,S){return m.call(p(this),A,S,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],211:[function(a,r,b){var h=a("../internals/array-buffer-view-core"),m=a("../internals/array-iteration").every,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("every",function(A){return m(p(this),A,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(a,r,b){var h=a("../internals/array-buffer-view-core"),m=a("../internals/array-fill"),p=h.aTypedArray;(0,h.exportTypedArrayMethod)("fill",function(A){return m.apply(p(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],213:[function(a,r,b){var h=a("../internals/array-buffer-view-core"),m=a("../internals/array-iteration").filter,p=a("../internals/species-constructor"),A=h.aTypedArray,S=h.aTypedArrayConstructor;(0,h.exportTypedArrayMethod)("filter",function(_){for(var l=m(A(this),_,1<arguments.length?arguments[1]:void 0),_=p(this,this.constructor),y=0,o=l.length,f=new(S(_))(o);y<o;)f[y]=l[y++];return f})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],214:[function(a,r,b){var h=a("../internals/array-buffer-view-core"),m=a("../internals/array-iteration").findIndex,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("findIndex",function(A){return m(p(this),A,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(a,r,b){var h=a("../internals/array-buffer-view-core"),m=a("../internals/array-iteration").find,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("find",function(A){return m(p(this),A,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],216:[function(a,r,b){a("../internals/typed-array-constructor")("Float32",function(h){return function(m,p,A){return h(this,m,p,A)}})},{"../internals/typed-array-constructor":143}],217:[function(a,r,b){a("../internals/typed-array-constructor")("Float64",function(h){return function(m,p,A){return h(this,m,p,A)}})},{"../internals/typed-array-constructor":143}],218:[function(a,r,b){var h=a("../internals/array-buffer-view-core"),m=a("../internals/array-iteration").forEach,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("forEach",function(A){m(p(this),A,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(a,r,b){var h=a("../internals/array-buffer-view-core"),m=a("../internals/array-includes").includes,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("includes",function(A){return m(p(this),A,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],220:[function(a,r,b){var h=a("../internals/array-buffer-view-core"),m=a("../internals/array-includes").indexOf,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("indexOf",function(A){return m(p(this),A,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],221:[function(a,r,b){a("../internals/typed-array-constructor")("Int16",function(h){return function(m,p,A){return h(this,m,p,A)}})},{"../internals/typed-array-constructor":143}],222:[function(a,r,b){a("../internals/typed-array-constructor")("Int32",function(h){return function(m,p,A){return h(this,m,p,A)}})},{"../internals/typed-array-constructor":143}],223:[function(m,r,b){function h(){return p.call(_(this))}var o=m("../internals/global"),y=m("../internals/array-buffer-view-core"),l=m("../modules/es.array.iterator"),m=m("../internals/well-known-symbol")("iterator"),o=o.Uint8Array,p=l.values,A=l.keys,S=l.entries,_=y.aTypedArray,l=y.exportTypedArrayMethod,y=o&&o.prototype[m],o=!!y&&(y.name=="values"||y.name==null);l("entries",function(){return S.call(_(this))}),l("keys",function(){return A.call(_(this))}),l("values",h,!o),l(m,h,!o)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],224:[function(m,r,b){var m=m("../internals/array-buffer-view-core"),h=m.aTypedArray,m=m.exportTypedArrayMethod,p=[].join;m("join",function(A){return p.apply(h(this),arguments)})},{"../internals/array-buffer-view-core":12}],225:[function(a,r,b){var h=a("../internals/array-buffer-view-core"),m=a("../internals/array-last-index-of"),p=h.aTypedArray;(0,h.exportTypedArrayMethod)("lastIndexOf",function(A){return m.apply(p(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],226:[function(a,r,b){var h=a("../internals/array-buffer-view-core"),m=a("../internals/array-iteration").map,p=a("../internals/species-constructor"),A=h.aTypedArray,S=h.aTypedArrayConstructor;(0,h.exportTypedArrayMethod)("map",function(_){return m(A(this),_,1<arguments.length?arguments[1]:void 0,function(l,y){return new(S(p(l,l.constructor)))(y)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],227:[function(a,r,b){var h=a("../internals/array-buffer-view-core"),m=a("../internals/array-reduce").right,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("reduceRight",function(A){return m(p(this),A,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],228:[function(a,r,b){var h=a("../internals/array-buffer-view-core"),m=a("../internals/array-reduce").left,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("reduce",function(A){return m(p(this),A,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],229:[function(m,r,b){var m=m("../internals/array-buffer-view-core"),h=m.aTypedArray,m=m.exportTypedArrayMethod,p=Math.floor;m("reverse",function(){for(var A,S=h(this).length,_=p(S/2),l=0;l<_;)A=this[l],this[l++]=this[--S],this[S]=A;return this})},{"../internals/array-buffer-view-core":12}],230:[function(S,r,b){var h=S("../internals/array-buffer-view-core"),m=S("../internals/to-length"),p=S("../internals/to-offset"),A=S("../internals/to-object"),S=S("../internals/fails"),_=h.aTypedArray;(0,h.exportTypedArrayMethod)("set",function(l){_(this);var y=p(1<arguments.length?arguments[1]:void 0,1),o=this.length,f=A(l),x=m(f.length),g=0;if(o<x+y)throw RangeError("Wrong length");for(;g<x;)this[y+g]=f[g++]},S(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":137,"../internals/to-object":138,"../internals/to-offset":139}],231:[function(m,r,b){var S=m("../internals/array-buffer-view-core"),h=m("../internals/species-constructor"),m=m("../internals/fails"),p=S.aTypedArray,A=S.aTypedArrayConstructor,S=S.exportTypedArrayMethod,_=[].slice;S("slice",function(l,y){for(var o=_.call(p(this),l,y),l=h(this,this.constructor),f=0,x=o.length,g=new(A(l))(x);f<x;)g[f]=o[f++];return g},m(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":122}],232:[function(a,r,b){var h=a("../internals/array-buffer-view-core"),m=a("../internals/array-iteration").some,p=h.aTypedArray;(0,h.exportTypedArrayMethod)("some",function(A){return m(p(this),A,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],233:[function(m,r,b){var m=m("../internals/array-buffer-view-core"),h=m.aTypedArray,m=m.exportTypedArrayMethod,p=[].sort;m("sort",function(A){return p.call(h(this),A)})},{"../internals/array-buffer-view-core":12}],234:[function(a,r,b){var h=a("../internals/array-buffer-view-core"),m=a("../internals/to-length"),p=a("../internals/to-absolute-index"),A=a("../internals/species-constructor"),S=h.aTypedArray;(0,h.exportTypedArrayMethod)("subarray",function(f,l){var y=S(this),o=y.length,f=p(f,o);return new(A(y,y.constructor))(y.buffer,y.byteOffset+f*y.BYTES_PER_ELEMENT,m((l===void 0?o:p(l,o))-f))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":122,"../internals/to-absolute-index":133,"../internals/to-length":137}],235:[function(m,r,b){var S=m("../internals/global"),h=m("../internals/array-buffer-view-core"),m=m("../internals/fails"),p=S.Int8Array,A=h.aTypedArray,S=h.exportTypedArrayMethod,_=[].toLocaleString,l=[].slice,y=!!p&&m(function(){_.call(new p(1))});S("toLocaleString",function(){return _.apply(y?l.call(A(this)):A(this),arguments)},m(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!m(function(){p.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],236:[function(m,r,b){var h=m("../internals/array-buffer-view-core").exportTypedArrayMethod,S=m("../internals/fails"),m=m("../internals/global").Uint8Array,m=m&&m.prototype||{},p=[].toString,A=[].join,S=(S(function(){p.call({})})&&(p=function(){return A.call(this)}),m.toString!=p);h("toString",p,S)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],237:[function(a,r,b){a("../internals/typed-array-constructor")("Uint16",function(h){return function(m,p,A){return h(this,m,p,A)}})},{"../internals/typed-array-constructor":143}],238:[function(a,r,b){a("../internals/typed-array-constructor")("Uint32",function(h){return function(m,p,A){return h(this,m,p,A)}})},{"../internals/typed-array-constructor":143}],239:[function(a,r,b){a("../internals/typed-array-constructor")("Uint8",function(h){return function(m,p,A){return h(this,m,p,A)}})},{"../internals/typed-array-constructor":143}],240:[function(a,r,b){a("../internals/typed-array-constructor")("Uint8",function(h){return function(m,p,A){return h(this,m,p,A)}},!0)},{"../internals/typed-array-constructor":143}],241:[function(D,T,b){function h(O){return function(){return O(this,arguments.length?arguments[0]:void 0)}}var m,p,A,S,_,E=D("../internals/global"),l=D("../internals/redefine-all"),y=D("../internals/internal-metadata"),o=D("../internals/collection"),f=D("../internals/collection-weak"),x=D("../internals/is-object"),g=D("../internals/internal-state").enforce,D=D("../internals/native-weak-map"),E=!E.ActiveXObject&&"ActiveXObject"in E,C=Object.isExtensible,T=T.exports=o("WeakMap",h,f);D&&E&&(m=f.getConstructor(h,"WeakMap",!0),y.REQUIRED=!0,o=T.prototype,p=o.delete,A=o.has,S=o.get,_=o.set,l(o,{delete:function(O){var I;return x(O)&&!C(O)?((I=g(this)).frozen||(I.frozen=new m),p.call(this,O)||I.frozen.delete(O)):p.call(this,O)},has:function(O){var I;return x(O)&&!C(O)?((I=g(this)).frozen||(I.frozen=new m),A.call(this,O)||I.frozen.has(O)):A.call(this,O)},get:function(O){var I;return!x(O)||C(O)||((I=g(this)).frozen||(I.frozen=new m),A.call(this,O))?S.call(this,O):I.frozen.get(O)},set:function(O,I){var M;return!x(O)||C(O)||((M=g(this)).frozen||(M.frozen=new m),A.call(this,O))?_.call(this,O,I):M.frozen.set(O,I),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":108}],242:[function(a,r,b){var h,m=a("../internals/global"),p=a("../internals/dom-iterables"),A=a("../internals/array-for-each"),S=a("../internals/create-non-enumerable-property");for(h in p){var _=m[h],_=_&&_.prototype;if(_&&_.forEach!==A)try{S(_,"forEach",A)}catch{_.forEach=A}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],243:[function(_,r,b){var h,m=_("../internals/global"),p=_("../internals/dom-iterables"),A=_("../modules/es.array.iterator"),S=_("../internals/create-non-enumerable-property"),_=_("../internals/well-known-symbol"),l=_("iterator"),y=_("toStringTag"),o=A.values;for(h in p){var f=m[h],x=f&&f.prototype;if(x){if(x[l]!==o)try{S(x,l,o)}catch{x[l]=o}if(x[y]||S(x,y,h),p[h]){for(var g in A)if(x[g]!==A[g])try{S(x,g,A[g])}catch{x[g]=A[g]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],244:[function(oe,r,b){oe("../modules/es.array.iterator");function h(ue){try{return decodeURIComponent(ue)}catch{return ue}}function m(ue){return Q[ue]}function p(ue){return encodeURIComponent(ue).replace(W,m)}function A(ue){this.entries.length=0,te(this.entries,ue)}function S(ue,we){if(ue<we)throw TypeError("Not enough arguments")}function _(){E(this,_,U);var ue,we,le,fe,ve,pe,ye,Ae,be=0<arguments.length?arguments[0]:void 0,ne=[];if(H(this,{type:U,entries:ne,updateURL:function(){},updateSearchParams:A}),be!==void 0)if(M(be))if(typeof(ue=L(be))=="function")for(le=(we=ue.call(be)).next;!(fe=le.call(we)).done;){if((pe=(ve=(fe=j(I(fe.value))).next).call(fe)).done||(ye=ve.call(fe)).done||!ve.call(fe).done)throw TypeError("Expected sequence with length 2");ne.push({key:pe.value+"",value:ye.value+""})}else for(Ae in be)C(be,Ae)&&ne.push({key:Ae,value:be[Ae]+""});else te(ne,typeof be=="string"?be.charAt(0)==="?"?be.slice(1):be:be+"")}var l=oe("../internals/export"),k=oe("../internals/get-built-in"),y=oe("../internals/native-url"),o=oe("../internals/redefine"),f=oe("../internals/redefine-all"),x=oe("../internals/set-to-string-tag"),g=oe("../internals/create-iterator-constructor"),D=oe("../internals/internal-state"),E=oe("../internals/an-instance"),C=oe("../internals/has"),T=oe("../internals/function-bind-context"),O=oe("../internals/classof"),I=oe("../internals/an-object"),M=oe("../internals/is-object"),F=oe("../internals/object-create"),B=oe("../internals/create-property-descriptor"),j=oe("../internals/get-iterator"),L=oe("../internals/get-iterator-method"),oe=oe("../internals/well-known-symbol"),R=k("fetch"),V=k("Headers"),k=oe("iterator"),U="URLSearchParams",G=U+"Iterator",H=D.set,X=D.getterFor(U),Z=D.getterFor(G),J=/\+/g,ee=Array(4),$=function(ue){var we,le=ue.replace(J," "),fe=4;try{return decodeURIComponent(le)}catch{for(;fe;)le=le.replace((we=fe--,ee[we-1]||(ee[we-1]=RegExp("((?:%[\\da-f]{2}){"+we+"})","gi"))),h);return le}},W=/[!'()~]|%20/g,Q={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},te=function(ue,we){if(we)for(var le,fe=we.split("&"),ve=0;ve<fe.length;)(le=fe[ve++]).length&&(le=le.split("="),ue.push({key:$(le.shift()),value:$(le.join("="))}))},ce=g(function(ue,we){H(this,{type:G,iterator:j(X(ue).entries),kind:we})},"Iterator",function(){var we=Z(this),ue=we.kind,we=we.iterator.next(),le=we.value;return we.done||(we.value=ue==="keys"?le.key:ue==="values"?le.value:[le.key,le.value]),we}),oe=_.prototype;f(oe,{append:function(ue,we){S(arguments.length,2);var le=X(this);le.entries.push({key:ue+"",value:we+""}),le.updateURL()},delete:function(ue){S(arguments.length,1);for(var we=X(this),le=we.entries,fe=ue+"",ve=0;ve<le.length;)le[ve].key===fe?le.splice(ve,1):ve++;we.updateURL()},get:function(ue){S(arguments.length,1);for(var we=X(this).entries,le=ue+"",fe=0;fe<we.length;fe++)if(we[fe].key===le)return we[fe].value;return null},getAll:function(ue){S(arguments.length,1);for(var we=X(this).entries,le=ue+"",fe=[],ve=0;ve<we.length;ve++)we[ve].key===le&&fe.push(we[ve].value);return fe},has:function(ue){S(arguments.length,1);for(var we=X(this).entries,le=ue+"",fe=0;fe<we.length;)if(we[fe++].key===le)return!0;return!1},set:function(ue,we){S(arguments.length,1);for(var le,fe=X(this),ve=fe.entries,pe=!1,ye=ue+"",Ae=we+"",be=0;be<ve.length;be++)(le=ve[be]).key===ye&&(pe?ve.splice(be--,1):(pe=!0,le.value=Ae));pe||ve.push({key:ye,value:Ae}),fe.updateURL()},sort:function(){for(var ue,we,le=X(this),fe=le.entries,ve=fe.slice(),pe=fe.length=0;pe<ve.length;pe++){for(ue=ve[pe],we=0;we<pe;we++)if(fe[we].key>ue.key){fe.splice(we,0,ue);break}we===pe&&fe.push(ue)}le.updateURL()},forEach:function(ue){for(var we,le=X(this).entries,fe=T(ue,1<arguments.length?arguments[1]:void 0,3),ve=0;ve<le.length;)fe((we=le[ve++]).value,we.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),o(oe,k,oe.entries),o(oe,"toString",function(){for(var ue,we=X(this).entries,le=[],fe=0;fe<we.length;)ue=we[fe++],le.push(p(ue.key)+"="+p(ue.value));return le.join("&")},{enumerable:!0}),x(_,U),l({global:!0,forced:!y},{URLSearchParams:_}),y||typeof R!="function"||typeof V!="function"||l({global:!0,enumerable:!0,forced:!0},{fetch:function(ve){var we,le,fe,ve=[ve];return 1<arguments.length&&(M(we=arguments[1])&&(le=we.body,O(le)===U&&((fe=we.headers?new V(we.headers):new V).has("content-type")||fe.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),we=F(we,{body:B(0,String(le)),headers:B(0,fe)}))),ve.push(we)),R.apply(this,ve)}}),r.exports={URLSearchParams:_,getState:X}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],245:[function(j,r,b){j("../modules/es.string.iterator");function h(Je){var Et,_e,Oe,Ue;if(typeof Je=="number"){for(Et=[],_e=0;_e<4;_e++)Et.unshift(Je%256),Je=G(Je/256);return Et.join(".")}if(typeof Je!="object")return Je;for(Et="",Oe=ye(Je),_e=0;_e<8;_e++)Ue&&Je[_e]===0||(Ue=Ue&&!1,Oe===_e?(Et+=_e?":":"::",Ue=!0):(Et+=Je[_e].toString(16),_e<7&&(Et+=":")));return"["+Et+"]"}function m(Je){return!Je.host||Je.cannotBeABaseURL||Je.scheme=="file"}function p(Je,Et,_e,Oe){var Ue,Fe,He,Re=_e||qe,Ye=0,tt="",ct=!1,st=!1,ot=!1;for(_e||(Je.scheme="",Je.username="",Je.password="",Je.host=null,Je.port=null,Je.path=[],Je.query=null,Je.fragment=null,Je.cannotBeABaseURL=!1,Et=Et.replace(fe,"")),Et=Et.replace(ve,""),Ue=O(Et);Ye<=Ue.length;){switch(Fe=Ue[Ye],Re){case qe:if(!Fe||!$.test(Fe)){if(_e)return Z;Re=Ee;continue}tt+=Fe.toLowerCase(),Re=ze;break;case ze:if(Fe&&(W.test(Fe)||Fe=="+"||Fe=="-"||Fe=="."))tt+=Fe.toLowerCase();else{if(Fe!=":"){if(_e)return Z;tt="",Re=Ee,Ye=0;continue}if(_e&&(je(Je)!=C(Ce,tt)||tt=="file"&&(xe(Je)||Je.port!==null)||Je.scheme=="file"&&!Je.host))return;if(Je.scheme=tt,_e)return void(je(Je)&&Ce[Je.scheme]==Je.port&&(Je.port=null));tt="",Je.scheme=="file"?Re=ft:je(Je)&&Oe&&Oe.scheme==Je.scheme?Re=Se:je(Je)?Re=Xe:Ue[Ye+1]=="/"?(Re=Me,Ye++):(Je.cannotBeABaseURL=!0,Je.path.push(""),Re=Tt)}break;case Ee:if(!Oe||Oe.cannotBeABaseURL&&Fe!="#")return Z;if(Oe.cannotBeABaseURL&&Fe=="#"){Je.scheme=Oe.scheme,Je.path=Oe.path.slice(),Je.query=Oe.query,Je.fragment="",Je.cannotBeABaseURL=!0,Re=Mt;break}Re=Oe.scheme=="file"?ft:me;continue;case Se:if(Fe!="/"||Ue[Ye+1]!="/"){Re=me;continue}Re=rt,Ye++;break;case Me:if(Fe=="/"){Re=lt;break}Re=xt;continue;case me:if(Je.scheme=Oe.scheme,Fe==_)Je.username=Oe.username,Je.password=Oe.password,Je.host=Oe.host,Je.port=Oe.port,Je.path=Oe.path.slice(),Je.query=Oe.query;else if(Fe=="/"||Fe=="\\"&&je(Je))Re=Ve;else if(Fe=="?")Je.username=Oe.username,Je.password=Oe.password,Je.host=Oe.host,Je.port=Oe.port,Je.path=Oe.path.slice(),Je.query="",Re=kt;else{if(Fe!="#"){Je.username=Oe.username,Je.password=Oe.password,Je.host=Oe.host,Je.port=Oe.port,Je.path=Oe.path.slice(),Je.path.pop(),Re=xt;continue}Je.username=Oe.username,Je.password=Oe.password,Je.host=Oe.host,Je.port=Oe.port,Je.path=Oe.path.slice(),Je.query=Oe.query,Je.fragment="",Re=Mt}break;case Ve:if(!je(Je)||Fe!="/"&&Fe!="\\"){if(Fe!="/"){Je.username=Oe.username,Je.password=Oe.password,Je.host=Oe.host,Je.port=Oe.port,Re=xt;continue}Re=lt}else Re=rt;break;case Xe:if(Re=rt,Fe!="/"||tt.charAt(Ye+1)!="/")continue;Ye++;break;case rt:if(Fe=="/"||Fe=="\\")break;Re=lt;continue;case lt:if(Fe=="@"){ct&&(tt="%40"+tt);for(var ct=!0,Dt=O(tt),Nt=0;Nt<Dt.length;Nt++){var Ut=Dt[Nt];Ut!=":"||ot?(Ut=de(Ut,re),ot?Je.password+=Ut:Je.username+=Ut):ot=!0}tt=""}else if(Fe==_||Fe=="/"||Fe=="?"||Fe=="#"||Fe=="\\"&&je(Je)){if(ct&&tt=="")return X;Ye-=O(tt).length+1,tt="",Re=nt}else tt+=Fe;break;case nt:case it:if(_e&&Je.scheme=="file"){Re=bt;continue}if(Fe!=":"||st){if(Fe==_||Fe=="/"||Fe=="?"||Fe=="#"||Fe=="\\"&&je(Je)){if(je(Je)&&tt=="")return J;if(_e&&tt==""&&(xe(Je)||Je.port!==null))return;if(He=pe(Je,tt))return He;if(tt="",Re=wt,_e)return;continue}Fe=="["?st=!0:Fe=="]"&&(st=!1),tt+=Fe}else{if(tt=="")return J;if(He=pe(Je,tt))return He;if(tt="",Re=dt,_e==it)return}break;case dt:if(!Q.test(Fe)){if(Fe==_||Fe=="/"||Fe=="?"||Fe=="#"||Fe=="\\"&&je(Je)||_e){if(tt!=""){var Gt=parseInt(tt,10);if(65535<Gt)return ee;Je.port=je(Je)&&Gt===Ce[Je.scheme]?null:Gt,tt=""}if(_e)return;Re=wt;continue}return ee}tt+=Fe;break;case ft:if(Je.scheme="file",Fe=="/"||Fe=="\\")Re=yt;else{if(!Oe||Oe.scheme!="file"){Re=xt;continue}if(Fe==_)Je.host=Oe.host,Je.path=Oe.path.slice(),Je.query=Oe.query;else if(Fe=="?")Je.host=Oe.host,Je.path=Oe.path.slice(),Je.query="",Re=kt;else{if(Fe!="#"){Ne(Ue.slice(Ye).join(""))||(Je.host=Oe.host,Je.path=Oe.path.slice(),Be(Je)),Re=xt;continue}Je.host=Oe.host,Je.path=Oe.path.slice(),Je.query=Oe.query,Je.fragment="",Re=Mt}}break;case yt:if(Fe=="/"||Fe=="\\"){Re=bt;break}Oe&&Oe.scheme=="file"&&!Ne(Ue.slice(Ye).join(""))&&(Ie(Oe.path[0],!0)?Je.path.push(Oe.path[0]):Je.host=Oe.host),Re=xt;continue;case bt:if(Fe==_||Fe=="/"||Fe=="\\"||Fe=="?"||Fe=="#"){if(!_e&&Ie(tt))Re=xt;else{if(tt==""){if(Je.host="",_e)return}else{if(He=pe(Je,tt))return He;if(Je.host=="localhost"&&(Je.host=""),_e)return;tt=""}Re=wt}continue}tt+=Fe;break;case wt:if(je(Je)){if(Re=xt,Fe!="/"&&Fe!="\\")continue}else if(_e||Fe!="?")if(_e||Fe!="#"){if(Fe!=_&&(Re=xt,Fe!="/"))continue}else Je.fragment="",Re=Mt;else Je.query="",Re=kt;break;case xt:if(Fe==_||Fe=="/"||Fe=="\\"&&je(Je)||!_e&&(Fe=="?"||Fe=="#")){if(Le(tt)?(Be(Je),Fe=="/"||Fe=="\\"&&je(Je)||Je.path.push("")):$e(tt)?Fe=="/"||Fe=="\\"&&je(Je)||Je.path.push(""):(Je.scheme=="file"&&!Je.path.length&&Ie(tt)&&(Je.host&&(Je.host=""),tt=tt.charAt(0)+":"),Je.path.push(tt)),tt="",Je.scheme=="file"&&(Fe==_||Fe=="?"||Fe=="#"))for(;1<Je.path.length&&Je.path[0]==="";)Je.path.shift();Fe=="?"?(Je.query="",Re=kt):Fe=="#"&&(Je.fragment="",Re=Mt)}else tt+=de(Fe,ne);break;case Tt:Fe=="?"?(Je.query="",Re=kt):Fe=="#"?(Je.fragment="",Re=Mt):Fe!=_&&(Je.path[0]+=de(Fe,Ae));break;case kt:_e||Fe!="#"?Fe!=_&&(Fe=="'"&&je(Je)?Je.query+="%27":Je.query+=Fe=="#"?"%23":de(Fe,Ae)):(Je.fragment="",Re=Mt);break;case Mt:Fe!=_&&(Je.fragment+=de(Fe,be))}Ye++}}function A(Fe){var Et,_e,Oe=E(this,A,"URL"),Ue=1<arguments.length?arguments[1]:void 0,Fe=String(Fe),He=k(Oe,{type:"URL"});if(Ue!==void 0){if(Ue instanceof A)Et=U(Ue);else if(_e=p(Et={},String(Ue)))throw TypeError(_e)}if(_e=p(He,Fe,null,Et))throw TypeError(_e);var Re=He.searchParams=new R;(Ue=V(Re)).updateSearchParams(He.query),Ue.updateURL=function(){He.query=String(Re)||null},f||(Oe.href=Lt.call(Oe),Oe.origin=Ft.call(Oe),Oe.protocol=Pt.call(Oe),Oe.username=It.call(Oe),Oe.password=Rt.call(Oe),Oe.host=Ht.call(Oe),Oe.hostname=rn.call(Oe),Oe.port=Zt.call(Oe),Oe.pathname=Jt.call(Oe),Oe.search=an.call(Oe),Oe.searchParams=Wt.call(Oe),Oe.hash=nn.call(Oe))}function S(Je,Et){return{get:Je,set:Et,configurable:!0,enumerable:!0}}var _,l,y,o=j("../internals/export"),f=j("../internals/descriptors"),x=j("../internals/native-url"),Ot=j("../internals/global"),g=j("../internals/object-define-properties"),D=j("../internals/redefine"),E=j("../internals/an-instance"),C=j("../internals/has"),T=j("../internals/object-assign"),O=j("../internals/array-from"),I=j("../internals/string-multibyte").codeAt,M=j("../internals/string-punycode-to-ascii"),F=j("../internals/set-to-string-tag"),B=j("../modules/web.url-search-params"),j=j("../internals/internal-state"),L=Ot.URL,R=B.URLSearchParams,V=B.getState,k=j.set,U=j.getterFor("URL"),G=Math.floor,H=Math.pow,X="Invalid authority",Z="Invalid scheme",J="Invalid host",ee="Invalid port",$=/[A-Za-z]/,W=/[\d+-.A-Za-z]/,Q=/\d/,te=/^(0x|0X)/,ce=/^[0-7]+$/,oe=/^\d+$/,ue=/^[\dA-Fa-f]+$/,we=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,le=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,fe=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ve=/[\u0009\u000A\u000D]/g,pe=function(Je,Et){var _e,Oe,Ue;if(Et.charAt(0)=="[")return Et.charAt(Et.length-1)=="]"&&(_e=function(Fe){var He=[0,0,0,0,0,0,0,0],Re=0,Ye=null,tt=0,ct,st,ot,Dt,Nt,Ut,Gt,Xt=function(){return Fe.charAt(tt)};if(Xt()==":"){if(Fe.charAt(1)!=":")return;tt+=2,Re++,Ye=Re}for(;Xt();){if(Re==8)return;if(Xt()==":"){if(Ye!==null)return;tt++,Re++,Ye=Re;continue}for(ct=st=0;st<4&&ue.test(Xt());)ct=ct*16+parseInt(Xt(),16),tt++,st++;if(Xt()=="."){if(st==0||(tt-=st,Re>6))return;for(ot=0;Xt();){if(Dt=null,ot>0)if(Xt()=="."&&ot<4)tt++;else return;if(!Q.test(Xt()))return;for(;Q.test(Xt());){if(Nt=parseInt(Xt(),10),Dt===null)Dt=Nt;else{if(Dt==0)return;Dt=Dt*10+Nt}if(Dt>255)return;tt++}He[Re]=He[Re]*256+Dt,ot++,(ot==2||ot==4)&&Re++}if(ot!=4)return;break}else if(Xt()==":"){if(tt++,!Xt())return}else if(Xt())return;He[Re++]=ct}if(Ye!==null)for(Ut=Re-Ye,Re=7;Re!=0&&Ut>0;)Gt=He[Re],He[Re--]=He[Ye+Ut-1],He[Ye+--Ut]=Gt;else if(Re!=8)return;return He}(Et.slice(1,-1)))?void(Je.host=_e):J;if(je(Je))return Et=M(Et),we.test(Et)||(_e=function(Fe){var He=Fe.split("."),Re,Ye,tt,ct,st,ot,Dt;if(He.length&&He[He.length-1]==""&&He.pop(),(Re=He.length)>4)return Fe;for(Ye=[],tt=0;tt<Re;tt++){if(ct=He[tt],ct=="")return Fe;if(st=10,ct.length>1&&ct.charAt(0)=="0"&&(st=te.test(ct)?16:8,ct=ct.slice(st==8?1:2)),ct==="")ot=0;else{if(!(st==10?oe:st==8?ce:ue).test(ct))return Fe;ot=parseInt(ct,st)}Ye.push(ot)}for(tt=0;tt<Re;tt++)if(ot=Ye[tt],tt==Re-1){if(ot>=H(256,5-Re))return null}else if(ot>255)return null;for(Dt=Ye.pop(),tt=0;tt<Ye.length;tt++)Dt+=Ye[tt]*H(256,3-tt);return Dt}(Et))===null?J:void(Je.host=_e);if(le.test(Et))return J;for(_e="",Oe=O(Et),Ue=0;Ue<Oe.length;Ue++)_e+=de(Oe[Ue],Ae);Je.host=_e},ye=function(Je){for(var Et=null,_e=1,Oe=null,Ue=0,Fe=0;Fe<8;Fe++)Je[Fe]!==0?(_e<Ue&&(Et=Oe,_e=Ue),Oe=null,Ue=0):(Oe===null&&(Oe=Fe),++Ue);return _e<Ue&&(Et=Oe,_e=Ue),Et},Ae={},be=T({},Ae,{" ":1,'"':1,"<":1,">":1,"`":1}),ne=T({},be,{"#":1,"?":1,"{":1,"}":1}),re=T({},ne,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(Je,Et){var _e=I(Je,0);return 32<_e&&_e<127&&!C(Et,Je)?Je:encodeURIComponent(Je)},Ce={ftp:21,file:null,http:80,https:443,ws:80,wss:443},je=function(Je){return C(Ce,Je.scheme)},xe=function(Je){return Je.username!=""||Je.password!=""},Ie=function(Je,Et){return Je.length==2&&$.test(Je.charAt(0))&&((Je=Je.charAt(1))==":"||!Et&&Je=="|")},Ne=function(Je){return 1<Je.length&&Ie(Je.slice(0,2))&&(Je.length==2||(Je=Je.charAt(2))==="/"||Je==="\\"||Je==="?"||Je==="#")},Be=function(Je){var Et=Je.path,_e=Et.length;!_e||Je.scheme=="file"&&_e==1&&Ie(Et[0],!0)||Et.pop()},$e=function(Je){return Je==="."||Je.toLowerCase()==="%2e"},Le=function(Je){return(Je=Je.toLowerCase())===".."||Je==="%2e."||Je===".%2e"||Je==="%2e%2e"},qe={},ze={},Ee={},Se={},Me={},me={},Ve={},Xe={},rt={},lt={},nt={},it={},dt={},ft={},yt={},bt={},wt={},xt={},Tt={},kt={},Mt={},Ot=A.prototype,Lt=function(){var Je=U(this),Et=Je.scheme,_e=Je.username,Oe=Je.password,Ue=Je.host,Fe=Je.port,He=Je.path,Re=Je.query,Ye=Je.fragment,tt=Et+":";return Ue!==null?(tt+="//",xe(Je)&&(tt+=_e+(Oe?":"+Oe:"")+"@"),tt+=h(Ue),Fe!==null&&(tt+=":"+Fe)):Et=="file"&&(tt+="//"),tt+=Je.cannotBeABaseURL?He[0]:He.length?"/"+He.join("/"):"",Re!==null&&(tt+="?"+Re),Ye!==null&&(tt+="#"+Ye),tt},Ft=function(){var Je=U(this),Et=Je.scheme,_e=Je.port;if(Et=="blob")try{return new URL(Et.path[0]).origin}catch{return"null"}return Et!="file"&&je(Je)?Et+"://"+h(Je.host)+(_e!==null?":"+_e:""):"null"},Pt=function(){return U(this).scheme+":"},It=function(){return U(this).username},Rt=function(){return U(this).password},Ht=function(){var Et=U(this),Je=Et.host,Et=Et.port;return Je===null?"":Et===null?h(Je):h(Je)+":"+Et},rn=function(){var Je=U(this).host;return Je===null?"":h(Je)},Zt=function(){var Je=U(this).port;return Je===null?"":String(Je)},Jt=function(){var Je=U(this),Et=Je.path;return Je.cannotBeABaseURL?Et[0]:Et.length?"/"+Et.join("/"):""},an=function(){var Je=U(this).query;return Je?"?"+Je:""},Wt=function(){return U(this).searchParams},nn=function(){var Je=U(this).fragment;return Je?"#"+Je:""};f&&g(Ot,{href:S(Lt,function(_e){var Et=U(this),_e=String(_e),_e=p(Et,_e);if(_e)throw TypeError(_e);V(Et.searchParams).updateSearchParams(Et.query)}),origin:S(Ft),protocol:S(Pt,function(Je){var Et=U(this);p(Et,String(Je)+":",qe)}),username:S(It,function(Je){var Et=U(this),_e=O(String(Je));if(!m(Et)){Et.username="";for(var Oe=0;Oe<_e.length;Oe++)Et.username+=de(_e[Oe],re)}}),password:S(Rt,function(Je){var Et=U(this),_e=O(String(Je));if(!m(Et)){Et.password="";for(var Oe=0;Oe<_e.length;Oe++)Et.password+=de(_e[Oe],re)}}),host:S(Ht,function(Je){var Et=U(this);Et.cannotBeABaseURL||p(Et,String(Je),nt)}),hostname:S(rn,function(Je){var Et=U(this);Et.cannotBeABaseURL||p(Et,String(Je),it)}),port:S(Zt,function(Je){var Et=U(this);m(Et)||((Je=String(Je))==""?Et.port=null:p(Et,Je,dt))}),pathname:S(Jt,function(Je){var Et=U(this);Et.cannotBeABaseURL||(Et.path=[],p(Et,Je+"",wt))}),search:S(an,function(Je){var Et=U(this);(Je=String(Je))==""?Et.query=null:(Je.charAt(0)=="?"&&(Je=Je.slice(1)),Et.query="",p(Et,Je,kt)),V(Et.searchParams).updateSearchParams(Et.query)}),searchParams:S(Wt),hash:S(nn,function(Je){var Et=U(this);(Je=String(Je))==""?Et.fragment=null:(Je.charAt(0)=="#"&&(Je=Je.slice(1)),Et.fragment="",p(Et,Je,Mt))})}),D(Ot,"toJSON",function(){return Lt.call(this)},{enumerable:!0}),D(Ot,"toString",function(){return Lt.call(this)},{enumerable:!0}),L&&(l=L.createObjectURL,y=L.revokeObjectURL,l&&D(A,"createObjectURL",function(Je){return l.apply(L,arguments)}),y&&D(A,"revokeObjectURL",function(Je){return y.apply(L,arguments)})),F(A,"URL"),o({global:!0,forced:!x,sham:!f},{URL:A})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/string-multibyte":124,"../internals/string-punycode-to-ascii":127,"../modules/es.string.iterator":197,"../modules/web.url-search-params":244}],246:[function(a,r,b){r.exports=a("./").polyfill()},{"./":247}],247:[function(a,r,b){(function(h,m){var p,A;p=this,A=function(){function S(pe){return typeof pe=="function"}var _=Array.isArray||function(pe){return Object.prototype.toString.call(pe)==="[object Array]"},l=0,y=void 0,o=void 0,f=function(pe,ye){T[l]=pe,T[l+1]=ye,(l+=2)===2&&(o?o(O):R())},x=typeof window<"u"?window:void 0,g=x||{},g=g.MutationObserver||g.WebKitMutationObserver,D=typeof self>"u"&&h!==void 0&&{}.toString.call(h)==="[object process]",E=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function C(){var pe=setTimeout;return function(){return pe(O,1)}}var T=new Array(1e3);function O(){for(var pe=0;pe<l;pe+=2)(0,T[pe])(T[pe+1]),T[pe]=void 0,T[pe+1]=void 0;l=0}function I(){try{var pe=Function("return this")().require("vertx");return(y=pe.runOnLoop||pe.runOnContext)!==void 0?function(){y(O)}:C()}catch{return C()}}var M,F,B,R=void 0;function j(pe,ye){var Ae,be=this,ne=new this.constructor(k),re=(ne[V]===void 0&&ue(ne),be._state);return re?(Ae=arguments[re-1],f(function(){return ce(re,ne,Ae,be._result)})):Q(be,ne,pe,ye),ne}function L(pe){var ye;return pe&&typeof pe=="object"&&pe.constructor===this?pe:(J(ye=new this(k),pe),ye)}var R=D?function(){return h.nextTick(O)}:g?(F=0,D=new g(O),B=document.createTextNode(""),D.observe(B,{characterData:!0}),function(){B.data=F=++F%2}):E?((M=new MessageChannel).port1.onmessage=O,function(){return M.port2.postMessage(0)}):(x===void 0&&typeof a=="function"?I:C)(),V=Math.random().toString(36).substring(2);function k(){}var U=void 0,G=1,H=2;function X(pe,ye,Ae){f(function(be){var ne=!1,re=function(de,Ce,je,xe){try{de.call(Ce,je,xe)}catch(Ie){return Ie}}(Ae,ye,function(de){ne||(ne=!0,(ye!==de?J:$)(be,de))},function(de){ne||(ne=!0,W(be,de))},be._label);!ne&&re&&(ne=!0,W(be,re))},pe)}function Z(pe,ye,Ae){var be,ne;ye.constructor===pe.constructor&&Ae===j&&ye.constructor.resolve===L?(be=pe,(ne=ye)._state===G?$(be,ne._result):ne._state===H?W(be,ne._result):Q(ne,void 0,function(re){return J(be,re)},function(re){return W(be,re)})):Ae!==void 0&&S(Ae)?X(pe,ye,Ae):$(pe,ye)}function J(pe,ye){if(pe===ye)W(pe,new TypeError("You cannot resolve a promise with itself"));else if(Ae=typeof ye,ye===null||Ae!="object"&&Ae!="function")$(pe,ye);else{Ae=void 0;try{Ae=ye.then}catch(be){return void W(pe,be)}Z(pe,ye,Ae)}var Ae}function ee(pe){pe._onerror&&pe._onerror(pe._result),te(pe)}function $(pe,ye){pe._state===U&&(pe._result=ye,pe._state=G,pe._subscribers.length!==0&&f(te,pe))}function W(pe,ye){pe._state===U&&(pe._state=H,pe._result=ye,f(ee,pe))}function Q(pe,ye,Ae,be){var ne=pe._subscribers,re=ne.length;pe._onerror=null,ne[re]=ye,ne[re+G]=Ae,ne[re+H]=be,re===0&&pe._state&&f(te,pe)}function te(pe){var ye=pe._subscribers,Ae=pe._state;if(ye.length!==0){for(var be,ne=void 0,re=pe._result,de=0;de<ye.length;de+=3)be=ye[de],ne=ye[de+Ae],be?ce(Ae,be,ne,re):ne(re);pe._subscribers.length=0}}function ce(pe,ye,Ae,be){var ne=S(Ae),re=void 0,de=void 0,Ce=!0;if(ne){try{re=Ae(be)}catch(je){Ce=!1,de=je}if(ye===re)return void W(ye,new TypeError("A promises callback cannot return that same promise."))}else re=be;ye._state===U&&(ne&&Ce?J(ye,re):Ce===!1?W(ye,de):pe===G?$(ye,re):pe===H&&W(ye,re))}var oe=0;function ue(pe){pe[V]=oe++,pe._state=void 0,pe._result=void 0,pe._subscribers=[]}le.prototype._enumerate=function(pe){for(var ye=0;this._state===U&&ye<pe.length;ye++)this._eachEntry(pe[ye],ye)},le.prototype._eachEntry=function(pe,ye){var Ae=this._instanceConstructor,be=Ae.resolve;if(be===L){var ne,re=void 0,de=void 0,Ce=!1;try{re=pe.then}catch(je){Ce=!0,de=je}re===j&&pe._state!==U?this._settledAt(pe._state,ye,pe._result):typeof re!="function"?(this._remaining--,this._result[ye]=pe):Ae===fe?(ne=new Ae(k),Ce?W(ne,de):Z(ne,pe,re),this._willSettleAt(ne,ye)):this._willSettleAt(new Ae(function(je){return je(pe)}),ye)}else this._willSettleAt(be(pe),ye)},le.prototype._settledAt=function(pe,ye,Ae){var be=this.promise;be._state===U&&(this._remaining--,pe===H?W(be,Ae):this._result[ye]=Ae),this._remaining===0&&$(be,this._result)},le.prototype._willSettleAt=function(pe,ye){var Ae=this;Q(pe,void 0,function(be){return Ae._settledAt(G,ye,be)},function(be){return Ae._settledAt(H,ye,be)})};var we=le;function le(pe,ye){this._instanceConstructor=pe,this.promise=new pe(k),this.promise[V]||ue(this.promise),_(ye)?(this.length=ye.length,this._remaining=ye.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(ye),this._remaining!==0)||$(this.promise,this._result)):W(this.promise,new Error("Array Methods must be provided an Array"))}ve.prototype.catch=function(pe){return this.then(null,pe)},ve.prototype.finally=function(pe){var ye=this.constructor;return S(pe)?this.then(function(Ae){return ye.resolve(pe()).then(function(){return Ae})},function(Ae){return ye.resolve(pe()).then(function(){throw Ae})}):this.then(pe,pe)};var fe=ve;function ve(pe){if(this[V]=oe++,this._result=this._state=void 0,this._subscribers=[],k!==pe){if(typeof pe!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ve))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var ye=this;try{pe(function(Ae){J(ye,Ae)},function(Ae){W(ye,Ae)})}catch(Ae){W(ye,Ae)}}}return fe.prototype.then=j,fe.all=function(pe){return new we(this,pe).promise},fe.race=function(pe){var ye=this;return _(pe)?new ye(function(Ae,be){for(var ne=pe.length,re=0;re<ne;re++)ye.resolve(pe[re]).then(Ae,be)}):new ye(function(Ae,be){return be(new TypeError("You must pass an array to race."))})},fe.resolve=L,fe.reject=function(pe){var ye=new this(k);return W(ye,pe),ye},fe._setScheduler=function(pe){o=pe},fe._setAsap=function(pe){f=pe},fe._asap=f,fe.polyfill=function(){var pe=void 0;if(m!==void 0)pe=m;else if(typeof self<"u")pe=self;else try{pe=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ye=pe.Promise;if(ye){var Ae=null;try{Ae=Object.prototype.toString.call(ye.resolve())}catch{}if(Ae==="[object Promise]"&&!ye.cast)return}pe.Promise=fe},fe.Promise=fe},typeof b=="object"&&r!==void 0?r.exports=A():p.ES6Promise=A()}).call(this,a("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:256}],248:[function(a,r,b){var h,m;h=this,m=function(p,A){var S=5e3,_="callback";function l(o){try{delete window[o]}catch{window[o]=void 0}}function y(o){o=document.getElementById(o),o&&document.getElementsByTagName("head")[0].removeChild(o)}A.exports=function(o){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],x=o,g=f.timeout||S,D=f.jsonpCallback||_,E=void 0;return new Promise(function(C,T){var O=f.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),I=D+"_"+O,M=(window[O]=function(F){C({ok:!0,json:function(){return Promise.resolve(F)}}),E&&clearTimeout(E),y(I),l(O)},x+=x.indexOf("?")===-1?"?":"&",document.createElement("script"));M.setAttribute("src",""+x+D+"="+O),f.charset&&M.setAttribute("charset",f.charset),M.id=I,document.getElementsByTagName("head")[0].appendChild(M),E=setTimeout(function(){T(new Error("JSONP request to "+o+" timed out")),l(O),y(I),window[O]=function(){l(O)}},g),M.onerror=function(){T(new Error("JSONP request to "+o+" failed")),l(O),y(I),E&&clearTimeout(E)}})}},b!==void 0&&r!==void 0?m(0,r):(m(m={exports:{}},m),h.fetchJsonp=m.exports)},{}],249:[function(a,r,b){var h=function(m){var p,A,S,_,l,y,o,f,x,g,D;if(!(m===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return D=m.document,p=function(){return m.URL||m.webkitURL||m},A=D.createElementNS("http://www.w3.org/1999/xhtml","a"),S="download"in A,_=/constructor/i.test(m.HTMLElement)||m.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent),y=function(E){(m.setImmediate||m.setTimeout)(function(){throw E},0)},o=4e4,f=function(E){setTimeout(function(){typeof E=="string"?p().revokeObjectURL(E):E.remove()},o)},x=function(E){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(E.type)?new Blob([String.fromCharCode(65279),E],{type:E.type}):E},D=(g=function(E,C,F){F||(E=x(E));var O,I,M=this,F=E.type==="application/octet-stream",B=function(){for(var j=M,L="writestart progress write writeend".split(" "),R=void 0,V=(L=[].concat(L)).length;V--;){var k=j["on"+L[V]];if(typeof k=="function")try{k.call(j,R||j)}catch(U){y(U)}}};M.readyState=M.INIT,S?(O=p().createObjectURL(E),setTimeout(function(){var j,L;A.href=O,A.download=C,j=A,L=new MouseEvent("click"),j.dispatchEvent(L),B(),f(O),M.readyState=M.DONE})):(l||F&&_)&&m.FileReader?((I=new FileReader).onloadend=function(){var j=l?I.result:I.result.replace(/^data:[^;]*;/,"data:attachment/file;");m.open(j,"_blank")||(m.location.href=j),j=void 0,M.readyState=M.DONE,B()},I.readAsDataURL(E),M.readyState=M.INIT):(O=O||p().createObjectURL(E),!F&&m.open(O,"_blank")||(m.location.href=O),M.readyState=M.DONE,B(),f(O))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(E,C,T){return C=C||E.name||"download",T||(E=x(E)),navigator.msSaveOrOpenBlob(E,C)}:(D.abort=function(){},D.readyState=D.INIT=0,D.WRITING=1,D.DONE=2,D.error=D.onwritestart=D.onprogress=D.onwrite=D.onabort=D.onerror=D.onwriteend=null,function(E,C,T){return new g(E,C||E.name||"download",T)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);r!==void 0&&r.exports?r.exports.saveAs=h:n!=null},{}],250:[function(a,r,b){var h,m=Object.defineProperty,p=(m(b,"__esModule",{value:!0}),b),A={GIFEncoder:()=>B,applyPalette:()=>function(U,G,H="rgb565"){if(!U||!U.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(U instanceof Uint8Array||U instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<G.length)throw new Error("applyPalette() only works with 256 colors or less");const X=new Uint32Array(U.buffer),Z=X.length,J=H==="rgb444"?4096:65536,ee=new Uint8Array(Z),$=new Array(J);if(H==="rgba4444")for(let ve=0;ve<Z;ve++){var ce=X[ve],W=ce>>24&255,Q=ce>>16&255,te=ce>>8&255,ce=255&ce,oe=f(ce,te,Q,W),oe=oe in $?$[oe]:$[oe]=function(pe,ye,Ae,be,ne){let re=0,de=1e100;for(let Ie=0;Ie<ne.length;Ie++){var Ce,je=ne[Ie],xe=I(je[3]-be);xe>de||(Ce=je[0],(xe+=I(Ce-pe))>de||(Ce=je[1],(xe+=I(Ce-ye))>de||(Ce=je[2],(xe+=I(Ce-Ae))>de||(de=xe,re=Ie))))}return re}(ce,te,Q,W,G);ee[ve]=oe}else{const ve=H==="rgb444"?x:o;for(let pe=0;pe<Z;pe++){var le=X[pe],ue=le>>16&255,we=le>>8&255,le=255&le,fe=ve(le,we,ue),fe=fe in $?$[fe]:$[fe]=function(ye,Ae,be,ne){let re=0,de=1e100;for(let Ie=0;Ie<ne.length;Ie++){var Ce,je=ne[Ie],xe=I(je[0]-ye);xe>de||(Ce=je[1],(xe+=I(Ce-Ae))>de||(Ce=je[2],(xe+=I(Ce-be))>de||(de=xe,re=Ie)))}return re}(le,we,ue,G);ee[pe]=fe}}return ee},default:()=>k,nearestColor:()=>function(U,G,H=T){return U[M(U,G,H)]},nearestColorIndex:()=>M,nearestColorIndexWithDistance:()=>F,prequantize:()=>function(U,{roundRGB:G=5,roundAlpha:H=10,oneBitAlpha:X=null}={}){const Z=new Uint32Array(U.buffer);for(let Q=0;Q<Z.length;Q++){var W=Z[Q];let te=W>>24&255;var J,ee=W>>16&255,$=W>>8&255,W=255&W;te=O(te,H),X&&(J=typeof X=="number"?X:127,te=te<=J?0:255),W=O(W,G),$=O($,G),ee=O(ee,G),Z[Q]=te<<24|ee<<16|$<<8|W<<0}},quantize:()=>function(U,G,H={}){var{format:X="rgb565",clearAlpha:Z=!0,clearAlphaColor:J=0,clearAlphaThreshold:ee=0,oneBitAlpha:$=!1}=H;if(!U||!U.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(U instanceof Uint8Array||U instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");U=new Uint32Array(U.buffer);let W=H.useSqrt!==!1;const Q=X==="rgba4444",te=function(Ne,Be){const $e=Be==="rgb444"?4096:65536,Le=new Array($e),qe=Ne.length;if(Be==="rgba4444")for(let yt=0;yt<qe;++yt){var Me=Ne[yt],ze=Me>>24&255,Ee=Me>>16&255,Se=Me>>8&255,Me=255&Me,me=f(Me,Se,Ee,ze);let bt=me in Le?Le[me]:Le[me]=C();bt.rc+=Me,bt.gc+=Se,bt.bc+=Ee,bt.ac+=ze,bt.cnt++}else if(Be==="rgb444")for(let yt=0;yt<qe;++yt){var rt=Ne[yt],Ve=rt>>16&255,Xe=rt>>8&255,rt=255&rt,lt=x(rt,Xe,Ve);let bt=lt in Le?Le[lt]:Le[lt]=C();bt.rc+=rt,bt.gc+=Xe,bt.bc+=Ve,bt.cnt++}else for(let yt=0;yt<qe;++yt){var dt=Ne[yt],nt=dt>>16&255,it=dt>>8&255,dt=255&dt,ft=o(dt,it,nt);let bt=ft in Le?Le[ft]:Le[ft]=C();bt.rc+=dt,bt.gc+=it,bt.bc+=nt,bt.cnt++}return Le}(U,X),ce=te.length,oe=ce-1,ue=new Uint32Array(ce+1);for(var we=0,le=0;le<ce;++le){const Ne=te[le];Ne!=null&&(je=1/Ne.cnt,Q&&(Ne.ac*=je),Ne.rc*=je,Ne.gc*=je,Ne.bc*=je,te[we++]=Ne)}D(G)/we<.022&&(W=!1);for(var fe,ve,pe,le=0;le<we-1;++le)te[le].fw=le+1,te[le+1].bk=le,W&&(te[le].cnt=Math.sqrt(te[le].cnt));for(W&&(te[le].cnt=Math.sqrt(te[le].cnt)),le=0;le<we;++le){E(te,le,!1);var ye=te[le].err;for(ve=++ue[0];1<ve&&(pe=ve>>1,!(te[fe=ue[pe]].err<=ye));ve=pe)ue[ve]=fe;ue[ve]=le}var Ae,be=we-G;for(le=0;le<be;){for(;;){var ne=ue[1];if((Ae=te[ne]).tm>=Ae.mtm&&te[Ae.nn].mtm<=Ae.tm)break;for(Ae.mtm==oe?ne=ue[1]=ue[ue[0]--]:(E(te,ne,!1),Ae.tm=le),ye=te[ne].err,ve=1;(pe=ve+ve)<=ue[0]&&(pe<ue[0]&&te[ue[pe]].err>te[ue[pe+1]].err&&pe++,!(ye<=te[fe=ue[pe]].err));ve=pe)ue[ve]=fe;ue[ve]=ne}var re=te[Ae.nn],de=Ae.cnt,Ce=re.cnt,je=1/(de+Ce);Q&&(Ae.ac=je*(de*Ae.ac+Ce*re.ac)),Ae.rc=je*(de*Ae.rc+Ce*re.rc),Ae.gc=je*(de*Ae.gc+Ce*re.gc),Ae.bc=je*(de*Ae.bc+Ce*re.bc),Ae.cnt+=re.cnt,Ae.mtm=++le,te[re.bk].fw=re.fw,te[re.fw].bk=re.bk,re.mtm=oe}let xe=[];for(le=0;;0){let Ne=g(Math.round(te[le].rc),0,255),Be=g(Math.round(te[le].gc),0,255),$e=g(Math.round(te[le].bc),0,255),Le=255;Q&&(Le=g(Math.round(te[le].ac),0,255),$&&(Ie=typeof $=="number"?$:127,Le=Le<=Ie?0:255),Z&&Le<=ee&&(Ne=Be=$e=J,Le=0));var Ie=Q?[Ne,Be,$e,Le]:[Ne,Be,$e];if(function(qe,ze){for(let Me=0;Me<qe.length;Me++){var Se=qe[Me],Ee=Se[0]===ze[0]&&Se[1]===ze[1]&&Se[2]===ze[2],Se=!(4<=Se.length&&4<=ze.length)||Se[3]===ze[3];if(Ee&&Se)return!0}return!1}(xe,Ie)||xe.push(Ie),(le=te[le].fw)==0)break}return xe},snapColorsToPalette:()=>function(U,G,H=5){if(U.length&&G.length){var X=U.map(W=>W.slice(0,3)),Z=H*H,J=U[0].length;for(let W=0;W<G.length;W++){let Q=G[W];Q=Q.length<J?[Q[0],Q[1],Q[2],255]:Q.length>J?Q.slice(0,3):Q.slice();var $=F(X,Q.slice(0,3),T),ee=$[0],$=$[1];0<$&&$<=Z&&(U[ee]=Q)}}}};for(h in A)m(p,h,{get:A[h],enumerable:!0});var S={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function _(U=256){let G=0,H=new Uint8Array(U);return{get buffer(){return H.buffer},reset(){G=0},bytesView(){return H.subarray(0,G)},bytes(){return H.slice(0,G)},writeByte(Z){X(G+1),H[G]=Z,G++},writeBytes(Z,J=0,ee=Z.length){X(G+ee);for(let $=0;$<ee;$++)H[G++]=Z[$+J]},writeBytesView(Z,J=0,ee=Z.byteLength){X(G+ee),H.set(Z.subarray(J,J+ee),G),G+=ee}};function X(Z){var J=H.length;if(!(Z<=J)){Z=Math.max(Z,J*(J<1048576?2:1.125)>>>0),J!=0&&(Z=Math.max(Z,256));const ee=H;H=new Uint8Array(Z),0<G&&H.set(ee.subarray(0,G),0)}}}var l=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],y=function(U,G,H,Q,Z=_(512),J=new Uint8Array(256),ee=new Int32Array(5003),$=new Int32Array(5003)){var W=ee.length,Q=Math.max(2,Q);J.fill(0),$.fill(0),ee.fill(-1);let te=0,ce=0;var oe=Q+1;const ue=oe;let we=!1,le=ue,fe=(1<<le)-1;var ve=1<<oe-1;const pe=1+ve;let ye=2+ve,Ae=0,be=H[0],ne=0;for(let Ie=W;Ie<65536;Ie*=2)++ne;ne=8-ne,Z.writeByte(Q),xe(ve);var re=H.length;for(let Ie=1;Ie<re;Ie++)e:{var de=H[Ie],Ce=(de<<12)+be;let Ne=de<<ne^be;if(ee[Ne]===Ce)be=$[Ne];else{for(var je=Ne===0?1:W-Ne;0<=ee[Ne];)if((Ne-=je)<0&&(Ne+=W),ee[Ne]===Ce){be=$[Ne];break e}xe(be),be=de,ye<4096?($[Ne]=ye++,ee[Ne]=Ce):(ee.fill(-1),ye=2+ve,we=!0,xe(ve))}}return xe(be),xe(pe),Z.writeByte(0),Z.bytesView();function xe(Ie){for(te&=l[ce],0<ce?te|=Ie<<ce:te=Ie,ce+=le;8<=ce;)J[Ae++]=255&te,254<=Ae&&(Z.writeByte(Ae),Z.writeBytesView(J,0,Ae),Ae=0),te>>=8,ce-=8;if((ye>fe||we)&&(we?(le=ue,fe=(1<<le)-1,we=!1):(++le,fe=le===12?1<<le:(1<<le)-1)),Ie==pe){for(;0<ce;)J[Ae++]=255&te,254<=Ae&&(Z.writeByte(Ae),Z.writeBytesView(J,0,Ae),Ae=0),te>>=8,ce-=8;0<Ae&&(Z.writeByte(Ae),Z.writeBytesView(J,0,Ae),Ae=0)}}};function o(U,G,H){return U<<8&63488|G<<2&992|H>>3}function f(U,G,H,X){return U>>4|240&G|(240&H)<<4|(240&X)<<8}function x(U,G,H){return U>>4<<8|240&G|H>>4}function g(U,G,H){return U<G?G:H<U?H:U}function D(U){return U*U}function E(U,G,H){var X=0,Z=1e100;const J=U[G];for(var ee=J.cnt,$=J.ac,W=J.rc,Q=J.gc,te=J.bc,ce=J.fw;ce!=0;ce=U[ce].fw){var oe,ue=U[ce],we=ue.cnt,we=ee*we/(ee+we);Z<=we||(oe=0,H&&Z<=(oe+=we*D(ue.ac-$))||Z<=(oe+=we*D(ue.rc-W))||Z<=(oe+=we*D(ue.gc-Q))||Z<=(oe+=we*D(ue.bc-te))||(Z=oe,X=ce))}J.err=Z,J.nn=X}function C(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function T(U,G){for(var H=0,X=0;X<U.length;X++){var Z=U[X]-G[X];H+=Z*Z}return H}function O(U,G){return 1<G?Math.round(U/G)*G:U}function I(U){return U*U}function M(U,G,H=T){let X=1/0,Z=-1;for(let ee=0;ee<U.length;ee++){var J=H(G,U[ee]);J<X&&(X=J,Z=ee)}return Z}function F(U,G,H=T){let X=1/0,Z=-1;for(let ee=0;ee<U.length;ee++){var J=H(G,U[ee]);J<X&&(X=J,Z=ee)}return[Z,X]}function B(U={}){const{initialCapacity:G=4096,auto:H=!0}=U,X=_(G),Z=new Uint8Array(256),J=new Int32Array(5003),ee=new Int32Array(5003);let $=!1;return{reset(){X.reset(),$=!1},finish(){X.writeByte(S.trailer)},bytes(){return X.bytes()},bytesView(){return X.bytesView()},get buffer(){return X.buffer},get stream(){return X},writeHeader:W,writeFrame(Q,te,ce,be={}){var{transparent:ue=!1,transparentIndex:we=0,delay:je=0,palette:le=null,repeat:re=0,colorDepth:fe=8,dispose:ve=-1}=be;let pe=!1;if(H?$||(pe=!0,W(),$=!0):pe=!!be.first,te=Math.max(0,Math.floor(te)),ce=Math.max(0,Math.floor(ce)),pe){if(!le)throw new Error("First frame must include a { palette } option");var[be,de,Ae,Ce,ne=8]=[X,te,ce,le,fe];Ce=V(Ce.length)-1,ne=128|ne-1<<4|Ce,L(be,de),L(be,Ae),be.writeBytes([ne,0,0]),j(X,le),0<=re&&(Ce=X,de=re,Ce.writeByte(33),Ce.writeByte(255),Ce.writeByte(11),R(Ce,"NETSCAPE2.0"),Ce.writeByte(3),Ce.writeByte(1),L(Ce,de),Ce.writeByte(0))}var ye,Ae=Math.round(je/10),be=X,ne=ve,re=Ae,de=ue,Ce=we,je=(be.writeByte(33),be.writeByte(249),be.writeByte(4),Ce<0&&(Ce=0,de=!1),de=de?(ye=1,2):ye=0,0<=ne&&(de=7&ne),de<<=2,be.writeByte(0|de|ye),L(be,re),be.writeByte(Ce||0),be.writeByte(0),!!le&&!pe);ve=X,ue=te,we=ce,ye=je?le:null,ve.writeByte(44),L(ve,0),L(ve,0),L(ve,ue),L(ve,we),ye?(ue=V(ye.length)-1,ve.writeByte(128|ue)):ve.writeByte(0),je&&j(X,le),[re,be,we,ue,ve=8,je,le,Q]=[X,Q,te,ce,fe,Z,J,ee],y(we,ue,be,ve,re,je,le,Q)}};function W(){R(X,"GIF89a")}}function j(U,G){var H=1<<V(G.length);for(let X=0;X<H;X++){let Z=[0,0,0];X<G.length&&(Z=G[X]),U.writeByte(Z[0]),U.writeByte(Z[1]),U.writeByte(Z[2])}}function L(U,G){U.writeByte(255&G),U.writeByte(G>>8&255)}function R(U,G){for(var H=0;H<G.length;H++)U.writeByte(G.charCodeAt(H))}function V(U){return Math.max(Math.ceil(Math.log2(U)),1)}var k=B},{}],251:[function(a,r,b){b.read=function(h,m,p,A,E){var _,l,y=8*E-A-1,o=(1<<y)-1,f=o>>1,x=-7,g=p?E-1:0,D=p?-1:1,E=h[m+g];for(g+=D,_=E&(1<<-x)-1,E>>=-x,x+=y;0<x;_=256*_+h[m+g],g+=D,x-=8);for(l=_&(1<<-x)-1,_>>=-x,x+=A;0<x;l=256*l+h[m+g],g+=D,x-=8);if(_===0)_=1-f;else{if(_===o)return l?NaN:1/0*(E?-1:1);l+=Math.pow(2,A),_-=f}return(E?-1:1)*l*Math.pow(2,_-A)},b.write=function(h,m,p,A,S,C){var l,y,o=8*C-S-1,f=(1<<o)-1,x=f>>1,g=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,D=A?0:C-1,E=A?1:-1,C=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(y=isNaN(m)?1:0,l=f):(l=Math.floor(Math.log(m)/Math.LN2),m*(A=Math.pow(2,-l))<1&&(l--,A*=2),2<=(m+=1<=l+x?g/A:g*Math.pow(2,1-x))*A&&(l++,A/=2),f<=l+x?(y=0,l=f):1<=l+x?(y=(m*A-1)*Math.pow(2,S),l+=x):(y=m*Math.pow(2,x-1)*Math.pow(2,S),l=0));8<=S;h[p+D]=255&y,D+=E,y/=256,S-=8);for(l=l<<S|y,o+=S;0<o;h[p+D]=255&l,D+=E,l/=256,o-=8);h[p+D-E]|=128*C}},{}],252:[function(a,r,b){var h;function m(Ee,Se){return Ee.b===Se.b&&Ee.a===Se.a}function p(Ee,Se){return Ee.b<Se.b||Ee.b===Se.b&&Ee.a<=Se.a}function A(Ee,Se,Me){var me=Se.b-Ee.b,Ve=Me.b-Se.b;return 0<me+Ve?me<Ve?Se.a-Ee.a+me/(me+Ve)*(Ee.a-Me.a):Se.a-Me.a+Ve/(me+Ve)*(Me.a-Ee.a):0}function S(Ee,Se,Me){var me=Se.b-Ee.b,Ve=Me.b-Se.b;return 0<me+Ve?(Se.a-Me.a)*me+(Se.a-Ee.a)*Ve:0}function _(Ee,Se){return Ee.a<Se.a||Ee.a===Se.a&&Ee.b<=Se.b}function l(Ee,Se,Me){var me=Se.a-Ee.a,Ve=Me.a-Se.a;return 0<me+Ve?me<Ve?Se.b-Ee.b+me/(me+Ve)*(Ee.b-Me.b):Se.b-Me.b+Ve/(me+Ve)*(Me.b-Ee.b):0}function y(Ee,Se,Me){var me=Se.a-Ee.a,Ve=Me.a-Se.a;return 0<me+Ve?(Se.b-Me.b)*me+(Se.b-Ee.b)*Ve:0}function o(Ee,Se,Me,me){return(Ee=Ee<0?0:Ee)<=(Me=Me<0?0:Me)?Me===0?(Se+me)/2:Se+Ee/(Ee+Me)*(me-Se):me+Me/(Ee+Me)*(Se-me)}function f(Ee){var Se=C(Ee.b);return O(Se,Ee.c),O(Se.b,Ee.c),I(Se,Ee.a),Se}function x(Ee,Se){var Me=!1,me=!1;Ee!==Se&&(Se.a!==Ee.a&&(me=!0,F(Se.a,Ee.a)),Se.d!==Ee.d&&(Me=!0,B(Se.d,Ee.d)),T(Se,Ee),me||(O(Se,Ee.a),Ee.a.c=Ee),Me||(I(Se,Ee.d),Ee.d.a=Ee))}function g(Ee){var Se=Ee.b,Me=!1;Ee.d!==Ee.b.d&&(Me=!0,B(Ee.d,Ee.b.d)),Ee.c===Ee?F(Ee.a,null):(Ee.b.d.a=Ee.b.e,Ee.a.c=Ee.c,T(Ee,Ee.b.e),Me||I(Ee,Ee.d)),Se.c===Se?(F(Se.a,null),B(Se.d,null)):(Ee.d.a=Se.b.e,Se.a.c=Se.c,T(Se,Se.b.e)),M(Ee)}function D(Ee){var Se=C(Ee),Me=Se.b;return T(Se,Ee.e),Se.a=Ee.b.a,O(Me,Se.a),Se.d=Me.d=Ee.d,Se=Se.b,T(Ee.b,Ee.b.b.e),T(Ee.b,Se),Ee.b.a=Se.a,Se.b.a.c=Se.b,Se.b.d=Ee.b.d,Se.f=Ee.f,Se.b.f=Ee.b.f,Se}function E(Ee,Se){var Me=!1,me=C(Ee),Ve=me.b;return Se.d!==Ee.d&&(Me=!0,B(Se.d,Ee.d)),T(me,Ee.e),T(Ve,Se),me.a=Ee.b.a,Ve.a=Se.a,me.d=Ve.d=Ee.d,Ee.d.a=Ve,Me||I(me,Ee.d),me}function C(Ee){var Se=new Ae,Me=new Ae,me=Ee.b.h;return(((Me.h=me).b.h=Se).h=Ee).b.h=Me,Se.b=Me,((Se.c=Se).e=Me).b=Se,(Me.c=Me).e=Se}function T(Ee,Se){var Me=Ee.c,me=Se.c;Me.b.e=Se,(me.b.e=Ee).c=me,Se.c=Me}function O(Ee,Se){var Me=Se.f,me=new ne(Se,Me);for(Me.e=me,Me=(Se.f=me).c=Ee;Me.a=me,(Me=Me.c)!==Ee;);}function I(Ee,Se){var Me=Se.d,me=new ye(Se,Me);for(Me.b=me,(Se.d=me).a=Ee,me.c=Se.c,Me=Ee;Me.d=me,(Me=Me.e)!==Ee;);}function M(Ee){var Se=Ee.h;Ee=Ee.b.h,(Se.b.h=Ee).b.h=Se}function F(Ee,Se){for(var Me=Ee.c,me=Me;me.a=Se,(me=me.c)!==Me;);Me=Ee.f,((me=Ee.e).f=Me).e=me}function B(Ee,Se){for(var Me=Ee.a,me=Me;me.d=Se,(me=me.e)!==Me;);Me=Ee.d,((me=Ee.b).d=Me).b=me}function j(Ee){var Se=0;return Math.abs(Ee[1])>Math.abs(Ee[0])&&(Se=1),Se=Math.abs(Ee[2])>Math.abs(Ee[Se])?2:Se}function L(Ee,Se){Ee.f+=Se.f,Ee.b.f+=Se.b.f}function R(Ee,Se,Me){return Ee=Ee.a,Se=Se.a,Me=Me.a,Se.b.a===Ee?Me.b.a===Ee?p(Se.a,Me.a)?S(Me.b.a,Se.a,Me.a)<=0:0<=S(Se.b.a,Me.a,Se.a):S(Me.b.a,Ee,Me.a)<=0:Me.b.a===Ee?0<=S(Se.b.a,Ee,Se.a):(Se=A(Se.b.a,Ee,Se.a),(Ee=A(Me.b.a,Ee,Me.a))<=Se)}function V(Ee){Ee.a.i=null;var Se=Ee.e;Se.a.c=Se.c,Se.c.a=Se.a,Ee.e=null}function k(Ee,Se){g(Ee.a),Ee.c=!1,(Ee.a=Se).i=Ee}function U(Ee){for(var Se=Ee.a.a;(Ee=ze(Ee)).a.a===Se;);return Ee.c&&(k(Ee,Se=E(qe(Ee).a.b,Ee.a.e)),Ee=ze(Ee)),Ee}function G(Ee,Se,Me){var me=new Le;return me.a=Me,me.e=we(Ee.f,Se.e,me),Me.i=me}function H(Ee,Se){switch(Ee.s){case 100130:return(1&Se)!=0;case 100131:return Se!==0;case 100132:return 0<Se;case 100133:return Se<0;case 100134:return 2<=Se||Se<=-2}return!1}function X(Ee){var Se=Ee.a,Me=Se.d;Me.c=Ee.d,Me.a=Se,V(Ee)}function Z(Ee,Se,Me){for(Se=(Ee=Se).a;Ee!==Me;){Ee.c=!1;var me=qe(Ee),Ve=me.a;if(Ve.a!==Se.a){if(!me.c){X(Ee);break}k(me,Ve=E(Se.c.b,Ve.b))}Se.c!==Ve&&(x(Ve.b.e,Ve),x(Se,Ve)),X(Ee),Se=me.a,Ee=me}return Se}function J(Ee,Se,Me,me,Ve,Xe){for(var rt=!0;G(Ee,Se,Me.b),(Me=Me.c)!==me;);for(Ve===null&&(Ve=qe(Se).a.b.c);(Me=(me=qe(Se)).a.b).a===Ve.a;)Me.c!==Ve&&(x(Me.b.e,Me),x(Ve.b.e,Me)),me.f=Se.f-Me.f,me.d=H(Ee,me.f),Se.b=!0,!rt&&Q(Ee,Se)&&(L(Me,Ve),V(Se),g(Ve)),rt=!1,Se=me,Ve=Me;Se.b=!0,Xe&&ce(Ee,Se)}function ee(Ee,Se,Me,me,Ve){var Xe=[Se.g[0],Se.g[1],Se.g[2]];Se.d=null,Se.d=Ee.o&&Ee.o(Xe,Me,me,Ee.c)||null,Se.d===null&&(Ve?Ee.n||(pe(Ee,100156),Ee.n=!0):Se.d=Me[0])}function $(Ee,Se,Me){var me=[null,null,null,null];me[0]=Se.a.d,me[1]=Me.a.d,ee(Ee,Se.a,me,[.5,.5,0,0],!1),x(Se,Me)}function W(Ee,Se,Me,me,Ve){var Xe=Math.abs(Se.b-Ee.b)+Math.abs(Se.a-Ee.a),rt=Math.abs(Me.b-Ee.b)+Math.abs(Me.a-Ee.a),lt=Ve+1;me[Ve]=.5*rt/(Xe+rt),me[lt]=.5*Xe/(Xe+rt),Ee.g[0]+=me[Ve]*Se.g[0]+me[lt]*Me.g[0],Ee.g[1]+=me[Ve]*Se.g[1]+me[lt]*Me.g[1],Ee.g[2]+=me[Ve]*Se.g[2]+me[lt]*Me.g[2]}function Q(Ee,Se){var Me=qe(Se),me=Se.a,Ve=Me.a;if(p(me.a,Ve.a)){if(0<S(Ve.b.a,me.a,Ve.a))return;if(m(me.a,Ve.a)){if(me.a!==Ve.a){var Me=Ee.e,Xe=me.a.h;if(0<=Xe){var rt=(Me=Me.b).d,lt=Me.e,nt=Me.c,it=nt[Xe];rt[it]=rt[Me.a],(nt[rt[it]]=it)<=--Me.a&&(it<=1||p(lt[rt[it>>1]],lt[rt[it]])?Be:$e)(Me,it),lt[Xe]=null,nt[Xe]=Me.b,Me.b=Xe}else for(Me.c[-(Xe+1)]=null;0<Me.a&&Me.c[Me.d[Me.a-1]]===null;)--Me.a;$(Ee,Ve.b.e,me)}}else D(Ve.b),x(me,Ve.b.e),Se.b=Me.b=!0}else{if(S(me.b.a,Ve.a,me.a)<0)return;ze(Se).b=Se.b=!0,D(me.b),x(Ve.b.e,me)}return 1}function te(Ee,Se){var Me=qe(Se),me=Se.a,Ve=Me.a,Xe=me.a,rt=Ve.a,lt=me.b.a,nt=Ve.b.a,it=new ne;if(S(lt,Ee.a,Xe),S(nt,Ee.a,rt),!(Xe===rt||Math.min(Xe.a,lt.a)>Math.max(rt.a,nt.a))){if(p(Xe,rt)){if(0<S(nt,Xe,rt))return}else if(S(lt,rt,Xe)<0)return;var dt,ft,yt=lt,bt=Xe,wt=nt,xt=rt;if(p(yt,bt)||(dt=yt,yt=bt,bt=dt),p(wt,xt)||(dt=wt,wt=xt,xt=dt),p(yt,wt)||(dt=yt,yt=wt,wt=dt,dt=bt,bt=xt,xt=dt),p(wt,bt)?p(bt,xt)?((dt=A(yt,wt,bt))+(ft=A(wt,bt,xt))<0&&(dt=-dt,ft=-ft),it.b=o(dt,wt.b,ft,bt.b)):((dt=S(yt,wt,bt))+(ft=-S(yt,xt,bt))<0&&(dt=-dt,ft=-ft),it.b=o(dt,wt.b,ft,xt.b)):it.b=(wt.b+bt.b)/2,_(yt,bt)||(dt=yt,yt=bt,bt=dt),_(wt,xt)||(dt=wt,wt=xt,xt=dt),_(yt,wt)||(dt=yt,yt=wt,wt=dt,dt=bt,bt=xt,xt=dt),_(wt,bt)?_(bt,xt)?((dt=l(yt,wt,bt))+(ft=l(wt,bt,xt))<0&&(dt=-dt,ft=-ft),it.a=o(dt,wt.a,ft,bt.a)):((dt=y(yt,wt,bt))+(ft=-y(yt,xt,bt))<0&&(dt=-dt,ft=-ft),it.a=o(dt,wt.a,ft,xt.a)):it.a=(wt.a+bt.a)/2,p(it,Ee.a)&&(it.b=Ee.a.b,it.a=Ee.a.a),yt=p(Xe,rt)?Xe:rt,p(yt,it)&&(it.b=yt.b,it.a=yt.a),m(it,Xe)||m(it,rt))return Q(Ee,Se),0;if(!m(lt,Ee.a)&&0<=S(lt,Ee.a,it)||!m(nt,Ee.a)&&S(nt,Ee.a,it)<=0){if(nt===Ee.a)D(me.b),x(Ve.b,me),me=qe(Se=U(Se)).a,Z(Ee,qe(Se),Me),J(Ee,Se,me.b.e,me,me,!0);else{if(lt!==Ee.a)return 0<=S(lt,Ee.a,it)&&(ze(Se).b=Se.b=!0,D(me.b),me.a.b=Ee.a.b,me.a.a=Ee.a.a),void(S(nt,Ee.a,it)<=0&&(Se.b=Me.b=!0,D(Ve.b),Ve.a.b=Ee.a.b,Ve.a.a=Ee.a.a));for(D(Ve.b),x(me.e,Ve.b.e),rt=(Xe=Me=Se).a.b.a;(Xe=ze(Xe)).a.b.a===rt;);Xe=qe(Se=Xe).a.b.c,Me.a=Ve.b.e,J(Ee,Se,(Ve=Z(Ee,Me,null)).c,me.b.c,Xe,!0)}return 1}D(me.b),D(Ve.b),x(Ve.b.e,me),me.a.b=it.b,me.a.a=it.a,me.a.h=de(Ee.e,me.a),me=me.a,Ve=[0,0,0,0],it=[Xe.d,lt.d,rt.d,nt.d],me.g[0]=me.g[1]=me.g[2]=0,W(me,Xe,lt,Ve,0),W(me,rt,nt,Ve,2),ee(Ee,me,it,Ve,!0),ze(Se).b=Se.b=Me.b=!0}}function ce(Ee,Se){for(var Me=qe(Se);;){for(;Me.b;)Me=qe(Se=Me);if(!Se.b&&((Se=ze(Me=Se))===null||!Se.b))break;Se.b=!1;var me=Se.a,Ve=Me.a;if(Xe=me.b.a!==Ve.b.a)e:{var Xe,rt=qe(Xe=Se),lt=Xe.a,nt=rt.a,it=void 0;if(p(lt.b.a,nt.b.a)){if(S(lt.b.a,nt.b.a,lt.a)<0){Xe=!1;break e}ze(Xe).b=Xe.b=!0,it=D(lt),x(nt.b,it),it.d.c=Xe.d}else{if(0<S(nt.b.a,lt.b.a,nt.a)){Xe=!1;break e}Xe.b=rt.b=!0,it=D(nt),x(lt.e,nt.b),it.b.d.c=Xe.d}Xe=!0}if(Xe&&(Me.c?(V(Me),g(Ve),Ve=(Me=qe(Se)).a):Se.c&&(V(Se),g(me),me=(Se=ze(Me)).a)),me.a!==Ve.a){if(me.b.a===Ve.b.a||Se.c||Me.c||me.b.a!==Ee.a&&Ve.b.a!==Ee.a)Q(Ee,Se);else if(te(Ee,Se))break}me.a===Ve.a&&me.b.a===Ve.b.a&&(L(Ve,me),V(Se),g(me),Se=ze(Me))}}function oe(Ee,Se){var Me=new Le,me=f(Ee.b);me.a.b=4e150,me.a.a=Se,me.b.a.b=-4e150,me.b.a.a=Se,Ee.a=me.b.a,Me.a=me,Me.f=0,Me.d=!1,Me.c=!1,Me.h=!0,Me.b=!1,me=we(me=Ee.f,me.a,Me),Me.e=me}function ue(Ee){this.a=new le,this.b=Ee,this.c=R}function we(Ee,Se,Me){for(;(Se=Se.c).b!==null&&!Ee.c(Ee.b,Se.b,Me););return Ee=new le(Me,Se.a,Se),Se.a.c=Ee,Se.a=Ee}function le(Ee,Se,Me){this.b=Ee||null,this.a=Se||this,this.c=Me||this}function fe(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ve(Ee,Se){if(Ee.d!==Se)for(;Ee.d!==Se;)if(Ee.d<Se)switch(Ee.d){case 0:pe(Ee,100151),Ee.u(null);break;case 1:pe(Ee,100152),Ee.t()}else switch(Ee.d){case 2:pe(Ee,100154),Ee.v();break;case 1:pe(Ee,100153),Ee.w()}}function pe(Ee,Se){Ee.p&&Ee.p(Se,Ee.c)}function ye(Ee,Se){this.b=Ee||this,this.d=Se||this,this.a=null,this.c=!1}function Ae(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function be(){this.c=new ne,this.a=new ye,this.b=new Ae,this.d=new Ae,this.b.b=this.d,this.d.b=this.b}function ne(Ee,Se){this.e=Ee||this,this.f=Se||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function re(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new je}function de(Ee,Se){var Me,me,Ve;return Ee.e?(2*(me=++(Me=Ee.b).a)>Me.f&&(Me.f*=2,Me.c=xe(Me.c,Me.f+1)),Me.b===0?Ve=me:(Ve=Me.b,Me.b=Me.c[Me.b]),Me.e[Ve]=Se,Me.c[Ve]=me,Me.d[me]=Ve,Me.h&&$e(Me,me),Ve):(Me=Ee.a++,Ee.c[Me]=Se,-(Me+1))}function Ce(Ee){if(Ee.a===0)return Ne(Ee.b);var Se=Ee.c[Ee.d[Ee.a-1]];if(Ee.b.a!==0&&p(Ie(Ee.b),Se))return Ne(Ee.b);for(;--Ee.a,0<Ee.a&&Ee.c[Ee.d[Ee.a-1]]===null;);return Se}function je(){this.d=xe([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function xe(Ee,Se){for(var Me=Array(Se),me=0;me<Ee.length;me++)Me[me]=Ee[me];for(;me<Se;me++)Me[me]=0;return Me}function Ie(Ee){return Ee.e[Ee.d[1]]}function Ne(Ee){var Se=Ee.d,Me=Ee.e,me=Ee.c,Ve=Se[1],Xe=Me[Ve];return 0<Ee.a&&(Se[1]=Se[Ee.a],me[Se[1]]=1,Me[Ve]=null,me[Ve]=Ee.b,Ee.b=Ve,0<--Ee.a&&Be(Ee,1)),Xe}function Be(Ee,Se){for(var Me=Ee.d,me=Ee.e,Ve=Ee.c,Xe=Se,rt=Me[Xe];;){var lt=Xe<<1,nt=(lt<Ee.a&&p(me[Me[lt+1]],me[Me[lt]])&&(lt+=1),Me[lt]);if(lt>Ee.a||p(me[rt],me[nt])){Ve[Me[Xe]=rt]=Xe;break}Ve[Me[Xe]=nt]=Xe,Xe=lt}}function $e(Ee,Se){for(var Me=Ee.d,me=Ee.e,Ve=Ee.c,Xe=Se,rt=Me[Xe];;){var lt=Xe>>1,nt=Me[lt];if(lt==0||p(me[nt],me[rt])){Ve[Me[Xe]=rt]=Xe;break}Ve[Me[Xe]=nt]=Xe,Xe=lt}}function Le(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function qe(Ee){return Ee.e.c.b}function ze(Ee){return Ee.e.a.b}(h=fe.prototype).x=function(){ve(this,0)},h.B=function(Ee,Se){switch(Ee){case 100142:return;case 100140:switch(Se){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=Se)}break;case 100141:return void(this.m=!!Se);default:return void pe(this,100900)}pe(this,100901)},h.y=function(Ee){switch(Ee){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:pe(this,100900)}return!1},h.A=function(Ee,Se,Me){this.j[0]=Ee,this.j[1]=Se,this.j[2]=Me},h.z=function(Ee,Se){var Me=Se||null;switch(Ee){case 100100:case 100106:this.h=Me;break;case 100104:case 100110:this.l=Me;break;case 100101:case 100107:this.k=Me;break;case 100102:case 100108:this.i=Me;break;case 100103:case 100109:this.p=Me;break;case 100105:case 100111:this.o=Me;break;case 100112:this.r=Me;break;default:pe(this,100900)}},h.C=function(Ee,Se){var Me=!1,me=[0,0,0];ve(this,2);for(var Ve=0;Ve<3;++Ve){var Xe=Ee[Ve];Xe<-1e150&&(Xe=-1e150,Me=!0),1e150<Xe&&(Xe=1e150,Me=!0),me[Ve]=Xe}Me&&pe(this,100155),(Me=this.q)===null?x(Me=f(this.b),Me.b):(D(Me),Me=Me.e),Me.a.d=Se,Me.a.g[0]=me[0],Me.a.g[1]=me[1],Me.a.g[2]=me[2],Me.f=1,Me.b.f=-1,this.q=Me},h.u=function(Ee){ve(this,0),this.d=1,this.b=new be,this.c=Ee},h.t=function(){ve(this,1),this.d=2,this.q=null},h.v=function(){ve(this,2),this.d=1},h.w=function(){ve(this,1),this.d=0;var Ee,Se,Me=this.j[0],me=this.j[1],Ve=this.j[2],Xe=!1,rt=[Me,me,Ve];if(Me===0&&me===0&&Ve===0){for(var me=[-2e150,-2e150,-2e150],lt=[2e150,2e150,2e150],Ve=[],nt=[],Me=(Xe=this.b.c).e;Me!==Xe;Me=Me.e)for(var it=0;it<3;++it){var dt=Me.g[it];dt<lt[it]&&(lt[it]=dt,nt[it]=Me),dt>me[it]&&(me[it]=dt,Ve[it]=Me)}if(me[1]-lt[1]>me[Me=0]-lt[0]&&(Me=1),lt[Me=me[2]-lt[2]>me[Me]-lt[Me]?2:Me]>=me[Me])rt[0]=0,rt[1]=0,rt[2]=1;else{for(lt=nt[Me],Ve=Ve[Me],nt=[me=0,0,0],lt=[lt.g[0]-Ve.g[0],lt.g[1]-Ve.g[1],lt.g[2]-Ve.g[2]],it=[0,0,0],Me=Xe.e;Me!==Xe;Me=Me.e)it[0]=Me.g[0]-Ve.g[0],it[1]=Me.g[1]-Ve.g[1],it[2]=Me.g[2]-Ve.g[2],nt[0]=lt[1]*it[2]-lt[2]*it[1],nt[1]=lt[2]*it[0]-lt[0]*it[2],nt[2]=lt[0]*it[1]-lt[1]*it[0],me<(dt=nt[0]*nt[0]+nt[1]*nt[1]+nt[2]*nt[2])&&(me=dt,rt[0]=nt[0],rt[1]=nt[1],rt[2]=nt[2]);me<=0&&(rt[0]=rt[1]=rt[2]=0,rt[j(lt)]=1)}Xe=!0}for(nt=j(rt),Me=this.b.c,me=(nt+1)%3,Ve=(nt+2)%3,nt=0<rt[nt]?1:-1,rt=Me.e;rt!==Me;rt=rt.e)rt.b=rt.g[me],rt.a=nt*rt.g[Ve];if(Xe){for(rt=0,Me=(Xe=this.b.a).b;Me!==Xe;Me=Me.b)if(!((me=Me.a).f<=0))for(;rt+=(me.a.b-me.b.a.b)*(me.a.a+me.b.a.a),(me=me.e)!==Me.a;);if(rt<0)for(Xe=(rt=this.b.c).e;Xe!==rt;Xe=Xe.e)Xe.a=-Xe.a}for(this.n=!1,rt=this.b.b,Me=rt.h;Me!==rt;Me=Xe)Xe=Me.h,me=Me.e,m(Me.a,Me.b.a)&&Me.e.e!==Me&&($(this,me,Me),g(Me),me=(Me=me).e),me.e===Me&&(me!==Me&&(me!==Xe&&me!==Xe.b||(Xe=Xe.h),g(me)),Me!==Xe&&Me!==Xe.b||(Xe=Xe.h),g(Me));for(this.e=rt=new re,Xe=this.b.c,Me=Xe.e;Me!==Xe;Me=Me.e)Me.h=de(rt,Me);var ft=rt;ft.d=[];for(var yt=0;yt<ft.a;yt++)ft.d[yt]=yt;ft.d.sort(function(xt){return function(Tt,kt){return p(xt[Tt],xt[kt])?1:-1}}(ft.c)),ft.e=!0;for(var bt=ft.b,wt=bt.a;1<=wt;--wt)Be(bt,wt);for(bt.h=!0,this.f=new ue(this),oe(this,-4e150),oe(this,4e150);(rt=Ce(this.e))!==null;){for(;;){e:if((Me=this.e).a===0)Xe=Ie(Me.b);else if(Xe=Me.c[Me.d[Me.a-1]],Me.b.a!==0&&p(Me=Ie(Me.b),Xe)){Xe=Me;break e}if(Xe===null||!m(Xe,rt))break;Xe=Ce(this.e),$(this,rt.c,Xe.c)}(function xt(Tt,kt){for(var Mt,Ot=(Tt.a=kt).c;Ot.i===null;)if((Ot=Ot.c)===kt.c){var Ot=Tt,Lt=kt;(Rt=new Le).a=Lt.c.b;for(var Ht=(Ft=Ot.f).a;(Ht=Ht.a).b!==null&&!Ft.c(Ft.b,Rt,Ht.b););var Ft,Pt,It=qe(Ft=Ht.b),Rt=Ft.a,Ht=It.a;return void(S(Rt.b.a,Lt,Rt.a)===0?m((Rt=Ft.a).a,Lt)||m(Rt.b.a,Lt)||(D(Rt.b),Ft.c&&(g(Rt.c),Ft.c=!1),x(Lt.c,Rt),xt(Ot,Lt)):(Pt=p(Ht.b.a,Rt.b.a)?Ft:It,It=void 0,Ft.d||Pt.c?(It=Pt===Ft?E(Lt.c.b,Rt.e):E(Ht.b.c.b,Lt.c).b,Pt.c?k(Pt,It):((Ft=G(Rt=Ot,Ft,It)).f=ze(Ft).f+Ft.a.f,Ft.d=H(Rt,Ft.f)),xt(Ot,Lt)):J(Ot,Ft,Lt.c,Lt.c,null,!0)))}Ft=(Rt=qe(Ot=U(Ot.i))).a,(Rt=Z(Tt,Rt,null)).c===Ft?(Rt=(Ft=Rt).c,Ht=qe(Ot),It=Ot.a,Pt=Ht.a,Mt=!1,It.b.a!==Pt.b.a&&te(Tt,Ot),m(It.a,Tt.a)&&(x(Rt.b.e,It),Rt=qe(Ot=U(Ot)).a,Z(Tt,qe(Ot),Ht),Mt=!0),m(Pt.a,Tt.a)&&(x(Ft,Pt.b.e),Ft=Z(Tt,Ht,null),Mt=!0),Mt?J(Tt,Ot,Ft.c,Rt,Rt,!0):(Lt=p(Pt.a,It.a)?Pt.b.e:It,J(Tt,Ot,Lt=E(Ft.c.b,Lt),Lt.c,Lt.c,!1),Lt.b.i.c=!0,ce(Tt,Ot))):J(Tt,Ot,Rt.c,Ft,Ft,!0)})(this,rt)}for(this.a=this.f.a.a.b.a.a,rt=0;(Xe=this.f.a.a.b)!==null;)Xe.h||++rt,V(Xe);for(this.f=null,(rt=this.e).b=null,rt.d=null,this.e=rt.c=null,rt=this.b,Me=rt.a.b;Me!==rt.a;Me=Xe)Xe=Me.b,(Me=Me.a).e.e===Me&&(L(Me.c,Me),g(Me));if(!this.n){if(rt=this.b,this.m)for(Me=rt.b.h;Me!==rt.b;Me=Xe)Xe=Me.h,Me.b.d.c!==Me.d.c?Me.f=Me.d.c?1:-1:g(Me);else for(Me=rt.a.b;Me!==rt.a;Me=Xe)if(Xe=Me.b,Me.c){for(Me=Me.a;p(Me.b.a,Me.a);Me=Me.c.b);for(;p(Me.a,Me.b.a);Me=Me.e);for(me=Me.c.b,Ve=void 0;Me.e!==me;)if(p(Me.b.a,me.a)){for(;me.e!==Me&&(p((Se=me.e).b.a,Se.a)||S(me.a,me.b.a,me.e.b.a)<=0);)me=(Ve=E(me.e,me)).b;me=me.c.b}else{for(;me.e!==Me&&(p((Ee=Me.c.b).a,Ee.b.a)||0<=S(Me.b.a,Me.a,Me.c.b.a));)Me=(Ve=E(Me,Me.c.b)).b;Me=Me.e}for(;me.e.e!==Me;)Ve=E(me.e,me),me=Ve.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Xe=(rt=this.b).a.b;Xe!==rt.a;Xe=Xe.b)if(Xe.c){for(this.h&&this.h(2,this.c),Me=Xe.a;this.k&&this.k(Me.a.d,this.c),(Me=Me.e)!==Xe.a;);this.i&&this.i(this.c)}}else{for(rt=this.b,Xe=!!this.l,Me=!1,me=-1,Ve=rt.a.d;Ve!==rt.a;Ve=Ve.d)if(Ve.c)for(Me||(this.h&&this.h(4,this.c),Me=!0),nt=Ve.a;Xe&&(lt=nt.b.d.c?0:1,me!==lt&&(me=lt,this.l&&this.l(!!me,this.c))),this.k&&this.k(nt.a.d,this.c),(nt=nt.e)!==Ve.a;);Me&&this.i&&this.i(this.c)}if(this.r){for(rt=this.b,Me=rt.a.b;Me!==rt.a;Me=Xe)if(Xe=Me.b,!Me.c){for(Ve=(me=Me.a).e,nt=void 0;Ve=(nt=Ve).e,(nt.d=null)===nt.b.d&&(nt.c===nt?F(nt.a,null):(nt.a.c=nt.c,T(nt,nt.b.e)),(lt=nt.b).c===lt?F(lt.a,null):(lt.a.c=lt.c,T(lt,lt.b.e)),M(nt)),nt!==me;);me=Me.d,((Me=Me.b).d=me).b=Me}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:fe,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},fe.prototype.gluDeleteTess=fe.prototype.x,fe.prototype.gluTessProperty=fe.prototype.B,fe.prototype.gluGetTessProperty=fe.prototype.y,fe.prototype.gluTessNormal=fe.prototype.A,fe.prototype.gluTessCallback=fe.prototype.z,fe.prototype.gluTessVertex=fe.prototype.C,fe.prototype.gluTessBeginPolygon=fe.prototype.u,fe.prototype.gluTessBeginContour=fe.prototype.t,fe.prototype.gluTessEndContour=fe.prototype.v,fe.prototype.gluTessEndPolygon=fe.prototype.w,r!==void 0&&(r.exports=this.libtess)},{}],253:[function(a,r,b){function h(p,A,S,_){var l=0,y=(_=_===void 0?{}:_).loop===void 0?null:_.loop,o=_.palette===void 0?null:_.palette;if(A<=0||S<=0||65535<A||65535<S)throw new Error("Width/Height invalid.");function f(I){if(I=I.length,I<2||256<I||I&I-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return I}p[l++]=71,p[l++]=73,p[l++]=70,p[l++]=56,p[l++]=57,p[l++]=97;var x=0,g=0;if(o!==null){for(var D=f(o);D>>=1;)++x;if(D=1<<x,--x,_.background!==void 0){if(D<=(g=_.background))throw new Error("Background index out of range.");if(g===0)throw new Error("Background index explicitly passed as 0.")}}if(p[l++]=255&A,p[l++]=A>>8&255,p[l++]=255&S,p[l++]=S>>8&255,p[l++]=(o!==null?128:0)|x,p[l++]=g,p[l++]=0,o!==null)for(var E=0,C=o.length;E<C;++E){var T=o[E];p[l++]=T>>16&255,p[l++]=T>>8&255,p[l++]=255&T}if(y!==null){if(y<0||65535<y)throw new Error("Loop count invalid.");p[l++]=33,p[l++]=255,p[l++]=11,p[l++]=78,p[l++]=69,p[l++]=84,p[l++]=83,p[l++]=67,p[l++]=65,p[l++]=80,p[l++]=69,p[l++]=50,p[l++]=46,p[l++]=48,p[l++]=3,p[l++]=1,p[l++]=255&y,p[l++]=y>>8&255,p[l++]=0}var O=!1;this.addFrame=function(I,M,F,B,j,L){if(O===!0&&(--l,O=!1),L=L===void 0?{}:L,I<0||M<0||65535<I||65535<M)throw new Error("x/y invalid.");if(F<=0||B<=0||65535<F||65535<B)throw new Error("Width/Height invalid.");if(j.length<F*B)throw new Error("Not enough pixels for the frame size.");var R=!0,V=L.palette;if(V==null&&(R=!1,V=o),V==null)throw new Error("Must supply either a local or global palette.");for(var U=f(V),k=0;U>>=1;)++k;var U=1<<k,G=L.delay===void 0?0:L.delay,H=L.disposal===void 0?0:L.disposal;if(H<0||3<H)throw new Error("Disposal out of range.");var X=!1,Z=0;if(L.transparent!==void 0&&L.transparent!==null&&(X=!0,(Z=L.transparent)<0||U<=Z))throw new Error("Transparent color index.");if(H===0&&!X&&G===0||(p[l++]=33,p[l++]=249,p[l++]=4,p[l++]=H<<2|(X===!0?1:0),p[l++]=255&G,p[l++]=G>>8&255,p[l++]=Z,p[l++]=0),p[l++]=44,p[l++]=255&I,p[l++]=I>>8&255,p[l++]=255&M,p[l++]=M>>8&255,p[l++]=255&F,p[l++]=F>>8&255,p[l++]=255&B,p[l++]=B>>8&255,p[l++]=R===!0?128|k-1:0,R===!0)for(var J=0,ee=V.length;J<ee;++J){var $=V[J];p[l++]=$>>16&255,p[l++]=$>>8&255,p[l++]=255&$}return l=function(W,Q,te,ce){W[Q++]=te;var oe=Q++,ue=1<<te,we=ue-1,le=1+ue,fe=1+le,ve=te+1,pe=0,ye=0;function Ae(Ne){for(;Ne<=pe;)W[Q++]=255&ye,ye>>=8,pe-=8,Q===oe+256&&(W[oe]=255,oe=Q++)}function be(Ne){ye|=Ne<<pe,pe+=ve,Ae(8)}var ne=ce[0]&we,re={};be(ue);for(var de=1,Ce=ce.length;de<Ce;++de){var je=ce[de]&we,xe=ne<<8|je,Ie=re[xe];if(Ie===void 0){for(ye|=ne<<pe,pe+=ve;8<=pe;)W[Q++]=255&ye,ye>>=8,pe-=8,Q===oe+256&&(W[oe]=255,oe=Q++);fe===4096?(be(ue),fe=1+le,ve=te+1,re={}):(1<<ve<=fe&&++ve,re[xe]=fe++),ne=je}else ne=Ie}return be(ne),be(le),Ae(1),oe+1===Q?W[oe]=0:(W[oe]=Q-oe-1,W[Q++]=0),Q}(p,l,k<2?2:k,j)},this.end=function(){return O===!1&&(p[l++]=59,O=!0),l},this.getOutputBuffer=function(){return p},this.setOutputBuffer=function(I){p=I},this.getOutputBufferPosition=function(){return l},this.setOutputBufferPosition=function(I){l=I}}function m(p,A,S,_){for(var l=p[A++],y=1<<l,o=1+y,f=1+o,x=l+1,g=(1<<x)-1,D=0,E=0,C=0,T=p[A++],O=new Int32Array(4096),I=null;;){for(;D<16&&T!==0;)E|=p[A++]<<D,D+=8,T===1?T=p[A++]:--T;if(D<x)break;var M=E&g;if(E>>=x,D-=x,M==y)f=1+o,g=(1<<(x=l+1))-1,I=null;else{if(M==o)break;for(var F=M<f?M:I,B=0,j=F;y<j;)j=O[j]>>8,++B;var L=j;if(_<C+B+(F!==M?1:0))return void console.log("Warning, gif stream longer than expected.");S[C++]=L;var R=C+=B;for(F!==M&&(S[C++]=L),j=F;B--;)j=O[j],S[--R]=255&j,j>>=8;I!==null&&f<4096&&(O[f++]=I<<8|L,g+1<=f&&x<12&&(++x,g=g<<1|1)),I=M}}C!==_&&console.log("Warning, gif stream shorter than expected.")}try{b.GifWriter=h,b.GifReader=function(p){var A=0;if(p[A++]!==71||p[A++]!==73||p[A++]!==70||p[A++]!==56||(p[A++]+1&253)!=56||p[A++]!==97)throw new Error("Invalid GIF 87a/89a header.");var S=p[A++]|p[A++]<<8,_=p[A++]|p[A++]<<8,l=p[A++],y=1<<1+(7&l),o=(p[A++],p[A++],null),f=null,x=(l>>7&&(o=A,A+=3*(f=y)),!0),g=[],D=0,E=null,C=0,T=null;for(this.width=S,this.height=_;x&&A<p.length;)switch(p[A++]){case 33:switch(p[A++]){case 255:if(p[A]!==11||p[A+1]==78&&p[A+2]==69&&p[A+3]==84&&p[A+4]==83&&p[A+5]==67&&p[A+6]==65&&p[A+7]==80&&p[A+8]==69&&p[A+9]==50&&p[A+10]==46&&p[A+11]==48&&p[A+12]==3&&p[A+13]==1&&p[A+16]==0)A+=14,T=p[A++]|p[A++]<<8,A++;else for(A+=12;;){if(!(0<=(I=p[A++])))throw Error("Invalid block size");if(I===0)break;A+=I}break;case 249:if(p[A++]!==4||p[A+4]!==0)throw new Error("Invalid graphics extension block.");var O=p[A++],D=p[A++]|p[A++]<<8,E=p[A++];!(1&O)&&(E=null),C=O>>2&7,A++;break;case 254:for(;;){if(!(0<=(I=p[A++])))throw Error("Invalid block size");if(I===0)break;A+=I}break;default:throw new Error("Unknown graphic control label: 0x"+p[A-1].toString(16))}break;case 44:var I,M=p[A++]|p[A++]<<8,F=p[A++]|p[A++]<<8,B=p[A++]|p[A++]<<8,j=p[A++]|p[A++]<<8,G=p[A++],L=G>>6&1,R=1<<1+(7&G),V=o,k=f,U=!1,G=(G>>7&&(U=!0,V=A,A+=3*(k=R)),A);for(A++;;){if(!(0<=(I=p[A++])))throw Error("Invalid block size");if(I===0)break;A+=I}g.push({x:M,y:F,width:B,height:j,has_local_palette:U,palette_offset:V,palette_size:k,data_offset:G,data_length:A-G,transparent_index:E,interlaced:!!L,delay:D,disposal:C});break;case 59:x=!1;break;default:throw new Error("Unknown gif block: 0x"+p[A-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return T},this.frameInfo=function(H){if(H<0||H>=g.length)throw new Error("Frame index out of range.");return g[H]},this.decodeAndBlitFrameBGRA=function(H,X){for(var H=this.frameInfo(H),Z=H.width*H.height,J=new Uint8Array(Z),ee=(m(p,H.data_offset,J,Z),H.palette_offset),$=H.transparent_index,W=($===null&&($=256),H.width),Q=S-W,te=W,ce=4*(H.y*S+H.x),oe=4*((H.y+H.height)*S+H.x),ue=ce,we=4*Q,le=(H.interlaced===!0&&(we+=4*S*7),8),fe=0,ve=J.length;fe<ve;++fe){var pe,ye,Ae=J[fe];te===0&&(te=W,oe<=(ue+=we)&&(we=4*Q+4*S*(le-1),ue=ce+(W+Q)*(le<<1),le>>=1)),Ae===$?ue+=4:(pe=p[ee+3*Ae],ye=p[ee+3*Ae+1],Ae=p[ee+3*Ae+2],X[ue++]=Ae,X[ue++]=ye,X[ue++]=pe,X[ue++]=255),--te}},this.decodeAndBlitFrameRGBA=function(H,X){for(var H=this.frameInfo(H),Z=H.width*H.height,J=new Uint8Array(Z),ee=(m(p,H.data_offset,J,Z),H.palette_offset),$=H.transparent_index,W=($===null&&($=256),H.width),Q=S-W,te=W,ce=4*(H.y*S+H.x),oe=4*((H.y+H.height)*S+H.x),ue=ce,we=4*Q,le=(H.interlaced===!0&&(we+=4*S*7),8),fe=0,ve=J.length;fe<ve;++fe){var pe,ye,Ae=J[fe];te===0&&(te=W,oe<=(ue+=we)&&(we=4*Q+4*S*(le-1),ue=ce+(W+Q)*(le<<1),le>>=1)),Ae===$?ue+=4:(pe=p[ee+3*Ae],ye=p[ee+3*Ae+1],Ae=p[ee+3*Ae+2],X[ue++]=pe,X[ue++]=ye,X[ue++]=Ae,X[ue++]=255),--te}}}}catch{}},{}],254:[function(a,r,b){(function(h){var m,p;m=this,p=function(A){function S(ge){if(this==null)throw TypeError();var K,ae=String(this),se=ae.length,ge=ge?Number(ge):0;if(!((ge=ge!=ge?0:ge)<0||se<=ge))return 55296<=(K=ae.charCodeAt(ge))&&K<=56319&&ge+1<se&&56320<=(se=ae.charCodeAt(ge+1))&&se<=57343?1024*(K-55296)+se-56320+65536:K}String.prototype.codePointAt||((_=function(){try{var Y={},K=Object.defineProperty,ae=K(Y,Y,Y)&&K}catch{}return ae}())?_(String.prototype,"codePointAt",{value:S,configurable:!0,writable:!0}):String.prototype.codePointAt=S);var _,l=0,y=-3;function o(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function f(Y,K){this.source=Y,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=K,this.destLen=0,this.ltree=new o,this.dtree=new o}var x=new o,g=new o,D=new Uint8Array(30),E=new Uint16Array(30),C=new Uint8Array(30),T=new Uint16Array(30),O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),I=new o,M=new Uint8Array(320);function F(Y,K,ae,se){for(var ge,Te=0;Te<ae;++Te)Y[Te]=0;for(Te=0;Te<30-ae;++Te)Y[Te+ae]=Te/ae|0;for(ge=se,Te=0;Te<30;++Te)K[Te]=ge,ge+=1<<Y[Te]}var B=new Uint16Array(16);function j(Y,K,ae,se){for(var ge,Te=0;Te<16;++Te)Y.table[Te]=0;for(Te=0;Te<se;++Te)Y.table[K[ae+Te]]++;for(Te=ge=Y.table[0]=0;Te<16;++Te)B[Te]=ge,ge+=Y.table[Te];for(Te=0;Te<se;++Te)K[ae+Te]&&(Y.trans[B[K[ae+Te]]++]=Te)}function L(Y,K,ae){if(!K)return ae;for(;Y.bitcount<24;)Y.tag|=Y.source[Y.sourceIndex++]<<Y.bitcount,Y.bitcount+=8;var se=Y.tag&65535>>>16-K;return Y.tag>>>=K,Y.bitcount-=K,se+ae}function R(Y,K){for(;Y.bitcount<24;)Y.tag|=Y.source[Y.sourceIndex++]<<Y.bitcount,Y.bitcount+=8;for(var ae=0,se=0,ge=0,Te=Y.tag;se=2*se+(1&Te),Te>>>=1,ae+=K.table[++ge],0<=(se-=K.table[ge]););return Y.tag=Te,Y.bitcount-=ge,K.trans[ae+se]}function V(Y,K,ae){for(;;){var se=R(Y,K);if(se===256)return l;if(se<256)Y.dest[Y.destLen++]=se;else for(var ge,Te=L(Y,D[se-=257],E[se]),se=R(Y,ae),Pe=ge=Y.destLen-L(Y,C[se],T[se]);Pe<ge+Te;++Pe)Y.dest[Y.destLen++]=Y.dest[Pe]}}for(var k=x,U=g,G=0;G<7;++G)k.table[G]=0;for(k.table[7]=24,k.table[8]=152,k.table[9]=112,G=0;G<24;++G)k.trans[G]=256+G;for(G=0;G<144;++G)k.trans[24+G]=G;for(G=0;G<8;++G)k.trans[168+G]=280+G;for(G=0;G<112;++G)k.trans[176+G]=144+G;for(G=0;G<5;++G)U.table[G]=0;for(U.table[5]=32,G=0;G<32;++G)U.trans[G]=G;F(D,E,4,3),F(C,T,2,1),D[28]=0,E[28]=258;var H=function(Y,K){var ae,se,ge,Te=new f(Y,K);do{switch(ge=void 0,(se=Te).bitcount--||(se.tag=se.source[se.sourceIndex++],se.bitcount=7),ge=1&se.tag,se.tag>>>=1,se=ge,L(Te,2,0)){case 0:ae=function(gt){for(var Vt,Qt;8<gt.bitcount;)gt.sourceIndex--,gt.bitcount-=8;if((Vt=256*gt.source[gt.sourceIndex+1]+gt.source[gt.sourceIndex])!==(65535&~(256*gt.source[gt.sourceIndex+3]+gt.source[gt.sourceIndex+2])))return y;for(gt.sourceIndex+=4,Qt=Vt;Qt;--Qt)gt.dest[gt.destLen++]=gt.source[gt.sourceIndex++];return gt.bitcount=0,l}(Te);break;case 1:ae=V(Te,x,g);break;case 2:At=vt=Ct=mt=Pe=et=ut=pt=at=Qe=Ze=Ge=void 0;for(var Pe,Ge=Te,Ze=Te.ltree,Qe=Te.dtree,at=L(Ge,5,257),pt=L(Ge,5,1),ut=L(Ge,4,4),et=0;et<19;++et)M[et]=0;for(et=0;et<ut;++et){var Ct=L(Ge,3,0);M[O[et]]=Ct}for(j(I,M,0,19),Pe=0;Pe<at+pt;){var vt=R(Ge,I);switch(vt){case 16:for(var At=M[Pe-1],mt=L(Ge,2,3);mt;--mt)M[Pe++]=At;break;case 17:for(mt=L(Ge,3,3);mt;--mt)M[Pe++]=0;break;case 18:for(mt=L(Ge,7,11);mt;--mt)M[Pe++]=0;break;default:M[Pe++]=vt}}j(Ze,M,0,at),j(Qe,M,at,pt),ae=V(Te,Te.ltree,Te.dtree);break;default:ae=y}if(ae!==l)throw new Error("Data error")}while(!se);return Te.destLen<Te.dest.length?typeof Te.dest.slice=="function"?Te.dest.slice(0,Te.destLen):Te.dest.subarray(0,Te.destLen):Te.dest};function X(Y,K,ae,se,ge){return Math.pow(1-ge,3)*Y+3*Math.pow(1-ge,2)*ge*K+3*(1-ge)*Math.pow(ge,2)*ae+Math.pow(ge,3)*se}function Z(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function J(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ee(Y){throw new Error(Y)}function $(Y,K){Y||ee(K)}Z.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Z.prototype.addPoint=function(Y,K){typeof Y=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=Y,this.x2=Y),Y<this.x1&&(this.x1=Y),Y>this.x2&&(this.x2=Y)),typeof K=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=K,this.y2=K),K<this.y1&&(this.y1=K),K>this.y2&&(this.y2=K))},Z.prototype.addX=function(Y){this.addPoint(Y,null)},Z.prototype.addY=function(Y){this.addPoint(null,Y)},Z.prototype.addBezier=function(Y,K,ae,se,ge,Te,Pe,Ge){var Ze=[Y,K],Qe=[ae,se],at=[ge,Te],pt=[Pe,Ge];this.addPoint(Y,K),this.addPoint(Pe,Ge);for(var ut=0;ut<=1;ut++){var et,Ct=6*Ze[ut]-12*Qe[ut]+6*at[ut],vt=-3*Ze[ut]+9*Qe[ut]-9*at[ut]+3*pt[ut],At=3*Qe[ut]-3*Ze[ut];vt==0?Ct==0||0<(et=-At/Ct)&&et<1&&(ut===0&&this.addX(X(Ze[ut],Qe[ut],at[ut],pt[ut],et)),ut===1&&this.addY(X(Ze[ut],Qe[ut],at[ut],pt[ut],et))):(et=Math.pow(Ct,2)-4*At*vt)<0||(0<(At=(-Ct+Math.sqrt(et))/(2*vt))&&At<1&&(ut===0&&this.addX(X(Ze[ut],Qe[ut],at[ut],pt[ut],At)),ut===1&&this.addY(X(Ze[ut],Qe[ut],at[ut],pt[ut],At))),0<(At=(-Ct-Math.sqrt(et))/(2*vt))&&At<1&&(ut===0&&this.addX(X(Ze[ut],Qe[ut],at[ut],pt[ut],At)),ut===1&&this.addY(X(Ze[ut],Qe[ut],at[ut],pt[ut],At))))}},Z.prototype.addQuad=function(Y,K,ae,se,ge,Te){ae=Y+2/3*(ae-Y),se=K+2/3*(se-K),this.addBezier(Y,K,ae,se,ae+1/3*(ge-Y),se+1/3*(Te-K),ge,Te)},J.prototype.moveTo=function(Y,K){this.commands.push({type:"M",x:Y,y:K})},J.prototype.lineTo=function(Y,K){this.commands.push({type:"L",x:Y,y:K})},J.prototype.curveTo=J.prototype.bezierCurveTo=function(Y,K,ae,se,ge,Te){this.commands.push({type:"C",x1:Y,y1:K,x2:ae,y2:se,x:ge,y:Te})},J.prototype.quadTo=J.prototype.quadraticCurveTo=function(Y,K,ae,se){this.commands.push({type:"Q",x1:Y,y1:K,x:ae,y:se})},J.prototype.close=J.prototype.closePath=function(){this.commands.push({type:"Z"})},J.prototype.extend=function(Y){var K;if(Y.commands)Y=Y.commands;else if(Y instanceof Z)return K=Y,this.moveTo(K.x1,K.y1),this.lineTo(K.x2,K.y1),this.lineTo(K.x2,K.y2),this.lineTo(K.x1,K.y2),void this.close();Array.prototype.push.apply(this.commands,Y)},J.prototype.getBoundingBox=function(){for(var Y=new Z,K=0,ae=0,se=0,ge=0,Te=0;Te<this.commands.length;Te++){var Pe=this.commands[Te];switch(Pe.type){case"M":Y.addPoint(Pe.x,Pe.y),K=se=Pe.x,ae=ge=Pe.y;break;case"L":Y.addPoint(Pe.x,Pe.y),se=Pe.x,ge=Pe.y;break;case"Q":Y.addQuad(se,ge,Pe.x1,Pe.y1,Pe.x,Pe.y),se=Pe.x,ge=Pe.y;break;case"C":Y.addBezier(se,ge,Pe.x1,Pe.y1,Pe.x2,Pe.y2,Pe.x,Pe.y),se=Pe.x,ge=Pe.y;break;case"Z":se=K,ge=ae;break;default:throw new Error("Unexpected path command "+Pe.type)}}return Y.isEmpty()&&Y.addPoint(0,0),Y},J.prototype.draw=function(Y){Y.beginPath();for(var K=0;K<this.commands.length;K+=1){var ae=this.commands[K];ae.type==="M"?Y.moveTo(ae.x,ae.y):ae.type==="L"?Y.lineTo(ae.x,ae.y):ae.type==="C"?Y.bezierCurveTo(ae.x1,ae.y1,ae.x2,ae.y2,ae.x,ae.y):ae.type==="Q"?Y.quadraticCurveTo(ae.x1,ae.y1,ae.x,ae.y):ae.type==="Z"&&Y.closePath()}this.fill&&(Y.fillStyle=this.fill,Y.fill()),this.stroke&&(Y.strokeStyle=this.stroke,Y.lineWidth=this.strokeWidth,Y.stroke())},J.prototype.toPathData=function(Y){function K(){for(var Te=arguments,Pe="",Ge=0;Ge<arguments.length;Ge+=1){var Ze=Te[Ge];0<=Ze&&0<Ge&&(Pe+=" "),Pe+=(Ze=Ze,Math.round(Ze)===Ze?""+Math.round(Ze):Ze.toFixed(Y))}return Pe}Y=Y!==void 0?Y:2;for(var ae="",se=0;se<this.commands.length;se+=1){var ge=this.commands[se];ge.type==="M"?ae+="M"+K(ge.x,ge.y):ge.type==="L"?ae+="L"+K(ge.x,ge.y):ge.type==="C"?ae+="C"+K(ge.x1,ge.y1,ge.x2,ge.y2,ge.x,ge.y):ge.type==="Q"?ae+="Q"+K(ge.x1,ge.y1,ge.x,ge.y):ge.type==="Z"&&(ae+="Z")}return ae},J.prototype.toSVG=function(Y){var K=(K='<path d="')+this.toPathData(Y)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?K+=' fill="none"':K+=' fill="'+this.fill+'"'),this.stroke&&(K+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),K+="/>"},J.prototype.toDOMElement=function(K){var K=this.toPathData(K),ae=document.createElementNS("http://www.w3.org/2000/svg","path");return ae.setAttribute("d",K),ae};var W={fail:ee,argument:$,assert:$},Q={},te={},ce={};function oe(Y){return function(){return Y}}te.BYTE=function(Y){return W.argument(0<=Y&&Y<=255,"Byte value should be between 0 and 255."),[Y]},ce.BYTE=oe(1),te.CHAR=function(Y){return[Y.charCodeAt(0)]},ce.CHAR=oe(1),te.CHARARRAY=function(Y){for(var K=[],ae=0;ae<Y.length;ae+=1)K[ae]=Y.charCodeAt(ae);return K},ce.CHARARRAY=function(Y){return Y.length},te.USHORT=function(Y){return[Y>>8&255,255&Y]},ce.USHORT=oe(2),te.SHORT=function(Y){return[(Y=32768<=Y?-(65536-Y):Y)>>8&255,255&Y]},ce.SHORT=oe(2),te.UINT24=function(Y){return[Y>>16&255,Y>>8&255,255&Y]},ce.UINT24=oe(3),te.ULONG=function(Y){return[Y>>24&255,Y>>16&255,Y>>8&255,255&Y]},ce.ULONG=oe(4),te.LONG=function(Y){return[(Y=2147483648<=Y?-(4294967296-Y):Y)>>24&255,Y>>16&255,Y>>8&255,255&Y]},ce.LONG=oe(4),te.FIXED=te.ULONG,ce.FIXED=ce.ULONG,te.FWORD=te.SHORT,ce.FWORD=ce.SHORT,te.UFWORD=te.USHORT,ce.UFWORD=ce.USHORT,te.LONGDATETIME=function(Y){return[0,0,0,0,Y>>24&255,Y>>16&255,Y>>8&255,255&Y]},ce.LONGDATETIME=oe(8),te.TAG=function(Y){return W.argument(Y.length===4,"Tag should be exactly 4 ASCII characters."),[Y.charCodeAt(0),Y.charCodeAt(1),Y.charCodeAt(2),Y.charCodeAt(3)]},ce.TAG=oe(4),te.Card8=te.BYTE,ce.Card8=ce.BYTE,te.Card16=te.USHORT,ce.Card16=ce.USHORT,te.OffSize=te.BYTE,ce.OffSize=ce.BYTE,te.SID=te.USHORT,ce.SID=ce.USHORT,te.NUMBER=function(Y){return-107<=Y&&Y<=107?[Y+139]:108<=Y&&Y<=1131?[247+((Y-=108)>>8),255&Y]:-1131<=Y&&Y<=-108?[251+((Y=-Y-108)>>8),255&Y]:-32768<=Y&&Y<=32767?te.NUMBER16(Y):te.NUMBER32(Y)},ce.NUMBER=function(Y){return te.NUMBER(Y).length},te.NUMBER16=function(Y){return[28,Y>>8&255,255&Y]},ce.NUMBER16=oe(3),te.NUMBER32=function(Y){return[29,Y>>24&255,Y>>16&255,Y>>8&255,255&Y]},ce.NUMBER32=oe(5),te.REAL=function(Y){for(var K=Y.toString(),ae=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(K),se=(ae&&(ae=parseFloat("1e"+((ae[2]?+ae[2]:0)+ae[1].length)),K=(Math.round(Y*ae)/ae).toString()),""),ge=0,Te=K.length;ge<Te;ge+=1){var Pe=K[ge];se+=Pe==="e"?K[++ge]==="-"?"c":"b":Pe==="."?"a":Pe==="-"?"e":Pe}for(var Ge=[30],Ze=0,Qe=(se+=1&se.length?"f":"ff").length;Ze<Qe;Ze+=2)Ge.push(parseInt(se.substr(Ze,2),16));return Ge},ce.REAL=function(Y){return te.REAL(Y).length},te.NAME=te.CHARARRAY,ce.NAME=ce.CHARARRAY,te.STRING=te.CHARARRAY,ce.STRING=ce.CHARARRAY,Q.UTF8=function(Y,K,ae){for(var se=[],ge=ae,Te=0;Te<ge;Te++,K+=1)se[Te]=Y.getUint8(K);return String.fromCharCode.apply(null,se)},Q.UTF16=function(Y,K,ae){for(var se=[],ge=ae/2,Te=0;Te<ge;Te++,K+=2)se[Te]=Y.getUint16(K);return String.fromCharCode.apply(null,se)},te.UTF16=function(Y){for(var K=[],ae=0;ae<Y.length;ae+=1){var se=Y.charCodeAt(ae);K[K.length]=se>>8&255,K[K.length]=255&se}return K},ce.UTF16=function(Y){return 2*Y.length};var ue,we={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},le=(Q.MACSTRING=function(Y,K,ae,se){var ge=we[se];if(ge!==void 0){for(var Te="",Pe=0;Pe<ae;Pe++){var Ge=Y.getUint8(K+Pe);Te+=Ge<=127?String.fromCharCode(Ge):ge[127&Ge]}return Te}},typeof WeakMap=="function"&&new WeakMap);function fe(Y){return-128<=Y&&Y<=127}te.MACSTRING=function(Y,K){var ae=function(Pe){if(!ue)for(var Ge in ue={},we)ue[Ge]=new String(Ge);var Ze=ue[Pe];if(Ze!==void 0){if(le){var Qe=le.get(Ze);if(Qe!==void 0)return Qe}var at=we[Pe];if(at!==void 0){for(var pt={},ut=0;ut<at.length;ut++)pt[at.charCodeAt(ut)]=ut+128;return le&&le.set(Ze,pt),pt}}}(K);if(ae!==void 0){for(var se=[],ge=0;ge<Y.length;ge++){var Te=Y.charCodeAt(ge);if(128<=Te&&(Te=ae[Te])===void 0)return;se[ge]=Te}return se}},ce.MACSTRING=function(Y,K){return Y=te.MACSTRING(Y,K),Y!==void 0?Y.length:0},te.VARDELTAS=function(Y){for(var se=0,K=[];se<Y.length;)var ae=Y[se],se=(ae===0?function(ge,Te,Pe){for(var Ge=0,Ze=ge.length;Te<Ze&&Ge<64&&ge[Te]===0;)++Te,++Ge;return Pe.push(128|Ge-1),Te}:-128<=ae&&ae<=127?function(ge,Te,Pe){for(var Ge=0,Ze=ge.length,Qe=Te;Qe<Ze&&Ge<64;){var at=ge[Qe];if(!fe(at)||at===0&&Qe+1<Ze&&ge[Qe+1]===0)break;++Qe,++Ge}Pe.push(Ge-1);for(var pt=Te;pt<Qe;++pt)Pe.push(ge[pt]+256&255);return Qe}:function(ge,Te,Pe){for(var Ge=0,Ze=ge.length,Qe=Te;Qe<Ze&&Ge<64;){var at=ge[Qe];if(at===0||fe(at)&&Qe+1<Ze&&fe(ge[Qe+1]))break;++Qe,++Ge}Pe.push(64|Ge-1);for(var pt=Te;pt<Qe;++pt){var ut=ge[pt];Pe.push(ut+65536>>8&255,ut+256&255)}return Qe})(Y,se,K);return K},te.INDEX=function(Y){for(var K=1,ae=[K],se=[],ge=0;ge<Y.length;ge+=1){var Te=te.OBJECT(Y[ge]);Array.prototype.push.apply(se,Te),K+=Te.length,ae.push(K)}if(se.length===0)return[0,0];for(var Pe=[],Ge=1+Math.floor(Math.log(K)/Math.log(2))/8|0,Ze=[void 0,te.BYTE,te.USHORT,te.UINT24,te.ULONG][Ge],Qe=0;Qe<ae.length;Qe+=1){var at=Ze(ae[Qe]);Array.prototype.push.apply(Pe,at)}return Array.prototype.concat(te.Card16(Y.length),te.OffSize(Ge),Pe,se)},ce.INDEX=function(Y){return te.INDEX(Y).length},te.DICT=function(Y){for(var K=[],ae=Object.keys(Y),se=ae.length,ge=0;ge<se;ge+=1){var Te=parseInt(ae[ge],0),Pe=Y[Te];K=(K=K.concat(te.OPERAND(Pe.value,Pe.type))).concat(te.OPERATOR(Te))}return K},ce.DICT=function(Y){return te.DICT(Y).length},te.OPERATOR=function(Y){return Y<1200?[Y]:[12,Y-1200]},te.OPERAND=function(Y,K){var ae=[];if(Array.isArray(K))for(var se=0;se<K.length;se+=1)W.argument(Y.length===K.length,"Not enough arguments given for type"+K),ae=ae.concat(te.OPERAND(Y[se],K[se]));else if(K==="SID")ae=ae.concat(te.NUMBER(Y));else if(K==="offset")ae=ae.concat(te.NUMBER32(Y));else if(K==="number")ae=ae.concat(te.NUMBER(Y));else{if(K!=="real")throw new Error("Unknown operand type "+K);ae=ae.concat(te.REAL(Y))}return ae},te.OP=te.BYTE,ce.OP=ce.BYTE;var ve=typeof WeakMap=="function"&&new WeakMap;function pe(Y,K,ae){for(var se=0;se<K.length;se+=1){var ge=K[se];this[ge.name]=ge.value}if(this.tableName=Y,this.fields=K,ae)for(var Te=Object.keys(ae),Pe=0;Pe<Te.length;Pe+=1){var Ge=Te[Pe],Ze=ae[Ge];this[Ge]!==void 0&&(this[Ge]=Ze)}}function ye(Y,K,ae){ae===void 0&&(ae=K.length);var se=new Array(K.length+1);se[0]={name:Y+"Count",type:"USHORT",value:ae};for(var ge=0;ge<K.length;ge++)se[ge+1]={name:Y+ge,type:"USHORT",value:K[ge]};return se}function Ae(Y,K,ae){var se=K.length,ge=new Array(se+1);ge[0]={name:Y+"Count",type:"USHORT",value:se};for(var Te=0;Te<se;Te++)ge[Te+1]={name:Y+Te,type:"TABLE",value:ae(K[Te],Te)};return ge}function be(Y,K,ae){var se=K.length,ge=[];ge[0]={name:Y+"Count",type:"USHORT",value:se};for(var Te=0;Te<se;Te++)ge=ge.concat(ae(K[Te],Te));return ge}function ne(Y){Y.format===1?pe.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ye("glyph",Y.glyphs))):W.assert(!1,"Can't create coverage table format 2 yet.")}function re(Y){pe.call(this,"scriptListTable",be("scriptRecord",Y,function(K,ae){var se=K.script,ge=se.defaultLangSys;return W.assert(!!ge,"Unable to write GSUB: script "+K.tag+" has no default language system."),[{name:"scriptTag"+ae,type:"TAG",value:K.tag},{name:"script"+ae,type:"TABLE",value:new pe("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new pe("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ge.reqFeatureIndex}].concat(ye("featureIndex",ge.featureIndexes)))}].concat(be("langSys",se.langSysRecords,function(Te,Pe){var Ge=Te.langSys;return[{name:"langSysTag"+Pe,type:"TAG",value:Te.tag},{name:"langSys"+Pe,type:"TABLE",value:new pe("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Ge.reqFeatureIndex}].concat(ye("featureIndex",Ge.featureIndexes)))}]})))}]}))}function de(Y){pe.call(this,"featureListTable",be("featureRecord",Y,function(K,ae){var se=K.feature;return[{name:"featureTag"+ae,type:"TAG",value:K.tag},{name:"feature"+ae,type:"TABLE",value:new pe("featureTable",[{name:"featureParams",type:"USHORT",value:se.featureParams}].concat(ye("lookupListIndex",se.lookupListIndexes)))}]}))}function Ce(Y,K){pe.call(this,"lookupListTable",Ae("lookup",Y,function(ae){var se=K[ae.lookupType];return W.assert(!!se,"Unable to write GSUB lookup type "+ae.lookupType+" tables."),new pe("lookupTable",[{name:"lookupType",type:"USHORT",value:ae.lookupType},{name:"lookupFlag",type:"USHORT",value:ae.lookupFlag}].concat(Ae("subtable",ae.subtables,se)))}))}te.CHARSTRING=function(Y){if(ve){var K=ve.get(Y);if(K!==void 0)return K}for(var Te=[],ae=Y.length,se=0;se<ae;se+=1)var ge=Y[se],Te=Te.concat(te[ge.type](ge.value));return ve&&ve.set(Y,Te),Te},ce.CHARSTRING=function(Y){return te.CHARSTRING(Y).length},te.OBJECT=function(Y){var K=te[Y.type];return W.argument(K!==void 0,"No encoding function for type "+Y.type),K(Y.value)},ce.OBJECT=function(Y){var K=ce[Y.type];return W.argument(K!==void 0,"No sizeOf function for type "+Y.type),K(Y.value)},te.TABLE=function(Y){for(var K=[],ae=Y.fields.length,se=[],ge=[],Te=0;Te<ae;Te+=1){var Pe=Y.fields[Te],Ze=te[Pe.type],Ge=(W.argument(Ze!==void 0,"No encoding function for field type "+Pe.type+" ("+Pe.name+")"),Y[Pe.name]),Ze=Ze(Ge=Ge===void 0?Pe.value:Ge);Pe.type==="TABLE"?(ge.push(K.length),K=K.concat([0,0]),se.push(Ze)):K=K.concat(Ze)}for(var Qe=0;Qe<se.length;Qe+=1){var at=ge[Qe],pt=K.length;W.argument(pt<65536,"Table "+Y.tableName+" too big."),K[at]=pt>>8,K[at+1]=255&pt,K=K.concat(se[Qe])}return K},ce.TABLE=function(Y){for(var K=0,ae=Y.fields.length,se=0;se<ae;se+=1){var ge=Y.fields[se],Te=ce[ge.type],Pe=(W.argument(Te!==void 0,"No sizeOf function for field type "+ge.type+" ("+ge.name+")"),Y[ge.name]);K+=Te(Pe=Pe===void 0?ge.value:Pe),ge.type==="TABLE"&&(K+=2)}return K},te.RECORD=te.TABLE,ce.RECORD=ce.TABLE,te.LITERAL=function(Y){return Y},ce.LITERAL=function(Y){return Y.length},pe.prototype.encode=function(){return te.TABLE(this)},pe.prototype.sizeOf=function(){return ce.TABLE(this)};var je={Table:pe,Record:pe,Coverage:(ne.prototype=Object.create(pe.prototype)).constructor=ne,ScriptList:(re.prototype=Object.create(pe.prototype)).constructor=re,FeatureList:(de.prototype=Object.create(pe.prototype)).constructor=de,LookupList:(Ce.prototype=Object.create(pe.prototype)).constructor=Ce,ushortList:ye,tableList:Ae,recordList:be};function xe(Y,K){return Y.getUint8(K)}function Ie(Y,K){return Y.getUint16(K,!1)}function Ne(Y,K){return Y.getUint32(K,!1)}function Be(Y,K){return Y.getInt16(K,!1)+Y.getUint16(K+2,!1)/65535}var $e={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Le(Y,K){this.data=Y,this.offset=K,this.relativeOffset=0}Le.prototype.parseByte=function(){var Y=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,Y},Le.prototype.parseChar=function(){var Y=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,Y},Le.prototype.parseCard8=Le.prototype.parseByte,Le.prototype.parseCard16=Le.prototype.parseUShort=function(){var Y=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,Y},Le.prototype.parseSID=Le.prototype.parseUShort,Le.prototype.parseOffset16=Le.prototype.parseUShort,Le.prototype.parseShort=function(){var Y=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,Y},Le.prototype.parseF2Dot14=function(){var Y=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,Y},Le.prototype.parseOffset32=Le.prototype.parseULong=function(){var Y=Ne(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,Y},Le.prototype.parseFixed=function(){var Y=Be(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,Y},Le.prototype.parseString=function(Y){var K=this.data,ae=this.offset+this.relativeOffset,se="";this.relativeOffset+=Y;for(var ge=0;ge<Y;ge++)se+=String.fromCharCode(K.getUint8(ae+ge));return se},Le.prototype.parseTag=function(){return this.parseString(4)},Le.prototype.parseLongDateTime=function(){var Y=Ne(this.data,this.offset+this.relativeOffset+4);return Y-=2082844800,this.relativeOffset+=8,Y},Le.prototype.parseVersion=function(Y){var K=Ie(this.data,this.offset+this.relativeOffset),ae=Ie(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,K+ae/(Y=Y===void 0?4096:Y)/10},Le.prototype.skip=function(Y,K){this.relativeOffset+=$e[Y]*(K=K===void 0?1:K)},Le.prototype.parseULongList=function(Y){Y===void 0&&(Y=this.parseULong());for(var K=new Array(Y),ae=this.data,se=this.offset+this.relativeOffset,ge=0;ge<Y;ge++)K[ge]=ae.getUint32(se),se+=4;return this.relativeOffset+=4*Y,K},Le.prototype.parseOffset16List=Le.prototype.parseUShortList=function(Y){Y===void 0&&(Y=this.parseUShort());for(var K=new Array(Y),ae=this.data,se=this.offset+this.relativeOffset,ge=0;ge<Y;ge++)K[ge]=ae.getUint16(se),se+=2;return this.relativeOffset+=2*Y,K},Le.prototype.parseShortList=function(Y){for(var K=new Array(Y),ae=this.data,se=this.offset+this.relativeOffset,ge=0;ge<Y;ge++)K[ge]=ae.getInt16(se),se+=2;return this.relativeOffset+=2*Y,K},Le.prototype.parseByteList=function(Y){for(var K=new Array(Y),ae=this.data,se=this.offset+this.relativeOffset,ge=0;ge<Y;ge++)K[ge]=ae.getUint8(se++);return this.relativeOffset+=Y,K},Le.prototype.parseList=function(Y,K){K||(K=Y,Y=this.parseUShort());for(var ae=new Array(Y),se=0;se<Y;se++)ae[se]=K.call(this);return ae},Le.prototype.parseList32=function(Y,K){K||(K=Y,Y=this.parseULong());for(var ae=new Array(Y),se=0;se<Y;se++)ae[se]=K.call(this);return ae},Le.prototype.parseRecordList=function(Y,K){K||(K=Y,Y=this.parseUShort());for(var ae=new Array(Y),se=Object.keys(K),ge=0;ge<Y;ge++){for(var Te={},Pe=0;Pe<se.length;Pe++){var Ge=se[Pe],Ze=K[Ge];Te[Ge]=Ze.call(this)}ae[ge]=Te}return ae},Le.prototype.parseRecordList32=function(Y,K){K||(K=Y,Y=this.parseULong());for(var ae=new Array(Y),se=Object.keys(K),ge=0;ge<Y;ge++){for(var Te={},Pe=0;Pe<se.length;Pe++){var Ge=se[Pe],Ze=K[Ge];Te[Ge]=Ze.call(this)}ae[ge]=Te}return ae},Le.prototype.parseStruct=function(Y){if(typeof Y=="function")return Y.call(this);for(var K=Object.keys(Y),ae={},se=0;se<K.length;se++){var ge=K[se],Te=Y[ge];ae[ge]=Te.call(this)}return ae},Le.prototype.parseValueRecord=function(Y){var K;if((Y=Y===void 0?this.parseUShort():Y)!==0)return K={},1&Y&&(K.xPlacement=this.parseShort()),2&Y&&(K.yPlacement=this.parseShort()),4&Y&&(K.xAdvance=this.parseShort()),8&Y&&(K.yAdvance=this.parseShort()),16&Y&&(K.xPlaDevice=void 0,this.parseShort()),32&Y&&(K.yPlaDevice=void 0,this.parseShort()),64&Y&&(K.xAdvDevice=void 0,this.parseShort()),128&Y&&(K.yAdvDevice=void 0,this.parseShort()),K},Le.prototype.parseValueRecordList=function(){for(var Y=this.parseUShort(),K=this.parseUShort(),ae=new Array(K),se=0;se<K;se++)ae[se]=this.parseValueRecord(Y);return ae},Le.prototype.parsePointer=function(Y){var K=this.parseOffset16();if(0<K)return new Le(this.data,this.offset+K).parseStruct(Y)},Le.prototype.parsePointer32=function(Y){var K=this.parseOffset32();if(0<K)return new Le(this.data,this.offset+K).parseStruct(Y)},Le.prototype.parseListOfLists=function(Y){for(var K=this.parseOffset16List(),ae=K.length,se=this.relativeOffset,ge=new Array(ae),Te=0;Te<ae;Te++){var Pe=K[Te];if(Pe===0)ge[Te]=void 0;else if(this.relativeOffset=Pe,Y){for(var Ge=this.parseOffset16List(),Ze=new Array(Ge.length),Qe=0;Qe<Ge.length;Qe++)this.relativeOffset=Pe+Ge[Qe],Ze[Qe]=Y.call(this);ge[Te]=Ze}else ge[Te]=this.parseUShortList()}return this.relativeOffset=se,ge},Le.prototype.parseCoverage=function(){var Y=this.offset+this.relativeOffset,K=this.parseUShort(),ae=this.parseUShort();if(K===1)return{format:1,glyphs:this.parseUShortList(ae)};if(K!==2)throw new Error("0x"+Y.toString(16)+": Coverage format must be 1 or 2.");for(var se=new Array(ae),ge=0;ge<ae;ge++)se[ge]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:se}},Le.prototype.parseClassDef=function(){var Y=this.offset+this.relativeOffset,K=this.parseUShort();if(K===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(K===2)return{format:2,ranges:this.parseRecordList({start:Le.uShort,end:Le.uShort,classId:Le.uShort})};throw new Error("0x"+Y.toString(16)+": ClassDef format must be 1 or 2.")},Le.list=function(Y,K){return function(){return this.parseList(Y,K)}},Le.list32=function(Y,K){return function(){return this.parseList32(Y,K)}},Le.recordList=function(Y,K){return function(){return this.parseRecordList(Y,K)}},Le.recordList32=function(Y,K){return function(){return this.parseRecordList32(Y,K)}},Le.pointer=function(Y){return function(){return this.parsePointer(Y)}},Le.pointer32=function(Y){return function(){return this.parsePointer32(Y)}},Le.tag=Le.prototype.parseTag,Le.byte=Le.prototype.parseByte,Le.uShort=Le.offset16=Le.prototype.parseUShort,Le.uShortList=Le.prototype.parseUShortList,Le.uLong=Le.offset32=Le.prototype.parseULong,Le.uLongList=Le.prototype.parseULongList,Le.struct=Le.prototype.parseStruct,Le.coverage=Le.prototype.parseCoverage,Le.classDef=Le.prototype.parseClassDef;var qe={reserved:Le.uShort,reqFeatureIndex:Le.uShort,featureIndexes:Le.uShortList},ze=(Le.prototype.parseScriptList=function(){return this.parsePointer(Le.recordList({tag:Le.tag,script:Le.pointer({defaultLangSys:Le.pointer(qe),langSysRecords:Le.recordList({tag:Le.tag,langSys:Le.pointer(qe)})})}))||[]},Le.prototype.parseFeatureList=function(){return this.parsePointer(Le.recordList({tag:Le.tag,feature:Le.pointer({featureParams:Le.offset16,lookupListIndexes:Le.uShortList})}))||[]},Le.prototype.parseLookupList=function(Y){return this.parsePointer(Le.list(Le.pointer(function(){var K=this.parseUShort(),ae=(W.argument(1<=K&&K<=9,"GPOS/GSUB lookup type "+K+" unknown."),this.parseUShort()),se=16&ae;return{lookupType:K,lookupFlag:ae,subtables:this.parseList(Le.pointer(Y[K])),markFilteringSet:se?this.parseUShort():void 0}})))||[]},Le.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var Y=this.parseUShort(),K=this.parseUShort();return W.argument(Y===1&&K<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Le.offset32,featureTableSubstitutionOffset:Le.offset32})})||[]},{getByte:xe,getCard8:xe,getUShort:Ie,getCard16:Ie,getShort:function(Y,K){return Y.getInt16(K,!1)},getULong:Ne,getFixed:Be,getTag:function(Y,K){for(var ae="",se=K;se<K+4;se+=1)ae+=String.fromCharCode(Y.getInt8(se));return ae},getOffset:function(Y,K,ae){for(var se=0,ge=0;ge<ae;ge+=1)se=(se<<=8)+Y.getUint8(K+ge);return se},getBytes:function(Y,K,ae){for(var se=[],ge=K;ge<ae;ge+=1)se.push(Y.getUint8(ge));return se},bytesToString:function(Y){for(var K="",ae=0;ae<Y.length;ae+=1)K+=String.fromCharCode(Y[ae]);return K},Parser:Le}),Ee={parse:function(Y,K){for(var ae={},se=(ae.version=ze.getUShort(Y,K),W.argument(ae.version===0,"cmap table version should be 0."),ae.numTables=ze.getUShort(Y,K+2),-1),ge=ae.numTables-1;0<=ge;--ge){var Te=ze.getUShort(Y,K+4+8*ge),Pe=ze.getUShort(Y,K+4+8*ge+2);if(Te===3&&(Pe===0||Pe===1||Pe===10)||Te===0&&(Pe===0||Pe===1||Pe===2||Pe===3||Pe===4)){se=ze.getULong(Y,K+4+8*ge+4);break}}if(se===-1)throw new Error("No valid cmap sub-tables found.");var Ge=new ze.Parser(Y,K+se);if(ae.format=Ge.parseUShort(),ae.format===12){var Ze,Qe=ae,at=Ge;at.parseUShort(),Qe.length=at.parseULong(),Qe.language=at.parseULong(),Qe.groupCount=Ze=at.parseULong(),Qe.glyphIndexMap={};for(var pt=0;pt<Ze;pt+=1)for(var ut=at.parseULong(),et=at.parseULong(),Ct=at.parseULong(),vt=ut;vt<=et;vt+=1)Qe.glyphIndexMap[vt]=Ct,Ct++}else{if(ae.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+ae.format+").");var At=ae,mt=Y,gt=K,Vt=se;At.length=Ge.parseUShort(),At.language=Ge.parseUShort(),At.segCount=Qt=Ge.parseUShort()>>1,Ge.skip("uShort",3),At.glyphIndexMap={};for(var Qt,$t=new ze.Parser(mt,gt+Vt+14),qt=new ze.Parser(mt,gt+Vt+16+2*Qt),Kt=new ze.Parser(mt,gt+Vt+16+4*Qt),gn=new ze.Parser(mt,gt+Vt+16+6*Qt),An=gt+Vt+16+8*Qt,En=0;En<Qt-1;En+=1)for(var Pn=void 0,kn=$t.parseUShort(),Yn=qt.parseUShort(),hn=Kt.parseShort(),yn=gn.parseUShort(),fn=Yn;fn<=kn;fn+=1)yn!==0?(An=(An=gn.offset+gn.relativeOffset-2)+yn+2*(fn-Yn),(Pn=ze.getUShort(mt,An))!==0&&(Pn=Pn+hn&65535)):Pn=fn+hn&65535,At.glyphIndexMap[fn]=Pn}return ae},make:function(Y){for(var K=!0,ae=Y.length-1;0<ae;--ae)if(65535<Y.get(ae).unicode){console.log("Adding CMAP format 12 (needed!)"),K=!1;break}var se,ge,Te=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:K?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:K?12:20}],Pe=(Te=(Te=K?Te:Te.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new je.Table("cmap",Te));for(Pe.segments=[],ae=0;ae<Y.length;ae+=1){for(var Ge=Y.get(ae),Ze=0;Ze<Ge.unicodes.length;Ze+=1)se=Ge.unicodes[Ze],ge=ae,Pe.segments.push({end:se,start:se,delta:-(se-ge),offset:0,glyphIndex:ge});Pe.segments=Pe.segments.sort(function(gt,Vt){return gt.start-Vt.start})}Pe.segments.push({end:65535,start:65535,delta:1,offset:0});var Qe=Pe.segments.length,at=0,pt=[],ut=[],et=[],Ct=[],vt=[],At=[];for(ae=0;ae<Qe;ae+=1){var mt=Pe.segments[ae];mt.end<=65535&&mt.start<=65535?(pt=pt.concat({name:"end_"+ae,type:"USHORT",value:mt.end}),ut=ut.concat({name:"start_"+ae,type:"USHORT",value:mt.start}),et=et.concat({name:"idDelta_"+ae,type:"SHORT",value:mt.delta}),Ct=Ct.concat({name:"idRangeOffset_"+ae,type:"USHORT",value:mt.offset}),mt.glyphId!==void 0&&(vt=vt.concat({name:"glyph_"+ae,type:"USHORT",value:mt.glyphId}))):at+=1,K||mt.glyphIndex===void 0||(At=(At=(At=At.concat({name:"cmap12Start_"+ae,type:"ULONG",value:mt.start})).concat({name:"cmap12End_"+ae,type:"ULONG",value:mt.end})).concat({name:"cmap12Glyph_"+ae,type:"ULONG",value:mt.glyphIndex}))}return Pe.segCountX2=2*(Qe-at),Pe.searchRange=2*Math.pow(2,Math.floor(Math.log(Qe-at)/Math.log(2))),Pe.entrySelector=Math.log(Pe.searchRange/2)/Math.log(2),Pe.rangeShift=Pe.segCountX2-Pe.searchRange,Pe.fields=Pe.fields.concat(pt),Pe.fields.push({name:"reservedPad",type:"USHORT",value:0}),Pe.fields=Pe.fields.concat(ut),Pe.fields=Pe.fields.concat(et),Pe.fields=Pe.fields.concat(Ct),Pe.fields=Pe.fields.concat(vt),Pe.cmap4Length=14+2*pt.length+2+2*ut.length+2*et.length+2*Ct.length+2*vt.length,K||(Te=16+4*At.length,Pe.cmap12Offset=20+Pe.cmap4Length,Pe.fields=Pe.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:Te},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:At.length/3}]),Pe.fields=Pe.fields.concat(At)),Pe}},Se=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Me=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],me=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Ve=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Xe(Y){this.font=Y}function rt(Y){this.cmap=Y}function lt(Y,K){this.encoding=Y,this.charset=K}function nt(Y){switch(Y.version){case 1:this.names=Ve.slice();break;case 2:this.names=new Array(Y.numberOfGlyphs);for(var K=0;K<Y.numberOfGlyphs;K++)Y.glyphNameIndex[K]<Ve.length?this.names[K]=Ve[Y.glyphNameIndex[K]]:this.names[K]=Y.names[Y.glyphNameIndex[K]-Ve.length];break;case 2.5:this.names=new Array(Y.numberOfGlyphs);for(var ae=0;ae<Y.numberOfGlyphs;ae++)this.names[ae]=Ve[ae+Y.glyphNameIndex[ae]];break;default:this.names=[]}}Xe.prototype.charToGlyphIndex=function(Y){var K=Y.codePointAt(0),ae=this.font.glyphs;if(ae){for(var se=0;se<ae.length;se+=1)for(var ge=ae.get(se),Te=0;Te<ge.unicodes.length;Te+=1)if(ge.unicodes[Te]===K)return se}return null},rt.prototype.charToGlyphIndex=function(Y){return this.cmap.glyphIndexMap[Y.codePointAt(0)]||0},lt.prototype.charToGlyphIndex=function(Y){return Y=Y.codePointAt(0),Y=this.encoding[Y],this.charset.indexOf(Y)},nt.prototype.nameToGlyphIndex=function(Y){return this.names.indexOf(Y)},nt.prototype.glyphIndexToName=function(Y){return this.names[Y]};var it={line:function(Y,K,ae,se,ge){Y.beginPath(),Y.moveTo(K,ae),Y.lineTo(se,ge),Y.stroke()}};function dt(Y){this.bindConstructorValues(Y)}function ft(Y,K,ae){Object.defineProperty(Y,K,{get:function(){return Y.path,Y[ae]},set:function(se){Y[ae]=se},enumerable:!0,configurable:!0})}function yt(Y,K){if(this.font=Y,this.glyphs={},Array.isArray(K))for(var ae=0;ae<K.length;ae++)this.glyphs[ae]=K[ae];this.length=K&&K.length||0}dt.prototype.bindConstructorValues=function(Y){var K;this.index=Y.index||0,this.name=Y.name||null,this.unicode=Y.unicode||void 0,this.unicodes=Y.unicodes||Y.unicode!==void 0?[Y.unicode]:[],Y.xMin&&(this.xMin=Y.xMin),Y.yMin&&(this.yMin=Y.yMin),Y.xMax&&(this.xMax=Y.xMax),Y.yMax&&(this.yMax=Y.yMax),Y.advanceWidth&&(this.advanceWidth=Y.advanceWidth),Object.defineProperty(this,"path",(Y=Y.path,K=Y||new J,{configurable:!0,get:function(){return K=typeof K=="function"?K():K},set:function(ae){K=ae}}))},dt.prototype.addUnicode=function(Y){this.unicodes.length===0&&(this.unicode=Y),this.unicodes.push(Y)},dt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},dt.prototype.getPath=function(Y,K,ae,se,ge){Y=Y!==void 0?Y:0,K=K!==void 0?K:0,ae=ae!==void 0?ae:72;for(var Te,Pe,Ge=(se=se||{}).xScale,Ze=se.yScale,Qe=((Te=se.hinting&&ge&&ge.hinting?this.path&&ge.hinting.exec(this,ae):Te)?(Pe=ge.hinting.getCommands(Te),Y=Math.round(Y),K=Math.round(K),Ge=Ze=1):(Pe=this.path.commands,se=1/this.path.unitsPerEm*ae,Ge===void 0&&(Ge=se),Ze===void 0&&(Ze=se)),new J),at=0;at<Pe.length;at+=1){var pt=Pe[at];pt.type==="M"?Qe.moveTo(Y+pt.x*Ge,K+-pt.y*Ze):pt.type==="L"?Qe.lineTo(Y+pt.x*Ge,K+-pt.y*Ze):pt.type==="Q"?Qe.quadraticCurveTo(Y+pt.x1*Ge,K+-pt.y1*Ze,Y+pt.x*Ge,K+-pt.y*Ze):pt.type==="C"?Qe.curveTo(Y+pt.x1*Ge,K+-pt.y1*Ze,Y+pt.x2*Ge,K+-pt.y2*Ze,Y+pt.x*Ge,K+-pt.y*Ze):pt.type==="Z"&&Qe.closePath()}return Qe},dt.prototype.getContours=function(){if(this.points===void 0)return[];for(var Y=[],K=[],ae=0;ae<this.points.length;ae+=1){var se=this.points[ae];K.push(se),se.lastPointOfContour&&(Y.push(K),K=[])}return W.argument(K.length===0,"There are still points left in the current contour."),Y},dt.prototype.getMetrics=function(){for(var Y=this.path.commands,K=[],ae=[],se=0;se<Y.length;se+=1){var ge=Y[se];ge.type!=="Z"&&(K.push(ge.x),ae.push(ge.y)),ge.type!=="Q"&&ge.type!=="C"||(K.push(ge.x1),ae.push(ge.y1)),ge.type==="C"&&(K.push(ge.x2),ae.push(ge.y2))}var Te={xMin:Math.min.apply(null,K),yMin:Math.min.apply(null,ae),xMax:Math.max.apply(null,K),yMax:Math.max.apply(null,ae),leftSideBearing:this.leftSideBearing};return isFinite(Te.xMin)||(Te.xMin=0),isFinite(Te.xMax)||(Te.xMax=this.advanceWidth),isFinite(Te.yMin)||(Te.yMin=0),isFinite(Te.yMax)||(Te.yMax=0),Te.rightSideBearing=this.advanceWidth-Te.leftSideBearing-(Te.xMax-Te.xMin),Te},dt.prototype.draw=function(Y,K,ae,se,ge){this.getPath(K,ae,se,ge).draw(Y)},dt.prototype.drawPoints=function(Y,K,ae,se){function ge(at,pt,ut,et){var Ct=2*Math.PI;Y.beginPath();for(var vt=0;vt<at.length;vt+=1)Y.moveTo(pt+at[vt].x*et,ut+at[vt].y*et),Y.arc(pt+at[vt].x*et,ut+at[vt].y*et,2,0,Ct,!1);Y.closePath(),Y.fill()}K=K!==void 0?K:0,ae=ae!==void 0?ae:0;for(var se=1/this.path.unitsPerEm*(se=se!==void 0?se:24),Te=[],Pe=[],Ge=this.path,Ze=0;Ze<Ge.commands.length;Ze+=1){var Qe=Ge.commands[Ze];Qe.x!==void 0&&Te.push({x:Qe.x,y:-Qe.y}),Qe.x1!==void 0&&Pe.push({x:Qe.x1,y:-Qe.y1}),Qe.x2!==void 0&&Pe.push({x:Qe.x2,y:-Qe.y2})}Y.fillStyle="blue",ge(Te,K,ae,se),Y.fillStyle="red",ge(Pe,K,ae,se)},dt.prototype.drawMetrics=function(Y,K,ae,se){K=K!==void 0?K:0,ae=ae!==void 0?ae:0,se=1/this.path.unitsPerEm*(se=se!==void 0?se:24),Y.lineWidth=1,Y.strokeStyle="black",it.line(Y,K,-1e4,K,1e4),it.line(Y,-1e4,ae,1e4,ae);var ge=this.xMin||0,Te=this.yMin||0,Pe=this.xMax||0,Ge=this.yMax||0,Ze=this.advanceWidth||0;Y.strokeStyle="blue",it.line(Y,K+ge*se,-1e4,K+ge*se,1e4),it.line(Y,K+Pe*se,-1e4,K+Pe*se,1e4),it.line(Y,-1e4,ae+-Te*se,1e4,ae+-Te*se),it.line(Y,-1e4,ae+-Ge*se,1e4,ae+-Ge*se),Y.strokeStyle="green",it.line(Y,K+Ze*se,-1e4,K+Ze*se,1e4)},yt.prototype.get=function(Y){return typeof this.glyphs[Y]=="function"&&(this.glyphs[Y]=this.glyphs[Y]()),this.glyphs[Y]},yt.prototype.push=function(Y,K){this.glyphs[Y]=K,this.length++};var bt={GlyphSet:yt,glyphLoader:function(Y,K){return new dt({index:K,font:Y})},ttfGlyphLoader:function(Y,K,ae,se,ge,Te){return function(){var Pe=new dt({index:K,font:Y});return Pe.path=function(){ae(Pe,se,ge);var Ge=Te(Y.glyphs,Pe);return Ge.unitsPerEm=Y.unitsPerEm,Ge},ft(Pe,"xMin","_xMin"),ft(Pe,"xMax","_xMax"),ft(Pe,"yMin","_yMin"),ft(Pe,"yMax","_yMax"),Pe}},cffGlyphLoader:function(Y,K,ae,se){return function(){var ge=new dt({index:K,font:Y});return ge.path=function(){var Te=ae(Y,ge,se);return Te.unitsPerEm=Y.unitsPerEm,Te},ge}}};function wt(Y){return Y=Y.length<1240?107:Y.length<33900?1131:32768,Y}function xt(Y,K,ae){var se,ge=[],Te=[],Pe=ze.getCard16(Y,K);if(Pe!==0){for(var Ge=ze.getByte(Y,K+2),Ze=K+(Pe+1)*Ge+2,Qe=K+3,at=0;at<Pe+1;at+=1)ge.push(ze.getOffset(Y,Qe,Ge)),Qe+=Ge;se=Ze+ge[Pe]}else se=K+2;for(var pt=0;pt<ge.length-1;pt+=1){var ut=ze.getBytes(Y,Ze+ge[pt],Ze+ge[pt+1]);ae&&(ut=ae(ut)),Te.push(ut)}return{objects:Te,startOffset:K,endOffset:se}}function Tt(Y,K){if(K===28)return Y.parseByte()<<8|Y.parseByte();if(K===29)return Y.parseByte()<<24|Y.parseByte()<<16|Y.parseByte()<<8|Y.parseByte();if(K===30){for(var ae=Y,se="",ge=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Pe=ae.parseByte(),Te=Pe>>4,Pe=15&Pe;if(Te==15||(se+=ge[Te],Pe==15))break;se+=ge[Pe]}return parseFloat(se)}if(32<=K&&K<=246)return K-139;if(247<=K&&K<=250)return 256*(K-247)+Y.parseByte()+108;if(251<=K&&K<=254)return 256*-(K-251)-Y.parseByte()-108;throw new Error("Invalid b0 "+K)}function kt(Y,K,ae){var se=new ze.Parser(Y,K=K!==void 0?K:0),ge=[],Te=[];for(ae=ae!==void 0?ae:Y.length;se.relativeOffset<ae;){var Pe=se.parseByte();Pe<=21?(Pe===12&&(Pe=1200+se.parseByte()),ge.push([Pe,Te]),Te=[]):Te.push(Tt(se,Pe))}for(var Ge=ge,Ze={},Qe=0;Qe<Ge.length;Qe+=1){var at=Ge[Qe][0],pt=Ge[Qe][1],ut=void 0,ut=pt.length===1?pt[0]:pt;if(Ze.hasOwnProperty(at)&&!isNaN(Ze[at]))throw new Error("Object "+Ze+" already has key "+at);Ze[at]=ut}return Ze}function Mt(Y,K){return K=K<=390?Se[K]:Y[K-391]}function Ot(Y,K,ae){for(var se,ge={},Te=0;Te<K.length;Te+=1){var Pe=K[Te];if(Array.isArray(Pe.type)){var Ge=[];Ge.length=Pe.type.length;for(var Ze=0;Ze<Pe.type.length;Ze++)(se=Y[Pe.op]!==void 0?Y[Pe.op][Ze]:void 0)===void 0&&(se=Pe.value!==void 0&&Pe.value[Ze]!==void 0?Pe.value[Ze]:null),Pe.type[Ze]==="SID"&&(se=Mt(ae,se)),Ge[Ze]=se;ge[Pe.name]=Ge}else(se=Y[Pe.op])===void 0&&(se=Pe.value!==void 0?Pe.value:null),Pe.type==="SID"&&(se=Mt(ae,se)),ge[Pe.name]=se}return ge}var Lt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Ft=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Pt(Y,K,ae,se){return Ot(kt(Y,K,ae),Ft,se)}function It(Y,K,ae,se){for(var ge=[],Te=0;Te<ae.length;Te+=1){var Pe=new DataView(new Uint8Array(ae[Te]).buffer),Pe=(Ge=se,Ot(kt(Pe,0,Pe.byteLength),Lt,Ge)),Ge=(Pe._subrs=[],Pe._subrsBias=0,Pe.private[0]),Ze=Pe.private[1];Ge!==0&&Ze!==0&&(Ge=Pt(Y,Ze+K,Ge,se),Pe._defaultWidthX=Ge.defaultWidthX,Pe._nominalWidthX=Ge.nominalWidthX,Ge.subrs!==0&&(Ze=xt(Y,Ze+Ge.subrs+K),Pe._subrs=Ze.objects,Pe._subrsBias=wt(Pe._subrs)),Pe._privateDict=Ge),ge.push(Pe)}return ge}function Rt(Y,K,ae){var se,ge,Te,Pe,Ge,Ze,Qe,at,pt,ut=new J,et=[],Ct=0,vt=!1,At=!1,mt=0,gt=0,Vt=(pt=(Y.isCIDFont?(Ge=Y.tables.cff.topDict._fdSelect[K.index],Ge=Y.tables.cff.topDict._fdArray[Ge],Ze=Ge._subrs,Qe=Ge._subrsBias,at=Ge._defaultWidthX,Ge):(Ze=Y.tables.cff.topDict._subrs,Qe=Y.tables.cff.topDict._subrsBias,at=Y.tables.cff.topDict._defaultWidthX,Y.tables.cff.topDict))._nominalWidthX,at);function Qt(qt,Kt){At&&ut.closePath(),ut.moveTo(qt,Kt),At=!0}function $t(){et.length%2==0||vt||(Vt=et.shift()+pt),Ct+=et.length>>1,et.length=0,vt=!0}return function qt(Kt){for(var gn,An,En,Pn,kn,Yn,hn,yn,fn,In,wn,On,vn=0;vn<Kt.length;){var Nn=Kt[vn];switch(vn+=1,Nn){case 1:case 3:$t();break;case 4:1<et.length&&!vt&&(Vt=et.shift()+pt,vt=!0),gt+=et.pop(),Qt(mt,gt);break;case 5:for(;0<et.length;)mt+=et.shift(),gt+=et.shift(),ut.lineTo(mt,gt);break;case 6:for(;0<et.length&&(mt+=et.shift(),ut.lineTo(mt,gt),et.length!==0);)gt+=et.shift(),ut.lineTo(mt,gt);break;case 7:for(;0<et.length&&(gt+=et.shift(),ut.lineTo(mt,gt),et.length!==0);)mt+=et.shift(),ut.lineTo(mt,gt);break;case 8:for(;0<et.length;)se=mt+et.shift(),ge=gt+et.shift(),Te=se+et.shift(),Pe=ge+et.shift(),mt=Te+et.shift(),gt=Pe+et.shift(),ut.curveTo(se,ge,Te,Pe,mt,gt);break;case 10:kn=et.pop()+Qe,(Yn=Ze[kn])&&qt(Yn);break;case 11:return;case 12:switch(Nn=Kt[vn],vn+=1,Nn){case 35:se=mt+et.shift(),ge=gt+et.shift(),Te=se+et.shift(),Pe=ge+et.shift(),hn=Te+et.shift(),yn=Pe+et.shift(),fn=hn+et.shift(),In=yn+et.shift(),wn=fn+et.shift(),On=In+et.shift(),mt=wn+et.shift(),gt=On+et.shift(),et.shift(),ut.curveTo(se,ge,Te,Pe,hn,yn),ut.curveTo(fn,In,wn,On,mt,gt);break;case 34:se=mt+et.shift(),ge=gt,Te=se+et.shift(),Pe=ge+et.shift(),hn=Te+et.shift(),yn=Pe,fn=hn+et.shift(),In=Pe,wn=fn+et.shift(),On=gt,mt=wn+et.shift(),ut.curveTo(se,ge,Te,Pe,hn,yn),ut.curveTo(fn,In,wn,On,mt,gt);break;case 36:se=mt+et.shift(),ge=gt+et.shift(),Te=se+et.shift(),Pe=ge+et.shift(),hn=Te+et.shift(),yn=Pe,fn=hn+et.shift(),In=Pe,wn=fn+et.shift(),On=In+et.shift(),mt=wn+et.shift(),ut.curveTo(se,ge,Te,Pe,hn,yn),ut.curveTo(fn,In,wn,On,mt,gt);break;case 37:se=mt+et.shift(),ge=gt+et.shift(),Te=se+et.shift(),Pe=ge+et.shift(),hn=Te+et.shift(),yn=Pe+et.shift(),fn=hn+et.shift(),In=yn+et.shift(),wn=fn+et.shift(),On=In+et.shift(),Math.abs(wn-mt)>Math.abs(On-gt)?mt=wn+et.shift():gt=On+et.shift(),ut.curveTo(se,ge,Te,Pe,hn,yn),ut.curveTo(fn,In,wn,On,mt,gt);break;default:console.log("Glyph "+K.index+": unknown operator 1200"+Nn),et.length=0}break;case 14:0<et.length&&!vt&&(Vt=et.shift()+pt,vt=!0),At&&(ut.closePath(),At=!1);break;case 18:$t();break;case 19:case 20:$t(),vn+=Ct+7>>3;break;case 21:2<et.length&&!vt&&(Vt=et.shift()+pt,vt=!0),gt+=et.pop(),Qt(mt+=et.pop(),gt);break;case 22:1<et.length&&!vt&&(Vt=et.shift()+pt,vt=!0),Qt(mt+=et.pop(),gt);break;case 23:$t();break;case 24:for(;2<et.length;)se=mt+et.shift(),ge=gt+et.shift(),Te=se+et.shift(),Pe=ge+et.shift(),mt=Te+et.shift(),gt=Pe+et.shift(),ut.curveTo(se,ge,Te,Pe,mt,gt);mt+=et.shift(),gt+=et.shift(),ut.lineTo(mt,gt);break;case 25:for(;6<et.length;)mt+=et.shift(),gt+=et.shift(),ut.lineTo(mt,gt);se=mt+et.shift(),ge=gt+et.shift(),Te=se+et.shift(),Pe=ge+et.shift(),mt=Te+et.shift(),gt=Pe+et.shift(),ut.curveTo(se,ge,Te,Pe,mt,gt);break;case 26:for(et.length%2&&(mt+=et.shift());0<et.length;)se=mt,ge=gt+et.shift(),Te=se+et.shift(),Pe=ge+et.shift(),mt=Te,gt=Pe+et.shift(),ut.curveTo(se,ge,Te,Pe,mt,gt);break;case 27:for(et.length%2&&(gt+=et.shift());0<et.length;)se=mt+et.shift(),ge=gt,Te=se+et.shift(),Pe=ge+et.shift(),mt=Te+et.shift(),gt=Pe,ut.curveTo(se,ge,Te,Pe,mt,gt);break;case 28:gn=Kt[vn],An=Kt[vn+1],et.push((gn<<24|An<<16)>>16),vn+=2;break;case 29:kn=et.pop()+Y.gsubrsBias,(Yn=Y.gsubrs[kn])&&qt(Yn);break;case 30:for(;0<et.length&&(se=mt,ge=gt+et.shift(),Te=se+et.shift(),Pe=ge+et.shift(),mt=Te+et.shift(),gt=Pe+(et.length===1?et.shift():0),ut.curveTo(se,ge,Te,Pe,mt,gt),et.length!==0);)se=mt+et.shift(),ge=gt,Te=se+et.shift(),Pe=ge+et.shift(),gt=Pe+et.shift(),mt=Te+(et.length===1?et.shift():0),ut.curveTo(se,ge,Te,Pe,mt,gt);break;case 31:for(;0<et.length&&(se=mt+et.shift(),ge=gt,Te=se+et.shift(),Pe=ge+et.shift(),gt=Pe+et.shift(),mt=Te+(et.length===1?et.shift():0),ut.curveTo(se,ge,Te,Pe,mt,gt),et.length!==0);)se=mt,ge=gt+et.shift(),Te=se+et.shift(),Pe=ge+et.shift(),mt=Te+et.shift(),gt=Pe+(et.length===1?et.shift():0),ut.curveTo(se,ge,Te,Pe,mt,gt);break;default:Nn<32?console.log("Glyph "+K.index+": unknown operator "+Nn):Nn<247?et.push(Nn-139):Nn<251?(gn=Kt[vn],vn+=1,et.push(256*(Nn-247)+gn+108)):Nn<255?(gn=Kt[vn],vn+=1,et.push(256*-(Nn-251)-gn-108)):(gn=Kt[vn],An=Kt[vn+1],En=Kt[vn+2],Pn=Kt[vn+3],vn+=4,et.push((gn<<24|An<<16|En<<8|Pn)/65536))}}}(ae),K.advanceWidth=Vt,ut}function Ht(Y,K){var ae,se=Se.indexOf(Y);return 0<=se&&(ae=se),0<=(se=K.indexOf(Y))?ae=se+Se.length:(ae=Se.length+K.length,K.push(Y)),ae}function rn(Y,K,ae){for(var se={},ge=0;ge<Y.length;ge+=1){var Te=Y[ge],Pe=K[Te.name];Pe===void 0||function Ge(Ze,Qe){if(Ze===Qe)return 1;if(Array.isArray(Ze)&&Array.isArray(Qe)&&Ze.length===Qe.length){for(var at=0;at<Ze.length;at+=1)if(!Ge(Ze[at],Qe[at]))return;return 1}}(Pe,Te.value)||(Te.type==="SID"&&(Pe=Ht(Pe,ae)),se[Te.op]={name:Te.name,type:Te.type,value:Pe})}return se}function Zt(Y,K){var ae=new je.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return ae.dict=rn(Lt,Y,K),ae}function Jt(Y){var K=new je.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return K.topDicts=[{name:"topDict_0",type:"TABLE",value:Y}],K}function an(Y){for(var K=new je.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),ae=0;ae<Y.length;ae+=1){var se=Y.get(ae),ge=function(Te){for(var Pe=[],Ge=Te.path,Ze=(Pe.push({name:"width",type:"NUMBER",value:Te.advanceWidth}),0),Qe=0,at=0;at<Ge.commands.length;at+=1){var pt,ut,et,Ct,vt=void 0,At=void 0,mt=Ge.commands[at];(mt=mt.type==="Q"?{type:"C",x:mt.x,y:mt.y,x1:1/3*Ze+2/3*mt.x1,y1:1/3*Qe+2/3*mt.y1,x2:1/3*mt.x+2/3*mt.x1,y2:1/3*mt.y+2/3*mt.y1}:mt).type==="M"?(vt=Math.round(mt.x-Ze),At=Math.round(mt.y-Qe),Pe.push({name:"dx",type:"NUMBER",value:vt}),Pe.push({name:"dy",type:"NUMBER",value:At}),Pe.push({name:"rmoveto",type:"OP",value:21}),Ze=Math.round(mt.x),Qe=Math.round(mt.y)):mt.type==="L"?(vt=Math.round(mt.x-Ze),At=Math.round(mt.y-Qe),Pe.push({name:"dx",type:"NUMBER",value:vt}),Pe.push({name:"dy",type:"NUMBER",value:At}),Pe.push({name:"rlineto",type:"OP",value:5}),Ze=Math.round(mt.x),Qe=Math.round(mt.y)):mt.type==="C"&&(pt=Math.round(mt.x1-Ze),ut=Math.round(mt.y1-Qe),et=Math.round(mt.x2-mt.x1),Ct=Math.round(mt.y2-mt.y1),vt=Math.round(mt.x-mt.x2),At=Math.round(mt.y-mt.y2),Pe.push({name:"dx1",type:"NUMBER",value:pt}),Pe.push({name:"dy1",type:"NUMBER",value:ut}),Pe.push({name:"dx2",type:"NUMBER",value:et}),Pe.push({name:"dy2",type:"NUMBER",value:Ct}),Pe.push({name:"dx",type:"NUMBER",value:vt}),Pe.push({name:"dy",type:"NUMBER",value:At}),Pe.push({name:"rrcurveto",type:"OP",value:8}),Ze=Math.round(mt.x),Qe=Math.round(mt.y))}return Pe.push({name:"endchar",type:"OP",value:14}),Pe}(se);K.charStrings.push({name:se.name,type:"CHARSTRING",value:ge})}return K}var Wt={parse:function(Y,K,ae){ae.tables.cff={},Ge=Y,se=K,(ge={}).formatMajor=ze.getCard8(Ge,se),ge.formatMinor=ze.getCard8(Ge,se+1),ge.size=ze.getCard8(Ge,se+2),ge.offsetSize=ze.getCard8(Ge,se+3),ge.startOffset=se,ge.endOffset=se+4;var Ge=xt(Y,ge.endOffset,ze.bytesToString),se=xt(Y,Ge.endOffset),ge=xt(Y,se.endOffset,ze.bytesToString),Ge=xt(Y,ge.endOffset);if(ae.gsubrs=Ge.objects,ae.gsubrsBias=wt(ae.gsubrs),(Ge=It(Y,K,se.objects,ge.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+Ge.length);if(se=Ge[0],(ae.tables.cff.topDict=se)._privateDict&&(ae.defaultWidthX=se._privateDict.defaultWidthX,ae.nominalWidthX=se._privateDict.nominalWidthX),se.ros[0]!==void 0&&se.ros[1]!==void 0&&(ae.isCIDFont=!0),ae.isCIDFont){var Ge=se.fdArray,Te=se.fdSelect;if(Ge===0||Te===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");Ge=It(Y,K,xt(Y,Ge+=K).objects,ge.objects),se._fdArray=Ge,se._fdSelect=function(ut,et,Ct,vt){var At,mt=[],gt=new ze.Parser(ut,et);if((ut=gt.parseCard8())===0)for(var Vt=0;Vt<Ct;Vt++){if(vt<=(At=gt.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+At+" (FD count "+vt+")");mt.push(At)}else{if(ut!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+ut);var Qt,$t=gt.parseCard16(),qt=gt.parseCard16();if(qt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+qt);for(var Kt=0;Kt<$t;Kt++){if(At=gt.parseCard8(),Qt=gt.parseCard16(),vt<=At)throw new Error("CFF table CID Font FDSelect has bad FD index value "+At+" (FD count "+vt+")");if(Ct<Qt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Qt);for(;qt<Qt;qt++)mt.push(At);qt=Qt}if(Qt!==Ct)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Qt)}return mt}(Y,Te+=K,ae.numGlyphs,Ge.length)}var Te=K+se.private[1],Ge=Pt(Y,Te,se.private[0],ge.objects),Pe=(ae.defaultWidthX=Ge.defaultWidthX,ae.nominalWidthX=Ge.nominalWidthX,Ge.subrs!==0?(Te=xt(Y,Te+Ge.subrs),ae.subrs=Te.objects,ae.subrsBias=wt(ae.subrs)):(ae.subrs=[],ae.subrsBias=0),xt(Y,K+se.charStrings)),Ge=(ae.nGlyphs=Pe.objects.length,function(at,pt,ut,et){var Ct=new ze.Parser(at,pt),vt=(--ut,[".notdef"]);if((at=Ct.parseCard8())===0)for(var At=0;At<ut;At+=1)mt=Ct.parseSID(),vt.push(Mt(et,mt));else if(at===1)for(;vt.length<=ut;)for(var mt=Ct.parseSID(),gt=Ct.parseCard8(),Vt=0;Vt<=gt;Vt+=1)vt.push(Mt(et,mt)),mt+=1;else{if(at!==2)throw new Error("Unknown charset format "+at);for(;vt.length<=ut;){mt=Ct.parseSID(),gt=Ct.parseCard16();for(var Qt=0;Qt<=gt;Qt+=1)vt.push(Mt(et,mt)),mt+=1}}return vt}(Y,K+se.charset,ae.nGlyphs,ge.objects));se.encoding===0?ae.cffEncoding=new lt(Me,Ge):se.encoding===1?ae.cffEncoding=new lt(me,Ge):ae.cffEncoding=function(at,pt,ut){var et={},Ct=new ze.Parser(at,pt);if((at=Ct.parseCard8())===0)for(var vt=Ct.parseCard8(),At=0;At<vt;At+=1)et[gt=Ct.parseCard8()]=At;else{if(at!==1)throw new Error("Unknown encoding format "+at);for(var mt=Ct.parseCard8(),gt=1,Vt=0;Vt<mt;Vt+=1)for(var Qt=Ct.parseCard8(),$t=Ct.parseCard8(),qt=Qt;qt<=Qt+$t;qt+=1)et[qt]=gt,gt+=1}return new lt(et,ut)}(Y,K+se.encoding,Ge),ae.encoding=ae.encoding||ae.cffEncoding,ae.glyphs=new bt.GlyphSet(ae);for(var Ze=0;Ze<ae.nGlyphs;Ze+=1){var Qe=Pe.objects[Ze];ae.glyphs.push(Ze,bt.cffGlyphLoader(ae,Ze,Rt,Qe))}},make:function(Y,at){for(var ae,se=new je.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),ge=1/at.unitsPerEm,ge={version:at.version,fullName:at.fullName,familyName:at.familyName,weight:at.weightName,fontBBox:at.fontBBox||[0,0,0,0],fontMatrix:[ge,0,0,ge,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},Te=[],Pe=1;Pe<Y.length;Pe+=1)ae=Y.get(Pe),Te.push(ae.name);var Ge,Ze,Qe=[],at=(se.header=new je.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),se.nameIndex=function(ut){var et=new je.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);et.names=[];for(var Ct=0;Ct<ut.length;Ct+=1)et.names.push({name:"name_"+Ct,type:"NAME",value:ut[Ct]});return et}([at.postScriptName]),Zt(ge,Qe)),pt=(se.topDictIndex=Jt(at),se.globalSubrIndex=new je.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),se.charsets=function(ut,et){for(var Ct=new je.Record("Charsets",[{name:"format",type:"Card8",value:0}]),vt=0;vt<ut.length;vt+=1){var At=Ht(ut[vt],et);Ct.fields.push({name:"glyph_"+vt,type:"SID",value:At})}return Ct}(Te,Qe),se.charStringsIndex=an(Y),se.privateDict=(pt={},Ge=Qe,(Ze=new je.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=rn(Ft,pt,Ge),Ze),se.stringIndex=function(ut){var et=new je.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);et.strings=[];for(var Ct=0;Ct<ut.length;Ct+=1)et.strings.push({name:"string_"+Ct,type:"STRING",value:ut[Ct]});return et}(Qe),se.header.sizeOf()+se.nameIndex.sizeOf()+se.topDictIndex.sizeOf()+se.stringIndex.sizeOf()+se.globalSubrIndex.sizeOf());return ge.charset=pt,ge.encoding=0,ge.charStrings=ge.charset+se.charsets.sizeOf(),ge.private[1]=ge.charStrings+se.charStringsIndex.sizeOf(),at=Zt(ge,Qe),se.topDictIndex=Jt(at),se}},nn={parse:function(se,K){var ae={},se=new ze.Parser(se,K);return ae.version=se.parseVersion(),ae.fontRevision=Math.round(1e3*se.parseFixed())/1e3,ae.checkSumAdjustment=se.parseULong(),ae.magicNumber=se.parseULong(),W.argument(ae.magicNumber===1594834165,"Font header has wrong magic number."),ae.flags=se.parseUShort(),ae.unitsPerEm=se.parseUShort(),ae.created=se.parseLongDateTime(),ae.modified=se.parseLongDateTime(),ae.xMin=se.parseShort(),ae.yMin=se.parseShort(),ae.xMax=se.parseShort(),ae.yMax=se.parseShort(),ae.macStyle=se.parseUShort(),ae.lowestRecPPEM=se.parseUShort(),ae.fontDirectionHint=se.parseShort(),ae.indexToLocFormat=se.parseShort(),ae.glyphDataFormat=se.parseShort(),ae},make:function(Y){var K=Math.round(new Date().getTime()/1e3)+2082844800,ae=K;return Y.createdTimestamp&&(ae=Y.createdTimestamp+2082844800),new je.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:ae},{name:"modified",type:"LONGDATETIME",value:K},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],Y)}},Je={parse:function(se,K){var ae={},se=new ze.Parser(se,K);return ae.version=se.parseVersion(),ae.ascender=se.parseShort(),ae.descender=se.parseShort(),ae.lineGap=se.parseShort(),ae.advanceWidthMax=se.parseUShort(),ae.minLeftSideBearing=se.parseShort(),ae.minRightSideBearing=se.parseShort(),ae.xMaxExtent=se.parseShort(),ae.caretSlopeRise=se.parseShort(),ae.caretSlopeRun=se.parseShort(),ae.caretOffset=se.parseShort(),se.relativeOffset+=8,ae.metricDataFormat=se.parseShort(),ae.numberOfHMetrics=se.parseUShort(),ae},make:function(Y){return new je.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],Y)}},Et={parse:function(Y,K,ae,se,ge){for(var Te,Pe,Ge=new ze.Parser(Y,K),Ze=0;Ze<se;Ze+=1){Ze<ae&&(Te=Ge.parseUShort(),Pe=Ge.parseShort());var Qe=ge.get(Ze);Qe.advanceWidth=Te,Qe.leftSideBearing=Pe}},make:function(Y){for(var K=new je.Table("hmtx",[]),ae=0;ae<Y.length;ae+=1){var ge=Y.get(ae),se=ge.advanceWidth||0,ge=ge.leftSideBearing||0;K.fields.push({name:"advanceWidth_"+ae,type:"USHORT",value:se}),K.fields.push({name:"leftSideBearing_"+ae,type:"SHORT",value:ge})}return K}},_e={make:function(Y){for(var K=new je.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:Y.length}]),ae="",se=12+4*Y.length,ge=0;ge<Y.length;++ge){var Te=ae.indexOf(Y[ge]);Te<0&&(Te=ae.length,ae+=Y[ge]),K.fields.push({name:"offset "+ge,type:"USHORT",value:se+Te}),K.fields.push({name:"length "+ge,type:"USHORT",value:Y[ge].length})}return K.fields.push({name:"stringPool",type:"CHARARRAY",value:ae}),K},parse:function(Y,K){for(var ae=new ze.Parser(Y,K),se=ae.parseULong(),ge=(W.argument(se===1,"Unsupported ltag table version."),ae.skip("uLong",1),ae.parseULong()),Te=[],Pe=0;Pe<ge;Pe++){for(var Ge="",Ze=K+ae.parseUShort(),Qe=ae.parseUShort(),at=Ze;at<Ze+Qe;++at)Ge+=String.fromCharCode(Y.getInt8(at));Te.push(Ge)}return Te}},Oe={parse:function(se,K){var ae={},se=new ze.Parser(se,K);return ae.version=se.parseVersion(),ae.numGlyphs=se.parseUShort(),ae.version===1&&(ae.maxPoints=se.parseUShort(),ae.maxContours=se.parseUShort(),ae.maxCompositePoints=se.parseUShort(),ae.maxCompositeContours=se.parseUShort(),ae.maxZones=se.parseUShort(),ae.maxTwilightPoints=se.parseUShort(),ae.maxStorage=se.parseUShort(),ae.maxFunctionDefs=se.parseUShort(),ae.maxInstructionDefs=se.parseUShort(),ae.maxStackElements=se.parseUShort(),ae.maxSizeOfInstructions=se.parseUShort(),ae.maxComponentElements=se.parseUShort(),ae.maxComponentDepth=se.parseUShort()),ae},make:function(Y){return new je.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:Y}])}},Ue=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Fe={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},He={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Re={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Ye="utf-16",tt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},ct={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function st(Y,K,ae){switch(Y){case 0:return Ye;case 1:return ct[ae]||tt[K];case 3:if(K===1||K===10)return Ye}}function ot(Y){var K,ae={};for(K in Y)ae[Y[K]]=parseInt(K);return ae}function Dt(Y,K,ae,se,ge,Te){return new je.Record("NameRecord",[{name:"platformID",type:"USHORT",value:Y},{name:"encodingID",type:"USHORT",value:K},{name:"languageID",type:"USHORT",value:ae},{name:"nameID",type:"USHORT",value:se},{name:"length",type:"USHORT",value:ge},{name:"offset",type:"USHORT",value:Te}])}function Nt(Y,K){if((ae=function(Te,Pe){var Ge=Te.length,Ze=Pe.length-Ge+1;e:for(var Qe=0;Qe<Ze;Qe++)for(;Qe<Ze;Qe++){for(var at=0;at<Ge;at++)if(Pe[Qe+at]!==Te[at])continue e;return Qe}return-1}(Y,K))<0)for(var ae=K.length,se=0,ge=Y.length;se<ge;++se)K.push(Y[se]);return ae}var Ut={parse:function(Y,K,ae){for(var se={},ge=new ze.Parser(Y,K),K=ge.parseUShort(),Te=ge.parseUShort(),Pe=ge.offset+ge.parseUShort(),Ge=0;Ge<Te;Ge++){var Ct=ge.parseUShort(),Ze=ge.parseUShort(),Qe=ge.parseUShort(),at=ge.parseUShort(),at=Ue[at]||at,pt=ge.parseUShort(),ut=ge.parseUShort(),et=function(At,mt,gt){switch(At){case 0:if(mt===65535)return"und";if(gt)return gt[mt];break;case 1:return Fe[mt];case 3:return Re[mt]}}(Ct,Qe,ae),Ct=st(Ct,Ze,Qe);Ct!==void 0&&et!==void 0&&(Ze=void 0,(Ze=Ct===Ye?Q.UTF16(Y,Pe+ut,pt):Q.MACSTRING(Y,Pe+ut,pt,Ct))&&((Qe=(Qe=se[at])===void 0?se[at]={}:Qe)[et]=Ze))}return K===1&&ge.parseUShort(),se},make:function(Y,K){var ae,se=[],ge={},Te=ot(Ue);for(ae in Y){var Pe=Te[ae];if(Pe===void 0&&(Pe=ae),ut=parseInt(Pe),isNaN(ut))throw new Error('Name table entry "'+ae+'" does not exist, see nameTableNames for complete list.');ge[ut]=Y[ae],se.push(ut)}for(var Ge=ot(Fe),Ze=ot(Re),Qe=[],at=[],pt=0;pt<se.length;pt++){var ut,et,Ct=ge[ut=se[pt]];for(et in Ct){var vt=Ct[et],Qt=1,At=Ge[et],mt=He[At],gt=st(Qt,mt,At),gt=te.MACSTRING(vt,gt),Vt=(gt===void 0&&(Qt=0,(At=K.indexOf(et))<0&&(At=K.length,K.push(et)),mt=4,gt=te.UTF16(vt)),Nt(gt,at)),Qt=(Qe.push(Dt(Qt,mt,At,ut,gt.length,Vt)),Ze[et]);Qt!==void 0&&(At=Nt(mt=te.UTF16(vt),at),Qe.push(Dt(3,1,Qt,ut,mt.length,At)))}}Qe.sort(function(Kt,gn){return Kt.platformID-gn.platformID||Kt.encodingID-gn.encodingID||Kt.languageID-gn.languageID||Kt.nameID-gn.nameID});for(var $t=new je.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:Qe.length},{name:"stringOffset",type:"USHORT",value:6+12*Qe.length}]),qt=0;qt<Qe.length;qt++)$t.fields.push({name:"record_"+qt,type:"RECORD",value:Qe[qt]});return $t.fields.push({name:"strings",type:"LITERAL",value:at}),$t}},Gt=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Xt={parse:function(Y,K){var ae={},se=new ze.Parser(Y,K);ae.version=se.parseUShort(),ae.xAvgCharWidth=se.parseShort(),ae.usWeightClass=se.parseUShort(),ae.usWidthClass=se.parseUShort(),ae.fsType=se.parseUShort(),ae.ySubscriptXSize=se.parseShort(),ae.ySubscriptYSize=se.parseShort(),ae.ySubscriptXOffset=se.parseShort(),ae.ySubscriptYOffset=se.parseShort(),ae.ySuperscriptXSize=se.parseShort(),ae.ySuperscriptYSize=se.parseShort(),ae.ySuperscriptXOffset=se.parseShort(),ae.ySuperscriptYOffset=se.parseShort(),ae.yStrikeoutSize=se.parseShort(),ae.yStrikeoutPosition=se.parseShort(),ae.sFamilyClass=se.parseShort(),ae.panose=[];for(var ge=0;ge<10;ge++)ae.panose[ge]=se.parseByte();return ae.ulUnicodeRange1=se.parseULong(),ae.ulUnicodeRange2=se.parseULong(),ae.ulUnicodeRange3=se.parseULong(),ae.ulUnicodeRange4=se.parseULong(),ae.achVendID=String.fromCharCode(se.parseByte(),se.parseByte(),se.parseByte(),se.parseByte()),ae.fsSelection=se.parseUShort(),ae.usFirstCharIndex=se.parseUShort(),ae.usLastCharIndex=se.parseUShort(),ae.sTypoAscender=se.parseShort(),ae.sTypoDescender=se.parseShort(),ae.sTypoLineGap=se.parseShort(),ae.usWinAscent=se.parseUShort(),ae.usWinDescent=se.parseUShort(),1<=ae.version&&(ae.ulCodePageRange1=se.parseULong(),ae.ulCodePageRange2=se.parseULong()),2<=ae.version&&(ae.sxHeight=se.parseShort(),ae.sCapHeight=se.parseShort(),ae.usDefaultChar=se.parseUShort(),ae.usBreakChar=se.parseUShort(),ae.usMaxContent=se.parseUShort()),ae},make:function(Y){return new je.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],Y)},unicodeRanges:Gt,getUnicodeRange:function(Y){for(var K=0;K<Gt.length;K+=1){var ae=Gt[K];if(Y>=ae.begin&&Y<ae.end)return K}return-1}},en={parse:function(Y,K){var ae={},se=new ze.Parser(Y,K);switch(ae.version=se.parseVersion(),ae.italicAngle=se.parseFixed(),ae.underlinePosition=se.parseShort(),ae.underlineThickness=se.parseShort(),ae.isFixedPitch=se.parseULong(),ae.minMemType42=se.parseULong(),ae.maxMemType42=se.parseULong(),ae.minMemType1=se.parseULong(),ae.maxMemType1=se.parseULong(),ae.version){case 1:ae.names=Ve.slice();break;case 2:ae.numberOfGlyphs=se.parseUShort(),ae.glyphNameIndex=new Array(ae.numberOfGlyphs);for(var ge=0;ge<ae.numberOfGlyphs;ge++)ae.glyphNameIndex[ge]=se.parseUShort();ae.names=[];for(var Te,Pe=0;Pe<ae.numberOfGlyphs;Pe++)ae.glyphNameIndex[Pe]>=Ve.length&&(Te=se.parseChar(),ae.names.push(se.parseString(Te)));break;case 2.5:ae.numberOfGlyphs=se.parseUShort(),ae.offset=new Array(ae.numberOfGlyphs);for(var Ge=0;Ge<ae.numberOfGlyphs;Ge++)ae.offset[Ge]=se.parseChar()}return ae},make:function(){return new je.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},sn=new Array(9),un=(sn[1]=function(){var Y=this.offset+this.relativeOffset,K=this.parseUShort();return K===1?{substFormat:1,coverage:this.parsePointer(Le.coverage),deltaGlyphId:this.parseUShort()}:K===2?{substFormat:2,coverage:this.parsePointer(Le.coverage),substitute:this.parseOffset16List()}:void W.assert(!1,"0x"+Y.toString(16)+": lookup type 1 format must be 1 or 2.")},sn[2]=function(){var Y=this.parseUShort();return W.argument(Y===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:Y,coverage:this.parsePointer(Le.coverage),sequences:this.parseListOfLists()}},sn[3]=function(){var Y=this.parseUShort();return W.argument(Y===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:Y,coverage:this.parsePointer(Le.coverage),alternateSets:this.parseListOfLists()}},sn[4]=function(){var Y=this.parseUShort();return W.argument(Y===1,"GSUB ligature table identifier-format must be 1"),{substFormat:Y,coverage:this.parsePointer(Le.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Le.uShort,lookupListIndex:Le.uShort});sn[5]=function(){var Y,K,ae=this.offset+this.relativeOffset,se=this.parseUShort();return se===1?{substFormat:se,coverage:this.parsePointer(Le.coverage),ruleSets:this.parseListOfLists(function(){var ge=this.parseUShort(),Te=this.parseUShort();return{input:this.parseUShortList(ge-1),lookupRecords:this.parseRecordList(Te,un)}})}:se===2?{substFormat:se,coverage:this.parsePointer(Le.coverage),classDef:this.parsePointer(Le.classDef),classSets:this.parseListOfLists(function(){var ge=this.parseUShort(),Te=this.parseUShort();return{classes:this.parseUShortList(ge-1),lookupRecords:this.parseRecordList(Te,un)}})}:se===3?(Y=this.parseUShort(),K=this.parseUShort(),{substFormat:se,coverages:this.parseList(Y,Le.pointer(Le.coverage)),lookupRecords:this.parseRecordList(K,un)}):void W.assert(!1,"0x"+ae.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},sn[6]=function(){var Y=this.offset+this.relativeOffset,K=this.parseUShort();return K===1?{substFormat:1,coverage:this.parsePointer(Le.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(un)}})}:K===2?{substFormat:2,coverage:this.parsePointer(Le.coverage),backtrackClassDef:this.parsePointer(Le.classDef),inputClassDef:this.parsePointer(Le.classDef),lookaheadClassDef:this.parsePointer(Le.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(un)}})}:K===3?{substFormat:3,backtrackCoverage:this.parseList(Le.pointer(Le.coverage)),inputCoverage:this.parseList(Le.pointer(Le.coverage)),lookaheadCoverage:this.parseList(Le.pointer(Le.coverage)),lookupRecords:this.parseRecordList(un)}:void W.assert(!1,"0x"+Y.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},sn[7]=function(){var Y=this.parseUShort(),Y=(W.argument(Y===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),K=new Le(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:Y,extension:sn[Y].call(K)}},sn[8]=function(){var Y=this.parseUShort();return W.argument(Y===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:Y,coverage:this.parsePointer(Le.coverage),backtrackCoverage:this.parseList(Le.pointer(Le.coverage)),lookaheadCoverage:this.parseList(Le.pointer(Le.coverage)),substitutes:this.parseUShortList()}};var bn=new Array(9);bn[1]=function(Y){return Y.substFormat===1?new je.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new je.Coverage(Y.coverage)},{name:"deltaGlyphID",type:"USHORT",value:Y.deltaGlyphId}]):new je.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new je.Coverage(Y.coverage)}].concat(je.ushortList("substitute",Y.substitute)))},bn[3]=function(Y){return W.assert(Y.substFormat===1,"Lookup type 3 substFormat must be 1."),new je.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new je.Coverage(Y.coverage)}].concat(je.tableList("altSet",Y.alternateSets,function(K){return new je.Table("alternateSetTable",je.ushortList("alternate",K))})))},bn[4]=function(Y){return W.assert(Y.substFormat===1,"Lookup type 4 substFormat must be 1."),new je.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new je.Coverage(Y.coverage)}].concat(je.tableList("ligSet",Y.ligatureSets,function(K){return new je.Table("ligatureSetTable",je.tableList("ligature",K,function(ae){return new je.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:ae.ligGlyph}].concat(je.ushortList("component",ae.components,ae.components.length+1)))}))})))};var Un={parse:function(Y,K){return K=(Y=new Le(Y,K=K||0)).parseVersion(1),W.argument(K===1||K===1.1,"Unsupported GSUB table version."),K===1?{version:K,scripts:Y.parseScriptList(),features:Y.parseFeatureList(),lookups:Y.parseLookupList(sn)}:{version:K,scripts:Y.parseScriptList(),features:Y.parseFeatureList(),lookups:Y.parseLookupList(sn),variations:Y.parseFeatureVariationsList()}},make:function(Y){return new je.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new je.ScriptList(Y.scripts)},{name:"features",type:"TABLE",value:new je.FeatureList(Y.features)},{name:"lookups",type:"TABLE",value:new je.LookupList(Y.lookups,bn)}])}},tr={parse:function(Y,K){for(var ae=new ze.Parser(Y,K),se=ae.parseULong(),ge=(W.argument(se===1,"Unsupported META table version."),ae.parseULong(),ae.parseULong(),ae.parseULong()),Te={},Pe=0;Pe<ge;Pe++){var Ge=ae.parseTag(),Qe=ae.parseULong(),Ze=ae.parseULong(),Qe=Q.UTF8(Y,K+Qe,Ze);Te[Ge]=Qe}return Te},make:function(Y){var K,ae=Object.keys(Y).length,se="",ge=16+12*ae,Te=new je.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:ge},{name:"numTags",type:"ULONG",value:ae}]);for(K in Y){var Pe=se.length;se+=Y[K],Te.fields.push({name:"tag "+K,type:"TAG",value:K}),Te.fields.push({name:"offset "+K,type:"ULONG",value:ge+Pe}),Te.fields.push({name:"length "+K,type:"ULONG",value:Y[K].length})}return Te.fields.push({name:"stringPool",type:"CHARARRAY",value:se}),Te}};function Gn(Y){return Math.log(Y)/Math.log(2)|0}function nr(Y){for(;Y.length%4!=0;)Y.push(0);for(var K=0,ae=0;ae<Y.length;ae+=4)K+=(Y[ae]<<24)+(Y[ae+1]<<16)+(Y[ae+2]<<8)+Y[ae+3];return K%=Math.pow(2,32)}function Bn(Y,K,ae,se){return new je.Record("Table Record",[{name:"tag",type:"TAG",value:Y!==void 0?Y:""},{name:"checkSum",type:"ULONG",value:K!==void 0?K:0},{name:"offset",type:"ULONG",value:ae!==void 0?ae:0},{name:"length",type:"ULONG",value:se!==void 0?se:0}])}function Vn(Y){for(var K=new je.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),ae=(K.tables=Y,K.numTables=Y.length,Math.pow(2,Gn(K.numTables))),se=(K.searchRange=16*ae,K.entrySelector=Gn(ae),K.rangeShift=16*K.numTables-K.searchRange,[]),ge=[],Te=K.sizeOf()+Bn().sizeOf()*K.numTables;Te%4!=0;)Te+=1,ge.push({name:"padding",type:"BYTE",value:0});for(var Pe=0;Pe<Y.length;Pe+=1){var Ge=Y[Pe],Ze=(W.argument(Ge.tableName.length===4,"Table name"+Ge.tableName+" is invalid."),Ge.sizeOf()),Qe=Bn(Ge.tableName,nr(Ge.encode()),Te,Ze);for(se.push({name:Qe.tag+" Table Record",type:"RECORD",value:Qe}),ge.push({name:Ge.tableName+" table",type:"RECORD",value:Ge}),Te+=Ze,W.argument(!isNaN(Te),"Something went wrong calculating the offset.");Te%4!=0;)Te+=1,ge.push({name:"padding",type:"BYTE",value:0})}return se.sort(function(at,pt){return at.value.tag>pt.value.tag?1:-1}),K.fields=K.fields.concat(se),K.fields=K.fields.concat(ge),K}function Jn(Y,K,ae){for(var se=0;se<K.length;se+=1){var ge=Y.charToGlyphIndex(K[se]);if(0<ge)return Y.glyphs.get(ge).getMetrics()}return ae}var zn={make:Vn,fontToTable:function(Y){for(var K,ae=[],se=[],ge=[],Te=[],Pe=[],Ge=[],Ze=[],Qe=0,at=0,pt=0,ut=0,et=0,Ct=0;Ct<Y.glyphs.length;Ct+=1){var vt=Y.glyphs.get(Ct),At=0|vt.unicode;if(isNaN(vt.advanceWidth))throw new Error("Glyph "+vt.name+" ("+Ct+"): advanceWidth is not a number.");(At<K||K===void 0)&&0<At&&(K=At),Qe<At&&(Qe=At);var At=Xt.getUnicodeRange(At);if(At<32)at|=1<<At;else if(At<64)pt|=1<<At-32;else if(At<96)ut|=1<<At-64;else{if(!(At<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");et|=1<<At-96}vt.name!==".notdef"&&(At=vt.getMetrics(),ae.push(At.xMin),se.push(At.yMin),ge.push(At.xMax),Te.push(At.yMax),Ge.push(At.leftSideBearing),Ze.push(At.rightSideBearing),Pe.push(vt.advanceWidth))}var mt,gt={xMin:Math.min.apply(null,ae),yMin:Math.min.apply(null,se),xMax:Math.max.apply(null,ge),yMax:Math.max.apply(null,Te),advanceWidthMax:Math.max.apply(null,Pe),advanceWidthAvg:function(Nn){for(var Ur=0,br=0;br<Nn.length;br+=1)Ur+=Nn[br];return Ur/Nn.length}(Pe),minLeftSideBearing:Math.min.apply(null,Ge),maxLeftSideBearing:Math.max.apply(null,Ge),minRightSideBearing:Math.min.apply(null,Ze)},Vt=(gt.ascender=Y.ascender,gt.descender=Y.descender,nn.make({flags:3,unitsPerEm:Y.unitsPerEm,xMin:gt.xMin,yMin:gt.yMin,xMax:gt.xMax,yMax:gt.yMax,lowestRecPPEM:3,createdTimestamp:Y.createdTimestamp})),Qt=Je.make({ascender:gt.ascender,descender:gt.descender,advanceWidthMax:gt.advanceWidthMax,minLeftSideBearing:gt.minLeftSideBearing,minRightSideBearing:gt.minRightSideBearing,xMaxExtent:gt.maxLeftSideBearing+(gt.xMax-gt.xMin),numberOfHMetrics:Y.glyphs.length}),$t=Oe.make(Y.glyphs.length),qt=Xt.make({xAvgCharWidth:Math.round(gt.advanceWidthAvg),usWeightClass:Y.tables.os2.usWeightClass,usWidthClass:Y.tables.os2.usWidthClass,usFirstCharIndex:K,usLastCharIndex:Qe,ulUnicodeRange1:at,ulUnicodeRange2:pt,ulUnicodeRange3:ut,ulUnicodeRange4:et,fsSelection:Y.tables.os2.fsSelection,sTypoAscender:gt.ascender,sTypoDescender:gt.descender,sTypoLineGap:0,usWinAscent:gt.yMax,usWinDescent:Math.abs(gt.yMin),ulCodePageRange1:1,sxHeight:Jn(Y,"xyvw",{yMax:Math.round(gt.ascender/2)}).yMax,sCapHeight:Jn(Y,"HIKLEFJMNTZBDPRAGOQSUVWXY",gt).yMax,usDefaultChar:Y.hasChar(" ")?32:0,usBreakChar:Y.hasChar(" ")?32:0}),Kt=Et.make(Y.glyphs),gn=Ee.make(Y.glyphs),yn=Y.getEnglishName("fontFamily"),fn=Y.getEnglishName("fontSubfamily"),hn=yn+" "+fn,An=(An=Y.getEnglishName("postScriptName"))||yn.replace(/\s/g,"")+"-"+fn,En={};for(mt in Y.names)En[mt]=Y.names[mt];En.uniqueID||(En.uniqueID={en:Y.getEnglishName("manufacturer")+":"+hn}),En.postScriptName||(En.postScriptName={en:An}),En.preferredFamily||(En.preferredFamily=Y.names.fontFamily),En.preferredSubfamily||(En.preferredSubfamily=Y.names.fontSubfamily);var kn=[],Pn=Ut.make(En,kn),kn=0<kn.length?_e.make(kn):void 0,Yn=en.make(),hn=Wt.make(Y.glyphs,{version:Y.getEnglishName("version"),fullName:hn,familyName:yn,weightName:fn,postScriptName:An,unitsPerEm:Y.unitsPerEm,fontBBox:[0,gt.yMin,gt.ascender,gt.advanceWidthMax]}),yn=Y.metas&&0<Object.keys(Y.metas).length?tr.make(Y.metas):void 0,fn=[Vt,Qt,$t,qt,Pn,gn,Yn,hn,Kt];kn&&fn.push(kn),Y.tables.gsub&&fn.push(Un.make(Y.tables.gsub)),yn&&fn.push(yn);for(var In=nr((An=Vn(fn)).encode()),wn=An.fields,On=!1,vn=0;vn<wn.length;vn+=1)if(wn[vn].name==="head table"){wn[vn].value.checkSumAdjustment=2981146554-In,On=!0;break}if(On)return An;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:nr};function dn(Y,K){for(var ae=0,se=Y.length-1;ae<=se;){var ge=ae+se>>>1,Te=Y[ge].tag;if(Te===K)return ge;Te<K?ae=1+ge:se=ge-1}return-ae-1}function on(Y,K){for(var ae=0,se=Y.length-1;ae<=se;){var ge=ae+se>>>1,Te=Y[ge];if(Te===K)return ge;Te<K?ae=1+ge:se=ge-1}return-ae-1}function _r(Y,K){for(var ae=0,se=Y.length-1;ae<=se;){var ge,Te=ae+se>>>1,Pe=(ge=Y[Te]).start;if(Pe===K)return ge;Pe<K?ae=1+Te:se=Te-1}if(0<ae)return K>(ge=Y[ae-1]).end?0:ge}function cr(Y,K){this.font=Y,this.tableName=K}function ur(Y){cr.call(this,Y,"gpos")}function Wn(Y){cr.call(this,Y,"gsub")}function zr(Y,K,ae){for(var se=Y.subtables,ge=0;ge<se.length;ge++){var Te=se[ge];if(Te.substFormat===K)return Te}if(ae)return se.push(ae),ae}function Gr(Y){for(var K=new ArrayBuffer(Y.length),ae=new Uint8Array(K),se=0;se<Y.length;++se)ae[se]=Y[se];return K}function lr(Y,K){if(!Y)throw K}function Tn(Y,K,ae,se,ge){var Te=0<(K&se)?(Te=Y.parseByte(),ae+(Te=K&ge?Te:-Te)):0<(K&ge)?ae:ae+Y.parseShort();return Te}function ti(Y,K,ae){var se,ge=new ze.Parser(K,ae);if(Y.numberOfContours=ge.parseShort(),Y._xMin=ge.parseShort(),Y._yMin=ge.parseShort(),Y._xMax=ge.parseShort(),Y._yMax=ge.parseShort(),0<Y.numberOfContours){for(var Te=Y.endPointIndices=[],Pe=0;Pe<Y.numberOfContours;Pe+=1)Te.push(ge.parseUShort());Y.instructionLength=ge.parseUShort(),Y.instructions=[];for(var Ge=0;Ge<Y.instructionLength;Ge+=1)Y.instructions.push(ge.parseByte());for(var Ze=Te[Te.length-1]+1,Qe=[],at=0;at<Ze;at+=1)if(se=ge.parseByte(),Qe.push(se),0<(8&se))for(var pt=ge.parseByte(),ut=0;ut<pt;ut+=1)Qe.push(se),at+=1;if(W.argument(Qe.length===Ze,"Bad flags."),0<Te.length){var et,Ct=[];if(0<Ze){for(var vt=0;vt<Ze;vt+=1)se=Qe[vt],(et={}).onCurve=!!(1&se),et.lastPointOfContour=0<=Te.indexOf(vt),Ct.push(et);for(var At=0,mt=0;mt<Ze;mt+=1)se=Qe[mt],(et=Ct[mt]).x=Tn(ge,se,At,2,16),At=et.x;for(var gt=0,Vt=0;Vt<Ze;Vt+=1)se=Qe[Vt],(et=Ct[Vt]).y=Tn(ge,se,gt,4,32),gt=et.y}Y.points=Ct}else Y.points=[]}else if(Y.numberOfContours===0)Y.points=[];else{Y.isComposite=!0,Y.points=[],Y.components=[];for(var Qt=!0;Qt;){Qe=ge.parseUShort();var $t={glyphIndex:ge.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&Qe)?0<(2&Qe)?($t.dx=ge.parseShort(),$t.dy=ge.parseShort()):$t.matchedPoints=[ge.parseUShort(),ge.parseUShort()]:0<(2&Qe)?($t.dx=ge.parseChar(),$t.dy=ge.parseChar()):$t.matchedPoints=[ge.parseByte(),ge.parseByte()],0<(8&Qe)?$t.xScale=$t.yScale=ge.parseF2Dot14():0<(64&Qe)?($t.xScale=ge.parseF2Dot14(),$t.yScale=ge.parseF2Dot14()):0<(128&Qe)&&($t.xScale=ge.parseF2Dot14(),$t.scale01=ge.parseF2Dot14(),$t.scale10=ge.parseF2Dot14(),$t.yScale=ge.parseF2Dot14()),Y.components.push($t),Qt=!!(32&Qe)}if(256&Qe){Y.instructionLength=ge.parseUShort(),Y.instructions=[];for(var qt=0;qt<Y.instructionLength;qt+=1)Y.instructions.push(ge.parseByte())}}}function Or(Y,K){for(var ae=[],se=0;se<Y.length;se+=1){var ge=Y[se],ge={x:K.xScale*ge.x+K.scale01*ge.y+K.dx,y:K.scale10*ge.x+K.yScale*ge.y+K.dy,onCurve:ge.onCurve,lastPointOfContour:ge.lastPointOfContour};ae.push(ge)}return ae}function xr(Y){var K=new J;if(Y)for(var ae=function(pt){for(var ut=[],et=[],Ct=0;Ct<pt.length;Ct+=1){var vt=pt[Ct];et.push(vt),vt.lastPointOfContour&&(ut.push(et),et=[])}return W.argument(et.length===0,"There are still points left in the current contour."),ut}(Y),se=0;se<ae.length;++se){var ge,Te=ae[se],Pe=Te[Te.length-1],Ge=Te[0];Pe.onCurve?K.moveTo(Pe.x,Pe.y):Ge.onCurve?K.moveTo(Ge.x,Ge.y):(ge={x:.5*(Pe.x+Ge.x),y:.5*(Pe.y+Ge.y)},K.moveTo(ge.x,ge.y));for(var Ze=0;Ze<Te.length;++Ze){var Qe,at=Pe,Pe=Ge,Ge=Te[(Ze+1)%Te.length];Pe.onCurve?K.lineTo(Pe.x,Pe.y):(Qe=Ge,at.onCurve||(Pe.x,at.x,Pe.y,at.y),Ge.onCurve||(Qe={x:.5*(Pe.x+Ge.x),y:.5*(Pe.y+Ge.y)}),K.quadraticCurveTo(Pe.x,Pe.y,Qe.x,Qe.y))}K.closePath()}return K}function jn(Y,K){if(K.isComposite)for(var ae=0;ae<K.components.length;ae+=1){var se=K.components[ae],ge=Y.get(se.glyphIndex);if(ge.getPath(),ge.points){var Te=void 0;if(se.matchedPoints===void 0)Te=Or(ge.points,se);else{if(se.matchedPoints[0]>K.points.length-1||se.matchedPoints[1]>ge.points.length-1)throw Error("Matched points out of range in "+K.name);var Pe=K.points[se.matchedPoints[0]],Ge=ge.points[se.matchedPoints[1]],se={xScale:se.xScale,scale01:se.scale01,scale10:se.scale10,yScale:se.yScale,dx:0,dy:0},Ge=Or([Ge],se)[0];se.dx=Pe.x-Ge.x,se.dy=Pe.y-Ge.y,Te=Or(ge.points,se)}K.points=K.points.concat(Te)}}return xr(K.points)}(ur.prototype=cr.prototype={searchTag:dn,binSearch:on,getTable:function(Y){var K=this.font.tables[this.tableName];return K=!K&&Y?this.font.tables[this.tableName]=this.createDefaultTable():K},getScriptNames:function(){var Y=this.getTable();return Y?Y.scripts.map(function(K){return K.tag}):[]},getDefaultScriptName:function(){var Y=this.getTable();if(Y){for(var K=!1,ae=0;ae<Y.scripts.length;ae++){var se=Y.scripts[ae].tag;if(se==="DFLT")return se;se==="latn"&&(K=!0)}return K?"latn":void 0}},getScriptTable:function(Y,K){var ae,se=this.getTable(K);if(se)return ae=se.scripts,0<=(se=dn(se.scripts,Y=Y||"DFLT"))?ae[se].script:K?(ae.splice(-1-se,0,K={tag:Y,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),K.script):void 0},getLangSysTable:function(ge,K,ae){var se,ge=this.getScriptTable(ge,ae);if(ge)return K&&K!=="dflt"&&K!=="DFLT"?0<=(se=dn(ge.langSysRecords,K))?ge.langSysRecords[se].langSys:ae?(ge.langSysRecords.splice(-1-se,0,ae={tag:K,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),ae.langSys):void 0:ge.defaultLangSys},getFeatureTable:function(Y,K,ae,se){if(Y=this.getLangSysTable(Y,K,se),Y){for(var ge,Te=Y.featureIndexes,Pe=this.font.tables[this.tableName].features,Ge=0;Ge<Te.length;Ge++)if((ge=Pe[Te[Ge]]).tag===ae)return ge.feature;if(se)return K=Pe.length,W.assert(K===0||ae>=Pe[K-1].tag,"Features must be added in alphabetical order."),Pe.push(ge={tag:ae,feature:{params:0,lookupListIndexes:[]}}),Te.push(K),ge.feature}},getLookupTables:function(Te,K,ae,se,ge){var Te=this.getFeatureTable(Te,K,ae,ge),Pe=[];if(Te){for(var Ge,Ze=Te.lookupListIndexes,Qe=this.font.tables[this.tableName].lookups,at=0;at<Ze.length;at++)(Ge=Qe[Ze[at]]).lookupType===se&&Pe.push(Ge);if(Pe.length===0&&ge)return K=Qe.length,Qe.push(Ge={lookupType:se,lookupFlag:0,subtables:[],markFilteringSet:void 0}),Ze.push(K),[Ge]}return Pe},getGlyphClass:function(Y,K){switch(Y.format){case 1:return Y.startGlyph<=K&&K<Y.startGlyph+Y.classes.length?Y.classes[K-Y.startGlyph]:0;case 2:var ae=_r(Y.ranges,K);return ae?ae.classId:0}},getCoverageIndex:function(Y,K){switch(Y.format){case 1:var ae=on(Y.glyphs,K);return 0<=ae?ae:-1;case 2:return ae=_r(Y.ranges,K),ae?ae.index+K-ae.start:-1}},expandCoverage:function(Y){if(Y.format===1)return Y.glyphs;for(var K=[],ae=Y.ranges,se=0;se<ae.length;se++)for(var ge=ae[se],Te=ge.start,Pe=ge.end,Ge=Te;Ge<=Pe;Ge++)K.push(Ge);return K}}).init=function(){var Y=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(Y)},ur.prototype.getKerningValue=function(Y,K,ae){for(var se=0;se<Y.length;se++)for(var ge=Y[se].subtables,Te=0;Te<ge.length;Te++){var Pe=ge[Te],Ge=this.getCoverageIndex(Pe.coverage,K);if(!(Ge<0))switch(Pe.posFormat){case 1:for(var Ze=Pe.pairSets[Ge],Qe=0;Qe<Ze.length;Qe++){var at=Ze[Qe];if(at.secondGlyph===ae)return at.value1&&at.value1.xAdvance||0}break;case 2:var ut=this.getGlyphClass(Pe.classDef1,K),pt=this.getGlyphClass(Pe.classDef2,ae),ut=Pe.classRecords[ut][pt];return ut.value1&&ut.value1.xAdvance||0}}return 0},ur.prototype.getKerningTables=function(Y,K){if(this.font.tables.gpos)return this.getLookupTables(Y,K,"kern",2)},(Wn.prototype=cr.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Wn.prototype.getSingle=function(Y,K,ae){for(var se=[],ge=this.getLookupTables(K,ae,Y,1),Te=0;Te<ge.length;Te++)for(var Pe=ge[Te].subtables,Ge=0;Ge<Pe.length;Ge++){var Ze=Pe[Ge],Qe=this.expandCoverage(Ze.coverage),at=void 0;if(Ze.substFormat===1)for(var pt=Ze.deltaGlyphId,at=0;at<Qe.length;at++){var ut=Qe[at];se.push({sub:ut,by:ut+pt})}else{var et=Ze.substitute;for(at=0;at<Qe.length;at++)se.push({sub:Qe[at],by:et[at]})}}return se},Wn.prototype.getAlternates=function(Y,K,ae){for(var se=[],ge=this.getLookupTables(K,ae,Y,3),Te=0;Te<ge.length;Te++)for(var Pe=ge[Te].subtables,Ge=0;Ge<Pe.length;Ge++)for(var Ze=Pe[Ge],Qe=this.expandCoverage(Ze.coverage),at=Ze.alternateSets,pt=0;pt<Qe.length;pt++)se.push({sub:Qe[pt],by:at[pt]});return se},Wn.prototype.getLigatures=function(Y,K,ae){for(var se=[],ge=this.getLookupTables(K,ae,Y,4),Te=0;Te<ge.length;Te++)for(var Pe=ge[Te].subtables,Ge=0;Ge<Pe.length;Ge++)for(var Ze=Pe[Ge],Qe=this.expandCoverage(Ze.coverage),at=Ze.ligatureSets,pt=0;pt<Qe.length;pt++)for(var ut=Qe[pt],et=at[pt],Ct=0;Ct<et.length;Ct++){var vt=et[Ct];se.push({sub:[ut].concat(vt.components),by:vt.ligGlyph})}return se},Wn.prototype.addSingle=function(Y,K,ae,se){ae=zr(this.getLookupTables(ae,se,Y,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),W.assert(ae.coverage.format===1,"Ligature: unable to modify coverage table format "+ae.coverage.format),se=K.sub,Y=this.binSearch(ae.coverage.glyphs,se),Y<0&&(ae.coverage.glyphs.splice(Y=-1-Y,0,se),ae.substitute.splice(Y,0,0)),ae.substitute[Y]=K.by},Wn.prototype.addAlternate=function(Y,K,ae,se){ae=zr(this.getLookupTables(ae,se,Y,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),W.assert(ae.coverage.format===1,"Ligature: unable to modify coverage table format "+ae.coverage.format),se=K.sub,Y=this.binSearch(ae.coverage.glyphs,se),Y<0&&(ae.coverage.glyphs.splice(Y=-1-Y,0,se),ae.alternateSets.splice(Y,0,0)),ae.alternateSets[Y]=K.by},Wn.prototype.addLigature=function(Te,Ze,Ge,ge){var Ge=this.getLookupTables(Ge,ge,Te,4,!0)[0],ge=Ge.subtables[0],Te=(ge||(Ge.subtables[0]=ge={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),W.assert(ge.coverage.format===1,"Ligature: unable to modify coverage table format "+ge.coverage.format),Ze.sub[0]),Pe=Ze.sub.slice(1),Ge={ligGlyph:Ze.by,components:Pe},Ze=this.binSearch(ge.coverage.glyphs,Te);if(0<=Ze){for(var Qe=ge.ligatureSets[Ze],at=0;at<Qe.length;at++)if(function(pt,ut){var et=pt.length;if(et===ut.length){for(var Ct=0;Ct<et;Ct++)if(pt[Ct]!==ut[Ct])return;return 1}}(Qe[at].components,Pe))return;Qe.push(Ge)}else ge.coverage.glyphs.splice(Ze=-1-Ze,0,Te),ge.ligatureSets.splice(Ze,0,[Ge])},Wn.prototype.getFeature=function(Y,K,ae){if(/ss\d\d/.test(Y))return this.getSingle(Y,K,ae);switch(Y){case"aalt":case"salt":return this.getSingle(Y,K,ae).concat(this.getAlternates(Y,K,ae));case"dlig":case"liga":case"rlig":return this.getLigatures(Y,K,ae)}},Wn.prototype.add=function(Y,K,ae,se){if(/ss\d\d/.test(Y))return this.addSingle(Y,K,ae,se);switch(Y){case"aalt":case"salt":return typeof K.by=="number"?this.addSingle(Y,K,ae,se):this.addAlternate(Y,K,ae,se);case"dlig":case"liga":case"rlig":return this.addLigature(Y,K,ae,se)}};var hr={getPath:xr,parse:function(Y,K,ae,se){for(var ge=new bt.GlyphSet(se),Te=0;Te<ae.length-1;Te+=1){var Pe=ae[Te];Pe!==ae[Te+1]?ge.push(Te,bt.ttfGlyphLoader(se,Te,ti,Y,K+Pe,jn)):ge.push(Te,bt.glyphLoader(se,Te))}return ge}};function xn(Y){this.font=Y,this.getCommands=function(K){return hr.getPath(K).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function jr(Y){return Y}function Vr(Y){return Math.sign(Y)*Math.round(Math.abs(Y))}function Ar(Y){return Math.sign(Y)*Math.round(Math.abs(2*Y))/2}function wr(Y){return Math.sign(Y)*(Math.round(Math.abs(Y)+.5)-.5)}function ni(Y){return Math.sign(Y)*Math.ceil(Math.abs(Y))}function ri(Y){return Math.sign(Y)*Math.floor(Math.abs(Y))}function rr(Y){var K=this.srPeriod,ae=this.srPhase,se=1;return Y<0&&(Y=-Y,se=-1),Y+=this.srThreshold-ae,Y=Math.trunc(Y/K)*K,(Y+=ae)<0?ae*se:Y*se}var Xn={x:1,y:0,axis:"x",distance:function(Y,K,ae,se){return(ae?Y.xo:Y.x)-(se?K.xo:K.x)},interpolate:function(Y,K,ae,se){var ge,Te,Pe,Ge,Ze,Qe,at;if(!se||se===this)return ge=Y.xo-K.xo,Te=Y.xo-ae.xo,Ze=K.x-K.xo,Qe=ae.x-ae.xo,(at=(Pe=Math.abs(ge))+(Ge=Math.abs(Te)))===0?void(Y.x=Y.xo+(Ze+Qe)/2):void(Y.x=Y.xo+(Ze*Ge+Qe*Pe)/at);ge=se.distance(Y,K,!0,!0),Te=se.distance(Y,ae,!0,!0),Ze=se.distance(K,K,!1,!0),Qe=se.distance(ae,ae,!1,!0),(at=(Pe=Math.abs(ge))+(Ge=Math.abs(Te)))===0?Xn.setRelative(Y,Y,(Ze+Qe)/2,se,!0):Xn.setRelative(Y,Y,(Ze*Ge+Qe*Pe)/at,se,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(Y,K,ae,se,ge){var Te,Pe;se&&se!==this?(Te=ge?K.xo:K.x,Pe=ge?K.yo:K.y,Te+=ae*se.x,Pe+=ae*se.y,Y.x=Te+(Y.y-Pe)/se.normalSlope):Y.x=(ge?K.xo:K.x)+ae},slope:0,touch:function(Y){Y.xTouched=!0},touched:function(Y){return Y.xTouched},untouch:function(Y){Y.xTouched=!1}},Qn={x:0,y:1,axis:"y",distance:function(Y,K,ae,se){return(ae?Y.yo:Y.y)-(se?K.yo:K.y)},interpolate:function(Y,K,ae,se){var ge,Te,Pe,Ge,Ze,Qe,at;if(!se||se===this)return ge=Y.yo-K.yo,Te=Y.yo-ae.yo,Ze=K.y-K.yo,Qe=ae.y-ae.yo,(at=(Pe=Math.abs(ge))+(Ge=Math.abs(Te)))===0?void(Y.y=Y.yo+(Ze+Qe)/2):void(Y.y=Y.yo+(Ze*Ge+Qe*Pe)/at);ge=se.distance(Y,K,!0,!0),Te=se.distance(Y,ae,!0,!0),Ze=se.distance(K,K,!1,!0),Qe=se.distance(ae,ae,!1,!0),(at=(Pe=Math.abs(ge))+(Ge=Math.abs(Te)))===0?Qn.setRelative(Y,Y,(Ze+Qe)/2,se,!0):Qn.setRelative(Y,Y,(Ze*Ge+Qe*Pe)/at,se,!0)},normalSlope:0,setRelative:function(Y,K,ae,se,ge){var Te,Pe;se&&se!==this?(Te=ge?K.xo:K.x,Pe=ge?K.yo:K.y,Te+=ae*se.x,Pe+=ae*se.y,Y.y=Pe+se.normalSlope*(Y.x-Te)):Y.y=(ge?K.yo:K.y)+ae},slope:Number.POSITIVE_INFINITY,touch:function(Y){Y.yTouched=!0},touched:function(Y){return Y.yTouched},untouch:function(Y){Y.yTouched=!1}};function Rn(Y,K){this.x=Y,this.y=K,this.axis=void 0,this.slope=K/Y,this.normalSlope=-Y/K,Object.freeze(this)}function mr(Y,K){var ae=Math.sqrt(Y*Y+K*K);return K/=ae,(Y/=ae)===1&&K===0?Xn:Y===0&&K===1?Qn:new Rn(Y,K)}function $n(Y,K,ae,se){this.x=this.xo=Math.round(64*Y)/64,this.y=this.yo=Math.round(64*K)/64,this.lastPointOfContour=ae,this.onCurve=se,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Xn),Object.freeze(Qn),Rn.prototype.distance=function(Y,K,ae,se){return this.x*Xn.distance(Y,K,ae,se)+this.y*Qn.distance(Y,K,ae,se)},Rn.prototype.interpolate=function(Y,ge,Te,se){var Pe=se.distance(Y,ge,!0,!0),Ge=se.distance(Y,Te,!0,!0),ge=se.distance(ge,ge,!1,!0),Te=se.distance(Te,Te,!1,!0),Pe=Math.abs(Pe),Ge=Math.abs(Ge),Ze=Pe+Ge;Ze===0?this.setRelative(Y,Y,(ge+Te)/2,se,!0):this.setRelative(Y,Y,(ge*Ge+Te*Pe)/Ze,se,!0)},Rn.prototype.setRelative=function(Y,Te,Ze,Qe,Ge){var Pe=Ge?Te.xo:Te.x,Ge=Ge?Te.yo:Te.y,Te=Pe+Ze*(Qe=Qe||this).x,Pe=Ge+Ze*Qe.y,Ge=Qe.normalSlope,Ze=this.slope,Qe=Y.x,at=Y.y;Y.x=(Ze*Qe-Ge*Te+Pe-at)/(Ze-Ge),Y.y=Ze*(Y.x-Qe)+at},Rn.prototype.touch=function(Y){Y.xTouched=!0,Y.yTouched=!0},$n.prototype.nextTouched=function(Y){for(var K=this.nextPointOnContour;!Y.touched(K)&&K!==this;)K=K.nextPointOnContour;return K},$n.prototype.prevTouched=function(Y){for(var K=this.prevPointOnContour;!Y.touched(K)&&K!==this;)K=K.prevPointOnContour;return K};var ir=Object.freeze(new $n(0,0)),ii={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Zn(Y,K){switch(this.env=Y,this.stack=[],this.prog=K,Y){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Xn,this.round=Vr}}function Dr(Y){for(var K=Y.tZone=new Array(Y.gZone.length),ae=0;ae<K.length;ae++)K[ae]=new $n(0,0)}function $r(Y,K){var ae,se=Y.prog,ge=Y.ip,Te=1;do if((ae=se[++ge])===88)Te++;else if(ae===89)Te--;else if(ae===64)ge+=se[ge+1]+1;else if(ae===65)ge+=2*se[ge+1]+1;else if(176<=ae&&ae<=183)ge+=ae-176+1;else if(184<=ae&&ae<=191)ge+=2*(ae-184+1);else if(K&&Te===1&&ae===27)break;while(0<Te);Y.ip=ge}function Hr(Y,K){A.DEBUG&&console.log(K.step,"SVTCA["+Y.axis+"]"),K.fv=K.pv=K.dpv=Y}function qr(Y,K){A.DEBUG&&console.log(K.step,"SPVTCA["+Y.axis+"]"),K.pv=K.dpv=Y}function Wr(Y,K){A.DEBUG&&console.log(K.step,"SFVTCA["+Y.axis+"]"),K.fv=Y}function Pr(Y,K){var ae,ge=K.stack,se=ge.pop(),ge=ge.pop(),Te=K.z2[se],Pe=K.z1[ge];A.DEBUG&&console.log("SPVTL["+Y+"]",se,ge),se=Y?(ae=Te.y-Pe.y,Pe.x-Te.x):(ae=Pe.x-Te.x,Pe.y-Te.y),K.pv=K.dpv=mr(ae,se)}function dr(Y,K){var ae,ge=K.stack,se=ge.pop(),ge=ge.pop(),Te=K.z2[se],Pe=K.z1[ge];A.DEBUG&&console.log("SFVTL["+Y+"]",se,ge),se=Y?(ae=Te.y-Pe.y,Pe.x-Te.x):(ae=Pe.x-Te.x,Pe.y-Te.y),K.fv=mr(ae,se)}function Ir(Y){A.DEBUG&&console.log(Y.step,"POP[]"),Y.stack.pop()}function Xr(Y,K){var ae=K.stack.pop(),se=K.z0[ae],ge=K.fv,Te=K.pv,Pe=(A.DEBUG&&console.log(K.step,"MDAP["+Y+"]",ae),Te.distance(se,ir));Y&&(Pe=K.round(Pe)),ge.setRelative(se,ir,Pe,Te),ge.touch(se),K.rp0=K.rp1=ae}function Yr(Y,K){var ae,se,ge,Te=K.z2,Pe=Te.length-2;A.DEBUG&&console.log(K.step,"IUP["+Y.axis+"]");for(var Ge=0;Ge<Pe;Ge++)ae=Te[Ge],Y.touched(ae)||(se=ae.prevTouched(Y))!==ae&&(se===(ge=ae.nextTouched(Y))&&Y.setRelative(ae,ae,Y.distance(se,se,!1,!0),Y,!0),Y.interpolate(ae,se,ge,Y))}function Sr(Y,K){for(var ae=K.stack,se=Y?K.rp1:K.rp2,ge=(Y?K.z0:K.z1)[se],Te=K.fv,Pe=K.pv,Ge=K.loop,Ze=K.z2;Ge--;){var Qe=ae.pop(),at=Ze[Qe],pt=Pe.distance(ge,ge,!1,!0);Te.setRelative(at,at,pt,Pe),Te.touch(at),A.DEBUG&&console.log(K.step,(1<K.loop?"loop "+(K.loop-Ge)+": ":"")+"SHP["+(Y?"rp1":"rp2")+"]",Qe)}K.loop=1}function Er(Y,K){for(var ae=K.stack,Pe=Y?K.rp1:K.rp2,se=(Y?K.z0:K.z1)[Pe],ge=K.fv,Te=K.pv,Pe=ae.pop(),Ge=K.z2[K.contours[Pe]],Ze=Ge,Qe=(A.DEBUG&&console.log(K.step,"SHC["+Y+"]",Pe),Te.distance(se,se,!1,!0));Ze!==se&&ge.setRelative(Ze,Ze,Qe,Te),(Ze=Ze.nextPointOnContour)!==Ge;);}function Qr(Y,K){var ae,se,Ge=K.stack,ge=Y?K.rp1:K.rp2,ge=(Y?K.z0:K.z1)[ge],Te=K.fv,Pe=K.pv,Ge=Ge.pop();switch(A.DEBUG&&console.log(K.step,"SHZ["+Y+"]",Ge),Ge){case 0:ae=K.tZone;break;case 1:ae=K.gZone;break;default:throw new Error("Invalid zone")}for(var Ze=Pe.distance(ge,ge,!1,!0),Qe=ae.length-2,at=0;at<Qe;at++)se=ae[at],Te.setRelative(se,se,Ze,Pe)}function Cr(Y,K){var se=K.stack,ae=se.pop()/64,se=se.pop(),ge=K.z1[se],Te=K.z0[K.rp0],Pe=K.fv,Ge=K.pv;Pe.setRelative(ge,Te,ae,Ge),Pe.touch(ge),A.DEBUG&&console.log(K.step,"MSIRP["+Y+"]",ae,se),K.rp1=K.rp0,K.rp2=se,Y&&(K.rp0=se)}function Zr(Y,K){var ae=K.stack,Ge=ae.pop(),ae=ae.pop(),se=K.z0[ae],ge=K.fv,Te=K.pv,Pe=K.cvt[Ge],Ge=(A.DEBUG&&console.log(K.step,"MIAP["+Y+"]",Ge,"(",Pe,")",ae),Te.distance(se,ir));Y&&(Math.abs(Ge-Pe)<K.cvCutIn&&(Ge=Pe),Ge=K.round(Ge)),ge.setRelative(se,ir,Ge,Te),K.zp0===0&&(se.xo=se.x,se.yo=se.y),ge.touch(se),K.rp0=K.rp1=ae}function Fr(Y,K){var ae=K.stack,se=ae.pop(),ge=K.z2[se];A.DEBUG&&console.log(K.step,"GC["+Y+"]",se),ae.push(64*K.dpv.distance(ge,ir,Y,!1))}function Jr(Y,K){var se=K.stack,ae=se.pop(),se=se.pop(),ge=K.z1[ae],Te=K.z0[se],Te=K.dpv.distance(Te,ge,Y,Y);A.DEBUG&&console.log(K.step,"MD["+Y+"]",ae,se,"->",Te),K.stack.push(Math.round(64*Te))}function gr(Y,K){var ae=K.stack,se=ae.pop(),ge=K.fv,Te=K.pv,Pe=K.ppem,Ge=K.deltaBase+16*(Y-1),Ze=K.deltaShift,Qe=K.z0;A.DEBUG&&console.log(K.step,"DELTAP["+Y+"]",se,ae);for(var at=0;at<se;at++){var pt=ae.pop(),ut=ae.pop();Ge+((240&ut)>>4)===Pe&&(0<=(ut=(15&ut)-8)&&ut++,A.DEBUG&&console.log(K.step,"DELTAPFIX",pt,"by",ut*Ze),pt=Qe[pt],ge.setRelative(pt,pt,ut*Ze,Te))}}function ar(Y,K){var ae=K.stack,se=ae.pop();A.DEBUG&&console.log(K.step,"ROUND[]"),ae.push(64*K.round(se/64))}function Nr(Y,K){var ae=K.stack,se=ae.pop(),ge=K.ppem,Te=K.deltaBase+16*(Y-1),Pe=K.deltaShift;A.DEBUG&&console.log(K.step,"DELTAC["+Y+"]",se,ae);for(var Ge=0;Ge<se;Ge++){var Ze=ae.pop(),Qe=ae.pop();Te+((240&Qe)>>4)===ge&&(0<=(Qe=(15&Qe)-8)&&Qe++,Qe=Qe*Pe,A.DEBUG&&console.log(K.step,"DELTACFIX",Ze,"by",Qe),K.cvt[Ze]+=Qe)}}function Br(Y,K){var ae,ge=K.stack,se=ge.pop(),ge=ge.pop(),Te=K.z2[se],Pe=K.z1[ge];A.DEBUG&&console.log(K.step,"SDPVTL["+Y+"]",se,ge),se=Y?(ae=Te.y-Pe.y,Pe.x-Te.x):(ae=Pe.x-Te.x,Pe.y-Te.y),K.dpv=mr(ae,se)}function mn(Y,K){var ae=K.stack,se=K.prog,ge=K.ip;A.DEBUG&&console.log(K.step,"PUSHB["+Y+"]");for(var Te=0;Te<Y;Te++)ae.push(se[++ge]);K.ip=ge}function Kn(Y,K){var ae=K.ip,se=K.prog,ge=K.stack;A.DEBUG&&console.log(K.ip,"PUSHW["+Y+"]");for(var Te=0;Te<Y;Te++){var Pe=se[++ae]<<8|se[++ae];32768&Pe&&(Pe=-(1+(65535^Pe))),ge.push(Pe)}K.ip=ae}function zt(Y,K,ae,se,ge,Te){var Pe,Ge,Qe=Te.stack,Ze=Y&&Qe.pop(),Qe=Qe.pop(),at=Te.rp0,at=Te.z0[at],pt=Te.z1[Qe],ut=Te.minDis,et=Te.fv,Ct=Te.dpv,vt=Pe=Ct.distance(pt,at,!0,!0),At=0<=vt?1:-1;vt=Math.abs(vt),Y&&(Ge=Te.cvt[Ze],se&&Math.abs(vt-Ge)<Te.cvCutIn&&(vt=Ge)),ae&&vt<ut&&(vt=ut),se&&(vt=Te.round(vt)),et.setRelative(pt,at,At*vt,Ct),et.touch(pt),A.DEBUG&&console.log(Te.step,(Y?"MIRP[":"MDRP[")+(K?"M":"m")+(ae?">":"_")+(se?"R":"_")+(ge===0?"Gr":ge===1?"Bl":ge===2?"Wh":"")+"]",Y?Ze+"("+Te.cvt[Ze]+","+Ge+")":"",Qe,"(d =",Pe,"->",At*vt,")"),Te.rp1=Te.rp0,Te.rp2=Qe,K&&(Te.rp0=Qe)}xn.prototype.exec=function(Y,K){if(typeof K!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var ae=this.font,se=this._prepState;if(!se||se.ppem!==K){var ge=this._fpgmState;if(!ge){Zn.prototype=ii,(ge=this._fpgmState=new Zn("fpgm",ae.tables.fpgm)).funcs=[],ge.font=ae,A.DEBUG&&(console.log("---EXEC FPGM---"),ge.step=-1);try{pr(ge)}catch(Qe){return console.log("Hinting error in FPGM:"+Qe),void(this._errorState=3)}}Zn.prototype=ge,(se=this._prepState=new Zn("prep",ae.tables.prep)).ppem=K;var Te=ae.tables.cvt;if(Te)for(var Pe=se.cvt=new Array(Te.length),Ge=K/ae.unitsPerEm,Ze=0;Ze<Te.length;Ze++)Pe[Ze]=Te[Ze]*Ge;else se.cvt=[];A.DEBUG&&(console.log("---EXEC PREP---"),se.step=-1);try{pr(se)}catch(Qe){this._errorState<2&&console.log("Hinting error in PREP:"+Qe),this._errorState=2}}if(!(1<this._errorState))try{return yr(Y,se)}catch(Qe){this._errorState<1&&(console.log("Hinting error:"+Qe),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var yr=function(Y,K){var ae=K.ppem/K.font.unitsPerEm,se=ae,ge=Y.components;if(Zn.prototype=K,ge){for(var Te=K.font,Pe=[],Ge=[],Ze=0;Ze<ge.length;Ze++){var Qe=ge[Ze],at=Te.glyphs.get(Qe.glyphIndex),pt=new Zn("glyf",at.instructions);A.DEBUG&&(console.log("---EXEC COMP "+Ze+"---"),pt.step=-1),Mn(at,pt,ae,se);for(var ut=Math.round(Qe.dx*ae),et=Math.round(Qe.dy*se),Ct=pt.gZone,vt=pt.contours,At=0;At<Ct.length;At++){var mt=Ct[At];mt.xTouched=mt.yTouched=!1,mt.xo=mt.x=mt.x+ut,mt.yo=mt.y=mt.y+et}var gt=Pe.length;Pe.push.apply(Pe,Ct);for(var Vt=0;Vt<vt.length;Vt++)Ge.push(vt[Vt]+gt)}Y.instructions&&!pt.inhibitGridFit&&((pt=new Zn("glyf",Y.instructions)).gZone=pt.z0=pt.z1=pt.z2=Pe,pt.contours=Ge,Pe.push(new $n(0,0),new $n(Math.round(Y.advanceWidth*ae),0)),A.DEBUG&&(console.log("---EXEC COMPOSITE---"),pt.step=-1),pr(pt),Pe.length-=2)}else pt=new Zn("glyf",Y.instructions),A.DEBUG&&(console.log("---EXEC GLYPH---"),pt.step=-1),Mn(Y,pt,ae,se),Pe=pt.gZone;return Pe},Mn=function(Y,K,ae,se){for(var ge,Te,Pe,Ge=Y.points||[],Ze=Ge.length,Qe=K.gZone=K.z0=K.z1=K.z2=[],at=K.contours=[],pt=0;pt<Ze;pt++)ge=Ge[pt],Qe[pt]=new $n(ge.x*ae,ge.y*se,ge.lastPointOfContour,ge.onCurve);for(var ut=0;ut<Ze;ut++)ge=Qe[ut],Te||(Te=ge,at.push(ut)),ge.lastPointOfContour?((ge.nextPointOnContour=Te).prevPointOnContour=ge,Te=void 0):(Pe=Qe[ut+1],(ge.nextPointOnContour=Pe).prevPointOnContour=ge);if(!K.inhibitGridFit){if(A.DEBUG){console.log("PROCESSING GLYPH",K.stack);for(var et=0;et<Ze;et++)console.log(et,Qe[et].x,Qe[et].y)}if(Qe.push(new $n(0,0),new $n(Math.round(Y.advanceWidth*ae),0)),pr(K),Qe.length-=2,A.DEBUG){console.log("FINISHED GLYPH",K.stack);for(var Ct=0;Ct<Ze;Ct++)console.log(Ct,Qe[Ct].x,Qe[Ct].y)}}},pr=function(Y){var K=Y.prog;if(K){var ae,se=K.length;for(Y.ip=0;Y.ip<se;Y.ip++){if(A.DEBUG&&Y.step++,!(ae=Kr[K[Y.ip]]))throw new Error("unknown instruction: 0x"+Number(K[Y.ip]).toString(16));ae(Y)}}},Kr=[Hr.bind(void 0,Qn),Hr.bind(void 0,Xn),qr.bind(void 0,Qn),qr.bind(void 0,Xn),Wr.bind(void 0,Qn),Wr.bind(void 0,Xn),Pr.bind(void 0,0),Pr.bind(void 0,1),dr.bind(void 0,0),dr.bind(void 0,1),function(Y){var K=(ae=Y.stack).pop(),ae=ae.pop();A.DEBUG&&console.log(Y.step,"SPVFS[]",K,ae),Y.pv=Y.dpv=mr(ae,K)},function(Y){var K=(ae=Y.stack).pop(),ae=ae.pop();A.DEBUG&&console.log(Y.step,"SPVFS[]",K,ae),Y.fv=mr(ae,K)},function(Y){var K=Y.stack,ae=Y.pv;A.DEBUG&&console.log(Y.step,"GPV[]"),K.push(16384*ae.x),K.push(16384*ae.y)},function(Y){var K=Y.stack,ae=Y.fv;A.DEBUG&&console.log(Y.step,"GFV[]"),K.push(16384*ae.x),K.push(16384*ae.y)},function(Y){Y.fv=Y.pv,A.DEBUG&&console.log(Y.step,"SFVTPV[]")},function(K){var ae=(Pe=K.stack).pop(),se=Pe.pop(),ge=Pe.pop(),Te=Pe.pop(),Pe=Pe.pop(),Ze=K.z0,at=K.z1,Ge=Ze[ae],Ze=Ze[se],Qe=at[ge],at=at[Te],K=K.z2[Pe],ae=(A.DEBUG&&console.log("ISECT[], ",ae,se,ge,Te,Pe),Ge.x),se=Ge.y,ge=Ze.x,Te=Ze.y,Pe=Qe.x,Ge=Qe.y,Ze=at.x,Qe=at.y,at=(ae-ge)*(Ge-Qe)-(se-Te)*(Pe-Ze),pt=ae*Te-se*ge,ut=Pe*Qe-Ge*Ze;K.x=(pt*(Pe-Ze)-ut*(ae-ge))/at,K.y=(pt*(Ge-Qe)-ut*(se-Te))/at},function(Y){Y.rp0=Y.stack.pop(),A.DEBUG&&console.log(Y.step,"SRP0[]",Y.rp0)},function(Y){Y.rp1=Y.stack.pop(),A.DEBUG&&console.log(Y.step,"SRP1[]",Y.rp1)},function(Y){Y.rp2=Y.stack.pop(),A.DEBUG&&console.log(Y.step,"SRP2[]",Y.rp2)},function(Y){var K=Y.stack.pop();switch(A.DEBUG&&console.log(Y.step,"SZP0[]",K),Y.zp0=K){case 0:Y.tZone||Dr(Y),Y.z0=Y.tZone;break;case 1:Y.z0=Y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(Y){var K=Y.stack.pop();switch(A.DEBUG&&console.log(Y.step,"SZP1[]",K),Y.zp1=K){case 0:Y.tZone||Dr(Y),Y.z1=Y.tZone;break;case 1:Y.z1=Y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(Y){var K=Y.stack.pop();switch(A.DEBUG&&console.log(Y.step,"SZP2[]",K),Y.zp2=K){case 0:Y.tZone||Dr(Y),Y.z2=Y.tZone;break;case 1:Y.z2=Y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(Y){var K=Y.stack.pop();switch(A.DEBUG&&console.log(Y.step,"SZPS[]",K),Y.zp0=Y.zp1=Y.zp2=K){case 0:Y.tZone||Dr(Y),Y.z0=Y.z1=Y.z2=Y.tZone;break;case 1:Y.z0=Y.z1=Y.z2=Y.gZone;break;default:throw new Error("Invalid zone pointer")}},function(Y){Y.loop=Y.stack.pop(),A.DEBUG&&console.log(Y.step,"SLOOP[]",Y.loop)},function(Y){A.DEBUG&&console.log(Y.step,"RTG[]"),Y.round=Vr},function(Y){A.DEBUG&&console.log(Y.step,"RTHG[]"),Y.round=wr},function(Y){var K=Y.stack.pop();A.DEBUG&&console.log(Y.step,"SMD[]",K),Y.minDis=K/64},function(Y){A.DEBUG&&console.log(Y.step,"ELSE[]"),$r(Y,!1)},function(Y){var K=Y.stack.pop();A.DEBUG&&console.log(Y.step,"JMPR[]",K),Y.ip+=K-1},function(Y){var K=Y.stack.pop();A.DEBUG&&console.log(Y.step,"SCVTCI[]",K),Y.cvCutIn=K/64},void 0,void 0,function(Y){var K=Y.stack;A.DEBUG&&console.log(Y.step,"DUP[]"),K.push(K[K.length-1])},Ir,function(Y){A.DEBUG&&console.log(Y.step,"CLEAR[]"),Y.stack.length=0},function(Y){var K=Y.stack,ae=K.pop(),se=K.pop();A.DEBUG&&console.log(Y.step,"SWAP[]"),K.push(ae),K.push(se)},function(Y){var K=Y.stack;A.DEBUG&&console.log(Y.step,"DEPTH[]"),K.push(K.length)},function(Y){var K=Y.stack,ae=K.pop();A.DEBUG&&console.log(Y.step,"CINDEX[]",ae),K.push(K[K.length-ae])},function(Y){var K=Y.stack,ae=K.pop();A.DEBUG&&console.log(Y.step,"MINDEX[]",ae),K.push(K.splice(K.length-ae,1)[0])},void 0,void 0,void 0,function(Y){var K=(se=Y.stack).pop(),ae=se.pop(),se=(A.DEBUG&&console.log(Y.step,"LOOPCALL[]",K,ae),Y.ip),ge=Y.prog;Y.prog=Y.funcs[K];for(var Te=0;Te<ae;Te++)pr(Y),A.DEBUG&&console.log(++Y.step,Te+1<ae?"next loopcall":"done loopcall",Te);Y.ip=se,Y.prog=ge},function(Y){var K=Y.stack.pop(),ae=(A.DEBUG&&console.log(Y.step,"CALL[]",K),Y.ip),se=Y.prog;Y.prog=Y.funcs[K],pr(Y),Y.ip=ae,Y.prog=se,A.DEBUG&&console.log(++Y.step,"returning from",K)},function(Y){if(Y.env!=="fpgm")throw new Error("FDEF not allowed here");var se=Y.stack,K=Y.prog,ae=Y.ip,se=se.pop(),ge=ae;for(A.DEBUG&&console.log(Y.step,"FDEF[]",se);K[++ae]!==45;);Y.ip=ae,Y.funcs[se]=K.slice(ge+1,ae)},void 0,Xr.bind(void 0,0),Xr.bind(void 0,1),Yr.bind(void 0,Qn),Yr.bind(void 0,Xn),Sr.bind(void 0,0),Sr.bind(void 0,1),Er.bind(void 0,0),Er.bind(void 0,1),Qr.bind(void 0,0),Qr.bind(void 0,1),function(Y){for(var K=Y.stack,ae=Y.loop,se=Y.fv,ge=K.pop()/64,Te=Y.z2;ae--;){var Pe=K.pop(),Ge=Te[Pe];A.DEBUG&&console.log(Y.step,(1<Y.loop?"loop "+(Y.loop-ae)+": ":"")+"SHPIX[]",Pe,ge),se.setRelative(Ge,Ge,ge),se.touch(Ge)}Y.loop=1},function(Y){for(var K=Y.stack,ae=Y.rp1,se=Y.rp2,ge=Y.loop,Te=Y.z0[ae],Pe=Y.z1[se],Ge=Y.fv,Ze=Y.dpv,Qe=Y.z2;ge--;){var at=K.pop(),pt=Qe[at];A.DEBUG&&console.log(Y.step,(1<Y.loop?"loop "+(Y.loop-ge)+": ":"")+"IP[]",at,ae,"<->",se),Ge.interpolate(pt,Te,Pe,Ze),Ge.touch(pt)}Y.loop=1},Cr.bind(void 0,0),Cr.bind(void 0,1),function(Y){for(var K=Y.stack,ae=Y.rp0,se=Y.z0[ae],ge=Y.loop,Te=Y.fv,Pe=Y.pv,Ge=Y.z1;ge--;){var Ze=K.pop(),Qe=Ge[Ze];A.DEBUG&&console.log(Y.step,(1<Y.loop?"loop "+(Y.loop-ge)+": ":"")+"ALIGNRP[]",Ze),Te.setRelative(Qe,se,0,Pe),Te.touch(Qe)}Y.loop=1},function(Y){A.DEBUG&&console.log(Y.step,"RTDG[]"),Y.round=Ar},Zr.bind(void 0,0),Zr.bind(void 0,1),function(Y){var K=Y.prog,ae=Y.ip,se=Y.stack,ge=K[++ae];A.DEBUG&&console.log(Y.step,"NPUSHB[]",ge);for(var Te=0;Te<ge;Te++)se.push(K[++ae]);Y.ip=ae},function(Y){var K=Y.ip,ae=Y.prog,se=Y.stack,ge=ae[++K];A.DEBUG&&console.log(Y.step,"NPUSHW[]",ge);for(var Te=0;Te<ge;Te++){var Pe=ae[++K]<<8|ae[++K];32768&Pe&&(Pe=-(1+(65535^Pe))),se.push(Pe)}Y.ip=K},function(Y){var se=Y.stack,K=(K=Y.store)||(Y.store=[]),ae=se.pop(),se=se.pop();A.DEBUG&&console.log(Y.step,"WS",ae,se),K[se]=ae},function(ge){var K=ge.stack,ae=ge.store,se=K.pop(),ge=(A.DEBUG&&console.log(ge.step,"RS",se),ae&&ae[se]||0);K.push(ge)},function(Y){var K=(ae=Y.stack).pop(),ae=ae.pop();A.DEBUG&&console.log(Y.step,"WCVTP",K,ae),Y.cvt[ae]=K/64},function(Y){var K=Y.stack,ae=K.pop();A.DEBUG&&console.log(Y.step,"RCVT",ae),K.push(64*Y.cvt[ae])},Fr.bind(void 0,0),Fr.bind(void 0,1),void 0,Jr.bind(void 0,0),Jr.bind(void 0,1),function(Y){A.DEBUG&&console.log(Y.step,"MPPEM[]"),Y.stack.push(Y.ppem)},void 0,function(Y){A.DEBUG&&console.log(Y.step,"FLIPON[]"),Y.autoFlip=!0},void 0,void 0,function(Y){var K=Y.stack,ae=K.pop(),se=K.pop();A.DEBUG&&console.log(Y.step,"LT[]",ae,se),K.push(se<ae?1:0)},function(Y){var K=Y.stack,ae=K.pop(),se=K.pop();A.DEBUG&&console.log(Y.step,"LTEQ[]",ae,se),K.push(se<=ae?1:0)},function(Y){var K=Y.stack,ae=K.pop(),se=K.pop();A.DEBUG&&console.log(Y.step,"GT[]",ae,se),K.push(ae<se?1:0)},function(Y){var K=Y.stack,ae=K.pop(),se=K.pop();A.DEBUG&&console.log(Y.step,"GTEQ[]",ae,se),K.push(ae<=se?1:0)},function(Y){var K=Y.stack,ae=K.pop(),se=K.pop();A.DEBUG&&console.log(Y.step,"EQ[]",ae,se),K.push(ae===se?1:0)},function(Y){var K=Y.stack,ae=K.pop(),se=K.pop();A.DEBUG&&console.log(Y.step,"NEQ[]",ae,se),K.push(ae!==se?1:0)},function(Y){var K=Y.stack,ae=K.pop();A.DEBUG&&console.log(Y.step,"ODD[]",ae),K.push(Math.trunc(ae)%2?1:0)},function(Y){var K=Y.stack,ae=K.pop();A.DEBUG&&console.log(Y.step,"EVEN[]",ae),K.push(Math.trunc(ae)%2?0:1)},function(Y){var K=Y.stack.pop();A.DEBUG&&console.log(Y.step,"IF[]",K),K||($r(Y,!0),A.DEBUG&&console.log(Y.step,"EIF[]"))},function(Y){A.DEBUG&&console.log(Y.step,"EIF[]")},function(Y){var K=Y.stack,ae=K.pop(),se=K.pop();A.DEBUG&&console.log(Y.step,"AND[]",ae,se),K.push(ae&&se?1:0)},function(Y){var K=Y.stack,ae=K.pop(),se=K.pop();A.DEBUG&&console.log(Y.step,"OR[]",ae,se),K.push(ae||se?1:0)},function(Y){var K=Y.stack,ae=K.pop();A.DEBUG&&console.log(Y.step,"NOT[]",ae),K.push(ae?0:1)},gr.bind(void 0,1),function(Y){var K=Y.stack.pop();A.DEBUG&&console.log(Y.step,"SDB[]",K),Y.deltaBase=K},function(Y){var K=Y.stack.pop();A.DEBUG&&console.log(Y.step,"SDS[]",K),Y.deltaShift=Math.pow(.5,K)},function(Y){var K=Y.stack,ae=K.pop(),se=K.pop();A.DEBUG&&console.log(Y.step,"ADD[]",ae,se),K.push(se+ae)},function(Y){var K=Y.stack,ae=K.pop(),se=K.pop();A.DEBUG&&console.log(Y.step,"SUB[]",ae,se),K.push(se-ae)},function(Y){var K=Y.stack,ae=K.pop(),se=K.pop();A.DEBUG&&console.log(Y.step,"DIV[]",ae,se),K.push(64*se/ae)},function(Y){var K=Y.stack,ae=K.pop(),se=K.pop();A.DEBUG&&console.log(Y.step,"MUL[]",ae,se),K.push(se*ae/64)},function(Y){var K=Y.stack,ae=K.pop();A.DEBUG&&console.log(Y.step,"ABS[]",ae),K.push(Math.abs(ae))},function(Y){var K=Y.stack,ae=K.pop();A.DEBUG&&console.log(Y.step,"NEG[]",ae),K.push(-ae)},function(Y){var K=Y.stack,ae=K.pop();A.DEBUG&&console.log(Y.step,"FLOOR[]",ae),K.push(64*Math.floor(ae/64))},function(Y){var K=Y.stack,ae=K.pop();A.DEBUG&&console.log(Y.step,"CEILING[]",ae),K.push(64*Math.ceil(ae/64))},ar.bind(void 0,0),ar.bind(void 0,1),ar.bind(void 0,2),ar.bind(void 0,3),void 0,void 0,void 0,void 0,function(Y){var K=(ae=Y.stack).pop(),ae=ae.pop();A.DEBUG&&console.log(Y.step,"WCVTF[]",K,ae),Y.cvt[ae]=K*Y.ppem/Y.font.unitsPerEm},gr.bind(void 0,2),gr.bind(void 0,3),Nr.bind(void 0,1),Nr.bind(void 0,2),Nr.bind(void 0,3),function(Y){var K,ae=Y.stack.pop();switch(A.DEBUG&&console.log(Y.step,"SROUND[]",ae),Y.round=rr,192&ae){case 0:K=.5;break;case 64:K=1;break;case 128:K=2;break;default:throw new Error("invalid SROUND value")}switch(Y.srPeriod=K,48&ae){case 0:Y.srPhase=0;break;case 16:Y.srPhase=.25*K;break;case 32:Y.srPhase=.5*K;break;case 48:Y.srPhase=.75*K;break;default:throw new Error("invalid SROUND value")}Y.srThreshold=(ae&=15)===0?0:(ae/8-.5)*K},function(Y){var K,ae=Y.stack.pop();switch(A.DEBUG&&console.log(Y.step,"S45ROUND[]",ae),Y.round=rr,192&ae){case 0:K=Math.sqrt(2)/2;break;case 64:K=Math.sqrt(2);break;case 128:K=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(Y.srPeriod=K,48&ae){case 0:Y.srPhase=0;break;case 16:Y.srPhase=.25*K;break;case 32:Y.srPhase=.5*K;break;case 48:Y.srPhase=.75*K;break;default:throw new Error("invalid S45ROUND value")}Y.srThreshold=(ae&=15)===0?0:(ae/8-.5)*K},void 0,void 0,function(Y){A.DEBUG&&console.log(Y.step,"ROFF[]"),Y.round=jr},void 0,function(Y){A.DEBUG&&console.log(Y.step,"RUTG[]"),Y.round=ni},function(Y){A.DEBUG&&console.log(Y.step,"RDTG[]"),Y.round=ri},Ir,Ir,void 0,void 0,void 0,void 0,void 0,function(Y){var K=Y.stack.pop();A.DEBUG&&console.log(Y.step,"SCANCTRL[]",K)},Br.bind(void 0,0),Br.bind(void 0,1),function(Y){var K=Y.stack,ae=K.pop(),se=0;A.DEBUG&&console.log(Y.step,"GETINFO[]",ae),1&ae&&(se=35),32&ae&&(se|=4096),K.push(se)},void 0,function(Y){var K=Y.stack,ae=K.pop(),se=K.pop(),ge=K.pop();A.DEBUG&&console.log(Y.step,"ROLL[]"),K.push(se),K.push(ae),K.push(ge)},function(Y){var K=Y.stack,ae=K.pop(),se=K.pop();A.DEBUG&&console.log(Y.step,"MAX[]",ae,se),K.push(Math.max(se,ae))},function(Y){var K=Y.stack,ae=K.pop(),se=K.pop();A.DEBUG&&console.log(Y.step,"MIN[]",ae,se),K.push(Math.min(se,ae))},function(Y){var K=Y.stack.pop();A.DEBUG&&console.log(Y.step,"SCANTYPE[]",K)},function(Y){var K=Y.stack.pop(),ae=Y.stack.pop();switch(A.DEBUG&&console.log(Y.step,"INSTCTRL[]",K,ae),K){case 1:return void(Y.inhibitGridFit=!!ae);case 2:return void(Y.ignoreCvt=!!ae);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,mn.bind(void 0,1),mn.bind(void 0,2),mn.bind(void 0,3),mn.bind(void 0,4),mn.bind(void 0,5),mn.bind(void 0,6),mn.bind(void 0,7),mn.bind(void 0,8),Kn.bind(void 0,1),Kn.bind(void 0,2),Kn.bind(void 0,3),Kn.bind(void 0,4),Kn.bind(void 0,5),Kn.bind(void 0,6),Kn.bind(void 0,7),Kn.bind(void 0,8),zt.bind(void 0,0,0,0,0,0),zt.bind(void 0,0,0,0,0,1),zt.bind(void 0,0,0,0,0,2),zt.bind(void 0,0,0,0,0,3),zt.bind(void 0,0,0,0,1,0),zt.bind(void 0,0,0,0,1,1),zt.bind(void 0,0,0,0,1,2),zt.bind(void 0,0,0,0,1,3),zt.bind(void 0,0,0,1,0,0),zt.bind(void 0,0,0,1,0,1),zt.bind(void 0,0,0,1,0,2),zt.bind(void 0,0,0,1,0,3),zt.bind(void 0,0,0,1,1,0),zt.bind(void 0,0,0,1,1,1),zt.bind(void 0,0,0,1,1,2),zt.bind(void 0,0,0,1,1,3),zt.bind(void 0,0,1,0,0,0),zt.bind(void 0,0,1,0,0,1),zt.bind(void 0,0,1,0,0,2),zt.bind(void 0,0,1,0,0,3),zt.bind(void 0,0,1,0,1,0),zt.bind(void 0,0,1,0,1,1),zt.bind(void 0,0,1,0,1,2),zt.bind(void 0,0,1,0,1,3),zt.bind(void 0,0,1,1,0,0),zt.bind(void 0,0,1,1,0,1),zt.bind(void 0,0,1,1,0,2),zt.bind(void 0,0,1,1,0,3),zt.bind(void 0,0,1,1,1,0),zt.bind(void 0,0,1,1,1,1),zt.bind(void 0,0,1,1,1,2),zt.bind(void 0,0,1,1,1,3),zt.bind(void 0,1,0,0,0,0),zt.bind(void 0,1,0,0,0,1),zt.bind(void 0,1,0,0,0,2),zt.bind(void 0,1,0,0,0,3),zt.bind(void 0,1,0,0,1,0),zt.bind(void 0,1,0,0,1,1),zt.bind(void 0,1,0,0,1,2),zt.bind(void 0,1,0,0,1,3),zt.bind(void 0,1,0,1,0,0),zt.bind(void 0,1,0,1,0,1),zt.bind(void 0,1,0,1,0,2),zt.bind(void 0,1,0,1,0,3),zt.bind(void 0,1,0,1,1,0),zt.bind(void 0,1,0,1,1,1),zt.bind(void 0,1,0,1,1,2),zt.bind(void 0,1,0,1,1,3),zt.bind(void 0,1,1,0,0,0),zt.bind(void 0,1,1,0,0,1),zt.bind(void 0,1,1,0,0,2),zt.bind(void 0,1,1,0,0,3),zt.bind(void 0,1,1,0,1,0),zt.bind(void 0,1,1,0,1,1),zt.bind(void 0,1,1,0,1,2),zt.bind(void 0,1,1,0,1,3),zt.bind(void 0,1,1,1,0,0),zt.bind(void 0,1,1,1,0,1),zt.bind(void 0,1,1,1,0,2),zt.bind(void 0,1,1,1,0,3),zt.bind(void 0,1,1,1,1,0),zt.bind(void 0,1,1,1,1,1),zt.bind(void 0,1,1,1,1,2),zt.bind(void 0,1,1,1,1,3)],ai=Array.from||function(Y){return Y.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function pn(Y){(Y=Y||{}).empty||(lr(Y.familyName,"When creating a new Font object, familyName is required."),lr(Y.styleName,"When creating a new Font object, styleName is required."),lr(Y.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),lr(Y.ascender,"When creating a new Font object, ascender is required."),lr(Y.descender,"When creating a new Font object, descender is required."),lr(Y.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:Y.familyName||" "},fontSubfamily:{en:Y.styleName||" "},fullName:{en:Y.fullName||Y.familyName+" "+Y.styleName},postScriptName:{en:Y.postScriptName||(Y.familyName+Y.styleName).replace(/\s/g,"")},designer:{en:Y.designer||" "},designerURL:{en:Y.designerURL||" "},manufacturer:{en:Y.manufacturer||" "},manufacturerURL:{en:Y.manufacturerURL||" "},license:{en:Y.license||" "},licenseURL:{en:Y.licenseURL||" "},version:{en:Y.version||"Version 0.1"},description:{en:Y.description||" "},copyright:{en:Y.copyright||" "},trademark:{en:Y.trademark||" "}},this.unitsPerEm=Y.unitsPerEm||1e3,this.ascender=Y.ascender,this.descender=Y.descender,this.createdTimestamp=Y.createdTimestamp,this.tables={os2:{usWeightClass:Y.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:Y.widthClass||this.usWidthClasses.MEDIUM,fsSelection:Y.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new bt.GlyphSet(this,Y.glyphs||[]),this.encoding=new Xe(this),this.position=new ur(this),this.substitution=new Wn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new xn(this):void 0)}})}function ei(Y,K){var ae,se=JSON.stringify(Y),ge=256;for(ae in K){var Te=parseInt(ae);if(Te&&!(Te<256)){if(JSON.stringify(K[ae])===se)return Te;ge<=Te&&(ge=Te+1)}}return K[ge]=Y,ge}pn.prototype.hasChar=function(Y){return this.encoding.charToGlyphIndex(Y)!==null},pn.prototype.charToGlyphIndex=function(Y){return this.encoding.charToGlyphIndex(Y)},pn.prototype.charToGlyph=function(Y){return Y=this.charToGlyphIndex(Y),this.glyphs.get(Y)||this.glyphs.get(0)},pn.prototype.stringToGlyphs=function(Y,K){K=K||this.defaultRenderOptions;for(var ae=ai(Y),se=[],ge=0;ge<ae.length;ge+=1){var Te=ae[ge];se.push(this.charToGlyphIndex(Te))}var Pe=se.length;if(K.features){var Y=K.script||this.substitution.getDefaultScriptName(),Ge=[];K.features.liga&&(Ge=Ge.concat(this.substitution.getFeature("liga",Y,K.language))),K.features.rlig&&(Ge=Ge.concat(this.substitution.getFeature("rlig",Y,K.language)));for(var Ze=0;Ze<Pe;Ze+=1)for(var Qe=0;Qe<Ge.length;Qe++){for(var at=Ge[Qe],pt=at.sub,ut=pt.length,et=0;et<ut&&pt[et]===se[Ze+et];)et++;et===ut&&(se.splice(Ze,ut,at.by),Pe=Pe-ut+1)}}for(var Ct=new Array(Pe),vt=this.glyphs.get(0),At=0;At<Pe;At+=1)Ct[At]=this.glyphs.get(se[At])||vt;return Ct},pn.prototype.nameToGlyphIndex=function(Y){return this.glyphNames.nameToGlyphIndex(Y)},pn.prototype.nameToGlyph=function(Y){return Y=this.nameToGlyphIndex(Y),this.glyphs.get(Y)||this.glyphs.get(0)},pn.prototype.glyphIndexToName=function(Y){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(Y):""},pn.prototype.getKerningValue=function(Y,K){Y=Y.index||Y,K=K.index||K;var ae=this.position.defaultKerningTables;return ae?this.position.getKerningValue(ae,Y,K):this.kerningPairs[Y+","+K]||0},pn.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},pn.prototype.forEachGlyph=function(Y,K,ae,se,ge,Te){K=K!==void 0?K:0,ae=ae!==void 0?ae:0,ge=ge||this.defaultRenderOptions;var Pe,Ge=1/this.unitsPerEm*(se=se!==void 0?se:72),Ze=this.stringToGlyphs(Y,ge);ge.kerning&&(Y=ge.script||this.position.getDefaultScriptName(),Pe=this.position.getKerningTables(Y,ge.language));for(var Qe=0;Qe<Ze.length;Qe+=1){var at=Ze[Qe];Te.call(this,at,K,ae,se,ge),at.advanceWidth&&(K+=at.advanceWidth*Ge),ge.kerning&&Qe<Ze.length-1&&(K+=(Pe?this.position.getKerningValue(Pe,at.index,Ze[Qe+1].index):this.getKerningValue(at,Ze[Qe+1]))*Ge),ge.letterSpacing?K+=ge.letterSpacing*se:ge.tracking&&(K+=ge.tracking/1e3*se)}return K},pn.prototype.getPath=function(Y,K,ae,se,ge){var Te=new J;return this.forEachGlyph(Y,K,ae,se,ge,function(Pe,Ge,Ze,Qe){Pe=Pe.getPath(Ge,Ze,Qe,ge,this),Te.extend(Pe)}),Te},pn.prototype.getPaths=function(Y,K,ae,se,ge){var Te=[];return this.forEachGlyph(Y,K,ae,se,ge,function(Pe,Ge,Ze,Qe){Pe=Pe.getPath(Ge,Ze,Qe,ge,this),Te.push(Pe)}),Te},pn.prototype.getAdvanceWidth=function(Y,K,ae){return this.forEachGlyph(Y,0,0,K,ae,function(){})},pn.prototype.draw=function(Y,K,ae,se,ge,Te){this.getPath(K,ae,se,ge,Te).draw(Y)},pn.prototype.drawPoints=function(Y,K,ae,se,ge,Te){this.forEachGlyph(K,ae,se,ge,Te,function(Pe,Ge,Ze,Qe){Pe.drawPoints(Y,Ge,Ze,Qe)})},pn.prototype.drawMetrics=function(Y,K,ae,se,ge,Te){this.forEachGlyph(K,ae,se,ge,Te,function(Pe,Ge,Ze,Qe){Pe.drawMetrics(Y,Ge,Ze,Qe)})},pn.prototype.getEnglishName=function(Y){if(Y=this.names[Y],Y)return Y.en},pn.prototype.validate=function(){var Y=this;function K(ae){ae=Y.getEnglishName(ae),ae&&ae.trim().length}K("fontFamily"),K("weightName"),K("manufacturer"),K("copyright"),K("version"),this.unitsPerEm},pn.prototype.toTables=function(){return zn.fontToTable(this)},pn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},pn.prototype.toArrayBuffer=function(){for(var Y=this.toTables().encode(),K=new ArrayBuffer(Y.length),ae=new Uint8Array(K),se=0;se<Y.length;se++)ae[se]=Y[se];return K},pn.prototype.download=function(Y){var K=this.getEnglishName("fontFamily"),ae=this.getEnglishName("fontSubfamily"),se=(Y=Y||K.replace(/\s/g,"")+"-"+ae+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,se.byteLength,function(ge){ge.root.getFile(Y,{create:!0},function(Te){Te.createWriter(function(Pe){var Ge=new DataView(se),Ge=new Blob([Ge],{type:"font/opentype"});Pe.write(Ge),Pe.addEventListener("writeend",function(){location.href=Te.toURL()},!1)})})},function(ge){throw new Error(ge.name+": "+ge.message)})):(K=a("fs"),ae=function(ge){for(var Te=new h(ge.byteLength),Pe=new Uint8Array(ge),Ge=0;Ge<Te.length;++Ge)Te[Ge]=Pe[Ge];return Te}(se),K.writeFileSync(Y,ae))},pn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},pn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},pn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Rr={make:function(Y,K){var ae=new je.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:Y.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:Y.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*Y.axes.length}]);ae.offsetToData=ae.sizeOf();for(var se,ge,Te,Pe=0;Pe<Y.axes.length;Pe++)ae.fields=ae.fields.concat((se=Pe,ge=Y.axes[Pe],Te=K,Te=ei(ge.name,K),[{name:"tag_"+se,type:"TAG",value:ge.tag},{name:"minValue_"+se,type:"FIXED",value:ge.minValue<<16},{name:"defaultValue_"+se,type:"FIXED",value:ge.defaultValue<<16},{name:"maxValue_"+se,type:"FIXED",value:ge.maxValue<<16},{name:"flags_"+se,type:"USHORT",value:0},{name:"nameID_"+se,type:"USHORT",value:Te}]));for(var Ge=0;Ge<Y.instances.length;Ge++)ae.fields=ae.fields.concat(function(Ze,Qe,at,pt){for(var ut=[{name:"nameID_"+Ze,type:"USHORT",value:ei(Qe.name,pt)},{name:"flags_"+Ze,type:"USHORT",value:0}],et=0;et<at.length;++et){var Ct=at[et].tag;ut.push({name:"axis_"+Ze+" "+Ct,type:"FIXED",value:Qe.coordinates[Ct]<<16})}return ut}(Ge,Y.instances[Ge],Y.axes,K));return ae},parse:function(Y,K,ae){for(var se,ge,Te,Pe,Ge=new ze.Parser(Y,K),Ze=Ge.parseULong(),Qe=(W.argument(Ze===65536,"Unsupported fvar table version."),Ge.parseOffset16()),at=(Ge.skip("uShort",1),Ge.parseUShort()),pt=Ge.parseUShort(),ut=Ge.parseUShort(),et=Ge.parseUShort(),Ct=[],vt=0;vt<at;vt++)Ct.push((se=Y,ge=K+Qe+vt*pt,Te=ae,Pe={},se=new ze.Parser(se,ge),Pe.tag=se.parseTag(),Pe.minValue=se.parseFixed(),Pe.defaultValue=se.parseFixed(),Pe.maxValue=se.parseFixed(),se.skip("uShort",1),Pe.name=Te[se.parseUShort()]||{},Pe));for(var At=[],mt=K+Qe+at*pt,gt=0;gt<ut;gt++)At.push(function(Vt,Qt,$t,qt){var Kt={},gn=new ze.Parser(Vt,Qt);Kt.name=qt[gn.parseUShort()]||{},gn.skip("uShort",1),Kt.coordinates={};for(var An=0;An<$t.length;++An)Kt.coordinates[$t[An].tag]=gn.parseFixed();return Kt}(Y,mt+gt*et,Ct,ae));return{axes:Ct,instances:At}}},Ln=new Array(10);Ln[1]=function(){var Y=this.offset+this.relativeOffset,K=this.parseUShort();return K===1?{posFormat:1,coverage:this.parsePointer(Le.coverage),value:this.parseValueRecord()}:K===2?{posFormat:2,coverage:this.parsePointer(Le.coverage),values:this.parseValueRecordList()}:void W.assert(!1,"0x"+Y.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Ln[2]=function(){var Y,K,ae,se,Te=this.offset+this.relativeOffset,ge=this.parseUShort(),Te=(W.assert(ge===1||ge===2,"0x"+Te.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Le.coverage)),Pe=this.parseUShort(),Ge=this.parseUShort();return ge===1?{posFormat:ge,coverage:Te,valueFormat1:Pe,valueFormat2:Ge,pairSets:this.parseList(Le.pointer(Le.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Pe),value2:this.parseValueRecord(Ge)}})))}:ge===2?(Y=this.parsePointer(Le.classDef),K=this.parsePointer(Le.classDef),ae=this.parseUShort(),se=this.parseUShort(),{posFormat:ge,coverage:Te,valueFormat1:Pe,valueFormat2:Ge,classDef1:Y,classDef2:K,class1Count:ae,class2Count:se,classRecords:this.parseList(ae,Le.list(se,function(){return{value1:this.parseValueRecord(Pe),value2:this.parseValueRecord(Ge)}}))}):void 0},Ln[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Ln[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Ln[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Ln[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Ln[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Ln[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Ln[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Sn=new Array(10),si={parse:function(Y,K){return K=(Y=new Le(Y,K=K||0)).parseVersion(1),W.argument(K===1||K===1.1,"Unsupported GPOS table version "+K),K===1?{version:K,scripts:Y.parseScriptList(),features:Y.parseFeatureList(),lookups:Y.parseLookupList(Ln)}:{version:K,scripts:Y.parseScriptList(),features:Y.parseFeatureList(),lookups:Y.parseLookupList(Ln),variations:Y.parseFeatureVariationsList()}},make:function(Y){return new je.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new je.ScriptList(Y.scripts)},{name:"features",type:"TABLE",value:new je.FeatureList(Y.features)},{name:"lookups",type:"TABLE",value:new je.LookupList(Y.lookups,Sn)}])}},Tr={parse:function(Y,K){if(Y=new ze.Parser(Y,K),(K=Y.parseUShort())===0){var ae=Y,se={},pt=(ae.skip("uShort"),ae.parseUShort()),ge=(W.argument(pt===0,"Unsupported kern sub-table version."),ae.skip("uShort",2),ae.parseUShort());ae.skip("uShort",3);for(var Te=0;Te<ge;Te+=1){var Pe=ae.parseUShort(),Ge=ae.parseUShort(),Ze=ae.parseShort();se[Pe+","+Ge]=Ze}return se}if(K!==1)throw new Error("Unsupported kern table version ("+K+").");var Qe=Y,at={},pt=(Qe.skip("uShort"),1<Qe.parseULong()&&console.warn("Only the first kern subtable is supported."),Qe.skip("uLong"),255&Qe.parseUShort());if(Qe.skip("uShort"),pt==0){var ut=Qe.parseUShort();Qe.skip("uShort",3);for(var et=0;et<ut;et+=1){var Ct=Qe.parseUShort(),vt=Qe.parseUShort(),At=Qe.parseShort();at[Ct+","+vt]=At}}return at}},oi={parse:function(Y,K,ae,se){for(var ge=new ze.Parser(Y,K),Te=se?ge.parseUShort:ge.parseULong,Pe=[],Ge=0;Ge<ae+1;Ge+=1){var Ze=Te.call(ge);se&&(Ze*=2),Pe.push(Ze)}return Pe}};function kr(Y,K){a("fs").readFile(Y,function(ae,se){if(ae)return K(ae.message);K(null,Gr(se))})}function ci(Y,K){var ae=new XMLHttpRequest;ae.open("get",Y,!0),ae.responseType="arraybuffer",ae.onload=function(){return ae.response?K(null,ae.response):K("Font could not be loaded: "+ae.statusText)},ae.onerror=function(){K("Font could not be loaded")},ae.send()}function Lr(Y,K){for(var ae=[],se=12,ge=0;ge<K;ge+=1){var Te=ze.getTag(Y,se),Pe=ze.getULong(Y,se+4),Ge=ze.getULong(Y,se+8),Ze=ze.getULong(Y,se+12);ae.push({tag:Te,checksum:Pe,offset:Ge,length:Ze,compression:!1}),se+=16}return ae}function _n(ae,K){if(K.compression!=="WOFF")return{data:ae,offset:K.offset};var ae=new Uint8Array(ae.buffer,K.offset+2,K.compressedLength-2),se=new Uint8Array(K.length);if(H(ae,se),se.byteLength!==K.length)throw new Error("Decompression error: "+K.tag+" decompressed length doesn't match recorded length");return{data:new DataView(se.buffer,0),offset:0}}function vr(gt){var K,ae,se,ge,Te,Pe,Ge,Ze,Qe,at,pt,ut,et,Ct,vt=new pn({empty:!0}),At=new DataView(gt,0),mt=[],gt=ze.getTag(At,0);if(gt===String.fromCharCode(0,1,0,0)||gt==="true"||gt==="typ1")vt.outlinesFormat="truetype",mt=Lr(At,se=ze.getUShort(At,4));else if(gt==="OTTO")vt.outlinesFormat="cff",mt=Lr(At,se=ze.getUShort(At,4));else{if(gt!=="wOFF")throw new Error("Unsupported OpenType signature "+gt);var Vt=ze.getTag(At,4);if(Vt===String.fromCharCode(0,1,0,0))vt.outlinesFormat="truetype";else{if(Vt!=="OTTO")throw new Error("Unsupported OpenType flavor "+gt);vt.outlinesFormat="cff"}mt=function(yn,fn){for(var In=[],wn=44,On=0;On<fn;On+=1){var vn=ze.getTag(yn,wn),Nn=ze.getULong(yn,wn+4),Ur=ze.getULong(yn,wn+8),br=ze.getULong(yn,wn+12),Cn=void 0,Cn=Ur<br&&"WOFF";In.push({tag:vn,offset:Nn,compression:Cn,compressedLength:Ur,length:br}),wn+=20}return In}(At,se=ze.getUShort(At,12))}for(var Qt=0;Qt<se;Qt+=1){var $t=mt[Qt],qt=void 0;switch($t.tag){case"cmap":qt=_n(At,$t),vt.tables.cmap=Ee.parse(qt.data,qt.offset),vt.encoding=new rt(vt.tables.cmap);break;case"cvt ":qt=_n(At,$t),Ct=new ze.Parser(qt.data,qt.offset),vt.tables.cvt=Ct.parseShortList($t.length/2);break;case"fvar":Te=$t;break;case"fpgm":qt=_n(At,$t),Ct=new ze.Parser(qt.data,qt.offset),vt.tables.fpgm=Ct.parseByteList($t.length);break;case"head":qt=_n(At,$t),vt.tables.head=nn.parse(qt.data,qt.offset),vt.unitsPerEm=vt.tables.head.unitsPerEm,K=vt.tables.head.indexToLocFormat;break;case"hhea":qt=_n(At,$t),vt.tables.hhea=Je.parse(qt.data,qt.offset),vt.ascender=vt.tables.hhea.ascender,vt.descender=vt.tables.hhea.descender,vt.numberOfHMetrics=vt.tables.hhea.numberOfHMetrics;break;case"hmtx":Qe=$t;break;case"ltag":qt=_n(At,$t),ae=_e.parse(qt.data,qt.offset);break;case"maxp":qt=_n(At,$t),vt.tables.maxp=Oe.parse(qt.data,qt.offset),vt.numGlyphs=vt.tables.maxp.numGlyphs;break;case"name":ut=$t;break;case"OS/2":qt=_n(At,$t),vt.tables.os2=Xt.parse(qt.data,qt.offset);break;case"post":qt=_n(At,$t),vt.tables.post=en.parse(qt.data,qt.offset),vt.glyphNames=new nt(vt.tables.post);break;case"prep":qt=_n(At,$t),Ct=new ze.Parser(qt.data,qt.offset),vt.tables.prep=Ct.parseByteList($t.length);break;case"glyf":Pe=$t;break;case"loca":pt=$t;break;case"CFF ":ge=$t;break;case"kern":at=$t;break;case"GPOS":Ge=$t;break;case"GSUB":Ze=$t;break;case"meta":et=$t}}if(Vt=_n(At,ut),vt.tables.name=Ut.parse(Vt.data,Vt.offset,ae),vt.names=vt.tables.name,Pe&&pt)gt=K===0,Vt=_n(At,pt),Vt=oi.parse(Vt.data,Vt.offset,vt.numGlyphs,gt),gt=_n(At,Pe),vt.glyphs=hr.parse(gt.data,gt.offset,Vt,vt);else{if(!ge)throw new Error("Font doesn't contain TrueType or CFF outlines.");gt=_n(At,ge),Wt.parse(gt.data,gt.offset,vt)}for(var Vt=_n(At,Qe),Kt=(Et.parse(Vt.data,Vt.offset,vt.numberOfHMetrics,vt.numGlyphs,vt.glyphs),vt),gn=Kt.tables.cmap.glyphIndexMap,An=Object.keys(gn),En=0;En<An.length;En+=1){var Pn,kn=An[En],Yn=gn[kn];(Pn=Kt.glyphs.get(Yn)).addUnicode(parseInt(kn))}for(var hn=0;hn<Kt.glyphs.length;hn+=1)Pn=Kt.glyphs.get(hn),Kt.cffEncoding?Kt.isCIDFont?Pn.name="gid"+hn:Pn.name=Kt.cffEncoding.charset[hn]:Kt.glyphNames.names&&(Pn.name=Kt.glyphNames.glyphIndexToName(hn));return at?(gt=_n(At,at),vt.kerningPairs=Tr.parse(gt.data,gt.offset)):vt.kerningPairs={},Ge&&(Vt=_n(At,Ge),vt.tables.gpos=si.parse(Vt.data,Vt.offset),vt.position.init()),Ze&&(gt=_n(At,Ze),vt.tables.gsub=Un.parse(gt.data,gt.offset)),Te&&(Vt=_n(At,Te),vt.tables.fvar=Rr.parse(Vt.data,Vt.offset,vt.names)),et&&(gt=_n(At,et),vt.tables.meta=tr.parse(gt.data,gt.offset),vt.metas=vt.tables.meta),vt}A.Font=pn,A.Glyph=dt,A.Path=J,A.BoundingBox=Z,A._parse=ze,A.parse=vr,A.load=function(Y,K){(typeof window>"u"?kr:ci)(Y,function(ae,se){if(ae)return K(ae);var ge;try{ge=vr(se)}catch(Te){return K(Te,null)}return K(null,ge)})},A.loadSync=function(Y){return vr(Gr(a("fs").readFileSync(Y)))},Object.defineProperty(A,"__esModule",{value:!0})},p(typeof b=="object"&&r!==void 0?b:m.opentype={})}).call(this,a("buffer").Buffer)},{buffer:4,fs:2}],255:[function(a,r,b){(function(h){function m(S,_){for(var l=0,y=S.length-1;0<=y;y--){var o=S[y];o==="."?S.splice(y,1):o===".."?(S.splice(y,1),l++):l&&(S.splice(y,1),l--)}if(_)for(;l--;)S.unshift("..");return S}function p(S,_){if(S.filter)return S.filter(_);for(var l=[],y=0;y<S.length;y++)_(S[y],y,S)&&l.push(S[y]);return l}b.resolve=function(){for(var S="",_=!1,l=arguments.length-1;-1<=l&&!_;l--){var y=0<=l?arguments[l]:h.cwd();if(typeof y!="string")throw new TypeError("Arguments to path.resolve must be strings");y&&(S=y+"/"+S,_=y.charAt(0)==="/")}return(_?"/":"")+(S=m(p(S.split("/"),function(o){return!!o}),!_).join("/"))||"."},b.normalize=function(S){var _=b.isAbsolute(S),l=A(S,-1)==="/";return(S=(S=m(p(S.split("/"),function(y){return!!y}),!_).join("/"))||_?S:".")&&l&&(S+="/"),(_?"/":"")+S},b.isAbsolute=function(S){return S.charAt(0)==="/"},b.join=function(){var S=Array.prototype.slice.call(arguments,0);return b.normalize(p(S,function(_,l){if(typeof _!="string")throw new TypeError("Arguments to path.join must be strings");return _}).join("/"))},b.relative=function(S,_){function l(E){for(var C=0;C<E.length&&E[C]==="";C++);for(var T=E.length-1;0<=T&&E[T]==="";T--);return T<C?[]:E.slice(C,T-C+1)}S=b.resolve(S).substr(1),_=b.resolve(_).substr(1);for(var y=l(S.split("/")),o=l(_.split("/")),f=Math.min(y.length,o.length),x=f,g=0;g<f;g++)if(y[g]!==o[g]){x=g;break}for(var D=[],g=x;g<y.length;g++)D.push("..");return(D=D.concat(o.slice(x))).join("/")},b.sep="/",b.delimiter=":",b.dirname=function(S){if(typeof S!="string"&&(S+=""),S.length===0)return".";for(var _=S.charCodeAt(0)===47,l=-1,y=!0,o=S.length-1;1<=o;--o)if(S.charCodeAt(o)===47){if(!y){l=o;break}}else y=!1;return l===-1?_?"/":".":_&&l===1?"/":S.slice(0,l)},b.basename=function(S,_){return S=function(l){typeof l!="string"&&(l+="");for(var y=0,o=-1,f=!0,x=l.length-1;0<=x;--x)if(l.charCodeAt(x)===47){if(!f){y=x+1;break}}else o===-1&&(f=!1,o=x+1);return o===-1?"":l.slice(y,o)}(S),S=_&&S.substr(-1*_.length)===_?S.substr(0,S.length-_.length):S},b.extname=function(S){typeof S!="string"&&(S+="");for(var _=-1,l=0,y=-1,o=!0,f=0,x=S.length-1;0<=x;--x){var g=S.charCodeAt(x);if(g===47){if(o)continue;l=x+1;break}y===-1&&(o=!1,y=x+1),g===46?_===-1?_=x:f!==1&&(f=1):_!==-1&&(f=-1)}return _===-1||y===-1||f===0||f===1&&_===y-1&&_===l+1?"":S.slice(_,y)};var A="ab".substr(-1)==="b"?function(S,_,l){return S.substr(_,l)}:function(S,_,l){return _<0&&(_=S.length+_),S.substr(_,l)}}).call(this,a("_process"))},{_process:256}],256:[function(a,p,b){var h,m,p=p.exports={};function A(){throw new Error("setTimeout has not been defined")}function S(){throw new Error("clearTimeout has not been defined")}try{h=typeof setTimeout=="function"?setTimeout:A}catch{h=A}try{m=typeof clearTimeout=="function"?clearTimeout:S}catch{m=S}function _(C){if(h===setTimeout)return setTimeout(C,0);if((h===A||!h)&&setTimeout)return(h=setTimeout)(C,0);try{return h(C,0)}catch{try{return h.call(null,C,0)}catch{return h.call(this,C,0)}}}var l,y=[],o=!1,f=-1;function x(){o&&l&&(o=!1,l.length?y=l.concat(y):f=-1,y.length&&g())}function g(){if(!o){for(var C=_(x),T=(o=!0,y.length);T;){for(l=y,y=[];++f<T;)l&&l[f].run();f=-1,T=y.length}l=null,o=!1,function(O){if(m===clearTimeout)return clearTimeout(O);if((m===S||!m)&&clearTimeout)return(m=clearTimeout)(O);try{m(O)}catch{try{return m.call(null,O)}catch{return m.call(this,O)}}}(C)}}function D(C,T){this.fun=C,this.array=T}function E(){}p.nextTick=function(C){var T=new Array(arguments.length-1);if(1<arguments.length)for(var O=1;O<arguments.length;O++)T[O-1]=arguments[O];y.push(new D(C,T)),y.length!==1||o||_(g)},D.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=E,p.addListener=E,p.once=E,p.off=E,p.removeListener=E,p.removeAllListeners=E,p.emit=E,p.prependListener=E,p.prependOnceListener=E,p.listeners=function(C){return[]},p.binding=function(C){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(C){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],257:[function(a,r,b){r=function(h){var m,p=Object.prototype,A=p.hasOwnProperty,I=typeof Symbol=="function"?Symbol:{},S=I.iterator||"@@iterator",_=I.asyncIterator||"@@asyncIterator",l=I.toStringTag||"@@toStringTag";function y(G,Q,X,te){var J,ee,$,W,Q=Q&&Q.prototype instanceof C?Q:C,Q=Object.create(Q.prototype),te=new V(te||[]);return Q._invoke=(J=G,ee=X,$=te,W=f,function(ce,oe){if(W===g)throw new Error("Generator is already running");if(W===D){if(ce==="throw")throw oe;return U()}for($.method=ce,$.arg=oe;;){var ue=$.delegate;if(ue&&(ue=function we(le,fe){var ve=le.iterator[fe.method];if(ve===m){if(fe.delegate=null,fe.method==="throw"){if(le.iterator.return&&(fe.method="return",fe.arg=m,we(le,fe),fe.method==="throw"))return E;fe.method="throw",fe.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}if(ve=o(ve,le.iterator,fe.arg),ve.type==="throw")return fe.method="throw",fe.arg=ve.arg,fe.delegate=null,E;if(ve=ve.arg,!ve)return fe.method="throw",fe.arg=new TypeError("iterator result is not an object"),fe.delegate=null,E;{if(!ve.done)return ve;fe[le.resultName]=ve.value,fe.next=le.nextLoc,fe.method!=="return"&&(fe.method="next",fe.arg=m)}return fe.delegate=null,E}(ue,$),ue)){if(ue===E)continue;return ue}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(W===f)throw W=D,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);if(W=g,ue=o(J,ee,$),ue.type==="normal"){if(W=$.done?D:x,ue.arg!==E)return{value:ue.arg,done:$.done}}else ue.type==="throw"&&(W=D,$.method="throw",$.arg=ue.arg)}}),Q}function o(G,H,X){try{return{type:"normal",arg:G.call(H,X)}}catch(Z){return{type:"throw",arg:Z}}}h.wrap=y;var f="suspendedStart",x="suspendedYield",g="executing",D="completed",E={};function C(){}function T(){}function O(){}var I={},M=(I[S]=function(){return this},Object.getPrototypeOf),M=M&&M(M(k([]))),F=(M&&M!==p&&A.call(M,S)&&(I=M),O.prototype=C.prototype=Object.create(I));function B(G){["next","throw","return"].forEach(function(H){G[H]=function(X){return this._invoke(H,X)}})}function j(G){var H;this._invoke=function(X,Z){function J(){return new Promise(function(ee,$){(function W(we,te,ce,oe){var ue,we=o(G[we],G,te);if(we.type!=="throw")return(te=(ue=we.arg).value)&&typeof te=="object"&&A.call(te,"__await")?Promise.resolve(te.__await).then(function(le){W("next",le,ce,oe)},function(le){W("throw",le,ce,oe)}):Promise.resolve(te).then(function(le){ue.value=le,ce(ue)},function(le){return W("throw",le,ce,oe)});oe(we.arg)})(X,Z,ee,$)})}return H=H?H.then(J,J):J()}}function L(G){var H={tryLoc:G[0]};1 in G&&(H.catchLoc=G[1]),2 in G&&(H.finallyLoc=G[2],H.afterLoc=G[3]),this.tryEntries.push(H)}function R(G){var H=G.completion||{};H.type="normal",delete H.arg,G.completion=H}function V(G){this.tryEntries=[{tryLoc:"root"}],G.forEach(L,this),this.reset(!0)}function k(G){if(G){var H,X=G[S];if(X)return X.call(G);if(typeof G.next=="function")return G;if(!isNaN(G.length))return H=-1,(X=function Z(){for(;++H<G.length;)if(A.call(G,H))return Z.value=G[H],Z.done=!1,Z;return Z.value=m,Z.done=!0,Z}).next=X}return{next:U}}function U(){return{value:m,done:!0}}return(T.prototype=F.constructor=O).constructor=T,O[l]=T.displayName="GeneratorFunction",h.isGeneratorFunction=function(G){return G=typeof G=="function"&&G.constructor,!!G&&(G===T||(G.displayName||G.name)==="GeneratorFunction")},h.mark=function(G){return Object.setPrototypeOf?Object.setPrototypeOf(G,O):(G.__proto__=O,l in G||(G[l]="GeneratorFunction")),G.prototype=Object.create(F),G},h.awrap=function(G){return{__await:G}},B(j.prototype),j.prototype[_]=function(){return this},h.AsyncIterator=j,h.async=function(G,H,X,Z){var J=new j(y(G,H,X,Z));return h.isGeneratorFunction(H)?J:J.next().then(function(ee){return ee.done?ee.value:J.next()})},B(F),F[l]="Generator",F[S]=function(){return this},F.toString=function(){return"[object Generator]"},h.keys=function(G){var H,X=[];for(H in G)X.push(H);return X.reverse(),function Z(){for(;X.length;){var J=X.pop();if(J in G)return Z.value=J,Z.done=!1,Z}return Z.done=!0,Z}},h.values=k,V.prototype={constructor:V,reset:function(G){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(R),!G)for(var H in this)H.charAt(0)==="t"&&A.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=m)},stop:function(){this.done=!0;var G=this.tryEntries[0].completion;if(G.type==="throw")throw G.arg;return this.rval},dispatchException:function(G){if(this.done)throw G;var H=this;function X(Q,te){return ee.type="throw",ee.arg=G,H.next=Q,te&&(H.method="next",H.arg=m),!!te}for(var Z=this.tryEntries.length-1;0<=Z;--Z){var J=this.tryEntries[Z],ee=J.completion;if(J.tryLoc==="root")return X("end");if(J.tryLoc<=this.prev){var $=A.call(J,"catchLoc"),W=A.call(J,"finallyLoc");if($&&W){if(this.prev<J.catchLoc)return X(J.catchLoc,!0);if(this.prev<J.finallyLoc)return X(J.finallyLoc)}else if($){if(this.prev<J.catchLoc)return X(J.catchLoc,!0)}else{if(!W)throw new Error("try statement without catch or finally");if(this.prev<J.finallyLoc)return X(J.finallyLoc)}}}},abrupt:function(G,H){for(var X=this.tryEntries.length-1;0<=X;--X){var Z=this.tryEntries[X];if(Z.tryLoc<=this.prev&&A.call(Z,"finallyLoc")&&this.prev<Z.finallyLoc){var J=Z;break}}var ee=(J=J&&(G==="break"||G==="continue")&&J.tryLoc<=H&&H<=J.finallyLoc?null:J)?J.completion:{};return ee.type=G,ee.arg=H,J?(this.method="next",this.next=J.finallyLoc,E):this.complete(ee)},complete:function(G,H){if(G.type==="throw")throw G.arg;return G.type==="break"||G.type==="continue"?this.next=G.arg:G.type==="return"?(this.rval=this.arg=G.arg,this.method="return",this.next="end"):G.type==="normal"&&H&&(this.next=H),E},finish:function(G){for(var H=this.tryEntries.length-1;0<=H;--H){var X=this.tryEntries[H];if(X.finallyLoc===G)return this.complete(X.completion,X.afterLoc),R(X),E}},catch:function(G){for(var H=this.tryEntries.length-1;0<=H;--H){var X,Z,J=this.tryEntries[H];if(J.tryLoc===G)return(X=J.completion).type==="throw"&&(Z=X.arg,R(J)),Z}throw new Error("illegal catch attempt")},delegateYield:function(G,H,X){return this.delegate={iterator:k(G),resultName:H,nextLoc:X},this.method==="next"&&(this.arg=m),E}},h}(typeof r=="object"?r.exports:{});try{regeneratorRuntime=r}catch{Function("r","regeneratorRuntime = r")(r)}},{}],258:[function(a,r,b){(function(h){var m,p,A,S,_,l,y,o,f,x;function g(R){if(typeof R!="string"&&(R=String(R)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(R))throw new TypeError("Invalid character in header field name");return R.toLowerCase()}function D(R){return R=typeof R!="string"?String(R):R}function E(R){var V={next:function(){var k=R.shift();return{done:k===void 0,value:k}}};return p&&(V[Symbol.iterator]=function(){return V}),V}function C(R){this.map={},R instanceof C?R.forEach(function(V,k){this.append(k,V)},this):Array.isArray(R)?R.forEach(function(V){this.append(V[0],V[1])},this):R&&Object.getOwnPropertyNames(R).forEach(function(V){this.append(V,R[V])},this)}function T(R){if(R.bodyUsed)return Promise.reject(new TypeError("Already read"));R.bodyUsed=!0}function O(R){return new Promise(function(V,k){R.onload=function(){V(R.result)},R.onerror=function(){k(R.error)}})}function I(R){var V=new FileReader,k=O(V);return V.readAsArrayBuffer(R),k}function M(R){var V;return R.slice?R.slice(0):((V=new Uint8Array(R.byteLength)).set(new Uint8Array(R)),V.buffer)}function F(){return this.bodyUsed=!1,this._initBody=function(R){if(this._bodyInit=R)if(typeof R=="string")this._bodyText=R;else if(A&&Blob.prototype.isPrototypeOf(R))this._bodyBlob=R;else if(S&&FormData.prototype.isPrototypeOf(R))this._bodyFormData=R;else if(m&&URLSearchParams.prototype.isPrototypeOf(R))this._bodyText=R.toString();else if(_&&A&&y(R))this._bodyArrayBuffer=M(R.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!_||!ArrayBuffer.prototype.isPrototypeOf(R)&&!o(R))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=M(R)}else this._bodyText="";this.headers.get("content-type")||(typeof R=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m&&URLSearchParams.prototype.isPrototypeOf(R)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},A&&(this.blob=function(){var R=T(this);if(R)return R;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(I)}),this.text=function(){var R,V,k=T(this);if(k)return k;if(this._bodyBlob)return k=this._bodyBlob,R=new FileReader,V=O(R),R.readAsText(k),V;if(this._bodyArrayBuffer)return Promise.resolve(function(U){for(var G=new Uint8Array(U),H=new Array(G.length),X=0;X<G.length;X++)H[X]=String.fromCharCode(G[X]);return H.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},S&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}function B(R,V){var k,U=(V=V||{}).body;if(R instanceof B){if(R.bodyUsed)throw new TypeError("Already read");this.url=R.url,this.credentials=R.credentials,V.headers||(this.headers=new C(R.headers)),this.method=R.method,this.mode=R.mode,U||R._bodyInit==null||(U=R._bodyInit,R.bodyUsed=!0)}else this.url=String(R);if(this.credentials=V.credentials||this.credentials||"omit",!V.headers&&this.headers||(this.headers=new C(V.headers)),this.method=(R=V.method||this.method||"GET",k=R.toUpperCase(),-1<f.indexOf(k)?k:R),this.mode=V.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&U)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(U)}function j(R){var V=new FormData;return R.trim().split("&").forEach(function(k){var U;k&&(U=(k=k.split("=")).shift().replace(/\+/g," "),k=k.join("=").replace(/\+/g," "),V.append(decodeURIComponent(U),decodeURIComponent(k)))}),V}function L(R,V){V=V||{},this.type="default",this.status=V.status===void 0?200:V.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in V?V.statusText:"OK",this.headers=new C(V.headers),this.url=V.url||"",this._initBody(R)}h.fetch||(m="URLSearchParams"in h,p="Symbol"in h&&"iterator"in Symbol,A="FileReader"in h&&"Blob"in h&&function(){try{return new Blob,!0}catch{return!1}}(),S="FormData"in h,(_="ArrayBuffer"in h)&&(l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=function(R){return R&&DataView.prototype.isPrototypeOf(R)},o=ArrayBuffer.isView||function(R){return R&&-1<l.indexOf(Object.prototype.toString.call(R))}),C.prototype.append=function(R,V){R=g(R),V=D(V);var k=this.map[R];this.map[R]=k?k+","+V:V},C.prototype.delete=function(R){delete this.map[g(R)]},C.prototype.get=function(R){return R=g(R),this.has(R)?this.map[R]:null},C.prototype.has=function(R){return this.map.hasOwnProperty(g(R))},C.prototype.set=function(R,V){this.map[g(R)]=D(V)},C.prototype.forEach=function(R,V){for(var k in this.map)this.map.hasOwnProperty(k)&&R.call(V,this.map[k],k,this)},C.prototype.keys=function(){var R=[];return this.forEach(function(V,k){R.push(k)}),E(R)},C.prototype.values=function(){var R=[];return this.forEach(function(V){R.push(V)}),E(R)},C.prototype.entries=function(){var R=[];return this.forEach(function(V,k){R.push([k,V])}),E(R)},p&&(C.prototype[Symbol.iterator]=C.prototype.entries),f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],B.prototype.clone=function(){return new B(this,{body:this._bodyInit})},F.call(B.prototype),F.call(L.prototype),L.prototype.clone=function(){return new L(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new C(this.headers),url:this.url})},L.error=function(){var R=new L(null,{status:0,statusText:""});return R.type="error",R},x=[301,302,303,307,308],L.redirect=function(R,V){if(x.indexOf(V)===-1)throw new RangeError("Invalid status code");return new L(null,{status:V,headers:{location:R}})},h.Headers=C,h.Request=B,h.Response=L,h.fetch=function(R,V){return new Promise(function(k,U){var G=new B(R,V),H=new XMLHttpRequest;H.onload=function(){var X,Z={status:H.status,statusText:H.statusText,headers:(Z=H.getAllResponseHeaders()||"",X=new C,Z.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function($){var $=$.split(":"),W=$.shift().trim();W&&($=$.join(":").trim(),X.append(W,$))}),X)},J=(Z.url="responseURL"in H?H.responseURL:Z.headers.get("X-Request-URL"),"response"in H?H.response:H.responseText);k(new L(J,Z))},H.onerror=function(){U(new TypeError("Network request failed"))},H.ontimeout=function(){U(new TypeError("Network request failed"))},H.open(G.method,G.url,!0),G.credentials==="include"?H.withCredentials=!0:G.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&A&&(H.responseType="blob"),G.headers.forEach(function(X,Z){H.setRequestHeader(Z,X)}),H.send(G._bodyInit===void 0?null:G._bodyInit)})},h.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],259:[function(a,r,b){a("core-js/modules/es.function.name"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.split"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.split"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h,m=A(a("../core/main")),p=A(a("../color/color_conversion"));function A(l){return l&&l.__esModule?l:{default:l}}var S=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],_=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];m.default.prototype._rgbColorName=function(f){var y,o,f=p.default._rgbaToHSBA(f),x=[(h=f)[0],f[1],f[2]];x[0]!==0&&(x[0]=Math.round(100*x[0]),(f=x[0].toString().split(""))[o=f.length-1]=parseInt(f[o]),f[o]<2.5?f[o]=0:2.5<=f[o]&&f[o]<7.5&&(f[o]=5),f.length===2?(f[0]=parseInt(f[0]),7.5<=f[o]&&(f[o]=0,f[0]=f[0]+1),x[0]=10*f[0]+f[1]):7.5<=f[o]?x[0]=10:x[0]=f[o]),x[2]=x[2]/255;for(var g=x.length-1;1<=g;g--)x[g]<=.25?x[g]=0:.25<x[g]&&x[g]<.75?x[g]=.5:x[g]=1;if(x[0]===0&&x[1]===0&&x[2]===1){for(var D=2;0<=D;D--)h[D]=Math.round(1e4*h[D])/1e4;for(var E=0;E<S.length;E++){if(S[E].h===h[0]&&S[E].s===h[1]&&S[E].b===h[2]){y=S[E].name;break}y="white"}}else for(var C=0;C<_.length;C++)if(_[C].h===x[0]&&_[C].s===x[1]&&_[C].b===x[2]){y=_[C].name;break}return y},a=m.default,b.default=a},{"../color/color_conversion":265,"../core/main":280,"core-js/modules/es.function.name":173,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203}],260:[function(a,r,b){a("core-js/modules/es.array.concat"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.ends-with"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.ends-with"),a("core-js/modules/es.string.replace"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(a=a("../core/main"))&&a.__esModule?a:{default:a},m="_Description",p="_fallbackDesc",A="_fallbackTable",S="_Label",_="_labelDesc",l="_labelTable";function y(o){if(o==="label"||o==="fallback")throw new Error("description should not be LABEL or FALLBACK");return o.endsWith(".")||o.endsWith(";")||o.endsWith(",")||o.endsWith("?")||o.endsWith("!")||(o+="."),o}h.default.prototype.describe=function(o,f){var x;h.default._validateParameters("describe",arguments),typeof o=="string"&&(x=this.canvas.id,o=y(o),this.dummyDOM||(this.dummyDOM=document.getElementById(x).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==o&&(this.descriptions.fallback.innerHTML=o):this._describeHTML("fallback",o),f===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==o&&(this.descriptions.label.innerHTML=o):this._describeHTML("label",o)))},h.default.prototype.describeElement=function(o,f,x){var g,D;h.default._validateParameters("describeElement",arguments),typeof f=="string"&&typeof o=="string"&&(g=this.canvas.id,f=y(f),D=function(E){if(E==="label"||E==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return E.endsWith(".")||E.endsWith(";")||E.endsWith(",")?E=E.replace(/.$/,":"):E.endsWith(":")||(E+=":"),E}(o),o=o.replace(/[^a-zA-Z0-9]/g,""),D='<th scope="row">'.concat(D,"</th><td>").concat(f,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[o]?this.descriptions.fallbackElements[o].innerHTML!==D&&(this.descriptions.fallbackElements[o].innerHTML=D):this._describeElementHTML("fallback",o,D),x===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[o]?this.descriptions.labelElements[o].innerHTML!==D&&(this.descriptions.labelElements[o].innerHTML=D):this._describeElementHTML("label",o,D)))},h.default.prototype._describeHTML=function(o,f){var x,g=this.canvas.id;o==="fallback"?(this.dummyDOM.querySelector("#".concat(g+m))?this.dummyDOM.querySelector("#"+g+A).insertAdjacentHTML("beforebegin",'<p id="'.concat(g+p,'"></p>')):(x='<div id="'.concat(g).concat(m,'" role="region" aria-label="Canvas Description"><p id="').concat(g).concat(p,'"></p></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutput")).insertAdjacentHTML("beforebegin",x):this.dummyDOM.querySelector("#".concat(g)).innerHTML=x),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(g).concat(p)),this.descriptions.fallback.innerHTML=f):o==="label"&&(this.dummyDOM.querySelector("#".concat(g+S))?this.dummyDOM.querySelector("#".concat(g+l))&&this.dummyDOM.querySelector("#".concat(g+l)).insertAdjacentHTML("beforebegin",'<p id="'.concat(g).concat(_,'"></p>')):(x='<div id="'.concat(g).concat(S,'" class="p5Label"><p id="').concat(g).concat(_,'"></p></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",x):this.dummyDOM.querySelector("#"+g).insertAdjacentHTML("afterend",x)),this.descriptions.label=this.dummyDOM.querySelector("#"+g+_),this.descriptions.label.innerHTML=f)},h.default.prototype._describeElementHTML=function(o,f,x){var g,D=this.canvas.id;o==="fallback"?(this.dummyDOM.querySelector("#".concat(D+m))?this.dummyDOM.querySelector("#"+D+A)||this.dummyDOM.querySelector("#"+D+p).insertAdjacentHTML("afterend",'<table id="'.concat(D).concat(A,'"><caption>Canvas elements and their descriptions</caption></table>')):(g='<div id="'.concat(D).concat(m,'" role="region" aria-label="Canvas Description"><table id="').concat(D).concat(A,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(D,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(D,"accessibleOutput")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+D).innerHTML=g),(g=document.createElement("tr")).id=D+"_fte_"+f,this.dummyDOM.querySelector("#"+D+A).appendChild(g),this.descriptions.fallbackElements[f]=this.dummyDOM.querySelector("#".concat(D).concat("_fte_").concat(f)),this.descriptions.fallbackElements[f].innerHTML=x):o==="label"&&(this.dummyDOM.querySelector("#".concat(D+S))?this.dummyDOM.querySelector("#".concat(D+l))||this.dummyDOM.querySelector("#"+D+_).insertAdjacentHTML("afterend",'<table id="'.concat(D+l,'"></table>')):(g='<div id="'.concat(D).concat(S,'" class="p5Label"><table id="').concat(D).concat(l,'"></table></div>'),this.dummyDOM.querySelector("#".concat(D,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(D,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+D).insertAdjacentHTML("afterend",g)),(o=document.createElement("tr")).id=D+"_lte_"+f,this.dummyDOM.querySelector("#"+D+l).appendChild(o),this.descriptions.labelElements[f]=this.dummyDOM.querySelector("#".concat(D).concat("_lte_").concat(f)),this.descriptions.labelElements[f].innerHTML=x)},a=h.default,b.default=a},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.replace":201}],261:[function(a,r,b){a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.map"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.map"),a("core-js/modules/es.string.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a},a.default.prototype._updateGridOutput=function(h){var m,p,A,S;this.dummyDOM.querySelector("#".concat(h,"_summary"))&&(m=this._accessibleOutputs[h],A=function(_,l,y,o){return l="".concat(l," canvas, ").concat(y," by ").concat(o," pixels, contains ").concat(_[0]),l=(_[0]===1?"".concat(l," shape: "):"".concat(l," shapes: ")).concat(_[1]),l}((p=function(_,l){var y,o="",f="",x=0;for(y in l){var g,D=0;for(g in l[y]){var E='<li id="'.concat(_,"shape").concat(x,'">').concat(l[y][g].color," ").concat(y,",");y==="line"?E+=" location = ".concat(l[y][g].pos,", length = ").concat(l[y][g].length," pixels"):(E+=" location = ".concat(l[y][g].pos),y!=="point"&&(E+=", area = ".concat(l[y][g].area," %")),E+="</li>"),o+=E,D++,x++}f=1<D?"".concat(f," ").concat(D," ").concat(y,"s"):"".concat(f," ").concat(D," ").concat(y)}return{numShapes:[x,f],details:o}}(h,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),S=function(_,l){var y,o,f=0,x="",g=Array.from(Array(10),function(){return Array(10)});for(y in l)for(var D in l[y]){var E=void 0;E=y!=="line"?'<a href="#'.concat(_,"shape").concat(f,'">').concat(l[y][D].color," ").concat(y,"</a>"):'<a href="#'.concat(_,"shape").concat(f,'">').concat(l[y][D].color," ").concat(y," midpoint</a>"),g[l[y][D].loc.locY][l[y][D].loc.locX]?g[l[y][D].loc.locY][l[y][D].loc.locX]=g[l[y][D].loc.locY][l[y][D].loc.locX]+"  "+E:g[l[y][D].loc.locY][l[y][D].loc.locX]=E,f++}for(o in g){var C,T="<tr>";for(C in g[o])T+="<td>",g[o][C]!==void 0&&(T+=g[o][C]),T+="</td>";x=x+T+"</tr>"}return x}(h,this.ingredients.shapes),A!==m.summary.innerHTML&&(m.summary.innerHTML=A),S!==m.map.innerHTML&&(m.map.innerHTML=S),p.details!==m.shapeDetails.innerHTML&&(m.shapeDetails.innerHTML=p.details),this._accessibleOutputs[h]=m)},a=a.default,b.default=a},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.map":167,"core-js/modules/es.string.iterator":197}],262:[function(a,r,b){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.number.to-fixed"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.map"),a("core-js/modules/es.number.to-fixed"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(a=a("../core/main"))&&a.__esModule?a:{default:a};function m(A){return function(S){if(Array.isArray(S)){for(var _=0,l=new Array(S.length);_<S.length;_++)l[_]=S[_];return l}}(A)||function(S){if(Symbol.iterator in Object(S)||Object.prototype.toString.call(S)==="[object Arguments]")return Array.from(S)}(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(A,S,_){return S=Math.floor(A[0]/S*10),A=Math.floor(A[1]/_*10),S===10&&(S-=1),A===10&&(A-=1),{locX:S,locY:A}}h.default.prototype.textOutput=function(A){h.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),A===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},h.default.prototype.gridOutput=function(A){h.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),A===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},h.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},h.default.prototype._createOutput=function(A,S){var _,l,y,o=this.canvas.id,f=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(o).parentNode),"");S==="Fallback"?(_=o+A,this.dummyDOM.querySelector("#".concat(l=o+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(o,"_Description"))?this.dummyDOM.querySelector("#".concat(o,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(l,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(o)).innerHTML='<div id="'.concat(l,'" role="region" aria-label="Canvas Outputs"></div>'))):S==="Label"&&(_=o+A+(f=S),this.dummyDOM.querySelector("#".concat(l=o+"accessibleOutput"+S))||(this.dummyDOM.querySelector("#".concat(o,"_Label"))?this.dummyDOM.querySelector("#".concat(o,"_Label")):this.dummyDOM.querySelector("#".concat(o))).insertAdjacentHTML("afterend",'<div id="'.concat(l,'"></div>'))),this._accessibleOutputs[_]={},A==="textOutput"?(f="#".concat(o,"gridOutput").concat(f),y='<div id="'.concat(_,'">Text Output<div id="').concat(_,'Summary" aria-label="text output summary"><p id="').concat(_,'_summary"></p><ul id="').concat(_,'_list"></ul></div><table id="').concat(_,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(f)?this.dummyDOM.querySelector(f).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#".concat(l)).innerHTML=y,this._accessibleOutputs[_].list=this.dummyDOM.querySelector("#".concat(_,"_list"))):A==="gridOutput"&&(f="#".concat(o,"textOutput").concat(f),y='<div id="'.concat(_,'">Grid Output<p id="').concat(_,'_summary" aria-label="grid output summary"><table id="').concat(_,'_map" summary="grid output content"></table><ul id="').concat(_,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(f)?this.dummyDOM.querySelector(f).insertAdjacentHTML("afterend",y):this.dummyDOM.querySelector("#".concat(l)).innerHTML=y,this._accessibleOutputs[_].map=this.dummyDOM.querySelector("#".concat(_,"_map"))),this._accessibleOutputs[_].shapeDetails=this.dummyDOM.querySelector("#".concat(_,"_shapeDetails")),this._accessibleOutputs[_].summary=this.dummyDOM.querySelector("#".concat(_,"_summary"))},h.default.prototype._updateAccsOutput=function(){var A=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(A+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(A+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(A+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(A+"gridOutputLabel"))},h.default.prototype._accsBackground=function(A){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==A&&(this.ingredients.colors.backgroundRGBA=A,this.ingredients.colors.background=this._rgbColorName(A))},h.default.prototype._accsCanvasColors=function(A,S){A==="fill"?this.ingredients.colors.fillRGBA!==S&&(this.ingredients.colors.fillRGBA=S,this.ingredients.colors.fill=this._rgbColorName(S)):A==="stroke"&&this.ingredients.colors.strokeRGBA!==S&&(this.ingredients.colors.strokeRGBA=S,this.ingredients.colors.stroke=this._rgbColorName(S))},h.default.prototype._accsOutput=function(A,S){A==="ellipse"&&S[2]===S[3]?A="circle":A==="rectangle"&&S[2]===S[3]&&(A="square");var _,l,y={},o=!0,f=function(g,D){var E;return g=g==="rectangle"||g==="ellipse"||g==="arc"||g==="circle"||g==="square"?(E=Math.round(D[0]+D[2]/2),Math.round(D[1]+D[3]/2)):g==="triangle"?(E=(D[0]+D[2]+D[4])/3,(D[1]+D[3]+D[5])/3):g==="quadrilateral"?(E=(D[0]+D[2]+D[4]+D[6])/4,(D[1]+D[3]+D[5]+D[7])/4):g==="line"?(E=(D[0]+D[2])/2,(D[1]+D[3])/2):(E=D[0],D[1]),[E,g]}(A,S);if(A==="line"?(y.color=this.ingredients.colors.stroke,y.length=Math.round(this.dist(S[0],S[1],S[2],S[3])),_=this._getPos(S[0],[1]),l=this._getPos(S[2],[3]),y.loc=p(f,this.width,this.height),y.pos=_===l?"at ".concat(_):"from ".concat(_," to ").concat(l)):(A==="point"?y.color=this.ingredients.colors.stroke:(y.color=this.ingredients.colors.fill,y.area=this._getArea(A,S)),y.pos=this._getPos.apply(this,m(f)),y.loc=p(f,this.width,this.height)),this.ingredients.shapes[A]){if(this.ingredients.shapes[A]!==[y]){for(var x in this.ingredients.shapes[A])JSON.stringify(this.ingredients.shapes[A][x])===JSON.stringify(y)&&(o=!1);o===!0&&this.ingredients.shapes[A].push(y)}}else this.ingredients.shapes[A]=[y]},h.default.prototype._getPos=function(l,_){var l=new DOMPointReadOnly(l,_),_=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),l=l.matrixTransform(_),_=l.x,l=l.y,y=this.width*this._pixelDensity,o=this.height*this._pixelDensity;return _<.4*y?l<.4*o?"top left":.6*o<l?"bottom left":"mid left":.6*y<_?l<.4*o?"top right":.6*o<l?"bottom right":"mid right":l<.4*o?"top middle":.6*o<l?"bottom middle":"middle"},h.default.prototype._getArea=function(A,S){var _,l,y=0,o=(A==="arc"?(y=(_=((S[5]-S[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*S[2]*S[3]/8,S[6]!=="open"&&S[6]!=="chord"||(l=S[0],D=S[1],o=S[0]+S[2]/2*Math.cos(S[4]).toFixed(2),E=S[1]+S[3]/2*Math.sin(S[4]).toFixed(2),x=S[0]+S[2]/2*Math.cos(S[5]).toFixed(2),f=S[1]+S[3]/2*Math.sin(S[5]).toFixed(2),l=Math.abs(l*(E-f)+o*(f-D)+x*(D-E))/2,_>Math.PI?y+=l:y-=l)):A==="ellipse"||A==="circle"?y=3.14*S[2]/2*S[3]/2:A==="line"||A==="point"?y=0:A==="quadrilateral"?y=Math.abs((S[6]+S[0])*(S[7]-S[1])+(S[0]+S[2])*(S[1]-S[3])+(S[2]+S[4])*(S[3]-S[5])+(S[4]+S[6])*(S[5]-S[7]))/2:A==="rectangle"||A==="square"?y=S[2]*S[3]:A==="triangle"&&(y=Math.abs(S[0]*(S[3]-S[5])+S[2]*(S[5]-S[1])+S[4]*(S[1]-S[3]))/2),this.width*this._pixelDensity),f=this.height*this._pixelDensity,x=[new DOMPoint(0,0),new DOMPoint(o,0),new DOMPoint(o,f),new DOMPoint(0,f)],g=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),D=x.map(function(C){return C.matrixTransform(g)}),E=Math.abs((D[3].x+D[0].x)*(D[3].y-D[0].y)+(D[0].x+D[1].x)*(D[0].y-D[1].y)+(D[1].x+D[2].x)*(D[1].y-D[2].y)+(D[2].x+D[3].x)*(D[2].y-D[3].y))/2;return Math.round(100*y/E)},a=h.default,b.default=a},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],263:[function(a,r,b){a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.concat"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a},a.default.prototype._updateTextOutput=function(h){var m,p,A,S;this.dummyDOM.querySelector("#".concat(h,"_summary"))&&(m=this._accessibleOutputs[h],A=function(_,l,y,o){return y="Your output is a, ".concat(y," by ").concat(o," pixels, ").concat(l," canvas containing the following"),y=_===1?"".concat(y," shape:"):"".concat(y," ").concat(_," shapes:"),y}((p=function(_,l){var y,o="",f=0;for(y in l)for(var x in l[y]){var g='<li><a href="#'.concat(_,"shape").concat(f,'">').concat(l[y][x].color," ").concat(y,"</a>");y==="line"?g+=", ".concat(l[y][x].pos,", ").concat(l[y][x].length," pixels long.</li>"):(g+=", at ".concat(l[y][x].pos),y!=="point"&&(g+=", covering ".concat(l[y][x].area,"% of the canvas")),g+=".</li>"),o+=g,f++}return{numShapes:f,listShapes:o}}(h,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),S=function(_,l){var y,o="",f=0;for(y in l)for(var x in l[y]){var g='<tr id="'.concat(_,"shape").concat(f,'"><th>').concat(l[y][x].color," ").concat(y,"</th>");y==="line"?g+="<td>location = ".concat(l[y][x].pos,"</td><td>length = ").concat(l[y][x].length," pixels</td></tr>"):(g+="<td>location = ".concat(l[y][x].pos,"</td>"),y!=="point"&&(g+="<td> area = ".concat(l[y][x].area,"%</td>")),g+="</tr>"),o+=g,f++}return o}(h,this.ingredients.shapes),A!==m.summary.innerHTML&&(m.summary.innerHTML=A),p.listShapes!==m.list.innerHTML&&(m.list.innerHTML=p.listShapes),S!==m.shapeDetails.innerHTML&&(m.shapeDetails.innerHTML=S),this._accessibleOutputs[h]=m)},a=a.default,b.default=a},{"../core/main":280,"core-js/modules/es.array.concat":152}],264:[function(a,r,b){var h=(h=a("./core/main"))&&h.__esModule?h:{default:h};a("./core/constants"),a("./core/environment"),a("./core/friendly_errors/stacktrace"),a("./core/friendly_errors/validate_params"),a("./core/friendly_errors/file_errors"),a("./core/friendly_errors/fes_core"),a("./core/friendly_errors/sketch_reader"),a("./core/helpers"),a("./core/legacy"),a("./core/preload"),a("./core/p5.Element"),a("./core/p5.Graphics"),a("./core/p5.Renderer"),a("./core/p5.Renderer2D"),a("./core/rendering"),a("./core/shim"),a("./core/structure"),a("./core/transform"),a("./core/shape/2d_primitives"),a("./core/shape/attributes"),a("./core/shape/curves"),a("./core/shape/vertex"),a("./accessibility/outputs"),a("./accessibility/textOutput"),a("./accessibility/gridOutput"),a("./accessibility/color_namer"),a("./color/color_conversion"),a("./color/creating_reading"),a("./color/p5.Color"),a("./color/setting"),a("./data/p5.TypedDict"),a("./data/local_storage.js"),a("./dom/dom"),a("./accessibility/describe"),a("./events/acceleration"),a("./events/keyboard"),a("./events/mouse"),a("./events/touch"),a("./image/filters"),a("./image/image"),a("./image/loading_displaying"),a("./image/p5.Image"),a("./image/pixels"),a("./io/files"),a("./io/p5.Table"),a("./io/p5.TableRow"),a("./io/p5.XML"),a("./math/calculation"),a("./math/math"),a("./math/noise"),a("./math/p5.Vector"),a("./math/random"),a("./math/trigonometry"),a("./typography/attributes"),a("./typography/loading_displaying"),a("./typography/p5.Font"),a("./utilities/array_functions"),a("./utilities/conversion"),a("./utilities/string_functions"),a("./utilities/time_date"),a("./webgl/3d_primitives"),a("./webgl/interaction"),a("./webgl/light"),a("./webgl/loading"),a("./webgl/material"),a("./webgl/p5.Camera"),a("./webgl/p5.DataArray"),a("./webgl/p5.Geometry"),a("./webgl/p5.Matrix"),a("./webgl/p5.RendererGL.Immediate"),a("./webgl/p5.RendererGL"),a("./webgl/p5.RendererGL.Retained"),a("./webgl/p5.Framebuffer"),a("./webgl/p5.Shader"),a("./webgl/p5.RenderBuffer"),a("./webgl/p5.Texture"),a("./webgl/text"),a("./core/init"),r.exports=h.default},{"./accessibility/color_namer":259,"./accessibility/describe":260,"./accessibility/gridOutput":261,"./accessibility/outputs":262,"./accessibility/textOutput":263,"./color/color_conversion":265,"./color/creating_reading":266,"./color/p5.Color":267,"./color/setting":268,"./core/constants":269,"./core/environment":270,"./core/friendly_errors/fes_core":271,"./core/friendly_errors/file_errors":272,"./core/friendly_errors/sketch_reader":273,"./core/friendly_errors/stacktrace":274,"./core/friendly_errors/validate_params":275,"./core/helpers":276,"./core/init":277,"./core/legacy":279,"./core/main":280,"./core/p5.Element":281,"./core/p5.Graphics":282,"./core/p5.Renderer":283,"./core/p5.Renderer2D":284,"./core/preload":285,"./core/rendering":286,"./core/shape/2d_primitives":287,"./core/shape/attributes":288,"./core/shape/curves":289,"./core/shape/vertex":290,"./core/shim":291,"./core/structure":292,"./core/transform":293,"./data/local_storage.js":294,"./data/p5.TypedDict":295,"./dom/dom":296,"./events/acceleration":297,"./events/keyboard":298,"./events/mouse":299,"./events/touch":300,"./image/filters":301,"./image/image":302,"./image/loading_displaying":303,"./image/p5.Image":304,"./image/pixels":305,"./io/files":306,"./io/p5.Table":307,"./io/p5.TableRow":308,"./io/p5.XML":309,"./math/calculation":310,"./math/math":311,"./math/noise":312,"./math/p5.Vector":313,"./math/random":314,"./math/trigonometry":315,"./typography/attributes":316,"./typography/loading_displaying":317,"./typography/p5.Font":318,"./utilities/array_functions":319,"./utilities/conversion":320,"./utilities/string_functions":321,"./utilities/time_date":322,"./webgl/3d_primitives":323,"./webgl/interaction":325,"./webgl/light":326,"./webgl/loading":327,"./webgl/material":328,"./webgl/p5.Camera":329,"./webgl/p5.DataArray":330,"./webgl/p5.Framebuffer":331,"./webgl/p5.Geometry":332,"./webgl/p5.Matrix":333,"./webgl/p5.RenderBuffer":334,"./webgl/p5.RendererGL":337,"./webgl/p5.RendererGL.Immediate":335,"./webgl/p5.RendererGL.Retained":336,"./webgl/p5.Shader":338,"./webgl/p5.Texture":339,"./webgl/text":340}],265:[function(a,r,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a},a.default.ColorConversion={_hsbaToHSLA:function(h){var m=h[0],p=h[1],A=h[2],S=(2-p)*A/2;return S!=0&&(S==1?p=0:S<.5?p/=2-p:p=p*A/(2-2*S)),[m,p,S,h[3]]},_hsbaToRGBA:function(h){var m,p,A,S,_,l=6*h[0],y=h[1],o=h[2];return y===0?[o,o,o,h[3]]:(p=o*(1-y),A=o*(1-y*(l-(m=Math.floor(l)))),y=o*(1-y*(1+m-l)),l=m===1?(S=A,_=o,p):m===2?(S=p,_=o,y):m===3?(S=p,_=A,o):m===4?(S=y,_=p,o):m===5?(S=o,_=p,A):(S=o,_=y,p),[S,_,l,h[3]])},_hslaToHSBA:function(h){var m=h[0],p=h[1],A=h[2],S=A<.5?(1+p)*A:A+p-A*p;return[m,p=2*(S-A)/S,S,h[3]]},_hslaToRGBA:function(h){var m,p=6*h[0],A=h[1],S=h[2];return A===0?[S,S,S,h[3]]:[(m=function(_,l,y){return _<0?_+=6:6<=_&&(_-=6),_<1?l+(y-l)*_:_<3?y:_<4?l+(y-l)*(4-_):l})(2+p,A=2*S-(S=S<.5?(1+A)*S:S+A-S*A),S),m(p,A,S),m(p-2,A,S),h[3]]},_rgbaToHSBA:function(h){var m,p,A=h[0],S=h[1],_=h[2],l=Math.max(A,S,_),y=l-Math.min(A,S,_);return y==0?p=m=0:(p=y/l,A===l?m=(S-_)/y:S===l?m=2+(_-A)/y:_===l&&(m=4+(A-S)/y),m<0?m+=6:6<=m&&(m-=6)),[m/6,p,l,h[3]]},_rgbaToHSLA:function(h){var m,p,A=h[0],S=h[1],_=h[2],l=Math.max(A,S,_),o=Math.min(A,S,_),y=l+o,o=l-o;return o==0?p=m=0:(p=y<1?o/y:o/(2-y),A===l?m=(S-_)/o:S===l?m=2+(_-A)/o:_===l&&(m=4+(A-S)/o),m<0?m+=6:6<=m&&(m-=6)),[m/6,p,y/2,h[3]]}},a=a.default.ColorConversion,b.default=a},{"../core/main":280}],266:[function(a,r,b){function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(l)}function m(l){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(y){return h(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":h(y)})(l)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.map"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(_=a("../core/main"))&&_.__esModule?_:{default:_},A=function(l){if(l&&l.__esModule)return l;if(l===null||m(l)!=="object"&&typeof l!="function")return{default:l};var y=S();if(y&&y.has(l))return y.get(l);var o,f={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in l){var g;Object.prototype.hasOwnProperty.call(l,o)&&((g=x?Object.getOwnPropertyDescriptor(l,o):null)&&(g.get||g.set)?Object.defineProperty(f,o,g):f[o]=l[o])}return f.default=l,y&&y.set(l,f),f}(a("../core/constants"));function S(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,S=function(){return l},l)}a("./p5.Color"),a("../core/friendly_errors/validate_params"),a("../core/friendly_errors/file_errors"),a("../core/friendly_errors/fes_core"),p.default.prototype.alpha=function(l){return p.default._validateParameters("alpha",arguments),this.color(l)._getAlpha()},p.default.prototype.blue=function(l){return p.default._validateParameters("blue",arguments),this.color(l)._getBlue()},p.default.prototype.brightness=function(l){return p.default._validateParameters("brightness",arguments),this.color(l)._getBrightness()},p.default.prototype.color=function(){for(var l,y=arguments.length,o=new Array(y),f=0;f<y;f++)o[f]=arguments[f];return p.default._validateParameters("color",o),o[0]instanceof p.default.Color?o[0]:(l=Array.isArray(o[0])?o[0]:o,new p.default.Color(this,l))},p.default.prototype.green=function(l){return p.default._validateParameters("green",arguments),this.color(l)._getGreen()},p.default.prototype.hue=function(l){return p.default._validateParameters("hue",arguments),this.color(l)._getHue()},p.default.prototype.lerpColor=function(l,y,o){p.default._validateParameters("lerpColor",arguments);var f,x,g,D=this._colorMode,E=this._colorMaxes;if(D===A.RGB)x=l.levels.map(function(C){return C/255}),g=y.levels.map(function(C){return C/255});else if(D===A.HSB)l._getBrightness(),y._getBrightness(),x=l.hsba,g=y.hsba;else{if(D!==A.HSL)throw new Error("".concat(D," cannot be used for interpolation."));l._getLightness(),y._getLightness(),x=l.hsla,g=y.hsla}return o=Math.max(Math.min(o,1),0),this.lerp===void 0&&(this.lerp=function(C,T,O){return O*(T-C)+C}),D===A.RGB?f=this.lerp(x[0],g[0],o):(.5<Math.abs(x[0]-g[0])&&(x[0]>g[0]?g[0]+=1:x[0]+=1),1<=(f=this.lerp(x[0],g[0],o))&&--f),l=this.lerp(x[1],g[1],o),y=this.lerp(x[2],g[2],o),x=this.lerp(x[3],g[3],o),f*=E[D][0],l*=E[D][1],y*=E[D][2],x*=E[D][3],this.color(f,l,y,x)},p.default.prototype.lightness=function(l){return p.default._validateParameters("lightness",arguments),this.color(l)._getLightness()},p.default.prototype.red=function(l){return p.default._validateParameters("red",arguments),this.color(l)._getRed()},p.default.prototype.saturation=function(l){return p.default._validateParameters("saturation",arguments),this.color(l)._getSaturation()};var _=p.default;b.default=_},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],267:[function(f,r,b){function h(C){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(C)}function m(C){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(T){return h(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":h(T)})(C)}f("core-js/modules/es.symbol"),f("core-js/modules/es.symbol.description"),f("core-js/modules/es.symbol.iterator"),f("core-js/modules/es.array.includes"),f("core-js/modules/es.array.iterator"),f("core-js/modules/es.array.join"),f("core-js/modules/es.array.map"),f("core-js/modules/es.array.slice"),f("core-js/modules/es.object.get-own-property-descriptor"),f("core-js/modules/es.object.to-string"),f("core-js/modules/es.regexp.constructor"),f("core-js/modules/es.regexp.exec"),f("core-js/modules/es.regexp.to-string"),f("core-js/modules/es.string.includes"),f("core-js/modules/es.string.iterator"),f("core-js/modules/es.string.trim"),f("core-js/modules/es.weak-map"),f("core-js/modules/web.dom-collections.iterator"),f("core-js/modules/es.array.includes"),f("core-js/modules/es.array.join"),f("core-js/modules/es.array.map"),f("core-js/modules/es.array.slice"),f("core-js/modules/es.object.to-string"),f("core-js/modules/es.regexp.constructor"),f("core-js/modules/es.regexp.exec"),f("core-js/modules/es.regexp.to-string"),f("core-js/modules/es.string.includes"),f("core-js/modules/es.string.trim"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=l(f("../core/main")),A=function(C){if(C&&C.__esModule)return C;if(C===null||m(C)!=="object"&&typeof C!="function")return{default:C};var T=_();if(T&&T.has(C))return T.get(C);var O,I={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in C){var F;Object.prototype.hasOwnProperty.call(C,O)&&((F=M?Object.getOwnPropertyDescriptor(C,O):null)&&(F.get||F.set)?Object.defineProperty(I,O,F):I[O]=C[O])}return I.default=C,T&&T.set(C,I),I}(f("../core/constants")),S=l(f("./color_conversion"));function _(){var C;return typeof WeakMap!="function"?null:(C=new WeakMap,_=function(){return C},C)}function l(C){return C&&C.__esModule?C:{default:C}}function y(C,T){for(var O=0;O<T.length;O++){var I=T[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(C,I.key,I)}}var o={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},f=/\s*/,E=/(\d{1,3})/,x=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,g=new RegExp("".concat(x.source,"%")),D={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",E.source,",",E.source,",",E.source,"\\)$"].join(f.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",g.source,",",g.source,",",g.source,"\\)$"].join(f.source),"i"),RGBA:new RegExp(["^rgba\\(",E.source,",",E.source,",",E.source,",",x.source,"\\)$"].join(f.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",g.source,",",g.source,",",g.source,",",x.source,"\\)$"].join(f.source),"i"),HSL:new RegExp(["^hsl\\(",E.source,",",g.source,",",g.source,"\\)$"].join(f.source),"i"),HSLA:new RegExp(["^hsla\\(",E.source,",",g.source,",",g.source,",",x.source,"\\)$"].join(f.source),"i"),HSB:new RegExp(["^hsb\\(",E.source,",",g.source,",",g.source,"\\)$"].join(f.source),"i"),HSBA:new RegExp(["^hsba\\(",E.source,",",g.source,",",g.source,",",x.source,"\\)$"].join(f.source),"i")},E=(p.default.Color=function(){function C(M,F){if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(M._colorMode,M._colorMaxes),![A.RGB,A.HSL,A.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=C._parseInputs.apply(this,F),this._calculateLevels()}var T,O,I;return T=C,I=[{key:"_parseInputs",value:function(M,F,B,j){var L,R=arguments.length,V=this.mode,k=this.maxes[V],U=[];if(3<=R){for(U[0]=M/k[0],U[1]=F/k[1],U[2]=B/k[2],U[3]=typeof j=="number"?j/k[3]:1,L=U.length-1;0<=L;--L){var G=U[L];G<0?U[L]=0:1<G&&(U[L]=1)}return V===A.HSL?S.default._hslaToRGBA(U):V===A.HSB?S.default._hsbaToRGBA(U):U}if(R===1&&typeof M=="string"){if(B=M.trim().toLowerCase(),o[B])return C._parseInputs.call(this,o[B]);if(D.HEX3.test(B))return(U=D.HEX3.exec(B).slice(1).map(function(H){return parseInt(H+H,16)/255}))[3]=1,U;if(D.HEX6.test(B))return(U=D.HEX6.exec(B).slice(1).map(function(H){return parseInt(H,16)/255}))[3]=1,U;if(D.HEX4.test(B))return U=D.HEX4.exec(B).slice(1).map(function(H){return parseInt(H+H,16)/255});if(D.HEX8.test(B))return U=D.HEX8.exec(B).slice(1).map(function(H){return parseInt(H,16)/255});if(D.RGB.test(B))return(U=D.RGB.exec(B).slice(1).map(function(H){return H/255}))[3]=1,U;if(D.RGB_PERCENT.test(B))return(U=D.RGB_PERCENT.exec(B).slice(1).map(function(H){return parseFloat(H)/100}))[3]=1,U;if(D.RGBA.test(B))return U=D.RGBA.exec(B).slice(1).map(function(H,X){return X===3?parseFloat(H):H/255});if(D.RGBA_PERCENT.test(B))return U=D.RGBA_PERCENT.exec(B).slice(1).map(function(H,X){return X===3?parseFloat(H):parseFloat(H)/100});if(D.HSL.test(B)?(U=D.HSL.exec(B).slice(1).map(function(H,X){return X===0?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:D.HSLA.test(B)&&(U=D.HSLA.exec(B).slice(1).map(function(H,X){return X===0?parseInt(H,10)/360:X===3?parseFloat(H):parseInt(H,10)/100})),(U=U.map(function(H){return Math.max(Math.min(H,1),0)})).length)return S.default._hslaToRGBA(U);if(D.HSB.test(B)?(U=D.HSB.exec(B).slice(1).map(function(H,X){return X===0?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:D.HSBA.test(B)&&(U=D.HSBA.exec(B).slice(1).map(function(H,X){return X===0?parseInt(H,10)/360:X===3?parseFloat(H):parseInt(H,10)/100})),U.length){for(L=U.length-1;0<=L;--L)U[L]=Math.max(Math.min(U[L],1),0);return S.default._hsbaToRGBA(U)}U=[1,1,1,1]}else{if(R!==1&&R!==2||typeof M!="number")throw new Error("".concat(arguments,"is not a valid color representation."));U[0]=M/k[2],U[1]=M/k[2],U[2]=M/k[2],U[3]=typeof F=="number"?F/k[3]:1,U=U.map(function(H){return Math.max(Math.min(H,1),0)})}return U}}],(O=[{key:"toString",value:function(M){var F=this.levels,B=this._array,j=B[3];switch(M){case"#rrggbb":return"#".concat(F[0]<16?"0".concat(F[0].toString(16)):F[0].toString(16),F[1]<16?"0".concat(F[1].toString(16)):F[1].toString(16),F[2]<16?"0".concat(F[2].toString(16)):F[2].toString(16));case"#rrggbbaa":return"#".concat(F[0]<16?"0".concat(F[0].toString(16)):F[0].toString(16),F[1]<16?"0".concat(F[1].toString(16)):F[1].toString(16),F[2]<16?"0".concat(F[2].toString(16)):F[2].toString(16),F[3]<16?"0".concat(F[3].toString(16)):F[3].toString(16));case"#rgb":return"#".concat(Math.round(15*B[0]).toString(16),Math.round(15*B[1]).toString(16),Math.round(15*B[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*B[0]).toString(16),Math.round(15*B[1]).toString(16),Math.round(15*B[2]).toString(16),Math.round(15*B[3]).toString(16));case"rgb":return"rgb(".concat(F[0],", ",F[1],", ",F[2],")");case"rgb%":return"rgb(".concat((100*B[0]).toPrecision(3),"%, ",(100*B[1]).toPrecision(3),"%, ",(100*B[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*B[0]).toPrecision(3),"%, ",(100*B[1]).toPrecision(3),"%, ",(100*B[2]).toPrecision(3),"%, ",(100*B[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[A.HSB][0],", ",this.hsba[1]*this.maxes[A.HSB][1],", ",this.hsba[2]*this.maxes[A.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[A.HSB][0],", ",this.hsba[1]*this.maxes[A.HSB][1],", ",this.hsba[2]*this.maxes[A.HSB][2],", ",j,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*j).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[A.HSL][0],", ",this.hsla[1]*this.maxes[A.HSL][1],", ",this.hsla[2]*this.maxes[A.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[A.HSL][0],", ",this.hsla[1]*this.maxes[A.HSL][1],", ",this.hsla[2]*this.maxes[A.HSL][2],", ",j,")");case"hsla%":return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*j).toPrecision(3),"%)");default:return"rgba(".concat(F[0],",",F[1],",",F[2],",",j,")")}}},{key:"setRed",value:function(M){this._array[0]=M/this.maxes[A.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(M){this._array[1]=M/this.maxes[A.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(M){this._array[2]=M/this.maxes[A.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(M){this._array[3]=M/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var M=this._array,F=this.levels=new Array(M.length),B=M.length-1;0<=B;--B)F[B]=Math.round(255*M[B]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(M,F){this.mode=M,this.maxes=F}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[A.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[A.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[A.RGB][1]}},{key:"_getHue",value:function(){return this.mode===A.HSB?(this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[A.HSB][0]):(this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[A.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[A.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[A.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===A.HSB?(this.hsba||(this.hsba=S.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[A.HSB][1]):(this.hsla||(this.hsla=S.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[A.HSL][1])}}])&&y(T.prototype,O),I&&y(T,I),C}(),p.default.Color);b.default=E},{"../core/constants":269,"../core/main":280,"./color_conversion":265,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],268:[function(a,r,b){function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(l)}function m(l){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(y){return h(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":h(y)})(l)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.fill"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(_=a("../core/main"))&&_.__esModule?_:{default:_},A=function(l){if(l&&l.__esModule)return l;if(l===null||m(l)!=="object"&&typeof l!="function")return{default:l};var y=S();if(y&&y.has(l))return y.get(l);var o,f={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in l){var g;Object.prototype.hasOwnProperty.call(l,o)&&((g=x?Object.getOwnPropertyDescriptor(l,o):null)&&(g.get||g.set)?Object.defineProperty(f,o,g):f[o]=l[o])}return f.default=l,y&&y.set(l,f),f}(a("../core/constants"));function S(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,S=function(){return l},l)}a("./p5.Color"),p.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},p.default.prototype.endClip=function(){this._renderer.endClip()},p.default.prototype.clip=function(l,y){this._renderer.beginClip(y),l(),this._renderer.endClip(y)},p.default.prototype.background=function(){var l;return(l=this._renderer).background.apply(l,arguments),this},p.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},p.default.prototype.colorMode=function(l,y,o,f,x){return p.default._validateParameters("colorMode",arguments),l!==A.RGB&&l!==A.HSB&&l!==A.HSL||(this._colorMode=l,l=this._colorMaxes[l],arguments.length===2?(l[0]=y,l[1]=y,l[2]=y,l[3]=y):arguments.length===4?(l[0]=y,l[1]=o,l[2]=f):arguments.length===5&&(l[0]=y,l[1]=o,l[2]=f,l[3]=x)),this},p.default.prototype.fill=function(){var l;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(l=this._renderer).fill.apply(l,arguments),this},p.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},p.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},p.default.prototype.stroke=function(){var l;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(l=this._renderer).stroke.apply(l,arguments),this},p.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},p.default.prototype.noErase=function(){return this._renderer.noErase(),this};var _=p.default;b.default=_},{"../core/constants":269,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],269:[function(a,r,b){Object.defineProperty(b,"__esModule",{value:!0}),b.QUADRATIC=b.LINEAR=b._CTX_MIDDLE=b._DEFAULT_LEADMULT=b._DEFAULT_TEXT_FILL=b.WORD=b.CHAR=b.BOLDITALIC=b.BOLD=b.ITALIC=b.NORMAL=b.BLUR=b.ERODE=b.DILATE=b.POSTERIZE=b.INVERT=b.OPAQUE=b.GRAY=b.THRESHOLD=b.BURN=b.DODGE=b.SOFT_LIGHT=b.HARD_LIGHT=b.OVERLAY=b.REPLACE=b.SCREEN=b.MULTIPLY=b.EXCLUSION=b.SUBTRACT=b.DIFFERENCE=b.LIGHTEST=b.DARKEST=b.ADD=b.REMOVE=b.BLEND=b.UP_ARROW=b.TAB=b.SHIFT=b.RIGHT_ARROW=b.RETURN=b.OPTION=b.LEFT_ARROW=b.ESCAPE=b.ENTER=b.DOWN_ARROW=b.DELETE=b.CONTROL=b.BACKSPACE=b.ALT=b.AUTO=b.HSL=b.HSB=b.RGB=b.MITER=b.BEVEL=b.ROUND=b.SQUARE=b.PROJECT=b.PIE=b.CHORD=b.OPEN=b.CLOSE=b.TESS=b.QUAD_STRIP=b.QUADS=b.TRIANGLE_STRIP=b.TRIANGLE_FAN=b.TRIANGLES=b.LINE_LOOP=b.LINE_STRIP=b.LINES=b.POINTS=b.BASELINE=b.BOTTOM=b.TOP=b.CENTER=b.LEFT=b.RIGHT=b.RADIUS=b.CORNERS=b.CORNER=b.RAD_TO_DEG=b.DEG_TO_RAD=b.RADIANS=b.DEGREES=b.TWO_PI=b.TAU=b.QUARTER_PI=b.PI=b.HALF_PI=b.WAIT=b.TEXT=b.MOVE=b.HAND=b.CROSS=b.ARROW=b.WEBGL2=b.WEBGL=b.P2D=b.VERSION=void 0,b.RGBA=b.HALF_FLOAT=b.FLOAT=b.UNSIGNED_INT=b.UNSIGNED_BYTE=b.COVER=b.CONTAIN=b.FALLBACK=b.LABEL=b.AXES=b.GRID=b._DEFAULT_FILL=b._DEFAULT_STROKE=b.PORTRAIT=b.LANDSCAPE=b.SMOOTH=b.FLAT=b.MIRROR=b.CLAMP=b.REPEAT=b.NEAREST=b.IMAGE=b.IMMEDIATE=b.TEXTURE=b.FILL=b.STROKE=b.CURVE=b.BEZIER=void 0;var h=Math.PI,m=(b.VERSION="1.9.2",b.P2D="p2d",b.WEBGL="webgl",b.WEBGL2="webgl2",b.ARROW="default",b.CROSS="crosshair",b.HAND="pointer",b.MOVE="move",b.TEXT="text",b.WAIT="wait",h/2),m=(b.HALF_PI=m,h),m=(b.PI=m,h/4),m=(b.QUARTER_PI=m,2*h),m=(b.TAU=m,2*h),m=(b.TWO_PI=m,b.DEGREES="degrees",b.RADIANS="radians",h/180),m=(b.DEG_TO_RAD=m,180/h);b.RAD_TO_DEG=m,b.CORNER="corner",b.CORNERS="corners",b.RADIUS="radius",b.RIGHT="right",b.LEFT="left",b.CENTER="center",b.TOP="top",b.BOTTOM="bottom",b.BASELINE="alphabetic",b.POINTS=0,b.LINES=1,b.LINE_STRIP=3,b.LINE_LOOP=2,b.TRIANGLES=4,b.TRIANGLE_FAN=6,b.TRIANGLE_STRIP=5,b.QUADS="quads",b.QUAD_STRIP="quad_strip",b.TESS="tess",b.CLOSE="close",b.OPEN="open",b.CHORD="chord",b.PIE="pie",b.PROJECT="square",b.SQUARE="butt",b.ROUND="round",b.BEVEL="bevel",b.MITER="miter",b.RGB="rgb",b.HSB="hsb",b.HSL="hsl",b.AUTO="auto",b.ALT=18,b.BACKSPACE=8,b.CONTROL=17,b.DELETE=46,b.DOWN_ARROW=40,b.ENTER=13,b.ESCAPE=27,b.LEFT_ARROW=37,b.OPTION=18,b.RETURN=13,b.RIGHT_ARROW=39,b.SHIFT=16,b.TAB=9,b.UP_ARROW=38,b.BLEND="source-over",b.REMOVE="destination-out",b.ADD="lighter",b.DARKEST="darken",b.LIGHTEST="lighten",b.DIFFERENCE="difference",b.SUBTRACT="subtract",b.EXCLUSION="exclusion",b.MULTIPLY="multiply",b.SCREEN="screen",b.REPLACE="copy",b.OVERLAY="overlay",b.HARD_LIGHT="hard-light",b.SOFT_LIGHT="soft-light",b.DODGE="color-dodge",b.BURN="color-burn",b.THRESHOLD="threshold",b.GRAY="gray",b.OPAQUE="opaque",b.INVERT="invert",b.POSTERIZE="posterize",b.DILATE="dilate",b.ERODE="erode",b.BLUR="blur",b.NORMAL="normal",b.ITALIC="italic",b.BOLD="bold",b.BOLDITALIC="bold italic",b.CHAR="CHAR",b.WORD="WORD",b._DEFAULT_TEXT_FILL="#000000",b._DEFAULT_LEADMULT=1.25,b._CTX_MIDDLE="middle",b.LINEAR="linear",b.QUADRATIC="quadratic",b.BEZIER="bezier",b.CURVE="curve",b.STROKE="stroke",b.FILL="fill",b.TEXTURE="texture",b.IMMEDIATE="immediate",b.IMAGE="image",b.NEAREST="nearest",b.REPEAT="repeat",b.CLAMP="clamp",b.MIRROR="mirror",b.FLAT="flat",b.SMOOTH="smooth",b.LANDSCAPE="landscape",b.PORTRAIT="portrait",b._DEFAULT_STROKE="#000000",b._DEFAULT_FILL="#FFFFFF",b.GRID="grid",b.AXES="axes",b.LABEL="label",b.FALLBACK="fallback",b.CONTAIN="contain",b.COVER="cover",b.UNSIGNED_BYTE="unsigned-byte",b.UNSIGNED_INT="unsigned-int",b.FLOAT="float",b.HALF_FLOAT="half-float",b.RGBA="rgba"},{}],270:[function(a,r,b){function h(x){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(x)}function m(x){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(g){return h(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":h(g)})(x)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.search"),a("core-js/modules/es.string.split"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.search"),a("core-js/modules/es.string.split"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(A=a("./main"))&&A.__esModule?A:{default:A},A=function(x){if(x&&x.__esModule)return x;if(x===null||m(x)!=="object"&&typeof x!="function")return{default:x};var g=S();if(g&&g.has(x))return g.get(x);var D,E={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in x){var T;Object.prototype.hasOwnProperty.call(x,D)&&((T=C?Object.getOwnPropertyDescriptor(x,D):null)&&(T.get||T.set)?Object.defineProperty(E,D,T):E[D]=x[D])}return E.default=x,g&&g.set(x,E),E}(a("./constants"));function S(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,S=function(){return x},x)}var _=[A.ARROW,A.CROSS,A.HAND,A.MOVE,A.TEXT,A.WAIT],l=(p.default.prototype._frameRate=0,p.default.prototype._lastFrameTime=window.performance.now(),p.default.prototype._targetFrameRate=60,window.print),y=!1;function o(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function f(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}p.default.prototype.print=function(){var x;arguments.length?(x=console).log.apply(x,arguments):y||(l(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(y=!0))},p.default.prototype.frameCount=0,p.default.prototype.deltaTime=0,p.default.prototype.focused=document.hasFocus(),p.default.prototype.cursor=function(x,g,D){var E,C="auto",T=this._curElement.elt;_.includes(x)?C=x:typeof x=="string"&&(E="",g&&D&&typeof g=="number"&&typeof D=="number"&&(E="".concat(g," ").concat(D)),C=x.substring(0,7)==="http://"||x.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(x)?"url(".concat(x,") ").concat(E,", auto"):x),T.style.cursor=C},p.default.prototype.frameRate=function(x){return p.default._validateParameters("frameRate",arguments),typeof x!="number"||x<0?this._frameRate:(this._setProperty("_targetFrameRate",x),x===0&&this._setProperty("_frameRate",x),this)},p.default.prototype.getFrameRate=function(){return this.frameRate()},p.default.prototype.setFrameRate=function(x){return this.frameRate(x)},p.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},p.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},p.default.prototype.webglVersion=A.P2D,p.default.prototype.displayWidth=screen.width,p.default.prototype.displayHeight=screen.height,p.default.prototype.windowWidth=o(),p.default.prototype.windowHeight=f(),p.default.prototype._onresize=function(x){this._setProperty("windowWidth",o()),this._setProperty("windowHeight",f());var g=this._isGlobal?window:this;typeof g.windowResized!="function"||(g=g.windowResized(x))===void 0||g||x.preventDefault()},p.default.prototype.width=0,p.default.prototype.height=0,p.default.prototype.fullscreen=function(x){if(p.default._validateParameters("fullscreen",arguments),x===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(x){if(x=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");x.requestFullscreen?x.requestFullscreen():x.mozRequestFullScreen?x.mozRequestFullScreen():x.webkitRequestFullscreen?x.webkitRequestFullscreen():x.msRequestFullscreen&&x.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},p.default.prototype.pixelDensity=function(x){var g;return p.default._validateParameters("pixelDensity",arguments),typeof x=="number"?(x!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=x),(g=this).resizeCanvas(this.width,this.height,!0)):g=this._pixelDensity,g},p.default.prototype.displayDensity=function(){return window.devicePixelRatio},p.default.prototype.getURL=function(){return location.href},p.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(x){return x!==""})},p.default.prototype.getURLParams=function(){for(var x,g=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,D={};(x=g.exec(location.search))!=null;)x.index===g.lastIndex&&g.lastIndex++,D[x[1]]=x[2];return D},a=p.default,b.default=a},{"./constants":269,"./main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.search":202,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],271:[function(a,r,b){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.some"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.get-own-property-names"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.starts-with"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.some"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.get-own-property-names"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.starts-with"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(_=a("../main"))&&_.__esModule?_:{default:_};a("../internationalization");function m(l,y){y=y||console.log.bind(console),p||S(),p.some(function(o){var f;if(l.message&&l.message.match("\\W?".concat(o.name,"\\W"))!==null)return f=o.type==="function"?"".concat(o.name,"()"):o.name,y("Did you just try to use p5.js's ".concat(f," ").concat(o.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(A)),!0})}var p=null,S=null,A=(h.default._friendlyError=h.default._checkForUserDefinedFunctions=h.default._fesErrorMonitor=function(){},p=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),S=function(){function l(o){return Object.getOwnPropertyNames(o).filter(function(f){return f[0]!=="_"&&!(f in y)&&(y[f]=!0)}).map(function(f){var x=typeof o[f]=="function"?"function":f===f.toUpperCase()?"constant":"variable";return{name:f,type:x}})}var y={};(p=[].concat(l(h.default.prototype),l(a("../constants")))).sort(function(o,f){return f.name.length-o.name.length})},_=(h.default.prototype._helpForMisusedAtTopLevelCode=m,document.readyState!=="complete"&&(window.addEventListener("error",m,!1),window.addEventListener("load",function(){window.removeEventListener("error",m,!1)})),h.default);b.default=_},{"../constants":269,"../internationalization":278,"../main":280,"./browser_errors":void 0,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.starts-with":204,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],272:[function(a,r,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(h=a("../main"))&&h.__esModule?h:{default:h};a("../internationalization"),h.default._friendlyFileLoadError=function(){},a=h.default,b.default=a},{"../internationalization":278,"../main":280}],273:[function(a,r,b){function h(y){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(y)}function m(y){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(o){return h(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":h(o)})(y)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),a("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=_(a("../main"));a("../internationalization"),S(a("../constants"));function A(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,A=function(){return y},y)}function S(y){if(y&&y.__esModule)return y;if(y===null||m(y)!=="object"&&typeof y!="function")return{default:y};var o=A();if(o&&o.has(y))return o.get(y);var f,x,g={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in y)Object.prototype.hasOwnProperty.call(y,f)&&((x=D?Object.getOwnPropertyDescriptor(y,f):null)&&(x.get||x.set)?Object.defineProperty(g,f,x):g[f]=y[f]);return g.default=y,o&&o.set(y,g),g}function _(y){return y&&y.__esModule?y:{default:y}}p.default._fesCodeReader=function(){};var l=p.default;b.default=l},{"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],274:[function(a,r,b){a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,a=(a=a("../main"))&&a.__esModule?a:{default:a};function h(){var m=/(^|@)\S+:\d+/,p=/^\s*at .*(\S+:\d+|\(native\))/m,A=/^(eval@)?(\[native code])?$/;return{parse:function(S){return S.stacktrace!==void 0||S["opera#sourceloc"]!==void 0?this.parseOpera(S):S.stack&&S.stack.match(p)?this.parseV8OrIE(S):S.stack?this.parseFFOrSafari(S):void 0},extractLocation:function(S){return S.indexOf(":")===-1?[S]:[(S=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(S.replace(/[()]/g,"")))[1],S[2]||void 0,S[3]||void 0]},parseV8OrIE:function(S){return S.stack.split(`
`).filter(function(_){return!!_.match(p)},this).map(function(_){var l=(_=-1<_.indexOf("(eval ")?_.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):_).replace(/^\s+/,"").replace(/\(eval code/g,"("),y=l.match(/ (\((.+):(\d+):(\d+)\)$)/),l=(l=y?l.replace(y[0],""):l).split(/\s+/).slice(1),y=this.extractLocation(y?y[1]:l.pop());return{functionName:l.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(y[0])?void 0:y[0],lineNumber:y[1],columnNumber:y[2],source:_}},this)},parseFFOrSafari:function(S){return S.stack.split(`
`).filter(function(_){return!_.match(A)},this).map(function(_){var l,y;return(_=-1<_.indexOf(" > eval")?_.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):_).indexOf("@")===-1&&_.indexOf(":")===-1?{functionName:_}:{functionName:(y=_.match(l=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&y[1]?y[1]:void 0,fileName:(y=this.extractLocation(_.replace(l,"")))[0],lineNumber:y[1],columnNumber:y[2],source:_}},this)},parseOpera:function(S){return!S.stacktrace||-1<S.message.indexOf(`
`)&&S.message.split(`
`).length>S.stacktrace.split(`
`).length?this.parseOpera9(S):S.stack?this.parseOpera11(S):this.parseOpera10(S)},parseOpera9:function(S){for(var _=/Line (\d+).*script (?:in )?(\S+)/i,l=S.message.split(`
`),y=[],o=2,f=l.length;o<f;o+=2){var x=_.exec(l[o]);x&&y.push({fileName:x[2],lineNumber:x[1],source:l[o]})}return y},parseOpera10:function(S){for(var _=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,l=S.stacktrace.split(`
`),y=[],o=0,f=l.length;o<f;o+=2){var x=_.exec(l[o]);x&&y.push({functionName:x[3]||void 0,fileName:x[2],lineNumber:x[1],source:l[o]})}return y},parseOpera11:function(S){return S.stack.split(`
`).filter(function(_){return!!_.match(m)&&!_.match(/^Error created at/)},this).map(function(_){var l,o=_.split("@"),y=this.extractLocation(o.pop()),o=o.shift()||"";return{functionName:o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(l=o.match(/\(([^)]*)\)/)?o.replace(/^[^(]+\(([^)]*)\)$/,"$1"):l)===void 0||l==="[arguments not available]"?void 0:l.split(","),fileName:y[0],lineNumber:y[1],columnNumber:y[2],source:_}},this)}}}a.default._getErrorStackParser=function(){return new h},a=a.default,b.default=a},{"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],275:[function(a,r,b){function h(S){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(S)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.last-index-of"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.map"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.reflect.construct"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.set"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.split"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.last-index-of"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.set"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.split"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var m=(m=a("../main"))&&m.__esModule?m:{default:m};(function(S){if(!(S&&S.__esModule)&&!(S===null||A(S)!=="object"&&typeof S!="function")){var _=p();if(_&&_.has(S))return _.get(S);var l,y={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in S){var f;Object.prototype.hasOwnProperty.call(S,l)&&((f=o?Object.getOwnPropertyDescriptor(S,l):null)&&(f.get||f.set)?Object.defineProperty(y,l,f):y[l]=S[l])}y.default=S,_&&_.set(S,y)}})(a("../constants")),a("../internationalization");function p(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,p=function(){return S},S)}function A(S){return(A=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(_){return h(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":h(_)})(S)}m.default._validateParameters=m.default._clearValidateParamsCache=function(){},a=m.default,b.default=a},{"../../../docs/parameterData.json":void 0,"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],276:[function(a,r,b){function h(S){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(S)}function m(S){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(_){return h(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":h(_)})(S)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=function(S){if(S&&S.__esModule)return S;if(S===null||m(S)!=="object"&&typeof S!="function")return{default:S};var _=A();if(_&&_.has(S))return _.get(S);var l,y={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in S){var f;Object.prototype.hasOwnProperty.call(S,l)&&((f=o?Object.getOwnPropertyDescriptor(S,l):null)&&(f.get||f.set)?Object.defineProperty(y,l,f):y[l]=S[l])}return y.default=S,_&&_.set(S,y),y}(a("./constants"));function A(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,A=function(){return S},S)}b.default={modeAdjust:function(S,_,l,y,o){return o===p.CORNER?{x:S,y:_,w:l,h:y}:o===p.CORNERS?{x:S,y:_,w:l-S,h:y-_}:o===p.RADIUS?{x:S-l,y:_-y,w:2*l,h:2*y}:o===p.CENTER?{x:S-.5*l,y:_-.5*y,w:l,h:y}:void 0}}},{"./constants":269,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],277:[function(a,r,b){a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator");var h=(m=a("../core/main"))&&m.__esModule?m:{default:m};a("./internationalization");var m=Promise.resolve();Promise.all([new Promise(function(p,A){document.readyState==="complete"?p():window.addEventListener("load",p,!1)}),m]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!h.default.instance&&new h.default})},{"../core/main":280,"./internationalization":278,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/web.dom-collections.iterator":243}],278:[function(a,r,b){a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.split"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.split"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.setTranslatorLanguage=b.currentTranslatorLanguage=b.availableTranslatorLanguages=b.initialize=b.translator=void 0;var h,m,p=S(a("i18next")),A=S(a("i18next-browser-languagedetector"));function S(y){return y&&y.__esModule?y:{default:y}}function _(y,o){for(var f=0;f<o.length;f++){var x=o[f];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}var l=function(){function y(x,g){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");this.init(x,g)}var o,f;return o=y,(f=[{key:"fetchWithTimeout",value:function(x,g){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(x,g),new Promise(function(E,C){return setTimeout(function(){return C(new Error("timeout"))},D)})])}},{key:"init",value:function(x){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=x,this.options=g}},{key:"read",value:function(x,g,D){var E=this.options.loadPath;x===this.options.fallback?D(null,h[x][g]):m.includes(x)?(E=this.services.interpolator.interpolate(E,{lng:x,ns:g}),this.loadUrl(E,D)):D("Not found",!1)}},{key:"loadUrl",value:function(x,g){this.fetchWithTimeout(x).then(function(D){if(D.ok)return D.json();throw new Error("failed loading ".concat(x))},function(){throw new Error("failed loading ".concat(x))}).then(function(D){return g(null,D)}).catch(g)}}])&&_(o.prototype,f),y}();l.type="backend",b.translator=function(y,o){console.debug("p5.js translator called before translations were loaded"),p.default.t(y,o)},b.initialize=function(){return p.default.use(A.default).use(l).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:h}).then(function(y){b.translator=y},function(y){return console.debug("Translations failed to load (".concat(y,")"))})},b.availableTranslatorLanguages=function(){return p.default.languages},b.currentTranslatorLanguage=function(y){return p.default.language},b.setTranslatorLanguage=function(y){return p.default.changeLanguage(y||void 0,function(o){return console.debug("Translations failed to load (".concat(o,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243,i18next:3,"i18next-browser-languagedetector":3}],279:[function(a,r,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,a=(a=a("./main"))&&a.__esModule?a:{default:a},a.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},a.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},a.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},a.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},a=a.default,b.default=a},{"./main":280}],280:[function(a,r,b){function h(y){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(y)}function m(y){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(o){return h(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":h(o)})(y)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.get-own-property-names"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.object.get-own-property-names"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,a("./shim");var p=function(y){if(y&&y.__esModule)return y;if(y===null||m(y)!=="object"&&typeof y!="function")return{default:y};var o=A();if(o&&o.has(y))return o.get(y);var f,x={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in y){var D;Object.prototype.hasOwnProperty.call(y,f)&&((D=g?Object.getOwnPropertyDescriptor(y,f):null)&&(D.get||D.set)?Object.defineProperty(x,f,D):x[f]=y[f])}return x.default=y,o&&o.set(y,x),x}(a("./constants"));function A(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,A=function(){return y},y)}function S(y,o){for(var f=0;f<o.length;f++){var x=o[f];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}var _,l=function(){function y(x,E){var D=this;if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=E,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var E=Object.getOwnPropertyNames(y.prototype._registeredMethods),C=!0,T=!1,O=void 0;try{for(var I,M=E[Symbol.iterator]();!(C=(I=M.next()).done);C=!0){var F=I.value;this._registeredMethods[F]=y.prototype._registeredMethods[F].slice()}}catch(H){T=!0,O=H}finally{try{C||M.return==null||M.return()}finally{if(T)throw O}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),y.prototype.callRegisteredHooksFor=function(H){var X=this||y.prototype,Z=this._isGlobal?window:this;if(X._registeredMethods.hasOwnProperty(H)){var X=X._registeredMethods[H],J=!0,H=!1,ee=void 0;try{for(var $,W=X[Symbol.iterator]();!(J=($=W.next()).done);J=!0){var Q=$.value;typeof Q=="function"&&Q.call(Z)}}catch(oe){H=!0,ee=oe}finally{try{J||W.return==null||W.return()}finally{if(H)throw ee}}}},this._start=function(){D._userNode&&typeof D._userNode=="string"&&(D._userNode=document.getElementById(D._userNode));var H=D._isGlobal?window:D;if(H.preload){D.callRegisteredHooksFor("beforePreload");var X,Z=document.getElementById(D._loadingScreenId),J=(Z||((Z=document.createElement("div")).innerHTML="Loading...",Z.style.position="absolute",Z.id=D._loadingScreenId,(D._userNode||document.body).appendChild(Z)),D._preloadMethods);for(X in J){J[X]=J[X]||y;var ee=J[X];ee!==y.prototype&&ee!==y||(D._isGlobal&&(window[X]=D._wrapPreload(D,X)),ee=D),D._registeredPreloadMethods[X]=ee[X],ee[X]=D._wrapPreload(ee,X)}H.preload(),D._runIfPreloadsAreDone()}else D._setup(),D._recording||D._draw()},this._runIfPreloadsAreDone=function(){var H,X=this._isGlobal?window:this;X._preloadCount===0&&((H=document.getElementById(X._loadingScreenId))&&H.parentNode.removeChild(H),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),X._setup(),this._recording||X._draw()))},this._decrementPreload=function(){var H=this._isGlobal?window:this;H._preloadDone||typeof H.preload!="function"||(H._setProperty("_preloadCount",H._preloadCount-1),H._runIfPreloadsAreDone())},this._wrapPreload=function(H,X){var Z=this;return function(){Z._incrementPreload();for(var J=arguments.length,ee=new Array(J),$=0;$<J;$++)ee[$]=arguments[$];return Z._registeredPreloadMethods[X].apply(H,ee)}},this._incrementPreload=function(){var H=this._isGlobal?window:this;H._preloadDone||H._setProperty("_preloadCount",H._preloadCount+1)},this._setup=function(){D.callRegisteredHooksFor("beforeSetup"),D.createCanvas(D._defaultCanvasSize.width,D._defaultCanvasSize.height,"p2d");var H=D._isGlobal?window:D;if(typeof H.preload=="function")for(var X in D._preloadMethods)H[X]=D._preloadMethods[X][X],H[X]&&D&&(H[X]=H[X].bind(D));D._millisStart=window.performance.now(),H._preloadDone=!0,typeof H.setup=="function"&&H.setup();var Z=document.getElementsByTagName("canvas"),J=!0,ee=!1,$=void 0;try{for(var W,Q=Z[Symbol.iterator]();!(J=(W=Q.next()).done);J=!0){var te=W.value;te.dataset.hidden==="true"&&(te.style.visibility="",delete te.dataset.hidden)}}catch(ce){ee=!0,$=ce}finally{try{J||Q.return==null||Q.return()}finally{if(ee)throw $}}D._lastTargetFrameTime=window.performance.now(),D._lastRealFrameTime=window.performance.now(),D._setupDone=!0,(D._accessibleOutputs.grid||D._accessibleOutputs.text)&&D._updateAccsOutput(),D.callRegisteredHooksFor("afterSetup")},this._draw=function(){var H=window.performance.now(),X=H-D._lastTargetFrameTime,Z=1e3/D._targetFrameRate;(!D._loop||Z-5<=X)&&(D.deltaTime=H-D._lastRealFrameTime,D._setProperty("deltaTime",D.deltaTime),D._frameRate=1e3/D.deltaTime,D.redraw(),D._lastTargetFrameTime=Math.max(D._lastTargetFrameTime+Z,H),D._lastRealFrameTime=H,D._updateMouseCoords!==void 0&&(D._updateMouseCoords(),D._setProperty("movedX",0),D._setProperty("movedY",0))),D._loop&&(D._requestAnimId=window.requestAnimationFrame(D._draw))},this._setProperty=function(H,X){D[H]=X,D._isGlobal&&(window[H]=X)},this.remove=function(){D._startListener&&window.removeEventListener("load",D._startListener,!1);var H=document.getElementById(D._loadingScreenId);if(H&&(H.parentNode.removeChild(H),D._incrementPreload()),D._curElement){for(var X in D._loop=!1,D._requestAnimId&&window.cancelAnimationFrame(D._requestAnimId),D._events)window.removeEventListener(X,D._events[X]);var Z=!0,H=!1,J=void 0;try{for(var ee,$=D._elements[Symbol.iterator]();!(Z=(ee=$.next()).done);Z=!0){var W,Q=ee.value;for(W in Q.elt&&Q.elt.parentNode&&Q.elt.parentNode.removeChild(Q.elt),Q._events)Q.elt.removeEventListener(W,Q._events[W])}}catch(we){H=!0,J=we}finally{try{Z||$.return==null||$.return()}finally{if(H)throw J}}var te=D;D._registeredMethods.remove.forEach(function(we){we!==void 0&&we.call(te)})}if(D._isGlobal){for(var ce in y.prototype)try{delete window[ce]}catch{window[ce]=void 0}for(var oe in D)if(D.hasOwnProperty(oe))try{delete window[oe]}catch{window[oe]=void 0}y.instance=null}},this._registeredMethods.init.forEach(function(H){H!==void 0&&H.call(this)},this),this._setupPromisePreloads();var B,j,L=this._createFriendlyGlobalFunctionBinder();if(x)x(this),y._checkForUserDefinedFunctions(this);else{for(var R in this._isGlobal=!0,y.instance=this,y.prototype)typeof y.prototype[R]=="function"?(B=R.substring(2),this._events.hasOwnProperty(B)||(Math.hasOwnProperty(R)&&Math[R]===y.prototype[R]?L(R,y.prototype[R]):L(R,y.prototype[R].bind(this)))):L(R,y.prototype[R]);for(var V in this)this.hasOwnProperty(V)&&L(V,this[V])}for(j in this._events){var k=this["_on".concat(j)];k&&(k=k.bind(this),window.addEventListener(j,k,{passive:!1}),this._events[j]=k)}function U(){D._setProperty("focused",!0)}function G(){D._setProperty("focused",!1)}window.addEventListener("focus",U),window.addEventListener("blur",G),this.registerMethod("remove",function(){window.removeEventListener("focus",U),window.removeEventListener("blur",G)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var o,f;return o=y,(f=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=p.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(x,g){y.prototype._preloadMethods.hasOwnProperty(x)||(y.prototype._preloadMethods[x]=g)}},{key:"registerMethod",value:function(x,g){var D=this||y.prototype;D._registeredMethods.hasOwnProperty(x)||(D._registeredMethods[x]=[]),D._registeredMethods[x].push(g)}},{key:"unregisterMethod",value:function(x,g){var D=this||y.prototype;if(D._registeredMethods.hasOwnProperty(x)){for(var E=D._registeredMethods[x],C=[],T=0;T<E.length;T++)E[T]===g&&C.push(T);for(var O=C.length-1;0<=O;O--)E.splice(C[O],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},g=x.globalObject||window;return x.log||console.log.bind(console),function(D,E){y.disableFriendlyErrors,g[D]=E}}}])&&S(o.prototype,f),y}();for(_ in l.instance=null,l.disableFriendlyErrors=!1,p)l.prototype[_]=p[_];l.VERSION=p.VERSION,l.prototype._preloadMethods={loadJSON:l.prototype,loadImage:l.prototype,loadStrings:l.prototype,loadXML:l.prototype,loadBytes:l.prototype,loadTable:l.prototype,loadFont:l.prototype,loadModel:l.prototype,loadShader:l.prototype},l.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},l.prototype._registeredPreloadMethods={},b.default=l},{"./constants":269,"./shim":291,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],281:[function(a,r,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(a=a("./main"))&&a.__esModule?a:{default:a};function m(p,A){for(var S=0;S<A.length;S++){var _=A[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}h.default.Element=function(){function p(l,y){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.elt=l,this._pInst=this._pixelsState=y,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var A,S,_;return A=p,_=[{key:"_adjustListener",value:function(l,y,o){return y===!1?h.default.Element._detachListener(l,o):h.default.Element._attachListener(l,y,o),this}},{key:"_attachListener",value:function(l,y,o){o._events[l]&&h.default.Element._detachListener(l,o),y=y.bind(o),o.elt.addEventListener(l,y,!1),o._events[l]=y}},{key:"_detachListener",value:function(l,y){var o=y._events[l];y.elt.removeEventListener(l,o,!1),y._events[l]=null}}],(S=[{key:"parent",value:function(l){return l===void 0?this.elt.parentNode:(typeof l=="string"?(l[0]==="#"&&(l=l.substring(1)),l=document.getElementById(l)):l instanceof h.default.Element&&(l=l.elt),l.appendChild(this.elt),this)}},{key:"id",value:function(l){return l===void 0?this.elt.id:(this.elt.id=l,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(l){return l===void 0?this.elt.className:(this.elt.className=l,this)}},{key:"mousePressed",value:function(l){return h.default.Element._adjustListener("mousedown",function(y){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(y),l.call(this,y)},this),this}},{key:"doubleClicked",value:function(l){return h.default.Element._adjustListener("dblclick",l,this),this}},{key:"mouseWheel",value:function(l){return h.default.Element._adjustListener("wheel",l,this),this}},{key:"mouseReleased",value:function(l){return h.default.Element._adjustListener("mouseup",l,this),this}},{key:"mouseClicked",value:function(l){return h.default.Element._adjustListener("click",l,this),this}},{key:"mouseMoved",value:function(l){return h.default.Element._adjustListener("mousemove",l,this),this}},{key:"mouseOver",value:function(l){return h.default.Element._adjustListener("mouseover",l,this),this}},{key:"mouseOut",value:function(l){return h.default.Element._adjustListener("mouseout",l,this),this}},{key:"touchStarted",value:function(l){return h.default.Element._adjustListener("touchstart",l,this),this}},{key:"touchMoved",value:function(l){return h.default.Element._adjustListener("touchmove",l,this),this}},{key:"touchEnded",value:function(l){return h.default.Element._adjustListener("touchend",l,this),this}},{key:"dragOver",value:function(l){return h.default.Element._adjustListener("dragover",l,this),this}},{key:"dragLeave",value:function(l){return h.default.Element._adjustListener("dragleave",l,this),this}},{key:"_setProperty",value:function(l,y){this[l]=y}}])&&m(A.prototype,S),_&&m(A,_),p}(),a=h.default.Element,b.default=a},{"./main":280}],282:[function(a,r,b){function h(D){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(D)}function m(D){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(E){return h(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":h(E)})(D)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.reflect.construct"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(g=a("./main"))&&g.__esModule?g:{default:g},A=function(D){if(D&&D.__esModule)return D;if(D===null||m(D)!=="object"&&typeof D!="function")return{default:D};var E=S();if(E&&E.has(D))return E.get(D);var C,T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in D){var I;Object.prototype.hasOwnProperty.call(D,C)&&((I=O?Object.getOwnPropertyDescriptor(D,C):null)&&(I.get||I.set)?Object.defineProperty(T,C,I):T[C]=D[C])}return T.default=D,E&&E.set(D,T),T}(a("./constants"));function S(){var D;return typeof WeakMap!="function"?null:(D=new WeakMap,S=function(){return D},D)}function _(D,E){for(var C=0;C<E.length;C++){var T=E[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(D,T.key,T)}}function l(D,E){return(l=Object.setPrototypeOf||function(C,T){return C.__proto__=T,C})(D,E)}function y(D){return function(){var E,C=x(D);return o(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(E=x(this).constructor,Reflect.construct(C,arguments,E)):C.apply(this,arguments))}}function o(D,E){return!E||m(E)!=="object"&&typeof E!="function"?f(D):E}function f(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function x(D){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(D)}p.default.Graphics=function(D){var E=T;if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(D&&D.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),D&&l(E,D);var C=y(T);function T(O,I,V,F,B){var j;if(!(this instanceof T))throw new TypeError("Cannot call a class as a function");R=B||document.createElement("canvas"),(j=C.call(this,R,F)).canvas=R;var L,R=V||A.P2D,V=F._userNode||document.body;for(L in B||V.appendChild(j.canvas),p.default.prototype)j[L]||(typeof p.default.prototype[L]=="function"?j[L]=p.default.prototype[L].bind(f(j)):j[L]=p.default.prototype[L]);return p.default.prototype._initializeInstanceVariables.apply(f(j)),j.width=O,j.height=I,j._pixelDensity=F._pixelDensity,R===A.WEBGL?(j._renderer=new p.default.RendererGL(j.canvas,f(j),!1),O=(B=j._renderer._adjustDimensions(O,I)).adjustedWidth,I=B.adjustedHeight):j._renderer=new p.default.Renderer2D(j.canvas,f(j),!1),F._elements.push(f(j)),Object.defineProperty(f(j),"deltaTime",{get:function(){return this._pInst.deltaTime}}),j._renderer.resize(O,I),j._renderer._applyDefaults(),o(j,f(j))}return E=T,(D=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var O,I=this._pInst._elements.indexOf(this);for(O in I!==-1&&this._pInst._elements.splice(I,1),this._events)this.elt.removeEventListener(O,this._events[O])}},{key:"createFramebuffer",value:function(O){return new p.default.Framebuffer(this,O)}}])&&_(E.prototype,D),T}(p.default.Element);var g=p.default.Graphics;b.default=g},{"./constants":269,"./main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],283:[function(a,r,b){function h(D){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(D)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.reflect.construct"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var m=(x=a("./main"))&&x.__esModule?x:{default:x},p=function(D){if(D&&D.__esModule)return D;if(D===null||S(D)!=="object"&&typeof D!="function")return{default:D};var E=A();if(E&&E.has(D))return E.get(D);var C,T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in D){var I;Object.prototype.hasOwnProperty.call(D,C)&&((I=O?Object.getOwnPropertyDescriptor(D,C):null)&&(I.get||I.set)?Object.defineProperty(T,C,I):T[C]=D[C])}return T.default=D,E&&E.set(D,T),T}(a("../core/constants"));function A(){var D;return typeof WeakMap!="function"?null:(D=new WeakMap,A=function(){return D},D)}function S(D){return(S=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(E){return h(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":h(E)})(D)}function _(D,E){for(var C=0;C<E.length;C++){var T=E[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(D,T.key,T)}}function l(D,E){return(l=Object.setPrototypeOf||function(C,T){return C.__proto__=T,C})(D,E)}function y(D){return function(){var E,C,T=f(D);return E=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(E=f(this).constructor,Reflect.construct(T,arguments,E)):T.apply(this,arguments),T=this,!(C=E)||S(C)!=="object"&&typeof C!="function"?o(T):C}}function o(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function f(D){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(D)}var x=function(D){var E=T;if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(D&&D.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),D&&l(E,D);var C=y(T);function T(O,I,M){var F;if(this instanceof T)return(F=C.call(this,O,I)).canvas=O,F._pixelsState=I,M?(F._isMainCanvas=!0,F._pInst._setProperty("_curElement",o(F)),F._pInst._setProperty("canvas",F.canvas),F._pInst._setProperty("width",F.width),F._pInst._setProperty("height",F.height)):(F.canvas.style.display="none",F._styles=[]),F._clipping=!1,F._clipInvert=!1,F._textSize=12,F._textLeading=15,F._textFont="sans-serif",F._textStyle=p.NORMAL,F._textAscent=null,F._textDescent=null,F._textAlign=p.LEFT,F._textBaseline=p.BASELINE,F._textWrap=p.WORD,F._rectMode=p.CORNER,F._ellipseMode=p.CENTER,F._curveTightness=0,F._imageMode=p.CORNER,F._tint=null,F._doStroke=!0,F._doFill=!0,F._strokeSet=!1,F._fillSet=!1,F._leadingSet=!1,F._pushPopDepth=0,F;throw new TypeError("Cannot call a class as a function")}return E=T,(D=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(O){this._pushPopDepth--,O.properties&&Object.assign(this,O.properties)}},{key:"beginClip",value:function(){var O=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=O.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(O,I){this.width=O,this.height=I,this.elt.width=O*this._pInst._pixelDensity,this.elt.height=I*this._pInst._pixelDensity,this.elt.style.width="".concat(O,"px"),this.elt.style.height="".concat(I,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(O,I,M,F){var B=this._pixelsState,j=B._pixelDensity,L=this.canvas;if(O===void 0&&I===void 0)O=I=0,M=B.width,F=B.height;else if(O*=j,I*=j,M===void 0&&F===void 0)return O<0||I<0||O>=L.width||I>=L.height?[0,0,0,0]:this._getPixel(O,I);return B=new m.default.Image(M*j,F*j),B.pixelDensity(j),B.canvas.getContext("2d").drawImage(L,O,I,M*j,F*j,0,0,M*j,F*j),B}},{key:"textLeading",value:function(O){return typeof O=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",O),this._pInst):this._textLeading}},{key:"textStyle",value:function(O){return O?(O!==p.NORMAL&&O!==p.ITALIC&&O!==p.BOLD&&O!==p.BOLDITALIC||this._setProperty("_textStyle",O),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(O,I){return O!==void 0?(this._setProperty("_textAlign",O),I!==void 0&&this._setProperty("_textBaseline",I),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(O){return this._setProperty("_textWrap",O),this._textWrap}},{key:"text",value:function(O,I,M,F,B){var j,L,R,V,k=this._pInst,U=this._textWrap,G=Number.MAX_VALUE,H=M;if((this._doFill||this._doStroke)&&O!==void 0){if(j=(O=(O=typeof O!="string"?O.toString():O).replace(/(\t)/g,"  ")).split(`
`),F!==void 0){switch(this._rectMode===p.CENTER&&(I-=F/2),this._textAlign){case p.CENTER:I+=F/2;break;case p.RIGHT:I+=F}if(B!==void 0){this._rectMode===p.CENTER&&(M-=B/2,H-=B/2);var O=M,X=k.textAscent();switch(this._textBaseline){case p.BOTTOM:V=M+B,M=Math.max(V,M),H+=X;break;case p.CENTER:V=M+B/2,M=Math.max(V,M),H+=X/2}G=M+B-X,this._textBaseline===p.CENTER&&(G=O+B-X/2)}else this._textBaseline!==p.BOTTOM&&this._textBaseline!==p.CENTER||(H=M-(O=k.textSize()*this._textLeading)/2,G=M+O/2);if(U===p.WORD){for(var Z=[],J=0;J<j.length;J++){for(var ee="",$=j[J].split(" "),W=0;W<$.length;W++)L="".concat(ee+$[W])+" ",ee=F<(R=this.textWidth(L))&&0<ee.length?(Z.push(ee),"".concat($[W])+" "):L;Z.push(ee)}var Q=0;this._textBaseline===p.CENTER?Q=(Z.length-1)*k.textLeading()/2:this._textBaseline===p.BOTTOM&&(Q=(Z.length-1)*k.textLeading());for(var te=0;te<j.length;te++){ee="",$=j[te].split(" ");for(var ce=0;ce<$.length;ce++)L="".concat(ee+$[ce])+" ",F<(R=this.textWidth(L))&&0<ee.length?(this._renderText(k,ee.trim(),I,M-Q,G,H),ee="".concat($[ce])+" ",M+=k.textLeading()):ee=L;this._renderText(k,ee.trim(),I,M-Q,G,H),M+=k.textLeading()}}else{for(var oe=[],ue=0;ue<j.length;ue++)for(var we=j[ue].split(ee=""),le=0;le<we.length;le++)L="".concat(ee+we[le]),(R=this.textWidth(L))<=F?ee+=we[le]:F<R&&0<ee.length&&(oe.push(ee),ee="".concat(we[le]));oe.push(ee);var fe=0;this._textBaseline===p.CENTER?fe=(oe.length-1)*k.textLeading()/2:this._textBaseline===p.BOTTOM&&(fe=(oe.length-1)*k.textLeading());for(var ve=0;ve<j.length;ve++){we=j[ve].split(ee="");for(var pe=0;pe<we.length;pe++)L="".concat(ee+we[pe]),(R=this.textWidth(L))<=F?ee+=we[pe]:F<R&&0<ee.length&&(this._renderText(k,ee.trim(),I,M-fe,G,H),M+=k.textLeading(),ee="".concat(we[pe]))}this._renderText(k,ee.trim(),I,M-fe,G,H),M+=k.textLeading()}}else{var ye=0;this._textBaseline===p.CENTER?ye=(j.length-1)*k.textLeading()/2:this._textBaseline===p.BOTTOM&&(ye=(j.length-1)*k.textLeading());for(var Ae=0;Ae<j.length;Ae++)this._renderText(k,j[Ae],I,M-ye,G,H-ye),M+=k.textLeading()}return k}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var O=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return S(O)==="object"&&O.font&&O.font.supported}},{key:"_updateTextMetrics",value:function(){var O,I,M,F,B,j;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((O=document.createElement("span")).style.fontFamily=this._textFont,O.style.fontSize="".concat(this._textSize,"px"),O.innerHTML="ABCjgq|",(j=document.createElement("div")).style.display="inline-block",j.style.width="1px",j.style.height="0px",F=((I=document.createElement("div")).appendChild(O),I.appendChild(j),I.style.height="0px",I.style.overflow="hidden",document.body.appendChild(I),j.style.verticalAlign="baseline",g(j)),B=g(O),M=F[1]-B[1],F=(j.style.verticalAlign="bottom",g(j)),B=g(O),j=F[1]-B[1]-M,document.body.removeChild(I),this._setProperty("_textAscent",M),this._setProperty("_textDescent",j)),this}}])&&_(E.prototype,D),T}(m.default.Element);function g(D){var E=0,C=0;if(D.offsetParent)for(;E+=D.offsetLeft,C+=D.offsetTop,D=D.offsetParent;);else E+=D.offsetLeft,C+=D.offsetTop;return[E,C]}x.prototype.textSize=function(D){return typeof D=="number"?(this._setProperty("_textSize",D),this._leadingSet||this._setProperty("_textLeading",D*p._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},m.default.Renderer=x,a=m.default.Renderer,b.default=a},{"../core/constants":269,"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],284:[function(D,r,b){function h(E){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(E)}function m(E){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(C){return h(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":h(C)})(E)}D("core-js/modules/es.symbol"),D("core-js/modules/es.symbol.description"),D("core-js/modules/es.symbol.iterator"),D("core-js/modules/es.array.concat"),D("core-js/modules/es.array.fill"),D("core-js/modules/es.array.for-each"),D("core-js/modules/es.array.iterator"),D("core-js/modules/es.array.join"),D("core-js/modules/es.array.slice"),D("core-js/modules/es.function.name"),D("core-js/modules/es.number.to-fixed"),D("core-js/modules/es.object.get-own-property-descriptor"),D("core-js/modules/es.object.get-prototype-of"),D("core-js/modules/es.object.to-string"),D("core-js/modules/es.reflect.construct"),D("core-js/modules/es.reflect.get"),D("core-js/modules/es.regexp.exec"),D("core-js/modules/es.regexp.to-string"),D("core-js/modules/es.string.iterator"),D("core-js/modules/es.weak-map"),D("core-js/modules/web.dom-collections.iterator"),D("core-js/modules/es.array.concat"),D("core-js/modules/es.array.fill"),D("core-js/modules/es.array.for-each"),D("core-js/modules/es.array.join"),D("core-js/modules/es.array.slice"),D("core-js/modules/es.function.name"),D("core-js/modules/es.number.to-fixed"),D("core-js/modules/es.object.get-prototype-of"),D("core-js/modules/es.object.to-string"),D("core-js/modules/es.regexp.exec"),D("core-js/modules/es.regexp.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(g=D("./main"))&&g.__esModule?g:{default:g},A=function(E){if(E&&E.__esModule)return E;if(E===null||m(E)!=="object"&&typeof E!="function")return{default:E};var C=S();if(C&&C.has(E))return C.get(E);var T,O={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in E){var M;Object.prototype.hasOwnProperty.call(E,T)&&((M=I?Object.getOwnPropertyDescriptor(E,T):null)&&(M.get||M.set)?Object.defineProperty(O,T,M):O[T]=E[T])}return O.default=E,C&&C.set(E,O),O}(D("./constants"));function S(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,S=function(){return E},E)}function _(E,C){for(var T=0;T<C.length;T++){var O=C[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}function l(E,C,T){return(l=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(F,I,M){var F=function(B,j){for(;!Object.prototype.hasOwnProperty.call(B,j)&&(B=f(B))!==null;);return B}(F,I);if(F)return(F=Object.getOwnPropertyDescriptor(F,I)).get?F.get.call(M):F.value})(E,C,T||E)}function y(E,C){return(y=Object.setPrototypeOf||function(T,O){return T.__proto__=O,T})(E,C)}function o(E){return function(){var C,T=f(E),T=(C=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(C=f(this).constructor,Reflect.construct(T,arguments,C)):T.apply(this,arguments),this);if(!C||m(C)!=="object"&&typeof C!="function"){if(T!==void 0)return T;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return C}}function f(E){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(E)}D("./p5.Renderer");var x="rgba(0,0,0,0)",g=function(E){var C=O;if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),E&&y(C,E);var T=o(O);function O(I,M,F){if(this instanceof O)return(I=T.call(this,I,M,F)).drawingContext=I.canvas.getContext("2d"),I._pInst._setProperty("drawingContext",I.drawingContext),I;throw new TypeError("Cannot call a class as a function")}return C=O,(E=[{key:"getFilterGraphicsLayer",value:function(){var I;return this.filterGraphicsLayer||(I=(this._pInst instanceof p.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new p.default.Graphics(this.width,this.height,A.WEBGL,I)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=A.BLEND,this._setFill(A._DEFAULT_FILL),this._setStroke(A._DEFAULT_STROKE),this.drawingContext.lineCap=A.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(I,M){l(f(O.prototype),"resize",this).call(this,I,M),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var I,M;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof p.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(I=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(I,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(I=this._getFill(),M=(M=this._pInst).color.apply(M,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(M.levels),M=M.toString(),this._setFill(M),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(I),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var I=(I=this._pInst).color.apply(I,arguments);this._setFill(I.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",I.levels)}},{key:"stroke",value:function(){var I=(I=this._pInst).color.apply(I,arguments);this._setStroke(I.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",I.levels)}},{key:"erase",value:function(I,M){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,I=this._pInst.color(255,I).toString(),this.drawingContext.fillStyle=I,this._cachedStrokeStyle=this.drawingContext.strokeStyle,I=this._pInst.color(255,M).toString(),this.drawingContext.strokeStyle=I,M=this._cachedBlendMode,this.blendMode(A.REMOVE),this._cachedBlendMode=M,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var I=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},I=(l(f(O.prototype),"beginClip",this).call(this,I),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),I=(this.drawingContext.fillStyle=I,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),I=(this.drawingContext.strokeStyle=I,this._cachedBlendMode);this.blendMode(A.BLEND),this._cachedBlendMode=I,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),l(f(O.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(I,M,F,B,j,L,R,V,k){I.gifProperties&&I._animateGif(this._pInst);try{p.default.MediaElement&&I instanceof p.default.MediaElement&&I._ensureCanvas();var U=(U=this._tint&&I.canvas?this._getTintedImageCanvas(I):U)||I.canvas||I.elt,G=1;I.width&&0<I.width&&(G=U.width/I.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(U,G*M,G*F,G*B,G*j,L,R,V,k),this._isErasing&&this._pInst.erase()}catch(H){if(H.name!=="NS_ERROR_NOT_AVAILABLE")throw H}}},{key:"_getTintedImageCanvas",value:function(I){if(!I.canvas)return I;I.tintCanvas||(I.tintCanvas=document.createElement("canvas")),I.tintCanvas.width!==I.canvas.width&&(I.tintCanvas.width=I.canvas.width),I.tintCanvas.height!==I.canvas.height&&(I.tintCanvas.height=I.canvas.height);var M=I.tintCanvas.getContext("2d");return M.save(),M.clearRect(0,0,I.canvas.width,I.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(M.drawImage(I.canvas,0,0),M.globalCompositeOperation="luminosity",M.drawImage(I.canvas,0,0),M.globalCompositeOperation="color",M.drawImage(I.canvas,0,0),M.globalCompositeOperation="multiply",M.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),M.fillRect(0,0,I.canvas.width,I.canvas.height),M.globalCompositeOperation="destination-in"),M.globalAlpha=this._tint[3]/255,M.drawImage(I.canvas,0,0),M.restore(),I.tintCanvas}},{key:"blendMode",value:function(I){if(I===A.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(I!==A.BLEND&&I!==A.REMOVE&&I!==A.DARKEST&&I!==A.LIGHTEST&&I!==A.DIFFERENCE&&I!==A.MULTIPLY&&I!==A.EXCLUSION&&I!==A.SCREEN&&I!==A.REPLACE&&I!==A.OVERLAY&&I!==A.HARD_LIGHT&&I!==A.SOFT_LIGHT&&I!==A.DODGE&&I!==A.BURN&&I!==A.ADD)throw new Error("Mode ".concat(I," not recognized."));this._cachedBlendMode=I,this.drawingContext.globalCompositeOperation=I}}},{key:"blend",value:function(){for(var I=this.drawingContext.globalCompositeOperation,M=arguments.length,F=new Array(M),B=0;B<M;B++)F[B]=arguments[B];var j=F[F.length-1],L=Array.prototype.slice.call(F,0,F.length-1);this.drawingContext.globalCompositeOperation=j,p.default.prototype.copy.apply(this,L),this.drawingContext.globalCompositeOperation=I}},{key:"_getPixel",value:function(I,M){return I=this.drawingContext.getImageData(I,M,1,1).data,[I[0],I[1],I[2],I[3]]}},{key:"loadPixels",value:function(){var I=this._pixelsState,M=I._pixelDensity,F=this.width*M,M=this.height*M,F=this.drawingContext.getImageData(0,0,F,M);I._setProperty("imageData",F),I._setProperty("pixels",F.data)}},{key:"set",value:function(I,M,F){I=Math.floor(I),M=Math.floor(M);var B=this._pixelsState;if(F instanceof p.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(B._pixelDensity,B._pixelDensity),this.drawingContext.clearRect(I,M,F.width,F.height),this.drawingContext.drawImage(F.canvas,I,M),this.drawingContext.restore();else{var j=0,L=0,R=0,V=0,k=4*(M*B._pixelDensity*(this.width*B._pixelDensity)+I*B._pixelDensity);if(B.imageData||B.loadPixels(),typeof F=="number")k<B.pixels.length&&(R=L=j=F,V=255);else if(Array.isArray(F)){if(F.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");k<B.pixels.length&&(j=F[0],L=F[1],R=F[2],V=F[3])}else F instanceof p.default.Color&&k<B.pixels.length&&(j=F.levels[0],L=F.levels[1],R=F.levels[2],V=F.levels[3]);for(var U=0;U<B._pixelDensity;U++)for(var G=0;G<B._pixelDensity;G++)k=4*((M*B._pixelDensity+G)*this.width*B._pixelDensity+(I*B._pixelDensity+U)),B.pixels[k]=j,B.pixels[k+1]=L,B.pixels[k+2]=R,B.pixels[k+3]=V}}},{key:"updatePixels",value:function(I,M,F,B){var j=this._pixelsState,L=j._pixelDensity;I===void 0&&M===void 0&&F===void 0&&B===void 0&&(M=I=0,F=this.width,B=this.height),I*=L,M*=L,F*=L,B*=L,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=j.imageData),this.drawingContext.putImageData(j.imageData,I,M,0,0,F,B)}},{key:"_acuteArcToBezier",value:function(I,M){var L=M/2,F=Math.cos(L),V=Math.sin(L),B=1/Math.tan(L),L=I+L,j=Math.cos(L),L=Math.sin(L),R=(4-F)/3,V=V+(F-R)*B;return{ax:Math.cos(I).toFixed(7),ay:Math.sin(I).toFixed(7),bx:(R*j+V*L).toFixed(7),by:(R*L-V*j).toFixed(7),cx:(R*j-V*L).toFixed(7),cy:(R*L+V*j).toFixed(7),dx:Math.cos(I+M).toFixed(7),dy:Math.sin(I+M).toFixed(7)}}},{key:"arc",value:function(I,M,F,B,j,L,R){var V,k=this.drawingContext,U=F/2,G=B/2,H=[];for(I+=U,M+=G;1e-5<=L-j;)V=Math.min(L-j,A.HALF_PI),H.push(this._acuteArcToBezier(j,V)),j+=V;return this._doFill&&(this._clipping||k.beginPath(),H.forEach(function(X,Z){Z===0&&k.moveTo(I+X.ax*U,M+X.ay*G),k.bezierCurveTo(I+X.bx*U,M+X.by*G,I+X.cx*U,M+X.cy*G,I+X.dx*U,M+X.dy*G)}),R!==A.PIE&&R!=null||k.lineTo(I,M),k.closePath(),this._clipping||k.fill()),this._doStroke&&(this._clipping||k.beginPath(),H.forEach(function(X,Z){Z===0&&k.moveTo(I+X.ax*U,M+X.ay*G),k.bezierCurveTo(I+X.bx*U,M+X.by*G,I+X.cx*U,M+X.cy*G,I+X.dx*U,M+X.dy*G)}),R===A.PIE?(k.lineTo(I,M),k.closePath()):R===A.CHORD&&k.closePath(),this._clipping||k.stroke()),this}},{key:"ellipse",value:function(V){var M=this.drawingContext,F=this._doFill,B=this._doStroke,j=parseFloat(V[0]),L=parseFloat(V[1]),R=parseFloat(V[2]),V=parseFloat(V[3]);if(F&&!B){if(this._getFill()===x)return this}else if(!F&&B&&this._getStroke()===x)return this;j+=R/2,L+=V/2,R/=2,V/=2,this._clipping||M.beginPath(),M.ellipse(j,L,R,V,0,0,2*Math.PI),!this._clipping&&F&&M.fill(),!this._clipping&&B&&M.stroke()}},{key:"line",value:function(I,M,F,B){var j=this.drawingContext;return this._doStroke&&this._getStroke()!==x&&(this._clipping||j.beginPath(),j.moveTo(I,M),j.lineTo(F,B),j.stroke()),this}},{key:"point",value:function(I,M){var F,B,j=this.drawingContext;return!this._doStroke||this._getStroke()===x?this:(F=this._getStroke(),B=this._getFill(),this._clipping||this._setFill(F),this._clipping||j.beginPath(),j.arc(I,M,j.lineWidth/2,0,A.TWO_PI,!1),void(this._clipping||(j.fill(),this._setFill(B))))}},{key:"quad",value:function(I,M,F,B,j,L,R,V){var k=this.drawingContext,U=this._doFill,G=this._doStroke;if(U&&!G){if(this._getFill()===x)return this}else if(!U&&G&&this._getStroke()===x)return this;return this._clipping||k.beginPath(),k.moveTo(I,M),k.lineTo(F,B),k.lineTo(j,L),k.lineTo(R,V),k.closePath(),!this._clipping&&U&&k.fill(),!this._clipping&&G&&k.stroke(),this}},{key:"rect",value:function(G){var M,F,B=G[0],j=G[1],L=G[2],R=G[3],V=G[4],k=G[5],U=G[6],G=G[7],H=this.drawingContext,X=this._doFill,Z=this._doStroke;if(X&&!Z){if(this._getFill()===x)return this}else if(!X&&Z&&this._getStroke()===x)return this;return this._clipping||H.beginPath(),V===void 0?H.rect(B,j,L,R):(k===void 0&&(k=V),U===void 0&&(U=k),G===void 0&&(G=U),Z=(X=Math.abs(L))/2,F=(M=Math.abs(R))/2,M<2*(V=X<2*V?Z:V)&&(V=F),M<2*(k=X<2*k?Z:k)&&(k=F),M<2*(U=X<2*U?Z:U)&&(U=F),M<2*(G=X<2*G?Z:G)&&(G=F),this._clipping||H.beginPath(),H.moveTo(B+V,j),H.arcTo(B+L,j,B+L,j+R,k),H.arcTo(B+L,j+R,B,j+R,U),H.arcTo(B,j+R,B,j,G),H.arcTo(B,j,B+L,j,V),H.closePath()),!this._clipping&&this._doFill&&H.fill(),!this._clipping&&this._doStroke&&H.stroke(),this}},{key:"triangle",value:function(U){var M=this.drawingContext,F=this._doFill,B=this._doStroke,j=U[0],L=U[1],R=U[2],V=U[3],k=U[4],U=U[5];if(F&&!B){if(this._getFill()===x)return this}else if(!F&&B&&this._getStroke()===x)return this;this._clipping||M.beginPath(),M.moveTo(j,L),M.lineTo(R,V),M.lineTo(k,U),M.closePath(),!this._clipping&&F&&M.fill(),!this._clipping&&B&&M.stroke()}},{key:"endShape",value:function(I,M,F,B,j,L,R){if(M.length!==0&&(this._doStroke||this._doFill)){var V,k,U,G=I===A.CLOSE,H=(G&&!L&&M.push(M[0]),M.length);if(F&&R===null){if(3<H){var X=[],Z=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(M[1][0],M[1][1]),k=1;k+2<H;k++)V=M[k],X[0]=[V[0],V[1]],X[1]=[V[0]+(Z*M[k+1][0]-Z*M[k-1][0])/6,V[1]+(Z*M[k+1][1]-Z*M[k-1][1])/6],X[2]=[M[k+1][0]+(Z*M[k][0]-Z*M[k+2][0])/6,M[k+1][1]+(Z*M[k][1]-Z*M[k+2][1])/6],X[3]=[M[k+1][0],M[k+1][1]],this.drawingContext.bezierCurveTo(X[1][0],X[1][1],X[2][0],X[2][1],X[3][0],X[3][1]);G&&this.drawingContext.lineTo(M[k+1][0],M[k+1][1]),this._doFillStrokeClose(G)}}else if(B&&R===null){for(this._clipping||this.drawingContext.beginPath(),k=0;k<H;k++)M[k].isVert?M[k].moveTo?this.drawingContext.moveTo(M[k][0],M[k][1]):this.drawingContext.lineTo(M[k][0],M[k][1]):this.drawingContext.bezierCurveTo(M[k][0],M[k][1],M[k][2],M[k][3],M[k][4],M[k][5]);this._doFillStrokeClose(G)}else if(j&&R===null){for(this._clipping||this.drawingContext.beginPath(),k=0;k<H;k++)M[k].isVert?M[k].moveTo?this.drawingContext.moveTo(M[k][0],M[k][1]):this.drawingContext.lineTo(M[k][0],M[k][1]):this.drawingContext.quadraticCurveTo(M[k][0],M[k][1],M[k][2],M[k][3]);this._doFillStrokeClose(G)}else if(R===A.POINTS)for(k=0;k<H;k++)V=M[k],this._doStroke&&this._pInst.stroke(V[6]),this._pInst.point(V[0],V[1]);else if(R===A.LINES)for(k=0;k+1<H;k+=2)V=M[k],this._doStroke&&this._pInst.stroke(M[k+1][6]),this._pInst.line(V[0],V[1],M[k+1][0],M[k+1][1]);else if(R===A.TRIANGLES)for(k=0;k+2<H;k+=3)V=M[k],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(V[0],V[1]),this.drawingContext.lineTo(M[k+1][0],M[k+1][1]),this.drawingContext.lineTo(M[k+2][0],M[k+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(M[k+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(M[k+2][6]),this.drawingContext.stroke());else if(R===A.TRIANGLE_STRIP)for(k=0;k+1<H;k++)V=M[k],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(M[k+1][0],M[k+1][1]),this.drawingContext.lineTo(V[0],V[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[k+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(M[k+1][5]),k+2<H&&(this.drawingContext.lineTo(M[k+2][0],M[k+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[k+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(M[k+2][5])),this._doFillStrokeClose(G);else if(R===A.TRIANGLE_FAN){if(2<H){for(this._clipping||this.drawingContext.beginPath(),k=2;k<H;k++)V=M[k],this.drawingContext.moveTo(M[0][0],M[0][1]),this.drawingContext.lineTo(M[k-1][0],M[k-1][1]),this.drawingContext.lineTo(V[0],V[1]),this.drawingContext.lineTo(M[0][0],M[0][1]),k<H-1&&(this._doFill&&V[5]!==M[k+1][5]||this._doStroke&&V[6]!==M[k+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(V[5]),this.drawingContext.fill(),this._pInst.fill(M[k+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(V[6]),this.drawingContext.stroke(),this._pInst.stroke(M[k+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(G)}}else if(R===A.QUADS)for(k=0;k+3<H;k+=4){for(V=M[k],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(V[0],V[1]),U=1;U<4;U++)this.drawingContext.lineTo(M[k+U][0],M[k+U][1]);this.drawingContext.lineTo(V[0],V[1]),!this._clipping&&this._doFill&&this._pInst.fill(M[k+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[k+3][6]),this._doFillStrokeClose(G)}else if(R===A.QUAD_STRIP){if(3<H)for(k=0;k+1<H;k+=2)V=M[k],this._clipping||this.drawingContext.beginPath(),k+3<H?(this.drawingContext.moveTo(M[k+2][0],M[k+2][1]),this.drawingContext.lineTo(V[0],V[1]),this.drawingContext.lineTo(M[k+1][0],M[k+1][1]),this.drawingContext.lineTo(M[k+3][0],M[k+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(M[k+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(M[k+3][6])):(this.drawingContext.moveTo(V[0],V[1]),this.drawingContext.lineTo(M[k+1][0],M[k+1][1])),this._doFillStrokeClose(G)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(M[0][0],M[0][1]),k=1;k<H;k++)(V=M[k]).isVert&&(V.moveTo?(G&&this.drawingContext.closePath(),this.drawingContext.moveTo(V[0],V[1])):this.drawingContext.lineTo(V[0],V[1]));this._doFillStrokeClose(G)}L=j=B=F=!1,G&&M.pop()}return this}},{key:"strokeCap",value:function(I){return I!==A.ROUND&&I!==A.SQUARE&&I!==A.PROJECT||(this.drawingContext.lineCap=I),this}},{key:"strokeJoin",value:function(I){return I!==A.ROUND&&I!==A.BEVEL&&I!==A.MITER||(this.drawingContext.lineJoin=I),this}},{key:"strokeWeight",value:function(I){return this.drawingContext.lineWidth=I===void 0||I===0?1e-4:I,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(I){I!==this._cachedFillStyle&&(this.drawingContext.fillStyle=I,this._cachedFillStyle=I)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(I){I!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=I,this._cachedStrokeStyle=I)}},{key:"bezier",value:function(I,M,F,B,j,L,R,V){return this._pInst.beginShape(),this._pInst.vertex(I,M),this._pInst.bezierVertex(F,B,j,L,R,V),this._pInst.endShape(),this}},{key:"curve",value:function(I,M,F,B,j,L,R,V){return this._pInst.beginShape(),this._pInst.curveVertex(I,M),this._pInst.curveVertex(F,B),this._pInst.curveVertex(j,L),this._pInst.curveVertex(R,V),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(I){I&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(I,M,F,B,j,L){this.drawingContext.transform(I,M,F,B,j,L)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(I){this.drawingContext.rotate(I)}},{key:"scale",value:function(I,M){return this.drawingContext.scale(I,M),this}},{key:"translate",value:function(I,M){return I instanceof p.default.Vector&&(M=I.y,I=I.x),this.drawingContext.translate(I,M),this}},{key:"_renderText",value:function(I,M,F,B,j,L){if(!(B<L||j<=B))return I.push(),this._isOpenType()?this._textFont._renderPath(M,F,B,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(M,F,B),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(A._DEFAULT_TEXT_FILL),this.drawingContext.fillText(M,F,B))),I.pop(),I}},{key:"textWidth",value:function(I){return this._isOpenType()?this._textFont._textWidth(I,this._textSize):this.drawingContext.measureText(I).width}},{key:"_applyTextProperties",value:function(){var I=this._pInst,M=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),M=this._textFont,this._isOpenType()&&(M=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),M||"sans-serif");return/\s/.exec(M)&&(M='"'.concat(M,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(M),this.drawingContext.textAlign=this._textAlign,this._textBaseline===A.CENTER?this.drawingContext.textBaseline=A._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,I}},{key:"push",value:function(){return this.drawingContext.save(),l(f(O.prototype),"push",this).call(this)}},{key:"pop",value:function(I){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,l(f(O.prototype),"pop",this).call(this,I)}}])&&_(C.prototype,E),O}(p.default.Renderer),D=(g.prototype.text=function(E,C,T,F,I){F!==void 0&&this.drawingContext.textBaseline===A.BASELINE&&(M=!0,this.drawingContext.textBaseline=A.TOP);var M,F=p.default.Renderer.prototype.text.apply(this,arguments);return M&&(this.drawingContext.textBaseline=A.BASELINE),F},p.default.Renderer2D=g,p.default.Renderer2D);b.default=D},{"./constants":269,"./main":280,"./p5.Renderer":283,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],285:[function(a,r,b){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator");var h=(a=a("./main"))&&a.__esModule?a:{default:a};h.default.prototype._promisePreloads=[];function m(){return{}}var p=!(h.default.prototype.registerPromisePreload=function(A){h.default.prototype._promisePreloads.push(A)});h.default.prototype._setupPromisePreloads=function(){var A=!0,S=!1,_=void 0;try{for(var l,y=this._promisePreloads[Symbol.iterator]();!(A=(l=y.next()).done);A=!0){var o=l.value,f=this,x=o.method,g=o.addCallbacks,D=o.legacyPreloadSetup,E=o.target||this,C=E[x].bind(E);if(E===h.default.prototype){if(p)continue;f=null,C=E[x]}E[x]=this._wrapPromisePreload(f,C,g),D&&(E[D.method]=this._legacyPreloadGenerator(f,D,E[x]))}}catch(T){S=!0,_=T}finally{try{A||y.return==null||y.return()}finally{if(S)throw _}}p=!0},h.default.prototype._wrapPromisePreload=function(A,S,_){var l=function(){for(var y=this,o=(this._incrementPreload(),null),f=null,x=arguments.length,g=new Array(x),D=0;D<x;D++)g[D]=arguments[D];if(_)for(var E=g.length-1;0<=E&&!f&&typeof g[E]=="function";E--)f=o,o=g.pop();var C=Promise.resolve(S.apply(this,g));return o&&C.then(o),f&&C.catch(f),C.then(function(){return y._decrementPreload()}),C};return l=A?l.bind(A):l},h.default.prototype._legacyPreloadGenerator=function(A,y,_){var l=y.createBaseObject||m,y=function(){var o=this;this._incrementPreload();for(var f=arguments.length,x=new Array(f),g=0;g<f;g++)x[g]=arguments[g];var D=l.apply(this,x);return _.apply(this,x).then(function(E){Object.assign(D,E),o._decrementPreload()}),D};return y=A?y.bind(A):y}},{"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],286:[function(a,r,b){function h(y){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(y)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var m=(l=a("./main"))&&l.__esModule?l:{default:l},p=function(y){if(y&&y.__esModule)return y;if(y===null||S(y)!=="object"&&typeof y!="function")return{default:y};var o=A();if(o&&o.has(y))return o.get(y);var f,x={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in y){var D;Object.prototype.hasOwnProperty.call(y,f)&&((D=g?Object.getOwnPropertyDescriptor(y,f):null)&&(D.get||D.set)?Object.defineProperty(x,f,D):x[f]=y[f])}return x.default=y,o&&o.set(y,x),x}(a("./constants"));function A(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,A=function(){return y},y)}function S(y){return(S=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(o){return h(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":h(o)})(y)}a("./p5.Graphics"),a("./p5.Renderer2D"),a("../webgl/p5.RendererGL");var _="defaultCanvas0",l=(m.default.prototype.createCanvas=function(y,o,f,x){var g,D,E;if(m.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(f=p.P2D,x=arguments[2]):g=f||p.P2D,x)(E=document.getElementById(_))&&E.parentNode.removeChild(E),E=x,this._defaultGraphicsCreated=!1;else{if(g===p.WEBGL)(E=document.getElementById(_))&&(E.parentNode.removeChild(E),D=this._renderer,this._elements=this._elements.filter(function(T){return T!==D})),(E=document.createElement("canvas")).id=_,E.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)E=this.canvas;else{E=x||document.createElement("canvas");for(var C=0;document.getElementById("defaultCanvas".concat(C));)C++;_="defaultCanvas".concat(C),E.id=_,E.classList.add("p5Canvas")}this._setupDone||(E.dataset.hidden=!0,E.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(f=document.createElement("main"),document.body.appendChild(f)),document.getElementsByTagName("main")[0])).appendChild(E)}return g===p.WEBGL?(this._setProperty("_renderer",new m.default.RendererGL(E,this,!0)),this._elements.push(this._renderer),y=(x=this._renderer._adjustDimensions(y,o)).adjustedWidth,o=x.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new m.default.Renderer2D(E,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(y,o),this._renderer._applyDefaults(),this._renderer},m.default.prototype.resizeCanvas=function(y,o,f){if(m.default._validateParameters("resizeCanvas",arguments),this._renderer){var x,g,D,E={};for(x in this.drawingContext){var C=this.drawingContext[x];S(C)!=="object"&&typeof C!="function"&&(E[x]=C)}for(D in this._renderer instanceof m.default.RendererGL&&(y=(g=this._renderer._adjustDimensions(y,o)).adjustedWidth,o=g.adjustedHeight),this.width=y,this.height=o,this._renderer.resize(y,o),E)try{this.drawingContext[D]=E[D]}catch{}f||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},m.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},m.default.prototype.createGraphics=function(y,o){for(var f=arguments.length,x=new Array(2<f?f-2:0),g=2;g<f;g++)x[g-2]=arguments[g];return x[0]instanceof HTMLCanvasElement&&(x[1]=x[0],x[0]=p.P2D),m.default._validateParameters("createGraphics",arguments),new m.default.Graphics(y,o,x[0],this,x[1])},m.default.prototype.createFramebuffer=function(y){return new m.default.Framebuffer(this,y)},m.default.prototype.clearDepth=function(y){this._assert3d("clearDepth"),this._renderer.clearDepth(y)},m.default.prototype.blendMode=function(y){m.default._validateParameters("blendMode",arguments),y===p.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),y=p.BLEND),this._renderer.blendMode(y)},m.default);b.default=l},{"../webgl/p5.RendererGL":337,"./constants":269,"./main":280,"./p5.Graphics":282,"./p5.Renderer2D":284,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],287:[function(a,r,b){function h(o){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(o)}function m(o){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(f){return h(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":h(f)})(o)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.slice"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=l(a("../main")),A=function(o){if(o&&o.__esModule)return o;if(o===null||m(o)!=="object"&&typeof o!="function")return{default:o};var f=_();if(f&&f.has(o))return f.get(o);var x,g={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in o){var E;Object.prototype.hasOwnProperty.call(o,x)&&((E=D?Object.getOwnPropertyDescriptor(o,x):null)&&(E.get||E.set)?Object.defineProperty(g,x,E):g[x]=o[x])}return g.default=o,f&&f.set(o,g),g}(a("../constants")),S=l(a("../helpers"));function _(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,_=function(){return o},o)}function l(o){return o&&o.__esModule?o:{default:o}}function y(o){return function(f){if(Array.isArray(f)){for(var x=0,g=new Array(f.length);x<f.length;x++)g[x]=f[x];return g}}(o)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a("../friendly_errors/fes_core"),a("../friendly_errors/file_errors"),a("../friendly_errors/validate_params"),p.default.prototype._normalizeArcAngles=function(o,f,x,g,D){var E;return o-=A.TWO_PI*Math.floor(o/A.TWO_PI),f-=A.TWO_PI*Math.floor(f/A.TWO_PI),E=Math.min(Math.abs(o-f),A.TWO_PI-Math.abs(o-f)),D&&(o=o<=A.HALF_PI?Math.atan(x/g*Math.tan(o)):o>A.HALF_PI&&o<=3*A.HALF_PI?Math.atan(x/g*Math.tan(o))+A.PI:Math.atan(x/g*Math.tan(o))+A.TWO_PI,f=f<=A.HALF_PI?Math.atan(x/g*Math.tan(f)):f>A.HALF_PI&&f<=3*A.HALF_PI?Math.atan(x/g*Math.tan(f))+A.PI:Math.atan(x/g*Math.tan(f))+A.TWO_PI),f<o&&(f+=A.TWO_PI),{start:o,stop:f,correspondToSamePoint:E<1e-5}},p.default.prototype.arc=function(o,f,x,g,D,E,C,T){return p.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&D!==E&&(D=this._toRadians(D),E=this._toRadians(E),x=Math.abs(x),g=Math.abs(g),o=S.default.modeAdjust(o,f,x,g,this._renderer._ellipseMode),(f=this._normalizeArcAngles(D,E,o.w,o.h,!0)).correspondToSamePoint?this._renderer.ellipse([o.x,o.y,o.w,o.h,T]):(this._renderer.arc(o.x,o.y,o.w,o.h,f.start,f.stop,C,T),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[o.x,o.y,o.w,o.h,f.start,f.stop,C]))),this},p.default.prototype.ellipse=function(o,f,x,g,D){return p.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},p.default.prototype.circle=function(){for(var o=arguments.length,f=new Array(o),x=0;x<o;x++)f[x]=arguments[x];p.default._validateParameters("circle",f);var g=f.slice(0,2);return g.push(f[2],f[2]),this._renderEllipse.apply(this,y(g))},p.default.prototype._renderEllipse=function(o,f,x,g,D){return(this._renderer._doStroke||this._renderer._doFill)&&(x<0&&(x=Math.abs(x)),g===void 0?g=x:g<0&&(g=Math.abs(g)),o=S.default.modeAdjust(o,f,x,g,this._renderer._ellipseMode),this._renderer.ellipse([o.x,o.y,o.w,o.h,D]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[o.x,o.y,o.w,o.h])),this},p.default.prototype.line=function(){for(var o,f=arguments.length,x=new Array(f),g=0;g<f;g++)x[g]=arguments[g];return p.default._validateParameters("line",x),this._renderer._doStroke&&(o=this._renderer).line.apply(o,x),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",x),this},p.default.prototype.point=function(){for(var o,f=arguments.length,x=new Array(f),g=0;g<f;g++)x[g]=arguments[g];return p.default._validateParameters("point",x),this._renderer._doStroke&&(x.length===1&&x[0]instanceof p.default.Vector?this._renderer.point.call(this._renderer,x[0].x,x[0].y,x[0].z):((o=this._renderer).point.apply(o,x),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",x))),this},p.default.prototype.quad=function(){for(var o,f=arguments.length,x=new Array(f),g=0;g<f;g++)x[g]=arguments[g];return p.default._validateParameters("quad",x),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&x.length<12?this._renderer.quad.call(this._renderer,x[0],x[1],0,x[2],x[3],0,x[4],x[5],0,x[6],x[7],0,x[8],x[9]):((o=this._renderer).quad.apply(o,x),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",x))),this},p.default.prototype.rect=function(){for(var o=arguments.length,f=new Array(o),x=0;x<o;x++)f[x]=arguments[x];return p.default._validateParameters("rect",f),this._renderRect.apply(this,f)},p.default.prototype.square=function(o,f,x,g,D,E,C){return p.default._validateParameters("square",arguments),this._renderRect.call(this,o,f,x,x,g,D,E,C)},p.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var o=S.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),f=[o.x,o.y,o.w,o.h],x=4;x<arguments.length;x++)f[x]=arguments[x];this._renderer.rect(f),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[o.x,o.y,o.w,o.h])}return this},p.default.prototype.triangle=function(){for(var o=arguments.length,f=new Array(o),x=0;x<o;x++)f[x]=arguments[x];return p.default._validateParameters("triangle",f),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(f),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",f),this},a=p.default,b.default=a},{"../constants":269,"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../helpers":276,"../main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],288:[function(a,r,b){function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(l)}function m(l){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(y){return h(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":h(y)})(l)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(_=a("../main"))&&_.__esModule?_:{default:_},A=function(l){if(l&&l.__esModule)return l;if(l===null||m(l)!=="object"&&typeof l!="function")return{default:l};var y=S();if(y&&y.has(l))return y.get(l);var o,f={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in l){var g;Object.prototype.hasOwnProperty.call(l,o)&&((g=x?Object.getOwnPropertyDescriptor(l,o):null)&&(g.get||g.set)?Object.defineProperty(f,o,g):f[o]=l[o])}return f.default=l,y&&y.set(l,f),f}(a("../constants"));function S(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,S=function(){return l},l)}p.default.prototype.ellipseMode=function(l){return p.default._validateParameters("ellipseMode",arguments),l!==A.CORNER&&l!==A.CORNERS&&l!==A.RADIUS&&l!==A.CENTER||(this._renderer._ellipseMode=l),this},p.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},p.default.prototype.rectMode=function(l){return p.default._validateParameters("rectMode",arguments),l!==A.CORNER&&l!==A.CORNERS&&l!==A.RADIUS&&l!==A.CENTER||(this._renderer._rectMode=l),this},p.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},p.default.prototype.strokeCap=function(l){return p.default._validateParameters("strokeCap",arguments),l!==A.ROUND&&l!==A.SQUARE&&l!==A.PROJECT||this._renderer.strokeCap(l),this},p.default.prototype.strokeJoin=function(l){return p.default._validateParameters("strokeJoin",arguments),l!==A.ROUND&&l!==A.BEVEL&&l!==A.MITER||this._renderer.strokeJoin(l),this},p.default.prototype.strokeWeight=function(l){return p.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(l),this};var _=p.default;b.default=_},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],289:[function(a,r,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(m=a("../main"))&&m.__esModule?m:{default:m};a("../friendly_errors/fes_core"),a("../friendly_errors/file_errors"),a("../friendly_errors/validate_params"),h.default.prototype.bezier=function(){for(var p,A=arguments.length,S=new Array(A),_=0;_<A;_++)S[_]=arguments[_];return h.default._validateParameters("bezier",S),(this._renderer._doStroke||this._renderer._doFill)&&(p=this._renderer).bezier.apply(p,S),this},h.default.prototype.bezierDetail=function(p){return h.default._validateParameters("bezierDetail",arguments),this._bezierDetail=p,this},h.default.prototype.bezierPoint=function(p,A,S,_,l){h.default._validateParameters("bezierPoint",arguments);var y=1-l;return Math.pow(y,3)*p+3*Math.pow(y,2)*l*A+3*y*Math.pow(l,2)*S+Math.pow(l,3)*_},h.default.prototype.bezierTangent=function(p,A,S,_,l){h.default._validateParameters("bezierTangent",arguments);var y=1-l;return 3*_*Math.pow(l,2)-3*S*Math.pow(l,2)+6*S*y*l-6*A*y*l+3*A*Math.pow(y,2)-3*p*Math.pow(y,2)},h.default.prototype.curve=function(){for(var p,A=arguments.length,S=new Array(A),_=0;_<A;_++)S[_]=arguments[_];return h.default._validateParameters("curve",S),this._renderer._doStroke&&(p=this._renderer).curve.apply(p,S),this},h.default.prototype.curveDetail=function(p){return h.default._validateParameters("curveDetail",arguments),this._curveDetail=p<3?3:p,this},h.default.prototype.curveTightness=function(p){return h.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=p,this},h.default.prototype.curvePoint=function(p,A,S,_,l){h.default._validateParameters("curvePoint",arguments);var y=this._renderer._curveTightness,o=l*l*l,f=l*l;return p*((y-1)/2*o+(1-y)*f+(y-1)/2*l)+A*((y+3)/2*o+(-5-y)/2*f+1)+S*((-3-y)/2*o+(y+2)*f+(1-y)/2*l)+_*((1-y)/2*o+(y-1)/2*f)},h.default.prototype.curveTangent=function(p,A,S,_,f){h.default._validateParameters("curveTangent",arguments);var y=this._renderer._curveTightness,o=f*f*3,f=2*f;return p*((y-1)/2*o+(1-y)*f+(y-1)/2)+A*((y+3)/2*o+(-5-y)/2*f)+S*((-3-y)/2*o+(y+2)*f+(1-y)/2)+_*((1-y)/2*o+(y-1)/2*f)};var m=h.default;b.default=m},{"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../main":280}],290:[function(a,r,b){function h(C){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(C)}function m(C){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(T){return h(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":h(T)})(C)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.slice"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(E=a("../main"))&&E.__esModule?E:{default:E},A=function(C){if(C&&C.__esModule)return C;if(C===null||m(C)!=="object"&&typeof C!="function")return{default:C};var T=S();if(T&&T.has(C))return T.get(C);var O,I={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in C){var F;Object.prototype.hasOwnProperty.call(C,O)&&((F=M?Object.getOwnPropertyDescriptor(C,O):null)&&(F.get||F.set)?Object.defineProperty(I,O,F):I[O]=C[O])}return I.default=C,T&&T.set(C,I),I}(a("../constants"));function S(){var C;return typeof WeakMap!="function"?null:(C=new WeakMap,S=function(){return C},C)}var _=null,l=[],y=[],o=!1,f=!1,x=!1,g=!1,D=!0,E=(p.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(y=[],g=!0),this},p.default.prototype.beginShape=function(C){var T;return p.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(T=this._renderer).beginShape.apply(T,arguments):(_=C===A.POINTS||C===A.LINES||C===A.TRIANGLES||C===A.TRIANGLE_FAN||C===A.TRIANGLE_STRIP||C===A.QUADS||C===A.QUAD_STRIP?C:null,l=[],y=[]),this},p.default.prototype.bezierVertex=function(){for(var C,T=arguments.length,O=new Array(T),I=0;I<T;I++)O[I]=arguments[I];if(p.default._validateParameters("bezierVertex",O),this._renderer.isP3D)(C=this._renderer).bezierVertex.apply(C,O);else if(l.length===0)p.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{o=!0;for(var M=[],F=0;F<O.length;F++)M[F]=O[F];M.isVert=!1,(g?y:l).push(M)}return this},p.default.prototype.curveVertex=function(){for(var C,T=arguments.length,O=new Array(T),I=0;I<T;I++)O[I]=arguments[I];return p.default._validateParameters("curveVertex",O),this._renderer.isP3D?(C=this._renderer).curveVertex.apply(C,O):(f=!0,this.vertex(O[0],O[1])),this},p.default.prototype.endContour=function(){if(!this._renderer.isP3D){var C=y[0].slice();C.isVert=y[0].isVert,C.moveTo=!1,y.push(C),D&&(l.push(l[0]),D=!1);for(var T=0;T<y.length;T++)l.push(y[T])}return this},p.default.prototype.endShape=function(C){var T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(p.default._validateParameters("endShape",arguments),T<1&&(console.log(" p5.js says: You can not have less than one instance"),T=1),this._renderer.isP3D)this._renderer.endShape(C,f,o,x,g,_,T);else{if(T!==1&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),l.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;T=C===A.CLOSE,T&&!g&&l.push(l[0]),this._renderer.endShape(C,l,f,o,x,g,_),D=!(g=x=o=f=!1),T&&l.pop()}return this},p.default.prototype.quadraticVertex=function(){for(var C,T=arguments.length,O=new Array(T),I=0;I<T;I++)O[I]=arguments[I];if(p.default._validateParameters("quadraticVertex",O),this._renderer.isP3D)(C=this._renderer).quadraticVertex.apply(C,O);else{if(this._contourInited)return(C={}).x=O[0],C.y=O[1],C.x3=O[2],C.y3=O[3],C.type=A.QUADRATIC,this._contourVertices.push(C),this;if(0<l.length){x=!0;for(var M=[],F=0;F<O.length;F++)M[F]=O[F];M.isVert=!1,(g?y:l).push(M)}else p.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},p.default.prototype.vertex=function(C,T,O,I,M){var F;return this._renderer.isP3D?(F=this._renderer).vertex.apply(F,arguments):((F=[]).isVert=!0,F[0]=C,F[1]=T,F[2]=0,F[3]=0,F[4]=0,F[5]=this._renderer._getFill(),F[6]=this._renderer._getStroke(),O&&(F.moveTo=O),(g?(y.length===0&&(F.moveTo=!0),y):l).push(F)),this},p.default.prototype.normal=function(C,T,O){var I;return this._assert3d("normal"),p.default._validateParameters("normal",arguments),(I=this._renderer).normal.apply(I,arguments),this},p.default);b.default=E},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],291:[function(a,r,b){},{}],292:[function(a,r,b){a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.assign"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,a=(a=a("./main"))&&a.__esModule?a:{default:a},a.default.prototype.noLoop=function(){this._loop=!1},a.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},a.default.prototype.isLooping=function(){return this._loop},a.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},a.default.prototype.pop=function(){var h=this._styles.pop();h?(this._renderer.pop(h.renderer),Object.assign(this,h.props)):console.warn("pop() was called without matching push()")},a.default.prototype.redraw=function(h){if(!this._inUserDraw&&this._setupDone){var m=parseInt(h),p=((isNaN(m)||m<1)&&(m=1),this._isGlobal?window:this);if(typeof p.draw=="function"){p.setup===void 0&&p.scale(p._pixelDensity,p._pixelDensity);for(var A=0;A<m;A++){p.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),p._renderer.isP3D&&p._renderer._update(),p._setProperty("frameCount",p.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{p.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},a=a.default,b.default=a},{"./main":280,"core-js/modules/es.object.assign":181}],293:[function(a,r,b){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(a=a("./main"))&&a.__esModule?a:{default:a};function m(p){return function(A){if(Array.isArray(A)){for(var S=0,_=new Array(A.length);S<A.length;S++)_[S]=A[S];return _}}(p)||function(A){if(Symbol.iterator in Object(A)||Object.prototype.toString.call(A)==="[object Arguments]")return Array.from(A)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}h.default.prototype.applyMatrix=function(){var p=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||p?(p=this._renderer).applyMatrix.apply(p,m(arguments.length<=0?void 0:arguments[0])):(p=this._renderer).applyMatrix.apply(p,arguments),this},h.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},h.default.prototype.rotate=function(p,A){return h.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(p),A),this},h.default.prototype.rotateX=function(p){return this._assert3d("rotateX"),h.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(p)),this},h.default.prototype.rotateY=function(p){return this._assert3d("rotateY"),h.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(p)),this},h.default.prototype.rotateZ=function(p){return this._assert3d("rotateZ"),h.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(p)),this},h.default.prototype.scale=function(p,A,S){var _;return h.default._validateParameters("scale",arguments),p instanceof h.default.Vector?(p=(_=p).x,A=_.y,S=_.z):Array.isArray(p)&&(p=(_=p)[0],A=_[1],S=_[2]||1),isNaN(A)?A=S=p:isNaN(S)&&(S=1),this._renderer.scale(p,A,S),this},h.default.prototype.shearX=function(p){return h.default._validateParameters("shearX",arguments),p=this._toRadians(p),this._renderer.applyMatrix(1,0,Math.tan(p),1,0,0),this},h.default.prototype.shearY=function(p){return h.default._validateParameters("shearY",arguments),p=this._toRadians(p),this._renderer.applyMatrix(1,Math.tan(p),0,1,0,0),this},h.default.prototype.translate=function(p,A,S){return h.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(p,A,S):this._renderer.translate(p,A),this},a=h.default,b.default=a},{"./main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243}],294:[function(a,r,b){function h(S){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(S)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.ends-with"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.ends-with"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator");var m=(a=a("../core/main"))&&a.__esModule?a:{default:a};function p(S){return function(_){if(Array.isArray(_)){for(var l=0,y=new Array(_.length);l<_.length;l++)y[l]=_[l];return y}}(S)||function(_){if(Symbol.iterator in Object(_)||Object.prototype.toString.call(_)==="[object Arguments]")return Array.from(_)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function A(S){return(A=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(_){return h(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":h(_)})(S)}m.default.prototype.storeItem=function(S,_){typeof S!="string"&&console.log("The argument that you passed to storeItem() - ".concat(S," is not a string.")),S.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(S," must not end with 'p5TypeID'.")),_===void 0&&console.log("You cannot store undefined variables using storeItem().");var l=A(_);switch(l){case"number":case"boolean":_=_.toString();break;case"object":_ instanceof m.default.Color?l="p5.Color":_ instanceof m.default.Vector&&(l="p5.Vector",_=[_.x,_.y,_.z]),_=JSON.stringify(_)}localStorage.setItem(S,_),S="".concat(S,"p5TypeID"),localStorage.setItem(S,l)},m.default.prototype.getItem=function(S){var _=localStorage.getItem(S),l=localStorage.getItem("".concat(S,"p5TypeID"));if(l===void 0)console.log("Unable to determine type of item stored under ".concat(S,"in local storage. Did you save the item with something other than setItem()?"));else if(_!==null)switch(l){case"number":_=parseFloat(_);break;case"boolean":_=_==="true";break;case"object":_=JSON.parse(_);break;case"p5.Color":_=JSON.parse(_),_=this.color.apply(this,p(_.levels));break;case"p5.Vector":_=JSON.parse(_),_=this.createVector.apply(this,p(_))}return _},m.default.prototype.clearStorage=function(){localStorage.clear()},m.default.prototype.removeItem=function(S){typeof S!="string"&&console.log("The argument that you passed to removeItem() - ".concat(S," is not a string.")),localStorage.removeItem(S),localStorage.removeItem("".concat(S,"p5TypeID"))}},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],295:[function(a,r,b){function h(x){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(x)}function m(x){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(g){return h(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":h(g)})(x)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.reflect.construct"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.object.keys"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(a=a("../core/main"))&&a.__esModule?a:{default:a};function A(x,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(g&&g.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),g&&S(x,g)}function S(x,g){return(S=Object.setPrototypeOf||function(D,E){return D.__proto__=E,D})(x,g)}function _(x){return function(){var g,D=l(x),D=(g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=l(this).constructor,Reflect.construct(D,arguments,g)):D.apply(this,arguments),this);if(!g||m(g)!=="object"&&typeof g!="function"){if(D!==void 0)return D;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return g}}function l(x){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(x)}function y(x,g){if(!(x instanceof g))throw new TypeError("Cannot call a class as a function")}function o(x,g){for(var D=0;D<g.length;D++){var E=g[D];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}function f(x,g,D){g&&o(x.prototype,g),D&&o(x,D)}p.default.prototype.createStringDict=function(x,g){return p.default._validateParameters("createStringDict",arguments),new p.default.StringDict(x,g)},p.default.prototype.createNumberDict=function(x,g){return p.default._validateParameters("createNumberDict",arguments),new p.default.NumberDict(x,g)},p.default.TypedDict=function(){function x(g,D){return y(this,x),g instanceof Object?this.data=g:(this.data={},this.data[g]=D),this}return f(x,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(g){return this.data.hasOwnProperty(g)}},{key:"get",value:function(g){if(this.data.hasOwnProperty(g))return this.data[g];console.log("".concat(g," does not exist in this Dictionary"))}},{key:"set",value:function(g,D){this._validate(D)?this.data[g]=D:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(g){for(var D in g)this.set(D,g[D])}},{key:"create",value:function(g,D){g instanceof Object&&D===void 0?this._addObj(g):g!==void 0?this.set(g,D):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(g){if(!this.data.hasOwnProperty(g))throw new Error("".concat(g," does not exist in this Dictionary"));delete this.data[g]}},{key:"print",value:function(){for(var g in this.data)console.log("key:".concat(g," value:").concat(this.data[g]))}},{key:"saveTable",value:function(g){var D,E="";for(D in this.data)E+="".concat(D,",").concat(this.data[D],`
`);var C=new Blob([E],{type:"text/csv"});p.default.prototype.downloadFile(C,g||"mycsv","csv")}},{key:"saveJSON",value:function(g,D){p.default.prototype.saveJSON(this.data,g,D)}},{key:"_validate",value:function(g){return!0}}]),x}(),p.default.StringDict=function(){A(g,p.default.TypedDict);var x=_(g);function g(){y(this,g);for(var D=arguments.length,E=new Array(D),C=0;C<D;C++)E[C]=arguments[C];return x.call.apply(x,[this].concat(E))}return f(g,[{key:"_validate",value:function(D){return typeof D=="string"}}]),g}(),p.default.NumberDict=function(){A(g,p.default.TypedDict);var x=_(g);function g(){y(this,g);for(var D=arguments.length,E=new Array(D),C=0;C<D;C++)E[C]=arguments[C];return x.call.apply(x,[this].concat(E))}return f(g,[{key:"_validate",value:function(D){return typeof D=="number"}},{key:"add",value:function(D,E){this.data.hasOwnProperty(D)?this.data[D]+=E:console.log("The key - ".concat(D," does not exist in this dictionary."))}},{key:"sub",value:function(D,E){this.add(D,-E)}},{key:"mult",value:function(D,E){this.data.hasOwnProperty(D)?this.data[D]*=E:console.log("The key - ".concat(D," does not exist in this dictionary."))}},{key:"div",value:function(D,E){this.data.hasOwnProperty(D)?this.data[D]/=E:console.log("The key - ".concat(D," does not exist in this dictionary."))}},{key:"_valueTest",value:function(D){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var E,C=this.data[Object.keys(this.data)[0]];for(E in this.data)this.data[E]*D<C*D&&(C=this.data[E]);return C}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(D){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var E=Object.keys(this.data)[0],C=1;C<Object.keys(this.data).length;C++)Object.keys(this.data)[C]*D<E*D&&(E=Object.keys(this.data)[C]);return E}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),g}(),a=p.default.TypedDict,b.default=a},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],296:[function(a,r,b){function h(E){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(E)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.every"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.reflect.construct"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/web.url"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.every"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/web.url"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var m=(a=a("../core/main"))&&a.__esModule?a:{default:a};function p(E,C){for(var T=0;T<C.length;T++){var O=C[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}function A(E,C,T){C&&p(E.prototype,C),T&&p(E,T)}function S(E,C){return(S=Object.setPrototypeOf||function(T,O){return T.__proto__=O,T})(E,C)}function _(E){return function(){var C,T,O=y(E);return C=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(C=y(this).constructor,Reflect.construct(O,arguments,C)):O.apply(this,arguments),O=this,!(T=C)||f(T)!=="object"&&typeof T!="function"?l(O):T}}function l(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function y(E){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(E)}function o(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function f(E){return(f=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(C){return h(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":h(C)})(E)}function x(E,C,T){return(C._userNode||document.body).appendChild(E),T=new(T?m.default.MediaElement:m.default.Element)(E,C),C._elements.push(T),T}function g(E,F,T,O){var I=document.createElement(F),M=(typeof(T=T||"")=="string"&&(T=[T]),!0),F=!1,B=void 0;try{for(var j,L=T[Symbol.iterator]();!(M=(j=L.next()).done);M=!0){var R=j.value,V=document.createElement("source");V.setAttribute("src",R),I.appendChild(V)}}catch(U){F=!0,B=U}finally{try{M||L.return==null||L.return()}finally{if(F)throw B}}typeof O=="function"&&I.addEventListener("canplaythrough",function U(){O(),I.removeEventListener("canplaythrough",U)});var k=x(I,E,!0);return k.loadedmetadata=!1,I.addEventListener("loadedmetadata",function(){k.width=I.videoWidth,k.height=I.videoHeight,k.elt.width===0&&(k.elt.width=I.videoWidth),k.elt.height===0&&(k.elt.height=I.videoHeight),k.presetPlaybackRate&&(k.elt.playbackRate=k.presetPlaybackRate,delete k.presetPlaybackRate),k.loadedmetadata=!0}),k}m.default.prototype.select=function(E,C){return m.default._validateParameters("select",arguments),C=this._getContainer(C).querySelector(E),C?this._wrapElement(C):null},m.default.prototype.selectAll=function(E,C){m.default._validateParameters("selectAll",arguments);var T=[],O=this._getContainer(C).querySelectorAll(E);if(O)for(var I=0;I<O.length;I++){var M=this._wrapElement(O[I]);T.push(M)}return T},m.default.prototype._getContainer=function(E){var C=document;return typeof E=="string"?C=document.querySelector(E)||document:E instanceof m.default.Element?C=E.elt:E instanceof HTMLElement&&(C=E),C},m.default.prototype._wrapElement=function(E){var C,T=Array.prototype.slice.call(E.children);return E.tagName==="INPUT"&&E.type==="checkbox"?((C=new m.default.Element(E,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},C):E.tagName==="VIDEO"||E.tagName==="AUDIO"?new m.default.MediaElement(E,this):E.tagName==="SELECT"?this.createSelect(new m.default.Element(E,this)):0<T.length&&T.every(function(O){return O.tagName==="INPUT"||O.tagName==="LABEL"})?this.createRadio(new m.default.Element(E,this)):new m.default.Element(E,this)},m.default.prototype.removeElements=function(E){m.default._validateParameters("removeElements",arguments),this._elements.filter(function(C){return!(C.elt instanceof HTMLCanvasElement)}).map(function(C){return C.remove()})},m.default.Element.prototype.changed=function(E){return m.default.Element._adjustListener("change",E,this),this},m.default.Element.prototype.input=function(E){return m.default.Element._adjustListener("input",E,this),this},m.default.prototype.createDiv=function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",C=document.createElement("div");return C.innerHTML=E,x(C,this)},m.default.prototype.createP=function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",C=document.createElement("p");return C.innerHTML=E,x(C,this)},m.default.prototype.createSpan=function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",C=document.createElement("span");return C.innerHTML=E,x(C,this)},m.default.prototype.createImg=function(){m.default._validateParameters("createImg",arguments);var E,C=document.createElement("img"),T=arguments;return 1<T.length&&typeof T[1]=="string"&&(C.alt=T[1]),2<T.length&&typeof T[2]=="string"&&(C.crossOrigin=T[2]),C.src=T[0],E=x(C,this),C.addEventListener("load",function(){E.width=C.offsetWidth||C.width,E.height=C.offsetHeight||C.height;var O=T[T.length-1];typeof O=="function"&&O(E)}),E},m.default.prototype.createA=function(E,C,T){m.default._validateParameters("createA",arguments);var O=document.createElement("a");return O.href=E,O.innerHTML=C,T&&(O.target=T),x(O,this)},m.default.prototype.createSlider=function(E,C,T,O){m.default._validateParameters("createSlider",arguments);var I=document.createElement("input");return I.type="range",I.min=E,I.max=C,O===0?I.step=1e-18:O&&(I.step=O),typeof T=="number"&&(I.value=T),x(I,this)},m.default.prototype.createButton=function(E,C){m.default._validateParameters("createButton",arguments);var T=document.createElement("button");return T.innerHTML=E,C&&(T.value=C),x(T,this)},m.default.prototype.createCheckbox=function(){for(var E=arguments.length,C=new Array(E),T=0;T<E;T++)C[T]=arguments[T];m.default._validateParameters("createCheckbox",C);var O=document.createElement("div"),I=document.createElement("input"),M=(I.type="checkbox",document.createElement("label")),F=(M.appendChild(I),O.appendChild(M),x(O,this));return F.checked=function(){var B=F.elt.firstElementChild.getElementsByTagName("input")[0];if(B){if(arguments.length===0)return B.checked;B.checked=!(arguments.length<=0||!arguments[0])}return F},this.value=function(B){return F.value=B,this},C[0]&&(F.value(C[0]),(O=document.createElement("span")).innerHTML=C[0],M.appendChild(O)),C[1]&&(I.checked=!0),F},m.default.prototype.createSelect=function(){for(var E,C=arguments.length,T=new Array(C),O=0;O<C;O++)T[O]=arguments[O];m.default._validateParameters("createSelect",T);var I,M=T[0];return M instanceof m.default.Element&&M.elt instanceof HTMLSelectElement?this.elt=(E=M).elt:M instanceof HTMLSelectElement?(E=x(M,this),this.elt=M):(I=document.createElement("select"),M&&typeof M=="boolean"&&I.setAttribute("multiple","true"),E=x(I,this),this.elt=I),E.option=function(F,B){var j;if(F!==void 0){for(var L,R=0;R<this.elt.length;R+=1)if(this.elt[R].textContent===F){j=R;break}j!==void 0?B===!1?this.elt.remove(j):this.elt[j].value=B:((L=document.createElement("option")).textContent=F,L.value=B===void 0?F:B,this.elt.appendChild(L),this._pInst._elements.push(L))}},E.selected=function(F){if(F!==void 0){for(var B=0;B<this.elt.length;B+=1)this.elt[B].value.toString()===F.toString()&&(this.elt.selectedIndex=B);return this}if(this.elt.getAttribute("multiple")){var j=[],L=!0,R=!1,V=void 0;try{for(var k,U=this.elt.selectedOptions[Symbol.iterator]();!(L=(k=U.next()).done);L=!0){var G=k.value;j.push(G.value)}}catch(H){R=!0,V=H}finally{try{L||U.return==null||U.return()}finally{if(R)throw V}}return j}return this.elt.value},E.disable=function(F){if(typeof F=="string")for(var B=0;B<this.elt.length;B++)this.elt[B].value.toString()===F&&(this.elt[B].disabled=!0,this.elt[B].selected=!1);else this.elt.disabled=!0;return this},E.enable=function(F){if(typeof F=="string")for(var B=0;B<this.elt.length;B++)this.elt[B].value.toString()===F&&(this.elt[B].disabled=!1,this.elt[B].selected=!1);else{this.elt.disabled=!1;for(var j=0;j<this.elt.length;j++)this.elt[j].disabled=!1,this.elt[j].selected=!1}return this},E},m.default.prototype.createRadio=function(){function E(F){return F instanceof HTMLInputElement&&F.type==="radio"}function C(F){return F instanceof HTMLLabelElement}var T,O,I,M=arguments.length<=0?void 0:arguments[0];return M instanceof m.default.Element&&(M.elt instanceof HTMLDivElement||M.elt instanceof HTMLSpanElement)?(T=M,this.elt=M.elt):M instanceof HTMLDivElement||M instanceof HTMLSpanElement?(T=x(M,this),O=this.elt=M,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(I=arguments.length<=1?void 0:arguments[1])):(typeof M=="string"&&(I=M),O=document.createElement("div"),T=x(O,this),this.elt=O),T._name=I||"radioOption",T._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(F){return E(F)||C(F)&&E(F.firstElementChild)}).map(function(F){return E(F)?F:F.firstElementChild})},T.option=function(F,B){var j,L,R,V=!0,k=!1,U=void 0;try{for(var G,H=T._getOptionsArray()[Symbol.iterator]();!(V=(G=H.next()).done);V=!0){var X=G.value;if(X.value===F){j=X;break}}}catch(Z){k=!0,U=Z}finally{try{V||H.return==null||H.return()}finally{if(k)throw U}}return j===void 0&&((j=document.createElement("input")).setAttribute("type","radio"),j.setAttribute("value",F)),j.setAttribute("name",T._name),C(j.parentElement)?L=j.parentElement:(L=document.createElement("label")).insertAdjacentElement("afterbegin",j),L.lastElementChild instanceof HTMLSpanElement?R=L.lastElementChild:(R=document.createElement("span"),j.insertAdjacentElement("afterend",R)),R.innerHTML=B===void 0?F:B,this.elt.appendChild(L),j},T.remove=function(F){var B=!0,j=!1,L=void 0;try{for(var R,V=T._getOptionsArray()[Symbol.iterator]();!(B=(R=V.next()).done);B=!0){var k=R.value;if(k.value===F)return void(C(k.parentElement)?k.parentElement:k).remove()}}catch(U){j=!0,L=U}finally{try{B||V.return==null||V.return()}finally{if(j)throw L}}},T.value=function(){var F="",B=!0,j=!1,L=void 0;try{for(var R,V=T._getOptionsArray()[Symbol.iterator]();!(B=(R=V.next()).done);B=!0){var k=R.value;if(k.checked){F=k.value;break}}}catch(U){j=!0,L=U}finally{try{B||V.return==null||V.return()}finally{if(j)throw L}}return F},T.selected=function(F){var B=null;if(F===void 0){var j=!0,L=!1,R=void 0;try{for(var V,k=T._getOptionsArray()[Symbol.iterator]();!(j=(V=k.next()).done);j=!0){var U=V.value;if(U.checked){B=U;break}}}catch(J){L=!0,R=J}finally{try{j||k.return==null||k.return()}finally{if(L)throw R}}}else{T._getOptionsArray().forEach(function($){$.checked=!1,$.removeAttribute("checked")});var G=!0,L=!1,R=void 0;try{for(var H,X=T._getOptionsArray()[Symbol.iterator]();!(G=(H=X.next()).done);G=!0){var Z=H.value;Z.value===F&&(Z.setAttribute("checked",!0),Z.checked=!0,B=Z)}}catch($){L=!0,R=$}finally{try{G||X.return==null||X.return()}finally{if(L)throw R}}}return B},T.disable=function(){var F=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],B=!0,j=!1,L=void 0;try{for(var R,V=T._getOptionsArray()[Symbol.iterator]();!(B=(R=V.next()).done);B=!0)R.value.setAttribute("disabled",F)}catch(k){j=!0,L=k}finally{try{B||V.return==null||V.return()}finally{if(j)throw L}}},T},m.default.prototype.createColorPicker=function(E){m.default._validateParameters("createColorPicker",arguments);var C=document.createElement("input");return C.type="color",E?E instanceof m.default.Color?C.value=E.toString("#rrggbb"):(m.default.prototype._colorMode="rgb",m.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},C.value=m.default.prototype.color(E).toString("#rrggbb")):C.value="#000000",(C=x(C,this)).color=function(){return E&&(E.mode&&(m.default.prototype._colorMode=E.mode),E.maxes&&(m.default.prototype._colorMaxes=E.maxes)),m.default.prototype.color(this.elt.value)},C},m.default.prototype.createInput=function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",C=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",T=(m.default._validateParameters("createInput",arguments),document.createElement("input"));return T.setAttribute("value",E),T.setAttribute("type",C),x(T,this)},m.default.prototype.createFileInput=function(E){var C,T=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(m.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(C=document.createElement("input")).setAttribute("type","file"),T&&C.setAttribute("multiple",!0),C.addEventListener("change",function(O){var I=!0,M=!1,F=void 0;try{for(var B,j=O.target.files[Symbol.iterator]();!(I=(B=j.next()).done);I=!0){var L=B.value;m.default.File._load(L,E)}}catch(R){M=!0,F=R}finally{try{I||j.return==null||j.return()}finally{if(M)throw F}}},!1),x(C,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},m.default.prototype.createVideo=function(E,C){return m.default._validateParameters("createVideo",arguments),g(this,"video",E,C)},m.default.prototype.createAudio=function(E,C){return m.default._validateParameters("createAudio",arguments),g(this,"audio",E,C)},m.default.prototype.VIDEO="video",m.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(E){var C=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return C?new Promise(function(T,O){C.call(navigator,E,T,O)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),m.default.prototype.createCapture=function(){for(var E=arguments.length,C=new Array(E),T=0;T<E;T++)C[T]=arguments[T];if(m.default._validateParameters("createCapture",C),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var O,I=!0,M=!0,F=!1,B=0,j=C;B<j.length;B++){var L=j[B];L===m.default.prototype.VIDEO?M=!1:L===m.default.prototype.AUDIO?I=!1:f(L)==="object"?(L.flipped!==void 0&&(F=L.flipped,delete L.flipped),R=Object.assign({},R,L)):typeof L=="function"&&(O=L)}var R=Object.assign({},{video:I,audio:M},R),V=document.createElement("video"),k=(V.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(R).then(function(U){try{"srcObject"in V?V.srcObject=U:V.src=window.URL.createObjectURL(U)}catch{V.src=U}},console.error),x(V,this,!0));return k.loadedmetadata=!1,V.addEventListener("loadedmetadata",function(){V.play(),V.width?(k.width=V.width,k.height=V.height,F&&(k.elt.style.transform="scaleX(-1)")):(k.width=k.elt.width=V.videoWidth,k.height=k.elt.height=V.videoHeight),k.loadedmetadata=!0,O&&O(V.srcObject)}),k.flipped=F,k},m.default.prototype.createElement=function(E,C){return m.default._validateParameters("createElement",arguments),E=document.createElement(E),C!==void 0&&(E.innerHTML=C),x(E,this)},m.default.Element.prototype.addClass=function(E){return this.elt.className?this.hasClass(E)||(this.elt.className=this.elt.className+" "+E):this.elt.className=E,this},m.default.Element.prototype.removeClass=function(E){return this.elt.classList.remove(E),this},m.default.Element.prototype.hasClass=function(E){return this.elt.classList.contains(E)},m.default.Element.prototype.toggleClass=function(E){return this.elt.classList.contains(E)?this.elt.classList.remove(E):this.elt.classList.add(E),this},m.default.Element.prototype.child=function(E){return E===void 0?this.elt.childNodes:(typeof E=="string"?(E[0]==="#"&&(E=E.substring(1)),E=document.getElementById(E)):E instanceof m.default.Element&&(E=E.elt),E instanceof HTMLElement&&this.elt.appendChild(E),this)},m.default.Element.prototype.center=function(E){var C=this.elt.style.display,T=this.elt.style.display==="none",O=this.parent().style.display==="none",I={x:this.elt.offsetLeft,y:this.elt.offsetTop},M=(T&&this.show(),O&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),F=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return E==="both"||E===void 0?this.position(M/2+this.parent().offsetLeft,F/2+this.parent().offsetTop):E==="horizontal"?this.position(M/2+this.parent().offsetLeft,I.y):E==="vertical"&&this.position(I.x,F/2+this.parent().offsetTop),this.style("display",C),T&&this.hide(),O&&this.parent().hide(),this},m.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},m.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},m.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var E="";return this.elt.style.transform&&(E=(E=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=E,this},m.default.Element.prototype._rotate=function(){var E="";return this.elt.style.transform&&(E=(E=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=E,this},m.default.Element.prototype.style=function(E,C){if((C=C instanceof m.default.Color?"rgba("+C.levels[0]+","+C.levels[1]+","+C.levels[2]+","+C.levels[3]/255+")":C)===void 0){if(E.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(E);for(var T=E.split(";"),O=0;O<T.length;O++){var I=T[O].split(":");I[0]&&I[1]&&(this.elt.style[I[0].trim()]=I[1].trim())}}else this.elt.style[E]=C,E!=="width"&&E!=="height"&&E!=="left"&&E!=="top"||(C=window.getComputedStyle(this.elt).getPropertyValue(E).replace(/[^\d.]/g,""),this[E]=Math.round(parseFloat(C,10)));return this},m.default.Element.prototype.attribute=function(E,C){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return C===void 0?this.elt.getAttribute(E):(this.elt.setAttribute(E,C),this);if(C===void 0)return this.elt.firstChild.getAttribute(E);for(var T=0;T<this.elt.childNodes.length;T++)this.elt.childNodes[T].setAttribute(E,C)},m.default.Element.prototype.removeAttribute=function(E){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var C=0;C<this.elt.childNodes.length;C++)this.elt.childNodes[C].removeAttribute(E);return this.elt.removeAttribute(E),this},m.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},m.default.Element.prototype.show=function(){return this.elt.style.display="block",this},m.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},m.default.Element.prototype.size=function(E,C){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var T=E,O=C,I=m.default.prototype.AUTO;if(T!==I||O!==I){if(T===I?T=C*this.width/this.height:O===I&&(O=E*this.height/this.width),this.elt instanceof HTMLCanvasElement){var M,F={},B=this.elt.getContext("2d");for(M in B)F[M]=B[M];for(M in this.elt.setAttribute("width",T*this._pInst._pixelDensity),this.elt.setAttribute("height",O*this._pInst._pixelDensity),this.elt.style.width=T+"px",this.elt.style.height=O+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),F)this.elt.getContext("2d")[M]=F[M]}else this.elt.style.width=T+"px",this.elt.style.height=O+"px",this.elt.width=T,this.elt.height=O;this.width=T,this.height=O,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",T),this._pInst._setProperty("height",O))}return this},m.default.Element.prototype.remove=function(){this instanceof m.default.MediaElement&&(this.stop(),(C=this.elt.srcObject)!==null&&C.getTracks().forEach(function(T){T.stop()}));var E,C=this._pInst._elements.indexOf(this);for(E in C!==-1&&this._pInst._elements.splice(C,1),this._events)this.elt.removeEventListener(E,this._events[E]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},m.default.Element.prototype.drop=function(E,C){var T;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",T=function(O){O.preventDefault()}),this.elt.addEventListener("dragleave",T)),m.default.Element._attachListener("drop",function(I){I.preventDefault(),typeof C=="function"&&C.call(this,I);var I=I.dataTransfer.files,M=!0,F=!1,B=void 0;try{for(var j,L=I[Symbol.iterator]();!(M=(j=L.next()).done);M=!0){var R=j.value;m.default.File._load(R,E)}}catch(V){F=!0,B=V}finally{try{M||L.return==null||L.return()}finally{if(F)throw B}}},this)):console.log("The File APIs are not fully supported in this browser."),this},m.default.Element.prototype.draggable=function(E){var C,T="ontouchstart"in window,O=0,I=0,M=0,F=0,B=T?"touchend":"mouseup",j=T?"touchmove":"mousemove";function L(V){var k;V=V||window.event,F=T?(k=V.changedTouches,O=M-parseInt(k[0].clientX),I=F-parseInt(k[0].clientY),M=parseInt(k[0].clientX),parseInt(k[0].clientY)):(O=M-parseInt(V.clientX),I=F-parseInt(V.clientY),M=parseInt(V.clientX),parseInt(V.clientY)),E.style.left=E.offsetLeft-O+"px",E.style.top=E.offsetTop-I+"px"}function R(){document.removeEventListener(B,R,!1),document.removeEventListener(j,L,!1)}return E===void 0?C=E=this.elt:E!==this.elt&&E.elt!==this.elt&&(E=E.elt,C=this.elt),C.addEventListener(T?"touchstart":"mousedown",function(V){{var k;V=V||window.event,F=T?(k=V.changedTouches,M=parseInt(k[0].clientX),parseInt(k[0].clientY)):(M=parseInt(V.clientX),parseInt(V.clientY))}return document.addEventListener(B,R,!1),document.addEventListener(j,L,!1),!1},!1),C.style.cursor="move",this};function D(E,C,T,O){o(this,D),this.callback=E,this.time=C,this.id=T,this.val=O}a=function(E){var C=O;if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),E&&S(C,E);var T=_(O);function O(I,M){o(this,O);var F=l(M=T.call(this,I,M));return M.elt.crossOrigin="anonymous",M._prevTime=0,M._cueIDCounter=0,M._cues=[],M.pixels=[],M._pixelsState=l(M),M._pixelDensity=1,M._modified=!1,M._frameOnCanvas=-1,Object.defineProperty(F,"src",{get:function(){var B=F.elt.children[0].src,j=F.elt.src===window.location.href?"":F.elt.src;return B===window.location.href?j:B},set:function(B){for(var j=0;j<F.elt.children.length;j++)F.elt.removeChild(F.elt.children[j]);var L=document.createElement("source");L.src=B,I.appendChild(L),F.elt.src=B,F.modified=!0}}),F._onended=function(){},F.elt.onended=function(){F._onended(F)},M}return A(O,[{key:"play",value:function(){var I;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(I=this.elt.play())&&I.catch&&I.catch(function(M){M.name==="NotAllowedError"?console.error(M):console.error("Media play method encountered an unexpected error",M)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var I=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(I)},{passive:!0,once:!0})}},{key:"autoplay",value:function(I){var M=this,F=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",I),I&&!F&&(I=function(){return M._setupAutoplayFailDetection()},this.elt.readyState===4?I():this.elt.addEventListener("canplay",I,{passive:!0,once:!0})),this}},{key:"volume",value:function(I){if(I===void 0)return this.elt.volume;this.elt.volume=I}},{key:"speed",value:function(I){if(I===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=I:this.presetPlaybackRate=I}},{key:"time",value:function(I){return I===void 0?this.elt.currentTime:(this.elt.currentTime=I,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var I=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&I&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var I=arguments.length,M=new Array(I),F=0;F<I;F++)M[F]=arguments[F];return m.default.Renderer2D.prototype.loadPixels.apply(this,M)}},{key:"updatePixels",value:function(I,M,F,B){return this.loadedmetadata&&(this._ensureCanvas(),m.default.Renderer2D.prototype.updatePixels.call(this,I,M,F,B)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var I=arguments.length,M=new Array(I),F=0;F<I;F++)M[F]=arguments[F];return m.default.Renderer2D.prototype.get.apply(this,M)}},{key:"_getPixel",value:function(){this.loadPixels();for(var I=arguments.length,M=new Array(I),F=0;F<I;F++)M[F]=arguments[F];return m.default.Renderer2D.prototype._getPixel.apply(this,M)}},{key:"set",value:function(I,M,F){this.loadedmetadata&&(this._ensureCanvas(),m.default.Renderer2D.prototype.set.call(this,I,M,F),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var I=arguments.length,M=new Array(I),F=0;F<I;F++)M[F]=arguments[F];m.default.prototype.copy.apply(this,M)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var I=arguments.length,M=new Array(I),F=0;F<I;F++)M[F]=arguments[F];m.default.Image.prototype.mask.apply(this,M)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(I){this._modified=I}},{key:"onended",value:function(I){return this._onended=I,this}},{key:"connect",value:function(I){var M,F;if(typeof m.default.prototype.getAudioContext=="function")M=m.default.prototype.getAudioContext(),F=m.default.soundOut.input;else try{F=(M=I.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=M.createMediaElementSource(this.elt),this.audioSourceNode.connect(F)),I?I.input?this.audioSourceNode.connect(I.input):this.audioSourceNode.connect(I):this.audioSourceNode.connect(F)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(I,j,F){var B=this._cueIDCounter++,j=new D(j,I,B,F);return this._cues.push(j),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),B}},{key:"removeCue",value:function(I){for(var M=0;M<this._cues.length;M++)this._cues[M].id===I&&(console.log(I),this._cues.splice(M,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var I=this.time(),M=0;M<this._cues.length;M++){var F=this._cues[M].time,B=this._cues[M].val;this._prevTime<F&&F<=I&&this._cues[M].callback(B)}this._prevTime=I}}]),O}(m.default.Element),m.default.MediaElement=a,a=function(){function E(C,T){o(this,E),this.file=C,this._pInst=T,T=C.type.split("/"),this.type=T[0],this.subtype=T[1],this.name=C.name,this.size=C.size,this.data=void 0}return A(E,null,[{key:"_createLoader",value:function(C,T){var O=new FileReader;return O.onload=function(I){var M,F=new m.default.File(C);F.file.type==="application/json"?F.data=JSON.parse(I.target.result):F.file.type==="text/xml"?(M=new DOMParser().parseFromString(I.target.result,"text/xml"),F.data=new m.default.XML(M.documentElement)):F.data=I.target.result,T(F)},O}},{key:"_load",value:function(C,T){var O;/^text\//.test(C.type)||C.type==="application/json"?m.default.File._createLoader(C,T).readAsText(C):/^(video|audio)\//.test(C.type)?((O=new m.default.File(C)).data=URL.createObjectURL(C),T(O)):m.default.File._createLoader(C,T).readAsDataURL(C)}}]),E}(),m.default.File=a,a=m.default,b.default=a},{"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245}],297:[function(f,r,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(f=f("../core/main"))&&f.__esModule?f:{default:f};h.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",h.default.prototype.accelerationX=0,h.default.prototype.accelerationY=0,h.default.prototype.accelerationZ=0,h.default.prototype.pAccelerationX=0,h.default.prototype.pAccelerationY=0,h.default.prototype.pAccelerationZ=0,h.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},h.default.prototype.rotationX=0,h.default.prototype.rotationY=0,h.default.prototype.rotationZ=0,h.default.prototype.pRotationX=0,h.default.prototype.pRotationY=0;var m=h.default.prototype.pRotationZ=0,p=0,A=0,S="clockwise",_="clockwise",l="clockwise",y=(h.default.prototype.pRotateDirectionX=void 0,h.default.prototype.pRotateDirectionY=void 0,h.default.prototype.pRotateDirectionZ=void 0,h.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},h.default.prototype.turnAxis=void 0,.5),o=30,f=(h.default.prototype.setMoveThreshold=function(x){h.default._validateParameters("setMoveThreshold",arguments),y=x},h.default.prototype.setShakeThreshold=function(x){h.default._validateParameters("setShakeThreshold",arguments),o=x},h.default.prototype._ondeviceorientation=function(x){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(x.beta)),this._setProperty("rotationY",this._fromDegrees(x.gamma)),this._setProperty("rotationZ",this._fromDegrees(x.alpha)),this._handleMotion()},h.default.prototype._ondevicemotion=function(x){this._updatePAccelerations(),this._setProperty("accelerationX",2*x.acceleration.x),this._setProperty("accelerationY",2*x.acceleration.y),this._setProperty("accelerationZ",2*x.acceleration.z),this._handleMotion()},h.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var x,g,D,E,C,T=this._isGlobal?window:this;typeof T.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>y||Math.abs(this.accelerationY-this.pAccelerationY)>y||Math.abs(this.accelerationZ-this.pAccelerationZ)>y)&&T.deviceMoved(),typeof T.deviceTurned=="function"&&(g=this._toDegrees(this.rotationX)+180,D=this._toDegrees(this.pRotationX)+180,x=m+180,0<g-D&&g-D<270||g-D<-270?S="clockwise":(g-D<0||270<g-D)&&(S="counter-clockwise"),S!==this.pRotateDirectionX&&(x=g),90<Math.abs(g-x)&&Math.abs(g-x)<270&&(x=g,this._setProperty("turnAxis","X"),T.deviceTurned()),this.pRotateDirectionX=S,m=x-180,D=this._toDegrees(this.rotationY)+180,g=this._toDegrees(this.pRotationY)+180,x=p+180,0<D-g&&D-g<270||D-g<-270?_="clockwise":(D-g<0||270<D-this.pRotationY)&&(_="counter-clockwise"),_!==this.pRotateDirectionY&&(x=D),90<Math.abs(D-x)&&Math.abs(D-x)<270&&(x=D,this._setProperty("turnAxis","Y"),T.deviceTurned()),this.pRotateDirectionY=_,p=x-180,0<(g=this._toDegrees(this.rotationZ))-(D=this._toDegrees(this.pRotationZ))&&g-D<270||g-D<-270?l="clockwise":(g-D<0||270<g-D)&&(l="counter-clockwise"),l!==this.pRotateDirectionZ&&(A=g),90<Math.abs(g-A)&&Math.abs(g-A)<270&&(A=g,this._setProperty("turnAxis","Z"),T.deviceTurned()),this.pRotateDirectionZ=l,this._setProperty("turnAxis",void 0)),typeof T.deviceShaken=="function"&&(this.pAccelerationX!==null&&(E=Math.abs(this.accelerationX-this.pAccelerationX),C=Math.abs(this.accelerationY-this.pAccelerationY)),o<E+C&&T.deviceShaken())},h.default);b.default=f},{"../core/main":280}],298:[function(a,r,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(a=a("../core/main"))&&a.__esModule?a:{default:a};h.default.prototype.isKeyPressed=!1,h.default.prototype.keyIsPressed=!1,h.default.prototype.key="",h.default.prototype.keyCode=0,h.default.prototype._onkeydown=function(m){var p;this._downKeys[m.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",m.which),this._downKeys[m.which]=!0,this._setProperty("key",m.key||String.fromCharCode(m.which)||m.which),typeof(p=this._isGlobal?window:this).keyPressed!="function"||m.charCode||p.keyPressed(m)===!1&&m.preventDefault())},h.default.prototype._onkeyup=function(m){this._downKeys[m.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",m.key||String.fromCharCode(m.which)||m.which),this._setProperty("keyCode",m.which);var p=this._isGlobal?window:this;typeof p.keyReleased=="function"&&p.keyReleased(m)===!1&&m.preventDefault()},h.default.prototype._onkeypress=function(m){var p;m.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",m.which),this._setProperty("key",m.key||String.fromCharCode(m.which)||m.which),typeof(p=this._isGlobal?window:this).keyTyped=="function"&&p.keyTyped(m)===!1&&m.preventDefault())},h.default.prototype._onblur=function(m){this._downKeys={}},h.default.prototype.keyIsDown=function(m){return h.default._validateParameters("keyIsDown",arguments),this._downKeys[m]||!1},h.default.prototype._areDownKeys=function(){for(var m in this._downKeys)if(this._downKeys.hasOwnProperty(m)&&this._downKeys[m]===!0)return!0;return!1},a=h.default,b.default=a},{"../core/main":280}],299:[function(a,r,b){function h(_){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(_)}function m(_){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(l){return h(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":h(l)})(_)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(p=a("../core/main"))&&p.__esModule?p:{default:p},A=function(_){if(_&&_.__esModule)return _;if(_===null||m(_)!=="object"&&typeof _!="function")return{default:_};var l=S();if(l&&l.has(_))return l.get(_);var y,o={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in _){var x;Object.prototype.hasOwnProperty.call(_,y)&&((x=f?Object.getOwnPropertyDescriptor(_,y):null)&&(x.get||x.set)?Object.defineProperty(o,y,x):o[y]=_[y])}return o.default=_,l&&l.set(_,o),o}(a("../core/constants"));function S(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,S=function(){return _},_)}p.default.prototype.movedX=0,p.default.prototype.movedY=0,p.default.prototype._hasMouseInteracted=!1,p.default.prototype.mouseX=0,p.default.prototype.mouseY=0,p.default.prototype.pmouseX=0,p.default.prototype.pmouseY=0,p.default.prototype.winMouseX=0,p.default.prototype.winMouseY=0,p.default.prototype.pwinMouseX=0,p.default.prototype.pwinMouseY=0,p.default.prototype.mouseButton=0,p.default.prototype.mouseIsPressed=!1,p.default.prototype._updateNextMouseCoords=function(_){var l,y,o,f,x;this._curElement!==null&&(!_.touches||0<_.touches.length)&&(l=this._curElement.elt,y=this.width,o=this.height,(f=_)&&!f.clientX&&(f.touches?f=f.touches[0]:f.changedTouches&&(f=f.changedTouches[0])),x=l.getBoundingClientRect(),y=l.scrollWidth/y||1,l=l.scrollHeight/o||1,o={x:(f.clientX-x.left)/y,y:(f.clientY-x.top)/l,winX:f.clientX,winY:f.clientY,id:f.identifier},this._setProperty("movedX",_.movementX),this._setProperty("movedY",_.movementY),this._setProperty("mouseX",o.x),this._setProperty("mouseY",o.y),this._setProperty("winMouseX",o.winX),this._setProperty("winMouseY",o.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},p.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},p.default.prototype._setMouseButton=function(_){_.button===1?this._setProperty("mouseButton",A.CENTER):_.button===2?this._setProperty("mouseButton",A.RIGHT):this._setProperty("mouseButton",A.LEFT)},p.default.prototype._onmousemove=function(_){var l=this._isGlobal?window:this;this._updateNextMouseCoords(_),this.mouseIsPressed?typeof l.mouseDragged=="function"?l.mouseDragged(_)===!1&&_.preventDefault():typeof l.touchMoved=="function"&&l.touchMoved(_)===!1&&_.preventDefault():typeof l.mouseMoved=="function"&&l.mouseMoved(_)===!1&&_.preventDefault()},p.default.prototype._onmousedown=function(_){var l=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(_),this._updateNextMouseCoords(_),this.touchstart||(typeof l.mousePressed=="function"?l.mousePressed(_)===!1&&_.preventDefault():typeof l.touchStarted=="function"&&l.touchStarted(_)===!1&&_.preventDefault(),this.touchstart=!1)},p.default.prototype._onmouseup=function(_){var l=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof l.mouseReleased=="function"?l.mouseReleased(_)===!1&&_.preventDefault():typeof l.touchEnded=="function"&&l.touchEnded(_)===!1&&_.preventDefault(),this.touchend=!1)},p.default.prototype._ondragend=p.default.prototype._onmouseup,p.default.prototype._ondragover=p.default.prototype._onmousemove,p.default.prototype._onclick=function(_){var l=this._isGlobal?window:this;typeof l.mouseClicked=="function"&&l.mouseClicked(_)===!1&&_.preventDefault()},p.default.prototype._ondblclick=function(_){var l=this._isGlobal?window:this;typeof l.doubleClicked=="function"&&l.doubleClicked(_)===!1&&_.preventDefault()},p.default.prototype._mouseWheelDeltaY=0,p.default.prototype._pmouseWheelDeltaY=0,p.default.prototype._onwheel=function(_){var l=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",_.deltaY),typeof l.mouseWheel=="function"&&(_.delta=_.deltaY,l.mouseWheel(_)===!1&&_.preventDefault())},p.default.prototype.requestPointerLock=function(){var _=this._curElement.elt;return _.requestPointerLock=_.requestPointerLock||_.mozRequestPointerLock,_.requestPointerLock?(_.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},p.default.prototype.exitPointerLock=function(){document.exitPointerLock()},a=p.default,b.default=a},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],300:[function(a,r,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a},a.default.prototype.touches=[],a.default.prototype._updateTouchCoords=function(h){if(this._curElement!==null){for(var m=[],p=0;p<h.touches.length;p++)m[p]=function(x,f,g,l){var y=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=x.getBoundingClientRect(),f=x.scrollWidth/f||1,x=x.scrollHeight/g||1,g=l.touches[y]||l.changedTouches[y];return{x:(g.clientX-o.left)/f,y:(g.clientY-o.top)/x,winX:g.clientX,winY:g.clientY,id:g.identifier}}(this._curElement.elt,this.width,this.height,h,p);this._setProperty("touches",m)}},a.default.prototype._ontouchstart=function(h){var m=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(h),this._updateNextMouseCoords(h),this._updateMouseCoords(),typeof m.touchStarted=="function"&&(m.touchStarted(h)===!1&&h.preventDefault(),this.touchstart=!0)},a.default.prototype._ontouchmove=function(h){var m=this._isGlobal?window:this;this._updateTouchCoords(h),this._updateNextMouseCoords(h),typeof m.touchMoved=="function"?m.touchMoved(h)===!1&&h.preventDefault():typeof m.mouseDragged=="function"&&m.mouseDragged(h)===!1&&h.preventDefault()},a.default.prototype._ontouchend=function(h){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(h),this._updateNextMouseCoords(h);var m=this._isGlobal?window:this;typeof m.touchEnded=="function"&&(m.touchEnded(h)===!1&&h.preventDefault(),this.touchend=!0)},a=a.default,b.default=a},{"../core/main":280}],301:[function(a,r,b){a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.typed-array.int32-array"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.typed-array.int32-array"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h,m,p,A,S={_toPixels:function(_){var l,y;return _ instanceof ImageData?_.data:_.getContext("2d")?_.getContext("2d").getImageData(0,0,_.width,_.height).data:_.getContext("webgl")?(y=(l=_.getContext("webgl")).drawingBufferWidth*l.drawingBufferHeight*4,y=new Uint8Array(y),l.readPixels(0,0,_.width,_.height,l.RGBA,l.UNSIGNED_BYTE,y),y):void 0},_getARGB:function(_,l){return l*=4,_[3+l]<<24&4278190080|_[l]<<16&16711680|_[1+l]<<8&65280|255&_[2+l]},_setPixels:function(_,l){for(var y,o=0,f=_.length;o<f;o++)_[0+(y=4*o)]=(16711680&l[o])>>>16,_[1+y]=(65280&l[o])>>>8,_[2+y]=255&l[o],_[3+y]=(4278190080&l[o])>>>24},_toImageData:function(_){return _ instanceof ImageData?_:_.getContext("2d").getImageData(0,0,_.width,_.height)},_createImageData:function(_,l){return S._tmpCanvas=document.createElement("canvas"),S._tmpCtx=S._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(_,l)},apply:function(_,x,y){var o=_.getContext("2d"),f=o.getImageData(0,0,_.width,_.height),x=x(f,y);x instanceof ImageData?o.putImageData(x,0,0,0,0,_.width,_.height):o.putImageData(f,0,0,0,0,_.width,_.height)},threshold:function(_){for(var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,y=S._toPixels(_),o=Math.floor(255*l),f=0;f<y.length;f+=4){var x=void 0,x=o<=.2126*y[f]+.7152*y[f+1]+.0722*y[f+2]?255:0;y[f]=y[f+1]=y[f+2]=x}},gray:function(_){for(var l=S._toPixels(_),y=0;y<l.length;y+=4){var o=l[y],f=l[y+1],x=l[y+2];l[y]=l[y+1]=l[y+2]=.2126*o+.7152*f+.0722*x}},opaque:function(_){for(var l=S._toPixels(_),y=0;y<l.length;y+=4)l[y+3]=255;return l},invert:function(_){for(var l=S._toPixels(_),y=0;y<l.length;y+=4)l[y]=255-l[y],l[y+1]=255-l[y+1],l[y+2]=255-l[y+2]},posterize:function(_){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,y=S._toPixels(_);if(l<2||255<l)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var o=l-1,f=0;f<y.length;f+=4){var x=y[f],g=y[f+1],D=y[f+2];y[f]=255*(x*l>>8)/o,y[f+1]=255*(g*l>>8)/o,y[f+2]=255*(D*l>>8)/o}},dilate:function(_){for(var l,y,o,f,x,g,D,E,C,T=S._toPixels(_),O=0,I=T.length?T.length/4:0,M=new Int32Array(I);O<I;)for(y=(l=O)+_.width;O<y;)f=o=S._getARGB(T,O),(C=O-1)<l&&(C=O),y<=(E=O+1)&&(E=O),(x=O-_.width)<0&&(x=0),I<=(g=O+_.width)&&(g=O),x=S._getARGB(T,x),C=S._getARGB(T,C),g=S._getARGB(T,g),(f=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))<(D=77*(C>>16&255)+151*(C>>8&255)+28*(255&C))&&(o=C,f=D),f<(D=77*((C=S._getARGB(T,E))>>16&255)+151*(C>>8&255)+28*(255&C))&&(o=C,f=D),f<(E=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))&&(o=x,f=E),f<(C=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(o=g,f=C),M[O++]=o;S._setPixels(T,M)},erode:function(_){for(var l,y,o,f,x,g,D,E,C,T=S._toPixels(_),O=0,I=T.length?T.length/4:0,M=new Int32Array(I);O<I;)for(y=(l=O)+_.width;O<y;)f=o=S._getARGB(T,O),(C=O-1)<l&&(C=O),y<=(E=O+1)&&(E=O),(x=O-_.width)<0&&(x=0),I<=(g=O+_.width)&&(g=O),x=S._getARGB(T,x),C=S._getARGB(T,C),g=S._getARGB(T,g),(D=77*(C>>16&255)+151*(C>>8&255)+28*(255&C))<(f=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))&&(o=C,f=D),(D=77*((C=S._getARGB(T,E))>>16&255)+151*(C>>8&255)+28*(255&C))<f&&(o=C,f=D),(E=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))<f&&(o=x,f=E),(C=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<f&&(o=g,f=C),M[O++]=o;S._setPixels(T,M)},blur:function(_,l){for(var y,o,f,x,g,D,E,C,T,O,I=S._toPixels(_),M=_.width,F=_.height,B=M*F,j=new Int32Array(B),L=0;L<B;L++)j[L]=S._getARGB(I,L);var R,V,k,U,G,H,X,Z,J=new Int32Array(B),ee=new Int32Array(B),$=new Int32Array(B),W=new Int32Array(B),Q=0,te=3.5*l|0;if(h!==(te=te<1?1:te<248?te:248)){m=1+(h=te)<<1,p=new Int32Array(m),A=new Array(m);for(var ce=0;ce<m;ce++)A[ce]=new Int32Array(256);for(var oe=1,ue=te-1;oe<te;oe++){p[te+oe]=p[ue]=H=ue*ue,X=A[te+oe],Z=A[ue--];for(var we=0;we<256;we++)X[we]=Z[we]=H*we}G=p[te]=te*te,X=A[te];for(var le=0;le<256;le++)X[le]=G*le}for(V=0;V<F;V++){for(R=0;R<M;R++){if(x=f=o=g=y=0,(D=R-h)<0)O=-D,D=0;else{if(M<=D)break;O=0}for(k=O;k<m&&!(M<=D);k++){var fe=j[D+Q];U=A[k],g+=U[(-16777216&fe)>>>24],o+=U[(16711680&fe)>>16],f+=U[(65280&fe)>>8],x+=U[255&fe],y+=p[k],D++}J[E=Q+R]=g/y,ee[E]=o/y,$[E]=f/y,W[E]=x/y}Q+=M}for(T=(C=-h)*M,V=Q=0;V<F;V++){for(R=0;R<M;R++){if(x=f=o=g=y=0,C<0)O=E=-C,D=R;else{if(F<=C)break;O=0,E=C,D=R+T}for(k=O;k<m&&!(F<=E);k++)U=A[k],g+=U[J[D]],o+=U[ee[D]],f+=U[$[D]],x+=U[W[D]],y+=p[k],E++,D+=M;j[R+Q]=g/y<<24|o/y<<16|f/y<<8|x/y}Q+=M,T+=M,C++}S._setPixels(I,j)}};b.default=S},{"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int32-array":222,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239}],302:[function(a,r,b){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.set"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.uint32-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.set"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.uint32-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=p(a("../core/main")),m=p(a("omggif"));function p(S){return S&&S.__esModule?S:{default:S}}function A(S){return function(_){if(Array.isArray(_)){for(var l=0,y=new Array(_.length);l<_.length;l++)y[l]=_[l];return y}}(S)||function(_){if(Symbol.iterator in Object(_)||Object.prototype.toString.call(_)==="[object Arguments]")return Array.from(_)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}h.default.prototype.createImage=function(S,_){return h.default._validateParameters("createImage",arguments),new h.default.Image(S,_)},h.default.prototype.saveCanvas=function(){for(var S,_,l,y,o,f,x=arguments.length,g=new Array(x),D=0;D<x;D++)g[D]=arguments[D];switch(h.default._validateParameters("saveCanvas",g),g[0]instanceof HTMLCanvasElement?(S=g[0],g.shift()):g[0]instanceof h.default.Element?(S=g[0].elt,g.shift()):g[0]instanceof h.default.Framebuffer?(y=g[0],(o=this.createGraphics(y.width,y.height)).pixelDensity(pixelDensity()),y.loadPixels(),o.loadPixels(),o.pixels.set(y.pixels),o.updatePixels(),S=o.elt,g.shift()):S=this._curElement&&this._curElement.elt,1<=g.length&&(_=g[0]),l=(l=2<=g.length?g[1]:l)||h.default.prototype._checkFileExtension(_,l)[1]||"png"){default:f="image/png";break;case"jpeg":case"jpg":f="image/jpeg"}S.toBlob(function(E){h.default.prototype.downloadFile(E,_,l),o&&o.remove()},f)},h.default.prototype.encodeAndDownloadGif=function(S,_){for(var l=S.gifProperties,y=l.loopLimit,o=(y===1?y=null:y===null&&(y=0),new Uint8Array(S.width*S.height*l.numFrames)),f=[],x={},g=0;g<l.numFrames;g++){for(var D=new Set,E=l.frames[g].image.data,C=E.length,T=new Uint32Array(S.width*S.height),O=0,I=0;O<C;O+=4,I++){var M=E[O+0]<<16|E[O+1]<<8|E[O+2]<<0;D.add(M),T[I]=M}var F=A(D).sort().toString();x[F]===void 0?x[F]={freq:1,frames:[g]}:(x[F].freq+=1,x[F].frames.push(g)),f.push(T)}for(var L=[],B=Object.keys(x).sort(function($,W){return x[W].freq-x[$].freq}),j=B[0].split(",").map(function($){return parseInt($)}),L=L.concat(x[j].frames),R=new Set(j),V=1;V<B.length;V++){var k=B[V].split(",").map(function($){return parseInt($)}).filter(function($){return!R.has($)});if(j.length+k.length<=256){for(var U=0;U<k.length;U++)j.push(k[U]),R.add(k[U]);L=L.concat(x[B[V]].frames)}}L=new Set(L);for(var G={},H=0;H<j.length;H++)G[j[H]]||(G[j[H]]=H);for(var X=1;X<j.length;)X<<=1;j.length=X;for(var y={loop:y,palette:new Uint32Array(j)},Z=new m.default.GifWriter(o,S.width,S.height,y),J={},ee=0;ee<l.numFrames;ee++)(function(W){var Q=!L.has(W),te=Q?[]:j,ce=new Uint8Array(S.width*S.height),oe={},ue=new Set,we=(f[W].forEach(function(ye,Ae){Q?(oe[ye]===void 0&&(oe[ye]=te.length,te.push(ye)),ce[Ae]=oe[ye]):ce[Ae]=G[ye],0<W&&f[W-1][Ae]!==ye&&ue.add(ye)}),{}),le=te.filter(function(ye){return!ue.has(ye)});if(0<le.length){var le=le[0],fe=(Q?oe:G)[le];if(0<W){for(var ve=0;ve<f[W].length;ve++)f[W-1][ve]===f[W][ve]&&(ce[ve]=fe);we.transparent=fe,J.frameOpts.disposal=1}}if(we.delay=l.frames[W].delay/10,Q){for(var pe=1;pe<te.length;)pe<<=1;te.length=pe,we.palette=new Uint32Array(te)}0<W&&Z.addFrame(0,0,S.width,S.height,J.pixelPaletteIndex,J.frameOpts),J={pixelPaletteIndex:ce,frameOpts:we}})(ee);J.frameOpts.disposal=1,Z.addFrame(0,0,S.width,S.height,J.pixelPaletteIndex,J.frameOpts),y=new Blob([o.slice(0,Z.end())],{type:"image/gif"}),h.default.prototype.downloadFile(y,_,"gif")},h.default.prototype.saveFrames=function(S,_,l,f,o){h.default._validateParameters("saveFrames",arguments),l=h.default.prototype.constrain(l=l||3,0,15),l*=1e3;var f=h.default.prototype.constrain(f||15,0,22),x=0,g=h.default.prototype._makeFrame,D=this._curElement.elt,E=[],C=setInterval(function(){E.push(g(S+x,_,D)),x++},1e3/f);setTimeout(function(){if(clearInterval(C),o)o(E);else for(var T=0,O=E;T<O.length;T++){var I=O[T];h.default.prototype.downloadFile(I.imageData,I.filename,I.ext)}E=[]},.01+l)},h.default.prototype._makeFrame=function(S,_,o){var y,o=this?this._curElement.elt:o;if(_)switch(_.toLowerCase()){case"png":y="image/png";break;case"jpeg":case"jpg":y="image/jpeg";break;default:y="image/png"}else _="png",y="image/png";var o=(o=o.toDataURL(y)).replace(y,"image/octet-stream"),f={};return f.imageData=o,f.filename=S,f.ext=_,f},a=h.default,b.default=a},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,omggif:253}],303:[function(a,r,b){function h(D){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(D)}function m(D){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(E){return h(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":h(E)})(D)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.copy-within"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.uint8-clamped-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.copy-within"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.uint8-clamped-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,a("regenerator-runtime/runtime");var p=o(a("../core/main")),A=o(a("../core/helpers")),S=function(D){if(D&&D.__esModule)return D;if(D===null||m(D)!=="object"&&typeof D!="function")return{default:D};var E=y();if(E&&E.has(D))return E.get(D);var C,T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in D){var I;Object.prototype.hasOwnProperty.call(D,C)&&((I=O?Object.getOwnPropertyDescriptor(D,C):null)&&(I.get||I.set)?Object.defineProperty(T,C,I):T[C]=D[C])}return T.default=D,E&&E.set(D,T),T}(a("../core/constants")),_=o(a("omggif")),l=a("gifenc");function y(){var D;return typeof WeakMap!="function"?null:(D=new WeakMap,y=function(){return D},D)}function o(D){return D&&D.__esModule?D:{default:D}}function f(D,E,C,T,O,I,M){try{var F=D[I](M),B=F.value}catch(j){return void C(j)}F.done?E(B):Promise.resolve(B).then(T,O)}function x(D,E,C,T,O,I,M,F,B,j,L){var R,V,k,U,G,H,X,Z,J;return D===S.COVER&&(R=E,k=C,X=I,Z=M,H=F,J=B,V=j,U=L,G=Math.max(X/V,Z/U),X/=G,Z/=G,G=H,H=J,R===S.CENTER?G+=(V-X)/2:R===S.RIGHT&&(G+=V-X),k===S.CENTER?H+=(U-Z)/2:k===S.BOTTOM&&(H+=U-Z),F=(J={x:G,y:H,w:X,h:Z}).x,B=J.y,j=J.w,L=J.h),D===S.CONTAIN&&(R=E,V=C,k=T,U=O,G=I,H=M,X=j,Z=L,J=Math.max(X/G,Z/H),X/=J,Z/=J,J=k,k=U,R===S.CENTER?J+=(G-X)/2:R===S.RIGHT&&(J+=G-X),V===S.CENTER?k+=(H-Z)/2:V===S.BOTTOM&&(k+=H-Z),T=(D={x:J,y:k,w:X,h:Z}).x,O=D.y,I=D.w,M=D.h),{sx:F,sy:B,sw:j,sh:L,dx:T,dy:O,dw:I,dh:M}}function g(D,E){return 0<D&&D<E?D:E}a("../core/friendly_errors/validate_params"),a("../core/friendly_errors/file_errors"),a("../core/friendly_errors/fes_core"),p.default.prototype.loadImage=function(D,E,C){p.default._validateParameters("loadImage",arguments);var T=new p.default.Image(1,1,this),O=this,I=new Request(D,{method:"GET",mode:"cors"});return fetch(D,I).then(function(M){var F,B=M.headers.get("content-type");B===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),B&&B.includes("image/gif")?M.arrayBuffer().then(function(j){if(j){for(var j=new Uint8Array(j),L=T,R=E,V=C,k=(function(Q){O._decrementPreload()}).bind(O),U=new _.default.GifReader(j),G=(L.width=L.canvas.width=U.width,L.height=L.canvas.height=U.height,[]),H=U.numFrames(),X=new Uint8ClampedArray(L.width*L.height*4),Z=0;Z<H;Z++){var J=U.frameInfo(Z),ee=L.drawingContext.getImageData(0,0,L.width,L.height),$=(X=ee.data.slice(),function(Q,te){try{te.decodeAndBlitFrameRGBA(Q,X)}catch(ce){p.default._friendlyFileLoadError(8,L.src),typeof V=="function"?V(ce):console.error(ce)}}(Z,U),new ImageData(X,L.width,L.height)),$=(L.drawingContext.putImageData($,0,0),J.delay);$===0&&($=10),G.push({image:L.drawingContext.getImageData(0,0,L.width,L.height),delay:10*$}),J.disposal===2?L.drawingContext.clearRect(J.x,J.y,J.width,J.height):J.disposal===3&&L.drawingContext.putImageData(ee,0,0,J.x,J.y,J.width,J.height)}(j=U.loopCount())===null?j=1:j===0&&(j=null),L.drawingContext.putImageData(G[0].image,0,0),1<G.length&&(L.gifProperties={displayIndex:0,loopLimit:j,loopCount:0,frames:G,numFrames:H,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof R=="function"&&R(L),k()}},function(j){typeof C=="function"?(C(j),O._decrementPreload()):console.error(j)}):((F=new Image).onload=function(){T.width=T.canvas.width=F.width,T.height=T.canvas.height=F.height,T.drawingContext.drawImage(F,0,0),T.modified=!0,typeof E=="function"&&E(T),O._decrementPreload()},F.onerror=function(j){p.default._friendlyFileLoadError(0,F.src),typeof C=="function"?(C(j),O._decrementPreload()):console.error(j)},D.indexOf("data:image/")!==0&&(F.crossOrigin="Anonymous"),F.src=D),T.modified=!0}).catch(function(M){p.default._friendlyFileLoadError(0,D),typeof C=="function"?(C(M),O._decrementPreload()):console.error(M)}),T},p.default.prototype.saveGif=function(){D=regeneratorRuntime.mark(function C(T,O){var I,M,F,B,j,L,R,V,k,U,G,H,X,Z,J,ee,$,W,Q,te,ce,oe,ue,we,le,fe,ve=arguments;return regeneratorRuntime.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(I=2<ve.length&&ve[2]!==void 0?ve[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof T!="string")throw TypeError("fileName parameter must be a string");pe.next=3;break;case 3:if(typeof O!="number")throw TypeError("Duration parameter must be a number");pe.next=5;break;case 5:if(M=I&&I.delay||0,F=I&&I.units||"seconds",B=I&&I.silent||!1,j=I&&I.notificationDuration||0,L=I&&I.notificationID||"progressBar",typeof M!="number")throw TypeError("Delay parameter must be a number");pe.next=12;break;case 12:if(F!=="seconds"&&F!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');pe.next=14;break;case 14:if(typeof B!="boolean")throw TypeError("Silent parameter must be a boolean");pe.next=16;break;case 16:if(typeof j!="number")throw TypeError("Notification duration parameter must be a number");pe.next=18;break;case 18:if(typeof L!="string")throw TypeError("Notification ID parameter must be a string");pe.next=20;break;case 20:return this._recording=!0,U=this._targetFrameRate,R=(R=1/(U=U!==1/0&&U!==void 0&&U!==0?U:60)*1e3)<20?20:R,k=(V=F==="seconds"?O*U:O)+(U=F==="seconds"?M*U:M),U=U,this.frameCount=U,G=this._pixelDensity,this.pixelDensity(1),H=[],document.getElementById(L)!==null&&document.getElementById(L).remove(),B||((X=this.createP("")).id(L),X.style("font-size","16px"),X.style("font-family","Montserrat"),X.style("background-color","#ffffffa0"),X.style("padding","8px"),X.style("border-radius","10px"),X.position(0,0)),this._renderer instanceof p.default.RendererGL&&(J=this.drawingContext,Z=new Uint8Array(J.drawingBufferWidth*J.drawingBufferHeight*4)),this.noLoop(),pe.next=39,Promise.resolve();case 39:if(U<k)return this.redraw(),we=void 0,we=this._renderer instanceof p.default.RendererGL?(Z=new Uint8Array(J.drawingBufferWidth*J.drawingBufferHeight*4),J.readPixels(0,0,J.drawingBufferWidth,J.drawingBufferHeight,J.RGBA,J.UNSIGNED_BYTE,Z),function(ye,Ae,be){for(var ne=parseInt(be/2),re=4*Ae,de=new Uint8Array(4*Ae),Ce=0;Ce<ne;++Ce){var je=Ce*re,xe=(be-Ce-1)*re;de.set(ye.subarray(je,je+re)),ye.copyWithin(je,xe,xe+re),ye.set(de,xe)}return ye}(Z,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,H.push(we),U++,B||X.html("Saved frame <b>"+H.length.toString()+"</b> out of "+V.toString()),pe.next=48,new Promise(function(ye){return setTimeout(ye,0)});pe.next=50;break;case 48:pe.next=39;break;case 50:B||X.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(G),ee=(0,l.GIFEncoder)(),$=function(ye){for(var Ae=new Uint8Array(ye.length*ye[0].length),be=0;be<ye.length;be++)Ae.set(ye[be],be*ye[0].length);var ne=(0,l.quantize)(Ae,256,{format:"rgba4444",oneBitAlpha:!0});return ne.length===256?ne[ne.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:ne.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),ne}(H),W={},Q=function(ye){for(var Ae=ye.length/4,be=new Uint8Array(Ae),ne=0;ne<Ae;ne++){var re=ye[4*ne]<<24|ye[4*ne+1]<<16|ye[4*ne+2]<<8|ye[4*ne+3];W[re]===void 0&&(W[re]=(0,l.nearestColorIndex)($,ye.slice(4*ne,4*(ne+1)))),be[ne]=W[re]}return be},te=$.length-1,ce=[],oe=0;case 60:if(!(oe<H.length)){pe.next=71;break}if(ue=Q(H[oe]),we=ue.slice(),oe===0)ee.writeFrame(ue,this.width,this.height,{palette:$,delay:R,dispose:1});else{for(le=0;le<ue.length;le++)ue[le]===ce[le]&&(ue[le]=te);ee.writeFrame(ue,this.width,this.height,{delay:R,transparent:!0,transparentIndex:te,dispose:1})}return ce=we,B||X.html("Rendered frame <b>"+oe.toString()+"</b> out of "+V.toString()),pe.next=68,new Promise(function(ye){return setTimeout(ye,0)});case 68:oe++,pe.next=60;break;case 71:ee.finish(),fe=ee.bytesView(),fe=new Blob([fe],{type:"image/gif"}),H=[],this._recording=!1,this.loop(),B||(X.html("Done. Downloading your gif!"),0<j&&setTimeout(function(){return X.remove()},1e3*j)),p.default.prototype.downloadFile(fe,T,"gif");case 80:case"end":return pe.stop()}},C,this)});var D,E=function(){var C=this,T=arguments;return new Promise(function(O,I){var M=D.apply(C,T);function F(j){f(M,O,I,F,B,"next",j)}function B(j){f(M,O,I,F,B,"throw",j)}F(void 0)})};return function(C,T){return E.apply(this,arguments)}}(),p.default.prototype.image=function(D,E,C,T,U,G,H,X,J,j,L,R){p.default._validateParameters("image",arguments);var Z=D.width,V=D.height,k=(R=R||S.CENTER,L=L||S.CENTER,D.elt&&(Z=Z!==void 0?Z:D.elt.width,V=V!==void 0?V:D.elt.height),D.elt&&D.elt.videoWidth&&!D.canvas&&(Z=Z!==void 0?Z:D.elt.videoWidth,V=V!==void 0?V:D.elt.videoHeight),T||Z),U=U||V,G=G||0,H=H||0,X=g(X!==void 0?X:Z,Z),Z=g(J!==void 0?J:V,V),J=1;D.elt&&!D.canvas&&D.elt.style.width&&(J=D.elt.videoWidth&&!T?D.elt.videoWidth:D.elt.width,J/=parseInt(D.elt.style.width,10)),G*=J,H*=J,Z*=J,X*=J,V=x(j,L,R,(V=A.default.modeAdjust(E,C,k,U,this._renderer._imageMode)).x,V.y,V.w,V.h,G,H,X,Z),this._renderer.image(D,V.sx,V.sy,V.sw,V.sh,V.dx,V.dy,V.dw,V.dh)},p.default.prototype.tint=function(){for(var D=arguments.length,E=new Array(D),C=0;C<D;C++)E[C]=arguments[C];p.default._validateParameters("tint",E);var T=this.color.apply(this,E);this._renderer._tint=T.levels},p.default.prototype.noTint=function(){this._renderer._tint=null},p.default.prototype._getTintedImageCanvas=p.default.Renderer2D.prototype._getTintedImageCanvas,p.default.prototype.imageMode=function(D){p.default._validateParameters("imageMode",arguments),D!==S.CORNER&&D!==S.CORNERS&&D!==S.CENTER||(this._renderer._imageMode=D)},a=p.default,b.default=a},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/helpers":276,"../core/main":280,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,gifenc:250,omggif:253,"regenerator-runtime/runtime":257}],304:[function(a,r,b){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=p(a("../core/main")),m=p(a("./filters"));function p(S){return S&&S.__esModule?S:{default:S}}function A(S,_){for(var l=0;l<_.length;l++){var y=_[l];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(S,y.key,y)}}h.default.Image=function(){function S(y,o){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function");this.width=y,this.height=o,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var _,l;return _=S,(l=[{key:"pixelDensity",value:function(y){return y!==void 0?(y<=0&&(h.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),y=1),this._pixelDensity=y,this.width/=y,this.height/=y,this):this._pixelDensity}},{key:"_animateGif",value:function(x){var o,f=this.gifProperties,x=x._lastRealFrameTime;f.lastChangeTime===0&&(f.lastChangeTime=x),f.playing&&(f.timeDisplayed=x-f.lastChangeTime,o=f.frames[f.displayIndex].delay,f.timeDisplayed>=o&&(o=Math.floor(f.timeDisplayed/o),f.timeDisplayed=0,f.lastChangeTime=x,f.displayIndex+=o,f.loopCount=Math.floor(f.displayIndex/f.numFrames),f.loopLimit!==null&&f.loopCount>=f.loopLimit?f.playing=!1:(x=f.displayIndex%f.numFrames,this.drawingContext.putImageData(f.frames[x].image,0,0),f.displayIndex=x,this.setModified(!0))))}},{key:"_setProperty",value:function(y,o){this[y]=o,this.setModified(!0)}},{key:"loadPixels",value:function(){h.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(y,o,f,x){h.default.Renderer2D.prototype.updatePixels.call(this,y,o,f,x),this.setModified(!0)}},{key:"get",value:function(y,o,f,x){return h.default._validateParameters("p5.Image.get",arguments),h.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var y=arguments.length,o=new Array(y),f=0;f<y;f++)o[f]=arguments[f];return h.default.Renderer2D.prototype._getPixel.apply(this,o)}},{key:"set",value:function(y,o,f){h.default.Renderer2D.prototype.set.call(this,y,o,f),this.setModified(!0)}},{key:"resize",value:function(y,o){y===0&&o===0?(y=this.canvas.width,o=this.canvas.height):y===0?y=this.canvas.width*o/this.canvas.height:o===0&&(o=this.canvas.height*y/this.canvas.width),y=Math.floor(y),o=Math.floor(o);var f=document.createElement("canvas");if(f.width=y,f.height=o,this.gifProperties)for(var x=this.gifProperties,g=0;g<x.numFrames;g++){for(var D=this.drawingContext.createImageData(y,o),E=(M=M=I=O=T=void 0,x.frames[g].image),C=D,T=0,O=0;O<C.height;O++)for(var I=0;I<C.width;I++){var M=Math.floor(I*E.width/C.width),M=4*(Math.floor(O*E.height/C.height)*E.width+M);C.data[T++]=E.data[M++],C.data[T++]=E.data[M++],C.data[T++]=E.data[M++],C.data[T++]=E.data[+M]}x.frames[g].image=D}f.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,f.width,f.height),this.canvas.width=this.width=y,this.canvas.height=this.height=o,this.drawingContext.drawImage(f,0,0,y,o,0,0,y,o),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var y=arguments.length,o=new Array(y),f=0;f<y;f++)o[f]=arguments[f];h.default.prototype.copy.apply(this,o)}},{key:"mask",value:function(y){var o=this.drawingContext.globalCompositeOperation,f=1,x=[y=y===void 0?this:y,0,0,(f=y instanceof h.default.Renderer?y._pInst._pixelDensity:f)*y.width,f*y.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var g=0;g<this.gifProperties.frames.length;g++)this.drawingContext.putImageData(this.gifProperties.frames[g].image,0,0),this.copy.apply(this,x),this.gifProperties.frames[g].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,x);this.drawingContext.globalCompositeOperation=o,this.setModified(!0)}},{key:"filter",value:function(y,o){m.default.apply(this.canvas,m.default[y],o),this.setModified(!0)}},{key:"blend",value:function(){for(var y=arguments.length,o=new Array(y),f=0;f<y;f++)o[f]=arguments[f];h.default._validateParameters("p5.Image.blend",arguments),h.default.prototype.blend.apply(this,o),this.setModified(!0)}},{key:"setModified",value:function(y){this._modified=y}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(y,o){this.gifProperties?h.default.prototype.encodeAndDownloadGif(this,y):h.default.prototype.saveCanvas(this.canvas,y,o)}},{key:"reset",value:function(){var y;this.gifProperties&&((y=this.gifProperties).playing=!0,y.timeSinceStart=0,y.timeDisplayed=0,y.lastChangeTime=0,y.loopCount=0,y.displayIndex=0,this.drawingContext.putImageData(y.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var y;if(this.gifProperties)return(y=this.gifProperties).displayIndex%y.numFrames}},{key:"setFrame",value:function(y){var o;this.gifProperties&&(y<(o=this.gifProperties).numFrames&&0<=y?(o.timeDisplayed=0,o.lastChangeTime=0,o.displayIndex=y,this.drawingContext.putImageData(o.frames[y].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(y,o){if(this.gifProperties){var f=this.gifProperties;if(o<f.numFrames&&0<=o)f.frames[o].delay=y;else{var x=!0,o=!1,g=void 0;try{for(var D,E=f.frames[Symbol.iterator]();!(x=(D=E.next()).done);x=!0)D.value.delay=y}catch(T){o=!0,g=T}finally{try{x||E.return==null||E.return()}finally{if(o)throw g}}}}}}])&&A(_.prototype,l),S}(),a=h.default.Image,b.default=a},{"../core/main":280,"./filters":301,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],305:[function(a,r,b){a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.filter"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=p(a("../core/main")),m=p(a("./filters"));function p(A){return A&&A.__esModule?A:{default:A}}a("../color/p5.Color"),h.default.prototype.pixels=[],h.default.prototype.blend=function(){for(var A,S=arguments.length,_=new Array(S),l=0;l<S;l++)_[l]=arguments[l];h.default._validateParameters("blend",_),this._renderer?(A=this._renderer).blend.apply(A,_):h.default.Renderer2D.prototype.blend.apply(this,_)},h.default.prototype.copy=function(){for(var A,S,_,l,y,o,f,x,g,D=arguments.length,E=new Array(D),C=0;C<D;C++)E[C]=arguments[C];if(h.default._validateParameters("copy",E),E.length===9)A=E[0],S=E[1],_=E[2],l=E[3],y=E[4],o=E[5],f=E[6],x=E[7],g=E[8];else{if(E.length!==8)throw new Error("Signature not supported");A=this,S=E[0],_=E[1],l=E[2],y=E[3],o=E[4],f=E[5],x=E[6],g=E[7]}h.default.prototype._copyHelper(this,A,S,_,l,y,o,f,x,g)},h.default.prototype._copyHelper=function(A,S,_,l,y,o,f,x,g,D){var E=S.canvas.width/S.width,C=0,T=0;S._renderer&&S._renderer.isP3D&&(C=S.width/2,T=S.height/2),A._renderer&&A._renderer.isP3D?(A.push(),A.resetMatrix(),A.noLights(),A.blendMode(A.BLEND),A.imageMode(A.CORNER),h.default.RendererGL.prototype.image.call(A._renderer,S,_+C,l+T,y,o,f,x,g,D),A.pop()):A.drawingContext.drawImage(S.canvas,E*(_+C),E*(l+T),E*y,E*o,f,x,g,D)},h.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},h.default.prototype.filter=function(){for(var A=arguments.length,S=new Array(A),_=0;_<A;_++)S[_]=arguments[_];h.default._validateParameters("filter",S);var f=(function(){var x,g={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof h.default.Shader?g.shader=arguments.length<=0?void 0:arguments[0]:(g.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(g.value=arguments.length<=1?void 0:arguments[1]),((x=arguments.length-1)<0||arguments.length<=x?void 0:arguments[x])===!1&&(g.useWebGL=!1)),g}).apply(void 0,S),l=f.shader,y=f.operation,o=f.value,f=f.useWebGL;this._renderer.isP3D&&l?h.default.RendererGL.prototype.filter.call(this._renderer,l):f||this._renderer.isP3D?(!f&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?h.default.RendererGL.prototype.filter.call(this._renderer,y,o):((l=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),l.filter.apply(l,S),this.copy(l._renderer,0,0,this.width,this.height,0,0,this.width,this.height),l.clear())):this.canvas!==void 0?m.default.apply(this.canvas,m.default[y],o):m.default.apply(this.elt,m.default[y],o)},h.default.prototype.get=function(A,S,_,l){var y;return h.default._validateParameters("get",arguments),(y=this._renderer).get.apply(y,arguments)},h.default.prototype.loadPixels=function(){for(var A=arguments.length,S=new Array(A),_=0;_<A;_++)S[_]=arguments[_];h.default._validateParameters("loadPixels",S),this._renderer.loadPixels()},h.default.prototype.set=function(A,S,_){this._renderer.set(A,S,_)},h.default.prototype.updatePixels=function(A,S,_,l){h.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(A,S,_,l)},a=h.default,b.default=a},{"../color/p5.Color":267,"../core/main":280,"./filters":301,"core-js/modules/es.array.filter":156}],306:[function(a,r,b){function h(o){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(o)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.last-index-of"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.from-entries"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/web.url"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.last-index-of"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.from-entries"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/web.url"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var m=S(a("../core/main")),p=(a("whatwg-fetch"),a("es6-promise/auto"),S(a("fetch-jsonp"))),A=S(a("file-saver"));function S(o){return o&&o.__esModule?o:{default:o}}function _(o){return(_=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(f){return h(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":h(f)})(o)}function l(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function y(o,f){f&&f!==!0&&f!=="true"||(f="");var x="";return(o=o||"untitled")&&o.includes(".")&&(x=o.split(".").pop()),f&&x!==f&&(x=f,o="".concat(o,".").concat(x)),[o,x]}a("../core/friendly_errors/validate_params"),a("../core/friendly_errors/file_errors"),a("../core/friendly_errors/fes_core"),m.default.prototype.loadJSON=function(){for(var o=arguments.length,f=new Array(o),x=0;x<o;x++)f[x]=arguments[x];m.default._validateParameters("loadJSON",f);for(var g,D,E,C=f[0],T={},O="json",I=1;I<f.length;I++){var M=f[I];typeof M=="string"?M!=="jsonp"&&M!=="json"||(O=M):typeof M=="function"?g?D=M:g=M:_(M)==="object"&&(M.hasOwnProperty("jsonpCallback")||M.hasOwnProperty("jsonpCallbackFunction"))&&(O="jsonp",E=M)}var F=this;return this.httpDo(C,"GET",E,O,function(B){for(var j in B)T[j]=B[j];g!==void 0&&g(B),F._decrementPreload()},function(B){if(m.default._friendlyFileLoadError(5,C),!D)throw B;D(B)}),T},m.default.prototype.loadStrings=function(){for(var o=arguments.length,f=new Array(o),x=0;x<o;x++)f[x]=arguments[x];m.default._validateParameters("loadStrings",f);for(var g,D,E=[],C=1;C<f.length;C++){var T=f[C];typeof T=="function"&&(g===void 0?g=T:D===void 0&&(D=T))}var O=this;return m.default.prototype.httpDo.call(this,f[0],"GET","text",function(I){for(var M=I.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),F=0,B=M.length;F<B;F+=32768)Array.prototype.push.apply(E,M.slice(F,Math.min(F+32768,B)));g!==void 0&&g(E),O._decrementPreload()},function(I){if(m.default._friendlyFileLoadError(3,I),!D)throw I;D(I)}),E},m.default.prototype.loadTable=function(o){var f,x,g,D=!1,E=o.substring(o.lastIndexOf(".")+1,o.length);E==="csv"?g=",":E==="ssv"?g=";":E==="tsv"&&(g="	");for(var C=1;C<arguments.length;C++)typeof arguments[C]=="function"?f===void 0?f=arguments[C]:x===void 0&&(x=arguments[C]):typeof arguments[C]=="string"&&(arguments[C]==="header"&&(D=!0),arguments[C]==="csv"?g=",":arguments[C]==="ssv"?g=";":arguments[C]==="tsv"&&(g="	"));var T=new m.default.Table,O=this;return this.httpDo(o,"GET","table",function(I){for(var M,F,B={},j=0,L=[],R=0,V=null,k=function(){B.currentState=j,B.token=""},U=function(){V.push(B.token),k()},G=function(){B.currentState=4,L.push(V),V=null};;){if((M=I[R++])==null){if(B.escaped)throw new Error("Unclosed quote in file.");if(V){U(),G();break}}if(V===null&&(B.escaped=!1,V=[],k()),B.currentState===j){if(M==='"'){B.escaped=!0,B.currentState=1;continue}B.currentState=1}if(B.currentState===1&&B.escaped)if(M==='"')I[R]==='"'?(B.token+='"',R++):(B.escaped=!1,B.currentState=2);else{if(M==="\r")continue;B.token+=M}else M==="\r"?(I[R]===`
`&&R++,U(),G()):M===`
`?(U(),G()):M===g?U():B.currentState===1&&(B.token+=M)}if(D)T.columns=L.shift();else for(var H=0;H<L[0].length;H++)T.columns[H]="null";for(var X=0;X<L.length;X++)(L[X].length!==1||L[X][0]!=="undefined"&&L[X][0]!=="")&&((F=new m.default.TableRow).arr=L[X],F.obj=function(Z,J){if((J=J||[])===void 0)for(var ee=0;ee<Z.length;ee++)J[ee.toString()]=ee;return Object.fromEntries(J.map(function($,W){return[$,Z[W]]}))}(L[X],T.columns),T.addRow(F));typeof f=="function"&&f(T),O._decrementPreload()},function(I){m.default._friendlyFileLoadError(2,o),x?x(I):console.error(I)}),T},m.default.prototype.loadXML=function(){for(var o=arguments.length,f=new Array(o),x=0;x<o;x++)f[x]=arguments[x];for(var g,D,E=new m.default.XML,C=1;C<f.length;C++){var T=f[C];typeof T=="function"&&(g===void 0?g=T:D===void 0&&(D=T))}var O=this;return this.httpDo(f[0],"GET","xml",function(I){for(var M in I)E[M]=I[M];g!==void 0&&g(E),O._decrementPreload()},function(I){if(m.default._friendlyFileLoadError(1,I),!D)throw I;D(I)}),E},m.default.prototype.loadBytes=function(o,f,x){var g={},D=this;return this.httpDo(o,"GET","arrayBuffer",function(E){g.bytes=new Uint8Array(E),typeof f=="function"&&f(g),D._decrementPreload()},function(E){if(m.default._friendlyFileLoadError(6,o),!x)throw E;x(E)}),g},m.default.prototype.httpGet=function(){for(var o=arguments.length,f=new Array(o),x=0;x<o;x++)f[x]=arguments[x];return m.default._validateParameters("httpGet",f),f.splice(1,0,"GET"),m.default.prototype.httpDo.apply(this,f)},m.default.prototype.httpPost=function(){for(var o=arguments.length,f=new Array(o),x=0;x<o;x++)f[x]=arguments[x];return m.default._validateParameters("httpPost",f),f.splice(1,0,"POST"),m.default.prototype.httpDo.apply(this,f)},m.default.prototype.httpDo=function(){for(var o,f,x,g={},D=0,E="text/plain",C=arguments.length-1;0<C&&typeof(C<0||arguments.length<=C?void 0:arguments[C])=="function";C--)D++;var T=arguments.length-D,O=arguments.length<=0?void 0:arguments[0];if(T==2&&typeof O=="string"&&_(arguments.length<=1?void 0:arguments[1])==="object")L=new Request(O,arguments.length<=1?void 0:arguments[1]),f=arguments.length<=2?void 0:arguments[2],x=arguments.length<=3?void 0:arguments[3];else{for(var I,M="GET",F=1;F<arguments.length;F++){var B=F<0||arguments.length<=F?void 0:arguments[F];if(typeof B=="string")B==="GET"||B==="POST"||B==="PUT"||B==="DELETE"?M=B:B==="json"||B==="jsonp"||B==="binary"||B==="arrayBuffer"||B==="xml"||B==="text"||B==="table"?o=B:I=B;else if(typeof B=="number")I=B.toString();else if(_(B)==="object")if(B.hasOwnProperty("jsonpCallback")||B.hasOwnProperty("jsonpCallbackFunction"))for(var j in B)g[j]=B[j];else E=B instanceof m.default.XML?(I=B.serialize(),"application/xml"):(I=JSON.stringify(B),"application/json");else typeof B=="function"&&(f?x=B:f=B)}var T=M==="GET"?new Headers:new Headers({"Content-Type":E}),L=new Request(O,{method:M,mode:"cors",body:I,headers:T})}return(T=(T=(o=o||(O.includes("json")?"json":O.includes("xml")?"xml":"text"))==="jsonp"?(0,p.default)(O,g):fetch(L)).then(function(R){if(!R.ok)throw(V=new Error(R.body)).status=R.status,V.ok=!1,V;var V=0;switch((V=o!=="jsonp"?R.headers.get("content-length"):V)&&64e6<V&&m.default._friendlyFileLoadError(7,O),o){case"json":case"jsonp":return R.json();case"binary":return R.blob();case"arrayBuffer":return R.arrayBuffer();case"xml":return R.text().then(function(k){return k=new DOMParser().parseFromString(k,"text/xml"),new m.default.XML(k.documentElement)});default:return R.text()}})).then(f||function(){}),T.catch(x||console.error),T},window.URL=window.URL||window.webkitURL,m.default.prototype._pWriters=[],m.default.prototype.createWriter=function(o,f){var x,g;for(g in m.default.prototype._pWriters)if(m.default.prototype._pWriters[g].name===o)return x=new m.default.PrintWriter(o+this.millis(),f),m.default.prototype._pWriters.push(x),x;return x=new m.default.PrintWriter(o,f),m.default.prototype._pWriters.push(x),x},m.default.PrintWriter=function(o,f){var x=this;this.name=o,this.content="",this.write=function(g){this.content+=g},this.print=function(g){this.content+="".concat(g,`
`)},this.clear=function(){this.content=""},this.close=function(){var g,D=[];for(g in D.push(this.content),m.default.prototype.writeFile(D,o,f),m.default.prototype._pWriters)m.default.prototype._pWriters[g].name===this.name&&m.default.prototype._pWriters.splice(g,1);x.clear(),x={}}},m.default.prototype.save=function(o,f,x){var g=arguments,D=(this._curElement||this).elt;if(g.length===0)m.default.prototype.saveCanvas(D);else if(g[0]instanceof m.default.Renderer||g[0]instanceof m.default.Graphics)m.default.prototype.saveCanvas(g[0].elt,g[1],g[2]);else if(g.length===1&&typeof g[0]=="string")m.default.prototype.saveCanvas(D,g[0]);else switch(y(g[1],g[2])[1]){case"json":return void m.default.prototype.saveJSON(g[0],g[1],g[2]);case"txt":return void m.default.prototype.saveStrings(g[0],g[1],g[2]);default:g[0]instanceof Array?m.default.prototype.saveStrings(g[0],g[1],g[2]):g[0]instanceof m.default.Table?m.default.prototype.saveTable(g[0],g[1],g[2]):g[0]instanceof m.default.Image?m.default.prototype.saveCanvas(g[0].canvas,g[1]):g[0]instanceof m.default.SoundFile&&m.default.prototype.saveSound(g[0],g[1],g[2],g[3])}},m.default.prototype.saveJSON=function(o,f,x){m.default._validateParameters("saveJSON",arguments),x=x?JSON.stringify(o):JSON.stringify(o,void 0,2),this.saveStrings(x.split(`
`),f,"json")},m.default.prototype.saveJSONObject=m.default.prototype.saveJSON,m.default.prototype.saveJSONArray=m.default.prototype.saveJSON,m.default.prototype.saveStrings=function(o,f,x,g){m.default._validateParameters("saveStrings",arguments);for(var D=this.createWriter(f,x||"txt"),E=0;E<o.length;E++)g?D.write(o[E]+`\r
`):D.write(o[E]+`
`);D.close(),D.clear()},m.default.prototype.saveTable=function(o,f,x){m.default._validateParameters("saveTable",arguments),g=x===void 0?f.substring(f.lastIndexOf(".")+1,f.length):x;var g,D=this.createWriter(f,g),E=o.columns,C=g==="tsv"?"	":",";if(g!=="html"){if(E[0]!=="0"){for(var T=0;T<E.length;T++)T<E.length-1?D.write(E[T]+C):D.write(E[T]);D.write(`
`)}for(var O=0;O<o.rows.length;O++){for(var I=void 0,I=0;I<o.rows[O].arr.length;I++)I<o.rows[O].arr.length-1?g==="csv"&&String(o.rows[O].arr[I]).includes(",")?D.write('"'+o.rows[O].arr[I]+'"'+C):D.write(o.rows[O].arr[I]+C):g==="csv"&&String(o.rows[O].arr[I]).includes(",")?D.write('"'+o.rows[O].arr[I]+'"'):D.write(o.rows[O].arr[I]);D.write(`
`)}}else{if(D.print("<html>"),D.print("<head>"),D.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),D.print("</head>"),D.print("<body>"),D.print("  <table>"),E[0]!=="0"){D.print("    <tr>");for(var M=0;M<E.length;M++){var F=l(E[M]);D.print("      <td>".concat(F)),D.print("      </td>")}D.print("    </tr>")}for(var B=0;B<o.rows.length;B++){D.print("    <tr>");for(var j=0;j<o.columns.length;j++){var L=l(o.rows[B].getString(j));D.print("      <td>".concat(L)),D.print("      </td>")}D.print("    </tr>")}D.print("  </table>"),D.print("</body>"),D.print("</html>")}D.close(),D.clear()},m.default.prototype.writeFile=function(D,f,x){var g="application/octet-stream",D=(m.default.prototype._isSafari()&&(g="text/plain"),new Blob(D,{type:g}));m.default.prototype.downloadFile(D,f,x)},m.default.prototype.downloadFile=function(o,D,E){var g,D=y(D,E),E=D[0];o instanceof Blob?A.default.saveAs(o,E):((g=document.createElement("a")).href=o,g.download=E,g.onclick=function(C){document.body.removeChild(C.target),C.stopPropagation()},g.style.display="none",document.body.appendChild(g),m.default.prototype._isSafari()&&(o=(o=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(D[1],'"'),alert(o)),g.click())},m.default.prototype._checkFileExtension=y,m.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},a=m.default,b.default=a},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245,"es6-promise/auto":246,"fetch-jsonp":248,"file-saver":249,"whatwg-fetch":258}],307:[function(a,r,b){a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.replace"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(a=a("../core/main"))&&a.__esModule?a:{default:a};function m(p,A){for(var S=0;S<A.length;S++){var _=A[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}h.default.Table=function(){function p(_){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var A,S;return A=p,(S=[{key:"addRow",value:function(_){if(_=_||new h.default.TableRow,_.arr===void 0||_.obj===void 0)throw new Error("invalid TableRow: ".concat(_));return(_.table=this).rows.push(_),_}},{key:"removeRow",value:function(_){this.rows[_].table=null,_=this.rows.splice(_+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(_)}},{key:"getRow",value:function(_){return this.rows[_]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(_,l){if(typeof l=="string"){for(var y=0;y<this.rows.length;y++)if(this.rows[y].obj[l]===_)return this.rows[y]}else for(var o=0;o<this.rows.length;o++)if(this.rows[o].arr[l]===_)return this.rows[o];return null}},{key:"findRows",value:function(_,l){var y=[];if(typeof l=="string")for(var o=0;o<this.rows.length;o++)this.rows[o].obj[l]===_&&y.push(this.rows[o]);else for(var f=0;f<this.rows.length;f++)this.rows[f].arr[l]===_&&y.push(this.rows[f]);return y}},{key:"matchRow",value:function(_,l){if(typeof l=="number"){for(var y=0;y<this.rows.length;y++)if(this.rows[y].arr[l].match(_))return this.rows[y]}else for(var o=0;o<this.rows.length;o++)if(this.rows[o].obj[l].match(_))return this.rows[o];return null}},{key:"matchRows",value:function(_,l){var y=[];if(typeof l=="number")for(var o=0;o<this.rows.length;o++)this.rows[o].arr[l].match(_)&&y.push(this.rows[o]);else for(var f=0;f<this.rows.length;f++)this.rows[f].obj[l].match(_)&&y.push(this.rows[f]);return y}},{key:"getColumn",value:function(_){var l=[];if(typeof _=="string")for(var y=0;y<this.rows.length;y++)l.push(this.rows[y].obj[_]);else for(var o=0;o<this.rows.length;o++)l.push(this.rows[o].arr[_]);return l}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(_){this.columns.push(_||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(_,l){for(var y=[],o=0;o<_.length;o++)y.push(_.charAt(o).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var f=new RegExp(y.join("|"),"g");if(l===void 0)for(var x=0;x<this.columns.length;x++)for(var g=0;g<this.rows.length;g++){var D=(D=this.rows[g].arr[x]).replace(f,"");this.rows[g].arr[x]=D,this.rows[g].obj[this.columns[x]]=D}else if(typeof l=="string")for(var E=0;E<this.rows.length;E++){var C=(C=this.rows[E].obj[l]).replace(f,""),T=(this.rows[E].obj[l]=C,this.columns.indexOf(l));this.rows[E].arr[T]=C}else for(var O=0;O<this.rows.length;O++){var I=(I=this.rows[O].arr[l]).replace(f,"");this.rows[O].arr[l]=I,this.rows[O].obj[this.columns[l]]=I}}},{key:"trim",value:function(_){var l=new RegExp(" ","g");if(_===void 0)for(var y=0;y<this.columns.length;y++)for(var o=0;o<this.rows.length;o++){var f=(f=this.rows[o].arr[y]).replace(l,"");this.rows[o].arr[y]=f,this.rows[o].obj[this.columns[y]]=f}else if(typeof _=="string")for(var x=0;x<this.rows.length;x++){var g=(g=this.rows[x].obj[_]).replace(l,""),D=(this.rows[x].obj[_]=g,this.columns.indexOf(_));this.rows[x].arr[D]=g}else for(var E=0;E<this.rows.length;E++){var C=(C=this.rows[E].arr[_]).replace(l,"");this.rows[E].arr[_]=C,this.rows[E].obj[this.columns[_]]=C}}},{key:"removeColumn",value:function(o){typeof o=="string"?y=this.columns.indexOf(l=o):l=this.columns[y=o];var l,y,o=this.columns.splice(y+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(o);for(var f=0;f<this.rows.length;f++){var x=this.rows[f].arr,g=x.splice(y+1,x.length);x.pop(),this.rows[f].arr=x.concat(g),delete this.rows[f].obj[l]}}},{key:"set",value:function(_,l,y){this.rows[_].set(l,y)}},{key:"setNum",value:function(_,l,y){this.rows[_].setNum(l,y)}},{key:"setString",value:function(_,l,y){this.rows[_].setString(l,y)}},{key:"get",value:function(_,l){return this.rows[_].get(l)}},{key:"getNum",value:function(_,l){return this.rows[_].getNum(l)}},{key:"getString",value:function(_,l){return this.rows[_].getString(l)}},{key:"getObject",value:function(_){for(var l,y={},o=0;o<this.rows.length;o++)if(l=this.rows[o].obj,typeof _=="string"){if(!(0<=this.columns.indexOf(_)))throw new Error('This table has no column named "'.concat(_,'"'));y[l[_]]=l}else y[o]=this.rows[o].obj;return y}},{key:"getArray",value:function(){for(var _=[],l=0;l<this.rows.length;l++)_.push(this.rows[l].arr);return _}}])&&m(A.prototype,S),p}(),a=h.default,b.default=a},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.splice":170,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201}],308:[function(a,r,b){a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.from-entries"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.split"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.from-entries"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.split"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a};function h(m,p){for(var A=0;A<p.length;A++){var S=p[A];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}a.default.TableRow=function(){function m(S,_){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");var l=[];S&&(l=S.split(_=_||",")),this.arr=l,this.obj=Object.fromEntries(l.entries()),this.table=null}var p,A;return p=m,(A=[{key:"set",value:function(S,_){if(typeof S=="string"){var l=this.table.columns.indexOf(S);if(!(0<=l))throw new Error('This table has no column named "'.concat(S,'"'));this.obj[S]=_,this.arr[l]=_}else{if(!(S<this.table.columns.length))throw new Error("Column #".concat(S," is out of the range of this table"));this.arr[S]=_,l=this.table.columns[S],this.obj[l]=_}}},{key:"setNum",value:function(S,_){_=parseFloat(_),this.set(S,_)}},{key:"setString",value:function(S,_){_=_.toString(),this.set(S,_)}},{key:"get",value:function(S){return(typeof S=="string"?this.obj:this.arr)[S]}},{key:"getNum",value:function(S){var _=parseFloat(typeof S=="string"?this.obj[S]:this.arr[S]);if(_.toString()==="NaN")throw"Error: ".concat(this.obj[S]," is NaN (Not a Number)");return _}},{key:"getString",value:function(S){return(typeof S=="string"?this.obj:this.arr)[S].toString()}}])&&h(p.prototype,A),m}(),a=a.default,b.default=a},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243}],309:[function(a,r,b){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(a=a("../core/main"))&&a.__esModule?a:{default:a};function m(A,S){for(var _=0;_<S.length;_++){var l=S[_];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(A,l.key,l)}}function p(A){for(var S=[],_=0;_<A.length;_++)S.push(new h.default.XML(A[_]));return S}h.default.XML=function(){function A(l){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");l?this.DOM=l:(l=document.implementation.createDocument(null,"doc"),this.DOM=l.createElement("root"))}var S,_;return S=A,(_=[{key:"getParent",value:function(){return new h.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(l){var y=this.DOM.innerHTML,o=this.DOM.attributes,f=document.implementation.createDocument(null,"default").createElement(l);f.innerHTML=y;for(var x=0;x<o.length;x++)f.setAttribute(o[x].nodeName,o.nodeValue);this.DOM=f}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var l=[],y=0;y<this.DOM.childNodes.length;y++)l.push(this.DOM.childNodes[y].nodeName);return l}},{key:"getChildren",value:function(l){return p(l?this.DOM.getElementsByTagName(l):this.DOM.children)}},{key:"getChild",value:function(l){if(typeof l!="string")return new h.default.XML(this.DOM.children[l]);var y=!0,o=!1,f=void 0;try{for(var x,g=this.DOM.children[Symbol.iterator]();!(y=(x=g.next()).done);y=!0){var D=x.value;if(D.tagName===l)return new h.default.XML(D)}}catch(E){o=!0,f=E}finally{try{y||g.return==null||g.return()}finally{if(o)throw f}}}},{key:"addChild",value:function(l){l instanceof h.default.XML&&this.DOM.appendChild(l.DOM)}},{key:"removeChild",value:function(l){var y=-1;if(typeof l=="string"){for(var o=0;o<this.DOM.children.length;o++)if(this.DOM.children[o].tagName===l){y=o;break}}else y=l;y!==-1&&this.DOM.removeChild(this.DOM.children[y])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var l=[],y=!0,o=!1,f=void 0;try{for(var x,g=this.DOM.attributes[Symbol.iterator]();!(y=(x=g.next()).done);y=!0){var D=x.value;l.push(D.nodeName)}}catch(E){o=!0,f=E}finally{try{y||g.return==null||g.return()}finally{if(o)throw f}}return l}},{key:"hasAttribute",value:function(l){var y={},o=!0,f=!1,x=void 0;try{for(var g,D=this.DOM.attributes[Symbol.iterator]();!(o=(g=D.next()).done);o=!0){var E=g.value;y[E.nodeName]=E.nodeValue}}catch(C){f=!0,x=C}finally{try{o||D.return==null||D.return()}finally{if(f)throw x}}return!!y[l]}},{key:"getNum",value:function(l,y){var o={},f=!0,x=!1,g=void 0;try{for(var D,E=this.DOM.attributes[Symbol.iterator]();!(f=(D=E.next()).done);f=!0){var C=D.value;o[C.nodeName]=C.nodeValue}}catch(T){x=!0,g=T}finally{try{f||E.return==null||E.return()}finally{if(x)throw g}}return Number(o[l])||y||0}},{key:"getString",value:function(l,y){var o={},f=!0,x=!1,g=void 0;try{for(var D,E=this.DOM.attributes[Symbol.iterator]();!(f=(D=E.next()).done);f=!0){var C=D.value;o[C.nodeName]=C.nodeValue}}catch(T){x=!0,g=T}finally{try{f||E.return==null||E.return()}finally{if(x)throw g}}return o[l]?String(o[l]):y||null}},{key:"setAttribute",value:function(l,y){this.DOM.setAttribute(l,y)}},{key:"getContent",value:function(l){var y=this.DOM.textContent;return(y=y.replace(/\s\s+/g,","))||l||null}},{key:"setContent",value:function(l){this.DOM.children.length||(this.DOM.textContent=l)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&m(S.prototype,_),A}(),a=h.default,b.default=a},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],310:[function(a,r,b){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.math.hypot"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.math.hypot"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.string.includes"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(a=a("../core/main"))&&a.__esModule?a:{default:a};function m(p){return function(A){if(Array.isArray(A)){for(var S=0,_=new Array(A.length);S<A.length;S++)_[S]=A[S];return _}}(p)||function(A){if(Symbol.iterator in Object(A)||Object.prototype.toString.call(A)==="[object Arguments]")return Array.from(A)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}h.default.prototype.abs=Math.abs,h.default.prototype.ceil=Math.ceil,h.default.prototype.constrain=function(p,A,S){return h.default._validateParameters("constrain",arguments),Math.max(Math.min(p,S),A)},h.default.prototype.dist=function(){for(var p=arguments.length,A=new Array(p),S=0;S<p;S++)A[S]=arguments[S];return h.default._validateParameters("dist",A),A.length===4?Math.hypot(A[2]-A[0],A[3]-A[1]):A.length===6?Math.hypot(A[3]-A[0],A[4]-A[1],A[5]-A[2]):void 0},h.default.prototype.exp=Math.exp,h.default.prototype.floor=Math.floor,h.default.prototype.lerp=function(p,A,S){return h.default._validateParameters("lerp",arguments),S*(A-p)+p},h.default.prototype.log=Math.log,h.default.prototype.mag=function(p,A){return h.default._validateParameters("mag",arguments),Math.hypot(p,A)},h.default.prototype.map=function(p,A,S,_,l,y){return h.default._validateParameters("map",arguments),p=(p-A)/(S-A)*(l-_)+_,y?_<l?this.constrain(p,_,l):this.constrain(p,l,_):p},h.default.prototype.max=function(){for(var p=function(l){return Math.max.apply(Math,m(l))},A=arguments.length,S=new Array(A),_=0;_<A;_++)S[_]=arguments[_];return Array.isArray(S[0])?p(S[0]):p(S)},h.default.prototype.min=function(){for(var p=function(l){return Math.min.apply(Math,m(l))},A=arguments.length,S=new Array(A),_=0;_<A;_++)S[_]=arguments[_];return Array.isArray(S[0])?p(S[0]):p(S)},h.default.prototype.norm=function(p,A,S){return h.default._validateParameters("norm",arguments),this.map(p,A,S,0,1)},h.default.prototype.pow=Math.pow,h.default.prototype.round=function(p,A){return A?(A=Math.pow(10,A),Math.round(p*A)/A):Math.round(p)},h.default.prototype.sq=function(p){return p*p},h.default.prototype.sqrt=Math.sqrt,h.default.prototype.fract=function(_){h.default._validateParameters("fract",arguments);var A,S=0,_=Number(_);return isNaN(_)||Math.abs(_)===1/0?_:(_<0&&(_=-_,S=1),String(_).includes(".")&&!String(_).includes("e")?(A=String(_),A=+("0"+A.slice(A.indexOf("."))),Math.abs(S-A)):_<1?Math.abs(S-_):0)},a=h.default,b.default=a},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],311:[function(a,r,b){a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.reflect.construct"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.slice"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(a=a("../core/main"))&&a.__esModule?a:{default:a};function m(A,S,_){return(m=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(l,y,o){var f=[null];return f.push.apply(f,y),y=new(Function.bind.apply(l,f)),o&&p(y,o.prototype),y}).apply(null,arguments)}function p(A,S){return(p=Object.setPrototypeOf||function(_,l){return _.__proto__=l,_})(A,S)}h.default.prototype.createVector=function(A,S,_){return this instanceof h.default?m(h.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new h.default.Vector(A,S,_)},a=h.default,b.default=a},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193}],312:[function(_,r,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,_=(_=_("../core/main"))&&_.__esModule?_:{default:_};function h(l){return .5*(1-Math.cos(l*Math.PI))}var m,p=4095,A=4,S=.5,_=(_.default.prototype.noise=function(l){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(m==null){m=new Array(4096);for(var f=0;f<4096;f++)m[f]=Math.random()}l<0&&(l=-l),y<0&&(y=-y),o<0&&(o=-o);for(var x,g,D=Math.floor(l),E=Math.floor(y),C=Math.floor(o),T=l-D,O=y-E,I=o-C,M=0,F=.5,B=0;B<A;B++){var j=D+(E<<4)+(C<<8),L=h(T),R=h(O),V=m[j&p];V+=L*(m[j+1&p]-V),x=m[j+16&p],V+=R*((x+=L*(m[j+16+1&p]-x))-V),x=m[(j+=256)&p],x+=L*(m[j+1&p]-x),g=m[j+16&p],x+=R*((g+=L*(m[j+16+1&p]-g))-x),M+=(V+=h(I)*(x-V))*F,F*=S,D<<=1,E<<=1,C<<=1,1<=(T*=2)&&(D++,T--),1<=(O*=2)&&(E++,O--),1<=(I*=2)&&(C++,I--)}return M},_.default.prototype.noiseDetail=function(l,y){0<l&&(A=l),0<y&&(S=y)},_.default.prototype.noiseSeed=function(l){f=4294967296;var y,o,f,x={setSeed:function(D){o=y=(D??Math.random()*f)>>>0},getSeed:function(){return y},rand:function(){return(o=(1664525*o+1013904223)%f)/f}};x.setSeed(l),m=new Array(4096);for(var g=0;g<4096;g++)m[g]=x.rand()},_.default);b.default=_},{"../core/main":280}],313:[function(a,r,b){function h(y){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(y)}function m(y){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(o){return h(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":h(o)})(y)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.every"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.some"),a("core-js/modules/es.math.sign"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.number.is-finite"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.sub"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.every"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.some"),a("core-js/modules/es.math.sign"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.number.is-finite"),a("core-js/modules/es.string.sub"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(l=a("../core/main"))&&l.__esModule?l:{default:l},A=function(y){if(y&&y.__esModule)return y;if(y===null||m(y)!=="object"&&typeof y!="function")return{default:y};var o=S();if(o&&o.has(y))return o.get(y);var f,x={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in y){var D;Object.prototype.hasOwnProperty.call(y,f)&&((D=g?Object.getOwnPropertyDescriptor(y,f):null)&&(D.get||D.set)?Object.defineProperty(x,f,D):x[f]=y[f])}return x.default=y,o&&o.set(y,x),x}(a("../core/constants"));function S(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,S=function(){return y},y)}function _(y,o){for(var f=0;f<o.length;f++){var x=o[f];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}p.default.Vector=function(){function y(){var C=this,g=y;if(!(C instanceof g))throw new TypeError("Cannot call a class as a function");var D,E,C=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],D=(arguments.length<=2?void 0:arguments[2])||0,E=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(D=(arguments.length<=0?void 0:arguments[0])||0,E=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=D,this.y=E,this.z=C}var o,f,x;return o=y,x=[{key:"fromAngle",value:function(g,D){return new p.default.Vector((D=D===void 0?1:D)*Math.cos(g),D*Math.sin(g),0)}},{key:"fromAngles",value:function(I,T,E){E===void 0&&(E=1);var C=Math.cos(T),T=Math.sin(T),O=Math.cos(I),I=Math.sin(I);return new p.default.Vector(E*I*T,-E*O,E*I*C)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*A.TWO_PI)}},{key:"random3D",value:function(){var g=Math.random()*A.TWO_PI,D=2*Math.random()-1,C=Math.sqrt(1-D*D),E=C*Math.cos(g),C=C*Math.sin(g);return new p.default.Vector(E,C,D)}},{key:"copy",value:function(g){return g.copy(g)}},{key:"add",value:function(g,D,E){return E?E.set(g):(E=g.copy(),arguments.length===3&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),E.add(D),E}},{key:"rem",value:function(g,D){if(g instanceof p.default.Vector&&D instanceof p.default.Vector)return(g=g.copy()).rem(D),g}},{key:"sub",value:function(g,D,E){return E?E.set(g):(E=g.copy(),arguments.length===3&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),E.sub(D),E}},{key:"mult",value:function(g,D,E){return E?E.set(g):(E=g.copy(),arguments.length===3&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),E.mult(D),E}},{key:"rotate",value:function(g,D,E){return arguments.length===2?E=g.copy():(E instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),E.set(g)),E.rotate(D),E}},{key:"div",value:function(g,D,E){return E?E.set(g):(E=g.copy(),arguments.length===3&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),E.div(D),E}},{key:"dot",value:function(g,D){return g.dot(D)}},{key:"cross",value:function(g,D){return g.cross(D)}},{key:"dist",value:function(g,D){return g.dist(D)}},{key:"lerp",value:function(g,D,E,C){return C?C.set(g):(C=g.copy(),arguments.length===4&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),C.lerp(D,E),C}},{key:"slerp",value:function(g,D,E,C){return C?C.set(g):(C=g.copy(),arguments.length===4&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),C.slerp(D,E),C}},{key:"mag",value:function(g){return g.mag()}},{key:"magSq",value:function(g){return g.magSq()}},{key:"normalize",value:function(g,D){return arguments.length<2?D=g.copy():(D instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),D.set(g)),D.normalize()}},{key:"limit",value:function(g,D,E){return arguments.length<3?E=g.copy():(E instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),E.set(g)),E.limit(D)}},{key:"setMag",value:function(g,D,E){return arguments.length<3?E=g.copy():(E instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),E.set(g)),E.setMag(D)}},{key:"heading",value:function(g){return g.heading()}},{key:"angleBetween",value:function(g,D){return g.angleBetween(D)}},{key:"reflect",value:function(g,D,E){return arguments.length<3?E=g.copy():(E instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),E.set(g)),E.reflect(D)}},{key:"array",value:function(g){return g.array()}},{key:"equals",value:function(g,D){var E;return g instanceof p.default.Vector?E=g:Array.isArray(g)?E=new p.default.Vector().set(g):p.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),E.equals(D)}}],(f=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(g,D,E){return g instanceof p.default.Vector?(this.x=g.x||0,this.y=g.y||0,this.z=g.z||0):Array.isArray(g)?(this.x=g[0]||0,this.y=g[1]||0,this.z=g[2]||0):(this.x=g||0,this.y=D||0,this.z=E||0),this}},{key:"copy",value:function(){return this.isPInst?new p.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new p.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(g,D,E){return g instanceof p.default.Vector?(this.x+=g.x||0,this.y+=g.y||0,this.z+=g.z||0):Array.isArray(g)?(this.x+=g[0]||0,this.y+=g[1]||0,this.z+=g[2]||0):(this.x+=g||0,this.y+=D||0,this.z+=E||0),this}},{key:"calculateRemainder2D",value:function(g,D){return g!==0&&(this.x=this.x%g),D!==0&&(this.y=this.y%D),this}},{key:"calculateRemainder3D",value:function(g,D,E){return g!==0&&(this.x=this.x%g),D!==0&&(this.y=this.y%D),E!==0&&(this.z=this.z%E),this}},{key:"rem",value:function(g,D,E){var C;if(g instanceof p.default.Vector){if([g.x,g.y,g.z].every(Number.isFinite))return T=parseFloat(g.x),O=parseFloat(g.y),C=parseFloat(g.z),this.calculateRemainder3D(T,O,C)}else if(Array.isArray(g)){if(g.every(function(I){return Number.isFinite(I)}))return g.length===2?this.calculateRemainder2D(g[0],g[1]):g.length===3?this.calculateRemainder3D(g[0],g[1],g[2]):void 0}else if(arguments.length===1){if(Number.isFinite(g)&&g!==0)return this.x=this.x%g,this.y=this.y%g,this.z=this.z%g,this}else if(arguments.length===2){var T=Array.prototype.slice.call(arguments);if(T.every(function(I){return Number.isFinite(I)})&&T.length===2)return this.calculateRemainder2D(T[0],T[1])}else if(arguments.length===3){var O=Array.prototype.slice.call(arguments);if(O.every(function(I){return Number.isFinite(I)})&&O.length===3)return this.calculateRemainder3D(O[0],O[1],O[2])}}},{key:"sub",value:function(g,D,E){return g instanceof p.default.Vector?(this.x-=g.x||0,this.y-=g.y||0,this.z-=g.z||0):Array.isArray(g)?(this.x-=g[0]||0,this.y-=g[1]||0,this.z-=g[2]||0):(this.x-=g||0,this.y-=D||0,this.z-=E||0),this}},{key:"mult",value:function(g,D,E){var C;return g instanceof p.default.Vector?Number.isFinite(g.x)&&Number.isFinite(g.y)&&Number.isFinite(g.z)&&typeof g.x=="number"&&typeof g.y=="number"&&typeof g.z=="number"?(this.x*=g.x,this.y*=g.y,this.z*=g.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(g)?g.every(function(T){return Number.isFinite(T)})&&g.every(function(T){return typeof T=="number"})?g.length===1?(this.x*=g[0],this.y*=g[0],this.z*=g[0]):g.length===2?(this.x*=g[0],this.y*=g[1]):g.length===3&&(this.x*=g[0],this.y*=g[1],this.z*=g[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(C=Array.prototype.slice.call(arguments)).every(function(T){return Number.isFinite(T)})&&C.every(function(T){return typeof T=="number"})?(arguments.length===1&&(this.x*=g,this.y*=g,this.z*=g),arguments.length===2&&(this.x*=g,this.y*=D),arguments.length===3&&(this.x*=g,this.y*=D,this.z*=E)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(g,D,E){if(g instanceof p.default.Vector)if(Number.isFinite(g.x)&&Number.isFinite(g.y)&&Number.isFinite(g.z)&&typeof g.x=="number"&&typeof g.y=="number"&&typeof g.z=="number"){var C=g.z===0&&this.z===0;if(g.x===0||g.y===0||!C&&g.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=g.x,this.y/=g.y,C||(this.z/=g.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(g))if(g.every(function(T){return Number.isFinite(T)})&&g.every(function(T){return typeof T=="number"})){if(g.some(function(T){return T===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;g.length===1?(this.x/=g[0],this.y/=g[0],this.z/=g[0]):g.length===2?(this.x/=g[0],this.y/=g[1]):g.length===3&&(this.x/=g[0],this.y/=g[1],this.z/=g[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(C=Array.prototype.slice.call(arguments),C.every(function(T){return Number.isFinite(T)})&&C.every(function(T){return typeof T=="number"})){if(C.some(function(T){return T===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=g,this.y/=g,this.z/=g),arguments.length===2&&(this.x/=g,this.y/=D),arguments.length===3&&(this.x/=g,this.y/=D,this.z/=E)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var g=this.x,D=this.y,E=this.z;return g*g+D*D+E*E}},{key:"dot",value:function(g,D,E){return g instanceof p.default.Vector?this.dot(g.x,g.y,g.z):this.x*(g||0)+this.y*(D||0)+this.z*(E||0)}},{key:"cross",value:function(C){var D=this.y*C.z-this.z*C.y,E=this.z*C.x-this.x*C.z,C=this.x*C.y-this.y*C.x;return this.isPInst?new p.default.Vector(this._fromRadians,this._toRadians,D,E,C):new p.default.Vector(D,E,C)}},{key:"dist",value:function(g){return g.copy().sub(this).mag()}},{key:"normalize",value:function(){var g=this.mag();return g!==0&&this.mult(1/g),this}},{key:"limit",value:function(g){var D=this.magSq();return g*g<D&&this.div(Math.sqrt(D)).mult(g),this}},{key:"setMag",value:function(g){return this.normalize().mult(g)}},{key:"heading",value:function(){var g=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(g):g}},{key:"setHeading",value:function(g){this.isPInst&&(g=this._toRadians(g));var D=this.mag();return this.x=D*Math.cos(g),this.y=D*Math.sin(g),this}},{key:"rotate",value:function(D){var D=this.heading()+D,E=(this.isPInst&&(D=this._toRadians(D)),this.mag());return this.x=Math.cos(D)*E,this.y=Math.sin(D)*E,this}},{key:"angleBetween",value:function(g){var D;return this.magSq()*g.magSq()==0?NaN:(D=this.cross(g),g=Math.atan2(D.mag(),this.dot(g))*Math.sign(D.z||1),this.isPInst?this._fromRadians(g):g)}},{key:"lerp",value:function(g,D,E,C){return g instanceof p.default.Vector?this.lerp(g.x,g.y,g.z,D):(this.x+=(g-this.x)*C||0,this.y+=(D-this.y)*C||0,this.z+=(E-this.z)*C||0,this)}},{key:"slerp",value:function(g,D){if(D!==0){if(D===1)return this.set(g);var E=this.mag(),C=g.mag();if(E*C==0)this.mult(1-D).add(g.x*D,g.y*D,g.z*D);else{var T=this.cross(g),O=T.mag(),I=Math.atan2(O,this.dot(g));if(0<O)T.x/=O,T.y/=O,T.z/=O;else{if(I<.5*Math.PI)return this.mult(1-D).add(g.x*D,g.y*D,g.z*D),this;this.z===0&&g.z===0?T.set(0,0,1):this.x!==0?T.set(this.y,-this.x,0).normalize():T.set(1,0,0)}O=T.cross(this),g=1-D+D*C/E,T=g*Math.cos(D*I),C=g*Math.sin(D*I),this.x=this.x*T+O.x*C,this.y=this.y*T+O.y*C,this.z=this.z*T+O.z*C}}return this}},{key:"reflect",value:function(g){return g.normalize(),this.sub(g.mult(2*this.dot(g)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(O,D,E){var C,T,O=O instanceof p.default.Vector?(C=O.x||0,T=O.y||0,O.z||0):Array.isArray(O)?(C=O[0]||0,T=O[1]||0,O[2]||0):(C=O||0,T=D||0,E||0);return this.x===C&&this.y===T&&this.z===O}}])&&_(o.prototype,f),x&&_(o,x),y}();var l=p.default.Vector;b.default=l},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.every":154,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.constructor":178,"core-js/modules/es.number.is-finite":179,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],314:[function(S,r,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(S=S("../core/main"))&&S.__esModule?S:{default:S},m="_lcg_random_state",p=4294967296,A=0,S=(h.default.prototype._lcg=function(_){return this[_]=(1664525*this[_]+1013904223)%p,this[_]/p},h.default.prototype._lcgSetSeed=function(_,l){this[_]=(l??Math.random()*p)>>>0},h.default.prototype.randomSeed=function(_){this._lcgSetSeed(m,_),this._gaussian_previous=!1},h.default.prototype.random=function(_,l){var y,o;return h.default._validateParameters("random",arguments),y=this[m]!=null?this._lcg(m):Math.random(),_===void 0?y:l===void 0?Array.isArray(_)?_[Math.floor(y*_.length)]:y*_:(l<_&&(o=_,_=l,l=o),y*(l-_)+_)},h.default.prototype.randomGaussian=function(_){var l,y,o,f,x=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)l=A,this._gaussian_previous=!1;else{for(;1<=(f=(y=this.random(2)-1)*y+(o=this.random(2)-1)*o););l=y*(f=Math.sqrt(-2*Math.log(f)/f)),A=o*f,this._gaussian_previous=!0}return l*x+(_||0)},h.default);b.default=S},{"../core/main":280}],315:[function(a,r,b){function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(l)}function m(l){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(y){return h(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":h(y)})(l)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(_=a("../core/main"))&&_.__esModule?_:{default:_},A=function(l){if(l&&l.__esModule)return l;if(l===null||m(l)!=="object"&&typeof l!="function")return{default:l};var y=S();if(y&&y.has(l))return y.get(l);var o,f={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in l){var g;Object.prototype.hasOwnProperty.call(l,o)&&((g=x?Object.getOwnPropertyDescriptor(l,o):null)&&(g.get||g.set)?Object.defineProperty(f,o,g):f[o]=l[o])}return f.default=l,y&&y.set(l,f),f}(a("../core/constants"));function S(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,S=function(){return l},l)}p.default.prototype._angleMode=A.RADIANS,p.default.prototype.acos=function(l){return this._fromRadians(Math.acos(l))},p.default.prototype.asin=function(l){return this._fromRadians(Math.asin(l))},p.default.prototype.atan=function(l){return this._fromRadians(Math.atan(l))},p.default.prototype.atan2=function(l,y){return this._fromRadians(Math.atan2(l,y))},p.default.prototype.cos=function(l){return Math.cos(this._toRadians(l))},p.default.prototype.sin=function(l){return Math.sin(this._toRadians(l))},p.default.prototype.tan=function(l){return Math.tan(this._toRadians(l))},p.default.prototype.degrees=function(l){return l*A.RAD_TO_DEG},p.default.prototype.radians=function(l){return l*A.DEG_TO_RAD},p.default.prototype.angleMode=function(l){if(p.default._validateParameters("angleMode",arguments),l===void 0)return this._angleMode;l!==A.DEGREES&&l!==A.RADIANS||l!==this._angleMode&&(l===A.RADIANS?(this._setProperty("pRotationX",this.pRotationX*A.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*A.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*A.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*A.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*A.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*A.RAD_TO_DEG)),this._angleMode=l)},p.default.prototype._toRadians=function(l){return this._angleMode===A.DEGREES?l*A.DEG_TO_RAD:l},p.default.prototype._toDegrees=function(l){return this._angleMode===A.RADIANS?l*A.RAD_TO_DEG:l},p.default.prototype._fromRadians=function(l){return this._angleMode===A.DEGREES?l*A.RAD_TO_DEG:l},p.default.prototype._fromDegrees=function(l){return this._angleMode===A.RADIANS?l*A.DEG_TO_RAD:l};var _=p.default;b.default=_},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],316:[function(a,r,b){a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(a=a("../core/main"))&&a.__esModule?a:{default:a};h.default.prototype.textAlign=function(m,p){var A;return h.default._validateParameters("textAlign",arguments),(A=this._renderer).textAlign.apply(A,arguments)},h.default.prototype.textLeading=function(m){var p;return h.default._validateParameters("textLeading",arguments),(p=this._renderer).textLeading.apply(p,arguments)},h.default.prototype.textSize=function(m){var p;return h.default._validateParameters("textSize",arguments),(p=this._renderer).textSize.apply(p,arguments)},h.default.prototype.textStyle=function(m){var p;return h.default._validateParameters("textStyle",arguments),(p=this._renderer).textStyle.apply(p,arguments)},h.default.prototype.textWidth=function(){for(var m=arguments.length,p=new Array(m),A=0;A<m;A++)p[A]=arguments[A];if(p[0]+="",h.default._validateParameters("textWidth",p),p[0].length===0)return 0;for(var S=p[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),_=[],l=0;l<S.length;l++)_.push(this._renderer.textWidth(S[l]));return Math.max.apply(Math,_)},h.default.prototype.textAscent=function(){for(var m=arguments.length,p=new Array(m),A=0;A<m;A++)p[A]=arguments[A];return h.default._validateParameters("textAscent",p),this._renderer.textAscent()},h.default.prototype.textDescent=function(){for(var m=arguments.length,p=new Array(m),A=0;A<m;A++)p[A]=arguments[A];return h.default._validateParameters("textDescent",p),this._renderer.textDescent()},h.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},h.default.prototype.textWrap=function(m){if(m!=="WORD"&&m!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(m)},a=h.default,b.default=a},{"../core/main":280,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],317:[function(a,r,b){function h(o){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(o)}function m(o){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(f){return h(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":h(f)})(o)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.last-index-of"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.split"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.last-index-of"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.split"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(y=a("../core/main"))&&y.__esModule?y:{default:y},A=l(a("../core/constants")),S=l(a("opentype.js"));function _(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,_=function(){return o},o)}function l(o){if(o&&o.__esModule)return o;if(o===null||m(o)!=="object"&&typeof o!="function")return{default:o};var f=_();if(f&&f.has(o))return f.get(o);var x,g,D={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in o)Object.prototype.hasOwnProperty.call(o,x)&&((g=E?Object.getOwnPropertyDescriptor(o,x):null)&&(g.get||g.set)?Object.defineProperty(D,x,g):D[x]=o[x]);return D.default=o,f&&f.set(o,D),D}a("../core/friendly_errors/validate_params"),a("../core/friendly_errors/file_errors"),a("../core/friendly_errors/fes_core"),p.default.prototype.loadFont=function(o,f,x){p.default._validateParameters("loadFont",arguments);var g=new p.default.Font(this),D=this;return S.load(o,function(T,O){if(T)return p.default._friendlyFileLoadError(4,o),x!==void 0?x(T):void console.error(T,o);g.font=O,f!==void 0&&f(g),D._decrementPreload();var T=o.split("\\").pop().split("/").pop(),O=T.lastIndexOf("."),I=O<1?null:T.slice(O+1);["ttf","otf","woff","woff2"].includes(I)&&(I=T.slice(0,O!==-1?O:0),(T=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(I,`;
src: url(`).concat(o,`);
}
`))),document.head.appendChild(T))}),g},p.default.prototype.text=function(o,f,x,g,D){var E;return p.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(E=this._renderer).text.apply(E,arguments):this},p.default.prototype.textFont=function(o,f){if(p.default._validateParameters("textFont",arguments),arguments.length){if(o)return this._renderer._setProperty("_textFont",o),f&&(this._renderer._setProperty("_textSize",f),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",f*A._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var y=p.default;b.default=y},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,"opentype.js":254}],318:[function(a,r,b){function h(M){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(M)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.number.to-fixed"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.function.name"),a("core-js/modules/es.number.to-fixed"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var m=(m=a("../core/main"))&&m.__esModule?m:{default:m},p=function(M){if(M&&M.__esModule)return M;if(M===null||S(M)!=="object"&&typeof M!="function")return{default:M};var F=A();if(F&&F.has(M))return F.get(M);var B,j={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(B in M){var R;Object.prototype.hasOwnProperty.call(M,B)&&((R=L?Object.getOwnPropertyDescriptor(M,B):null)&&(R.get||R.set)?Object.defineProperty(j,B,R):j[B]=M[B])}return j.default=M,F&&F.set(M,j),j}(a("../core/constants"));function A(){var M;return typeof WeakMap!="function"?null:(M=new WeakMap,A=function(){return M},M)}function S(M){return(S=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(F){return h(F)}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":h(F)})(M)}function _(M,F){for(var B=0;B<F.length;B++){var j=F[B];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(M,j.key,j)}}function l(M,F){var B=M.length;return M[F<0?F%B+B:F%B]}function y(M,F,B,j){var L,R,V;return j?(y.tmpPoint1===void 0&&(y.tmpPoint1=[],y.tmpPoint2=[]),R=y.tmpPoint1,V=y.tmpPoint2,R.x=F.x-M.x,R.y=F.y-M.y,V.x=B.x-F.x,V.y=B.y-F.y,L=R.x*V.x+R.y*V.y,R=Math.sqrt(R.x*R.x+R.y*R.y),V=Math.sqrt(V.x*V.x+V.y*V.y),Math.acos(L/(R*V))<j):(F[0]-M[0])*(B[1]-M[1])-(B[0]-M[0])*(F[1]-M[1])==0}function o(W,te,Q,ce,oe,R,V,k,U){var G=1-U,X=Math.pow(G,3),Z=Math.pow(G,2),$=U*U,J=$*U,H=X*W+3*Z*U*Q+3*G*U*U*oe+J*V,X=X*te+3*Z*U*ce+3*G*U*U*R+J*k,Z=W+2*U*(Q-W)+$*(oe-2*Q+W),J=te+2*U*(ce-te)+$*(R-2*ce+te),ee=Q+2*U*(oe-Q)+$*(V-2*oe+Q),$=ce+2*U*(R-ce)+$*(k-2*R+ce),W=G*W+U*Q,Q=G*te+U*ce,te=G*oe+U*V,ce=G*R+U*k,oe=90-180*Math.atan2(Z-ee,J-$)/Math.PI;return(ee<Z||J<$)&&(oe+=180),{x:H,y:X,m:{x:Z,y:J},n:{x:ee,y:$},start:{x:W,y:Q},end:{x:te,y:ce},alpha:oe}}function f(M,F,B,j,L,R,V,k,U){return U==null?O(M,F,B,j,L,R,V,k):o(M,F,B,j,L,R,V,k,function(G,H,X,Z,J,ee,$,W,Q){if(!(Q<0||O(G,H,X,Z,J,ee,$,W)<Q)){var te,ce=.5,oe=1-ce;for(te=O(G,H,X,Z,J,ee,$,W,oe);.01<Math.abs(te-Q);)te=O(G,H,X,Z,J,ee,$,W,oe+=(te<Q?1:-1)*(ce/=2));return oe}}(M,F,B,j,L,R,V,k,U))}function x(M,F,B){for(var j,L,R,V,k,U=0,G=0,H=(M=function(X,Z){function J(ne,re,de){var Ce,je;if(!ne)return["C",re.x,re.y,re.x,re.y,re.x,re.y];switch(ne[0]in{T:1,Q:1}||(re.qx=re.qy=null),ne[0]){case"M":re.X=ne[1],re.Y=ne[2];break;case"A":ne=["C"].concat(D.apply(0,[re.x,re.y].concat(ne.slice(1))));break;case"S":je=de==="C"||de==="S"?(Ce=2*re.x-re.bx,2*re.y-re.by):(Ce=re.x,re.y),ne=["C",Ce,je].concat(ne.slice(1));break;case"T":de==="Q"||de==="T"?(re.qx=2*re.x-re.qx,re.qy=2*re.y-re.qy):(re.qx=re.x,re.qy=re.y),ne=["C"].concat(T(re.x,re.y,re.qx,re.qy,ne[1],ne[2]));break;case"Q":re.qx=ne[1],re.qy=ne[2],ne=["C"].concat(T(re.x,re.y,ne[1],ne[2],ne[3],ne[4]));break;case"L":ne=["C"].concat(C(re.x,re.y,ne[1],ne[2]));break;case"H":ne=["C"].concat(C(re.x,re.y,ne[1],re.y));break;case"V":ne=["C"].concat(C(re.x,re.y,re.x,ne[1]));break;case"Z":ne=["C"].concat(C(re.x,re.y,re.X,re.Y))}return ne}function ee(ne,re){if(7<ne[re].length){ne[re].shift();for(var de=ne[re];de.length;)ue[re]="A",te&&(we[re]="A"),ne.splice(re++,0,["C"].concat(de.splice(0,6)));ne.splice(re,1),W=Math.max(Q.length,te&&te.length||0)}}function $(ne,re,de,Ce,je){ne&&re&&ne[je][0]==="M"&&re[je][0]!=="M"&&(re.splice(je,0,["M",Ce.x,Ce.y]),de.bx=0,de.by=0,de.x=ne[je][1],de.y=ne[je][2],W=Math.max(Q.length,te&&te.length||0))}var W,Q=g(X),te=Z&&g(Z),ce={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},oe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ue=[],we=[],le="",fe="";W=Math.max(Q.length,te&&te.length||0);for(var ve=0;ve<W;ve++){(le=Q[ve]?Q[ve][0]:le)!=="C"&&(ue[ve]=le,ve&&(fe=ue[ve-1])),Q[ve]=J(Q[ve],ce,fe),ue[ve]!=="A"&&le==="C"&&(ue[ve]="C"),ee(Q,ve),te&&((le=te[ve]?te[ve][0]:le)!=="C"&&(we[ve]=le,ve&&(fe=we[ve-1])),te[ve]=J(te[ve],oe,fe),we[ve]!=="A"&&le==="C"&&(we[ve]="C"),ee(te,ve)),$(Q,te,ce,oe,ve),$(te,Q,oe,ce,ve);var pe=Q[ve],ye=te&&te[ve],Ae=pe.length,be=te&&ye.length;ce.x=pe[Ae-2],ce.y=pe[Ae-1],ce.bx=parseFloat(pe[Ae-4])||ce.x,ce.by=parseFloat(pe[Ae-3])||ce.y,oe.bx=te&&(parseFloat(ye[be-4])||oe.x),oe.by=te&&(parseFloat(ye[be-3])||oe.y),oe.x=te&&ye[be-2],oe.y=te&&ye[be-1]}return te?[Q,te]:Q}(M)).length;G<H;G++){if((R=M[G])[0]==="M")j=+R[1],L=+R[2];else{if(F<U+(V=f(j,L,R[1],R[2],R[3],R[4],R[5],R[6]))&&!B)return{x:(k=f(j,L,R[1],R[2],R[3],R[4],R[5],R[6],F-U)).x,y:k.y,alpha:k.alpha};U+=V,j=+R[5],L=+R[6]}R.shift()}return k=(k=B?U:o(j,L,R[0],R[1],R[2],R[3],R[4],R[5],1)).alpha?{x:k.x,y:k.y,alpha:k.alpha}:k}function g(M){var F=[],B=0,j=0,L=0,R=0,V=0;if(M){M[0][0]==="M"&&(L=B=+M[0][1],R=j=+M[0][2],V++,F[0]=["M",B,j]);for(var k,U,G=M.length===3&&M[0][0]==="M"&&M[1][0].toUpperCase()==="R"&&M[2][0].toUpperCase()==="Z",H=V,X=M.length;H<X;H++){if(F.push(k=[]),(U=M[H])[0]!==U[0].toUpperCase())switch(k[0]=U[0].toUpperCase(),k[0]){case"A":k[1]=U[1],k[2]=U[2],k[3]=U[3],k[4]=U[4],k[5]=U[5],k[6]=+(U[6]+B),k[7]=+(U[7]+j);break;case"V":k[1]=+U[1]+j;break;case"H":k[1]=+U[1]+B;break;case"R":for(var Z,J=2,ee=(Z=[B,j].concat(U.slice(1))).length;J<ee;J++)Z[J]=+Z[J]+B,Z[++J]=+Z[J]+j;F.pop(),F=F.concat(E(Z,G));break;case"M":L=+U[1]+B,R=+U[2]+j;break;default:for(var $=1,W=U.length;$<W;$++)k[$]=+U[$]+($%2?B:j)}else if(U[0]==="R")Z=[B,j].concat(U.slice(1)),F.pop(),F=F.concat(E(Z,G)),k=["R"].concat(U.slice(-2));else for(var Q=0,te=U.length;Q<te;Q++)k[Q]=U[Q];switch(k[0]){case"Z":B=L,j=R;break;case"H":B=k[1];break;case"V":j=k[1];break;case"M":L=k[k.length-2],R=k[k.length-1];break;default:B=k[k.length-2],j=k[k.length-1]}}}return F}function D(M,F,B,j,te,ue,ce,k,U,G){function H(be,ne,re){return{x:be*Math.cos(re)-ne*Math.sin(re),y:be*Math.sin(re)+ne*Math.cos(re)}}var X,W=Math.PI,Q=120*W/180,Z=W/180*(+te||0),J=[],ee=(G?(ve=G[0],X=G[1],le=G[2],fe=G[3]):(M=(oe=H(M,F,-Z)).x,F=oe.y,1<(ee=($=(M-(k=(oe=H(k,U,-Z)).x))/2)*$/(B*B)+(oe=(F-(U=oe.y))/2)*oe/(j*j))&&(B*=ee=Math.sqrt(ee),j*=ee),ee=B*B,we=j*j,le=(ue=(ue===ce?-1:1)*Math.sqrt(Math.abs((ee*we-ee*oe*oe-we*$*$)/(ee*oe*oe+we*$*$))))*B*oe/j+(M+k)/2,fe=ue*-j*$/B+(F+U)/2,ve=Math.asin(((F-fe)/j).toFixed(9)),X=Math.asin(((U-fe)/j).toFixed(9)),(ve=M<le?W-ve:ve)<0&&(ve=2*W+ve),(X=k<le?W-X:X)<0&&(X=2*W+X),ce&&X<ve&&(ve-=2*W),!ce&&ve<X&&(X-=2*W)),X-ve),$=(Math.abs(ee)>Q&&(we=X,oe=k,ue=U,X=ve+Q*(ce&&ve<X?1:-1),J=D(k=le+B*Math.cos(X),U=fe+j*Math.sin(X),B,j,te,0,ce,oe,ue,[X,we,le,fe])),ee=X-ve,Math.cos(ve)),W=Math.sin(ve),Q=Math.cos(X),te=Math.sin(X),ce=Math.tan(ee/4),oe=4/3*B*ce,ue=4/3*j*ce,we=[M,F],le=[M+oe*W,F-ue*$],fe=[k+oe*te,U-ue*Q],ve=[k,U];if(le[0]=2*we[0]-le[0],le[1]=2*we[1]-le[1],G)return[le,fe,ve].concat(J);for(var pe=[],ye=0,Ae=(J=[le,fe,ve].concat(J).join().split(",")).length;ye<Ae;ye++)pe[ye]=ye%2?H(J[ye-1],J[ye],Z).y:H(J[ye],J[ye+1],Z).x;return pe}function E(M,F){for(var B=[],j=0,L=M.length;j<L-2*!F;j+=2){var R=[{x:+M[j-2],y:+M[j-1]},{x:+M[j],y:+M[j+1]},{x:+M[j+2],y:+M[j+3]},{x:+M[j+4],y:+M[j+5]}];F?j?L-4===j?R[3]={x:+M[0],y:+M[1]}:L-2===j&&(R[2]={x:+M[0],y:+M[1]},R[3]={x:+M[2],y:+M[3]}):R[0]={x:+M[L-2],y:+M[L-1]}:L-4===j?R[3]=R[2]:j||(R[0]={x:+M[j],y:+M[j+1]}),B.push(["C",(-R[0].x+6*R[1].x+R[2].x)/6,(-R[0].y+6*R[1].y+R[2].y)/6,(R[1].x+6*R[2].x-R[3].x)/6,(R[1].y+6*R[2].y-R[3].y)/6,R[2].x,R[2].y])}return B}function C(M,F,B,j){return[M,F,B,j,B,j]}function T(M,F,B,j,L,R){return[1/3*M+2/3*B,1/3*F+2/3*j,1/3*L+2/3*B,1/3*R+2/3*j,L,R]}function O(M,F,B,j,L,R,V,k,U){for(var G=(U=1<(U=U??1)?1:U<0?0:U)/2,H=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],X=0,Z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],J=0;J<12;J++){var $=G*H[J]+G,ee=I($,M,B,L,V),$=I($,F,j,R,k);X+=Z[J]*Math.sqrt(ee*ee+$*$)}return G*X}function I(M,F,B,j,L){return M*(M*(-3*F+9*B-9*j+3*L)+6*F-12*B+6*j)-3*F+3*B}m.default.Font=function(){function M(j){if(!(this instanceof M))throw new TypeError("Cannot call a class as a function");this.parent=j,this.cache={},this.font=void 0}var F,B;return F=M,(B=[{key:"textBounds",value:function(j){var L=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,G=3<arguments.length?arguments[3]:void 0,V=4<arguments.length?arguments[4]:void 0,k=V&&V.renderer&&V.renderer._pInst||this.parent,U=k._renderer.drawingContext,G=(U.textAlign||p.LEFT,U.textBaseline||p.BASELINE,G||k._renderer._textSize);if(!oe){for(var H=[],X=[],Z=[],J=(Z[0]=[],[]),ee=this._scale(G),$=k._renderer.textLeading(),W=0,Q=(this.font.forEachGlyph(j,L,R,G,V,function(le,fe,ve,pe){var ye=le.getMetrics();le.index===0?Z[W+=1]=[]:(Z[W].push(fe+ye.xMin*ee),Z[W].push(fe+ye.xMax*ee),J.push(ve+W*$+-ye.yMin*ee),J.push(ve+W*$+-ye.yMax*ee))}),0<Z[W].length&&(H[W]=Math.min.apply(null,Z[W]),X[W]=Math.max.apply(null,Z[W])),0),te=0;te<=W;te++){H[te]=Math.min.apply(null,Z[te]),X[te]=Math.max.apply(null,Z[te]);var ce=X[te]-H[te];Q<ce&&(Q=ce)}var U=Math.min.apply(null,H),oe={x:U,y:R=Math.min.apply(null,J),h:Math.max.apply(null,J)-R,w:Q,advance:U-L},G=this._handleAlignment(k._renderer,j,oe.x,oe.y,oe.w+oe.advance);oe.x=G.x,oe.y=G.y}return oe}},{key:"textToPoints",value:function(j,L,R,V,k){var U=L,G=[],H=j.split(/\r?\n|\r|\n/g);V=V||this.parent._renderer._textSize;for(var X,Z,J,ee=0;ee<H.length;ee++){var $=0;L=U;for(var W=(W=H[ee]).replace("	","  "),Q=this._getGlyphs(W),te=0;te<Q.length;te++){if(Z=W,!((J=Q)[X=te].name&&J[X].name==="space"||Z.length===J.length&&Z[X]===" "))for(var ce=function(le){for(var fe,ve=[],pe=0;pe<le.length;pe++)le[pe].type==="M"&&(fe&&ve.push(fe),fe=[]),fe.push(function(ye){var Ae=[ye.type];return ye.type==="M"||ye.type==="L"?Ae.push(ye.x,ye.y):ye.type==="C"?Ae.push(ye.x1,ye.y1,ye.x2,ye.y2,ye.x,ye.y):ye.type==="Q"&&Ae.push(ye.x1,ye.y1,ye.x,ye.y),Ae}(le[pe]));return ve.push(fe),ve}(Q[te].getPath(L,R,V).commands),oe=0;oe<ce.length;oe++)for(var ue=function(le,fe){for(var fe=function(ne,re){if(S(ne)!=="object")ne=re;else for(var de in re)ne[de]===void 0&&(ne[de]=re[de]);return ne}(fe,{sampleFactor:.1,simplifyThreshold:0}),ve=x(le,0,1),pe=ve/(ve*fe.sampleFactor),ye=[],Ae=0;Ae<ve;Ae+=pe)ye.push(x(le,Ae));return fe.simplifyThreshold&&function(be){for(var ne=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,re=0,de=be.length-1;3<be.length&&0<=de;--de)y(l(be,de-1),l(be,de),l(be,de+1),ne)&&(be.splice(de%be.length,1),re++)}(ye,fe.simplifyThreshold),ye}(ce[oe],k),we=0;we<ue.length;we++)ue[we].x+=$,G.push(ue[we]);$+=Q[te].advanceWidth*this._scale(V)}R+=this.parent._renderer._textLeading}return G}},{key:"_getGlyphs",value:function(j){return this.font.stringToGlyphs(j)}},{key:"_getPath",value:function(j,U,R,V){var k=(V&&V.renderer&&V.renderer._pInst||this.parent)._renderer,U=this._handleAlignment(k,j,U,R);return this.font.getPath(j,U.x,U.y,k._textSize,V)}},{key:"_getPathData",value:function(j,L,R,V){var k=3;return typeof j=="string"&&2<arguments.length?j=this._getPath(j,L,R,V):S(L)==="object"&&(V=L),V&&typeof V.decimals=="number"&&(k=V.decimals),j.toPathData(k)}},{key:"_getSVG",value:function(j,L,R,V){var k=3;return typeof j=="string"&&2<arguments.length?j=this._getPath(j,L,R,V):S(L)==="object"&&(V=L),V&&(typeof V.decimals=="number"&&(k=V.decimals),typeof V.strokeWidth=="number"&&(j.strokeWidth=V.strokeWidth),V.fill!==void 0&&(j.fill=V.fill),V.stroke!==void 0&&(j.stroke=V.stroke)),j.toSVG(k)}},{key:"_renderPath",value:function(G,X,Z,V){var k=V&&V.renderer||this.parent._renderer,U=k.drawingContext,G=(S(G)==="object"&&G.commands?G:this._getPath(G,X,Z,V)).commands,H=(U.beginPath(),!0),X=!1,Z=void 0;try{for(var J,ee=G[Symbol.iterator]();!(H=(J=ee.next()).done);H=!0){var $=J.value;$.type==="M"?U.moveTo($.x,$.y):$.type==="L"?U.lineTo($.x,$.y):$.type==="C"?U.bezierCurveTo($.x1,$.y1,$.x2,$.y2,$.x,$.y):$.type==="Q"?U.quadraticCurveTo($.x1,$.y1,$.x,$.y):$.type==="Z"&&U.closePath()}}catch(W){X=!0,Z=W}finally{try{H||ee.return==null||ee.return()}finally{if(X)throw Z}}return k._doStroke&&k._strokeSet&&!k._clipping&&U.stroke(),k._doFill&&!k._clipping&&(k._fillSet||k._setFill(p._DEFAULT_TEXT_FILL),U.fill()),this}},{key:"_textWidth",value:function(j,L){return this.font.getAdvanceWidth(j,L)}},{key:"_textAscent",value:function(j){return this.font.ascender*this._scale(j)}},{key:"_textDescent",value:function(j){return-this.font.descender*this._scale(j)}},{key:"_scale",value:function(j){return 1/this.font.unitsPerEm*(j||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(j,L,R,V,k){var U=j._textSize;switch(k===void 0&&(k=this._textWidth(L,U)),j._textAlign){case p.CENTER:R-=k/2;break;case p.RIGHT:R-=k}switch(j._textBaseline){case p.TOP:V+=this._textAscent(U);break;case p.CENTER:V+=this._textAscent(U)/2;break;case p.BOTTOM:V-=this._textDescent(U)}return{x:R,y:V}}}])&&_(F.prototype,B),M}(),a=m.default,b.default=a},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],319:[function(a,r,b){a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.array-buffer.constructor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.array-buffer.constructor"),a("core-js/modules/es.object.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a},a.default.prototype.append=function(h,m){return h.push(m),h},a.default.prototype.arrayCopy=function(h,m,p,A,S){var _,l;h=S!==void 0?(l=Math.min(S,h.length),_=A,h.slice(m,l+m)):(l=p!==void 0?(l=p,Math.min(l,h.length)):h.length,p=m,h.slice(_=0,l)),Array.prototype.splice.apply(p,[_,l].concat(h))},a.default.prototype.concat=function(h,m){return h.concat(m)},a.default.prototype.reverse=function(h){return h.reverse()},a.default.prototype.shorten=function(h){return h.pop(),h},a.default.prototype.shuffle=function(h,m){for(var p,A,S=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(h),_=(h=m||S?h:h.slice()).length;1<_;)p=this.random(0,1)*_|0,A=h[--_],h[_]=h[p],h[p]=A;return h},a.default.prototype.sort=function(h,A){var p=A?h.slice(0,Math.min(A,h.length)):h,A=A?h.slice(Math.min(A,h.length)):[];return(p=typeof p[0]=="string"?p.sort():p.sort(function(S,_){return S-_})).concat(A)},a.default.prototype.splice=function(h,m,p){return Array.prototype.splice.apply(h,[p,0].concat(m)),h},a.default.prototype.subset=function(h,m,p){return p!==void 0?h.slice(m,m+p):h.slice(m,h.length)},a=a.default,b.default=a},{"../core/main":280,"core-js/modules/es.array-buffer.constructor":151,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.to-string":187}],320:[function(a,r,b){a("core-js/modules/es.array.map"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.repeat"),a("core-js/modules/es.array.map"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.repeat"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(a=a("../core/main"))&&a.__esModule?a:{default:a};h.default.prototype.float=function(m){return m instanceof Array?m.map(parseFloat):parseFloat(m)},h.default.prototype.int=function(m){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return m===1/0||m==="Infinity"?1/0:m===-1/0||m==="-Infinity"?-1/0:typeof m=="string"?parseInt(m,p):typeof m=="number"?0|m:typeof m=="boolean"?m?1:0:m instanceof Array?m.map(function(A){return h.default.prototype.int(A,p)}):void 0},h.default.prototype.str=function(m){return m instanceof Array?m.map(h.default.prototype.str):String(m)},h.default.prototype.boolean=function(m){return typeof m=="number"?m!==0:typeof m=="string"?m.toLowerCase()==="true":typeof m=="boolean"?m:m instanceof Array?m.map(h.default.prototype.boolean):void 0},h.default.prototype.byte=function(m){return m=h.default.prototype.int(m,10),typeof m=="number"?(m+128)%256-128:m instanceof Array?m.map(h.default.prototype.byte):void 0},h.default.prototype.char=function(m){return typeof m!="number"||isNaN(m)?m instanceof Array?m.map(h.default.prototype.char):typeof m=="string"?h.default.prototype.char(parseInt(m,10)):void 0:String.fromCharCode(m)},h.default.prototype.unchar=function(m){return typeof m=="string"&&m.length===1?m.charCodeAt(0):m instanceof Array?m.map(h.default.prototype.unchar):void 0},h.default.prototype.hex=function(m,p){if(p=p??8,m instanceof Array)return m.map(function(S){return h.default.prototype.hex(S,p)});if(m===1/0||m===-1/0)return(m===1/0?"F":"0").repeat(p);if(typeof m=="number"){m<0&&(m=4294967295+m+1);for(var A=Number(m).toString(16).toUpperCase();A.length<p;)A="0".concat(A);return A=A.length>=p?A.substring(A.length-p,A.length):A}},h.default.prototype.unhex=function(m){return m instanceof Array?m.map(h.default.prototype.unhex):parseInt("0x".concat(m),16)},a=h.default,b.default=a},{"../core/main":280,"core-js/modules/es.array.map":167,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.repeat":200}],321:[function(a,r,b){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.number.to-fixed"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.pad-start"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.number.to-fixed"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.constructor"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.pad-start"),a("core-js/modules/es.string.replace"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(l=a("../core/main"))&&l.__esModule?l:{default:l};function m(y,o){return function(f){if(Array.isArray(f))return f}(y)||function(f,x){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]"){var g=[],D=!0,E=!1,C=void 0;try{for(var T,O=f[Symbol.iterator]();!(D=(T=O.next()).done)&&(g.push(T.value),!x||g.length!==x);D=!0);}catch(I){E=!0,C=I}finally{try{D||O.return==null||O.return()}finally{if(E)throw C}}return g}}(y,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(y,o,f){var g=m(y.toString().split("."),2),x=g[0],g=g[1];return f===void 0?(x=x.padStart(o,"0"),g?x+"."+g:x):(x=(y=m(y.toFixed(f).toString().split("."),2))[0],g=y[1],x=x.padStart(o,"0"),g===void 0?x:x+"."+g)}function A(g,o){var f=(g=g.toString()).indexOf("."),x=f!==-1?g.substring(f):"",g=(g=f!==-1?g.substring(0,f):g).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(o===0)x="";else if(o!==void 0)if(o>x.length)for(var D=o-(x+=f===-1?".":"").length+1,E=0;E<D;E++)x+="0";else x=x.substring(0,o+1);return g+x}function S(y){return 0<parseFloat(y)?"+".concat(y.toString()):y.toString()}function _(y){return 0<=parseFloat(y)?" ".concat(y.toString()):y.toString()}a("../core/friendly_errors/validate_params"),a("../core/friendly_errors/file_errors"),a("../core/friendly_errors/fes_core"),h.default.prototype.join=function(y,o){return h.default._validateParameters("join",arguments),y.join(o)},h.default.prototype.match=function(y,o){return h.default._validateParameters("match",arguments),y.match(o)},h.default.prototype.matchAll=function(y,o){h.default._validateParameters("matchAll",arguments);for(var f=new RegExp(o,"g"),x=f.exec(y),g=[];x!==null;)g.push(x),x=f.exec(y);return g},h.default.prototype.nf=function(y,o,f){return h.default._validateParameters("nf",arguments),y instanceof Array?y.map(function(x){return p(x,o,f)}):Object.prototype.toString.call(y)==="[object Arguments]"?y.length===3?this.nf(y[0],y[1],y[2]):y.length===2?this.nf(y[0],y[1]):this.nf(y[0]):p(y,o,f)},h.default.prototype.nfc=function(y,o){return h.default._validateParameters("nfc",arguments),y instanceof Array?y.map(function(f){return A(f,o)}):A(y,o)},h.default.prototype.nfp=function(){for(var y=arguments.length,o=new Array(y),f=0;f<y;f++)o[f]=arguments[f];h.default._validateParameters("nfp",o);var x=h.default.prototype.nf.apply(this,o);return x instanceof Array?x.map(S):S(x)},h.default.prototype.nfs=function(){for(var y=arguments.length,o=new Array(y),f=0;f<y;f++)o[f]=arguments[f];h.default._validateParameters("nfs",o);var x=h.default.prototype.nf.apply(this,o);return x instanceof Array?x.map(_):_(x)},h.default.prototype.split=function(y,o){return h.default._validateParameters("split",arguments),y.split(o)},h.default.prototype.splitTokens=function(y,o){var f,x;return h.default._validateParameters("splitTokens",arguments),x=o!==void 0?(x=/\]/g.exec(o=o),(f=/\[/g.exec(o))&&x?(o=o.slice(0,x.index)+o.slice(x.index+1),f=/\[/g.exec(o),o=o.slice(0,f.index)+o.slice(f.index+1),new RegExp("[\\[".concat(o,"\\]]"),"g")):x?(o=o.slice(0,x.index)+o.slice(x.index+1),new RegExp("[".concat(o,"\\]]"),"g")):f?(o=o.slice(0,f.index)+o.slice(f.index+1),new RegExp("[".concat(o,"\\[]"),"g")):new RegExp("[".concat(o,"]"),"g")):/\s/g,y.split(x).filter(function(g){return g})},h.default.prototype.trim=function(y){return h.default._validateParameters("trim",arguments),y instanceof Array?y.map(this.trim):y.trim()};var l=h.default;b.default=l},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.pad-start":199,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],322:[function(a,r,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a},a.default.prototype.day=function(){return new Date().getDate()},a.default.prototype.hour=function(){return new Date().getHours()},a.default.prototype.minute=function(){return new Date().getMinutes()},a.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},a.default.prototype.month=function(){return new Date().getMonth()+1},a.default.prototype.second=function(){return new Date().getSeconds()},a.default.prototype.year=function(){return new Date().getFullYear()},a=a.default,b.default=a},{"../core/main":280}],323:[function(a,r,b){function h(y){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(y)}function m(y){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(o){return h(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":h(o)})(y)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.math.hypot"),a("core-js/modules/es.math.sign"),a("core-js/modules/es.number.to-fixed"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.math.hypot"),a("core-js/modules/es.math.sign"),a("core-js/modules/es.number.to-fixed"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(l=a("../core/main"))&&l.__esModule?l:{default:l},A=(a("./p5.Geometry"),function(y){if(y&&y.__esModule)return y;if(y===null||m(y)!=="object"&&typeof y!="function")return{default:y};var o=S();if(o&&o.has(y))return o.get(y);var f,x={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in y){var D;Object.prototype.hasOwnProperty.call(y,f)&&((D=g?Object.getOwnPropertyDescriptor(y,f):null)&&(D.get||D.set)?Object.defineProperty(x,f,D):x[f]=y[f])}return x.default=y,o&&o.set(y,x),x}(a("../core/constants")));function S(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,S=function(){return y},y)}p.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},p.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},p.default.prototype.buildGeometry=function(y){return this._renderer.buildGeometry(y)},p.default.prototype.freeGeometry=function(y){this._renderer._freeBuffers(y.gid)},p.default.prototype.plane=function(){var y,o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o,x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,D=(this._assert3d("plane"),p.default._validateParameters("plane",arguments),"plane|".concat(x,"|").concat(g));return this._renderer.geometryInHash(D)||((y=new p.default.Geometry(x,g,function(){for(var E,C,T=0;T<=this.detailY;T++)for(var O=T/this.detailY,I=0;I<=this.detailX;I++)E=I/this.detailX,C=new p.default.Vector(E-.5,O-.5,0),this.vertices.push(C),this.uvs.push(E,O)})).computeFaces().computeNormals(),x<=1&&g<=1?y._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(D,y)),this._renderer.drawBuffersScaled(D,o,f,1),this},p.default.prototype.box=function(y,o,f,x,g){this._assert3d("box"),p.default._validateParameters("box",arguments),y===void 0&&(y=50),o===void 0&&(o=y),f===void 0&&(f=o);var D,E=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,E=(g===void 0&&(g=E?1:4),"box|".concat(x=x===void 0?E?1:4:x,"|").concat(g));return this._renderer.geometryInHash(E)||((D=new p.default.Geometry(x,g,function(){var C=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(T,O){for(var O=4*O,I=0;I<4;I++){var M=T[I],M=new p.default.Vector((2*(1&M)-1)/2,((2&M)-1)/2,((4&M)/2-1)/2);C.vertices.push(M),C.uvs.push(1&I,(2&I)/2)}C.faces.push([O,1+O,2+O]),C.faces.push([2+O,1+O,3+O])})})).computeNormals(),x<=4&&g<=4?D._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(E,D)),this._renderer.drawBuffersScaled(E,y,o,f),this},p.default.prototype.sphere=function(){var y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),p.default._validateParameters("sphere",arguments),this.ellipsoid(y,y,y,o,f),this};function _(y,o,f,x,g,D,E){y=y<=0?1:y,o=o<0?0:o,f=f<=0?y:f,x=x<3?3:x;for(var C,T,O=(D=D===void 0||D)?-2:0,I=(g=g<1?1:g)+((E=E===void 0?o!==0:E)?2:0),M=Math.atan2(y-o,f),F=Math.sin(M),B=Math.cos(M),j=O;j<=I;++j){var L=j/g,R=f*L,V=void 0,V=j<0?(L=R=0,y):g<j?(R=f,L=1,o):y+(o-y)*L;for(j!==-2&&j!==g+2||(V=0),R-=f/2,C=0;C<x;++C){var k=C/(x-1),G=2*Math.PI*k,U=Math.sin(G),G=Math.cos(G),H=(this.vertices.push(new p.default.Vector(U*V,R,G*V)),void 0),H=j<0?new p.default.Vector(0,-1,0):g<j&&o?new p.default.Vector(0,1,0):new p.default.Vector(U*B,F,G*B);this.vertexNormals.push(H),this.uvs.push(k,L)}}var X=0;if(D){for(T=0;T<x;++T)this.faces.push([X+T,X+x+(T+1)%x,X+x+T]);X+=2*x}for(j=0;j<g;++j){for(C=0;C<x;++C){var Z=(C+1)%x;this.faces.push([X+C,X+Z,X+x+Z]),this.faces.push([X+C,X+x+Z,X+x+C])}X+=x}if(E)for(X+=x,C=0;C<x;++C)this.faces.push([X+C,X+(C+1)%x,X+x])}p.default.prototype.cylinder=function(){var y,o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o,x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,D=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],E=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],C=(this._assert3d("cylinder"),p.default._validateParameters("cylinder",arguments),"cylinder|".concat(x,"|").concat(g,"|").concat(D,"|").concat(E));return this._renderer.geometryInHash(C)||(y=new p.default.Geometry(x,g),_.call(y,1,1,1,x,g,D,E),x<=24&&g<=16?y._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(C,y)),this._renderer.drawBuffersScaled(C,o,f,o),this},p.default.prototype.cone=function(){var y,o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o,x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,D=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],E=(this._assert3d("cone"),p.default._validateParameters("cone",arguments),"cone|".concat(x,"|").concat(g,"|").concat(D));return this._renderer.geometryInHash(E)||(y=new p.default.Geometry(x,g),_.call(y,1,0,1,x,g,D,!1),x<=24&&g<=16?y._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(E,y)),this._renderer.drawBuffersScaled(E,o,f,o),this},p.default.prototype.ellipsoid=function(){var y,o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o,x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:o,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,D=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,E=(this._assert3d("ellipsoid"),p.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(g,"|").concat(D));return this._renderer.geometryInHash(E)||((y=new p.default.Geometry(g,D,function(){for(var C=0;C<=this.detailY;C++)for(var T=C/this.detailY,O=Math.PI*T-Math.PI/2,I=Math.cos(O),M=Math.sin(O),F=0;F<=this.detailX;F++){var B=F/this.detailX,L=2*Math.PI*B,j=Math.cos(L),L=Math.sin(L),L=new p.default.Vector(I*L,M,I*j);this.vertices.push(L),this.vertexNormals.push(L),this.uvs.push(B,T)}})).computeFaces(),g<=24&&D<=24?y._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(E,y)),this._renderer.drawBuffersScaled(E,o,f,x),this},p.default.prototype.torus=function(y,E,f,x){if(this._assert3d("torus"),p.default._validateParameters("torus",arguments),y===void 0)y=50;else if(!y)return;if(E===void 0)E=10;else if(!E)return;f===void 0&&(f=24),x===void 0&&(x=16);var g,D=(E/y).toPrecision(4),E="torus|".concat(D,"|").concat(f,"|").concat(x);return this._renderer.geometryInHash(E)||((g=new p.default.Geometry(f,x,function(){for(var C=0;C<=this.detailY;C++)for(var T=C/this.detailY,O=2*Math.PI*T,I=Math.cos(O),M=Math.sin(O),F=1+D*I,B=0;B<=this.detailX;B++){var j=B/this.detailX,L=2*Math.PI*j,V=Math.cos(L),L=Math.sin(L),R=new p.default.Vector(F*V,F*L,D*M),V=new p.default.Vector(I*V,I*L,M);this.vertices.push(R),this.vertexNormals.push(V),this.uvs.push(j,T)}})).computeFaces(),f<=24&&x<=16?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(E,g)),this._renderer.drawBuffersScaled(E,y,y,y),this},p.default.RendererGL.prototype.point=function(y,o){var f=[];return f.push(new p.default.Vector(y,o,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(f,this.immediateMode.buffers.point),this},p.default.RendererGL.prototype.triangle=function(E){var o=E[0],f=E[1],x=E[2],g=E[3],D=E[4],E=E[5],C=(this.geometryInHash("tri")||((C=new p.default.Geometry(1,1,function(){var I=[];I.push(new p.default.Vector(0,0,0)),I.push(new p.default.Vector(1,0,0)),I.push(new p.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=I,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),C.computeNormals(),this.createBuffers("tri",C)),this.uMVMatrix.copy());try{var T=Math.sign(o*g-x*f+x*E-D*g+D*f-o*E),O=new p.default.Matrix([x-o,g-f,0,0,D-o,E-f,0,0,0,0,T,0,o,f,0,1]).mult(this.uMVMatrix);this.uMVMatrix=O,this.drawBuffers("tri")}finally{this.uMVMatrix=C}return this},p.default.RendererGL.prototype.ellipse=function(y){this.arc(y[0],y[1],y[2],y[3],0,A.TWO_PI,A.OPEN,y[4])},p.default.RendererGL.prototype.arc=function(){var y,o=arguments.length<=0?void 0:arguments[0],f=arguments.length<=1?void 0:arguments[1],x=arguments.length<=2?void 0:arguments[2],g=arguments.length<=3?void 0:arguments[3],D=arguments.length<=4?void 0:arguments[4],E=arguments.length<=5?void 0:arguments[5],C=arguments.length<=6?void 0:arguments[6],T=(arguments.length<=7?void 0:arguments[7])||25,O=(Math.abs(E-D)>=A.TWO_PI?"".concat(I="ellipse","|"):"".concat(I="arc","|").concat(D,"|").concat(E,"|").concat(C,"|")).concat(T,"|"),I=(this.geometryInHash(O)||((y=new p.default.Geometry(T,1,function(){if(D.toFixed(10)!==E.toFixed(10)){C!==A.PIE&&C!==void 0||(this.vertices.push(new p.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var M=0;M<=T;M++){var B=(E-D)*(M/T)+D,F=.5+Math.cos(B)/2,B=.5+Math.sin(B)/2;this.vertices.push(new p.default.Vector(F,B,0)),this.uvs.push([F,B]),M<T-1&&(this.faces.push([0,M+1,M+2]),this.edges.push([M+1,M+2]))}switch(C){case A.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case A.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case A.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),T<=50?y._edgesToVertices(y):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(I," with more than 50 detail")),this.createBuffers(O,y)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([o,f,0]),this.uMVMatrix.scale(x,g,1),this.drawBuffers(O)}finally{this.uMVMatrix=I}return this},p.default.RendererGL.prototype.rect=function(y){var o=y[0],f=y[1],x=y[2],g=y[3];if(y[4]===void 0){var C=this._pInst._glAttributes.perPixelLighting,D=y[4]||(C?1:24),E=y[5]||(C?1:16),C="rect|".concat(D,"|").concat(E),T=(this.geometryInHash(C)||((T=new p.default.Geometry(D,E,function(){for(var H=0;H<=this.detailY;H++)for(var X=H/this.detailY,Z=0;Z<=this.detailX;Z++){var J=Z/this.detailX,ee=new p.default.Vector(J,X,0);this.vertices.push(ee),this.uvs.push(J,X)}0<D&&0<E&&(this.edges=[[0,D],[D,(D+1)*(E+1)-1],[(D+1)*(E+1)-1,(D+1)*E],[(D+1)*E,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(C,T)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([o,f,0]),this.uMVMatrix.scale(x,g,1),this.drawBuffers(C)}finally{this.uMVMatrix=T}}else{var C=y[4],T=y[5]===void 0?C:y[5],O=y[6]===void 0?T:y[6],y=y[7]===void 0?O:y[7],L=x,I=g,B=((L+=o)<o&&(B=o,o=L,L=B),(I+=f)<f&&(B=f,f=I,I=B),Math.min((L-o)/2,(I-f)/2)),M=(B<C&&(C=B),B<T&&(T=B),B<O&&(O=B),B<y&&(y=B),o),F=f,B=L,o=I,j=(this.beginShape(),T!==0?(this.vertex(B-T,F),this.quadraticVertex(B,F,B,F+T)):this.vertex(B,F),O!==0?(this.vertex(B,o-O),this.quadraticVertex(B,o,B-O,o)):this.vertex(B,o),y!==0?(this.vertex(M+y,o),this.quadraticVertex(M,o,M,o-y)):this.vertex(M,o),C!==0?(this.vertex(M,F+C),this.quadraticVertex(M,F,M+C,F)):this.vertex(M,F),!(this.immediateMode.geometry.uvs.length=0)),f=!1,L=void 0;try{for(var R,V=this.immediateMode.geometry.vertices[Symbol.iterator]();!(j=(R=V.next()).done);j=!0){var k=R.value,U=(k.x-M)/x,G=(k.y-F)/g;this.immediateMode.geometry.uvs.push(U,G)}}catch($){f=!0,L=$}finally{try{j||V.return==null||V.return()}finally{if(f)throw L}}this.endShape(A.CLOSE)}return this},p.default.RendererGL.prototype.quad=function(y,o,f,x,g,D,E,C,T,O,I,M){var F=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,B=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,j="quad|".concat(y,"|").concat(o,"|").concat(f,"|").concat(x,"|").concat(g,"|").concat(D,"|").concat(E,"|").concat(C,"|").concat(T,"|").concat(O,"|").concat(I,"|").concat(M,"|").concat(F,"|").concat(B);if(!this.geometryInHash(j)){var L=new p.default.Geometry(F,B,function(){for(var Z=1/(this.detailX-1),J=1/(this.detailY-1),ee=0;ee<this.detailY;ee++)for(var $=0;$<this.detailX;$++){var W=$*Z,Q=ee*J;this.vertices.push(new p.default.Vector((1-W)*((1-Q)*y+Q*O)+W*((1-Q)*x+Q*E),(1-W)*((1-Q)*o+Q*I)+W*((1-Q)*g+Q*C),(1-W)*((1-Q)*f+Q*M)+W*((1-Q)*D+Q*T))),this.uvs.push([W,Q])}});L.faces=[];for(var R=0;R<B-1;R++)for(var V=0;V<F-1;V++){var k=V+R*F,U=V+1+(R+1)*F,G=V+(R+1)*F;L.faces.push([k,V+1+R*F,U]),L.faces.push([k,U,G])}L.computeNormals();for(var H=[L.edges.length=0,2,3,1],X=0;X<H.length;X++)L.edges.push([H[X],H[(X+1)%H.length]]);L._edgesToVertices(),this.createBuffers(j,L)}return this.drawBuffers(j),this},p.default.RendererGL.prototype.bezier=function(y,o,f,x,g,D,E,C,T,O,I,M){arguments.length===8&&(I=C,O=E,C=D,E=g,g=x,x=f,f=D=T=M=0);var F=this._pInst._bezierDetail||20;this.beginShape();for(var B=0;B<=F;B++){var j=Math.pow(1-B/F,3),L=B/F*3*Math.pow(1-B/F,2),R=3*Math.pow(B/F,2)*(1-B/F),V=Math.pow(B/F,3);this.vertex(y*j+x*L+E*R+O*V,o*j+g*L+C*R+I*V,f*j+D*L+T*R+M*V)}return this.endShape(),this},p.default.RendererGL.prototype.curve=function(y,o,f,x,g,D,E,C,T,O,I,M){arguments.length===8&&(O=E,I=C,E=g,C=x,g=x=f,f=D=T=M=0);var F=this._pInst._curveDetail;this.beginShape();for(var B=0;B<=F;B++){var j=.5*Math.pow(B/F,3),L=.5*Math.pow(B/F,2),R=B/F*.5;this.vertex(j*(3*x-y-3*E+O)+L*(2*y-5*x+4*E-O)+R*(-y+E)+2*x*.5,j*(3*g-o-3*C+I)+L*(2*o-5*g+4*C-I)+R*(-o+C)+2*g*.5,j*(3*D-f-3*T+M)+L*(2*f-5*D+4*T-M)+R*(-f+T)+2*D*.5)}return this.endShape(),this},p.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(A.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(A.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},p.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var y,o,f,x,g,D,E=[],C=[],T=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var O=1/this._lutBezierDetail,I=0,M=1,F=0;I<1;){if(D=parseFloat(I.toFixed(6)),this._lookUpTableBezier[F]=this._bezierCoefficients(D),M.toFixed(6)===O.toFixed(6)){D=parseFloat(M.toFixed(6))+parseFloat(I.toFixed(6)),++F,this._lookUpTableBezier[F]=this._bezierCoefficients(D);break}I+=O,M-=O,++F}}for(var B=this._lookUpTableBezier.length,j=[],L=0;L<4;L++)j.push([]);j[0]=this.immediateMode.geometry.vertexColors.slice(-4),j[3]=this.curFillColor.slice();var R=[];for(L=0;L<4;L++)R.push([]);if(R[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),R[3]=this.curStrokeColor.slice(),T===6){this.isBezier=!0;var E=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],C=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],V=Math.hypot(E[0]-E[1],C[0]-C[1]),U=Math.hypot(E[1]-E[2],C[1]-C[2]),k=Math.hypot(E[2]-E[3],C[2]-C[3]),U=V+U+k;for(V/=U,k/=U,g=0;g<4;g++)j[1].push(j[0][g]*(1-V)+j[3][g]*V),j[2].push(j[0][g]*k+j[3][g]*(1-k)),R[1].push(R[0][g]*(1-V)+R[3][g]*V),R[2].push(R[0][g]*k+R[3][g]*(1-k));for(x=0;x<B;x++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],L=y=o=0;L<4;L++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableBezier[x][L]*j[L][g],this.curStrokeColor[g]+=this._lookUpTableBezier[x][L]*R[L][g];y+=E[L]*this._lookUpTableBezier[x][L],o+=C[L]*this._lookUpTableBezier[x][L]}this.vertex(y,o)}this.curFillColor=j[3],this.curStrokeColor=R[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(T===9){this.isBezier=!0,E=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],C=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var G=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],H=Math.hypot(E[0]-E[1],C[0]-C[1],G[0]-G[1]),U=Math.hypot(E[1]-E[2],C[1]-C[2],G[1]-G[2]),X=Math.hypot(E[2]-E[3],C[2]-C[3],G[2]-G[3]),T=H+U+X;for(H/=T,X/=T,g=0;g<4;g++)j[1].push(j[0][g]*(1-H)+j[3][g]*H),j[2].push(j[0][g]*X+j[3][g]*(1-X)),R[1].push(R[0][g]*(1-H)+R[3][g]*H),R[2].push(R[0][g]*X+R[3][g]*(1-X));for(x=0;x<B;x++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],L=y=o=f=0;L<4;L++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableBezier[x][L]*j[L][g],this.curStrokeColor[g]+=this._lookUpTableBezier[x][L]*R[L][g];y+=E[L]*this._lookUpTableBezier[x][L],o+=C[L]*this._lookUpTableBezier[x][L],f+=G[L]*this._lookUpTableBezier[x][L]}this.vertex(y,o,f)}this.curFillColor=j[3],this.curStrokeColor=R[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},p.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var y,o,f,x,g,D,E=[],C=[],T=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var O=1/this._lutQuadraticDetail,I=0,M=1,F=0;I<1;){if(D=parseFloat(I.toFixed(6)),this._lookUpTableQuadratic[F]=this._quadraticCoefficients(D),M.toFixed(6)===O.toFixed(6)){D=parseFloat(M.toFixed(6))+parseFloat(I.toFixed(6)),++F,this._lookUpTableQuadratic[F]=this._quadraticCoefficients(D);break}I+=O,M-=O,++F}}for(var B=this._lookUpTableQuadratic.length,j=[],L=0;L<3;L++)j.push([]);j[0]=this.immediateMode.geometry.vertexColors.slice(-4),j[2]=this.curFillColor.slice();var R=[];for(L=0;L<3;L++)R.push([]);if(R[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),R[2]=this.curStrokeColor.slice(),T===4){this.isQuadratic=!0;var E=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],C=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],V=Math.hypot(E[0]-E[1],C[0]-C[1]);for(V/=V+Math.hypot(E[1]-E[2],C[1]-C[2]),g=0;g<4;g++)j[1].push(j[0][g]*(1-V)+j[2][g]*V),R[1].push(R[0][g]*(1-V)+R[2][g]*V);for(x=0;x<B;x++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],L=y=o=0;L<3;L++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableQuadratic[x][L]*j[L][g],this.curStrokeColor[g]+=this._lookUpTableQuadratic[x][L]*R[L][g];y+=E[L]*this._lookUpTableQuadratic[x][L],o+=C[L]*this._lookUpTableQuadratic[x][L]}this.vertex(y,o)}this.curFillColor=j[2],this.curStrokeColor=R[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(T===6){this.isQuadratic=!0,E=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],C=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var k=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],U=Math.hypot(E[0]-E[1],C[0]-C[1],k[0]-k[1]);for(U/=U+Math.hypot(E[1]-E[2],C[1]-C[2],k[1]-k[2]),g=0;g<4;g++)j[1].push(j[0][g]*(1-U)+j[2][g]*U),R[1].push(R[0][g]*(1-U)+R[2][g]*U);for(x=0;x<B;x++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],L=y=o=f=0;L<3;L++){for(g=0;g<4;g++)this.curFillColor[g]+=this._lookUpTableQuadratic[x][L]*j[L][g],this.curStrokeColor[g]+=this._lookUpTableQuadratic[x][L]*R[L][g];y+=E[L]*this._lookUpTableQuadratic[x][L],o+=C[L]*this._lookUpTableQuadratic[x][L],f+=k[L]*this._lookUpTableQuadratic[x][L]}this.vertex(y,o,f)}this.curFillColor=j[2],this.curStrokeColor=R[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},p.default.RendererGL.prototype.curveVertex=function(){var y,o,f,x,g,D,E=[],C=[],T=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var O=1/this._lutBezierDetail,I=0,M=1,F=0;I<1;){if(D=parseFloat(I.toFixed(6)),this._lookUpTableBezier[F]=this._bezierCoefficients(D),M.toFixed(6)===O.toFixed(6)){D=parseFloat(M.toFixed(6))+parseFloat(I.toFixed(6)),++F,this._lookUpTableBezier[F]=this._bezierCoefficients(D);break}I+=O,M-=O,++F}}var B=this._lookUpTableBezier.length;if(T===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,E=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),C=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),g=0;g<B;g++)o=E[0]*this._lookUpTableBezier[g][0]+E[1]*this._lookUpTableBezier[g][1]+E[2]*this._lookUpTableBezier[g][2]+E[3]*this._lookUpTableBezier[g][3],f=C[0]*this._lookUpTableBezier[g][0]+C[1]*this._lookUpTableBezier[g][1]+C[2]*this._lookUpTableBezier[g][2]+C[3]*this._lookUpTableBezier[g][3],this.vertex(o,f);for(g=0;g<T;g++)this.immediateMode._curveVertex.shift()}}else if(T===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,E=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),C=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),y=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),g=0;g<B;g++)o=E[0]*this._lookUpTableBezier[g][0]+E[1]*this._lookUpTableBezier[g][1]+E[2]*this._lookUpTableBezier[g][2]+E[3]*this._lookUpTableBezier[g][3],f=C[0]*this._lookUpTableBezier[g][0]+C[1]*this._lookUpTableBezier[g][1]+C[2]*this._lookUpTableBezier[g][2]+C[3]*this._lookUpTableBezier[g][3],x=y[0]*this._lookUpTableBezier[g][0]+y[1]*this._lookUpTableBezier[g][1]+y[2]*this._lookUpTableBezier[g][2]+y[3]*this._lookUpTableBezier[g][3],this.vertex(o,f,x);for(g=0;g<T;g++)this.immediateMode._curveVertex.shift()}},p.default.RendererGL.prototype.image=function(y,M,f,F,g,D,E,C,T){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(y),this._pInst.textureMode(A.NORMAL);var O=0,I=(M<=y.width&&(O=M/y.width),1),M=(M+F<=y.width&&(I=(M+F)/y.width),0),F=(f<=y.height&&(M=f/y.height),1);f+g<=y.height&&(F=(f+g)/y.height),this.beginShape(),this.vertex(D,E,0,O,M),this.vertex(D+C,E,0,I,M),this.vertex(D+C,E+T,0,I,F),this.vertex(D,E+T,0,O,F),this.endShape(A.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(A.REMOVE)};var l=p.default;b.default=l},{"../core/constants":269,"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],324:[function(a,r,b){function h(o){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(o)}function m(o){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(f){return h(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":h(f)})(o)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.every"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.every"),a("core-js/modules/es.array.map"),a("core-js/modules/es.object.assign"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(y=a("../core/main"))&&y.__esModule?y:{default:y},A=function(o){if(o&&o.__esModule)return o;if(o===null||m(o)!=="object"&&typeof o!="function")return{default:o};var f=S();if(f&&f.has(o))return f.get(o);var x,g={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in o){var E;Object.prototype.hasOwnProperty.call(o,x)&&((E=D?Object.getOwnPropertyDescriptor(o,x):null)&&(E.get||E.set)?Object.defineProperty(g,x,E):g[x]=o[x])}return g.default=o,f&&f.set(o,g),g}(a("../core/constants"));function S(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,S=function(){return o},o)}function _(o){return function(f){if(Array.isArray(f)){for(var x=0,g=new Array(f.length);x<f.length;x++)g[x]=f[x];return g}}(o)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(o,f){for(var x=0;x<f.length;x++){var g=f[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,g.key,g)}}var y=function(){function o(g){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");(this.renderer=g)._pInst.push(),this.identityMatrix=new p.default.Matrix,g.uMVMatrix=new p.default.Matrix,this.geometry=new p.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(o.nextGeometryId),o.nextGeometryId++,this.hasTransform=!1}var f,x;return f=o,(x=[{key:"transformVertices",value:function(g){var D=this;return this.hasTransform?g.map(function(E){return D.renderer.uMVMatrix.multiplyPoint(E)}):g}},{key:"transformNormals",value:function(g){var D=this;return this.hasTransform?g.map(function(E){return D.renderer.uNMatrix.multiplyVec3(E)}):g}},{key:"addGeometry",value:function(g){for(var D,E=this,C=(this.hasTransform=!this.renderer.uMVMatrix.mat4.every(function(O,I){return O===E.identityMatrix.mat4[I]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uMVMatrix),this.geometry.vertices.length),T=((D=this.geometry.vertices).push.apply(D,_(this.transformVertices(g.vertices))),(D=this.geometry.vertexNormals).push.apply(D,_(this.transformNormals(g.vertexNormals))),(D=this.geometry.uvs).push.apply(D,_(g.uvs)),this.renderer._doFill&&(D=this.geometry.faces).push.apply(D,_(g.faces.map(function(O){return O.map(function(I){return I+C})}))),this.renderer._doStroke&&(D=this.geometry.edges).push.apply(D,_(g.edges.map(function(O){return O.map(function(I){return I+C})}))),_(g.vertexColors));T.length<4*g.vertices.length;)T.push.apply(T,_(this.renderer.curFillColor));(D=this.geometry.vertexColors).push.apply(D,_(T))}},{key:"addImmediate",value:function(){var g=this.renderer.immediateMode.geometry,D=this.renderer.immediateMode.shapeMode,E=[];if(this.renderer._doFill)if(D===A.TRIANGLE_STRIP||D===A.QUAD_STRIP)for(var C=2;C<g.vertices.length;C++)C%2==0?E.push([C,C-1,C-2]):E.push([C,C-2,C-1]);else if(D===A.TRIANGLE_FAN)for(var T=2;T<g.vertices.length;T++)E.push([0,T-1,T]);else for(var O=0;O<g.vertices.length;O+=3)E.push([O,O+1,O+2]);this.addGeometry(Object.assign({},g,{faces:E}))}},{key:"addRetained",value:function(g){this.addGeometry(g.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&l(f.prototype,x),o}();y.nextGeometryId=0,b.default=y},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],325:[function(a,r,b){function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(l)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.math.hypot"),a("core-js/modules/es.math.sign"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.math.hypot"),a("core-js/modules/es.math.sign"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var m=(_=a("../core/main"))&&_.__esModule?_:{default:_},p=function(l){if(l&&l.__esModule)return l;if(l===null||S(l)!=="object"&&typeof l!="function")return{default:l};var y=A();if(y&&y.has(l))return y.get(l);var o,f={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in l){var g;Object.prototype.hasOwnProperty.call(l,o)&&((g=x?Object.getOwnPropertyDescriptor(l,o):null)&&(g.get||g.set)?Object.defineProperty(f,o,g):f[o]=l[o])}return f.default=l,y&&y.set(l,f),f}(a("../core/constants"));function A(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,A=function(){return l},l)}function S(l){return(S=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(y){return h(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":h(y)})(l)}m.default.prototype.orbitControl=function(l,y,o,T){var x=this,g=(this._assert3d("orbitControl"),m.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);l===void 0&&(l=1),y===void 0&&(y=l),o===void 0&&(o=1),S(T)!=="object"&&(T={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var I=T.disableTouchActions;this.touchActionsDisabled===!0||I!==void 0&&!I||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var D,E,C,I=T.freeRotation,T=I!==void 0&&I,O=[],I=(this.touches.forEach(function(V){x._renderer.prevTouches.forEach(function(k){V.id===k.id&&(k={x:V.x,y:V.y,px:k.x,py:k.y},O.push(k))})}),this._renderer.prevTouches=this.touches,0),M=0,F=0,B=0,j=0,L=this.height<this.width?this.height:this.width,R=!1;return 0<O.length?(R=0<O[0].x&&O[0].x<this.width&&0<O[0].y&&O[0].y<this.height,O.length===1?(M=-l*((D=O[0]).x-D.px)/L,F=y*(D.y-D.py)/L):(D=O[0],E=O[1],I=-(Math.hypot(D.x-E.x,D.y-E.y)-Math.hypot(D.px-E.px,D.py-E.py))*o*4e-4,B=.5*(D.x+E.x)-.5*(D.px+E.px),j=.5*(D.y+E.y)-.5*(D.py+E.py)),0<this.touches.length?R&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(R=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(I=Math.sign(this._mouseWheelDeltaY)*o,I*=.01,this._mouseWheelDeltaY=0,R&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(M=-l*this.movedX/L,F=y*this.movedY/L):this.mouseButton===this.RIGHT&&(B=this.movedX,j=this.movedY*g.yScale),R&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),I!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=I),.001<Math.abs(this._renderer.zoomVelocity)?(T?g._orbitFree(0,0,this._renderer.zoomVelocity):g._orbit(0,0,this._renderer.zoomVelocity),g.projMatrix.mat4[15]!==0&&(g.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),g.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=g.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=g.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,M===0&&F===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*M,.6*F),1e-6<this._renderer.rotateVelocity.magSq()?(T?g._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):g._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),B===0&&j===0||!this._renderer.executeRotateAndMove||(D=2*B/this.width,E=2*-j/this.height,this._renderer.moveVelocity.add(.15*D,.15*E)),1e-6<this._renderer.moveVelocity.magSq()?(o=g._getLocalAxes(),l=g.eyeX-g.centerX,y=g.eyeY-g.centerY,L=g.eyeZ-g.centerZ,R=Math.sqrt(l*l+y*y+L*L),I=new m.default.Vector(g.centerX,g.centerY,g.centerZ),I=g.cameraMatrix.multiplyPoint(I),(I=this._renderer.uPMatrix.multiplyAndNormalizePoint(I)).x-=this._renderer.moveVelocity.x,I.y-=this._renderer.moveVelocity.y,F=(M=this._renderer.uPMatrix.mat4)[15]===0?(C=(M[8]+I.x)/M[0]*R,(M[9]+I.y)/M[5]*R):(C=(I.x-M[12])/M[0],(I.y-M[13])/M[5]),g.setPosition(g.eyeX+C*o.x[0]+F*o.y[0],g.eyeY+C*o.x[1]+F*o.y[1],g.eyeZ+C*o.x[2]+F*o.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},m.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var l=arguments.length,y=new Array(l),o=0;o<l;o++)y[o]=arguments[o];m.default._validateParameters("debugMode",y);for(var f=this._registeredMethods.post.length-1;0<=f;f--)this._registeredMethods.post[f].toString()!==this._grid().toString()&&this._registeredMethods.post[f].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(f,1);y[0]===p.GRID?this.registerMethod("post",this._grid(y[1],y[2],y[3],y[4],y[5])):y[0]===p.AXES?this.registerMethod("post",this._axesIcon(y[1],y[2],y[3],y[4])):(this.registerMethod("post",this._grid(y[0],y[1],y[2],y[3],y[4])),this.registerMethod("post",this._axesIcon(y[5],y[6],y[7],y[8])))},m.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var l=this._registeredMethods.post.length-1;0<=l;l--)this._registeredMethods.post[l].toString()!==this._grid().toString()&&this._registeredMethods.post[l].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(l,1)},m.default.prototype._grid=function(l,y,o,f,x){l===void 0&&(l=this.width/2),y===void 0&&(y=Math.round(l/30)<4?4:Math.round(l/30)),o===void 0&&(o=0),f===void 0&&(f=0),x===void 0&&(x=0);var g=l/y,D=l/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix);for(var E=0;E<=y;E++)this.beginShape(this.LINES),this.vertex(-D+o,f,E*g-D+x),this.vertex(D+o,f,E*g-D+x),this.endShape();for(var C=0;C<=y;C++)this.beginShape(this.LINES),this.vertex(C*g-D+o,f,-D+x),this.vertex(C*g-D+o,f,D+x),this.endShape();this.pop()}},m.default.prototype._axesIcon=function(l,y,o,f){return l===void 0&&(l=40<this.width/20?this.width/20:40),y===void 0&&(y=-this.width/4),o===void 0&&(o=y),f===void 0&&(f=y),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(y,o,f),this.vertex(y+l,o,f),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(y,o,f),this.vertex(y,o+l,f),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(y,o,f),this.vertex(y,o,f+l),this.endShape(),this.pop()}};var _=m.default;b.default=_},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],326:[function(a,r,b){a("core-js/modules/es.array.filter"),a("core-js/modules/es.array.filter"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(a=a("../core/main"))&&a.__esModule?a:{default:a};h.default.prototype.ambientLight=function(m,p,A,S){this._assert3d("ambientLight"),h.default._validateParameters("ambientLight",arguments);var _=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(_._array[0],_._array[1],_._array[2]),this._renderer._enableLighting=!0,this},h.default.prototype.specularColor=function(m,p,A){this._assert3d("specularColor"),h.default._validateParameters("specularColor",arguments);var S=this.color.apply(this,arguments);return this._renderer.specularColors=[S._array[0],S._array[1],S._array[2]],this},h.default.prototype.directionalLight=function(m,x,f,S,_,l){this._assert3d("directionalLight"),h.default._validateParameters("directionalLight",arguments),m=m instanceof h.default.Color?m:this.color(m,x,f);var y,o,x=arguments[arguments.length-1],f=typeof x=="number"?(y=arguments[arguments.length-3],o=arguments[arguments.length-2],arguments[arguments.length-1]):(y=x.x,o=x.y,x.z),x=Math.sqrt(y*y+o*o+f*f);return this._renderer.directionalLightDirections.push(y/x,o/x,f/x),this._renderer.directionalLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},h.default.prototype.pointLight=function(m,f,x,S,_,l){this._assert3d("pointLight"),h.default._validateParameters("pointLight",arguments),m=m instanceof h.default.Color?m:this.color(m,f,x);var y,o,f=arguments[arguments.length-1],x=typeof f=="number"?(y=arguments[arguments.length-3],o=arguments[arguments.length-2],arguments[arguments.length-1]):(y=f.x,o=f.y,f.z);return this._renderer.pointLightPositions.push(y,o,x),this._renderer.pointLightDiffuseColors.push(m._array[0],m._array[1],m._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},h.default.prototype.imageLight=function(m){this._renderer.activeImageLight=m,this._renderer._enableLighting=!0},h.default.prototype.panorama=function(m){this.filter(this._renderer._getSphereMapping(m))},h.default.prototype.lights=function(){this._assert3d("lights");var m=this.color("rgb(128,128,128)");return this.ambientLight(m),this.directionalLight(m,0,0,-1),this},h.default.prototype.lightFalloff=function(m,p,A){return this._assert3d("lightFalloff"),h.default._validateParameters("lightFalloff",arguments),m<0&&(m=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),p<0&&(p=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),A<0&&(A=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),m===0&&p===0&&A===0&&(m=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=m,this._renderer.linearAttenuation=p,this._renderer.quadraticAttenuation=A,this},h.default.prototype.spotLight=function(m,p,A,S,_,l,y,o,f,x,g){this._assert3d("spotLight"),h.default._validateParameters("spotLight",arguments);var D,E,C,T=arguments.length;switch(T){case 11:case 10:D=this.color(m,p,A),E=new h.default.Vector(S,_,l),C=new h.default.Vector(y,o,f);break;case 9:m instanceof h.default.Color?(D=m,E=new h.default.Vector(p,A,S),C=new h.default.Vector(_,l,y),x=o,g=f):S instanceof h.default.Vector?(D=this.color(m,p,A),E=S,C=new h.default.Vector(_,l,y),x=o,g=f):y instanceof h.default.Vector?(D=this.color(m,p,A),E=new h.default.Vector(S,_,l),C=y,x=o,g=f):(D=this.color(m,p,A),E=new h.default.Vector(S,_,l),C=new h.default.Vector(y,o,f));break;case 8:x=(C=m instanceof h.default.Color?(D=m,E=new h.default.Vector(p,A,S),new h.default.Vector(_,l,y)):S instanceof h.default.Vector?(D=this.color(m,p,A),E=S,new h.default.Vector(_,l,y)):(D=this.color(m,p,A),E=new h.default.Vector(S,_,l),y),o);break;case 7:m instanceof h.default.Color&&p instanceof h.default.Vector?(D=m,E=p,C=new h.default.Vector(A,S,_),x=l,g=y):m instanceof h.default.Color&&_ instanceof h.default.Vector?(D=m,E=new h.default.Vector(p,A,S),C=_,x=l,g=y):S instanceof h.default.Vector&&_ instanceof h.default.Vector?(D=this.color(m,p,A),E=S,C=_,x=l,g=y):C=m instanceof h.default.Color?(D=m,E=new h.default.Vector(p,A,S),new h.default.Vector(_,l,y)):S instanceof h.default.Vector?(D=this.color(m,p,A),E=S,new h.default.Vector(_,l,y)):(D=this.color(m,p,A),E=new h.default.Vector(S,_,l),y);break;case 6:S instanceof h.default.Vector&&_ instanceof h.default.Vector?(D=this.color(m,p,A),E=S,C=_,x=l):m instanceof h.default.Color&&_ instanceof h.default.Vector?(D=m,E=new h.default.Vector(p,A,S),C=_,x=l):m instanceof h.default.Color&&p instanceof h.default.Vector&&(D=m,E=p,C=new h.default.Vector(A,S,_),x=l);break;case 5:m instanceof h.default.Color&&p instanceof h.default.Vector&&A instanceof h.default.Vector?(D=m,E=p,C=A,x=S,g=_):S instanceof h.default.Vector&&_ instanceof h.default.Vector?(D=this.color(m,p,A),E=S,C=_):m instanceof h.default.Color&&_ instanceof h.default.Vector?(D=m,E=new h.default.Vector(p,A,S),C=_):m instanceof h.default.Color&&p instanceof h.default.Vector&&(D=m,E=p,C=new h.default.Vector(A,S,_));break;case 4:D=m,E=p,C=A,x=S;break;case 3:D=m,E=p,C=A;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(T<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(D._array[0],D._array[1],D._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(E.x,E.y,E.z),C.normalize(),this._renderer.spotLightDirections.push(C.x,C.y,C.z),x===void 0&&(x=Math.PI/3),g!==void 0&&g<1?(g=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):g===void 0&&(g=100),x=this._renderer._pInst._toRadians(x),this._renderer.spotLightAngle.push(Math.cos(x)),this._renderer.spotLightConc.push(g),this._renderer._enableLighting=!0,this},h.default.prototype.noLights=function(){this._assert3d("noLights");for(var m=arguments.length,p=new Array(m),A=0;A<m;A++)p[A]=arguments[A];return h.default._validateParameters("noLights",p),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},a=h.default,b.default=a},{"../core/main":280,"core-js/modules/es.array.filter":156}],327:[function(a,r,b){function h(y){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(y)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.set"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.splice"),a("core-js/modules/es.object.assign"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.promise"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.set"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.match"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.trim"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,a("regenerator-runtime/runtime");var m=(l=a("../core/main"))&&l.__esModule?l:{default:l};function p(y){return function(o){if(Array.isArray(o)){for(var f=0,x=new Array(o.length);f<o.length;f++)x[f]=o[f];return x}}(y)||function(o){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]")return Array.from(o)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function A(y,o,f,x,g,D,E){try{var C=y[D](E),T=C.value}catch(O){return void f(O)}C.done?o(T):Promise.resolve(T).then(x,g)}function S(y){return function(){var o=this,f=arguments;return new Promise(function(x,g){var D=y.apply(o,f);function E(T){A(D,x,g,E,C,"next",T)}function C(T){A(D,x,g,E,C,"throw",T)}E(void 0)})}}function _(y){return(_=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(o){return h(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":h(o)})(y)}a("./p5.Geometry"),m.default.prototype.loadModel=function(y,o){m.default._validateParameters("loadModel",arguments);var f,x,g=!1,D=!1,E=!1,C=y.slice(-4),T=(o&&_(o)==="object"?(g=o.normalize||!1,f=o.successCallback,x=o.failureCallback,C=o.fileType||C,D=o.flipU||!1,E=o.flipV||!1):typeof o=="boolean"?(g=o,f=arguments[2],x=arguments[3],arguments[4]!==void 0&&(C=arguments[4])):(f=typeof o=="function"?o:void 0,x=arguments[2],arguments[3]!==void 0&&(C=arguments[3])),new m.default.Geometry),O=(T.gid="".concat(y,"|").concat(g),this);function I(){return(I=S(regeneratorRuntime.mark(function F(B){var j,L,R,V;return regeneratorRuntime.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:for(j=[],L=0;L<B.length;L++)(R=B[L].match(/^mtllib (.+)/))&&function(){var U="",G=R[1],H=y.split("/");U=1<H.length?(H.pop(),H.join("/")+"/"+G):G,j.push(function(){return M.apply(this,arguments)}(U).then(function(X){return X?(Z=O,J=U,new Promise(function(ee,$){var W=null,Q={};Z.loadStrings(J,function(te){for(var ce=0;ce<te.length;++ce){var oe,ue=te[ce].trim().split(/\s+/);ue[0]==="newmtl"?(oe=ue[1],Q[W=oe]={}):ue[0]==="Kd"?Q[W].diffuseColor=[parseFloat(ue[1]),parseFloat(ue[2]),parseFloat(ue[3])]:ue[0]==="Ka"?Q[W].ambientColor=[parseFloat(ue[1]),parseFloat(ue[2]),parseFloat(ue[3])]:ue[0]==="Ks"?Q[W].specularColor=[parseFloat(ue[1]),parseFloat(ue[2]),parseFloat(ue[3])]:ue[0]==="map_Kd"&&(Q[W].texturePath=ue[1])}ee(Q)},$)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(U)),{});var Z,J}).catch(function(X){return console.warn("Error loading MTL file: ".concat(U),X),{}}))}();return k.prev=2,k.next=5,Promise.all(j);case 5:return V=k.sent,V=Object.assign.apply(Object,[{}].concat(p(V))),k.abrupt("return",V);case 10:return k.prev=10,k.t0=k.catch(2),k.abrupt("return",{});case 13:case"end":return k.stop()}},F,null,[[2,10]])}))).apply(this,arguments)}function M(){return(M=S(regeneratorRuntime.mark(function F(B){var j;return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.prev=0,L.next=3,fetch(B,{method:"HEAD"});case 3:return j=L.sent,L.abrupt("return",j.ok);case 7:return L.prev=7,L.t0=L.catch(0),L.abrupt("return",!1);case 10:case"end":return L.stop()}},F,null,[[0,7]])}))).apply(this,arguments)}return C.match(/\.stl$/i)?this.httpDo(y,"GET","arrayBuffer",function(F){(function(B,j){if(function(L){for(var R=new DataView(L),V=[115,111,108,105,100],k=0;k<5;k++)if(function(U,G,H){for(var X=0,Z=U.length;X<Z;X++)if(U[X]!==G.getUint8(H+X,!1))return;return 1}(V,R,k))return;return 1}(j))(function(L,R){for(var V,k,U,G,H,X,Z,J=new DataView(R),ee=J.getUint32(80,!0),$=!1,W=0;W<70;W++)J.getUint32(W,!1)===1129270351&&J.getUint8(W+4)===82&&J.getUint8(W+5)===61&&($=!0,G=[],H=J.getUint8(W+6)/255,X=J.getUint8(W+7)/255,Z=J.getUint8(W+8)/255);for(var Q=0;Q<ee;Q++){for(var te,ce=84+50*Q,oe=J.getFloat32(ce,!0),ue=J.getFloat32(4+ce,!0),we=J.getFloat32(8+ce,!0),le=($&&(te=J.getUint16(48+ce,!0),U=32768&te?(V=H,k=X,Z):(V=(31&te)/31,k=(te>>5&31)/31,(te>>10&31)/31)),new m.default.Vector(oe,ue,we)),fe=1;fe<=3;fe++){var ve=ce+12*fe,ve=new m.default.Vector(J.getFloat32(ve,!0),J.getFloat32(4+ve,!0),J.getFloat32(8+ve,!0));L.vertices.push(ve),L.vertexNormals.push(le),$&&G.push(V,k,U)}L.faces.push([3*Q,3*Q+1,3*Q+2]),L.uvs.push([0,0],[0,0],[0,0])}})(B,j);else{if(j=new DataView(j),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");j=new TextDecoder("utf-8").decode(j).split(`
`),function(L,R){for(var V,k,U="",G=[],H=0;H<R.length;++H){for(var X=R[H].trim(),Z=X.split(" "),J=0;J<Z.length;++J)Z[J]===""&&Z.splice(J,1);if(Z.length!==0)switch(U){case"":if(Z[0]!=="solid")return console.error(X),console.error('Invalid state "'.concat(Z[0],'", should be "solid"'));U="solid";break;case"solid":if(Z[0]!=="facet"||Z[1]!=="normal")return console.error(X),console.error('Invalid state "'.concat(Z[0],'", should be "facet normal"'));V=new m.default.Vector(parseFloat(Z[2]),parseFloat(Z[3]),parseFloat(Z[4])),L.vertexNormals.push(V,V,V),U="facet normal";break;case"facet normal":if(Z[0]!=="outer"||Z[1]!=="loop")return console.error(X),console.error('Invalid state "'.concat(Z[0],'", should be "outer loop"'));U="vertex";break;case"vertex":if(Z[0]==="vertex")k=new m.default.Vector(parseFloat(Z[1]),parseFloat(Z[2]),parseFloat(Z[3])),L.vertices.push(k),L.uvs.push([0,0]),G.push(L.vertices.indexOf(k));else{if(Z[0]!=="endloop")return console.error(X),console.error('Invalid state "'.concat(Z[0],'", should be "vertex" or "endloop"'));L.faces.push(G),G=[],U="endloop"}break;case"endloop":if(Z[0]!=="endfacet")return console.error(X),console.error('Invalid state "'.concat(Z[0],'", should be "endfacet"'));U="endfacet";break;case"endfacet":if(Z[0]!=="endsolid"){if(Z[0]!=="facet"||Z[1]!=="normal")return console.error(X),console.error('Invalid state "'.concat(Z[0],'", should be "endsolid" or "facet normal"'));V=new m.default.Vector(parseFloat(Z[2]),parseFloat(Z[3]),parseFloat(Z[4])),L.vertexNormals.push(V,V,V),U="facet normal"}break;default:console.error('Invalid state "'.concat(U,'"'))}}}(B,j)}})(T,F),g&&T.normalize(),D&&T.flipU(),E&&T.flipV(),O._decrementPreload(),typeof f=="function"&&f(T)},x):C.match(/\.obj$/i)?this.loadStrings(y,function(){var F=S(regeneratorRuntime.mark(function B(j){var L;return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.prev=0,R.next=3,function(){return I.apply(this,arguments)}(j);case 3:L=R.sent,function(V,k){for(var U=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},G={v:[],vt:[],vn:[]},H={},X=null,Z=new Set,J=!1,ee=!1,$=0;$<k.length;++$){var W=k[$].trim().split(/\b\s+/);if(0<W.length){if(W[0]==="usemtl")X=W[1];else if(W[0]==="v"||W[0]==="vn"){var Q=new m.default.Vector(parseFloat(W[1]),parseFloat(W[2]),parseFloat(W[3]));G[W[0]].push(Q)}else if(W[0]==="vt")Q=[parseFloat(W[1]),1-parseFloat(W[2])],G[W[0]].push(Q);else if(W[0]==="f")for(var te=3;te<W.length;++te){for(var ce=[],oe=[1,te-1,te],ue=0;ue<oe.length;++ue){for(var we,le=W[oe[ue]].split("/"),fe=0;fe<le.length;fe++)le[fe]=parseInt(le[fe])-1;H[le[0]]||(H[le[0]]={}),H[le[0]][X]===void 0?(we=V.vertices.length,V.vertices.push(G.v[le[0]].copy()),V.uvs.push(G.vt[le[1]]?G.vt[le[1]].slice():[0,0]),V.vertexNormals.push(G.vn[le[2]]?G.vn[le[2]].copy():new m.default.Vector),H[le[0]][X]=we,ce.push(we),X&&U[X]&&U[X].diffuseColor&&Z.add(G.v[le[0]])):ce.push(H[le[0]][X])}if(ce[0]!==ce[1]&&ce[0]!==ce[2]&&ce[1]!==ce[2])if(V.faces.push(ce),X&&U[X]&&U[X].diffuseColor){J=J=!0;for(var ve=U[X].diffuseColor,pe=0;pe<ce.length;pe++)V.vertexColors.push(ve[0]),V.vertexColors.push(ve[1]),V.vertexColors.push(ve[2])}else ee=!0}}}if(V.vertexNormals.length===0&&V.computeNormals(),J===ee)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}(T,j,L),R.next=11;break;case 7:return R.prev=7,R.t0=R.catch(0),x?x(R.t0):m.default._friendlyError("Error during parsing: "+R.t0.message),R.abrupt("return");case 11:return R.prev=11,g&&T.normalize(),D&&T.flipU(),E&&T.flipV(),O._decrementPreload(),typeof f=="function"&&f(T),R.finish(11);case 18:case"end":return R.stop()}},B,null,[[0,7,11,18]])}));return function(B){return F.apply(this,arguments)}}(),x):(m.default._friendlyFileLoadError(3,y),x?x():m.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),T},m.default.prototype.model=function(y){this._assert3d("model"),m.default._validateParameters("model",arguments),0<y.vertices.length&&(this._renderer.geometryInHash(y.gid)||(y.edges.length===0&&y._makeTriangleEdges(),y._edgesToVertices(),this._renderer.createBuffers(y.gid,y)),this._renderer.drawBuffers(y.gid))};var l=m.default;b.default=l},{"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243,"regenerator-runtime/runtime":257}],328:[function(a,r,b){function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(l)}function m(l){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(y){return h(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":h(y)})(l)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.includes"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.join"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.includes"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(_=a("../core/main"))&&_.__esModule?_:{default:_},A=function(l){if(l&&l.__esModule)return l;if(l===null||m(l)!=="object"&&typeof l!="function")return{default:l};var y=S();if(y&&y.has(l))return y.get(l);var o,f={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in l){var g;Object.prototype.hasOwnProperty.call(l,o)&&((g=x?Object.getOwnPropertyDescriptor(l,o):null)&&(g.get||g.set)?Object.defineProperty(f,o,g):f[o]=l[o])}return f.default=l,y&&y.set(l,f),f}(a("../core/constants"));function S(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,S=function(){return l},l)}a("./p5.Texture"),p.default.prototype.loadShader=function(l,y,o,f){p.default._validateParameters("loadShader",arguments),f=f||console.error;function x(){D._decrementPreload(),o&&o(g)}var g=new p.default.Shader,D=this,E=!1,C=!1;return this.loadStrings(l,function(T){g._vertSrc=T.join(`
`),C=!0,E&&x()},f),this.loadStrings(y,function(T){g._fragSrc=T.join(`
`),E=!0,C&&x()},f),g},p.default.prototype.createShader=function(l,y){return p.default._validateParameters("createShader",arguments),new p.default.Shader(this._renderer,l,y)},p.default.prototype.createFilterShader=function(l){p.default._validateParameters("createFilterShader",arguments);var y=l.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,y=new p.default.Shader(this._renderer,y,l);return this._renderer.GL?y.ensureCompiledOnContext(this):y.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),y},p.default.prototype.shader=function(l){return this._assert3d("shader"),p.default._validateParameters("shader",arguments),l.ensureCompiledOnContext(this),l.isStrokeShader()?this._renderer.userStrokeShader=l:(this._renderer.userFillShader=l,this._renderer._useNormalMaterial=!1),this},p.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},p.default.prototype.texture=function(l){return this._assert3d("texture"),p.default._validateParameters("texture",arguments),l.gifProperties&&l._animateGif(this),this._renderer.drawMode=A.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=l,this._renderer._setProperty("_doFill",!0),this},p.default.prototype.textureMode=function(l){l!==A.IMAGE&&l!==A.NORMAL?console.warn("You tried to set ".concat(l," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=l},p.default.prototype.textureWrap=function(l){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:l,o=(this._renderer.textureWrapX=l,this._renderer.textureWrapY=y,!0),f=!1,x=void 0;try{for(var g,D=this._renderer.textures.values()[Symbol.iterator]();!(o=(g=D.next()).done);o=!0)g.value.setWrapMode(l,y)}catch(E){f=!0,x=E}finally{try{o||D.return==null||D.return()}finally{if(f)throw x}}},p.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var l=arguments.length,y=new Array(l),o=0;o<l;o++)y[o]=arguments[o];return p.default._validateParameters("normalMaterial",y),this._renderer.drawMode=A.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},p.default.prototype.ambientMaterial=function(l,y,o){this._assert3d("ambientMaterial"),p.default._validateParameters("ambientMaterial",arguments);var f=p.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=f._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},p.default.prototype.emissiveMaterial=function(l,y,o,f){this._assert3d("emissiveMaterial"),p.default._validateParameters("emissiveMaterial",arguments);var x=p.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=x._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},p.default.prototype.specularMaterial=function(l,y,o,f){this._assert3d("specularMaterial"),p.default._validateParameters("specularMaterial",arguments);var x=p.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=x._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},p.default.prototype.shininess=function(l){return this._assert3d("shininess"),p.default._validateParameters("shininess",arguments),this._renderer._useShininess=l=l<1?1:l,this},p.default.prototype.metalness=function(l){return this._assert3d("metalness"),l=1-Math.exp(-l/100),this._renderer._useMetalness=l,this},p.default.RendererGL.prototype._applyColorBlend=function(l,x){var o=this.GL,f=this.drawMode===A.TEXTURE,x=x||this.userFillShader||this.userStrokeShader||this.userPointShader||f||this.curBlendMode!==A.BLEND||l[l.length-1]<1||this._isErasing;return x!==this._isBlending&&(x||this.curBlendMode!==A.BLEND&&this.curBlendMode!==A.ADD?o.enable(o.BLEND):o.disable(o.BLEND),o.depthMask(!0),this._isBlending=x),this._applyBlendMode(),l},p.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var l=this.GL;switch(this.curBlendMode){case A.BLEND:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA);break;case A.ADD:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ONE,l.ONE);break;case A.REMOVE:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ZERO,l.ONE_MINUS_SRC_ALPHA);break;case A.MULTIPLY:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.DST_COLOR,l.ONE_MINUS_SRC_ALPHA);break;case A.SCREEN:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_COLOR);break;case A.EXCLUSION:l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(l.ONE_MINUS_DST_COLOR,l.ONE_MINUS_SRC_COLOR,l.ONE,l.ONE);break;case A.REPLACE:l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ONE,l.ZERO);break;case A.SUBTRACT:l.blendEquationSeparate(l.FUNC_REVERSE_SUBTRACT,l.FUNC_ADD),l.blendFuncSeparate(l.ONE,l.ONE,l.ONE,l.ONE_MINUS_SRC_ALPHA);break;case A.DARKEST:this.blendExt?(l.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,l.FUNC_ADD),l.blendFuncSeparate(l.ONE,l.ONE,l.ONE,l.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case A.LIGHTEST:this.blendExt?(l.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,l.FUNC_ADD),l.blendFuncSeparate(l.ONE,l.ONE,l.ONE,l.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var _=p.default;b.default=_},{"../core/constants":269,"../core/main":280,"./p5.Texture":339,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],329:[function(a,r,b){a("core-js/modules/es.array.slice"),a("core-js/modules/es.math.hypot"),a("core-js/modules/es.string.sub"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.math.hypot"),a("core-js/modules/es.string.sub"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(a=a("../core/main"))&&a.__esModule?a:{default:a};function m(p,A){for(var S=0;S<A.length;S++){var _=A[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}h.default.prototype.camera=function(){var p;this._assert3d("camera");for(var A=arguments.length,S=new Array(A),_=0;_<A;_++)S[_]=arguments[_];return h.default._validateParameters("camera",S),(p=this._renderer._curCamera).camera.apply(p,S),this},h.default.prototype.perspective=function(){var p;this._assert3d("perspective");for(var A=arguments.length,S=new Array(A),_=0;_<A;_++)S[_]=arguments[_];return h.default._validateParameters("perspective",S),(p=this._renderer._curCamera).perspective.apply(p,S),this},h.default.prototype.linePerspective=function(p){if(h.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof h.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(p===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=p},h.default.prototype.ortho=function(){var p;this._assert3d("ortho");for(var A=arguments.length,S=new Array(A),_=0;_<A;_++)S[_]=arguments[_];return h.default._validateParameters("ortho",S),(p=this._renderer._curCamera).ortho.apply(p,S),this},h.default.prototype.frustum=function(){var p;this._assert3d("frustum");for(var A=arguments.length,S=new Array(A),_=0;_<A;_++)S[_]=arguments[_];return h.default._validateParameters("frustum",S),(p=this._renderer._curCamera).frustum.apply(p,S),this},h.default.prototype.createCamera=function(){this._assert3d("createCamera");var p=new h.default.Camera(this._renderer);return p._computeCameraDefaultSettings(),p._setDefaultCamera(),this._renderer._curCamera=p},h.default.Camera=function(){function p(_){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this._renderer=_,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new h.default.Matrix,this.projMatrix=new h.default.Matrix,this.yScale=1}var A,S;return A=p,(S=[{key:"perspective",value:function(f,l,y,o){this.cameraType=0<arguments.length?"custom":"default",f===void 0?(f=this.defaultCameraFOV,this.cameraFOV=f):this.cameraFOV=this._renderer._pInst._toRadians(f),l===void 0&&(l=this.defaultAspectRatio),y===void 0&&(y=this.defaultCameraNear),o===void 0&&(o=this.defaultCameraFar),y<=1e-4&&(y=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),o<y&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=l,this.cameraNear=y,this.cameraFar=o,this.projMatrix=h.default.Matrix.identity();var f=1/Math.tan(this.cameraFOV/2),x=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(f/l,0,0,0,0,-f*this.yScale,0,0,0,0,(o+y)*x,-1,0,0,2*o*y*x,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(I,O,y,o,f,x){I===void 0&&(I=-this._renderer.width/2),O===void 0&&(O=+this._renderer.width/2),y===void 0&&(y=-this._renderer.height/2),o===void 0&&(o=+this._renderer.height/2),f===void 0&&(f=0),x===void 0&&(x=Math.max(this._renderer.width,this._renderer.height)+800),this.cameraNear=f;var M=O-I,g=o-y,D=(this.cameraFar=x)-f,E=2/M,C=2/g*this.yScale,T=-2/D,O=-(O+I)/M,I=-(o+y)/g,M=-(x+f)/D;this.projMatrix=h.default.Matrix.identity(),this.projMatrix.set(E,0,0,0,0,-C,0,0,0,0,T,0,O,I,M,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(I,O,y,o,f,x){I===void 0&&(I=.05*-this._renderer.width),O===void 0&&(O=.05*+this._renderer.width),y===void 0&&(y=.05*+this._renderer.height),o===void 0&&(o=.05*-this._renderer.height),f===void 0&&(f=this.defaultCameraNear),x===void 0&&(x=this.defaultCameraFar),this.cameraNear=f;var M=O-I,g=o-y,D=(this.cameraFar=x)-f,E=2*f/M,C=2*f/g*this.yScale,T=-2*x*f/D,O=(O+I)/M,I=(o+y)/g,M=-(x+f)/D;this.projMatrix=h.default.Matrix.identity(),this.projMatrix.set(E,0,0,0,0,-C,0,0,O,I,M,-1,0,0,T,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(E,l,y,o){var f=this.centerX,x=this.centerY,g=this.centerZ,D=(f-=this.eyeX,x-=this.eyeY,g-=this.eyeZ,h.default.Matrix.identity(this._renderer._pInst)),E=(D.rotate(this._renderer._pInst._toRadians(E),l,y,o),[f*D.mat4[0]+x*D.mat4[4]+g*D.mat4[8],f*D.mat4[1]+x*D.mat4[5]+g*D.mat4[9],f*D.mat4[2]+x*D.mat4[6]+g*D.mat4[10]]);E[0]+=this.eyeX,E[1]+=this.eyeY,E[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,E[0],E[1],E[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(_){var l=this._getLocalAxes();this._rotateView(_,l.y[0],l.y[1],l.y[2])}},{key:"tilt",value:function(_){var l=this._getLocalAxes();this._rotateView(_,l.x[0],l.x[1],l.x[2])}},{key:"lookAt",value:function(_,l,y){this.camera(this.eyeX,this.eyeY,this.eyeZ,_,l,y,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(_,l,y,o,f,x,g,D,E){return _===void 0&&(_=this.defaultEyeX,l=this.defaultEyeY,y=this.defaultEyeZ,o=_,f=l,D=1,E=g=x=0),this.eyeX=_,this.eyeY=l,this.eyeZ=y,o!==void 0&&(this.centerX=o,this.centerY=f,this.centerZ=x),g!==void 0&&(this.upX=g,this.upY=D,this.upZ=E),o=this._getLocalAxes(),this.cameraMatrix.set(o.x[0],o.y[0],o.z[0],0,o.x[1],o.y[1],o.z[1],0,o.x[2],o.y[2],o.z[2],0,0,0,0,1),f=-_,this.cameraMatrix.translate([f,-l,-y]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(o,f,y){var x=this._getLocalAxes(),o=[x.x[0]*o,x.x[1]*o,x.x[2]*o],f=[x.y[0]*f,x.y[1]*f,x.y[2]*f],x=[x.z[0]*y,x.z[1]*y,x.z[2]*y];this.camera(this.eyeX+o[0]+f[0]+x[0],this.eyeY+o[1]+f[1]+x[1],this.eyeZ+o[2]+f[2]+x[2],this.centerX+o[0]+f[0]+x[0],this.centerY+o[1]+f[1]+x[1],this.centerZ+o[2]+f[2]+x[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(_,l,y){var o=_-this.eyeX,f=l-this.eyeY,x=y-this.eyeZ;this.camera(_,l,y,this.centerX+o,this.centerY+f,this.centerZ+x,this.upX,this.upY,this.upZ)}},{key:"set",value:function(_){for(var l=0,y=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];l<y.length;l++){var o=y[l];this[o]=_[o]}this.cameraMatrix=_.cameraMatrix.copy(),this.projMatrix=_.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(_,l,y){var o,f,x,g,D,E,C,T,O,I,M,F,B,j,L,R,V,k;y===0?this.set(_):y===1?this.set(l):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=_.projMatrix.mat4[0]*Math.pow(l.projMatrix.mat4[0]/_.projMatrix.mat4[0],y),this.projMatrix.mat4[5]=_.projMatrix.mat4[5]*Math.pow(l.projMatrix.mat4[5]/_.projMatrix.mat4[5],y),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),g=new h.default.Vector(_.eyeX,_.eyeY,_.eyeZ),D=new h.default.Vector(l.eyeX,l.eyeY,l.eyeZ),R=new h.default.Vector(_.centerX,_.centerY,_.centerZ),k=new h.default.Vector(l.centerX,l.centerY,l.centerZ),x=h.default.Vector.dist(g,R),o=h.default.Vector.dist(D,k),o=x*Math.pow(o/x,y),x=h.default.Vector.sub(g,D),f=1,1e-6<(V=(j=g.copy().sub(D).sub(R).add(k)).magSq())&&(f=h.default.Vector.dot(x,j)/V,f=Math.max(0,Math.min(f,1))),x=h.default.Vector.lerp(h.default.Vector.lerp(g,R,f),h.default.Vector.lerp(D,k,f),y),j=_.cameraMatrix.createSubMatrix3x3(),V=l.cameraMatrix.createSubMatrix3x3(),g=j.row(2),R=V.row(2),D=j.row(1),k=V.row(1),_=new h.default.Vector,l=new h.default.Vector,E=new h.default.Vector,C=new h.default.Vector,1-(T=.5*((j=(V=V.mult3x3(j.copy().transpose3x3())).diagonal())[0]+j[1]+j[2]-1))<1e-7?(_.set(h.default.Vector.lerp(g,R,y)).normalize(),E.set(_).mult(f*o).add(x),C.set(_).mult((f-1)*o).add(x),l.set(h.default.Vector.lerp(D,k,y)).normalize()):(R=1/(1-T),k=Math.max(j[0],j[1],j[2]),F=V.mat3[1]+V.mat3[3],B=V.mat3[2]+V.mat3[6],L=V.mat3[5]+V.mat3[7],k=k===j[0]?(I=.5*F*(R/=O=Math.sqrt((j[0]-T)*R)),M=.5*B*R,.5*(V.mat3[7]-V.mat3[5])/O):k===j[1]?(M=.5*L*(R/=I=Math.sqrt((j[1]-T)*R)),O=.5*F*R,.5*(V.mat3[2]-V.mat3[6])/I):(O=.5*B*(R/=M=Math.sqrt((j[2]-T)*R)),I=.5*L*R,.5*(V.mat3[3]-V.mat3[1])/M),F=y*Math.atan2(k,T),B=Math.cos(F),j=Math.sin(F),(k=new h.default.Matrix("mat3",[B+(L=1-B)*O*O,L*(R=O*I)+j*M,L*(V=M*O)-j*I,L*R-j*M,B+L*I*I,L*(y=I*M)+j*O,L*V+j*I,L*y-j*O,B+L*M*M])).multiplyVec3(g,_),E.set(_).mult(f*o).add(x),C.set(_).mult((f-1)*o).add(x),k.multiplyVec3(D,l)),this.camera(E.x,E.y,E.z,C.x,C.y,C.z,l.x,l.y,l.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var _=new h.default.Camera(this._renderer);return _.cameraFOV=this.cameraFOV,_.aspectRatio=this.aspectRatio,_.eyeX=this.eyeX,_.eyeY=this.eyeY,_.eyeZ=this.eyeZ,_.centerX=this.centerX,_.centerY=this.centerY,_.centerZ=this.centerZ,_.upX=this.upX,_.upY=this.upY,_.upZ=this.upZ,_.cameraNear=this.cameraNear,_.cameraFar=this.cameraFar,_.cameraType=this.cameraType,_.cameraMatrix=this.cameraMatrix.copy(),_.projMatrix=this.projMatrix.copy(),_.yScale=this.yScale,_}},{key:"_getLocalAxes",value:function(){var _=this.eyeX-this.centerX,l=this.eyeY-this.centerY,y=this.eyeZ-this.centerZ,g=Math.sqrt(_*_+l*l+y*y),g=(g!==0&&(_/=g,l/=g,y/=g),this.upX),o=(D=this.upY)*y-(E=this.upZ)*l,f=-g*y+E*_,x=g*l-D*_,g=l*x-y*f,D=-_*x+y*o,E=_*f-l*o,C=Math.sqrt(o*o+f*f+x*x),C=(C!==0&&(o/=C,f/=C,x/=C),Math.sqrt(g*g+D*D+E*E));return C!==0&&(g/=C,D/=C,E/=C),{x:[o,f,x],y:[g,D,E],z:[_,l,y]}}},{key:"_orbit",value:function(_,C,E){var f=this.eyeX-this.centerX,x=this.eyeY-this.centerY,g=this.eyeZ-this.centerZ,o=Math.hypot(f,x,g),f=new h.default.Vector(f,x,g).normalize(),x=new h.default.Vector(this.upX,this.upY,this.upZ).normalize(),g=h.default.Vector.cross(x,f).normalize(),D=h.default.Vector.cross(g,x),E=((o=(o*=Math.pow(10,E))<this.cameraNear?this.cameraNear:o)>this.cameraFar&&(o=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,h.default.Vector.dot(f,x))))+C),C=_;(E<=0||E>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),x.mult(Math.cos(E)),D.mult(Math.cos(C)*Math.sin(E)),g.mult(Math.sin(C)*Math.sin(E)),f.set(x).add(D).add(g),this.eyeX=o*f.x+this.centerX,this.eyeY=o*f.y+this.centerY,this.eyeZ=o*f.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(E,C,O){var f=this.eyeX-this.centerX,x=this.eyeY-this.centerY,g=this.eyeZ-this.centerZ,o=Math.hypot(f,x,g),f=new h.default.Vector(f,x,g).normalize(),x=new h.default.Vector(this.upX,this.upY,this.upZ),g=h.default.Vector.cross(x,f).normalize(),D=h.default.Vector.cross(f,g),I=Math.atan2(C,E),I=(D.mult(Math.sin(I)),g.mult(Math.cos(I)).add(D),Math.sqrt(E*E+C*C)),D=h.default.Vector.cross(f,g),E=((o=(o*=Math.pow(10,O))<this.cameraNear?this.cameraNear:o)>this.cameraFar&&(o=this.cameraFar),Math.cos(I)),C=Math.sin(I),O=x.dot(f),I=x.dot(g),T=O*E+I*C,O=-O*C+I*E,I=x.dot(D);x.x=T*f.x+O*g.x+I*D.x,x.y=T*f.y+O*g.y+I*D.y,x.z=T*f.z+O*g.z+I*D.z,g.mult(-C),f.mult(E).add(g).mult(o),this.camera(f.x+this.centerX,f.y+this.centerY,f.z+this.centerZ,this.centerX,this.centerY,this.centerZ,x.x,x.y,x.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&m(A.prototype,S),p}(),h.default.prototype.setCamera=function(p){this._renderer._curCamera=p,this._renderer.uPMatrix.set(p.projMatrix)},a=h.default.Camera,b.default=a},{"../core/main":280,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.string.sub":205}],330:[function(a,r,b){a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.math.log2"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.typed-array.float32-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.math.log2"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.typed-array.float32-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a};function h(m,p){for(var A=0;A<p.length;A++){var S=p[A];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}a.default.DataArray=function(){function m(){var S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,_=this,l=m;if(!(_ instanceof l))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(S),this.initialLength=S}var p,A;return p=m,(A=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var S;this.length<this.data.length/2&&(S=1<<Math.ceil(Math.log2(this.length)),(S=new Float32Array(S)).set(this.data.subarray(0,this.length),0),this.data=S)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var S=arguments.length,_=new Array(S),l=0;l<S;l++)_[l]=arguments[l];this.ensureLength(this.length+_.length),this.data.set(_,this.length),this.length+=_.length}},{key:"slice",value:function(S,_){return this.data.slice(S,Math.min(_,this.length))}},{key:"subArray",value:function(S,_){return this.data.subarray(S,Math.min(_,this.length))}},{key:"ensureLength",value:function(S){for(;this.data.length<S;){var _=new Float32Array(2*this.data.length);_.set(this.data,0),this.data=_}}}])&&h(p.prototype,A),m}(),a=a.default.DataArray,b.default=a},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.log2":176,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],331:[function(F,r,b){function h(B){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(B)}function m(B){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(j){return h(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":h(j)})(B)}F("core-js/modules/es.symbol"),F("core-js/modules/es.symbol.description"),F("core-js/modules/es.symbol.iterator"),F("core-js/modules/es.array.fill"),F("core-js/modules/es.array.includes"),F("core-js/modules/es.array.iterator"),F("core-js/modules/es.object.get-own-property-descriptor"),F("core-js/modules/es.object.get-prototype-of"),F("core-js/modules/es.object.to-string"),F("core-js/modules/es.reflect.construct"),F("core-js/modules/es.reflect.get"),F("core-js/modules/es.regexp.to-string"),F("core-js/modules/es.string.includes"),F("core-js/modules/es.string.iterator"),F("core-js/modules/es.typed-array.float32-array"),F("core-js/modules/es.typed-array.uint8-array"),F("core-js/modules/es.typed-array.uint8-clamped-array"),F("core-js/modules/es.typed-array.copy-within"),F("core-js/modules/es.typed-array.every"),F("core-js/modules/es.typed-array.fill"),F("core-js/modules/es.typed-array.filter"),F("core-js/modules/es.typed-array.find"),F("core-js/modules/es.typed-array.find-index"),F("core-js/modules/es.typed-array.for-each"),F("core-js/modules/es.typed-array.includes"),F("core-js/modules/es.typed-array.index-of"),F("core-js/modules/es.typed-array.iterator"),F("core-js/modules/es.typed-array.join"),F("core-js/modules/es.typed-array.last-index-of"),F("core-js/modules/es.typed-array.map"),F("core-js/modules/es.typed-array.reduce"),F("core-js/modules/es.typed-array.reduce-right"),F("core-js/modules/es.typed-array.reverse"),F("core-js/modules/es.typed-array.set"),F("core-js/modules/es.typed-array.slice"),F("core-js/modules/es.typed-array.some"),F("core-js/modules/es.typed-array.sort"),F("core-js/modules/es.typed-array.subarray"),F("core-js/modules/es.typed-array.to-locale-string"),F("core-js/modules/es.typed-array.to-string"),F("core-js/modules/es.weak-map"),F("core-js/modules/web.dom-collections.iterator"),F("core-js/modules/es.array.fill"),F("core-js/modules/es.array.includes"),F("core-js/modules/es.array.iterator"),F("core-js/modules/es.object.get-prototype-of"),F("core-js/modules/es.object.to-string"),F("core-js/modules/es.string.includes"),F("core-js/modules/es.typed-array.float32-array"),F("core-js/modules/es.typed-array.uint8-array"),F("core-js/modules/es.typed-array.uint8-clamped-array"),F("core-js/modules/es.typed-array.copy-within"),F("core-js/modules/es.typed-array.every"),F("core-js/modules/es.typed-array.fill"),F("core-js/modules/es.typed-array.filter"),F("core-js/modules/es.typed-array.find"),F("core-js/modules/es.typed-array.find-index"),F("core-js/modules/es.typed-array.for-each"),F("core-js/modules/es.typed-array.includes"),F("core-js/modules/es.typed-array.index-of"),F("core-js/modules/es.typed-array.iterator"),F("core-js/modules/es.typed-array.join"),F("core-js/modules/es.typed-array.last-index-of"),F("core-js/modules/es.typed-array.map"),F("core-js/modules/es.typed-array.reduce"),F("core-js/modules/es.typed-array.reduce-right"),F("core-js/modules/es.typed-array.reverse"),F("core-js/modules/es.typed-array.set"),F("core-js/modules/es.typed-array.slice"),F("core-js/modules/es.typed-array.some"),F("core-js/modules/es.typed-array.sort"),F("core-js/modules/es.typed-array.subarray"),F("core-js/modules/es.typed-array.to-locale-string"),F("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(M=F("../core/main"))&&M.__esModule?M:{default:M},A=function(B){if(B&&B.__esModule)return B;if(B===null||m(B)!=="object"&&typeof B!="function")return{default:B};var j=l();if(j&&j.has(B))return j.get(B);var L,R={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(L in B){var k;Object.prototype.hasOwnProperty.call(B,L)&&((k=V?Object.getOwnPropertyDescriptor(B,L):null)&&(k.get||k.set)?Object.defineProperty(R,L,k):R[L]=B[L])}return R.default=B,j&&j.set(B,R),R}(F("../core/constants")),S=F("./p5.Texture"),_=F("./p5.RendererGL");function l(){var B;return typeof WeakMap!="function"?null:(B=new WeakMap,l=function(){return B},B)}function y(B,j){return function(L){if(Array.isArray(L))return L}(B)||function(L,R){if(Symbol.iterator in Object(L)||Object.prototype.toString.call(L)==="[object Arguments]"){var V=[],k=!0,U=!1,G=void 0;try{for(var H,X=L[Symbol.iterator]();!(k=(H=X.next()).done)&&(V.push(H.value),!R||V.length!==R);k=!0);}catch(Z){U=!0,G=Z}finally{try{k||X.return==null||X.return()}finally{if(U)throw G}}return V}}(B,j)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(B,j,L){return j in B?Object.defineProperty(B,j,{value:L,enumerable:!0,configurable:!0,writable:!0}):B[j]=L,B}function f(B,j){if(!(B instanceof j))throw new TypeError("Cannot call a class as a function")}function x(B,j){for(var L=0;L<j.length;L++){var R=j[L];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(B,R.key,R)}}function g(B,j,L){j&&x(B.prototype,j),L&&x(B,L)}function D(B,j,L){return(D=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(U,V,k){var U=function(G,H){for(;!Object.prototype.hasOwnProperty.call(G,H)&&(G=T(G))!==null;);return G}(U,V);if(U)return(U=Object.getOwnPropertyDescriptor(U,V)).get?U.get.call(k):U.value})(B,j,L||B)}function E(B,j){return(E=Object.setPrototypeOf||function(L,R){return L.__proto__=R,L})(B,j)}function C(B){return function(){var j,L=T(B),L=(j=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(j=T(this).constructor,Reflect.construct(L,arguments,j)):L.apply(this,arguments),this);if(!j||m(j)!=="object"&&typeof j!="function"){if(L!==void 0)return L;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return j}}function T(B){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(B)}var O=function(B){var j=R;if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(B&&B.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),B&&E(j,B);var L=C(R);function R(V){var k;return f(this,R),(k=L.call(this,V.target._renderer)).fbo=V,k.yScale=-1,k}return g(R,[{key:"_computeCameraDefaultSettings",value:function(){D(T(R.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),R}(p.default.Camera),I=(p.default.FramebufferCamera=O,function(){function B(j,L){f(this,B),this.framebuffer=j,this.property=L}return g(B,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),B}()),M=(p.default.FramebufferTexture=I,function(){function B(j){var L=this,R=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},V=(f(this,B),this.target=j,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=R.format||A.UNSIGNED_BYTE,this.channels=R.channels||(j._renderer._pInst._glAttributes.alpha?A.RGBA:A.RGB),this.useDepth=R.depth===void 0||R.depth,this.depthFormat=R.depthFormat||A.FLOAT,this.textureFiltering=R.textureFiltering||A.LINEAR,R.antialias===void 0?this.antialiasSamples=j._renderer._pInst._glAttributes.antialias?2:0:typeof R.antialias=="number"?this.antialiasSamples=R.antialias:this.antialiasSamples=R.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&j.webglVersion!==A.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=R.density||j.pixelDensity(),j._renderer.GL);if(this.gl=V,R.width&&R.height?(k=j._renderer._adjustDimensions(R.width,R.height),this.width=k.adjustedWidth,this.height=k.adjustedHeight,this.autoSized=!1):(R.width===void 0!=(R.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=j.width,this.height=j.height,this.autoSized=!0),this._checkIfFormatsAvailable(),R.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(R.stencil===void 0||R.stencil),this.framebuffer=V.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=V.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var k=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=k,this.draw(function(){return L.target.clear()})}return g(B,[{key:"resize",value:function(j,L){this.autoSized=!1;var R=this.target._renderer._adjustDimensions(j,L);j=R.adjustedWidth,L=R.adjustedHeight,this.width=j,this.height=L,this._handleResize()}},{key:"pixelDensity",value:function(j){if(!j)return this.density;this.autoSized=!1,this.density=j,this._handleResize()}},{key:"autoSized",value:function(j){if(j===void 0)return this.autoSized;this.autoSized=j,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var j=this.gl,j=(this.useDepth&&this.target.webglVersion===A.WEBGL&&!j.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===A.WEBGL&&this.depthFormat===A.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=A.UNSIGNED_INT),[A.UNSIGNED_BYTE,A.FLOAT,A.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=A.UNSIGNED_BYTE),this.useDepth&&![A.UNSIGNED_INT,A.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=A.FLOAT),(0,S.checkWebGLCapabilities)(this.target._renderer));j.float||this.format!==A.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=A.UNSIGNED_BYTE),this.useDepth&&!j.float&&this.depthFormat===A.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=A.UNSIGNED_INT),j.halfFloat||this.format!==A.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=A.UNSIGNED_BYTE),this.channels===A.RGB&&[A.FLOAT,A.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=A.RGBA)}},{key:"_recreateTextures",value:function(){var j=this.gl,L=(this._updateSize(),j.getParameter(j.TEXTURE_BINDING_2D)),R=j.getParameter(j.FRAMEBUFFER_BINDING),V=j.createTexture();if(!V)throw new Error("Unable to create color texture");j.bindTexture(j.TEXTURE_2D,V);var k=this._glColorFormat();if(j.texImage2D(j.TEXTURE_2D,0,k.internalFormat,this.width*this.density,this.height*this.density,0,k.format,k.type,null),this.colorTexture=V,j.bindFramebuffer(j.FRAMEBUFFER,this.framebuffer),j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,V,0),this.useDepth){var V=j.createTexture();if(!V)throw new Error("Unable to create depth texture");var U=this._glDepthFormat();j.bindTexture(j.TEXTURE_2D,V),j.texImage2D(j.TEXTURE_2D,0,U.internalFormat,this.width*this.density,this.height*this.density,0,U.format,U.type,null),j.framebufferTexture2D(j.FRAMEBUFFER,this.useStencil?j.DEPTH_STENCIL_ATTACHMENT:j.DEPTH_ATTACHMENT,j.TEXTURE_2D,V,0),this.depthTexture=V}this.antialias&&(this.colorRenderbuffer=j.createRenderbuffer(),j.bindRenderbuffer(j.RENDERBUFFER,this.colorRenderbuffer),j.renderbufferStorageMultisample(j.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,j.getParameter(j.MAX_SAMPLES))),k.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(U=this._glDepthFormat(),this.depthRenderbuffer=j.createRenderbuffer(),j.bindRenderbuffer(j.RENDERBUFFER,this.depthRenderbuffer),j.renderbufferStorageMultisample(j.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,j.getParameter(j.MAX_SAMPLES))),U.internalFormat,this.width*this.density,this.height*this.density)),j.bindFramebuffer(j.FRAMEBUFFER,this.aaFramebuffer),j.framebufferRenderbuffer(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&j.framebufferRenderbuffer(j.FRAMEBUFFER,this.useStencil?j.DEPTH_STENCIL_ATTACHMENT:j.DEPTH_ATTACHMENT,j.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new I(this,"depthTexture"),V=j.NEAREST,this.depthP5Texture=new p.default.Texture(this.target._renderer,this.depth,{minFilter:V,magFilter:V}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new I(this,"colorTexture"),k=this.textureFiltering===A.LINEAR?j.LINEAR:j.NEAREST,this.colorP5Texture=new p.default.Texture(this.target._renderer,this.color,{minFilter:k,magFilter:k}),this.target._renderer.textures.set(this.color,this.colorP5Texture),j.bindTexture(j.TEXTURE_2D,L),j.bindFramebuffer(j.FRAMEBUFFER,R)}},{key:"_glColorFormat",value:function(){var j,L,R=this.gl,V=this.format===A.FLOAT?R.FLOAT:this.format===A.HALF_FLOAT?this.target.webglVersion===A.WEBGL2?R.HALF_FLOAT:R.getExtension("OES_texture_half_float").HALF_FLOAT_OES:R.UNSIGNED_BYTE,k=this.channels===A.RGBA?R.RGBA:R.RGB;return{internalFormat:this.target.webglVersion===A.WEBGL2?(o(L={},R.FLOAT,o({},R.RGBA,R.RGBA32F)),o(L,R.HALF_FLOAT,o({},R.RGBA,R.RGBA16F)),o(L,R.UNSIGNED_BYTE,(o(j={},R.RGBA,R.RGBA8),o(j,R.RGB,R.RGB8),j)),L[V][k]):this.format===A.HALF_FLOAT?R.RGBA:k,format:k,type:V}}},{key:"_glDepthFormat",value:function(){var R=this.gl,j=this.useStencil?this.depthFormat===A.FLOAT?R.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===A.WEBGL2?R.UNSIGNED_INT_24_8:R.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===A.FLOAT?R.FLOAT:R.UNSIGNED_INT,L=this.useStencil?R.DEPTH_STENCIL:R.DEPTH_COMPONENT,R=this.useStencil?this.depthFormat===A.FLOAT?R.DEPTH32F_STENCIL8:this.target.webglVersion===A.WEBGL2?R.DEPTH24_STENCIL8:R.DEPTH_STENCIL:this.target.webglVersion===A.WEBGL2?this.depthFormat===A.FLOAT?R.DEPTH_COMPONENT32F:R.DEPTH_COMPONENT24:R.DEPTH_COMPONENT;return{internalFormat:R,format:L,type:j}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var V=this.color,j=this.depth,L=this.colorRenderbuffer,R=this.depthRenderbuffer,V=(this._deleteTexture(V),j&&this._deleteTexture(j),this.gl);L&&V.deleteRenderbuffer(L),R&&V.deleteRenderbuffer(R),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var j=new O(this);return j._computeCameraDefaultSettings(),j._setDefaultCamera(),this.target._renderer._curCamera=j}},{key:"_deleteTexture",value:function(j){this.gl.deleteTexture(j.rawTexture()),this.target._renderer.textures.delete(j)}},{key:"remove",value:function(){var j=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),j.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&j.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&j.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&j.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix)}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var j=this.gl;j.bindFramebuffer(j.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var j=this.gl,L=(j.bindFramebuffer(j.READ_FRAMEBUFFER,this.aaFramebuffer),j.bindFramebuffer(j.DRAW_FRAMEBUFFER,this.framebuffer),[[j.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&L.push([j.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var R=0,V=L;R<V.length;R++){var U=y(V[R],2),k=U[0],U=U[1];j.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,k,U)}}}},{key:"end",value:function(){var j=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(j.bindFramebuffer(j.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(j){this.begin(),j(),this.end()}},{key:"loadPixels",value:function(){var j=this.gl,L=this.target._renderer.activeFramebuffer(),R=(j.bindFramebuffer(j.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,_.readPixelsWebGL)(this.pixels,j,this.framebuffer,0,0,this.width*this.density,this.height*this.density,R.format,R.type),L?j.bindFramebuffer(j.FRAMEBUFFER,L._framebufferToBind()):j.bindFramebuffer(j.FRAMEBUFFER,null)}},{key:"get",value:function(j,L,R,V){p.default._validateParameters("p5.Framebuffer.get",arguments);var k=this._glColorFormat();if(j===void 0&&L===void 0)L=j=0,R=this.width,V=this.height;else if(R===void 0&&V===void 0)return(j<0||L<0||j>=this.width||L>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),j=this.target.constrain(j,0,this.width-1),L=this.target.constrain(L,0,this.height-1)),(0,_.readPixelWebGL)(this.gl,this.framebuffer,j*this.density,L*this.density,k.format,k.type);j=this.target.constrain(j,0,this.width-1),L=this.target.constrain(L,0,this.height-1),R=this.target.constrain(R,1,this.width-j),V=this.target.constrain(V,1,this.height-L);for(var U=(0,_.readPixelsWebGL)(void 0,this.gl,this.framebuffer,j*this.density,L*this.density,R*this.density,V*this.density,k.format,k.type),G=new Uint8ClampedArray(R*V*this.density*this.density*4),H=(G.fill(255),k.type===this.gl.RGB?3:4),X=0;X<V*this.density;X++)for(var Z=0;Z<R*this.density;Z++)for(var J=0;J<4;J++){var ee,$=4*(X*R*this.density+Z)+J;J<H&&(ee=H==4?$:(X*R*this.density+Z)*H+J,G[$]=U[ee])}return j=new p.default.Image(R*this.density,V*this.density),j.imageData=j.canvas.getContext("2d").createImageData(j.width,j.height),j.imageData.data.set(G),j.pixels=j.imageData.data,j.updatePixels(),this.density!==1&&j.resize(R,V),j}},{key:"updatePixels",value:function(){var j=this.gl,L=(this.colorP5Texture.bindTexture(),this._glColorFormat()),R=L.format===j.RGBA?4:3,R=this.width*this.height*this.density*this.density*R,V=L.type===j.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof V)||this.pixels.length!==R)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");j.texImage2D(j.TEXTURE_2D,0,L.internalFormat,this.width*this.density,this.height*this.density,0,L.format,L.type,this.pixels),this.colorP5Texture.unbindTexture(),V=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(j.clearDepth(1),j.clear(j.DEPTH_BUFFER_BIT)),this.end()):(j.bindFramebuffer(j.FRAMEBUFFER,this.framebuffer),this.useDepth&&(j.clearDepth(1),j.clear(j.DEPTH_BUFFER_BIT)),V?j.bindFramebuffer(j.FRAMEBUFFER,V._framebufferToBind()):j.bindFramebuffer(j.FRAMEBUFFER,null))}}]),B}()),F=p.default.Framebuffer=M;b.default=F},{"../core/constants":269,"../core/main":280,"./p5.RendererGL":337,"./p5.Texture":339,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],332:[function(a,r,b){function h(o){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(o)}function m(o){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(f){return h(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":h(f)})(o)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.flat"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.unscopables.flat"),a("core-js/modules/es.map"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.set"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.sub"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.flat"),a("core-js/modules/es.array.for-each"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.unscopables.flat"),a("core-js/modules/es.map"),a("core-js/modules/es.number.constructor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.set"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.sub"),a("core-js/modules/web.dom-collections.for-each"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(y=a("../core/main"))&&y.__esModule?y:{default:y},A=function(o){if(o&&o.__esModule)return o;if(o===null||m(o)!=="object"&&typeof o!="function")return{default:o};var f=S();if(f&&f.has(o))return f.get(o);var x,g={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in o){var E;Object.prototype.hasOwnProperty.call(o,x)&&((E=D?Object.getOwnPropertyDescriptor(o,x):null)&&(E.get||E.set)?Object.defineProperty(g,x,E):g[x]=o[x])}return g.default=o,f&&f.set(o,g),g}(a("../core/constants"));function S(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,S=function(){return o},o)}function _(o){return function(f){if(Array.isArray(f)){for(var x=0,g=new Array(f.length);x<f.length;x++)g[x]=f[x];return g}}(o)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(o,f){for(var x=0;x<f.length;x++){var g=f[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,g.key,g)}}p.default.Geometry=function(){function o(g,D,E){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new p.default.DataArray,this.lineTangentsIn=new p.default.DataArray,this.lineTangentsOut=new p.default.DataArray,this.lineSides=new p.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new p.default.DataArray,this.detailX=g!==void 0?g:1,this.detailY=D!==void 0?D:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,E instanceof Function&&E.call(this)}var f,x;return f=o,(x=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var g=new p.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),D=new p.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),E=0;E<this.vertices.length;E++){var C=this.vertices[E];g.x=Math.min(g.x,C.x),g.y=Math.min(g.y,C.y),g.z=Math.min(g.z,C.z),D.x=Math.max(D.x,C.x),D.y=Math.max(D.y,C.y),D.z=Math.max(D.z,C.z)}var T=new p.default.Vector(D.x-g.x,D.y-g.y,D.z-g.z),O=new p.default.Vector((g.x+D.x)/2,(g.y+D.y)/2,(g.z+D.z)/2);this.boundingBoxCache={min:g,max:D,size:T,offset:O}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var g=0;g<this.vertexColors.length;g+=4)if(this.vertexColors[g+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var g=0;g<this.lineVertexColors.length;g+=4)if(this.lineVertexColors[g+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(g,D){return D%2==0?1-g:g})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(g,D){return D%2==0?g:1-g})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var g,D,E,C=this.detailX+1,T=0;T<this.detailY;T++)for(var O=0;O<this.detailX;O++)D=(T+1)*C+O+1,this.faces.push([T*C+O,g=T*C+O+1,E=(T+1)*C+O]),this.faces.push([E,g,D]);return this}},{key:"_getFaceNormal",value:function(D){var D=this.faces[D],E=this.vertices[D[0]],T=this.vertices[D[1]],D=this.vertices[D[2]],T=p.default.Vector.sub(T,E),D=p.default.Vector.sub(D,E),E=p.default.Vector.cross(T,D),C=p.default.Vector.mag(E),T=C/(p.default.Vector.mag(T)*p.default.Vector.mag(D));return T===0||isNaN(T)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),E):(1<T&&(T=1),E.mult(Math.asin(T)/C))}},{key:"computeNormals",value:function(){var g,D=this,E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:A.FLAT,C=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,T=this.vertexNormals,O=this.vertices,I=this.faces;if(E===A.SMOOTH){for(var M={},F=[],B=Math.pow(10,C===void 0?3:C),j=function(U){return Math.round(U*B)/B},L=function(U){return"".concat(j(U.x),",").concat(j(U.y),",").concat(j(U.z))},R=0;R<O.length;R++){var V=O[R],k=L(V);M[k]===void 0&&(M[k]=F.length,F.push(V))}I.forEach(function(U){for(var G=0;G<3;++G){var H=U[G],H=O[H],H=L(H);U[G]=M[H]}}),this.edges.forEach(function(U){for(var G=0;G<2;++G){var H=U[G],H=O[H],H=L(H);U[G]=M[H]}}),this.vertices=O=F}for(g=T.length=0;g<O.length;++g)T.push(new p.default.Vector);for(I.forEach(function(U,G){for(var H=D._getFaceNormal(G),X=0;X<3;++X){var Z=U[X];T[Z].add(H)}}),g=0;g<O.length;++g)T[g].normalize();return this}},{key:"averageNormals",value:function(){for(var g=0;g<=this.detailY;g++){var D=this.detailX+1,E=p.default.Vector.add(this.vertexNormals[g*D],this.vertexNormals[g*D+this.detailX]),E=p.default.Vector.div(E,2);this.vertexNormals[g*D]=E,this.vertexNormals[g*D+this.detailX]=E}return this}},{key:"averagePoleNormals",value:function(){for(var g=new p.default.Vector(0,0,0),D=0;D<this.detailX;D++)g.add(this.vertexNormals[D]);for(var g=p.default.Vector.div(g,this.detailX),E=0;E<this.detailX;E++)this.vertexNormals[E]=g;g=new p.default.Vector(0,0,0);for(var C=this.vertices.length-1;C>this.vertices.length-1-this.detailX;C--)g.add(this.vertexNormals[C]);g=p.default.Vector.div(g,this.detailX);for(var T=this.vertices.length-1;T>this.vertices.length-1-this.detailX;T--)this.vertexNormals[T]=g;return this}},{key:"_makeTriangleEdges",value:function(){for(var g=this.edges.length=0;g<this.faces.length;g++)this.edges.push([this.faces[g][0],this.faces[g][1]]),this.edges.push([this.faces[g][1],this.faces[g][2]]),this.edges.push([this.faces[g][2],this.faces[g][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var g,D=new Map,E=new Set,C=0;C<this.edges.length;C++){var T,O=this.edges[C-1],I=this.edges[C],M=this.vertices[I[0]],F=this.vertices[I[1]],B=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*I[0],4*(I[0]+1)):[0,0,0,0],j=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*I[1],4*(I[1]+1)):[0,0,0,0],L=F.copy().sub(M).normalize(),R=0<L.magSq();R&&this._addSegment(M,F,B,j,L),0<C&&O[1]===I[0]?E.has(I[0])||(E.add(I[0]),D.delete(I[0]),g&&R&&L.dot(g)<1-1e-8&&this._addJoin(M,g,L,B)):(R&&!E.has(I[0])&&((T=D.get(I[0]))?(this._addJoin(M,T.dir,L,B),D.delete(I[0]),E.add(I[0])):D.set(I[0],{point:M,dir:L.copy().mult(-1),color:B})),g&&!E.has(O[1])&&((T=D.get(O[1]))?(this._addJoin(this.vertices[O[1]],g,T.dir.copy().mult(-1),B),D.delete(O[1]),E.add(O[1])):D.set(O[1],{point:this.vertices[O[1]],dir:g,color:B}),g=void 0)),C!==this.edges.length-1||E.has(I[1])||((M=D.get(I[1]))?(this._addJoin(F,L,M.dir.copy().mult(-1),j),D.delete(I[1]),E.add(I[1])):D.set(I[1],{point:F,dir:L,color:j})),R&&(g=L)}var V=!0,k=!1,U=void 0;try{for(var G,H=D.values()[Symbol.iterator]();!(V=(G=H.next()).done);V=!0){var X=G.value,Z=X.point,J=X.dir,ee=X.color;this._addCap(Z,J,ee)}}catch($){k=!0,U=$}finally{try{V||H.return==null||H.return()}finally{if(k)throw U}}return this}},{key:"_addSegment",value:function(O,I,E,C,T){var O=O.array(),I=I.array(),M=T.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var F=0,B=[this.lineTangentsIn,this.lineTangentsOut];F<B.length;F++)for(var j=B[F],L=0;L<6;L++)j.push.apply(j,_(M));return(T=this.lineVertices).push.apply(T,_(O).concat(_(I),_(O),_(I),_(I),_(O))),(T=this.lineVertexColors).push.apply(T,_(E).concat(_(C),_(E),_(C),_(C),_(E))),this}},{key:"_addCap",value:function(g,D,E){for(var C,T=g.array(),O=D.array(),I=[0,0,0],M=0;M<6;M++)(C=this.lineVertices).push.apply(C,_(T)),(C=this.lineTangentsIn).push.apply(C,_(O)),(C=this.lineTangentsOut).push.apply(C,I),(C=this.lineVertexColors).push.apply(C,_(E));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(g,D,E,C){for(var T,O=g.array(),I=D.array(),M=E.array(),F=0;F<12;F++)(T=this.lineVertices).push.apply(T,_(O)),(T=this.lineTangentsIn).push.apply(T,_(I)),(T=this.lineTangentsOut).push.apply(T,_(M)),(T=this.lineVertexColors).push.apply(T,_(C));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var g=this.vertices[0].copy(),D=this.vertices[0].copy(),E=0;E<this.vertices.length;E++)g.x=Math.max(g.x,this.vertices[E].x),D.x=Math.min(D.x,this.vertices[E].x),g.y=Math.max(g.y,this.vertices[E].y),D.y=Math.min(D.y,this.vertices[E].y),g.z=Math.max(g.z,this.vertices[E].z),D.z=Math.min(D.z,this.vertices[E].z);for(var C=p.default.Vector.lerp(g,D,.5),T=p.default.Vector.sub(g,D),O=200/Math.max(Math.max(T.x,T.y),T.z),I=0;I<this.vertices.length;I++)this.vertices[I].sub(C),this.vertices[I].mult(O)}return this}}])&&l(f.prototype,x),o}();var y=p.default.Geometry;b.default=y},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],333:[function(S,r,b){S("core-js/modules/es.array.iterator"),S("core-js/modules/es.object.to-string"),S("core-js/modules/es.typed-array.float32-array"),S("core-js/modules/es.typed-array.copy-within"),S("core-js/modules/es.typed-array.every"),S("core-js/modules/es.typed-array.fill"),S("core-js/modules/es.typed-array.filter"),S("core-js/modules/es.typed-array.find"),S("core-js/modules/es.typed-array.find-index"),S("core-js/modules/es.typed-array.for-each"),S("core-js/modules/es.typed-array.includes"),S("core-js/modules/es.typed-array.index-of"),S("core-js/modules/es.typed-array.iterator"),S("core-js/modules/es.typed-array.join"),S("core-js/modules/es.typed-array.last-index-of"),S("core-js/modules/es.typed-array.map"),S("core-js/modules/es.typed-array.reduce"),S("core-js/modules/es.typed-array.reduce-right"),S("core-js/modules/es.typed-array.reverse"),S("core-js/modules/es.typed-array.set"),S("core-js/modules/es.typed-array.slice"),S("core-js/modules/es.typed-array.some"),S("core-js/modules/es.typed-array.sort"),S("core-js/modules/es.typed-array.subarray"),S("core-js/modules/es.typed-array.to-locale-string"),S("core-js/modules/es.typed-array.to-string"),S("core-js/modules/es.array.iterator"),S("core-js/modules/es.object.to-string"),S("core-js/modules/es.typed-array.float32-array"),S("core-js/modules/es.typed-array.copy-within"),S("core-js/modules/es.typed-array.every"),S("core-js/modules/es.typed-array.fill"),S("core-js/modules/es.typed-array.filter"),S("core-js/modules/es.typed-array.find"),S("core-js/modules/es.typed-array.find-index"),S("core-js/modules/es.typed-array.for-each"),S("core-js/modules/es.typed-array.includes"),S("core-js/modules/es.typed-array.index-of"),S("core-js/modules/es.typed-array.iterator"),S("core-js/modules/es.typed-array.join"),S("core-js/modules/es.typed-array.last-index-of"),S("core-js/modules/es.typed-array.map"),S("core-js/modules/es.typed-array.reduce"),S("core-js/modules/es.typed-array.reduce-right"),S("core-js/modules/es.typed-array.reverse"),S("core-js/modules/es.typed-array.set"),S("core-js/modules/es.typed-array.slice"),S("core-js/modules/es.typed-array.some"),S("core-js/modules/es.typed-array.sort"),S("core-js/modules/es.typed-array.subarray"),S("core-js/modules/es.typed-array.to-locale-string"),S("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(S=S("../core/main"))&&S.__esModule?S:{default:S};function m(_,l){for(var y=0;y<l.length;y++){var o=l[y];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(_,o.key,o)}}var p=Array,A=function(_){return Array.isArray(_)},S=(typeof Float32Array<"u"&&(p=Float32Array,A=function(_){return Array.isArray(_)||_ instanceof Float32Array}),h.default.Matrix=function(){function _(){var f=this,x=_;if(f instanceof x)return arguments.length&&((f=arguments.length-1)<0||arguments.length<=f?void 0:arguments[f])instanceof h.default&&(this.p5=(x=arguments.length-1)<0||arguments.length<=x?void 0:arguments[x]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new p([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new p([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var l,y,o;return l=_,o=[{key:"identity",value:function(f){return new h.default.Matrix(f)}}],(y=[{key:"set",value:function(f){var x=arguments;if(f instanceof h.default.Matrix?x=f.mat4:A(f)&&(x=f),x.length!==16)h.default._friendlyError("Expected 16 values but received ".concat(x.length,"."),"p5.Matrix.set");else for(var g=0;g<16;g++)this.mat4[g]=x[g];return this}},{key:"get",value:function(){return new h.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var f;return this.mat3!==void 0?((f=new h.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],f.mat3[1]=this.mat3[1],f.mat3[2]=this.mat3[2],f.mat3[3]=this.mat3[3],f.mat3[4]=this.mat3[4],f.mat3[5]=this.mat3[5],f.mat3[6]=this.mat3[6],f.mat3[7]=this.mat3[7],f.mat3[8]=this.mat3[8]):((f=new h.default.Matrix(this.p5)).mat4[0]=this.mat4[0],f.mat4[1]=this.mat4[1],f.mat4[2]=this.mat4[2],f.mat4[3]=this.mat4[3],f.mat4[4]=this.mat4[4],f.mat4[5]=this.mat4[5],f.mat4[6]=this.mat4[6],f.mat4[7]=this.mat4[7],f.mat4[8]=this.mat4[8],f.mat4[9]=this.mat4[9],f.mat4[10]=this.mat4[10],f.mat4[11]=this.mat4[11],f.mat4[12]=this.mat4[12],f.mat4[13]=this.mat4[13],f.mat4[14]=this.mat4[14],f.mat4[15]=this.mat4[15]),f}},{key:"transpose",value:function(f){var x,g,D,E,C,T;return f instanceof h.default.Matrix?(x=f.mat4[1],g=f.mat4[2],D=f.mat4[3],E=f.mat4[6],C=f.mat4[7],T=f.mat4[11],this.mat4[0]=f.mat4[0],this.mat4[1]=f.mat4[4],this.mat4[2]=f.mat4[8],this.mat4[3]=f.mat4[12],this.mat4[4]=x,this.mat4[5]=f.mat4[5],this.mat4[6]=f.mat4[9],this.mat4[7]=f.mat4[13],this.mat4[8]=g,this.mat4[9]=E,this.mat4[10]=f.mat4[10],this.mat4[11]=f.mat4[14],this.mat4[12]=D,this.mat4[13]=C,this.mat4[14]=T,this.mat4[15]=f.mat4[15]):A(f)&&(x=f[1],g=f[2],D=f[3],E=f[6],C=f[7],T=f[11],this.mat4[0]=f[0],this.mat4[1]=f[4],this.mat4[2]=f[8],this.mat4[3]=f[12],this.mat4[4]=x,this.mat4[5]=f[5],this.mat4[6]=f[9],this.mat4[7]=f[13],this.mat4[8]=g,this.mat4[9]=E,this.mat4[10]=f[10],this.mat4[11]=f[14],this.mat4[12]=D,this.mat4[13]=C,this.mat4[14]=T,this.mat4[15]=f[15]),this}},{key:"invert",value:function(U){U instanceof h.default.Matrix?(x=U.mat4[0],g=U.mat4[1],D=U.mat4[2],E=U.mat4[3],C=U.mat4[4],T=U.mat4[5],O=U.mat4[6],I=U.mat4[7],M=U.mat4[8],F=U.mat4[9],B=U.mat4[10],j=U.mat4[11],L=U.mat4[12],R=U.mat4[13],V=U.mat4[14],k=U.mat4[15]):A(U)&&(x=U[0],g=U[1],D=U[2],E=U[3],C=U[4],T=U[5],O=U[6],I=U[7],M=U[8],F=U[9],B=U[10],j=U[11],L=U[12],R=U[13],V=U[14],k=U[15]);var x,g,D,E,C,T,O,I,M,F,B,j,L,R,V,k,U=x*T-g*C,G=x*O-D*C,H=x*I-E*C,X=g*O-D*T,Z=g*I-E*T,J=D*I-E*O,ee=M*R-F*L,$=M*V-B*L,W=M*k-j*L,Q=F*V-B*R,te=F*k-j*R,ce=B*k-j*V,oe=U*ce-G*te+H*Q+X*W-Z*$+J*ee;return oe?(this.mat4[0]=(T*ce-O*te+I*Q)*(oe=1/oe),this.mat4[1]=(D*te-g*ce-E*Q)*oe,this.mat4[2]=(R*J-V*Z+k*X)*oe,this.mat4[3]=(B*Z-F*J-j*X)*oe,this.mat4[4]=(O*W-C*ce-I*$)*oe,this.mat4[5]=(x*ce-D*W+E*$)*oe,this.mat4[6]=(V*H-L*J-k*G)*oe,this.mat4[7]=(M*J-B*H+j*G)*oe,this.mat4[8]=(C*te-T*W+I*ee)*oe,this.mat4[9]=(g*W-x*te-E*ee)*oe,this.mat4[10]=(L*Z-R*H+k*U)*oe,this.mat4[11]=(F*H-M*Z-j*U)*oe,this.mat4[12]=(T*$-C*Q-O*ee)*oe,this.mat4[13]=(x*Q-g*$+D*ee)*oe,this.mat4[14]=(R*G-L*X-V*U)*oe,this.mat4[15]=(M*X-F*G+B*U)*oe,this):null}},{key:"invert3x3",value:function(){var f=this.mat3[0],x=this.mat3[1],g=this.mat3[2],D=this.mat3[3],E=this.mat3[4],C=this.mat3[5],T=this.mat3[6],O=this.mat3[7],I=this.mat3[8],M=I*E-C*O,F=-I*D+C*T,B=O*D-E*T,j=f*M+x*F+g*B;return j?(this.mat3[0]=M*(j=1/j),this.mat3[1]=(-I*x+g*O)*j,this.mat3[2]=(C*x-g*E)*j,this.mat3[3]=F*j,this.mat3[4]=(I*f-g*T)*j,this.mat3[5]=(-C*f+g*D)*j,this.mat3[6]=B*j,this.mat3[7]=(-O*f+x*T)*j,this.mat3[8]=(E*f-x*D)*j,this):null}},{key:"transpose3x3",value:function(f){var x=(f=f===void 0?this.mat3:f)[1],g=f[2],D=f[5];return this.mat3[0]=f[0],this.mat3[1]=f[3],this.mat3[2]=f[6],this.mat3[3]=x,this.mat3[4]=f[4],this.mat3[5]=f[7],this.mat3[6]=g,this.mat3[7]=D,this.mat3[8]=f[8],this}},{key:"inverseTranspose",value:function(f){if(f=f.mat4,this.mat3===void 0?h.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=f[0],this.mat3[1]=f[1],this.mat3[2]=f[2],this.mat3[3]=f[4],this.mat3[4]=f[5],this.mat3[5]=f[6],this.mat3[6]=f[8],this.mat3[7]=f[9],this.mat3[8]=f[10]),f=this.invert3x3(),f)f.transpose3x3(this.mat3);else for(var x=0;x<9;x++)this.mat3[x]=0;return this}},{key:"determinant",value:function(){var f=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],x=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],g=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],D=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],E=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],C=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],T=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],O=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],I=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],M=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],F=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return f*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-x*F+g*M+D*I-E*O+C*T}},{key:"mult",value:function(g){var x;if(g===this||g===this.mat4)x=this.copy().mat4;else if(g instanceof h.default.Matrix)x=g.mat4;else if(A(g))x=g;else{if(arguments.length!==16)return;x=arguments}var g=this.mat4[0],D=this.mat4[1],E=this.mat4[2],C=this.mat4[3];return this.mat4[0]=g*x[0]+D*x[4]+E*x[8]+C*x[12],this.mat4[1]=g*x[1]+D*x[5]+E*x[9]+C*x[13],this.mat4[2]=g*x[2]+D*x[6]+E*x[10]+C*x[14],this.mat4[3]=g*x[3]+D*x[7]+E*x[11]+C*x[15],g=this.mat4[4],D=this.mat4[5],E=this.mat4[6],C=this.mat4[7],this.mat4[4]=g*x[0]+D*x[4]+E*x[8]+C*x[12],this.mat4[5]=g*x[1]+D*x[5]+E*x[9]+C*x[13],this.mat4[6]=g*x[2]+D*x[6]+E*x[10]+C*x[14],this.mat4[7]=g*x[3]+D*x[7]+E*x[11]+C*x[15],g=this.mat4[8],D=this.mat4[9],E=this.mat4[10],C=this.mat4[11],this.mat4[8]=g*x[0]+D*x[4]+E*x[8]+C*x[12],this.mat4[9]=g*x[1]+D*x[5]+E*x[9]+C*x[13],this.mat4[10]=g*x[2]+D*x[6]+E*x[10]+C*x[14],this.mat4[11]=g*x[3]+D*x[7]+E*x[11]+C*x[15],g=this.mat4[12],D=this.mat4[13],E=this.mat4[14],C=this.mat4[15],this.mat4[12]=g*x[0]+D*x[4]+E*x[8]+C*x[12],this.mat4[13]=g*x[1]+D*x[5]+E*x[9]+C*x[13],this.mat4[14]=g*x[2]+D*x[6]+E*x[10]+C*x[14],this.mat4[15]=g*x[3]+D*x[7]+E*x[11]+C*x[15],this}},{key:"apply",value:function(g){var x;if(g===this||g===this.mat4)x=this.copy().mat4;else if(g instanceof h.default.Matrix)x=g.mat4;else if(A(g))x=g;else{if(arguments.length!==16)return;x=arguments}var g=this.mat4,D=g[0],E=g[4],C=g[8],T=g[12],D=(g[0]=x[0]*D+x[1]*E+x[2]*C+x[3]*T,g[4]=x[4]*D+x[5]*E+x[6]*C+x[7]*T,g[8]=x[8]*D+x[9]*E+x[10]*C+x[11]*T,g[12]=x[12]*D+x[13]*E+x[14]*C+x[15]*T,g[1]),E=g[5],C=g[9],T=g[13],D=(g[1]=x[0]*D+x[1]*E+x[2]*C+x[3]*T,g[5]=x[4]*D+x[5]*E+x[6]*C+x[7]*T,g[9]=x[8]*D+x[9]*E+x[10]*C+x[11]*T,g[13]=x[12]*D+x[13]*E+x[14]*C+x[15]*T,g[2]),E=g[6],C=g[10],T=g[14],D=(g[2]=x[0]*D+x[1]*E+x[2]*C+x[3]*T,g[6]=x[4]*D+x[5]*E+x[6]*C+x[7]*T,g[10]=x[8]*D+x[9]*E+x[10]*C+x[11]*T,g[14]=x[12]*D+x[13]*E+x[14]*C+x[15]*T,g[3]),E=g[7],C=g[11],T=g[15];return g[3]=x[0]*D+x[1]*E+x[2]*C+x[3]*T,g[7]=x[4]*D+x[5]*E+x[6]*C+x[7]*T,g[11]=x[8]*D+x[9]*E+x[10]*C+x[11]*T,g[15]=x[12]*D+x[13]*E+x[14]*C+x[15]*T,this}},{key:"scale",value:function(f,x,g){return f instanceof h.default.Vector?(x=f.y,g=f.z,f=f.x):f instanceof Array&&(x=f[1],g=f[2],f=f[0]),this.mat4[0]*=f,this.mat4[1]*=f,this.mat4[2]*=f,this.mat4[3]*=f,this.mat4[4]*=x,this.mat4[5]*=x,this.mat4[6]*=x,this.mat4[7]*=x,this.mat4[8]*=g,this.mat4[9]*=g,this.mat4[10]*=g,this.mat4[11]*=g,this}},{key:"rotate",value:function(U,te,Q,D){te instanceof h.default.Vector?(Q=te.y,D=te.z,te=te.x):te instanceof Array&&(Q=te[1],D=te[2],te=te[0]);var E=Math.sqrt(te*te+Q*Q+D*D),E=(te*=1/E,Q*=1/E,D*=1/E,this.mat4[0]),C=this.mat4[1],T=this.mat4[2],O=this.mat4[3],I=this.mat4[4],M=this.mat4[5],F=this.mat4[6],B=this.mat4[7],j=this.mat4[8],L=this.mat4[9],R=this.mat4[10],V=this.mat4[11],k=Math.sin(U),U=Math.cos(U),G=1-U,H=te*te*G+U,X=Q*te*G+D*k,Z=D*te*G-Q*k,J=te*Q*G-D*k,ee=Q*Q*G+U,$=D*Q*G+te*k,W=te*D*G+Q*k,Q=Q*D*G-te*k,te=D*D*G+U;return this.mat4[0]=E*H+I*X+j*Z,this.mat4[1]=C*H+M*X+L*Z,this.mat4[2]=T*H+F*X+R*Z,this.mat4[3]=O*H+B*X+V*Z,this.mat4[4]=E*J+I*ee+j*$,this.mat4[5]=C*J+M*ee+L*$,this.mat4[6]=T*J+F*ee+R*$,this.mat4[7]=O*J+B*ee+V*$,this.mat4[8]=E*W+I*Q+j*te,this.mat4[9]=C*W+M*Q+L*te,this.mat4[10]=T*W+F*Q+R*te,this.mat4[11]=O*W+B*Q+V*te,this}},{key:"translate",value:function(D){var x=D[0],g=D[1],D=D[2]||0;this.mat4[12]+=this.mat4[0]*x+this.mat4[4]*g+this.mat4[8]*D,this.mat4[13]+=this.mat4[1]*x+this.mat4[5]*g+this.mat4[9]*D,this.mat4[14]+=this.mat4[2]*x+this.mat4[6]*g+this.mat4[10]*D,this.mat4[15]+=this.mat4[3]*x+this.mat4[7]*g+this.mat4[11]*D}},{key:"rotateX",value:function(f){this.rotate(f,1,0,0)}},{key:"rotateY",value:function(f){this.rotate(f,0,1,0)}},{key:"rotateZ",value:function(f){this.rotate(f,0,0,1)}},{key:"perspective",value:function(E,x,g,D){var E=1/Math.tan(E/2),C=1/(g-D);return this.mat4[0]=E/x,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=E,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(D+g)*C,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*D*g*C,this.mat4[15]=0,this}},{key:"ortho",value:function(f,x,g,D,E,C){var T=1/(f-x),O=1/(g-D),I=1/(E-C);return this.mat4[0]=-2*T,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*O,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*I,this.mat4[11]=0,this.mat4[12]=(f+x)*T,this.mat4[13]=(D+g)*O,this.mat4[14]=(C+E)*I,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(f,x,g,D){var E=new Array(4),C=this.mat4;return E[0]=C[0]*f+C[4]*x+C[8]*g+C[12]*D,E[1]=C[1]*f+C[5]*x+C[9]*g+C[13]*D,E[2]=C[2]*f+C[6]*x+C[10]*g+C[14]*D,E[3]=C[3]*f+C[7]*x+C[11]*g+C[15]*D,E}},{key:"multiplyPoint",value:function(g){var D=g.x,x=g.y,g=g.z,D=this.multiplyVec4(D,x,g,1);return new h.default.Vector(D[0],D[1],D[2])}},{key:"multiplyAndNormalizePoint",value:function(g){var D=g.x,x=g.y,g=g.z,D=this.multiplyVec4(D,x,g,1);return D[0]/=D[3],D[1]/=D[3],D[2]/=D[3],new h.default.Vector(D[0],D[1],D[2])}},{key:"multiplyDirection",value:function(g){var D=g.x,x=g.y,g=g.z,D=this.multiplyVec4(D,x,g,0);return new h.default.Vector(D[0],D[1],D[2])}},{key:"mult3x3",value:function(g){var x;if(g===this||g===this.mat3)x=this.copy().mat3;else if(g instanceof h.default.Matrix)x=g.mat3;else if(A(g))x=g;else{if(arguments.length!==9)return;x=arguments}var g=this.mat3[0],D=this.mat3[1],E=this.mat3[2];return this.mat3[0]=g*x[0]+D*x[3]+E*x[6],this.mat3[1]=g*x[1]+D*x[4]+E*x[7],this.mat3[2]=g*x[2]+D*x[5]+E*x[8],g=this.mat3[3],D=this.mat3[4],E=this.mat3[5],this.mat3[3]=g*x[0]+D*x[3]+E*x[6],this.mat3[4]=g*x[1]+D*x[4]+E*x[7],this.mat3[5]=g*x[2]+D*x[5]+E*x[8],g=this.mat3[6],D=this.mat3[7],E=this.mat3[8],this.mat3[6]=g*x[0]+D*x[3]+E*x[6],this.mat3[7]=g*x[1]+D*x[4]+E*x[7],this.mat3[8]=g*x[2]+D*x[5]+E*x[8],this}},{key:"column",value:function(f){return new h.default.Vector(this.mat3[3*f],this.mat3[3*f+1],this.mat3[3*f+2])}},{key:"row",value:function(f){return new h.default.Vector(this.mat3[f],this.mat3[f+3],this.mat3[f+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(f,x){return(x=x===void 0?f.copy():x).x=this.row(0).dot(f),x.y=this.row(1).dot(f),x.z=this.row(2).dot(f),x}},{key:"createSubMatrix3x3",value:function(){var f=new h.default.Matrix("mat3");return f.mat3[0]=this.mat4[0],f.mat3[1]=this.mat4[1],f.mat3[2]=this.mat4[2],f.mat3[3]=this.mat4[4],f.mat3[4]=this.mat4[5],f.mat3[5]=this.mat4[6],f.mat3[6]=this.mat4[8],f.mat3[7]=this.mat4[9],f.mat3[8]=this.mat4[10],f}}])&&m(l.prototype,y),o&&m(l,o),_}(),h.default.Matrix);b.default=S},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],334:[function(a,r,b){a("core-js/modules/es.array.map"),a("core-js/modules/es.array.map"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,a=(a=a("../core/main"))&&a.__esModule?a:{default:a};function h(m,p){for(var A=0;A<p.length;A++){var S=p[A];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}a.default.RenderBuffer=function(){function m(S,_,l,y,o,f){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.size=S,this.src=_,this.dst=l,this.attr=y,this._renderer=o,this.map=f}var p,A;return p=m,(A=[{key:"_prepareBuffer",value:function(S,_){var l,y,o,g=_.attributes,f=this._renderer.GL,x=S.model||S,g=g[this.attr];g&&(l=S[this.dst],0<(y=x[this.src]).length?((o=!l)&&(S[this.dst]=l=f.createBuffer()),f.bindBuffer(f.ARRAY_BUFFER,l),!o&&x.dirtyFlags[this.src]===!1||(o=(S=this.map)?S(y):y,this._renderer._bindBuffer(l,f.ARRAY_BUFFER,o),x.dirtyFlags[this.src]=!1),_.enableAttrib(g,this.size)):(S=g.location)!==-1&&this._renderer.registerEnabled.has(S)&&(f.disableVertexAttribArray(S),this._renderer.registerEnabled.delete(S)))}}])&&h(p.prototype,A),m}(),a=a.default.RenderBuffer,b.default=a},{"../core/main":280,"core-js/modules/es.array.map":167}],335:[function(a,r,b){function h(o){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(o)}function m(o){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(f){return h(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":h(f)})(o)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.find-index"),a("core-js/modules/es.array.from"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.map"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.concat"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.find-index"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.map"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.map"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(y=a("../core/main"))&&y.__esModule?y:{default:y},A=function(o){if(o&&o.__esModule)return o;if(o===null||m(o)!=="object"&&typeof o!="function")return{default:o};var f=S();if(f&&f.has(o))return f.get(o);var x,g={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in o){var E;Object.prototype.hasOwnProperty.call(o,x)&&((E=D?Object.getOwnPropertyDescriptor(o,x):null)&&(E.get||E.set)?Object.defineProperty(g,x,E):g[x]=o[x])}return g.default=o,f&&f.set(o,g),g}(a("../core/constants"));function S(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,S=function(){return o},o)}function _(o){return function(f){if(Array.isArray(f)){for(var x=0,g=new Array(f.length);x<f.length;x++)g[x]=f[x];return g}}(o)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a("./p5.RenderBuffer"),p.default.RendererGL.prototype.beginShape=function(o){return this.immediateMode.shapeMode=o!==void 0?o:A.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var l={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},y=(p.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==A.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},p.default.RendererGL.prototype.vertex=function(o,f){if(this.immediateMode.shapeMode===A.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var x in l){var g=l[x],x=this.immediateMode.geometry[x];x.push.apply(x,_(x.slice(x.length-3*g,x.length-2*g)).concat(_(x.slice(x.length-g,x.length))))}var D,E,C=D=E=0,T=(arguments.length===3?C=arguments[2]:arguments.length===4?(D=arguments[2],E=arguments[3]):arguments.length===5&&(C=arguments[2],D=arguments[3],E=arguments[4]),new p.default.Vector(o,f,C)),T=(this.immediateMode.geometry.vertices.push(T),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),T=(this.immediateMode.geometry.vertexColors.push(T[0],T[1],T[2],T[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(T[0],T[1],T[2],T[3]),this.textureMode!==A.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(D/=this._tex.width,E/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(D,E),this.immediateMode._bezierVertex[0]=o,this.immediateMode._bezierVertex[1]=f,this.immediateMode._bezierVertex[2]=C,this.immediateMode._quadraticVertex[0]=o,this.immediateMode._quadraticVertex[1]=f,this.immediateMode._quadraticVertex[2]=C,this},p.default.RendererGL.prototype.normal=function(o,f,x){return o instanceof p.default.Vector?this._currentNormal=o:this._currentNormal=new p.default.Vector(o,f,x),this},p.default.RendererGL.prototype.endShape=function(o,f,x,g,D,E){var C,T=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===A.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===A.TESS&&(this.immediateMode.shapeMode,A.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),C=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==A.LINE_STRIP&&this.immediateMode.shapeMode!==A.LINES||(this.immediateMode.shapeMode=A.TRIANGLE_FAN,C=!0),this.immediateMode.shapeMode===A.QUADS?this.immediateMode.shapeMode=A.TRIANGLES:this.immediateMode.shapeMode===A.QUAD_STRIP&&(this.immediateMode.shapeMode=A.TRIANGLE_STRIP),this._doFill&&!C&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(T),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},p.default.RendererGL.prototype._processVertices=function(o){var f;this.immediateMode.geometry.vertices.length!==0&&(f=this._doStroke,o=o===A.CLOSE,f&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,o),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),f=this.immediateMode.shapeMode===A.TESS,o=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||f||o)&&this.immediateMode.shapeMode!==A.LINES&&this._tesselateShape())},p.default.RendererGL.prototype._calculateEdges=function(o,f,x){var g=[],D=0,E=this.immediateMode.contourIndices.slice(),C=0;switch(o){case A.TRIANGLE_STRIP:for(D=0;D<f.length-2;D++)g.push([D,D+1]),g.push([D,D+2]);g.push([D,D+1]);break;case A.TRIANGLE_FAN:for(D=1;D<f.length-1;D++)g.push([0,D]),g.push([D,D+1]);g.push([0,f.length-1]);break;case A.TRIANGLES:for(D=0;D<f.length-2;D+=3)g.push([D,D+1]),g.push([D+1,D+2]),g.push([D+2,D]);break;case A.LINES:for(D=0;D<f.length-1;D+=2)g.push([D,D+1]);break;case A.QUADS:for(D=0;D<f.length-5;D+=6)g.push([D,D+1]),g.push([D+1,D+2]),g.push([D+3,D+5]),g.push([D+4,D+5]);break;case A.QUAD_STRIP:for(D=0;D<f.length-2;D+=2)g.push([D,D+1]),g.push([D,D+2]),g.push([D+1,D+3]);g.push([D,D+1]);break;default:for(D=0;D<f.length;D++)D+1<f.length&&D+1!==E[0]?g.push([D,D+1]):((x||C)&&g.push([D,C]),0<E.length&&(C=E.shift()))}return o!==A.TESS&&x&&g.push([f.length-1,0]),g},p.default.RendererGL.prototype._tesselateShape=function(){for(var o=this,f=(this.immediateMode.shapeMode=A.TRIANGLES,[[]]),x=0;x<this.immediateMode.geometry.vertices.length;x++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===x&&(this.immediateMode.contourIndices.shift(),f.push([])),f[f.length-1].push(this.immediateMode.geometry.vertices[x].x,this.immediateMode.geometry.vertices[x].y,this.immediateMode.geometry.vertices[x].z,this.immediateMode.geometry.uvs[2*x],this.immediateMode.geometry.uvs[2*x+1],this.immediateMode.geometry.vertexColors[4*x],this.immediateMode.geometry.vertexColors[4*x+1],this.immediateMode.geometry.vertexColors[4*x+2],this.immediateMode.geometry.vertexColors[4*x+3],this.immediateMode.geometry.vertexNormals[x].x,this.immediateMode.geometry.vertexNormals[x].y,this.immediateMode.geometry.vertexNormals[x].z);for(var g,D=this._triangulate(f),E=this.immediateMode.geometry.vertices,C=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),T=0,O=D.length;T<O;T+=p.default.RendererGL.prototype.tessyVertexSize)C.push.apply(C,_(D.slice(T+5,T+9))),this.normal.apply(this,_(D.slice(T+9,T+12))),this.vertex.apply(this,_(D.slice(T,T+5)));this.geometryBuilder&&(g=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(I){return I.map(function(M){if(!g.has(M)){var F=E[M],B=o.immediateMode.geometry.vertices.findIndex(function(G){return F.x===G.x&&F.y===G.y&&F.z===G.z});if(B===-1){for(var j=1/0,L=0,R=0;R<o.immediateMode.geometry.vertices.length;R++){var k=o.immediateMode.geometry.vertices[R],U=F.x-k.x,V=F.y-k.y,k=F.z-k.z,U=U*U+V*V+k*k;U<j&&(j=U,L=R)}B=L}g.set(M,B)}return g.get(M)})})),this.immediateMode.geometry.vertexColors=C},p.default.RendererGL.prototype._drawImmediateFill=function(){var o,f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,x=this.GL,g=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,o=this._getImmediateFillShader(),this._setFillUniforms(o),!0),D=!1,E=void 0;try{for(var C,T=this.immediateMode.buffers.fill[Symbol.iterator]();!(g=(C=T.next()).done);g=!0)C.value._prepareBuffer(this.immediateMode.geometry,o)}catch(O){D=!0,E=O}finally{try{g||T.return==null||T.return()}finally{if(D)throw E}}if(o.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),f===1)x.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{x.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,f)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}o.unbindShader()},p.default.RendererGL.prototype._drawImmediateStroke=function(){var o=this.GL,f=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),x=(this._setStrokeUniforms(f),!0),g=!1,D=void 0;try{for(var E,C=this.immediateMode.buffers.stroke[Symbol.iterator]();!(x=(E=C.next()).done);x=!0)E.value._prepareBuffer(this.immediateMode.geometry,f)}catch(T){g=!0,D=T}finally{try{x||C.return==null||C.return()}finally{if(g)throw D}}f.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),o.drawArrays(o.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),f.unbindShader()},p.default.RendererGL);b.default=y},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.find-index":157,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.map":174,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],336:[function(a,r,b){function h(l){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(l)}function m(l){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(y){return h(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":h(y)})(l)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.some"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.typed-array.float32-array"),a("core-js/modules/es.typed-array.uint16-array"),a("core-js/modules/es.typed-array.uint32-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.fill"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.some"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.typed-array.float32-array"),a("core-js/modules/es.typed-array.uint16-array"),a("core-js/modules/es.typed-array.uint32-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=(_=a("../core/main"))&&_.__esModule?_:{default:_},A=(a("./p5.RendererGL"),a("./p5.RenderBuffer"),function(l){if(l&&l.__esModule)return l;if(l===null||m(l)!=="object"&&typeof l!="function")return{default:l};var y=S();if(y&&y.has(l))return y.get(l);var o,f={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in l){var g;Object.prototype.hasOwnProperty.call(l,o)&&((g=x?Object.getOwnPropertyDescriptor(l,o):null)&&(g.get||g.set)?Object.defineProperty(f,o,g):f[o]=l[o])}return f.default=l,y&&y.set(l,f),f}(a("../core/constants")));function S(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,S=function(){return l},l)}p.default.RendererGL.prototype.freeGeometry=function(l){l.gid?this._freeBuffers(l.gid):console.warn("The model you passed to freeGeometry does not have an id!")},p.default.RendererGL.prototype._initBufferDefaults=function(l){var y;return this._freeBuffers(l),1e3<Object.keys(this.retainedMode.geometry).length&&(y=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(y)),this.retainedMode.geometry[l]={}},p.default.RendererGL.prototype._freeBuffers=function(l){var y,o=this.retainedMode.geometry[l];function f(x){var g=!0,D=!1,E=void 0;try{for(var C,T=x[Symbol.iterator]();!(g=(C=T.next()).done);g=!0){var O=C.value;o[O.dst]&&(y.deleteBuffer(o[O.dst]),o[O.dst]=null)}}catch(I){D=!0,E=I}finally{try{g||T.return==null||T.return()}finally{if(D)throw E}}}o&&(delete this.retainedMode.geometry[l],y=this.GL,o.indexBuffer&&y.deleteBuffer(o.indexBuffer),f(this.retainedMode.buffers.stroke),f(this.retainedMode.buffers.fill))},p.default.RendererGL.prototype.createBuffers=function(D,y){var o,f,x,g=this.GL,D=this._initBufferDefaults(D),E=(D.model=y,D.indexBuffer);return y.faces.length?(E=E||(D.indexBuffer=g.createBuffer()),x=(f=(o=p.default.RendererGL.prototype._flatten(y.faces)).some(function(C){return 65535<C}))?Uint32Array:Uint16Array,this._bindBuffer(E,g.ELEMENT_ARRAY_BUFFER,o,x),D.indexBufferType=f?g.UNSIGNED_INT:g.UNSIGNED_SHORT,D.vertexCount=3*y.faces.length):(E&&(g.deleteBuffer(E),D.indexBuffer=null),D.vertexCount=y.vertices?y.vertices.length:0),D.lineVertexCount=y.lineVertices?y.lineVertices.length/3:0,D},p.default.RendererGL.prototype.drawBuffers=function(l){var y=this.GL,o=this.retainedMode.geometry[l];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[l].vertexCount){this._useVertexColor=0<o.model.vertexColors.length;var f=this._getRetainedFillShader(),x=(this._setFillUniforms(f),!0),g=!1,D=void 0;try{for(var E,C=this.retainedMode.buffers.fill[Symbol.iterator]();!(x=(E=C.next()).done);x=!0)E.value._prepareBuffer(o,f)}catch(F){g=!0,D=F}finally{try{x||C.return==null||C.return()}finally{if(g)throw D}}f.disableRemainingAttributes(),o.indexBuffer&&this._bindBuffer(o.indexBuffer,y.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,o.model.hasFillTransparency()),this._drawElements(y.TRIANGLES,l),f.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<o.lineVertexCount){this._useLineColor=0<o.model.vertexStrokeColors.length;var T=this._getRetainedStrokeShader(),O=(this._setStrokeUniforms(T),!0),g=!1,D=void 0;try{for(var I,M=this.retainedMode.buffers.stroke[Symbol.iterator]();!(O=(I=M.next()).done);O=!0)I.value._prepareBuffer(o,T)}catch(j){g=!0,D=j}finally{try{O||M.return==null||M.return()}finally{if(g)throw D}}T.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,o.model.hasStrokeTransparency()),this._drawArrays(y.TRIANGLES,l),T.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(o),this},p.default.RendererGL.prototype.drawBuffersScaled=function(l,y,o,f){var x=this.uMVMatrix.copy();try{this.uMVMatrix.scale(y,o,f),this.drawBuffers(l)}finally{this.uMVMatrix=x}},p.default.RendererGL.prototype._drawArrays=function(l,y){return this.GL.drawArrays(l,0,this.retainedMode.geometry[y].lineVertexCount),this},p.default.RendererGL.prototype._drawElements=function(l,o){var o=this.retainedMode.geometry[o],f=this.GL;if(o.indexBuffer){if(this._pInst.webglVersion!==A.WEBGL2&&o.indexBufferType===f.UNSIGNED_INT&&!f.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");f.drawElements(f.TRIANGLES,o.vertexCount,o.indexBufferType,0)}else f.drawArrays(l||f.TRIANGLES,0,o.vertexCount)},p.default.RendererGL.prototype._drawPoints=function(l,y){var o=this.GL,f=this._getImmediatePointShader();this._setPointUniforms(f),this._bindBuffer(y,o.ARRAY_BUFFER,this._vToNArray(l),Float32Array,o.STATIC_DRAW),f.enableAttrib(f.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),o.drawArrays(o.Points,0,l.length),f.unbindShader()};var _=p.default.RendererGL;b.default=_},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"./p5.RendererGL":337,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.some":169,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],337:[function(R,r,b){function h(X){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(X)}function m(X){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(Z){return h(Z)}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":h(Z)})(X)}R("core-js/modules/es.symbol"),R("core-js/modules/es.symbol.description"),R("core-js/modules/es.symbol.iterator"),R("core-js/modules/es.array.concat"),R("core-js/modules/es.array.copy-within"),R("core-js/modules/es.array.every"),R("core-js/modules/es.array.fill"),R("core-js/modules/es.array.flat"),R("core-js/modules/es.array.flat-map"),R("core-js/modules/es.array.from"),R("core-js/modules/es.array.includes"),R("core-js/modules/es.array.iterator"),R("core-js/modules/es.array.map"),R("core-js/modules/es.array.slice"),R("core-js/modules/es.array.some"),R("core-js/modules/es.array.unscopables.flat"),R("core-js/modules/es.array.unscopables.flat-map"),R("core-js/modules/es.map"),R("core-js/modules/es.object.assign"),R("core-js/modules/es.object.get-own-property-descriptor"),R("core-js/modules/es.object.get-prototype-of"),R("core-js/modules/es.object.to-string"),R("core-js/modules/es.reflect.construct"),R("core-js/modules/es.reflect.get"),R("core-js/modules/es.regexp.to-string"),R("core-js/modules/es.set"),R("core-js/modules/es.string.includes"),R("core-js/modules/es.string.iterator"),R("core-js/modules/es.typed-array.float32-array"),R("core-js/modules/es.typed-array.float64-array"),R("core-js/modules/es.typed-array.int16-array"),R("core-js/modules/es.typed-array.uint8-array"),R("core-js/modules/es.typed-array.uint16-array"),R("core-js/modules/es.typed-array.uint32-array"),R("core-js/modules/es.typed-array.copy-within"),R("core-js/modules/es.typed-array.every"),R("core-js/modules/es.typed-array.fill"),R("core-js/modules/es.typed-array.filter"),R("core-js/modules/es.typed-array.find"),R("core-js/modules/es.typed-array.find-index"),R("core-js/modules/es.typed-array.for-each"),R("core-js/modules/es.typed-array.includes"),R("core-js/modules/es.typed-array.index-of"),R("core-js/modules/es.typed-array.iterator"),R("core-js/modules/es.typed-array.join"),R("core-js/modules/es.typed-array.last-index-of"),R("core-js/modules/es.typed-array.map"),R("core-js/modules/es.typed-array.reduce"),R("core-js/modules/es.typed-array.reduce-right"),R("core-js/modules/es.typed-array.reverse"),R("core-js/modules/es.typed-array.set"),R("core-js/modules/es.typed-array.slice"),R("core-js/modules/es.typed-array.some"),R("core-js/modules/es.typed-array.sort"),R("core-js/modules/es.typed-array.subarray"),R("core-js/modules/es.typed-array.to-locale-string"),R("core-js/modules/es.typed-array.to-string"),R("core-js/modules/es.weak-map"),R("core-js/modules/web.dom-collections.iterator"),R("core-js/modules/es.symbol"),R("core-js/modules/es.symbol.description"),R("core-js/modules/es.symbol.iterator"),R("core-js/modules/es.array.concat"),R("core-js/modules/es.array.copy-within"),R("core-js/modules/es.array.every"),R("core-js/modules/es.array.fill"),R("core-js/modules/es.array.flat"),R("core-js/modules/es.array.flat-map"),R("core-js/modules/es.array.from"),R("core-js/modules/es.array.includes"),R("core-js/modules/es.array.iterator"),R("core-js/modules/es.array.map"),R("core-js/modules/es.array.slice"),R("core-js/modules/es.array.some"),R("core-js/modules/es.array.unscopables.flat"),R("core-js/modules/es.array.unscopables.flat-map"),R("core-js/modules/es.map"),R("core-js/modules/es.object.assign"),R("core-js/modules/es.object.to-string"),R("core-js/modules/es.set"),R("core-js/modules/es.string.includes"),R("core-js/modules/es.string.iterator"),R("core-js/modules/es.typed-array.float32-array"),R("core-js/modules/es.typed-array.float64-array"),R("core-js/modules/es.typed-array.int16-array"),R("core-js/modules/es.typed-array.uint8-array"),R("core-js/modules/es.typed-array.uint16-array"),R("core-js/modules/es.typed-array.uint32-array"),R("core-js/modules/es.typed-array.copy-within"),R("core-js/modules/es.typed-array.every"),R("core-js/modules/es.typed-array.fill"),R("core-js/modules/es.typed-array.filter"),R("core-js/modules/es.typed-array.find"),R("core-js/modules/es.typed-array.find-index"),R("core-js/modules/es.typed-array.for-each"),R("core-js/modules/es.typed-array.includes"),R("core-js/modules/es.typed-array.index-of"),R("core-js/modules/es.typed-array.iterator"),R("core-js/modules/es.typed-array.join"),R("core-js/modules/es.typed-array.last-index-of"),R("core-js/modules/es.typed-array.map"),R("core-js/modules/es.typed-array.reduce"),R("core-js/modules/es.typed-array.reduce-right"),R("core-js/modules/es.typed-array.reverse"),R("core-js/modules/es.typed-array.set"),R("core-js/modules/es.typed-array.slice"),R("core-js/modules/es.typed-array.some"),R("core-js/modules/es.typed-array.sort"),R("core-js/modules/es.typed-array.subarray"),R("core-js/modules/es.typed-array.to-locale-string"),R("core-js/modules/es.typed-array.to-string"),R("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.readPixelsWebGL=G,b.readPixelWebGL=H,b.default=void 0;var p=o(R("../core/main")),A=function(X){if(X&&X.__esModule)return X;if(X===null||m(X)!=="object"&&typeof X!="function")return{default:X};var Z=y();if(Z&&Z.has(X))return Z.get(X);var J,ee={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(J in X){var W;Object.prototype.hasOwnProperty.call(X,J)&&((W=$?Object.getOwnPropertyDescriptor(X,J):null)&&(W.get||W.set)?Object.defineProperty(ee,J,W):ee[J]=X[J])}return ee.default=X,Z&&Z.set(X,ee),ee}(R("../core/constants")),S=o(R("./GeometryBuilder")),_=o(R("libtess")),l=(R("./p5.Shader"),R("./p5.Camera"),R("../core/p5.Renderer"),R("./p5.Matrix"),R("./p5.Framebuffer"),R("path"),R("./p5.Texture"));function y(){var X;return typeof WeakMap!="function"?null:(X=new WeakMap,y=function(){return X},X)}function o(X){return X&&X.__esModule?X:{default:X}}function f(X){return function(Z){if(Array.isArray(Z)){for(var J=0,ee=new Array(Z.length);J<Z.length;J++)ee[J]=Z[J];return ee}}(X)||function(Z){if(Symbol.iterator in Object(Z)||Object.prototype.toString.call(Z)==="[object Arguments]")return Array.from(Z)}(X)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(X,Z){for(var J=0;J<Z.length;J++){var ee=Z[J];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(X,ee.key,ee)}}function g(X,Z,J){return(g=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Q,$,W){var Q=function(te,ce){for(;!Object.prototype.hasOwnProperty.call(te,ce)&&(te=T(te))!==null;);return te}(Q,$);if(Q)return(Q=Object.getOwnPropertyDescriptor(Q,$)).get?Q.get.call(W):Q.value})(X,Z,J||X)}function D(X,Z){return(D=Object.setPrototypeOf||function(J,ee){return J.__proto__=ee,J})(X,Z)}function E(X){return function(){var Z,J,ee=T(X);return Z=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(Z=T(this).constructor,Reflect.construct(ee,arguments,Z)):ee.apply(this,arguments),ee=this,!(J=Z)||m(J)!=="object"&&typeof J!="function"?C(ee):J}}function C(X){if(X===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}function T(X){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(Z){return Z.__proto__||Object.getPrototypeOf(Z)})(X)}function O(X,Z,J){Z in X?Object.defineProperty(X,Z,{value:J,enumerable:!0,configurable:!0,writable:!0}):X[Z]=J}function I(X,Z){L+="#define STROKE_CAP_".concat(X," ").concat(Z,`
`),B[A[X]]=Z}function M(X,Z){L+="#define STROKE_JOIN_".concat(X," ").concat(Z,`
`),j[A[X]]=Z}var F,B={},j={},L="",R=(I("ROUND",0),I("PROJECT",1),I("SQUARE",2),M("ROUND",0),M("MITER",1),M("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float metallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;
// roughness for use in calculateImageSpecular
uniform float levelOfDetail;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition);
    totalSpecular += calculateImageSpecular(normal, modelPosition);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),V={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  OUT_COLOR = vec4(vVertexNormal, 1.0);
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:R+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:R+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  OUT_COLOR = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:L+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float scale = mix(1., 0.995, facingCamera);

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:L+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},k=V.sphereMappingFrag;for(F in V)V[F]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+V[F];O(R={},A.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),O(R,A.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),O(R,A.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),O(R,A.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),O(R,A.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),O(R,A.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),O(R,A.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),O(R,A.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var U=R;function G(X,Z,we,ee,$,W,Q,te,ce,oe){var ue=Z.getParameter(Z.FRAMEBUFFER_BINDING),we=(Z.bindFramebuffer(Z.FRAMEBUFFER,we),te===Z.RGBA?4:3),le=W*Q*we,fe=ce===Z.UNSIGNED_BYTE?Uint8Array:Float32Array;if(X instanceof fe&&X.length===le||(X=new fe(le)),Z.readPixels(ee,oe?oe-$-Q:$,W,Q,te,ce,X),Z.bindFramebuffer(Z.FRAMEBUFFER,ue),oe)for(var ve=Math.floor(Q/2),pe=new fe(W*we),ye=0;ye<ve;ye++){var Ae=ye*W*4,be=(Q-ye-1)*W*4;pe.set(X.subarray(Ae,Ae+4*W)),X.copyWithin(Ae,be,be+4*W),X.set(pe,be)}return X}function H(X,ce,J,ee,$,W,Q){var te=X.getParameter(X.FRAMEBUFFER_BINDING),ce=(X.bindFramebuffer(X.FRAMEBUFFER,ce),$===X.RGBA?4:3),ce=new(W===X.UNSIGNED_BYTE?Uint8Array:Float32Array)(ce);return X.readPixels(J,Q?Q-ee-1:ee,1,1,$,W,ce),X.bindFramebuffer(X.FRAMEBUFFER,te),Array.from(ce)}p.default.prototype.setAttributes=function(X,Z){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var J=!0;if(Z!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[X]!==Z&&(this._glAttributes[X]=Z,J=!1)):X instanceof Object&&this._glAttributes!==X&&(this._glAttributes=X,J=!1),this._renderer.isP3D&&!J){if(!this._setupDone){for(var ee in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(ee))return void p.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},p.default.RendererGL=function(X){var Z=ee;if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(X&&X.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),X&&D(Z,X);var J=E(ee);function ee($,W,Q,te){if(this instanceof ee)return($=J.call(this,$,W,Q))._setAttributeDefaults(W),$._initContext(),$.isP3D=!0,$.geometryBuilder=void 0,$.GL=$.drawingContext,$._pInst._setProperty("drawingContext",$.drawingContext),$._isErasing=!1,$._clipDepths=[],$._isClipApplied=!1,$._stencilTestOn=!1,$._enableLighting=!1,$.ambientLightColors=[],$.mixedAmbientLight=[],$.mixedSpecularColor=[],$.specularColors=[1,1,1],$.directionalLightDirections=[],$.directionalLightDiffuseColors=[],$.directionalLightSpecularColors=[],$.pointLightPositions=[],$.pointLightDiffuseColors=[],$.pointLightSpecularColors=[],$.spotLightPositions=[],$.spotLightDirections=[],$.spotLightDiffuseColors=[],$.spotLightSpecularColors=[],$.spotLightAngle=[],$.spotLightConc=[],$.activeImageLight=null,$.diffusedTextures=new Map,$.specularTextures=new Map,$.drawMode=A.FILL,$.curFillColor=$._cachedFillStyle=[1,1,1,1],$.curAmbientColor=$._cachedFillStyle=[1,1,1,1],$.curSpecularColor=$._cachedFillStyle=[0,0,0,0],$.curEmissiveColor=$._cachedFillStyle=[0,0,0,0],$.curStrokeColor=$._cachedStrokeStyle=[0,0,0,1],$.curBlendMode=A.BLEND,$.preEraseBlend=void 0,$._cachedBlendMode=void 0,$.webglVersion===A.WEBGL2?$.blendExt=$.GL:$.blendExt=$.GL.getExtension("EXT_blend_minmax"),$._isBlending=!1,$._hasSetAmbient=!1,$._useSpecularMaterial=!1,$._useEmissiveMaterial=!1,$._useNormalMaterial=!1,$._useShininess=1,$._useMetalness=0,$._useLineColor=!1,$._useVertexColor=!1,$.registerEnabled=new Set,$._tint=[255,255,255,255],$.constantAttenuation=1,$.linearAttenuation=0,$.quadraticAttenuation=0,$.uMVMatrix=new p.default.Matrix,$.uPMatrix=new p.default.Matrix,$.uNMatrix=new p.default.Matrix("mat3"),$.curMatrix=new p.default.Matrix("mat3"),$._currentNormal=new p.default.Vector(0,0,1),$._curCamera=new p.default.Camera(C($)),$._curCamera._computeCameraDefaultSettings(),$._curCamera._setDefaultCamera(),$.filterCamera=new p.default.Camera(C($)),$.filterCamera._computeCameraDefaultSettings(),$.filterCamera._setDefaultCamera(),$.prevTouches=[],$.zoomVelocity=0,$.rotateVelocity=new p.default.Vector(0,0),$.moveVelocity=new p.default.Vector(0,0),$.executeZoom=!1,$.executeRotateAndMove=!1,$.specularShader=void 0,$.sphereMapping=void 0,$.diffusedShader=void 0,$._defaultLightShader=void 0,$._defaultImmediateModeShader=void 0,$._defaultNormalShader=void 0,$._defaultColorShader=void 0,$._defaultPointShader=void 0,$.userFillShader=void 0,$.userStrokeShader=void 0,$.userPointShader=void 0,$.retainedMode={geometry:{},buffers:{stroke:[new p.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",C($)),new p.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",C($)),new p.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",C($)),new p.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",C($)),new p.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",C($))],fill:[new p.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",C($),$._vToNArray),new p.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",C($),$._vToNArray),new p.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",C($)),new p.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",C($)),new p.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",C($),$._flatten)],text:[new p.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",C($),$._vToNArray),new p.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",C($),$._flatten)]}},$.immediateMode={geometry:new p.default.Geometry,shapeMode:A.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new p.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",C($),$._vToNArray),new p.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",C($),$._vToNArray),new p.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",C($)),new p.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",C($)),new p.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",C($),$._flatten)],stroke:[new p.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",C($)),new p.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",C($)),new p.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",C($)),new p.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",C($)),new p.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",C($))],point:$.GL.createBuffer()}},$.pointSize=5,$.curStrokeWeight=1,$.curStrokeCap=A.ROUND,$.curStrokeJoin=A.ROUND,$.textures=new Map,$.framebuffers=new Set,$.activeFramebuffers=[],$.filterShader=void 0,$.filterLayer=void 0,$.filterLayerTemp=void 0,$.defaultFilterShaders={},$.textureMode=A.IMAGE,$.textureWrapX=A.CLAMP,$.textureWrapY=A.CLAMP,$._tex=null,$._curveTightness=6,$._lookUpTableBezier=[],$._lookUpTableQuadratic=[],$._lutBezierDetail=0,$._lutQuadraticDetail=0,$.isProcessingVertices=!1,$._tessy=$._initTessy(),$.fontInfos={},$._curShader=void 0,$;throw new TypeError("Cannot call a class as a function")}return Z=ee,(X=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new S.default(this)}},{key:"endGeometry",value:function(){var $;if(this.geometryBuilder)return $=this.geometryBuilder.finish(),this.geometryBuilder=void 0,$;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function($){return this.beginGeometry(),$(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function($){var W={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};$._glAttributes===null?$._glAttributes=W:$._glAttributes=Object.assign(W,$._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?A.WEBGL2:A.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var $=this.drawingContext;$.enable($.DEPTH_TEST),$.depthFunc($.LEQUAL),$.viewport(0,0,$.drawingBufferWidth,$.drawingBufferHeight),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var $=this.drawingContext;return $.getParameter($.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function($,W){this._maxTextureSize||(this._maxTextureSize=this._getParam());var te=this._maxTextureSize,te=(p.default.prototype._maxAllowedPixelDimensions,Math.floor(te/this.pixelDensity())),Q=Math.min($,te),te=Math.min(W,te);return Q===$&&te===W||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(Q,", height: ").concat(te,".")),{adjustedWidth:Q,adjustedHeight:te}}},{key:"_resetContext",value:function($,W){var Q,te=this.width,ce=this.height,ue=this.canvas.id,oe=this._pInst instanceof p.default.Graphics,ue=(oe?((Q=this._pInst).canvas.parentNode.removeChild(Q.canvas),Q.canvas=document.createElement("canvas"),(Q._pInst._userNode||document.body).appendChild(Q.canvas),p.default.Element.call(Q,Q.canvas,Q._pInst),Q.width=te,Q.height=ce):((Q=this.canvas)&&Q.parentNode.removeChild(Q),(Q=document.createElement("canvas")).id=ue,(this._pInst._userNode||document.body).appendChild(Q),this._pInst.canvas=Q,this.canvas=Q),new p.default.RendererGL(this._pInst.canvas,this._pInst,!oe));this._pInst._setProperty("_renderer",ue),ue.resize(te,ce),ue._applyDefaults(),oe||this._pInst._elements.push(ue),typeof W=="function"&&setTimeout(function(){W.apply(window._renderer,$)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var te=(te=this._pInst).color.apply(te,arguments),$=te.levels[0]/255,W=te.levels[1]/255,Q=te.levels[2]/255,te=te.levels[3]/255;this.clear($,W,Q,te)}},{key:"fill",value:function($,W,Q,te){var ce=p.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=ce._array,this.drawMode=A.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function($,W,Q,te){var ce=p.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=ce._array}},{key:"strokeCap",value:function($){this.curStrokeCap=$}},{key:"strokeJoin",value:function($){this.curStrokeJoin=$}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function($,W){$.width===W.width&&$.height===W.height||$.resize(W.width,W.height),$.pixelDensity()!==W.pixelDensity()&&$.pixelDensity(W.pixelDensity())}},{key:"filter",value:function(){var $,W,Q=this,te=this.getFilterLayer(),ce=void 0,oe=void 0,ue=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(oe=arguments.length<=0?void 0:arguments[0],O($={},A.BLUR,3),O($,A.POSTERIZE,4),O($,A.THRESHOLD,.5),ce=oe in($=$)&&(arguments.length<=1?void 0:arguments[1])===void 0?$[oe]:arguments.length<=1?void 0:arguments[1],oe in this.defaultFilterShaders||(this.defaultFilterShaders[oe]=new p.default.Shader(te._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,U[oe])),this.filterShader=this.defaultFilterShaders[oe]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),we=(this.matchSize(te,ue),te.draw(function(){return Q._pInst.clear()}),[1/(ue.width*ue.pixelDensity()),1/(ue.height*ue.pixelDensity())]);oe===A.BLUR?(W=this.getFilterLayerTemp(),this.matchSize(W,ue),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(A.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",we),this.filterShader.setUniform("canvasSize",[ue.width,ue.height]),this.filterShader.setUniform("radius",Math.max(1,ce)),W.draw(function(){Q.filterShader.setUniform("direction",[1,0]),Q.filterShader.setUniform("tex0",ue),Q._pInst.clear(),Q._pInst.shader(Q.filterShader),Q._pInst.noLights(),Q._pInst.plane(ue.width,ue.height)}),te.draw(function(){Q.filterShader.setUniform("direction",[0,1]),Q.filterShader.setUniform("tex0",W),Q._pInst.clear(),Q._pInst.shader(Q.filterShader),Q._pInst.noLights(),Q._pInst.plane(ue.width,ue.height)}),this._pInst.pop()):te.draw(function(){Q._pInst.noStroke(),Q._pInst.blendMode(A.BLEND),Q._pInst.shader(Q.filterShader),Q.filterShader.setUniform("tex0",ue),Q.filterShader.setUniform("texelSize",we),Q.filterShader.setUniform("canvasSize",[ue.width,ue.height]),Q.filterShader.setUniform("filterParameter",ce),Q._pInst.noLights(),Q._pInst.plane(ue.width,ue.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(A.CORNER),this._pInst.blendMode(A.BLEND),ue.filterCamera._resize(),this._pInst.setCamera(ue.filterCamera),this._pInst.resetMatrix(),this._pInst.image(te,-ue.width/2,-ue.height/2,ue.width,ue.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function($){return $?this._pInst.pixelDensity($):this._pInst.pixelDensity()}},{key:"blendMode",value:function($){$===A.DARKEST||$===A.LIGHTEST||$===A.ADD||$===A.BLEND||$===A.SUBTRACT||$===A.SCREEN||$===A.EXCLUSION||$===A.REPLACE||$===A.MULTIPLY||$===A.REMOVE?this.curBlendMode=$:$!==A.BURN&&$!==A.OVERLAY&&$!==A.HARD_LIGHT&&$!==A.SOFT_LIGHT&&$!==A.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function($,W){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(A.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,$/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,W/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var $=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},$=(g(T(ee.prototype),"beginClip",this).call(this,$),this.drawTarget()._isClipApplied=!0,this.GL);$.clearStencil(0),$.clear($.STENCIL_BUFFER_BIT),$.enable($.STENCIL_TEST),this._stencilTestOn=!0,$.stencilFunc($.ALWAYS,1,255),$.stencilOp($.KEEP,$.KEEP,$.REPLACE),$.disable($.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var $=this.GL;$.stencilOp($.KEEP,$.KEEP,$.KEEP),$.stencilFunc(this._clipInvert?$.EQUAL:$.NOTEQUAL,0,255),$.enable($.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),g(T(ee.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function($){this.curStrokeWeight!==$&&(this.pointSize=$,this.curStrokeWeight=$)}},{key:"_getPixel",value:function($,W){var Q=this.GL;return H(Q,null,$,W,Q.RGBA,Q.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var $,W,Q=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):($=this._pInst._pixelDensity,W=this.GL,Q._setProperty("pixels",G(Q.pixels,W,null,0,0,this.width*$,this.height*$,W.RGBA,W.UNSIGNED_BYTE,this.height*$)))}},{key:"updatePixels",value:function(){var $=this._getTempFramebuffer();$.pixels=this._pixelsState.pixels,$.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(A.CENTER),this._pInst.image($,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:A.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:A.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function($){return this.retainedMode.geometry[$]!==void 0}},{key:"viewport",value:function($,W){this._viewport=[0,0,$,W],this.GL.viewport(0,0,$,W)}},{key:"resize",value:function(ce,te){p.default.Renderer.prototype.resize.call(this,ce,te),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var ce=this._pixelsState,Q=(ce.pixels!==void 0&&ce._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),te=!1,ce=void 0;try{for(var oe,ue=this.framebuffers[Symbol.iterator]();!(Q=(oe=ue.next()).done);Q=!0)oe.value._canvasSizeChanged()}catch(we){te=!0,ce=we}finally{try{Q||ue.return==null||ue.return()}finally{if(te)throw ce}}}},{key:"clear",value:function(){var $=(arguments.length<=0?void 0:arguments[0])||0,W=(arguments.length<=1?void 0:arguments[1])||0,Q=(arguments.length<=2?void 0:arguments[2])||0,te=(arguments.length<=3?void 0:arguments[3])||0,ce=this.activeFramebuffer();ce&&ce.format===A.UNSIGNED_BYTE&&!ce.antialias&&te===0&&(te=1e-10),this.GL.clearColor($*te,W*te,Q*te,te),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function($,W,Q,te,ce,oe){arguments.length===16?p.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([$,W,0,0,Q,te,0,0,0,0,1,0,ce,oe,0,1])}},{key:"translate",value:function($,W,Q){return $ instanceof p.default.Vector&&(Q=$.z,W=$.y,$=$.x),this.uMVMatrix.translate([$,W,Q]),this}},{key:"scale",value:function($,W,Q){return this.uMVMatrix.scale($,W,Q),this}},{key:"rotate",value:function($,W){return W===void 0?this.rotateZ($):(p.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function($){return this.rotate($,1,0,0),this}},{key:"rotateY",value:function($){return this.rotate($,0,1,0),this}},{key:"rotateZ",value:function($){return this.rotate($,0,0,1),this}},{key:"push",value:function(){var $=p.default.Renderer.prototype.push.apply(this),W=$.properties;return W.uMVMatrix=this.uMVMatrix.copy(),W.uPMatrix=this.uPMatrix.copy(),W._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),W.ambientLightColors=this.ambientLightColors.slice(),W.specularColors=this.specularColors.slice(),W.directionalLightDirections=this.directionalLightDirections.slice(),W.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),W.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),W.pointLightPositions=this.pointLightPositions.slice(),W.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),W.pointLightSpecularColors=this.pointLightSpecularColors.slice(),W.spotLightPositions=this.spotLightPositions.slice(),W.spotLightDirections=this.spotLightDirections.slice(),W.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),W.spotLightSpecularColors=this.spotLightSpecularColors.slice(),W.spotLightAngle=this.spotLightAngle.slice(),W.spotLightConc=this.spotLightConc.slice(),W.userFillShader=this.userFillShader,W.userStrokeShader=this.userStrokeShader,W.userPointShader=this.userPointShader,W.pointSize=this.pointSize,W.curStrokeWeight=this.curStrokeWeight,W.curStrokeColor=this.curStrokeColor,W.curFillColor=this.curFillColor,W.curAmbientColor=this.curAmbientColor,W.curSpecularColor=this.curSpecularColor,W.curEmissiveColor=this.curEmissiveColor,W._hasSetAmbient=this._hasSetAmbient,W._useSpecularMaterial=this._useSpecularMaterial,W._useEmissiveMaterial=this._useEmissiveMaterial,W._useShininess=this._useShininess,W._useMetalness=this._useMetalness,W.constantAttenuation=this.constantAttenuation,W.linearAttenuation=this.linearAttenuation,W.quadraticAttenuation=this.quadraticAttenuation,W._enableLighting=this._enableLighting,W._useNormalMaterial=this._useNormalMaterial,W._tex=this._tex,W.drawMode=this.drawMode,W._currentNormal=this._currentNormal,W.curBlendMode=this.curBlendMode,W.activeImageLight=this.activeImageLight,$}},{key:"pop",value:function(){var $;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var W=arguments.length,Q=new Array(W),te=0;te<W;te++)Q[te]=arguments[te];($=g(T(ee.prototype),"pop",this)).call.apply($,[this].concat(Q)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var $=this.drawTarget();$._isClipApplied!==this._stencilTestOn&&($._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var $=this.userStrokeShader;return $&&$.isStrokeShader()?$:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function($){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(k)),this.uNMatrix.inverseTranspose(this.uMVMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",$),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var $=this.userFillShader;if(this._useNormalMaterial&&(!$||!$.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!$||!$.isLightShader())return this._getLightShader()}else if(this._tex){if(!$||!$.isTextureShader())return this._getLightShader()}else if(!$)return this._getImmediateModeShader();return $}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var $=this.userFillShader;if(this._enableLighting){if(!$||!$.isLightShader())return this._getLightShader()}else if(this._tex){if(!$||!$.isTextureShader())return this._getLightShader()}else if(!$)return this._getColorShader();return $}},{key:"_getImmediatePointShader",value:function(){var $=this.userPointShader;return $&&$.isPointShader()?$:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+V.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+V.phongFrag):this._defaultLightShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+V.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+V.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===A.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+V.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+V.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function($,W){var Q="";return this.webglVersion===A.WEBGL2&&(Q+=`#version 300 es
#define WEBGL2
`),$==="vert"?Q+=`#define VERTEX_SHADER
`:$==="frag"&&(Q+=`#define FRAGMENT_SHADER
`),W&&(Q+="precision ".concat(W,` float;
`)),Q}},{key:"_getEmptyTexture",value:function(){var $;return this._emptyTexture||(($=new p.default.Image(1,1)).set(0,0,255),this._emptyTexture=new p.default.Texture(this,$)),this._emptyTexture}},{key:"getTexture",value:function($){$ instanceof p.default.Framebuffer&&($=$.color);var W=this.textures.get($);return W||(W=new p.default.Texture(this,$),this.textures.set($,W),W)}},{key:"getDiffusedTexture",value:function($){var W,Q,te=this;return this.diffusedTextures.get($)!=null?this.diffusedTextures.get($):(W=Math.floor($.height/$.width*200),Q=this._pInst.createFramebuffer({width:200,height:W,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(V.imageLightVert,V.imageLightDiffusedFrag)),Q.draw(function(){te._pInst.shader(te.diffusedShader),te.diffusedShader.setUniform("environmentMap",$),te._pInst.noStroke(),te._pInst.rectMode(A.CENTER),te._pInst.noLights(),te._pInst.rect(0,0,200,W)}),this.diffusedTextures.set($,Q),Q)}},{key:"getSpecularTexture",value:function($){var W=this;if(this.specularTextures.get($)!=null)return this.specularTextures.get($);for(var Q,te=[],ce=this._pInst.createFramebuffer({width:512,height:512,density:1}),oe=Math.log(512)/Math.log(2),ue=(this.specularShader||(this.specularShader=this._pInst.createShader(V.imageLightVert,V.imageLightSpecularFrag)),512);1<=ue;ue/=2)(function(we){ce.resize(we,we);var le=1-Math.log(we)/Math.log(2)/oe;ce.draw(function(){W._pInst.shader(W.specularShader),W._pInst.clear(),W.specularShader.setUniform("environmentMap",$),W.specularShader.setUniform("roughness",le),W._pInst.noStroke(),W._pInst.noLights(),W._pInst.plane(we,we)}),te.push(ce.get().drawingContext.getImageData(0,0,we,we))})(ue);return ce.remove(),Q=new l.MipmapTexture(this,te,{}),this.specularTextures.set($,Q),Q}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function($){return new p.default.Framebuffer(this,$)}},{key:"_setStrokeUniforms",value:function($){$.bindShader(),$.setUniform("uUseLineColor",this._useLineColor),$.setUniform("uMaterialColor",this.curStrokeColor),$.setUniform("uStrokeWeight",this.curStrokeWeight),$.setUniform("uStrokeCap",B[this.curStrokeCap]),$.setUniform("uStrokeJoin",j[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function($){var W=this,Q=($.bindShader(),this.mixedSpecularColor=f(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(te,ce){return W.curFillColor[ce]*W._useMetalness+te*(1-W._useMetalness)})),$.setUniform("uUseVertexColor",this._useVertexColor),$.setUniform("uMaterialColor",this.curFillColor),$.setUniform("isTexture",!!this._tex),this._tex&&$.setUniform("uSampler",this._tex),$.setUniform("uTint",this._tint),$.setUniform("uHasSetAmbient",this._hasSetAmbient),$.setUniform("uAmbientMatColor",this.curAmbientColor),$.setUniform("uSpecularMatColor",this.mixedSpecularColor),$.setUniform("uEmissiveMatColor",this.curEmissiveColor),$.setUniform("uSpecular",this._useSpecularMaterial),$.setUniform("uEmissive",this._useEmissiveMaterial),$.setUniform("uShininess",this._useShininess),$.setUniform("metallic",this._useMetalness),this._setImageLightUniforms($),$.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),Q=($.setUniform("uPointLightCount",Q),$.setUniform("uPointLightLocation",this.pointLightPositions),$.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),$.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),Q=($.setUniform("uDirectionalLightCount",Q),$.setUniform("uLightingDirection",this.directionalLightDirections),$.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),$.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),Q=(this.mixedAmbientLight=f(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(te){return te-=W._useMetalness,Math.max(0,te)})),$.setUniform("uAmbientLightCount",Q),$.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);$.setUniform("uSpotLightCount",Q),$.setUniform("uSpotLightAngle",this.spotLightAngle),$.setUniform("uSpotLightConc",this.spotLightConc),$.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),$.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),$.setUniform("uSpotLightLocation",this.spotLightPositions),$.setUniform("uSpotLightDirection",this.spotLightDirections),$.setUniform("uConstantAttenuation",this.constantAttenuation),$.setUniform("uLinearAttenuation",this.linearAttenuation),$.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),$.bindTextures()}},{key:"_setImageLightUniforms",value:function($){var W,Q;$.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(W=this.getDiffusedTexture(this.activeImageLight),$.setUniform("environmentMapDiffused",W),W=this.getSpecularTexture(this.activeImageLight),Q=20/this._useShininess,$.setUniform("levelOfDetail",8*Q),$.setUniform("environmentMapSpecular",W))}},{key:"_setPointUniforms",value:function($){$.bindShader(),$.setUniform("uMaterialColor",this.curStrokeColor),$.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function($,W,Q,te,ce){W=W||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(W,$),Q!==void 0&&(($=Q)instanceof p.default.DataArray?$=Q.dataArray():$ instanceof(te||Float32Array)||($=new(te||Float32Array)($)),this.GL.bufferData(W,$,ce||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function($,W){return $.length===W.length&&$.every(function(Q,te){return Q===W[te]})}},{key:"_isTypedArray",value:function($){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(W){return $ instanceof W})}},{key:"_flatten",value:function($){return $.flat()}},{key:"_vToNArray",value:function($){return $.flatMap(function(W){return[W.x,W.y,W.z]})}},{key:"_bezierCoefficients",value:function($){var W=$*$,Q=1-$,te=Q*Q;return[te*Q,3*te*$,3*Q*W,W*$]}},{key:"_quadraticCoefficients",value:function($){var W=1-$;return[W*W,2*W*$,$*$]}},{key:"_bezierToCatmull",value:function($){return[$[1],$[1]+($[2]-$[0])/this._curveTightness,$[2]-($[3]-$[1])/this._curveTightness,$[2]]}},{key:"_initTessy",value:function(){var $=new _.default.GluTesselator;return $.gluTessCallback(_.default.gluEnum.GLU_TESS_VERTEX_DATA,function(W,Q){var te=!0,ce=!1,oe=void 0;try{for(var ue,we=W[Symbol.iterator]();!(te=(ue=we.next()).done);te=!0){var le=ue.value;Q.push(le)}}catch(fe){ce=!0,oe=fe}finally{try{te||we.return==null||we.return()}finally{if(ce)throw oe}}}),$.gluTessCallback(_.default.gluEnum.GLU_TESS_BEGIN,function(W){W!==_.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(W))}),$.gluTessCallback(_.default.gluEnum.GLU_TESS_ERROR,function(W){console.log("error callback"),console.log("error number: ".concat(W))}),$.gluTessCallback(_.default.gluEnum.GLU_TESS_COMBINE,function(W,Q,te){for(var ce=new Array(p.default.RendererGL.prototype.tessyVertexSize).fill(0),oe=0;oe<te.length;oe++)for(var ue=0;ue<ce.length;ue++)te[oe]!==0&&Q[oe]&&(ce[ue]+=Q[oe][ue]*te[oe]);return ce}),$.gluTessCallback(_.default.gluEnum.GLU_TESS_EDGE_FLAG,function(W){}),$.gluTessProperty(_.default.gluEnum.GLU_TESS_WINDING_RULE,_.default.windingRule.GLU_TESS_WINDING_NONZERO),$}},{key:"_triangulate",value:function($){var W=$[0]?$[0][2]:void 0,Q=!0,te=!0,le=!1,ve=void 0;try{for(var ce,oe=$[Symbol.iterator]();!(te=(ce=oe.next()).done);te=!0)for(var ue=ce.value,we=0;we<ue.length;we+=p.default.RendererGL.prototype.tessyVertexSize)if(ue[we+2]!==W){Q=!1;break}}catch(de){le=!0,ve=de}finally{try{te||oe.return==null||oe.return()}finally{if(le)throw ve}}Q?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var le=[],fe=(this._tessy.gluTessBeginPolygon(le),!0),ve=!1,pe=void 0;try{for(var ye,Ae=$[Symbol.iterator]();!(fe=(ye=Ae.next()).done);fe=!0){var be=ye.value;this._tessy.gluTessBeginContour();for(var ne=0;ne<be.length;ne+=p.default.RendererGL.prototype.tessyVertexSize){var re=be.slice(ne,ne+p.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(re,re)}this._tessy.gluTessEndContour()}}catch(de){ve=!0,pe=de}finally{try{fe||Ae.return==null||Ae.return()}finally{if(ve)throw pe}}return this._tessy.gluTessEndPolygon(),le}}])&&x(Z.prototype,X),ee}(p.default.Renderer),p.default.prototype._assert3d=function(X){if(!this._renderer.isP3D)throw new Error("".concat(X,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},p.default.RendererGL.prototype.tessyVertexSize=12,R=p.default.RendererGL,b.default=R},{"../core/constants":269,"../core/main":280,"../core/p5.Renderer":283,"./GeometryBuilder":324,"./p5.Camera":329,"./p5.Framebuffer":331,"./p5.Matrix":333,"./p5.Shader":338,"./p5.Texture":339,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.every":154,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.flat-map":158,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.array.unscopables.flat-map":171,"core-js/modules/es.map":174,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.float64-array":217,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int16-array":221,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,libtess:252,path:255}],338:[function(a,r,b){a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.some"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.index-of"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.array.slice"),a("core-js/modules/es.array.some"),a("core-js/modules/es.function.name"),a("core-js/modules/es.object.keys"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var h=(a=a("../core/main"))&&a.__esModule?a:{default:a};function m(p,A){for(var S=0;S<A.length;S++){var _=A[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}h.default.Shader=function(){function p(_,l,y){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this._renderer=_,this._vertSrc=l,this._fragSrc=y,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var A,S;return A=p,(S=[{key:"init",value:function(){if(this._glProgram===0){var _=this._renderer.GL;if(this._vertShader=_.createShader(_.VERTEX_SHADER),_.shaderSource(this._vertShader,this._vertSrc),_.compileShader(this._vertShader),!_.getShaderParameter(this._vertShader,_.COMPILE_STATUS))return h.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(_.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=_.createShader(_.FRAGMENT_SHADER),_.shaderSource(this._fragShader,this._fragSrc),_.compileShader(this._fragShader),!_.getShaderParameter(this._fragShader,_.COMPILE_STATUS))return h.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(_.getShaderInfoLog(this._fragShader))),null;this._glProgram=_.createProgram(),_.attachShader(this._glProgram,this._vertShader),_.attachShader(this._glProgram,this._fragShader),_.linkProgram(this._glProgram),_.getProgramParameter(this._glProgram,_.LINK_STATUS)||h.default._friendlyError("Snap! Error linking shader program: ".concat(_.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(_){var l=new h.default.Shader(_._renderer,this._vertSrc,this._fragSrc);return l.ensureCompiledOnContext(_),l}},{key:"ensureCompiledOnContext",value:function(_){if(this._glProgram!==0&&this._renderer!==_._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=_._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var _=this._renderer.GL,l=_.getProgramParameter(this._glProgram,_.ACTIVE_ATTRIBUTES),y=0;y<l;++y){var o=_.getActiveAttrib(this._glProgram,y),f=o.name,x=_.getAttribLocation(this._glProgram,f),g={};g.name=f,g.location=x,g.index=y,g.type=o.type,g.size=o.size,this.attributes[f]=g}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var _=this._renderer.GL,l=_.getProgramParameter(this._glProgram,_.ACTIVE_UNIFORMS),y=0,o=0;o<l;++o){var f=_.getActiveUniform(this._glProgram,o),x={},g=(x.location=_.getUniformLocation(this._glProgram,f.name),x.size=f.size,f.name);1<f.size&&(g=g.substring(0,g.indexOf("[0]"))),x.name=g,x.type=f.type,x._cachedData=void 0,x.type===_.SAMPLER_2D&&(x.samplerIndex=y,y++,this.samplers.push(x)),x.isArray=1<f.size||x.type===_.FLOAT_MAT3||x.type===_.FLOAT_MAT4||x.type===_.FLOAT_VEC2||x.type===_.FLOAT_VEC3||x.type===_.FLOAT_VEC4||x.type===_.INT_VEC2||x.type===_.INT_VEC4||x.type===_.INT_VEC3,this.uniforms[g]=x}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var _=this._renderer.GL,l=!0,y=!1,o=void 0;try{for(var f,x=this.samplers[Symbol.iterator]();!(l=(f=x.next()).done);l=!0){var g=f.value,D=g.texture;D===void 0&&(D=this._renderer._getEmptyTexture()),_.activeTexture(_.TEXTURE0+g.samplerIndex),D.bindTexture(),D.update(),_.uniform1i(g.location,g.samplerIndex)}}catch(E){y=!0,o=E}finally{try{l||x.return==null||x.return()}finally{if(y)throw o}}}},{key:"updateTextures",value:function(){var _=!0,l=!1,y=void 0;try{for(var o,f=this.samplers[Symbol.iterator]();!(_=(o=f.next()).done);_=!0){var x=o.value.texture;x&&x.update()}}catch(g){l=!0,y=g}finally{try{_||f.return==null||f.return()}finally{if(l)throw y}}}},{key:"unbindTextures",value:function(){var _=!0,l=!1,y=void 0;try{for(var o,f=this.samplers[Symbol.iterator]();!(_=(o=f.next()).done);_=!0){var x=o.value;this.setUniform(x.name,this._renderer._getEmptyTexture())}}catch(g){l=!0,y=g}finally{try{_||f.return==null||f.return()}finally{if(l)throw y}}}},{key:"_setMatrixUniforms",value:function(){var _=this._renderer._curCamera.cameraMatrix,l=this._renderer.uPMatrix,y=this._renderer.uMVMatrix,o=y.copy();o.mult(l),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",_.mat4),this.setUniform("uProjectionMatrix",l.mat4),this.setUniform("uModelViewMatrix",y.mat4),this.setUniform("uModelViewProjectionMatrix",o.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer._curCamera.cameraMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var _=this._renderer.GL;return this._renderer._curShader!==this&&(_.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(_,l){var y=this.uniforms[_];if(y){var o=this._renderer.GL;if(y.isArray){if(y._cachedData&&this._renderer._arraysEqual(y._cachedData,l))return;y._cachedData=l.slice(0)}else{if(y._cachedData&&y._cachedData===l)return;Array.isArray(l)?y._cachedData=l.slice(0):y._cachedData=l}var f=y.location;switch(this.useProgram(),y.type){case o.BOOL:l===!0?o.uniform1i(f,1):o.uniform1i(f,0);break;case o.INT:1<y.size?l.length&&o.uniform1iv(f,l):o.uniform1i(f,l);break;case o.FLOAT:1<y.size?l.length&&o.uniform1fv(f,l):o.uniform1f(f,l);break;case o.FLOAT_MAT3:o.uniformMatrix3fv(f,!1,l);break;case o.FLOAT_MAT4:o.uniformMatrix4fv(f,!1,l);break;case o.FLOAT_VEC2:1<y.size?l.length&&o.uniform2fv(f,l):o.uniform2f(f,l[0],l[1]);break;case o.FLOAT_VEC3:1<y.size?l.length&&o.uniform3fv(f,l):o.uniform3f(f,l[0],l[1],l[2]);break;case o.FLOAT_VEC4:1<y.size?l.length&&o.uniform4fv(f,l):o.uniform4f(f,l[0],l[1],l[2],l[3]);break;case o.INT_VEC2:1<y.size?l.length&&o.uniform2iv(f,l):o.uniform2i(f,l[0],l[1]);break;case o.INT_VEC3:1<y.size?l.length&&o.uniform3iv(f,l):o.uniform3i(f,l[0],l[1],l[2]);break;case o.INT_VEC4:1<y.size?l.length&&o.uniform4iv(f,l):o.uniform4i(f,l[0],l[1],l[2],l[3]);break;case o.SAMPLER_2D:o.activeTexture(o.TEXTURE0+y.samplerIndex),y.texture=l instanceof h.default.Texture?l:this._renderer.getTexture(l),o.uniform1i(f,y.samplerIndex),y.texture.src.gifProperties&&y.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(_){return _!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(_,l,y,o,f,x){var g;return _&&(_=_.location)!==-1&&(g=this._renderer.GL,this._renderer.registerEnabled.has(_)||(g.enableVertexAttribArray(_),this._renderer.registerEnabled.add(_)),this._renderer.GL.vertexAttribPointer(_,l,y||g.FLOAT,o||!1,f||0,x||0)),this}},{key:"disableRemainingAttributes",value:function(){var _=this,l=!0,y=!1,o=void 0;try{for(var f,x=this._renderer.registerEnabled.values()[Symbol.iterator]();!(l=(f=x.next()).done);l=!0)(function(){var g=f.value;Object.keys(_.attributes).some(function(D){return _.attributes[D].location===g})||(_._renderer.GL.disableVertexAttribArray(g),_._renderer.registerEnabled.delete(g))})()}catch(g){y=!0,o=g}finally{try{l||x.return==null||x.return()}finally{if(y)throw o}}}}])&&m(A.prototype,S),p}(),a=h.default.Shader,b.default=a},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],339:[function(a,r,b){function h(E){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(E)}function m(E){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(C){return h(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":h(C)})(E)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.get-prototype-of"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.reflect.construct"),a("core-js/modules/es.regexp.to-string"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.typed-array.uint8-array"),a("core-js/modules/es.typed-array.copy-within"),a("core-js/modules/es.typed-array.every"),a("core-js/modules/es.typed-array.fill"),a("core-js/modules/es.typed-array.filter"),a("core-js/modules/es.typed-array.find"),a("core-js/modules/es.typed-array.find-index"),a("core-js/modules/es.typed-array.for-each"),a("core-js/modules/es.typed-array.includes"),a("core-js/modules/es.typed-array.index-of"),a("core-js/modules/es.typed-array.iterator"),a("core-js/modules/es.typed-array.join"),a("core-js/modules/es.typed-array.last-index-of"),a("core-js/modules/es.typed-array.map"),a("core-js/modules/es.typed-array.reduce"),a("core-js/modules/es.typed-array.reduce-right"),a("core-js/modules/es.typed-array.reverse"),a("core-js/modules/es.typed-array.set"),a("core-js/modules/es.typed-array.slice"),a("core-js/modules/es.typed-array.some"),a("core-js/modules/es.typed-array.sort"),a("core-js/modules/es.typed-array.subarray"),a("core-js/modules/es.typed-array.to-locale-string"),a("core-js/modules/es.typed-array.to-string"),Object.defineProperty(b,"__esModule",{value:!0}),b.checkWebGLCapabilities=D,b.default=b.MipmapTexture=void 0;var p=(g=a("../core/main"))&&g.__esModule?g:{default:g},A=function(E){if(E&&E.__esModule)return E;if(E===null||m(E)!=="object"&&typeof E!="function")return{default:E};var C=S();if(C&&C.has(E))return C.get(E);var T,O={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in E){var M;Object.prototype.hasOwnProperty.call(E,T)&&((M=I?Object.getOwnPropertyDescriptor(E,T):null)&&(M.get||M.set)?Object.defineProperty(O,T,M):O[T]=E[T])}return O.default=E,C&&C.set(E,O),O}(a("../core/constants"));function S(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,S=function(){return E},E)}function _(E,C){return(_=Object.setPrototypeOf||function(T,O){return T.__proto__=O,T})(E,C)}function l(E){return function(){var C,T=y(E),T=(C=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(C=y(this).constructor,Reflect.construct(T,arguments,C)):T.apply(this,arguments),this);if(!C||m(C)!=="object"&&typeof C!="function"){if(T!==void 0)return T;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return C}}function y(E){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(E)}function o(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function f(E,C){for(var T=0;T<C.length;T++){var O=C[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}function x(E,C,T){C&&f(E.prototype,C),T&&f(E,T)}p.default.Texture=function(){function E(F,T,M){o(this,E),this._renderer=F;var I=this._renderer.GL,M=(M=M||{},this.src=T,this.glTex=void 0,this.glTarget=I.TEXTURE_2D,this.glFormat=M.format||I.RGBA,this.mipmaps=!1,this.glMinFilter=M.minFilter||I.LINEAR,this.glMagFilter=M.magFilter||I.LINEAR,this.glWrapS=M.wrapS||I.CLAMP_TO_EDGE,this.glWrapT=M.wrapT||I.CLAMP_TO_EDGE,this.glDataType=M.dataType||I.UNSIGNED_BYTE,D(F)),F=(this.glFormat!==I.HALF_FLOAT||M.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=I.FLOAT),this.glFormat!==I.HALF_FLOAT||this.glMinFilter!==I.LINEAR&&this.glMagFilter!==I.LINEAR||M.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===I.LINEAR&&(this.glMinFilter=I.NEAREST),this.glMagFilter===I.LINEAR&&(this.glMagFilter=I.NEAREST)),this.glFormat!==I.FLOAT||M.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=I.UNSIGNED_BYTE),this.glFormat!==I.FLOAT||this.glMinFilter!==I.LINEAR&&this.glMagFilter!==I.LINEAR||M.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===I.LINEAR&&(this.glMinFilter=I.NEAREST),this.glMagFilter===I.LINEAR&&(this.glMagFilter=I.NEAREST)),this.isSrcMediaElement=p.default.MediaElement!==void 0&&T instanceof p.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=p.default.Element!==void 0&&T instanceof p.default.Element&&!(T instanceof p.default.Graphics)&&!(T instanceof p.default.Renderer),this.isSrcP5Image=T instanceof p.default.Image,this.isSrcP5Graphics=T instanceof p.default.Graphics,this.isSrcP5Renderer=T instanceof p.default.Renderer,this.isImageData=typeof ImageData<"u"&&T instanceof ImageData,this.isFramebufferTexture=T instanceof p.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=F.width,this.height=F.height,this.init(F),this}return x(E,[{key:"_getTextureDataFromSource",value:function(){var C;return this.isFramebufferTexture?C=this.src.rawTexture():this.isSrcP5Image?C=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?C=this.src.elt:this.isImageData&&(C=this.src),C}},{key:"init",value:function(C){var T,O=this._renderer.GL;this.isFramebufferTexture||(this.glTex=O.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,this.glMagFilter),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(T=new Uint8Array([1,1,1,1]),O.texImage2D(this.glTarget,0,O.RGBA,1,1,0,this.glFormat,this.glDataType,T)):O.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,C))}},{key:"update",value:function(){var C,T,O,I=this.src;return I.width!==0&&I.height!==0&&!this.isFramebufferTexture&&(C=this._getTextureDataFromSource(),T=!1,O=this._renderer.GL,C.width!==this.width||C.height!==this.height?(T=!0,this.width=C.width||I.width,this.height=C.height||I.height,this.isSrcP5Image?I.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&I.setModified(!0)):this.isSrcP5Image?I.isModified()&&I.setModified(!(T=!0)):this.isSrcMediaElement?I.isModified()?I.setModified(!(T=!0)):I.loadedmetadata&&this._videoPrevUpdateTime!==I.time()&&(this._videoPrevUpdateTime=I.time(),T=!0):this.isImageData?I._dirty&&(T=!(I._dirty=!1)):T=!0,T&&(this.bindTexture(),O.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,C)),T)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(C,T){var O=this._renderer.GL;this.glMinFilter=this.glFilter(C),this.glMagFilter=this.glFilter(T),this.bindTexture(),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,this.glMinFilter),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(C){var T=this._renderer.GL;return C===A.NEAREST?T.NEAREST:T.LINEAR}},{key:"setWrapMode",value:function(C,T){function O(B){return(B&B-1)==0}var I=this._renderer.GL,F=this._getTextureDataFromSource(),F=F.naturalWidth&&F.naturalHeight?(M=F.naturalWidth,F.naturalHeight):(M=this.width,this.height),M=O(M),F=O(F);C===A.REPEAT?this._renderer.webglVersion===A.WEBGL2||M&&F?this.glWrapS=I.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=I.CLAMP_TO_EDGE):C===A.MIRROR?this._renderer.webglVersion===A.WEBGL2||M&&F?this.glWrapS=I.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=I.CLAMP_TO_EDGE):this.glWrapS=I.CLAMP_TO_EDGE,T===A.REPEAT?this._renderer.webglVersion===A.WEBGL2||M&&F?this.glWrapT=I.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=I.CLAMP_TO_EDGE):T===A.MIRROR?this._renderer.webglVersion===A.WEBGL2||M&&F?this.glWrapT=I.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=I.CLAMP_TO_EDGE):this.glWrapT=I.CLAMP_TO_EDGE,this.bindTexture(),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,this.glWrapS),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),E}();var g=function(E){var C=O;if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),E&&_(C,E);var T=l(O);function O(I,M,F){return o(this,O),M=(I=T.call(this,I,M,F))._renderer.GL,I.glMinFilter===M.LINEAR&&(I.glMinFilter=M.LINEAR_MIPMAP_LINEAR),I}return x(O,[{key:"glFilter",value:function(I){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(I){var M=this._renderer.GL;this.glTex=M.createTexture(),this.bindTexture();for(var F=0;F<I.length;F++)M.texImage2D(this.glTarget,F,this.glFormat,this.glFormat,this.glDataType,I[F]);this.glMinFilter=M.LINEAR_MIPMAP_LINEAR,M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,this.glMagFilter),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),O}(p.default.Texture);function D(I){var C=I.GL,I=I.webglVersion,T=I===A.WEBGL2?C.getExtension("EXT_color_buffer_float")&&C.getExtension("EXT_float_blend"):C.getExtension("OES_texture_float"),O=T&&C.getExtension("OES_texture_float_linear"),I=I===A.WEBGL2?C.getExtension("EXT_color_buffer_float"):C.getExtension("OES_texture_half_float");return{float:T,floatLinear:O,halfFloat:I,halfFloatLinear:I&&C.getExtension("OES_texture_half_float_linear")}}b.MipmapTexture=g,a=p.default.Texture,b.default=a},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],340:[function(a,r,b){function h(E){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(E)}function m(E){return(m=typeof Symbol=="function"&&h(Symbol.iterator)==="symbol"?function(C){return h(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":h(C)})(E)}a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.get-own-property-descriptor"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.sub"),a("core-js/modules/es.weak-map"),a("core-js/modules/web.dom-collections.iterator"),a("core-js/modules/es.symbol"),a("core-js/modules/es.symbol.description"),a("core-js/modules/es.symbol.iterator"),a("core-js/modules/es.array.iterator"),a("core-js/modules/es.object.to-string"),a("core-js/modules/es.regexp.exec"),a("core-js/modules/es.string.iterator"),a("core-js/modules/es.string.split"),a("core-js/modules/es.string.sub"),a("core-js/modules/web.dom-collections.iterator");var p,A=(p=a("../core/main"))&&p.__esModule?p:{default:p},S=function(E){if(E&&E.__esModule)return E;if(E===null||m(E)!=="object"&&typeof E!="function")return{default:E};var C=_();if(C&&C.has(E))return C.get(E);var T,O={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in E){var M;Object.prototype.hasOwnProperty.call(E,T)&&((M=I?Object.getOwnPropertyDescriptor(E,T):null)&&(M.get||M.set)?Object.defineProperty(O,T,M):O[T]=E[T])}return O.default=E,C&&C.set(E,O),O}(a("../core/constants"));function _(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,_=function(){return E},E)}function l(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function y(E,C){for(var T=0;T<C.length;T++){var O=C[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}function o(E,C,T){C&&y(E.prototype,C),T&&y(E,T)}a("./p5.Shader"),a("./p5.RendererGL.Retained"),A.default.RendererGL.prototype._applyTextProperties=function(){},A.default.RendererGL.prototype.textWidth=function(E){return this._isOpenType()?this._textFont._textWidth(E,this._textSize):0};var f=function(){function E(C,T){l(this,E),this.width=C,this.height=T,this.infos=[]}return o(E,[{key:"findImage",value:function(C){var T,O,I=this.width*this.height;if(I<C)throw new Error("font is too complex to render in 3D");for(var M=this.infos.length-1;0<=M;--M){var F=this.infos[M];if(F.index+C<I){O=(T=F).imageData;break}}if(!T){try{O=new ImageData(this.width,this.height)}catch{var B=document.getElementsByTagName("canvas")[0],j=!B,L=(B||((B=document.createElement("canvas")).style.display="none",document.body.appendChild(B)),B.getContext("2d"));L&&(O=L.createImageData(this.width,this.height)),j&&document.body.removeChild(B)}this.infos.push(T={index:0,imageData:O})}return L=T.index,T.index+=C,O._dirty=!0,{imageData:O,index:L}}}]),E}();function x(F,C,T,O,I){var M=F.imageData.data,F=4*F.index++;M[F++]=C,M[F++]=T,M[F++]=O,M[+F]=I}var g=Math.sqrt(3),D=function(){function E(C){l(this,E),this.font=C,this.strokeImageInfos=new f(64,64),this.colDimImageInfos=new f(64,64),this.rowDimImageInfos=new f(64,64),this.colCellImageInfos=new f(64,64),this.rowCellImageInfos=new f(64,64),this.glyphInfos={}}return o(E,[{key:"getGlyphInfo",value:function(C){var T=this.glyphInfos[C.index];if(!T){var O=C.getBoundingBox(),I=O.x1,M=O.y1,F=O.x2-I,B=O.y2-M,j=C.path.commands;if(F==0||B==0||!j.length)return this.glyphInfos[C.index]={};for(var L=[],R=[],V=[],k=8;0<=k;--k)V.push([]);for(k=8;0<=k;--k)R.push([]);var U,G,H,X,Z=function(){function Ie(Ne,Be,$e,Le){l(this,Ie),this.p0=Ne,this.c0=Be,this.c1=$e,this.p1=Le}return o(Ie,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return A.default.Vector.sub(A.default.Vector.sub(this.p1,this.p0),A.default.Vector.mult(A.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(qe){var Be=A.default.Vector.lerp(this.p0,this.c0,qe),Le=A.default.Vector.lerp(this.c0,this.c1,qe),$e=A.default.Vector.lerp(Be,Le,qe),Le=(this.c1=A.default.Vector.lerp(this.c1,this.p1,qe),this.c0=A.default.Vector.lerp(Le,this.c1,qe),A.default.Vector.lerp($e,this.c0,qe)),qe=new Ie(this.p0,Be,$e,Le);return this.p0=Le,qe}},{key:"splitInflections",value:function(){var Ne=A.default.Vector.sub(this.c0,this.p0),Be=A.default.Vector.sub(A.default.Vector.sub(this.c1,this.c0),Ne),$e=A.default.Vector.sub(A.default.Vector.sub(A.default.Vector.sub(this.p1,this.c1),Ne),A.default.Vector.mult(Be,2)),Le=[],qe=Be.x*$e.y-Be.y*$e.x;return qe!==0&&0<=(Ne=($e=Ne.x*$e.y-Ne.y*$e.x)*$e-4*qe*(Ne.x*Be.y-Ne.y*Be.x))&&(qe<0&&(qe=-qe,$e=-$e),Ne=(-$e+(Be=Math.sqrt(Ne)))/(2*qe),0<($e=(-$e-Be)/(2*qe))&&$e<1&&(Le.push(this.split($e)),Ne=1-(1-Ne)/(1-$e)),0<Ne&&Ne<1&&Le.push(this.split(Ne))),Le.push(this),Le}}]),Ie}(),J=!0,ee=!1,$=void 0;try{for(var W,Q=j[Symbol.iterator]();!(J=(W=Q.next()).done);J=!0){var te=W.value,ce=(te.x-I)/F,oe=(te.y-M)/B;if(!je(U,G,ce,oe)){switch(te.type){case"M":H=ce,X=oe;break;case"L":Ce(U,G,ce,oe);break;case"Q":var ue=(te.x1-I)/F,we=(te.y1-M)/B;re([U,ce,ue],[G,oe,we],{x:U,y:G,cx:ue,cy:we});break;case"Z":je(U,G,H,X)?L.push({x:U,y:G}):(Ce(U,G,H,X),L.push({x:H,y:X}));break;case"C":for(var le=function(Se,Xe,rt,$e,Le,qe,ze,Ee){var Se=new Z(new A.default.Vector(Se,Xe),new A.default.Vector(rt,$e),new A.default.Vector(Le,qe),new A.default.Vector(ze,Ee)).splitInflections(),Me=[],me=30/g,Ve=!0,Xe=!1,rt=void 0;try{for(var lt,nt=Se[Symbol.iterator]();!(Ve=(lt=nt.next()).done);Ve=!0){for(var it=lt.value,dt=[],ft=void 0;!(.125<=(ft=me/it.quadError()));){var yt=Math.pow(ft,.3333333333333333),bt=it.split(yt),wt=it.split(1-yt/(1-yt));Me.push(bt),dt.push(it),it=wt}ft<1&&Me.push(it.split(.5)),Me.push(it),Array.prototype.push.apply(Me,dt.reverse())}}catch(xt){Xe=!0,rt=xt}finally{try{Ve||nt.return==null||nt.return()}finally{if(Xe)throw rt}}return Me}(U,G,(te.x1-I)/F,(te.y1-M)/B,(te.x2-I)/F,(te.y2-M)/B,ce,oe),fe=0;fe<le.length;fe++){var ve=le[fe].toQuadratic();re([ve.x,ve.x1,ve.cx],[ve.y,ve.y1,ve.cy],ve)}break;default:throw new Error("unknown command type: ".concat(te.type))}U=ce,G=oe}}}catch(Ie){ee=!0,$=Ie}finally{try{J||Q.return==null||Q.return()}finally{if(ee)throw $}}for(var pe=L.length,ye=this.strokeImageInfos.findImage(pe),Ae=ye.index,be=0;be<pe;++be){var ne=L[be];x(ye,de(ne.x),de(ne.y),de(ne.cx),de(ne.cy))}(T=this.glyphInfos[C.index]={glyph:C,uGlyphRect:[O.x1,-O.y1,O.x2,-O.y2],strokeImageInfo:ye,strokes:L,colInfo:xe(V,this.colDimImageInfos,this.colCellImageInfos),rowInfo:xe(R,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[T.colInfo.dimOffset,T.rowInfo.dimOffset]}return T;function re(Ie,Ne,Be){var $e=L.length;function Le(Me,me,Ve){for(var Xe=Me.length;0<Xe--;){var rt=Me[Xe];rt<me&&(me=rt),Ve<rt&&(Ve=rt)}return{min:me,max:Ve}}L.push(Be);for(var Be=Le(Ie,1,0),Ie=Math.max(Math.floor(9*Be.min-.5),0),qe=Math.min(Math.ceil(9*Be.max+.5),9),ze=Ie;ze<qe;++ze)V[ze].push($e);for(var Be=Le(Ne,1,0),Ie=Math.max(Math.floor(9*Be.min-.5),0),Ee=Math.min(Math.ceil(9*Be.max+.5),9),Se=Ie;Se<Ee;++Se)R[Se].push($e)}function de(Ie){return(Ie=(Be=255)*Ie)<(Ne=0)?Ne:Be<Ie?Be:Ie;var Ne,Be}function Ce(Ie,Ne,Be,$e){re([Ie,Be],[Ne,$e],{x:Ie,y:Ne,cx:(Ie+Be)/2,cy:(Ne+$e)/2})}function je(Ie,Ne,Be,$e){return Math.abs(Be-Ie)<1e-5&&Math.abs($e-Ne)<1e-5}function xe(Ie,Ne,Be){for(var $e=Ie.length,Le=Ne.findImage($e),Ne=Le.index,qe=0,ze=0;ze<$e;++ze)qe+=Ie[ze].length;for(var Ee=Be.findImage(qe),Se=0;Se<$e;++Se){var Me=Ie[Se],me=Me.length,Ve=Ee.index;x(Le,Ve>>7,127&Ve,me>>7,127&me);for(var Xe=0;Xe<me;++Xe){var rt=Me[Xe]+Ae;x(Ee,rt>>7,127&rt,0,0)}}return{cellImageInfo:Ee,dimOffset:Ne,dimImageInfo:Le}}}}]),E}();A.default.RendererGL.prototype._renderText=function(E,C,T,O,I){if(this._textFont&&typeof this._textFont!="string"){if(!(I<=O)&&this._doFill){if(this._isOpenType()){E.push();var I=this._doStroke,M=this.drawMode,F=(this._doStroke=!1,this.drawMode=S.TEXTURE,this._textFont.font),B=(B=this._textFont._fontInfo)||(this._textFont._fontInfo=new D(F)),T=this._textFont._handleAlignment(this,C,T,O),O=this._textSize/F.unitsPerEm,j=(this.translate(T.x,T.y,0),this.scale(O,O,1),this.GL),T=!this._defaultFontShader,L=this._getFontShader(),R=(L.init(),L.bindShader(),T&&(L.setUniform("uGridImageSize",[64,64]),L.setUniform("uCellsImageSize",[64,64]),L.setUniform("uStrokeImageSize",[64,64]),L.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),V=(R||((O=this._textGeom=new A.default.Geometry(1,1,function(){for(var fe=0;fe<=1;fe++)for(var ve=0;ve<=1;ve++)this.vertices.push(new A.default.Vector(ve,fe,0)),this.uvs.push(ve,fe)})).computeFaces().computeNormals(),R=this.createBuffers("glyph",O)),!0),T=!1,O=void 0;try{for(var k,U=this.retainedMode.buffers.text[Symbol.iterator]();!(V=(k=U.next()).done);V=!0)k.value._prepareBuffer(R,L)}catch(fe){T=!0,O=fe}finally{try{V||U.return==null||U.return()}finally{if(T)throw O}}this._bindBuffer(R.indexBuffer,j.ELEMENT_ARRAY_BUFFER),L.setUniform("uMaterialColor",this.curFillColor),j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var G=0,H=null,X=F.stringToGlyphs(C),Z=!0,J=!1,ee=void 0;try{for(var $,W=X[Symbol.iterator]();!(Z=($=W.next()).done);Z=!0){var Q,te,ce=$.value,oe=(H&&(G+=F.getKerningValue(H,ce)),B.getGlyphInfo(ce));oe.uGlyphRect&&(Q=oe.rowInfo,te=oe.colInfo,L.setUniform("uSamplerStrokes",oe.strokeImageInfo.imageData),L.setUniform("uSamplerRowStrokes",Q.cellImageInfo.imageData),L.setUniform("uSamplerRows",Q.dimImageInfo.imageData),L.setUniform("uSamplerColStrokes",te.cellImageInfo.imageData),L.setUniform("uSamplerCols",te.dimImageInfo.imageData),L.setUniform("uGridOffset",oe.uGridOffset),L.setUniform("uGlyphRect",oe.uGlyphRect),L.setUniform("uGlyphOffset",G),L.bindTextures(),j.drawElements(j.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),G+=ce.advanceWidth,H=ce}}catch(fe){J=!0,ee=fe}finally{try{Z||W.return==null||W.return()}finally{if(J)throw ee}}}finally{L.unbindShader(),this._doStroke=I,this.drawMode=M,j.pixelStorei(j.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),E.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return E}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":269,"../core/main":280,"./p5.RendererGL.Retained":336,"./p5.Shader":338,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}]},{},[264])(264)})})(p5_min$2);var p5_minExports=p5_min$2.exports;const p5_min=getDefaultExportFromCjs(p5_minExports),p5_min$1=_mergeNamespaces({__proto__:null,default:p5_min},[p5_minExports]),Visuals_svelte_svelte_type_style_lang="";function create_fragment$9(N){let u,n,a,r,b;return n=new P5({props:{sketch:N[2]}}),n.$on("instance",N[3]),{c(){u=element("div"),create_component(n.$$.fragment),this.h()},l(h){u=claim_element(h,"DIV",{class:!0});var m=children(u);claim_component(n.$$.fragment,m),m.forEach(detach),this.h()},h(){attr(u,"class","visuals svelte-1lnm1ti")},m(h,m){insert_hydration(h,u,m),mount_component(n,u,null),N[5](u),a=!0,r||(b=listen(window,"resize",N[4]),r=!0)},p:noop,i(h){a||(transition_in(n.$$.fragment,h),a=!0)},o(h){transition_out(n.$$.fragment,h),a=!1},d(h){h&&detach(u),destroy_component(n),N[5](null),r=!1,b()}}}function instance$9(N,u,n){let a,r,b,h=16,m=_=>{let l=100,y=l*.4;const o=()=>{if(!a)return;const T=a.getBoundingClientRect();l=min(T.width,T.height),y=l*.4},f=()=>{_.push(),_.noFill(),_.stroke(185,185,185),_.strokeWeight(1/2),_.sphere(y*.85,20,20),_.pop()},x=()=>{_.push(),_.noFill(),_.stroke(255,255,255),_.strokeWeight(1/2);const T=l/h*.9,O=h*T;for(let I=0;I<h;I++)for(let M=0;M<h;M++)_.rect(I*T-O/2,M*T-O/2,T,T);_.pop()},g=()=>{o(),_.resizeCanvas(l,l)};_.setup=()=>{o(),_.createCanvas(l,l,_.WEBGL),_.smooth(),_.noLoop(),get_store_value(visualsType)==="sphere"?f():x(),n(1,r=g),b=_.draw};const D=T=>{f(),T.forEach(O=>{const{x:I,y:M,z:F,colour:B}=O,j=Math.abs(1-F),L=p5_minExports.Vector.fromAngles(_.radians(M*180),_.radians(I*360),y*j);_.push(),_.noFill(),_.stroke(B),_.strokeWeight(3),_.rotateY(_.radians(90)),_.rotateY(_.radians(I*360)),_.circle(0,0,y*j*2),_.pop(),_.push(),_.noFill(),_.stroke(B),_.strokeWeight(3),_.rotateX(_.radians(90)),_.translate(0,0,-L.y),_.circle(0,0,_.sin(_.radians(M*180))*(y*j*2)),_.pop(),_.push(),_.translate(L.x,L.y,L.z),_.stroke(B),_.strokeWeight(O.weight*30),_.circle(0,0,1),_.pop()})},E=T=>{x();const O=l/h*.9,I=h*O;T.forEach(M=>{const{x:F,y:B,colour:j}=M,L=Math.floor(F%1*h)*O-I/2,R=Math.floor(B%1*h)*O-I/2;_.push(),_.fill(j),_.noStroke(),_.rect(L,R,O,O),_.pop()})},C=T=>{const{width:O,height:I}=Array.isArray(T[0])?{width:T[0].length,height:T.length}:calculateRectHeightAndWidth(T.length),M=l/Math.max(O,I)*.9,F=O*M,B=I*M,j=Array.isArray(T[0])?T.flat():T;for(let L=0;L<I;L++)for(let R=0;R<O;R++){const V=L*O+R;if(V>=j.length)break;const k=j[V],U=R*M-F/2,G=L*M-B/2;_.push(),_.fill(Math.floor((1-k)*256)),_.noStroke(),_.rect(U,G,M,M),_.pop()}};_.draw=()=>{_.clear(),h=get_store_value(s);const T=get_store_value(gridData);if(get_store_value(visualsType)==="sphere")return D(get_store_value(visualsData));T&&T.length?C(T):E(get_store_value(visualsData))}};const p=_=>{_.detail};onMount(()=>{const _=visualsType.subscribe(async()=>{await tick(),r&&r(),b&&b()}),l=showCircuit.subscribe(async()=>{await tick(),r&&r(),b&&b()}),y=visualsData.subscribe(async o=>{await tick(),b&&b()});return()=>{_(),l(),y()}});const A=()=>r&&r();function S(_){binding_callbacks[_?"unshift":"push"](()=>{a=_,n(0,a)})}return[a,r,m,p,A,S]}class Visuals extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$9,create_fragment$9,safe_not_equal,{})}}const Circuit_svelte_svelte_type_style_lang="";function get_each_context$3(N,u,n){const a=N.slice();return a[6]=u[n],a[8]=n,a}function create_if_block$3(N){let u,n,a,r,b,h=N[3][N[8]]+"",m,p,A,S,_,l,y,o,f,x=N[4][N[8]]+"",g,D,E;return{c(){u=element("div"),n=element("div"),a=element("p"),r=element("span"),b=text("|"),m=text(h),p=text(""),A=space(),S=element("div"),_=space(),l=element("div"),y=element("p"),o=element("span"),f=text("|"),g=text(x),D=text(""),E=space(),this.h()},l(C){u=claim_element(C,"DIV",{class:!0});var T=children(u);n=claim_element(T,"DIV",{class:!0});var O=children(n);a=claim_element(O,"P",{class:!0});var I=children(a);r=claim_element(I,"SPAN",{class:!0});var M=children(r);b=claim_text(M,"|"),m=claim_text(M,h),p=claim_text(M,""),M.forEach(detach),I.forEach(detach),O.forEach(detach),A=claim_space(T),S=claim_element(T,"DIV",{class:!0}),children(S).forEach(detach),_=claim_space(T),l=claim_element(T,"DIV",{class:!0});var F=children(l);y=claim_element(F,"P",{class:!0});var B=children(y);o=claim_element(B,"SPAN",{class:!0});var j=children(o);f=claim_text(j,"|"),g=claim_text(j,x),D=claim_text(j,""),j.forEach(detach),B.forEach(detach),F.forEach(detach),E=claim_space(T),T.forEach(detach),this.h()},h(){attr(r,"class","label__state"),attr(a,"class","label svelte-15i7j1x"),attr(n,"class","col col--first"),attr(S,"class","row__wire svelte-15i7j1x"),attr(o,"class","label__output"),attr(y,"class","label svelte-15i7j1x"),attr(l,"class","col col--last"),attr(u,"class","row svelte-15i7j1x")},m(C,T){insert_hydration(C,u,T),append_hydration(u,n),append_hydration(n,a),append_hydration(a,r),append_hydration(r,b),append_hydration(r,m),append_hydration(r,p),append_hydration(u,A),append_hydration(u,S),append_hydration(u,_),append_hydration(u,l),append_hydration(l,y),append_hydration(y,o),append_hydration(o,f),append_hydration(o,g),append_hydration(o,D),append_hydration(u,E)},p(C,T){T&8&&h!==(h=C[3][C[8]]+"")&&set_data(m,h),T&16&&x!==(x=C[4][C[8]]+"")&&set_data(g,x)},d(C){C&&detach(u)}}}function create_each_block$3(N){let u,n=N[3][N[8]]!==void 0&&N[4][N[8]]!==void 0&&create_if_block$3(N);return{c(){n&&n.c(),u=empty()},l(a){n&&n.l(a),u=empty()},m(a,r){n&&n.m(a,r),insert_hydration(a,u,r)},p(a,r){a[3][a[8]]!==void 0&&a[4][a[8]]!==void 0?n?n.p(a,r):(n=create_if_block$3(a),n.c(),n.m(u.parentNode,u)):n&&(n.d(1),n=null)},d(a){n&&n.d(a),a&&detach(u)}}}function create_fragment$8(N){let u,n,a,r,b=N[2],h=[];for(let m=0;m<b.length;m+=1)h[m]=create_each_block$3(get_each_context$3(N,b,m));return{c(){u=element("div"),n=element("div");for(let m=0;m<h.length;m+=1)h[m].c();a=space(),r=element("div"),this.h()},l(m){u=claim_element(m,"DIV",{class:!0});var p=children(u);n=claim_element(p,"DIV",{class:!0});var A=children(n);for(let _=0;_<h.length;_+=1)h[_].l(A);A.forEach(detach),a=claim_space(p),r=claim_element(p,"DIV",{class:!0});var S=children(r);S.forEach(detach),p.forEach(detach),this.h()},h(){attr(n,"class","circuit__wires svelte-15i7j1x"),attr(r,"class","circuit__svg svelte-15i7j1x"),attr(u,"class","circuit svelte-15i7j1x")},m(m,p){insert_hydration(m,u,p),append_hydration(u,n);for(let A=0;A<h.length;A+=1)h[A]&&h[A].m(n,null);append_hydration(u,a),append_hydration(u,r),r.innerHTML=N[0],N[5](r)},p(m,[p]){if(p&28){b=m[2];let A;for(A=0;A<b.length;A+=1){const S=get_each_context$3(m,b,A);h[A]?h[A].p(S,p):(h[A]=create_each_block$3(S),h[A].c(),h[A].m(n,null))}for(;A<h.length;A+=1)h[A].d(1);h.length=b.length}p&1&&(r.innerHTML=m[0])},i:noop,o:noop,d(m){m&&detach(u),destroy_each(h,m),N[5](null)}}}function instance$8(N,u,n){let a,r,b;component_subscribe(N,gates,A=>n(2,a=A)),component_subscribe(N,inputs,A=>n(3,r=A)),component_subscribe(N,measurements$1,A=>n(4,b=A));let h="",m;onMount(()=>{const A=code.subscribe(()=>{n(0,h=circuit.gates.flat().length>0?circuit.exportSVG():"")});return()=>{A()}});function p(A){binding_callbacks[A?"unshift":"push"](()=>{m=A,n(1,m)})}return[h,m,a,r,b,p]}class Circuit extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$8,create_fragment$8,safe_not_equal,{})}}const Data_svelte_svelte_type_style_lang="";function create_fragment$7(N){let u,n,a,r,b,h,m,p,A,S,_,l,y,o,f,x,g,D,E,C;return{c(){u=element("div"),n=element("div"),a=text("t: "),r=element("span"),b=text(N[0]),h=space(),m=element("div"),p=text("c: "),A=element("span"),S=text(N[1]),_=space(),l=element("div"),y=text("q: "),o=element("span"),f=text(N[2]),x=space(),g=element("div"),D=text("s: "),E=element("span"),C=text(N[3]),this.h()},l(T){u=claim_element(T,"DIV",{class:!0});var O=children(u);n=claim_element(O,"DIV",{class:!0});var I=children(n);a=claim_text(I,"t: "),r=claim_element(I,"SPAN",{class:!0});var M=children(r);b=claim_text(M,N[0]),M.forEach(detach),I.forEach(detach),h=claim_space(O),m=claim_element(O,"DIV",{class:!0});var F=children(m);p=claim_text(F,"c: "),A=claim_element(F,"SPAN",{class:!0});var B=children(A);S=claim_text(B,N[1]),B.forEach(detach),F.forEach(detach),_=claim_space(O),l=claim_element(O,"DIV",{class:!0});var j=children(l);y=claim_text(j,"q: "),o=claim_element(j,"SPAN",{class:!0});var L=children(o);f=claim_text(L,N[2]),L.forEach(detach),j.forEach(detach),x=claim_space(O),g=claim_element(O,"DIV",{class:!0});var R=children(g);D=claim_text(R,"s: "),E=claim_element(R,"SPAN",{class:!0});var V=children(E);C=claim_text(V,N[3]),V.forEach(detach),R.forEach(detach),O.forEach(detach),this.h()},h(){attr(r,"class","svelte-pqg1w9"),attr(n,"class","svelte-pqg1w9"),attr(A,"class","svelte-pqg1w9"),attr(m,"class","svelte-pqg1w9"),attr(o,"class","svelte-pqg1w9"),attr(l,"class","svelte-pqg1w9"),attr(E,"class","svelte-pqg1w9"),attr(g,"class","svelte-pqg1w9"),attr(u,"class","data svelte-pqg1w9")},m(T,O){insert_hydration(T,u,O),append_hydration(u,n),append_hydration(n,a),append_hydration(n,r),append_hydration(r,b),append_hydration(u,h),append_hydration(u,m),append_hydration(m,p),append_hydration(m,A),append_hydration(A,S),append_hydration(u,_),append_hydration(u,l),append_hydration(l,y),append_hydration(l,o),append_hydration(o,f),append_hydration(u,x),append_hydration(u,g),append_hydration(g,D),append_hydration(g,E),append_hydration(E,C)},p(T,[O]){O&1&&set_data(b,T[0]),O&2&&set_data(S,T[1]),O&4&&set_data(f,T[2]),O&8&&set_data(C,T[3])},i:noop,o:noop,d(T){T&&detach(u)}}}function instance$7(N,u,n){let a,r,b,h;return component_subscribe(N,t,m=>n(0,a=m)),component_subscribe(N,c,m=>n(1,r=m)),component_subscribe(N,q,m=>n(2,b=m)),component_subscribe(N,s,m=>n(3,h=m)),[a,r,b,h]}class Data extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$7,create_fragment$7,safe_not_equal,{})}}const Dialog_svelte_svelte_type_style_lang="";function create_fragment$6(N){let u,n,a,r,b;const h=N[2].default,m=create_slot(h,N,N[1],null);return{c(){u=element("dialog"),n=element("div"),m&&m.c(),this.h()},l(p){u=claim_element(p,"DIALOG",{class:!0});var A=children(u);n=claim_element(A,"DIV",{});var S=children(n);m&&m.l(S),S.forEach(detach),A.forEach(detach),this.h()},h(){attr(u,"class","svelte-h3v73y")},m(p,A){insert_hydration(p,u,A),append_hydration(u,n),m&&m.m(n,null),N[5](u),a=!0,r||(b=[listen(n,"click",stop_propagation(N[4])),listen(u,"click",N[6]),listen(u,"keydown",N[7]),listen(u,"close",N[3])],r=!0)},p(p,[A]){m&&m.p&&(!a||A&2)&&update_slot_base(m,h,p,p[1],a?get_slot_changes(h,p[1],A,null):get_all_dirty_from_scope(p[1]),null)},i(p){a||(transition_in(m,p),a=!0)},o(p){transition_out(m,p),a=!1},d(p){p&&detach(u),m&&m.d(p),N[5](null),r=!1,run_all(b)}}}function instance$6(N,u,n){let{$$slots:a={},$$scope:r}=u,{dialog:b}=u;function h(_){bubble.call(this,N,_)}function m(_){bubble.call(this,N,_)}function p(_){binding_callbacks[_?"unshift":"push"](()=>{b=_,n(0,b)})}const A=()=>b==null?void 0:b.close(),S=_=>{_.key==="Enter"&&_.preventDefault(),_.key==="Escape"&&(b==null||b.close())};return N.$$set=_=>{"dialog"in _&&n(0,b=_.dialog),"$$scope"in _&&n(1,r=_.$$scope)},[b,r,a,h,m,p,A,S]}class Dialog extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$6,create_fragment$6,safe_not_equal,{dialog:0})}}const Input_svelte_svelte_type_style_lang="";function create_fragment$5(N){let u,n,a;return{c(){u=element("input"),this.h()},l(r){u=claim_element(r,"INPUT",{id:!0,placeholder:!0,class:!0}),this.h()},h(){attr(u,"id",N[1]),attr(u,"placeholder",N[2]),attr(u,"class","svelte-12tjjht")},m(r,b){insert_hydration(r,u,b),set_input_value(u,N[0]),n||(a=[listen(u,"input",N[4]),listen(u,"change",N[5]),listen(u,"keydown",N[6])],n=!0)},p(r,[b]){b&2&&attr(u,"id",r[1]),b&4&&attr(u,"placeholder",r[2]),b&1&&u.value!==r[0]&&set_input_value(u,r[0])},i:noop,o:noop,d(r){r&&detach(u),n=!1,run_all(a)}}}function instance$5(N,u,n){const a=createEventDispatcher();let{id:r=""}=u,{placeholder:b=""}=u,{value:h=""}=u;function m(){h=this.value,n(0,h)}const p=()=>a("change",h),A=S=>S.key==="Enter"&&h!==""&&a("enter",h)&&n(0,h="");return N.$$set=S=>{"id"in S&&n(1,r=S.id),"placeholder"in S&&n(2,b=S.placeholder),"value"in S&&n(0,h=S.value)},[h,r,b,a,m,p,A]}class Input extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$5,create_fragment$5,safe_not_equal,{id:1,placeholder:2,value:0})}}const Save_svelte_svelte_type_style_lang="";function get_each_context$2(N,u,n){const a=N.slice();return a[10]=u[n],a}function create_each_block$2(N){let u,n,a=N[10]+"",r,b,h;function m(){return N[9](N[10])}return{c(){u=element("li"),n=element("button"),r=text(a),this.h()},l(p){u=claim_element(p,"LI",{class:!0});var A=children(u);n=claim_element(A,"BUTTON",{class:!0});var S=children(n);r=claim_text(S,a),S.forEach(detach),A.forEach(detach),this.h()},h(){attr(n,"class","svelte-21h0xr"),attr(u,"class","svelte-21h0xr"),toggle_class(u,"active",N[10]===N[1][N[0]])},m(p,A){insert_hydration(p,u,A),append_hydration(u,n),append_hydration(n,r),b||(h=listen(n,"click",m),b=!0)},p(p,A){N=p,A&4&&a!==(a=N[10]+"")&&set_data(r,a),A&7&&toggle_class(u,"active",N[10]===N[1][N[0]])},d(p){p&&detach(u),b=!1,h()}}}function create_fragment$4(N){let u,n,a,r,b,h,m,p,A,S;b=new Input({props:{id:"save",placeholder:"name",value:N[1][N[0]]||""}}),b.$on("enter",N[8]);let _=N[2],l=[];for(let y=0;y<_.length;y+=1)l[y]=create_each_block$2(get_each_context$2(N,_,y));return{c(){u=element("div"),n=element("label"),a=text("Save as"),r=space(),create_component(b.$$.fragment),h=space(),m=element("ul");for(let y=0;y<l.length;y+=1)l[y].c();this.h()},l(y){u=claim_element(y,"DIV",{});var o=children(u);n=claim_element(o,"LABEL",{class:!0});var f=children(n);a=claim_text(f,"Save as"),f.forEach(detach),r=claim_space(o),claim_component(b.$$.fragment,o),h=claim_space(o),m=claim_element(o,"UL",{class:!0});var x=children(m);for(let g=0;g<l.length;g+=1)l[g].l(x);x.forEach(detach),o.forEach(detach),this.h()},h(){attr(n,"class","svelte-21h0xr"),attr(m,"class","svelte-21h0xr")},m(y,o){insert_hydration(y,u,o),append_hydration(u,n),append_hydration(n,a),append_hydration(u,r),mount_component(b,u,null),append_hydration(u,h),append_hydration(u,m);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(m,null);p=!0,A||(S=listen(u,"keydown",N[4]),A=!0)},p(y,[o]){const f={};if(o&3&&(f.value=y[1][y[0]]||""),b.$set(f),o&15){_=y[2];let x;for(x=0;x<_.length;x+=1){const g=get_each_context$2(y,_,x);l[x]?l[x].p(g,o):(l[x]=create_each_block$2(g),l[x].c(),l[x].m(m,null))}for(;x<l.length;x+=1)l[x].d(1);l.length=_.length}},i(y){p||(transition_in(b.$$.fragment,y),p=!0)},o(y){transition_out(b.$$.fragment,y),p=!1},d(y){y&&detach(u),destroy_component(b),destroy_each(l,y),A=!1,S()}}}function instance$4(N,u,n){let a,r,b,h,m,p;component_subscribe(N,presetKeys,y=>n(1,m=y)),component_subscribe(N,activePreset,y=>n(7,p=y));const A=createEventDispatcher();function S(y){switch(y.key){case"ArrowDown":n(0,a=Math.min(a+1,m.length-1));break;case"ArrowUp":y.preventDefault(),n(0,a=Math.max(a-1,-1));break}}const _=({detail:y})=>{A("save"),savePreset(y)},l=y=>{A("save"),savePreset(y)};return N.$$.update=()=>{N.$$.dirty&130&&n(0,a=m.indexOf(p)),N.$$.dirty&1&&n(6,r=a<5?0:a-4),N.$$.dirty&64&&n(5,b=r+5),N.$$.dirty&98&&n(2,h=m.slice(r,b))},[a,m,h,A,S,b,r,p,_,l]}class Save extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$4,create_fragment$4,safe_not_equal,{})}}const Load_svelte_svelte_type_style_lang="";function get_each_context$1(N,u,n){const a=N.slice();return a[8]=u[n],a[10]=n,a}function create_else_block(N){let u,n,a,r,b=N[2],h=[];for(let m=0;m<b.length;m+=1)h[m]=create_each_block$1(get_each_context$1(N,b,m));return{c(){u=element("label"),n=text("Load"),a=space(),r=element("ul");for(let m=0;m<h.length;m+=1)h[m].c();this.h()},l(m){u=claim_element(m,"LABEL",{class:!0});var p=children(u);n=claim_text(p,"Load"),p.forEach(detach),a=claim_space(m),r=claim_element(m,"UL",{class:!0});var A=children(r);for(let S=0;S<h.length;S+=1)h[S].l(A);A.forEach(detach),this.h()},h(){attr(u,"class","svelte-1n1owal"),attr(r,"class","svelte-1n1owal")},m(m,p){insert_hydration(m,u,p),append_hydration(u,n),insert_hydration(m,a,p),insert_hydration(m,r,p);for(let A=0;A<h.length;A+=1)h[A]&&h[A].m(r,null)},p(m,p){if(p&15){b=m[2];let A;for(A=0;A<b.length;A+=1){const S=get_each_context$1(m,b,A);h[A]?h[A].p(S,p):(h[A]=create_each_block$1(S),h[A].c(),h[A].m(r,null))}for(;A<h.length;A+=1)h[A].d(1);h.length=b.length}},d(m){m&&detach(u),m&&detach(a),m&&detach(r),destroy_each(h,m)}}}function create_if_block$2(N){let u,n;return{c(){u=element("p"),n=text("No presets saved"),this.h()},l(a){u=claim_element(a,"P",{class:!0});var r=children(u);n=claim_text(r,"No presets saved"),r.forEach(detach),this.h()},h(){attr(u,"class","svelte-1n1owal")},m(a,r){insert_hydration(a,u,r),append_hydration(u,n)},p:noop,d(a){a&&detach(u)}}}function create_each_block$1(N){let u,n,a=N[8]+"",r,b,h,m;function p(){return N[7](N[8])}return{c(){u=element("li"),n=element("button"),r=text(a),b=space(),this.h()},l(A){u=claim_element(A,"LI",{class:!0});var S=children(u);n=claim_element(S,"BUTTON",{class:!0});var _=children(n);r=claim_text(_,a),_.forEach(detach),b=claim_space(S),S.forEach(detach),this.h()},h(){attr(n,"class","svelte-1n1owal"),attr(u,"class","svelte-1n1owal"),toggle_class(u,"active",N[1][N[0]]===N[8])},m(A,S){insert_hydration(A,u,S),append_hydration(u,n),append_hydration(n,r),append_hydration(u,b),h||(m=listen(n,"click",p),h=!0)},p(A,S){N=A,S&4&&a!==(a=N[8]+"")&&set_data(r,a),S&7&&toggle_class(u,"active",N[1][N[0]]===N[8])},d(A){A&&detach(u),h=!1,m()}}}function create_fragment$3(N){let u,n,a;function r(m,p){return m[1].length===0?create_if_block$2:create_else_block}let b=r(N),h=b(N);return{c(){u=element("div"),h.c(),this.h()},l(m){u=claim_element(m,"DIV",{class:!0});var p=children(u);h.l(p),p.forEach(detach),this.h()},h(){attr(u,"class","presets svelte-1n1owal")},m(m,p){insert_hydration(m,u,p),h.m(u,null),n||(a=listen(u,"keydown",N[4]),n=!0)},p(m,[p]){b===(b=r(m))&&h?h.p(m,p):(h.d(1),h=b(m),h&&(h.c(),h.m(u,null)))},i:noop,o:noop,d(m){m&&detach(u),h.d(),n=!1,a()}}}function instance$3(N,u,n){let a,r,b,h;component_subscribe(N,presetKeys,_=>n(1,h=_));const m=createEventDispatcher();let p=0;function A(_){const l=h[p];if(console.log(l),!isNaN(Number(_.key))){_.preventDefault();const y=Number(_.key);n(0,p=y%h.length),activePreset.set(h[p]),m("load");return}switch(_.key){case"ArrowDown":n(0,p=Math.min(p+1,h.length-1));break;case"ArrowUp":n(0,p=Math.max(p-1,0));break;case"Enter":_.preventDefault(),activePreset.set(l),m("load");break;case"Backspace":_.preventDefault(),deletePreset(l);break}}const S=_=>{activePreset.set(_),m("load")};return N.$$.update=()=>{N.$$.dirty&1&&n(6,a=p<5?0:p-4),N.$$.dirty&64&&n(5,r=a+5),N.$$.dirty&98&&n(2,b=h.slice(a,r))},[p,h,b,m,A,r,a,S]}class Load extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$3,create_fragment$3,safe_not_equal,{})}}const Tools_svelte_svelte_type_style_lang="";function create_if_block$1(N){let u,n,a,r,b,h,m,p;return n=new Icon({props:{data:faFloppyDisk}}),b=new Icon({props:{data:faCode}}),{c(){u=element("button"),create_component(n.$$.fragment),a=space(),r=element("button"),create_component(b.$$.fragment),this.h()},l(A){u=claim_element(A,"BUTTON",{class:!0});var S=children(u);claim_component(n.$$.fragment,S),S.forEach(detach),a=claim_space(A),r=claim_element(A,"BUTTON",{class:!0});var _=children(r);claim_component(b.$$.fragment,_),_.forEach(detach),this.h()},h(){attr(u,"class","svelte-o669w"),toggle_class(u,"active",!1),attr(r,"class","svelte-o669w"),toggle_class(r,"active",!1)},m(A,S){insert_hydration(A,u,S),mount_component(n,u,null),insert_hydration(A,a,S),insert_hydration(A,r,S),mount_component(b,r,null),h=!0,m||(p=[listen(u,"click",N[8]),listen(r,"click",N[9])],m=!0)},p:noop,i(A){h||(transition_in(n.$$.fragment,A),transition_in(b.$$.fragment,A),h=!0)},o(A){transition_out(n.$$.fragment,A),transition_out(b.$$.fragment,A),h=!1},d(A){A&&detach(u),destroy_component(n),A&&detach(a),A&&detach(r),destroy_component(b),m=!1,run_all(p)}}}function create_default_slot_1(N){let u,n;return u=new Save({}),u.$on("save",N[10]),{c(){create_component(u.$$.fragment)},l(a){claim_component(u.$$.fragment,a)},m(a,r){mount_component(u,a,r),n=!0},p:noop,i(a){n||(transition_in(u.$$.fragment,a),n=!0)},o(a){transition_out(u.$$.fragment,a),n=!1},d(a){destroy_component(u,a)}}}function create_default_slot(N){let u,n;return u=new Load({}),u.$on("load",N[13]),{c(){create_component(u.$$.fragment)},l(a){claim_component(u.$$.fragment,a)},m(a,r){mount_component(u,a,r),n=!0},p:noop,i(a){n||(transition_in(u.$$.fragment,a),n=!0)},o(a){transition_out(u.$$.fragment,a),n=!1},d(a){destroy_component(u,a)}}}function create_fragment$2(N){let u,n,a,r,b=!isApp(),h,m,p,A,S,_,l,y,o,f,x,g,D,E,C;a=new Icon({props:{data:N[2]?faStop:faPlay}});let T=b&&create_if_block$1(N);p=new Icon({props:{data:N[5][N[3]]||N[5].grid}}),_=new Icon({props:{data:faBars}});function O(B){N[11](B)}let I={$$slots:{default:[create_default_slot_1]},$$scope:{ctx:N}};N[0]!==void 0&&(I.dialog=N[0]),y=new Dialog({props:I}),binding_callbacks.push(()=>bind(y,"dialog",O)),y.$on("close",N[12]);function M(B){N[14](B)}let F={$$slots:{default:[create_default_slot]},$$scope:{ctx:N}};return N[1]!==void 0&&(F.dialog=N[1]),x=new Dialog({props:F}),binding_callbacks.push(()=>bind(x,"dialog",M)),x.$on("close",N[15]),{c(){u=element("div"),n=element("button"),create_component(a.$$.fragment),r=space(),T&&T.c(),h=space(),m=element("button"),create_component(p.$$.fragment),A=space(),S=element("button"),create_component(_.$$.fragment),l=space(),create_component(y.$$.fragment),f=space(),create_component(x.$$.fragment),this.h()},l(B){u=claim_element(B,"DIV",{class:!0});var j=children(u);n=claim_element(j,"BUTTON",{class:!0});var L=children(n);claim_component(a.$$.fragment,L),L.forEach(detach),r=claim_space(j),T&&T.l(j),h=claim_space(j),m=claim_element(j,"BUTTON",{class:!0});var R=children(m);claim_component(p.$$.fragment,R),R.forEach(detach),A=claim_space(j),S=claim_element(j,"BUTTON",{class:!0});var V=children(S);claim_component(_.$$.fragment,V),V.forEach(detach),j.forEach(detach),l=claim_space(B),claim_component(y.$$.fragment,B),f=claim_space(B),claim_component(x.$$.fragment,B),this.h()},h(){attr(n,"class","svelte-o669w"),attr(m,"class","tools__visuals svelte-o669w"),toggle_class(m,"active",N[3]!=="none"),attr(S,"class","tools__circuit svelte-o669w"),toggle_class(S,"active",N[4]),attr(u,"class","tools svelte-o669w")},m(B,j){insert_hydration(B,u,j),append_hydration(u,n),mount_component(a,n,null),append_hydration(u,r),T&&T.m(u,null),append_hydration(u,h),append_hydration(u,m),mount_component(p,m,null),append_hydration(u,A),append_hydration(u,S),mount_component(_,S,null),insert_hydration(B,l,j),mount_component(y,B,j),insert_hydration(B,f,j),mount_component(x,B,j),D=!0,E||(C=[listen(window,"keydown",N[6]),listen(n,"click",N[7]),listen(m,"click",toggleVisuals),listen(S,"click",toggleCircuit)],E=!0)},p(B,[j]){const L={};j&4&&(L.data=B[2]?faStop:faPlay),a.$set(L),b&&T.p(B,j);const R={};j&8&&(R.data=B[5][B[3]]||B[5].grid),p.$set(R),(!D||j&8)&&toggle_class(m,"active",B[3]!=="none"),(!D||j&16)&&toggle_class(S,"active",B[4]);const V={};j&65537&&(V.$$scope={dirty:j,ctx:B}),!o&&j&1&&(o=!0,V.dialog=B[0],add_flush_callback(()=>o=!1)),y.$set(V);const k={};j&65538&&(k.$$scope={dirty:j,ctx:B}),!g&&j&2&&(g=!0,k.dialog=B[1],add_flush_callback(()=>g=!1)),x.$set(k)},i(B){D||(transition_in(a.$$.fragment,B),transition_in(T),transition_in(p.$$.fragment,B),transition_in(_.$$.fragment,B),transition_in(y.$$.fragment,B),transition_in(x.$$.fragment,B),D=!0)},o(B){transition_out(a.$$.fragment,B),transition_out(T),transition_out(p.$$.fragment,B),transition_out(_.$$.fragment,B),transition_out(y.$$.fragment,B),transition_out(x.$$.fragment,B),D=!1},d(B){B&&detach(u),destroy_component(a),T&&T.d(),destroy_component(p),destroy_component(_),B&&detach(l),destroy_component(y,B),B&&detach(f),destroy_component(x,B),E=!1,run_all(C)}}}function instance$2(N,u,n){let a,r,b;component_subscribe(N,isPlaying,E=>n(2,a=E)),component_subscribe(N,visualsType,E=>n(3,r=E)),component_subscribe(N,showCircuit,E=>n(4,b=E));const h={grid:faChessBoard,sphere:faGlobe,none:faToggleOff};let m,p;const A=E=>{isApp()||!E.metaKey||!["s","o"].includes(E.key)||(E.preventDefault(),E.key==="s"&&m.showModal(),E.key==="o"&&p.showModal())},S=()=>{isPlaying.set(!a)},_=()=>m.showModal(),l=()=>p.showModal(),y=()=>m.close();function o(E){m=E,n(0,m)}const f=()=>m.close(),x=()=>p.close();function g(E){p=E,n(1,p)}return[m,p,a,r,b,h,A,S,_,l,y,o,f,x,g,()=>p.close()]}class Tools extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$2,create_fragment$2,safe_not_equal,{})}}const Console_svelte_svelte_type_style_lang="";function get_each_context(N,u,n){const a=N.slice();return a[3]=u[n].type,a[4]=u[n].message,a}function get_each_context_1(N,u,n){const a=N.slice();return a[7]=u[n],a}function create_each_block_1(N){let u,n=N[7]+"",a,r;return{c(){u=element("li"),a=text(n),this.h()},l(b){u=claim_element(b,"LI",{class:!0});var h=children(u);a=claim_text(h,n),h.forEach(detach),this.h()},h(){attr(u,"class",r=null_to_empty(N[3])+" svelte-1l5uop1")},m(b,h){insert_hydration(b,u,h),append_hydration(u,a)},p(b,h){h&2&&n!==(n=b[7]+"")&&set_data(a,n),h&2&&r!==(r=null_to_empty(b[3])+" svelte-1l5uop1")&&attr(u,"class",r)},d(b){b&&detach(u)}}}function create_each_block(N){let u,n=N[4].split(`
`),a=[];for(let r=0;r<n.length;r+=1)a[r]=create_each_block_1(get_each_context_1(N,n,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();u=empty()},l(r){for(let b=0;b<a.length;b+=1)a[b].l(r);u=empty()},m(r,b){for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(r,b);insert_hydration(r,u,b)},p(r,b){if(b&2){n=r[4].split(`
`);let h;for(h=0;h<n.length;h+=1){const m=get_each_context_1(r,n,h);a[h]?a[h].p(m,b):(a[h]=create_each_block_1(m),a[h].c(),a[h].m(u.parentNode,u))}for(;h<a.length;h+=1)a[h].d(1);a.length=n.length}},d(r){destroy_each(a,r),r&&detach(u)}}}function create_fragment$1(N){let u,n,a=N[1],r=[];for(let b=0;b<a.length;b+=1)r[b]=create_each_block(get_each_context(N,a,b));return{c(){u=element("div"),n=element("ul");for(let b=0;b<r.length;b+=1)r[b].c();this.h()},l(b){u=claim_element(b,"DIV",{class:!0});var h=children(u);n=claim_element(h,"UL",{class:!0});var m=children(n);for(let p=0;p<r.length;p+=1)r[p].l(m);m.forEach(detach),h.forEach(detach),this.h()},h(){attr(n,"class","svelte-1l5uop1"),attr(u,"class","console svelte-1l5uop1")},m(b,h){insert_hydration(b,u,h),append_hydration(u,n);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(n,null);N[2](n)},p(b,[h]){if(h&2){a=b[1];let m;for(m=0;m<a.length;m+=1){const p=get_each_context(b,a,m);r[m]?r[m].p(p,h):(r[m]=create_each_block(p),r[m].c(),r[m].m(n,null))}for(;m<r.length;m+=1)r[m].d(1);r.length=a.length}},i:noop,o:noop,d(b){b&&detach(u),destroy_each(r,b),N[2](null)}}}function instance$1(N,u,n){let a;component_subscribe(N,messages,h=>n(1,a=h));let r;onMount(()=>{messages.subscribe(()=>{r&&Promise.resolve().then(()=>{n(0,r.scrollTop=r.scrollHeight,r)})})});function b(h){binding_callbacks[h?"unshift":"push"](()=>{r=h,n(0,r)})}return[r,a,b]}class Console extends SvelteComponent{constructor(u){super(),init$1(this,u,instance$1,create_fragment$1,safe_not_equal,{})}}const _page_svelte_svelte_type_style_lang="";function create_if_block_1(N){let u,n,a;return n=new Circuit({}),{c(){u=element("div"),create_component(n.$$.fragment),this.h()},l(r){u=claim_element(r,"DIV",{class:!0});var b=children(u);claim_component(n.$$.fragment,b),b.forEach(detach),this.h()},h(){attr(u,"class","circuit svelte-tsli7s"),toggle_class(u,"circuit--fullHeight",!N[1])},m(r,b){insert_hydration(r,u,b),mount_component(n,u,null),a=!0},p(r,b){(!a||b&2)&&toggle_class(u,"circuit--fullHeight",!r[1])},i(r){a||(transition_in(n.$$.fragment,r),a=!0)},o(r){transition_out(n.$$.fragment,r),a=!1},d(r){r&&detach(u),destroy_component(n)}}}function create_if_block(N){let u,n,a;return n=new Visuals({}),{c(){u=element("div"),create_component(n.$$.fragment),this.h()},l(r){u=claim_element(r,"DIV",{class:!0});var b=children(u);claim_component(n.$$.fragment,b),b.forEach(detach),this.h()},h(){attr(u,"class","visuals svelte-tsli7s"),toggle_class(u,"visuals--withCircuit",N[0])},m(r,b){insert_hydration(r,u,b),mount_component(n,u,null),a=!0},p(r,b){(!a||b&1)&&toggle_class(u,"visuals--withCircuit",r[0])},i(r){a||(transition_in(n.$$.fragment,r),a=!0)},o(r){transition_out(n.$$.fragment,r),a=!1},d(r){r&&detach(u),destroy_component(n)}}}function create_fragment(N){let u,n,a,r,b,h,m,p,A,S,_,l,y,o,f,x,g,D,E;b=new Editor({}),p=new Console({}),_=new Tools({});let C=N[0]&&create_if_block_1(N),T=N[1]&&create_if_block(N);return x=new Data({}),{c(){u=element("meta"),n=space(),a=element("section"),r=element("div"),create_component(b.$$.fragment),h=space(),m=element("div"),create_component(p.$$.fragment),A=space(),S=element("div"),create_component(_.$$.fragment),l=space(),C&&C.c(),y=space(),T&&T.c(),o=space(),f=element("div"),create_component(x.$$.fragment),this.h()},l(O){const I=head_selector("svelte-k5c2ig",document.head);u=claim_element(I,"META",{name:!0,content:!0}),I.forEach(detach),n=claim_space(O),a=claim_element(O,"SECTION",{class:!0});var M=children(a);r=claim_element(M,"DIV",{class:!0});var F=children(r);claim_component(b.$$.fragment,F),F.forEach(detach),h=claim_space(M),m=claim_element(M,"DIV",{class:!0});var B=children(m);claim_component(p.$$.fragment,B),B.forEach(detach),A=claim_space(M),S=claim_element(M,"DIV",{class:!0});var j=children(S);claim_component(_.$$.fragment,j),j.forEach(detach),l=claim_space(M),C&&C.l(M),y=claim_space(M),T&&T.l(M),o=claim_space(M),f=claim_element(M,"DIV",{class:!0});var L=children(f);claim_component(x.$$.fragment,L),L.forEach(detach),M.forEach(detach),this.h()},h(){document.title="Zen",attr(u,"name","description"),attr(u,"content","A musical live coding language that runs in your browser"),attr(r,"class","editor svelte-tsli7s"),toggle_class(r,"editor--large",!N[0]&&!N[1]),attr(m,"class","console svelte-tsli7s"),toggle_class(m,"console--large",!N[0]&&!N[1]),attr(S,"class","tools svelte-tsli7s"),attr(f,"class","data svelte-tsli7s"),attr(a,"class","zen svelte-tsli7s")},m(O,I){append_hydration(document.head,u),insert_hydration(O,n,I),insert_hydration(O,a,I),append_hydration(a,r),mount_component(b,r,null),append_hydration(a,h),append_hydration(a,m),mount_component(p,m,null),append_hydration(a,A),append_hydration(a,S),mount_component(_,S,null),append_hydration(a,l),C&&C.m(a,null),append_hydration(a,y),T&&T.m(a,null),append_hydration(a,o),append_hydration(a,f),mount_component(x,f,null),g=!0,D||(E=[listen(window,"click",startAudio),listen(window,"touchstart",startAudio),listen(window,"keydown",startAudio)],D=!0)},p(O,[I]){(!g||I&3)&&toggle_class(r,"editor--large",!O[0]&&!O[1]),(!g||I&3)&&toggle_class(m,"console--large",!O[0]&&!O[1]),O[0]?C?(C.p(O,I),I&1&&transition_in(C,1)):(C=create_if_block_1(O),C.c(),transition_in(C,1),C.m(a,y)):C&&(group_outros(),transition_out(C,1,1,()=>{C=null}),check_outros()),O[1]?T?(T.p(O,I),I&2&&transition_in(T,1)):(T=create_if_block(O),T.c(),transition_in(T,1),T.m(a,o)):T&&(group_outros(),transition_out(T,1,1,()=>{T=null}),check_outros())},i(O){g||(transition_in(b.$$.fragment,O),transition_in(p.$$.fragment,O),transition_in(_.$$.fragment,O),transition_in(C),transition_in(T),transition_in(x.$$.fragment,O),g=!0)},o(O){transition_out(b.$$.fragment,O),transition_out(p.$$.fragment,O),transition_out(_.$$.fragment,O),transition_out(C),transition_out(T),transition_out(x.$$.fragment,O),g=!1},d(O){detach(u),O&&detach(n),O&&detach(a),destroy_component(b),destroy_component(p),destroy_component(_),C&&C.d(),T&&T.d(),destroy_component(x),D=!1,run_all(E)}}}function instance(N,u,n){let a,r;return component_subscribe(N,showCircuit,b=>n(0,a=b)),component_subscribe(N,showVisuals,b=>n(1,r=b)),onMount(()=>{isApp()&&initElectronAPI()}),[a,r]}class Page extends SvelteComponent{constructor(u){super(),init$1(this,u,instance,create_fragment,safe_not_equal,{})}}export{Page as component,_page as universal};
